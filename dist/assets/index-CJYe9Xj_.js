var Mse=Object.defineProperty;var nR=t=>{throw TypeError(t)};var Qse=(t,e,r)=>e in t?Mse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var dp=(t,e,r)=>Qse(t,typeof e!="symbol"?e+"":e,r),KB=(t,e,r)=>e.has(t)||nR("Cannot "+r);var Y=(t,e,r)=>(KB(t,e,"read from private field"),r?r.call(t):e.get(t)),pt=(t,e,r)=>e.has(t)?nR("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Xe=(t,e,r,n)=>(KB(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Rt=(t,e,r)=>(KB(t,e,"access private method"),r);var o0=(t,e,r,n)=>({set _(s){Xe(t,e,s,r)},get _(){return Y(t,e,n)}});function Lse(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var ms=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $se(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var AV={exports:{}},r_={},dV={exports:{}},kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy=Symbol.for("react.element"),Hse=Symbol.for("react.portal"),Vse=Symbol.for("react.fragment"),Kse=Symbol.for("react.strict_mode"),zse=Symbol.for("react.profiler"),Gse=Symbol.for("react.provider"),Wse=Symbol.for("react.context"),qse=Symbol.for("react.forward_ref"),Xse=Symbol.for("react.suspense"),Jse=Symbol.for("react.memo"),Yse=Symbol.for("react.lazy"),sR=Symbol.iterator;function Zse(t){return t===null||typeof t!="object"?null:(t=sR&&t[sR]||t["@@iterator"],typeof t=="function"?t:null)}var hV={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fV=Object.assign,mV={};function pm(t,e,r){this.props=t,this.context=e,this.refs=mV,this.updater=r||hV}pm.prototype.isReactComponent={};pm.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pm.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pV(){}pV.prototype=pm.prototype;function VI(t,e,r){this.props=t,this.context=e,this.refs=mV,this.updater=r||hV}var KI=VI.prototype=new pV;KI.constructor=VI;fV(KI,pm.prototype);KI.isPureReactComponent=!0;var aR=Array.isArray,gV=Object.prototype.hasOwnProperty,zI={current:null},vV={key:!0,ref:!0,__self:!0,__source:!0};function yV(t,e,r){var n,s={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)gV.call(e,n)&&!vV.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:qy,type:t,key:a,ref:o,props:s,_owner:zI.current}}function eae(t,e){return{$$typeof:qy,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function GI(t){return typeof t=="object"&&t!==null&&t.$$typeof===qy}function tae(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var iR=/\/+/g;function zB(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tae(""+t.key):e.toString(36)}function Pw(t,e,r,n,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case qy:case Hse:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+zB(o,0):n,aR(s)?(r="",t!=null&&(r=t.replace(iR,"$&/")+"/"),Pw(s,e,r,"",function(u){return u})):s!=null&&(GI(s)&&(s=eae(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(iR,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",aR(t))for(var l=0;l<t.length;l++){a=t[l];var c=n+zB(a,l);o+=Pw(a,e,r,c,s)}else if(c=Zse(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=n+zB(a,l++),o+=Pw(a,e,r,c,s);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function l0(t,e,r){if(t==null)return t;var n=[],s=0;return Pw(t,n,"","",function(a){return e.call(r,a,s++)}),n}function rae(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Rs={current:null},Ow={transition:null},nae={ReactCurrentDispatcher:Rs,ReactCurrentBatchConfig:Ow,ReactCurrentOwner:zI};function xV(){throw Error("act(...) is not supported in production builds of React.")}kt.Children={map:l0,forEach:function(t,e,r){l0(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return l0(t,function(){e++}),e},toArray:function(t){return l0(t,function(e){return e})||[]},only:function(t){if(!GI(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};kt.Component=pm;kt.Fragment=Vse;kt.Profiler=zse;kt.PureComponent=VI;kt.StrictMode=Kse;kt.Suspense=Xse;kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nae;kt.act=xV;kt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=fV({},t.props),s=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=zI.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)gV.call(e,c)&&!vV.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:qy,type:t.type,key:s,ref:a,props:n,_owner:o}};kt.createContext=function(t){return t={$$typeof:Wse,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Gse,_context:t},t.Consumer=t};kt.createElement=yV;kt.createFactory=function(t){var e=yV.bind(null,t);return e.type=t,e};kt.createRef=function(){return{current:null}};kt.forwardRef=function(t){return{$$typeof:qse,render:t}};kt.isValidElement=GI;kt.lazy=function(t){return{$$typeof:Yse,_payload:{_status:-1,_result:t},_init:rae}};kt.memo=function(t,e){return{$$typeof:Jse,type:t,compare:e===void 0?null:e}};kt.startTransition=function(t){var e=Ow.transition;Ow.transition={};try{t()}finally{Ow.transition=e}};kt.unstable_act=xV;kt.useCallback=function(t,e){return Rs.current.useCallback(t,e)};kt.useContext=function(t){return Rs.current.useContext(t)};kt.useDebugValue=function(){};kt.useDeferredValue=function(t){return Rs.current.useDeferredValue(t)};kt.useEffect=function(t,e){return Rs.current.useEffect(t,e)};kt.useId=function(){return Rs.current.useId()};kt.useImperativeHandle=function(t,e,r){return Rs.current.useImperativeHandle(t,e,r)};kt.useInsertionEffect=function(t,e){return Rs.current.useInsertionEffect(t,e)};kt.useLayoutEffect=function(t,e){return Rs.current.useLayoutEffect(t,e)};kt.useMemo=function(t,e){return Rs.current.useMemo(t,e)};kt.useReducer=function(t,e,r){return Rs.current.useReducer(t,e,r)};kt.useRef=function(t){return Rs.current.useRef(t)};kt.useState=function(t){return Rs.current.useState(t)};kt.useSyncExternalStore=function(t,e,r){return Rs.current.useSyncExternalStore(t,e,r)};kt.useTransition=function(){return Rs.current.useTransition()};kt.version="18.3.1";dV.exports=kt;var v=dV.exports;const $=Jt(v),wV=Lse({__proto__:null,default:$},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sae=v,aae=Symbol.for("react.element"),iae=Symbol.for("react.fragment"),oae=Object.prototype.hasOwnProperty,lae=sae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cae={key:!0,ref:!0,__self:!0,__source:!0};function bV(t,e,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)oae.call(e,n)&&!cae.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:aae,type:t,key:a,ref:o,props:s,_owner:lae.current}}r_.Fragment=iae;r_.jsx=bV;r_.jsxs=bV;AV.exports=r_;var i=AV.exports,jV={exports:{}},ka={},_V={exports:{}},CV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,R){var Q=O.length;O.push(R);e:for(;0<Q;){var G=Q-1>>>1,X=O[G];if(0<s(X,R))O[G]=R,O[Q]=X,Q=G;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var R=O[0],Q=O.pop();if(Q!==R){O[0]=Q;e:for(var G=0,X=O.length,se=X>>>1;G<se;){var Z=2*(G+1)-1,K=O[Z],ne=Z+1,ue=O[ne];if(0>s(K,Q))ne<X&&0>s(ue,K)?(O[G]=ue,O[ne]=Q,G=ne):(O[G]=K,O[Z]=Q,G=Z);else if(ne<X&&0>s(ue,Q))O[G]=ue,O[ne]=Q,G=ne;else break e}}return R}function s(O,R){var Q=O.sortIndex-R.sortIndex;return Q!==0?Q:O.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],A=1,d=null,h=3,f=!1,m=!1,p=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(O){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=O)n(u),R.sortIndex=R.expirationTime,e(c,R);else break;R=r(u)}}function j(O){if(p=!1,b(O),!m)if(r(c)!==null)m=!0,H(C);else{var R=r(u);R!==null&&U(j,R.startTime-O)}}function C(O,R){m=!1,p&&(p=!1,y(B),B=-1),f=!0;var Q=h;try{for(b(R),d=r(c);d!==null&&(!(d.expirationTime>R)||O&&!P());){var G=d.callback;if(typeof G=="function"){d.callback=null,h=d.priorityLevel;var X=G(d.expirationTime<=R);R=t.unstable_now(),typeof X=="function"?d.callback=X:d===r(c)&&n(c),b(R)}else n(c);d=r(c)}if(d!==null)var se=!0;else{var Z=r(u);Z!==null&&U(j,Z.startTime-R),se=!1}return se}finally{d=null,h=Q,f=!1}}var E=!1,_=null,B=-1,S=5,N=-1;function P(){return!(t.unstable_now()-N<S)}function I(){if(_!==null){var O=t.unstable_now();N=O;var R=!0;try{R=_(!0,O)}finally{R?T():(E=!1,_=null)}}else E=!1}var T;if(typeof x=="function")T=function(){x(I)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,M=D.port2;D.port1.onmessage=I,T=function(){M.postMessage(null)}}else T=function(){g(I,0)};function H(O){_=O,E||(E=!0,T())}function U(O,R){B=g(function(){O(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,H(C))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(O){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var Q=h;h=R;try{return O()}finally{h=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,R){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var Q=h;h=O;try{return R()}finally{h=Q}},t.unstable_scheduleCallback=function(O,R,Q){var G=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?G+Q:G):Q=G,O){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Q+X,O={id:A++,callback:R,priorityLevel:O,startTime:Q,expirationTime:X,sortIndex:-1},Q>G?(O.sortIndex=Q,e(u,O),r(c)===null&&O===r(u)&&(p?(y(B),B=-1):p=!0,U(j,Q-G))):(O.sortIndex=X,e(c,O),m||f||(m=!0,H(C))),O},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(O){var R=h;return function(){var Q=h;h=R;try{return O.apply(this,arguments)}finally{h=Q}}}})(CV);_V.exports=CV;var uae=_V.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aae=v,Ea=uae;function Be(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BV=new Set,Zg={};function jd(t,e){pf(t,e),pf(t+"Capture",e)}function pf(t,e){for(Zg[t]=e,t=0;t<e.length;t++)BV.add(e[t])}var wl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hN=Object.prototype.hasOwnProperty,dae=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oR={},lR={};function hae(t){return hN.call(lR,t)?!0:hN.call(oR,t)?!1:dae.test(t)?lR[t]=!0:(oR[t]=!0,!1)}function fae(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mae(t,e,r,n){if(e===null||typeof e>"u"||fae(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Us(t,e,r,n,s,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xn[t]=new Us(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xn[e]=new Us(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xn[t]=new Us(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xn[t]=new Us(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xn[t]=new Us(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xn[t]=new Us(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xn[t]=new Us(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xn[t]=new Us(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xn[t]=new Us(t,5,!1,t.toLowerCase(),null,!1,!1)});var WI=/[\-:]([a-z])/g;function qI(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(WI,qI);Xn[e]=new Us(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(WI,qI);Xn[e]=new Us(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(WI,qI);Xn[e]=new Us(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xn[t]=new Us(t,1,!1,t.toLowerCase(),null,!1,!1)});Xn.xlinkHref=new Us("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xn[t]=new Us(t,1,!1,t.toLowerCase(),null,!0,!0)});function XI(t,e,r,n){var s=Xn.hasOwnProperty(e)?Xn[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mae(e,r,s,n)&&(r=null),n||s===null?hae(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ml=Aae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c0=Symbol.for("react.element"),yh=Symbol.for("react.portal"),xh=Symbol.for("react.fragment"),JI=Symbol.for("react.strict_mode"),fN=Symbol.for("react.profiler"),EV=Symbol.for("react.provider"),SV=Symbol.for("react.context"),YI=Symbol.for("react.forward_ref"),mN=Symbol.for("react.suspense"),pN=Symbol.for("react.suspense_list"),ZI=Symbol.for("react.memo"),dc=Symbol.for("react.lazy"),NV=Symbol.for("react.offscreen"),cR=Symbol.iterator;function hp(t){return t===null||typeof t!="object"?null:(t=cR&&t[cR]||t["@@iterator"],typeof t=="function"?t:null)}var Lr=Object.assign,GB;function Yp(t){if(GB===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);GB=e&&e[1]||""}return`
`+GB+t}var WB=!1;function qB(t,e){if(!t||WB)return"";WB=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{WB=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Yp(t):""}function pae(t){switch(t.tag){case 5:return Yp(t.type);case 16:return Yp("Lazy");case 13:return Yp("Suspense");case 19:return Yp("SuspenseList");case 0:case 2:case 15:return t=qB(t.type,!1),t;case 11:return t=qB(t.type.render,!1),t;case 1:return t=qB(t.type,!0),t;default:return""}}function gN(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xh:return"Fragment";case yh:return"Portal";case fN:return"Profiler";case JI:return"StrictMode";case mN:return"Suspense";case pN:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case SV:return(t.displayName||"Context")+".Consumer";case EV:return(t._context.displayName||"Context")+".Provider";case YI:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ZI:return e=t.displayName||null,e!==null?e:gN(t.type)||"Memo";case dc:e=t._payload,t=t._init;try{return gN(t(e))}catch{}}return null}function gae(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gN(e);case 8:return e===JI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ou(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kV(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vae(t){var e=kV(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function u0(t){t._valueTracker||(t._valueTracker=vae(t))}function TV(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=kV(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function jb(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vN(t,e){var r=e.checked;return Lr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function uR(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ou(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function IV(t,e){e=e.checked,e!=null&&XI(t,"checked",e,!1)}function yN(t,e){IV(t,e);var r=ou(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xN(t,e.type,r):e.hasOwnProperty("defaultValue")&&xN(t,e.type,ou(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function AR(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function xN(t,e,r){(e!=="number"||jb(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Zp=Array.isArray;function Dh(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ou(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function wN(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Be(91));return Lr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dR(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Be(92));if(Zp(r)){if(1<r.length)throw Error(Be(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ou(r)}}function PV(t,e){var r=ou(e.value),n=ou(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function hR(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function OV(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bN(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?OV(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var A0,FV=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(A0=A0||document.createElement("div"),A0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=A0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ev(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var vg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yae=["Webkit","ms","Moz","O"];Object.keys(vg).forEach(function(t){yae.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vg[e]=vg[t]})});function DV(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||vg.hasOwnProperty(t)&&vg[t]?(""+e).trim():e+"px"}function RV(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=DV(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var xae=Lr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jN(t,e){if(e){if(xae[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Be(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Be(62))}}function _N(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var CN=null;function eP(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var BN=null,Rh=null,Uh=null;function fR(t){if(t=Yy(t)){if(typeof BN!="function")throw Error(Be(280));var e=t.stateNode;e&&(e=o_(e),BN(t.stateNode,t.type,e))}}function UV(t){Rh?Uh?Uh.push(t):Uh=[t]:Rh=t}function MV(){if(Rh){var t=Rh,e=Uh;if(Uh=Rh=null,fR(t),e)for(t=0;t<e.length;t++)fR(e[t])}}function QV(t,e){return t(e)}function LV(){}var XB=!1;function $V(t,e,r){if(XB)return t(e,r);XB=!0;try{return QV(t,e,r)}finally{XB=!1,(Rh!==null||Uh!==null)&&(LV(),MV())}}function tv(t,e){var r=t.stateNode;if(r===null)return null;var n=o_(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Be(231,e,typeof r));return r}var EN=!1;if(wl)try{var fp={};Object.defineProperty(fp,"passive",{get:function(){EN=!0}}),window.addEventListener("test",fp,fp),window.removeEventListener("test",fp,fp)}catch{EN=!1}function wae(t,e,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(A){this.onError(A)}}var yg=!1,_b=null,Cb=!1,SN=null,bae={onError:function(t){yg=!0,_b=t}};function jae(t,e,r,n,s,a,o,l,c){yg=!1,_b=null,wae.apply(bae,arguments)}function _ae(t,e,r,n,s,a,o,l,c){if(jae.apply(this,arguments),yg){if(yg){var u=_b;yg=!1,_b=null}else throw Error(Be(198));Cb||(Cb=!0,SN=u)}}function _d(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function HV(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mR(t){if(_d(t)!==t)throw Error(Be(188))}function Cae(t){var e=t.alternate;if(!e){if(e=_d(t),e===null)throw Error(Be(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return mR(s),t;if(a===n)return mR(s),e;a=a.sibling}throw Error(Be(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(Be(189))}}if(r.alternate!==n)throw Error(Be(190))}if(r.tag!==3)throw Error(Be(188));return r.stateNode.current===r?t:e}function VV(t){return t=Cae(t),t!==null?KV(t):null}function KV(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=KV(t);if(e!==null)return e;t=t.sibling}return null}var zV=Ea.unstable_scheduleCallback,pR=Ea.unstable_cancelCallback,Bae=Ea.unstable_shouldYield,Eae=Ea.unstable_requestPaint,Yr=Ea.unstable_now,Sae=Ea.unstable_getCurrentPriorityLevel,tP=Ea.unstable_ImmediatePriority,GV=Ea.unstable_UserBlockingPriority,Bb=Ea.unstable_NormalPriority,Nae=Ea.unstable_LowPriority,WV=Ea.unstable_IdlePriority,n_=null,wo=null;function kae(t){if(wo&&typeof wo.onCommitFiberRoot=="function")try{wo.onCommitFiberRoot(n_,t,void 0,(t.current.flags&128)===128)}catch{}}var Pi=Math.clz32?Math.clz32:Pae,Tae=Math.log,Iae=Math.LN2;function Pae(t){return t>>>=0,t===0?32:31-(Tae(t)/Iae|0)|0}var d0=64,h0=4194304;function eg(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Eb(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=eg(l):(a&=o,a!==0&&(n=eg(a)))}else o=r&~s,o!==0?n=eg(o):a!==0&&(n=eg(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,a=e&-e,s>=a||s===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Pi(e),s=1<<r,n|=t[r],e&=~s;return n}function Oae(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fae(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Pi(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=Oae(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function NN(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function qV(){var t=d0;return d0<<=1,!(d0&4194240)&&(d0=64),t}function JB(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Xy(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pi(e),t[e]=r}function Dae(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Pi(r),a=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~a}}function rP(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Pi(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var ar=0;function XV(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var JV,nP,YV,ZV,e8,kN=!1,f0=[],Lc=null,$c=null,Hc=null,rv=new Map,nv=new Map,gc=[],Rae="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gR(t,e){switch(t){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":$c=null;break;case"mouseover":case"mouseout":Hc=null;break;case"pointerover":case"pointerout":rv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nv.delete(e.pointerId)}}function mp(t,e,r,n,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},e!==null&&(e=Yy(e),e!==null&&nP(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Uae(t,e,r,n,s){switch(e){case"focusin":return Lc=mp(Lc,t,e,r,n,s),!0;case"dragenter":return $c=mp($c,t,e,r,n,s),!0;case"mouseover":return Hc=mp(Hc,t,e,r,n,s),!0;case"pointerover":var a=s.pointerId;return rv.set(a,mp(rv.get(a)||null,t,e,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,nv.set(a,mp(nv.get(a)||null,t,e,r,n,s)),!0}return!1}function t8(t){var e=xA(t.target);if(e!==null){var r=_d(e);if(r!==null){if(e=r.tag,e===13){if(e=HV(r),e!==null){t.blockedOn=e,e8(t.priority,function(){YV(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fw(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=TN(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);CN=n,r.target.dispatchEvent(n),CN=null}else return e=Yy(r),e!==null&&nP(e),t.blockedOn=r,!1;e.shift()}return!0}function vR(t,e,r){Fw(t)&&r.delete(e)}function Mae(){kN=!1,Lc!==null&&Fw(Lc)&&(Lc=null),$c!==null&&Fw($c)&&($c=null),Hc!==null&&Fw(Hc)&&(Hc=null),rv.forEach(vR),nv.forEach(vR)}function pp(t,e){t.blockedOn===e&&(t.blockedOn=null,kN||(kN=!0,Ea.unstable_scheduleCallback(Ea.unstable_NormalPriority,Mae)))}function sv(t){function e(s){return pp(s,t)}if(0<f0.length){pp(f0[0],t);for(var r=1;r<f0.length;r++){var n=f0[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Lc!==null&&pp(Lc,t),$c!==null&&pp($c,t),Hc!==null&&pp(Hc,t),rv.forEach(e),nv.forEach(e),r=0;r<gc.length;r++)n=gc[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<gc.length&&(r=gc[0],r.blockedOn===null);)t8(r),r.blockedOn===null&&gc.shift()}var Mh=Ml.ReactCurrentBatchConfig,Sb=!0;function Qae(t,e,r,n){var s=ar,a=Mh.transition;Mh.transition=null;try{ar=1,sP(t,e,r,n)}finally{ar=s,Mh.transition=a}}function Lae(t,e,r,n){var s=ar,a=Mh.transition;Mh.transition=null;try{ar=4,sP(t,e,r,n)}finally{ar=s,Mh.transition=a}}function sP(t,e,r,n){if(Sb){var s=TN(t,e,r,n);if(s===null)oE(t,e,n,Nb,r),gR(t,n);else if(Uae(s,t,e,r,n))n.stopPropagation();else if(gR(t,n),e&4&&-1<Rae.indexOf(t)){for(;s!==null;){var a=Yy(s);if(a!==null&&JV(a),a=TN(t,e,r,n),a===null&&oE(t,e,n,Nb,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else oE(t,e,n,null,r)}}var Nb=null;function TN(t,e,r,n){if(Nb=null,t=eP(n),t=xA(t),t!==null)if(e=_d(t),e===null)t=null;else if(r=e.tag,r===13){if(t=HV(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nb=t,null}function r8(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sae()){case tP:return 1;case GV:return 4;case Bb:case Nae:return 16;case WV:return 536870912;default:return 16}default:return 16}}var Ic=null,aP=null,Dw=null;function n8(){if(Dw)return Dw;var t,e=aP,r=e.length,n,s="value"in Ic?Ic.value:Ic.textContent,a=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[a-n];n++);return Dw=s.slice(t,1<n?1-n:void 0)}function Rw(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function m0(){return!0}function yR(){return!1}function Ta(t){function e(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?m0:yR,this.isPropagationStopped=yR,this}return Lr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=m0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=m0)},persist:function(){},isPersistent:m0}),e}var gm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iP=Ta(gm),Jy=Lr({},gm,{view:0,detail:0}),$ae=Ta(Jy),YB,ZB,gp,s_=Lr({},Jy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oP,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gp&&(gp&&t.type==="mousemove"?(YB=t.screenX-gp.screenX,ZB=t.screenY-gp.screenY):ZB=YB=0,gp=t),YB)},movementY:function(t){return"movementY"in t?t.movementY:ZB}}),xR=Ta(s_),Hae=Lr({},s_,{dataTransfer:0}),Vae=Ta(Hae),Kae=Lr({},Jy,{relatedTarget:0}),eE=Ta(Kae),zae=Lr({},gm,{animationName:0,elapsedTime:0,pseudoElement:0}),Gae=Ta(zae),Wae=Lr({},gm,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qae=Ta(Wae),Xae=Lr({},gm,{data:0}),wR=Ta(Xae),Jae={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yae={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zae={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eie(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Zae[t])?!!e[t]:!1}function oP(){return eie}var tie=Lr({},Jy,{key:function(t){if(t.key){var e=Jae[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rw(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yae[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oP,charCode:function(t){return t.type==="keypress"?Rw(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rw(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rie=Ta(tie),nie=Lr({},s_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bR=Ta(nie),sie=Lr({},Jy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oP}),aie=Ta(sie),iie=Lr({},gm,{propertyName:0,elapsedTime:0,pseudoElement:0}),oie=Ta(iie),lie=Lr({},s_,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cie=Ta(lie),uie=[9,13,27,32],lP=wl&&"CompositionEvent"in window,xg=null;wl&&"documentMode"in document&&(xg=document.documentMode);var Aie=wl&&"TextEvent"in window&&!xg,s8=wl&&(!lP||xg&&8<xg&&11>=xg),jR=" ",_R=!1;function a8(t,e){switch(t){case"keyup":return uie.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function i8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wh=!1;function die(t,e){switch(t){case"compositionend":return i8(e);case"keypress":return e.which!==32?null:(_R=!0,jR);case"textInput":return t=e.data,t===jR&&_R?null:t;default:return null}}function hie(t,e){if(wh)return t==="compositionend"||!lP&&a8(t,e)?(t=n8(),Dw=aP=Ic=null,wh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return s8&&e.locale!=="ko"?null:e.data;default:return null}}var fie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fie[t.type]:e==="textarea"}function o8(t,e,r,n){UV(n),e=kb(e,"onChange"),0<e.length&&(r=new iP("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var wg=null,av=null;function mie(t){v8(t,0)}function a_(t){var e=_h(t);if(TV(e))return t}function pie(t,e){if(t==="change")return e}var l8=!1;if(wl){var tE;if(wl){var rE="oninput"in document;if(!rE){var BR=document.createElement("div");BR.setAttribute("oninput","return;"),rE=typeof BR.oninput=="function"}tE=rE}else tE=!1;l8=tE&&(!document.documentMode||9<document.documentMode)}function ER(){wg&&(wg.detachEvent("onpropertychange",c8),av=wg=null)}function c8(t){if(t.propertyName==="value"&&a_(av)){var e=[];o8(e,av,t,eP(t)),$V(mie,e)}}function gie(t,e,r){t==="focusin"?(ER(),wg=e,av=r,wg.attachEvent("onpropertychange",c8)):t==="focusout"&&ER()}function vie(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return a_(av)}function yie(t,e){if(t==="click")return a_(e)}function xie(t,e){if(t==="input"||t==="change")return a_(e)}function wie(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mi=typeof Object.is=="function"?Object.is:wie;function iv(t,e){if(Mi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!hN.call(e,s)||!Mi(t[s],e[s]))return!1}return!0}function SR(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function NR(t,e){var r=SR(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=SR(r)}}function u8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?u8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function A8(){for(var t=window,e=jb();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=jb(t.document)}return e}function cP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function bie(t){var e=A8(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&u8(r.ownerDocument.documentElement,r)){if(n!==null&&cP(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!t.extend&&a>n&&(s=n,n=a,a=s),s=NR(r,a);var o=NR(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jie=wl&&"documentMode"in document&&11>=document.documentMode,bh=null,IN=null,bg=null,PN=!1;function kR(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;PN||bh==null||bh!==jb(n)||(n=bh,"selectionStart"in n&&cP(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),bg&&iv(bg,n)||(bg=n,n=kb(IN,"onSelect"),0<n.length&&(e=new iP("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=bh)))}function p0(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var jh={animationend:p0("Animation","AnimationEnd"),animationiteration:p0("Animation","AnimationIteration"),animationstart:p0("Animation","AnimationStart"),transitionend:p0("Transition","TransitionEnd")},nE={},d8={};wl&&(d8=document.createElement("div").style,"AnimationEvent"in window||(delete jh.animationend.animation,delete jh.animationiteration.animation,delete jh.animationstart.animation),"TransitionEvent"in window||delete jh.transitionend.transition);function i_(t){if(nE[t])return nE[t];if(!jh[t])return t;var e=jh[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in d8)return nE[t]=e[r];return t}var h8=i_("animationend"),f8=i_("animationiteration"),m8=i_("animationstart"),p8=i_("transitionend"),g8=new Map,TR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Eu(t,e){g8.set(t,e),jd(e,[t])}for(var sE=0;sE<TR.length;sE++){var aE=TR[sE],_ie=aE.toLowerCase(),Cie=aE[0].toUpperCase()+aE.slice(1);Eu(_ie,"on"+Cie)}Eu(h8,"onAnimationEnd");Eu(f8,"onAnimationIteration");Eu(m8,"onAnimationStart");Eu("dblclick","onDoubleClick");Eu("focusin","onFocus");Eu("focusout","onBlur");Eu(p8,"onTransitionEnd");pf("onMouseEnter",["mouseout","mouseover"]);pf("onMouseLeave",["mouseout","mouseover"]);pf("onPointerEnter",["pointerout","pointerover"]);pf("onPointerLeave",["pointerout","pointerover"]);jd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jd("onBeforeInput",["compositionend","keypress","textInput","paste"]);jd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bie=new Set("cancel close invalid load scroll toggle".split(" ").concat(tg));function IR(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,_ae(n,e,void 0,t),t.currentTarget=null}function v8(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;IR(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;IR(s,l,u),a=c}}}if(Cb)throw t=SN,Cb=!1,SN=null,t}function Nr(t,e){var r=e[UN];r===void 0&&(r=e[UN]=new Set);var n=t+"__bubble";r.has(n)||(y8(e,t,2,!1),r.add(n))}function iE(t,e,r){var n=0;e&&(n|=4),y8(r,t,n,e)}var g0="_reactListening"+Math.random().toString(36).slice(2);function ov(t){if(!t[g0]){t[g0]=!0,BV.forEach(function(r){r!=="selectionchange"&&(Bie.has(r)||iE(r,!1,t),iE(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[g0]||(e[g0]=!0,iE("selectionchange",!1,e))}}function y8(t,e,r,n){switch(r8(e)){case 1:var s=Qae;break;case 4:s=Lae;break;default:s=sP}r=s.bind(null,e,r,t),s=void 0,!EN||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function oE(t,e,r,n,s){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=xA(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}$V(function(){var u=a,A=eP(r),d=[];e:{var h=g8.get(t);if(h!==void 0){var f=iP,m=t;switch(t){case"keypress":if(Rw(r)===0)break e;case"keydown":case"keyup":f=rie;break;case"focusin":m="focus",f=eE;break;case"focusout":m="blur",f=eE;break;case"beforeblur":case"afterblur":f=eE;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=xR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Vae;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=aie;break;case h8:case f8:case m8:f=Gae;break;case p8:f=oie;break;case"scroll":f=$ae;break;case"wheel":f=cie;break;case"copy":case"cut":case"paste":f=qae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=bR}var p=(e&4)!==0,g=!p&&t==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var x=u,b;x!==null;){b=x;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,y!==null&&(j=tv(x,y),j!=null&&p.push(lv(x,j,b)))),g)break;x=x.return}0<p.length&&(h=new f(h,m,null,r,A),d.push({event:h,listeners:p}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&r!==CN&&(m=r.relatedTarget||r.fromElement)&&(xA(m)||m[bl]))break e;if((f||h)&&(h=A.window===A?A:(h=A.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=r.relatedTarget||r.toElement,f=u,m=m?xA(m):null,m!==null&&(g=_d(m),m!==g||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=u),f!==m)){if(p=xR,j="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(p=bR,j="onPointerLeave",y="onPointerEnter",x="pointer"),g=f==null?h:_h(f),b=m==null?h:_h(m),h=new p(j,x+"leave",f,r,A),h.target=g,h.relatedTarget=b,j=null,xA(A)===u&&(p=new p(y,x+"enter",m,r,A),p.target=b,p.relatedTarget=g,j=p),g=j,f&&m)t:{for(p=f,y=m,x=0,b=p;b;b=Ud(b))x++;for(b=0,j=y;j;j=Ud(j))b++;for(;0<x-b;)p=Ud(p),x--;for(;0<b-x;)y=Ud(y),b--;for(;x--;){if(p===y||y!==null&&p===y.alternate)break t;p=Ud(p),y=Ud(y)}p=null}else p=null;f!==null&&PR(d,h,f,p,!1),m!==null&&g!==null&&PR(d,g,m,p,!0)}}e:{if(h=u?_h(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var C=pie;else if(CR(h))if(l8)C=xie;else{C=vie;var E=gie}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=yie);if(C&&(C=C(t,u))){o8(d,C,r,A);break e}E&&E(t,h,u),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&xN(h,"number",h.value)}switch(E=u?_h(u):window,t){case"focusin":(CR(E)||E.contentEditable==="true")&&(bh=E,IN=u,bg=null);break;case"focusout":bg=IN=bh=null;break;case"mousedown":PN=!0;break;case"contextmenu":case"mouseup":case"dragend":PN=!1,kR(d,r,A);break;case"selectionchange":if(jie)break;case"keydown":case"keyup":kR(d,r,A)}var _;if(lP)e:{switch(t){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else wh?a8(t,r)&&(B="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(B="onCompositionStart");B&&(s8&&r.locale!=="ko"&&(wh||B!=="onCompositionStart"?B==="onCompositionEnd"&&wh&&(_=n8()):(Ic=A,aP="value"in Ic?Ic.value:Ic.textContent,wh=!0)),E=kb(u,B),0<E.length&&(B=new wR(B,t,null,r,A),d.push({event:B,listeners:E}),_?B.data=_:(_=i8(r),_!==null&&(B.data=_)))),(_=Aie?die(t,r):hie(t,r))&&(u=kb(u,"onBeforeInput"),0<u.length&&(A=new wR("onBeforeInput","beforeinput",null,r,A),d.push({event:A,listeners:u}),A.data=_))}v8(d,e)})}function lv(t,e,r){return{instance:t,listener:e,currentTarget:r}}function kb(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=tv(t,r),a!=null&&n.unshift(lv(t,a,s)),a=tv(t,e),a!=null&&n.push(lv(t,a,s))),t=t.return}return n}function Ud(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function PR(t,e,r,n,s){for(var a=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=tv(r,a),c!=null&&o.unshift(lv(r,c,l))):s||(c=tv(r,a),c!=null&&o.push(lv(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Eie=/\r\n?/g,Sie=/\u0000|\uFFFD/g;function OR(t){return(typeof t=="string"?t:""+t).replace(Eie,`
`).replace(Sie,"")}function v0(t,e,r){if(e=OR(e),OR(t)!==e&&r)throw Error(Be(425))}function Tb(){}var ON=null,FN=null;function DN(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var RN=typeof setTimeout=="function"?setTimeout:void 0,Nie=typeof clearTimeout=="function"?clearTimeout:void 0,FR=typeof Promise=="function"?Promise:void 0,kie=typeof queueMicrotask=="function"?queueMicrotask:typeof FR<"u"?function(t){return FR.resolve(null).then(t).catch(Tie)}:RN;function Tie(t){setTimeout(function(){throw t})}function lE(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),sv(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);sv(e)}function Vc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function DR(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var vm=Math.random().toString(36).slice(2),uo="__reactFiber$"+vm,cv="__reactProps$"+vm,bl="__reactContainer$"+vm,UN="__reactEvents$"+vm,Iie="__reactListeners$"+vm,Pie="__reactHandles$"+vm;function xA(t){var e=t[uo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[bl]||r[uo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=DR(t);t!==null;){if(r=t[uo])return r;t=DR(t)}return e}t=r,r=t.parentNode}return null}function Yy(t){return t=t[uo]||t[bl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _h(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Be(33))}function o_(t){return t[cv]||null}var MN=[],Ch=-1;function Su(t){return{current:t}}function Ir(t){0>Ch||(t.current=MN[Ch],MN[Ch]=null,Ch--)}function Br(t,e){Ch++,MN[Ch]=t.current,t.current=e}var lu={},xs=Su(lu),Ys=Su(!1),XA=lu;function gf(t,e){var r=t.type.contextTypes;if(!r)return lu;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Zs(t){return t=t.childContextTypes,t!=null}function Ib(){Ir(Ys),Ir(xs)}function RR(t,e,r){if(xs.current!==lu)throw Error(Be(168));Br(xs,e),Br(Ys,r)}function x8(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(Be(108,gae(t)||"Unknown",s));return Lr({},r,n)}function Pb(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||lu,XA=xs.current,Br(xs,t),Br(Ys,Ys.current),!0}function UR(t,e,r){var n=t.stateNode;if(!n)throw Error(Be(169));r?(t=x8(t,e,XA),n.__reactInternalMemoizedMergedChildContext=t,Ir(Ys),Ir(xs),Br(xs,t)):Ir(Ys),Br(Ys,r)}var sl=null,l_=!1,cE=!1;function w8(t){sl===null?sl=[t]:sl.push(t)}function Oie(t){l_=!0,w8(t)}function Nu(){if(!cE&&sl!==null){cE=!0;var t=0,e=ar;try{var r=sl;for(ar=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}sl=null,l_=!1}catch(s){throw sl!==null&&(sl=sl.slice(t+1)),zV(tP,Nu),s}finally{ar=e,cE=!1}}return null}var Bh=[],Eh=0,Ob=null,Fb=0,$a=[],Ha=0,JA=null,al=1,il="";function tA(t,e){Bh[Eh++]=Fb,Bh[Eh++]=Ob,Ob=t,Fb=e}function b8(t,e,r){$a[Ha++]=al,$a[Ha++]=il,$a[Ha++]=JA,JA=t;var n=al;t=il;var s=32-Pi(n)-1;n&=~(1<<s),r+=1;var a=32-Pi(e)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,al=1<<32-Pi(e)+s|r<<s|n,il=a+t}else al=1<<a|r<<s|n,il=t}function uP(t){t.return!==null&&(tA(t,1),b8(t,1,0))}function AP(t){for(;t===Ob;)Ob=Bh[--Eh],Bh[Eh]=null,Fb=Bh[--Eh],Bh[Eh]=null;for(;t===JA;)JA=$a[--Ha],$a[Ha]=null,il=$a[--Ha],$a[Ha]=null,al=$a[--Ha],$a[Ha]=null}var _a=null,ba=null,Fr=!1,ji=null;function j8(t,e){var r=Ka(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function MR(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_a=t,ba=Vc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_a=t,ba=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=JA!==null?{id:al,overflow:il}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ka(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,_a=t,ba=null,!0):!1;default:return!1}}function QN(t){return(t.mode&1)!==0&&(t.flags&128)===0}function LN(t){if(Fr){var e=ba;if(e){var r=e;if(!MR(t,e)){if(QN(t))throw Error(Be(418));e=Vc(r.nextSibling);var n=_a;e&&MR(t,e)?j8(n,r):(t.flags=t.flags&-4097|2,Fr=!1,_a=t)}}else{if(QN(t))throw Error(Be(418));t.flags=t.flags&-4097|2,Fr=!1,_a=t}}}function QR(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_a=t}function y0(t){if(t!==_a)return!1;if(!Fr)return QR(t),Fr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!DN(t.type,t.memoizedProps)),e&&(e=ba)){if(QN(t))throw _8(),Error(Be(418));for(;e;)j8(t,e),e=Vc(e.nextSibling)}if(QR(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Be(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ba=Vc(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ba=null}}else ba=_a?Vc(t.stateNode.nextSibling):null;return!0}function _8(){for(var t=ba;t;)t=Vc(t.nextSibling)}function vf(){ba=_a=null,Fr=!1}function dP(t){ji===null?ji=[t]:ji.push(t)}var Fie=Ml.ReactCurrentBatchConfig;function vp(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Be(309));var n=r.stateNode}if(!n)throw Error(Be(147,t));var s=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Be(284));if(!r._owner)throw Error(Be(290,t))}return t}function x0(t,e){throw t=Object.prototype.toString.call(e),Error(Be(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function LR(t){var e=t._init;return e(t._payload)}function C8(t){function e(y,x){if(t){var b=y.deletions;b===null?(y.deletions=[x],y.flags|=16):b.push(x)}}function r(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function s(y,x){return y=Wc(y,x),y.index=0,y.sibling=null,y}function a(y,x,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<x?(y.flags|=2,x):b):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,x,b,j){return x===null||x.tag!==6?(x=pE(b,y.mode,j),x.return=y,x):(x=s(x,b),x.return=y,x)}function c(y,x,b,j){var C=b.type;return C===xh?A(y,x,b.props.children,j,b.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===dc&&LR(C)===x.type)?(j=s(x,b.props),j.ref=vp(y,x,b),j.return=y,j):(j=Vw(b.type,b.key,b.props,null,y.mode,j),j.ref=vp(y,x,b),j.return=y,j)}function u(y,x,b,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=gE(b,y.mode,j),x.return=y,x):(x=s(x,b.children||[]),x.return=y,x)}function A(y,x,b,j,C){return x===null||x.tag!==7?(x=QA(b,y.mode,j,C),x.return=y,x):(x=s(x,b),x.return=y,x)}function d(y,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=pE(""+x,y.mode,b),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case c0:return b=Vw(x.type,x.key,x.props,null,y.mode,b),b.ref=vp(y,null,x),b.return=y,b;case yh:return x=gE(x,y.mode,b),x.return=y,x;case dc:var j=x._init;return d(y,j(x._payload),b)}if(Zp(x)||hp(x))return x=QA(x,y.mode,b,null),x.return=y,x;x0(y,x)}return null}function h(y,x,b,j){var C=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:l(y,x,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case c0:return b.key===C?c(y,x,b,j):null;case yh:return b.key===C?u(y,x,b,j):null;case dc:return C=b._init,h(y,x,C(b._payload),j)}if(Zp(b)||hp(b))return C!==null?null:A(y,x,b,j,null);x0(y,b)}return null}function f(y,x,b,j,C){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(b)||null,l(x,y,""+j,C);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case c0:return y=y.get(j.key===null?b:j.key)||null,c(x,y,j,C);case yh:return y=y.get(j.key===null?b:j.key)||null,u(x,y,j,C);case dc:var E=j._init;return f(y,x,b,E(j._payload),C)}if(Zp(j)||hp(j))return y=y.get(b)||null,A(x,y,j,C,null);x0(x,j)}return null}function m(y,x,b,j){for(var C=null,E=null,_=x,B=x=0,S=null;_!==null&&B<b.length;B++){_.index>B?(S=_,_=null):S=_.sibling;var N=h(y,_,b[B],j);if(N===null){_===null&&(_=S);break}t&&_&&N.alternate===null&&e(y,_),x=a(N,x,B),E===null?C=N:E.sibling=N,E=N,_=S}if(B===b.length)return r(y,_),Fr&&tA(y,B),C;if(_===null){for(;B<b.length;B++)_=d(y,b[B],j),_!==null&&(x=a(_,x,B),E===null?C=_:E.sibling=_,E=_);return Fr&&tA(y,B),C}for(_=n(y,_);B<b.length;B++)S=f(_,y,B,b[B],j),S!==null&&(t&&S.alternate!==null&&_.delete(S.key===null?B:S.key),x=a(S,x,B),E===null?C=S:E.sibling=S,E=S);return t&&_.forEach(function(P){return e(y,P)}),Fr&&tA(y,B),C}function p(y,x,b,j){var C=hp(b);if(typeof C!="function")throw Error(Be(150));if(b=C.call(b),b==null)throw Error(Be(151));for(var E=C=null,_=x,B=x=0,S=null,N=b.next();_!==null&&!N.done;B++,N=b.next()){_.index>B?(S=_,_=null):S=_.sibling;var P=h(y,_,N.value,j);if(P===null){_===null&&(_=S);break}t&&_&&P.alternate===null&&e(y,_),x=a(P,x,B),E===null?C=P:E.sibling=P,E=P,_=S}if(N.done)return r(y,_),Fr&&tA(y,B),C;if(_===null){for(;!N.done;B++,N=b.next())N=d(y,N.value,j),N!==null&&(x=a(N,x,B),E===null?C=N:E.sibling=N,E=N);return Fr&&tA(y,B),C}for(_=n(y,_);!N.done;B++,N=b.next())N=f(_,y,B,N.value,j),N!==null&&(t&&N.alternate!==null&&_.delete(N.key===null?B:N.key),x=a(N,x,B),E===null?C=N:E.sibling=N,E=N);return t&&_.forEach(function(I){return e(y,I)}),Fr&&tA(y,B),C}function g(y,x,b,j){if(typeof b=="object"&&b!==null&&b.type===xh&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case c0:e:{for(var C=b.key,E=x;E!==null;){if(E.key===C){if(C=b.type,C===xh){if(E.tag===7){r(y,E.sibling),x=s(E,b.props.children),x.return=y,y=x;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===dc&&LR(C)===E.type){r(y,E.sibling),x=s(E,b.props),x.ref=vp(y,E,b),x.return=y,y=x;break e}r(y,E);break}else e(y,E);E=E.sibling}b.type===xh?(x=QA(b.props.children,y.mode,j,b.key),x.return=y,y=x):(j=Vw(b.type,b.key,b.props,null,y.mode,j),j.ref=vp(y,x,b),j.return=y,y=j)}return o(y);case yh:e:{for(E=b.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(y,x.sibling),x=s(x,b.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else e(y,x);x=x.sibling}x=gE(b,y.mode,j),x.return=y,y=x}return o(y);case dc:return E=b._init,g(y,x,E(b._payload),j)}if(Zp(b))return m(y,x,b,j);if(hp(b))return p(y,x,b,j);x0(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(y,x.sibling),x=s(x,b),x.return=y,y=x):(r(y,x),x=pE(b,y.mode,j),x.return=y,y=x),o(y)):r(y,x)}return g}var yf=C8(!0),B8=C8(!1),Db=Su(null),Rb=null,Sh=null,hP=null;function fP(){hP=Sh=Rb=null}function mP(t){var e=Db.current;Ir(Db),t._currentValue=e}function $N(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Qh(t,e){Rb=t,hP=Sh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Xs=!0),t.firstContext=null)}function ri(t){var e=t._currentValue;if(hP!==t)if(t={context:t,memoizedValue:e,next:null},Sh===null){if(Rb===null)throw Error(Be(308));Sh=t,Rb.dependencies={lanes:0,firstContext:t}}else Sh=Sh.next=t;return e}var wA=null;function pP(t){wA===null?wA=[t]:wA.push(t)}function E8(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,pP(e)):(r.next=s.next,s.next=r),e.interleaved=r,jl(t,n)}function jl(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var hc=!1;function gP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function S8(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Al(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Kc(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Gt&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,jl(t,r)}return s=n.interleaved,s===null?(e.next=e,pP(n)):(e.next=s.next,s.next=e),n.interleaved=e,jl(t,r)}function Uw(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,rP(t,r)}}function $R(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=e:a=a.next=e}else s=a=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ub(t,e,r,n){var s=t.updateQueue;hc=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var A=t.alternate;A!==null&&(A=A.updateQueue,l=A.lastBaseUpdate,l!==o&&(l===null?A.firstBaseUpdate=u:l.next=u,A.lastBaseUpdate=c))}if(a!==null){var d=s.baseState;o=0,A=u=c=null,l=a;do{var h=l.lane,f=l.eventTime;if((n&h)===h){A!==null&&(A=A.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=t,p=l;switch(h=e,f=r,p.tag){case 1:if(m=p.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=Lr({},d,h);break e;case 2:hc=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else f={eventTime:f,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},A===null?(u=A=f,c=d):A=A.next=f,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(A===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=A,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else a===null&&(s.shared.lanes=0);ZA|=o,t.lanes=o,t.memoizedState=d}}function HR(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Be(191,s));s.call(n)}}}var Zy={},bo=Su(Zy),uv=Su(Zy),Av=Su(Zy);function bA(t){if(t===Zy)throw Error(Be(174));return t}function vP(t,e){switch(Br(Av,e),Br(uv,t),Br(bo,Zy),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bN(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bN(e,t)}Ir(bo),Br(bo,e)}function xf(){Ir(bo),Ir(uv),Ir(Av)}function N8(t){bA(Av.current);var e=bA(bo.current),r=bN(e,t.type);e!==r&&(Br(uv,t),Br(bo,r))}function yP(t){uv.current===t&&(Ir(bo),Ir(uv))}var Ur=Su(0);function Mb(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var uE=[];function xP(){for(var t=0;t<uE.length;t++)uE[t]._workInProgressVersionPrimary=null;uE.length=0}var Mw=Ml.ReactCurrentDispatcher,AE=Ml.ReactCurrentBatchConfig,YA=0,Qr=null,An=null,_n=null,Qb=!1,jg=!1,dv=0,Die=0;function ts(){throw Error(Be(321))}function wP(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Mi(t[r],e[r]))return!1;return!0}function bP(t,e,r,n,s,a){if(YA=a,Qr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Mw.current=t===null||t.memoizedState===null?Qie:Lie,t=r(n,s),jg){a=0;do{if(jg=!1,dv=0,25<=a)throw Error(Be(301));a+=1,_n=An=null,e.updateQueue=null,Mw.current=$ie,t=r(n,s)}while(jg)}if(Mw.current=Lb,e=An!==null&&An.next!==null,YA=0,_n=An=Qr=null,Qb=!1,e)throw Error(Be(300));return t}function jP(){var t=dv!==0;return dv=0,t}function so(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?Qr.memoizedState=_n=t:_n=_n.next=t,_n}function ni(){if(An===null){var t=Qr.alternate;t=t!==null?t.memoizedState:null}else t=An.next;var e=_n===null?Qr.memoizedState:_n.next;if(e!==null)_n=e,An=t;else{if(t===null)throw Error(Be(310));An=t,t={memoizedState:An.memoizedState,baseState:An.baseState,baseQueue:An.baseQueue,queue:An.queue,next:null},_n===null?Qr.memoizedState=_n=t:_n=_n.next=t}return _n}function hv(t,e){return typeof e=="function"?e(t):e}function dE(t){var e=ni(),r=e.queue;if(r===null)throw Error(Be(311));r.lastRenderedReducer=t;var n=An,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var A=u.lane;if((YA&A)===A)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:A,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,o=n):c=c.next=d,Qr.lanes|=A,ZA|=A}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,Mi(n,e.memoizedState)||(Xs=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do a=s.lane,Qr.lanes|=a,ZA|=a,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function hE(t){var e=ni(),r=e.queue;if(r===null)throw Error(Be(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,a=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=t(a,o.action),o=o.next;while(o!==s);Mi(a,e.memoizedState)||(Xs=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function k8(){}function T8(t,e){var r=Qr,n=ni(),s=e(),a=!Mi(n.memoizedState,s);if(a&&(n.memoizedState=s,Xs=!0),n=n.queue,_P(O8.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||_n!==null&&_n.memoizedState.tag&1){if(r.flags|=2048,fv(9,P8.bind(null,r,n,s,e),void 0,null),En===null)throw Error(Be(349));YA&30||I8(r,e,s)}return s}function I8(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Qr.updateQueue,e===null?(e={lastEffect:null,stores:null},Qr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function P8(t,e,r,n){e.value=r,e.getSnapshot=n,F8(e)&&D8(t)}function O8(t,e,r){return r(function(){F8(e)&&D8(t)})}function F8(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Mi(t,r)}catch{return!0}}function D8(t){var e=jl(t,1);e!==null&&Oi(e,t,1,-1)}function VR(t){var e=so();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hv,lastRenderedState:t},e.queue=t,t=t.dispatch=Mie.bind(null,Qr,t),[e.memoizedState,t]}function fv(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Qr.updateQueue,e===null?(e={lastEffect:null,stores:null},Qr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function R8(){return ni().memoizedState}function Qw(t,e,r,n){var s=so();Qr.flags|=t,s.memoizedState=fv(1|e,r,void 0,n===void 0?null:n)}function c_(t,e,r,n){var s=ni();n=n===void 0?null:n;var a=void 0;if(An!==null){var o=An.memoizedState;if(a=o.destroy,n!==null&&wP(n,o.deps)){s.memoizedState=fv(e,r,a,n);return}}Qr.flags|=t,s.memoizedState=fv(1|e,r,a,n)}function KR(t,e){return Qw(8390656,8,t,e)}function _P(t,e){return c_(2048,8,t,e)}function U8(t,e){return c_(4,2,t,e)}function M8(t,e){return c_(4,4,t,e)}function Q8(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function L8(t,e,r){return r=r!=null?r.concat([t]):null,c_(4,4,Q8.bind(null,e,t),r)}function CP(){}function $8(t,e){var r=ni();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&wP(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function H8(t,e){var r=ni();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&wP(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function V8(t,e,r){return YA&21?(Mi(r,e)||(r=qV(),Qr.lanes|=r,ZA|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Xs=!0),t.memoizedState=r)}function Rie(t,e){var r=ar;ar=r!==0&&4>r?r:4,t(!0);var n=AE.transition;AE.transition={};try{t(!1),e()}finally{ar=r,AE.transition=n}}function K8(){return ni().memoizedState}function Uie(t,e,r){var n=Gc(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},z8(t))G8(e,r);else if(r=E8(t,e,r,n),r!==null){var s=Ts();Oi(r,t,n,s),W8(r,e,n)}}function Mie(t,e,r){var n=Gc(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(z8(t))G8(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,Mi(l,o)){var c=e.interleaved;c===null?(s.next=s,pP(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=E8(t,e,s,n),r!==null&&(s=Ts(),Oi(r,t,n,s),W8(r,e,n))}}function z8(t){var e=t.alternate;return t===Qr||e!==null&&e===Qr}function G8(t,e){jg=Qb=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function W8(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,rP(t,r)}}var Lb={readContext:ri,useCallback:ts,useContext:ts,useEffect:ts,useImperativeHandle:ts,useInsertionEffect:ts,useLayoutEffect:ts,useMemo:ts,useReducer:ts,useRef:ts,useState:ts,useDebugValue:ts,useDeferredValue:ts,useTransition:ts,useMutableSource:ts,useSyncExternalStore:ts,useId:ts,unstable_isNewReconciler:!1},Qie={readContext:ri,useCallback:function(t,e){return so().memoizedState=[t,e===void 0?null:e],t},useContext:ri,useEffect:KR,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Qw(4194308,4,Q8.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Qw(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qw(4,2,t,e)},useMemo:function(t,e){var r=so();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=so();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Uie.bind(null,Qr,t),[n.memoizedState,t]},useRef:function(t){var e=so();return t={current:t},e.memoizedState=t},useState:VR,useDebugValue:CP,useDeferredValue:function(t){return so().memoizedState=t},useTransition:function(){var t=VR(!1),e=t[0];return t=Rie.bind(null,t[1]),so().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Qr,s=so();if(Fr){if(r===void 0)throw Error(Be(407));r=r()}else{if(r=e(),En===null)throw Error(Be(349));YA&30||I8(n,e,r)}s.memoizedState=r;var a={value:r,getSnapshot:e};return s.queue=a,KR(O8.bind(null,n,a,t),[t]),n.flags|=2048,fv(9,P8.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=so(),e=En.identifierPrefix;if(Fr){var r=il,n=al;r=(n&~(1<<32-Pi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=dv++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Die++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Lie={readContext:ri,useCallback:$8,useContext:ri,useEffect:_P,useImperativeHandle:L8,useInsertionEffect:U8,useLayoutEffect:M8,useMemo:H8,useReducer:dE,useRef:R8,useState:function(){return dE(hv)},useDebugValue:CP,useDeferredValue:function(t){var e=ni();return V8(e,An.memoizedState,t)},useTransition:function(){var t=dE(hv)[0],e=ni().memoizedState;return[t,e]},useMutableSource:k8,useSyncExternalStore:T8,useId:K8,unstable_isNewReconciler:!1},$ie={readContext:ri,useCallback:$8,useContext:ri,useEffect:_P,useImperativeHandle:L8,useInsertionEffect:U8,useLayoutEffect:M8,useMemo:H8,useReducer:hE,useRef:R8,useState:function(){return hE(hv)},useDebugValue:CP,useDeferredValue:function(t){var e=ni();return An===null?e.memoizedState=t:V8(e,An.memoizedState,t)},useTransition:function(){var t=hE(hv)[0],e=ni().memoizedState;return[t,e]},useMutableSource:k8,useSyncExternalStore:T8,useId:K8,unstable_isNewReconciler:!1};function mi(t,e){if(t&&t.defaultProps){e=Lr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function HN(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Lr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var u_={isMounted:function(t){return(t=t._reactInternals)?_d(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ts(),s=Gc(t),a=Al(n,s);a.payload=e,r!=null&&(a.callback=r),e=Kc(t,a,s),e!==null&&(Oi(e,t,s,n),Uw(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ts(),s=Gc(t),a=Al(n,s);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Kc(t,a,s),e!==null&&(Oi(e,t,s,n),Uw(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ts(),n=Gc(t),s=Al(r,n);s.tag=2,e!=null&&(s.callback=e),e=Kc(t,s,n),e!==null&&(Oi(e,t,n,r),Uw(e,t,n))}};function zR(t,e,r,n,s,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!iv(r,n)||!iv(s,a):!0}function q8(t,e,r){var n=!1,s=lu,a=e.contextType;return typeof a=="object"&&a!==null?a=ri(a):(s=Zs(e)?XA:xs.current,n=e.contextTypes,a=(n=n!=null)?gf(t,s):lu),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=u_,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),e}function GR(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&u_.enqueueReplaceState(e,e.state,null)}function VN(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},gP(t);var a=e.contextType;typeof a=="object"&&a!==null?s.context=ri(a):(a=Zs(e)?XA:xs.current,s.context=gf(t,a)),s.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(HN(t,e,a,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&u_.enqueueReplaceState(s,s.state,null),Ub(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function wf(t,e){try{var r="",n=e;do r+=pae(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:s,digest:null}}function fE(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function KN(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Hie=typeof WeakMap=="function"?WeakMap:Map;function X8(t,e,r){r=Al(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Hb||(Hb=!0,tk=n),KN(t,e)},r}function J8(t,e,r){r=Al(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){KN(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){KN(t,e),typeof n!="function"&&(zc===null?zc=new Set([this]):zc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function WR(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Hie;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=noe.bind(null,t,e,r),e.then(t,t))}function qR(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function XR(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Al(-1,1),e.tag=2,Kc(r,e,1))),r.lanes|=1),t)}var Vie=Ml.ReactCurrentOwner,Xs=!1;function Ss(t,e,r,n){e.child=t===null?B8(e,null,r,n):yf(e,t.child,r,n)}function JR(t,e,r,n,s){r=r.render;var a=e.ref;return Qh(e,s),n=bP(t,e,r,n,a,s),r=jP(),t!==null&&!Xs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_l(t,e,s)):(Fr&&r&&uP(e),e.flags|=1,Ss(t,e,n,s),e.child)}function YR(t,e,r,n,s){if(t===null){var a=r.type;return typeof a=="function"&&!PP(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,Y8(t,e,a,n,s)):(t=Vw(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:iv,r(o,n)&&t.ref===e.ref)return _l(t,e,s)}return e.flags|=1,t=Wc(a,n),t.ref=e.ref,t.return=e,e.child=t}function Y8(t,e,r,n,s){if(t!==null){var a=t.memoizedProps;if(iv(a,n)&&t.ref===e.ref)if(Xs=!1,e.pendingProps=n=a,(t.lanes&s)!==0)t.flags&131072&&(Xs=!0);else return e.lanes=t.lanes,_l(t,e,s)}return zN(t,e,r,n,s)}function Z8(t,e,r){var n=e.pendingProps,s=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Br(kh,ma),ma|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Br(kh,ma),ma|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Br(kh,ma),ma|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Br(kh,ma),ma|=n;return Ss(t,e,s,r),e.child}function eK(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function zN(t,e,r,n,s){var a=Zs(r)?XA:xs.current;return a=gf(e,a),Qh(e,s),r=bP(t,e,r,n,a,s),n=jP(),t!==null&&!Xs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_l(t,e,s)):(Fr&&n&&uP(e),e.flags|=1,Ss(t,e,r,s),e.child)}function ZR(t,e,r,n,s){if(Zs(r)){var a=!0;Pb(e)}else a=!1;if(Qh(e,s),e.stateNode===null)Lw(t,e),q8(e,r,n),VN(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ri(u):(u=Zs(r)?XA:xs.current,u=gf(e,u));var A=r.getDerivedStateFromProps,d=typeof A=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&GR(e,o,n,u),hc=!1;var h=e.memoizedState;o.state=h,Ub(e,n,o,s),c=e.memoizedState,l!==n||h!==c||Ys.current||hc?(typeof A=="function"&&(HN(e,r,A,n),c=e.memoizedState),(l=hc||zR(e,r,l,n,h,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,S8(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:mi(e.type,l),o.props=u,d=e.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ri(c):(c=Zs(r)?XA:xs.current,c=gf(e,c));var f=r.getDerivedStateFromProps;(A=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||h!==c)&&GR(e,o,n,c),hc=!1,h=e.memoizedState,o.state=h,Ub(e,n,o,s);var m=e.memoizedState;l!==d||h!==m||Ys.current||hc?(typeof f=="function"&&(HN(e,r,f,n),m=e.memoizedState),(u=hc||zR(e,r,u,n,h,m,c)||!1)?(A||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),o.props=n,o.state=m,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return GN(t,e,r,n,a,s)}function GN(t,e,r,n,s,a){eK(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&UR(e,r,!1),_l(t,e,a);n=e.stateNode,Vie.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=yf(e,t.child,null,a),e.child=yf(e,null,l,a)):Ss(t,e,l,a),e.memoizedState=n.state,s&&UR(e,r,!0),e.child}function tK(t){var e=t.stateNode;e.pendingContext?RR(t,e.pendingContext,e.pendingContext!==e.context):e.context&&RR(t,e.context,!1),vP(t,e.containerInfo)}function eU(t,e,r,n,s){return vf(),dP(s),e.flags|=256,Ss(t,e,r,n),e.child}var WN={dehydrated:null,treeContext:null,retryLane:0};function qN(t){return{baseLanes:t,cachePool:null,transitions:null}}function rK(t,e,r){var n=e.pendingProps,s=Ur.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Br(Ur,s&1),t===null)return LN(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=h_(o,n,0,null),t=QA(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=qN(r),e.memoizedState=WN,t):BP(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Kie(t,e,o,n,l,s,r);if(a){a=n.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Wc(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Wc(l,a):(a=QA(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?qN(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=WN,n}return a=t.child,t=a.sibling,n=Wc(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function BP(t,e){return e=h_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function w0(t,e,r,n){return n!==null&&dP(n),yf(e,t.child,null,r),t=BP(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Kie(t,e,r,n,s,a,o){if(r)return e.flags&256?(e.flags&=-257,n=fE(Error(Be(422))),w0(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,s=e.mode,n=h_({mode:"visible",children:n.children},s,0,null),a=QA(a,s,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&yf(e,t.child,null,o),e.child.memoizedState=qN(o),e.memoizedState=WN,a);if(!(e.mode&1))return w0(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Be(419)),n=fE(a,n,void 0),w0(t,e,o,n)}if(l=(o&t.childLanes)!==0,Xs||l){if(n=En,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,jl(t,s),Oi(n,t,s,-1))}return IP(),n=fE(Error(Be(421))),w0(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=soe.bind(null,t),s._reactRetry=e,null):(t=a.treeContext,ba=Vc(s.nextSibling),_a=e,Fr=!0,ji=null,t!==null&&($a[Ha++]=al,$a[Ha++]=il,$a[Ha++]=JA,al=t.id,il=t.overflow,JA=e),e=BP(e,n.children),e.flags|=4096,e)}function tU(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),$N(t.return,e,r)}function mE(t,e,r,n,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function nK(t,e,r){var n=e.pendingProps,s=n.revealOrder,a=n.tail;if(Ss(t,e,n.children,r),n=Ur.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tU(t,r,e);else if(t.tag===19)tU(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Br(Ur,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Mb(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),mE(e,!1,s,r,a);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Mb(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}mE(e,!0,r,null,a);break;case"together":mE(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Lw(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _l(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ZA|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Be(153));if(e.child!==null){for(t=e.child,r=Wc(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Wc(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function zie(t,e,r){switch(e.tag){case 3:tK(e),vf();break;case 5:N8(e);break;case 1:Zs(e.type)&&Pb(e);break;case 4:vP(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Br(Db,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Br(Ur,Ur.current&1),e.flags|=128,null):r&e.child.childLanes?rK(t,e,r):(Br(Ur,Ur.current&1),t=_l(t,e,r),t!==null?t.sibling:null);Br(Ur,Ur.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return nK(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Br(Ur,Ur.current),n)break;return null;case 22:case 23:return e.lanes=0,Z8(t,e,r)}return _l(t,e,r)}var sK,XN,aK,iK;sK=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};XN=function(){};aK=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,bA(bo.current);var a=null;switch(r){case"input":s=vN(t,s),n=vN(t,n),a=[];break;case"select":s=Lr({},s,{value:void 0}),n=Lr({},n,{value:void 0}),a=[];break;case"textarea":s=wN(t,s),n=wN(t,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Tb)}jN(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zg.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zg.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Nr("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};iK=function(t,e,r,n){r!==n&&(e.flags|=4)};function yp(t,e){if(!Fr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function rs(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Gie(t,e,r){var n=e.pendingProps;switch(AP(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rs(e),null;case 1:return Zs(e.type)&&Ib(),rs(e),null;case 3:return n=e.stateNode,xf(),Ir(Ys),Ir(xs),xP(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(y0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ji!==null&&(sk(ji),ji=null))),XN(t,e),rs(e),null;case 5:yP(e);var s=bA(Av.current);if(r=e.type,t!==null&&e.stateNode!=null)aK(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Be(166));return rs(e),null}if(t=bA(bo.current),y0(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[uo]=e,n[cv]=a,t=(e.mode&1)!==0,r){case"dialog":Nr("cancel",n),Nr("close",n);break;case"iframe":case"object":case"embed":Nr("load",n);break;case"video":case"audio":for(s=0;s<tg.length;s++)Nr(tg[s],n);break;case"source":Nr("error",n);break;case"img":case"image":case"link":Nr("error",n),Nr("load",n);break;case"details":Nr("toggle",n);break;case"input":uR(n,a),Nr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Nr("invalid",n);break;case"textarea":dR(n,a),Nr("invalid",n)}jN(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&v0(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&v0(n.textContent,l,t),s=["children",""+l]):Zg.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Nr("scroll",n)}switch(r){case"input":u0(n),AR(n,a,!0);break;case"textarea":u0(n),hR(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Tb)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=OV(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[uo]=e,t[cv]=n,sK(t,e,!1,!1),e.stateNode=t;e:{switch(o=_N(r,n),r){case"dialog":Nr("cancel",t),Nr("close",t),s=n;break;case"iframe":case"object":case"embed":Nr("load",t),s=n;break;case"video":case"audio":for(s=0;s<tg.length;s++)Nr(tg[s],t);s=n;break;case"source":Nr("error",t),s=n;break;case"img":case"image":case"link":Nr("error",t),Nr("load",t),s=n;break;case"details":Nr("toggle",t),s=n;break;case"input":uR(t,n),s=vN(t,n),Nr("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Lr({},n,{value:void 0}),Nr("invalid",t);break;case"textarea":dR(t,n),s=wN(t,n),Nr("invalid",t);break;default:s=n}jN(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?RV(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&FV(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ev(t,c):typeof c=="number"&&ev(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Zg.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Nr("scroll",t):c!=null&&XI(t,a,c,o))}switch(r){case"input":u0(t),AR(t,n,!1);break;case"textarea":u0(t),hR(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ou(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Dh(t,!!n.multiple,a,!1):n.defaultValue!=null&&Dh(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Tb)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return rs(e),null;case 6:if(t&&e.stateNode!=null)iK(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Be(166));if(r=bA(Av.current),bA(bo.current),y0(e)){if(n=e.stateNode,r=e.memoizedProps,n[uo]=e,(a=n.nodeValue!==r)&&(t=_a,t!==null))switch(t.tag){case 3:v0(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&v0(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[uo]=e,e.stateNode=n}return rs(e),null;case 13:if(Ir(Ur),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fr&&ba!==null&&e.mode&1&&!(e.flags&128))_8(),vf(),e.flags|=98560,a=!1;else if(a=y0(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Be(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Be(317));a[uo]=e}else vf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rs(e),a=!1}else ji!==null&&(sk(ji),ji=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ur.current&1?mn===0&&(mn=3):IP())),e.updateQueue!==null&&(e.flags|=4),rs(e),null);case 4:return xf(),XN(t,e),t===null&&ov(e.stateNode.containerInfo),rs(e),null;case 10:return mP(e.type._context),rs(e),null;case 17:return Zs(e.type)&&Ib(),rs(e),null;case 19:if(Ir(Ur),a=e.memoizedState,a===null)return rs(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)yp(a,!1);else{if(mn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Mb(t),o!==null){for(e.flags|=128,yp(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Br(Ur,Ur.current&1|2),e.child}t=t.sibling}a.tail!==null&&Yr()>bf&&(e.flags|=128,n=!0,yp(a,!1),e.lanes=4194304)}else{if(!n)if(t=Mb(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),yp(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Fr)return rs(e),null}else 2*Yr()-a.renderingStartTime>bf&&r!==1073741824&&(e.flags|=128,n=!0,yp(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Yr(),e.sibling=null,r=Ur.current,Br(Ur,n?r&1|2:r&1),e):(rs(e),null);case 22:case 23:return TP(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ma&1073741824&&(rs(e),e.subtreeFlags&6&&(e.flags|=8192)):rs(e),null;case 24:return null;case 25:return null}throw Error(Be(156,e.tag))}function Wie(t,e){switch(AP(e),e.tag){case 1:return Zs(e.type)&&Ib(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xf(),Ir(Ys),Ir(xs),xP(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return yP(e),null;case 13:if(Ir(Ur),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Be(340));vf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ir(Ur),null;case 4:return xf(),null;case 10:return mP(e.type._context),null;case 22:case 23:return TP(),null;case 24:return null;default:return null}}var b0=!1,cs=!1,qie=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Nh(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Vr(t,e,n)}else r.current=null}function JN(t,e,r){try{r()}catch(n){Vr(t,e,n)}}var rU=!1;function Xie(t,e){if(ON=Sb,t=A8(),cP(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,A=0,d=t,h=null;t:for(;;){for(var f;d!==r||s!==0&&d.nodeType!==3||(l=o+s),d!==a||n!==0&&d.nodeType!==3||(c=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===r&&++u===s&&(l=o),h===a&&++A===n&&(c=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(FN={focusedElem:t,selectionRange:r},Sb=!1,ze=e;ze!==null;)if(e=ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ze=t;else for(;ze!==null;){e=ze;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,g=m.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?p:mi(e.type,p),g);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Be(163))}}catch(j){Vr(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,ze=t;break}ze=e.return}return m=rU,rU=!1,m}function _g(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var a=s.destroy;s.destroy=void 0,a!==void 0&&JN(e,r,a)}s=s.next}while(s!==n)}}function A_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function YN(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function oK(t){var e=t.alternate;e!==null&&(t.alternate=null,oK(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[uo],delete e[cv],delete e[UN],delete e[Iie],delete e[Pie])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lK(t){return t.tag===5||t.tag===3||t.tag===4}function nU(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lK(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ZN(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Tb));else if(n!==4&&(t=t.child,t!==null))for(ZN(t,e,r),t=t.sibling;t!==null;)ZN(t,e,r),t=t.sibling}function ek(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(ek(t,e,r),t=t.sibling;t!==null;)ek(t,e,r),t=t.sibling}var On=null,gi=!1;function Jl(t,e,r){for(r=r.child;r!==null;)cK(t,e,r),r=r.sibling}function cK(t,e,r){if(wo&&typeof wo.onCommitFiberUnmount=="function")try{wo.onCommitFiberUnmount(n_,r)}catch{}switch(r.tag){case 5:cs||Nh(r,e);case 6:var n=On,s=gi;On=null,Jl(t,e,r),On=n,gi=s,On!==null&&(gi?(t=On,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):On.removeChild(r.stateNode));break;case 18:On!==null&&(gi?(t=On,r=r.stateNode,t.nodeType===8?lE(t.parentNode,r):t.nodeType===1&&lE(t,r),sv(t)):lE(On,r.stateNode));break;case 4:n=On,s=gi,On=r.stateNode.containerInfo,gi=!0,Jl(t,e,r),On=n,gi=s;break;case 0:case 11:case 14:case 15:if(!cs&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&JN(r,e,o),s=s.next}while(s!==n)}Jl(t,e,r);break;case 1:if(!cs&&(Nh(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Vr(r,e,l)}Jl(t,e,r);break;case 21:Jl(t,e,r);break;case 22:r.mode&1?(cs=(n=cs)||r.memoizedState!==null,Jl(t,e,r),cs=n):Jl(t,e,r);break;default:Jl(t,e,r)}}function sU(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new qie),e.forEach(function(n){var s=aoe.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ai(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:On=l.stateNode,gi=!1;break e;case 3:On=l.stateNode.containerInfo,gi=!0;break e;case 4:On=l.stateNode.containerInfo,gi=!0;break e}l=l.return}if(On===null)throw Error(Be(160));cK(a,o,s),On=null,gi=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Vr(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uK(e,t),e=e.sibling}function uK(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ai(e,t),Zi(t),n&4){try{_g(3,t,t.return),A_(3,t)}catch(p){Vr(t,t.return,p)}try{_g(5,t,t.return)}catch(p){Vr(t,t.return,p)}}break;case 1:Ai(e,t),Zi(t),n&512&&r!==null&&Nh(r,r.return);break;case 5:if(Ai(e,t),Zi(t),n&512&&r!==null&&Nh(r,r.return),t.flags&32){var s=t.stateNode;try{ev(s,"")}catch(p){Vr(t,t.return,p)}}if(n&4&&(s=t.stateNode,s!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&IV(s,a),_N(l,o);var u=_N(l,a);for(o=0;o<c.length;o+=2){var A=c[o],d=c[o+1];A==="style"?RV(s,d):A==="dangerouslySetInnerHTML"?FV(s,d):A==="children"?ev(s,d):XI(s,A,d,u)}switch(l){case"input":yN(s,a);break;case"textarea":PV(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?Dh(s,!!a.multiple,f,!1):h!==!!a.multiple&&(a.defaultValue!=null?Dh(s,!!a.multiple,a.defaultValue,!0):Dh(s,!!a.multiple,a.multiple?[]:"",!1))}s[cv]=a}catch(p){Vr(t,t.return,p)}}break;case 6:if(Ai(e,t),Zi(t),n&4){if(t.stateNode===null)throw Error(Be(162));s=t.stateNode,a=t.memoizedProps;try{s.nodeValue=a}catch(p){Vr(t,t.return,p)}}break;case 3:if(Ai(e,t),Zi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{sv(e.containerInfo)}catch(p){Vr(t,t.return,p)}break;case 4:Ai(e,t),Zi(t);break;case 13:Ai(e,t),Zi(t),s=t.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(NP=Yr())),n&4&&sU(t);break;case 22:if(A=r!==null&&r.memoizedState!==null,t.mode&1?(cs=(u=cs)||A,Ai(e,t),cs=u):Ai(e,t),Zi(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!A&&t.mode&1)for(ze=t,A=t.child;A!==null;){for(d=ze=A;ze!==null;){switch(h=ze,f=h.child,h.tag){case 0:case 11:case 14:case 15:_g(4,h,h.return);break;case 1:Nh(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(p){Vr(n,r,p)}}break;case 5:Nh(h,h.return);break;case 22:if(h.memoizedState!==null){iU(d);continue}}f!==null?(f.return=h,ze=f):iU(d)}A=A.sibling}e:for(A=null,d=t;;){if(d.tag===5){if(A===null){A=d;try{s=d.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=DV("display",o))}catch(p){Vr(t,t.return,p)}}}else if(d.tag===6){if(A===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(p){Vr(t,t.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;A===d&&(A=null),d=d.return}A===d&&(A=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ai(e,t),Zi(t),n&4&&sU(t);break;case 21:break;default:Ai(e,t),Zi(t)}}function Zi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(lK(r)){var n=r;break e}r=r.return}throw Error(Be(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ev(s,""),n.flags&=-33);var a=nU(t);ek(t,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=nU(t);ZN(t,l,o);break;default:throw Error(Be(161))}}catch(c){Vr(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Jie(t,e,r){ze=t,AK(t)}function AK(t,e,r){for(var n=(t.mode&1)!==0;ze!==null;){var s=ze,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||b0;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||cs;l=b0;var u=cs;if(b0=o,(cs=c)&&!u)for(ze=s;ze!==null;)o=ze,c=o.child,o.tag===22&&o.memoizedState!==null?oU(s):c!==null?(c.return=o,ze=c):oU(s);for(;a!==null;)ze=a,AK(a),a=a.sibling;ze=s,b0=l,cs=u}aU(t)}else s.subtreeFlags&8772&&a!==null?(a.return=s,ze=a):aU(t)}}function aU(t){for(;ze!==null;){var e=ze;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:cs||A_(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!cs)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:mi(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&HR(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}HR(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var A=u.memoizedState;if(A!==null){var d=A.dehydrated;d!==null&&sv(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Be(163))}cs||e.flags&512&&YN(e)}catch(h){Vr(e,e.return,h)}}if(e===t){ze=null;break}if(r=e.sibling,r!==null){r.return=e.return,ze=r;break}ze=e.return}}function iU(t){for(;ze!==null;){var e=ze;if(e===t){ze=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ze=r;break}ze=e.return}}function oU(t){for(;ze!==null;){var e=ze;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{A_(4,e)}catch(c){Vr(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){Vr(e,s,c)}}var a=e.return;try{YN(e)}catch(c){Vr(e,a,c)}break;case 5:var o=e.return;try{YN(e)}catch(c){Vr(e,o,c)}}}catch(c){Vr(e,e.return,c)}if(e===t){ze=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ze=l;break}ze=e.return}}var Yie=Math.ceil,$b=Ml.ReactCurrentDispatcher,EP=Ml.ReactCurrentOwner,Xa=Ml.ReactCurrentBatchConfig,Gt=0,En=null,on=null,Wn=0,ma=0,kh=Su(0),mn=0,mv=null,ZA=0,d_=0,SP=0,Cg=null,Ws=null,NP=0,bf=1/0,tl=null,Hb=!1,tk=null,zc=null,j0=!1,Pc=null,Vb=0,Bg=0,rk=null,$w=-1,Hw=0;function Ts(){return Gt&6?Yr():$w!==-1?$w:$w=Yr()}function Gc(t){return t.mode&1?Gt&2&&Wn!==0?Wn&-Wn:Fie.transition!==null?(Hw===0&&(Hw=qV()),Hw):(t=ar,t!==0||(t=window.event,t=t===void 0?16:r8(t.type)),t):1}function Oi(t,e,r,n){if(50<Bg)throw Bg=0,rk=null,Error(Be(185));Xy(t,r,n),(!(Gt&2)||t!==En)&&(t===En&&(!(Gt&2)&&(d_|=r),mn===4&&vc(t,Wn)),ea(t,n),r===1&&Gt===0&&!(e.mode&1)&&(bf=Yr()+500,l_&&Nu()))}function ea(t,e){var r=t.callbackNode;Fae(t,e);var n=Eb(t,t===En?Wn:0);if(n===0)r!==null&&pR(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&pR(r),e===1)t.tag===0?Oie(lU.bind(null,t)):w8(lU.bind(null,t)),kie(function(){!(Gt&6)&&Nu()}),r=null;else{switch(XV(n)){case 1:r=tP;break;case 4:r=GV;break;case 16:r=Bb;break;case 536870912:r=WV;break;default:r=Bb}r=yK(r,dK.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function dK(t,e){if($w=-1,Hw=0,Gt&6)throw Error(Be(327));var r=t.callbackNode;if(Lh()&&t.callbackNode!==r)return null;var n=Eb(t,t===En?Wn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Kb(t,n);else{e=n;var s=Gt;Gt|=2;var a=fK();(En!==t||Wn!==e)&&(tl=null,bf=Yr()+500,MA(t,e));do try{toe();break}catch(l){hK(t,l)}while(!0);fP(),$b.current=a,Gt=s,on!==null?e=0:(En=null,Wn=0,e=mn)}if(e!==0){if(e===2&&(s=NN(t),s!==0&&(n=s,e=nk(t,s))),e===1)throw r=mv,MA(t,0),vc(t,n),ea(t,Yr()),r;if(e===6)vc(t,n);else{if(s=t.current.alternate,!(n&30)&&!Zie(s)&&(e=Kb(t,n),e===2&&(a=NN(t),a!==0&&(n=a,e=nk(t,a))),e===1))throw r=mv,MA(t,0),vc(t,n),ea(t,Yr()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(Be(345));case 2:rA(t,Ws,tl);break;case 3:if(vc(t,n),(n&130023424)===n&&(e=NP+500-Yr(),10<e)){if(Eb(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Ts(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=RN(rA.bind(null,t,Ws,tl),e);break}rA(t,Ws,tl);break;case 4:if(vc(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Pi(n);a=1<<o,o=e[o],o>s&&(s=o),n&=~a}if(n=s,n=Yr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Yie(n/1960))-n,10<n){t.timeoutHandle=RN(rA.bind(null,t,Ws,tl),n);break}rA(t,Ws,tl);break;case 5:rA(t,Ws,tl);break;default:throw Error(Be(329))}}}return ea(t,Yr()),t.callbackNode===r?dK.bind(null,t):null}function nk(t,e){var r=Cg;return t.current.memoizedState.isDehydrated&&(MA(t,e).flags|=256),t=Kb(t,e),t!==2&&(e=Ws,Ws=r,e!==null&&sk(e)),t}function sk(t){Ws===null?Ws=t:Ws.push.apply(Ws,t)}function Zie(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Mi(a(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vc(t,e){for(e&=~SP,e&=~d_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Pi(e),n=1<<r;t[r]=-1,e&=~n}}function lU(t){if(Gt&6)throw Error(Be(327));Lh();var e=Eb(t,0);if(!(e&1))return ea(t,Yr()),null;var r=Kb(t,e);if(t.tag!==0&&r===2){var n=NN(t);n!==0&&(e=n,r=nk(t,n))}if(r===1)throw r=mv,MA(t,0),vc(t,e),ea(t,Yr()),r;if(r===6)throw Error(Be(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,rA(t,Ws,tl),ea(t,Yr()),null}function kP(t,e){var r=Gt;Gt|=1;try{return t(e)}finally{Gt=r,Gt===0&&(bf=Yr()+500,l_&&Nu())}}function ed(t){Pc!==null&&Pc.tag===0&&!(Gt&6)&&Lh();var e=Gt;Gt|=1;var r=Xa.transition,n=ar;try{if(Xa.transition=null,ar=1,t)return t()}finally{ar=n,Xa.transition=r,Gt=e,!(Gt&6)&&Nu()}}function TP(){ma=kh.current,Ir(kh)}function MA(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Nie(r)),on!==null)for(r=on.return;r!==null;){var n=r;switch(AP(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ib();break;case 3:xf(),Ir(Ys),Ir(xs),xP();break;case 5:yP(n);break;case 4:xf();break;case 13:Ir(Ur);break;case 19:Ir(Ur);break;case 10:mP(n.type._context);break;case 22:case 23:TP()}r=r.return}if(En=t,on=t=Wc(t.current,null),Wn=ma=e,mn=0,mv=null,SP=d_=ZA=0,Ws=Cg=null,wA!==null){for(e=0;e<wA.length;e++)if(r=wA[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}wA=null}return t}function hK(t,e){do{var r=on;try{if(fP(),Mw.current=Lb,Qb){for(var n=Qr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Qb=!1}if(YA=0,_n=An=Qr=null,jg=!1,dv=0,EP.current=null,r===null||r.return===null){mn=1,mv=e,on=null;break}e:{var a=t,o=r.return,l=r,c=e;if(e=Wn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,A=l,d=A.tag;if(!(A.mode&1)&&(d===0||d===11||d===15)){var h=A.alternate;h?(A.updateQueue=h.updateQueue,A.memoizedState=h.memoizedState,A.lanes=h.lanes):(A.updateQueue=null,A.memoizedState=null)}var f=qR(o);if(f!==null){f.flags&=-257,XR(f,o,l,a,e),f.mode&1&&WR(a,u,e),e=f,c=u;var m=e.updateQueue;if(m===null){var p=new Set;p.add(c),e.updateQueue=p}else m.add(c);break e}else{if(!(e&1)){WR(a,u,e),IP();break e}c=Error(Be(426))}}else if(Fr&&l.mode&1){var g=qR(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),XR(g,o,l,a,e),dP(wf(c,l));break e}}a=c=wf(c,l),mn!==4&&(mn=2),Cg===null?Cg=[a]:Cg.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=X8(a,c,e);$R(a,y);break e;case 1:l=c;var x=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(zc===null||!zc.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var j=J8(a,l,e);$R(a,j);break e}}a=a.return}while(a!==null)}pK(r)}catch(C){e=C,on===r&&r!==null&&(on=r=r.return);continue}break}while(!0)}function fK(){var t=$b.current;return $b.current=Lb,t===null?Lb:t}function IP(){(mn===0||mn===3||mn===2)&&(mn=4),En===null||!(ZA&268435455)&&!(d_&268435455)||vc(En,Wn)}function Kb(t,e){var r=Gt;Gt|=2;var n=fK();(En!==t||Wn!==e)&&(tl=null,MA(t,e));do try{eoe();break}catch(s){hK(t,s)}while(!0);if(fP(),Gt=r,$b.current=n,on!==null)throw Error(Be(261));return En=null,Wn=0,mn}function eoe(){for(;on!==null;)mK(on)}function toe(){for(;on!==null&&!Bae();)mK(on)}function mK(t){var e=vK(t.alternate,t,ma);t.memoizedProps=t.pendingProps,e===null?pK(t):on=e,EP.current=null}function pK(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Wie(r,e),r!==null){r.flags&=32767,on=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mn=6,on=null;return}}else if(r=Gie(r,e,ma),r!==null){on=r;return}if(e=e.sibling,e!==null){on=e;return}on=e=t}while(e!==null);mn===0&&(mn=5)}function rA(t,e,r){var n=ar,s=Xa.transition;try{Xa.transition=null,ar=1,roe(t,e,r,n)}finally{Xa.transition=s,ar=n}return null}function roe(t,e,r,n){do Lh();while(Pc!==null);if(Gt&6)throw Error(Be(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Be(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(Dae(t,a),t===En&&(on=En=null,Wn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||j0||(j0=!0,yK(Bb,function(){return Lh(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Xa.transition,Xa.transition=null;var o=ar;ar=1;var l=Gt;Gt|=4,EP.current=null,Xie(t,r),uK(r,t),bie(FN),Sb=!!ON,FN=ON=null,t.current=r,Jie(r),Eae(),Gt=l,ar=o,Xa.transition=a}else t.current=r;if(j0&&(j0=!1,Pc=t,Vb=s),a=t.pendingLanes,a===0&&(zc=null),kae(r.stateNode),ea(t,Yr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Hb)throw Hb=!1,t=tk,tk=null,t;return Vb&1&&t.tag!==0&&Lh(),a=t.pendingLanes,a&1?t===rk?Bg++:(Bg=0,rk=t):Bg=0,Nu(),null}function Lh(){if(Pc!==null){var t=XV(Vb),e=Xa.transition,r=ar;try{if(Xa.transition=null,ar=16>t?16:t,Pc===null)var n=!1;else{if(t=Pc,Pc=null,Vb=0,Gt&6)throw Error(Be(331));var s=Gt;for(Gt|=4,ze=t.current;ze!==null;){var a=ze,o=a.child;if(ze.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ze=u;ze!==null;){var A=ze;switch(A.tag){case 0:case 11:case 15:_g(8,A,a)}var d=A.child;if(d!==null)d.return=A,ze=d;else for(;ze!==null;){A=ze;var h=A.sibling,f=A.return;if(oK(A),A===u){ze=null;break}if(h!==null){h.return=f,ze=h;break}ze=f}}}var m=a.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var g=p.sibling;p.sibling=null,p=g}while(p!==null)}}ze=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ze=o;else e:for(;ze!==null;){if(a=ze,a.flags&2048)switch(a.tag){case 0:case 11:case 15:_g(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,ze=y;break e}ze=a.return}}var x=t.current;for(ze=x;ze!==null;){o=ze;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ze=b;else e:for(o=x;ze!==null;){if(l=ze,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:A_(9,l)}}catch(C){Vr(l,l.return,C)}if(l===o){ze=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ze=j;break e}ze=l.return}}if(Gt=s,Nu(),wo&&typeof wo.onPostCommitFiberRoot=="function")try{wo.onPostCommitFiberRoot(n_,t)}catch{}n=!0}return n}finally{ar=r,Xa.transition=e}}return!1}function cU(t,e,r){e=wf(r,e),e=X8(t,e,1),t=Kc(t,e,1),e=Ts(),t!==null&&(Xy(t,1,e),ea(t,e))}function Vr(t,e,r){if(t.tag===3)cU(t,t,r);else for(;e!==null;){if(e.tag===3){cU(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(zc===null||!zc.has(n))){t=wf(r,t),t=J8(e,t,1),e=Kc(e,t,1),t=Ts(),e!==null&&(Xy(e,1,t),ea(e,t));break}}e=e.return}}function noe(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ts(),t.pingedLanes|=t.suspendedLanes&r,En===t&&(Wn&r)===r&&(mn===4||mn===3&&(Wn&130023424)===Wn&&500>Yr()-NP?MA(t,0):SP|=r),ea(t,e)}function gK(t,e){e===0&&(t.mode&1?(e=h0,h0<<=1,!(h0&130023424)&&(h0=4194304)):e=1);var r=Ts();t=jl(t,e),t!==null&&(Xy(t,e,r),ea(t,r))}function soe(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),gK(t,r)}function aoe(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Be(314))}n!==null&&n.delete(e),gK(t,r)}var vK;vK=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ys.current)Xs=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Xs=!1,zie(t,e,r);Xs=!!(t.flags&131072)}else Xs=!1,Fr&&e.flags&1048576&&b8(e,Fb,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Lw(t,e),t=e.pendingProps;var s=gf(e,xs.current);Qh(e,r),s=bP(null,e,n,t,s,r);var a=jP();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zs(n)?(a=!0,Pb(e)):a=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,gP(e),s.updater=u_,e.stateNode=s,s._reactInternals=e,VN(e,n,t,r),e=GN(null,e,n,!0,a,r)):(e.tag=0,Fr&&a&&uP(e),Ss(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Lw(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=ooe(n),t=mi(n,t),s){case 0:e=zN(null,e,n,t,r);break e;case 1:e=ZR(null,e,n,t,r);break e;case 11:e=JR(null,e,n,t,r);break e;case 14:e=YR(null,e,n,mi(n.type,t),r);break e}throw Error(Be(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:mi(n,s),zN(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:mi(n,s),ZR(t,e,n,s,r);case 3:e:{if(tK(e),t===null)throw Error(Be(387));n=e.pendingProps,a=e.memoizedState,s=a.element,S8(t,e),Ub(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){s=wf(Error(Be(423)),e),e=eU(t,e,n,r,s);break e}else if(n!==s){s=wf(Error(Be(424)),e),e=eU(t,e,n,r,s);break e}else for(ba=Vc(e.stateNode.containerInfo.firstChild),_a=e,Fr=!0,ji=null,r=B8(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vf(),n===s){e=_l(t,e,r);break e}Ss(t,e,n,r)}e=e.child}return e;case 5:return N8(e),t===null&&LN(e),n=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,o=s.children,DN(n,s)?o=null:a!==null&&DN(n,a)&&(e.flags|=32),eK(t,e),Ss(t,e,o,r),e.child;case 6:return t===null&&LN(e),null;case 13:return rK(t,e,r);case 4:return vP(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=yf(e,null,n,r):Ss(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:mi(n,s),JR(t,e,n,s,r);case 7:return Ss(t,e,e.pendingProps,r),e.child;case 8:return Ss(t,e,e.pendingProps.children,r),e.child;case 12:return Ss(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,a=e.memoizedProps,o=s.value,Br(Db,n._currentValue),n._currentValue=o,a!==null)if(Mi(a.value,o)){if(a.children===s.children&&!Ys.current){e=_l(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Al(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var A=u.pending;A===null?c.next=c:(c.next=A.next,A.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),$N(a.return,r,e),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Be(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),$N(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ss(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Qh(e,r),s=ri(s),n=n(s),e.flags|=1,Ss(t,e,n,r),e.child;case 14:return n=e.type,s=mi(n,e.pendingProps),s=mi(n.type,s),YR(t,e,n,s,r);case 15:return Y8(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:mi(n,s),Lw(t,e),e.tag=1,Zs(n)?(t=!0,Pb(e)):t=!1,Qh(e,r),q8(e,n,s),VN(e,n,s,r),GN(null,e,n,!0,t,r);case 19:return nK(t,e,r);case 22:return Z8(t,e,r)}throw Error(Be(156,e.tag))};function yK(t,e){return zV(t,e)}function ioe(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ka(t,e,r,n){return new ioe(t,e,r,n)}function PP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ooe(t){if(typeof t=="function")return PP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===YI)return 11;if(t===ZI)return 14}return 2}function Wc(t,e){var r=t.alternate;return r===null?(r=Ka(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Vw(t,e,r,n,s,a){var o=2;if(n=t,typeof t=="function")PP(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case xh:return QA(r.children,s,a,e);case JI:o=8,s|=8;break;case fN:return t=Ka(12,r,e,s|2),t.elementType=fN,t.lanes=a,t;case mN:return t=Ka(13,r,e,s),t.elementType=mN,t.lanes=a,t;case pN:return t=Ka(19,r,e,s),t.elementType=pN,t.lanes=a,t;case NV:return h_(r,s,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case EV:o=10;break e;case SV:o=9;break e;case YI:o=11;break e;case ZI:o=14;break e;case dc:o=16,n=null;break e}throw Error(Be(130,t==null?t:typeof t,""))}return e=Ka(o,r,e,s),e.elementType=t,e.type=n,e.lanes=a,e}function QA(t,e,r,n){return t=Ka(7,t,n,e),t.lanes=r,t}function h_(t,e,r,n){return t=Ka(22,t,n,e),t.elementType=NV,t.lanes=r,t.stateNode={isHidden:!1},t}function pE(t,e,r){return t=Ka(6,t,null,e),t.lanes=r,t}function gE(t,e,r){return e=Ka(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function loe(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=JB(0),this.expirationTimes=JB(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=JB(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function OP(t,e,r,n,s,a,o,l,c){return t=new loe(t,e,r,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ka(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},gP(a),t}function coe(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yh,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function xK(t){if(!t)return lu;t=t._reactInternals;e:{if(_d(t)!==t||t.tag!==1)throw Error(Be(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Be(171))}if(t.tag===1){var r=t.type;if(Zs(r))return x8(t,r,e)}return e}function wK(t,e,r,n,s,a,o,l,c){return t=OP(r,n,!0,t,s,a,o,l,c),t.context=xK(null),r=t.current,n=Ts(),s=Gc(r),a=Al(n,s),a.callback=e??null,Kc(r,a,s),t.current.lanes=s,Xy(t,s,n),ea(t,n),t}function f_(t,e,r,n){var s=e.current,a=Ts(),o=Gc(s);return r=xK(r),e.context===null?e.context=r:e.pendingContext=r,e=Al(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Kc(s,e,o),t!==null&&(Oi(t,s,o,a),Uw(t,s,o)),o}function zb(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function uU(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function FP(t,e){uU(t,e),(t=t.alternate)&&uU(t,e)}function uoe(){return null}var bK=typeof reportError=="function"?reportError:function(t){console.error(t)};function DP(t){this._internalRoot=t}m_.prototype.render=DP.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Be(409));f_(t,e,null,null)};m_.prototype.unmount=DP.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ed(function(){f_(null,t,null,null)}),e[bl]=null}};function m_(t){this._internalRoot=t}m_.prototype.unstable_scheduleHydration=function(t){if(t){var e=ZV();t={blockedOn:null,target:t,priority:e};for(var r=0;r<gc.length&&e!==0&&e<gc[r].priority;r++);gc.splice(r,0,t),r===0&&t8(t)}};function RP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function p_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function AU(){}function Aoe(t,e,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=zb(o);a.call(u)}}var o=wK(e,n,t,0,null,!1,!1,"",AU);return t._reactRootContainer=o,t[bl]=o.current,ov(t.nodeType===8?t.parentNode:t),ed(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=zb(c);l.call(u)}}var c=OP(t,0,!1,null,null,!1,!1,"",AU);return t._reactRootContainer=c,t[bl]=c.current,ov(t.nodeType===8?t.parentNode:t),ed(function(){f_(e,c,r,n)}),c}function g_(t,e,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=zb(o);l.call(c)}}f_(e,o,t,s)}else o=Aoe(r,e,t,s,n);return zb(o)}JV=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=eg(e.pendingLanes);r!==0&&(rP(e,r|1),ea(e,Yr()),!(Gt&6)&&(bf=Yr()+500,Nu()))}break;case 13:ed(function(){var n=jl(t,1);if(n!==null){var s=Ts();Oi(n,t,1,s)}}),FP(t,1)}};nP=function(t){if(t.tag===13){var e=jl(t,134217728);if(e!==null){var r=Ts();Oi(e,t,134217728,r)}FP(t,134217728)}};YV=function(t){if(t.tag===13){var e=Gc(t),r=jl(t,e);if(r!==null){var n=Ts();Oi(r,t,e,n)}FP(t,e)}};ZV=function(){return ar};e8=function(t,e){var r=ar;try{return ar=t,e()}finally{ar=r}};BN=function(t,e,r){switch(e){case"input":if(yN(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=o_(n);if(!s)throw Error(Be(90));TV(n),yN(n,s)}}}break;case"textarea":PV(t,r);break;case"select":e=r.value,e!=null&&Dh(t,!!r.multiple,e,!1)}};QV=kP;LV=ed;var doe={usingClientEntryPoint:!1,Events:[Yy,_h,o_,UV,MV,kP]},xp={findFiberByHostInstance:xA,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hoe={bundleType:xp.bundleType,version:xp.version,rendererPackageName:xp.rendererPackageName,rendererConfig:xp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ml.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=VV(t),t===null?null:t.stateNode},findFiberByHostInstance:xp.findFiberByHostInstance||uoe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_0.isDisabled&&_0.supportsFiber)try{n_=_0.inject(hoe),wo=_0}catch{}}ka.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=doe;ka.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!RP(e))throw Error(Be(200));return coe(t,e,null,r)};ka.createRoot=function(t,e){if(!RP(t))throw Error(Be(299));var r=!1,n="",s=bK;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=OP(t,1,!1,null,null,r,!1,n,s),t[bl]=e.current,ov(t.nodeType===8?t.parentNode:t),new DP(e)};ka.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Be(188)):(t=Object.keys(t).join(","),Error(Be(268,t)));return t=VV(e),t=t===null?null:t.stateNode,t};ka.flushSync=function(t){return ed(t)};ka.hydrate=function(t,e,r){if(!p_(e))throw Error(Be(200));return g_(null,t,e,!0,r)};ka.hydrateRoot=function(t,e,r){if(!RP(t))throw Error(Be(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=bK;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=wK(e,null,t,1,r??null,s,!1,a,o),t[bl]=e.current,ov(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new m_(e)};ka.render=function(t,e,r){if(!p_(e))throw Error(Be(200));return g_(null,t,e,!1,r)};ka.unmountComponentAtNode=function(t){if(!p_(t))throw Error(Be(40));return t._reactRootContainer?(ed(function(){g_(null,null,t,!1,function(){t._reactRootContainer=null,t[bl]=null})}),!0):!1};ka.unstable_batchedUpdates=kP;ka.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!p_(r))throw Error(Be(200));if(t==null||t._reactInternals===void 0)throw Error(Be(38));return g_(t,e,r,!1,n)};ka.version="18.3.1-next-f1338f8080-20240426";function jK(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jK)}catch(t){console.error(t)}}jK(),jV.exports=ka;var Cd=jV.exports;const _K=Jt(Cd);var CK,dU=Cd;CK=dU.createRoot,dU.hydrateRoot;const foe=1,moe=1e6;let vE=0;function poe(){return vE=(vE+1)%Number.MAX_SAFE_INTEGER,vE.toString()}const yE=new Map,hU=t=>{if(yE.has(t))return;const e=setTimeout(()=>{yE.delete(t),Eg({type:"REMOVE_TOAST",toastId:t})},moe);yE.set(t,e)},goe=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,foe)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?hU(r):t.toasts.forEach(n=>{hU(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Kw=[];let zw={toasts:[]};function Eg(t){zw=goe(zw,t),Kw.forEach(e=>{e(zw)})}function fe({...t}){const e=poe(),r=s=>Eg({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>Eg({type:"DISMISS_TOAST",toastId:e});return Eg({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function Vi(){const[t,e]=v.useState(zw);return v.useEffect(()=>(Kw.push(e),()=>{const r=Kw.indexOf(e);r>-1&&Kw.splice(r,1)}),[t]),{...t,toast:fe,dismiss:r=>Eg({type:"DISMISS_TOAST",toastId:r})}}function De(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function voe(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function BK(...t){return e=>t.forEach(r=>voe(r,e))}function yt(...t){return v.useCallback(BK(...t),t)}function yoe(t,e=[]){let r=[];function n(a,o){const l=v.createContext(o),c=r.length;r=[...r,o];function u(d){const{scope:h,children:f,...m}=d,p=(h==null?void 0:h[t][c])||l,g=v.useMemo(()=>m,Object.values(m));return i.jsx(p.Provider,{value:g,children:f})}function A(d,h){const f=(h==null?void 0:h[t][c])||l,m=v.useContext(f);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,A]}const s=()=>{const a=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return v.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,xoe(s,...e)]}function xoe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(a)[`__scope${u}`];return{...l,...d}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Cl=v.forwardRef((t,e)=>{const{children:r,...n}=t,s=v.Children.toArray(r),a=s.find(woe);if(a){const o=a.props.children,l=s.map(c=>c===a?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:c);return i.jsx(ak,{...n,ref:e,children:v.isValidElement(o)?v.cloneElement(o,void 0,l):null})}return i.jsx(ak,{...n,ref:e,children:r})});Cl.displayName="Slot";var ak=v.forwardRef((t,e)=>{const{children:r,...n}=t;if(v.isValidElement(r)){const s=joe(r);return v.cloneElement(r,{...boe(n,r.props),ref:e?BK(e,s):s})}return v.Children.count(r)>1?v.Children.only(null):null});ak.displayName="SlotClone";var UP=({children:t})=>i.jsx(i.Fragment,{children:t});function woe(t){return v.isValidElement(t)&&t.type===UP}function boe(t,e){const r={...e};for(const n in e){const s=t[n],a=e[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{a(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...t,...r}}function joe(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function v_(t){const e=t+"CollectionProvider",[r,n]=yoe(e),[s,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=f=>{const{scope:m,children:p}=f,g=$.useRef(null),y=$.useRef(new Map).current;return i.jsx(s,{scope:m,itemMap:y,collectionRef:g,children:p})};o.displayName=e;const l=t+"CollectionSlot",c=$.forwardRef((f,m)=>{const{scope:p,children:g}=f,y=a(l,p),x=yt(m,y.collectionRef);return i.jsx(Cl,{ref:x,children:g})});c.displayName=l;const u=t+"CollectionItemSlot",A="data-radix-collection-item",d=$.forwardRef((f,m)=>{const{scope:p,children:g,...y}=f,x=$.useRef(null),b=yt(m,x),j=a(u,p);return $.useEffect(()=>(j.itemMap.set(x,{ref:x,...y}),()=>void j.itemMap.delete(x))),i.jsx(Cl,{[A]:"",ref:b,children:g})});d.displayName=u;function h(f){const m=a(t+"CollectionConsumer",f);return $.useCallback(()=>{const g=m.collectionRef.current;if(!g)return[];const y=Array.from(g.querySelectorAll(`[${A}]`));return Array.from(m.itemMap.values()).sort((j,C)=>y.indexOf(j.ref.current)-y.indexOf(C.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:o,Slot:c,ItemSlot:d},h,n]}function _oe(t,e){const r=v.createContext(e),n=a=>{const{children:o,...l}=a,c=v.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function s(a){const o=v.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,s]}function aa(t,e=[]){let r=[];function n(a,o){const l=v.createContext(o),c=r.length;r=[...r,o];const u=d=>{var y;const{scope:h,children:f,...m}=d,p=((y=h==null?void 0:h[t])==null?void 0:y[c])||l,g=v.useMemo(()=>m,Object.values(m));return i.jsx(p.Provider,{value:g,children:f})};u.displayName=a+"Provider";function A(d,h){var p;const f=((p=h==null?void 0:h[t])==null?void 0:p[c])||l,m=v.useContext(f);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${a}\``)}return[u,A]}const s=()=>{const a=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return v.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,Coe(s,...e)]}function Coe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(a)[`__scope${u}`];return{...l,...d}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Boe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],et=Boe.reduce((t,e)=>{const r=v.forwardRef((n,s)=>{const{asChild:a,...o}=n,l=a?Cl:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function EK(t,e){t&&Cd.flushSync(()=>t.dispatchEvent(e))}function Gr(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Eoe(t,e=globalThis==null?void 0:globalThis.document){const r=Gr(t);v.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Soe="DismissableLayer",ik="dismissableLayer.update",Noe="dismissableLayer.pointerDownOutside",koe="dismissableLayer.focusOutside",fU,SK=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ym=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,u=v.useContext(SK),[A,d]=v.useState(null),h=(A==null?void 0:A.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=v.useState({}),m=yt(e,_=>d(_)),p=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(g),x=A?p.indexOf(A):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=x>=y,C=Ioe(_=>{const B=_.target,S=[...u.branches].some(N=>N.contains(B));!j||S||(s==null||s(_),o==null||o(_),_.defaultPrevented||l==null||l())},h),E=Poe(_=>{const B=_.target;[...u.branches].some(N=>N.contains(B))||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},h);return Eoe(_=>{x===u.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),v.useEffect(()=>{if(A)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(fU=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(A)),u.layers.add(A),mU(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=fU)}},[A,h,r,u]),v.useEffect(()=>()=>{A&&(u.layers.delete(A),u.layersWithOutsidePointerEventsDisabled.delete(A),mU())},[A,u]),v.useEffect(()=>{const _=()=>f({});return document.addEventListener(ik,_),()=>document.removeEventListener(ik,_)},[]),i.jsx(et.div,{...c,ref:m,style:{pointerEvents:b?j?"auto":"none":void 0,...t.style},onFocusCapture:De(t.onFocusCapture,E.onFocusCapture),onBlurCapture:De(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:De(t.onPointerDownCapture,C.onPointerDownCapture)})});ym.displayName=Soe;var Toe="DismissableLayerBranch",NK=v.forwardRef((t,e)=>{const r=v.useContext(SK),n=v.useRef(null),s=yt(e,n);return v.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),i.jsx(et.div,{...t,ref:s})});NK.displayName=Toe;function Ioe(t,e=globalThis==null?void 0:globalThis.document){const r=Gr(t),n=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){kK(Noe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Poe(t,e=globalThis==null?void 0:globalThis.document){const r=Gr(t),n=v.useRef(!1);return v.useEffect(()=>{const s=a=>{a.target&&!n.current&&kK(koe,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function mU(){const t=new CustomEvent(ik);document.dispatchEvent(t)}function kK(t,e,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?EK(s,a):s.dispatchEvent(a)}var Ooe=ym,Foe=NK,gn=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},Doe="Portal",ex=v.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[s,a]=v.useState(!1);gn(()=>a(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?_K.createPortal(i.jsx(et.div,{...n,ref:e}),o):null});ex.displayName=Doe;function Roe(t,e){return v.useReducer((r,n)=>e[r][n]??r,t)}var Ms=t=>{const{present:e,children:r}=t,n=Uoe(e),s=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),a=yt(n.ref,Moe(s));return typeof r=="function"||n.isPresent?v.cloneElement(s,{ref:a}):null};Ms.displayName="Presence";function Uoe(t){const[e,r]=v.useState(),n=v.useRef({}),s=v.useRef(t),a=v.useRef("none"),o=t?"mounted":"unmounted",[l,c]=Roe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=C0(n.current);a.current=l==="mounted"?u:"none"},[l]),gn(()=>{const u=n.current,A=s.current;if(A!==t){const h=a.current,f=C0(u);t?c("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(A&&h!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),gn(()=>{if(e){let u;const A=e.ownerDocument.defaultView??window,d=f=>{const p=C0(n.current).includes(f.animationName);if(f.target===e&&p&&(c("ANIMATION_END"),!s.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",u=A.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},h=f=>{f.target===e&&(a.current=C0(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{A.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function C0(t){return(t==null?void 0:t.animationName)||"none"}function Moe(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function si({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,s]=Qoe({defaultProp:e,onChange:r}),a=t!==void 0,o=a?t:n,l=Gr(r),c=v.useCallback(u=>{if(a){const d=typeof u=="function"?u(t):u;d!==t&&l(d)}else s(u)},[a,t,s,l]);return[o,c]}function Qoe({defaultProp:t,onChange:e}){const r=v.useState(t),[n]=r,s=v.useRef(n),a=Gr(e);return v.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),r}var Loe="VisuallyHidden",tx=v.forwardRef((t,e)=>i.jsx(et.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));tx.displayName=Loe;var $oe=tx,MP="ToastProvider",[QP,Hoe,Voe]=v_("Toast"),[TK,vnt]=aa("Toast",[Voe]),[Koe,y_]=TK(MP),IK=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=t,[l,c]=v.useState(null),[u,A]=v.useState(0),d=v.useRef(!1),h=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${MP}\`. Expected non-empty \`string\`.`),i.jsx(QP.Provider,{scope:e,children:i.jsx(Koe,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>A(f=>f+1),[]),onToastRemove:v.useCallback(()=>A(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};IK.displayName=MP;var PK="ToastViewport",zoe=["F8"],ok="toast.viewportPause",lk="toast.viewportResume",OK=v.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=zoe,label:s="Notifications ({hotkey})",...a}=t,o=y_(PK,r),l=Hoe(r),c=v.useRef(null),u=v.useRef(null),A=v.useRef(null),d=v.useRef(null),h=yt(e,d,o.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=o.toastCount>0;v.useEffect(()=>{const g=y=>{var b;n.length!==0&&n.every(j=>y[j]||y.code===j)&&((b=d.current)==null||b.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),v.useEffect(()=>{const g=c.current,y=d.current;if(m&&g&&y){const x=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(ok);y.dispatchEvent(E),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(lk);y.dispatchEvent(E),o.isClosePausedRef.current=!1}},j=E=>{!g.contains(E.relatedTarget)&&b()},C=()=>{g.contains(document.activeElement)||b()};return g.addEventListener("focusin",x),g.addEventListener("focusout",j),g.addEventListener("pointermove",x),g.addEventListener("pointerleave",C),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{g.removeEventListener("focusin",x),g.removeEventListener("focusout",j),g.removeEventListener("pointermove",x),g.removeEventListener("pointerleave",C),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[m,o.isClosePausedRef]);const p=v.useCallback(({tabbingDirection:g})=>{const x=l().map(b=>{const j=b.ref.current,C=[j,...ale(j)];return g==="forwards"?C:C.reverse()});return(g==="forwards"?x.reverse():x).flat()},[l]);return v.useEffect(()=>{const g=d.current;if(g){const y=x=>{var C,E,_;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const B=document.activeElement,S=x.shiftKey;if(x.target===g&&S){(C=u.current)==null||C.focus();return}const I=p({tabbingDirection:S?"backwards":"forwards"}),T=I.findIndex(D=>D===B);xE(I.slice(T+1))?x.preventDefault():S?(E=u.current)==null||E.focus():(_=A.current)==null||_.focus()}};return g.addEventListener("keydown",y),()=>g.removeEventListener("keydown",y)}},[l,p]),i.jsxs(Foe,{ref:c,role:"region","aria-label":s.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&i.jsx(ck,{ref:u,onFocusFromOutsideViewport:()=>{const g=p({tabbingDirection:"forwards"});xE(g)}}),i.jsx(QP.Slot,{scope:r,children:i.jsx(et.ol,{tabIndex:-1,...a,ref:h})}),m&&i.jsx(ck,{ref:A,onFocusFromOutsideViewport:()=>{const g=p({tabbingDirection:"backwards"});xE(g)}})]})});OK.displayName=PK;var FK="ToastFocusProxy",ck=v.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,a=y_(FK,r);return i.jsx(tx,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});ck.displayName=FK;var x_="Toast",Goe="toast.swipeStart",Woe="toast.swipeMove",qoe="toast.swipeCancel",Xoe="toast.swipeEnd",DK=v.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...o}=t,[l=!0,c]=si({prop:n,defaultProp:s,onChange:a});return i.jsx(Ms,{present:r||l,children:i.jsx(Zoe,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Gr(t.onPause),onResume:Gr(t.onResume),onSwipeStart:De(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:De(t.onSwipeMove,u=>{const{x:A,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${A}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:De(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:De(t.onSwipeEnd,u=>{const{x:A,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${A}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});DK.displayName=x_;var[Joe,Yoe]=TK(x_,{onClose(){}}),Zoe=v.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:A,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:f,...m}=t,p=y_(x_,r),[g,y]=v.useState(null),x=yt(e,D=>y(D)),b=v.useRef(null),j=v.useRef(null),C=s||p.duration,E=v.useRef(0),_=v.useRef(C),B=v.useRef(0),{onToastAdd:S,onToastRemove:N}=p,P=Gr(()=>{var M;(g==null?void 0:g.contains(document.activeElement))&&((M=p.viewport)==null||M.focus()),o()}),I=v.useCallback(D=>{!D||D===1/0||(window.clearTimeout(B.current),E.current=new Date().getTime(),B.current=window.setTimeout(P,D))},[P]);v.useEffect(()=>{const D=p.viewport;if(D){const M=()=>{I(_.current),u==null||u()},H=()=>{const U=new Date().getTime()-E.current;_.current=_.current-U,window.clearTimeout(B.current),c==null||c()};return D.addEventListener(ok,H),D.addEventListener(lk,M),()=>{D.removeEventListener(ok,H),D.removeEventListener(lk,M)}}},[p.viewport,C,c,u,I]),v.useEffect(()=>{a&&!p.isClosePausedRef.current&&I(C)},[a,C,p.isClosePausedRef,I]),v.useEffect(()=>(S(),()=>N()),[S,N]);const T=v.useMemo(()=>g?HK(g):null,[g]);return p.viewport?i.jsxs(i.Fragment,{children:[T&&i.jsx(ele,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:T}),i.jsx(Joe,{scope:r,onClose:P,children:Cd.createPortal(i.jsx(QP.ItemSlot,{scope:r,children:i.jsx(Ooe,{asChild:!0,onEscapeKeyDown:De(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||P(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(et.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":p.swipeDirection,...m,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:De(t.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:De(t.onPointerDown,D=>{D.button===0&&(b.current={x:D.clientX,y:D.clientY})}),onPointerMove:De(t.onPointerMove,D=>{if(!b.current)return;const M=D.clientX-b.current.x,H=D.clientY-b.current.y,U=!!j.current,O=["left","right"].includes(p.swipeDirection),R=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,Q=O?R(0,M):0,G=O?0:R(0,H),X=D.pointerType==="touch"?10:2,se={x:Q,y:G},Z={originalEvent:D,delta:se};U?(j.current=se,B0(Woe,d,Z,{discrete:!1})):pU(se,p.swipeDirection,X)?(j.current=se,B0(Goe,A,Z,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(M)>X||Math.abs(H)>X)&&(b.current=null)}),onPointerUp:De(t.onPointerUp,D=>{const M=j.current,H=D.target;if(H.hasPointerCapture(D.pointerId)&&H.releasePointerCapture(D.pointerId),j.current=null,b.current=null,M){const U=D.currentTarget,O={originalEvent:D,delta:M};pU(M,p.swipeDirection,p.swipeThreshold)?B0(Xoe,f,O,{discrete:!0}):B0(qoe,h,O,{discrete:!0}),U.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),ele=t=>{const{__scopeToast:e,children:r,...n}=t,s=y_(x_,e),[a,o]=v.useState(!1),[l,c]=v.useState(!1);return nle(()=>o(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(ex,{asChild:!0,children:i.jsx(tx,{...n,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",r]})})})},tle="ToastTitle",RK=v.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return i.jsx(et.div,{...n,ref:e})});RK.displayName=tle;var rle="ToastDescription",UK=v.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return i.jsx(et.div,{...n,ref:e})});UK.displayName=rle;var MK="ToastAction",QK=v.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?i.jsx($K,{altText:r,asChild:!0,children:i.jsx(LP,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${MK}\`. Expected non-empty \`string\`.`),null)});QK.displayName=MK;var LK="ToastClose",LP=v.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=Yoe(LK,r);return i.jsx($K,{asChild:!0,children:i.jsx(et.button,{type:"button",...n,ref:e,onClick:De(t.onClick,s.onClose)})})});LP.displayName=LK;var $K=v.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return i.jsx(et.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function HK(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),sle(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...HK(n))}}),e}function B0(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?EK(s,a):s.dispatchEvent(a)}var pU=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),a=n>s;return e==="left"||e==="right"?a&&n>r:!a&&s>r};function nle(t=()=>{}){const e=Gr(t);gn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function sle(t){return t.nodeType===t.ELEMENT_NODE}function ale(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function xE(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var ile=IK,VK=OK,KK=DK,zK=RK,GK=UK,WK=QK,qK=LP;function XK(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=XK(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Kt(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=XK(t))&&(n&&(n+=" "),n+=e);return n}const gU=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,vU=Kt,xm=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return vU(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=e,o=Object.keys(s).map(u=>{const A=r==null?void 0:r[u],d=a==null?void 0:a[u];if(A===null)return null;const h=gU(A)||gU(d);return s[u][h]}),l=r&&Object.entries(r).reduce((u,A)=>{let[d,h]=A;return h===void 0||(u[d]=h),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,A)=>{let{class:d,className:h,...f}=A;return Object.entries(f).every(m=>{let[p,g]=m;return Array.isArray(g)?g.includes({...a,...l}[p]):{...a,...l}[p]===g})?[...u,d,h]:u},[]);return vU(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ole=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JK=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lle={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cle=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...lle,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:JK("lucide",s),...l},[...o.map(([u,A])=>v.createElement(u,A)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(t,e)=>{const r=v.forwardRef(({className:n,...s},a)=>v.createElement(cle,{ref:a,iconNode:e,className:JK(`lucide-${ole(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ule=je("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=je("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ale=je("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dle=je("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hle=je("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fle=je("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=je("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=je("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=je("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YK=je("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=je("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mle=je("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=je("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ple=je("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=je("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=je("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=je("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=je("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gle=je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vle=je("ChevronsDown",[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=je("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yle=je("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xle=je("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wle=je("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ble=je("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jle=je("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _le=je("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=je("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cle=je("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=je("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=je("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ble=je("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=je("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ele=je("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sle=je("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nle=je("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kle=je("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tle=je("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=je("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ile=je("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ple=je("Gamepad",[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ole=je("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fle=je("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=je("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dle=je("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=je("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=je("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rle=je("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ule=je("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=je("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=je("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=je("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=je("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=je("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=je("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mle=je("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=je("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=je("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=je("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qle=je("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=je("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=je("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=je("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=je("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=je("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lle=je("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $le=je("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=je("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=je("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hle=je("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=je("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=je("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=je("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vle=je("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=je("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kle=je("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zle=je("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=je("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=je("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=je("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gle=je("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=je("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=je("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=je("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wle=je("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qle=je("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=je("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xle=je("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=je("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jle=je("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yle=je("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),JP="-",Zle=t=>{const e=tce(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(JP);return l[0]===""&&l.length!==1&&l.shift(),A9(l,e)||ece(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},A9=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?A9(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const a=t.join(JP);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},EU=/^\[(.+)\]$/,ece=t=>{if(EU.test(t)){const e=EU.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},tce=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return nce(Object.entries(t.classGroups),r).forEach(([a,o])=>{gk(o,n,a,e)}),n},gk=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const a=s===""?e:SU(e,s);a.classGroupId=r;return}if(typeof s=="function"){if(rce(s)){gk(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,o])=>{gk(o,SU(e,a),r,n)})})},SU=(t,e)=>{let r=t;return e.split(JP).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},rce=t=>t.isThemeGetter,nce=(t,e)=>e?t.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[r,s]}):t,sce=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){r.has(a)?r.set(a,o):s(a,o)}}},d9="!",ace=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],a=e.length,o=l=>{const c=[];let u=0,A=0,d;for(let g=0;g<l.length;g++){let y=l[g];if(u===0){if(y===s&&(n||l.slice(g,g+a)===e)){c.push(l.slice(A,g)),A=g+a;continue}if(y==="/"){d=g;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(A),f=h.startsWith(d9),m=f?h.substring(1):h,p=d&&d>A?d-A:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},ice=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},oce=t=>({cache:sce(t.cacheSize),parseClassName:ace(t),...Zle(t)}),lce=/\s+/,cce=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,a=[],o=t.trim().split(lce);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:A,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=r(u);let m=!!f,p=n(m?h.substring(0,f):h);if(!p){if(!m){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}m=!1}const g=ice(A).join(":"),y=d?g+d9:g,x=y+p;if(a.includes(x))continue;a.push(x);const b=s(p,m);for(let j=0;j<b.length;++j){const C=b[j];a.push(y+C)}l=u+(l.length>0?" "+l:l)}return l};function uce(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=h9(e))&&(n&&(n+=" "),n+=r);return n}const h9=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=h9(t[n]))&&(r&&(r+=" "),r+=e);return r};function Ace(t,...e){let r,n,s,a=o;function o(c){const u=e.reduce((A,d)=>d(A),t());return r=oce(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const A=cce(c,r);return s(c,A),A}return function(){return a(uce.apply(null,arguments))}}const Sr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},f9=/^\[(?:([a-z-]+):)?(.+)\]$/i,dce=/^\d+\/\d+$/,hce=new Set(["px","full","screen"]),fce=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mce=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pce=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gce=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vce=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zo=t=>$h(t)||hce.has(t)||dce.test(t),Yl=t=>bm(t,"length",Bce),$h=t=>!!t&&!Number.isNaN(Number(t)),wE=t=>bm(t,"number",$h),wp=t=>!!t&&Number.isInteger(Number(t)),yce=t=>t.endsWith("%")&&$h(t.slice(0,-1)),Ct=t=>f9.test(t),Zl=t=>fce.test(t),xce=new Set(["length","size","percentage"]),wce=t=>bm(t,xce,m9),bce=t=>bm(t,"position",m9),jce=new Set(["image","url"]),_ce=t=>bm(t,jce,Sce),Cce=t=>bm(t,"",Ece),bp=()=>!0,bm=(t,e,r)=>{const n=f9.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},Bce=t=>mce.test(t)&&!pce.test(t),m9=()=>!1,Ece=t=>gce.test(t),Sce=t=>vce.test(t),Nce=()=>{const t=Sr("colors"),e=Sr("spacing"),r=Sr("blur"),n=Sr("brightness"),s=Sr("borderColor"),a=Sr("borderRadius"),o=Sr("borderSpacing"),l=Sr("borderWidth"),c=Sr("contrast"),u=Sr("grayscale"),A=Sr("hueRotate"),d=Sr("invert"),h=Sr("gap"),f=Sr("gradientColorStops"),m=Sr("gradientColorStopPositions"),p=Sr("inset"),g=Sr("margin"),y=Sr("opacity"),x=Sr("padding"),b=Sr("saturate"),j=Sr("scale"),C=Sr("sepia"),E=Sr("skew"),_=Sr("space"),B=Sr("translate"),S=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",Ct,e],I=()=>[Ct,e],T=()=>["",zo,Yl],D=()=>["auto",$h,Ct],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",Ct],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[$h,Ct];return{cacheSize:500,separator:":",theme:{colors:[bp],spacing:[zo,Yl],blur:["none","",Zl,Ct],brightness:G(),borderColor:[t],borderRadius:["none","","full",Zl,Ct],borderSpacing:I(),borderWidth:T(),contrast:G(),grayscale:R(),hueRotate:G(),invert:R(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[yce,Yl],inset:P(),margin:P(),opacity:G(),padding:I(),saturate:G(),scale:G(),sepia:R(),skew:G(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Ct]}],container:["container"],columns:[{columns:[Zl]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),Ct]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wp,Ct]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ct]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",wp,Ct]}],"grid-cols":[{"grid-cols":[bp]}],"col-start-end":[{col:["auto",{span:["full",wp,Ct]},Ct]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[bp]}],"row-start-end":[{row:["auto",{span:[wp,Ct]},Ct]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ct]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ct]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ct,e]}],"min-w":[{"min-w":[Ct,e,"min","max","fit"]}],"max-w":[{"max-w":[Ct,e,"none","full","min","max","fit","prose",{screen:[Zl]},Zl]}],h:[{h:[Ct,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ct,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ct,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ct,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Zl,Yl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wE]}],"font-family":[{font:[bp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ct]}],"line-clamp":[{"line-clamp":["none",$h,wE]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",zo,Ct]}],"list-image":[{"list-image":["none",Ct]}],"list-style-type":[{list:["none","disc","decimal",Ct]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",zo,Yl]}],"underline-offset":[{"underline-offset":["auto",zo,Ct]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),bce]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",wce]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_ce]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:H()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[zo,Ct]}],"outline-w":[{outline:[zo,Yl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[zo,Yl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Zl,Cce]}],"shadow-color":[{shadow:[bp]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Zl,Ct]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[A]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[A]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ct]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Ct]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ct]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[wp,Ct]}],"translate-x":[{"translate-x":[B]}],"translate-y":[{"translate-y":[B]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ct]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ct]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ct]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[zo,Yl,wE]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},kce=Ace(Nce);function he(...t){return kce(Kt(t))}function ge(t){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t).replace(/^IDR\s*/,"Rp")}const Tce=ile,p9=v.forwardRef(({className:t,...e},r)=>i.jsx(VK,{ref:r,className:he("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));p9.displayName=VK.displayName;const Ice=xm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),g9=v.forwardRef(({className:t,variant:e,...r},n)=>i.jsx(KK,{ref:n,className:he(Ice({variant:e}),t),...r}));g9.displayName=KK.displayName;const Pce=v.forwardRef(({className:t,...e},r)=>i.jsx(WK,{ref:r,className:he("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Pce.displayName=WK.displayName;const v9=v.forwardRef(({className:t,...e},r)=>i.jsx(qK,{ref:r,className:he("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:i.jsx(j_,{className:"h-4 w-4"})}));v9.displayName=qK.displayName;const y9=v.forwardRef(({className:t,...e},r)=>i.jsx(zK,{ref:r,className:he("text-sm font-semibold",t),...e}));y9.displayName=zK.displayName;const x9=v.forwardRef(({className:t,...e},r)=>i.jsx(GK,{ref:r,className:he("text-sm opacity-90",t),...e}));x9.displayName=GK.displayName;function Oce(){const{toasts:t}=Vi();return i.jsxs(Tce,{children:[t.map(function({id:e,title:r,description:n,action:s,...a}){return i.jsxs(g9,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(y9,{children:r}),n&&i.jsx(x9,{children:n})]}),s,i.jsx(v9,{})]},e)}),i.jsx(p9,{})]})}var NU=["light","dark"],Fce="(prefers-color-scheme: dark)",Dce=v.createContext(void 0),Rce={setTheme:t=>{},themes:[]},Uce=()=>{var t;return(t=v.useContext(Dce))!=null?t:Rce};v.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:o,attrs:l,nonce:c})=>{let u=a==="system",A=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=s?NU.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(m,p=!1,g=!0)=>{let y=o?o[m]:m,x=p?m+"|| ''":`'${y}'`,b="";return s&&g&&!p&&NU.includes(m)&&(b+=`d.style.colorScheme = '${m}';`),r==="class"?p||y?b+=`c.add(${x})`:b+="null":y&&(b+=`d[s](n,${x})`),b},f=t?`!function(){${A}${h(t)}}()`:n?`!function(){try{${A}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${Fce}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(a,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${A}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${d}}catch(t){}}();`;return v.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:f}})});var Mce=t=>{switch(t){case"success":return $ce;case"info":return Vce;case"warning":return Hce;case"error":return Kce;default:return null}},Qce=Array(12).fill(0),Lce=({visible:t})=>$.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},$.createElement("div",{className:"sonner-spinner"},Qce.map((e,r)=>$.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),$ce=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Hce=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Vce=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Kce=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),zce=()=>{let[t,e]=$.useState(document.hidden);return $.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},vk=1,Gce=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;let{message:n,...s}=e,a=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:vk++,o=this.toasts.find(c=>c.id===a),l=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...e,id:a,title:n}),{...c,...e,id:a,dismissible:l,title:n}):c):this.addToast({title:n,...s,dismissible:l,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:e,dismiss:!0})),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let s=e instanceof Promise?e:e(),a=n!==void 0;return s.then(async o=>{if(qce(o)&&!o.ok){a=!1;let l=typeof r.error=="function"?await r.error(`HTTP error! status: ${o.status}`):r.error,c=typeof r.description=="function"?await r.description(`HTTP error! status: ${o.status}`):r.description;this.create({id:n,type:"error",message:l,description:c})}else if(r.success!==void 0){a=!1;let l=typeof r.success=="function"?await r.success(o):r.success,c=typeof r.description=="function"?await r.description(o):r.description;this.create({id:n,type:"success",message:l,description:c})}}).catch(async o=>{if(r.error!==void 0){a=!1;let l=typeof r.error=="function"?await r.error(o):r.error,c=typeof r.description=="function"?await r.description(o):r.description;this.create({id:n,type:"error",message:l,description:c})}}).finally(()=>{var o;a&&(this.dismiss(n),n=void 0),(o=r.finally)==null||o.call(r)}),n},this.custom=(e,r)=>{let n=(r==null?void 0:r.id)||vk++;return this.create({jsx:e(n),id:n,...r}),n},this.subscribers=[],this.toasts=[]}},fa=new Gce,Wce=(t,e)=>{let r=(e==null?void 0:e.id)||vk++;return fa.addToast({title:t,...e,id:r}),r},qce=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Xce=Wce,Jce=()=>fa.toasts;Object.assign(Xce,{success:fa.success,info:fa.info,warning:fa.warning,error:fa.error,custom:fa.custom,message:fa.message,promise:fa.promise,dismiss:fa.dismiss,loading:fa.loading},{getHistory:Jce});function Yce(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Yce(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function E0(t){return t.label!==void 0}var Zce=3,eue="32px",tue=4e3,rue=356,nue=14,sue=20,aue=200;function iue(...t){return t.filter(Boolean).join(" ")}var oue=t=>{var e,r,n,s,a,o,l,c,u,A;let{invert:d,toast:h,unstyled:f,interacting:m,setHeights:p,visibleToasts:g,heights:y,index:x,toasts:b,expanded:j,removeToast:C,defaultRichColors:E,closeButton:_,style:B,cancelButtonStyle:S,actionButtonStyle:N,className:P="",descriptionClassName:I="",duration:T,position:D,gap:M,loadingIcon:H,expandByDefault:U,classNames:O,icons:R,closeButtonAriaLabel:Q="Close toast",pauseWhenPageIsHidden:G,cn:X}=t,[se,Z]=$.useState(!1),[K,ne]=$.useState(!1),[ue,le]=$.useState(!1),[Ae,me]=$.useState(!1),[_e,W]=$.useState(0),[we,Oe]=$.useState(0),qe=$.useRef(null),Ze=$.useRef(null),It=x===0,z=x+1<=g,ee=h.type,ae=h.dismissible!==!1,Ce=h.className||"",Ne=h.descriptionClassName||"",be=$.useMemo(()=>y.findIndex(gt=>gt.toastId===h.id)||0,[y,h.id]),Ye=$.useMemo(()=>{var gt;return(gt=h.closeButton)!=null?gt:_},[h.closeButton,_]),ft=$.useMemo(()=>h.duration||T||tue,[h.duration,T]),it=$.useRef(0),mt=$.useRef(0),bs=$.useRef(0),ci=$.useRef(null),[$o,Hu]=D.split("-"),Xi=$.useMemo(()=>y.reduce((gt,lr,nr)=>nr>=be?gt:gt+lr.height,0),[y,be]),zl=zce(),Pd=h.invert||d,Ji=ee==="loading";mt.current=$.useMemo(()=>be*M+Xi,[be,Xi]),$.useEffect(()=>{Z(!0)},[]),$.useLayoutEffect(()=>{if(!se)return;let gt=Ze.current,lr=gt.style.height;gt.style.height="auto";let nr=gt.getBoundingClientRect().height;gt.style.height=lr,Oe(nr),p(Yn=>Yn.find(Ls=>Ls.toastId===h.id)?Yn.map(Ls=>Ls.toastId===h.id?{...Ls,height:nr}:Ls):[{toastId:h.id,height:nr,position:h.position},...Yn])},[se,h.title,h.description,p,h.id]);let Yi=$.useCallback(()=>{ne(!0),W(mt.current),p(gt=>gt.filter(lr=>lr.toastId!==h.id)),setTimeout(()=>{C(h)},aue)},[h,C,p,mt]);$.useEffect(()=>{if(h.promise&&ee==="loading"||h.duration===1/0||h.type==="loading")return;let gt,lr=ft;return j||m||G&&zl?(()=>{if(bs.current<it.current){let nr=new Date().getTime()-it.current;lr=lr-nr}bs.current=new Date().getTime()})():lr!==1/0&&(it.current=new Date().getTime(),gt=setTimeout(()=>{var nr;(nr=h.onAutoClose)==null||nr.call(h,h),Yi()},lr)),()=>clearTimeout(gt)},[j,m,U,h,ft,Yi,h.promise,ee,G,zl]),$.useEffect(()=>{let gt=Ze.current;if(gt){let lr=gt.getBoundingClientRect().height;return Oe(lr),p(nr=>[{toastId:h.id,height:lr,position:h.position},...nr]),()=>p(nr=>nr.filter(Yn=>Yn.toastId!==h.id))}},[p,h.id]),$.useEffect(()=>{h.delete&&Yi()},[Yi,h.delete]);function IB(){return R!=null&&R.loading?$.createElement("div",{className:"sonner-loader","data-visible":ee==="loading"},R.loading):H?$.createElement("div",{className:"sonner-loader","data-visible":ee==="loading"},H):$.createElement(Lce,{visible:ee==="loading"})}return $.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Ze,className:X(P,Ce,O==null?void 0:O.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,O==null?void 0:O.default,O==null?void 0:O[ee],(r=h==null?void 0:h.classNames)==null?void 0:r[ee]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:E,"data-styled":!(h.jsx||h.unstyled||f),"data-mounted":se,"data-promise":!!h.promise,"data-removed":K,"data-visible":z,"data-y-position":$o,"data-x-position":Hu,"data-index":x,"data-front":It,"data-swiping":ue,"data-dismissible":ae,"data-type":ee,"data-invert":Pd,"data-swipe-out":Ae,"data-expanded":!!(j||U&&se),style:{"--index":x,"--toasts-before":x,"--z-index":b.length-x,"--offset":`${K?_e:mt.current}px`,"--initial-height":U?"auto":`${we}px`,...B,...h.style},onPointerDown:gt=>{Ji||!ae||(qe.current=new Date,W(mt.current),gt.target.setPointerCapture(gt.pointerId),gt.target.tagName!=="BUTTON"&&(le(!0),ci.current={x:gt.clientX,y:gt.clientY}))},onPointerUp:()=>{var gt,lr,nr,Yn;if(Ae||!ae)return;ci.current=null;let Ls=Number(((gt=Ze.current)==null?void 0:gt.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Gl=new Date().getTime()-((lr=qe.current)==null?void 0:lr.getTime()),Ho=Math.abs(Ls)/Gl;if(Math.abs(Ls)>=sue||Ho>.11){W(mt.current),(nr=h.onDismiss)==null||nr.call(h,h),Yi(),me(!0);return}(Yn=Ze.current)==null||Yn.style.setProperty("--swipe-amount","0px"),le(!1)},onPointerMove:gt=>{var lr;if(!ci.current||!ae)return;let nr=gt.clientY-ci.current.y,Yn=gt.clientX-ci.current.x,Ls=($o==="top"?Math.min:Math.max)(0,nr),Gl=gt.pointerType==="touch"?10:2;Math.abs(Ls)>Gl?(lr=Ze.current)==null||lr.style.setProperty("--swipe-amount",`${nr}px`):Math.abs(Yn)>Gl&&(ci.current=null)}},Ye&&!h.jsx?$.createElement("button",{"aria-label":Q,"data-disabled":Ji,"data-close-button":!0,onClick:Ji||!ae?()=>{}:()=>{var gt;Yi(),(gt=h.onDismiss)==null||gt.call(h,h)},className:X(O==null?void 0:O.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||$.isValidElement(h.title)?h.jsx||h.title:$.createElement($.Fragment,null,ee||h.icon||h.promise?$.createElement("div",{"data-icon":"",className:X(O==null?void 0:O.icon,(a=h==null?void 0:h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||IB():null,h.type!=="loading"?h.icon||(R==null?void 0:R[ee])||Mce(ee):null):null,$.createElement("div",{"data-content":"",className:X(O==null?void 0:O.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},$.createElement("div",{"data-title":"",className:X(O==null?void 0:O.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?$.createElement("div",{"data-description":"",className:X(I,Ne,O==null?void 0:O.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),$.isValidElement(h.cancel)?h.cancel:h.cancel&&E0(h.cancel)?$.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||S,onClick:gt=>{var lr,nr;E0(h.cancel)&&ae&&((nr=(lr=h.cancel).onClick)==null||nr.call(lr,gt),Yi())},className:X(O==null?void 0:O.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,$.isValidElement(h.action)?h.action:h.action&&E0(h.action)?$.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||N,onClick:gt=>{var lr,nr;E0(h.action)&&(gt.defaultPrevented||((nr=(lr=h.action).onClick)==null||nr.call(lr,gt),Yi()))},className:X(O==null?void 0:O.actionButton,(A=h==null?void 0:h.classNames)==null?void 0:A.actionButton)},h.action.label):null))};function kU(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var lue=t=>{let{invert:e,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:l,theme:c="light",richColors:u,duration:A,style:d,visibleToasts:h=Zce,toastOptions:f,dir:m=kU(),gap:p=nue,loadingIcon:g,icons:y,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:b,cn:j=iue}=t,[C,E]=$.useState([]),_=$.useMemo(()=>Array.from(new Set([r].concat(C.filter(G=>G.position).map(G=>G.position)))),[C,r]),[B,S]=$.useState([]),[N,P]=$.useState(!1),[I,T]=$.useState(!1),[D,M]=$.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=$.useRef(null),U=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=$.useRef(null),R=$.useRef(!1),Q=$.useCallback(G=>{var X;(X=C.find(se=>se.id===G.id))!=null&&X.delete||fa.dismiss(G.id),E(se=>se.filter(({id:Z})=>Z!==G.id))},[C]);return $.useEffect(()=>fa.subscribe(G=>{if(G.dismiss){E(X=>X.map(se=>se.id===G.id?{...se,delete:!0}:se));return}setTimeout(()=>{_K.flushSync(()=>{E(X=>{let se=X.findIndex(Z=>Z.id===G.id);return se!==-1?[...X.slice(0,se),{...X[se],...G},...X.slice(se+1)]:[G,...X]})})})}),[]),$.useEffect(()=>{if(c!=="system"){M(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:G})=>{M(G?"dark":"light")})},[c]),$.useEffect(()=>{C.length<=1&&P(!1)},[C]),$.useEffect(()=>{let G=X=>{var se,Z;n.every(K=>X[K]||X.code===K)&&(P(!0),(se=H.current)==null||se.focus()),X.code==="Escape"&&(document.activeElement===H.current||(Z=H.current)!=null&&Z.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[n]),$.useEffect(()=>{if(H.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,R.current=!1)}},[H.current]),C.length?$.createElement("section",{"aria-label":`${x} ${U}`,tabIndex:-1},_.map((G,X)=>{var se;let[Z,K]=G.split("-");return $.createElement("ol",{key:G,dir:m==="auto"?kU():m,tabIndex:-1,ref:H,className:o,"data-sonner-toaster":!0,"data-theme":D,"data-y-position":Z,"data-x-position":K,style:{"--front-toast-height":`${((se=B[0])==null?void 0:se.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||eue,"--width":`${rue}px`,"--gap":`${p}px`,...d},onBlur:ne=>{R.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(R.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||R.current||(R.current=!0,O.current=ne.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{I||P(!1)},onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||T(!0)},onPointerUp:()=>T(!1)},C.filter(ne=>!ne.position&&X===0||ne.position===G).map((ne,ue)=>{var le,Ae;return $.createElement(oue,{key:ne.id,icons:y,index:ue,toast:ne,defaultRichColors:u,duration:(le=f==null?void 0:f.duration)!=null?le:A,className:f==null?void 0:f.className,descriptionClassName:f==null?void 0:f.descriptionClassName,invert:e,visibleToasts:h,closeButton:(Ae=f==null?void 0:f.closeButton)!=null?Ae:a,interacting:I,position:G,style:f==null?void 0:f.style,unstyled:f==null?void 0:f.unstyled,classNames:f==null?void 0:f.classNames,cancelButtonStyle:f==null?void 0:f.cancelButtonStyle,actionButtonStyle:f==null?void 0:f.actionButtonStyle,removeToast:Q,toasts:C.filter(me=>me.position==ne.position),heights:B.filter(me=>me.position==ne.position),setHeights:S,expandByDefault:s,gap:p,loadingIcon:g,expanded:N,pauseWhenPageIsHidden:b,cn:j})}))})):null};const cue=({...t})=>{const{theme:e="system"}=Uce();return i.jsx(lue,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var uue=wV.useId||(()=>{}),Aue=0;function jo(t){const[e,r]=v.useState(uue());return gn(()=>{r(n=>n??String(Aue++))},[t]),e?`radix-${e}`:""}const due=["top","right","bottom","left"],cu=Math.min,va=Math.max,Wb=Math.round,S0=Math.floor,uu=t=>({x:t,y:t}),hue={left:"right",right:"left",bottom:"top",top:"bottom"},fue={start:"end",end:"start"};function yk(t,e,r){return va(t,cu(e,r))}function El(t,e){return typeof t=="function"?t(e):t}function Sl(t){return t.split("-")[0]}function jm(t){return t.split("-")[1]}function YP(t){return t==="x"?"y":"x"}function ZP(t){return t==="y"?"height":"width"}function Au(t){return["top","bottom"].includes(Sl(t))?"y":"x"}function eO(t){return YP(Au(t))}function mue(t,e,r){r===void 0&&(r=!1);const n=jm(t),s=eO(t),a=ZP(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=qb(o)),[o,qb(o)]}function pue(t){const e=qb(t);return[xk(t),e,xk(e)]}function xk(t){return t.replace(/start|end/g,e=>fue[e])}function gue(t,e,r){const n=["left","right"],s=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?s:n:e?n:s;case"left":case"right":return e?a:o;default:return[]}}function vue(t,e,r,n){const s=jm(t);let a=gue(Sl(t),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),e&&(a=a.concat(a.map(xk)))),a}function qb(t){return t.replace(/left|right|bottom|top/g,e=>hue[e])}function yue(t){return{top:0,right:0,bottom:0,left:0,...t}}function w9(t){return typeof t!="number"?yue(t):{top:t,right:t,bottom:t,left:t}}function Xb(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function TU(t,e,r){let{reference:n,floating:s}=t;const a=Au(e),o=eO(e),l=ZP(o),c=Sl(e),u=a==="y",A=n.x+n.width/2-s.width/2,d=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let f;switch(c){case"top":f={x:A,y:n.y-s.height};break;case"bottom":f={x:A,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:d};break;case"left":f={x:n.x-s.width,y:d};break;default:f={x:n.x,y:n.y}}switch(jm(e)){case"start":f[o]-=h*(r&&u?-1:1);break;case"end":f[o]+=h*(r&&u?-1:1);break}return f}const xue=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:A,y:d}=TU(u,n,c),h=n,f={},m=0;for(let p=0;p<l.length;p++){const{name:g,fn:y}=l[p],{x,y:b,data:j,reset:C}=await y({x:A,y:d,initialPlacement:n,placement:h,strategy:s,middlewareData:f,rects:u,platform:o,elements:{reference:t,floating:e}});A=x??A,d=b??d,f={...f,[g]:{...f[g],...j}},C&&m<=50&&(m++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):C.rects),{x:A,y:d}=TU(u,h,c)),p=-1)}return{x:A,y:d,placement:h,strategy:s,middlewareData:f}};async function yv(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:A="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=El(e,t),m=w9(f),g=l[h?d==="floating"?"reference":"floating":d],y=Xb(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(g)))==null||r?g:g.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:A,strategy:c})),x=d==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},C=Xb(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:c}):x);return{top:(y.top-C.top+m.top)/j.y,bottom:(C.bottom-y.bottom+m.bottom)/j.y,left:(y.left-C.left+m.left)/j.x,right:(C.right-y.right+m.right)/j.x}}const wue=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:A=0}=El(t,e)||{};if(u==null)return{};const d=w9(A),h={x:r,y:n},f=eO(s),m=ZP(f),p=await o.getDimensions(u),g=f==="y",y=g?"top":"left",x=g?"bottom":"right",b=g?"clientHeight":"clientWidth",j=a.reference[m]+a.reference[f]-h[f]-a.floating[m],C=h[f]-a.reference[f],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let _=E?E[b]:0;(!_||!await(o.isElement==null?void 0:o.isElement(E)))&&(_=l.floating[b]||a.floating[m]);const B=j/2-C/2,S=_/2-p[m]/2-1,N=cu(d[y],S),P=cu(d[x],S),I=N,T=_-p[m]-P,D=_/2-p[m]/2+B,M=yk(I,D,T),H=!c.arrow&&jm(s)!=null&&D!==M&&a.reference[m]/2-(D<I?N:P)-p[m]/2<0,U=H?D<I?D-I:D-T:0;return{[f]:h[f]+U,data:{[f]:M,centerOffset:D-M-U,...H&&{alignmentOffset:U}},reset:H}}}),bue=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:A=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,...g}=El(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=Sl(s),x=Au(l),b=Sl(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=h||(b||!p?[qb(l)]:pue(l)),E=m!=="none";!h&&E&&C.push(...vue(l,p,m,j));const _=[l,...C],B=await yv(e,g),S=[];let N=((n=a.flip)==null?void 0:n.overflows)||[];if(A&&S.push(B[y]),d){const D=mue(s,o,j);S.push(B[D[0]],B[D[1]])}if(N=[...N,{placement:s,overflows:S}],!S.every(D=>D<=0)){var P,I;const D=(((P=a.flip)==null?void 0:P.index)||0)+1,M=_[D];if(M)return{data:{index:D,overflows:N},reset:{placement:M}};let H=(I=N.filter(U=>U.overflows[0]<=0).sort((U,O)=>U.overflows[1]-O.overflows[1])[0])==null?void 0:I.placement;if(!H)switch(f){case"bestFit":{var T;const U=(T=N.filter(O=>{if(E){const R=Au(O.placement);return R===x||R==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(R=>R>0).reduce((R,Q)=>R+Q,0)]).sort((O,R)=>O[1]-R[1])[0])==null?void 0:T[0];U&&(H=U);break}case"initialPlacement":H=l;break}if(s!==H)return{reset:{placement:H}}}return{}}}};function IU(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function PU(t){return due.some(e=>t[e]>=0)}const jue=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=El(t,e);switch(n){case"referenceHidden":{const a=await yv(e,{...s,elementContext:"reference"}),o=IU(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:PU(o)}}}case"escaped":{const a=await yv(e,{...s,altBoundary:!0}),o=IU(a,r.floating);return{data:{escapedOffsets:o,escaped:PU(o)}}}default:return{}}}}};async function _ue(t,e){const{placement:r,platform:n,elements:s}=t,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Sl(r),l=jm(r),c=Au(r)==="y",u=["left","top"].includes(o)?-1:1,A=a&&c?-1:1,d=El(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof m=="number"&&(f=l==="end"?m*-1:m),c?{x:f*A,y:h*u}:{x:h*u,y:f*A}}const Cue=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=e,c=await _ue(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},Bue=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:y,y:x}=g;return{x:y,y:x}}},...c}=El(t,e),u={x:r,y:n},A=await yv(e,c),d=Au(Sl(s)),h=YP(d);let f=u[h],m=u[d];if(a){const g=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=f+A[g],b=f-A[y];f=yk(x,f,b)}if(o){const g=d==="y"?"top":"left",y=d==="y"?"bottom":"right",x=m+A[g],b=m-A[y];m=yk(x,m,b)}const p=l.fn({...e,[h]:f,[d]:m});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:a,[d]:o}}}}}},Eue=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=El(t,e),A={x:r,y:n},d=Au(s),h=YP(d);let f=A[h],m=A[d];const p=El(l,e),g=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const b=h==="y"?"height":"width",j=a.reference[h]-a.floating[b]+g.mainAxis,C=a.reference[h]+a.reference[b]-g.mainAxis;f<j?f=j:f>C&&(f=C)}if(u){var y,x;const b=h==="y"?"width":"height",j=["top","left"].includes(Sl(s)),C=a.reference[d]-a.floating[b]+(j&&((y=o.offset)==null?void 0:y[d])||0)+(j?0:g.crossAxis),E=a.reference[d]+a.reference[b]+(j?0:((x=o.offset)==null?void 0:x[d])||0)-(j?g.crossAxis:0);m<C?m=C:m>E&&(m=E)}return{[h]:f,[d]:m}}}},Sue=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...u}=El(t,e),A=await yv(e,u),d=Sl(s),h=jm(s),f=Au(s)==="y",{width:m,height:p}=a.floating;let g,y;d==="top"||d==="bottom"?(g=d,y=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=d,g=h==="end"?"top":"bottom");const x=p-A.top-A.bottom,b=m-A.left-A.right,j=cu(p-A[g],x),C=cu(m-A[y],b),E=!e.middlewareData.shift;let _=j,B=C;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(B=b),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(_=x),E&&!h){const N=va(A.left,0),P=va(A.right,0),I=va(A.top,0),T=va(A.bottom,0);f?B=m-2*(N!==0||P!==0?N+P:va(A.left,A.right)):_=p-2*(I!==0||T!==0?I+T:va(A.top,A.bottom))}await c({...e,availableWidth:B,availableHeight:_});const S=await o.getDimensions(l.floating);return m!==S.width||p!==S.height?{reset:{rects:!0}}:{}}}};function __(){return typeof window<"u"}function _m(t){return b9(t)?(t.nodeName||"").toLowerCase():"#document"}function Ca(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ro(t){var e;return(e=(b9(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function b9(t){return __()?t instanceof Node||t instanceof Ca(t).Node:!1}function Qi(t){return __()?t instanceof Element||t instanceof Ca(t).Element:!1}function No(t){return __()?t instanceof HTMLElement||t instanceof Ca(t).HTMLElement:!1}function OU(t){return!__()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ca(t).ShadowRoot}function sx(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Li(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(s)}function Nue(t){return["table","td","th"].includes(_m(t))}function C_(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function tO(t){const e=rO(),r=Qi(t)?Li(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function kue(t){let e=du(t);for(;No(e)&&!Cf(e);){if(tO(e))return e;if(C_(e))return null;e=du(e)}return null}function rO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Cf(t){return["html","body","#document"].includes(_m(t))}function Li(t){return Ca(t).getComputedStyle(t)}function B_(t){return Qi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function du(t){if(_m(t)==="html")return t;const e=t.assignedSlot||t.parentNode||OU(t)&&t.host||Ro(t);return OU(e)?e.host:e}function j9(t){const e=du(t);return Cf(e)?t.ownerDocument?t.ownerDocument.body:t.body:No(e)&&sx(e)?e:j9(e)}function xv(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=j9(t),a=s===((n=t.ownerDocument)==null?void 0:n.body),o=Ca(s);if(a){const l=wk(o);return e.concat(o,o.visualViewport||[],sx(s)?s:[],l&&r?xv(l):[])}return e.concat(s,xv(s,[],r))}function wk(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function _9(t){const e=Li(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=No(t),a=s?t.offsetWidth:r,o=s?t.offsetHeight:n,l=Wb(r)!==a||Wb(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function nO(t){return Qi(t)?t:t.contextElement}function Hh(t){const e=nO(t);if(!No(e))return uu(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:a}=_9(e);let o=(a?Wb(r.width):r.width)/n,l=(a?Wb(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Tue=uu(0);function C9(t){const e=Ca(t);return!rO()||!e.visualViewport?Tue:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Iue(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Ca(t)?!1:e}function td(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),a=nO(t);let o=uu(1);e&&(n?Qi(n)&&(o=Hh(n)):o=Hh(t));const l=Iue(a,r,n)?C9(a):uu(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,A=s.width/o.x,d=s.height/o.y;if(a){const h=Ca(a),f=n&&Qi(n)?Ca(n):n;let m=h,p=wk(m);for(;p&&n&&f!==m;){const g=Hh(p),y=p.getBoundingClientRect(),x=Li(p),b=y.left+(p.clientLeft+parseFloat(x.paddingLeft))*g.x,j=y.top+(p.clientTop+parseFloat(x.paddingTop))*g.y;c*=g.x,u*=g.y,A*=g.x,d*=g.y,c+=b,u+=j,m=Ca(p),p=wk(m)}}return Xb({width:A,height:d,x:c,y:u})}function Pue(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const a=s==="fixed",o=Ro(n),l=e?C_(e.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=uu(1);const A=uu(0),d=No(n);if((d||!d&&!a)&&((_m(n)!=="body"||sx(o))&&(c=B_(n)),No(n))){const h=td(n);u=Hh(n),A.x=h.x+n.clientLeft,A.y=h.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+A.x,y:r.y*u.y-c.scrollTop*u.y+A.y}}function Oue(t){return Array.from(t.getClientRects())}function bk(t,e){const r=B_(t).scrollLeft;return e?e.left+r:td(Ro(t)).left+r}function Fue(t){const e=Ro(t),r=B_(t),n=t.ownerDocument.body,s=va(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=va(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+bk(t);const l=-r.scrollTop;return Li(n).direction==="rtl"&&(o+=va(e.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}function Due(t,e){const r=Ca(t),n=Ro(t),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const u=rO();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l,y:c}}function Rue(t,e){const r=td(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,a=No(t)?Hh(t):uu(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:o,height:l,x:c,y:u}}function FU(t,e,r){let n;if(e==="viewport")n=Due(t,r);else if(e==="document")n=Fue(Ro(t));else if(Qi(e))n=Rue(e,r);else{const s=C9(t);n={...e,x:e.x-s.x,y:e.y-s.y}}return Xb(n)}function B9(t,e){const r=du(t);return r===e||!Qi(r)||Cf(r)?!1:Li(r).position==="fixed"||B9(r,e)}function Uue(t,e){const r=e.get(t);if(r)return r;let n=xv(t,[],!1).filter(l=>Qi(l)&&_m(l)!=="body"),s=null;const a=Li(t).position==="fixed";let o=a?du(t):t;for(;Qi(o)&&!Cf(o);){const l=Li(o),c=tO(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||sx(o)&&!c&&B9(t,o))?n=n.filter(A=>A!==o):s=l,o=du(o)}return e.set(t,n),n}function Mue(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const o=[...r==="clippingAncestors"?C_(e)?[]:Uue(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,A)=>{const d=FU(e,A,s);return u.top=va(d.top,u.top),u.right=cu(d.right,u.right),u.bottom=cu(d.bottom,u.bottom),u.left=va(d.left,u.left),u},FU(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Que(t){const{width:e,height:r}=_9(t);return{width:e,height:r}}function Lue(t,e,r){const n=No(e),s=Ro(e),a=r==="fixed",o=td(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=uu(0);if(n||!n&&!a)if((_m(e)!=="body"||sx(s))&&(l=B_(e)),n){const f=td(e,!0,a,e);c.x=f.x+e.clientLeft,c.y=f.y+e.clientTop}else s&&(c.x=bk(s));let u=0,A=0;if(s&&!n&&!a){const f=s.getBoundingClientRect();A=f.top+l.scrollTop,u=f.left+l.scrollLeft-bk(s,f)}const d=o.left+l.scrollLeft-c.x-u,h=o.top+l.scrollTop-c.y-A;return{x:d,y:h,width:o.width,height:o.height}}function bE(t){return Li(t).position==="static"}function DU(t,e){if(!No(t)||Li(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Ro(t)===r&&(r=r.ownerDocument.body),r}function E9(t,e){const r=Ca(t);if(C_(t))return r;if(!No(t)){let s=du(t);for(;s&&!Cf(s);){if(Qi(s)&&!bE(s))return s;s=du(s)}return r}let n=DU(t,e);for(;n&&Nue(n)&&bE(n);)n=DU(n,e);return n&&Cf(n)&&bE(n)&&!tO(n)?r:n||kue(t)||r}const $ue=async function(t){const e=this.getOffsetParent||E9,r=this.getDimensions,n=await r(t.floating);return{reference:Lue(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Hue(t){return Li(t).direction==="rtl"}const Vue={convertOffsetParentRelativeRectToViewportRelativeRect:Pue,getDocumentElement:Ro,getClippingRect:Mue,getOffsetParent:E9,getElementRects:$ue,getClientRects:Oue,getDimensions:Que,getScale:Hh,isElement:Qi,isRTL:Hue};function Kue(t,e){let r=null,n;const s=Ro(t);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const{left:u,top:A,width:d,height:h}=t.getBoundingClientRect();if(l||e(),!d||!h)return;const f=S0(A),m=S0(s.clientWidth-(u+d)),p=S0(s.clientHeight-(A+h)),g=S0(u),x={rootMargin:-f+"px "+-m+"px "+-p+"px "+-g+"px",threshold:va(0,cu(1,c))||1};let b=!0;function j(C){const E=C[0].intersectionRatio;if(E!==c){if(!b)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(j,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,x)}r.observe(t)}return o(!0),a}function zue(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=nO(t),A=s||a?[...u?xv(u):[],...xv(e)]:[];A.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),a&&y.addEventListener("resize",r)});const d=u&&l?Kue(u,r):null;let h=-1,f=null;o&&(f=new ResizeObserver(y=>{let[x]=y;x&&x.target===u&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(e)})),r()}),u&&!c&&f.observe(u),f.observe(e));let m,p=c?td(t):null;c&&g();function g(){const y=td(t);p&&(y.x!==p.x||y.y!==p.y||y.width!==p.width||y.height!==p.height)&&r(),p=y,m=requestAnimationFrame(g)}return r(),()=>{var y;A.forEach(x=>{s&&x.removeEventListener("scroll",r),a&&x.removeEventListener("resize",r)}),d==null||d(),(y=f)==null||y.disconnect(),f=null,c&&cancelAnimationFrame(m)}}const Gue=Cue,Wue=Bue,que=bue,Xue=Sue,Jue=jue,RU=wue,Yue=Eue,Zue=(t,e,r)=>{const n=new Map,s={platform:Vue,...r},a={...s.platform,_c:n};return xue(t,e,{...s,platform:a})};var Ww=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Jb(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Jb(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&t.$$typeof)&&!Jb(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function S9(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function UU(t,e){const r=S9(t);return Math.round(e*r)/r}function jE(t){const e=v.useRef(t);return Ww(()=>{e.current=t}),e}function eAe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[A,d]=v.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,f]=v.useState(n);Jb(h,n)||f(n);const[m,p]=v.useState(null),[g,y]=v.useState(null),x=v.useCallback(O=>{O!==E.current&&(E.current=O,p(O))},[]),b=v.useCallback(O=>{O!==_.current&&(_.current=O,y(O))},[]),j=a||m,C=o||g,E=v.useRef(null),_=v.useRef(null),B=v.useRef(A),S=c!=null,N=jE(c),P=jE(s),I=jE(u),T=v.useCallback(()=>{if(!E.current||!_.current)return;const O={placement:e,strategy:r,middleware:h};P.current&&(O.platform=P.current),Zue(E.current,_.current,O).then(R=>{const Q={...R,isPositioned:I.current!==!1};D.current&&!Jb(B.current,Q)&&(B.current=Q,Cd.flushSync(()=>{d(Q)}))})},[h,e,r,P,I]);Ww(()=>{u===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,d(O=>({...O,isPositioned:!1})))},[u]);const D=v.useRef(!1);Ww(()=>(D.current=!0,()=>{D.current=!1}),[]),Ww(()=>{if(j&&(E.current=j),C&&(_.current=C),j&&C){if(N.current)return N.current(j,C,T);T()}},[j,C,T,N,S]);const M=v.useMemo(()=>({reference:E,floating:_,setReference:x,setFloating:b}),[x,b]),H=v.useMemo(()=>({reference:j,floating:C}),[j,C]),U=v.useMemo(()=>{const O={position:r,left:0,top:0};if(!H.floating)return O;const R=UU(H.floating,A.x),Q=UU(H.floating,A.y);return l?{...O,transform:"translate("+R+"px, "+Q+"px)",...S9(H.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:Q}},[r,l,H.floating,A.x,A.y]);return v.useMemo(()=>({...A,update:T,refs:M,elements:H,floatingStyles:U}),[A,T,M,H,U])}const tAe=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?RU({element:n.current,padding:s}).fn(r):{}:n?RU({element:n,padding:s}).fn(r):{}}}},rAe=(t,e)=>({...Gue(t),options:[t,e]}),nAe=(t,e)=>({...Wue(t),options:[t,e]}),sAe=(t,e)=>({...Yue(t),options:[t,e]}),aAe=(t,e)=>({...que(t),options:[t,e]}),iAe=(t,e)=>({...Xue(t),options:[t,e]}),oAe=(t,e)=>({...Jue(t),options:[t,e]}),lAe=(t,e)=>({...tAe(t),options:[t,e]});var cAe="Arrow",N9=v.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...a}=t;return i.jsx(et.svg,{...a,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});N9.displayName=cAe;var uAe=N9;function AAe(t,e=[]){let r=[];function n(a,o){const l=v.createContext(o),c=r.length;r=[...r,o];function u(d){const{scope:h,children:f,...m}=d,p=(h==null?void 0:h[t][c])||l,g=v.useMemo(()=>m,Object.values(m));return i.jsx(p.Provider,{value:g,children:f})}function A(d,h){const f=(h==null?void 0:h[t][c])||l,m=v.useContext(f);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,A]}const s=()=>{const a=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return v.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,dAe(s,...e)]}function dAe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(a)[`__scope${u}`];return{...l,...d}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function ax(t){const[e,r]=v.useState(void 0);return gn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var sO="Popper",[k9,Cm]=AAe(sO),[hAe,T9]=k9(sO),I9=t=>{const{__scopePopper:e,children:r}=t,[n,s]=v.useState(null);return i.jsx(hAe,{scope:e,anchor:n,onAnchorChange:s,children:r})};I9.displayName=sO;var P9="PopperAnchor",O9=v.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,a=T9(P9,r),o=v.useRef(null),l=yt(e,o);return v.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(et.div,{...s,ref:l})});O9.displayName=P9;var aO="PopperContent",[fAe,mAe]=k9(aO),F9=v.forwardRef((t,e)=>{var ue,le,Ae,me,_e,W;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:A=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:m,...p}=t,g=T9(aO,r),[y,x]=v.useState(null),b=yt(e,we=>x(we)),[j,C]=v.useState(null),E=ax(j),_=(E==null?void 0:E.width)??0,B=(E==null?void 0:E.height)??0,S=n+(a!=="center"?"-"+a:""),N=typeof A=="number"?A:{top:0,right:0,bottom:0,left:0,...A},P=Array.isArray(u)?u:[u],I=P.length>0,T={padding:N,boundary:P.filter(gAe),altBoundary:I},{refs:D,floatingStyles:M,placement:H,isPositioned:U,middlewareData:O}=eAe({strategy:"fixed",placement:S,whileElementsMounted:(...we)=>zue(...we,{animationFrame:f==="always"}),elements:{reference:g.anchor},middleware:[rAe({mainAxis:s+B,alignmentAxis:o}),c&&nAe({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?sAe():void 0,...T}),c&&aAe({...T}),iAe({...T,apply:({elements:we,rects:Oe,availableWidth:qe,availableHeight:Ze})=>{const{width:It,height:z}=Oe.reference,ee=we.floating.style;ee.setProperty("--radix-popper-available-width",`${qe}px`),ee.setProperty("--radix-popper-available-height",`${Ze}px`),ee.setProperty("--radix-popper-anchor-width",`${It}px`),ee.setProperty("--radix-popper-anchor-height",`${z}px`)}}),j&&lAe({element:j,padding:l}),vAe({arrowWidth:_,arrowHeight:B}),h&&oAe({strategy:"referenceHidden",...T})]}),[R,Q]=U9(H),G=Gr(m);gn(()=>{U&&(G==null||G())},[U,G]);const X=(ue=O.arrow)==null?void 0:ue.x,se=(le=O.arrow)==null?void 0:le.y,Z=((Ae=O.arrow)==null?void 0:Ae.centerOffset)!==0,[K,ne]=v.useState();return gn(()=>{y&&ne(window.getComputedStyle(y).zIndex)},[y]),i.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:U?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[(me=O.transformOrigin)==null?void 0:me.x,(_e=O.transformOrigin)==null?void 0:_e.y].join(" "),...((W=O.hide)==null?void 0:W.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:i.jsx(fAe,{scope:r,placedSide:R,onArrowChange:C,arrowX:X,arrowY:se,shouldHideArrow:Z,children:i.jsx(et.div,{"data-side":R,"data-align":Q,...p,ref:b,style:{...p.style,animation:U?void 0:"none"}})})})});F9.displayName=aO;var D9="PopperArrow",pAe={top:"bottom",right:"left",bottom:"top",left:"right"},R9=v.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,a=mAe(D9,n),o=pAe[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(uAe,{...s,ref:r,style:{...s.style,display:"block"}})})});R9.displayName=D9;function gAe(t){return t!==null}var vAe=t=>({name:"transformOrigin",options:t,fn(e){var g,y,x;const{placement:r,rects:n,middlewareData:s}=e,o=((g=s.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,A]=U9(r),d={start:"0%",center:"50%",end:"100%"}[A],h=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,f=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let m="",p="";return u==="bottom"?(m=o?d:`${h}px`,p=`${-c}px`):u==="top"?(m=o?d:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(m=`${-c}px`,p=o?d:`${f}px`):u==="left"&&(m=`${n.floating.width+c}px`,p=o?d:`${f}px`),{data:{x:m,y:p}}}});function U9(t){const[e,r="center"]=t.split("-");return[e,r]}var iO=I9,E_=O9,oO=F9,lO=R9,[S_,xnt]=aa("Tooltip",[Cm]),N_=Cm(),M9="TooltipProvider",yAe=700,jk="tooltip.open",[xAe,cO]=S_(M9),Q9=t=>{const{__scopeTooltip:e,delayDuration:r=yAe,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=t,[o,l]=v.useState(!0),c=v.useRef(!1),u=v.useRef(0);return v.useEffect(()=>{const A=u.current;return()=>window.clearTimeout(A)},[]),i.jsx(xAe,{scope:e,isOpenDelayed:o,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:v.useCallback(A=>{c.current=A},[]),disableHoverableContent:s,children:a})};Q9.displayName=M9;var k_="Tooltip",[wAe,T_]=S_(k_),L9=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=t,c=cO(k_,t.__scopeTooltip),u=N_(e),[A,d]=v.useState(null),h=jo(),f=v.useRef(0),m=o??c.disableHoverableContent,p=l??c.delayDuration,g=v.useRef(!1),[y=!1,x]=si({prop:n,defaultProp:s,onChange:_=>{_?(c.onOpen(),document.dispatchEvent(new CustomEvent(jk))):c.onClose(),a==null||a(_)}}),b=v.useMemo(()=>y?g.current?"delayed-open":"instant-open":"closed",[y]),j=v.useCallback(()=>{window.clearTimeout(f.current),f.current=0,g.current=!1,x(!0)},[x]),C=v.useCallback(()=>{window.clearTimeout(f.current),f.current=0,x(!1)},[x]),E=v.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{g.current=!0,x(!0),f.current=0},p)},[p,x]);return v.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),i.jsx(iO,{...u,children:i.jsx(wAe,{scope:e,contentId:h,open:y,stateAttribute:b,trigger:A,onTriggerChange:d,onTriggerEnter:v.useCallback(()=>{c.isOpenDelayed?E():j()},[c.isOpenDelayed,E,j]),onTriggerLeave:v.useCallback(()=>{m?C():(window.clearTimeout(f.current),f.current=0)},[C,m]),onOpen:j,onClose:C,disableHoverableContent:m,children:r})})};L9.displayName=k_;var _k="TooltipTrigger",$9=v.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=T_(_k,r),a=cO(_k,r),o=N_(r),l=v.useRef(null),c=yt(e,l,s.onTriggerChange),u=v.useRef(!1),A=v.useRef(!1),d=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),i.jsx(E_,{asChild:!0,...o,children:i.jsx(et.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:De(t.onPointerMove,h=>{h.pointerType!=="touch"&&!A.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),A.current=!0)}),onPointerLeave:De(t.onPointerLeave,()=>{s.onTriggerLeave(),A.current=!1}),onPointerDown:De(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:De(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:De(t.onBlur,s.onClose),onClick:De(t.onClick,s.onClose)})})});$9.displayName=_k;var bAe="TooltipPortal",[wnt,jAe]=S_(bAe,{forceMount:void 0}),Bf="TooltipContent",H9=v.forwardRef((t,e)=>{const r=jAe(Bf,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=t,o=T_(Bf,t.__scopeTooltip);return i.jsx(Ms,{present:n||o.open,children:o.disableHoverableContent?i.jsx(V9,{side:s,...a,ref:e}):i.jsx(_Ae,{side:s,...a,ref:e})})}),_Ae=v.forwardRef((t,e)=>{const r=T_(Bf,t.__scopeTooltip),n=cO(Bf,t.__scopeTooltip),s=v.useRef(null),a=yt(e,s),[o,l]=v.useState(null),{trigger:c,onClose:u}=r,A=s.current,{onPointerInTransitChange:d}=n,h=v.useCallback(()=>{l(null),d(!1)},[d]),f=v.useCallback((m,p)=>{const g=m.currentTarget,y={x:m.clientX,y:m.clientY},x=SAe(y,g.getBoundingClientRect()),b=NAe(y,x),j=kAe(p.getBoundingClientRect()),C=IAe([...b,...j]);l(C),d(!0)},[d]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(c&&A){const m=g=>f(g,A),p=g=>f(g,c);return c.addEventListener("pointerleave",m),A.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",m),A.removeEventListener("pointerleave",p)}}},[c,A,f,h]),v.useEffect(()=>{if(o){const m=p=>{const g=p.target,y={x:p.clientX,y:p.clientY},x=(c==null?void 0:c.contains(g))||(A==null?void 0:A.contains(g)),b=!TAe(y,o);x?h():b&&(h(),u())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[c,A,o,u,h]),i.jsx(V9,{...t,ref:a})}),[CAe,BAe]=S_(k_,{isInside:!1}),V9=v.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,c=T_(Bf,r),u=N_(r),{onClose:A}=c;return v.useEffect(()=>(document.addEventListener(jk,A),()=>document.removeEventListener(jk,A)),[A]),v.useEffect(()=>{if(c.trigger){const d=h=>{const f=h.target;f!=null&&f.contains(c.trigger)&&A()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,A]),i.jsx(ym,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:A,children:i.jsxs(oO,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(UP,{children:n}),i.jsx(CAe,{scope:r,isInside:!0,children:i.jsx($oe,{id:c.contentId,role:"tooltip",children:s||n})})]})})});H9.displayName=Bf;var K9="TooltipArrow",EAe=v.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=N_(r);return BAe(K9,r).isInside?null:i.jsx(lO,{...s,...n,ref:e})});EAe.displayName=K9;function SAe(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function NAe(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function kAe(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function TAe(t,e){const{x:r,y:n}=t;let s=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a].x,c=e[a].y,u=e[o].x,A=e[o].y;c>n!=A>n&&r<(u-l)*(n-c)/(A-c)+l&&(s=!s)}return s}function IAe(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),PAe(e)}function PAe(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var OAe=Q9,FAe=L9,DAe=$9,z9=H9;const G9=OAe,RAe=FAe,UAe=DAe,W9=v.forwardRef(({className:t,sideOffset:e=4,...r},n)=>i.jsx(z9,{ref:n,sideOffset:e,className:he("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));W9.displayName=z9.displayName;var ix=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},rd=typeof window>"u"||"Deno"in globalThis;function Qa(){}function MAe(t,e){return typeof t=="function"?t(e):t}function Ck(t){return typeof t=="number"&&t>=0&&t!==1/0}function q9(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Vh(t,e){return typeof t=="function"?t(e):t}function _i(t,e){return typeof t=="function"?t(e):t}function MU(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==uO(o,e.options))return!1}else if(!bv(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||a&&!a(e))}function QU(t,e){const{exact:r,status:n,predicate:s,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(wv(e.options.mutationKey)!==wv(a))return!1}else if(!bv(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function uO(t,e){return((e==null?void 0:e.queryKeyHashFn)||wv)(t)}function wv(t){return JSON.stringify(t,(e,r)=>Ek(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function bv(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!bv(t[r],e[r])):!1}function X9(t,e){if(t===e)return t;const r=LU(t)&&LU(e);if(r||Ek(t)&&Ek(e)){const n=r?t:Object.keys(t),s=n.length,a=r?e:Object.keys(e),o=a.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const A=r?u:a[u];(!r&&n.includes(A)||r)&&t[A]===void 0&&e[A]===void 0?(l[A]=void 0,c++):(l[A]=X9(t[A],e[A]),l[A]===t[A]&&t[A]!==void 0&&c++)}return s===o&&c===s?t:l}return e}function Bk(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function LU(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ek(t){if(!$U(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!$U(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function $U(t){return Object.prototype.toString.call(t)==="[object Object]"}function QAe(t){return new Promise(e=>{setTimeout(e,t)})}function Sk(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?X9(t,e):e}function LAe(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function $Ae(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var AO=Symbol();function J9(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===AO?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var IA,Cc,rf,rV,HAe=(rV=class extends ix{constructor(){super();pt(this,IA);pt(this,Cc);pt(this,rf);Xe(this,rf,e=>{if(!rd&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Y(this,Cc)||this.setEventListener(Y(this,rf))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,Cc))==null||e.call(this),Xe(this,Cc,void 0))}setEventListener(e){var r;Xe(this,rf,e),(r=Y(this,Cc))==null||r.call(this),Xe(this,Cc,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){Y(this,IA)!==e&&(Xe(this,IA,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof Y(this,IA)=="boolean"?Y(this,IA):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},IA=new WeakMap,Cc=new WeakMap,rf=new WeakMap,rV),dO=new HAe,nf,Bc,sf,nV,VAe=(nV=class extends ix{constructor(){super();pt(this,nf,!0);pt(this,Bc);pt(this,sf);Xe(this,sf,e=>{if(!rd&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Y(this,Bc)||this.setEventListener(Y(this,sf))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,Bc))==null||e.call(this),Xe(this,Bc,void 0))}setEventListener(e){var r;Xe(this,sf,e),(r=Y(this,Bc))==null||r.call(this),Xe(this,Bc,e(this.setOnline.bind(this)))}setOnline(e){Y(this,nf)!==e&&(Xe(this,nf,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return Y(this,nf)}},nf=new WeakMap,Bc=new WeakMap,sf=new WeakMap,nV),Yb=new VAe;function Nk(){let t,e;const r=new Promise((s,a)=>{t=s,e=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function KAe(t){return Math.min(1e3*2**t,3e4)}function Y9(t){return(t??"online")==="online"?Yb.isOnline():!0}var Z9=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function _E(t){return t instanceof Z9}function e7(t){let e=!1,r=0,n=!1,s;const a=Nk(),o=p=>{var g;n||(h(new Z9(p)),(g=t.abort)==null||g.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>dO.isFocused()&&(t.networkMode==="always"||Yb.isOnline())&&t.canRun(),A=()=>Y9(t.networkMode)&&t.canRun(),d=p=>{var g;n||(n=!0,(g=t.onSuccess)==null||g.call(t,p),s==null||s(),a.resolve(p))},h=p=>{var g;n||(n=!0,(g=t.onError)==null||g.call(t,p),s==null||s(),a.reject(p))},f=()=>new Promise(p=>{var g;s=y=>{(n||u())&&p(y)},(g=t.onPause)==null||g.call(t)}).then(()=>{var p;s=void 0,n||(p=t.onContinue)==null||p.call(t)}),m=()=>{if(n)return;let p;const g=r===0?t.initialPromise:void 0;try{p=g??t.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(d).catch(y=>{var E;if(n)return;const x=t.retry??(rd?0:3),b=t.retryDelay??KAe,j=typeof b=="function"?b(r,y):b,C=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,y);if(e||!C){h(y);return}r++,(E=t.onFail)==null||E.call(t,r,y),QAe(j).then(()=>u()?void 0:f()).then(()=>{e?h(y):m()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:A,start:()=>(A()?m():f().then(m),a)}}function zAe(){let t=[],e=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const a=l=>{e?t.push(l):s(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Mn=zAe(),PA,sV,t7=(sV=class{constructor(){pt(this,PA)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ck(this.gcTime)&&Xe(this,PA,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(rd?1/0:5*60*1e3))}clearGcTimeout(){Y(this,PA)&&(clearTimeout(Y(this,PA)),Xe(this,PA,void 0))}},PA=new WeakMap,sV),af,of,Ma,ss,Ky,OA,pi,Zo,aV,GAe=(aV=class extends t7{constructor(r){super();pt(this,pi);pt(this,af);pt(this,of);pt(this,Ma);pt(this,ss);pt(this,Ky);pt(this,OA);Xe(this,OA,!1),Xe(this,Ky,r.defaultOptions),this.setOptions(r.options),this.observers=[],Xe(this,Ma,r.cache),this.queryKey=r.queryKey,this.queryHash=r.queryHash,Xe(this,af,WAe(this.options)),this.state=r.state??Y(this,af),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=Y(this,ss))==null?void 0:r.promise}setOptions(r){this.options={...Y(this,Ky),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,Ma).remove(this)}setData(r,n){const s=Sk(this.state.data,r,this.options);return Rt(this,pi,Zo).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(r,n){Rt(this,pi,Zo).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var s,a;const n=(s=Y(this,ss))==null?void 0:s.promise;return(a=Y(this,ss))==null||a.cancel(r),n?n.then(Qa).catch(Qa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,af))}isActive(){return this.observers.some(r=>_i(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===AO||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(r=0){return this.state.isInvalidated||this.state.data===void 0||!q9(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(s=>s.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=Y(this,ss))==null||n.continue()}onOnline(){var n;const r=this.observers.find(s=>s.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=Y(this,ss))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),Y(this,Ma).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(Y(this,ss)&&(Y(this,OA)?Y(this,ss).cancel({revert:!0}):Y(this,ss).cancelRetry()),this.scheduleGc()),Y(this,Ma).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Rt(this,pi,Zo).call(this,{type:"invalidate"})}fetch(r,n){var u,A,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Y(this,ss))return Y(this,ss).continueRetry(),Y(this,ss).promise}if(r&&this.setOptions(r),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Xe(this,OA,!0),s.signal)})},o=()=>{const h=J9(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return a(f),Xe(this,OA,!1),this.options.persister?this.options.persister(h,f,this):h(f)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};a(l),(u=this.options.behavior)==null||u.onFetch(l,this),Xe(this,of,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((A=l.fetchOptions)==null?void 0:A.meta))&&Rt(this,pi,Zo).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta});const c=h=>{var f,m,p,g;_E(h)&&h.silent||Rt(this,pi,Zo).call(this,{type:"error",error:h}),_E(h)||((m=(f=Y(this,Ma).config).onError)==null||m.call(f,h,this),(g=(p=Y(this,Ma).config).onSettled)==null||g.call(p,this.state.data,h,this)),this.scheduleGc()};return Xe(this,ss,e7({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var f,m,p,g;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){c(y);return}(m=(f=Y(this,Ma).config).onSuccess)==null||m.call(f,h,this),(g=(p=Y(this,Ma).config).onSettled)==null||g.call(p,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,f)=>{Rt(this,pi,Zo).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{Rt(this,pi,Zo).call(this,{type:"pause"})},onContinue:()=>{Rt(this,pi,Zo).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),Y(this,ss).start()}},af=new WeakMap,of=new WeakMap,Ma=new WeakMap,ss=new WeakMap,Ky=new WeakMap,OA=new WeakMap,pi=new WeakSet,Zo=function(r){const n=s=>{switch(r.type){case"failed":return{...s,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...r7(s.data,this.options),fetchMeta:r.meta??null};case"success":return{...s,data:r.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=r.error;return _E(a)&&a.revert&&Y(this,of)?{...Y(this,of),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...r.state}}};this.state=n(this.state),Mn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),Y(this,Ma).notify({query:this,type:"updated",action:r})})},aV);function r7(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Y9(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function WAe(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var io,iV,qAe=(iV=class extends ix{constructor(e={}){super();pt(this,io);this.config=e,Xe(this,io,new Map)}build(e,r,n){const s=r.queryKey,a=r.queryHash??uO(s,r);let o=this.get(a);return o||(o=new GAe({cache:this,queryKey:s,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){Y(this,io).has(e.queryHash)||(Y(this,io).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=Y(this,io).get(e.queryHash);r&&(e.destroy(),r===e&&Y(this,io).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Mn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,io).get(e)}getAll(){return[...Y(this,io).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>MU(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>MU(e,n)):r}notify(e){Mn.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Mn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Mn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},io=new WeakMap,iV),oo,Cs,FA,lo,ic,oV,XAe=(oV=class extends t7{constructor(r){super();pt(this,lo);pt(this,oo);pt(this,Cs);pt(this,FA);this.mutationId=r.mutationId,Xe(this,Cs,r.mutationCache),Xe(this,oo,[]),this.state=r.state||JAe(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){Y(this,oo).includes(r)||(Y(this,oo).push(r),this.clearGcTimeout(),Y(this,Cs).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){Xe(this,oo,Y(this,oo).filter(n=>n!==r)),this.scheduleGc(),Y(this,Cs).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){Y(this,oo).length||(this.state.status==="pending"?this.scheduleGc():Y(this,Cs).remove(this))}continue(){var r;return((r=Y(this,FA))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var a,o,l,c,u,A,d,h,f,m,p,g,y,x,b,j,C,E,_,B;Xe(this,FA,e7({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(S,N)=>{Rt(this,lo,ic).call(this,{type:"failed",failureCount:S,error:N})},onPause:()=>{Rt(this,lo,ic).call(this,{type:"pause"})},onContinue:()=>{Rt(this,lo,ic).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,Cs).canRun(this)}));const n=this.state.status==="pending",s=!Y(this,FA).canStart();try{if(!n){Rt(this,lo,ic).call(this,{type:"pending",variables:r,isPaused:s}),await((o=(a=Y(this,Cs).config).onMutate)==null?void 0:o.call(a,r,this));const N=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,r));N!==this.state.context&&Rt(this,lo,ic).call(this,{type:"pending",context:N,variables:r,isPaused:s})}const S=await Y(this,FA).start();return await((A=(u=Y(this,Cs).config).onSuccess)==null?void 0:A.call(u,S,r,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,S,r,this.state.context)),await((m=(f=Y(this,Cs).config).onSettled)==null?void 0:m.call(f,S,null,this.state.variables,this.state.context,this)),await((g=(p=this.options).onSettled)==null?void 0:g.call(p,S,null,r,this.state.context)),Rt(this,lo,ic).call(this,{type:"success",data:S}),S}catch(S){try{throw await((x=(y=Y(this,Cs).config).onError)==null?void 0:x.call(y,S,r,this.state.context,this)),await((j=(b=this.options).onError)==null?void 0:j.call(b,S,r,this.state.context)),await((E=(C=Y(this,Cs).config).onSettled)==null?void 0:E.call(C,void 0,S,this.state.variables,this.state.context,this)),await((B=(_=this.options).onSettled)==null?void 0:B.call(_,void 0,S,r,this.state.context)),S}finally{Rt(this,lo,ic).call(this,{type:"error",error:S})}}finally{Y(this,Cs).runNext(this)}}},oo=new WeakMap,Cs=new WeakMap,FA=new WeakMap,lo=new WeakSet,ic=function(r){const n=s=>{switch(r.type){case"failed":return{...s,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...s,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:r.error,failureCount:s.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Mn.batch(()=>{Y(this,oo).forEach(s=>{s.onMutationUpdate(r)}),Y(this,Cs).notify({mutation:this,type:"updated",action:r})})},oV);function JAe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ha,zy,lV,YAe=(lV=class extends ix{constructor(e={}){super();pt(this,ha);pt(this,zy);this.config=e,Xe(this,ha,new Map),Xe(this,zy,Date.now())}build(e,r,n){const s=new XAe({mutationCache:this,mutationId:++o0(this,zy)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){const r=N0(e),n=Y(this,ha).get(r)??[];n.push(e),Y(this,ha).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=N0(e);if(Y(this,ha).has(r)){const s=(n=Y(this,ha).get(r))==null?void 0:n.filter(a=>a!==e);s&&(s.length===0?Y(this,ha).delete(r):Y(this,ha).set(r,s))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=Y(this,ha).get(N0(e)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=Y(this,ha).get(N0(e)))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Mn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...Y(this,ha).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>QU(r,n))}findAll(e={}){return this.getAll().filter(r=>QU(e,r))}notify(e){Mn.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Mn.batch(()=>Promise.all(e.map(r=>r.continue().catch(Qa))))}},ha=new WeakMap,zy=new WeakMap,lV);function N0(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function HU(t){return{onFetch:(e,r)=>{var A,d,h,f,m;const n=e.options,s=(h=(d=(A=e.fetchOptions)==null?void 0:A.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,a=((f=e.state.data)==null?void 0:f.pages)||[],o=((m=e.state.data)==null?void 0:m.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const g=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},y=J9(e.options,e.fetchOptions),x=async(b,j,C)=>{if(p)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const E={queryKey:e.queryKey,pageParam:j,direction:C?"backward":"forward",meta:e.options.meta};g(E);const _=await y(E),{maxPages:B}=e.options,S=C?$Ae:LAe;return{pages:S(b.pages,_,B),pageParams:S(b.pageParams,j,B)}};if(s&&a.length){const b=s==="backward",j=b?ZAe:VU,C={pages:a,pageParams:o},E=j(n,C);l=await x(C,E,b)}else{const b=t??a.length;do{const j=c===0?o[0]??n.initialPageParam:VU(n,l);if(c>0&&j==null)break;l=await x(l,j),c++}while(c<b)}return l};e.options.persister?e.fetchFn=()=>{var p,g;return(g=(p=e.options).persister)==null?void 0:g.call(p,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function VU(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function ZAe(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Hr,Ec,Sc,lf,cf,Nc,uf,Af,cV,ede=(cV=class{constructor(t={}){pt(this,Hr);pt(this,Ec);pt(this,Sc);pt(this,lf);pt(this,cf);pt(this,Nc);pt(this,uf);pt(this,Af);Xe(this,Hr,t.queryCache||new qAe),Xe(this,Ec,t.mutationCache||new YAe),Xe(this,Sc,t.defaultOptions||{}),Xe(this,lf,new Map),Xe(this,cf,new Map),Xe(this,Nc,0)}mount(){o0(this,Nc)._++,Y(this,Nc)===1&&(Xe(this,uf,dO.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,Hr).onFocus())})),Xe(this,Af,Yb.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,Hr).onOnline())})))}unmount(){var t,e;o0(this,Nc)._--,Y(this,Nc)===0&&((t=Y(this,uf))==null||t.call(this),Xe(this,uf,void 0),(e=Y(this,Af))==null||e.call(this),Xe(this,Af,void 0))}isFetching(t){return Y(this,Hr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Y(this,Ec).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=Y(this,Hr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=Y(this,Hr).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(Vh(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return Y(this,Hr).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=Y(this,Hr).get(n.queryHash),a=s==null?void 0:s.state.data,o=MAe(e,a);if(o!==void 0)return Y(this,Hr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Mn.batch(()=>Y(this,Hr).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=Y(this,Hr).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=Y(this,Hr);Mn.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=Y(this,Hr),n={type:"active",...t};return Mn.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=Mn.batch(()=>Y(this,Hr).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(Qa).catch(Qa)}invalidateQueries(t={},e={}){return Mn.batch(()=>{if(Y(this,Hr).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=Mn.batch(()=>Y(this,Hr).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(Qa)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Qa)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=Y(this,Hr).build(this,e);return r.isStaleByTime(Vh(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Qa).catch(Qa)}fetchInfiniteQuery(t){return t.behavior=HU(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Qa).catch(Qa)}ensureInfiniteQueryData(t){return t.behavior=HU(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Yb.isOnline()?Y(this,Ec).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,Hr)}getMutationCache(){return Y(this,Ec)}getDefaultOptions(){return Y(this,Sc)}setDefaultOptions(t){Xe(this,Sc,t)}setQueryDefaults(t,e){Y(this,lf).set(wv(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Y(this,lf).values()];let r={};return e.forEach(n=>{bv(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){Y(this,cf).set(wv(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Y(this,cf).values()];let r={};return e.forEach(n=>{bv(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Y(this,Sc).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=uO(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===AO&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Y(this,Sc).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Y(this,Hr).clear(),Y(this,Ec).clear()}},Hr=new WeakMap,Ec=new WeakMap,Sc=new WeakMap,lf=new WeakMap,cf=new WeakMap,Nc=new WeakMap,uf=new WeakMap,Af=new WeakMap,cV),Ks,Ut,Gy,Bs,DA,df,kc,co,Wy,hf,ff,RA,UA,Tc,mf,rr,rg,kk,Tk,Ik,Pk,Ok,Fk,Dk,n7,uV,tde=(uV=class extends ix{constructor(e,r){super();pt(this,rr);pt(this,Ks);pt(this,Ut);pt(this,Gy);pt(this,Bs);pt(this,DA);pt(this,df);pt(this,kc);pt(this,co);pt(this,Wy);pt(this,hf);pt(this,ff);pt(this,RA);pt(this,UA);pt(this,Tc);pt(this,mf,new Set);this.options=r,Xe(this,Ks,e),Xe(this,co,null),Xe(this,kc,Nk()),this.options.experimental_prefetchInRender||Y(this,kc).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,Ut).addObserver(this),KU(Y(this,Ut),this.options)?Rt(this,rr,rg).call(this):this.updateResult(),Rt(this,rr,Pk).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Rk(Y(this,Ut),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Rk(Y(this,Ut),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Rt(this,rr,Ok).call(this),Rt(this,rr,Fk).call(this),Y(this,Ut).removeObserver(this)}setOptions(e,r){const n=this.options,s=Y(this,Ut);if(this.options=Y(this,Ks).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _i(this.options.enabled,Y(this,Ut))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Rt(this,rr,Dk).call(this),Y(this,Ut).setOptions(this.options),n._defaulted&&!Bk(this.options,n)&&Y(this,Ks).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,Ut),observer:this});const a=this.hasListeners();a&&zU(Y(this,Ut),s,this.options,n)&&Rt(this,rr,rg).call(this),this.updateResult(r),a&&(Y(this,Ut)!==s||_i(this.options.enabled,Y(this,Ut))!==_i(n.enabled,Y(this,Ut))||Vh(this.options.staleTime,Y(this,Ut))!==Vh(n.staleTime,Y(this,Ut)))&&Rt(this,rr,kk).call(this);const o=Rt(this,rr,Tk).call(this);a&&(Y(this,Ut)!==s||_i(this.options.enabled,Y(this,Ut))!==_i(n.enabled,Y(this,Ut))||o!==Y(this,Tc))&&Rt(this,rr,Ik).call(this,o)}getOptimisticResult(e){const r=Y(this,Ks).getQueryCache().build(Y(this,Ks),e),n=this.createResult(r,e);return nde(this,n)&&(Xe(this,Bs,n),Xe(this,df,this.options),Xe(this,DA,Y(this,Ut).state)),n}getCurrentResult(){return Y(this,Bs)}trackResult(e,r){const n={};return Object.keys(e).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),e[s])})}),n}trackProp(e){Y(this,mf).add(e)}getCurrentQuery(){return Y(this,Ut)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=Y(this,Ks).defaultQueryOptions(e),n=Y(this,Ks).getQueryCache().build(Y(this,Ks),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Rt(this,rr,rg).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,Bs)))}createResult(e,r){var B;const n=Y(this,Ut),s=this.options,a=Y(this,Bs),o=Y(this,DA),l=Y(this,df),u=e!==n?e.state:Y(this,Gy),{state:A}=e;let d={...A},h=!1,f;if(r._optimisticResults){const S=this.hasListeners(),N=!S&&KU(e,r),P=S&&zU(e,n,r,s);(N||P)&&(d={...d,...r7(A.data,e.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:m,errorUpdatedAt:p,status:g}=d;if(r.select&&d.data!==void 0)if(a&&d.data===(o==null?void 0:o.data)&&r.select===Y(this,Wy))f=Y(this,hf);else try{Xe(this,Wy,r.select),f=r.select(d.data),f=Sk(a==null?void 0:a.data,f,r),Xe(this,hf,f),Xe(this,co,null)}catch(S){Xe(this,co,S)}else f=d.data;if(r.placeholderData!==void 0&&f===void 0&&g==="pending"){let S;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))S=a.data;else if(S=typeof r.placeholderData=="function"?r.placeholderData((B=Y(this,ff))==null?void 0:B.state.data,Y(this,ff)):r.placeholderData,r.select&&S!==void 0)try{S=r.select(S),Xe(this,co,null)}catch(N){Xe(this,co,N)}S!==void 0&&(g="success",f=Sk(a==null?void 0:a.data,S,r),h=!0)}Y(this,co)&&(m=Y(this,co),f=Y(this,hf),p=Date.now(),g="error");const y=d.fetchStatus==="fetching",x=g==="pending",b=g==="error",j=x&&y,C=f!==void 0,_={status:g,fetchStatus:d.fetchStatus,isPending:x,isSuccess:g==="success",isError:b,isInitialLoading:j,isLoading:j,data:f,dataUpdatedAt:d.dataUpdatedAt,error:m,errorUpdatedAt:p,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!x,isLoadingError:b&&!C,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&C,isStale:hO(e,r),refetch:this.refetch,promise:Y(this,kc)};if(this.options.experimental_prefetchInRender){const S=I=>{_.status==="error"?I.reject(_.error):_.data!==void 0&&I.resolve(_.data)},N=()=>{const I=Xe(this,kc,_.promise=Nk());S(I)},P=Y(this,kc);switch(P.status){case"pending":e.queryHash===n.queryHash&&S(P);break;case"fulfilled":(_.status==="error"||_.data!==P.value)&&N();break;case"rejected":(_.status!=="error"||_.error!==P.reason)&&N();break}}return _}updateResult(e){const r=Y(this,Bs),n=this.createResult(Y(this,Ut),this.options);if(Xe(this,DA,Y(this,Ut).state),Xe(this,df,this.options),Y(this,DA).data!==void 0&&Xe(this,ff,Y(this,Ut)),Bk(n,r))return;Xe(this,Bs,n);const s={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!Y(this,mf).size)return!0;const c=new Set(l??Y(this,mf));return this.options.throwOnError&&c.add("error"),Object.keys(Y(this,Bs)).some(u=>{const A=u;return Y(this,Bs)[A]!==r[A]&&c.has(A)})};(e==null?void 0:e.listeners)!==!1&&a()&&(s.listeners=!0),Rt(this,rr,n7).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Rt(this,rr,Pk).call(this)}},Ks=new WeakMap,Ut=new WeakMap,Gy=new WeakMap,Bs=new WeakMap,DA=new WeakMap,df=new WeakMap,kc=new WeakMap,co=new WeakMap,Wy=new WeakMap,hf=new WeakMap,ff=new WeakMap,RA=new WeakMap,UA=new WeakMap,Tc=new WeakMap,mf=new WeakMap,rr=new WeakSet,rg=function(e){Rt(this,rr,Dk).call(this);let r=Y(this,Ut).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Qa)),r},kk=function(){Rt(this,rr,Ok).call(this);const e=Vh(this.options.staleTime,Y(this,Ut));if(rd||Y(this,Bs).isStale||!Ck(e))return;const n=q9(Y(this,Bs).dataUpdatedAt,e)+1;Xe(this,RA,setTimeout(()=>{Y(this,Bs).isStale||this.updateResult()},n))},Tk=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,Ut)):this.options.refetchInterval)??!1},Ik=function(e){Rt(this,rr,Fk).call(this),Xe(this,Tc,e),!(rd||_i(this.options.enabled,Y(this,Ut))===!1||!Ck(Y(this,Tc))||Y(this,Tc)===0)&&Xe(this,UA,setInterval(()=>{(this.options.refetchIntervalInBackground||dO.isFocused())&&Rt(this,rr,rg).call(this)},Y(this,Tc)))},Pk=function(){Rt(this,rr,kk).call(this),Rt(this,rr,Ik).call(this,Rt(this,rr,Tk).call(this))},Ok=function(){Y(this,RA)&&(clearTimeout(Y(this,RA)),Xe(this,RA,void 0))},Fk=function(){Y(this,UA)&&(clearInterval(Y(this,UA)),Xe(this,UA,void 0))},Dk=function(){const e=Y(this,Ks).getQueryCache().build(Y(this,Ks),this.options);if(e===Y(this,Ut))return;const r=Y(this,Ut);Xe(this,Ut,e),Xe(this,Gy,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},n7=function(e){Mn.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(Y(this,Bs))}),Y(this,Ks).getQueryCache().notify({query:Y(this,Ut),type:"observerResultsUpdated"})})},uV);function rde(t,e){return _i(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function KU(t,e){return rde(t,e)||t.state.data!==void 0&&Rk(t,e,e.refetchOnMount)}function Rk(t,e,r){if(_i(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&hO(t,e)}return!1}function zU(t,e,r,n){return(t!==e||_i(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&hO(t,r)}function hO(t,e){return _i(e.enabled,t)!==!1&&t.isStaleByTime(Vh(e.staleTime,t))}function nde(t,e){return!Bk(t.getCurrentResult(),e)}var s7=v.createContext(void 0),a7=t=>{const e=v.useContext(s7);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},sde=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(s7.Provider,{value:t,children:e})),i7=v.createContext(!1),ade=()=>v.useContext(i7);i7.Provider;function ide(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var ode=v.createContext(ide()),lde=()=>v.useContext(ode);function cde(t,e){return typeof t=="function"?t(...e):!!t}function ude(){}var Ade=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},dde=t=>{v.useEffect(()=>{t.clearReset()},[t])},hde=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&cde(r,[t.error,n]),fde=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},mde=(t,e)=>t.isLoading&&t.isFetching&&!e,pde=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,GU=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function gde(t,e,r){var A,d,h,f,m;const n=a7(),s=ade(),a=lde(),o=n.defaultQueryOptions(t);(d=(A=n.getDefaultOptions().queries)==null?void 0:A._experimental_beforeQuery)==null||d.call(A,o),o._optimisticResults=s?"isRestoring":"optimistic",fde(o),Ade(o,a),dde(a);const l=!n.getQueryCache().get(o.queryHash),[c]=v.useState(()=>new e(n,o)),u=c.getOptimisticResult(o);if(v.useSyncExternalStore(v.useCallback(p=>{const g=s?()=>{}:c.subscribe(Mn.batchCalls(p));return c.updateResult(),g},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),v.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),pde(o,u))throw GU(o,c,a);if(hde({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((f=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||f.call(h,o,u),o.experimental_prefetchInRender&&!rd&&mde(u,s)){const p=l?GU(o,c,a):(m=n.getQueryCache().get(o.queryHash))==null?void 0:m.promise;p==null||p.catch(ude).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function vde(t,e){return gde(t,tde)}const yde="modulepreload",xde=function(t){return"/"+t},WU={},Ef=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=xde(c),c in WU)return;WU[c]=!0;const u=c.endsWith(".css"),A=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${A}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":yde,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},wde=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ef(async()=>{const{default:n}=await Promise.resolve().then(()=>Bm);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class fO extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class bde extends fO{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class jde extends fO{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class _de extends fO{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Uk;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Uk||(Uk={}));var Cde=function(t,e,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?a(A.value):s(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Bde{constructor(e,{headers:r={},customFetch:n,region:s=Uk.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=wde(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Cde(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const A=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(m=>{throw new bde(m)}),d=A.headers.get("x-relay-error");if(d&&d==="true")throw new jde(A);if(!A.ok)throw new _de(A);let h=((n=A.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield A.json():h==="application/octet-stream"?f=yield A.blob():h==="text/event-stream"?f=A:h==="multipart/form-data"?f=yield A.formData():f=yield A.text(),{data:f,error:null}}catch(s){return{data:null,error:s}}})}}var qs={},mO={},I_={},ox={},P_={},O_={},Ede=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Sf=Ede();const Sde=Sf.fetch,o7=Sf.fetch.bind(Sf),l7=Sf.Headers,Nde=Sf.Request,kde=Sf.Response,Bm=Object.freeze(Object.defineProperty({__proto__:null,Headers:l7,Request:Nde,Response:kde,default:o7,fetch:Sde},Symbol.toStringTag,{value:"Module"})),Tde=$se(Bm);var F_={};Object.defineProperty(F_,"__esModule",{value:!0});let Ide=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};F_.default=Ide;var c7=ms&&ms.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(O_,"__esModule",{value:!0});const Pde=c7(Tde),Ode=c7(F_);let Fde=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Pde.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c;let u=null,A=null,d=null,h=a.status,f=a.statusText;if(a.ok){if(this.method!=="HEAD"){const y=await a.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?A=y:A=JSON.parse(y))}const p=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),g=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");p&&g&&g.length>1&&(d=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(u={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,d=null,h=406,f="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{const p=await a.text();try{u=JSON.parse(p),Array.isArray(u)&&a.status===404&&(A=[],u=null,h=200,f="OK")}catch{a.status===404&&p===""?(h=204,f="No Content"):u={message:p}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,f="OK"),u&&this.shouldThrowOnError)throw new Ode.default(u)}return{error:u,data:A,count:d,status:h,statusText:f}});return this.shouldThrowOnError||(s=s.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};O_.default=Fde;var Dde=ms&&ms.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(P_,"__esModule",{value:!0});const Rde=Dde(O_);let Ude=class extends Rde.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};P_.default=Ude;var Mde=ms&&ms.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ox,"__esModule",{value:!0});const Qde=Mde(P_);let Lde=class extends Qde.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${a}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};ox.default=Lde;var $de=ms&&ms.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(I_,"__esModule",{value:!0});const jp=$de(ox);let Hde=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new jp.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new jp.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((u,A)=>u.concat(Object.keys(A)),[]);if(c.length>0){const u=[...new Set(c)].map(A=>`"${A}"`);this.url.searchParams.set("columns",u.join(","))}}return new jp.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new jp.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new jp.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};I_.default=Hde;var D_={},R_={};Object.defineProperty(R_,"__esModule",{value:!0});R_.version=void 0;R_.version="0.0.0-automated";Object.defineProperty(D_,"__esModule",{value:!0});D_.DEFAULT_HEADERS=void 0;const Vde=R_;D_.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Vde.version}`};var u7=ms&&ms.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mO,"__esModule",{value:!0});const Kde=u7(I_),zde=u7(ox),Gde=D_;let Wde=class A7{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Gde.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Kde.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new A7(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:a}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([A,d])=>d!==void 0).map(([A,d])=>[A,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([A,d])=>{l.searchParams.append(A,d)})):(o="POST",c=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new zde.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};mO.default=Wde;var Em=ms&&ms.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qs,"__esModule",{value:!0});qs.PostgrestError=qs.PostgrestBuilder=qs.PostgrestTransformBuilder=qs.PostgrestFilterBuilder=qs.PostgrestQueryBuilder=qs.PostgrestClient=void 0;const d7=Em(mO);qs.PostgrestClient=d7.default;const h7=Em(I_);qs.PostgrestQueryBuilder=h7.default;const f7=Em(ox);qs.PostgrestFilterBuilder=f7.default;const m7=Em(P_);qs.PostgrestTransformBuilder=m7.default;const p7=Em(O_);qs.PostgrestBuilder=p7.default;const g7=Em(F_);qs.PostgrestError=g7.default;var qde=qs.default={PostgrestClient:d7.default,PostgrestQueryBuilder:h7.default,PostgrestFilterBuilder:f7.default,PostgrestTransformBuilder:m7.default,PostgrestBuilder:p7.default,PostgrestError:g7.default};const{PostgrestClient:Xde,PostgrestQueryBuilder:Nnt,PostgrestFilterBuilder:knt,PostgrestTransformBuilder:Tnt,PostgrestBuilder:Int,PostgrestError:Pnt}=qde,Jde="2.11.2",Yde={"X-Client-Info":`realtime-js/${Jde}`},Zde="1.0.0",v7=1e4,ehe=1e3;var Kh;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Kh||(Kh={}));var Aa;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Aa||(Aa={}));var vi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(vi||(vi={}));var Mk;(function(t){t.websocket="websocket"})(Mk||(Mk={}));var hA;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(hA||(hA={}));class the{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+s));o=o+s;const c=n.decode(e.slice(o,o+a));o=o+a;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class y7{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(jr||(jr={}));const qU=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((a,o)=>(a[o]=rhe(o,t,e,s),a),{})},rhe=(t,e,r,n)=>{const s=e.find(l=>l.name===t),a=s==null?void 0:s.type,o=r[t];return a&&!n.includes(a)?x7(a,o):Qk(o)},x7=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return ihe(e,r)}switch(t){case jr.bool:return nhe(e);case jr.float4:case jr.float8:case jr.int2:case jr.int4:case jr.int8:case jr.numeric:case jr.oid:return she(e);case jr.json:case jr.jsonb:return ahe(e);case jr.timestamp:return ohe(e);case jr.abstime:case jr.date:case jr.daterange:case jr.int4range:case jr.int8range:case jr.money:case jr.reltime:case jr.text:case jr.time:case jr.timestamptz:case jr.timetz:case jr.tsrange:case jr.tstzrange:return Qk(e);default:return Qk(e)}},Qk=t=>t,nhe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},she=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},ahe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ihe=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const o=t.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>x7(e,l))}return t},ohe=t=>typeof t=="string"?t.replace(" ","T"):t,w7=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class CE{constructor(e,r,n={},s=v7){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var XU;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(XU||(XU={}));class Sg{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sg.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=Sg.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Sg.syncDiff(this.state,s,a,o),l())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const a=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(a,(u,A)=>{o[u]||(c[u]=A)}),this.map(o,(u,A)=>{const d=a[u];if(d){const h=A.map(g=>g.presence_ref),f=d.map(g=>g.presence_ref),m=A.filter(g=>f.indexOf(g.presence_ref)<0),p=d.filter(g=>h.indexOf(g.presence_ref)<0);m.length>0&&(l[u]=m),p.length>0&&(c[u]=p)}else l[u]=A}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const A=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),A.length>0){const d=e[l].map(f=>f.presence_ref),h=A.filter(f=>d.indexOf(f.presence_ref)<0);e[l].unshift(...h)}n(l,A,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const A=c.map(d=>d.presence_ref);u=u.filter(d=>A.indexOf(d.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var JU;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(JU||(JU={}));var YU;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(YU||(YU={}));var rl;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(rl||(rl={}));class pO{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Aa.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new CE(this,vi.join,this.params,this.timeout),this.rejoinTimer=new y7(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Aa.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Aa.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Aa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Aa.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vi.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Sg(this),this.broadcastEndpointURL=w7(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:o,private:l}}=this.params;this._onError(A=>e==null?void 0:e(rl.CHANNEL_ERROR,A)),this._onClose(()=>e==null?void 0:e(rl.CLOSED));const c={},u={broadcast:a,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(A=>A.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:A})=>{var d;if(this.socket.setAuth(),A===void 0){e==null||e(rl.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,m=[];for(let p=0;p<f;p++){const g=h[p],{filter:{event:y,schema:x,table:b,filter:j}}=g,C=A&&A[p];if(C&&C.event===y&&C.schema===x&&C.table===b&&C.filter===j)m.push(Object.assign(Object.assign({},g),{id:C.id}));else{this.unsubscribe(),e==null||e(rl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(rl.SUBSCRIBED);return}}).receive("error",A=>{e==null||e(rl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(rl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Aa.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vi.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new CE(this,vi.leave,{},e);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new CE(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,a;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:A}=vi;if(n&&[l,c,u,A].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var m,p,g;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((g=(p=f.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(f=>f.callback(h,n)):(a=this.bindings[o])===null||a===void 0||a.filter(f=>{var m,p,g,y,x,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const j=f.id,C=(m=f.filter)===null||m===void 0?void 0:m.event;return j&&((p=r.ids)===null||p===void 0?void 0:p.includes(j))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const j=(x=(y=f==null?void 0:f.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:p,table:g,commit_timestamp:y,type:x,errors:b}=m;h=Object.assign(Object.assign({},{schema:p,table:g,commit_timestamp:y,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(m))}f.callback(h,n)})}_isClosed(){return this.state===Aa.closed}_isJoined(){return this.state===Aa.joined}_isJoining(){return this.state===Aa.joining}_isLeaving(){return this.state===Aa.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&pO.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(vi.close,{},e)}_onError(e){this._on(vi.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Aa.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=qU(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=qU(e.columns,e.old_record)),r}}const lhe=()=>{},che=typeof WebSocket<"u",uhe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ahe{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Yde,this.params={},this.timeout=v7,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=lhe,this.conn=null,this.sendBuffer=[],this.serializer=new the,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>Ef(async()=>{const{default:c}=await Promise.resolve().then(()=>Bm);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${Mk.websocket}`,this.httpEndpoint=w7(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,o)=>o(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new y7(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(che){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new dhe(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ef(async()=>{const{default:e}=await import("./browser-nnrALVtV.js").then(r=>r.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Zde}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Kh.connecting:return hA.Connecting;case Kh.open:return hA.Open;case Kh.closing:return hA.Closing;default:return hA.Closed}}isConnected(){return this.connectionState()===hA.Open}channel(e,r={config:{}}){const n=new pO(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:s,ref:a}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(vi.access_token,{access_token:r})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(ehe,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:a,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,a),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(vi.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([uhe],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class dhe{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Kh.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class gO extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function wn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class hhe extends gO{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Lk extends gO{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var fhe=function(t,e,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?a(A.value):s(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const b7=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ef(async()=>{const{default:n}=await Promise.resolve().then(()=>Bm);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},mhe=()=>fhe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ef(()=>Promise.resolve().then(()=>Bm),void 0)).Response:Response}),$k=t=>{if(Array.isArray(t))return t.map(r=>$k(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[s]=$k(n)}),e};var Bd=function(t,e,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?a(A.value):s(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const BE=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),phe=(t,e,r)=>Bd(void 0,void 0,void 0,function*(){const n=yield mhe();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{e(new hhe(BE(s),t.status||500))}).catch(s=>{e(new Lk(BE(s),s))}):e(new Lk(BE(t),t))}),ghe=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function lx(t,e,r,n,s,a){return Bd(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,ghe(e,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>phe(c,l,n))})})}function Zb(t,e,r,n){return Bd(this,void 0,void 0,function*(){return lx(t,"GET",e,r,n)})}function fc(t,e,r,n,s){return Bd(this,void 0,void 0,function*(){return lx(t,"POST",e,n,s,r)})}function vhe(t,e,r,n,s){return Bd(this,void 0,void 0,function*(){return lx(t,"PUT",e,n,s,r)})}function yhe(t,e,r,n){return Bd(this,void 0,void 0,function*(){return lx(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function j7(t,e,r,n,s){return Bd(this,void 0,void 0,function*(){return lx(t,"DELETE",e,n,s,r)})}var $s=function(t,e,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?a(A.value):s(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const xhe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ZU={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class whe{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=b7(s)}uploadOrUpdate(e,r,n,s){return $s(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},ZU),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),A=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${A}`,Object.assign({method:e,body:a,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(wn(a))return{data:null,error:a};throw a}})}upload(e,r,n){return $s(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return $s(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:ZU.upsert},s),A=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,A["cache-control"]=`max-age=${u.cacheControl}`,A["content-type"]=u.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:A}),h=yield d.json();return d.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(wn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return $s(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield fc(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new gO("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(wn(n))return{data:null,error:n};throw n}})}update(e,r,n){return $s(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return $s(this,void 0,void 0,function*(){try{return{data:yield fc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(wn(s))return{data:null,error:s};throw s}})}copy(e,r,n){return $s(this,void 0,void 0,function*(){try{return{data:{path:(yield fc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(wn(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return $s(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),a=yield fc(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(s){if(wn(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return $s(this,void 0,void 0,function*(){try{const s=yield fc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(s){if(wn(s))return{data:null,error:s};throw s}})}download(e,r){return $s(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Zb(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(wn(l))return{data:null,error:l};throw l}})}info(e){return $s(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Zb(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:$k(n),error:null}}catch(n){if(wn(n))return{data:null,error:n};throw n}})}exists(e){return $s(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield yhe(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(wn(n)&&n instanceof Lk){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return $s(this,void 0,void 0,function*(){try{return{data:yield j7(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(wn(r))return{data:null,error:r};throw r}})}list(e,r,n){return $s(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},xhe),r),{prefix:e||""});return{data:yield fc(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(wn(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const bhe="2.7.1",jhe={"X-Client-Info":`storage-js/${bhe}`};var Md=function(t,e,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?a(A.value):s(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class _he{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},jhe),r),this.fetch=b7(n)}listBuckets(){return Md(this,void 0,void 0,function*(){try{return{data:yield Zb(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(wn(e))return{data:null,error:e};throw e}})}getBucket(e){return Md(this,void 0,void 0,function*(){try{return{data:yield Zb(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(wn(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Md(this,void 0,void 0,function*(){try{return{data:yield fc(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(wn(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Md(this,void 0,void 0,function*(){try{return{data:yield vhe(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(wn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Md(this,void 0,void 0,function*(){try{return{data:yield fc(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(wn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Md(this,void 0,void 0,function*(){try{return{data:yield j7(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(wn(r))return{data:null,error:r};throw r}})}}class Che extends _he{constructor(e,r={},n){super(e,r,n)}from(e){return new whe(this.url,this.headers,e,this.fetch)}}const Bhe="2.49.7";let ng="";typeof Deno<"u"?ng="deno":typeof document<"u"?ng="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ng="react-native":ng="node";const Ehe={"X-Client-Info":`supabase-js-${ng}/${Bhe}`},She={headers:Ehe},Nhe={schema:"public"},khe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},The={};var Ihe=function(t,e,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?a(A.value):s(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Phe=t=>{let e;return t?e=t:typeof fetch>"u"?e=o7:e=fetch,(...r)=>e(...r)},Ohe=()=>typeof Headers>"u"?l7:Headers,Fhe=(t,e,r)=>{const n=Phe(r),s=Ohe();return(a,o)=>Ihe(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:u}))})};var Dhe=function(t,e,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?a(A.value):s(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function Rhe(t){return t.replace(/\/$/,"")}function Uhe(t,e){var r,n;const{db:s,auth:a,realtime:o,global:l}=t,{db:c,auth:u,realtime:A,global:d}=e,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},A),o),global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Dhe(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const _7="2.69.1",Ah=30*1e3,Hk=3,EE=Hk*Ah,Mhe="http://localhost:9999",Qhe="supabase.auth.token",Lhe={"X-Client-Info":`gotrue-js/${_7}`},Vk="X-Supabase-Api-Version",C7={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$he=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Hhe=6e5;class vO extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Bt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Vhe extends vO{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Khe(t){return Bt(t)&&t.name==="AuthApiError"}class B7 extends vO{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Tu extends vO{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class oc extends Tu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zhe(t){return Bt(t)&&t.name==="AuthSessionMissingError"}class SE extends Tu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class k0 extends Tu{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class T0 extends Tu{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ghe(t){return Bt(t)&&t.name==="AuthImplicitGrantRedirectError"}class eM extends Tu{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kk extends Tu{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function NE(t){return Bt(t)&&t.name==="AuthRetryableFetchError"}class tM extends Tu{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ng extends Tu{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const rM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),nM=` 	
\r=`.split(""),Whe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<nM.length;e+=1)t[nM[e].charCodeAt(0)]=-2;for(let e=0;e<rM.length;e+=1)t[rM[e].charCodeAt(0)]=e;return t})();function E7(t,e,r){const n=Whe[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function sM(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{Jhe(o,n,r)};for(let o=0;o<t.length;o+=1)E7(t.charCodeAt(o),s,a);return e.join("")}function qhe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Xhe(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}qhe(n,e)}}function Jhe(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Yhe(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)E7(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Zhe(t){const e=[];return Xhe(t,r=>e.push(r)),new Uint8Array(e)}function efe(t){return Math.round(Date.now()/1e3)+t}function tfe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const no=()=>typeof window<"u"&&typeof document<"u",Gu={tested:!1,writable:!1},kg=()=>{if(!no())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gu.tested)return Gu.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Gu.tested=!0,Gu.writable=!0}catch{Gu.tested=!0,Gu.writable=!1}return Gu.writable};function rfe(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{e[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const S7=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ef(async()=>{const{default:n}=await Promise.resolve().then(()=>Bm);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},nfe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",N7=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},I0=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},P0=async(t,e)=>{await t.removeItem(e)};let k7=class T7{constructor(){this.promise=new T7.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}};k7.promiseConstructor=Promise;function kE(t){const e=t.split(".");if(e.length!==3)throw new Ng("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!$he.test(e[n]))throw new Ng("JWT not in base64url format");return{header:JSON.parse(sM(e[0])),payload:JSON.parse(sM(e[1])),signature:Yhe(e[2]),raw:{header:e[0],payload:e[1]}}}async function sfe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function afe(t,e){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){n(o);return}}catch(o){if(!e(a,o)){s(o);return}}})()})}function ife(t){return("0"+t.toString(16)).substr(-2)}function ofe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,ife).join("")}async function lfe(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function cfe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await lfe(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qd(t,e,r=!1){const n=ofe();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await N7(t,`${e}-code-verifier`,s);const a=await cfe(n);return[a,n===a?"plain":"s256"]}const ufe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Afe(t){const e=t.headers.get(Vk);if(!e||!e.match(ufe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function dfe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function hfe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var ffe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const nA=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),mfe=[502,503,504];async function aM(t){var e;if(!nfe(t))throw new Kk(nA(t),0);if(mfe.includes(t.status))throw new Kk(nA(t),t.status);let r;try{r=await t.json()}catch(a){throw new B7(nA(a),a)}let n;const s=Afe(t);if(s&&s.getTime()>=C7["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new tM(nA(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new oc}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new tM(nA(r),t.status,r.weak_password.reasons);throw new Vhe(nA(r),t.status||500,n)}const pfe=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ot(t,e,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[Vk]||(a[Vk]=C7["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await gfe(t,e,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function gfe(t,e,r,n,s,a){const o=pfe(e,n,s,a);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new Kk(nA(c),0)}if(l.ok||await aM(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await aM(c)}}function lc(t){var e;let r=null;wfe(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=efe(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function iM(t){const e=lc(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function yc(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function vfe(t){return{data:t,error:null}}function yfe(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=t,o=ffe(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function xfe(t){return t}function wfe(t){return t.access_token&&t.refresh_token&&t.expires_in}var bfe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class jfe{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=S7(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await Ot(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Bt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Ot(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:yc})}catch(n){if(Bt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=bfe(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ot(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:yfe,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Bt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ot(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:yc})}catch(r){if(Bt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},A=await Ot(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:xfe});if(A.error)throw A.error;const d=await A.json(),h=(o=A.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=A.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(m=>{const p=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);u[`${g}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Bt(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await Ot(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:yc})}catch(r){if(Bt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await Ot(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:yc})}catch(n){if(Bt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await Ot(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:yc})}catch(n){if(Bt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await Ot(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Bt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await Ot(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Bt(r))return{data:null,error:r};throw r}}}const _fe={getItem:t=>kg()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{kg()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{kg()&&globalThis.localStorage.removeItem(t)}};function oM(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function Cfe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ld={debug:!!(globalThis&&kg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class I7 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Bfe extends I7{}async function Efe(t,e,r){Ld.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Ld.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Ld.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Ld.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Ld.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Bfe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ld.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Cfe();const Sfe={url:Mhe,storageKey:Qhe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Lhe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function lM(t,e,r){return await r()}class jv{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=jv.nextInstanceID,jv.nextInstanceID+=1,this.instanceID>0&&no()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Sfe),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new jfe({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=S7(s.fetch),this.lock=s.lock||lM,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:no()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Efe:this.lock=lM,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:kg()?this.storage=_fe:(this.memoryStorage={},this.storage=oM(this.memoryStorage)):(this.memoryStorage={},this.storage=oM(this.memoryStorage)),no()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${_7}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=rfe(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),no()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Ghe(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Bt(r)?{error:r}:{error:new B7("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const a=await Ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:lc}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Bt(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var r,n,s;try{let a;if("email"in e){const{email:A,password:d,options:h}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Qd(this.storage,this.storageKey)),a=await Ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:A,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:m},xform:lc})}else if("phone"in e){const{phone:A,password:d,options:h}=e;a=await Ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:A,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:lc})}else throw new k0("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Bt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:o,options:l}=e;r=await Ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:iM})}else if("phone"in e){const{phone:a,password:o,options:l}=e;r=await Ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:iM})}else throw new k0("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new SE}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Bt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await I0(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:o}=await Ot(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:lc});if(await P0(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new SE}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(Bt(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:a,nonce:o}=e,l=await Ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:lc}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new SE}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Bt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,a,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,A=null;this.flowType==="pkce"&&([u,A]=await Qd(this.storage,this.storageKey));const{error:d}=await Ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:A},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:A}=await Ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:A}}throw new k0("You must provide either an email or phone number.")}catch(l){if(Bt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let s,a;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ot(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:lc});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Bt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Qd(this.storage,this.storageKey)),await Ot(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:vfe})}catch(a){if(Bt(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new oc;const{error:s}=await Ot(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Bt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:a}=e,{error:o}=await Ot(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:a}=e,{data:o,error:l}=await Ot(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new k0("You must provide either an email or phone number and a type")}catch(r){if(Bt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await I0(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<EE:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,A)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,A))})}return{data:{session:e},error:null}}const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:yc}):await this._useSession(async r=>{var n,s,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new oc}:await Ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:yc})})}catch(r){if(Bt(r))return zhe(r)&&(await this._removeSession(),await P0(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new oc;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Qd(this.storage,this.storageKey));const{data:u,error:A}=await Ot(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:yc});if(A)throw A;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Bt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new oc;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:o}=kE(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(Bt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new oc;const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Bt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!no())throw new T0("No browser detected.");if(e.error||e.error_description||e.error_code)throw new T0(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new eM("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new T0("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new eM("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!a||!l||!o||!u)throw new T0("No session defined in URL");const A=Math.round(Date.now()/1e3),d=parseInt(l);let h=A+d;c&&(h=parseInt(c));const f=h-A;f*1e3<=Ah&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const m=h-d;A-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,A):A-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,A);const{data:p,error:g}=await this._getUser(a);if(g)throw g;const y={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(n){if(Bt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await I0(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Khe(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await P0(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=tfe(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Qd(this.storage,this.storageKey,!0));try{return await Ot(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Bt(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Bt(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var o,l,c,u,A;const{data:d,error:h}=a;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ot(this.fetch,"GET",f,{headers:this.headers,jwt:(A=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&A!==void 0?A:void 0})});if(s)throw s;return no()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Bt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)throw o;return await Ot(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Bt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await afe(async s=>(s>0&&await sfe(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ot(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:lc})),(s,a)=>{const o=200*Math.pow(2,s);return a&&NE(a)&&Date.now()+o-n<Ah})}catch(n){if(this._debug(r,"error",n),Bt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),no()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await I0(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<EE;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${EE}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),NE(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new oc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new k7;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new oc;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),Bt(a)){const o={session:null,error:a};return NE(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await N7(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await P0(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&no()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ah);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Ah);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ah}ms, refresh threshold is ${Hk} ticks`),s<=Hk&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof I7)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!no()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await Qd(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Ot(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Bt(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await Ot(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Bt(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:o,error:l}=await Ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Bt(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Bt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:a}=e;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=kE(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const A=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:A},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n||(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+Hhe>Date.now()))return n;const{data:s,error:a}=await Ot(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new Ng("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===e),!n)throw new Ng("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:f,error:m}=await this.getSession();if(m||!f.session)return{data:null,error:m};n=f.session.access_token}const{header:s,payload:a,signature:o,raw:{header:l,payload:c}}=kE(n);if(dfe(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:a,header:s,signature:o},error:null}}const u=hfe(s.alg),A=await this.fetchJwk(s.kid,r),d=await crypto.subtle.importKey("jwk",A,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,Zhe(`${l}.${c}`)))throw new Ng("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(n){if(Bt(n))return{data:null,error:n};throw n}}}jv.nextInstanceID=0;const Nfe=jv;class kfe extends Nfe{constructor(e){super(e)}}var Tfe=function(t,e,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?a(A.value):s(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Ife{constructor(e,r,n){var s,a,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Rhe(e),c=new URL(l);this.realtimeUrl=new URL("/realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("/auth/v1",c),this.storageUrl=new URL("/storage/v1",c),this.functionsUrl=new URL("/functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,A={db:Nhe,realtime:The,auth:Object.assign(Object.assign({},khe),{storageKey:u}),global:She},d=Uhe(n??{},A);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Fhe(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Xde(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Bde(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Che(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Tfe(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:a,flowType:o,lock:l,debug:c},u,A){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kfe({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:A,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Ahe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Pfe=(t,e,r)=>new Ife(t,e,r),Ofe="https://vpztrjwitxvldrdhndlr.supabase.co",Ffe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZwenRyandpdHh2bGRyZGhuZGxyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4MTE3NzIsImV4cCI6MjA2MzM4Nzc3Mn0._NFTwCpQGgMThUeh1sew8y5ulRXSGmwHLmXRQx544PM",J=Pfe(Ofe,Ffe,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storageKey:"jpc-digi-auth"}});J.auth.onAuthStateChange((t,e)=>{t==="TOKEN_REFRESHED"&&!e&&(console.log("Token refresh failed, redirecting to login"),J.auth.signOut().catch(r=>console.error("Error signing out:",r)),window.location.pathname.includes("/login")||setTimeout(()=>{window.location.href="/login"},500))});const Wu={isEnabled:!1,workingDays:[{day:"monday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"tuesday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"wednesday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"thursday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"friday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"saturday",isActive:!0,openTime:"08:00",closeTime:"15:00"},{day:"sunday",isActive:!1,openTime:"08:00",closeTime:"15:00"}],offWorkMessage:"Maaf, kami sedang tutup. Silakan kembali pada jam operasional kami."};class Dfe{constructor(){dp(this,"settings",null);dp(this,"lastFetchTime",0);dp(this,"CACHE_DURATION_MS",5*60*1e3);dp(this,"LOCAL_STORAGE_KEY","business_hours_settings")}async getBusinessHours(){const e=Date.now();if(this.settings&&e-this.lastFetchTime<this.CACHE_DURATION_MS)return console.debug("Menggunakan cache untuk pengaturan jam kerja"),this.settings;try{console.debug("Mengambil pengaturan jam kerja dari Supabase");const{data:r,error:n}=await J.from("settings").select("value").eq("key","business_hours").maybeSingle();if(n){console.debug("Supabase error, coba gunakan localStorage:",n);const s=this.getFromLocalStorage();return s?(this.settings=s,this.lastFetchTime=e,s):(this.settings=Wu,this.lastFetchTime=e,Wu)}if(r&&r.value){const s=r.value;return this.settings=s,this.lastFetchTime=e,this.saveToLocalStorage(s),s}return this.settings=Wu,this.lastFetchTime=e,Wu}catch{return console.debug("Error fetching from Supabase, using default settings"),this.settings=Wu,this.lastFetchTime=e,Wu}}async updateBusinessHours(e){try{console.debug("Menyimpan pengaturan jam kerja ke Supabase");const{error:r}=await J.from("settings").upsert({key:"business_hours",value:e,updated_at:new Date().toISOString()},{onConflict:"key"});return r?(console.error("Error updating business hours in Supabase:",r),this.saveToLocalStorage(e),{success:!1,message:`Gagal menyimpan ke database: ${r.message}. Data disimpan lokal sebagai cadangan.`}):(this.settings=e,this.lastFetchTime=Date.now(),this.saveToLocalStorage(e),console.debug("Business hours saved to Supabase successfully"),{success:!0,message:"Pengaturan jam kerja berhasil disimpan ke database."})}catch(r){return console.error("Exception updating business hours:",r),this.saveToLocalStorage(e),this.settings=e,this.lastFetchTime=Date.now(),{success:!1,message:`Terjadi kesalahan: ${r instanceof Error?r.message:"Unknown error"}. Data disimpan lokal.`}}}async isWithinBusinessHours(e){const r=await this.getBusinessHours();if(!r||!r.isEnabled)return console.debug("Jam kerja dinonaktifkan, status: BUKA"),!0;const n=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],s=e||new Date,a=new Intl.DateTimeFormat("id-ID",{timeZone:"Asia/Jakarta",hour:"numeric",minute:"numeric",hour12:!1,weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(s);console.debug(`Waktu Jakarta (WIB): ${a}`);const o={Minggu:"sunday",Senin:"monday",Selasa:"tuesday",Rabu:"wednesday",Kamis:"thursday",Jumat:"friday",Sabtu:"saturday"},l=a.split(",")[0],c=o[l]||n[s.getDay()],u=a.match(/(\d{1,2})\.(\d{2})/);let A=s.getHours(),d=s.getMinutes();u&&u.length>=3&&(A=parseInt(u[1],10),d=parseInt(u[2],10)),(isNaN(A)||isNaN(d))&&(A=(s.getUTCHours()+7)%24,d=s.getUTCMinutes()),console.debug(`Waktu saat ini: ${c} ${A}:${d.toString().padStart(2,"0")}`);const h=r.workingDays.find(C=>C.day===c);if(!h||!h.isActive)return console.debug(`Hari ${c} tidak aktif, status: TUTUP`),!1;const[f,m]=h.openTime.split(":").map(Number),[p,g]=h.closeTime.split(":").map(Number),y=A*60+d,x=f*60+m,b=p*60+g;console.debug(`Jam buka: ${f}:${m.toString().padStart(2,"0")} (${x} menit)`),console.debug(`Jam tutup: ${p}:${g.toString().padStart(2,"0")} (${b} menit)`),console.debug(`Waktu saat ini: ${A}:${d.toString().padStart(2,"0")} (${y} menit)`);let j=!1;return b<x?(j=y>=x||y<=b,console.debug(`Mode operasi: MELEWATI TENGAH MALAM, status: ${j?"BUKA":"TUTUP"}`)):(j=y>=x&&y<=b,console.debug(`Mode operasi: NORMAL, status: ${j?"BUKA":"TUTUP"}`)),j}async getCurrentStatus(e){try{const r=await this.getBusinessHours();if(!r||!r.isEnabled)return{isOpen:!0,message:""};if(await this.isWithinBusinessHours(e))return{isOpen:!0,message:""};{const s=new Date,a=new Date(s);a.setDate(a.getDate()+1);const o=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],l={sunday:"Minggu",monday:"Senin",tuesday:"Selasa",wednesday:"Rabu",thursday:"Kamis",friday:"Jumat",saturday:"Sabtu"},c=o[s.getDay()],u=o[a.getDay()],A=r.workingDays.find(f=>f.day===c),d=r.workingDays.find(f=>f.day===u);let h=r.offWorkMessage;if(A&&A.isActive){const[f,m]=A.openTime.split(":").map(Number),p=s.getHours(),g=s.getMinutes(),y=p*60+g,x=f*60+m;y<x&&(h+=` Kami akan buka hari ini pukul ${this.formatTimeIndonesia(A.openTime)}.`)}else if(d&&d.isActive)h+=` Kami akan buka besok (${l[u]}) pukul ${this.formatTimeIndonesia(d.openTime)}.`;else{let f=this.findNextOpenDay(r.workingDays,o.indexOf(c));if(f){const m=this.getIndonesianDayName(f.day),p=this.formatTimeIndonesia(f.openTime);h+=` Kami akan buka kembali pada hari ${m} pukul ${p} WIB.`}}return{isOpen:!1,message:h}}}catch(r){return console.debug("Error getting current status, defaulting to open",r),{isOpen:!0,message:""}}}formatTimeIndonesia(e){const[r,n]=e.split(":").map(Number);return`${r.toString().padStart(2,"0")}.${n.toString().padStart(2,"0")}`}getIndonesianDayName(e){return{sunday:"Minggu",monday:"Senin",tuesday:"Selasa",wednesday:"Rabu",thursday:"Kamis",friday:"Jumat",saturday:"Sabtu"}[e]||e}findNextOpenDay(e,r){for(let n=r+1;n<e.length+r;n++){const s=n%e.length;if(e[s].isActive)return e[s]}return null}saveToLocalStorage(e){try{localStorage.setItem(this.LOCAL_STORAGE_KEY,JSON.stringify(e)),console.debug("Pengaturan jam kerja disimpan ke localStorage")}catch(r){console.debug("Error saving business hours to localStorage:",r)}}getFromLocalStorage(){try{const e=localStorage.getItem(this.LOCAL_STORAGE_KEY);if(e){const r=JSON.parse(e);return console.debug("Berhasil mengambil pengaturan jam kerja dari localStorage"),r}return console.debug("Tidak ada data jam kerja di localStorage"),null}catch(e){return console.debug("Error reading business hours from localStorage:",e),null}}async resetToDefault(){try{return console.debug("Reset pengaturan jam kerja ke default"),await this.updateBusinessHours(Wu)}catch(e){return console.error("Error resetting business hours:",e),{success:!1,message:`Gagal reset pengaturan: ${e instanceof Error?e.message:"Unknown error"}`}}}}const sA=new Dfe,U_=xm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),V=v.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},a)=>{const o=n?Cl:"button";return i.jsx(o,{className:he(U_({variant:e,size:r,className:t})),ref:a,...s})});V.displayName="Button";function Rfe(){const[t,e]=v.useState(!1),[r,n]=v.useState(""),[s,a]=v.useState(!0),[o,l]=v.useState(""),[c,u]=v.useState(0),[A,d]=v.useState(""),h=v.useCallback(async()=>{a(!0),d("");try{const f=new Date,m=`${f.getHours()}:${f.getMinutes().toString().padStart(2,"0")}`;l(m),console.debug(`[BusinessHoursOverlay] Memeriksa jam kerja pada ${m}`);const p=await sA.getCurrentStatus();console.debug(`[BusinessHoursOverlay] Status toko: ${p.isOpen?"BUKA":"TUTUP"}`),console.debug(`[BusinessHoursOverlay] Pesan: ${p.message}`),e(!p.isOpen),n(p.message),u(g=>g+1)}catch(f){console.error("[BusinessHoursOverlay] Error checking business hours:",f),d("Terjadi kesalahan saat memeriksa jam kerja"),e(!1)}finally{a(!1)}},[]);return v.useEffect(()=>{h();const f=setInterval(h,6e4);return()=>clearInterval(f)},[h]),s||!t?null:i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full p-6 text-center",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center mb-6",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-amber-100 flex items-center justify-center mb-4",children:i.jsx(jf,{className:"h-10 w-10 text-amber-600"})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Di Luar Jam Operasional"})]}),i.jsx("div",{className:"bg-amber-50 border border-amber-100 rounded-md p-4 mb-6",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(pv,{className:"h-5 w-5 text-amber-600 mt-0.5 mr-2"}),i.jsx("p",{className:"text-gray-700",children:r})]})}),A&&i.jsx("div",{className:"bg-red-50 border border-red-100 rounded-md p-3 mb-4 text-left",children:i.jsx("p",{className:"text-red-600 text-sm",children:A})}),i.jsxs("div",{className:"flex flex-col space-y-4",children:[i.jsxs(V,{variant:"outline",onClick:h,className:"w-full flex items-center justify-center",disabled:s,children:[i.jsx(gv,{className:"h-4 w-4 mr-2"}),s?"Memuat...":"Periksa Kembali"]}),i.jsx(V,{variant:"default",onClick:()=>window.location.reload(),className:"w-full",children:"Muat Ulang Halaman"}),i.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Terakhir diperiksa: ",o," (",c,"x)"]})]})]})})}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _v(){return _v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_v.apply(this,arguments)}var Oc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Oc||(Oc={}));const cM="popstate";function Ufe(t){t===void 0&&(t={});function e(n,s){let{pathname:a,search:o,hash:l}=n.location;return zk("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:e1(s)}return Qfe(e,r,null,t)}function en(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function P7(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Mfe(){return Math.random().toString(36).substr(2,8)}function uM(t,e){return{usr:t.state,key:t.key,idx:e}}function zk(t,e,r,n){return r===void 0&&(r=null),_v({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Sm(e):e,{state:r,key:e&&e.key||n||Mfe()})}function e1(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Sm(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Qfe(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=Oc.Pop,c=null,u=A();u==null&&(u=0,o.replaceState(_v({},o.state,{idx:u}),""));function A(){return(o.state||{idx:null}).idx}function d(){l=Oc.Pop;let g=A(),y=g==null?null:g-u;u=g,c&&c({action:l,location:p.location,delta:y})}function h(g,y){l=Oc.Push;let x=zk(p.location,g,y);u=A()+1;let b=uM(x,u),j=p.createHref(x);try{o.pushState(b,"",j)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(j)}a&&c&&c({action:l,location:p.location,delta:1})}function f(g,y){l=Oc.Replace;let x=zk(p.location,g,y);u=A();let b=uM(x,u),j=p.createHref(x);o.replaceState(b,"",j),a&&c&&c({action:l,location:p.location,delta:0})}function m(g){let y=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof g=="string"?g:e1(g);return x=x.replace(/ $/,"%20"),en(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let p={get action(){return l},get location(){return t(s,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(cM,d),c=g,()=>{s.removeEventListener(cM,d),c=null}},createHref(g){return e(s,g)},createURL:m,encodeLocation(g){let y=m(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:f,go(g){return o.go(g)}};return p}var AM;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(AM||(AM={}));function Lfe(t,e,r){return r===void 0&&(r="/"),$fe(t,e,r,!1)}function $fe(t,e,r,n){let s=typeof e=="string"?Sm(e):e,a=yO(s.pathname||"/",r);if(a==null)return null;let o=O7(t);Hfe(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=eme(a);l=Yfe(o[c],u,n)}return l}function O7(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(en(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Xc([n,c.relativePath]),A=r.concat(c);a.children&&a.children.length>0&&(en(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),O7(a.children,e,A,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:Xfe(u,a.index),routesMeta:A})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of F7(a.path))s(a,o,c)}),e}function F7(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=F7(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Hfe(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Jfe(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Vfe=/^:[\w-]+$/,Kfe=3,zfe=2,Gfe=1,Wfe=10,qfe=-2,dM=t=>t==="*";function Xfe(t,e){let r=t.split("/"),n=r.length;return r.some(dM)&&(n+=qfe),e&&(n+=zfe),r.filter(s=>!dM(s)).reduce((s,a)=>s+(Vfe.test(a)?Kfe:a===""?Gfe:Wfe),n)}function Jfe(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function Yfe(t,e,r){let{routesMeta:n}=t,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,A=a==="/"?e:e.slice(a.length)||"/",d=hM({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},A),h=c.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=hM({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},A)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Xc([a,d.pathname]),pathnameBase:sme(Xc([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=Xc([a,d.pathnameBase]))}return o}function hM(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Zfe(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,A,d)=>{let{paramName:h,isOptional:f}=A;if(h==="*"){let p=l[d]||"";o=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const m=l[d];return f&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function Zfe(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),P7(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function eme(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return P7(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function yO(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function tme(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Sm(t):t;return{pathname:r?r.startsWith("/")?r:rme(r,e):e,search:ame(n),hash:ime(s)}}function rme(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function TE(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nme(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function xO(t,e){let r=nme(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function wO(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Sm(t):(s=_v({},t),en(!s.pathname||!s.pathname.includes("?"),TE("?","pathname","search",s)),en(!s.pathname||!s.pathname.includes("#"),TE("#","pathname","hash",s)),en(!s.search||!s.search.includes("#"),TE("#","search","hash",s)));let a=t===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}l=d>=0?e[d]:"/"}let c=tme(s,l),u=o&&o!=="/"&&o.endsWith("/"),A=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||A)&&(c.pathname+="/"),c}const Xc=t=>t.join("/").replace(/\/\/+/g,"/"),sme=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ame=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ime=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ome(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const D7=["post","put","patch","delete"];new Set(D7);const lme=["get",...D7];new Set(lme);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cv(){return Cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cv.apply(this,arguments)}const bO=v.createContext(null),cme=v.createContext(null),Iu=v.createContext(null),M_=v.createContext(null),Ql=v.createContext({outlet:null,matches:[],isDataRoute:!1}),R7=v.createContext(null);function ume(t,e){let{relative:r}=e===void 0?{}:e;Nm()||en(!1);let{basename:n,navigator:s}=v.useContext(Iu),{hash:a,pathname:o,search:l}=M7(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Xc([n,o])),s.createHref({pathname:c,search:l,hash:a})}function Nm(){return v.useContext(M_)!=null}function Qs(){return Nm()||en(!1),v.useContext(M_).location}function U7(t){v.useContext(Iu).static||v.useLayoutEffect(t)}function Tt(){let{isDataRoute:t}=v.useContext(Ql);return t?jme():Ame()}function Ame(){Nm()||en(!1);let t=v.useContext(bO),{basename:e,future:r,navigator:n}=v.useContext(Iu),{matches:s}=v.useContext(Ql),{pathname:a}=Qs(),o=JSON.stringify(xO(s,r.v7_relativeSplatPath)),l=v.useRef(!1);return U7(()=>{l.current=!0}),v.useCallback(function(u,A){if(A===void 0&&(A={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=wO(u,JSON.parse(o),a,A.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Xc([e,d.pathname])),(A.replace?n.replace:n.push)(d,A.state,A)},[e,n,o,a,t])}function cx(){let{matches:t}=v.useContext(Ql),e=t[t.length-1];return e?e.params:{}}function M7(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=v.useContext(Iu),{matches:s}=v.useContext(Ql),{pathname:a}=Qs(),o=JSON.stringify(xO(s,n.v7_relativeSplatPath));return v.useMemo(()=>wO(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function dme(t,e){return hme(t,e)}function hme(t,e,r,n){Nm()||en(!1);let{navigator:s}=v.useContext(Iu),{matches:a}=v.useContext(Ql),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Qs(),A;if(e){var d;let g=typeof e=="string"?Sm(e):e;c==="/"||(d=g.pathname)!=null&&d.startsWith(c)||en(!1),A=g}else A=u;let h=A.pathname||"/",f=h;if(c!=="/"){let g=c.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let m=Lfe(t,{pathname:f}),p=vme(m&&m.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:Xc([c,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:Xc([c,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),a,r,n);return e&&p?v.createElement(M_.Provider,{value:{location:Cv({pathname:"/",search:"",hash:"",state:null,key:"default"},A),navigationType:Oc.Pop}},p):p}function fme(){let t=bme(),e=ome(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),r?v.createElement("pre",{style:s},r):null,null)}const mme=v.createElement(fme,null);class pme extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?v.createElement(Ql.Provider,{value:this.props.routeContext},v.createElement(R7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gme(t){let{routeContext:e,match:r,children:n}=t,s=v.useContext(bO);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(Ql.Provider,{value:e},n)}function vme(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(s=r)==null?void 0:s.errors;if(l!=null){let A=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);A>=0||en(!1),o=o.slice(0,Math.min(o.length,A+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let A=0;A<o.length;A++){let d=o[A];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=A),d.route.id){let{loaderData:h,errors:f}=r,m=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((A,d,h)=>{let f,m=!1,p=null,g=null;r&&(f=l&&d.route.id?l[d.route.id]:void 0,p=d.route.errorElement||mme,c&&(u<0&&h===0?(m=!0,g=null):u===h&&(m=!0,g=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,h+1)),x=()=>{let b;return f?b=p:m?b=g:d.route.Component?b=v.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=A,v.createElement(gme,{match:d,routeContext:{outlet:A,matches:y,isDataRoute:r!=null},children:b})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?v.createElement(pme,{location:r.location,revalidation:r.revalidation,component:p,error:f,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var Q7=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Q7||{}),t1=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(t1||{});function yme(t){let e=v.useContext(bO);return e||en(!1),e}function xme(t){let e=v.useContext(cme);return e||en(!1),e}function wme(t){let e=v.useContext(Ql);return e||en(!1),e}function L7(t){let e=wme(),r=e.matches[e.matches.length-1];return r.route.id||en(!1),r.route.id}function bme(){var t;let e=v.useContext(R7),r=xme(t1.UseRouteError),n=L7(t1.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function jme(){let{router:t}=yme(Q7.UseNavigateStable),e=L7(t1.UseNavigateStable),r=v.useRef(!1);return U7(()=>{r.current=!0}),v.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Cv({fromRouteId:e},a)))},[t,e])}function r1(t){let{to:e,replace:r,state:n,relative:s}=t;Nm()||en(!1);let{future:a,static:o}=v.useContext(Iu),{matches:l}=v.useContext(Ql),{pathname:c}=Qs(),u=Tt(),A=wO(e,xO(l,a.v7_relativeSplatPath),c,s==="path"),d=JSON.stringify(A);return v.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function rt(t){en(!1)}function _me(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Oc.Pop,navigator:a,static:o=!1,future:l}=t;Nm()&&en(!1);let c=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:a,static:o,future:Cv({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=Sm(n));let{pathname:A="/",search:d="",hash:h="",state:f=null,key:m="default"}=n,p=v.useMemo(()=>{let g=yO(A,c);return g==null?null:{location:{pathname:g,search:d,hash:h,state:f,key:m},navigationType:s}},[c,A,d,h,f,m,s]);return p==null?null:v.createElement(Iu.Provider,{value:u},v.createElement(M_.Provider,{children:r,value:p}))}function Cme(t){let{children:e,location:r}=t;return dme(Gk(e),r)}new Promise(()=>{});function Gk(t,e){e===void 0&&(e=[]);let r=[];return v.Children.forEach(t,(n,s)=>{if(!v.isValidElement(n))return;let a=[...e,s];if(n.type===v.Fragment){r.push.apply(r,Gk(n.props.children,a));return}n.type!==rt&&en(!1),!n.props.index||!n.props.children||en(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Gk(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wk(){return Wk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wk.apply(this,arguments)}function Bme(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Eme(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Sme(t,e){return t.button===0&&(!e||e==="_self")&&!Eme(t)}function qk(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function Nme(t,e){let r=qk(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(a=>{r.append(s,a)})}),r}const kme=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Tme="6";try{window.__reactRouterVersion=Tme}catch{}const Ime="startTransition",fM=wV[Ime];function Pme(t){let{basename:e,children:r,future:n,window:s}=t,a=v.useRef();a.current==null&&(a.current=Ufe({window:s,v5Compat:!0}));let o=a.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},A=v.useCallback(d=>{u&&fM?fM(()=>c(d)):c(d)},[c,u]);return v.useLayoutEffect(()=>o.listen(A),[o,A]),v.createElement(_me,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Ome=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Fme=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,st=v.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:A,viewTransition:d}=e,h=Bme(e,kme),{basename:f}=v.useContext(Iu),m,p=!1;if(typeof u=="string"&&Fme.test(u)&&(m=u,Ome))try{let b=new URL(window.location.href),j=u.startsWith("//")?new URL(b.protocol+u):new URL(u),C=yO(j.pathname,f);j.origin===b.origin&&C!=null?u=C+j.search+j.hash:p=!0}catch{}let g=ume(u,{relative:s}),y=Dme(u,{replace:o,state:l,target:c,preventScrollReset:A,relative:s,viewTransition:d});function x(b){n&&n(b),b.defaultPrevented||y(b)}return v.createElement("a",Wk({},h,{href:m||g,onClick:p||a?n:x,ref:r,target:c}))});var mM;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(mM||(mM={}));var pM;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(pM||(pM={}));function Dme(t,e){let{target:r,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=Tt(),u=Qs(),A=M7(t,{relative:o});return v.useCallback(d=>{if(Sme(d,r)){d.preventDefault();let h=n!==void 0?n:e1(u)===e1(A);c(t,{replace:h,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,A,n,s,r,t,a,o,l])}function Rme(t){let e=v.useRef(qk(t)),r=v.useRef(!1),n=Qs(),s=v.useMemo(()=>Nme(n.search,r.current?null:e.current),[n.search]),a=Tt(),o=v.useCallback((l,c)=>{const u=qk(typeof l=="function"?l(s):l);r.current=!0,a("?"+u,c)},[a,s]);return[s,o]}const Ume=()=>{};var gM={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},Mme=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[r++];e[n++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[r++],o=t[r++],l=t[r++],c=((s&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(a&63)<<6|o&63)}}return e.join("")},H7={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const a=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,A=a>>2,d=(a&3)<<4|l>>4;let h=(l&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),n.push(r[A],r[d],r[h],r[f])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($7(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Mme(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const a=r[t.charAt(s++)],l=s<t.length?r[t.charAt(s)]:0;++s;const u=s<t.length?r[t.charAt(s)]:64;++s;const d=s<t.length?r[t.charAt(s)]:64;if(++s,a==null||l==null||u==null||d==null)throw new Qme;const h=a<<2|l>>4;if(n.push(h),u!==64){const f=l<<4&240|u>>2;if(n.push(f),d!==64){const m=u<<6&192|d;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Qme extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lme=function(t){const e=$7(t);return H7.encodeByteArray(e,!0)},n1=function(t){return Lme(t).replace(/\./g,"")},$me=function(t){try{return H7.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hme=()=>V7().__FIREBASE_DEFAULTS__,Vme=()=>{if(typeof process>"u"||typeof gM>"u")return;const t=gM.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Kme=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$me(t[1]);return e&&JSON.parse(e)},jO=()=>{try{return Ume()||Hme()||Vme()||Kme()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zme=t=>{var e,r;return(r=(e=jO())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},Gme=t=>{const e=zme(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},K7=()=>{var t;return(t=jO())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wme{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t){return t.endsWith(".cloudworkstations.dev")}async function qme(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xme(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[n1(JSON.stringify(r)),n1(JSON.stringify(o)),""].join(".")}const Tg={};function Jme(){const t={prod:[],emulator:[]};for(const e of Object.keys(Tg))Tg[e]?t.emulator.push(e):t.prod.push(e);return t}function Yme(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let vM=!1;function Zme(t,e){if(typeof window>"u"||typeof document>"u"||!_O(window.location.host)||Tg[t]===e||Tg[t]||vM)return;Tg[t]=e;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",a=Jme().prod.length>0;function o(){const h=document.getElementById(n);h&&h.remove()}function l(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,f){h.setAttribute("width","24"),h.setAttribute("id",f),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{vM=!0,o()},h}function A(h,f){h.setAttribute("id",f),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=Yme(n),f=r("text"),m=document.getElementById(f)||document.createElement("span"),p=r("learnmore"),g=document.getElementById(p)||document.createElement("a"),y=r("preprendIcon"),x=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;l(b),A(g,p);const j=u();c(x,y),b.append(x,m,g,j),document.body.appendChild(b)}a?(m.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function z7(){var t;const e=(t=jO())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function G7(){return!z7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W7(){return!z7()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function CO(){try{return typeof indexedDB=="object"}catch{return!1}}function q7(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}function epe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tpe="FirebaseError";class Ed extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=tpe,Object.setPrototypeOf(this,Ed.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Q_.prototype.create)}}class Q_{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,a=this.errors[e],o=a?rpe(a,n):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Ed(s,l,n)}}function rpe(t,e){return t.replace(npe,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const npe=/\{\$([^}]+)}/g;function a1(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const a=t[s],o=e[s];if(yM(a)&&yM(o)){if(!a1(a,o))return!1}else if(a!==o)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function yM(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t){return t&&t._delegate?t._delegate:t}class Nl{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class spe{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Wme;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ipe(e))try{this.getOrInitializeService({instanceIdentifier:aA})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:s});n.resolve(a)}catch{}}}}clearInstance(e=aA){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aA){return this.instances.has(e)}getOptions(e=aA){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&o.resolve(s)}return s}onInit(e,r){var n;const s=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(s,a);const o=this.instances.get(s);return o&&e(o,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:ape(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=aA){return this.component?this.component.multipleInstances?e:aA:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ape(t){return t===aA?void 0:t}function ipe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ope{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new spe(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ht||(Ht={}));const lpe={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},cpe=Ht.INFO,upe={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},Ape=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=upe[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let X7=class{constructor(e){this.name=e,this._logLevel=cpe,this._logHandler=Ape,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lpe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...e),this._logHandler(this,Ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...e),this._logHandler(this,Ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...e),this._logHandler(this,Ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...e),this._logHandler(this,Ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...e),this._logHandler(this,Ht.ERROR,...e)}};const dpe=(t,e)=>e.some(r=>t instanceof r);let xM,wM;function hpe(){return xM||(xM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fpe(){return wM||(wM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J7=new WeakMap,Xk=new WeakMap,Y7=new WeakMap,IE=new WeakMap,BO=new WeakMap;function mpe(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(dl(t.result)),s()},o=()=>{n(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&J7.set(r,t)}).catch(()=>{}),BO.set(e,t),e}function ppe(t){if(Xk.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),s()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});Xk.set(t,e)}let Jk={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Xk.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Y7.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return dl(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gpe(t){Jk=t(Jk)}function vpe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(PE(this),e,...r);return Y7.set(n,e.sort?e.sort():[e]),dl(n)}:fpe().includes(t)?function(...e){return t.apply(PE(this),e),dl(J7.get(this))}:function(...e){return dl(t.apply(PE(this),e))}}function ype(t){return typeof t=="function"?vpe(t):(t instanceof IDBTransaction&&ppe(t),dpe(t,hpe())?new Proxy(t,Jk):t)}function dl(t){if(t instanceof IDBRequest)return mpe(t);if(IE.has(t))return IE.get(t);const e=ype(t);return e!==t&&(IE.set(t,e),BO.set(e,t)),e}const PE=t=>BO.get(t);function L_(t,e,{blocked:r,upgrade:n,blocking:s,terminated:a}={}){const o=indexedDB.open(t,e),l=dl(o);return n&&o.addEventListener("upgradeneeded",c=>{n(dl(o.result),c.oldVersion,c.newVersion,dl(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}function OE(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",n=>e(n.oldVersion,n)),dl(r).then(()=>{})}const xpe=["get","getKey","getAll","getAllKeys","count"],wpe=["put","add","delete","clear"],FE=new Map;function bM(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(FE.get(e))return FE.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=wpe.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||xpe.includes(r)))return;const a=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),s&&c.done]))[0]};return FE.set(e,a),a}gpe(t=>({...t,get:(e,r,n)=>bM(e,r)||t.get(e,r,n),has:(e,r)=>!!bM(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bpe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(jpe(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function jpe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yk="@firebase/app",jM="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=new X7("@firebase/app"),_pe="@firebase/app-compat",Cpe="@firebase/analytics-compat",Bpe="@firebase/analytics",Epe="@firebase/app-check-compat",Spe="@firebase/app-check",Npe="@firebase/auth",kpe="@firebase/auth-compat",Tpe="@firebase/database",Ipe="@firebase/data-connect",Ppe="@firebase/database-compat",Ope="@firebase/functions",Fpe="@firebase/functions-compat",Dpe="@firebase/installations",Rpe="@firebase/installations-compat",Upe="@firebase/messaging",Mpe="@firebase/messaging-compat",Qpe="@firebase/performance",Lpe="@firebase/performance-compat",$pe="@firebase/remote-config",Hpe="@firebase/remote-config-compat",Vpe="@firebase/storage",Kpe="@firebase/storage-compat",zpe="@firebase/firestore",Gpe="@firebase/ai",Wpe="@firebase/firestore-compat",qpe="firebase",Xpe="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="[DEFAULT]",Jpe={[Yk]:"fire-core",[_pe]:"fire-core-compat",[Bpe]:"fire-analytics",[Cpe]:"fire-analytics-compat",[Spe]:"fire-app-check",[Epe]:"fire-app-check-compat",[Npe]:"fire-auth",[kpe]:"fire-auth-compat",[Tpe]:"fire-rtdb",[Ipe]:"fire-data-connect",[Ppe]:"fire-rtdb-compat",[Ope]:"fire-fn",[Fpe]:"fire-fn-compat",[Dpe]:"fire-iid",[Rpe]:"fire-iid-compat",[Upe]:"fire-fcm",[Mpe]:"fire-fcm-compat",[Qpe]:"fire-perf",[Lpe]:"fire-perf-compat",[$pe]:"fire-rc",[Hpe]:"fire-rc-compat",[Vpe]:"fire-gcs",[Kpe]:"fire-gcs-compat",[zpe]:"fire-fst",[Wpe]:"fire-fst-compat",[Gpe]:"fire-vertex","fire-js":"fire-js",[qpe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=new Map,Ype=new Map,eT=new Map;function _M(t,e){try{t.container.addComponent(e)}catch(r){kl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function fu(t){const e=t.name;if(eT.has(e))return kl.debug(`There were multiple attempts to register component ${e}.`),!1;eT.set(e,t);for(const r of i1.values())_M(r,t);for(const r of Ype.values())_M(r,t);return!0}function $_(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Zpe(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ege={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jc=new Q_("app","Firebase",ege);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tge{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Nl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rge=Xpe;function Z7(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Zk,automaticDataCollectionEnabled:!0},e),s=n.name;if(typeof s!="string"||!s)throw Jc.create("bad-app-name",{appName:String(s)});if(r||(r=K7()),!r)throw Jc.create("no-options");const a=i1.get(s);if(a){if(a1(r,a.options)&&a1(n,a.config))return a;throw Jc.create("duplicate-app",{appName:s})}const o=new ope(s);for(const c of eT.values())o.addComponent(c);const l=new tge(r,n,o);return i1.set(s,l),l}function ez(t=Zk){const e=i1.get(t);if(!e&&t===Zk&&K7())return Z7();if(!e)throw Jc.create("no-app",{appName:t});return e}function _o(t,e,r){var n;let s=(n=Jpe[t])!==null&&n!==void 0?n:t;r&&(s+=`-${r}`);const a=s.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const l=[`Unable to register library "${s}" with version "${e}":`];a&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kl.warn(l.join(" "));return}fu(new Nl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nge="firebase-heartbeat-database",sge=1,Bv="firebase-heartbeat-store";let DE=null;function tz(){return DE||(DE=L_(nge,sge,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bv)}catch(r){console.warn(r)}}}}).catch(t=>{throw Jc.create("idb-open",{originalErrorMessage:t.message})})),DE}async function age(t){try{const r=(await tz()).transaction(Bv),n=await r.objectStore(Bv).get(rz(t));return await r.done,n}catch(e){if(e instanceof Ed)kl.warn(e.message);else{const r=Jc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});kl.warn(r.message)}}}async function CM(t,e){try{const n=(await tz()).transaction(Bv,"readwrite");await n.objectStore(Bv).put(e,rz(t)),await n.done}catch(r){if(r instanceof Ed)kl.warn(r.message);else{const n=Jc.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});kl.warn(n.message)}}}function rz(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ige=1024,oge=30;class lge{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new uge(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=BM();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>oge){const o=Age(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){kl.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=BM(),{heartbeatsToSend:n,unsentEntries:s}=cge(this._heartbeatsCache.heartbeats),a=n1(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return kl.warn(r),""}}}function BM(){return new Date().toISOString().substring(0,10)}function cge(t,e=ige){const r=[];let n=t.slice();for(const s of t){const a=r.find(o=>o.agent===s.agent);if(a){if(a.dates.push(s.date),EM(r)>e){a.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),EM(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class uge{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CO()?q7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await age(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return CM(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return CM(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function EM(t){return n1(JSON.stringify({version:2,heartbeats:t})).length}function Age(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dge(t){fu(new Nl("platform-logger",e=>new bpe(e),"PRIVATE")),fu(new Nl("heartbeat",e=>new lge(e),"PRIVATE")),_o(Yk,jM,t),_o(Yk,jM,"esm2017"),_o("fire-js","")}dge("");var hge="firebase",fge="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_o(hge,fge,"app");var SM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var EO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,B){function S(){}S.prototype=B.prototype,_.D=B.prototype,_.prototype=new S,_.prototype.constructor=_,_.C=function(N,P,I){for(var T=Array(arguments.length-2),D=2;D<arguments.length;D++)T[D-2]=arguments[D];return B.prototype[P].apply(N,T)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(_,B,S){S||(S=0);var N=Array(16);if(typeof B=="string")for(var P=0;16>P;++P)N[P]=B.charCodeAt(S++)|B.charCodeAt(S++)<<8|B.charCodeAt(S++)<<16|B.charCodeAt(S++)<<24;else for(P=0;16>P;++P)N[P]=B[S++]|B[S++]<<8|B[S++]<<16|B[S++]<<24;B=_.g[0],S=_.g[1],P=_.g[2];var I=_.g[3],T=B+(I^S&(P^I))+N[0]+3614090360&4294967295;B=S+(T<<7&4294967295|T>>>25),T=I+(P^B&(S^P))+N[1]+3905402710&4294967295,I=B+(T<<12&4294967295|T>>>20),T=P+(S^I&(B^S))+N[2]+606105819&4294967295,P=I+(T<<17&4294967295|T>>>15),T=S+(B^P&(I^B))+N[3]+3250441966&4294967295,S=P+(T<<22&4294967295|T>>>10),T=B+(I^S&(P^I))+N[4]+4118548399&4294967295,B=S+(T<<7&4294967295|T>>>25),T=I+(P^B&(S^P))+N[5]+1200080426&4294967295,I=B+(T<<12&4294967295|T>>>20),T=P+(S^I&(B^S))+N[6]+2821735955&4294967295,P=I+(T<<17&4294967295|T>>>15),T=S+(B^P&(I^B))+N[7]+4249261313&4294967295,S=P+(T<<22&4294967295|T>>>10),T=B+(I^S&(P^I))+N[8]+1770035416&4294967295,B=S+(T<<7&4294967295|T>>>25),T=I+(P^B&(S^P))+N[9]+2336552879&4294967295,I=B+(T<<12&4294967295|T>>>20),T=P+(S^I&(B^S))+N[10]+4294925233&4294967295,P=I+(T<<17&4294967295|T>>>15),T=S+(B^P&(I^B))+N[11]+2304563134&4294967295,S=P+(T<<22&4294967295|T>>>10),T=B+(I^S&(P^I))+N[12]+1804603682&4294967295,B=S+(T<<7&4294967295|T>>>25),T=I+(P^B&(S^P))+N[13]+4254626195&4294967295,I=B+(T<<12&4294967295|T>>>20),T=P+(S^I&(B^S))+N[14]+2792965006&4294967295,P=I+(T<<17&4294967295|T>>>15),T=S+(B^P&(I^B))+N[15]+1236535329&4294967295,S=P+(T<<22&4294967295|T>>>10),T=B+(P^I&(S^P))+N[1]+4129170786&4294967295,B=S+(T<<5&4294967295|T>>>27),T=I+(S^P&(B^S))+N[6]+3225465664&4294967295,I=B+(T<<9&4294967295|T>>>23),T=P+(B^S&(I^B))+N[11]+643717713&4294967295,P=I+(T<<14&4294967295|T>>>18),T=S+(I^B&(P^I))+N[0]+3921069994&4294967295,S=P+(T<<20&4294967295|T>>>12),T=B+(P^I&(S^P))+N[5]+3593408605&4294967295,B=S+(T<<5&4294967295|T>>>27),T=I+(S^P&(B^S))+N[10]+38016083&4294967295,I=B+(T<<9&4294967295|T>>>23),T=P+(B^S&(I^B))+N[15]+3634488961&4294967295,P=I+(T<<14&4294967295|T>>>18),T=S+(I^B&(P^I))+N[4]+3889429448&4294967295,S=P+(T<<20&4294967295|T>>>12),T=B+(P^I&(S^P))+N[9]+568446438&4294967295,B=S+(T<<5&4294967295|T>>>27),T=I+(S^P&(B^S))+N[14]+3275163606&4294967295,I=B+(T<<9&4294967295|T>>>23),T=P+(B^S&(I^B))+N[3]+4107603335&4294967295,P=I+(T<<14&4294967295|T>>>18),T=S+(I^B&(P^I))+N[8]+1163531501&4294967295,S=P+(T<<20&4294967295|T>>>12),T=B+(P^I&(S^P))+N[13]+2850285829&4294967295,B=S+(T<<5&4294967295|T>>>27),T=I+(S^P&(B^S))+N[2]+4243563512&4294967295,I=B+(T<<9&4294967295|T>>>23),T=P+(B^S&(I^B))+N[7]+1735328473&4294967295,P=I+(T<<14&4294967295|T>>>18),T=S+(I^B&(P^I))+N[12]+2368359562&4294967295,S=P+(T<<20&4294967295|T>>>12),T=B+(S^P^I)+N[5]+4294588738&4294967295,B=S+(T<<4&4294967295|T>>>28),T=I+(B^S^P)+N[8]+2272392833&4294967295,I=B+(T<<11&4294967295|T>>>21),T=P+(I^B^S)+N[11]+1839030562&4294967295,P=I+(T<<16&4294967295|T>>>16),T=S+(P^I^B)+N[14]+4259657740&4294967295,S=P+(T<<23&4294967295|T>>>9),T=B+(S^P^I)+N[1]+2763975236&4294967295,B=S+(T<<4&4294967295|T>>>28),T=I+(B^S^P)+N[4]+1272893353&4294967295,I=B+(T<<11&4294967295|T>>>21),T=P+(I^B^S)+N[7]+4139469664&4294967295,P=I+(T<<16&4294967295|T>>>16),T=S+(P^I^B)+N[10]+3200236656&4294967295,S=P+(T<<23&4294967295|T>>>9),T=B+(S^P^I)+N[13]+681279174&4294967295,B=S+(T<<4&4294967295|T>>>28),T=I+(B^S^P)+N[0]+3936430074&4294967295,I=B+(T<<11&4294967295|T>>>21),T=P+(I^B^S)+N[3]+3572445317&4294967295,P=I+(T<<16&4294967295|T>>>16),T=S+(P^I^B)+N[6]+76029189&4294967295,S=P+(T<<23&4294967295|T>>>9),T=B+(S^P^I)+N[9]+3654602809&4294967295,B=S+(T<<4&4294967295|T>>>28),T=I+(B^S^P)+N[12]+3873151461&4294967295,I=B+(T<<11&4294967295|T>>>21),T=P+(I^B^S)+N[15]+530742520&4294967295,P=I+(T<<16&4294967295|T>>>16),T=S+(P^I^B)+N[2]+3299628645&4294967295,S=P+(T<<23&4294967295|T>>>9),T=B+(P^(S|~I))+N[0]+4096336452&4294967295,B=S+(T<<6&4294967295|T>>>26),T=I+(S^(B|~P))+N[7]+1126891415&4294967295,I=B+(T<<10&4294967295|T>>>22),T=P+(B^(I|~S))+N[14]+2878612391&4294967295,P=I+(T<<15&4294967295|T>>>17),T=S+(I^(P|~B))+N[5]+4237533241&4294967295,S=P+(T<<21&4294967295|T>>>11),T=B+(P^(S|~I))+N[12]+1700485571&4294967295,B=S+(T<<6&4294967295|T>>>26),T=I+(S^(B|~P))+N[3]+2399980690&4294967295,I=B+(T<<10&4294967295|T>>>22),T=P+(B^(I|~S))+N[10]+4293915773&4294967295,P=I+(T<<15&4294967295|T>>>17),T=S+(I^(P|~B))+N[1]+2240044497&4294967295,S=P+(T<<21&4294967295|T>>>11),T=B+(P^(S|~I))+N[8]+1873313359&4294967295,B=S+(T<<6&4294967295|T>>>26),T=I+(S^(B|~P))+N[15]+4264355552&4294967295,I=B+(T<<10&4294967295|T>>>22),T=P+(B^(I|~S))+N[6]+2734768916&4294967295,P=I+(T<<15&4294967295|T>>>17),T=S+(I^(P|~B))+N[13]+1309151649&4294967295,S=P+(T<<21&4294967295|T>>>11),T=B+(P^(S|~I))+N[4]+4149444226&4294967295,B=S+(T<<6&4294967295|T>>>26),T=I+(S^(B|~P))+N[11]+3174756917&4294967295,I=B+(T<<10&4294967295|T>>>22),T=P+(B^(I|~S))+N[2]+718787259&4294967295,P=I+(T<<15&4294967295|T>>>17),T=S+(I^(P|~B))+N[9]+3951481745&4294967295,_.g[0]=_.g[0]+B&4294967295,_.g[1]=_.g[1]+(P+(T<<21&4294967295|T>>>11))&4294967295,_.g[2]=_.g[2]+P&4294967295,_.g[3]=_.g[3]+I&4294967295}n.prototype.u=function(_,B){B===void 0&&(B=_.length);for(var S=B-this.blockSize,N=this.B,P=this.h,I=0;I<B;){if(P==0)for(;I<=S;)s(this,_,I),I+=this.blockSize;if(typeof _=="string"){for(;I<B;)if(N[P++]=_.charCodeAt(I++),P==this.blockSize){s(this,N),P=0;break}}else for(;I<B;)if(N[P++]=_[I++],P==this.blockSize){s(this,N),P=0;break}}this.h=P,this.o+=B},n.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var B=1;B<_.length-8;++B)_[B]=0;var S=8*this.o;for(B=_.length-8;B<_.length;++B)_[B]=S&255,S/=256;for(this.u(_),_=Array(16),B=S=0;4>B;++B)for(var N=0;32>N;N+=8)_[S++]=this.g[B]>>>N&255;return _};function a(_,B){var S=l;return Object.prototype.hasOwnProperty.call(S,_)?S[_]:S[_]=B(_)}function o(_,B){this.h=B;for(var S=[],N=!0,P=_.length-1;0<=P;P--){var I=_[P]|0;N&&I==B||(S[P]=I,N=!1)}this.g=S}var l={};function c(_){return-128<=_&&128>_?a(_,function(B){return new o([B|0],0>B?-1:0)}):new o([_|0],0>_?-1:0)}function u(_){if(isNaN(_)||!isFinite(_))return d;if(0>_)return g(u(-_));for(var B=[],S=1,N=0;_>=S;N++)B[N]=_/S|0,S*=4294967296;return new o(B,0)}function A(_,B){if(_.length==0)throw Error("number format error: empty string");if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(_.charAt(0)=="-")return g(A(_.substring(1),B));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=u(Math.pow(B,8)),N=d,P=0;P<_.length;P+=8){var I=Math.min(8,_.length-P),T=parseInt(_.substring(P,P+I),B);8>I?(I=u(Math.pow(B,I)),N=N.j(I).add(u(T))):(N=N.j(S),N=N.add(u(T)))}return N}var d=c(0),h=c(1),f=c(16777216);t=o.prototype,t.m=function(){if(p(this))return-g(this).m();for(var _=0,B=1,S=0;S<this.g.length;S++){var N=this.i(S);_+=(0<=N?N:4294967296+N)*B,B*=4294967296}return _},t.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(m(this))return"0";if(p(this))return"-"+g(this).toString(_);for(var B=u(Math.pow(_,6)),S=this,N="";;){var P=j(S,B).g;S=y(S,P.j(B));var I=((0<S.g.length?S.g[0]:S.h)>>>0).toString(_);if(S=P,m(S))return I+N;for(;6>I.length;)I="0"+I;N=I+N}},t.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function m(_){if(_.h!=0)return!1;for(var B=0;B<_.g.length;B++)if(_.g[B]!=0)return!1;return!0}function p(_){return _.h==-1}t.l=function(_){return _=y(this,_),p(_)?-1:m(_)?0:1};function g(_){for(var B=_.g.length,S=[],N=0;N<B;N++)S[N]=~_.g[N];return new o(S,~_.h).add(h)}t.abs=function(){return p(this)?g(this):this},t.add=function(_){for(var B=Math.max(this.g.length,_.g.length),S=[],N=0,P=0;P<=B;P++){var I=N+(this.i(P)&65535)+(_.i(P)&65535),T=(I>>>16)+(this.i(P)>>>16)+(_.i(P)>>>16);N=T>>>16,I&=65535,T&=65535,S[P]=T<<16|I}return new o(S,S[S.length-1]&-2147483648?-1:0)};function y(_,B){return _.add(g(B))}t.j=function(_){if(m(this)||m(_))return d;if(p(this))return p(_)?g(this).j(g(_)):g(g(this).j(_));if(p(_))return g(this.j(g(_)));if(0>this.l(f)&&0>_.l(f))return u(this.m()*_.m());for(var B=this.g.length+_.g.length,S=[],N=0;N<2*B;N++)S[N]=0;for(N=0;N<this.g.length;N++)for(var P=0;P<_.g.length;P++){var I=this.i(N)>>>16,T=this.i(N)&65535,D=_.i(P)>>>16,M=_.i(P)&65535;S[2*N+2*P]+=T*M,x(S,2*N+2*P),S[2*N+2*P+1]+=I*M,x(S,2*N+2*P+1),S[2*N+2*P+1]+=T*D,x(S,2*N+2*P+1),S[2*N+2*P+2]+=I*D,x(S,2*N+2*P+2)}for(N=0;N<B;N++)S[N]=S[2*N+1]<<16|S[2*N];for(N=B;N<2*B;N++)S[N]=0;return new o(S,0)};function x(_,B){for(;(_[B]&65535)!=_[B];)_[B+1]+=_[B]>>>16,_[B]&=65535,B++}function b(_,B){this.g=_,this.h=B}function j(_,B){if(m(B))throw Error("division by zero");if(m(_))return new b(d,d);if(p(_))return B=j(g(_),B),new b(g(B.g),g(B.h));if(p(B))return B=j(_,g(B)),new b(g(B.g),B.h);if(30<_.g.length){if(p(_)||p(B))throw Error("slowDivide_ only works with positive integers.");for(var S=h,N=B;0>=N.l(_);)S=C(S),N=C(N);var P=E(S,1),I=E(N,1);for(N=E(N,2),S=E(S,2);!m(N);){var T=I.add(N);0>=T.l(_)&&(P=P.add(S),I=T),N=E(N,1),S=E(S,1)}return B=y(_,P.j(B)),new b(P,B)}for(P=d;0<=_.l(B);){for(S=Math.max(1,Math.floor(_.m()/B.m())),N=Math.ceil(Math.log(S)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),I=u(S),T=I.j(B);p(T)||0<T.l(_);)S-=N,I=u(S),T=I.j(B);m(I)&&(I=h),P=P.add(I),_=y(_,T)}return new b(P,_)}t.A=function(_){return j(this,_).h},t.and=function(_){for(var B=Math.max(this.g.length,_.g.length),S=[],N=0;N<B;N++)S[N]=this.i(N)&_.i(N);return new o(S,this.h&_.h)},t.or=function(_){for(var B=Math.max(this.g.length,_.g.length),S=[],N=0;N<B;N++)S[N]=this.i(N)|_.i(N);return new o(S,this.h|_.h)},t.xor=function(_){for(var B=Math.max(this.g.length,_.g.length),S=[],N=0;N<B;N++)S[N]=this.i(N)^_.i(N);return new o(S,this.h^_.h)};function C(_){for(var B=_.g.length+1,S=[],N=0;N<B;N++)S[N]=_.i(N)<<1|_.i(N-1)>>>31;return new o(S,_.h)}function E(_,B){var S=B>>5;B%=32;for(var N=_.g.length-S,P=[],I=0;I<N;I++)P[I]=0<B?_.i(I+S)>>>B|_.i(I+S+1)<<32-B:_.i(I+S);return new o(P,_.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=A,EO=o}).apply(typeof SM<"u"?SM:typeof self<"u"?self:typeof window<"u"?window:{});var O0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nz,sg,sz,qw,tT,az,iz,oz;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(w,k,F){return w==Array.prototype||w==Object.prototype||(w[k]=F.value),w};function r(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof O0=="object"&&O0];for(var k=0;k<w.length;++k){var F=w[k];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var n=r(this);function s(w,k){if(k)e:{var F=n;w=w.split(".");for(var L=0;L<w.length-1;L++){var te=w[L];if(!(te in F))break e;F=F[te]}w=w[w.length-1],L=F[w],k=k(L),k!=L&&k!=null&&e(F,w,{configurable:!0,writable:!0,value:k})}}function a(w,k){w instanceof String&&(w+="");var F=0,L=!1,te={next:function(){if(!L&&F<w.length){var oe=F++;return{value:k(oe,w[oe]),done:!1}}return L=!0,{done:!0,value:void 0}}};return te[Symbol.iterator]=function(){return te},te}s("Array.prototype.values",function(w){return w||function(){return a(this,function(k,F){return F})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(w){var k=typeof w;return k=k!="object"?k:w?Array.isArray(w)?"array":k:"null",k=="array"||k=="object"&&typeof w.length=="number"}function u(w){var k=typeof w;return k=="object"&&w!=null||k=="function"}function A(w,k,F){return w.call.apply(w.bind,arguments)}function d(w,k,F){if(!w)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(te,L),w.apply(k,te)}}return function(){return w.apply(k,arguments)}}function h(w,k,F){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:d,h.apply(null,arguments)}function f(w,k){var F=Array.prototype.slice.call(arguments,1);return function(){var L=F.slice();return L.push.apply(L,arguments),w.apply(this,L)}}function m(w,k){function F(){}F.prototype=k.prototype,w.aa=k.prototype,w.prototype=new F,w.prototype.constructor=w,w.Qb=function(L,te,oe){for(var Ie=Array(arguments.length-2),mr=2;mr<arguments.length;mr++)Ie[mr-2]=arguments[mr];return k.prototype[te].apply(L,Ie)}}function p(w){const k=w.length;if(0<k){const F=Array(k);for(let L=0;L<k;L++)F[L]=w[L];return F}return[]}function g(w,k){for(let F=1;F<arguments.length;F++){const L=arguments[F];if(c(L)){const te=w.length||0,oe=L.length||0;w.length=te+oe;for(let Ie=0;Ie<oe;Ie++)w[te+Ie]=L[Ie]}else w.push(L)}}class y{constructor(k,F){this.i=k,this.j=F,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function x(w){return/^[\s\xa0]*$/.test(w)}function b(){var w=l.navigator;return w&&(w=w.userAgent)?w:""}function j(w){return j[" "](w),w}j[" "]=function(){};var C=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function E(w,k,F){for(const L in w)k.call(F,w[L],L,w)}function _(w,k){for(const F in w)k.call(void 0,w[F],F,w)}function B(w){const k={};for(const F in w)k[F]=w[F];return k}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(w,k){let F,L;for(let te=1;te<arguments.length;te++){L=arguments[te];for(F in L)w[F]=L[F];for(let oe=0;oe<S.length;oe++)F=S[oe],Object.prototype.hasOwnProperty.call(L,F)&&(w[F]=L[F])}}function P(w){var k=1;w=w.split(":");const F=[];for(;0<k&&w.length;)F.push(w.shift()),k--;return w.length&&F.push(w.join(":")),F}function I(w){l.setTimeout(()=>{throw w},0)}function T(){var w=R;let k=null;return w.g&&(k=w.g,w.g=w.g.next,w.g||(w.h=null),k.next=null),k}class D{constructor(){this.h=this.g=null}add(k,F){const L=M.get();L.set(k,F),this.h?this.h.next=L:this.g=L,this.h=L}}var M=new y(()=>new H,w=>w.reset());class H{constructor(){this.next=this.g=this.h=null}set(k,F){this.h=k,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let U,O=!1,R=new D,Q=()=>{const w=l.Promise.resolve(void 0);U=()=>{w.then(G)}};var G=()=>{for(var w;w=T();){try{w.h.call(w.g)}catch(F){I(F)}var k=M;k.j(w),100>k.h&&(k.h++,w.next=k.g,k.g=w)}O=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(w,k){this.type=w,this.g=this.target=k,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var w=!1,k=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const F=()=>{};l.addEventListener("test",F,k),l.removeEventListener("test",F,k)}catch{}return w}();function K(w,k){if(se.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w){var F=this.type=w.type,L=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;if(this.target=w.target||w.srcElement,this.g=k,k=w.relatedTarget){if(C){e:{try{j(k.nodeName);var te=!0;break e}catch{}te=!1}te||(k=null)}}else F=="mouseover"?k=w.fromElement:F=="mouseout"&&(k=w.toElement);this.relatedTarget=k,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=typeof w.pointerType=="string"?w.pointerType:ne[w.pointerType]||"",this.state=w.state,this.i=w,w.defaultPrevented&&K.aa.h.call(this)}}m(K,se);var ne={2:"touch",3:"pen",4:"mouse"};K.prototype.h=function(){K.aa.h.call(this);var w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),le=0;function Ae(w,k,F,L,te){this.listener=w,this.proxy=null,this.src=k,this.type=F,this.capture=!!L,this.ha=te,this.key=++le,this.da=this.fa=!1}function me(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function _e(w){this.src=w,this.g={},this.h=0}_e.prototype.add=function(w,k,F,L,te){var oe=w.toString();w=this.g[oe],w||(w=this.g[oe]=[],this.h++);var Ie=we(w,k,L,te);return-1<Ie?(k=w[Ie],F||(k.fa=!1)):(k=new Ae(k,this.src,oe,!!L,te),k.fa=F,w.push(k)),k};function W(w,k){var F=k.type;if(F in w.g){var L=w.g[F],te=Array.prototype.indexOf.call(L,k,void 0),oe;(oe=0<=te)&&Array.prototype.splice.call(L,te,1),oe&&(me(k),w.g[F].length==0&&(delete w.g[F],w.h--))}}function we(w,k,F,L){for(var te=0;te<w.length;++te){var oe=w[te];if(!oe.da&&oe.listener==k&&oe.capture==!!F&&oe.ha==L)return te}return-1}var Oe="closure_lm_"+(1e6*Math.random()|0),qe={};function Ze(w,k,F,L,te){if(Array.isArray(k)){for(var oe=0;oe<k.length;oe++)Ze(w,k[oe],F,L,te);return null}return F=ft(F),w&&w[ue]?w.K(k,F,u(L)?!!L.capture:!!L,te):It(w,k,F,!1,L,te)}function It(w,k,F,L,te,oe){if(!k)throw Error("Invalid event type");var Ie=u(te)?!!te.capture:!!te,mr=be(w);if(mr||(w[Oe]=mr=new _e(w)),F=mr.add(k,F,L,Ie,oe),F.proxy)return F;if(L=z(),F.proxy=L,L.src=w,L.listener=F,w.addEventListener)Z||(te=Ie),te===void 0&&(te=!1),w.addEventListener(k.toString(),L,te);else if(w.attachEvent)w.attachEvent(Ce(k.toString()),L);else if(w.addListener&&w.removeListener)w.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return F}function z(){function w(F){return k.call(w.src,w.listener,F)}const k=Ne;return w}function ee(w,k,F,L,te){if(Array.isArray(k))for(var oe=0;oe<k.length;oe++)ee(w,k[oe],F,L,te);else L=u(L)?!!L.capture:!!L,F=ft(F),w&&w[ue]?(w=w.i,k=String(k).toString(),k in w.g&&(oe=w.g[k],F=we(oe,F,L,te),-1<F&&(me(oe[F]),Array.prototype.splice.call(oe,F,1),oe.length==0&&(delete w.g[k],w.h--)))):w&&(w=be(w))&&(k=w.g[k.toString()],w=-1,k&&(w=we(k,F,L,te)),(F=-1<w?k[w]:null)&&ae(F))}function ae(w){if(typeof w!="number"&&w&&!w.da){var k=w.src;if(k&&k[ue])W(k.i,w);else{var F=w.type,L=w.proxy;k.removeEventListener?k.removeEventListener(F,L,w.capture):k.detachEvent?k.detachEvent(Ce(F),L):k.addListener&&k.removeListener&&k.removeListener(L),(F=be(k))?(W(F,w),F.h==0&&(F.src=null,k[Oe]=null)):me(w)}}}function Ce(w){return w in qe?qe[w]:qe[w]="on"+w}function Ne(w,k){if(w.da)w=!0;else{k=new K(k,this);var F=w.listener,L=w.ha||w.src;w.fa&&ae(w),w=F.call(L,k)}return w}function be(w){return w=w[Oe],w instanceof _e?w:null}var Ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function ft(w){return typeof w=="function"?w:(w[Ye]||(w[Ye]=function(k){return w.handleEvent(k)}),w[Ye])}function it(){X.call(this),this.i=new _e(this),this.M=this,this.F=null}m(it,X),it.prototype[ue]=!0,it.prototype.removeEventListener=function(w,k,F,L){ee(this,w,k,F,L)};function mt(w,k){var F,L=w.F;if(L)for(F=[];L;L=L.F)F.push(L);if(w=w.M,L=k.type||k,typeof k=="string")k=new se(k,w);else if(k instanceof se)k.target=k.target||w;else{var te=k;k=new se(L,w),N(k,te)}if(te=!0,F)for(var oe=F.length-1;0<=oe;oe--){var Ie=k.g=F[oe];te=bs(Ie,L,!0,k)&&te}if(Ie=k.g=w,te=bs(Ie,L,!0,k)&&te,te=bs(Ie,L,!1,k)&&te,F)for(oe=0;oe<F.length;oe++)Ie=k.g=F[oe],te=bs(Ie,L,!1,k)&&te}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var w=this.i,k;for(k in w.g){for(var F=w.g[k],L=0;L<F.length;L++)me(F[L]);delete w.g[k],w.h--}}this.F=null},it.prototype.K=function(w,k,F,L){return this.i.add(String(w),k,!1,F,L)},it.prototype.L=function(w,k,F,L){return this.i.add(String(w),k,!0,F,L)};function bs(w,k,F,L){if(k=w.i.g[String(k)],!k)return!0;k=k.concat();for(var te=!0,oe=0;oe<k.length;++oe){var Ie=k[oe];if(Ie&&!Ie.da&&Ie.capture==F){var mr=Ie.listener,kn=Ie.ha||Ie.src;Ie.fa&&W(w.i,Ie),te=mr.call(kn,L)!==!1&&te}}return te&&!L.defaultPrevented}function ci(w,k,F){if(typeof w=="function")F&&(w=h(w,F));else if(w&&typeof w.handleEvent=="function")w=h(w.handleEvent,w);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:l.setTimeout(w,k||0)}function $o(w){w.g=ci(()=>{w.g=null,w.i&&(w.i=!1,$o(w))},w.l);const k=w.h;w.h=null,w.m.apply(null,k)}class Hu extends X{constructor(k,F){super(),this.m=k,this.l=F,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:$o(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xi(w){X.call(this),this.h=w,this.g={}}m(Xi,X);var zl=[];function Pd(w){E(w.g,function(k,F){this.g.hasOwnProperty(F)&&ae(k)},w),w.g={}}Xi.prototype.N=function(){Xi.aa.N.call(this),Pd(this)},Xi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ji=l.JSON.stringify,Yi=l.JSON.parse,IB=class{stringify(w){return l.JSON.stringify(w,void 0)}parse(w){return l.JSON.parse(w,void 0)}};function gt(){}gt.prototype.h=null;function lr(w){return w.h||(w.h=w.i())}function nr(){}var Yn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ls(){se.call(this,"d")}m(Ls,se);function Gl(){se.call(this,"c")}m(Gl,se);var Ho={},fD=null;function zx(){return fD=fD||new it}Ho.La="serverreachability";function mD(w){se.call(this,Ho.La,w)}m(mD,se);function tp(w){const k=zx();mt(k,new mD(k))}Ho.STAT_EVENT="statevent";function pD(w,k){se.call(this,Ho.STAT_EVENT,w),this.stat=k}m(pD,se);function js(w){const k=zx();mt(k,new pD(k,w))}Ho.Ma="timingevent";function gD(w,k){se.call(this,Ho.Ma,w),this.size=k}m(gD,se);function rp(w,k){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){w()},k)}function np(){this.g=!0}np.prototype.xa=function(){this.g=!1};function pse(w,k,F,L,te,oe){w.info(function(){if(w.g)if(oe)for(var Ie="",mr=oe.split("&"),kn=0;kn<mr.length;kn++){var qt=mr[kn].split("=");if(1<qt.length){var Zn=qt[0];qt=qt[1];var es=Zn.split("_");Ie=2<=es.length&&es[1]=="type"?Ie+(Zn+"="+qt+"&"):Ie+(Zn+"=redacted&")}}else Ie=null;else Ie=oe;return"XMLHTTP REQ ("+L+") [attempt "+te+"]: "+k+`
`+F+`
`+Ie})}function gse(w,k,F,L,te,oe,Ie){w.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+te+"]: "+k+`
`+F+`
`+oe+" "+Ie})}function Od(w,k,F,L){w.info(function(){return"XMLHTTP TEXT ("+k+"): "+yse(w,F)+(L?" "+L:"")})}function vse(w,k){w.info(function(){return"TIMEOUT: "+k})}np.prototype.info=function(){};function yse(w,k){if(!w.g)return k;if(!k)return null;try{var F=JSON.parse(k);if(F){for(w=0;w<F.length;w++)if(Array.isArray(F[w])){var L=F[w];if(!(2>L.length)){var te=L[1];if(Array.isArray(te)&&!(1>te.length)){var oe=te[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(var Ie=1;Ie<te.length;Ie++)te[Ie]=""}}}}return Ji(F)}catch{return k}}var Gx={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vD={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},PB;function Wx(){}m(Wx,gt),Wx.prototype.g=function(){return new XMLHttpRequest},Wx.prototype.i=function(){return{}},PB=new Wx;function Wl(w,k,F,L){this.j=w,this.i=k,this.l=F,this.R=L||1,this.U=new Xi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yD}function yD(){this.i=null,this.g="",this.h=!1}var xD={},OB={};function FB(w,k,F){w.L=1,w.v=Yx(Vo(k)),w.m=F,w.P=!0,wD(w,null)}function wD(w,k){w.F=Date.now(),qx(w),w.A=Vo(w.v);var F=w.A,L=w.R;Array.isArray(L)||(L=[String(L)]),FD(F.i,"t",L),w.C=0,F=w.j.J,w.h=new yD,w.g=ZD(w.j,F?k:null,!w.m),0<w.O&&(w.M=new Hu(h(w.Y,w,w.g),w.O)),k=w.U,F=w.g,L=w.ca;var te="readystatechange";Array.isArray(te)||(te&&(zl[0]=te.toString()),te=zl);for(var oe=0;oe<te.length;oe++){var Ie=Ze(F,te[oe],L||k.handleEvent,!1,k.h||k);if(!Ie)break;k.g[Ie.key]=Ie}k=w.H?B(w.H):{},w.m?(w.u||(w.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.A,w.u,w.m,k)):(w.u="GET",w.g.ea(w.A,w.u,null,k)),tp(),pse(w.i,w.u,w.A,w.l,w.R,w.m)}Wl.prototype.ca=function(w){w=w.target;const k=this.M;k&&Ko(w)==3?k.j():this.Y(w)},Wl.prototype.Y=function(w){try{if(w==this.g)e:{const es=Ko(this.g);var k=this.g.Ba();const Rd=this.g.Z();if(!(3>es)&&(es!=3||this.g&&(this.h.h||this.g.oa()||$D(this.g)))){this.J||es!=4||k==7||(k==8||0>=Rd?tp(3):tp(2)),DB(this);var F=this.g.Z();this.X=F;t:if(bD(this)){var L=$D(this.g);w="";var te=L.length,oe=Ko(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vu(this),sp(this);var Ie="";break t}this.h.i=new l.TextDecoder}for(k=0;k<te;k++)this.h.h=!0,w+=this.h.i.decode(L[k],{stream:!(oe&&k==te-1)});L.length=0,this.h.g+=w,this.C=0,Ie=this.h.g}else Ie=this.g.oa();if(this.o=F==200,gse(this.i,this.u,this.A,this.l,this.R,es,F),this.o){if(this.T&&!this.K){t:{if(this.g){var mr,kn=this.g;if((mr=kn.g?kn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(mr)){var qt=mr;break t}}qt=null}if(F=qt)Od(this.i,this.l,F,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,RB(this,F);else{this.o=!1,this.s=3,js(12),Vu(this),sp(this);break e}}if(this.P){F=!0;let ui;for(;!this.J&&this.C<Ie.length;)if(ui=xse(this,Ie),ui==OB){es==4&&(this.s=4,js(14),F=!1),Od(this.i,this.l,null,"[Incomplete Response]");break}else if(ui==xD){this.s=4,js(15),Od(this.i,this.l,Ie,"[Invalid Chunk]"),F=!1;break}else Od(this.i,this.l,ui,null),RB(this,ui);if(bD(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),es!=4||Ie.length!=0||this.h.h||(this.s=1,js(16),F=!1),this.o=this.o&&F,!F)Od(this.i,this.l,Ie,"[Invalid Chunked Response]"),Vu(this),sp(this);else if(0<Ie.length&&!this.W){this.W=!0;var Zn=this.j;Zn.g==this&&Zn.ba&&!Zn.M&&(Zn.j.info("Great, no buffering proxy detected. Bytes received: "+Ie.length),HB(Zn),Zn.M=!0,js(11))}}else Od(this.i,this.l,Ie,null),RB(this,Ie);es==4&&Vu(this),this.o&&!this.J&&(es==4?qD(this.j,this):(this.o=!1,qx(this)))}else Rse(this.g),F==400&&0<Ie.indexOf("Unknown SID")?(this.s=3,js(12)):(this.s=0,js(13)),Vu(this),sp(this)}}}catch{}finally{}};function bD(w){return w.g?w.u=="GET"&&w.L!=2&&w.j.Ca:!1}function xse(w,k){var F=w.C,L=k.indexOf(`
`,F);return L==-1?OB:(F=Number(k.substring(F,L)),isNaN(F)?xD:(L+=1,L+F>k.length?OB:(k=k.slice(L,L+F),w.C=L+F,k)))}Wl.prototype.cancel=function(){this.J=!0,Vu(this)};function qx(w){w.S=Date.now()+w.I,jD(w,w.I)}function jD(w,k){if(w.B!=null)throw Error("WatchDog timer not null");w.B=rp(h(w.ba,w),k)}function DB(w){w.B&&(l.clearTimeout(w.B),w.B=null)}Wl.prototype.ba=function(){this.B=null;const w=Date.now();0<=w-this.S?(vse(this.i,this.A),this.L!=2&&(tp(),js(17)),Vu(this),this.s=2,sp(this)):jD(this,this.S-w)};function sp(w){w.j.G==0||w.J||qD(w.j,w)}function Vu(w){DB(w);var k=w.M;k&&typeof k.ma=="function"&&k.ma(),w.M=null,Pd(w.U),w.g&&(k=w.g,w.g=null,k.abort(),k.ma())}function RB(w,k){try{var F=w.j;if(F.G!=0&&(F.g==w||UB(F.h,w))){if(!w.K&&UB(F.h,w)&&F.G==3){try{var L=F.Da.g.parse(k)}catch{L=null}if(Array.isArray(L)&&L.length==3){var te=L;if(te[0]==0){e:if(!F.u){if(F.g)if(F.g.F+3e3<w.F)s0(F),r0(F);else break e;$B(F),js(18)}}else F.za=te[1],0<F.za-F.T&&37500>te[2]&&F.F&&F.v==0&&!F.C&&(F.C=rp(h(F.Za,F),6e3));if(1>=BD(F.h)&&F.ca){try{F.ca()}catch{}F.ca=void 0}}else zu(F,11)}else if((w.K||F.g==w)&&s0(F),!x(k))for(te=F.Da.g.parse(k),k=0;k<te.length;k++){let qt=te[k];if(F.T=qt[0],qt=qt[1],F.G==2)if(qt[0]=="c"){F.K=qt[1],F.ia=qt[2];const Zn=qt[3];Zn!=null&&(F.la=Zn,F.j.info("VER="+F.la));const es=qt[4];es!=null&&(F.Aa=es,F.j.info("SVER="+F.Aa));const Rd=qt[5];Rd!=null&&typeof Rd=="number"&&0<Rd&&(L=1.5*Rd,F.L=L,F.j.info("backChannelRequestTimeoutMs_="+L)),L=F;const ui=w.g;if(ui){const i0=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(i0){var oe=L.h;oe.g||i0.indexOf("spdy")==-1&&i0.indexOf("quic")==-1&&i0.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(MB(oe,oe.h),oe.h=null))}if(L.D){const VB=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;VB&&(L.ya=VB,Er(L.I,L.D,VB))}}F.G=3,F.l&&F.l.ua(),F.ba&&(F.R=Date.now()-w.F,F.j.info("Handshake RTT: "+F.R+"ms")),L=F;var Ie=w;if(L.qa=YD(L,L.J?L.ia:null,L.W),Ie.K){ED(L.h,Ie);var mr=Ie,kn=L.L;kn&&(mr.I=kn),mr.B&&(DB(mr),qx(mr)),L.g=Ie}else GD(L);0<F.i.length&&n0(F)}else qt[0]!="stop"&&qt[0]!="close"||zu(F,7);else F.G==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?zu(F,7):LB(F):qt[0]!="noop"&&F.l&&F.l.ta(qt),F.v=0)}}tp(4)}catch{}}var wse=class{constructor(w,k){this.g=w,this.map=k}};function _D(w){this.l=w||10,l.PerformanceNavigationTiming?(w=l.performance.getEntriesByType("navigation"),w=0<w.length&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function CD(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function BD(w){return w.h?1:w.g?w.g.size:0}function UB(w,k){return w.h?w.h==k:w.g?w.g.has(k):!1}function MB(w,k){w.g?w.g.add(k):w.h=k}function ED(w,k){w.h&&w.h==k?w.h=null:w.g&&w.g.has(k)&&w.g.delete(k)}_D.prototype.cancel=function(){if(this.i=SD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function SD(w){if(w.h!=null)return w.i.concat(w.h.D);if(w.g!=null&&w.g.size!==0){let k=w.i;for(const F of w.g.values())k=k.concat(F.D);return k}return p(w.i)}function bse(w){if(w.V&&typeof w.V=="function")return w.V();if(typeof Map<"u"&&w instanceof Map||typeof Set<"u"&&w instanceof Set)return Array.from(w.values());if(typeof w=="string")return w.split("");if(c(w)){for(var k=[],F=w.length,L=0;L<F;L++)k.push(w[L]);return k}k=[],F=0;for(L in w)k[F++]=w[L];return k}function jse(w){if(w.na&&typeof w.na=="function")return w.na();if(!w.V||typeof w.V!="function"){if(typeof Map<"u"&&w instanceof Map)return Array.from(w.keys());if(!(typeof Set<"u"&&w instanceof Set)){if(c(w)||typeof w=="string"){var k=[];w=w.length;for(var F=0;F<w;F++)k.push(F);return k}k=[],F=0;for(const L in w)k[F++]=L;return k}}}function ND(w,k){if(w.forEach&&typeof w.forEach=="function")w.forEach(k,void 0);else if(c(w)||typeof w=="string")Array.prototype.forEach.call(w,k,void 0);else for(var F=jse(w),L=bse(w),te=L.length,oe=0;oe<te;oe++)k.call(void 0,L[oe],F&&F[oe],w)}var kD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _se(w,k){if(w){w=w.split("&");for(var F=0;F<w.length;F++){var L=w[F].indexOf("="),te=null;if(0<=L){var oe=w[F].substring(0,L);te=w[F].substring(L+1)}else oe=w[F];k(oe,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function Ku(w){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,w instanceof Ku){this.h=w.h,Xx(this,w.j),this.o=w.o,this.g=w.g,Jx(this,w.s),this.l=w.l;var k=w.i,F=new op;F.i=k.i,k.g&&(F.g=new Map(k.g),F.h=k.h),TD(this,F),this.m=w.m}else w&&(k=String(w).match(kD))?(this.h=!1,Xx(this,k[1]||"",!0),this.o=ap(k[2]||""),this.g=ap(k[3]||"",!0),Jx(this,k[4]),this.l=ap(k[5]||"",!0),TD(this,k[6]||"",!0),this.m=ap(k[7]||"")):(this.h=!1,this.i=new op(null,this.h))}Ku.prototype.toString=function(){var w=[],k=this.j;k&&w.push(ip(k,ID,!0),":");var F=this.g;return(F||k=="file")&&(w.push("//"),(k=this.o)&&w.push(ip(k,ID,!0),"@"),w.push(encodeURIComponent(String(F)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.s,F!=null&&w.push(":",String(F))),(F=this.l)&&(this.g&&F.charAt(0)!="/"&&w.push("/"),w.push(ip(F,F.charAt(0)=="/"?Ese:Bse,!0))),(F=this.i.toString())&&w.push("?",F),(F=this.m)&&w.push("#",ip(F,Nse)),w.join("")};function Vo(w){return new Ku(w)}function Xx(w,k,F){w.j=F?ap(k,!0):k,w.j&&(w.j=w.j.replace(/:$/,""))}function Jx(w,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);w.s=k}else w.s=null}function TD(w,k,F){k instanceof op?(w.i=k,kse(w.i,w.h)):(F||(k=ip(k,Sse)),w.i=new op(k,w.h))}function Er(w,k,F){w.i.set(k,F)}function Yx(w){return Er(w,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),w}function ap(w,k){return w?k?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function ip(w,k,F){return typeof w=="string"?(w=encodeURI(w).replace(k,Cse),F&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function Cse(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var ID=/[#\/\?@]/g,Bse=/[#\?:]/g,Ese=/[#\?]/g,Sse=/[#\?@]/g,Nse=/#/g;function op(w,k){this.h=this.g=null,this.i=w||null,this.j=!!k}function ql(w){w.g||(w.g=new Map,w.h=0,w.i&&_se(w.i,function(k,F){w.add(decodeURIComponent(k.replace(/\+/g," ")),F)}))}t=op.prototype,t.add=function(w,k){ql(this),this.i=null,w=Fd(this,w);var F=this.g.get(w);return F||this.g.set(w,F=[]),F.push(k),this.h+=1,this};function PD(w,k){ql(w),k=Fd(w,k),w.g.has(k)&&(w.i=null,w.h-=w.g.get(k).length,w.g.delete(k))}function OD(w,k){return ql(w),k=Fd(w,k),w.g.has(k)}t.forEach=function(w,k){ql(this),this.g.forEach(function(F,L){F.forEach(function(te){w.call(k,te,L,this)},this)},this)},t.na=function(){ql(this);const w=Array.from(this.g.values()),k=Array.from(this.g.keys()),F=[];for(let L=0;L<k.length;L++){const te=w[L];for(let oe=0;oe<te.length;oe++)F.push(k[L])}return F},t.V=function(w){ql(this);let k=[];if(typeof w=="string")OD(this,w)&&(k=k.concat(this.g.get(Fd(this,w))));else{w=Array.from(this.g.values());for(let F=0;F<w.length;F++)k=k.concat(w[F])}return k},t.set=function(w,k){return ql(this),this.i=null,w=Fd(this,w),OD(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[k]),this.h+=1,this},t.get=function(w,k){return w?(w=this.V(w),0<w.length?String(w[0]):k):k};function FD(w,k,F){PD(w,k),0<F.length&&(w.i=null,w.g.set(Fd(w,k),p(F)),w.h+=F.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],k=Array.from(this.g.keys());for(var F=0;F<k.length;F++){var L=k[F];const oe=encodeURIComponent(String(L)),Ie=this.V(L);for(L=0;L<Ie.length;L++){var te=oe;Ie[L]!==""&&(te+="="+encodeURIComponent(String(Ie[L]))),w.push(te)}}return this.i=w.join("&")};function Fd(w,k){return k=String(k),w.j&&(k=k.toLowerCase()),k}function kse(w,k){k&&!w.j&&(ql(w),w.i=null,w.g.forEach(function(F,L){var te=L.toLowerCase();L!=te&&(PD(this,L),FD(this,te,F))},w)),w.j=k}function Tse(w,k){const F=new np;if(l.Image){const L=new Image;L.onload=f(Xl,F,"TestLoadImage: loaded",!0,k,L),L.onerror=f(Xl,F,"TestLoadImage: error",!1,k,L),L.onabort=f(Xl,F,"TestLoadImage: abort",!1,k,L),L.ontimeout=f(Xl,F,"TestLoadImage: timeout",!1,k,L),l.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=w}else k(!1)}function Ise(w,k){const F=new np,L=new AbortController,te=setTimeout(()=>{L.abort(),Xl(F,"TestPingServer: timeout",!1,k)},1e4);fetch(w,{signal:L.signal}).then(oe=>{clearTimeout(te),oe.ok?Xl(F,"TestPingServer: ok",!0,k):Xl(F,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(te),Xl(F,"TestPingServer: error",!1,k)})}function Xl(w,k,F,L,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),L(F)}catch{}}function Pse(){this.g=new IB}function Ose(w,k,F){const L=F||"";try{ND(w,function(te,oe){let Ie=te;u(te)&&(Ie=Ji(te)),k.push(L+oe+"="+encodeURIComponent(Ie))})}catch(te){throw k.push(L+"type="+encodeURIComponent("_badmap")),te}}function Zx(w){this.l=w.Ub||null,this.j=w.eb||!1}m(Zx,gt),Zx.prototype.g=function(){return new e0(this.l,this.j)},Zx.prototype.i=function(w){return function(){return w}}({});function e0(w,k){it.call(this),this.D=w,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(e0,it),t=e0.prototype,t.open=function(w,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=w,this.A=k,this.readyState=1,cp(this)},t.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};w&&(k.body=w),(this.D||l).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lp(this)),this.readyState=0},t.Sa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,cp(this)),this.g&&(this.readyState=3,cp(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;DD(this)}else w.text().then(this.Ra.bind(this),this.ga.bind(this))};function DD(w){w.j.read().then(w.Pa.bind(w)).catch(w.ga.bind(w))}t.Pa=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var k=w.value?w.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!w.done}))&&(this.response=this.responseText+=k)}w.done?lp(this):cp(this),this.readyState==3&&DD(this)}},t.Ra=function(w){this.g&&(this.response=this.responseText=w,lp(this))},t.Qa=function(w){this.g&&(this.response=w,lp(this))},t.ga=function(){this.g&&lp(this)};function lp(w){w.readyState=4,w.l=null,w.j=null,w.v=null,cp(w)}t.setRequestHeader=function(w,k){this.u.append(w,k)},t.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],k=this.h.entries();for(var F=k.next();!F.done;)F=F.value,w.push(F[0]+": "+F[1]),F=k.next();return w.join(`\r
`)};function cp(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(e0.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function RD(w){let k="";return E(w,function(F,L){k+=L,k+=":",k+=F,k+=`\r
`}),k}function QB(w,k,F){e:{for(L in F){var L=!1;break e}L=!0}L||(F=RD(F),typeof w=="string"?F!=null&&encodeURIComponent(String(F)):Er(w,k,F))}function $r(w){it.call(this),this.headers=new Map,this.o=w||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m($r,it);var Fse=/^https?$/i,Dse=["POST","PUT"];t=$r.prototype,t.Ha=function(w){this.J=w},t.ea=function(w,k,F,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);k=k?k.toUpperCase():"GET",this.D=w,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():PB.g(),this.v=this.o?lr(this.o):lr(PB),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(k,String(w),!0),this.B=!1}catch(oe){UD(this,oe);return}if(w=F||"",F=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var te in L)F.set(te,L[te]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const oe of L.keys())F.set(oe,L.get(oe));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(F.keys()).find(oe=>oe.toLowerCase()=="content-type"),te=l.FormData&&w instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Dse,k,void 0))||L||te||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,Ie]of F)this.g.setRequestHeader(oe,Ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{LD(this),this.u=!0,this.g.send(w),this.u=!1}catch(oe){UD(this,oe)}};function UD(w,k){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=k,w.m=5,MD(w),t0(w)}function MD(w){w.A||(w.A=!0,mt(w,"complete"),mt(w,"error"))}t.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=w||7,mt(this,"complete"),mt(this,"abort"),t0(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),t0(this,!0)),$r.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?QD(this):this.bb())},t.bb=function(){QD(this)};function QD(w){if(w.h&&typeof o<"u"&&(!w.v[1]||Ko(w)!=4||w.Z()!=2)){if(w.u&&Ko(w)==4)ci(w.Ea,0,w);else if(mt(w,"readystatechange"),Ko(w)==4){w.h=!1;try{const Ie=w.Z();e:switch(Ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var F;if(!(F=k)){var L;if(L=Ie===0){var te=String(w.D).match(kD)[1]||null;!te&&l.self&&l.self.location&&(te=l.self.location.protocol.slice(0,-1)),L=!Fse.test(te?te.toLowerCase():"")}F=L}if(F)mt(w,"complete"),mt(w,"success");else{w.m=6;try{var oe=2<Ko(w)?w.g.statusText:""}catch{oe=""}w.l=oe+" ["+w.Z()+"]",MD(w)}}finally{t0(w)}}}}function t0(w,k){if(w.g){LD(w);const F=w.g,L=w.v[0]?()=>{}:null;w.g=null,w.v=null,k||mt(w,"ready");try{F.onreadystatechange=L}catch{}}}function LD(w){w.I&&(l.clearTimeout(w.I),w.I=null)}t.isActive=function(){return!!this.g};function Ko(w){return w.g?w.g.readyState:0}t.Z=function(){try{return 2<Ko(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(w){if(this.g){var k=this.g.responseText;return w&&k.indexOf(w)==0&&(k=k.substring(w.length)),Yi(k)}};function $D(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.H){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function Rse(w){const k={};w=(w.g&&2<=Ko(w)&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<w.length;L++){if(x(w[L]))continue;var F=P(w[L]);const te=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const oe=k[te]||[];k[te]=oe,oe.push(F)}_(k,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function up(w,k,F){return F&&F.internalChannelParams&&F.internalChannelParams[w]||k}function HD(w){this.Aa=0,this.i=[],this.j=new np,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=up("failFast",!1,w),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=up("baseRetryDelayMs",5e3,w),this.cb=up("retryDelaySeedMs",1e4,w),this.Wa=up("forwardChannelMaxRetries",2,w),this.wa=up("forwardChannelRequestTimeoutMs",2e4,w),this.pa=w&&w.xmlHttpFactory||void 0,this.Xa=w&&w.Tb||void 0,this.Ca=w&&w.useFetchStreams||!1,this.L=void 0,this.J=w&&w.supportsCrossDomainXhr||!1,this.K="",this.h=new _D(w&&w.concurrentRequestLimit),this.Da=new Pse,this.P=w&&w.fastHandshake||!1,this.O=w&&w.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=w&&w.Rb||!1,w&&w.xa&&this.j.xa(),w&&w.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&w&&w.detectBufferingProxy||!1,this.ja=void 0,w&&w.longPollingTimeout&&0<w.longPollingTimeout&&(this.ja=w.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=HD.prototype,t.la=8,t.G=1,t.connect=function(w,k,F,L){js(0),this.W=w,this.H=k||{},F&&L!==void 0&&(this.H.OSID=F,this.H.OAID=L),this.F=this.X,this.I=YD(this,null,this.W),n0(this)};function LB(w){if(VD(w),w.G==3){var k=w.U++,F=Vo(w.I);if(Er(F,"SID",w.K),Er(F,"RID",k),Er(F,"TYPE","terminate"),Ap(w,F),k=new Wl(w,w.j,k),k.L=2,k.v=Yx(Vo(F)),F=!1,l.navigator&&l.navigator.sendBeacon)try{F=l.navigator.sendBeacon(k.v.toString(),"")}catch{}!F&&l.Image&&(new Image().src=k.v,F=!0),F||(k.g=ZD(k.j,null),k.g.ea(k.v)),k.F=Date.now(),qx(k)}JD(w)}function r0(w){w.g&&(HB(w),w.g.cancel(),w.g=null)}function VD(w){r0(w),w.u&&(l.clearTimeout(w.u),w.u=null),s0(w),w.h.cancel(),w.s&&(typeof w.s=="number"&&l.clearTimeout(w.s),w.s=null)}function n0(w){if(!CD(w.h)&&!w.s){w.s=!0;var k=w.Ga;U||Q(),O||(U(),O=!0),R.add(k,w),w.B=0}}function Use(w,k){return BD(w.h)>=w.h.j-(w.s?1:0)?!1:w.s?(w.i=k.D.concat(w.i),!0):w.G==1||w.G==2||w.B>=(w.Va?0:w.Wa)?!1:(w.s=rp(h(w.Ga,w,k),XD(w,w.B)),w.B++,!0)}t.Ga=function(w){if(this.s)if(this.s=null,this.G==1){if(!w){this.U=Math.floor(1e5*Math.random()),w=this.U++;const te=new Wl(this,this.j,w);let oe=this.o;if(this.S&&(oe?(oe=B(oe),N(oe,this.S)):oe=this.S),this.m!==null||this.O||(te.H=oe,oe=null),this.P)e:{for(var k=0,F=0;F<this.i.length;F++){t:{var L=this.i[F];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(k+=L,4096<k){k=F;break e}if(k===4096||F===this.i.length-1){k=F+1;break e}}k=1e3}else k=1e3;k=zD(this,te,k),F=Vo(this.I),Er(F,"RID",w),Er(F,"CVER",22),this.D&&Er(F,"X-HTTP-Session-Id",this.D),Ap(this,F),oe&&(this.O?k="headers="+encodeURIComponent(String(RD(oe)))+"&"+k:this.m&&QB(F,this.m,oe)),MB(this.h,te),this.Ua&&Er(F,"TYPE","init"),this.P?(Er(F,"$req",k),Er(F,"SID","null"),te.T=!0,FB(te,F,null)):FB(te,F,k),this.G=2}}else this.G==3&&(w?KD(this,w):this.i.length==0||CD(this.h)||KD(this))};function KD(w,k){var F;k?F=k.l:F=w.U++;const L=Vo(w.I);Er(L,"SID",w.K),Er(L,"RID",F),Er(L,"AID",w.T),Ap(w,L),w.m&&w.o&&QB(L,w.m,w.o),F=new Wl(w,w.j,F,w.B+1),w.m===null&&(F.H=w.o),k&&(w.i=k.D.concat(w.i)),k=zD(w,F,1e3),F.I=Math.round(.5*w.wa)+Math.round(.5*w.wa*Math.random()),MB(w.h,F),FB(F,L,k)}function Ap(w,k){w.H&&E(w.H,function(F,L){Er(k,L,F)}),w.l&&ND({},function(F,L){Er(k,L,F)})}function zD(w,k,F){F=Math.min(w.i.length,F);var L=w.l?h(w.l.Na,w.l,w):null;e:{var te=w.i;let oe=-1;for(;;){const Ie=["count="+F];oe==-1?0<F?(oe=te[0].g,Ie.push("ofs="+oe)):oe=0:Ie.push("ofs="+oe);let mr=!0;for(let kn=0;kn<F;kn++){let qt=te[kn].g;const Zn=te[kn].map;if(qt-=oe,0>qt)oe=Math.max(0,te[kn].g-100),mr=!1;else try{Ose(Zn,Ie,"req"+qt+"_")}catch{L&&L(Zn)}}if(mr){L=Ie.join("&");break e}}}return w=w.i.splice(0,F),k.D=w,L}function GD(w){if(!w.g&&!w.u){w.Y=1;var k=w.Fa;U||Q(),O||(U(),O=!0),R.add(k,w),w.v=0}}function $B(w){return w.g||w.u||3<=w.v?!1:(w.Y++,w.u=rp(h(w.Fa,w),XD(w,w.v)),w.v++,!0)}t.Fa=function(){if(this.u=null,WD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var w=2*this.R;this.j.info("BP detection timer enabled: "+w),this.A=rp(h(this.ab,this),w)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,js(10),r0(this),WD(this))};function HB(w){w.A!=null&&(l.clearTimeout(w.A),w.A=null)}function WD(w){w.g=new Wl(w,w.j,"rpc",w.Y),w.m===null&&(w.g.H=w.o),w.g.O=0;var k=Vo(w.qa);Er(k,"RID","rpc"),Er(k,"SID",w.K),Er(k,"AID",w.T),Er(k,"CI",w.F?"0":"1"),!w.F&&w.ja&&Er(k,"TO",w.ja),Er(k,"TYPE","xmlhttp"),Ap(w,k),w.m&&w.o&&QB(k,w.m,w.o),w.L&&(w.g.I=w.L);var F=w.g;w=w.ia,F.L=1,F.v=Yx(Vo(k)),F.m=null,F.P=!0,wD(F,w)}t.Za=function(){this.C!=null&&(this.C=null,r0(this),$B(this),js(19))};function s0(w){w.C!=null&&(l.clearTimeout(w.C),w.C=null)}function qD(w,k){var F=null;if(w.g==k){s0(w),HB(w),w.g=null;var L=2}else if(UB(w.h,k))F=k.D,ED(w.h,k),L=1;else return;if(w.G!=0){if(k.o)if(L==1){F=k.m?k.m.length:0,k=Date.now()-k.F;var te=w.B;L=zx(),mt(L,new gD(L,F)),n0(w)}else GD(w);else if(te=k.s,te==3||te==0&&0<k.X||!(L==1&&Use(w,k)||L==2&&$B(w)))switch(F&&0<F.length&&(k=w.h,k.i=k.i.concat(F)),te){case 1:zu(w,5);break;case 4:zu(w,10);break;case 3:zu(w,6);break;default:zu(w,2)}}}function XD(w,k){let F=w.Ta+Math.floor(Math.random()*w.cb);return w.isActive()||(F*=2),F*k}function zu(w,k){if(w.j.info("Error code "+k),k==2){var F=h(w.fb,w),L=w.Xa;const te=!L;L=new Ku(L||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Xx(L,"https"),Yx(L),te?Tse(L.toString(),F):Ise(L.toString(),F)}else js(2);w.G=0,w.l&&w.l.sa(k),JD(w),VD(w)}t.fb=function(w){w?(this.j.info("Successfully pinged google.com"),js(2)):(this.j.info("Failed to ping google.com"),js(1))};function JD(w){if(w.G=0,w.ka=[],w.l){const k=SD(w.h);(k.length!=0||w.i.length!=0)&&(g(w.ka,k),g(w.ka,w.i),w.h.i.length=0,p(w.i),w.i.length=0),w.l.ra()}}function YD(w,k,F){var L=F instanceof Ku?Vo(F):new Ku(F);if(L.g!="")k&&(L.g=k+"."+L.g),Jx(L,L.s);else{var te=l.location;L=te.protocol,k=k?k+"."+te.hostname:te.hostname,te=+te.port;var oe=new Ku(null);L&&Xx(oe,L),k&&(oe.g=k),te&&Jx(oe,te),F&&(oe.l=F),L=oe}return F=w.D,k=w.ya,F&&k&&Er(L,F,k),Er(L,"VER",w.la),Ap(w,L),L}function ZD(w,k,F){if(k&&!w.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=w.Ca&&!w.pa?new $r(new Zx({eb:F})):new $r(w.pa),k.Ha(w.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function eR(){}t=eR.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function a0(){}a0.prototype.g=function(w,k){return new oa(w,k)};function oa(w,k){it.call(this),this.g=new HD(k),this.l=w,this.h=k&&k.messageUrlParams||null,w=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(w?w["X-WebChannel-Content-Type"]=k.messageContentType:w={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(w?w["X-WebChannel-Client-Profile"]=k.va:w={"X-WebChannel-Client-Profile":k.va}),this.g.S=w,(w=k&&k.Sb)&&!x(w)&&(this.g.m=w),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!x(k)&&(this.g.D=k,w=this.h,w!==null&&k in w&&(w=this.h,k in w&&delete w[k])),this.j=new Dd(this)}m(oa,it),oa.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},oa.prototype.close=function(){LB(this.g)},oa.prototype.o=function(w){var k=this.g;if(typeof w=="string"){var F={};F.__data__=w,w=F}else this.u&&(F={},F.__data__=Ji(w),w=F);k.i.push(new wse(k.Ya++,w)),k.G==3&&n0(k)},oa.prototype.N=function(){this.g.l=null,delete this.j,LB(this.g),delete this.g,oa.aa.N.call(this)};function tR(w){Ls.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var k=w.__sm__;if(k){e:{for(const F in k){w=F;break e}w=void 0}(this.i=w)&&(w=this.i,k=k!==null&&w in k?k[w]:void 0),this.data=k}else this.data=w}m(tR,Ls);function rR(){Gl.call(this),this.status=1}m(rR,Gl);function Dd(w){this.g=w}m(Dd,eR),Dd.prototype.ua=function(){mt(this.g,"a")},Dd.prototype.ta=function(w){mt(this.g,new tR(w))},Dd.prototype.sa=function(w){mt(this.g,new rR)},Dd.prototype.ra=function(){mt(this.g,"b")},a0.prototype.createWebChannel=a0.prototype.g,oa.prototype.send=oa.prototype.o,oa.prototype.open=oa.prototype.m,oa.prototype.close=oa.prototype.close,oz=function(){return new a0},iz=function(){return zx()},az=Ho,tT={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gx.NO_ERROR=0,Gx.TIMEOUT=8,Gx.HTTP_ERROR=6,qw=Gx,vD.COMPLETE="complete",sz=vD,nr.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",it.prototype.listen=it.prototype.K,sg=nr,$r.prototype.listenOnce=$r.prototype.L,$r.prototype.getLastError=$r.prototype.Ka,$r.prototype.getLastErrorCode=$r.prototype.Ba,$r.prototype.getStatus=$r.prototype.Z,$r.prototype.getResponseJson=$r.prototype.Oa,$r.prototype.getResponseText=$r.prototype.oa,$r.prototype.send=$r.prototype.ea,$r.prototype.setWithCredentials=$r.prototype.Ha,nz=$r}).apply(typeof O0<"u"?O0:typeof self<"u"?self:typeof window<"u"?window:{});const NM="@firebase/firestore",kM="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let km="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=new X7("@firebase/firestore");function dh(){return nd.logLevel}function ke(t,...e){if(nd.logLevel<=Ht.DEBUG){const r=e.map(SO);nd.debug(`Firestore (${km}): ${t}`,...r)}}function ya(t,...e){if(nd.logLevel<=Ht.ERROR){const r=e.map(SO);nd.error(`Firestore (${km}): ${t}`,...r)}}function ux(t,...e){if(nd.logLevel<=Ht.WARN){const r=e.map(SO);nd.warn(`Firestore (${km}): ${t}`,...r)}}function SO(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,lz(t,n,r)}function lz(t,e,r){let n=`FIRESTORE (${km}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw ya(n),new Error(n)}function ct(t,e,r,n){let s="Unexpected state";typeof r=="string"?s=r:n=r,t||lz(e,s,n)}function br(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tt extends Ed{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mge{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Dn.UNAUTHENTICATED))}shutdown(){}}class pge{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class gge{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){ct(this.o===void 0,42304);let n=this.i;const s=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new Yc;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Yc,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Yc)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ct(typeof n.accessToken=="string",31837,{l:n}),new cz(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new Dn(e)}}class vge{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yge{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new vge(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xge{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zpe(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){ct(this.o===void 0,3512);const n=a=>{a.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,ke("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const s=a=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new TM(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(ct(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new TM(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wge(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bge(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=wge(40);for(let a=0;a<s.length;++a)n.length<20&&s[a]<r&&(n+=e.charAt(s[a]%62))}return n}}function bt(t,e){return t<e?-1:t>e?1:0}function rT(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),s=e.codePointAt(r);if(n!==s){if(n<128&&s<128)return bt(n,s);{const a=bge(),o=jge(a.encode(IM(t,r)),a.encode(IM(e,r)));return o!==0?o:bt(n,s)}}r+=n>65535?2:1}return bt(t.length,e.length)}function IM(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function jge(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return bt(t[r],e[r]);return bt(t.length,e.length)}function Nf(t,e,r){return t.length===e.length&&t.every((n,s)=>r(n,e[s]))}function Az(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=-62135596800,OM=1e6;class Wr{static now(){return Wr.fromMillis(Date.now())}static fromDate(e){return Wr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*OM);return new Wr(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new tt(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new tt(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<PM)throw new tt(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tt(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/OM}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-PM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{static fromTimestamp(e){return new Mt(e)}static min(){return new Mt(new Wr(0,0))}static max(){return new Mt(new Wr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM="__name__";class ao{constructor(e,r,n){r===void 0?r=0:r>e.length&&at(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&at(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return ao.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof ao?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let s=0;s<n;s++){const a=ao.compareSegments(e.get(s),r.get(s));if(a!==0)return a}return bt(e.length,r.length)}static compareSegments(e,r){const n=ao.isNumericId(e),s=ao.isNumericId(r);return n&&!s?-1:!n&&s?1:n&&s?ao.extractNumericId(e).compare(ao.extractNumericId(r)):rT(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return EO.fromString(e.substring(4,e.length-2))}}class pr extends ao{construct(e,r,n){return new pr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new tt(ve.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(s=>s.length>0))}return new pr(r)}static emptyPath(){return new pr([])}}const _ge=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mr extends ao{construct(e,r,n){return new Mr(e,r,n)}static isValidIdentifier(e){return _ge.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FM}static keyField(){return new Mr([FM])}static fromServerFormat(e){const r=[];let n="",s=0;const a=()=>{if(n.length===0)throw new tt(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new tt(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new tt(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(n+=l,s++):(a(),s++)}if(a(),o)throw new tt(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mr(r)}static emptyPath(){return new Mr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.path=e}static fromPath(e){return new Je(pr.fromString(e))}static fromName(e){return new Je(pr.fromString(e).popFirst(5))}static empty(){return new Je(pr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return pr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new pr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=-1;class o1{constructor(e,r,n,s){this.indexId=e,this.collectionGroup=r,this.fields=n,this.indexState=s}}function nT(t){return t.fields.find(e=>e.kind===2)}function iA(t){return t.fields.filter(e=>e.kind!==2)}o1.UNKNOWN_ID=-1;class Xw{constructor(e,r){this.fieldPath=e,this.kind=r}}class Sv{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Sv(0,Sa.min())}}function Cge(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,s=Mt.fromTimestamp(n===1e9?new Wr(r+1,0):new Wr(r,n));return new Sa(s,Je.empty(),e)}function dz(t){return new Sa(t.readTime,t.key,Ev)}class Sa{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Sa(Mt.min(),Je.empty(),Ev)}static max(){return new Sa(Mt.max(),Je.empty(),Ev)}}function NO(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Je.comparator(t.documentKey,e.documentKey),r!==0?r:bt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H_(t){if(t.code!==ve.FAILED_PRECONDITION||t.message!==hz)throw t;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&at(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new re((n,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,s)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,s)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof re?r:re.resolve(r)}catch(r){return re.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):re.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):re.reject(r)}static resolve(e){return new re((r,n)=>{r(e)})}static reject(e){return new re((r,n)=>{n(e)})}static waitFor(e){return new re((r,n)=>{let s=0,a=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++a,o&&a===s&&r()},c=>n(c))}),o=!0,a===s&&r()})}static or(e){let r=re.resolve(!1);for(const n of e)r=r.next(s=>s?re.resolve(s):n());return r}static forEach(e,r){const n=[];return e.forEach((s,a)=>{n.push(r.call(this,s,a))}),this.waitFor(n)}static mapArray(e,r){return new re((n,s)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const u=c;r(e[u]).next(A=>{o[u]=A,++l,l===a&&n(o)},A=>s(A))}})}static doWhile(e,r){return new re((n,s)=>{const a=()=>{e()===!0?r().next(()=>{a()},s):n()};a()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="SimpleDb";class V_{static open(e,r,n,s){try{return new V_(r,e.transaction(s,n))}catch(a){throw new Ig(r,a)}}constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.S=new Yc,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{r.error?this.S.reject(new Ig(e,r.error)):this.S.resolve()},this.transaction.onerror=n=>{const s=kO(n.target.error);this.S.reject(new Ig(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ke(ga,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Ege(r)}}class Zc{static delete(e){return ke(ga,"Removing database:",e),fA(V7().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!CO())return!1;if(Zc.F())return!0;const e=s1(),r=Zc.M(e),n=0<r&&r<10,s=mz(e),a=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||a)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,r){return e.store(r)}static M(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,r,n){this.name=e,this.version=r,this.B=n,this.L=null,Zc.M(s1())===12.2&&ya("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(ke(ga,"Opening database:",this.name),this.db=await new Promise((r,n)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=a=>{const o=a.target.result;r(o)},s.onblocked=()=>{n(new Ig(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=a=>{const o=a.target.error;o.name==="VersionError"?n(new tt(ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?n(new tt(ve.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):n(new Ig(e,o))},s.onupgradeneeded=a=>{ke(ga,'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const o=a.target.result;if(this.L!==null&&this.L!==a.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${a.oldVersion}, event.newVersion=${a.newVersion}, db.version=${o.version}`);this.B.q(o,s.transaction,a.oldVersion,this.version).next(()=>{ke(ga,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",r=>{const n=r.target;this.L=n.version},{passive:!0})),this.$&&(this.db.onversionchange=r=>this.$(r)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,n,s){const a=r==="readonly";let o=0;for(;;){++o;try{this.db=await this.k(e);const l=V_.open(this.db,e,a?"readonly":"readwrite",n),c=s(l).next(u=>(l.v(),u)).catch(u=>(l.abort(u),re.reject(u))).toPromise();return c.catch(()=>{}),await l.D,c}catch(l){const c=l,u=c.name!=="FirebaseError"&&o<3;if(ke(ga,"Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function mz(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class Bge{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return fA(this.K.delete())}}class Ig extends tt{constructor(e,r){super(ve.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Sd(t){return t.name==="IndexedDbTransactionError"}class Ege{constructor(e){this.store=e}put(e,r){let n;return r!==void 0?(ke(ga,"PUT",this.store.name,e,r),n=this.store.put(r,e)):(ke(ga,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),fA(n)}add(e){return ke(ga,"ADD",this.store.name,e,e),fA(this.store.add(e))}get(e){return fA(this.store.get(e)).next(r=>(r===void 0&&(r=null),ke(ga,"GET",this.store.name,e,r),r))}delete(e){return ke(ga,"DELETE",this.store.name,e),fA(this.store.delete(e))}count(){return ke(ga,"COUNT",this.store.name),fA(this.store.count())}J(e,r){const n=this.options(e,r),s=n.index?this.store.index(n.index):this.store;if(typeof s.getAll=="function"){const a=s.getAll(n.range);return new re((o,l)=>{a.onerror=c=>{l(c.target.error)},a.onsuccess=c=>{o(c.target.result)}})}{const a=this.cursor(n),o=[];return this.Y(a,(l,c)=>{o.push(c)}).next(()=>o)}}Z(e,r){const n=this.store.getAll(e,r===null?void 0:r);return new re((s,a)=>{n.onerror=o=>{a(o.target.error)},n.onsuccess=o=>{s(o.target.result)}})}X(e,r){ke(ga,"DELETE ALL",this.store.name);const n=this.options(e,r);n.ee=!1;const s=this.cursor(n);return this.Y(s,(a,o,l)=>l.delete())}te(e,r){let n;r?n=e:(n={},r=e);const s=this.cursor(n);return this.Y(s,r)}ne(e){const r=this.cursor({});return new re((n,s)=>{r.onerror=a=>{const o=kO(a.target.error);s(o)},r.onsuccess=a=>{const o=a.target.result;o?e(o.primaryKey,o.value).next(l=>{l?o.continue():n()}):n()}})}Y(e,r){const n=[];return new re((s,a)=>{e.onerror=o=>{a(o.target.error)},e.onsuccess=o=>{const l=o.target.result;if(!l)return void s();const c=new Bge(l),u=r(l.primaryKey,l.value,c);if(u instanceof re){const A=u.catch(d=>(c.done(),re.reject(d)));n.push(A)}c.isDone?s():c.j===null?l.continue():l.continue(c.j)}}).next(()=>re.waitFor(n))}options(e,r){let n;return e!==void 0&&(typeof e=="string"?n=e:r=e),{index:n,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const n=this.store.index(e.index);return e.ee?n.openKeyCursor(e.range,r):n.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function fA(t){return new re((e,r)=>{t.onsuccess=n=>{const s=n.target.result;e(s)},t.onerror=n=>{const s=kO(n.target.error);r(s)}})}let DM=!1;function kO(t){const e=Zc.M(s1());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const n=new tt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return DM||(DM=!0,setTimeout(()=>{throw n},0)),n}}return t}const Pg="IndexBackfiller";class Sge{constructor(e,r){this.asyncQueue=e,this.re=r,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(e){ke(Pg,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const r=await this.re.se();ke(Pg,`Documents written: ${r}`)}catch(r){Sd(r)?ke(Pg,"Ignoring IndexedDB error during index backfill: ",r):await H_(r)}await this.ie(6e4)})}}class Nge{constructor(e,r){this.localStore=e,this.persistence=r}async se(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>this.oe(r,e))}oe(e,r){const n=new Set;let s=r,a=!0;return re.doWhile(()=>a===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!n.has(o))return ke(Pg,`Processing collection: ${o}`),this._e(e,o,s).next(l=>{s-=l,n.add(o)});a=!1})).next(()=>r-s)}_e(e,r,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(s=>this.localStore.localDocuments.getNextDocuments(e,r,s,n).next(a=>{const o=a.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ae(s,a)).next(l=>(ke(Pg,`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,r,l))).next(()=>o.size)}))}ae(e,r){let n=e;return r.changes.forEach((s,a)=>{const o=dz(a);NO(o,n)>0&&(n=o)}),new Sa(n.readTime,n.documentKey,Math.max(r.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ni.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=-1;function K_(t){return t==null}function Nv(t){return t===0&&1/t==-1/0}function kge(t){return typeof t=="number"&&Number.isInteger(t)&&!Nv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="";function ps(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=RM(e)),e=Tge(t.get(r),e);return RM(e)}function Tge(t,e){let r=e;const n=t.length;for(let s=0;s<n;s++){const a=t.charAt(s);switch(a){case"\0":r+="";break;case l1:r+="";break;default:r+=a}}return r}function RM(t){return t+l1+""}function po(t){const e=t.length;if(ct(e>=2,64408,{path:t}),e===2)return ct(t.charAt(0)===l1&&t.charAt(1)==="",56145,{path:t}),pr.emptyPath();const r=e-2,n=[];let s="";for(let a=0;a<e;){const o=t.indexOf(l1,a);switch((o<0||o>r)&&at(50515,{path:t}),t.charAt(o+1)){case"":const l=t.substring(a,o);let c;s.length===0?c=l:(s+=l,c=s,s=""),n.push(c);break;case"":s+=t.substring(a,o),s+="\0";break;case"":s+=t.substring(a,o+1);break;default:at(61167,{path:t})}a=o+2}return new pr(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="remoteDocuments",Ax="owner",$d="owner",kv="mutationQueues",Ige="userId",yi="mutations",UM="batchId",jA="userMutationsIndex",MM=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t,e){return[t,ps(e)]}function pz(t,e,r){return[t,ps(e),r]}const Pge={},kf="documentMutations",c1="remoteDocumentsV14",Oge=["prefixPath","collectionGroup","readTime","documentId"],Yw="documentKeyIndex",Fge=["prefixPath","collectionGroup","documentId"],gz="collectionGroupIndex",Dge=["collectionGroup","readTime","prefixPath","documentId"],Tv="remoteDocumentGlobal",sT="remoteDocumentGlobalKey",Tf="targets",vz="queryTargetsIndex",Rge=["canonicalId","targetId"],If="targetDocuments",Uge=["targetId","path"],TO="documentTargetsIndex",Mge=["path","targetId"],u1="targetGlobalKey",$A="targetGlobal",Iv="collectionParents",Qge=["collectionId","parent"],Pf="clientMetadata",Lge="clientId",z_="bundles",$ge="bundleId",G_="namedQueries",Hge="name",IO="indexConfiguration",Vge="indexId",aT="collectionGroupIndex",Kge="collectionGroup",Og="indexState",zge=["indexId","uid"],yz="sequenceNumberIndex",Gge=["uid","sequenceNumber"],Fg="indexEntries",Wge=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],xz="documentKeyIndex",qge=["indexId","uid","orderedDocumentKey"],W_="documentOverlays",Xge=["userId","collectionPath","documentId"],iT="collectionPathOverlayIndex",Jge=["userId","collectionPath","largestBatchId"],wz="collectionGroupOverlayIndex",Yge=["userId","collectionGroup","largestBatchId"],PO="globals",Zge="name",bz=[kv,yi,kf,oA,Tf,Ax,$A,If,Pf,Tv,Iv,z_,G_],eve=[...bz,W_],jz=[kv,yi,kf,c1,Tf,Ax,$A,If,Pf,Tv,Iv,z_,G_,W_],_z=jz,OO=[..._z,IO,Og,Fg],tve=OO,Cz=[...OO,PO],rve=Cz;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT extends fz{constructor(e,r){super(),this.he=e,this.currentSequenceNumber=r}}function vn(t,e){const r=br(t);return Zc.N(r.he,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Tm(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function Bz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,r){this.comparator=e,this.root=r||Rn.EMPTY}insert(e,r){return new Os(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new Os(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return r+n.left.size;s<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new F0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new F0(this.root,e,this.comparator,!1)}getReverseIterator(){return new F0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new F0(this.root,e,this.comparator,!0)}}class F0{constructor(e,r,n,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rn{constructor(e,r,n,s,a){this.key=e,this.value=r,this.color=n??Rn.RED,this.left=s??Rn.EMPTY,this.right=a??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,s,a){return new Rn(e??this.key,r??this.value,n??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let s=this;const a=n(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,r,n),null):a===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return Rn.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw at(43730,{key:this.key,value:this.value});if(this.right.isRed())throw at(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw at(27949);return e+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw at(57766)}get value(){throw at(16141)}get color(){throw at(16727)}get left(){throw at(29726)}get right(){throw at(36894)}copy(e,r,n,s,a){return this}insert(e,r,n){return new Rn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.comparator=e,this.data=new Os(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new LM(this.data.getIterator())}getIteratorFrom(e){return new LM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof yr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,a=n.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new yr(this.comparator);return r.data=e,r}}class LM{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Hd(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e){this.fields=e,e.sort(Mr.comparator)}static empty(){return new za([])}unionWith(e){let r=new yr(Mr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new za(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Nf(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nve extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new nve("Invalid base64 string: "+a):a}}(e);return new na(r)}static fromUint8Array(e){const r=function(s){let a="";for(let o=0;o<s.length;++o)a+=String.fromCharCode(s[o]);return a}(e);return new na(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}na.EMPTY_BYTE_STRING=new na("");const sve=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mu(t){if(ct(!!t,39018),typeof t=="string"){let e=0;const r=sve.exec(t);if(ct(!!r,46558,{timestamp:t}),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:sn(t.seconds),nanos:sn(t.nanos)}}function sn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function sd(t){return typeof t=="string"?na.fromBase64String(t):na.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez="server_timestamp",Sz="__type__",Nz="__previous_value__",kz="__local_write_time__";function FO(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Sz])===null||r===void 0?void 0:r.stringValue)===Ez}function DO(t){const e=t.mapValue.fields[Nz];return FO(e)?DO(e):e}function A1(t){const e=mu(t.mapValue.fields[kz].timestampValue);return new Wr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ave{constructor(e,r,n,s,a,o,l,c,u,A){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=s,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=A}}const d1="(default)";class Of{constructor(e,r){this.projectId=e,this.database=r||d1}static empty(){return new Of("","")}get isDefaultDatabase(){return this.database===d1}isEqual(e){return e instanceof Of&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="__type__",Tz="__max__",Fc={mapValue:{fields:{__type__:{stringValue:Tz}}}},UO="__vector__",Pv="value",Zw={nullValue:"NULL_VALUE"};function ad(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?FO(t)?4:Iz(t)?9007199254740991:q_(t)?10:11:at(28295,{value:t})}function ko(t,e){if(t===e)return!0;const r=ad(t);if(r!==ad(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return A1(t).isEqual(A1(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const o=mu(s.timestampValue),l=mu(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return sd(s.bytesValue).isEqual(sd(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return sn(s.geoPointValue.latitude)===sn(a.geoPointValue.latitude)&&sn(s.geoPointValue.longitude)===sn(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return sn(s.integerValue)===sn(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const o=sn(s.doubleValue),l=sn(a.doubleValue);return o===l?Nv(o)===Nv(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Nf(t.arrayValue.values||[],e.arrayValue.values||[],ko);case 10:case 11:return function(s,a){const o=s.mapValue.fields||{},l=a.mapValue.fields||{};if(QM(o)!==QM(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!ko(o[c],l[c])))return!1;return!0}(t,e);default:return at(52216,{left:t})}}function Ov(t,e){return(t.values||[]).find(r=>ko(r,e))!==void 0}function pu(t,e){if(t===e)return 0;const r=ad(t),n=ad(e);if(r!==n)return bt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return bt(t.booleanValue,e.booleanValue);case 2:return function(a,o){const l=sn(a.integerValue||a.doubleValue),c=sn(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return $M(t.timestampValue,e.timestampValue);case 4:return $M(A1(t),A1(e));case 5:return rT(t.stringValue,e.stringValue);case 6:return function(a,o){const l=sd(a),c=sd(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const l=a.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const A=bt(l[u],c[u]);if(A!==0)return A}return bt(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const l=bt(sn(a.latitude),sn(o.latitude));return l!==0?l:bt(sn(a.longitude),sn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return HM(t.arrayValue,e.arrayValue);case 10:return function(a,o){var l,c,u,A;const d=a.fields||{},h=o.fields||{},f=(l=d[Pv])===null||l===void 0?void 0:l.arrayValue,m=(c=h[Pv])===null||c===void 0?void 0:c.arrayValue,p=bt(((u=f==null?void 0:f.values)===null||u===void 0?void 0:u.length)||0,((A=m==null?void 0:m.values)===null||A===void 0?void 0:A.length)||0);return p!==0?p:HM(f,m)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Fc.mapValue&&o===Fc.mapValue)return 0;if(a===Fc.mapValue)return 1;if(o===Fc.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),u=o.fields||{},A=Object.keys(u);c.sort(),A.sort();for(let d=0;d<c.length&&d<A.length;++d){const h=rT(c[d],A[d]);if(h!==0)return h;const f=pu(l[c[d]],u[A[d]]);if(f!==0)return f}return bt(c.length,A.length)}(t.mapValue,e.mapValue);default:throw at(23264,{Pe:r})}}function $M(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return bt(t,e);const r=mu(t),n=mu(e),s=bt(r.seconds,n.seconds);return s!==0?s:bt(r.nanos,n.nanos)}function HM(t,e){const r=t.values||[],n=e.values||[];for(let s=0;s<r.length&&s<n.length;++s){const a=pu(r[s],n[s]);if(a)return a}return bt(r.length,n.length)}function Ff(t){return lT(t)}function lT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=mu(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return sd(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Je.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",s=!0;for(const a of r.values||[])s?s=!1:n+=",",n+=lT(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let s="{",a=!0;for(const o of n)a?a=!1:s+=",",s+=`${o}:${lT(r.fields[o])}`;return s+"}"}(t.mapValue):at(61005,{value:t})}function eb(t){switch(ad(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=DO(t);return e?16+eb(e):16;case 5:return 2*t.stringValue.length;case 6:return sd(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((s,a)=>s+eb(a),0)}(t.arrayValue);case 10:case 11:return function(n){let s=0;return Tm(n.fields,(a,o)=>{s+=a.length+eb(o)}),s}(t.mapValue);default:throw at(13486,{value:t})}}function MO(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function cT(t){return!!t&&"integerValue"in t}function Fv(t){return!!t&&"arrayValue"in t}function VM(t){return!!t&&"nullValue"in t}function KM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tb(t){return!!t&&"mapValue"in t}function q_(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[RO])===null||r===void 0?void 0:r.stringValue)===UO}function Dg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Tm(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Dg(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Dg(t.arrayValue.values[r]);return e}return Object.assign({},t)}function Iz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Tz}const Pz={mapValue:{fields:{[RO]:{stringValue:UO},[Pv]:{arrayValue:{}}}}};function ive(t){return"nullValue"in t?Zw:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?MO(Of.empty(),Je.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?q_(t)?Pz:{mapValue:{}}:at(35942,{value:t})}function ove(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?MO(Of.empty(),Je.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?Pz:"mapValue"in t?q_(t)?{mapValue:{}}:Fc:at(61959,{value:t})}function zM(t,e){const r=pu(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function GM(t,e){const r=pu(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this.value=e}static empty(){return new xa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!tb(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dg(r)}setAll(e){let r=Mr.emptyPath(),n={},s=[];e.forEach((o,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,s),n={},s=[],r=l.popLast()}o?n[l.lastSegment()]=Dg(o):s.push(l.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,s)}delete(e){const r=this.field(e.popLast());tb(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ko(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=r.mapValue.fields[e.get(n)];tb(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,n){Tm(r,(s,a)=>e[s]=a);for(const s of n)delete e[s]}clone(){return new xa(Dg(this.value))}}function Oz(t){const e=[];return Tm(t.fields,(r,n)=>{const s=new Mr([r]);if(tb(n)){const a=Oz(n.mapValue).fields;if(a.length===0)e.push(s);else for(const o of a)e.push(s.child(o))}else e.push(s)}),new za(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,r,n,s,a,o,l){this.key=e,this.documentType=r,this.version=n,this.readTime=s,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Qn(e,0,Mt.min(),Mt.min(),Mt.min(),xa.empty(),0)}static newFoundDocument(e,r,n,s){return new Qn(e,1,r,Mt.min(),n,s,0)}static newNoDocument(e,r){return new Qn(e,2,r,Mt.min(),Mt.min(),xa.empty(),0)}static newUnknownDocument(e,r){return new Qn(e,3,r,Mt.min(),Mt.min(),xa.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,r){this.position=e,this.inclusive=r}}function WM(t,e,r){let n=0;for(let s=0;s<t.position.length;s++){const a=e[s],o=t.position[s];if(a.field.isKeyField()?n=Je.comparator(Je.fromName(o.referenceValue),r.key):n=pu(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function qM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ko(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,r="asc"){this.field=e,this.dir=r}}function lve(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{}class Qt extends Fz{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new cve(e,r,n):r==="array-contains"?new dve(e,n):r==="in"?new Lz(e,n):r==="not-in"?new hve(e,n):r==="array-contains-any"?new fve(e,n):new Qt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new uve(e,n):new Ave(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(pu(r,this.value)):r!==null&&ad(this.value)===ad(r)&&this.matchesComparison(pu(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return at(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hr extends Fz{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new hr(e,r)}matches(e){return Rf(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Rf(t){return t.op==="and"}function uT(t){return t.op==="or"}function QO(t){return Dz(t)&&Rf(t)}function Dz(t){for(const e of t.filters)if(e instanceof hr)return!1;return!0}function AT(t){if(t instanceof Qt)return t.field.canonicalString()+t.op.toString()+Ff(t.value);if(QO(t))return t.filters.map(e=>AT(e)).join(",");{const e=t.filters.map(r=>AT(r)).join(",");return`${t.op}(${e})`}}function Rz(t,e){return t instanceof Qt?function(n,s){return s instanceof Qt&&n.op===s.op&&n.field.isEqual(s.field)&&ko(n.value,s.value)}(t,e):t instanceof hr?function(n,s){return s instanceof hr&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((a,o,l)=>a&&Rz(o,s.filters[l]),!0):!1}(t,e):void at(19439)}function Uz(t,e){const r=t.filters.concat(e);return hr.create(r,t.op)}function Mz(t){return t instanceof Qt?function(r){return`${r.field.canonicalString()} ${r.op} ${Ff(r.value)}`}(t):t instanceof hr?function(r){return r.op.toString()+" {"+r.getFilters().map(Mz).join(" ,")+"}"}(t):"Filter"}class cve extends Qt{constructor(e,r,n){super(e,r,n),this.key=Je.fromName(n.referenceValue)}matches(e){const r=Je.comparator(e.key,this.key);return this.matchesComparison(r)}}class uve extends Qt{constructor(e,r){super(e,"in",r),this.keys=Qz("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Ave extends Qt{constructor(e,r){super(e,"not-in",r),this.keys=Qz("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Qz(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Je.fromName(n.referenceValue))}class dve extends Qt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Fv(r)&&Ov(r.arrayValue,this.value)}}class Lz extends Qt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Ov(this.value.arrayValue,r)}}class hve extends Qt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ov(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Ov(this.value.arrayValue,r)}}class fve extends Qt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Fv(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Ov(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mve{constructor(e,r=null,n=[],s=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=s,this.limit=a,this.startAt=o,this.endAt=l,this.Ie=null}}function dT(t,e=null,r=[],n=[],s=null,a=null,o=null){return new mve(t,e,r,n,s,a,o)}function id(t){const e=br(t);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>AT(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),K_(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Ff(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Ff(n)).join(",")),e.Ie=r}return e.Ie}function dx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!lve(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!Rz(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qM(t.startAt,e.startAt)&&qM(t.endAt,e.endAt)}function pve(t){return Je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function f1(t,e){return t.filters.filter(r=>r instanceof Qt&&r.field.isEqual(e))}function XM(t,e,r){let n=Zw,s=!0;for(const a of f1(t,e)){let o=Zw,l=!0;switch(a.op){case"<":case"<=":o=ive(a.value);break;case"==":case"in":case">=":o=a.value;break;case">":o=a.value,l=!1;break;case"!=":case"not-in":o=Zw}zM({value:n,inclusive:s},{value:o,inclusive:l})<0&&(n=o,s=l)}if(r!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const o=r.position[a];zM({value:n,inclusive:s},{value:o,inclusive:r.inclusive})<0&&(n=o,s=r.inclusive);break}}return{value:n,inclusive:s}}function JM(t,e,r){let n=Fc,s=!0;for(const a of f1(t,e)){let o=Fc,l=!0;switch(a.op){case">=":case">":o=ove(a.value),l=!1;break;case"==":case"in":case"<=":o=a.value;break;case"<":o=a.value,l=!1;break;case"!=":case"not-in":o=Fc}GM({value:n,inclusive:s},{value:o,inclusive:l})>0&&(n=o,s=l)}if(r!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const o=r.position[a];GM({value:n,inclusive:s},{value:o,inclusive:r.inclusive})>0&&(n=o,s=r.inclusive);break}}return{value:n,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,r=null,n=[],s=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=s,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function gve(t,e,r,n,s,a,o,l){return new X_(t,e,r,n,s,a,o,l)}function $z(t){return new X_(t)}function YM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vve(t){return t.collectionGroup!==null}function Rg(t){const e=br(t);if(e.Ee===null){e.Ee=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new yr(Mr.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new h1(a,n))}),r.has(Mr.keyField().canonicalString())||e.Ee.push(new h1(Mr.keyField(),n))}return e.Ee}function hl(t){const e=br(t);return e.de||(e.de=yve(e,Rg(t))),e.de}function yve(t,e){if(t.limitType==="F")return dT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new h1(s.field,a)});const r=t.endAt?new Df(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Df(t.startAt.position,t.startAt.inclusive):null;return dT(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function hT(t,e,r){return new X_(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Hz(t,e){return dx(hl(t),hl(e))&&t.limitType===e.limitType}function Vz(t){return`${id(hl(t))}|lt:${t.limitType}`}function _p(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(s=>Mz(s)).join(", ")}]`),K_(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(s=>Ff(s)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(s=>Ff(s)).join(",")),`Target(${n})`}(hl(t))}; limitType=${t.limitType})`}function J_(t,e){return e.isFoundDocument()&&function(n,s){const a=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Je.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,s){for(const a of Rg(n))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const a of n.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(o,l,c){const u=WM(o,l,c);return o.inclusive?u<=0:u<0}(n.startAt,Rg(n),s)||n.endAt&&!function(o,l,c){const u=WM(o,l,c);return o.inclusive?u>=0:u>0}(n.endAt,Rg(n),s))}(t,e)}function xve(t){return(e,r)=>{let n=!1;for(const s of Rg(t)){const a=wve(s,e,r);if(a!==0)return a;n=n||s.field.isKeyField()}return 0}}function wve(t,e,r){const n=t.field.isKeyField()?Je.comparator(e.key,r.key):function(a,o,l){const c=o.data.field(a),u=l.data.field(a);return c!==null&&u!==null?pu(c,u):at(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return at(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[s,a]of n)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[r]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Tm(this.inner,(r,n)=>{for(const[s,a]of n)e(s,a)})}isEmpty(){return Bz(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bve=new Os(Je.comparator);function Dc(){return bve}const Kz=new Os(Je.comparator);function D0(...t){let e=Kz;for(const r of t)e=e.insert(r.key,r);return e}function zz(t){let e=Kz;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function go(){return Ug()}function Gz(){return Ug()}function Ug(){return new Ll(t=>t.toString(),(t,e)=>t.isEqual(e))}const jve=new Os(Je.comparator),_ve=new yr(Je.comparator);function dn(...t){let e=_ve;for(const r of t)e=e.add(r);return e}const Cve=new yr(bt);function Bve(){return Cve}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nv(e)?"-0":e}}function Wz(t){return{integerValue:""+t}}function Eve(t,e){return kge(e)?Wz(e):LO(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(){this._=void 0}}function Sve(t,e,r){return t instanceof Dv?function(s,a){const o={fields:{[Sz]:{stringValue:Ez},[kz]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&FO(a)&&(a=DO(a)),a&&(o.fields[Nz]=a),{mapValue:o}}(r,e):t instanceof Uf?Xz(t,e):t instanceof Mf?Jz(t,e):function(s,a){const o=qz(s,a),l=ZM(o)+ZM(s.Re);return cT(o)&&cT(s.Re)?Wz(l):LO(s.serializer,l)}(t,e)}function Nve(t,e,r){return t instanceof Uf?Xz(t,e):t instanceof Mf?Jz(t,e):r}function qz(t,e){return t instanceof Rv?function(n){return cT(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Dv extends Y_{}class Uf extends Y_{constructor(e){super(),this.elements=e}}function Xz(t,e){const r=Yz(e);for(const n of t.elements)r.some(s=>ko(s,n))||r.push(n);return{arrayValue:{values:r}}}class Mf extends Y_{constructor(e){super(),this.elements=e}}function Jz(t,e){let r=Yz(e);for(const n of t.elements)r=r.filter(s=>!ko(s,n));return{arrayValue:{values:r}}}class Rv extends Y_{constructor(e,r){super(),this.serializer=e,this.Re=r}}function ZM(t){return sn(t.integerValue||t.doubleValue)}function Yz(t){return Fv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kve{constructor(e,r){this.field=e,this.transform=r}}function Tve(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof Uf&&s instanceof Uf||n instanceof Mf&&s instanceof Mf?Nf(n.elements,s.elements,ko):n instanceof Rv&&s instanceof Rv?ko(n.Re,s.Re):n instanceof Dv&&s instanceof Dv}(t.transform,e.transform)}class Ive{constructor(e,r){this.version=e,this.transformResults=r}}class ja{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ja}static exists(e){return new ja(void 0,e)}static updateTime(e){return new ja(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rb(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Z_{}function Zz(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $O(t.key,ja.none()):new Im(t.key,t.data,ja.none());{const r=t.data,n=xa.empty();let s=new yr(Mr.comparator);for(let a of e.fields)if(!s.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),s=s.add(a)}return new Pu(t.key,n,new za(s.toArray()),ja.none())}}function Pve(t,e,r){t instanceof Im?function(s,a,o){const l=s.value.clone(),c=tQ(s.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):t instanceof Pu?function(s,a,o){if(!rb(s.precondition,a))return void a.convertToUnknownDocument(o.version);const l=tQ(s.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(eG(s)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,r):function(s,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function Mg(t,e,r,n){return t instanceof Im?function(a,o,l,c){if(!rb(a.precondition,o))return l;const u=a.value.clone(),A=rQ(a.fieldTransforms,c,o);return u.setAll(A),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof Pu?function(a,o,l,c){if(!rb(a.precondition,o))return l;const u=rQ(a.fieldTransforms,c,o),A=o.data;return A.setAll(eG(a)),A.setAll(u),o.convertToFoundDocument(o.version,A).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(t,e,r,n):function(a,o,l){return rb(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,r)}function Ove(t,e){let r=null;for(const n of t.fieldTransforms){const s=e.data.field(n.field),a=qz(n.transform,s||null);a!=null&&(r===null&&(r=xa.empty()),r.set(n.field,a))}return r||null}function eQ(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Nf(n,s,(a,o)=>Tve(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Im extends Z_{constructor(e,r,n,s=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Pu extends Z_{constructor(e,r,n,s,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function eG(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function tQ(t,e,r){const n=new Map;ct(t.length===r.length,32656,{Ve:r.length,me:t.length});for(let s=0;s<r.length;s++){const a=t[s],o=a.transform,l=e.data.field(a.field);n.set(a.field,Nve(o,l,r[s]))}return n}function rQ(t,e,r){const n=new Map;for(const s of t){const a=s.transform,o=r.data.field(s.field);n.set(s.field,Sve(a,o,e))}return n}class $O extends Z_{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tG extends Z_{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,r,n,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&Pve(a,e,n[s])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Mg(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Mg(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=Gz();return this.mutations.forEach(s=>{const a=e.get(s.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=r.has(s.key)?null:l;const c=Zz(o,l);c!==null&&n.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(Mt.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),dn())}isEqual(e){return this.batchId===e.batchId&&Nf(this.mutations,e.mutations,(r,n)=>eQ(r,n))&&Nf(this.baseMutations,e.baseMutations,(r,n)=>eQ(r,n))}}class VO{constructor(e,r,n,s){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=s}static from(e,r,n){ct(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let s=function(){return jve}();const a=e.mutations;for(let o=0;o<a.length;o++)s=s.insert(a[o].key,n[o].version);return new VO(e,r,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KO=class{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn,$t;function Fve(t){switch(t){case ve.OK:return at(64938);case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return at(15467,{code:t})}}function Dve(t){if(t===void 0)return ya("GRPC error has no .code"),ve.UNKNOWN;switch(t){case rn.OK:return ve.OK;case rn.CANCELLED:return ve.CANCELLED;case rn.UNKNOWN:return ve.UNKNOWN;case rn.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case rn.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case rn.INTERNAL:return ve.INTERNAL;case rn.UNAVAILABLE:return ve.UNAVAILABLE;case rn.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case rn.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case rn.NOT_FOUND:return ve.NOT_FOUND;case rn.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case rn.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case rn.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case rn.ABORTED:return ve.ABORTED;case rn.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case rn.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case rn.DATA_LOSS:return ve.DATA_LOSS;default:return at(39323,{code:t})}}($t=rn||(rn={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new EO([4294967295,4294967295],0);const Rve={asc:"ASCENDING",desc:"DESCENDING"},Uve={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mve={and:"AND",or:"OR"};class Qve{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Lve(t,e){return t.useProto3Json||K_(e)?e:{value:e}}function Uv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $ve(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Hve(t,e){return Uv(t,e.toTimestamp())}function Di(t){return ct(!!t,49232),Mt.fromTimestamp(function(r){const n=mu(r);return new Wr(n.seconds,n.nanos)}(t))}function zO(t,e){return fT(t,e).canonicalString()}function fT(t,e){const r=function(s){return new pr(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?r:r.child(e)}function rG(t){const e=pr.fromString(t);return ct(Zve(e),10190,{key:e.toString()}),e}function m1(t,e){return zO(t.databaseId,e.path)}function nb(t,e){const r=rG(e);if(r.get(1)!==t.databaseId.projectId)throw new tt(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new tt(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Je(aG(r))}function nG(t,e){return zO(t.databaseId,e)}function sG(t){const e=rG(t);return e.length===4?pr.emptyPath():aG(e)}function Vve(t){return new pr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aG(t){return ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function nQ(t,e,r){return{name:m1(t,e),fields:r.value.mapValue.fields}}function Kve(t,e,r){const n=nb(t,e.name),s=Di(e.updateTime),a=e.createTime?Di(e.createTime):Mt.min(),o=new xa({mapValue:{fields:e.fields}}),l=Qn.newFoundDocument(n,s,a,o);return r&&l.setHasCommittedMutations(),r?l.setHasCommittedMutations():l}function p1(t,e){let r;if(e instanceof Im)r={update:nQ(t,e.key,e.value)};else if(e instanceof $O)r={delete:m1(t,e.key)};else if(e instanceof Pu)r={update:nQ(t,e.key,e.data),updateMask:Yve(e.fieldMask)};else{if(!(e instanceof tG))return at(16599,{ft:e.type});r={verify:m1(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,o){const l=o.transform;if(l instanceof Dv)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Uf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Mf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Rv)return{fieldPath:o.field.canonicalString(),increment:l.Re};throw at(20930,{transform:o.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:Hve(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:at(27497)}(t,e.precondition)),r}function mT(t,e){const r=e.currentDocument?function(a){return a.updateTime!==void 0?ja.updateTime(Di(a.updateTime)):a.exists!==void 0?ja.exists(a.exists):ja.none()}(e.currentDocument):ja.none(),n=e.updateTransforms?e.updateTransforms.map(s=>function(o,l){let c=null;if("setToServerValue"in l)ct(l.setToServerValue==="REQUEST_TIME",16630,{proto:l}),c=new Dv;else if("appendMissingElements"in l){const A=l.appendMissingElements.values||[];c=new Uf(A)}else if("removeAllFromArray"in l){const A=l.removeAllFromArray.values||[];c=new Mf(A)}else"increment"in l?c=new Rv(o,l.increment):at(16584,{proto:l});const u=Mr.fromServerFormat(l.fieldPath);return new kve(u,c)}(t,s)):[];if(e.update){e.update.name;const s=nb(t,e.update.name),a=new xa({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(c){const u=c.fieldPaths||[];return new za(u.map(A=>Mr.fromServerFormat(A)))}(e.updateMask);return new Pu(s,a,o,r,n)}return new Im(s,a,r,n)}if(e.delete){const s=nb(t,e.delete);return new $O(s,r)}if(e.verify){const s=nb(t,e.verify);return new tG(s,r)}return at(1463,{proto:e})}function zve(t,e){return t&&t.length>0?(ct(e!==void 0,14353),t.map(r=>function(s,a){let o=s.updateTime?Di(s.updateTime):Di(a);return o.isEqual(Mt.min())&&(o=Di(a)),new Ive(o,s.transformResults||[])}(r,e))):[]}function Gve(t,e){return{documents:[nG(t,e.path)]}}function Wve(t,e){const r={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=nG(t,s);const a=function(u){if(u.length!==0)return lG(hr.create(u,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(A=>function(h){return{field:hh(h.field),direction:qve(h.dir)}}(A))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const l=Lve(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:r,parent:s}}function iG(t){let e=sG(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let s=null;if(n>0){ct(n===1,65062);const A=r.from[0];A.allDescendants?s=A.collectionId:e=e.child(A.collectionId)}let a=[];r.where&&(a=function(d){const h=oG(d);return h instanceof hr&&QO(h)?h.getFilters():[h]}(r.where));let o=[];r.orderBy&&(o=function(d){return d.map(h=>function(m){return new h1(fh(m.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(r.orderBy));let l=null;r.limit&&(l=function(d){let h;return h=typeof d=="object"?d.value:d,K_(h)?null:h}(r.limit));let c=null;r.startAt&&(c=function(d){const h=!!d.before,f=d.values||[];return new Df(f,h)}(r.startAt));let u=null;return r.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new Df(f,h)}(r.endAt)),gve(e,s,o,a,l,"F",c,u)}function oG(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=fh(r.unaryFilter.field);return Qt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=fh(r.unaryFilter.field);return Qt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=fh(r.unaryFilter.field);return Qt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=fh(r.unaryFilter.field);return Qt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return at(61313);default:return at(60726)}}(t):t.fieldFilter!==void 0?function(r){return Qt.create(fh(r.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return at(58110);default:return at(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return hr.create(r.compositeFilter.filters.map(n=>oG(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return at(1026)}}(r.compositeFilter.op))}(t):at(30097,{filter:t})}function qve(t){return Rve[t]}function Xve(t){return Uve[t]}function Jve(t){return Mve[t]}function hh(t){return{fieldPath:t.canonicalString()}}function fh(t){return Mr.fromServerFormat(t.fieldPath)}function lG(t){return t instanceof Qt?function(r){if(r.op==="=="){if(KM(r.value))return{unaryFilter:{field:hh(r.field),op:"IS_NAN"}};if(VM(r.value))return{unaryFilter:{field:hh(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(KM(r.value))return{unaryFilter:{field:hh(r.field),op:"IS_NOT_NAN"}};if(VM(r.value))return{unaryFilter:{field:hh(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hh(r.field),op:Xve(r.op),value:r.value}}}(t):t instanceof hr?function(r){const n=r.getFilters().map(s=>lG(s));return n.length===1?n[0]:{compositeFilter:{op:Jve(r.op),filters:n}}}(t):at(54877,{filter:t})}function Yve(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Zve(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,r,n,s,a=Mt.min(),o=Mt.min(),l=na.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Th(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Th(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Th(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Th(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(e){this.wt=e}}function eye(t,e){let r;if(e.document)r=Kve(t.wt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=Je.fromSegments(e.noDocument.path),s=ld(e.noDocument.readTime);r=Qn.newNoDocument(n,s),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return at(56709);{const n=Je.fromSegments(e.unknownDocument.path),s=ld(e.unknownDocument.version);r=Qn.newUnknownDocument(n,s)}}return e.readTime&&r.setReadTime(function(s){const a=new Wr(s[0],s[1]);return Mt.fromTimestamp(a)}(e.readTime)),r}function sQ(t,e){const r=e.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:g1(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=function(a,o){return{name:m1(a,o.key),fields:o.data.value.mapValue.fields,updateTime:Uv(a,o.version.toTimestamp()),createTime:Uv(a,o.createTime.toTimestamp())}}(t.wt,e);else if(e.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:od(e.version)};else{if(!e.isUnknownDocument())return at(57904,{document:e});n.unknownDocument={path:r.path.toArray(),version:od(e.version)}}return n}function g1(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function od(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ld(t){const e=new Wr(t.seconds,t.nanoseconds);return Mt.fromTimestamp(e)}function mA(t,e){const r=(e.baseMutations||[]).map(a=>mT(t.wt,a));for(let a=0;a<e.mutations.length-1;++a){const o=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const l=e.mutations[a+1];o.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const n=e.mutations.map(a=>mT(t.wt,a)),s=Wr.fromMillis(e.localWriteTimeMs);return new HO(e.batchId,s,r,n)}function ag(t){const e=ld(t.readTime),r=t.lastLimboFreeSnapshotVersion!==void 0?ld(t.lastLimboFreeSnapshotVersion):Mt.min();let n;return n=function(a){return a.documents!==void 0}(t.query)?function(a){const o=a.documents.length;return ct(o===1,1966,{count:o}),hl($z(sG(a.documents[0])))}(t.query):function(a){return hl(iG(a))}(t.query),new Th(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,r,na.fromBase64String(t.resumeToken))}function uG(t,e){const r=od(e.snapshotVersion),n=od(e.lastLimboFreeSnapshotVersion);let s;s=pve(e.target)?Gve(t.wt,e.target):Wve(t.wt,e.target).gt;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:id(e.target),readTime:r,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:s}}function AG(t){const e=iG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hT(e,e.limit,"L"):e}function RE(t,e){return new KO(e.largestBatchId,mT(t.wt,e.overlayMutation))}function aQ(t,e){const r=e.path.lastSegment();return[t,ps(e.path.popLast()),r]}function iQ(t,e,r,n){return{indexId:t,uid:e,sequenceNumber:r,readTime:od(n.readTime),documentKey:ps(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tye{getBundleMetadata(e,r){return oQ(e).get(r).next(n=>{if(n)return function(a){return{id:a.bundleId,createTime:ld(a.createTime),version:a.version}}(n)})}saveBundleMetadata(e,r){return oQ(e).put(function(s){return{bundleId:s.id,createTime:od(Di(s.createTime)),version:s.version}}(r))}getNamedQuery(e,r){return lQ(e).get(r).next(n=>{if(n)return function(a){return{name:a.name,query:AG(a.bundledQuery),readTime:ld(a.readTime)}}(n)})}saveNamedQuery(e,r){return lQ(e).put(function(s){return{name:s.name,readTime:od(Di(s.readTime)),bundledQuery:s.bundledQuery}}(r))}}function oQ(t){return vn(t,z_)}function lQ(t){return vn(t,G_)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,r){this.serializer=e,this.userId=r}static St(e,r){const n=r.uid||"";return new eC(e,n)}getOverlay(e,r){return Cp(e).get(aQ(this.userId,r)).next(n=>n?RE(this.serializer,n):null)}getOverlays(e,r){const n=go();return re.forEach(r,s=>this.getOverlay(e,s).next(a=>{a!==null&&n.set(s,a)})).next(()=>n)}saveOverlays(e,r,n){const s=[];return n.forEach((a,o)=>{const l=new KO(r,o);s.push(this.bt(e,l))}),re.waitFor(s)}removeOverlaysForBatchId(e,r,n){const s=new Set;r.forEach(o=>s.add(ps(o.getCollectionPath())));const a=[];return s.forEach(o=>{const l=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,n+1],!1,!0);a.push(Cp(e).X(iT,l))}),re.waitFor(a)}getOverlaysForCollection(e,r,n){const s=go(),a=ps(r),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Cp(e).J(iT,o).next(l=>{for(const c of l){const u=RE(this.serializer,c);s.set(u.getKey(),u)}return s})}getOverlaysForCollectionGroup(e,r,n,s){const a=go();let o;const l=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Cp(e).te({index:wz,range:l},(c,u,A)=>{const d=RE(this.serializer,u);a.size()<s||d.largestBatchId===o?(a.set(d.getKey(),d),o=d.largestBatchId):A.done()}).next(()=>a)}bt(e,r){return Cp(e).put(function(s,a,o){const[l,c,u]=aQ(a,o.mutation.key);return{userId:a,collectionPath:c,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:p1(s.wt,o.mutation)}}(this.serializer,this.userId,r))}}function Cp(t){return vn(t,W_)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rye{Dt(e){return vn(e,PO)}getSessionToken(e){return this.Dt(e).get("sessionToken").next(r=>{const n=r==null?void 0:r.value;return n?na.fromUint8Array(n):na.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Dt(e).put({name:"sessionToken",value:r.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(){}vt(e,r){this.Ct(e,r),r.Ft()}Ct(e,r){if("nullValue"in e)this.Mt(r,5);else if("booleanValue"in e)this.Mt(r,10),r.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(r,15),r.xt(sn(e.integerValue));else if("doubleValue"in e){const n=sn(e.doubleValue);isNaN(n)?this.Mt(r,13):(this.Mt(r,15),Nv(n)?r.xt(0):r.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(r,20),typeof n=="string"&&(n=mu(n)),r.Ot(`${n.seconds||""}`),r.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,r),this.Bt(r);else if("bytesValue"in e)this.Mt(r,30),r.Lt(sd(e.bytesValue)),this.Bt(r);else if("referenceValue"in e)this.kt(e.referenceValue,r);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(r,45),r.xt(n.latitude||0),r.xt(n.longitude||0)}else"mapValue"in e?Iz(e)?this.Mt(r,Number.MAX_SAFE_INTEGER):q_(e)?this.qt(e.mapValue,r):(this.Qt(e.mapValue,r),this.Bt(r)):"arrayValue"in e?(this.$t(e.arrayValue,r),this.Bt(r)):at(19022,{Ut:e})}Nt(e,r){this.Mt(r,25),this.Kt(e,r)}Kt(e,r){r.Ot(e)}Qt(e,r){const n=e.fields||{};this.Mt(r,55);for(const s of Object.keys(n))this.Nt(s,r),this.Ct(n[s],r)}qt(e,r){var n,s;const a=e.fields||{};this.Mt(r,53);const o=Pv,l=((s=(n=a[o].arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.length)||0;this.Mt(r,15),r.xt(sn(l)),this.Nt(o,r),this.Ct(a[o],r)}$t(e,r){const n=e.values||[];this.Mt(r,50);for(const s of n)this.Ct(s,r)}kt(e,r){this.Mt(r,37),Je.fromName(e).path.forEach(n=>{this.Mt(r,60),this.Kt(n,r)})}Mt(e,r){e.xt(r)}Bt(e){e.xt(2)}}pA.Wt=new pA;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=255;function nye(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function cQ(t){const e=64-function(n){let s=0;for(let a=0;a<8;++a){const o=nye(255&n[a]);if(s+=o,o!==8)break}return s}(t);return Math.ceil(e/8)}class sye{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.zt(n.value),n=r.next();this.jt()}Ht(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Jt(n.value),n=r.next();this.Yt()}Zt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.zt(n);else if(n<2048)this.zt(960|n>>>6),this.zt(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.zt(480|n>>>12),this.zt(128|63&n>>>6),this.zt(128|63&n);else{const s=r.codePointAt(0);this.zt(240|s>>>18),this.zt(128|63&s>>>12),this.zt(128|63&s>>>6),this.zt(128|63&s)}}this.jt()}Xt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Jt(n);else if(n<2048)this.Jt(960|n>>>6),this.Jt(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Jt(480|n>>>12),this.Jt(128|63&n>>>6),this.Jt(128|63&n);else{const s=r.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Yt()}en(e){const r=this.tn(e),n=cQ(r);this.nn(1+n),this.buffer[this.position++]=255&n;for(let s=r.length-n;s<r.length;++s)this.buffer[this.position++]=255&r[s]}rn(e){const r=this.tn(e),n=cQ(r);this.nn(1+n),this.buffer[this.position++]=~(255&n);for(let s=r.length-n;s<r.length;++s)this.buffer[this.position++]=~(255&r[s])}sn(){this._n(Vd),this._n(255)}an(){this.un(Vd),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const r=function(a){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,a,!1),new Uint8Array(o.buffer)}(e),n=!!(128&r[0]);r[0]^=n?255:128;for(let s=1;s<r.length;++s)r[s]^=n?255:0;return r}zt(e){const r=255&e;r===0?(this._n(0),this._n(255)):r===Vd?(this._n(Vd),this._n(0)):this._n(r)}Jt(e){const r=255&e;r===0?(this.un(0),this.un(255)):r===Vd?(this.un(Vd),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const r=e+this.position;if(r<=this.buffer.length)return;let n=2*this.buffer.length;n<r&&(n=r);const s=new Uint8Array(n);s.set(this.buffer),this.buffer=s}}class aye{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class iye{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class Bp{constructor(){this.ln=new sye,this.hn=new aye(this.ln),this.Pn=new iye(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return e===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,r,n,s){this.In=e,this.En=r,this.dn=n,this.An=s}Rn(){const e=this.An.length,r=e===0||this.An[e-1]===255?e+1:e,n=new Uint8Array(r);return n.set(this.An,0),r!==e?n.set([0],this.An.length):++n[n.length-1],new gA(this.In,this.En,this.dn,n)}Vn(e,r,n){return{indexId:this.In,uid:e,arrayValue:sb(this.dn),directionalValue:sb(this.An),orderedDocumentKey:sb(r),documentKey:n.path.toArray()}}mn(e,r,n){const s=this.Vn(e,r,n);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function ec(t,e){let r=t.In-e.In;return r!==0?r:(r=uQ(t.dn,e.dn),r!==0?r:(r=uQ(t.An,e.An),r!==0?r:Je.comparator(t.En,e.En)))}function uQ(t,e){for(let r=0;r<t.length&&r<e.length;++r){const n=t[r]-e[r];if(n!==0)return n}return t.length-e.length}function sb(t){return W7()?function(r){let n="";for(let s=0;s<r.length;s++)n+=String.fromCharCode(r[s]);return n}(t):t}function AQ(t){return typeof t!="string"?t:function(r){const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n}(t)}class dQ{constructor(e){this.fn=new yr((r,n)=>Mr.comparator(r.field,n.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.gn=e.orderBy,this.pn=[];for(const r of e.filters){const n=r;n.isInequality()?this.fn=this.fn.add(n):this.pn.push(n)}}get yn(){return this.fn.size>1}wn(e){if(ct(e.collectionGroup===this.collectionId,49279),this.yn)return!1;const r=nT(e);if(r!==void 0&&!this.Sn(r))return!1;const n=iA(e);let s=new Set,a=0,o=0;for(;a<n.length&&this.Sn(n[a]);++a)s=s.add(n[a].fieldPath.canonicalString());if(a===n.length)return!0;if(this.fn.size>0){const l=this.fn.getIterator().getNext();if(!s.has(l.field.canonicalString())){const c=n[a];if(!this.bn(l,c)||!this.Dn(this.gn[o++],c))return!1}++a}for(;a<n.length;++a){const l=n[a];if(o>=this.gn.length||!this.Dn(this.gn[o++],l))return!1}return!0}vn(){if(this.yn)return null;let e=new yr(Mr.comparator);const r=[];for(const n of this.pn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")r.push(new Xw(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),r.push(new Xw(n.field,0))}for(const n of this.gn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),r.push(new Xw(n.field,n.dir==="asc"?0:1)));return new o1(o1.UNKNOWN_ID,this.collectionId,r,Sv.empty())}Sn(e){for(const r of this.pn)if(this.bn(r,e))return!0;return!1}bn(e,r){if(e===void 0||!e.field.isEqual(r.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return r.kind===2===n}Dn(e,r){return!!e.field.isEqual(r.fieldPath)&&(r.kind===0&&e.dir==="asc"||r.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dG(t){var e,r;if(ct(t instanceof Qt||t instanceof hr,20012),t instanceof Qt){if(t instanceof Lz){const s=((r=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||r===void 0?void 0:r.map(a=>Qt.create(t.field,"==",a)))||[];return hr.create(s,"or")}return t}const n=t.filters.map(s=>dG(s));return hr.create(n,t.op)}function oye(t){if(t.getFilters().length===0)return[];const e=vT(dG(t));return ct(hG(e),7391),pT(e)||gT(e)?[e]:e.getFilters()}function pT(t){return t instanceof Qt}function gT(t){return t instanceof hr&&QO(t)}function hG(t){return pT(t)||gT(t)||function(r){if(r instanceof hr&&uT(r)){for(const n of r.getFilters())if(!pT(n)&&!gT(n))return!1;return!0}return!1}(t)}function vT(t){if(ct(t instanceof Qt||t instanceof hr,34018),t instanceof Qt)return t;if(t.filters.length===1)return vT(t.filters[0]);const e=t.filters.map(n=>vT(n));let r=hr.create(e,t.op);return r=v1(r),hG(r)?r:(ct(r instanceof hr,64498),ct(Rf(r),40251),ct(r.filters.length>1,57927),r.filters.reduce((n,s)=>GO(n,s)))}function GO(t,e){let r;return ct(t instanceof Qt||t instanceof hr,38388),ct(e instanceof Qt||e instanceof hr,25473),r=t instanceof Qt?e instanceof Qt?function(s,a){return hr.create([s,a],"and")}(t,e):hQ(t,e):e instanceof Qt?hQ(e,t):function(s,a){if(ct(s.filters.length>0&&a.filters.length>0,48005),Rf(s)&&Rf(a))return Uz(s,a.getFilters());const o=uT(s)?s:a,l=uT(s)?a:s,c=o.filters.map(u=>GO(u,l));return hr.create(c,"or")}(t,e),v1(r)}function hQ(t,e){if(Rf(e))return Uz(e,t.getFilters());{const r=e.filters.map(n=>GO(t,n));return hr.create(r,"or")}}function v1(t){if(ct(t instanceof Qt||t instanceof hr,11850),t instanceof Qt)return t;const e=t.getFilters();if(e.length===1)return v1(e[0]);if(Dz(t))return t;const r=e.map(s=>v1(s)),n=[];return r.forEach(s=>{s instanceof Qt?n.push(s):s instanceof hr&&(s.op===t.op?n.push(...s.filters):n.push(s))}),n.length===1?n[0]:hr.create(n,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lye{constructor(){this.Cn=new WO}addToCollectionParentIndex(e,r){return this.Cn.add(r),re.resolve()}getCollectionParents(e,r){return re.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return re.resolve()}deleteFieldIndex(e,r){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,r){return re.resolve()}getDocumentsMatchingTarget(e,r){return re.resolve(null)}getIndexType(e,r){return re.resolve(0)}getFieldIndexes(e,r){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,r){return re.resolve(Sa.min())}getMinOffsetFromCollectionGroup(e,r){return re.resolve(Sa.min())}updateCollectionGroup(e,r,n){return re.resolve()}updateIndexEntries(e,r){return re.resolve()}}class WO{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r]||new yr(pr.comparator),a=!s.has(n);return this.index[r]=s.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r];return s&&s.has(n)}getEntries(e){return(this.index[e]||new yr(pr.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fQ="IndexedDbIndexManager",R0=new Uint8Array(0);class cye{constructor(e,r){this.databaseId=r,this.Fn=new WO,this.Mn=new Ll(n=>id(n),(n,s)=>dx(n,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.Fn.has(r)){const n=r.lastSegment(),s=r.popLast();e.addOnCommittedListener(()=>{this.Fn.add(r)});const a={collectionId:n,parent:ps(s)};return mQ(e).put(a)}return re.resolve()}getCollectionParents(e,r){const n=[],s=IDBKeyRange.bound([r,""],[Az(r),""],!1,!0);return mQ(e).J(s).next(a=>{for(const o of a){if(o.collectionId!==r)break;n.push(po(o.parent))}return n})}addFieldIndex(e,r){const n=Ep(e),s=function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(r);delete s.indexId;const a=n.add(s);if(r.indexState){const o=zd(e);return a.next(l=>{o.put(iQ(l,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return a.next()}deleteFieldIndex(e,r){const n=Ep(e),s=zd(e),a=Kd(e);return n.delete(r.indexId).next(()=>s.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Ep(e),n=Kd(e),s=zd(e);return r.X().next(()=>n.X()).next(()=>s.X())}createTargetIndexes(e,r){return re.forEach(this.xn(r),n=>this.getIndexType(e,n).next(s=>{if(s===0||s===1){const a=new dQ(n).vn();if(a!=null)return this.addFieldIndex(e,a)}}))}getDocumentsMatchingTarget(e,r){const n=Kd(e);let s=!0;const a=new Map;return re.forEach(this.xn(r),o=>this.On(e,o).next(l=>{s&&(s=!!l),a.set(o,l)})).next(()=>{if(s){let o=dn();const l=[];return re.forEach(a,(c,u)=>{ke(fQ,`Using index ${function(b){return`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(j=>`${j.fieldPath}:${j.kind}`).join(",")}`}(c)} to execute ${id(r)}`);const A=function(b,j){const C=nT(j);if(C===void 0)return null;for(const E of f1(b,C.fieldPath))switch(E.op){case"array-contains-any":return E.value.arrayValue.values||[];case"array-contains":return[E.value]}return null}(u,c),d=function(b,j){const C=new Map;for(const E of iA(j))for(const _ of f1(b,E.fieldPath))switch(_.op){case"==":case"in":C.set(E.fieldPath.canonicalString(),_.value);break;case"not-in":case"!=":return C.set(E.fieldPath.canonicalString(),_.value),Array.from(C.values())}return null}(u,c),h=function(b,j){const C=[];let E=!0;for(const _ of iA(j)){const B=_.kind===0?XM(b,_.fieldPath,b.startAt):JM(b,_.fieldPath,b.startAt);C.push(B.value),E&&(E=B.inclusive)}return new Df(C,E)}(u,c),f=function(b,j){const C=[];let E=!0;for(const _ of iA(j)){const B=_.kind===0?JM(b,_.fieldPath,b.endAt):XM(b,_.fieldPath,b.endAt);C.push(B.value),E&&(E=B.inclusive)}return new Df(C,E)}(u,c),m=this.Nn(c,u,h),p=this.Nn(c,u,f),g=this.Bn(c,u,d),y=this.Ln(c.indexId,A,m,h.inclusive,p,f.inclusive,g);return re.forEach(y,x=>n.Z(x,r.limit).next(b=>{b.forEach(j=>{const C=Je.fromSegments(j.documentKey);o.has(C)||(o=o.add(C),l.push(C))})}))}).next(()=>l)}return re.resolve(null)})}xn(e){let r=this.Mn.get(e);return r||(e.filters.length===0?r=[e]:r=oye(hr.create(e.filters,"and")).map(n=>dT(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt)),this.Mn.set(e,r),r)}Ln(e,r,n,s,a,o,l){const c=(r!=null?r.length:1)*Math.max(n.length,a.length),u=c/(r!=null?r.length:1),A=[];for(let d=0;d<c;++d){const h=r?this.kn(r[d/u]):R0,f=this.qn(e,h,n[d%u],s),m=this.Qn(e,h,a[d%u],o),p=l.map(g=>this.qn(e,h,g,!0));A.push(...this.createRange(f,m,p))}return A}qn(e,r,n,s){const a=new gA(e,Je.empty(),r,n);return s?a:a.Rn()}Qn(e,r,n,s){const a=new gA(e,Je.empty(),r,n);return s?a.Rn():a}On(e,r){const n=new dQ(r),s=r.collectionGroup!=null?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,s).next(a=>{let o=null;for(const l of a)n.wn(l)&&(!o||l.fields.length>o.fields.length)&&(o=l);return o})}getIndexType(e,r){let n=2;const s=this.xn(r);return re.forEach(s,a=>this.On(e,a).next(o=>{o?n!==0&&o.fields.length<function(c){let u=new yr(Mr.comparator),A=!1;for(const d of c.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?A=!0:u=u.add(h.field));for(const d of c.orderBy)d.field.isKeyField()||(u=u.add(d.field));return u.size+(A?1:0)}(a)&&(n=1):n=0})).next(()=>function(o){return o.limit!==null}(r)&&s.length>1&&n===2?1:n)}$n(e,r){const n=new Bp;for(const s of iA(e)){const a=r.data.field(s.fieldPath);if(a==null)return null;const o=n.Tn(s.kind);pA.Wt.vt(a,o)}return n.cn()}kn(e){const r=new Bp;return pA.Wt.vt(e,r.Tn(0)),r.cn()}Un(e,r){const n=new Bp;return pA.Wt.vt(MO(this.databaseId,r),n.Tn(function(a){const o=iA(a);return o.length===0?0:o[o.length-1].kind}(e))),n.cn()}Bn(e,r,n){if(n===null)return[];let s=[];s.push(new Bp);let a=0;for(const o of iA(e)){const l=n[a++];for(const c of s)if(this.Kn(r,o.fieldPath)&&Fv(l))s=this.Wn(s,o,l);else{const u=c.Tn(o.kind);pA.Wt.vt(l,u)}}return this.Gn(s)}Nn(e,r,n){return this.Bn(e,r,n.position)}Gn(e){const r=[];for(let n=0;n<e.length;++n)r[n]=e[n].cn();return r}Wn(e,r,n){const s=[...e],a=[];for(const o of n.arrayValue.values||[])for(const l of s){const c=new Bp;c.seed(l.cn()),pA.Wt.vt(o,c.Tn(r.kind)),a.push(c)}return a}Kn(e,r){return!!e.filters.find(n=>n instanceof Qt&&n.field.isEqual(r)&&(n.op==="in"||n.op==="not-in"))}getFieldIndexes(e,r){const n=Ep(e),s=zd(e);return(r?n.J(aT,IDBKeyRange.bound(r,r)):n.J()).next(a=>{const o=[];return re.forEach(a,l=>s.get([l.indexId,this.uid]).next(c=>{o.push(function(A,d){const h=d?new Sv(d.sequenceNumber,new Sa(ld(d.readTime),new Je(po(d.documentKey)),d.largestBatchId)):Sv.empty(),f=A.fields.map(([m,p])=>new Xw(Mr.fromServerFormat(m),p));return new o1(A.indexId,A.collectionGroup,f,h)}(l,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>r.length===0?null:(r.sort((n,s)=>{const a=n.indexState.sequenceNumber-s.indexState.sequenceNumber;return a!==0?a:bt(n.collectionGroup,s.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,n){const s=Ep(e),a=zd(e);return this.zn(e).next(o=>s.J(aT,IDBKeyRange.bound(r,r)).next(l=>re.forEach(l,c=>a.put(iQ(c.indexId,this.uid,o,n)))))}updateIndexEntries(e,r){const n=new Map;return re.forEach(r,(s,a)=>{const o=n.get(s.collectionGroup);return(o?re.resolve(o):this.getFieldIndexes(e,s.collectionGroup)).next(l=>(n.set(s.collectionGroup,l),re.forEach(l,c=>this.jn(e,s,c).next(u=>{const A=this.Hn(a,c);return u.isEqual(A)?re.resolve():this.Jn(e,a,c,u,A)}))))})}Yn(e,r,n,s){return Kd(e).put(s.Vn(this.uid,this.Un(n,r.key),r.key))}Zn(e,r,n,s){return Kd(e).delete(s.mn(this.uid,this.Un(n,r.key),r.key))}jn(e,r,n){const s=Kd(e);let a=new yr(ec);return s.te({index:xz,range:IDBKeyRange.only([n.indexId,this.uid,sb(this.Un(n,r))])},(o,l)=>{a=a.add(new gA(n.indexId,r,AQ(l.arrayValue),AQ(l.directionalValue)))}).next(()=>a)}Hn(e,r){let n=new yr(ec);const s=this.$n(r,e);if(s==null)return n;const a=nT(r);if(a!=null){const o=e.data.field(a.fieldPath);if(Fv(o))for(const l of o.arrayValue.values||[])n=n.add(new gA(r.indexId,e.key,this.kn(l),s))}else n=n.add(new gA(r.indexId,e.key,R0,s));return n}Jn(e,r,n,s,a){ke(fQ,"Updating index entries for document '%s'",r.key);const o=[];return function(c,u,A,d,h){const f=c.getIterator(),m=u.getIterator();let p=Hd(f),g=Hd(m);for(;p||g;){let y=!1,x=!1;if(p&&g){const b=A(p,g);b<0?x=!0:b>0&&(y=!0)}else p!=null?x=!0:y=!0;y?(d(g),g=Hd(m)):x?(h(p),p=Hd(f)):(p=Hd(f),g=Hd(m))}}(s,a,ec,l=>{o.push(this.Yn(e,r,n,l))},l=>{o.push(this.Zn(e,r,n,l))}),re.waitFor(o)}zn(e){let r=1;return zd(e).te({index:yz,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,s,a)=>{a.done(),r=s.sequenceNumber+1}).next(()=>r)}createRange(e,r,n){n=n.sort((o,l)=>ec(o,l)).filter((o,l,c)=>!l||ec(o,c[l-1])!==0);const s=[];s.push(e);for(const o of n){const l=ec(o,e),c=ec(o,r);if(l===0)s[0]=e.Rn();else if(l>0&&c<0)s.push(o),s.push(o.Rn());else if(c>0)break}s.push(r);const a=[];for(let o=0;o<s.length;o+=2){if(this.Xn(s[o],s[o+1]))return[];const l=s[o].mn(this.uid,R0,Je.empty()),c=s[o+1].mn(this.uid,R0,Je.empty());a.push(IDBKeyRange.bound(l,c))}return a}Xn(e,r){return ec(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(pQ)}getMinOffset(e,r){return re.mapArray(this.xn(r),n=>this.On(e,n).next(s=>s||at(44426))).next(pQ)}}function mQ(t){return vn(t,Iv)}function Kd(t){return vn(t,Fg)}function Ep(t){return vn(t,IO)}function zd(t){return vn(t,Og)}function pQ(t){ct(t.length!==0,28825);let e=t[0].indexState.offset,r=e.largestBatchId;for(let n=1;n<t.length;n++){const s=t[n].indexState.offset;NO(s,e)<0&&(e=s),r<s.largestBatchId&&(r=s.largestBatchId)}return new Sa(e.readTime,e.documentKey,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gQ={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fG=41943040;class os{static withCacheSize(e){return new os(e,os.DEFAULT_COLLECTION_PERCENTILE,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mG(t,e,r){const n=t.store(yi),s=t.store(kf),a=[],o=IDBKeyRange.only(r.batchId);let l=0;const c=n.te({range:o},(A,d,h)=>(l++,h.delete()));a.push(c.next(()=>{ct(l===1,47070,{batchId:r.batchId})}));const u=[];for(const A of r.mutations){const d=pz(e,A.key.path,r.batchId);a.push(s.delete(d)),u.push(A.key)}return re.waitFor(a).next(()=>u)}function y1(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw at(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os.DEFAULT_COLLECTION_PERCENTILE=10,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,os.DEFAULT=new os(fG,os.DEFAULT_COLLECTION_PERCENTILE,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),os.DISABLED=new os(-1,0,0);class tC{constructor(e,r,n,s){this.userId=e,this.serializer=r,this.indexManager=n,this.referenceDelegate=s,this.er={}}static St(e,r,n,s){ct(e.uid!=="",64387);const a=e.isAuthenticated()?e.uid:"";return new tC(a,r,n,s)}checkEmpty(e){let r=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return tc(e).te({index:jA,range:n},(s,a,o)=>{r=!1,o.done()}).next(()=>r)}addMutationBatch(e,r,n,s){const a=mh(e),o=tc(e);return o.add({}).next(l=>{ct(typeof l=="number",49019);const c=new HO(l,r,n,s),u=function(f,m,p){const g=p.baseMutations.map(x=>p1(f.wt,x)),y=p.mutations.map(x=>p1(f.wt,x));return{userId:m,batchId:p.batchId,localWriteTimeMs:p.localWriteTime.toMillis(),baseMutations:g,mutations:y}}(this.serializer,this.userId,c),A=[];let d=new yr((h,f)=>bt(h.canonicalString(),f.canonicalString()));for(const h of s){const f=pz(this.userId,h.key.path,l);d=d.add(h.key.path.popLast()),A.push(o.put(u)),A.push(a.put(f,Pge))}return d.forEach(h=>{A.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.er[l]=c.keys()}),re.waitFor(A).next(()=>c)})}lookupMutationBatch(e,r){return tc(e).get(r).next(n=>n?(ct(n.userId===this.userId,48,"Unexpected user for mutation batch",{userId:n.userId,batchId:r}),mA(this.serializer,n)):null)}tr(e,r){return this.er[r]?re.resolve(this.er[r]):this.lookupMutationBatch(e,r).next(n=>{if(n){const s=n.keys();return this.er[r]=s,s}return null})}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=IDBKeyRange.lowerBound([this.userId,n]);let a=null;return tc(e).te({index:jA,range:s},(o,l,c)=>{l.userId===this.userId&&(ct(l.batchId>=n,47524,{nr:n}),a=mA(this.serializer,l)),c.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=LA;return tc(e).te({index:jA,range:r,reverse:!0},(s,a,o)=>{n=a.batchId,o.done()}).next(()=>n)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,LA],[this.userId,Number.POSITIVE_INFINITY]);return tc(e).J(jA,r).next(n=>n.map(s=>mA(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,r){const n=Jw(this.userId,r.path),s=IDBKeyRange.lowerBound(n),a=[];return mh(e).te({range:s},(o,l,c)=>{const[u,A,d]=o,h=po(A);if(u===this.userId&&r.path.isEqual(h))return tc(e).get(d).next(f=>{if(!f)throw at(61480,{rr:o,batchId:d});ct(f.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:f.userId,batchId:d}),a.push(mA(this.serializer,f))});c.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new yr(bt);const s=[];return r.forEach(a=>{const o=Jw(this.userId,a.path),l=IDBKeyRange.lowerBound(o),c=mh(e).te({range:l},(u,A,d)=>{const[h,f,m]=u,p=po(f);h===this.userId&&a.path.isEqual(p)?n=n.add(m):d.done()});s.push(c)}),re.waitFor(s).next(()=>this.ir(e,n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1,a=Jw(this.userId,n),o=IDBKeyRange.lowerBound(a);let l=new yr(bt);return mh(e).te({range:o},(c,u,A)=>{const[d,h,f]=c,m=po(h);d===this.userId&&n.isPrefixOf(m)?m.length===s&&(l=l.add(f)):A.done()}).next(()=>this.ir(e,l))}ir(e,r){const n=[],s=[];return r.forEach(a=>{s.push(tc(e).get(a).next(o=>{if(o===null)throw at(35274,{batchId:a});ct(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:a}),n.push(mA(this.serializer,o))}))}),re.waitFor(s).next(()=>n)}removeMutationBatch(e,r){return mG(e.he,this.userId,r).next(n=>(e.addOnCommittedListener(()=>{this.sr(r.batchId)}),re.forEach(n,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}sr(e){delete this.er[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return re.resolve();const n=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),s=[];return mh(e).te({range:n},(a,o,l)=>{if(a[0]===this.userId){const c=po(a[1]);s.push(c)}else l.done()}).next(()=>{ct(s.length===0,56720,{_r:s.map(a=>a.canonicalString())})})})}containsKey(e,r){return pG(e,this.userId,r)}ar(e){return gG(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:LA,lastStreamToken:""})}}function pG(t,e,r){const n=Jw(e,r.path),s=n[1],a=IDBKeyRange.lowerBound(n);let o=!1;return mh(t).te({range:a,ee:!0},(l,c,u)=>{const[A,d,h]=l;A===e&&d===s&&(o=!0),u.done()}).next(()=>o)}function tc(t){return vn(t,yi)}function mh(t){return vn(t,kf)}function gG(t){return vn(t,kv)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new cd(0)}static lr(){return new cd(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uye{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.hr(e).next(r=>{const n=new cd(r.highestTargetId);return r.highestTargetId=n.next(),this.Pr(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.hr(e).next(r=>Mt.fromTimestamp(new Wr(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.hr(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,n){return this.hr(e).next(s=>(s.highestListenSequenceNumber=r,n&&(s.lastRemoteSnapshotVersion=n.toTimestamp()),r>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=r),this.Pr(e,s)))}addTargetData(e,r){return this.Tr(e,r).next(()=>this.hr(e).next(n=>(n.targetCount+=1,this.Ir(r,n),this.Pr(e,n))))}updateTargetData(e,r){return this.Tr(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Gd(e).delete(r.targetId)).next(()=>this.hr(e)).next(n=>(ct(n.targetCount>0,8065),n.targetCount-=1,this.Pr(e,n)))}removeTargets(e,r,n){let s=0;const a=[];return Gd(e).te((o,l)=>{const c=ag(l);c.sequenceNumber<=r&&n.get(c.targetId)===null&&(s++,a.push(this.removeTargetData(e,c)))}).next(()=>re.waitFor(a)).next(()=>s)}forEachTarget(e,r){return Gd(e).te((n,s)=>{const a=ag(s);r(a)})}hr(e){return vQ(e).get(u1).next(r=>(ct(r!==null,2888),r))}Pr(e,r){return vQ(e).put(u1,r)}Tr(e,r){return Gd(e).put(uG(this.serializer,r))}Ir(e,r){let n=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,n=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.hr(e).next(r=>r.targetCount)}getTargetData(e,r){const n=id(r),s=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let a=null;return Gd(e).te({range:s,index:vz},(o,l,c)=>{const u=ag(l);dx(r,u.target)&&(a=u,c.done())}).next(()=>a)}addMatchingKeys(e,r,n){const s=[],a=xc(e);return r.forEach(o=>{const l=ps(o.path);s.push(a.put({targetId:n,path:l})),s.push(this.referenceDelegate.addReference(e,n,o))}),re.waitFor(s)}removeMatchingKeys(e,r,n){const s=xc(e);return re.forEach(r,a=>{const o=ps(a.path);return re.waitFor([s.delete([n,o]),this.referenceDelegate.removeReference(e,n,a)])})}removeMatchingKeysForTargetId(e,r){const n=xc(e),s=IDBKeyRange.bound([r],[r+1],!1,!0);return n.delete(s)}getMatchingKeysForTargetId(e,r){const n=IDBKeyRange.bound([r],[r+1],!1,!0),s=xc(e);let a=dn();return s.te({range:n,ee:!0},(o,l,c)=>{const u=po(o[1]),A=new Je(u);a=a.add(A)}).next(()=>a)}containsKey(e,r){const n=ps(r.path),s=IDBKeyRange.bound([n],[Az(n)],!1,!0);let a=0;return xc(e).te({index:TO,ee:!0,range:s},([o,l],c,u)=>{o!==0&&(a++,u.done())}).next(()=>a>0)}Rt(e,r){return Gd(e).get(r).next(n=>n?ag(n):null)}}function Gd(t){return vn(t,Tf)}function vQ(t){return vn(t,$A)}function xc(t){return vn(t,If)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yQ="LruGarbageCollector",Aye=1048576;function xQ([t,e],[r,n]){const s=bt(t,r);return s===0?bt(e,n):s}class dye{constructor(e){this.Er=e,this.buffer=new yr(xQ),this.dr=0}Ar(){return++this.dr}Rr(e){const r=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();xQ(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class vG{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ke(yQ,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Sd(r)?ke(yQ,"Ignoring IndexedDB error during garbage collection: ",r):await H_(r)}await this.mr(3e5)})}}class hye{constructor(e,r){this.gr=e,this.params=r}calculateTargetCount(e,r){return this.gr.pr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return re.resolve(Ni.le);const n=new dye(r);return this.gr.forEachTarget(e,s=>n.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>n.Rr(s))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.gr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.gr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(gQ)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gQ):this.wr(e,r))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,r){let n,s,a,o,l,c,u;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,o=Date.now(),this.nthSequenceNumber(e,s))).next(d=>(n=d,l=Date.now(),this.removeTargets(e,n,r))).next(d=>(a=d,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(d=>(u=Date.now(),dh()<=Ht.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-A}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${d} documents in `+(u-c)+`ms
Total Duration: ${u-A}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:d})))}}function yG(t,e){return new hye(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fye{constructor(e,r){this.db=e,this.garbageCollector=yG(this,r)}pr(e){const r=this.Sr(e);return this.db.getTargetCache().getTargetCount(e).next(n=>r.next(s=>n+s))}Sr(e){let r=0;return this.yr(e,n=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}yr(e,r){return this.br(e,(n,s)=>r(s))}addReference(e,r,n){return U0(e,n)}removeReference(e,r,n){return U0(e,n)}removeTargets(e,r,n){return this.db.getTargetCache().removeTargets(e,r,n)}markPotentiallyOrphaned(e,r){return U0(e,r)}Dr(e,r){return function(s,a){let o=!1;return gG(s).ne(l=>pG(s,l,a).next(c=>(c&&(o=!0),re.resolve(!c)))).next(()=>o)}(e,r)}removeOrphanedDocuments(e,r){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let a=0;return this.br(e,(o,l)=>{if(l<=r){const c=this.Dr(e,o).next(u=>{if(!u)return a++,n.getEntry(e,o).next(()=>(n.removeEntry(o,Mt.min()),xc(e).delete(function(d){return[0,ps(d.path)]}(o))))});s.push(c)}}).next(()=>re.waitFor(s)).next(()=>n.apply(e)).next(()=>a)}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,r){return U0(e,r)}br(e,r){const n=xc(e);let s,a=Ni.le;return n.te({index:TO},([o,l],{path:c,sequenceNumber:u})=>{o===0?(a!==Ni.le&&r(new Je(po(s)),a),a=u,s=c):a=Ni.le}).next(()=>{a!==Ni.le&&r(new Je(po(s)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function U0(t,e){return xc(t).put(function(n,s){return{targetId:0,path:ps(n.path),sequenceNumber:s}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{constructor(){this.changes=new Ll(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Qn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?re.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mye{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,n){return qu(e).put(n)}removeEntry(e,r,n){return qu(e).delete(function(a,o){const l=a.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],g1(o),l[l.length-1]]}(r,n))}updateMetadata(e,r){return this.getMetadata(e).next(n=>(n.byteSize+=r,this.vr(e,n)))}getEntry(e,r){let n=Qn.newInvalidDocument(r);return qu(e).te({index:Yw,range:IDBKeyRange.only(Sp(r))},(s,a)=>{n=this.Cr(r,a)}).next(()=>n)}Fr(e,r){let n={size:0,document:Qn.newInvalidDocument(r)};return qu(e).te({index:Yw,range:IDBKeyRange.only(Sp(r))},(s,a)=>{n={document:this.Cr(r,a),size:y1(a)}}).next(()=>n)}getEntries(e,r){let n=Dc();return this.Mr(e,r,(s,a)=>{const o=this.Cr(s,a);n=n.insert(s,o)}).next(()=>n)}Or(e,r){let n=Dc(),s=new Os(Je.comparator);return this.Mr(e,r,(a,o)=>{const l=this.Cr(a,o);n=n.insert(a,l),s=s.insert(a,y1(o))}).next(()=>({documents:n,Nr:s}))}Mr(e,r,n){if(r.isEmpty())return re.resolve();let s=new yr(jQ);r.forEach(c=>s=s.add(c));const a=IDBKeyRange.bound(Sp(s.first()),Sp(s.last())),o=s.getIterator();let l=o.getNext();return qu(e).te({index:Yw,range:a},(c,u,A)=>{const d=Je.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;l&&jQ(l,d)<0;)n(l,null),l=o.getNext();l&&l.isEqual(d)&&(n(l,u),l=o.hasNext()?o.getNext():null),l?A.H(Sp(l)):A.done()}).next(()=>{for(;l;)n(l,null),l=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,r,n,s,a){const o=r.path,l=[o.popLast().toArray(),o.lastSegment(),g1(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qu(e).J(IDBKeyRange.bound(l,c,!0)).next(u=>{a==null||a.incrementDocumentReadCount(u.length);let A=Dc();for(const d of u){const h=this.Cr(Je.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(J_(r,h)||s.has(h.key))&&(A=A.insert(h.key,h))}return A})}getAllFromCollectionGroup(e,r,n,s){let a=Dc();const o=bQ(r,n),l=bQ(r,Sa.max());return qu(e).te({index:gz,range:IDBKeyRange.bound(o,l,!0)},(c,u,A)=>{const d=this.Cr(Je.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);a=a.insert(d.key,d),a.size===s&&A.done()}).next(()=>a)}newChangeBuffer(e){return new pye(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return wQ(e).get(sT).next(r=>(ct(!!r,20021),r))}vr(e,r){return wQ(e).put(sT,r)}Cr(e,r){if(r){const n=eye(this.serializer,r);if(!(n.isNoDocument()&&n.version.isEqual(Mt.min())))return n}return Qn.newInvalidDocument(e)}}function wG(t){return new mye(t)}class pye extends xG{constructor(e,r){super(),this.Br=e,this.trackRemovals=r,this.Lr=new Ll(n=>n.toString(),(n,s)=>n.isEqual(s))}applyChanges(e){const r=[];let n=0,s=new yr((a,o)=>bt(a.canonicalString(),o.canonicalString()));return this.changes.forEach((a,o)=>{const l=this.Lr.get(a);if(r.push(this.Br.removeEntry(e,a,l.readTime)),o.isValidDocument()){const c=sQ(this.Br.serializer,o);s=s.add(a.path.popLast());const u=y1(c);n+=u-l.size,r.push(this.Br.addEntry(e,a,c))}else if(n-=l.size,this.trackRemovals){const c=sQ(this.Br.serializer,o.convertToNoDocument(Mt.min()));r.push(this.Br.addEntry(e,a,c))}}),s.forEach(a=>{r.push(this.Br.indexManager.addToCollectionParentIndex(e,a))}),r.push(this.Br.updateMetadata(e,n)),re.waitFor(r)}getFromCache(e,r){return this.Br.Fr(e,r).next(n=>(this.Lr.set(r,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(e,r){return this.Br.Or(e,r).next(({documents:n,Nr:s})=>(s.forEach((a,o)=>{this.Lr.set(a,{size:o,readTime:n.get(a).readTime})}),n))}}function wQ(t){return vn(t,Tv)}function qu(t){return vn(t,c1)}function Sp(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function bQ(t,e){const r=e.documentKey.path.toArray();return[t,g1(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function jQ(t,e){const r=t.path.toArray(),n=e.path.toArray();let s=0;for(let a=0;a<r.length-2&&a<n.length-2;++a)if(s=bt(r[a],n[a]),s)return s;return s=bt(r.length,n.length),s||(s=bt(r[r.length-2],n[n.length-2]),s||bt(r[r.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gye{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{constructor(e,r,n,s){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,r))).next(s=>(n!==null&&Mg(n.mutation,s,za.empty(),Wr.now()),s))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,dn()).next(()=>n))}getLocalViewOfDocuments(e,r,n=dn()){const s=go();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,n).next(a=>{let o=D0();return a.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=go();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,dn()))}populateOverlays(e,r,n){const s=[];return n.forEach(a=>{r.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((o,l)=>{r.set(o,l)})})}computeViews(e,r,n,s){let a=Dc();const o=Ug(),l=function(){return Ug()}();return r.forEach((c,u)=>{const A=n.get(u.key);s.has(u.key)&&(A===void 0||A.mutation instanceof Pu)?a=a.insert(u.key,u):A!==void 0?(o.set(u.key,A.mutation.getFieldMask()),Mg(A.mutation,u,A.mutation.getFieldMask(),Wr.now())):o.set(u.key,za.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((u,A)=>o.set(u,A)),r.forEach((u,A)=>{var d;return l.set(u,new gye(A,(d=o.get(u))!==null&&d!==void 0?d:null))}),l))}recalculateAndSaveOverlays(e,r){const n=Ug();let s=new Os((o,l)=>o-l),a=dn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=r.get(c);if(u===null)return;let A=n.get(c)||za.empty();A=l.applyToLocalView(u,A),n.set(c,A);const d=(s.get(l.batchId)||dn()).add(c);s=s.insert(l.batchId,d)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,A=c.value,d=Gz();A.forEach(h=>{if(!a.has(h)){const f=Zz(r.get(h),n.get(h));f!==null&&d.set(h,f),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return re.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,s){return function(o){return Je.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):vve(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,s):this.getDocumentsMatchingCollectionQuery(e,r,n,s)}getNextDocuments(e,r,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,s).next(a=>{const o=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,s-a.size):re.resolve(go());let l=Ev,c=a;return o.next(u=>re.forEach(u,(A,d)=>(l<d.largestBatchId&&(l=d.largestBatchId),a.get(A)?re.resolve():this.remoteDocumentCache.getEntry(e,A).next(h=>{c=c.insert(A,h)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,c,u,dn())).next(A=>({batchId:l,changes:zz(A)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Je(r)).next(n=>{let s=D0();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,r,n,s){const a=r.collectionGroup;let o=D0();return this.indexManager.getCollectionParents(e,a).next(l=>re.forEach(l,c=>{const u=function(d,h){return new X_(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,s).next(A=>{A.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,s))).next(o=>{a.forEach((c,u)=>{const A=u.getKey();o.get(A)===null&&(o=o.insert(A,Qn.newInvalidDocument(A)))});let l=D0();return o.forEach((c,u)=>{const A=a.get(c);A!==void 0&&Mg(A.mutation,u,za.empty(),Wr.now()),J_(r,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vye{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,r){return re.resolve(this.kr.get(r))}saveBundleMetadata(e,r){return this.kr.set(r.id,function(s){return{id:s.id,version:s.version,createTime:Di(s.createTime)}}(r)),re.resolve()}getNamedQuery(e,r){return re.resolve(this.qr.get(r))}saveNamedQuery(e,r){return this.qr.set(r.name,function(s){return{name:s.name,query:AG(s.bundledQuery),readTime:Di(s.readTime)}}(r)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yye{constructor(){this.overlays=new Os(Je.comparator),this.Qr=new Map}getOverlay(e,r){return re.resolve(this.overlays.get(r))}getOverlays(e,r){const n=go();return re.forEach(r,s=>this.getOverlay(e,s).next(a=>{a!==null&&n.set(s,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((s,a)=>{this.bt(e,r,a)}),re.resolve()}removeOverlaysForBatchId(e,r,n){const s=this.Qr.get(n);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(n)),re.resolve()}getOverlaysForCollection(e,r,n){const s=go(),a=r.length+1,o=new Je(r.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&c.largestBatchId>n&&s.set(c.getKey(),c)}return re.resolve(s)}getOverlaysForCollectionGroup(e,r,n,s){let a=new Os((u,A)=>u-A);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let A=a.get(u.largestBatchId);A===null&&(A=go(),a=a.insert(u.largestBatchId,A)),A.set(u.getKey(),u)}}const l=go(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,A)=>l.set(u,A)),!(l.size()>=s)););return re.resolve(l)}bt(e,r,n){const s=this.overlays.get(n.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(n.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new KO(r,n));let a=this.Qr.get(r);a===void 0&&(a=dn(),this.Qr.set(r,a)),this.Qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xye{constructor(){this.sessionToken=na.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.$r=new yr(bn.Ur),this.Kr=new yr(bn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,r){const n=new bn(e,r);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.zr(new bn(e,r))}jr(e,r){e.forEach(n=>this.removeReference(n,r))}Hr(e){const r=new Je(new pr([])),n=new bn(r,e),s=new bn(r,e+1),a=[];return this.Kr.forEachInRange([n,s],o=>{this.zr(o),a.push(o.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const r=new Je(new pr([])),n=new bn(r,e),s=new bn(r,e+1);let a=dn();return this.Kr.forEachInRange([n,s],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new bn(e,0),n=this.$r.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class bn{constructor(e,r){this.key=e,this.Zr=r}static Ur(e,r){return Je.comparator(e.key,r.key)||bt(e.Zr,r.Zr)}static Wr(e,r){return bt(e.Zr,r.Zr)||Je.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wye{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.nr=1,this.Xr=new yr(bn.Ur)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,s){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new HO(a,r,n,s);this.mutationQueue.push(o);for(const l of s)this.Xr=this.Xr.add(new bn(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return re.resolve(o)}lookupMutationBatch(e,r){return re.resolve(this.ei(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=this.ti(n),a=s<0?0:s;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?LA:this.nr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new bn(r,0),s=new bn(r,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([n,s],o=>{const l=this.ei(o.Zr);a.push(l)}),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new yr(bt);return r.forEach(s=>{const a=new bn(s,0),o=new bn(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,o],l=>{n=n.add(l.Zr)})}),re.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1;let a=n;Je.isDocumentKey(a)||(a=a.child(""));const o=new bn(new Je(a),0);let l=new yr(bt);return this.Xr.forEachWhile(c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Zr)),!0)},o),re.resolve(this.ni(l))}ni(e){const r=[];return e.forEach(n=>{const s=this.ei(n);s!==null&&r.push(s)}),r}removeMutationBatch(e,r){ct(this.ri(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Xr;return re.forEach(r.mutations,s=>{const a=new bn(s.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=n})}sr(e){}containsKey(e,r){const n=new bn(r,0),s=this.Xr.firstAfterOrEqual(n);return re.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ri(e,r){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const r=this.ti(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bye{constructor(e){this.ii=e,this.docs=function(){return new Os(Je.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,s=this.docs.get(n),a=s?s.size:0,o=this.ii(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return re.resolve(n?n.document.mutableCopy():Qn.newInvalidDocument(r))}getEntries(e,r){let n=Dc();return r.forEach(s=>{const a=this.docs.get(s);n=n.insert(s,a?a.document.mutableCopy():Qn.newInvalidDocument(s))}),re.resolve(n)}getDocumentsMatchingQuery(e,r,n,s){let a=Dc();const o=r.path,l=new Je(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:A}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||NO(dz(A),n)<=0||(s.has(A.key)||J_(r,A))&&(a=a.insert(A.key,A.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,r,n,s){at(9500)}si(e,r){return re.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new jye(this)}getSize(e){return re.resolve(this.size)}}class jye extends xG{constructor(e){super(),this.Br=e}applyChanges(e){const r=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?r.push(this.Br.addEntry(e,s)):this.Br.removeEntry(n)}),re.waitFor(r)}getFromCache(e,r){return this.Br.getEntry(e,r)}getAllFromCache(e,r){return this.Br.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ye{constructor(e){this.persistence=e,this.oi=new Ll(r=>id(r),dx),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this._i=0,this.ai=new qO,this.targetCount=0,this.ui=cd.cr()}forEachTarget(e,r){return this.oi.forEach((n,s)=>r(s)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this._i&&(this._i=r),re.resolve()}Tr(e){this.oi.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ui=new cd(r),this.highestTargetId=r),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,r){return this.Tr(r),this.targetCount+=1,re.resolve()}updateTargetData(e,r){return this.Tr(r),re.resolve()}removeTargetData(e,r){return this.oi.delete(r.target),this.ai.Hr(r.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,r,n){let s=0;const a=[];return this.oi.forEach((o,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.oi.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),re.waitFor(a).next(()=>s)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,r){const n=this.oi.get(r)||null;return re.resolve(n)}addMatchingKeys(e,r,n){return this.ai.Gr(r,n),re.resolve()}removeMatchingKeys(e,r,n){this.ai.jr(r,n);const s=this.persistence.referenceDelegate,a=[];return s&&r.forEach(o=>{a.push(s.markPotentiallyOrphaned(e,o))}),re.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.ai.Hr(r),re.resolve()}getMatchingKeysForTargetId(e,r){const n=this.ai.Yr(r);return re.resolve(n)}containsKey(e,r){return re.resolve(this.ai.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,r){this.ci={},this.overlays={},this.li=new Ni(0),this.hi=!1,this.hi=!0,this.Pi=new xye,this.referenceDelegate=e(this),this.Ti=new _ye(this),this.indexManager=new lye,this.remoteDocumentCache=function(s){return new bye(s)}(n=>this.referenceDelegate.Ii(n)),this.serializer=new cG(r),this.Ei=new vye(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new yye,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ci[e.toKey()];return n||(n=new wye(r,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,r,n){ke("MemoryPersistence","Starting transaction:",e);const s=new Cye(this.li.next());return this.referenceDelegate.di(),n(s).next(a=>this.referenceDelegate.Ai(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ri(e,r){return re.or(Object.values(this.ci).map(n=>()=>n.containsKey(e,r)))}}class Cye extends fz{constructor(e){super(),this.currentSequenceNumber=e}}class rC{constructor(e){this.persistence=e,this.Vi=new qO,this.mi=null}static fi(e){return new rC(e)}get gi(){if(this.mi)return this.mi;throw at(60996)}addReference(e,r,n){return this.Vi.addReference(n,r),this.gi.delete(n.toString()),re.resolve()}removeReference(e,r,n){return this.Vi.removeReference(n,r),this.gi.add(n.toString()),re.resolve()}markPotentiallyOrphaned(e,r){return this.gi.add(r.toString()),re.resolve()}removeTarget(e,r){this.Vi.Hr(r.targetId).forEach(s=>this.gi.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(s=>{s.forEach(a=>this.gi.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}di(){this.mi=new Set}Ai(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.gi,n=>{const s=Je.fromPath(n);return this.pi(e,s).next(a=>{a||r.removeEntry(s,Mt.min())})}).next(()=>(this.mi=null,r.apply(e)))}updateLimboDocument(e,r){return this.pi(e,r).next(n=>{n?this.gi.delete(r.toString()):this.gi.add(r.toString())})}Ii(e){return 0}pi(e,r){return re.or([()=>re.resolve(this.Vi.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ri(e,r)])}}class x1{constructor(e,r){this.persistence=e,this.yi=new Ll(n=>ps(n.path),(n,s)=>n.isEqual(s)),this.garbageCollector=yG(this,r)}static fi(e,r){return new x1(e,r)}di(){}Ai(e){return re.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}pr(e){const r=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(s=>n+s))}Sr(e){let r=0;return this.yr(e,n=>{r++}).next(()=>r)}yr(e,r){return re.forEach(this.yi,(n,s)=>this.Dr(e,n,s).next(a=>a?re.resolve():r(s)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,r).next(l=>{l||(n++,a.removeEntry(o,Mt.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.yi.set(r,e.currentSequenceNumber),re.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.yi.set(n,e.currentSequenceNumber),re.resolve()}removeReference(e,r,n){return this.yi.set(n,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,r){return this.yi.set(r,e.currentSequenceNumber),re.resolve()}Ii(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=eb(e.data.value)),r}Dr(e,r,n){return re.or([()=>this.persistence.Ri(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const s=this.yi.get(r);return re.resolve(s!==void 0&&s>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bye{constructor(e){this.serializer=e}q(e,r,n,s){const a=new V_("createOrUpgrade",r);n<1&&s>=1&&(function(c){c.createObjectStore(Ax)}(e),function(c){c.createObjectStore(kv,{keyPath:Ige}),c.createObjectStore(yi,{keyPath:UM,autoIncrement:!0}).createIndex(jA,MM,{unique:!0}),c.createObjectStore(kf)}(e),_Q(e),function(c){c.createObjectStore(oA)}(e));let o=re.resolve();return n<3&&s>=3&&(n!==0&&(function(c){c.deleteObjectStore(If),c.deleteObjectStore(Tf),c.deleteObjectStore($A)}(e),_Q(e)),o=o.next(()=>function(c){const u=c.store($A),A={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mt.min().toTimestamp(),targetCount:0};return u.put(u1,A)}(a))),n<4&&s>=4&&(n!==0&&(o=o.next(()=>function(c,u){return u.store(yi).J().next(d=>{c.deleteObjectStore(yi),c.createObjectStore(yi,{keyPath:UM,autoIncrement:!0}).createIndex(jA,MM,{unique:!0});const h=u.store(yi),f=d.map(m=>h.put(m));return re.waitFor(f)})}(e,a))),o=o.next(()=>{(function(c){c.createObjectStore(Pf,{keyPath:Lge})})(e)})),n<5&&s>=5&&(o=o.next(()=>this.wi(a))),n<6&&s>=6&&(o=o.next(()=>(function(c){c.createObjectStore(Tv)}(e),this.Si(a)))),n<7&&s>=7&&(o=o.next(()=>this.bi(a))),n<8&&s>=8&&(o=o.next(()=>this.Di(e,a))),n<9&&s>=9&&(o=o.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),n<10&&s>=10&&(o=o.next(()=>this.Ci(a))),n<11&&s>=11&&(o=o.next(()=>{(function(c){c.createObjectStore(z_,{keyPath:$ge})})(e),function(c){c.createObjectStore(G_,{keyPath:Hge})}(e)})),n<12&&s>=12&&(o=o.next(()=>{(function(c){const u=c.createObjectStore(W_,{keyPath:Xge});u.createIndex(iT,Jge,{unique:!1}),u.createIndex(wz,Yge,{unique:!1})})(e)})),n<13&&s>=13&&(o=o.next(()=>function(c){const u=c.createObjectStore(c1,{keyPath:Oge});u.createIndex(Yw,Fge),u.createIndex(gz,Dge)}(e)).next(()=>this.Fi(e,a)).next(()=>e.deleteObjectStore(oA))),n<14&&s>=14&&(o=o.next(()=>this.Mi(e,a))),n<15&&s>=15&&(o=o.next(()=>function(c){c.createObjectStore(IO,{keyPath:Vge,autoIncrement:!0}).createIndex(aT,Kge,{unique:!1}),c.createObjectStore(Og,{keyPath:zge}).createIndex(yz,Gge,{unique:!1}),c.createObjectStore(Fg,{keyPath:Wge}).createIndex(xz,qge,{unique:!1})}(e))),n<16&&s>=16&&(o=o.next(()=>{r.objectStore(Og).clear()}).next(()=>{r.objectStore(Fg).clear()})),n<17&&s>=17&&(o=o.next(()=>{(function(c){c.createObjectStore(PO,{keyPath:Zge})})(e)})),n<18&&s>=18&&W7()&&(o=o.next(()=>{r.objectStore(Og).clear()}).next(()=>{r.objectStore(Fg).clear()})),o}Si(e){let r=0;return e.store(oA).te((n,s)=>{r+=y1(s)}).next(()=>{const n={byteSize:r};return e.store(Tv).put(sT,n)})}wi(e){const r=e.store(kv),n=e.store(yi);return r.J().next(s=>re.forEach(s,a=>{const o=IDBKeyRange.bound([a.userId,LA],[a.userId,a.lastAcknowledgedBatchId]);return n.J(jA,o).next(l=>re.forEach(l,c=>{ct(c.userId===a.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const u=mA(this.serializer,c);return mG(e,a.userId,u).next(()=>{})}))}))}bi(e){const r=e.store(If),n=e.store(oA);return e.store($A).get(u1).next(s=>{const a=[];return n.te((o,l)=>{const c=new pr(o),u=function(d){return[0,ps(d)]}(c);a.push(r.get(u).next(A=>A?re.resolve():(d=>r.put({targetId:0,path:ps(d),sequenceNumber:s.highestListenSequenceNumber}))(c)))}).next(()=>re.waitFor(a))})}Di(e,r){e.createObjectStore(Iv,{keyPath:Qge});const n=r.store(Iv),s=new WO,a=o=>{if(s.add(o)){const l=o.lastSegment(),c=o.popLast();return n.put({collectionId:l,parent:ps(c)})}};return r.store(oA).te({ee:!0},(o,l)=>{const c=new pr(o);return a(c.popLast())}).next(()=>r.store(kf).te({ee:!0},([o,l,c],u)=>{const A=po(l);return a(A.popLast())}))}Ci(e){const r=e.store(Tf);return r.te((n,s)=>{const a=ag(s),o=uG(this.serializer,a);return r.put(o)})}Fi(e,r){const n=r.store(oA),s=[];return n.te((a,o)=>{const l=r.store(c1),c=function(d){return d.document?new Je(pr.fromString(d.document.name).popFirst(5)):d.noDocument?Je.fromSegments(d.noDocument.path):d.unknownDocument?Je.fromSegments(d.unknownDocument.path):at(36783)}(o).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(l.put(u))}).next(()=>re.waitFor(s))}Mi(e,r){const n=r.store(yi),s=wG(this.serializer),a=new XO(rC.fi,this.serializer.wt);return n.J().next(o=>{const l=new Map;return o.forEach(c=>{var u;let A=(u=l.get(c.userId))!==null&&u!==void 0?u:dn();mA(this.serializer,c).keys().forEach(d=>A=A.add(d)),l.set(c.userId,A)}),re.forEach(l,(c,u)=>{const A=new Dn(u),d=eC.St(this.serializer,A),h=a.getIndexManager(A),f=tC.St(A,this.serializer,h,a.referenceDelegate);return new bG(s,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new oT(r,Ni.le),c).next()})})}}function _Q(t){t.createObjectStore(If,{keyPath:Uge}).createIndex(TO,Mge,{unique:!0}),t.createObjectStore(Tf,{keyPath:"targetId"}).createIndex(vz,Rge,{unique:!0}),t.createObjectStore($A)}const rc="IndexedDbPersistence",UE=18e5,ME=5e3,QE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Eye="main";class JO{constructor(e,r,n,s,a,o,l,c,u,A,d=18){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=n,this.xi=a,this.window=o,this.document=l,this.Oi=u,this.Ni=A,this.Bi=d,this.li=null,this.hi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Li=null,this.inForeground=!1,this.ki=null,this.qi=null,this.Qi=Number.NEGATIVE_INFINITY,this.$i=h=>Promise.resolve(),!JO.C())throw new tt(ve.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fye(this,s),this.Ui=r+Eye,this.serializer=new cG(c),this.Ki=new Zc(this.Ui,this.Bi,new Bye(this.serializer)),this.Pi=new rye,this.Ti=new uye(this.referenceDelegate,this.serializer),this.remoteDocumentCache=wG(this.serializer),this.Ei=new tye,this.window&&this.window.localStorage?this.Wi=this.window.localStorage:(this.Wi=null,A===!1&&ya(rc,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Gi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new tt(ve.FAILED_PRECONDITION,QE);return this.zi(),this.ji(),this.Hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ti.getHighestSequenceNumber(e))}).then(e=>{this.li=new Ni(e,this.Oi)}).then(()=>{this.hi=!0}).catch(e=>(this.Ki&&this.Ki.close(),Promise.reject(e)))}Ji(e){return this.$i=async r=>{if(this.started)return e(r)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ki.U(async r=>{r.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.xi.enqueueAndForget(async()=>{this.started&&await this.Gi()}))}Gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>M0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Yi(e).next(r=>{r||(this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)))})}).next(()=>this.Zi(e)).next(r=>this.isPrimary&&!r?this.Xi(e).next(()=>!1):!!r&&this.es(e).next(()=>!0))).catch(e=>{if(Sd(e))return ke(rc,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ke(rc,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.xi.enqueueRetryable(()=>this.$i(e)),this.isPrimary=e})}Yi(e){return Np(e).get($d).next(r=>re.resolve(this.ts(r)))}ns(e){return M0(e).delete(this.clientId)}async rs(){if(this.isPrimary&&!this.ss(this.Qi,UE)){this.Qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const n=vn(r,Pf);return n.J().next(s=>{const a=this._s(s,UE),o=s.filter(l=>a.indexOf(l)===-1);return re.forEach(o,l=>n.delete(l.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Wi)for(const r of e)this.Wi.removeItem(this.us(r.clientId))}}Hi(){this.qi=this.xi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Gi().then(()=>this.rs()).then(()=>this.Hi()))}ts(e){return!!e&&e.ownerId===this.clientId}Zi(e){return this.Ni?re.resolve(!0):Np(e).get($d).next(r=>{if(r!==null&&this.ss(r.leaseTimestampMs,ME)&&!this.cs(r.ownerId)){if(this.ts(r)&&this.networkEnabled)return!0;if(!this.ts(r)){if(!r.allowTabSynchronization)throw new tt(ve.FAILED_PRECONDITION,QE);return!1}}return!(!this.networkEnabled||!this.inForeground)||M0(e).J().next(n=>this._s(n,ME).find(s=>{if(this.clientId!==s.clientId){const a=!this.networkEnabled&&s.networkEnabled,o=!this.inForeground&&s.inForeground,l=this.networkEnabled===s.networkEnabled;if(a||o&&l)return!0}return!1})===void 0)}).next(r=>(this.isPrimary!==r&&ke(rc,`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}async shutdown(){this.hi=!1,this.ls(),this.qi&&(this.qi.cancel(),this.qi=null),this.hs(),this.Ps(),await this.Ki.runTransaction("shutdown","readwrite",[Ax,Pf],e=>{const r=new oT(e,Ni.le);return this.Xi(r).next(()=>this.ns(r))}),this.Ki.close(),this.Ts()}_s(e,r){return e.filter(n=>this.ss(n.updateTimeMs,r)&&!this.cs(n.clientId))}Is(){return this.runTransaction("getActiveClients","readonly",e=>M0(e).J().next(r=>this._s(r,UE).map(n=>n.clientId)))}get started(){return this.hi}getGlobalsCache(){return this.Pi}getMutationQueue(e,r){return tC.St(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new cye(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return eC.St(this.serializer,e)}getBundleCache(){return this.Ei}runTransaction(e,r,n){ke(rc,"Starting transaction:",e);const s=r==="readonly"?"readonly":"readwrite",a=function(c){return c===18?rve:c===17?Cz:c===16?tve:c===15?OO:c===14?_z:c===13?jz:c===12?eve:c===11?bz:void at(60245)}(this.Bi);let o;return this.Ki.runTransaction(e,s,a,l=>(o=new oT(l,this.li?this.li.next():Ni.le),r==="readwrite-primary"?this.Yi(o).next(c=>!!c||this.Zi(o)).next(c=>{if(!c)throw ya(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)),new tt(ve.FAILED_PRECONDITION,hz);return n(o)}).next(c=>this.es(o).next(()=>c)):this.Es(o).next(()=>n(o)))).then(l=>(o.raiseOnCommittedEvent(),l))}Es(e){return Np(e).get($d).next(r=>{if(r!==null&&this.ss(r.leaseTimestampMs,ME)&&!this.cs(r.ownerId)&&!this.ts(r)&&!(this.Ni||this.allowTabSynchronization&&r.allowTabSynchronization))throw new tt(ve.FAILED_PRECONDITION,QE)})}es(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Np(e).put($d,r)}static C(){return Zc.C()}Xi(e){const r=Np(e);return r.get($d).next(n=>this.ts(n)?(ke(rc,"Releasing primary lease."),r.delete($d)):re.resolve())}ss(e,r){const n=Date.now();return!(e<n-r)&&(!(e>n)||(ya(`Detected an update time that is in the future: ${e} > ${n}`),!1))}zi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ki=()=>{this.xi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Gi()))},this.document.addEventListener("visibilitychange",this.ki),this.inForeground=this.document.visibilityState==="visible")}hs(){this.ki&&(this.document.removeEventListener("visibilitychange",this.ki),this.ki=null)}ji(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Li=()=>{this.ls();const r=/(?:Version|Mobile)\/1[456]/;G7()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.xi.enterRestrictedMode(!0),this.xi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Li))}Ps(){this.Li&&(this.window.removeEventListener("pagehide",this.Li),this.Li=null)}cs(e){var r;try{const n=((r=this.Wi)===null||r===void 0?void 0:r.getItem(this.us(e)))!==null;return ke(rc,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return ya(rc,"Failed to get zombied client id.",n),!1}}ls(){if(this.Wi)try{this.Wi.setItem(this.us(this.clientId),String(Date.now()))}catch(e){ya("Failed to set zombie client id.",e)}}Ts(){if(this.Wi)try{this.Wi.removeItem(this.us(this.clientId))}catch{}}us(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Np(t){return vn(t,Ax)}function M0(t){return vn(t,Pf)}function Sye(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,r,n,s){this.targetId=e,this.fromCache=r,this.ds=n,this.As=s}static Rs(e,r){let n=dn(),s=dn();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new YO(e,r.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nye{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return G7()?8:mz(s1())>0?6:4}()}initialize(e,r){this.ys=e,this.indexManager=r,this.Vs=!0}getDocumentsMatchingQuery(e,r,n,s){const a={result:null};return this.ws(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Ss(e,r,s,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new Nye;return this.bs(e,r,o).next(l=>{if(a.result=l,this.fs)return this.Ds(e,r,o,l.size)})}).next(()=>a.result)}Ds(e,r,n,s){return n.documentReadCount<this.gs?(dh()<=Ht.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",_p(r),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),re.resolve()):(dh()<=Ht.DEBUG&&ke("QueryEngine","Query:",_p(r),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.ps*s?(dh()<=Ht.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",_p(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hl(r))):re.resolve())}ws(e,r){if(YM(r))return re.resolve(null);let n=hl(r);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(r.limit!==null&&s===1&&(r=hT(r,null,"F"),n=hl(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=dn(...a);return this.ys.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,n).next(c=>{const u=this.vs(r,l);return this.Cs(r,u,o,c.readTime)?this.ws(e,hT(r,null,"F")):this.Fs(e,u,r,c)}))})))}Ss(e,r,n,s){return YM(r)||s.isEqual(Mt.min())?re.resolve(null):this.ys.getDocuments(e,n).next(a=>{const o=this.vs(r,a);return this.Cs(r,o,n,s)?re.resolve(null):(dh()<=Ht.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),_p(r)),this.Fs(e,o,r,Cge(s,Ev)).next(l=>l))})}vs(e,r){let n=new yr(xve(e));return r.forEach((s,a)=>{J_(e,a)&&(n=n.add(a))}),n}Cs(e,r,n,s){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}bs(e,r,n){return dh()<=Ht.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",_p(r)),this.ys.getDocumentsMatchingQuery(e,r,Sa.min(),n)}Fs(e,r,n,s){return this.ys.getDocumentsMatchingQuery(e,n,s).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kye="LocalStore";class Tye{constructor(e,r,n,s){this.persistence=e,this.Ms=r,this.serializer=s,this.xs=new Os(bt),this.Os=new Ll(a=>id(a),dx),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bG(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.xs))}}function _G(t,e,r,n){return new Tye(t,e,r,n)}async function CG(t,e){const r=br(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let s;return r.mutationQueue.getAllMutationBatches(n).next(a=>(s=a,r.Ls(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],l=[];let c=dn();for(const u of s){o.push(u.batchId);for(const A of u.mutations)c=c.add(A.key)}for(const u of a){l.push(u.batchId);for(const A of u.mutations)c=c.add(A.key)}return r.localDocuments.getDocuments(n,c).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:l}))})})}function Iye(t,e){const r=br(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=e.batch.keys(),a=r.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,A){const d=u.batch,h=d.keys();let f=re.resolve();return h.forEach(m=>{f=f.next(()=>A.getEntry(c,m)).next(p=>{const g=u.docVersions.get(m);ct(g!==null,48541),p.version.compareTo(g)<0&&(d.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),A.addEntry(p)))})}),f.next(()=>l.mutationQueue.removeMutationBatch(c,d))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let c=dn();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,s))})}function Pye(t){const e=br(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ti.getLastRemoteSnapshotVersion(r))}function Oye(t,e){const r=br(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=LA),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}class CQ{constructor(){this.activeTargetIds=Bve()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BG{constructor(){this.xo=new CQ,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,r,n){this.Oo[e]=r}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new CQ,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fye{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BQ="ConnectivityMonitor";class EQ{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ke(BQ,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ke(BQ,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q0=null;function yT(){return Q0===null?Q0=function(){return 268435456+Math.round(2147483648*Math.random())}():Q0++,"0x"+Q0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="RestConnection",Dye={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rye{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=r+"://"+e.host,this.Wo=`projects/${n}/databases/${s}`,this.Go=this.databaseId.database===d1?`project_id=${n}`:`project_id=${n}&database_id=${s}`}zo(e,r,n,s,a){const o=yT(),l=this.jo(e,r.toUriEncodedString());ke(LE,`Sending RPC '${e}' ${o}:`,l,n);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,s,a);const{host:u}=new URL(l),A=_O(u);return this.Jo(e,l,c,n,A).then(d=>(ke(LE,`Received RPC '${e}' ${o}: `,d),d),d=>{throw ux(LE,`RPC '${e}' ${o} failed with error: `,d,"url: ",l,"request:",n),d})}Yo(e,r,n,s,a,o){return this.zo(e,r,n,s,a)}Ho(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+km}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>e[a]=s),n&&n.headers.forEach((s,a)=>e[a]=s)}jo(e,r){const n=Dye[e];return`${this.Ko}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uye{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="WebChannelConnection";class Mye extends Rye{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,s,a){const o=yT();return new Promise((l,c)=>{const u=new nz;u.setWithCredentials(!0),u.listenOnce(sz.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case qw.NO_ERROR:const d=u.getResponseJson();ke(ns,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),l(d);break;case qw.TIMEOUT:ke(ns,`RPC '${e}' ${o} timed out`),c(new tt(ve.DEADLINE_EXCEEDED,"Request time out"));break;case qw.HTTP_ERROR:const h=u.getStatus();if(ke(ns,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let f=u.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const p=function(y){const x=y.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(x)>=0?x:ve.UNKNOWN}(m.status);c(new tt(p,m.message))}else c(new tt(ve.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new tt(ve.UNAVAILABLE,"Connection failed."));break;default:at(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ke(ns,`RPC '${e}' ${o} completed.`)}});const A=JSON.stringify(s);ke(ns,`RPC '${e}' ${o} sending request:`,s),u.send(r,"POST",A,n,15)})}T_(e,r,n){const s=yT(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=oz(),l=iz(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const A=a.join("");ke(ns,`Creating RPC '${e}' stream ${s}: ${A}`,c);const d=o.createWebChannel(A,c);let h=!1,f=!1;const m=new Uye({Zo:g=>{f?ke(ns,`Not sending because RPC '${e}' stream ${s} is closed:`,g):(h||(ke(ns,`Opening RPC '${e}' stream ${s} transport.`),d.open(),h=!0),ke(ns,`RPC '${e}' stream ${s} sending:`,g),d.send(g))},Xo:()=>d.close()}),p=(g,y,x)=>{g.listen(y,b=>{try{x(b)}catch(j){setTimeout(()=>{throw j},0)}})};return p(d,sg.EventType.OPEN,()=>{f||(ke(ns,`RPC '${e}' stream ${s} transport opened.`),m.__())}),p(d,sg.EventType.CLOSE,()=>{f||(f=!0,ke(ns,`RPC '${e}' stream ${s} transport closed`),m.u_())}),p(d,sg.EventType.ERROR,g=>{f||(f=!0,ux(ns,`RPC '${e}' stream ${s} transport errored. Name:`,g.name,"Message:",g.message),m.u_(new tt(ve.UNAVAILABLE,"The operation could not be completed")))}),p(d,sg.EventType.MESSAGE,g=>{var y;if(!f){const x=g.data[0];ct(!!x,16349);const b=x,j=(b==null?void 0:b.error)||((y=b[0])===null||y===void 0?void 0:y.error);if(j){ke(ns,`RPC '${e}' stream ${s} received error:`,j);const C=j.status;let E=function(S){const N=rn[S];if(N!==void 0)return Dve(N)}(C),_=j.message;E===void 0&&(E=ve.INTERNAL,_="Unknown error status: "+C+" with message "+j.message),f=!0,m.u_(new tt(E,_)),d.close()}else ke(ns,`RPC '${e}' stream ${s} received:`,x),m.c_(x)}}),p(l,az.STAT_EVENT,g=>{g.stat===tT.PROXY?ke(ns,`RPC '${e}' stream ${s} detected buffering proxy`):g.stat===tT.NOPROXY&&ke(ns,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{m.a_()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qye(){return typeof window<"u"?window:null}function ab(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t){return new Qve(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(e,r,n=1e3,s=1.5,a=6e4){this.xi=e,this.timerId=r,this.I_=n,this.E_=s,this.d_=a,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const r=Math.floor(this.A_+this.g_()),n=Math.max(0,Date.now()-this.V_),s=Math.max(0,r-n);s>0&&ke("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SQ="PersistentStream";class Lye{constructor(e,r,n,s,a,o,l,c){this.xi=e,this.y_=n,this.w_=s,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new EG(e,r)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,r){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():r&&r.code===ve.RESOURCE_EXHAUSTED?(ya(r.toString()),ya("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):r&&r.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(r)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),r=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.S_===r&&this.K_(n,s)},n=>{e(()=>{const s=new tt(ve.UNKNOWN,"Fetching auth token failed: "+n.message);return this.W_(s)})})}K_(e,r){const n=this.U_(this.S_);this.stream=this.G_(e,r),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{n(()=>this.W_(s))}),this.stream.onMessage(s=>{n(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return ke(SQ,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return r=>{this.xi.enqueueAndForget(()=>this.S_===e?r():(ke(SQ,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $ye extends Lye{constructor(e,r,n,s,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,s,o),this.serializer=a}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,r){return this.connection.T_("Write",e,r)}z_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const r=zve(e.writeResults,e.commitTime),n=Di(e.commitTime);return this.listener.ea(n,r)}ta(){const e={};e.database=Vve(this.serializer),this.L_(e)}Z_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>p1(this.serializer,n))};this.L_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hye{}class Vye extends Hye{constructor(e,r,n,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=s,this.na=!1}ra(){if(this.na)throw new tt(ve.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,r,n,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.zo(e,fT(r,n),s,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new tt(ve.UNKNOWN,a.toString())})}Yo(e,r,n,s,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Yo(e,fT(r,n),s,o,l,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new tt(ve.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class Kye{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(ya(r),this.oa=!1):ke("OnlineStateTracker",r)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="RemoteStore";class zye{constructor(e,r,n,s,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=a,this.Ea.No(o=>{n.enqueueAndForget(async()=>{mx(this)&&(ke(hx,"Restarting streams for network reachability change."),await async function(c){const u=br(c);u.Ta.add(4),await fx(u),u.da.set("Unknown"),u.Ta.delete(4),await sC(u)}(this))})}),this.da=new Kye(n,s)}}async function sC(t){if(mx(t))for(const e of t.Ia)await e(!0)}async function fx(t){for(const e of t.Ia)await e(!1)}function mx(t){return br(t).Ta.size===0}async function SG(t,e,r){if(!Sd(e))throw e;t.Ta.add(1),await fx(t),t.da.set("Offline"),r||(r=()=>Pye(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ke(hx,"Retrying IndexedDB access"),await r(),t.Ta.delete(1),await sC(t)})}function NG(t,e){return e().catch(r=>SG(t,r,e))}async function px(t){const e=br(t),r=gu(e);let n=e.ha.length>0?e.ha[e.ha.length-1].batchId:LA;for(;Gye(e);)try{const s=await Oye(e.localStore,n);if(s===null){e.ha.length===0&&r.N_();break}n=s.batchId,Wye(e,s)}catch(s){await SG(e,s)}kG(e)&&TG(e)}function Gye(t){return mx(t)&&t.ha.length<10}function Wye(t,e){t.ha.push(e);const r=gu(t);r.M_()&&r.Y_&&r.Z_(e.mutations)}function kG(t){return mx(t)&&!gu(t).F_()&&t.ha.length>0}function TG(t){gu(t).start()}async function qye(t){gu(t).ta()}async function Xye(t){const e=gu(t);for(const r of t.ha)e.Z_(r.mutations)}async function Jye(t,e,r){const n=t.ha.shift(),s=VO.from(n,e,r);await NG(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await px(t)}async function Yye(t,e){e&&gu(t).Y_&&await async function(n,s){if(function(o){return Fve(o)&&o!==ve.ABORTED}(s.code)){const a=n.ha.shift();gu(n).O_(),await NG(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,s)),await px(n)}}(t,e),kG(t)&&TG(t)}async function NQ(t,e){const r=br(t);r.asyncQueue.verifyOperationInProgress(),ke(hx,"RemoteStore received new credentials");const n=mx(r);r.Ta.add(3),await fx(r),n&&r.da.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ta.delete(3),await sC(r)}async function Zye(t,e){const r=br(t);e?(r.Ta.delete(2),await sC(r)):e||(r.Ta.add(2),await fx(r),r.da.set("Unknown"))}function gu(t){return t.Va||(t.Va=function(r,n,s){const a=br(r);return a.ra(),new $ye(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:qye.bind(null,t),i_:Yye.bind(null,t),X_:Xye.bind(null,t),ea:Jye.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await px(t)):(await t.Va.stop(),t.ha.length>0&&(ke(hx,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,r,n,s,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=s,this.removalCallback=a,this.deferred=new Yc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,s,a){const o=Date.now()+n,l=new ZO(e,r,o,s,a);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new tt(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function IG(t,e){if(ya("AsyncQueue",`${e}: ${t}`),Sd(t))return new tt(ve.UNAVAILABLE,`${e}: ${t}`);throw t}class exe{constructor(){this.queries=kQ(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(r,n){const s=br(r),a=s.queries;s.queries=kQ(),a.forEach((o,l)=>{for(const c of l.ya)c.onError(n)})})(this,new tt(ve.ABORTED,"Firestore shutting down"))}}function kQ(){return new Ll(t=>Vz(t),Hz)}function txe(t){t.ba.forEach(e=>{e.next()})}var TQ,IQ;(IQ=TQ||(TQ={})).Ca="default",IQ.Cache="cache";const rxe="SyncEngine";class nxe{constructor(e,r,n,s,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new Ll(l=>Vz(l),Hz),this.cu=new Map,this.lu=new Set,this.hu=new Os(Je.comparator),this.Pu=new Map,this.Tu=new qO,this.Iu={},this.Eu=new Map,this.du=cd.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function sxe(t,e,r){const n=FG(t);try{const s=await function(o,l){const c=br(o),u=Wr.now(),A=l.reduce((f,m)=>f.add(m.key),dn());let d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=Dc(),p=dn();return c.Bs.getEntries(f,A).next(g=>{m=g,m.forEach((y,x)=>{x.isValidDocument()||(p=p.add(y))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,m)).next(g=>{d=g;const y=[];for(const x of l){const b=Ove(x,d.get(x.key).overlayedDocument);b!=null&&y.push(new Pu(x.key,b,Oz(b.value.mapValue),ja.exists(!0)))}return c.mutationQueue.addMutationBatch(f,u,y,l)}).next(g=>{h=g;const y=g.applyToLocalDocumentSet(d,p);return c.documentOverlayCache.saveOverlays(f,g.batchId,y)})}).then(()=>({batchId:h.batchId,changes:zz(d)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let u=o.Iu[o.currentUser.toKey()];u||(u=new Os(bt)),u=u.insert(l,c),o.Iu[o.currentUser.toKey()]=u}(n,s.batchId,r),await aC(n,s.changes),await px(n.remoteStore)}catch(s){const a=IG(s,"Failed to persist write");r.reject(a)}}function PQ(t,e,r){const n=br(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const s=[];n.uu.forEach((a,o)=>{const l=o.view.Da(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=br(o);c.onlineState=l;let u=!1;c.queries.forEach((A,d)=>{for(const h of d.ya)h.Da(l)&&(u=!0)}),u&&txe(c)}(n.eventManager,e),s.length&&n.au.j_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function axe(t,e){const r=br(t),n=e.batch.batchId;try{const s=await Iye(r.localStore,e);OG(r,n,null),PG(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await aC(r,s)}catch(s){await H_(s)}}async function ixe(t,e,r){const n=br(t);try{const s=await function(o,l){const c=br(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let A;return c.mutationQueue.lookupMutationBatch(u,l).next(d=>(ct(d!==null,37113),A=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,A,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,A)).next(()=>c.localDocuments.getDocuments(u,A))})}(n.localStore,e);OG(n,e,r),PG(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await aC(n,s)}catch(s){await H_(s)}}function PG(t,e){(t.Eu.get(e)||[]).forEach(r=>{r.resolve()}),t.Eu.delete(e)}function OG(t,e,r){const n=br(t);let s=n.Iu[n.currentUser.toKey()];if(s){const a=s.get(e);a&&(r?a.reject(r):a.resolve(),s=s.remove(e)),n.Iu[n.currentUser.toKey()]=s}}async function aC(t,e,r){const n=br(t),s=[],a=[],o=[];n.uu.isEmpty()||(n.uu.forEach((l,c)=>{o.push(n.Ru(c,e,r).then(u=>{var A;if((u||r)&&n.isPrimaryClient){const d=u?!u.fromCache:(A=void 0)===null||A===void 0?void 0:A.current;n.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(u){s.push(u);const d=YO.Rs(c.targetId,u);a.push(d)}}))}),await Promise.all(o),n.au.j_(s),await async function(c,u){const A=br(c);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>re.forEach(u,h=>re.forEach(h.ds,f=>A.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>re.forEach(h.As,f=>A.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Sd(d))throw d;ke(kye,"Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=A.xs.get(h),m=f.snapshotVersion,p=f.withLastLimboFreeSnapshotVersion(m);A.xs=A.xs.insert(h,p)}}}(n.localStore,a))}async function oxe(t,e){const r=br(t);if(!r.currentUser.isEqual(e)){ke(rxe,"User change. New user:",e.toKey());const n=await CG(r.localStore,e);r.currentUser=e,function(a,o){a.Eu.forEach(l=>{l.forEach(c=>{c.reject(new tt(ve.CANCELLED,o))})}),a.Eu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await aC(r,n.ks)}}function FG(t){const e=br(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=axe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ixe.bind(null,e),e}class Mv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nC(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,r){return null}bu(e,r){return null}wu(e){return _G(this.persistence,new jG,e.initialUser,this.serializer)}yu(e){return new XO(rC.fi,this.serializer)}pu(e){return new BG}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mv.provider={build:()=>new Mv};class lxe extends Mv{constructor(e){super(),this.cacheSizeBytes=e}Su(e,r){ct(this.persistence.referenceDelegate instanceof x1,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new vG(n,e.asyncQueue,r)}yu(e){const r=this.cacheSizeBytes!==void 0?os.withCacheSize(this.cacheSizeBytes):os.DEFAULT;return new XO(n=>x1.fi(n,r),this.serializer)}}class cxe extends Mv{constructor(e,r,n){super(),this.Du=e,this.cacheSizeBytes=r,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Du.initialize(this,e),await FG(this.Du.syncEngine),await px(this.Du.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}wu(e){return _G(this.persistence,new jG,e.initialUser,this.serializer)}Su(e,r){const n=this.persistence.referenceDelegate.garbageCollector;return new vG(n,e.asyncQueue,r)}bu(e,r){const n=new Nge(r,this.persistence);return new Sge(e.asyncQueue,n)}yu(e){const r=Sye(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?os.withCacheSize(this.cacheSizeBytes):os.DEFAULT;return new JO(this.synchronizeTabs,r,e.clientId,n,e.asyncQueue,Qye(),ab(),this.serializer,this.sharedClientState,!!this.forceOwnership)}pu(e){return new BG}}class w1{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>PQ(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=oxe.bind(null,this.syncEngine),await Zye(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new exe}()}createDatastore(e){const r=nC(e.databaseInfo.databaseId),n=function(a){return new Mye(a)}(e.databaseInfo);return function(a,o,l,c){return new Vye(a,o,l,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,s,a,o,l){return new zye(n,s,a,o,l)}(this.localStore,this.datastore,e.asyncQueue,r=>PQ(this.syncEngine,r,0),function(){return EQ.C()?new EQ:new Fye}())}createSyncEngine(e,r){return function(s,a,o,l,c,u,A){const d=new nxe(s,a,o,l,c,u);return A&&(d.Au=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(s){const a=br(s);ke(hx,"RemoteStore shutting down."),a.Ta.add(5),await fx(a),a.Ea.shutdown(),a.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}w1.provider={build:()=>new w1};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu="FirestoreClient";class uxe{constructor(e,r,n,s,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=s,this.user=Dn.UNAUTHENTICATED,this.clientId=uz.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{ke(vu,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(ke(vu,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=IG(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function $E(t,e){t.asyncQueue.verifyOperationInProgress(),ke(vu,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async s=>{n.isEqual(s)||(await CG(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function OQ(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Axe(t);ke(vu,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>NQ(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,s)=>NQ(e.remoteStore,s)),t._onlineComponents=e}async function Axe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ke(vu,"Using user provided OfflineComponentProvider");try{await $E(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(s){return s.name==="FirebaseError"?s.code===ve.FAILED_PRECONDITION||s.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(r))throw r;ux("Error using user provided cache. Falling back to memory cache: "+r),await $E(t,new Mv)}}else ke(vu,"Using default OfflineComponentProvider"),await $E(t,new lxe(void 0));return t._offlineComponents}async function dxe(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ke(vu,"Using user provided OnlineComponentProvider"),await OQ(t,t._uninitializedComponentsProvider._online)):(ke(vu,"Using default OnlineComponentProvider"),await OQ(t,new w1))),t._onlineComponents}function hxe(t){return dxe(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DG(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FQ=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RG(t,e,r){if(!r)throw new tt(ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fxe(t,e,r,n){if(e===!0&&n===!0)throw new tt(ve.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function DQ(t){if(!Je.isDocumentKey(t))throw new tt(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function RQ(t){if(Je.isDocumentKey(t))throw new tt(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function eF(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":at(12329,{type:typeof t})}function tF(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new tt(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=eF(t);throw new tt(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UG="firestore.googleapis.com",UQ=!0;class MQ{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new tt(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UG,this.ssl=UQ}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:UQ;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fG;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Aye)throw new tt(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fxe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DG((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new tt(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new tt(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new tt(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iC{constructor(e,r,n,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MQ({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new tt(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new tt(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MQ(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new mge;switch(n.type){case"firstParty":return new yge(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new tt(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=FQ.get(r);n&&(ke("ComponentProvider","Removing Datastore"),FQ.delete(r),n.terminate())}(this),Promise.resolve()}}function mxe(t,e,r,n={}){var s;t=tF(t,iC);const a=_O(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${r}`;a&&(qme(`https://${c}`),Zme("Firestore",!0)),o.host!==UG&&o.host!==c&&ux("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:c,ssl:a,emulatorOptions:n});if(!a1(u,l)&&(t._setSettings(u),n.mockUserToken)){let A,d;if(typeof n.mockUserToken=="string")A=n.mockUserToken,d=Dn.MOCK_USER;else{A=Xme(n.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new tt(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Dn(h)}t._authCredentials=new pge(new cz(A,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new rF(this.firestore,e,this._query)}}class fl{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fl(this.firestore,e,this._key)}}class eu extends rF{constructor(e,r,n){super(e,r,$z(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fl(this.firestore,null,new Je(e))}withConverter(e){return new eu(this.firestore,e,this._path)}}function QQ(t,e,...r){if(t=hu(t),RG("collection","path",e),t instanceof iC){const n=pr.fromString(e,...r);return RQ(n),new eu(t,null,n)}{if(!(t instanceof fl||t instanceof eu))throw new tt(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(pr.fromString(e,...r));return RQ(n),new eu(t.firestore,null,n)}}function pxe(t,e,...r){if(t=hu(t),arguments.length===1&&(e=uz.newId()),RG("doc","path",e),t instanceof iC){const n=pr.fromString(e,...r);return DQ(n),new fl(t,null,new Je(n))}{if(!(t instanceof fl||t instanceof eu))throw new tt(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(pr.fromString(e,...r));return DQ(n),new fl(t.firestore,t instanceof eu?t.converter:null,new Je(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LQ="AsyncQueue";class $Q{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new EG(this,"async_queue_retry"),this.ec=()=>{const n=ab();n&&ke(LQ,"Visibility state changed to "+n.visibilityState),this.C_.p_()},this.tc=e;const r=ab();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const r=ab();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const r=new Yc;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Sd(e))throw e;ke(LQ,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const r=this.tc.then(()=>(this.Yu=!0,e().catch(n=>{throw this.Ju=n,this.Yu=!1,ya("INTERNAL UNHANDLED ERROR: ",HQ(n)),n}).then(n=>(this.Yu=!1,n))));return this.tc=r,r}enqueueAfterDelay(e,r,n){this.nc(),this.Xu.indexOf(e)>-1&&(r=0);const s=ZO.createAndSchedule(this,e,r,n,a=>this.oc(a));return this.Hu.push(s),s}nc(){this.Ju&&at(47125,{_c:HQ(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const r of this.Hu)if(r.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Hu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const r=this.Hu.indexOf(e);this.Hu.splice(r,1)}}function HQ(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class nF extends iC{constructor(e,r,n,s){super(e,r,n,s),this.type="firestore",this._queue=new $Q,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $Q(e),this._firestoreClient=void 0,await e}}}function sF(t,e){const r=typeof t=="object"?t:ez(),n=typeof t=="string"?t:d1,s=$_(r,"firestore").getImmediate({identifier:n});if(!s._initialized){const a=Gme("firestore");a&&mxe(s,...a)}return s}function gxe(t){if(t._terminated)throw new tt(ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||MG(t),t._firestoreClient}function MG(t){var e,r,n;const s=t._freezeSettings(),a=function(l,c,u,A){return new ave(l,c,u,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,DG(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((r=s.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new uxe(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}function vxe(t,e){ux("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings();return yxe(t,w1.provider,{build:n=>new cxe(n,r.cacheSizeBytes,void 0)}),Promise.resolve()}function yxe(t,e,r){if((t=tF(t,nF))._firestoreClient||t._terminated)throw new tt(ve.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new tt(ve.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:r},MG(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qv(na.fromBase64String(e))}catch(r){throw new tt(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Qv(na.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new tt(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $G{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new tt(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new tt(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xxe=/^__.*__$/;class wxe{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Pu(e,this.data,this.fieldMask,r,this.fieldTransforms):new Im(e,this.data,r,this.fieldTransforms)}}function VG(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at(40011,{hc:t})}}class aF{constructor(e,r,n,s,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=s,a===void 0&&this.Pc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new aF(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Tc({path:n,Ec:!1});return s.dc(e),s}Ac(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Tc({path:n,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return b1(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(VG(this.hc)&&xxe.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class bxe{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||nC(e)}gc(e,r,n,s=!1){return new aF({hc:e,methodName:r,fc:n,path:Mr.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jxe(t){const e=t._freezeSettings(),r=nC(t._databaseId);return new bxe(t._databaseId,!!e.ignoreUndefinedProperties,r)}function _xe(t,e,r,n,s,a={}){const o=t.gc(a.merge||a.mergeFields?2:0,e,r,s);WG("Data must be an object, but it was:",o,n);const l=zG(n,o);let c,u;if(a.merge)c=new za(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const A=[];for(const d of a.mergeFields){const h=Cxe(e,d,r);if(!o.contains(h))throw new tt(ve.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Sxe(A,h)||A.push(h)}c=new za(A),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new wxe(new xa(l),c,u)}function KG(t,e){if(GG(t=hu(t)))return WG("Unsupported field value:",e,t),zG(t,e);if(t instanceof LG)return function(n,s){if(!VG(s.hc))throw s.Vc(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(n,s){const a=[];let o=0;for(const l of n){let c=KG(l,s.Rc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}}(t,e)}return function(n,s){if((n=hu(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Eve(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Wr.fromDate(n);return{timestampValue:Uv(s.serializer,a)}}if(n instanceof Wr){const a=new Wr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Uv(s.serializer,a)}}if(n instanceof $G)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Qv)return{bytesValue:$ve(s.serializer,n._byteString)};if(n instanceof fl){const a=s.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw s.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:zO(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof HG)return function(o,l){return{mapValue:{fields:{[RO]:{stringValue:UO},[Pv]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Vc("VectorValues must only contain numeric values.");return LO(l.serializer,u)})}}}}}}(n,s);throw s.Vc(`Unsupported field value: ${eF(n)}`)}(t,e)}function zG(t,e){const r={};return Bz(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tm(t,(n,s)=>{const a=KG(s,e.Ic(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function GG(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Wr||t instanceof $G||t instanceof Qv||t instanceof fl||t instanceof LG||t instanceof HG)}function WG(t,e,r){if(!GG(r)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(r)){const n=eF(r);throw n==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+n)}}function Cxe(t,e,r){if((e=hu(e))instanceof QG)return e._internalPath;if(typeof e=="string")return Exe(t,e);throw b1("Field path arguments must be of type string or ",t,!1,void 0,r)}const Bxe=new RegExp("[~\\*/\\[\\]]");function Exe(t,e,r){if(e.search(Bxe)>=0)throw b1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new QG(...e.split("."))._internalPath}catch{throw b1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function b1(t,e,r,n,s){const a=n&&!n.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${n}`),o&&(c+=` in document ${s}`),c+=")"),new tt(ve.INVALID_ARGUMENT,l+t+c)}function Sxe(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nxe(t,e,r){let n;return n=t?t.toFirestore(e):e,n}function VQ(t,e){const r=tF(t.firestore,nF),n=pxe(t),s=Nxe(t.converter,e);return kxe(r,[_xe(jxe(t.firestore),"addDoc",n._key,s,t.converter!==null,{}).toMutation(n._key,ja.exists(!1))]).then(()=>n)}function kxe(t,e){return function(n,s){const a=new Yc;return n.asyncQueue.enqueueAndForget(async()=>sxe(await hxe(n),s,a)),a.promise}(gxe(t),e)}(function(e,r=!0){(function(s){km=s})(rge),fu(new Nl("firestore",(n,{instanceIdentifier:s,options:a})=>{const o=n.getProvider("app").getImmediate(),l=new nF(new gge(n.getProvider("auth-internal")),new xge(o,n.getProvider("app-check-internal")),function(u,A){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new tt(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Of(u.options.projectId,A)}(o,s),o);return a=Object.assign({useFetchStreams:r},a),l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),_o(NM,kM,e),_o(NM,kM,"esm2017")})();const qG="@firebase/installations",iF="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XG=1e4,JG=`w:${iF}`,YG="FIS_v2",Txe="https://firebaseinstallations.googleapis.com/v1",Ixe=60*60*1e3,Pxe="installations",Oxe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fxe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ud=new Q_(Pxe,Oxe,Fxe);function ZG(t){return t instanceof Ed&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eW({projectId:t}){return`${Txe}/projects/${t}/installations`}function tW(t){return{token:t.token,requestStatus:2,expiresIn:Rxe(t.expiresIn),creationTime:Date.now()}}async function rW(t,e){const n=(await e.json()).error;return ud.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function nW({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Dxe(t,{refreshToken:e}){const r=nW(t);return r.append("Authorization",Uxe(e)),r}async function sW(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Rxe(t){return Number(t.replace("s","000"))}function Uxe(t){return`${YG} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mxe({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=eW(t),s=nW(t),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:r,authVersion:YG,appId:t.appId,sdkVersion:JG},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await sW(()=>fetch(n,l));if(c.ok){const u=await c.json();return{fid:u.fid||r,registrationStatus:2,refreshToken:u.refreshToken,authToken:tW(u.authToken)}}else throw await rW("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aW(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qxe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lxe=/^[cdef][\w-]{21}$/,xT="";function $xe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=Hxe(t);return Lxe.test(r)?r:xT}catch{return xT}}function Hxe(t){return Qxe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW=new Map;function oW(t,e){const r=oC(t);lW(r,e),Vxe(r,e)}function lW(t,e){const r=iW.get(t);if(r)for(const n of r)n(e)}function Vxe(t,e){const r=Kxe();r&&r.postMessage({key:t,fid:e}),zxe()}let _A=null;function Kxe(){return!_A&&"BroadcastChannel"in self&&(_A=new BroadcastChannel("[Firebase] FID Change"),_A.onmessage=t=>{lW(t.data.key,t.data.fid)}),_A}function zxe(){iW.size===0&&_A&&(_A.close(),_A=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gxe="firebase-installations-database",Wxe=1,Ad="firebase-installations-store";let HE=null;function oF(){return HE||(HE=L_(Gxe,Wxe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ad)}}})),HE}async function j1(t,e){const r=oC(t),s=(await oF()).transaction(Ad,"readwrite"),a=s.objectStore(Ad),o=await a.get(r);return await a.put(e,r),await s.done,(!o||o.fid!==e.fid)&&oW(t,e.fid),e}async function cW(t){const e=oC(t),n=(await oF()).transaction(Ad,"readwrite");await n.objectStore(Ad).delete(e),await n.done}async function lC(t,e){const r=oC(t),s=(await oF()).transaction(Ad,"readwrite"),a=s.objectStore(Ad),o=await a.get(r),l=e(o);return l===void 0?await a.delete(r):await a.put(l,r),await s.done,l&&(!o||o.fid!==l.fid)&&oW(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lF(t){let e;const r=await lC(t.appConfig,n=>{const s=qxe(n),a=Xxe(t,s);return e=a.registrationPromise,a.installationEntry});return r.fid===xT?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function qxe(t){const e=t||{fid:$xe(),registrationStatus:0};return uW(e)}function Xxe(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ud.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=Jxe(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Yxe(t)}:{installationEntry:e}}async function Jxe(t,e){try{const r=await Mxe(t,e);return j1(t.appConfig,r)}catch(r){throw ZG(r)&&r.customData.serverCode===409?await cW(t.appConfig):await j1(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function Yxe(t){let e=await KQ(t.appConfig);for(;e.registrationStatus===1;)await aW(100),e=await KQ(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await lF(t);return n||r}return e}function KQ(t){return lC(t,e=>{if(!e)throw ud.create("installation-not-found");return uW(e)})}function uW(t){return Zxe(t)?{fid:t.fid,registrationStatus:0}:t}function Zxe(t){return t.registrationStatus===1&&t.registrationTime+XG<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e0e({appConfig:t,heartbeatServiceProvider:e},r){const n=t0e(t,r),s=Dxe(t,r),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:JG,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await sW(()=>fetch(n,l));if(c.ok){const u=await c.json();return tW(u)}else throw await rW("Generate Auth Token",c)}function t0e(t,{fid:e}){return`${eW(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cF(t,e=!1){let r;const n=await lC(t.appConfig,a=>{if(!AW(a))throw ud.create("not-registered");const o=a.authToken;if(!e&&s0e(o))return a;if(o.requestStatus===1)return r=r0e(t,e),a;{if(!navigator.onLine)throw ud.create("app-offline");const l=i0e(a);return r=n0e(t,l),l}});return r?await r:n.authToken}async function r0e(t,e){let r=await zQ(t.appConfig);for(;r.authToken.requestStatus===1;)await aW(100),r=await zQ(t.appConfig);const n=r.authToken;return n.requestStatus===0?cF(t,e):n}function zQ(t){return lC(t,e=>{if(!AW(e))throw ud.create("not-registered");const r=e.authToken;return o0e(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function n0e(t,e){try{const r=await e0e(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await j1(t.appConfig,n),r}catch(r){if(ZG(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await cW(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await j1(t.appConfig,n)}throw r}}function AW(t){return t!==void 0&&t.registrationStatus===2}function s0e(t){return t.requestStatus===2&&!a0e(t)}function a0e(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Ixe}function i0e(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function o0e(t){return t.requestStatus===1&&t.requestTime+XG<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l0e(t){const e=t,{installationEntry:r,registrationPromise:n}=await lF(e);return n?n.catch(console.error):cF(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c0e(t,e=!1){const r=t;return await u0e(r),(await cF(r,e)).token}async function u0e(t){const{registrationPromise:e}=await lF(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0e(t){if(!t||!t.options)throw VE("App Configuration");if(!t.name)throw VE("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw VE(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function VE(t){return ud.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW="installations",d0e="installations-internal",h0e=t=>{const e=t.getProvider("app").getImmediate(),r=A0e(e),n=$_(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},f0e=t=>{const e=t.getProvider("app").getImmediate(),r=$_(e,dW).getImmediate();return{getId:()=>l0e(r),getToken:s=>c0e(r,s)}};function m0e(){fu(new Nl(dW,h0e,"PUBLIC")),fu(new Nl(d0e,f0e,"PRIVATE"))}m0e();_o(qG,iF);_o(qG,iF,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0e="/firebase-messaging-sw.js",g0e="/firebase-cloud-messaging-push-scope",hW="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",v0e="https://fcmregistrations.googleapis.com/v1",fW="google.c.a.c_id",y0e="google.c.a.c_l",x0e="google.c.a.ts",w0e="google.c.a.e",GQ=1e4;var WQ;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(WQ||(WQ={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Lv;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Lv||(Lv={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function b0e(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),s=new Uint8Array(n.length);for(let a=0;a<n.length;++a)s[a]=n.charCodeAt(a);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="fcm_token_details_db",j0e=5,qQ="fcm_token_object_Store";async function _0e(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(a=>a.name).includes(KE))return null;let e=null;return(await L_(KE,j0e,{upgrade:async(n,s,a,o)=>{var l;if(s<2||!n.objectStoreNames.contains(qQ))return;const c=o.objectStore(qQ),u=await c.index("fcmSenderId").get(t);if(await c.clear(),!!u){if(s===2){const A=u;if(!A.auth||!A.p256dh||!A.endpoint)return;e={token:A.fcmToken,createTime:(l=A.createTime)!==null&&l!==void 0?l:Date.now(),subscriptionOptions:{auth:A.auth,p256dh:A.p256dh,endpoint:A.endpoint,swScope:A.swScope,vapidKey:typeof A.vapidKey=="string"?A.vapidKey:nl(A.vapidKey)}}}else if(s===3){const A=u;e={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:nl(A.auth),p256dh:nl(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:nl(A.vapidKey)}}}else if(s===4){const A=u;e={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:nl(A.auth),p256dh:nl(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:nl(A.vapidKey)}}}}}})).close(),await OE(KE),await OE("fcm_vapid_details_db"),await OE("undefined"),C0e(e)?e:null}function C0e(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0e="firebase-messaging-database",E0e=1,$v="firebase-messaging-store";let zE=null;function mW(){return zE||(zE=L_(B0e,E0e,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore($v)}}})),zE}async function S0e(t){const e=pW(t),n=await(await mW()).transaction($v).objectStore($v).get(e);if(n)return n;{const s=await _0e(t.appConfig.senderId);if(s)return await uF(t,s),s}}async function uF(t,e){const r=pW(t),s=(await mW()).transaction($v,"readwrite");return await s.objectStore($v).put(e,r),await s.done,e}function pW({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0e={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},gs=new Q_("messaging","Messaging",N0e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k0e(t,e){const r=await dF(t),n=gW(e),s={method:"POST",headers:r,body:JSON.stringify(n)};let a;try{a=await(await fetch(AF(t.appConfig),s)).json()}catch(o){throw gs.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(a.error){const o=a.error.message;throw gs.create("token-subscribe-failed",{errorInfo:o})}if(!a.token)throw gs.create("token-subscribe-no-token");return a.token}async function T0e(t,e){const r=await dF(t),n=gW(e.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(n)};let a;try{a=await(await fetch(`${AF(t.appConfig)}/${e.token}`,s)).json()}catch(o){throw gs.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(a.error){const o=a.error.message;throw gs.create("token-update-failed",{errorInfo:o})}if(!a.token)throw gs.create("token-update-no-token");return a.token}async function I0e(t,e){const n={method:"DELETE",headers:await dF(t)};try{const a=await(await fetch(`${AF(t.appConfig)}/${e}`,n)).json();if(a.error){const o=a.error.message;throw gs.create("token-unsubscribe-failed",{errorInfo:o})}}catch(s){throw gs.create("token-unsubscribe-failed",{errorInfo:s==null?void 0:s.toString()})}}function AF({projectId:t}){return`${v0e}/projects/${t}/registrations`}async function dF({appConfig:t,installations:e}){const r=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function gW({p256dh:t,auth:e,endpoint:r,vapidKey:n}){const s={web:{endpoint:r,auth:e,p256dh:t}};return n!==hW&&(s.web.applicationPubKey=n),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0e=7*24*60*60*1e3;async function O0e(t){const e=await D0e(t.swRegistration,t.vapidKey),r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:nl(e.getKey("auth")),p256dh:nl(e.getKey("p256dh"))},n=await S0e(t.firebaseDependencies);if(n){if(R0e(n.subscriptionOptions,r))return Date.now()>=n.createTime+P0e?F0e(t,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await I0e(t.firebaseDependencies,n.token)}catch(s){console.warn(s)}return XQ(t.firebaseDependencies,r)}else return XQ(t.firebaseDependencies,r)}async function F0e(t,e){try{const r=await T0e(t.firebaseDependencies,e),n=Object.assign(Object.assign({},e),{token:r,createTime:Date.now()});return await uF(t.firebaseDependencies,n),r}catch(r){throw r}}async function XQ(t,e){const n={token:await k0e(t,e),createTime:Date.now(),subscriptionOptions:e};return await uF(t,n),n.token}async function D0e(t,e){const r=await t.pushManager.getSubscription();return r||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:b0e(e)})}function R0e(t,e){const r=e.vapidKey===t.vapidKey,n=e.endpoint===t.endpoint,s=e.auth===t.auth,a=e.p256dh===t.p256dh;return r&&n&&s&&a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JQ(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return U0e(e,t),M0e(e,t),Q0e(e,t),e}function U0e(t,e){if(!e.notification)return;t.notification={};const r=e.notification.title;r&&(t.notification.title=r);const n=e.notification.body;n&&(t.notification.body=n);const s=e.notification.image;s&&(t.notification.image=s);const a=e.notification.icon;a&&(t.notification.icon=a)}function M0e(t,e){e.data&&(t.data=e.data)}function Q0e(t,e){var r,n,s,a,o;if(!e.fcmOptions&&!(!((r=e.notification)===null||r===void 0)&&r.click_action))return;t.fcmOptions={};const l=(s=(n=e.fcmOptions)===null||n===void 0?void 0:n.link)!==null&&s!==void 0?s:(a=e.notification)===null||a===void 0?void 0:a.click_action;l&&(t.fcmOptions.link=l);const c=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0e(t){return typeof t=="object"&&!!t&&fW in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0e(t){if(!t||!t.options)throw GE("App Configuration Object");if(!t.name)throw GE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:r}=t;for(const n of e)if(!r[n])throw GE(n);return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function GE(t){return gs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0e{constructor(e,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=$0e(e);this.firebaseDependencies={app:e,appConfig:s,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V0e(t){try{t.swRegistration=await navigator.serviceWorker.register(p0e,{scope:g0e}),t.swRegistration.update().catch(()=>{}),await K0e(t.swRegistration)}catch(e){throw gs.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function K0e(t){return new Promise((e,r)=>{const n=setTimeout(()=>r(new Error(`Service worker not registered after ${GQ} ms`)),GQ),s=t.installing||t.waiting;t.active?(clearTimeout(n),e()):s?s.onstatechange=a=>{var o;((o=a.target)===null||o===void 0?void 0:o.state)==="activated"&&(s.onstatechange=null,clearTimeout(n),e())}:(clearTimeout(n),r(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z0e(t,e){if(!e&&!t.swRegistration&&await V0e(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw gs.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G0e(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=hW)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vW(t,e){if(!navigator)throw gs.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw gs.create("permission-blocked");return await G0e(t,e==null?void 0:e.vapidKey),await z0e(t,e==null?void 0:e.serviceWorkerRegistration),O0e(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W0e(t,e,r){const n=q0e(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[fW],message_name:r[y0e],message_time:r[x0e],message_device_time:Math.floor(Date.now()/1e3)})}function q0e(t){switch(t){case Lv.NOTIFICATION_CLICKED:return"notification_open";case Lv.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X0e(t,e){const r=e.data;if(!r.isFirebaseMessaging)return;t.onMessageHandler&&r.messageType===Lv.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(JQ(r)):t.onMessageHandler.next(JQ(r)));const n=r.data;L0e(n)&&n[w0e]==="1"&&await W0e(t,r.messageType,n)}const YQ="@firebase/messaging",ZQ="0.12.21";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0e=t=>{const e=new H0e(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>X0e(e,r)),e},Y0e=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:n=>vW(e,n)}};function Z0e(){fu(new Nl("messaging",J0e,"PUBLIC")),fu(new Nl("messaging-internal",Y0e,"PRIVATE")),_o(YQ,ZQ),_o(YQ,ZQ,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ewe(){try{await q7()}catch{return!1}return typeof window<"u"&&CO()&&epe()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function twe(t,e){if(!navigator)throw gs.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yW(t=ez()){return ewe().then(e=>{if(!e)throw gs.create("unsupported-browser")},e=>{throw gs.create("indexed-db-unsupported")}),$_(hu(t),"messaging").getImmediate()}async function rwe(t,e){return t=hu(t),vW(t,e)}function nwe(t,e){return t=hu(t),twe(t,e)}Z0e();const swe={apiKey:"AIzaSyBLkK6LwseUvbA6oDTQTLd2Z4MpmH7NhgQ",authDomain:"jpccoal.firebaseapp.com",projectId:"jpccoal",storageBucket:"jpccoal.firebasestorage.app",messagingSenderId:"427360291711",appId:"1:427360291711:web:90ee121cbc8cc64b8de84a",vapidKey:"BHH5-vMogiQiVgytRhYjTq6AtpObVKuZr1apoQbx9oD8zL8VywEhcXe5hooGzisOoJEVtPrWRWM6_N_Hoe3mE4U"},Pm=Z7(swe);let ib=null;try{typeof window<"u"&&"serviceWorker"in navigator?(ib=yW(Pm),console.log("Firebase messaging initialized successfully")):console.log("Firebase messaging not supported in this environment")}catch(t){console.error("Error initializing Firebase messaging:",t)}const awe=sF(Pm),iwe=async()=>{try{typeof window<"u"&&"indexedDB"in window&&await vxe(awe).then(()=>{console.log("Firestore offline persistence enabled successfully")}).catch(t=>{t.code==="failed-precondition"?console.log("Firebase persistence not enabled: Multiple tabs open"):t.code==="unimplemented"?console.log("Firebase persistence not available in this browser"):console.error("Error initializing Firebase persistence:",t)})}catch(t){console.error("Error setting up Firestore persistence:",t)}};iwe().catch(t=>{console.error("Failed to initialize Firestore:",t)});const xW=()=>typeof window<"u"&&"Notification"in window&&"serviceWorker"in navigator&&"PushManager"in window,WE=async()=>{try{if(!xW())return console.log("This browser does not support notifications - likely a mobile device without notification support"),null;if(!("serviceWorker"in navigator))return console.log("Service workers not supported in this browser, FCM token cannot be generated"),null;if(!Pm||!ib)return console.error("Firebase not properly initialized"),null;if(Notification.permission!=="granted"){if(console.log("Requesting notification permission from user..."),await Notification.requestPermission()!=="granted")return console.log("User denied notification permission"),null;console.log("Notification permission granted by user")}try{await navigator.serviceWorker.getRegistration("/firebase-messaging-sw.js")||(console.log("Firebase messaging service worker not registered, attempting to register now"),await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/"}),console.log("Firebase messaging service worker registered"))}catch(t){console.error("Error registering service worker:",t)}console.log("Generating FCM token with VAPID key...");try{if(!ib)return console.error("Cannot get FCM token: Firebase messaging not initialized"),null;const t=await rwe(ib,{vapidKey:"BHH5-vMogiQiVgytRhYjTq6AtpObVKuZr1apoQbx9oD8zL8VywEhcXe5hooGzisOoJEVtPrWRWM6_N_Hoe3mE4U"});if(t){console.log("FCM token generated successfully:",t.substring(0,10)+"..."+t.substring(t.length-5));try{localStorage.setItem("fcm_token",t),localStorage.setItem("fcm_token_timestamp",new Date().toISOString())}catch(e){console.warn("Could not store FCM token in localStorage:",e)}return t}else{console.warn("Firebase returned empty token");const e=localStorage.getItem("fcm_token");return e?(console.log("Using previously stored FCM token from localStorage"),e):null}}catch(t){console.error("Error during FCM token generation:",t);const e=localStorage.getItem("fcm_token");return e?(console.log("Using previously stored FCM token from localStorage after error"),e):null}}catch(t){return console.error("Unexpected error in requestFCMToken:",t),null}};function wW(t,e){return function(){return t.apply(e,arguments)}}const{toString:owe}=Object.prototype,{getPrototypeOf:hF}=Object,{iterator:cC,toStringTag:bW}=Symbol,uC=(t=>e=>{const r=owe.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ki=t=>(t=t.toLowerCase(),e=>uC(e)===t),AC=t=>e=>typeof e===t,{isArray:Om}=Array,Hv=AC("undefined");function lwe(t){return t!==null&&!Hv(t)&&t.constructor!==null&&!Hv(t.constructor)&&ta(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const jW=Ki("ArrayBuffer");function cwe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&jW(t.buffer),e}const uwe=AC("string"),ta=AC("function"),_W=AC("number"),dC=t=>t!==null&&typeof t=="object",Awe=t=>t===!0||t===!1,ob=t=>{if(uC(t)!=="object")return!1;const e=hF(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(bW in t)&&!(cC in t)},dwe=Ki("Date"),hwe=Ki("File"),fwe=Ki("Blob"),mwe=Ki("FileList"),pwe=t=>dC(t)&&ta(t.pipe),gwe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ta(t.append)&&((e=uC(t))==="formdata"||e==="object"&&ta(t.toString)&&t.toString()==="[object FormData]"))},vwe=Ki("URLSearchParams"),[ywe,xwe,wwe,bwe]=["ReadableStream","Request","Response","Headers"].map(Ki),jwe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gx(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),Om(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{const a=r?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let l;for(n=0;n<o;n++)l=a[n],e.call(null,t[l],l,t)}}function CW(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const CA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,BW=t=>!Hv(t)&&t!==CA;function wT(){const{caseless:t}=BW(this)&&this||{},e={},r=(n,s)=>{const a=t&&CW(e,s)||s;ob(e[a])&&ob(n)?e[a]=wT(e[a],n):ob(n)?e[a]=wT({},n):Om(n)?e[a]=n.slice():e[a]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&gx(arguments[n],r);return e}const _we=(t,e,r,{allOwnKeys:n}={})=>(gx(e,(s,a)=>{r&&ta(s)?t[a]=wW(s,r):t[a]=s},{allOwnKeys:n}),t),Cwe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Bwe=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Ewe=(t,e,r,n)=>{let s,a,o;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),a=s.length;a-- >0;)o=s[a],(!n||n(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=r!==!1&&hF(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Swe=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Nwe=t=>{if(!t)return null;if(Om(t))return t;let e=t.length;if(!_W(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},kwe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&hF(Uint8Array)),Twe=(t,e)=>{const n=(t&&t[cC]).call(t);let s;for(;(s=n.next())&&!s.done;){const a=s.value;e.call(t,a[0],a[1])}},Iwe=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Pwe=Ki("HTMLFormElement"),Owe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),eL=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Fwe=Ki("RegExp"),EW=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};gx(r,(s,a)=>{let o;(o=e(s,a,t))!==!1&&(n[a]=o||s)}),Object.defineProperties(t,n)},Dwe=t=>{EW(t,(e,r)=>{if(ta(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(ta(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Rwe=(t,e)=>{const r={},n=s=>{s.forEach(a=>{r[a]=!0})};return Om(t)?n(t):n(String(t).split(e)),r},Uwe=()=>{},Mwe=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Qwe(t){return!!(t&&ta(t.append)&&t[bW]==="FormData"&&t[cC])}const Lwe=t=>{const e=new Array(10),r=(n,s)=>{if(dC(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[s]=n;const a=Om(n)?[]:{};return gx(n,(o,l)=>{const c=r(o,s+1);!Hv(c)&&(a[l]=c)}),e[s]=void 0,a}}return n};return r(t,0)},$we=Ki("AsyncFunction"),Hwe=t=>t&&(dC(t)||ta(t))&&ta(t.then)&&ta(t.catch),SW=((t,e)=>t?setImmediate:e?((r,n)=>(CA.addEventListener("message",({source:s,data:a})=>{s===CA&&a===r&&n.length&&n.shift()()},!1),s=>{n.push(s),CA.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ta(CA.postMessage)),Vwe=typeof queueMicrotask<"u"?queueMicrotask.bind(CA):typeof process<"u"&&process.nextTick||SW,Kwe=t=>t!=null&&ta(t[cC]),ie={isArray:Om,isArrayBuffer:jW,isBuffer:lwe,isFormData:gwe,isArrayBufferView:cwe,isString:uwe,isNumber:_W,isBoolean:Awe,isObject:dC,isPlainObject:ob,isReadableStream:ywe,isRequest:xwe,isResponse:wwe,isHeaders:bwe,isUndefined:Hv,isDate:dwe,isFile:hwe,isBlob:fwe,isRegExp:Fwe,isFunction:ta,isStream:pwe,isURLSearchParams:vwe,isTypedArray:kwe,isFileList:mwe,forEach:gx,merge:wT,extend:_we,trim:jwe,stripBOM:Cwe,inherits:Bwe,toFlatObject:Ewe,kindOf:uC,kindOfTest:Ki,endsWith:Swe,toArray:Nwe,forEachEntry:Twe,matchAll:Iwe,isHTMLForm:Pwe,hasOwnProperty:eL,hasOwnProp:eL,reduceDescriptors:EW,freezeMethods:Dwe,toObjectSet:Rwe,toCamelCase:Owe,noop:Uwe,toFiniteNumber:Mwe,findKey:CW,global:CA,isContextDefined:BW,isSpecCompliantForm:Qwe,toJSONObject:Lwe,isAsyncFn:$we,isThenable:Hwe,setImmediate:SW,asap:Vwe,isIterable:Kwe};function wt(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}ie.inherits(wt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ie.toJSONObject(this.config),code:this.code,status:this.status}}});const NW=wt.prototype,kW={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{kW[t]={value:t}});Object.defineProperties(wt,kW);Object.defineProperty(NW,"isAxiosError",{value:!0});wt.from=(t,e,r,n,s,a)=>{const o=Object.create(NW);return ie.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),wt.call(o,t.message,e,r,n,s),o.cause=t,o.name=t.name,a&&Object.assign(o,a),o};const zwe=null;function bT(t){return ie.isPlainObject(t)||ie.isArray(t)}function TW(t){return ie.endsWith(t,"[]")?t.slice(0,-2):t}function tL(t,e,r){return t?t.concat(e).map(function(s,a){return s=TW(s),!r&&a?"["+s+"]":s}).join(r?".":""):e}function Gwe(t){return ie.isArray(t)&&!t.some(bT)}const Wwe=ie.toFlatObject(ie,{},null,function(e){return/^is[A-Z]/.test(e)});function hC(t,e,r){if(!ie.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=ie.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,g){return!ie.isUndefined(g[p])});const n=r.metaTokens,s=r.visitor||A,a=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&ie.isSpecCompliantForm(e);if(!ie.isFunction(s))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(ie.isDate(m))return m.toISOString();if(!c&&ie.isBlob(m))throw new wt("Blob is not supported. Use a Buffer instead.");return ie.isArrayBuffer(m)||ie.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function A(m,p,g){let y=m;if(m&&!g&&typeof m=="object"){if(ie.endsWith(p,"{}"))p=n?p:p.slice(0,-2),m=JSON.stringify(m);else if(ie.isArray(m)&&Gwe(m)||(ie.isFileList(m)||ie.endsWith(p,"[]"))&&(y=ie.toArray(m)))return p=TW(p),y.forEach(function(b,j){!(ie.isUndefined(b)||b===null)&&e.append(o===!0?tL([p],j,a):o===null?p:p+"[]",u(b))}),!1}return bT(m)?!0:(e.append(tL(g,p,a),u(m)),!1)}const d=[],h=Object.assign(Wwe,{defaultVisitor:A,convertValue:u,isVisitable:bT});function f(m,p){if(!ie.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+p.join("."));d.push(m),ie.forEach(m,function(y,x){(!(ie.isUndefined(y)||y===null)&&s.call(e,y,ie.isString(x)?x.trim():x,p,h))===!0&&f(y,p?p.concat(x):[x])}),d.pop()}}if(!ie.isObject(t))throw new TypeError("data must be an object");return f(t),e}function rL(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function fF(t,e){this._pairs=[],t&&hC(t,this,e)}const IW=fF.prototype;IW.append=function(e,r){this._pairs.push([e,r])};IW.toString=function(e){const r=e?function(n){return e.call(this,n,rL)}:rL;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function qwe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function PW(t,e,r){if(!e)return t;const n=r&&r.encode||qwe;ie.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let a;if(s?a=s(e,r):a=ie.isURLSearchParams(e)?e.toString():new fF(e,r).toString(n),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class nL{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ie.forEach(this.handlers,function(n){n!==null&&e(n)})}}const OW={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Xwe=typeof URLSearchParams<"u"?URLSearchParams:fF,Jwe=typeof FormData<"u"?FormData:null,Ywe=typeof Blob<"u"?Blob:null,Zwe={isBrowser:!0,classes:{URLSearchParams:Xwe,FormData:Jwe,Blob:Ywe},protocols:["http","https","file","blob","url","data"]},mF=typeof window<"u"&&typeof document<"u",jT=typeof navigator=="object"&&navigator||void 0,ebe=mF&&(!jT||["ReactNative","NativeScript","NS"].indexOf(jT.product)<0),tbe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rbe=mF&&window.location.href||"http://localhost",nbe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mF,hasStandardBrowserEnv:ebe,hasStandardBrowserWebWorkerEnv:tbe,navigator:jT,origin:rbe},Symbol.toStringTag,{value:"Module"})),fs={...nbe,...Zwe};function sbe(t,e){return hC(t,new fs.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,a){return fs.isNode&&ie.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function abe(t){return ie.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ibe(t){const e={},r=Object.keys(t);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],e[a]=t[a];return e}function FW(t){function e(r,n,s,a){let o=r[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=r.length;return o=!o&&ie.isArray(s)?s.length:o,c?(ie.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!ie.isObject(s[o]))&&(s[o]=[]),e(r,n,s[o],a)&&ie.isArray(s[o])&&(s[o]=ibe(s[o])),!l)}if(ie.isFormData(t)&&ie.isFunction(t.entries)){const r={};return ie.forEachEntry(t,(n,s)=>{e(abe(n),s,r,0)}),r}return null}function obe(t,e,r){if(ie.isString(t))try{return(e||JSON.parse)(t),ie.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(t)}const vx={transitional:OW,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=ie.isObject(e);if(a&&ie.isHTMLForm(e)&&(e=new FormData(e)),ie.isFormData(e))return s?JSON.stringify(FW(e)):e;if(ie.isArrayBuffer(e)||ie.isBuffer(e)||ie.isStream(e)||ie.isFile(e)||ie.isBlob(e)||ie.isReadableStream(e))return e;if(ie.isArrayBufferView(e))return e.buffer;if(ie.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return sbe(e,this.formSerializer).toString();if((l=ie.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return hC(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),obe(e)):e}],transformResponse:[function(e){const r=this.transitional||vx.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(ie.isResponse(e)||ie.isReadableStream(e))return e;if(e&&ie.isString(e)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?wt.from(l,wt.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fs.classes.FormData,Blob:fs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ie.forEach(["delete","get","head","post","put","patch"],t=>{vx.headers[t]={}});const lbe=ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cbe=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||e[r]&&lbe[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},sL=Symbol("internals");function kp(t){return t&&String(t).trim().toLowerCase()}function lb(t){return t===!1||t==null?t:ie.isArray(t)?t.map(lb):String(t)}function ube(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Abe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function qE(t,e,r,n,s){if(ie.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!ie.isString(e)){if(ie.isString(n))return e.indexOf(n)!==-1;if(ie.isRegExp(n))return n.test(e)}}function dbe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function hbe(t,e){const r=ie.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,a,o){return this[n].call(this,e,s,a,o)},configurable:!0})})}class ra{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function a(l,c,u){const A=kp(c);if(!A)throw new Error("header name must be a non-empty string");const d=ie.findKey(s,A);(!d||s[d]===void 0||u===!0||u===void 0&&s[d]!==!1)&&(s[d||c]=lb(l))}const o=(l,c)=>ie.forEach(l,(u,A)=>a(u,A,c));if(ie.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(ie.isString(e)&&(e=e.trim())&&!Abe(e))o(cbe(e),r);else if(ie.isObject(e)&&ie.isIterable(e)){let l={},c,u;for(const A of e){if(!ie.isArray(A))throw TypeError("Object iterator must return a key-value pair");l[u=A[0]]=(c=l[u])?ie.isArray(c)?[...c,A[1]]:[c,A[1]]:A[1]}o(l,r)}else e!=null&&a(r,e,n);return this}get(e,r){if(e=kp(e),e){const n=ie.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return ube(s);if(ie.isFunction(r))return r.call(this,s,n);if(ie.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=kp(e),e){const n=ie.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||qE(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function a(o){if(o=kp(o),o){const l=ie.findKey(n,o);l&&(!r||qE(n,n[l],l,r))&&(delete n[l],s=!0)}}return ie.isArray(e)?e.forEach(a):a(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const a=r[n];(!e||qE(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const r=this,n={};return ie.forEach(this,(s,a)=>{const o=ie.findKey(n,a);if(o){r[o]=lb(s),delete r[a];return}const l=e?dbe(a):String(a).trim();l!==a&&delete r[a],r[l]=lb(s),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return ie.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&ie.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[sL]=this[sL]={accessors:{}}).accessors,s=this.prototype;function a(o){const l=kp(o);n[l]||(hbe(s,o),n[l]=!0)}return ie.isArray(e)?e.forEach(a):a(e),this}}ra.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ie.reduceDescriptors(ra.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});ie.freezeMethods(ra);function XE(t,e){const r=this||vx,n=e||r,s=ra.from(n.headers);let a=n.data;return ie.forEach(t,function(l){a=l.call(r,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function DW(t){return!!(t&&t.__CANCEL__)}function Fm(t,e,r){wt.call(this,t??"canceled",wt.ERR_CANCELED,e,r),this.name="CanceledError"}ie.inherits(Fm,wt,{__CANCEL__:!0});function RW(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new wt("Request failed with status code "+r.status,[wt.ERR_BAD_REQUEST,wt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function fbe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function mbe(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,a=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),A=n[a];o||(o=u),r[s]=c,n[s]=u;let d=a,h=0;for(;d!==s;)h+=r[d++],d=d%t;if(s=(s+1)%t,s===a&&(a=(a+1)%t),u-o<e)return;const f=A&&u-A;return f?Math.round(h*1e3/f):void 0}}function pbe(t,e){let r=0,n=1e3/e,s,a;const o=(u,A=Date.now())=>{r=A,s=null,a&&(clearTimeout(a),a=null),t.apply(null,u)};return[(...u)=>{const A=Date.now(),d=A-r;d>=n?o(u,A):(s=u,a||(a=setTimeout(()=>{a=null,o(s)},n-d)))},()=>s&&o(s)]}const _1=(t,e,r=3)=>{let n=0;const s=mbe(50,250);return pbe(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-n,u=s(c),A=o<=l;n=o;const d={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&A?(l-o)/u:void 0,event:a,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(d)},r)},aL=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},iL=t=>(...e)=>ie.asap(()=>t(...e)),gbe=fs.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,fs.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(fs.origin),fs.navigator&&/(msie|trident)/i.test(fs.navigator.userAgent)):()=>!0,vbe=fs.hasStandardBrowserEnv?{write(t,e,r,n,s,a){const o=[t+"="+encodeURIComponent(e)];ie.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),ie.isString(n)&&o.push("path="+n),ie.isString(s)&&o.push("domain="+s),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ybe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function xbe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function UW(t,e,r){let n=!ybe(e);return t&&(n||r==!1)?xbe(t,e):e}const oL=t=>t instanceof ra?{...t}:t;function dd(t,e){e=e||{};const r={};function n(u,A,d,h){return ie.isPlainObject(u)&&ie.isPlainObject(A)?ie.merge.call({caseless:h},u,A):ie.isPlainObject(A)?ie.merge({},A):ie.isArray(A)?A.slice():A}function s(u,A,d,h){if(ie.isUndefined(A)){if(!ie.isUndefined(u))return n(void 0,u,d,h)}else return n(u,A,d,h)}function a(u,A){if(!ie.isUndefined(A))return n(void 0,A)}function o(u,A){if(ie.isUndefined(A)){if(!ie.isUndefined(u))return n(void 0,u)}else return n(void 0,A)}function l(u,A,d){if(d in e)return n(u,A);if(d in t)return n(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,A,d)=>s(oL(u),oL(A),d,!0)};return ie.forEach(Object.keys(Object.assign({},t,e)),function(A){const d=c[A]||s,h=d(t[A],e[A],A);ie.isUndefined(h)&&d!==l||(r[A]=h)}),r}const MW=t=>{const e=dd({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:l}=e;e.headers=o=ra.from(o),e.url=PW(UW(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(ie.isFormData(r)){if(fs.hasStandardBrowserEnv||fs.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...A]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...A].join("; "))}}if(fs.hasStandardBrowserEnv&&(n&&ie.isFunction(n)&&(n=n(e)),n||n!==!1&&gbe(e.url))){const u=s&&a&&vbe.read(a);u&&o.set(s,u)}return e},wbe=typeof XMLHttpRequest<"u",bbe=wbe&&function(t){return new Promise(function(r,n){const s=MW(t);let a=s.data;const o=ra.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,A,d,h,f,m;function p(){f&&f(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(A),s.signal&&s.signal.removeEventListener("abort",A)}let g=new XMLHttpRequest;g.open(s.method.toUpperCase(),s.url,!0),g.timeout=s.timeout;function y(){if(!g)return;const b=ra.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:b,config:t,request:g};RW(function(_){r(_),p()},function(_){n(_),p()},C),g=null}"onloadend"in g?g.onloadend=y:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(y)},g.onabort=function(){g&&(n(new wt("Request aborted",wt.ECONNABORTED,t,g)),g=null)},g.onerror=function(){n(new wt("Network Error",wt.ERR_NETWORK,t,g)),g=null},g.ontimeout=function(){let j=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const C=s.transitional||OW;s.timeoutErrorMessage&&(j=s.timeoutErrorMessage),n(new wt(j,C.clarifyTimeoutError?wt.ETIMEDOUT:wt.ECONNABORTED,t,g)),g=null},a===void 0&&o.setContentType(null),"setRequestHeader"in g&&ie.forEach(o.toJSON(),function(j,C){g.setRequestHeader(C,j)}),ie.isUndefined(s.withCredentials)||(g.withCredentials=!!s.withCredentials),l&&l!=="json"&&(g.responseType=s.responseType),u&&([h,m]=_1(u,!0),g.addEventListener("progress",h)),c&&g.upload&&([d,f]=_1(c),g.upload.addEventListener("progress",d),g.upload.addEventListener("loadend",f)),(s.cancelToken||s.signal)&&(A=b=>{g&&(n(!b||b.type?new Fm(null,t,g):b),g.abort(),g=null)},s.cancelToken&&s.cancelToken.subscribe(A),s.signal&&(s.signal.aborted?A():s.signal.addEventListener("abort",A)));const x=fbe(s.url);if(x&&fs.protocols.indexOf(x)===-1){n(new wt("Unsupported protocol "+x+":",wt.ERR_BAD_REQUEST,t));return}g.send(a||null)})},jbe=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,s;const a=function(u){if(!s){s=!0,l();const A=u instanceof Error?u:this.reason;n.abort(A instanceof wt?A:new Fm(A instanceof Error?A.message:A))}};let o=e&&setTimeout(()=>{o=null,a(new wt(`timeout ${e} of ms exceeded`,wt.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),t=null)};t.forEach(u=>u.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>ie.asap(l),c}},_be=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},Cbe=async function*(t,e){for await(const r of Bbe(t))yield*_be(r,e)},Bbe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},lL=(t,e,r,n)=>{const s=Cbe(t,e);let a=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:A}=await s.next();if(u){l(),c.close();return}let d=A.byteLength;if(r){let h=a+=d;r(h)}c.enqueue(new Uint8Array(A))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},fC=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",QW=fC&&typeof ReadableStream=="function",Ebe=fC&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),LW=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Sbe=QW&&LW(()=>{let t=!1;const e=new Request(fs.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),cL=64*1024,_T=QW&&LW(()=>ie.isReadableStream(new Response("").body)),C1={stream:_T&&(t=>t.body)};fC&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!C1[e]&&(C1[e]=ie.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new wt(`Response type '${e}' is not supported`,wt.ERR_NOT_SUPPORT,n)})})})(new Response);const Nbe=async t=>{if(t==null)return 0;if(ie.isBlob(t))return t.size;if(ie.isSpecCompliantForm(t))return(await new Request(fs.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ie.isArrayBufferView(t)||ie.isArrayBuffer(t))return t.byteLength;if(ie.isURLSearchParams(t)&&(t=t+""),ie.isString(t))return(await Ebe(t)).byteLength},kbe=async(t,e)=>{const r=ie.toFiniteNumber(t.getContentLength());return r??Nbe(e)},Tbe=fC&&(async t=>{let{url:e,method:r,data:n,signal:s,cancelToken:a,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:A,withCredentials:d="same-origin",fetchOptions:h}=MW(t);u=u?(u+"").toLowerCase():"text";let f=jbe([s,a&&a.toAbortSignal()],o),m;const p=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let g;try{if(c&&Sbe&&r!=="get"&&r!=="head"&&(g=await kbe(A,n))!==0){let C=new Request(e,{method:"POST",body:n,duplex:"half"}),E;if(ie.isFormData(n)&&(E=C.headers.get("content-type"))&&A.setContentType(E),C.body){const[_,B]=aL(g,_1(iL(c)));n=lL(C.body,cL,_,B)}}ie.isString(d)||(d=d?"include":"omit");const y="credentials"in Request.prototype;m=new Request(e,{...h,signal:f,method:r.toUpperCase(),headers:A.normalize().toJSON(),body:n,duplex:"half",credentials:y?d:void 0});let x=await fetch(m);const b=_T&&(u==="stream"||u==="response");if(_T&&(l||b&&p)){const C={};["status","statusText","headers"].forEach(S=>{C[S]=x[S]});const E=ie.toFiniteNumber(x.headers.get("content-length")),[_,B]=l&&aL(E,_1(iL(l),!0))||[];x=new Response(lL(x.body,cL,_,()=>{B&&B(),p&&p()}),C)}u=u||"text";let j=await C1[ie.findKey(C1,u)||"text"](x,t);return!b&&p&&p(),await new Promise((C,E)=>{RW(C,E,{data:j,headers:ra.from(x.headers),status:x.status,statusText:x.statusText,config:t,request:m})})}catch(y){throw p&&p(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new wt("Network Error",wt.ERR_NETWORK,t,m),{cause:y.cause||y}):wt.from(y,y&&y.code,t,m)}}),CT={http:zwe,xhr:bbe,fetch:Tbe};ie.forEach(CT,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const uL=t=>`- ${t}`,Ibe=t=>ie.isFunction(t)||t===null||t===!1,$W={getAdapter:t=>{t=ie.isArray(t)?t:[t];const{length:e}=t;let r,n;const s={};for(let a=0;a<e;a++){r=t[a];let o;if(n=r,!Ibe(r)&&(n=CT[(o=String(r)).toLowerCase()],n===void 0))throw new wt(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+a]=n}if(!n){const a=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?a.length>1?`since :
`+a.map(uL).join(`
`):" "+uL(a[0]):"as no adapter specified";throw new wt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:CT};function JE(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Fm(null,t)}function AL(t){return JE(t),t.headers=ra.from(t.headers),t.data=XE.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),$W.getAdapter(t.adapter||vx.adapter)(t).then(function(n){return JE(t),n.data=XE.call(t,t.transformResponse,n),n.headers=ra.from(n.headers),n},function(n){return DW(n)||(JE(t),n&&n.response&&(n.response.data=XE.call(t,t.transformResponse,n.response),n.response.headers=ra.from(n.response.headers))),Promise.reject(n)})}const HW="1.9.0",mC={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{mC[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const dL={};mC.transitional=function(e,r,n){function s(a,o){return"[Axios v"+HW+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,l)=>{if(e===!1)throw new wt(s(o," has been removed"+(r?" in "+r:"")),wt.ERR_DEPRECATED);return r&&!dL[o]&&(dL[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,l):!0}};mC.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Pbe(t,e,r){if(typeof t!="object")throw new wt("options must be an object",wt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const a=n[s],o=e[a];if(o){const l=t[a],c=l===void 0||o(l,a,t);if(c!==!0)throw new wt("option "+a+" must be "+c,wt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new wt("Unknown option "+a,wt.ERR_BAD_OPTION)}}const cb={assertOptions:Pbe,validators:mC},eo=cb.validators;class HA{constructor(e){this.defaults=e||{},this.interceptors={request:new nL,response:new nL}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=dd(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&cb.assertOptions(n,{silentJSONParsing:eo.transitional(eo.boolean),forcedJSONParsing:eo.transitional(eo.boolean),clarifyTimeoutError:eo.transitional(eo.boolean)},!1),s!=null&&(ie.isFunction(s)?r.paramsSerializer={serialize:s}:cb.assertOptions(s,{encode:eo.function,serialize:eo.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),cb.assertOptions(r,{baseUrl:eo.spelling("baseURL"),withXsrfToken:eo.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&ie.merge(a.common,a[r.method]);a&&ie.forEach(["delete","get","head","post","put","patch","common"],m=>{delete a[m]}),r.headers=ra.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let A,d=0,h;if(!c){const m=[AL.bind(this),void 0];for(m.unshift.apply(m,l),m.push.apply(m,u),h=m.length,A=Promise.resolve(r);d<h;)A=A.then(m[d++],m[d++]);return A}h=l.length;let f=r;for(d=0;d<h;){const m=l[d++],p=l[d++];try{f=m(f)}catch(g){p.call(this,g);break}}try{A=AL.call(this,f)}catch(m){return Promise.reject(m)}for(d=0,h=u.length;d<h;)A=A.then(u[d++],u[d++]);return A}getUri(e){e=dd(this.defaults,e);const r=UW(e.baseURL,e.url,e.allowAbsoluteUrls);return PW(r,e.params,e.paramsSerializer)}}ie.forEach(["delete","get","head","options"],function(e){HA.prototype[e]=function(r,n){return this.request(dd(n||{},{method:e,url:r,data:(n||{}).data}))}});ie.forEach(["post","put","patch"],function(e){function r(n){return function(a,o,l){return this.request(dd(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}HA.prototype[e]=r(),HA.prototype[e+"Form"]=r(!0)});class pF{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const o=new Promise(l=>{n.subscribe(l),a=l}).then(s);return o.cancel=function(){n.unsubscribe(a)},o},e(function(a,o,l){n.reason||(n.reason=new Fm(a,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new pF(function(s){e=s}),cancel:e}}}function Obe(t){return function(r){return t.apply(null,r)}}function Fbe(t){return ie.isObject(t)&&t.isAxiosError===!0}const BT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(BT).forEach(([t,e])=>{BT[e]=t});function VW(t){const e=new HA(t),r=wW(HA.prototype.request,e);return ie.extend(r,HA.prototype,e,{allOwnKeys:!0}),ie.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return VW(dd(t,s))},r}const gr=VW(vx);gr.Axios=HA;gr.CanceledError=Fm;gr.CancelToken=pF;gr.isCancel=DW;gr.VERSION=HW;gr.toFormData=hC;gr.AxiosError=wt;gr.Cancel=gr.CanceledError;gr.all=function(e){return Promise.all(e)};gr.spread=Obe;gr.isAxiosError=Fbe;gr.mergeConfig=dd;gr.AxiosHeaders=ra;gr.formToJSON=t=>FW(ie.isHTMLForm(t)?new FormData(t):t);gr.getAdapter=$W.getAdapter;gr.HttpStatusCode=BT;gr.default=gr;const YE=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),Dbe=t=>t==="bank-transfer"?"Transfer Bank":t==="cash-on-delivery"?"Bayar di Tempat (COD)":t==="e-wallet"?"E-Wallet":t==="qris"?"QRIS":t==="credit-card"?"Kartu Kredit":t,Rbe=(t,e,r,n,s,a)=>{const o=t.id.substring(0,8),l=t.created_at?new Date(t.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):new Date().toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),c=t.status==="pending"?"Menunggu Pembayaran":t.status==="processing"?"Diproses":t.status==="shipped"?"Dikirim":t.status==="completed"?"Selesai":t.status||"Menunggu",u=a||{provider:t.shipping_provider||"JPC Delivery",service:t.shipping_service||"Reguler",cost:t.shipping_cost||0,estimate:t.shipping_estimate||"1-3 Hari"};if(Array.isArray(s)&&s.length>0){const h=Math.min(s.length,3);s.slice(0,h).map((f,m)=>`${m+1}. ${f.product_name||"Produk"} (${f.quantity||1}x)`).join(`
`),s.length-h}const A=n?`${n.street?n.street.substring(0,25)+(n.street.length>25?"...":""):"N/A"}${n.district?", "+n.district:""}`:"Alamat tidak tersedia";let d="Produk tidak tersedia";if(Array.isArray(s)&&s.length>0){const h=Math.min(s.length,3),f=s.slice(0,h).map((g,y)=>`${y+1}. ${g.product_name||"Produk"} (${g.quantity||1}x) - ${YE(g.price||0)}`).join(`
`),m=s.length-h,p=m>0?`+${m} item lainnya`:"";d=f+(p?`
${p}`:"")}return` *PESANAN BERHASIL DIBUAT* 

Halo ${(e==null?void 0:e.name)||"Pelanggan"}!

*DETAIL PESANAN*
ID: #${o}
Tanggal: ${l}
Status: ${c}

*PRODUK YANG DIPESAN*
${d}

*PENGIRIMAN*
Alamat: ${A}
Kurir: ${u.provider||"JPC Delivery"}
Layanan: ${u.service||"Reguler"}
Ongkir: ${YE(u.cost||0)}
Estimasi: ${u.estimate||"1-3 Hari"}

*PEMBAYARAN*
Total: ${YE(t.total)}
Metode: ${Dbe(t.payment_method||"N/A")}
${t.payment_method==="bank-transfer"?`Bank: ${(r==null?void 0:r.bank_name)||"SeaBank"}
Rek: ${(r==null?void 0:r.account_number)||"901958730549"}
`:""}
*INFO*: Hubungi 0813-9458-6882
*JAYA PERKASA CHARCOAL* `},Tp="caa6aa7f-8086-4920-899d-4ac498a62eea",L0="dAUtf7zkmSDKTTZdAXb48oE29tB9NIWkldd3tr90ucGedWCPu3",Ube="",KW=["0895385500396","081394586882"],ET=["https://app.wapanels.com/api/create-message"],ml={};ET.forEach(t=>{ml[t]={healthy:!0,lastChecked:0}});const ZE=t=>{ml[t]&&(ml[t].healthy=!1,ml[t].lastChecked=Date.now(),console.log(`Marked WhatsApp API endpoint as unhealthy: ${t}`))},hL=t=>{ml[t]&&(ml[t].healthy=!0,ml[t].lastChecked=Date.now())},Mbe=()=>KW,yx=async(t,e)=>{try{if(!t||!e)return console.error("WhatsApp API error: Missing required parameters (phone number or message)"),!1;e.length>4096&&(console.error("WhatsApp API error: Message too long, maximum length is 4096 characters"),console.log(`Message length: ${e.length} characters, truncating to 4096`),e=e.substring(0,4096));let r=t.replace(/\D/g,"");if(r.startsWith("0")?r="62"+r.substring(1):r.startsWith("62")||(r="62"+r),r.length<10)return console.error(`WhatsApp API error: Phone number too short after formatting: ${r}`),!1;console.log(`Sending WhatsApp to formatted number: ${r}`);for(const n of ET)if(!(!ml[n].healthy&&ET.some(s=>ml[s].healthy)))try{let s,a={"Content-Type":"application/json",Accept:"application/json"};n.includes("fonnte.com")?(a={Authorization:Tp,"Content-Type":"application/json"},s={target:r,message:e,countryCode:"62",delay:0}):n.includes("/create-message")?s={appkey:Tp,authkey:L0,to:r,message:e,template_id:"",priority:"high",repeat:1}:n.includes("/send")?s={appkey:Tp,authkey:L0,to:r,message:e,template_id:""}:s={appkey:Tp,authkey:L0,to:r,message:e,template_id:"",type:"text"},console.log(`Trying WhatsApp API endpoint: ${n.split("/").slice(-2).join("/")}`),console.log(`WhatsApp API request to ${n.split("/").slice(-2).join("/")} with phone ${r} (${e.length} chars)`);const o=await gr.post(n,s,{headers:a,timeout:15e3});if(o.data&&o.status>=200&&o.status<300){console.log("WhatsApp API Response:",o.data);const c=o.data.status==="success"||o.data.success===!0||o.data.error===!1||o.data.message_status==="Success"||o.data.status==="sent"||o.data.result==="success"||o.data.data&&(o.data.data.status==="success"||o.data.data.status_code===200||o.data.data.result==="success")||o.data.message_id||o.data.id||o.data.data&&(o.data.data.message_id||o.data.data.id),u=o.data.message==="Validation errors"||o.data.status==="validation_error"||o.data.errors&&Object.keys(o.data.errors).length>0;if(c)return hL(n),console.log(` WhatsApp message sent successfully via ${n.split("/").slice(-2).join("/")}`),!0;if(u&&(console.error("WhatsApp API validation error:",o.data),o.data.errors&&console.error("Validation details:",JSON.stringify(o.data.errors)),o.data.data&&o.data.data.message&&console.error("Error message:",o.data.data.message),n.includes("/create-message")))try{console.log("Trying alternate payload format for create-message endpoint");const A={appkey:Tp,authkey:L0,to:r,message:e},d=await gr.post(n,A,{headers:a,timeout:15e3});if(d.data&&d.status>=200&&d.status<300&&d.data.success===!0)return console.log(" WhatsApp message sent successfully via alternate payload format"),hL(n),!0}catch(A){console.error("Alternate payload also failed:",A)}}console.warn(`WhatsApp API endpoint ${n} returned non-success data:`,o.data),(o.data.message==="Validation errors"||o.data.error==="invalid_key"||o.data.status==="error")&&(console.error(`Marking endpoint ${n} as unhealthy due to validation/auth errors`),ZE(n))}catch(s){if(s.response){const a=s.response.status;console.error(`WhatsApp API error (HTTP ${a}) with endpoint ${n}:`,{data:s.response.data,status:a}),a===404||a===401||a===403?(console.error(`Endpoint ${n} not found (404). Marking as unhealthy.`),ZE(n)):a===400?(console.error(`Validation error with endpoint ${n}. Will try other formats.`),ZE(n)):(a===401||a===403)&&console.error("WhatsApp API authentication failed. Check your API credentials.")}else s.request?console.error(`Network error with endpoint ${n}:`,s.message):console.error(`Error with endpoint ${n}:`,s.message)}return console.error("All WhatsApp API endpoints failed. Message not sent."),!1}catch(r){return console.error("Unexpected error in WhatsApp API service:",r.message),!1}},eS=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),Qbe=async(t,e,r,n,s,a)=>{try{if(!(e!=null&&e.phone))return console.error("Cannot send WhatsApp notification: Customer phone number missing"),!1;console.log(" Starting WhatsApp notifications with complete order data"),console.log("Order:",{id:t==null?void 0:t.id,total:t==null?void 0:t.total,status:t==null?void 0:t.status}),console.log("Items received:",n),console.log("Address received:",r);let o=[];Array.isArray(n)&&n.length>0?(o=n.map(f=>({product_name:f.product_name||"Produk",price:f.price||0,quantity:f.quantity||1,variant:f.variant||"",unit:f.unit||"",product_id:f.product_id||""})),console.log(` Order items valid: ${o.length} items found`)):(console.warn(" No valid order items found, creating dummy item for notification"),o=[{product_name:"Pesanan Anda",price:t.total||0,quantity:1,variant:"",unit:"",product_id:""}]),o.length>0&&console.log("First item sample:",{name:o[0].product_name,price:o[0].price,qty:o[0].quantity});const l={street:(r==null?void 0:r.street)||"Alamat tidak tersedia",district:(r==null?void 0:r.district)||"",city:(r==null?void 0:r.city)||"Kota tidak tersedia",province:(r==null?void 0:r.province)||"Provinsi tidak tersedia",postal_code:(r==null?void 0:r.postal_code)||"",notes:(r==null?void 0:r.notes)||"",recipient_name:(r==null?void 0:r.recipient_name)||(e==null?void 0:e.name)||"Pelanggan",recipient_phone:(r==null?void 0:r.recipient_phone)||(e==null?void 0:e.phone)||""};console.log("Normalized address data:",{street:l.street.substring(0,15)+"...",district:l.district,city:l.city,province:l.province});const c=s||{provider:t.shipping_provider||"JPC Delivery",service:t.shipping_service||"Reguler",cost:t.shipping_cost||0,estimate:t.shipping_estimate||"1-3 Hari"},u=a||{name:"Transfer Bank",bank_name:"SeaBank",account_number:"901958730549",account_name:"Jaya Perkasa Charcoal"};console.log("Membuat pesan terformat dengan detail lengkap...");let A="";const d=Rbe(t,e,u,l,o,c);if(console.log(`Pesan ringkas dibuat: ${d.length} karakter`),console.log("Detail items dalam pesan:",o.map(f=>`${f.product_name} (${f.quantity}x)`)),console.log(`Panjang pesan ringkas: ${d.length} karakter`),d.length>1e3){console.error(`Bahkan pesan ringkas masih terlalu panjang (${d.length} karakter)`);const f=t.status==="pending"?"Menunggu Pembayaran":t.status==="processing"?"Diproses":t.status==="shipped"?"Dikirim":t.status==="completed"?"Selesai":t.status||"Menunggu";let m="Produk tidak tersedia";if(Array.isArray(o)&&o.length>0){const g=o[0];m=`${g.product_name||"Produk"} (${g.quantity||1}x)`,o.length>1&&(m+=` +${o.length-1} item lainnya`)}let p="";if(Array.isArray(o)&&o.length>0){const g=Math.min(o.length,3);for(let y=0;y<g;y++){const x=o[y];p+=`${y+1}. ${x.product_name||"Produk"} (${x.quantity||1}x) - ${eS(x.price||0)}
`}o.length>g&&(p+=`+${o.length-g} item lainnya
`)}else p=`Produk tidak tersedia
`;A=` *PESANAN BERHASIL* 

Halo ${(e==null?void 0:e.name)||"Pelanggan"}!

*DETAIL PESANAN*
ID: #${t.id.substring(0,8)}
Status: ${f}

*PRODUK YANG DIPESAN*
${p}
*PENGIRIMAN*
Kurir: ${c.provider||"JPC Delivery"}
Layanan: ${c.service||"Reguler"}
Ongkos Kirim: ${eS(c.cost||0)}
Estimasi: ${c.estimate||"1-3 Hari"}

*PEMBAYARAN*
Total: ${eS(t.total)}

*HUBUNGI*: 0813-9458-6882
*JAYA PERKASA CHARCOAL*`,console.log(`Panjang pesan darurat: ${A.length} karakter`)}else A=d;console.log(`Pesan final: ${A.length} karakter`),console.log("Konten pesan WhatsApp (awal):",A.substring(0,100)+"..."),console.log("Mengirim pesan WhatsApp ke:",e.phone);const h=await yx(e.phone,A);return console.log(h?" WhatsApp notification berhasil dikirim ke pelanggan":" Gagal mengirim WhatsApp notification ke pelanggan"),h}catch(o){return console.error("Error sending customer order notification:",o),!1}},Lbe=async(t,e,r,n,s,a)=>{console.log("Sending WhatsApp notification to admin with shipping cost:",t==null?void 0:t.shipping_cost);try{const o=t.created_at?new Date(t.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})+" pukul "+new Date(t.created_at).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})+" pukul "+new Date().toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),l=j=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(j).replace("Rp","Rp "),c=Array.isArray(n)?n:[],u=c.reduce((j,C)=>j+(C.price||0)*(C.quantity||0),0),A=c.map((j,C)=>{const E=j.price||0,_=j.quantity||1,B=E*_;return`${C+1}. ${j.product_name||"Produk"} (${_}x) - ${l(B)}`}).join(`
`),d=s||{provider:t.shipping_provider||"JPC Delivery",service:t.shipping_service||"Reguler",estimate:t.shipping_estimate||"1-3 Jam",cost:t.shipping_cost||0},h=t.shipping_cost||d.cost||0;console.log("Admin notification - shipping cost:",h);const f=t.discount_data||{},m=f&&(f.value>0||f.code),p=m?f.type==="percentage"?`${f.value}%`:l(f.value||0):"0",g=(r==null?void 0:r.recipient_name)||(e==null?void 0:e.name)||"N/A",y=(r==null?void 0:r.recipient_phone)||(e==null?void 0:e.phone)||"N/A",x=` PESANAN BARU 

ID Pesanan: #${t.id}
Tanggal: ${o}
Status: ${t.status||"pending"}

DATA PELANGGAN
Nama: ${(e==null?void 0:e.name)||"Pelanggan"}
No. HP: ${(e==null?void 0:e.phone)||"N/A"}
Email: ${(e==null?void 0:e.email)||"N/A"}

DETAIL PENERIMA
Nama Penerima: ${g}
No. HP Penerima: ${y}

ALAMAT PENGIRIMAN
${(r==null?void 0:r.street)||"N/A"}
${r!=null&&r.district?r.district+", ":""}${(r==null?void 0:r.city)||"N/A"}
${(r==null?void 0:r.province)||"N/A"} ${(r==null?void 0:r.postal_code)||""}
Catatan: ${(r==null?void 0:r.notes)||"-"}

INFORMASI PENGIRIMAN
Kurir: ${d.provider||t.shipping_provider||"JPC Delivery"}
Layanan: ${d.service||t.shipping_service||"Reguler"}
Ongkos Kirim: ${l(h)}
Estimasi: ${d.estimate||t.shipping_estimate||"1-3 Jam"}
Detail Alamat: ${(r==null?void 0:r.country)||""}

DETAIL PESANAN
${A}

RINGKASAN PEMBAYARAN
Subtotal Produk: ${l(u)}
${m?`Diskon${f.code?" ("+f.code+")":""}: -${p}
`:""}Ongkos Kirim: ${l(h)}
Total Pembayaran: ${l(t.total)}

INFORMASI PEMBAYARAN
Metode: ${$be(t.payment_method||"N/A")}
Status Pembayaran: ${t.payment_status||"Belum dibayar"}
${t.payment_method==="bank-transfer"?`Bank: ${(a==null?void 0:a.bank_name)||"SeaBank"}
No. Rekening: ${(a==null?void 0:a.account_number)||"901958730549"}
a.n: ${(a==null?void 0:a.account_name)||"Jaya Perkasa Charcoal"}
`:""}
Terima kasih telah berbelanja di JPC!
Untuk informasi lebih lanjut, silakan hubungi kami.

PERHATIAN: Pesanan baru memerlukan persetujuan Anda. Silakan buka dashboard admin untuk memprosesnya.`;let b=0;for(const j of KW)try{b>0&&await new Promise(E=>setTimeout(E,1e3)),await yx(j,x)&&(b++,console.log(` WhatsApp notification sent to admin: ${j}`))}catch(C){console.error(`Error sending WhatsApp to admin ${j}:`,C)}return b>0}catch(o){return console.error("Error sending admin notifications:",o),!1}},$be=t=>t==="bank-transfer"?"Transfer Bank":t==="cash-on-delivery"?"Bayar di Tempat (COD)":t==="e-wallet"?"E-Wallet":t==="qris"?"QRIS":t==="credit-card"?"Kartu Kredit":t,zW=yx,GW=async t=>{try{console.log("Starting admin notification via WhatsApp (Firebase disabled)");try{const e=t.shipping_method_id||"",{data:r}=await J.from("shipping_methods").select("*").eq("id",e).single(),{data:n}=await J.from("profiles").select("name, phone, email").eq("id",t.user_id).single(),{data:s}=await J.from("order_items").select("*").eq("order_id",t.id),{data:a}=await J.from("addresses").select("*").eq("id",t.shipping_address_id).single();let o=null;if(t.payment_method==="bank-transfer"&&t.payment_details)try{o=typeof t.payment_details=="string"?JSON.parse(t.payment_details):t.payment_details}catch{o={bank_name:t.payment_details}}const l=await Lbe(t,n||{name:"Unknown Customer",phone:"N/A",email:"N/A"},a||{street:"N/A",city:"N/A"},s||[],r||{name:"Standard Shipping",cost:0},o);return console.log(`WhatsApp notification to admins: ${l?"success":"failed"}`),l}catch(e){return console.error("Error sending WhatsApp notification to admins:",e),!1}}catch(e){return console.error("Error in admin notification process:",e),!1}},tS=async(t,e)=>(console.log("FCM token storage disabled - using WhatsApp notifications only"),!1),ST=async t=>(console.log("Firebase notifications disabled - using WhatsApp notifications only"),null),WW=v.createContext(void 0);function qr(){const t=v.useContext(WW);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function Hbe({children:t}){const[e,r]=v.useState(null),[n,s]=v.useState(null),[a,o]=v.useState(null),[l,c]=v.useState(!0),[u,A]=v.useState(!1),d=async j=>{try{const{data:C,error:E}=await J.from("profiles").select("*").eq("id",j).maybeSingle();return E?(console.error("Error fetching profile:",E),null):C}catch(C){return console.error("Error in fetchProfile:",C),null}},h=async(j,C={})=>{try{let E=await d(j);if(!E){console.log("Profile not found, creating new profile for user:",j);const{data:_,error:B}=await J.from("profiles").insert({id:j,name:C.name||"",email:C.email||"",role:C.role||"customer",created_at:new Date().toISOString()}).select().single();if(B)return console.error("Error creating profile:",B),null;E=_}return E}catch(E){return console.error("Error in ensureProfileExists:",E),null}},f=async()=>{var C;if(!e)return;let j=await d(e.id);j||(j=await h(e.id,{email:e.email,name:((C=e.user_metadata)==null?void 0:C.name)||""})),j&&s(j)};v.useEffect(()=>{const{data:{subscription:j}}=J.auth.onAuthStateChange(async(C,E)=>{o(E),r((E==null?void 0:E.user)??null),E!=null&&E.user?(c(!0),setTimeout(async()=>{var B;let _=await d(E.user.id);_||(_=await h(E.user.id,{email:E.user.email,name:((B=E.user.user_metadata)==null?void 0:B.name)||""})),s(_),c(!1)},0)):(s(null),c(!1))});return J.auth.getSession().then(async({data:{session:C}})=>{var E;if(o(C),r((C==null?void 0:C.user)??null),C!=null&&C.user){let _=await d(C.user.id);if(_||(_=await h(C.user.id,{email:C.user.email,name:((E=C.user.user_metadata)==null?void 0:E.name)||""})),_)try{const B=await WE();if(B){await tS(C.user.id,B),console.log("FCM token updated for returning user:",C.user.id,"Token:",B.substring(0,10)+"..."),_.fcm_token=B;const S={userAgent:navigator.userAgent,platform:navigator.platform,vendor:navigator.vendor,timestamp:new Date().toISOString()};console.log("Device info for FCM token:",S)}}catch(B){console.error("Error generating/storing FCM token on session check:",B)}s(_)}c(!1)}),()=>{j.unsubscribe()}},[]);let m=0,p=!1;const g=async()=>{if(!e)return!1;const j=Date.now();if(j-m<5e3)return console.log("Using cached phone verification result:",p),p;try{m=j;const{data:E,error:_}=await J.from("profiles").select("is_phone_verified, phone_verified_at").eq("id",e.id).single();if(_||!E)return console.error("Error checking phone verification:",_),p=!1,A(!1),!1;const B=E.is_phone_verified===!0;return p=B,u!==B&&A(B),B}catch(E){return console.error("Error in checkPhoneVerification:",E),p=!1,A(!1),!1}},y=async(j,C)=>{try{c(!0);const{data:E,error:_}=await J.auth.signInWithPassword({email:j,password:C});if(_)throw _;if(E!=null&&E.user){const B=await d(E.user.id);if(B&&s(B),await g(),"Notification"in window&&"serviceWorker"in navigator)try{const S=await WE();S?(localStorage.setItem("fcmToken",S),await tS(E.user.id,S),n&&s(N=>N&&{...N,fcm_token:S,last_token_update:new Date().toISOString()}),console.log("FCM token updated for user on login:",E.user.id,"Token:",S.substring(0,10)+"...")):console.log("No FCM token could be generated, notifications may not work")}catch(S){console.error("Error generating/storing FCM token:",S)}}}catch(E){throw console.error("Login error:",E),c(!1),E}finally{c(!1)}},x=async(j,C,E)=>{c(!0);try{const{data:_,error:B}=await J.auth.signUp({email:C,password:E,options:{data:{name:j}}});if(B)throw B;if(_.user){await h(_.user.id,{email:C,name:j,role:"customer"});try{const S=await WE();if(S){await tS(_.user.id,S);const N={userAgent:navigator.userAgent,platform:navigator.platform,appName:navigator.appName,vendor:navigator.vendor,appVersion:navigator.appVersion,language:navigator.language,screen:{width:window.screen.width,height:window.screen.height,colorDepth:window.screen.colorDepth,pixelDepth:window.screen.pixelDepth},registrationTime:new Date().toISOString()};console.log("New user device info:",N),console.log("FCM token generated and stored for new user:",_.user.id,"Token:",S.substring(0,10)+"..."),console.log("Device info stored:",N);const P=await d(_.user.id);P&&s({...P,fcm_token:S})}}catch(S){console.error("Error generating/storing FCM token during registration:",S)}}}catch(_){throw c(!1),_}},b=async()=>{try{await J.auth.signOut()}catch(j){console.error("Error during logout:",j)}};return v.useEffect(()=>{e&&n?g():A(!1)},[e,n]),i.jsx(WW.Provider,{value:{user:e,profile:n,isLoading:l,isPhoneVerified:u,login:y,register:x,logout:b,refreshProfile:f,checkPhoneVerification:g},children:t})}const qW=v.createContext(void 0);function xx(){const t=v.useContext(qW);if(!t)throw new Error("useCart must be used within a CartProvider");return t}function Vbe({children:t}){const[e,r]=v.useState([]);v.useEffect(()=>{const u=localStorage.getItem("cart");u&&r(JSON.parse(u))},[]),v.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const n=u=>{r(A=>{const d=A.findIndex(h=>h.id===u.id);if(d>-1){const h=[...A];return h[d]={...h[d],quantity:h[d].quantity+(u.quantity||1)},h}else return[...A,{...u,quantity:u.quantity||1}]})},s=u=>{r(A=>A.filter(d=>d.id!==u))},a=(u,A)=>{if(A<=0){s(u);return}r(d=>d.map(h=>h.id===u?{...h,quantity:A}:h))},o=()=>{r([])},l=e.reduce((u,A)=>u+A.price*A.quantity,0),c=e.reduce((u,A)=>u+A.quantity,0);return i.jsx(qW.Provider,{value:{items:e,addItem:n,removeItem:s,updateQuantity:a,clearCart:o,total:l,itemCount:c},children:t})}function Kbe(){const t=Qs();return v.useEffect(()=>{t.pathname==="/"&&localStorage.getItem("whatsapp_verification_success")==="true"&&(localStorage.removeItem("whatsapp_verification_success"),setTimeout(()=>{window.location.reload()},100))},[t.pathname]),null}function Wt({children:t}){const e=Qs(),r=e.pathname.startsWith("/ppob");return i.jsxs("div",{className:"flex flex-col min-h-screen max-w-md mx-auto bg-background",children:[i.jsx("main",{className:he("flex-1 overflow-y-auto",{"pb-16 bottom-tab-height":!r}),children:t}),e.pathname==="/"&&i.jsx("div",{className:"text-center mb-2",children:i.jsx(st,{to:"/admin-login",className:"text-xs text-muted-foreground hover:text-flame-500",children:"Akses Admin"})}),!r&&i.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 max-w-md mx-auto bg-background border-t",children:i.jsxs("div",{className:"flex justify-around items-center h-16",children:[i.jsx(Ip,{to:"/",icon:i.jsx(s9,{className:"h-6 w-6"}),label:"Beranda",isActive:e.pathname==="/"}),i.jsx(Ip,{to:"/chat",icon:i.jsx(GP,{className:"h-6 w-6"}),label:"Chat",isActive:e.pathname==="/chat"}),i.jsx(Ip,{to:"/cart",icon:i.jsx(rx,{className:"h-6 w-6"}),label:"Keranjang",isActive:e.pathname==="/cart"}),i.jsx(Ip,{to:"/orders",icon:i.jsx(Bl,{className:"h-6 w-6"}),label:"Pesanan",isActive:e.pathname.includes("/order")||e.pathname==="/orders"}),i.jsx(Ip,{to:"/profile",icon:i.jsx(_f,{className:"h-6 w-6"}),label:"Profil",isActive:e.pathname==="/profile"})]})})]})}function Ip({to:t,icon:e,label:r,isActive:n}){return i.jsx(st,{to:t,className:"flex flex-col items-center justify-center w-full",children:i.jsxs("div",{className:he("flex flex-col items-center justify-center",n?"text-flame-500":"text-charcoal-400"),children:[e,i.jsx("span",{className:"text-xs mt-1",children:r})]})})}const ye=v.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:he("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ye.displayName="Card";const ot=v.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:he("flex flex-col space-y-1.5 p-6",t),...e}));ot.displayName="CardHeader";const lt=v.forwardRef(({className:t,...e},r)=>i.jsx("h3",{ref:r,className:he("text-2xl font-semibold leading-none tracking-tight",t),...e}));lt.displayName="CardTitle";const ur=v.forwardRef(({className:t,...e},r)=>i.jsx("p",{ref:r,className:he("text-sm text-muted-foreground",t),...e}));ur.displayName="CardDescription";const xe=v.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:he("p-6 pt-0",t),...e}));xe.displayName="CardContent";const Ja=v.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:he("flex items-center p-6 pt-0",t),...e}));Ja.displayName="CardFooter";const q={activity:ule,alertTriangle:b_,arrowDownCircle:yle,arrowLeft:Fi,arrowRight:Ale,arrowUpCircle:xle,barChart:uk,bell:$P,chartBar:uk,arrowUpFromLine:hle,filter:n9,gamepad:Ple,lightbulb:Rle,shield:c9,shopping:w_,sort:fle,check:HP,chevronDown:VP,chevronLeft:e9,chevronRight:t9,chevronsDown:vle,clock:jf,copy:Cle,creditCard:KP,download:qc,droplet:Ele,file:kle,fileSearch:Nle,filterX:Tle,flame:Ile,heart:Ole,history:Fle,home:s9,inbox:Dle,info:Ak,layers:a9,link:Ule,logOut:zP,megaphone:Gb,menu:Mle,messageSquare:GP,mail:hk,package:Bl,phone:fk,plus:wm,qrCode:WP,repeat:Lle,refreshCw:gv,undo:gv,search:ku,settings:l9,share:Hle,shoppingCart:rx,smartphone:Vle,spinner:zt,ticket:qP,trash:vv,truck:pk,tv:Wle,users:XP,wallet:Xle,wifi:Jle,zap:Yle},zbe=()=>{const t=Tt(),{addItem:e}=xx(),[r,n]=v.useState([]),[s,a]=v.useState([]),[o,l]=v.useState([]),[c,u]=v.useState(!0);v.useEffect(()=>{(async()=>{u(!0);try{const{data:h,error:f}=await J.from("products").select("*").eq("featured",!0).limit(2);if(f)throw f;const{data:m,error:p}=await J.from("products").select("*").not("discount","is",null).limit(2);if(p)throw p;const{data:g,error:y}=await J.from("products").select("type");if(y)throw y;const b=Array.from(new Set(g.map(j=>j.type))).map((j,C)=>({id:j,name:j,count:g.filter(E=>E.type===j).length,image:"/placeholder.svg"}));n(h||[]),a(m||[]),l(b)}catch(h){console.error("Error fetching data:",h)}finally{u(!1)}})()},[]);const A=d=>{e({id:d.id,name:d.name,price:d.discount?d.price*(1-d.discount/100):d.price,image:d.images&&d.images.length>0?d.images[0]:"/placeholder.svg",type:d.type,quantity:1})};return i.jsx(Wt,{children:i.jsxs("div",{className:"p-4",children:[i.jsx("div",{className:"relative rounded-lg overflow-hidden mb-6 bg-gradient-to-r from-charcoal-800 to-charcoal-700 text-white",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Jaya Perkasa Charcoal"}),i.jsx("p",{className:"mb-4 text-sm text-charcoal-100",children:"Coba Gunakan Arang Oven Yang Bersih Dan 3x Lebih Awet"}),i.jsx(st,{to:"/search",children:i.jsx(V,{className:"bg-flame-500 hover:bg-flame-600",children:"Lihat Produk"})})]})}),i.jsx("div",{className:"mb-6",children:i.jsx(ye,{className:"overflow-hidden cursor-pointer bg-gradient-to-r from-blue-500 to-indigo-600 text-white hover:opacity-95 transition-opacity",onClick:()=>t("/ppob"),children:i.jsx(xe,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(q.zap,{className:"h-6 w-6 mr-3"}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-bold",children:"Layanan PPOB"}),i.jsx("p",{className:"text-xs opacity-90",children:"Pulsa, Paket Data, PLN, BPJS, dan lainnya"})]})]}),i.jsx(q.chevronRight,{className:"h-5 w-5"})]})})})}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold",children:"Produk Unggulan"}),i.jsx(st,{to:"/search?featured=true",className:"text-flame-500 text-sm",children:"Lihat Semua"})]}),c?i.jsx("div",{className:"flex justify-center items-center h-32",children:i.jsx(zt,{className:"h-8 w-8 animate-spin text-flame-500"})}):i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.map(d=>i.jsx(fL,{product:d,onAddToCart:()=>A(d)},d.id)),r.length===0&&i.jsx("div",{className:"col-span-2 text-center py-8 text-muted-foreground",children:"Tidak ada produk unggulan"})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold",children:"Kategori"}),i.jsx(st,{to:"/search?category=true",className:"text-flame-500 text-sm",children:"Lihat Semua"})]}),c?i.jsx("div",{className:"flex justify-center items-center h-32",children:i.jsx(zt,{className:"h-8 w-8 animate-spin text-flame-500"})}):i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.map(d=>i.jsx(ye,{className:"overflow-hidden cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>t(`/category/${d.id}`),children:i.jsxs(xe,{className:"p-3 flex flex-col items-center justify-center",children:[i.jsx(q.package,{className:"h-8 w-8 mb-2 text-primary"}),i.jsx("span",{className:"text-xs text-center",children:d.name})]})},d.id)),o.length===0&&i.jsx("div",{className:"col-span-2 text-center py-8 text-muted-foreground",children:"Tidak ada kategori"})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold",children:"Penawaran Khusus"}),i.jsx(st,{to:"/search?discount=true",className:"text-flame-500 text-sm",children:"Lihat Semua"})]}),c?i.jsx("div",{className:"flex justify-center items-center h-32",children:i.jsx(zt,{className:"h-8 w-8 animate-spin text-flame-500"})}):i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.map(d=>i.jsx(fL,{product:d,onAddToCart:()=>A(d)},d.id)),s.length===0&&i.jsx("div",{className:"col-span-2 text-center py-8 text-muted-foreground",children:"Tidak ada produk dengan diskon"})]})]})]})})},fL=({product:t,onAddToCart:e})=>i.jsxs(ye,{className:"overflow-hidden border-none shadow-sm",children:[i.jsx(st,{to:`/product/${t.id}`,children:i.jsxs("div",{className:"h-32 bg-charcoal-100 relative",children:[i.jsx("img",{src:t.images&&t.images.length>0?t.images[0]:"/placeholder.svg",alt:t.name,className:"h-full w-full object-cover"}),t.discount&&i.jsxs("span",{className:"absolute top-2 right-2 bg-flame-500 text-white text-xs px-2 py-1 rounded-full",children:[t.discount,"% OFF"]})]})}),i.jsxs(xe,{className:"p-3",children:[i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:t.type}),i.jsx(st,{to:`/product/${t.id}`,children:i.jsx("h3",{className:"font-medium text-sm line-clamp-1",children:t.name})})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("div",{children:t.discount?i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"font-bold text-sm",children:ge(t.price*(1-t.discount/100))}),i.jsx("span",{className:"text-muted-foreground text-xs line-through",children:ge(t.price)})]}):i.jsx("span",{className:"font-bold text-sm",children:ge(t.price)})}),i.jsx(V,{size:"icon",className:"h-8 w-8 rounded-full bg-flame-500 hover:bg-flame-600",onClick:e,children:i.jsx(rx,{className:"h-4 w-4"})})]})]})]}),Gbe=()=>{const t=Qs();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),i.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Ups! Halaman tidak ditemukan"}),i.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Kembali ke Beranda"})]})})},ce=v.forwardRef(({className:t,type:e,...r},n)=>i.jsx("input",{type:e,className:he("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));ce.displayName="Input";function Vv(t,[e,r]){return Math.min(r,Math.max(e,t))}var Wbe=v.createContext(void 0);function Dm(t){const e=v.useContext(Wbe);return t||e||"ltr"}var rS=0;function gF(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??mL()),document.body.insertAdjacentElement("beforeend",t[1]??mL()),rS++,()=>{rS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),rS--}},[])}function mL(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var nS="focusScope.autoFocusOnMount",sS="focusScope.autoFocusOnUnmount",pL={bubbles:!1,cancelable:!0},qbe="FocusScope",pC=v.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=t,[l,c]=v.useState(null),u=Gr(s),A=Gr(a),d=v.useRef(null),h=yt(e,p=>c(p)),f=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let p=function(b){if(f.paused||!l)return;const j=b.target;l.contains(j)?d.current=j:cc(d.current,{select:!0})},g=function(b){if(f.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||cc(d.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const C of b)C.removedNodes.length>0&&cc(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const x=new MutationObserver(y);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),x.disconnect()}}},[n,l,f.paused]),v.useEffect(()=>{if(l){vL.add(f);const p=document.activeElement;if(!l.contains(p)){const y=new CustomEvent(nS,pL);l.addEventListener(nS,u),l.dispatchEvent(y),y.defaultPrevented||(Xbe(t1e(XW(l)),{select:!0}),document.activeElement===p&&cc(l))}return()=>{l.removeEventListener(nS,u),setTimeout(()=>{const y=new CustomEvent(sS,pL);l.addEventListener(sS,A),l.dispatchEvent(y),y.defaultPrevented||cc(p??document.body,{select:!0}),l.removeEventListener(sS,A),vL.remove(f)},0)}}},[l,u,A,f]);const m=v.useCallback(p=>{if(!r&&!n||f.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(g&&y){const x=p.currentTarget,[b,j]=Jbe(x);b&&j?!p.shiftKey&&y===j?(p.preventDefault(),r&&cc(b,{select:!0})):p.shiftKey&&y===b&&(p.preventDefault(),r&&cc(j,{select:!0})):y===x&&p.preventDefault()}},[r,n,f.paused]);return i.jsx(et.div,{tabIndex:-1,...o,ref:h,onKeyDown:m})});pC.displayName=qbe;function Xbe(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(cc(n,{select:e}),document.activeElement!==r)return}function Jbe(t){const e=XW(t),r=gL(e,t),n=gL(e.reverse(),t);return[r,n]}function XW(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function gL(t,e){for(const r of t)if(!Ybe(r,{upTo:e}))return r}function Ybe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Zbe(t){return t instanceof HTMLInputElement&&"select"in t}function cc(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Zbe(t)&&e&&t.select()}}var vL=e1e();function e1e(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=yL(t,e),t.unshift(e)},remove(e){var r;t=yL(t,e),(r=t[0])==null||r.resume()}}}function yL(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function t1e(t){return t.filter(e=>e.tagName!=="A")}function wx(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var r1e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Wd=new WeakMap,$0=new WeakMap,H0={},aS=0,JW=function(t){return t&&(t.host||JW(t.parentNode))},n1e=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=JW(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},s1e=function(t,e,r,n){var s=n1e(e,Array.isArray(t)?t:[t]);H0[r]||(H0[r]=new WeakMap);var a=H0[r],o=[],l=new Set,c=new Set(s),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};s.forEach(u);var A=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(l.has(h))A(h);else try{var f=h.getAttribute(n),m=f!==null&&f!=="false",p=(Wd.get(h)||0)+1,g=(a.get(h)||0)+1;Wd.set(h,p),a.set(h,g),o.push(h),p===1&&m&&$0.set(h,!0),g===1&&h.setAttribute(r,"true"),m||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return A(e),l.clear(),aS++,function(){o.forEach(function(d){var h=Wd.get(d)-1,f=a.get(d)-1;Wd.set(d,h),a.set(d,f),h||($0.has(d)||d.removeAttribute(n),$0.delete(d)),f||d.removeAttribute(r)}),aS--,aS||(Wd=new WeakMap,Wd=new WeakMap,$0=new WeakMap,H0={})}},vF=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=r1e(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),s1e(n,s,r,"aria-hidden")):function(){return null}},Ao=function(){return Ao=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ao.apply(this,arguments)};function YW(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function a1e(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,a;n<s;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var ub="right-scroll-bar-position",Ab="width-before-scroll-bar",i1e="with-scroll-bars-hidden",o1e="--removed-body-scroll-bar-size";function iS(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function l1e(t,e){var r=v.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var c1e=typeof window<"u"?v.useLayoutEffect:v.useEffect,xL=new WeakMap;function u1e(t,e){var r=l1e(null,function(n){return t.forEach(function(s){return iS(s,n)})});return c1e(function(){var n=xL.get(r);if(n){var s=new Set(n),a=new Set(t),o=r.current;s.forEach(function(l){a.has(l)||iS(l,null)}),a.forEach(function(l){s.has(l)||iS(l,o)})}xL.set(r,t)},[t]),r}function A1e(t){return t}function d1e(t,e){e===void 0&&(e=A1e);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var o=e(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var A=o;o=[],A.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(A){o.push(A),u()},filter:function(A){return o=o.filter(A),r}}}};return s}function h1e(t){t===void 0&&(t={});var e=d1e(null);return e.options=Ao({async:!0,ssr:!1},t),e}var ZW=function(t){var e=t.sideCar,r=YW(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,Ao({},r))};ZW.isSideCarExport=!0;function f1e(t,e){return t.useMedium(e),ZW}var eq=h1e(),oS=function(){},gC=v.forwardRef(function(t,e){var r=v.useRef(null),n=v.useState({onScrollCapture:oS,onWheelCapture:oS,onTouchMoveCapture:oS}),s=n[0],a=n[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,A=t.enabled,d=t.shards,h=t.sideCar,f=t.noIsolation,m=t.inert,p=t.allowPinchZoom,g=t.as,y=g===void 0?"div":g,x=t.gapMode,b=YW(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,C=u1e([r,e]),E=Ao(Ao({},b),s);return v.createElement(v.Fragment,null,A&&v.createElement(j,{sideCar:eq,removeScrollBar:u,shards:d,noIsolation:f,inert:m,setCallbacks:a,allowPinchZoom:!!p,lockRef:r,gapMode:x}),o?v.cloneElement(v.Children.only(l),Ao(Ao({},E),{ref:C})):v.createElement(y,Ao({},E,{className:c,ref:C}),l))});gC.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gC.classNames={fullWidth:Ab,zeroRight:ub};var m1e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function p1e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=m1e();return e&&t.setAttribute("nonce",e),t}function g1e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function v1e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var y1e=function(){var t=0,e=null;return{add:function(r){t==0&&(e=p1e())&&(g1e(e,r),v1e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},x1e=function(){var t=y1e();return function(e,r){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},tq=function(){var t=x1e(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},w1e={left:0,top:0,right:0,gap:0},lS=function(t){return parseInt(t||"",10)||0},b1e=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[lS(r),lS(n),lS(s)]},j1e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return w1e;var e=b1e(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},_1e=tq(),zh="data-scroll-locked",C1e=function(t,e,r,n){var s=t.left,a=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(i1e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(zh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ub,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ab,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ub," .").concat(ub,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ab," .").concat(Ab,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(zh,`] {
    `).concat(o1e,": ").concat(l,`px;
  }
`)},wL=function(){var t=parseInt(document.body.getAttribute(zh)||"0",10);return isFinite(t)?t:0},B1e=function(){v.useEffect(function(){return document.body.setAttribute(zh,(wL()+1).toString()),function(){var t=wL()-1;t<=0?document.body.removeAttribute(zh):document.body.setAttribute(zh,t.toString())}},[])},E1e=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;B1e();var a=v.useMemo(function(){return j1e(s)},[s]);return v.createElement(_1e,{styles:C1e(a,!e,s,r?"":"!important")})},NT=!1;if(typeof window<"u")try{var V0=Object.defineProperty({},"passive",{get:function(){return NT=!0,!0}});window.addEventListener("test",V0,V0),window.removeEventListener("test",V0,V0)}catch{NT=!1}var qd=NT?{passive:!1}:!1,S1e=function(t){return t.tagName==="TEXTAREA"},rq=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!S1e(t)&&r[e]==="visible")},N1e=function(t){return rq(t,"overflowY")},k1e=function(t){return rq(t,"overflowX")},bL=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=nq(t,n);if(s){var a=sq(t,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},T1e=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},I1e=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},nq=function(t,e){return t==="v"?N1e(e):k1e(e)},sq=function(t,e){return t==="v"?T1e(e):I1e(e)},P1e=function(t,e){return t==="h"&&e==="rtl"?-1:1},O1e=function(t,e,r,n,s){var a=P1e(t,window.getComputedStyle(e).direction),o=a*n,l=r.target,c=e.contains(l),u=!1,A=o>0,d=0,h=0;do{var f=sq(t,l),m=f[0],p=f[1],g=f[2],y=p-g-a*m;(m||y)&&nq(t,l)&&(d+=y,h+=m),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(A&&(Math.abs(d)<1||!s)||!A&&(Math.abs(h)<1||!s))&&(u=!0),u},K0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},jL=function(t){return[t.deltaX,t.deltaY]},_L=function(t){return t&&"current"in t?t.current:t},F1e=function(t,e){return t[0]===e[0]&&t[1]===e[1]},D1e=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},R1e=0,Xd=[];function U1e(t){var e=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),s=v.useState(R1e++)[0],a=v.useState(tq)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var p=a1e([t.lockRef.current],(t.shards||[]).map(_L),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=v.useCallback(function(p,g){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var y=K0(p),x=r.current,b="deltaX"in p?p.deltaX:x[0]-y[0],j="deltaY"in p?p.deltaY:x[1]-y[1],C,E=p.target,_=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in p&&_==="h"&&E.type==="range")return!1;var B=bL(_,E);if(!B)return!0;if(B?C=_:(C=_==="v"?"h":"v",B=bL(_,E)),!B)return!1;if(!n.current&&"changedTouches"in p&&(b||j)&&(n.current=C),!C)return!0;var S=n.current||C;return O1e(S,g,p,S==="h"?b:j,!0)},[]),c=v.useCallback(function(p){var g=p;if(!(!Xd.length||Xd[Xd.length-1]!==a)){var y="deltaY"in g?jL(g):K0(g),x=e.current.filter(function(C){return C.name===g.type&&(C.target===g.target||g.target===C.shadowParent)&&F1e(C.delta,y)})[0];if(x&&x.should){g.cancelable&&g.preventDefault();return}if(!x){var b=(o.current.shards||[]).map(_L).filter(Boolean).filter(function(C){return C.contains(g.target)}),j=b.length>0?l(g,b[0]):!o.current.noIsolation;j&&g.cancelable&&g.preventDefault()}}},[]),u=v.useCallback(function(p,g,y,x){var b={name:p,delta:g,target:y,should:x,shadowParent:M1e(y)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(j){return j!==b})},1)},[]),A=v.useCallback(function(p){r.current=K0(p),n.current=void 0},[]),d=v.useCallback(function(p){u(p.type,jL(p),p.target,l(p,t.lockRef.current))},[]),h=v.useCallback(function(p){u(p.type,K0(p),p.target,l(p,t.lockRef.current))},[]);v.useEffect(function(){return Xd.push(a),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,qd),document.addEventListener("touchmove",c,qd),document.addEventListener("touchstart",A,qd),function(){Xd=Xd.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,qd),document.removeEventListener("touchmove",c,qd),document.removeEventListener("touchstart",A,qd)}},[]);var f=t.removeScrollBar,m=t.inert;return v.createElement(v.Fragment,null,m?v.createElement(a,{styles:D1e(s)}):null,f?v.createElement(E1e,{gapMode:t.gapMode}):null)}function M1e(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Q1e=f1e(eq,U1e);var vC=v.forwardRef(function(t,e){return v.createElement(gC,Ao({},t,{ref:e,sideCar:Q1e}))});vC.classNames=gC.classNames;var L1e=[" ","Enter","ArrowUp","ArrowDown"],$1e=[" ","Enter"],bx="Select",[yC,xC,H1e]=v_(bx),[Rm,Rnt]=aa(bx,[H1e,Cm]),wC=Cm(),[V1e,Ou]=Rm(bx),[K1e,z1e]=Rm(bx),aq=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:A,autoComplete:d,disabled:h,required:f,form:m}=t,p=wC(e),[g,y]=v.useState(null),[x,b]=v.useState(null),[j,C]=v.useState(!1),E=Dm(u),[_=!1,B]=si({prop:n,defaultProp:s,onChange:a}),[S,N]=si({prop:o,defaultProp:l,onChange:c}),P=v.useRef(null),I=g?m||!!g.closest("form"):!0,[T,D]=v.useState(new Set),M=Array.from(T).map(H=>H.props.value).join(";");return i.jsx(iO,{...p,children:i.jsxs(V1e,{required:f,scope:e,trigger:g,onTriggerChange:y,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:C,contentId:jo(),value:S,onValueChange:N,open:_,onOpenChange:B,dir:E,triggerPointerDownPosRef:P,disabled:h,children:[i.jsx(yC.Provider,{scope:e,children:i.jsx(K1e,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(H=>{D(U=>new Set(U).add(H))},[]),onNativeOptionRemove:v.useCallback(H=>{D(U=>{const O=new Set(U);return O.delete(H),O})},[]),children:r})}),I?i.jsxs(kq,{"aria-hidden":!0,required:f,tabIndex:-1,name:A,autoComplete:d,value:S,onChange:H=>N(H.target.value),disabled:h,form:m,children:[S===void 0?i.jsx("option",{value:""}):null,Array.from(T)]},M):null]})})};aq.displayName=bx;var iq="SelectTrigger",oq=v.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,a=wC(r),o=Ou(iq,r),l=o.disabled||n,c=yt(e,o.onTriggerChange),u=xC(r),A=v.useRef("touch"),[d,h,f]=Tq(p=>{const g=u().filter(b=>!b.disabled),y=g.find(b=>b.value===o.value),x=Iq(g,p,y);x!==void 0&&o.onValueChange(x.value)}),m=p=>{l||(o.onOpenChange(!0),f()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return i.jsx(E_,{asChild:!0,...a,children:i.jsx(et.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Nq(o.value)?"":void 0,...s,ref:c,onClick:De(s.onClick,p=>{p.currentTarget.focus(),A.current!=="mouse"&&m(p)}),onPointerDown:De(s.onPointerDown,p=>{A.current=p.pointerType;const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(m(p),p.preventDefault())}),onKeyDown:De(s.onKeyDown,p=>{const g=d.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(g&&p.key===" ")&&L1e.includes(p.key)&&(m(),p.preventDefault())})})})});oq.displayName=iq;var lq="SelectValue",cq=v.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:o="",...l}=t,c=Ou(lq,r),{onValueNodeHasChildrenChange:u}=c,A=a!==void 0,d=yt(e,c.onValueNodeChange);return gn(()=>{u(A)},[u,A]),i.jsx(et.span,{...l,ref:d,style:{pointerEvents:"none"},children:Nq(c.value)?i.jsx(i.Fragment,{children:o}):a})});cq.displayName=lq;var G1e="SelectIcon",uq=v.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return i.jsx(et.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});uq.displayName=G1e;var W1e="SelectPortal",Aq=t=>i.jsx(ex,{asChild:!0,...t});Aq.displayName=W1e;var hd="SelectContent",dq=v.forwardRef((t,e)=>{const r=Ou(hd,t.__scopeSelect),[n,s]=v.useState();if(gn(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?Cd.createPortal(i.jsx(hq,{scope:t.__scopeSelect,children:i.jsx(yC.Slot,{scope:t.__scopeSelect,children:i.jsx("div",{children:t.children})})}),a):null}return i.jsx(fq,{...t,ref:e})});dq.displayName=hd;var fi=10,[hq,Fu]=Rm(hd),q1e="SelectContentImpl",fq=v.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:A,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:m,hideWhenDetached:p,avoidCollisions:g,...y}=t,x=Ou(hd,r),[b,j]=v.useState(null),[C,E]=v.useState(null),_=yt(e,ue=>j(ue)),[B,S]=v.useState(null),[N,P]=v.useState(null),I=xC(r),[T,D]=v.useState(!1),M=v.useRef(!1);v.useEffect(()=>{if(b)return vF(b)},[b]),gF();const H=v.useCallback(ue=>{const[le,...Ae]=I().map(W=>W.ref.current),[me]=Ae.slice(-1),_e=document.activeElement;for(const W of ue)if(W===_e||(W==null||W.scrollIntoView({block:"nearest"}),W===le&&C&&(C.scrollTop=0),W===me&&C&&(C.scrollTop=C.scrollHeight),W==null||W.focus(),document.activeElement!==_e))return},[I,C]),U=v.useCallback(()=>H([B,b]),[H,B,b]);v.useEffect(()=>{T&&U()},[T,U]);const{onOpenChange:O,triggerPointerDownPosRef:R}=x;v.useEffect(()=>{if(b){let ue={x:0,y:0};const le=me=>{var _e,W;ue={x:Math.abs(Math.round(me.pageX)-(((_e=R.current)==null?void 0:_e.x)??0)),y:Math.abs(Math.round(me.pageY)-(((W=R.current)==null?void 0:W.y)??0))}},Ae=me=>{ue.x<=10&&ue.y<=10?me.preventDefault():b.contains(me.target)||O(!1),document.removeEventListener("pointermove",le),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",Ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",Ae,{capture:!0})}}},[b,O,R]),v.useEffect(()=>{const ue=()=>O(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[O]);const[Q,G]=Tq(ue=>{const le=I().filter(_e=>!_e.disabled),Ae=le.find(_e=>_e.ref.current===document.activeElement),me=Iq(le,ue,Ae);me&&setTimeout(()=>me.ref.current.focus())}),X=v.useCallback((ue,le,Ae)=>{const me=!M.current&&!Ae;(x.value!==void 0&&x.value===le||me)&&(S(ue),me&&(M.current=!0))},[x.value]),se=v.useCallback(()=>b==null?void 0:b.focus(),[b]),Z=v.useCallback((ue,le,Ae)=>{const me=!M.current&&!Ae;(x.value!==void 0&&x.value===le||me)&&P(ue)},[x.value]),K=n==="popper"?kT:mq,ne=K===kT?{side:l,sideOffset:c,align:u,alignOffset:A,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:m,hideWhenDetached:p,avoidCollisions:g}:{};return i.jsx(hq,{scope:r,content:b,viewport:C,onViewportChange:E,itemRefCallback:X,selectedItem:B,onItemLeave:se,itemTextRefCallback:Z,focusSelectedItem:U,selectedItemText:N,position:n,isPositioned:T,searchRef:Q,children:i.jsx(vC,{as:Cl,allowPinchZoom:!0,children:i.jsx(pC,{asChild:!0,trapped:x.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:De(s,ue=>{var le;(le=x.trigger)==null||le.focus({preventScroll:!0}),ue.preventDefault()}),children:i.jsx(ym,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:i.jsx(K,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:ue=>ue.preventDefault(),...y,...ne,onPlaced:()=>D(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:De(y.onKeyDown,ue=>{const le=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!le&&ue.key.length===1&&G(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let me=I().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const _e=ue.target,W=me.indexOf(_e);me=me.slice(W+1)}setTimeout(()=>H(me)),ue.preventDefault()}})})})})})})});fq.displayName=q1e;var X1e="SelectItemAlignedPosition",mq=v.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,a=Ou(hd,r),o=Fu(hd,r),[l,c]=v.useState(null),[u,A]=v.useState(null),d=yt(e,_=>A(_)),h=xC(r),f=v.useRef(!1),m=v.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:y,focusSelectedItem:x}=o,b=v.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&p&&g&&y){const _=a.trigger.getBoundingClientRect(),B=u.getBoundingClientRect(),S=a.valueNode.getBoundingClientRect(),N=y.getBoundingClientRect();if(a.dir!=="rtl"){const _e=N.left-B.left,W=S.left-_e,we=_.left-W,Oe=_.width+we,qe=Math.max(Oe,B.width),Ze=window.innerWidth-fi,It=Vv(W,[fi,Math.max(fi,Ze-qe)]);l.style.minWidth=Oe+"px",l.style.left=It+"px"}else{const _e=B.right-N.right,W=window.innerWidth-S.right-_e,we=window.innerWidth-_.right-W,Oe=_.width+we,qe=Math.max(Oe,B.width),Ze=window.innerWidth-fi,It=Vv(W,[fi,Math.max(fi,Ze-qe)]);l.style.minWidth=Oe+"px",l.style.right=It+"px"}const P=h(),I=window.innerHeight-fi*2,T=p.scrollHeight,D=window.getComputedStyle(u),M=parseInt(D.borderTopWidth,10),H=parseInt(D.paddingTop,10),U=parseInt(D.borderBottomWidth,10),O=parseInt(D.paddingBottom,10),R=M+H+T+O+U,Q=Math.min(g.offsetHeight*5,R),G=window.getComputedStyle(p),X=parseInt(G.paddingTop,10),se=parseInt(G.paddingBottom,10),Z=_.top+_.height/2-fi,K=I-Z,ne=g.offsetHeight/2,ue=g.offsetTop+ne,le=M+H+ue,Ae=R-le;if(le<=Z){const _e=P.length>0&&g===P[P.length-1].ref.current;l.style.bottom="0px";const W=u.clientHeight-p.offsetTop-p.offsetHeight,we=Math.max(K,ne+(_e?se:0)+W+U),Oe=le+we;l.style.height=Oe+"px"}else{const _e=P.length>0&&g===P[0].ref.current;l.style.top="0px";const we=Math.max(Z,M+p.offsetTop+(_e?X:0)+ne)+Ae;l.style.height=we+"px",p.scrollTop=le-Z+p.offsetTop}l.style.margin=`${fi}px 0`,l.style.minHeight=Q+"px",l.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[h,a.trigger,a.valueNode,l,u,p,g,y,a.dir,n]);gn(()=>b(),[b]);const[j,C]=v.useState();gn(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const E=v.useCallback(_=>{_&&m.current===!0&&(b(),x==null||x(),m.current=!1)},[b,x]);return i.jsx(Y1e,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:E,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:i.jsx(et.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});mq.displayName=X1e;var J1e="SelectPopperPosition",kT=v.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=fi,...a}=t,o=wC(r);return i.jsx(oO,{...o,...a,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});kT.displayName=J1e;var[Y1e,yF]=Rm(hd,{}),TT="SelectViewport",pq=v.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,a=Fu(TT,r),o=yF(TT,r),l=yt(e,a.onViewportChange),c=v.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(yC.Slot,{scope:r,children:i.jsx(et.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:De(s.onScroll,u=>{const A=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&d){const f=Math.abs(c.current-A.scrollTop);if(f>0){const m=window.innerHeight-fi*2,p=parseFloat(d.style.minHeight),g=parseFloat(d.style.height),y=Math.max(p,g);if(y<m){const x=y+f,b=Math.min(m,x),j=x-b;d.style.height=b+"px",d.style.bottom==="0px"&&(A.scrollTop=j>0?j:0,d.style.justifyContent="flex-end")}}}c.current=A.scrollTop})})})]})});pq.displayName=TT;var gq="SelectGroup",[Z1e,eje]=Rm(gq),tje=v.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=jo();return i.jsx(Z1e,{scope:r,id:s,children:i.jsx(et.div,{role:"group","aria-labelledby":s,...n,ref:e})})});tje.displayName=gq;var vq="SelectLabel",yq=v.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=eje(vq,r);return i.jsx(et.div,{id:s.id,...n,ref:e})});yq.displayName=vq;var B1="SelectItem",[rje,xq]=Rm(B1),wq=v.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...o}=t,l=Ou(B1,r),c=Fu(B1,r),u=l.value===n,[A,d]=v.useState(a??""),[h,f]=v.useState(!1),m=yt(e,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,n,s)}),p=jo(),g=v.useRef("touch"),y=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(rje,{scope:r,value:n,disabled:s,textId:p,isSelected:u,onItemTextChange:v.useCallback(x=>{d(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:i.jsx(yC.ItemSlot,{scope:r,value:n,disabled:s,textValue:A,children:i.jsx(et.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:m,onFocus:De(o.onFocus,()=>f(!0)),onBlur:De(o.onBlur,()=>f(!1)),onClick:De(o.onClick,()=>{g.current!=="mouse"&&y()}),onPointerUp:De(o.onPointerUp,()=>{g.current==="mouse"&&y()}),onPointerDown:De(o.onPointerDown,x=>{g.current=x.pointerType}),onPointerMove:De(o.onPointerMove,x=>{var b;g.current=x.pointerType,s?(b=c.onItemLeave)==null||b.call(c):g.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:De(o.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:De(o.onKeyDown,x=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&x.key===" "||($1e.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});wq.displayName=B1;var ig="SelectItemText",bq=v.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...a}=t,o=Ou(ig,r),l=Fu(ig,r),c=xq(ig,r),u=z1e(ig,r),[A,d]=v.useState(null),h=yt(e,y=>d(y),c.onItemTextChange,y=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,y,c.value,c.disabled)}),f=A==null?void 0:A.textContent,m=v.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=u;return gn(()=>(p(m),()=>g(m)),[p,g,m]),i.jsxs(i.Fragment,{children:[i.jsx(et.span,{id:c.textId,...a,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Cd.createPortal(a.children,o.valueNode):null]})});bq.displayName=ig;var jq="SelectItemIndicator",_q=v.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return xq(jq,r).isSelected?i.jsx(et.span,{"aria-hidden":!0,...n,ref:e}):null});_q.displayName=jq;var IT="SelectScrollUpButton",Cq=v.forwardRef((t,e)=>{const r=Fu(IT,t.__scopeSelect),n=yF(IT,t.__scopeSelect),[s,a]=v.useState(!1),o=yt(e,n.onScrollButtonChange);return gn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(Eq,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Cq.displayName=IT;var PT="SelectScrollDownButton",Bq=v.forwardRef((t,e)=>{const r=Fu(PT,t.__scopeSelect),n=yF(PT,t.__scopeSelect),[s,a]=v.useState(!1),o=yt(e,n.onScrollButtonChange);return gn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,A=Math.ceil(c.scrollTop)<u;a(A)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(Eq,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Bq.displayName=PT;var Eq=v.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,a=Fu("SelectScrollButton",r),o=v.useRef(null),l=xC(r),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),gn(()=>{var A;const u=l().find(d=>d.ref.current===document.activeElement);(A=u==null?void 0:u.ref.current)==null||A.scrollIntoView({block:"nearest"})},[l]),i.jsx(et.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:De(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:De(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:De(s.onPointerLeave,()=>{c()})})}),nje="SelectSeparator",Sq=v.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return i.jsx(et.div,{"aria-hidden":!0,...n,ref:e})});Sq.displayName=nje;var OT="SelectArrow",sje=v.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=wC(r),a=Ou(OT,r),o=Fu(OT,r);return a.open&&o.position==="popper"?i.jsx(lO,{...s,...n,ref:e}):null});sje.displayName=OT;function Nq(t){return t===""||t===void 0}var kq=v.forwardRef((t,e)=>{const{value:r,...n}=t,s=v.useRef(null),a=yt(e,s),o=wx(r);return v.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,A=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&A){const d=new Event("change",{bubbles:!0});A.call(l,r),l.dispatchEvent(d)}},[o,r]),i.jsx(tx,{asChild:!0,children:i.jsx("select",{...n,ref:a,defaultValue:r})})});kq.displayName="BubbleSelect";function Tq(t){const e=Gr(t),r=v.useRef(""),n=v.useRef(0),s=v.useCallback(o=>{const l=r.current+o;e(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function Iq(t,e,r){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=aje(t,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function aje(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var ije=aq,Pq=oq,oje=cq,lje=uq,cje=Aq,Oq=dq,uje=pq,Fq=yq,Dq=wq,Aje=bq,dje=_q,Rq=Cq,Uq=Bq,Mq=Sq;const us=ije,As=oje,Ln=v.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(Pq,{ref:n,className:he("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,i.jsx(lje,{asChild:!0,children:i.jsx(VP,{className:"h-4 w-4 opacity-50"})})]}));Ln.displayName=Pq.displayName;const Qq=v.forwardRef(({className:t,...e},r)=>i.jsx(Rq,{ref:r,className:he("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(gle,{className:"h-4 w-4"})}));Qq.displayName=Rq.displayName;const Lq=v.forwardRef(({className:t,...e},r)=>i.jsx(Uq,{ref:r,className:he("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(VP,{className:"h-4 w-4"})}));Lq.displayName=Uq.displayName;const $n=v.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>i.jsx(cje,{children:i.jsxs(Oq,{ref:s,className:he("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[i.jsx(Qq,{}),i.jsx(uje,{className:he("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),i.jsx(Lq,{})]})}));$n.displayName=Oq.displayName;const hje=v.forwardRef(({className:t,...e},r)=>i.jsx(Fq,{ref:r,className:he("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));hje.displayName=Fq.displayName;const vt=v.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(Dq,{ref:n,className:he("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(dje,{children:i.jsx(HP,{className:"h-4 w-4"})})}),i.jsx(Aje,{children:e})]}));vt.displayName=Dq.displayName;const fje=v.forwardRef(({className:t,...e},r)=>i.jsx(Mq,{ref:r,className:he("-mx-1 my-1 h-px bg-muted",t),...e}));fje.displayName=Mq.displayName;var $q=["PageUp","PageDown"],Hq=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Vq={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Um="Slider",[FT,mje,pje]=v_(Um),[Kq,Unt]=aa(Um,[pje]),[gje,bC]=Kq(Um),zq=v.forwardRef((t,e)=>{const{name:r,min:n=0,max:s=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:A,onValueChange:d=()=>{},onValueCommit:h=()=>{},inverted:f=!1,form:m,...p}=t,g=v.useRef(new Set),y=v.useRef(0),b=o==="horizontal"?vje:yje,[j=[],C]=si({prop:A,defaultProp:u,onChange:P=>{var T;(T=[...g.current][y.current])==null||T.focus(),d(P)}}),E=v.useRef(j);function _(P){const I=_je(j,P);N(P,I)}function B(P){N(P,y.current)}function S(){const P=E.current[y.current];j[y.current]!==P&&h(j)}function N(P,I,{commit:T}={commit:!1}){const D=Sje(a),M=Nje(Math.round((P-n)/a)*a+n,D),H=Vv(M,[n,s]);C((U=[])=>{const O=bje(U,H,I);if(Eje(O,c*a)){y.current=O.indexOf(H);const R=String(O)!==String(U);return R&&T&&h(O),R?O:U}else return U})}return i.jsx(gje,{scope:t.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:y,thumbs:g.current,values:j,orientation:o,form:m,children:i.jsx(FT.Provider,{scope:t.__scopeSlider,children:i.jsx(FT.Slot,{scope:t.__scopeSlider,children:i.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:e,onPointerDown:De(p.onPointerDown,()=>{l||(E.current=j)}),min:n,max:s,inverted:f,onSlideStart:l?void 0:_,onSlideMove:l?void 0:B,onSlideEnd:l?void 0:S,onHomeKeyDown:()=>!l&&N(n,0,{commit:!0}),onEndKeyDown:()=>!l&&N(s,j.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:I})=>{if(!l){const M=$q.includes(P.key)||P.shiftKey&&Hq.includes(P.key)?10:1,H=y.current,U=j[H],O=a*M*I;N(U+O,H,{commit:!0})}}})})})})});zq.displayName=Um;var[Gq,Wq]=Kq(Um,{startEdge:"left",endEdge:"right",size:"width",direction:1}),vje=v.forwardRef((t,e)=>{const{min:r,max:n,dir:s,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...A}=t,[d,h]=v.useState(null),f=yt(e,b=>h(b)),m=v.useRef(),p=Dm(s),g=p==="ltr",y=g&&!a||!g&&a;function x(b){const j=m.current||d.getBoundingClientRect(),C=[0,j.width],_=xF(C,y?[r,n]:[n,r]);return m.current=j,_(b-j.left)}return i.jsx(Gq,{scope:t.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:i.jsx(qq,{dir:p,"data-orientation":"horizontal",...A,ref:f,style:{...A.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const j=x(b.clientX);o==null||o(j)},onSlideMove:b=>{const j=x(b.clientX);l==null||l(j)},onSlideEnd:()=>{m.current=void 0,c==null||c()},onStepKeyDown:b=>{const C=Vq[y?"from-left":"from-right"].includes(b.key);u==null||u({event:b,direction:C?-1:1})}})})}),yje=v.forwardRef((t,e)=>{const{min:r,max:n,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=t,A=v.useRef(null),d=yt(e,A),h=v.useRef(),f=!s;function m(p){const g=h.current||A.current.getBoundingClientRect(),y=[0,g.height],b=xF(y,f?[n,r]:[r,n]);return h.current=g,b(p-g.top)}return i.jsx(Gq,{scope:t.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:i.jsx(qq,{"data-orientation":"vertical",...u,ref:d,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const g=m(p.clientY);a==null||a(g)},onSlideMove:p=>{const g=m(p.clientY);o==null||o(g)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:p=>{const y=Vq[f?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:y?-1:1})}})})}),qq=v.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=t,A=bC(Um,r);return i.jsx(et.span,{...u,ref:e,onKeyDown:De(t.onKeyDown,d=>{d.key==="Home"?(o(d),d.preventDefault()):d.key==="End"?(l(d),d.preventDefault()):$q.concat(Hq).includes(d.key)&&(c(d),d.preventDefault())}),onPointerDown:De(t.onPointerDown,d=>{const h=d.target;h.setPointerCapture(d.pointerId),d.preventDefault(),A.thumbs.has(h)?h.focus():n(d)}),onPointerMove:De(t.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&s(d)}),onPointerUp:De(t.onPointerUp,d=>{const h=d.target;h.hasPointerCapture(d.pointerId)&&(h.releasePointerCapture(d.pointerId),a(d))})})}),Xq="SliderTrack",Jq=v.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=bC(Xq,r);return i.jsx(et.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:e})});Jq.displayName=Xq;var DT="SliderRange",Yq=v.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=bC(DT,r),a=Wq(DT,r),o=v.useRef(null),l=yt(e,o),c=s.values.length,u=s.values.map(h=>eX(h,s.min,s.max)),A=c>1?Math.min(...u):0,d=100-Math.max(...u);return i.jsx(et.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...t.style,[a.startEdge]:A+"%",[a.endEdge]:d+"%"}})});Yq.displayName=DT;var RT="SliderThumb",Zq=v.forwardRef((t,e)=>{const r=mje(t.__scopeSlider),[n,s]=v.useState(null),a=yt(e,l=>s(l)),o=v.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return i.jsx(xje,{...t,ref:a,index:o})}),xje=v.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:s,...a}=t,o=bC(RT,r),l=Wq(RT,r),[c,u]=v.useState(null),A=yt(e,x=>u(x)),d=c?o.form||!!c.closest("form"):!0,h=ax(c),f=o.values[n],m=f===void 0?0:eX(f,o.min,o.max),p=jje(n,o.values.length),g=h==null?void 0:h[l.size],y=g?Cje(g,m,l.direction):0;return v.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${m}% + ${y}px)`},children:[i.jsx(FT.ItemSlot,{scope:t.__scopeSlider,children:i.jsx(et.span,{role:"slider","aria-label":t["aria-label"]||p,"aria-valuemin":o.min,"aria-valuenow":f,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:A,style:f===void 0?{display:"none"}:t.style,onFocus:De(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),d&&i.jsx(wje,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:f},n)]})});Zq.displayName=RT;var wje=t=>{const{value:e,...r}=t,n=v.useRef(null),s=wx(e);return v.useEffect(()=>{const a=n.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(s!==e&&c){const u=new Event("input",{bubbles:!0});c.call(a,e),a.dispatchEvent(u)}},[s,e]),i.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:e})};function bje(t=[],e,r){const n=[...t];return n[r]=e,n.sort((s,a)=>s-a)}function eX(t,e,r){const a=100/(r-e)*(t-e);return Vv(a,[0,100])}function jje(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function _je(t,e){if(t.length===1)return 0;const r=t.map(s=>Math.abs(s-e)),n=Math.min(...r);return r.indexOf(n)}function Cje(t,e,r){const n=t/2,a=xF([0,50],[0,n]);return(n-a(e)*r)*r}function Bje(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function Eje(t,e){if(e>0){const r=Bje(t);return Math.min(...r)>=e}return!0}function xF(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function Sje(t){return(String(t).split(".")[1]||"").length}function Nje(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var tX=zq,kje=Jq,Tje=Yq,Ije=Zq;const rX=v.forwardRef(({className:t,...e},r)=>i.jsxs(tX,{ref:r,className:he("relative flex w-full touch-none select-none items-center",t),...e,children:[i.jsx(kje,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:i.jsx(Tje,{className:"absolute h-full bg-primary"})}),i.jsx(Ije,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));rX.displayName=tX.displayName;var wF="Dialog",[nX,sX]=aa(wF),[Pje,zi]=nX(wF),aX=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=t,l=v.useRef(null),c=v.useRef(null),[u=!1,A]=si({prop:n,defaultProp:s,onChange:a});return i.jsx(Pje,{scope:e,triggerRef:l,contentRef:c,contentId:jo(),titleId:jo(),descriptionId:jo(),open:u,onOpenChange:A,onOpenToggle:v.useCallback(()=>A(d=>!d),[A]),modal:o,children:r})};aX.displayName=wF;var iX="DialogTrigger",oX=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=zi(iX,r),a=yt(e,s.triggerRef);return i.jsx(et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":_F(s.open),...n,ref:a,onClick:De(t.onClick,s.onOpenToggle)})});oX.displayName=iX;var bF="DialogPortal",[Oje,lX]=nX(bF,{forceMount:void 0}),cX=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,a=zi(bF,e);return i.jsx(Oje,{scope:e,forceMount:r,children:v.Children.map(n,o=>i.jsx(Ms,{present:r||a.open,children:i.jsx(ex,{asChild:!0,container:s,children:o})}))})};cX.displayName=bF;var E1="DialogOverlay",uX=v.forwardRef((t,e)=>{const r=lX(E1,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,a=zi(E1,t.__scopeDialog);return a.modal?i.jsx(Ms,{present:n||a.open,children:i.jsx(Fje,{...s,ref:e})}):null});uX.displayName=E1;var Fje=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=zi(E1,r);return i.jsx(vC,{as:Cl,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(et.div,{"data-state":_F(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),fd="DialogContent",AX=v.forwardRef((t,e)=>{const r=lX(fd,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,a=zi(fd,t.__scopeDialog);return i.jsx(Ms,{present:n||a.open,children:a.modal?i.jsx(Dje,{...s,ref:e}):i.jsx(Rje,{...s,ref:e})})});AX.displayName=fd;var Dje=v.forwardRef((t,e)=>{const r=zi(fd,t.__scopeDialog),n=v.useRef(null),s=yt(e,r.contentRef,n);return v.useEffect(()=>{const a=n.current;if(a)return vF(a)},[]),i.jsx(dX,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:De(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:De(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:De(t.onFocusOutside,a=>a.preventDefault())})}),Rje=v.forwardRef((t,e)=>{const r=zi(fd,t.__scopeDialog),n=v.useRef(!1),s=v.useRef(!1);return i.jsx(dX,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),dX=v.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=t,l=zi(fd,r),c=v.useRef(null),u=yt(e,c);return gF(),i.jsxs(i.Fragment,{children:[i.jsx(pC,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(ym,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":_F(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(Mje,{titleId:l.titleId}),i.jsx(Lje,{contentRef:c,descriptionId:l.descriptionId})]})]})}),jF="DialogTitle",hX=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=zi(jF,r);return i.jsx(et.h2,{id:s.titleId,...n,ref:e})});hX.displayName=jF;var fX="DialogDescription",mX=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=zi(fX,r);return i.jsx(et.p,{id:s.descriptionId,...n,ref:e})});mX.displayName=fX;var pX="DialogClose",gX=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=zi(pX,r);return i.jsx(et.button,{type:"button",...n,ref:e,onClick:De(t.onClick,()=>s.onOpenChange(!1))})});gX.displayName=pX;function _F(t){return t?"open":"closed"}var vX="DialogTitleWarning",[Uje,yX]=_oe(vX,{contentName:fd,titleName:jF,docsSlug:"dialog"}),Mje=({titleId:t})=>{const e=yX(vX),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},Qje="DialogDescriptionWarning",Lje=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${yX(Qje).contentName}}.`;return v.useEffect(()=>{var a;const s=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},CF=aX,BF=oX,EF=cX,jx=uX,_x=AX,Cx=hX,Bx=mX,jC=gX;const To=CF,S1=BF,$je=EF,xX=v.forwardRef(({className:t,...e},r)=>i.jsx(jx,{className:he("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));xX.displayName=jx.displayName;const Hje=xm("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),$i=v.forwardRef(({side:t="right",className:e,children:r,...n},s)=>i.jsxs($je,{children:[i.jsx(xX,{}),i.jsxs(_x,{ref:s,className:he(Hje({side:t}),e),...n,children:[r,i.jsxs(jC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(j_,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$i.displayName=_x.displayName;const Io=({className:t,...e})=>i.jsx("div",{className:he("flex flex-col space-y-2 text-center sm:text-left",t),...e});Io.displayName="SheetHeader";const Tl=({className:t,...e})=>i.jsx("div",{className:he("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Tl.displayName="SheetFooter";const Po=v.forwardRef(({className:t,...e},r)=>i.jsx(Cx,{ref:r,className:he("text-lg font-semibold text-foreground",t),...e}));Po.displayName=Cx.displayName;const Kv=v.forwardRef(({className:t,...e},r)=>i.jsx(Bx,{ref:r,className:he("text-sm text-muted-foreground",t),...e}));Kv.displayName=Bx.displayName;var Vje="Separator",CL="horizontal",Kje=["horizontal","vertical"],wX=v.forwardRef((t,e)=>{const{decorative:r,orientation:n=CL,...s}=t,a=zje(n)?n:CL,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(et.div,{"data-orientation":a,...l,...s,ref:e})});wX.displayName=Vje;function zje(t){return Kje.includes(t)}var bX=wX;const vs=v.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},s)=>i.jsx(bX,{ref:s,decorative:r,orientation:e,className:he("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));vs.displayName=bX.displayName;const Gje=()=>{const[t,e]=Rme(),[r,n]=v.useState(t.get("q")||""),[s,a]=v.useState("price-asc"),[o,l]=v.useState({priceRange:[0,100],types:[],origins:[]}),[c,u]=v.useState([]),[A,d]=v.useState([]),[h,f]=v.useState([]),[m,p]=v.useState([]),[g,y]=v.useState(!0),[x,b]=v.useState(0),[j,C]=v.useState(100),{addItem:E}=xx();v.useEffect(()=>{(async()=>{y(!0);try{const{data:D,error:M}=await J.from("products").select("*");if(M)throw M;if(D){u(D);const H=Array.from(new Set(D.map(O=>O.origin).filter(Boolean)));f(H);const U=Array.from(new Set(D.map(O=>O.type).filter(Boolean)));if(p(U),D.length>0){const O=D.map(G=>G.price),R=Math.floor(Math.min(...O)),Q=Math.ceil(Math.max(...O));b(R),C(Q),l(G=>({...G,priceRange:[R,Q]}))}}}catch(D){console.error("Error fetching products:",D),fe({title:"Error",description:"Gagal memuat produk",variant:"destructive"})}finally{y(!1)}})()},[]),v.useEffect(()=>{if(g)return;const T=t.get("category"),D=t.get("featured"),M=t.get("discount"),H=t.get("q");H&&H!==r&&n(H);let U=[...c];switch(r&&(U=U.filter(O=>{var R;return O.name.toLowerCase().includes(r.toLowerCase())||(((R=O.description)==null?void 0:R.toLowerCase().includes(r.toLowerCase()))??!1)})),T&&(U=U.filter(O=>O.type===T)),D==="true"&&(U=U.filter(O=>O.featured===!0)),M==="true"&&(U=U.filter(O=>O.discount!==null&&O.discount>0)),U=U.filter(O=>{const R=O.price;return!(R<o.priceRange[0]||R>o.priceRange[1]||o.types.length>0&&!o.types.includes(O.type)||o.origins.length>0&&(!O.origin||!o.origins.includes(O.origin)))}),s){case"price-asc":U.sort((O,R)=>O.price-R.price);break;case"price-desc":U.sort((O,R)=>R.price-O.price);break;case"rating":U.sort((O,R)=>(R.rating||0)-(O.rating||0));break;case"newest":U.sort((O,R)=>{const Q=O.created_at?new Date(O.created_at).getTime():0;return(R.created_at?new Date(R.created_at).getTime():0)-Q});break}d(U)},[c,t,r,s,o,g]);const _=()=>{e(T=>(r?T.set("q",r):T.delete("q"),T))},B=T=>{E({id:T.id,name:T.name,price:T.discount?T.price*(1-T.discount/100):T.price,image:T.images&&T.images.length>0?T.images[0]:"/https://image1ws.indotrading.com/s3/productimages/webp/co263038/p1282683/w600-h600/f43a666d-eca7-4cb4-aa14-450eae21f24f.jpg",type:T.type,quantity:1}),fe({title:"Ditambahkan ke keranjang",description:`${T.name} telah ditambahkan ke keranjang belanja Anda.`})},S=T=>{l(D=>{const M=[...D.types],H=M.indexOf(T);return H>-1?M.splice(H,1):M.push(T),{...D,types:M}})},N=T=>{l(D=>{const M=[...D.origins],H=M.indexOf(T);return H>-1?M.splice(H,1):M.push(T),{...D,origins:M}})},P=T=>{l(D=>({...D,priceRange:[T[0],T[1]]}))},I=()=>{l({priceRange:[x,j],types:[],origins:[]})};return i.jsx(Wt,{children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex gap-2 mb-4",children:[i.jsxs("div",{className:"relative flex-grow",children:[i.jsx(ce,{type:"text",placeholder:"Cari produk arang...",value:r,onChange:T=>n(T.target.value),className:"pl-10",onKeyDown:T=>{T.key==="Enter"&&_()}}),i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(ku,{className:"h-4 w-4 text-muted-foreground"})})]}),i.jsx(V,{onClick:_,className:"bg-flame-500 hover:bg-flame-600",children:"Search"}),i.jsxs(To,{children:[i.jsx(S1,{asChild:!0,children:i.jsx(V,{variant:"outline",size:"icon",className:"flex-shrink-0",children:i.jsx(n9,{className:"h-4 w-4"})})}),i.jsxs($i,{side:"right",children:[i.jsxs(Io,{children:[i.jsx(Po,{children:"Filter Produk"}),i.jsx(Kv,{children:"Filter produk berdasarkan kategori, harga, dan rating."})]}),i.jsxs("div",{className:"py-4",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Filter"}),i.jsxs(us,{value:s,onValueChange:T=>a(T),children:[i.jsx(Ln,{children:i.jsx(As,{placeholder:"Urutkan"})}),i.jsxs($n,{children:[i.jsx(vt,{value:"price-asc",children:"Harga: Terendah ke Tertinggi"}),i.jsx(vt,{value:"price-desc",children:"Harga: Tertinggi ke Terendah"}),i.jsx(vt,{value:"rating",children:"Rating Terbaik"}),i.jsx(vt,{value:"newest",children:"Terbaru"})]})]})]}),i.jsx(vs,{className:"my-4"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Range Harga"}),i.jsxs("div",{className:"px-2",children:[i.jsx(rX,{max:j,min:x,step:1,value:[o.priceRange[0],o.priceRange[1]],onValueChange:P}),i.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[i.jsxs("span",{children:["Rp ",o.priceRange[0]]}),i.jsxs("span",{children:["Rp ",o.priceRange[1]]})]})]})]}),i.jsx(vs,{className:"my-4"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Tipe Charcoal"}),i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:m.map(T=>i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:`type-${T}`,checked:o.types.includes(T),onChange:()=>S(T),className:"mr-2"}),i.jsx("label",{htmlFor:`type-${T}`,className:"text-sm",children:T})]},T))})]}),i.jsx(vs,{className:"my-4"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Asal"}),i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:h.map(T=>i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:`origin-${T}`,checked:o.origins.includes(T),onChange:()=>N(T),className:"mr-2"}),i.jsx("label",{htmlFor:`origin-${T}`,className:"text-sm",children:T})]},T))})]}),i.jsxs("div",{className:"mt-6 flex justify-end",children:[i.jsx(V,{variant:"outline",onClick:I,className:"mr-2",children:"Hapus Semua"}),i.jsx(S1,{asChild:!0,children:i.jsx(V,{children:"Terapkan Filter"})})]})]})]})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h2",{className:"text-xl font-bold mb-2",children:"Hasil Pencarian"}),i.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[A.length," produk ditemukan"]}),g?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx(zt,{className:"h-8 w-8 animate-spin text-flame-500"})}):i.jsx("div",{className:"grid grid-cols-2 gap-4",children:A.map(T=>i.jsxs(ye,{className:"overflow-hidden border-none shadow-sm",children:[i.jsx(st,{to:`/product/${T.id}`,children:i.jsxs("div",{className:"h-32 bg-charcoal-100 relative",children:[i.jsx("img",{src:T.images&&T.images.length>0?T.images[0]:"/placeholder.svg",alt:T.name,className:"h-full w-full object-cover"}),T.discount&&T.discount>0&&i.jsxs("span",{className:"absolute top-2 right-2 bg-flame-500 text-white text-xs px-2 py-1 rounded-full",children:[T.discount,"% DISKON"]})]})}),i.jsxs(xe,{className:"p-3",children:[i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:T.type}),i.jsx(st,{to:`/product/${T.id}`,children:i.jsx("h3",{className:"font-medium text-sm line-clamp-1",children:T.name})})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("div",{children:T.discount&&T.discount>0?i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"font-bold text-sm",children:ge(T.price*(1-T.discount/100))}),i.jsx("span",{className:"text-muted-foreground text-xs line-through",children:ge(T.price)})]}):i.jsx("span",{className:"font-bold text-sm",children:ge(T.price)})}),i.jsx(V,{size:"icon",className:"h-8 w-8 rounded-full bg-flame-500 hover:bg-flame-600",onClick:()=>B(T),children:i.jsx(rx,{className:"h-4 w-4"})})]})]})]},T.id))}),!g&&A.length===0&&i.jsxs("div",{className:"text-center py-10",children:[i.jsx("p",{className:"text-lg font-medium",children:"Tidak ada produk ditemukan"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Coba sesuaikan pencarian atau kriteria filter Anda"})]})]})]})})};function Wje(t,e=[]){let r=[];function n(a,o){const l=v.createContext(o),c=r.length;r=[...r,o];function u(d){const{scope:h,children:f,...m}=d,p=(h==null?void 0:h[t][c])||l,g=v.useMemo(()=>m,Object.values(m));return i.jsx(p.Provider,{value:g,children:f})}function A(d,h){const f=(h==null?void 0:h[t][c])||l,m=v.useContext(f);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,A]}const s=()=>{const a=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return v.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,qje(s,...e)]}function qje(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(a)[`__scope${u}`];return{...l,...d}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var cS="rovingFocusGroup.onEntryFocus",Xje={bubbles:!1,cancelable:!0},_C="RovingFocusGroup",[UT,jX,Jje]=v_(_C),[Yje,CC]=Wje(_C,[Jje]),[Zje,e_e]=Yje(_C),_X=v.forwardRef((t,e)=>i.jsx(UT.Provider,{scope:t.__scopeRovingFocusGroup,children:i.jsx(UT.Slot,{scope:t.__scopeRovingFocusGroup,children:i.jsx(t_e,{...t,ref:e})})}));_X.displayName=_C;var t_e=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:A=!1,...d}=t,h=v.useRef(null),f=yt(e,h),m=Dm(a),[p=null,g]=si({prop:o,defaultProp:l,onChange:c}),[y,x]=v.useState(!1),b=Gr(u),j=jX(r),C=v.useRef(!1),[E,_]=v.useState(0);return v.useEffect(()=>{const B=h.current;if(B)return B.addEventListener(cS,b),()=>B.removeEventListener(cS,b)},[b]),i.jsx(Zje,{scope:r,orientation:n,dir:m,loop:s,currentTabStopId:p,onItemFocus:v.useCallback(B=>g(B),[g]),onItemShiftTab:v.useCallback(()=>x(!0),[]),onFocusableItemAdd:v.useCallback(()=>_(B=>B+1),[]),onFocusableItemRemove:v.useCallback(()=>_(B=>B-1),[]),children:i.jsx(et.div,{tabIndex:y||E===0?-1:0,"data-orientation":n,...d,ref:f,style:{outline:"none",...t.style},onMouseDown:De(t.onMouseDown,()=>{C.current=!0}),onFocus:De(t.onFocus,B=>{const S=!C.current;if(B.target===B.currentTarget&&S&&!y){const N=new CustomEvent(cS,Xje);if(B.currentTarget.dispatchEvent(N),!N.defaultPrevented){const P=j().filter(H=>H.focusable),I=P.find(H=>H.active),T=P.find(H=>H.id===p),M=[I,T,...P].filter(Boolean).map(H=>H.ref.current);EX(M,A)}}C.current=!1}),onBlur:De(t.onBlur,()=>x(!1))})})}),CX="RovingFocusGroupItem",BX=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,...o}=t,l=jo(),c=a||l,u=e_e(CX,r),A=u.currentTabStopId===c,d=jX(r),{onFocusableItemAdd:h,onFocusableItemRemove:f}=u;return v.useEffect(()=>{if(n)return h(),()=>f()},[n,h,f]),i.jsx(UT.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:i.jsx(et.span,{tabIndex:A?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:De(t.onMouseDown,m=>{n?u.onItemFocus(c):m.preventDefault()}),onFocus:De(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:De(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){u.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const p=s_e(m,u.orientation,u.dir);if(p!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let y=d().filter(x=>x.focusable).map(x=>x.ref.current);if(p==="last")y.reverse();else if(p==="prev"||p==="next"){p==="prev"&&y.reverse();const x=y.indexOf(m.currentTarget);y=u.loop?a_e(y,x+1):y.slice(x+1)}setTimeout(()=>EX(y))}})})})});BX.displayName=CX;var r_e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function n_e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function s_e(t,e,r){const n=n_e(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return r_e[n]}function EX(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function a_e(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var SX=_X,NX=BX,SF="Tabs",[i_e,Mnt]=aa(SF,[CC]),kX=CC(),[o_e,NF]=i_e(SF),TX=v.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,A=Dm(l),[d,h]=si({prop:n,onChange:s,defaultProp:a});return i.jsx(o_e,{scope:r,baseId:jo(),value:d,onValueChange:h,orientation:o,dir:A,activationMode:c,children:i.jsx(et.div,{dir:A,"data-orientation":o,...u,ref:e})})});TX.displayName=SF;var IX="TabsList",PX=v.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,a=NF(IX,r),o=kX(r);return i.jsx(SX,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:i.jsx(et.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:e})})});PX.displayName=IX;var OX="TabsTrigger",FX=v.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=t,o=NF(OX,r),l=kX(r),c=UX(o.baseId,n),u=MX(o.baseId,n),A=n===o.value;return i.jsx(NX,{asChild:!0,...l,focusable:!s,active:A,children:i.jsx(et.button,{type:"button",role:"tab","aria-selected":A,"aria-controls":u,"data-state":A?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:e,onMouseDown:De(t.onMouseDown,d=>{!s&&d.button===0&&d.ctrlKey===!1?o.onValueChange(n):d.preventDefault()}),onKeyDown:De(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(n)}),onFocus:De(t.onFocus,()=>{const d=o.activationMode!=="manual";!A&&!s&&d&&o.onValueChange(n)})})})});FX.displayName=OX;var DX="TabsContent",RX=v.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...o}=t,l=NF(DX,r),c=UX(l.baseId,n),u=MX(l.baseId,n),A=n===l.value,d=v.useRef(A);return v.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(Ms,{present:s||A,children:({present:h})=>i.jsx(et.div,{"data-state":A?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:h&&a})})});RX.displayName=DX;function UX(t,e){return`${t}-trigger-${e}`}function MX(t,e){return`${t}-content-${e}`}var l_e=TX,QX=PX,LX=FX,$X=RX;const sa=l_e,Fs=v.forwardRef(({className:t,...e},r)=>i.jsx(QX,{ref:r,className:he("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Fs.displayName=QX.displayName;const Ft=v.forwardRef(({className:t,...e},r)=>i.jsx(LX,{ref:r,className:he("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Ft.displayName=LX.displayName;const er=v.forwardRef(({className:t,...e},r)=>i.jsx($X,{ref:r,className:he("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));er.displayName=$X.displayName;const c_e=()=>{const{id:t}=cx(),[e,r]=v.useState(null),[n,s]=v.useState(!0),[a,o]=v.useState(""),[l,c]=v.useState(1),[u,A]=v.useState(0),{addItem:d}=xx(),h=Tt();v.useEffect(()=>((async()=>{if(t)try{s(!0);const{data:x,error:b}=await J.from("products").select("*").eq("id",t).single();if(b)throw b;x?(r(x),document.title=`${x.name} - Toko Arang`):o("Produk tidak ditemukan")}catch(x){console.error("Error fetching product:",x),o(x.message||"Gagal memuat produk")}finally{s(!1)}})(),()=>{r(null),c(1),A(0)}),[t]);const f=()=>{e&&(d({id:e.id,name:e.name,price:e.discount?e.price*(1-e.discount/100):e.price,image:e.images&&e.images.length>0?e.images[0]:"/placeholder.svg",type:e.type,quantity:l}),fe({title:"Ditambahkan ke keranjang",description:`${l} produk ditambahkan ke keranjang Anda`}))},m=()=>{c(y=>Math.max(1,y-1))},p=()=>{c(y=>y+1)};if(n)return i.jsx(Wt,{children:i.jsxs("div",{className:"flex flex-col items-center justify-center h-screen p-4",children:[i.jsx(zt,{className:"h-8 w-8 animate-spin text-flame-500 mb-2"}),i.jsx("p",{className:"text-muted-foreground",children:"Memuat detail produk..."})]})});if(a||!e)return i.jsx(Wt,{children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(V,{variant:"ghost",className:"p-0 mr-2",onClick:()=>h(-1),children:i.jsx(Fi,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-xl font-bold",children:"Produk Tidak Ditemukan"})]}),i.jsxs("div",{className:"text-center py-10",children:[i.jsx("p",{className:"text-muted-foreground mb-4",children:a||"Produk yang diminta tidak dapat ditemukan."}),i.jsx(st,{to:"/search",children:i.jsx(V,{className:"bg-flame-500 hover:bg-flame-600",children:"Jelajahi Produk"})})]})]})});const g=e.discount?e.price*(1-e.discount/100):e.price;return i.jsx(Wt,{children:i.jsxs("div",{className:"pb-24",children:[i.jsxs("div",{className:"sticky top-0 z-10 bg-background p-4 flex items-center shadow-sm",children:[i.jsx(V,{variant:"ghost",className:"p-0 mr-2",onClick:()=>h(-1),children:i.jsx(Fi,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-medium line-clamp-1",children:e.name})]}),i.jsxs("div",{className:"bg-charcoal-50 h-72 relative",children:[e.images&&e.images.length>0?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:e.images[u],alt:e.name,className:"h-full w-full object-contain"}),e.images.length>1&&i.jsx("div",{className:"absolute bottom-2 left-0 right-0 flex justify-center gap-2",children:e.images.map((y,x)=>i.jsx("button",{className:`w-2 h-2 rounded-full ${u===x?"bg-flame-500":"bg-white bg-opacity-50"}`,onClick:()=>A(x)},x))})]}):i.jsx("div",{className:"h-full w-full flex items-center justify-center bg-charcoal-100",children:i.jsx("p",{className:"text-muted-foreground",children:"Gambar tidak tersedia"})}),e.discount&&e.discount>0&&i.jsxs("div",{className:"absolute top-2 right-2 bg-flame-500 text-white text-sm px-3 py-1 rounded-full",children:[e.discount,"% DISKON"]})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:e.type}),i.jsx("h2",{className:"text-xl font-bold",children:e.name})]}),i.jsx("div",{className:"text-right",children:e.discount&&e.discount>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"font-bold text-lg text-flame-500",children:ge(g)}),i.jsx("div",{className:"text-sm text-muted-foreground line-through",children:ge(e.price)})]}):i.jsx("div",{className:"font-bold text-lg",children:ge(e.price)})})]}),i.jsxs("div",{className:"flex items-center mt-1",children:[i.jsx("div",{className:"flex mr-2",children:[1,2,3,4,5].map(y=>i.jsx(Kle,{size:16,className:`${y<=(e.rating||0)?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},y))}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[e.rating||0," (",e.review_count||0," ulasan)"]})]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs ${e.in_stock?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:e.in_stock?"Tersedia":"Habis"}),e.origin&&i.jsxs("span",{className:"inline-block ml-2 text-xs text-muted-foreground",children:["Asal: ",e.origin]})]})]}),i.jsx(vs,{className:"my-4"}),i.jsxs(sa,{defaultValue:"description",className:"mt-4",children:[i.jsxs(Fs,{className:"w-full grid grid-cols-3",children:[i.jsx(Ft,{value:"description",children:"Deskripsi"}),i.jsx(Ft,{value:"specifications",children:"Spesifikasi"}),i.jsx(Ft,{value:"reviews",children:"Ulasan"})]}),i.jsxs(er,{value:"description",className:"mt-4",children:[i.jsx("p",{className:"text-sm",children:e.description||"Tidak ada deskripsi tersedia."}),e.seller&&i.jsx("div",{children:i.jsxs("p",{className:"text-sm mt-4",children:[i.jsx("span",{className:"font-medium",children:"Penjual:"})," ",e.seller]})}),i.jsxs("p",{className:"text-sm mt-2",children:[i.jsx("span",{className:"font-medium",children:"Tipe:"})," ",e.type]}),e.weight&&i.jsxs("p",{className:"text-sm mt-2",children:[i.jsx("span",{className:"font-medium",children:"Berat:"})," ",e.weight," kg"]})]}),i.jsx(er,{value:"specifications",className:"mt-4",children:e.specifications&&Object.keys(e.specifications).length>0?i.jsx("div",{className:"rounded-md border overflow-hidden",children:i.jsx("table",{className:"min-w-full",children:i.jsx("tbody",{children:Object.entries(e.specifications).map(([y,x],b)=>i.jsxs("tr",{className:b%2===0?"bg-secondary":"",children:[i.jsx("td",{className:"px-4 py-2 text-sm font-medium",children:y}),i.jsx("td",{className:"px-4 py-2 text-sm",children:String(x)})]},y))})})}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Tidak ada spesifikasi tersedia."})}),i.jsx(er,{value:"reviews",className:"mt-4",children:i.jsx("div",{className:"space-y-4",children:e.review_count&&e.review_count>0?i.jsx(i.Fragment,{children:i.jsx("p",{className:"text-sm",children:"Ulasan akan ditampilkan di sini."})}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Belum ada ulasan."})})})]})]}),i.jsx("div",{className:"fixed bottom-16 left-0 right-0 max-w-md mx-auto bg-background border-t p-4 z-10",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center border rounded-md",children:[i.jsx(V,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-r-none",onClick:m,disabled:l<=1,children:i.jsx(i9,{className:"h-4 w-4"})}),i.jsx("span",{className:"px-4 py-2 border-l border-r min-w-[40px] text-center",children:l}),i.jsx(V,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-l-none",onClick:p,children:i.jsx(wm,{className:"h-4 w-4"})})]}),i.jsxs(V,{className:"flex-1 ml-4 bg-flame-500 hover:bg-flame-600",onClick:f,disabled:!e.in_stock,children:[i.jsx(rx,{className:"h-4 w-4 mr-2"}),ge(g*l)]})]})})]})})},u_e=()=>{const{items:t,updateQuantity:e,removeItem:r,total:n,clearCart:s}=xx(),{user:a}=qr(),o=Tt(),l=A=>{r(A),fe({title:"Item dihapus",description:"Item telah dihapus dari keranjang Anda."})},c=(A,d)=>{d<=0?(r(A),fe({title:"Item dihapus",description:"Item telah dihapus dari keranjang Anda."})):e(A,d)},u=()=>{if(t.length===0){fe({title:"Keranjang kosong",description:"Silakan tambahkan item ke keranjang Anda sebelum checkout",variant:"destructive"});return}if(!a){fe({title:"Login Diperlukan",description:"Silakan login untuk melanjutkan ke checkout",variant:"destructive"});return}o("/checkout")};return i.jsx(Wt,{children:i.jsxs("div",{className:"p-4",children:[i.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Keranjang Belanja"}),t.length>0?i.jsxs("div",{children:[i.jsx("div",{className:"space-y-4 mb-6",children:t.map(A=>i.jsx(ye,{className:"overflow-hidden shadow-sm",children:i.jsx(xe,{className:"p-3",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"h-20 w-20 bg-charcoal-100 rounded flex-shrink-0",children:i.jsx("img",{src:A.image||"/placeholder.svg",alt:A.name,className:"h-full w-full object-cover"})}),i.jsxs("div",{className:"flex-grow",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:A.type}),i.jsx(st,{to:`/product/${A.id}`,children:i.jsx("h3",{className:"font-medium text-sm line-clamp-1 mb-1",children:A.name})}),i.jsx("span",{className:"font-bold",children:ge(A.price)})]}),i.jsx("button",{onClick:()=>l(A.id),className:"text-muted-foreground hover:text-destructive",children:i.jsx(vv,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex justify-between items-center mt-2",children:[i.jsxs("div",{className:"flex items-center border rounded-md",children:[i.jsx(V,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-r-none p-0",onClick:()=>c(A.id,A.quantity-1),children:i.jsx(i9,{className:"h-3 w-3"})}),i.jsx("span",{className:"px-3 py-1 text-sm border-l border-r",children:A.quantity}),i.jsx(V,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-l-none p-0",onClick:()=>c(A.id,A.quantity+1),children:i.jsx(wm,{className:"h-3 w-3"})})]}),i.jsx("span",{className:"font-bold",children:ge(A.price*A.quantity)})]})]})]})})},A.id))}),i.jsxs("button",{onClick:()=>{s(),fe({title:"Keranjang dikosongkan",description:"Semua item telah dihapus dari keranjang Anda."})},className:"text-sm text-muted-foreground hover:text-destructive mb-4 flex items-center",children:[i.jsx(vv,{className:"h-4 w-4 mr-1"}),"Kosongkan keranjang"]}),i.jsxs("div",{className:"bg-secondary rounded-lg p-4 mb-6",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{children:"Subtotal"}),i.jsx("span",{className:"font-medium",children:ge(n)})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{children:"Pengiriman"}),i.jsx("span",{className:"font-medium",children:ge(5e3)})]}),i.jsx(vs,{className:"my-2"}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-bold",children:"Total"}),i.jsx("span",{className:"font-bold",children:ge(n+5e3)})]})]}),i.jsx(V,{onClick:u,className:"w-full bg-flame-500 hover:bg-flame-600",children:a?"Lanjut ke Pembayaran":"Login untuk Checkout"})]}):i.jsxs("div",{className:"text-center py-10",children:[i.jsx("div",{className:"text-charcoal-400 mb-4",children:i.jsx(A_e,{size:64,className:"mx-auto"})}),i.jsx("h2",{className:"text-xl font-medium mb-2",children:"Keranjang Anda kosong"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Sepertinya Anda belum menambahkan produk arang ke keranjang."}),i.jsx(st,{to:"/search",children:i.jsx(V,{className:"bg-flame-500 hover:bg-flame-600",children:"Jelajahi Produk"})})]})]})})},A_e=({size:t=24,className:e=""})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[i.jsx("circle",{cx:"8",cy:"21",r:"1"}),i.jsx("circle",{cx:"19",cy:"21",r:"1"}),i.jsx("path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"})]});var kF="Radio",[d_e,HX]=aa(kF),[h_e,f_e]=d_e(kF),VX=v.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:a,disabled:o,value:l="on",onCheck:c,form:u,...A}=t,[d,h]=v.useState(null),f=yt(e,g=>h(g)),m=v.useRef(!1),p=d?u||!!d.closest("form"):!0;return i.jsxs(h_e,{scope:r,checked:s,disabled:o,children:[i.jsx(et.button,{type:"button",role:"radio","aria-checked":s,"data-state":GX(s),"data-disabled":o?"":void 0,disabled:o,value:l,...A,ref:f,onClick:De(t.onClick,g=>{s||c==null||c(),p&&(m.current=g.isPropagationStopped(),m.current||g.stopPropagation())})}),p&&i.jsx(m_e,{control:d,bubbles:!m.current,name:n,value:l,checked:s,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});VX.displayName=kF;var KX="RadioIndicator",zX=v.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...s}=t,a=f_e(KX,r);return i.jsx(Ms,{present:n||a.checked,children:i.jsx(et.span,{"data-state":GX(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:e})})});zX.displayName=KX;var m_e=t=>{const{control:e,checked:r,bubbles:n=!0,...s}=t,a=v.useRef(null),o=wx(r),l=ax(e);return v.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&d){const h=new Event("click",{bubbles:n});d.call(c,r),c.dispatchEvent(h)}},[o,r,n]),i.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function GX(t){return t?"checked":"unchecked"}var p_e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],TF="RadioGroup",[g_e,Qnt]=aa(TF,[CC,HX]),WX=CC(),qX=HX(),[v_e,y_e]=g_e(TF),XX=v.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:a,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:A=!0,onValueChange:d,...h}=t,f=WX(r),m=Dm(u),[p,g]=si({prop:a,defaultProp:s,onChange:d});return i.jsx(v_e,{scope:r,name:n,required:o,disabled:l,value:p,onValueChange:g,children:i.jsx(SX,{asChild:!0,...f,orientation:c,dir:m,loop:A,children:i.jsx(et.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:m,...h,ref:e})})})});XX.displayName=TF;var JX="RadioGroupItem",YX=v.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...s}=t,a=y_e(JX,r),o=a.disabled||n,l=WX(r),c=qX(r),u=v.useRef(null),A=yt(e,u),d=a.value===s.value,h=v.useRef(!1);return v.useEffect(()=>{const f=p=>{p_e.includes(p.key)&&(h.current=!0)},m=()=>h.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",m),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",m)}},[]),i.jsx(NX,{asChild:!0,...l,focusable:!o,active:d,children:i.jsx(VX,{disabled:o,required:a.required,checked:d,...c,...s,name:a.name,ref:A,onCheck:()=>a.onValueChange(s.value),onKeyDown:De(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:De(s.onFocus,()=>{var f;h.current&&((f=u.current)==null||f.click())})})})});YX.displayName=JX;var x_e="RadioGroupIndicator",ZX=v.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,s=qX(r);return i.jsx(zX,{...s,...n,ref:e})});ZX.displayName=x_e;var eJ=XX,tJ=YX,w_e=ZX;const og=v.forwardRef(({className:t,...e},r)=>i.jsx(eJ,{className:he("grid gap-2",t),...e,ref:r}));og.displayName=eJ.displayName;const lA=v.forwardRef(({className:t,...e},r)=>i.jsx(tJ,{ref:r,className:he("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:i.jsx(w_e,{className:"flex items-center justify-center",children:i.jsx(_le,{className:"h-2.5 w-2.5 fill-current text-current"})})}));lA.displayName=tJ.displayName;var b_e="Label",rJ=v.forwardRef((t,e)=>i.jsx(et.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));rJ.displayName=b_e;var nJ=rJ;const j_e=xm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Te=v.forwardRef(({className:t,...e},r)=>i.jsx(nJ,{ref:r,className:he(j_e(),t),...e}));Te.displayName=nJ.displayName;let z0;const __e=new Uint8Array(16);function C_e(){if(!z0&&(z0=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!z0))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return z0(__e)}const Tn=[];for(let t=0;t<256;++t)Tn.push((t+256).toString(16).slice(1));function B_e(t,e=0){return Tn[t[e+0]]+Tn[t[e+1]]+Tn[t[e+2]]+Tn[t[e+3]]+"-"+Tn[t[e+4]]+Tn[t[e+5]]+"-"+Tn[t[e+6]]+Tn[t[e+7]]+"-"+Tn[t[e+8]]+Tn[t[e+9]]+"-"+Tn[t[e+10]]+Tn[t[e+11]]+Tn[t[e+12]]+Tn[t[e+13]]+Tn[t[e+14]]+Tn[t[e+15]]}const E_e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),BL={randomUUID:E_e};function Cn(t,e,r){if(BL.randomUUID&&!e&&!t)return BL.randomUUID();t=t||{};const n=t.random||(t.rng||C_e)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,B_e(n)}const wc={async getVouchers(t=100,e=0,r){try{console.log("Fetching vouchers with params:",{limit:t,offset:e,filters:r});const{error:n}=await J.from("vouchers").select("count",{count:"exact",head:!0});if(n)return console.error("Error checking vouchers table:",n),n.code==="PGRST116"||n.message&&n.message.includes("does not exist")?{data:[],error:new Error("Tabel vouchers belum dibuat. Klik tombol Inisialisasi Data untuk membuat tabel.")}:{data:[],error:n};let s=J.from("vouchers").select("*").order("created_at",{ascending:!1});r&&(r.is_active!==void 0&&(s=s.eq("is_active",r.is_active)),r.search&&(s=s.or(`code.ilike.%${r.search}%,description.ilike.%${r.search}%`))),s=s.range(e,e+t-1),console.log("Executing query for vouchers...");const{data:a,error:o}=await s;return o?(console.error("Error in vouchers query:",o),{data:[],error:o}):(console.log("Successfully fetched vouchers:",(a==null?void 0:a.length)||0,"results"),{data:a,error:null})}catch(n){return console.error("Error fetching vouchers:",n),{data:[],error:n}}},async addVoucher(t){try{const e=["code","discount_type","discount_value","start_date","end_date","is_active"];for(const o of e)if(!t[o])throw new Error(`Field ${o} wajib diisi`);const{data:r,error:n}=await J.from("vouchers").select("code").eq("code",t.code).maybeSingle();if(n)throw console.error("Error checking unique voucher:",n),new Error(`Gagal memeriksa kode voucher: ${n.message||"Unknown error"}`);if(r)throw new Error(`Kode voucher '${t.code}' sudah digunakan`);if(t.id||(t.id=Cn()),t.usage_count===void 0&&(t.usage_count=0),t.created_at||(t.created_at=new Date().toISOString()),typeof t.start_date=="string"&&!t.start_date.includes("T"))try{t.start_date=new Date(`${t.start_date}T00:00:00`).toISOString()}catch{throw new Error(`Format tanggal mulai tidak valid: ${t.start_date}`)}if(typeof t.end_date=="string"&&!t.end_date.includes("T"))try{t.end_date=new Date(`${t.end_date}T23:59:59`).toISOString()}catch{throw new Error(`Format tanggal berakhir tidak valid: ${t.end_date}`)}console.log("Saving voucher data:",JSON.stringify(t,null,2));const{data:s,error:a}=await J.from("vouchers").insert(t).select().single();if(a)throw console.error("Supabase error details:",a),new Error(`Gagal menyimpan voucher: ${a.message||"Unknown database error"}`);return{data:s,error:null}}catch(e){const r=e.message||"Terjadi kesalahan yang tidak diketahui";return console.error("Error adding voucher:",r),{data:null,error:new Error(r)}}},async updateVoucher(t,e){try{if(!t)throw new Error("ID voucher tidak boleh kosong");if(e.code){const{data:s,error:a}=await J.from("vouchers").select("code").eq("code",e.code).neq("id",t).maybeSingle();if(a)throw console.error("Error checking unique voucher:",a),new Error(`Gagal memeriksa kode voucher: ${a.message||"Unknown error"}`);if(s)throw new Error(`Kode voucher '${e.code}' sudah digunakan`)}if(e.start_date&&typeof e.start_date=="string"&&!e.start_date.includes("T"))try{e.start_date=new Date(`${e.start_date}T00:00:00`).toISOString()}catch{throw new Error(`Format tanggal mulai tidak valid: ${e.start_date}`)}if(e.end_date&&typeof e.end_date=="string"&&!e.end_date.includes("T"))try{e.end_date=new Date(`${e.end_date}T23:59:59`).toISOString()}catch{throw new Error(`Format tanggal berakhir tidak valid: ${e.end_date}`)}e.updated_at=new Date().toISOString(),console.log("Updating voucher data:",JSON.stringify({id:t,voucher:e},null,2));const{data:r,error:n}=await J.from("vouchers").update(e).eq("id",t).select().single();if(n)throw console.error("Supabase error details:",n),new Error(`Gagal memperbarui voucher: ${n.message||"Unknown database error"}`);return{data:r,error:null}}catch(r){const n=r.message||"Terjadi kesalahan yang tidak diketahui";return console.error("Error updating voucher:",n),{data:null,error:new Error(n)}}},async deleteVoucher(t){try{const{error:e}=await J.from("vouchers").delete().eq("id",t);if(e)throw e;return{data:null,error:null}}catch(e){return console.error("Error deleting voucher:",e),{data:null,error:e}}},async toggleVoucherStatus(t,e){try{const{data:r,error:n}=await J.from("vouchers").update({is_active:e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return{data:r,error:null}}catch(r){return console.error("Error toggling voucher status:",r),{data:null,error:r}}},async getVoucherByCode(t){try{const{data:e,error:r}=await J.from("vouchers").select("*").eq("code",t).eq("is_active",!0).single();if(r){if(r.code==="PGRST116")return{data:null,error:new Error("Kode voucher tidak valid atau sudah tidak aktif")};throw r}const n=new Date,s=new Date(e.start_date),a=new Date(e.end_date);return n<s?{data:null,error:new Error("Voucher belum berlaku")}:n>a?{data:null,error:new Error("Voucher sudah berakhir")}:e.usage_limit&&e.usage_count>=e.usage_limit?{data:null,error:new Error("Voucher sudah mencapai batas penggunaan")}:{data:e,error:null}}catch(e){return console.error("Error getting voucher by code:",e),{data:null,error:e}}},calculateDiscount(t,e){if(t.min_purchase&&e<t.min_purchase)return 0;let r=0;return t.discount_type==="percentage"?(r=e*(t.discount_value/100),t.max_discount&&r>t.max_discount&&(r=t.max_discount)):(r=t.discount_value,r>e&&(r=e)),r},async incrementUsageCount(t){try{const{data:e,error:r}=await J.from("vouchers").select("usage_count").eq("id",t).single();if(r)throw r;const n=(e.usage_count||0)+1,{data:s,error:a}=await J.from("vouchers").update({usage_count:n,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(a)throw a;return{data:s,error:null}}catch(e){return console.error("Error incrementing voucher usage count:",e),{data:null,error:e}}}},vA={async getTransactions(t=100,e=0,r){try{let n=J.from("coal_inventory_transactions").select("*").order("transaction_date",{ascending:!1}).range(e,e+t-1);r&&(r.transaction_type&&(n=n.eq("transaction_type",r.transaction_type)),r.from_date&&(n=n.gte("transaction_date",r.from_date)),r.to_date&&(n=n.lte("transaction_date",r.to_date)),r.search&&(n=n.or(`source_destination.ilike.%${r.search}%,document_reference.ilike.%${r.search}%,notes.ilike.%${r.search}%`)));const{data:s,error:a}=await n;return{data:s,error:a}}catch(n){return console.error("Error fetching coal inventory transactions:",n),{data:null,error:n}}},async getSummary(){try{const{data:t,error:e}=await J.from("coal_inventory_summary").select("*").single();return{data:t,error:e}}catch(t){return console.error("Error fetching coal inventory summary:",t),{data:null,error:t}}},async addTransaction(t){try{const e=["transaction_date","transaction_type","quantity_kg","source_destination","created_by"];for(const s of e)if(!t[s])throw new Error(`Field ${s} wajib diisi`);t.id||(t.id=Cn()),t.created_at||(t.created_at=new Date().toISOString()),t.price_per_kg&&t.quantity_kg&&(t.total_amount=t.price_per_kg*t.quantity_kg),console.log("Menambahkan transaksi baru:",t);const{data:r,error:n}=await J.from("coal_inventory_transactions").insert(t).select().single();if(n)throw console.error("Database error saat menambahkan transaksi:",n),n;if(!r)throw new Error("Tidak ada data yang dikembalikan setelah insert");return await this.updateInventorySummary(),{data:r,error:null}}catch(e){return console.error("Error adding coal inventory transaction:",e),{data:null,error:e}}},async updateTransaction(t,e){try{e.price_per_kg&&e.quantity_kg&&(e.total_amount=e.price_per_kg*e.quantity_kg);const{data:r,error:n}=await J.from("coal_inventory_transactions").update(e).eq("id",t).select().single();if(n)throw n;return await this.updateInventorySummary(),{data:r,error:null}}catch(r){return console.error("Error updating coal inventory transaction:",r),{data:null,error:r}}},async deleteTransaction(t){try{const{error:e}=await J.from("coal_inventory_transactions").delete().eq("id",t);if(e)throw e;return await this.updateInventorySummary(),{data:null,error:null}}catch(e){return console.error("Error deleting coal inventory transaction:",e),{data:null,error:e}}},async reduceStockFromOrder(t,e,r){try{const n=e.reduce((o,l)=>l.productName.toLowerCase().includes("arang")?o+l.quantity:o,0);if(n<=0)return!0;const s={id:Cn(),transaction_date:new Date().toISOString(),transaction_type:"outgoing",quantity_kg:n,source_destination:`Order #${t.substring(0,8)}`,notes:`Pengurangan stok otomatis untuk pesanan #${t.substring(0,8)}`,created_by:r,created_at:new Date().toISOString(),document_reference:t},{error:a}=await J.from("coal_inventory_transactions").insert(s);return a?(console.error("Error reducing coal stock:",a),!1):(await this.updateInventorySummary(),!0)}catch(n){return console.error("Error in reduceStockFromOrder:",n),!1}},async restoreStockFromCancelledOrder(t,e,r){try{const n=e.reduce((l,c)=>c.productName.toLowerCase().includes("arang")?l+c.quantity:l,0);if(n<=0)return!0;const{data:s}=await J.from("coal_inventory_transactions").select("*").eq("document_reference",t).eq("transaction_type","outgoing");if(!s||s.length===0)return console.log(`No previous stock reduction found for order ${t}`),!0;const a={id:Cn(),transaction_date:new Date().toISOString(),transaction_type:"incoming",quantity_kg:n,source_destination:`Cancelled Order #${t.substring(0,8)}`,notes:`Pengembalian stok otomatis untuk pesanan #${t.substring(0,8)} yang dibatalkan`,created_by:r,created_at:new Date().toISOString(),document_reference:t,quality_grade:"standard",vehicle_info:"cancelled_order_return"},{error:o}=await J.from("coal_inventory_transactions").insert(a);return o?(console.error("Error restoring coal stock:",o),!1):(await this.updateInventorySummary(),!0)}catch(n){return console.error("Error in restoreStockFromCancelledOrder:",n),!1}},async updateInventorySummary(){try{const{data:t,error:e}=await J.from("coal_inventory_transactions").select("*").order("transaction_date",{ascending:!0});if(e){console.error("Error fetching coal transactions:",e);return}if(!t||t.length===0)return;let r=0,n=0,s=0,a=0,o=0,l=0,c=0,u="",A=0;t.forEach(b=>{const j=b.transaction_type==="incoming"&&b.vehicle_info==="cancelled_order_return";if(b.transaction_type==="incoming")j?A+=b.quantity_kg:r+=b.quantity_kg,b.quality_grade==="premium"?s+=b.quantity_kg:b.quality_grade==="standard"?a+=b.quantity_kg:b.quality_grade==="economy"&&(o+=b.quantity_kg),!j&&b.price_per_kg&&b.price_per_kg>0&&(l+=b.price_per_kg*b.quantity_kg,c+=b.quantity_kg);else if(b.transaction_type==="outgoing"){n+=b.quantity_kg;let C=b.quantity_kg;if(o>0){const E=Math.min(o,C);o-=E,C-=E}if(C>0&&a>0){const E=Math.min(a,C);a-=E,C-=E}if(C>0&&s>0){const E=Math.min(s,C);s-=E}}(!u||new Date(b.transaction_date)>new Date(u))&&(u=b.transaction_date)});const d=r-n+A,h=c>0?l/c:0,f=d*h;console.log("Inventory Summary Calculation:",{totalIncoming:r,totalOutgoing:n,cancelledOrderStock:A,currentStock:d,totalPremium:s,totalStandard:a,totalEconomy:o});const m=Math.max(0,s),p=Math.max(0,a),g=Math.max(0,o),y={total_incoming_kg:r,total_outgoing_kg:n,current_stock_kg:d,average_price_per_kg:h,last_transaction_date:u,stock_value:f,premium_stock_kg:m,standard_stock_kg:p,economy_stock_kg:g},{data:x}=await J.from("coal_inventory_summary").select("id").limit(1);x&&x.length>0?await J.from("coal_inventory_summary").update(y).eq("id",x[0].id):await J.from("coal_inventory_summary").insert({...y,id:Cn()})}catch(t){console.error("Error updating inventory summary:",t)}}};sF(Pm);const S_e=async t=>{try{const{data:e,error:r}=await J.from("profiles").select("name, email, phone").eq("id",t.user_id).single();if(r)throw console.error("Error fetching customer data:",r),r;console.log("Skipping Firebase notifications due to API configuration issues");try{const n={...t};let s={street:"N/A",city:"N/A",province:"N/A",postal_code:"N/A"};if(t.shipping_address_id){const{data:f,error:m}=await J.from("addresses").select("street, city, province, postal_code, district, recipient_name, recipient_phone").eq("id",t.shipping_address_id).single();!m&&f&&(s=f)}let a={name:"JPC Delivery",cost:0,provider:"JPC",service:"Regular"};const o=t.shipping_id||t.shipping_method_id;if(o){const{data:f,error:m}=await J.from("shipping_methods").select("name, provider, service, cost").eq("id",o).single();!m&&f&&(a=f,n.shipping_cost=f.cost)}let l=null;const c=t.discount_id||t.voucher_id;if(c){const{data:f,error:m}=await J.from("discounts").select("code, type, value, description").eq("id",c).single();!m&&f&&(l=f,n.discount_data=f)}let u={name:"Transfer Bank",bank_name:"SeaBank",account_number:"901958730549"};if(t.payment_method){const f=typeof t.payment_method=="string"?t.payment_method_id||"":t.payment_method;if(f){const{data:m,error:p}=await J.from("payment_methods").select("name, bank_name, account_number, description").eq("id",f).single();!p&&m&&(u=m)}}const{data:A,error:d}=await J.from("order_items").select("product_name, quantity, price, product_id, variant, unit").eq("order_id",t.id),h=!d&&Array.isArray(A)?A:[];if(console.log("WhatsApp Order Data:",{orderID:n.id,customerPhone:e==null?void 0:e.phone,itemsCount:h.length,hasShippingData:!!a,hasPaymentData:!!u}),e!=null&&e.phone)try{e.phone.trim()===""?console.log("Customer phone number is empty, skipping WhatsApp notification"):(console.log("Sending WhatsApp notification to customer:",e.phone),await Qbe(n,e,s,h,a,u)?console.log(" WhatsApp notification sent successfully to customer:",e.phone):console.error(" Failed to send WhatsApp notification to customer"))}catch(f){console.error("Error sending WhatsApp notification to customer:",f)}else console.log("Customer has no phone number, WhatsApp notification will be skipped");console.log("Admin WhatsApp notifications will be handled by notification-service.ts to avoid duplicates")}catch(n){console.error("Error in WhatsApp notification process:",n)}return!0}catch(e){return console.error("Error sending notification to customer:",e),!1}},nc=[{bank:"SeaBank",accountNumber:"901958730549",accountName:"Yoga Prasetya"},{bank:"DANA",accountNumber:"081394586882",accountName:"Yoga Prasetya"}],EL=t=>({"bank-transfer":"Transfer Bank",cod:"Bayar di Tempat (COD)",qris:"QRIS","credit-card":"Kartu Kredit",ewallet:"E-Wallet"})[t]||t,N_e=()=>{var K,ne,ue;const{items:t,clearCart:e}=xx(),r=Tt(),{user:n,profile:s}=qr(),a=t.reduce((le,Ae)=>le+Ae.price*Ae.quantity,0),o=parseFloat(a.toFixed(2)),[l,c]=v.useState("bank-transfer"),[u,A]=v.useState(nc[0].bank),[d,h]=v.useState(""),[f,m]=v.useState(""),[p,g]=v.useState([]),[y,x]=v.useState(!1),[b,j]=v.useState([]),[C,E]=v.useState(""),[_,B]=v.useState(!1),[S,N]=v.useState(null),[P,I]=v.useState(0),[T,D]=v.useState(!1),[M,H]=v.useState(null),U=((K=b.find(le=>le.id===d))==null?void 0:K.cost)||0,O=o-P,R=O+U;v.useEffect(()=>{n||(r("/cart"),fe({title:"Login Diperlukan",description:"Silakan login untuk melanjutkan ke checkout",variant:"destructive"}))},[n,r]),v.useEffect(()=>{t.length===0&&r("/cart")},[t,r]),v.useEffect(()=>{(async()=>{if(n)try{const{data:Ae,error:me}=await J.from("addresses").select("*").eq("user_id",n.id);if(me)throw me;if(Ae&&Ae.length>0){const _e=Ae.map(we=>({id:we.id,name:we.name,street:we.street,city:we.city,state:we.state,zip:we.zip,country:we.country,isDefault:we.is_default,user_id:we.user_id,created_at:we.created_at}));g(_e);const W=_e.find(we=>we.isDefault);W?m(W.id):_e.length>0&&m(_e[0].id)}}catch(Ae){console.error("Error fetching addresses:",Ae),fe({title:"Error",description:"Tidak dapat memuat alamat Anda",variant:"destructive"})}})()},[n]),v.useEffect(()=>{(async()=>{try{const{data:Ae,error:me}=await J.from("shipping_methods").select("*").eq("active",!0);if(me)throw me;if(Ae&&Ae.length>0)j(Ae),h(Ae[0].id);else{const _e=[{id:"standard",name:"Pengiriman Standar",cost:15e3,estimated_days:5,carrier:"JNE"},{id:"express",name:"Pengiriman Express",cost:3e4,estimated_days:2,carrier:"JNE Express"}];j(_e),h(_e[0].id)}}catch(Ae){console.error("Error fetching shipping methods:",Ae);const me=[{id:"standard",name:"Pengiriman Standar",cost:15e3,estimated_days:5,carrier:"JNE"},{id:"express",name:"Pengiriman Express",cost:3e4,estimated_days:2,carrier:"JNE Express"}];j(me),h(me[0].id)}})()},[]);const Q=async()=>{if(!C.trim()){fe({title:"Kode Voucher Kosong",description:"Silakan masukkan kode voucher",variant:"destructive"});return}B(!0);try{const{data:le,error:Ae}=await wc.getVoucherByCode(C);if(Ae)throw Ae;if(!le)throw new Error("Voucher tidak ditemukan");if(le.min_purchase&&o<le.min_purchase)throw new Error(`Minimum pembelian untuk voucher ini adalah ${ge(le.min_purchase)}`);const me=wc.calculateDiscount(le,o);N(le),I(me),fe({title:"Voucher Diterapkan",description:`Anda mendapatkan diskon sebesar ${ge(me)}`,variant:"default"})}catch(le){console.error("Error applying voucher:",le),fe({title:"Gagal Menerapkan Voucher",description:le.message||"Terjadi kesalahan saat menerapkan voucher",variant:"destructive"})}finally{B(!1)}},G=()=>{N(null),I(0),E(""),fe({title:"Voucher Dihapus",description:"Voucher telah dihapus dari pesanan Anda",variant:"default"})},X=async()=>{var le,Ae;if(!n||t.length===0||!f||f==="undefined"){fe({title:"Error",description:"Data tidak lengkap untuk membuat pesanan",variant:"destructive"});return}try{x(!0),console.log("Creating order with data:",{user_id:n.id,total:R,status:"pending",payment_method:l,shipping_address_id:f,payment_details:l==="bank-transfer"?u:null,voucher_id:(S==null?void 0:S.id)||null,discount_amount:P||0});const{data:me,error:_e}=await J.from("orders").insert({user_id:n.id,total:R,status:"pending",payment_method:l,shipping_address_id:f,date:new Date().toISOString(),payment_details:l==="bank-transfer"?u:null,voucher_id:(S==null?void 0:S.id)||null,discount_amount:P||0}).select().single();if(_e)throw console.error("Order creation error:",_e),_e;console.log("Order created successfully:",me);for(const we of t){console.log("Inserting order item:",{order_id:me.id,product_id:we.id,product_name:we.name,quantity:we.quantity,price:we.price});const{error:Oe}=await J.from("order_items").insert({order_id:me.id,product_id:we.id,product_name:we.name,quantity:we.quantity,price:we.price});if(Oe)throw console.error("Error inserting order item:",Oe),Oe}try{await vA.reduceStockFromOrder(me.id,t.map(we=>({productName:we.name,quantity:we.quantity})),n.id),console.log("Coal inventory updated after order creation")}catch(we){console.error("Error updating coal inventory:",we)}if(S)try{await wc.incrementUsageCount(S.id),console.log("Voucher usage count updated")}catch(we){console.error("Error updating voucher usage count:",we)}fe({title:"Pesanan berhasil dibuat!",description:"Terima kasih atas pembelian Anda."});try{await GW(me),console.log("Order notification sent to admins")}catch(we){console.error("Error sending order notification to admins:",we)}try{const{data:we}=await J.from("addresses").select("*").eq("id",f).single(),{data:Oe}=await J.from("order_items").select("*").eq("order_id",me.id),qe={name:EL(l),bank_name:l==="bank-transfer"?u:void 0,account_number:l==="bank-transfer"?(le=nc.find(ee=>ee.bank===u))==null?void 0:le.accountNumber:void 0,account_name:l==="bank-transfer"?(Ae=nc.find(ee=>ee.bank===u))==null?void 0:Ae.accountName:void 0},Ze=b.find(ee=>ee.id===d),It={name:(Ze==null?void 0:Ze.name)||"Pengiriman Standar",cost:(Ze==null?void 0:Ze.cost)||U,estimated_days:(Ze==null?void 0:Ze.estimated_days)||2,carrier:"JPC Delivery"},z={...me,shipping_cost:U,shipping_provider:It.carrier,shipping_service:It.name,shipping_estimate:`${It.estimated_days} hari`,discount_data:S?{code:S.code,value:P,type:"fixed"}:void 0,payment_status:"Belum dibayar"};console.log("Sending order details to customer via notification service"),await S_e(z),console.log("WhatsApp notification is handled by the notification service"),s!=null&&s.phone||console.log("Customer has no phone number, WhatsApp notification may be skipped")}catch(we){console.error("Error sending notification to customer:",we)}e();const W=me.id;sessionStorage.setItem("lastCompletedOrderId",W),console.log(` Redirecting to order details page: /order/${W}`),fe({title:"Mengarahkan ke halaman detail pesanan",description:"Mohon tunggu sebentar..."}),e(),fe({title:"Pesanan Berhasil Dibuat",description:"Anda akan diarahkan ke halaman detail pesanan.",className:"bg-green-100 border-green-400"}),setTimeout(()=>{r(`/order/${me.id}`)},1500)}catch(me){console.error("Error placing order:",me),fe({title:"Error",description:"Tidak dapat membuat pesanan Anda. Silakan coba lagi.",variant:"destructive"})}finally{x(!1)}},se=le=>{c(le)};if(!n||p.length===0)return i.jsx(Wt,{children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsxs(st,{to:"/cart",className:"flex items-center text-charcoal-600",children:[i.jsx(Fi,{className:"h-5 w-5 mr-1"}),i.jsx("span",{children:"Kembali ke Keranjang"})]}),i.jsx("h1",{className:"text-lg font-medium flex-1 text-center",children:"Checkout"}),i.jsx("div",{className:"w-8"})]}),i.jsxs("div",{className:"text-center py-10",children:[i.jsx("p",{className:"mb-4",children:"Anda perlu menambahkan alamat pengiriman sebelum checkout."}),i.jsx(st,{to:"/address/new",children:i.jsx(V,{className:"bg-flame-500 hover:bg-flame-600",children:"Tambah Alamat"})})]})]})});const Z=()=>{const[le,Ae]=v.useState(!0),[me,_e]=v.useState(null),[W,we]=v.useState([]),[Oe,qe]=v.useState(null),[Ze,It]=v.useState(null),[z,ee]=v.useState(null);return M?(v.useEffect(()=>{async function ae(){Ae(!0);try{const{data:Ce,error:Ne}=await J.from("orders").select("*").eq("id",M.id).single();if(Ne)throw Ne;_e(Ce);const{data:be,error:Ye}=await J.from("order_items").select("*").eq("order_id",M.id);if(Ye)throw Ye;if(we(be||[]),Ce.shipping_address_id){const{data:it,error:mt}=await J.from("addresses").select("*").eq("id",Ce.shipping_address_id).single();!mt&&it&&qe(it)}const ft=Ce.shipping_id||Ce.shipping_method_id;if(ft){const{data:it,error:mt}=await J.from("shipping_methods").select("*").eq("id",ft).single();!mt&&it&&It(it)}if(Ce.payment_method==="bank-transfer")try{if(Ce.payment_details&&typeof Ce.payment_details=="string"){const it=JSON.parse(Ce.payment_details);ee(it)}else{const it=nc.find(mt=>mt.bank===u);ee(it||{bank:"SeaBank",accountNumber:"901958730549",accountName:"Jaya Perkasa Charcoal"})}}catch(it){console.error("Error parsing payment details:",it),ee({bank:"SeaBank",accountNumber:"901958730549",accountName:"Jaya Perkasa Charcoal"})}}catch(Ce){console.error("Error fetching order details:",Ce),fe({title:"Error",description:"Gagal memuat detail pesanan. Silakan coba lagi nanti.",variant:"destructive"})}finally{Ae(!1)}}ae()},[M.id]),le?i.jsxs("div",{className:"p-4 text-center",children:[i.jsx(zt,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),i.jsx("p",{children:"Memuat detail pesanan..."})]}):i.jsxs("div",{id:"order-completed-details",className:"p-4 bg-green-50 rounded-lg border border-green-200 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx(wU,{className:"h-6 w-6 text-green-500"}),i.jsx("h2",{className:"text-xl font-bold text-green-700",children:"Pesanan Berhasil!"})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:[i.jsxs("h3",{className:"font-bold text-lg mb-2",children:["Detail Pesanan #",M.id]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Status:"}),i.jsx("span",{className:"font-medium bg-green-100 text-green-800 px-2 py-0.5 rounded",children:"Baru"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Tanggal:"}),i.jsx("span",{children:new Date().toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Total:"}),i.jsx("span",{className:"font-bold",children:ge(M.total)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Metode Pembayaran:"}),i.jsx("span",{children:EL(M.payment_method)})]})]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:[i.jsx("h3",{className:"font-bold mb-2",children:"Item Pesanan"}),i.jsx("div",{className:"space-y-3",children:W.map((ae,Ce)=>i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[ae.product_image?i.jsx("img",{src:ae.product_image,alt:ae.product_name,className:"w-12 h-12 object-cover rounded"}):i.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center",children:i.jsx(w_,{className:"h-6 w-6 text-gray-400"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:ae.product_name}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[ae.quantity," x ",ge(ae.price),ae.variant&&i.jsxs("span",{className:"ml-1",children:["(",ae.variant,")"]})]})]})]}),i.jsx("div",{className:"font-medium",children:ge(ae.price*ae.quantity)})]},Ce))})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:[i.jsx("h3",{className:"font-bold mb-2",children:"Informasi Pengiriman"}),Oe&&i.jsxs("div",{className:"mb-3",children:[i.jsx("div",{className:"font-medium",children:Oe.recipient_name||Oe.name}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[Oe.street,",",Oe.district&&`${Oe.district}, `,Oe.city,",",Oe.province,Oe.postal_code]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:Oe.recipient_phone||Oe.phone})]}),Ze&&i.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:Ze.name}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[Ze.provider," ",Ze.service]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Estimasi ",Ze.estimated_days||2," jam"]})]}),i.jsx("div",{className:"font-medium",children:ge(Ze.cost)})]})]}),(me==null?void 0:me.payment_method)==="bank-transfer"&&z&&i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:[i.jsx("h3",{className:"font-bold mb-2",children:"Instruksi Pembayaran"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Bank:"}),i.jsx("div",{className:"font-medium",children:z.bank||z.bank_name})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Nomor Rekening:"}),i.jsx("div",{className:"font-medium",children:z.accountNumber||z.account_number})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Atas Nama:"}),i.jsx("div",{className:"font-medium",children:z.accountName||z.account_name||"Jaya Perkasa Charcoal"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Jumlah:"}),i.jsx("div",{className:"font-bold text-lg",children:ge(me.total)})]}),i.jsx("div",{className:"pt-2 text-sm text-muted-foreground",children:"Silakan lakukan pembayaran dalam waktu 24 jam. Setelah melakukan pembayaran, pesanan Anda akan diproses."})]})]}),i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsx(V,{onClick:()=>r("/"),className:"bg-flame-500 hover:bg-flame-600 w-full",children:"Lanjutkan Belanja"}),i.jsx(V,{onClick:()=>r(`/order/${M.id}`),variant:"outline",className:"w-full",children:"Lihat Detail Pesanan"})]})]})):i.jsx("div",{className:"p-4 text-center",children:"Memuat detail pesanan..."})};return T&&M?i.jsxs(Wt,{children:[i.jsxs("div",{className:"p-4 flex items-center justify-between shadow-sm mb-4",children:[i.jsxs(st,{to:"/",className:"text-charcoal-600 flex items-center",children:[i.jsx(Fi,{className:"h-5 w-5 mr-1"}),i.jsx("span",{children:"Kembali ke Beranda"})]}),i.jsx("h1",{className:"text-xl font-bold text-center flex-1 pr-6",children:"Detail Pesanan"}),i.jsx("div",{className:"w-8"})]}),i.jsx(Z,{})]}):i.jsx(Wt,{children:i.jsxs("div",{className:"pb-28",children:[i.jsxs("div",{className:"sticky top-0 z-10 bg-background p-4 flex items-center justify-between shadow-sm",children:[i.jsxs(st,{to:"/cart",className:"text-charcoal-600 flex items-center",children:[i.jsx(Fi,{className:"h-5 w-5 mr-1"}),i.jsx("span",{children:"Kembali ke Keranjang"})]}),i.jsx("h1",{className:"text-xl font-bold text-center flex-1 pr-6",children:"Checkout"}),i.jsx("div",{className:"w-8"})," "]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-bold mb-3",children:"Alamat Pengiriman"}),i.jsx(og,{value:f,onValueChange:m,className:"space-y-3",children:p.map(le=>i.jsx(ye,{className:`cursor-pointer border-2 ${f===le.id?"border-flame-500":"border-border"}`,onClick:()=>m(le.id),children:i.jsx(xe,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(lA,{value:le.id,id:`address-${le.id}`,className:"flex-shrink-0"}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Te,{htmlFor:`address-${le.id}`,className:"font-medium cursor-pointer",children:le.name}),le.isDefault&&i.jsx("span",{className:"text-xs bg-charcoal-100 text-charcoal-600 px-2 py-0.5 rounded",children:"Utama"})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[le.street,", ",le.city,", ",le.state," ",le.zip]})]})]})})},le.id))}),i.jsx("div",{className:"mt-3",children:i.jsx(st,{to:"/address/new",children:i.jsxs(V,{variant:"outline",className:"w-full text-sm",children:[i.jsx("span",{className:"mr-1",children:"+"})," Tambah Alamat Baru"]})})})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-bold mb-3",children:"Metode Pengiriman"}),i.jsx(og,{value:d,onValueChange:h,children:i.jsx("div",{className:"space-y-3",children:b.map(le=>i.jsx(ye,{className:`cursor-pointer border-2 ${d===le.id?"border-flame-500":"border-border"}`,children:i.jsx(xe,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(lA,{value:le.id,id:`shipping-${le.id}`,className:"flex-shrink-0"}),i.jsxs("div",{className:"flex justify-between w-full",children:[i.jsxs(Te,{htmlFor:`shipping-${le.id}`,className:"cursor-pointer",children:[i.jsx("div",{className:"font-medium",children:le.name}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[le.estimated_days," Jam kerja"]})]}),i.jsx("div",{className:"font-medium",children:ge(le.cost)})]})]})})},le.id))})})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-bold mb-3",children:"Metode Pembayaran"}),i.jsx(og,{value:l,onValueChange:se,children:i.jsxs("div",{className:"space-y-3",children:[i.jsx(ye,{className:`cursor-pointer border-2 ${l==="bank-transfer"?"border-flame-500":"border-border"}`,children:i.jsx(xe,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(lA,{value:"bank-transfer",id:"bank-transfer",className:"flex-shrink-0"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(YK,{className:"h-5 w-5 text-flame-500"}),i.jsx(Te,{htmlFor:"bank-transfer",className:"cursor-pointer",children:"Transfer Bank"})]})]})})}),i.jsx(ye,{className:`cursor-pointer border-2 ${l==="cod"?"border-flame-500":"border-border"}`,children:i.jsx(xe,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(lA,{value:"cod",id:"cod",className:"flex-shrink-0"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(KP,{className:"h-5 w-5 text-flame-500"}),i.jsx(Te,{htmlFor:"cod",className:"cursor-pointer",children:"Bayar di Tempat (COD)"})]})]})})}),i.jsx(ye,{className:`cursor-pointer border-2 ${l==="qris"?"border-flame-500":"border-border"}`,children:i.jsx(xe,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(lA,{value:"qris",id:"qris",className:"flex-shrink-0"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(WP,{className:"h-5 w-5 text-flame-500"}),i.jsx(Te,{htmlFor:"qris",className:"cursor-pointer",children:"QRIS"})]})]})})})]})}),l==="bank-transfer"&&i.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-md",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Pilih Bank"}),i.jsx(og,{value:u,onValueChange:A,className:"space-y-2",children:nc.map(le=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(lA,{value:le.bank,id:`bank-${le.bank}`}),i.jsx(Te,{htmlFor:`bank-${le.bank}`,children:le.bank})]},le.bank))}),i.jsx("div",{className:"mt-3 p-3 bg-background rounded border",children:nc.find(le=>le.bank===u)&&i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"font-medium",children:"Detail Rekening:"}),i.jsxs("p",{className:"mt-1",children:["Bank: ",u]}),i.jsxs("p",{children:["No. Rekening: ",(ne=nc.find(le=>le.bank===u))==null?void 0:ne.accountNumber]}),i.jsxs("p",{children:["Atas Nama: ",(ue=nc.find(le=>le.bank===u))==null?void 0:ue.accountName]})]})})]}),l==="qris"&&i.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-md text-center",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Scan QRIS"}),i.jsx("div",{className:"bg-white p-3 inline-block mx-auto rounded-lg",children:i.jsx("img",{src:"https://jayaperkasacharcoal.co-id.id/qr-code.jpg",alt:"Kode QRIS",className:"w-48 h-48 mx-auto",onError:le=>{const Ae=le.target;Ae.src="https://jayaperkasacharcoal.co-id.id/qr-code.jpg"}})}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Scan kode QR menggunakan aplikasi DANA atau e-wallet lainnya"})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-bold mb-3",children:"Ringkasan Pesanan"}),i.jsx(ye,{children:i.jsxs(xe,{className:"p-4",children:[i.jsx("div",{className:"space-y-3 mb-3",children:t.map(le=>i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"font-medium text-sm",children:le.name}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Qty: ",le.quantity," x ",ge(le.price)]})]}),i.jsx("div",{className:"font-medium text-right",children:ge(le.price*le.quantity)})]},le.id))}),i.jsx(vs,{className:"my-3"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Subtotal"}),i.jsx("span",{className:"font-medium",children:ge(o)})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Pengiriman"}),i.jsx("span",{className:"font-medium",children:ge(U)})]}),S?i.jsxs("div",{className:"flex justify-between items-center mt-2 p-2 bg-green-50 rounded-md border border-green-200",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(wU,{className:"h-4 w-4 text-green-600 mr-2"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:S.code}),i.jsx("p",{className:"text-xs text-gray-500",children:S.discount_type==="percentage"?`Diskon ${S.discount_value}%`:`Diskon ${ge(S.discount_value)}`})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsxs("span",{className:"text-sm font-medium text-green-600 mr-2",children:["-",ge(P)]}),i.jsx(V,{variant:"ghost",size:"icon",className:"h-6 w-6 rounded-full text-gray-500 hover:text-red-500 hover:bg-red-50",onClick:G,children:i.jsx(j_,{className:"h-3 w-3"})})]})]}):i.jsxs("div",{className:"flex gap-2 mt-2",children:[i.jsxs("div",{className:"relative flex-grow",children:[i.jsx(qP,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),i.jsx(ce,{placeholder:"Masukkan kode voucher",className:"pl-8",value:C,onChange:le=>E(le.target.value),disabled:_})]}),i.jsx(V,{variant:"outline",size:"sm",onClick:Q,disabled:_||!C.trim(),className:"shrink-0",children:_?i.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}):"Terapkan"})]}),S&&i.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[i.jsx("span",{children:"Subtotal setelah diskon"}),i.jsx("span",{className:"font-medium",children:ge(O)})]}),i.jsx(vs,{className:"my-2"}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-bold",children:"Total"}),i.jsx("span",{className:"font-bold",children:ge(R)})]})]})]})})]})]}),i.jsxs("div",{className:"fixed bottom-16 left-0 right-0 max-w-md mx-auto bg-background border-t p-4 z-20",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"font-bold",children:"Total:"}),i.jsx("span",{className:"font-bold text-xl",children:ge(R)})]}),i.jsx(V,{onClick:X,className:"w-full bg-flame-500 hover:bg-flame-600",disabled:y,children:y?"Memproses...":"Buat Pesanan"})]})]})})};var Ex=t=>t.type==="checkbox",BA=t=>t instanceof Date,Ns=t=>t==null;const sJ=t=>typeof t=="object";var tn=t=>!Ns(t)&&!Array.isArray(t)&&sJ(t)&&!BA(t),aJ=t=>tn(t)&&t.target?Ex(t.target)?t.target.checked:t.target.value:t,k_e=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,iJ=(t,e)=>t.has(k_e(e)),T_e=t=>{const e=t.constructor&&t.constructor.prototype;return tn(e)&&e.hasOwnProperty("isPrototypeOf")},IF=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Vs(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(IF&&(t instanceof Blob||t instanceof FileList))&&(r||tn(t)))if(e=r?[]:{},!r&&!T_e(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=Vs(t[n]));else return t;return e}var BC=t=>Array.isArray(t)?t.filter(Boolean):[],Kr=t=>t===void 0,Pe=(t,e,r)=>{if(!e||!tn(t))return r;const n=BC(e.split(/[,[\].]+?/)).reduce((s,a)=>Ns(s)?s:s[a],t);return Kr(n)||n===t?Kr(t[e])?r:t[e]:n},La=t=>typeof t=="boolean",PF=t=>/^\w*$/.test(t),oJ=t=>BC(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Zt=(t,e,r)=>{let n=-1;const s=PF(e)?[e]:oJ(e),a=s.length,o=a-1;for(;++n<a;){const l=s[n];let c=r;if(n!==o){const u=t[l];c=tn(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__")return;t[l]=c,t=t[l]}return t};const N1={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Bi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Go={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},lJ=$.createContext(null),EC=()=>$.useContext(lJ),I_e=t=>{const{children:e,...r}=t;return $.createElement(lJ.Provider,{value:r},e)};var cJ=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(s,a,{get:()=>{const o=a;return e._proxyFormState[o]!==Bi.all&&(e._proxyFormState[o]=!n||Bi.all),r&&(r[o]=!0),t[o]}});return s},zs=t=>tn(t)&&!Object.keys(t).length,uJ=(t,e,r,n)=>{r(t);const{name:s,...a}=t;return zs(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!n||Bi.all))},Qg=t=>Array.isArray(t)?t:[t],AJ=(t,e,r)=>!t||!e||t===e||Qg(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function OF(t){const e=$.useRef(t);e.current=t,$.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function P_e(t){const e=EC(),{control:r=e.control,disabled:n,name:s,exact:a}=t||{},[o,l]=$.useState(r._formState),c=$.useRef(!0),u=$.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),A=$.useRef(s);return A.current=s,OF({disabled:n,next:d=>c.current&&AJ(A.current,d.name,a)&&uJ(d,u.current,r._updateFormState)&&l({...r._formState,...d}),subject:r._subjects.state}),$.useEffect(()=>(c.current=!0,u.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),cJ(o,r,u.current,!1)}var vo=t=>typeof t=="string",dJ=(t,e,r,n,s)=>vo(t)?(n&&e.watch.add(t),Pe(r,t,s)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),Pe(r,a))):(n&&(e.watchAll=!0),r);function O_e(t){const e=EC(),{control:r=e.control,name:n,defaultValue:s,disabled:a,exact:o}=t||{},l=$.useRef(n);l.current=n,OF({disabled:a,subject:r._subjects.values,next:A=>{AJ(l.current,A.name,o)&&u(Vs(dJ(l.current,r._names,A.values||r._formValues,!1,s)))}});const[c,u]=$.useState(r._getWatch(n,s));return $.useEffect(()=>r._removeUnmounted()),c}function F_e(t){const e=EC(),{name:r,disabled:n,control:s=e.control,shouldUnregister:a}=t,o=iJ(s._names.array,r),l=O_e({control:s,name:r,defaultValue:Pe(s._formValues,r,Pe(s._defaultValues,r,t.defaultValue)),exact:!0}),c=P_e({control:s,name:r,exact:!0}),u=$.useRef(s.register(r,{...t.rules,value:l,...La(t.disabled)?{disabled:t.disabled}:{}}));return $.useEffect(()=>{const A=s._options.shouldUnregister||a,d=(h,f)=>{const m=Pe(s._fields,h);m&&m._f&&(m._f.mount=f)};if(d(r,!0),A){const h=Vs(Pe(s._options.defaultValues,r));Zt(s._defaultValues,r,h),Kr(Pe(s._formValues,r))&&Zt(s._formValues,r,h)}return()=>{(o?A&&!s._state.action:A)?s.unregister(r):d(r,!1)}},[r,s,o,a]),$.useEffect(()=>{Pe(s._fields,r)&&s._updateDisabledField({disabled:n,fields:s._fields,name:r,value:Pe(s._fields,r)._f.value})},[n,r,s]),{field:{name:r,value:l,...La(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:$.useCallback(A=>u.current.onChange({target:{value:aJ(A),name:r},type:N1.CHANGE}),[r]),onBlur:$.useCallback(()=>u.current.onBlur({target:{value:Pe(s._formValues,r),name:r},type:N1.BLUR}),[r,s]),ref:$.useCallback(A=>{const d=Pe(s._fields,r);d&&A&&(d._f.ref={focus:()=>A.focus(),select:()=>A.select(),setCustomValidity:h=>A.setCustomValidity(h),reportValidity:()=>A.reportValidity()})},[s._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Pe(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!Pe(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Pe(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Pe(c.validatingFields,r)},error:{enumerable:!0,get:()=>Pe(c.errors,r)}})}}const D_e=t=>t.render(F_e(t));var hJ=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},SL=t=>({isOnSubmit:!t||t===Bi.onSubmit,isOnBlur:t===Bi.onBlur,isOnChange:t===Bi.onChange,isOnAll:t===Bi.all,isOnTouch:t===Bi.onTouched}),NL=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Lg=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const a=Pe(t,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(Lg(l,e))break}else if(tn(l)&&Lg(l,e))break}}};var R_e=(t,e,r)=>{const n=Qg(Pe(t,r));return Zt(n,"root",e[r]),Zt(t,r,n),t},FF=t=>t.type==="file",ol=t=>typeof t=="function",k1=t=>{if(!IF)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},db=t=>vo(t),DF=t=>t.type==="radio",T1=t=>t instanceof RegExp;const kL={value:!1,isValid:!1},TL={value:!0,isValid:!0};var fJ=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Kr(t[0].attributes.value)?Kr(t[0].value)||t[0].value===""?TL:{value:t[0].value,isValid:!0}:TL:kL}return kL};const IL={isValid:!1,value:null};var mJ=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,IL):IL;function PL(t,e,r="validate"){if(db(t)||Array.isArray(t)&&t.every(db)||La(t)&&!t)return{type:r,message:db(t)?t:"",ref:e}}var Jd=t=>tn(t)&&!T1(t)?t:{value:t,message:""},OL=async(t,e,r,n,s)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:u,min:A,max:d,pattern:h,validate:f,name:m,valueAsNumber:p,mount:g,disabled:y}=t._f,x=Pe(e,m);if(!g||y)return{};const b=o?o[0]:a,j=I=>{n&&b.reportValidity&&(b.setCustomValidity(La(I)?"":I||""),b.reportValidity())},C={},E=DF(a),_=Ex(a),B=E||_,S=(p||FF(a))&&Kr(a.value)&&Kr(x)||k1(a)&&a.value===""||x===""||Array.isArray(x)&&!x.length,N=hJ.bind(null,m,r,C),P=(I,T,D,M=Go.maxLength,H=Go.minLength)=>{const U=I?T:D;C[m]={type:I?M:H,message:U,ref:a,...N(I?M:H,U)}};if(s?!Array.isArray(x)||!x.length:l&&(!B&&(S||Ns(x))||La(x)&&!x||_&&!fJ(o).isValid||E&&!mJ(o).isValid)){const{value:I,message:T}=db(l)?{value:!!l,message:l}:Jd(l);if(I&&(C[m]={type:Go.required,message:T,ref:b,...N(Go.required,T)},!r))return j(T),C}if(!S&&(!Ns(A)||!Ns(d))){let I,T;const D=Jd(d),M=Jd(A);if(!Ns(x)&&!isNaN(x)){const H=a.valueAsNumber||x&&+x;Ns(D.value)||(I=H>D.value),Ns(M.value)||(T=H<M.value)}else{const H=a.valueAsDate||new Date(x),U=Q=>new Date(new Date().toDateString()+" "+Q),O=a.type=="time",R=a.type=="week";vo(D.value)&&x&&(I=O?U(x)>U(D.value):R?x>D.value:H>new Date(D.value)),vo(M.value)&&x&&(T=O?U(x)<U(M.value):R?x<M.value:H<new Date(M.value))}if((I||T)&&(P(!!I,D.message,M.message,Go.max,Go.min),!r))return j(C[m].message),C}if((c||u)&&!S&&(vo(x)||s&&Array.isArray(x))){const I=Jd(c),T=Jd(u),D=!Ns(I.value)&&x.length>+I.value,M=!Ns(T.value)&&x.length<+T.value;if((D||M)&&(P(D,I.message,T.message),!r))return j(C[m].message),C}if(h&&!S&&vo(x)){const{value:I,message:T}=Jd(h);if(T1(I)&&!x.match(I)&&(C[m]={type:Go.pattern,message:T,ref:a,...N(Go.pattern,T)},!r))return j(T),C}if(f){if(ol(f)){const I=await f(x,e),T=PL(I,b);if(T&&(C[m]={...T,...N(Go.validate,T.message)},!r))return j(T.message),C}else if(tn(f)){let I={};for(const T in f){if(!zs(I)&&!r)break;const D=PL(await f[T](x,e),b,T);D&&(I={...D,...N(T,D.message)},j(D.message),r&&(C[m]=I))}if(!zs(I)&&(C[m]={ref:b,...I},!r))return C}}return j(!0),C};function U_e(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Kr(t)?n++:t[e[n++]];return t}function M_e(t){for(const e in t)if(t.hasOwnProperty(e)&&!Kr(t[e]))return!1;return!0}function un(t,e){const r=Array.isArray(e)?e:PF(e)?[e]:oJ(e),n=r.length===1?t:U_e(t,r),s=r.length-1,a=r[s];return n&&delete n[a],s!==0&&(tn(n)&&zs(n)||Array.isArray(n)&&M_e(n))&&un(t,r.slice(0,-1)),t}var uS=()=>{let t=[];return{get observers(){return t},next:s=>{for(const a of t)a.next&&a.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(a=>a!==s)}}),unsubscribe:()=>{t=[]}}},MT=t=>Ns(t)||!sJ(t);function bc(t,e){if(MT(t)||MT(e))return t===e;if(BA(t)&&BA(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const s of r){const a=t[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=e[s];if(BA(a)&&BA(o)||tn(a)&&tn(o)||Array.isArray(a)&&Array.isArray(o)?!bc(a,o):a!==o)return!1}}return!0}var pJ=t=>t.type==="select-multiple",Q_e=t=>DF(t)||Ex(t),AS=t=>k1(t)&&t.isConnected,gJ=t=>{for(const e in t)if(ol(t[e]))return!0;return!1};function I1(t,e={}){const r=Array.isArray(t);if(tn(t)||r)for(const n in t)Array.isArray(t[n])||tn(t[n])&&!gJ(t[n])?(e[n]=Array.isArray(t[n])?[]:{},I1(t[n],e[n])):Ns(t[n])||(e[n]=!0);return e}function vJ(t,e,r){const n=Array.isArray(t);if(tn(t)||n)for(const s in t)Array.isArray(t[s])||tn(t[s])&&!gJ(t[s])?Kr(e)||MT(r[s])?r[s]=Array.isArray(t[s])?I1(t[s],[]):{...I1(t[s])}:vJ(t[s],Ns(e)?{}:e[s],r[s]):r[s]=!bc(t[s],e[s]);return r}var Pp=(t,e)=>vJ(t,e,I1(e)),yJ=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Kr(t)?t:e?t===""?NaN:t&&+t:r&&vo(t)?new Date(t):n?n(t):t;function dS(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return FF(e)?e.files:DF(e)?mJ(t.refs).value:pJ(e)?[...e.selectedOptions].map(({value:r})=>r):Ex(e)?fJ(t.refs).value:yJ(Kr(e.value)?t.ref.value:e.value,t)}var L_e=(t,e,r,n)=>{const s={};for(const a of t){const o=Pe(e,a);o&&Zt(s,a,o._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},Op=t=>Kr(t)?t:T1(t)?t.source:tn(t)?T1(t.value)?t.value.source:t.value:t;const FL="AsyncFunction";var $_e=t=>(!t||!t.validate)&&!!(ol(t.validate)&&t.validate.constructor.name===FL||tn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===FL)),H_e=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function DL(t,e,r){const n=Pe(t,r);if(n||PF(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),o=Pe(e,a),l=Pe(t,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};s.pop()}return{name:r}}var V_e=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,K_e=(t,e)=>!BC(Pe(t,e)).length&&un(t,e);const z_e={mode:Bi.onSubmit,reValidateMode:Bi.onChange,shouldFocusError:!0};function G_e(t={}){let e={...z_e,...t},r={submitCount:0,isDirty:!1,isLoading:ol(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=tn(e.defaultValues)||tn(e.values)?Vs(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Vs(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const A={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:uS(),array:uS(),state:uS()},h=SL(e.mode),f=SL(e.reValidateMode),m=e.criteriaMode===Bi.all,p=z=>ee=>{clearTimeout(u),u=setTimeout(z,ee)},g=async z=>{if(!t.disabled&&(A.isValid||z)){const ee=e.resolver?zs((await B()).errors):await N(n,!0);ee!==r.isValid&&d.state.next({isValid:ee})}},y=(z,ee)=>{!t.disabled&&(A.isValidating||A.validatingFields)&&((z||Array.from(l.mount)).forEach(ae=>{ae&&(ee?Zt(r.validatingFields,ae,ee):un(r.validatingFields,ae))}),d.state.next({validatingFields:r.validatingFields,isValidating:!zs(r.validatingFields)}))},x=(z,ee=[],ae,Ce,Ne=!0,be=!0)=>{if(Ce&&ae&&!t.disabled){if(o.action=!0,be&&Array.isArray(Pe(n,z))){const Ye=ae(Pe(n,z),Ce.argA,Ce.argB);Ne&&Zt(n,z,Ye)}if(be&&Array.isArray(Pe(r.errors,z))){const Ye=ae(Pe(r.errors,z),Ce.argA,Ce.argB);Ne&&Zt(r.errors,z,Ye),K_e(r.errors,z)}if(A.touchedFields&&be&&Array.isArray(Pe(r.touchedFields,z))){const Ye=ae(Pe(r.touchedFields,z),Ce.argA,Ce.argB);Ne&&Zt(r.touchedFields,z,Ye)}A.dirtyFields&&(r.dirtyFields=Pp(s,a)),d.state.next({name:z,isDirty:I(z,ee),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Zt(a,z,ee)},b=(z,ee)=>{Zt(r.errors,z,ee),d.state.next({errors:r.errors})},j=z=>{r.errors=z,d.state.next({errors:r.errors,isValid:!1})},C=(z,ee,ae,Ce)=>{const Ne=Pe(n,z);if(Ne){const be=Pe(a,z,Kr(ae)?Pe(s,z):ae);Kr(be)||Ce&&Ce.defaultChecked||ee?Zt(a,z,ee?be:dS(Ne._f)):M(z,be),o.mount&&g()}},E=(z,ee,ae,Ce,Ne)=>{let be=!1,Ye=!1;const ft={name:z};if(!t.disabled){const it=!!(Pe(n,z)&&Pe(n,z)._f&&Pe(n,z)._f.disabled);if(!ae||Ce){A.isDirty&&(Ye=r.isDirty,r.isDirty=ft.isDirty=I(),be=Ye!==ft.isDirty);const mt=it||bc(Pe(s,z),ee);Ye=!!(!it&&Pe(r.dirtyFields,z)),mt||it?un(r.dirtyFields,z):Zt(r.dirtyFields,z,!0),ft.dirtyFields=r.dirtyFields,be=be||A.dirtyFields&&Ye!==!mt}if(ae){const mt=Pe(r.touchedFields,z);mt||(Zt(r.touchedFields,z,ae),ft.touchedFields=r.touchedFields,be=be||A.touchedFields&&mt!==ae)}be&&Ne&&d.state.next(ft)}return be?ft:{}},_=(z,ee,ae,Ce)=>{const Ne=Pe(r.errors,z),be=A.isValid&&La(ee)&&r.isValid!==ee;if(t.delayError&&ae?(c=p(()=>b(z,ae)),c(t.delayError)):(clearTimeout(u),c=null,ae?Zt(r.errors,z,ae):un(r.errors,z)),(ae?!bc(Ne,ae):Ne)||!zs(Ce)||be){const Ye={...Ce,...be&&La(ee)?{isValid:ee}:{},errors:r.errors,name:z};r={...r,...Ye},d.state.next(Ye)}},B=async z=>{y(z,!0);const ee=await e.resolver(a,e.context,L_e(z||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return y(z),ee},S=async z=>{const{errors:ee}=await B(z);if(z)for(const ae of z){const Ce=Pe(ee,ae);Ce?Zt(r.errors,ae,Ce):un(r.errors,ae)}else r.errors=ee;return ee},N=async(z,ee,ae={valid:!0})=>{for(const Ce in z){const Ne=z[Ce];if(Ne){const{_f:be,...Ye}=Ne;if(be){const ft=l.array.has(be.name),it=Ne._f&&$_e(Ne._f);it&&A.validatingFields&&y([Ce],!0);const mt=await OL(Ne,a,m,e.shouldUseNativeValidation&&!ee,ft);if(it&&A.validatingFields&&y([Ce]),mt[be.name]&&(ae.valid=!1,ee))break;!ee&&(Pe(mt,be.name)?ft?R_e(r.errors,mt,be.name):Zt(r.errors,be.name,mt[be.name]):un(r.errors,be.name))}!zs(Ye)&&await N(Ye,ee,ae)}}return ae.valid},P=()=>{for(const z of l.unMount){const ee=Pe(n,z);ee&&(ee._f.refs?ee._f.refs.every(ae=>!AS(ae)):!AS(ee._f.ref))&&ne(z)}l.unMount=new Set},I=(z,ee)=>!t.disabled&&(z&&ee&&Zt(a,z,ee),!bc(G(),s)),T=(z,ee,ae)=>dJ(z,l,{...o.mount?a:Kr(ee)?s:vo(z)?{[z]:ee}:ee},ae,ee),D=z=>BC(Pe(o.mount?a:s,z,t.shouldUnregister?Pe(s,z,[]):[])),M=(z,ee,ae={})=>{const Ce=Pe(n,z);let Ne=ee;if(Ce){const be=Ce._f;be&&(!be.disabled&&Zt(a,z,yJ(ee,be)),Ne=k1(be.ref)&&Ns(ee)?"":ee,pJ(be.ref)?[...be.ref.options].forEach(Ye=>Ye.selected=Ne.includes(Ye.value)):be.refs?Ex(be.ref)?be.refs.length>1?be.refs.forEach(Ye=>(!Ye.defaultChecked||!Ye.disabled)&&(Ye.checked=Array.isArray(Ne)?!!Ne.find(ft=>ft===Ye.value):Ne===Ye.value)):be.refs[0]&&(be.refs[0].checked=!!Ne):be.refs.forEach(Ye=>Ye.checked=Ye.value===Ne):FF(be.ref)?be.ref.value="":(be.ref.value=Ne,be.ref.type||d.values.next({name:z,values:{...a}})))}(ae.shouldDirty||ae.shouldTouch)&&E(z,Ne,ae.shouldTouch,ae.shouldDirty,!0),ae.shouldValidate&&Q(z)},H=(z,ee,ae)=>{for(const Ce in ee){const Ne=ee[Ce],be=`${z}.${Ce}`,Ye=Pe(n,be);(l.array.has(z)||tn(Ne)||Ye&&!Ye._f)&&!BA(Ne)?H(be,Ne,ae):M(be,Ne,ae)}},U=(z,ee,ae={})=>{const Ce=Pe(n,z),Ne=l.array.has(z),be=Vs(ee);Zt(a,z,be),Ne?(d.array.next({name:z,values:{...a}}),(A.isDirty||A.dirtyFields)&&ae.shouldDirty&&d.state.next({name:z,dirtyFields:Pp(s,a),isDirty:I(z,be)})):Ce&&!Ce._f&&!Ns(be)?H(z,be,ae):M(z,be,ae),NL(z,l)&&d.state.next({...r}),d.values.next({name:o.mount?z:void 0,values:{...a}})},O=async z=>{o.mount=!0;const ee=z.target;let ae=ee.name,Ce=!0;const Ne=Pe(n,ae),be=()=>ee.type?dS(Ne._f):aJ(z),Ye=ft=>{Ce=Number.isNaN(ft)||BA(ft)&&isNaN(ft.getTime())||bc(ft,Pe(a,ae,ft))};if(Ne){let ft,it;const mt=be(),bs=z.type===N1.BLUR||z.type===N1.FOCUS_OUT,ci=!H_e(Ne._f)&&!e.resolver&&!Pe(r.errors,ae)&&!Ne._f.deps||V_e(bs,Pe(r.touchedFields,ae),r.isSubmitted,f,h),$o=NL(ae,l,bs);Zt(a,ae,mt),bs?(Ne._f.onBlur&&Ne._f.onBlur(z),c&&c(0)):Ne._f.onChange&&Ne._f.onChange(z);const Hu=E(ae,mt,bs,!1),Xi=!zs(Hu)||$o;if(!bs&&d.values.next({name:ae,type:z.type,values:{...a}}),ci)return A.isValid&&(t.mode==="onBlur"?bs&&g():g()),Xi&&d.state.next({name:ae,...$o?{}:Hu});if(!bs&&$o&&d.state.next({...r}),e.resolver){const{errors:zl}=await B([ae]);if(Ye(mt),Ce){const Pd=DL(r.errors,n,ae),Ji=DL(zl,n,Pd.name||ae);ft=Ji.error,ae=Ji.name,it=zs(zl)}}else y([ae],!0),ft=(await OL(Ne,a,m,e.shouldUseNativeValidation))[ae],y([ae]),Ye(mt),Ce&&(ft?it=!1:A.isValid&&(it=await N(n,!0)));Ce&&(Ne._f.deps&&Q(Ne._f.deps),_(ae,it,ft,Hu))}},R=(z,ee)=>{if(Pe(r.errors,ee)&&z.focus)return z.focus(),1},Q=async(z,ee={})=>{let ae,Ce;const Ne=Qg(z);if(e.resolver){const be=await S(Kr(z)?z:Ne);ae=zs(be),Ce=z?!Ne.some(Ye=>Pe(be,Ye)):ae}else z?(Ce=(await Promise.all(Ne.map(async be=>{const Ye=Pe(n,be);return await N(Ye&&Ye._f?{[be]:Ye}:Ye)}))).every(Boolean),!(!Ce&&!r.isValid)&&g()):Ce=ae=await N(n);return d.state.next({...!vo(z)||A.isValid&&ae!==r.isValid?{}:{name:z},...e.resolver||!z?{isValid:ae}:{},errors:r.errors}),ee.shouldFocus&&!Ce&&Lg(n,R,z?Ne:l.mount),Ce},G=z=>{const ee={...o.mount?a:s};return Kr(z)?ee:vo(z)?Pe(ee,z):z.map(ae=>Pe(ee,ae))},X=(z,ee)=>({invalid:!!Pe((ee||r).errors,z),isDirty:!!Pe((ee||r).dirtyFields,z),error:Pe((ee||r).errors,z),isValidating:!!Pe(r.validatingFields,z),isTouched:!!Pe((ee||r).touchedFields,z)}),se=z=>{z&&Qg(z).forEach(ee=>un(r.errors,ee)),d.state.next({errors:z?r.errors:{}})},Z=(z,ee,ae)=>{const Ce=(Pe(n,z,{_f:{}})._f||{}).ref,Ne=Pe(r.errors,z)||{},{ref:be,message:Ye,type:ft,...it}=Ne;Zt(r.errors,z,{...it,...ee,ref:Ce}),d.state.next({name:z,errors:r.errors,isValid:!1}),ae&&ae.shouldFocus&&Ce&&Ce.focus&&Ce.focus()},K=(z,ee)=>ol(z)?d.values.subscribe({next:ae=>z(T(void 0,ee),ae)}):T(z,ee,!0),ne=(z,ee={})=>{for(const ae of z?Qg(z):l.mount)l.mount.delete(ae),l.array.delete(ae),ee.keepValue||(un(n,ae),un(a,ae)),!ee.keepError&&un(r.errors,ae),!ee.keepDirty&&un(r.dirtyFields,ae),!ee.keepTouched&&un(r.touchedFields,ae),!ee.keepIsValidating&&un(r.validatingFields,ae),!e.shouldUnregister&&!ee.keepDefaultValue&&un(s,ae);d.values.next({values:{...a}}),d.state.next({...r,...ee.keepDirty?{isDirty:I()}:{}}),!ee.keepIsValid&&g()},ue=({disabled:z,name:ee,field:ae,fields:Ce,value:Ne})=>{if(La(z)&&o.mount||z){const be=z?void 0:Kr(Ne)?dS(ae?ae._f:Pe(Ce,ee)._f):Ne;Zt(a,ee,be),E(ee,be,!1,!1,!0)}},le=(z,ee={})=>{let ae=Pe(n,z);const Ce=La(ee.disabled)||La(t.disabled);return Zt(n,z,{...ae||{},_f:{...ae&&ae._f?ae._f:{ref:{name:z}},name:z,mount:!0,...ee}}),l.mount.add(z),ae?ue({field:ae,disabled:La(ee.disabled)?ee.disabled:t.disabled,name:z,value:ee.value}):C(z,!0,ee.value),{...Ce?{disabled:ee.disabled||t.disabled}:{},...e.progressive?{required:!!ee.required,min:Op(ee.min),max:Op(ee.max),minLength:Op(ee.minLength),maxLength:Op(ee.maxLength),pattern:Op(ee.pattern)}:{},name:z,onChange:O,onBlur:O,ref:Ne=>{if(Ne){le(z,ee),ae=Pe(n,z);const be=Kr(Ne.value)&&Ne.querySelectorAll&&Ne.querySelectorAll("input,select,textarea")[0]||Ne,Ye=Q_e(be),ft=ae._f.refs||[];if(Ye?ft.find(it=>it===be):be===ae._f.ref)return;Zt(n,z,{_f:{...ae._f,...Ye?{refs:[...ft.filter(AS),be,...Array.isArray(Pe(s,z))?[{}]:[]],ref:{type:be.type,name:z}}:{ref:be}}}),C(z,!1,void 0,be)}else ae=Pe(n,z,{}),ae._f&&(ae._f.mount=!1),(e.shouldUnregister||ee.shouldUnregister)&&!(iJ(l.array,z)&&o.action)&&l.unMount.add(z)}}},Ae=()=>e.shouldFocusError&&Lg(n,R,l.mount),me=z=>{La(z)&&(d.state.next({disabled:z}),Lg(n,(ee,ae)=>{const Ce=Pe(n,ae);Ce&&(ee.disabled=Ce._f.disabled||z,Array.isArray(Ce._f.refs)&&Ce._f.refs.forEach(Ne=>{Ne.disabled=Ce._f.disabled||z}))},0,!1))},_e=(z,ee)=>async ae=>{let Ce;ae&&(ae.preventDefault&&ae.preventDefault(),ae.persist&&ae.persist());let Ne=Vs(a);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:be,values:Ye}=await B();r.errors=be,Ne=Ye}else await N(n);if(un(r.errors,"root"),zs(r.errors)){d.state.next({errors:{}});try{await z(Ne,ae)}catch(be){Ce=be}}else ee&&await ee({...r.errors},ae),Ae(),setTimeout(Ae);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zs(r.errors)&&!Ce,submitCount:r.submitCount+1,errors:r.errors}),Ce)throw Ce},W=(z,ee={})=>{Pe(n,z)&&(Kr(ee.defaultValue)?U(z,Vs(Pe(s,z))):(U(z,ee.defaultValue),Zt(s,z,Vs(ee.defaultValue))),ee.keepTouched||un(r.touchedFields,z),ee.keepDirty||(un(r.dirtyFields,z),r.isDirty=ee.defaultValue?I(z,Vs(Pe(s,z))):I()),ee.keepError||(un(r.errors,z),A.isValid&&g()),d.state.next({...r}))},we=(z,ee={})=>{const ae=z?Vs(z):s,Ce=Vs(ae),Ne=zs(z),be=Ne?s:Ce;if(ee.keepDefaultValues||(s=ae),!ee.keepValues){if(ee.keepDirtyValues){const Ye=new Set([...l.mount,...Object.keys(Pp(s,a))]);for(const ft of Array.from(Ye))Pe(r.dirtyFields,ft)?Zt(be,ft,Pe(a,ft)):U(ft,Pe(be,ft))}else{if(IF&&Kr(z))for(const Ye of l.mount){const ft=Pe(n,Ye);if(ft&&ft._f){const it=Array.isArray(ft._f.refs)?ft._f.refs[0]:ft._f.ref;if(k1(it)){const mt=it.closest("form");if(mt){mt.reset();break}}}}n={}}a=t.shouldUnregister?ee.keepDefaultValues?Vs(s):{}:Vs(be),d.array.next({values:{...be}}),d.values.next({values:{...be}})}l={mount:ee.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!A.isValid||!!ee.keepIsValid||!!ee.keepDirtyValues,o.watch=!!t.shouldUnregister,d.state.next({submitCount:ee.keepSubmitCount?r.submitCount:0,isDirty:Ne?!1:ee.keepDirty?r.isDirty:!!(ee.keepDefaultValues&&!bc(z,s)),isSubmitted:ee.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ne?{}:ee.keepDirtyValues?ee.keepDefaultValues&&a?Pp(s,a):r.dirtyFields:ee.keepDefaultValues&&z?Pp(s,z):ee.keepDirty?r.dirtyFields:{},touchedFields:ee.keepTouched?r.touchedFields:{},errors:ee.keepErrors?r.errors:{},isSubmitSuccessful:ee.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Oe=(z,ee)=>we(ol(z)?z(a):z,ee);return{control:{register:le,unregister:ne,getFieldState:X,handleSubmit:_e,setError:Z,_executeSchema:B,_getWatch:T,_getDirty:I,_updateValid:g,_removeUnmounted:P,_updateFieldArray:x,_updateDisabledField:ue,_getFieldArray:D,_reset:we,_resetDefaultValues:()=>ol(e.defaultValues)&&e.defaultValues().then(z=>{Oe(z,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:z=>{r={...r,...z}},_disableForm:me,_subjects:d,_proxyFormState:A,_setErrors:j,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(z){o=z},get _defaultValues(){return s},get _names(){return l},set _names(z){l=z},get _formState(){return r},set _formState(z){r=z},get _options(){return e},set _options(z){e={...e,...z}}},trigger:Q,register:le,handleSubmit:_e,watch:K,setValue:U,getValues:G,reset:Oe,resetField:W,clearErrors:se,unregister:ne,setError:Z,setFocus:(z,ee={})=>{const ae=Pe(n,z),Ce=ae&&ae._f;if(Ce){const Ne=Ce.refs?Ce.refs[0]:Ce.ref;Ne.focus&&(Ne.focus(),ee.shouldSelect&&Ne.select())}},getFieldState:X}}function Is(t={}){const e=$.useRef(),r=$.useRef(),[n,s]=$.useState({isDirty:!1,isValidating:!1,isLoading:ol(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:ol(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...G_e(t),formState:n});const a=e.current.control;return a._options=t,OF({subject:a._subjects.state,next:o=>{uJ(o,a._proxyFormState,a._updateFormState,!0)&&s({...a._formState})}}),$.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),$.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),$.useEffect(()=>{t.values&&!bc(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,s(o=>({...o}))):a._resetDefaultValues()},[t.values,a]),$.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),$.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),$.useEffect(()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[t.shouldUnregister,a]),$.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[n]),e.current.formState=cJ(n,a),e.current}const ys=I_e,xJ=v.createContext({}),$e=({...t})=>i.jsx(xJ.Provider,{value:{name:t.name},children:i.jsx(D_e,{...t})}),SC=()=>{const t=v.useContext(xJ),e=v.useContext(wJ),{getFieldState:r,formState:n}=EC(),s=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},wJ=v.createContext({}),Me=v.forwardRef(({className:t,...e},r)=>{const n=v.useId();return i.jsx(wJ.Provider,{value:{id:n},children:i.jsx("div",{ref:r,className:he("space-y-2",t),...e})})});Me.displayName="FormItem";const Qe=v.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:s}=SC();return i.jsx(Te,{ref:r,className:he(n&&"text-destructive",t),htmlFor:s,...e})});Qe.displayName="FormLabel";const Le=v.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:a}=SC();return i.jsx(Cl,{ref:e,id:n,"aria-describedby":r?`${s} ${a}`:`${s}`,"aria-invalid":!!r,...t})});Le.displayName="FormControl";const hb=v.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=SC();return i.jsx("p",{ref:r,id:n,className:he("text-sm text-muted-foreground",t),...e})});hb.displayName="FormDescription";const Ke=v.forwardRef(({className:t,children:e,...r},n)=>{const{error:s,formMessageId:a}=SC(),o=s?String(s==null?void 0:s.message):e;return o?i.jsx("p",{ref:n,id:a,className:he("text-sm font-medium text-destructive",t),...r,children:o}):null});Ke.displayName="FormMessage";const RL=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Pe(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},bJ=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?RL(n.ref,r,t):n.refs&&n.refs.forEach(s=>RL(s,r,t))}},W_e=(t,e)=>{e.shouldUseNativeValidation&&bJ(t,e);const r={};for(const n in t){const s=Pe(e.fields,n),a=Object.assign(t[n]||{},{ref:s&&s.ref});if(q_e(e.names||Object.keys(t),n)){const o=Object.assign({},Pe(r,n));Zt(o,"root",a),Zt(r,n,o)}else Zt(r,n,a)}return r},q_e=(t,e)=>t.some(r=>r.startsWith(e+"."));var X_e=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,a=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(A){return A.errors.forEach(function(d){return t.push(d)})}),e){var c=r[o].types,u=c&&c[n.code];r[o]=hJ(o,e,r,s,u?[].concat(u,n.message):n.message)}t.shift()}return r},Ps=function(t,e,r){return r===void 0&&(r={}),function(n,s,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return a.shouldUseNativeValidation&&bJ({},a),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:W_e(X_e(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},Vt;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},t.getValidEnumValues=s=>{const a=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(a){return s[a]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},t.find=(s,a)=>{for(const o of s)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(Vt||(Vt={}));var QT;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(QT||(QT={}));const Ve=Vt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),jc=t=>{switch(typeof t){case"undefined":return Ve.undefined;case"string":return Ve.string;case"number":return isNaN(t)?Ve.nan:Ve.number;case"boolean":return Ve.boolean;case"function":return Ve.function;case"bigint":return Ve.bigint;case"symbol":return Ve.symbol;case"object":return Array.isArray(t)?Ve.array:t===null?Ve.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ve.promise:typeof Map<"u"&&t instanceof Map?Ve.map:typeof Set<"u"&&t instanceof Set?Ve.set:typeof Date<"u"&&t instanceof Date?Ve.date:Ve.object;default:return Ve.unknown}},Se=Vt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),J_e=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ba extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(a){return a.message},n={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(e){if(!(e instanceof Ba))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Vt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ba.create=t=>new Ba(t);const Qf=(t,e)=>{let r;switch(t.code){case Se.invalid_type:t.received===Ve.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Se.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Vt.jsonStringifyReplacer)}`;break;case Se.unrecognized_keys:r=`Unrecognized key(s) in object: ${Vt.joinValues(t.keys,", ")}`;break;case Se.invalid_union:r="Invalid input";break;case Se.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Vt.joinValues(t.options)}`;break;case Se.invalid_enum_value:r=`Invalid enum value. Expected ${Vt.joinValues(t.options)}, received '${t.received}'`;break;case Se.invalid_arguments:r="Invalid function arguments";break;case Se.invalid_return_type:r="Invalid function return type";break;case Se.invalid_date:r="Invalid date";break;case Se.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Vt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Se.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Se.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Se.custom:r="Invalid input";break;case Se.invalid_intersection_types:r="Intersection results could not be merged";break;case Se.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Se.not_finite:r="Number must be finite";break;default:r=e.defaultError,Vt.assertNever(t)}return{message:r}};let jJ=Qf;function Y_e(t){jJ=t}function P1(){return jJ}const O1=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,a=[...r,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...s,path:a,message:l}},Z_e=[];function Ue(t,e){const r=P1(),n=O1({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Qf?void 0:Qf].filter(s=>!!s)});t.common.issues.push(n)}class ws{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return ht;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const a=await s.key,o=await s.value;n.push({key:a,value:o})}return ws.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return ht;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}}const ht=Object.freeze({status:"aborted"}),Ih=t=>({status:"dirty",value:t}),Ds=t=>({status:"valid",value:t}),LT=t=>t.status==="aborted",$T=t=>t.status==="dirty",zv=t=>t.status==="valid",Gv=t=>typeof Promise<"u"&&t instanceof Promise;function F1(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function _J(t,e,r,n,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var nt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(nt||(nt={}));var lg,cg;class Oo{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const UL=(t,e)=>{if(zv(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ba(t.common.issues);return this._error=r,this._error}}};function _t(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,l)=>{var c,u;const{message:A}=t;return o.code==="invalid_enum_value"?{message:A??l.defaultError}:typeof l.data>"u"?{message:(c=A??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=A??r)!==null&&u!==void 0?u:l.defaultError}},description:s}}class Et{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return jc(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:jc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ws,ctx:{common:e.parent.common,data:e.data,parsedType:jc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Gv(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:jc(e)},a=this._parseSync({data:e,path:s.path,parent:s});return UL(s,a)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:jc(e)},s=this._parse({data:e,path:n.path,parent:n}),a=await(Gv(s)?s:Promise.resolve(s));return UL(n,a)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const o=e(s),l=()=>a.addIssue({code:Se.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new Hi({schema:this,typeName:At.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Co.create(this,this._def)}nullable(){return bu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ri.create(this,this._def)}promise(){return $f.create(this,this._def)}or(e){return Jv.create([this,e],this._def)}and(e){return Yv.create(this,e,this._def)}transform(e){return new Hi({..._t(this._def),schema:this,typeName:At.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new ny({..._t(this._def),innerType:this,defaultValue:r,typeName:At.ZodDefault})}brand(){return new RF({typeName:At.ZodBranded,type:this,..._t(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new sy({..._t(this._def),innerType:this,catchValue:r,typeName:At.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Sx.create(this,e)}readonly(){return ay.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const eCe=/^c[^\s-]{8,}$/i,tCe=/^[0-9a-z]+$/,rCe=/^[0-9A-HJKMNP-TV-Z]{26}$/,nCe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,sCe=/^[a-z0-9_-]{21}$/i,aCe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,iCe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,oCe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let hS;const lCe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,cCe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,uCe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,CJ="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ACe=new RegExp(`^${CJ}$`);function BJ(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function dCe(t){return new RegExp(`^${BJ(t)}$`)}function EJ(t){let e=`${CJ}T${BJ(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function hCe(t,e){return!!((e==="v4"||!e)&&lCe.test(t)||(e==="v6"||!e)&&cCe.test(t))}class ki extends Et{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ve.string){const a=this._getOrReturnCtx(e);return Ue(a,{code:Se.invalid_type,expected:Ve.string,received:a.parsedType}),ht}const n=new ws;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),Ue(s,{code:Se.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),Ue(s,{code:Se.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(e,s),o?Ue(s,{code:Se.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Ue(s,{code:Se.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")iCe.test(e.data)||(s=this._getOrReturnCtx(e,s),Ue(s,{validation:"email",code:Se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")hS||(hS=new RegExp(oCe,"u")),hS.test(e.data)||(s=this._getOrReturnCtx(e,s),Ue(s,{validation:"emoji",code:Se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")nCe.test(e.data)||(s=this._getOrReturnCtx(e,s),Ue(s,{validation:"uuid",code:Se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")sCe.test(e.data)||(s=this._getOrReturnCtx(e,s),Ue(s,{validation:"nanoid",code:Se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")eCe.test(e.data)||(s=this._getOrReturnCtx(e,s),Ue(s,{validation:"cuid",code:Se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")tCe.test(e.data)||(s=this._getOrReturnCtx(e,s),Ue(s,{validation:"cuid2",code:Se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")rCe.test(e.data)||(s=this._getOrReturnCtx(e,s),Ue(s,{validation:"ulid",code:Se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Ue(s,{validation:"url",code:Se.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Ue(s,{validation:"regex",code:Se.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),Ue(s,{code:Se.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),Ue(s,{code:Se.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),Ue(s,{code:Se.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?EJ(a).test(e.data)||(s=this._getOrReturnCtx(e,s),Ue(s,{code:Se.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?ACe.test(e.data)||(s=this._getOrReturnCtx(e,s),Ue(s,{code:Se.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?dCe(a).test(e.data)||(s=this._getOrReturnCtx(e,s),Ue(s,{code:Se.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?aCe.test(e.data)||(s=this._getOrReturnCtx(e,s),Ue(s,{validation:"duration",code:Se.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?hCe(e.data,a.version)||(s=this._getOrReturnCtx(e,s),Ue(s,{validation:"ip",code:Se.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?uCe.test(e.data)||(s=this._getOrReturnCtx(e,s),Ue(s,{validation:"base64",code:Se.invalid_string,message:a.message}),n.dirty()):Vt.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:Se.invalid_string,...nt.errToObj(n)})}_addCheck(e){return new ki({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...nt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...nt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...nt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...nt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...nt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...nt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...nt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...nt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...nt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...nt.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...nt.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...nt.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...nt.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...nt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...nt.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...nt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...nt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...nt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...nt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...nt.errToObj(r)})}nonempty(e){return this.min(1,nt.errToObj(e))}trim(){return new ki({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ki({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ki({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ki.create=t=>{var e;return new ki({checks:[],typeName:At.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,..._t(t)})};function fCe(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,a=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return a%o/Math.pow(10,s)}class yu extends Et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ve.number){const a=this._getOrReturnCtx(e);return Ue(a,{code:Se.invalid_type,expected:Ve.number,received:a.parsedType}),ht}let n;const s=new ws;for(const a of this._def.checks)a.kind==="int"?Vt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Ue(n,{code:Se.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Ue(n,{code:Se.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Ue(n,{code:Se.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?fCe(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),Ue(n,{code:Se.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Ue(n,{code:Se.not_finite,message:a.message}),s.dirty()):Vt.assertNever(a);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,nt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,nt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,nt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,nt.toString(r))}setLimit(e,r,n,s){return new yu({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:nt.toString(s)}]})}_addCheck(e){return new yu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:nt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:nt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:nt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:nt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:nt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:nt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:nt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:nt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:nt.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Vt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}yu.create=t=>new yu({checks:[],typeName:At.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,..._t(t)});class xu extends Et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Ve.bigint){const a=this._getOrReturnCtx(e);return Ue(a,{code:Se.invalid_type,expected:Ve.bigint,received:a.parsedType}),ht}let n;const s=new ws;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Ue(n,{code:Se.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Ue(n,{code:Se.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Ue(n,{code:Se.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):Vt.assertNever(a);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,nt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,nt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,nt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,nt.toString(r))}setLimit(e,r,n,s){return new xu({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:nt.toString(s)}]})}_addCheck(e){return new xu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:nt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:nt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:nt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:nt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:nt.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}xu.create=t=>{var e;return new xu({checks:[],typeName:At.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,..._t(t)})};class Wv extends Et{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ve.boolean){const n=this._getOrReturnCtx(e);return Ue(n,{code:Se.invalid_type,expected:Ve.boolean,received:n.parsedType}),ht}return Ds(e.data)}}Wv.create=t=>new Wv({typeName:At.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,..._t(t)});class md extends Et{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ve.date){const a=this._getOrReturnCtx(e);return Ue(a,{code:Se.invalid_type,expected:Ve.date,received:a.parsedType}),ht}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Ue(a,{code:Se.invalid_date}),ht}const n=new ws;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),Ue(s,{code:Se.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),Ue(s,{code:Se.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Vt.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new md({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:nt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:nt.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}md.create=t=>new md({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:At.ZodDate,..._t(t)});class D1 extends Et{_parse(e){if(this._getType(e)!==Ve.symbol){const n=this._getOrReturnCtx(e);return Ue(n,{code:Se.invalid_type,expected:Ve.symbol,received:n.parsedType}),ht}return Ds(e.data)}}D1.create=t=>new D1({typeName:At.ZodSymbol,..._t(t)});class qv extends Et{_parse(e){if(this._getType(e)!==Ve.undefined){const n=this._getOrReturnCtx(e);return Ue(n,{code:Se.invalid_type,expected:Ve.undefined,received:n.parsedType}),ht}return Ds(e.data)}}qv.create=t=>new qv({typeName:At.ZodUndefined,..._t(t)});class Xv extends Et{_parse(e){if(this._getType(e)!==Ve.null){const n=this._getOrReturnCtx(e);return Ue(n,{code:Se.invalid_type,expected:Ve.null,received:n.parsedType}),ht}return Ds(e.data)}}Xv.create=t=>new Xv({typeName:At.ZodNull,..._t(t)});class Lf extends Et{constructor(){super(...arguments),this._any=!0}_parse(e){return Ds(e.data)}}Lf.create=t=>new Lf({typeName:At.ZodAny,..._t(t)});class VA extends Et{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ds(e.data)}}VA.create=t=>new VA({typeName:At.ZodUnknown,..._t(t)});class Il extends Et{_parse(e){const r=this._getOrReturnCtx(e);return Ue(r,{code:Se.invalid_type,expected:Ve.never,received:r.parsedType}),ht}}Il.create=t=>new Il({typeName:At.ZodNever,..._t(t)});class R1 extends Et{_parse(e){if(this._getType(e)!==Ve.undefined){const n=this._getOrReturnCtx(e);return Ue(n,{code:Se.invalid_type,expected:Ve.void,received:n.parsedType}),ht}return Ds(e.data)}}R1.create=t=>new R1({typeName:At.ZodVoid,..._t(t)});class Ri extends Et{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==Ve.array)return Ue(r,{code:Se.invalid_type,expected:Ve.array,received:r.parsedType}),ht;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(Ue(r,{code:o?Se.too_big:Se.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Ue(r,{code:Se.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Ue(r,{code:Se.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new Oo(r,o,r.path,l)))).then(o=>ws.mergeArray(n,o));const a=[...r.data].map((o,l)=>s.type._parseSync(new Oo(r,o,r.path,l)));return ws.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new Ri({...this._def,minLength:{value:e,message:nt.toString(r)}})}max(e,r){return new Ri({...this._def,maxLength:{value:e,message:nt.toString(r)}})}length(e,r){return new Ri({...this._def,exactLength:{value:e,message:nt.toString(r)}})}nonempty(e){return this.min(1,e)}}Ri.create=(t,e)=>new Ri({type:t,minLength:null,maxLength:null,exactLength:null,typeName:At.ZodArray,..._t(e)});function ph(t){if(t instanceof Rr){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Co.create(ph(n))}return new Rr({...t._def,shape:()=>e})}else return t instanceof Ri?new Ri({...t._def,type:ph(t.element)}):t instanceof Co?Co.create(ph(t.unwrap())):t instanceof bu?bu.create(ph(t.unwrap())):t instanceof Fo?Fo.create(t.items.map(e=>ph(e))):t}class Rr extends Et{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Vt.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Ve.object){const u=this._getOrReturnCtx(e);return Ue(u,{code:Se.invalid_type,expected:Ve.object,received:u.parsedType}),ht}const{status:n,ctx:s}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Il&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const A=a[u],d=s.data[u];c.push({key:{status:"valid",value:u},value:A._parse(new Oo(s,d,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Il){const u=this._def.unknownKeys;if(u==="passthrough")for(const A of l)c.push({key:{status:"valid",value:A},value:{status:"valid",value:s.data[A]}});else if(u==="strict")l.length>0&&(Ue(s,{code:Se.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const A of l){const d=s.data[A];c.push({key:{status:"valid",value:A},value:u._parse(new Oo(s,d,s.path,A)),alwaysSet:A in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const A of c){const d=await A.key,h=await A.value;u.push({key:d,value:h,alwaysSet:A.alwaysSet})}return u}).then(u=>ws.mergeObjectSync(n,u)):ws.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return nt.errToObj,new Rr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,a,o,l;const c=(o=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=nt.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Rr({...this._def,unknownKeys:"strip"})}passthrough(){return new Rr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Rr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Rr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:At.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Rr({...this._def,catchall:e})}pick(e){const r={};return Vt.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Rr({...this._def,shape:()=>r})}omit(e){const r={};return Vt.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Rr({...this._def,shape:()=>r})}deepPartial(){return ph(this)}partial(e){const r={};return Vt.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}),new Rr({...this._def,shape:()=>r})}required(e){const r={};return Vt.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Co;)a=a._def.innerType;r[n]=a}}),new Rr({...this._def,shape:()=>r})}keyof(){return SJ(Vt.objectKeys(this.shape))}}Rr.create=(t,e)=>new Rr({shape:()=>t,unknownKeys:"strip",catchall:Il.create(),typeName:At.ZodObject,..._t(e)});Rr.strictCreate=(t,e)=>new Rr({shape:()=>t,unknownKeys:"strict",catchall:Il.create(),typeName:At.ZodObject,..._t(e)});Rr.lazycreate=(t,e)=>new Rr({shape:t,unknownKeys:"strip",catchall:Il.create(),typeName:At.ZodObject,..._t(e)});class Jv extends Et{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Ba(l.ctx.common.issues));return Ue(r,{code:Se.invalid_union,unionErrors:o}),ht}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},A=c._parseSync({data:r.data,path:r.path,parent:u});if(A.status==="valid")return A;A.status==="dirty"&&!a&&(a={result:A,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Ba(c));return Ue(r,{code:Se.invalid_union,unionErrors:l}),ht}}get options(){return this._def.options}}Jv.create=(t,e)=>new Jv({options:t,typeName:At.ZodUnion,..._t(e)});const el=t=>t instanceof ey?el(t.schema):t instanceof Hi?el(t.innerType()):t instanceof ty?[t.value]:t instanceof wu?t.options:t instanceof ry?Vt.objectValues(t.enum):t instanceof ny?el(t._def.innerType):t instanceof qv?[void 0]:t instanceof Xv?[null]:t instanceof Co?[void 0,...el(t.unwrap())]:t instanceof bu?[null,...el(t.unwrap())]:t instanceof RF||t instanceof ay?el(t.unwrap()):t instanceof sy?el(t._def.innerType):[];class NC extends Et{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ve.object)return Ue(r,{code:Se.invalid_type,expected:Ve.object,received:r.parsedType}),ht;const n=this.discriminator,s=r.data[n],a=this.optionsMap.get(s);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(Ue(r,{code:Se.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ht)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const a of r){const o=el(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);s.set(l,a)}}return new NC({typeName:At.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,..._t(n)})}}function HT(t,e){const r=jc(t),n=jc(e);if(t===e)return{valid:!0,data:t};if(r===Ve.object&&n===Ve.object){const s=Vt.objectKeys(e),a=Vt.objectKeys(t).filter(l=>s.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=HT(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Ve.array&&n===Ve.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=HT(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===Ve.date&&n===Ve.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Yv extends Et{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(a,o)=>{if(LT(a)||LT(o))return ht;const l=HT(a.value,o.value);return l.valid?(($T(a)||$T(o))&&r.dirty(),{status:r.value,value:l.data}):(Ue(n,{code:Se.invalid_intersection_types}),ht)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Yv.create=(t,e,r)=>new Yv({left:t,right:e,typeName:At.ZodIntersection,..._t(r)});class Fo extends Et{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ve.array)return Ue(n,{code:Se.invalid_type,expected:Ve.array,received:n.parsedType}),ht;if(n.data.length<this._def.items.length)return Ue(n,{code:Se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ht;!this._def.rest&&n.data.length>this._def.items.length&&(Ue(n,{code:Se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Oo(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>ws.mergeArray(r,o)):ws.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Fo({...this._def,rest:e})}}Fo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Fo({items:t,typeName:At.ZodTuple,rest:null,..._t(e)})};class Zv extends Et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ve.object)return Ue(n,{code:Se.invalid_type,expected:Ve.object,received:n.parsedType}),ht;const s=[],a=this._def.keyType,o=this._def.valueType;for(const l in n.data)s.push({key:a._parse(new Oo(n,l,n.path,l)),value:o._parse(new Oo(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?ws.mergeObjectAsync(r,s):ws.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Et?new Zv({keyType:e,valueType:r,typeName:At.ZodRecord,..._t(n)}):new Zv({keyType:ki.create(),valueType:e,typeName:At.ZodRecord,..._t(r)})}}class U1 extends Et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ve.map)return Ue(n,{code:Se.invalid_type,expected:Ve.map,received:n.parsedType}),ht;const s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new Oo(n,l,n.path,[u,"key"])),value:a._parse(new Oo(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,A=await c.value;if(u.status==="aborted"||A.status==="aborted")return ht;(u.status==="dirty"||A.status==="dirty")&&r.dirty(),l.set(u.value,A.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,A=c.value;if(u.status==="aborted"||A.status==="aborted")return ht;(u.status==="dirty"||A.status==="dirty")&&r.dirty(),l.set(u.value,A.value)}return{status:r.value,value:l}}}}U1.create=(t,e,r)=>new U1({valueType:e,keyType:t,typeName:At.ZodMap,..._t(r)});class pd extends Et{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ve.set)return Ue(n,{code:Se.invalid_type,expected:Ve.set,received:n.parsedType}),ht;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Ue(n,{code:Se.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Ue(n,{code:Se.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const A of c){if(A.status==="aborted")return ht;A.status==="dirty"&&r.dirty(),u.add(A.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>a._parse(new Oo(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,r){return new pd({...this._def,minSize:{value:e,message:nt.toString(r)}})}max(e,r){return new pd({...this._def,maxSize:{value:e,message:nt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}pd.create=(t,e)=>new pd({valueType:t,minSize:null,maxSize:null,typeName:At.ZodSet,..._t(e)});class Gh extends Et{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ve.function)return Ue(r,{code:Se.invalid_type,expected:Ve.function,received:r.parsedType}),ht;function n(l,c){return O1({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,P1(),Qf].filter(u=>!!u),issueData:{code:Se.invalid_arguments,argumentsError:c}})}function s(l,c){return O1({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,P1(),Qf].filter(u=>!!u),issueData:{code:Se.invalid_return_type,returnTypeError:c}})}const a={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof $f){const l=this;return Ds(async function(...c){const u=new Ba([]),A=await l._def.args.parseAsync(c,a).catch(f=>{throw u.addIssue(n(c,f)),u}),d=await Reflect.apply(o,this,A);return await l._def.returns._def.type.parseAsync(d,a).catch(f=>{throw u.addIssue(s(d,f)),u})})}else{const l=this;return Ds(function(...c){const u=l._def.args.safeParse(c,a);if(!u.success)throw new Ba([n(c,u.error)]);const A=Reflect.apply(o,this,u.data),d=l._def.returns.safeParse(A,a);if(!d.success)throw new Ba([s(A,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Gh({...this._def,args:Fo.create(e).rest(VA.create())})}returns(e){return new Gh({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Gh({args:e||Fo.create([]).rest(VA.create()),returns:r||VA.create(),typeName:At.ZodFunction,..._t(n)})}}class ey extends Et{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}ey.create=(t,e)=>new ey({getter:t,typeName:At.ZodLazy,..._t(e)});class ty extends Et{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Ue(r,{received:r.data,code:Se.invalid_literal,expected:this._def.value}),ht}return{status:"valid",value:e.data}}get value(){return this._def.value}}ty.create=(t,e)=>new ty({value:t,typeName:At.ZodLiteral,..._t(e)});function SJ(t,e){return new wu({values:t,typeName:At.ZodEnum,..._t(e)})}class wu extends Et{constructor(){super(...arguments),lg.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Ue(r,{expected:Vt.joinValues(n),received:r.parsedType,code:Se.invalid_type}),ht}if(F1(this,lg)||_J(this,lg,new Set(this._def.values)),!F1(this,lg).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Ue(r,{received:r.data,code:Se.invalid_enum_value,options:n}),ht}return Ds(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return wu.create(e,{...this._def,...r})}exclude(e,r=this._def){return wu.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}lg=new WeakMap;wu.create=SJ;class ry extends Et{constructor(){super(...arguments),cg.set(this,void 0)}_parse(e){const r=Vt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Ve.string&&n.parsedType!==Ve.number){const s=Vt.objectValues(r);return Ue(n,{expected:Vt.joinValues(s),received:n.parsedType,code:Se.invalid_type}),ht}if(F1(this,cg)||_J(this,cg,new Set(Vt.getValidEnumValues(this._def.values))),!F1(this,cg).has(e.data)){const s=Vt.objectValues(r);return Ue(n,{received:n.data,code:Se.invalid_enum_value,options:s}),ht}return Ds(e.data)}get enum(){return this._def.values}}cg=new WeakMap;ry.create=(t,e)=>new ry({values:t,typeName:At.ZodNativeEnum,..._t(e)});class $f extends Et{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ve.promise&&r.common.async===!1)return Ue(r,{code:Se.invalid_type,expected:Ve.promise,received:r.parsedType}),ht;const n=r.parsedType===Ve.promise?r.data:Promise.resolve(r.data);return Ds(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}$f.create=(t,e)=>new $f({type:t,typeName:At.ZodPromise,..._t(e)});class Hi extends Et{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===At.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:o=>{Ue(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return ht;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?ht:c.status==="dirty"||r.value==="dirty"?Ih(c.value):c});{if(r.value==="aborted")return ht;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?ht:l.status==="dirty"||r.value==="dirty"?Ih(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?ht:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?ht:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!zv(o))return o;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>zv(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:r.value,value:l})):o);Vt.assertNever(s)}}Hi.create=(t,e,r)=>new Hi({schema:t,typeName:At.ZodEffects,effect:e,..._t(r)});Hi.createWithPreprocess=(t,e,r)=>new Hi({schema:e,effect:{type:"preprocess",transform:t},typeName:At.ZodEffects,..._t(r)});class Co extends Et{_parse(e){return this._getType(e)===Ve.undefined?Ds(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Co.create=(t,e)=>new Co({innerType:t,typeName:At.ZodOptional,..._t(e)});class bu extends Et{_parse(e){return this._getType(e)===Ve.null?Ds(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}bu.create=(t,e)=>new bu({innerType:t,typeName:At.ZodNullable,..._t(e)});class ny extends Et{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Ve.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}ny.create=(t,e)=>new ny({innerType:t,typeName:At.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,..._t(e)});class sy extends Et{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Gv(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ba(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ba(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}sy.create=(t,e)=>new sy({innerType:t,typeName:At.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,..._t(e)});class M1 extends Et{_parse(e){if(this._getType(e)!==Ve.nan){const n=this._getOrReturnCtx(e);return Ue(n,{code:Se.invalid_type,expected:Ve.nan,received:n.parsedType}),ht}return{status:"valid",value:e.data}}}M1.create=t=>new M1({typeName:At.ZodNaN,..._t(t)});const mCe=Symbol("zod_brand");class RF extends Et{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Sx extends Et{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ht:a.status==="dirty"?(r.dirty(),Ih(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ht:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new Sx({in:e,out:r,typeName:At.ZodPipeline})}}class ay extends Et{_parse(e){const r=this._def.innerType._parse(e),n=s=>(zv(s)&&(s.value=Object.freeze(s.value)),s);return Gv(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}ay.create=(t,e)=>new ay({innerType:t,typeName:At.ZodReadonly,..._t(e)});function NJ(t,e={},r){return t?Lf.create().superRefine((n,s)=>{var a,o;if(!t(n)){const l=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,c=(o=(a=l.fatal)!==null&&a!==void 0?a:r)!==null&&o!==void 0?o:!0,u=typeof l=="string"?{message:l}:l;s.addIssue({code:"custom",...u,fatal:c})}}):Lf.create()}const pCe={object:Rr.lazycreate};var At;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(At||(At={}));const gCe=(t,e={message:`Input not instance of ${t.name}`})=>NJ(r=>r instanceof t,e),Ar=ki.create,Bo=yu.create,vCe=M1.create,yCe=xu.create,tu=Wv.create,xCe=md.create,wCe=D1.create,bCe=qv.create,jCe=Xv.create,_Ce=Lf.create,CCe=VA.create,BCe=Il.create,ECe=R1.create,SCe=Ri.create,Gi=Rr.create,NCe=Rr.strictCreate,kCe=Jv.create,TCe=NC.create,ICe=Yv.create,PCe=Fo.create,OCe=Zv.create,FCe=U1.create,DCe=pd.create,RCe=Gh.create,UCe=ey.create,kJ=ty.create,Hf=wu.create,MCe=ry.create,QCe=$f.create,ML=Hi.create,LCe=Co.create,$Ce=bu.create,HCe=Hi.createWithPreprocess,VCe=Sx.create,KCe=()=>Ar().optional(),zCe=()=>Bo().optional(),GCe=()=>tu().optional(),WCe={string:t=>ki.create({...t,coerce:!0}),number:t=>yu.create({...t,coerce:!0}),boolean:t=>Wv.create({...t,coerce:!0}),bigint:t=>xu.create({...t,coerce:!0}),date:t=>md.create({...t,coerce:!0})},qCe=ht;var hn=Object.freeze({__proto__:null,defaultErrorMap:Qf,setErrorMap:Y_e,getErrorMap:P1,makeIssue:O1,EMPTY_PATH:Z_e,addIssueToContext:Ue,ParseStatus:ws,INVALID:ht,DIRTY:Ih,OK:Ds,isAborted:LT,isDirty:$T,isValid:zv,isAsync:Gv,get util(){return Vt},get objectUtil(){return QT},ZodParsedType:Ve,getParsedType:jc,ZodType:Et,datetimeRegex:EJ,ZodString:ki,ZodNumber:yu,ZodBigInt:xu,ZodBoolean:Wv,ZodDate:md,ZodSymbol:D1,ZodUndefined:qv,ZodNull:Xv,ZodAny:Lf,ZodUnknown:VA,ZodNever:Il,ZodVoid:R1,ZodArray:Ri,ZodObject:Rr,ZodUnion:Jv,ZodDiscriminatedUnion:NC,ZodIntersection:Yv,ZodTuple:Fo,ZodRecord:Zv,ZodMap:U1,ZodSet:pd,ZodFunction:Gh,ZodLazy:ey,ZodLiteral:ty,ZodEnum:wu,ZodNativeEnum:ry,ZodPromise:$f,ZodEffects:Hi,ZodTransformer:Hi,ZodOptional:Co,ZodNullable:bu,ZodDefault:ny,ZodCatch:sy,ZodNaN:M1,BRAND:mCe,ZodBranded:RF,ZodPipeline:Sx,ZodReadonly:ay,custom:NJ,Schema:Et,ZodSchema:Et,late:pCe,get ZodFirstPartyTypeKind(){return At},coerce:WCe,any:_Ce,array:SCe,bigint:yCe,boolean:tu,date:xCe,discriminatedUnion:TCe,effect:ML,enum:Hf,function:RCe,instanceof:gCe,intersection:ICe,lazy:UCe,literal:kJ,map:FCe,nan:vCe,nativeEnum:MCe,never:BCe,null:jCe,nullable:$Ce,number:Bo,object:Gi,oboolean:GCe,onumber:zCe,optional:LCe,ostring:KCe,pipeline:VCe,preprocess:HCe,promise:QCe,record:OCe,set:DCe,strictObject:NCe,string:Ar,symbol:wCe,transformer:ML,tuple:PCe,undefined:bCe,union:kCe,unknown:CCe,void:ECe,NEVER:qCe,ZodIssueCode:Se,quotelessJson:J_e,ZodError:Ba});const XCe=()=>{const t=Tt();return i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Akses Akun"}),i.jsx("p",{className:"text-muted-foreground",children:"Masuk untuk mengelola akun dan pesanan Anda"})]}),i.jsxs("div",{className:"w-full max-w-sm space-y-4",children:[i.jsx(V,{onClick:()=>t("/login"),className:"w-full bg-flame-500 hover:bg-flame-600",children:"Masuk"}),i.jsx(V,{onClick:()=>t("/register"),variant:"outline",className:"w-full",children:"Buat Akun"})]})]})},JCe=Gi({name:Ar().min(1,"Nama wajib diisi"),phone:Ar().regex(/^(\+?62|0)[0-9]{9,13}$/,"Harus nomor telepon Indonesia yang valid (dimulai dengan +62 atau 0)").optional().or(kJ(""))}),YCe=({profile:t,onUpdate:e,onCancel:r})=>{const[n,s]=v.useState(!1),a=Is({resolver:Ps(JCe),defaultValues:{name:(t==null?void 0:t.name)||"",phone:(t==null?void 0:t.phone)||""}}),o=async l=>{try{s(!0);const c={name:l.name,phone:l.phone===""?void 0:l.phone};await e(c)}catch(c){console.error("Error updating profile:",c)}finally{s(!1)}};return i.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[i.jsx("h3",{className:"text-md font-medium mb-4",children:"Edit Profil"}),i.jsx(ys,{...a,children:i.jsxs("form",{onSubmit:a.handleSubmit(o),className:"space-y-4",children:[i.jsx($e,{control:a.control,name:"name",render:({field:l})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Nama Lengkap"}),i.jsx(Le,{children:i.jsx(ce,{placeholder:"Masukkan nama lengkap",...l})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:a.control,name:"phone",render:({field:l})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Nomor Telepon"}),i.jsx(Le,{children:i.jsx(ce,{placeholder:"contoh: 081234567890",...l})}),i.jsx(Ke,{})]})}),i.jsxs("div",{className:"flex space-x-2 pt-2",children:[i.jsx(V,{type:"submit",className:"flex-1 bg-flame-500 hover:bg-flame-600",disabled:n,children:n?"Menyimpan...":"Simpan Perubahan"}),i.jsx(V,{type:"button",variant:"outline",className:"flex-1",onClick:r,disabled:n,children:"Batal"})]})]})})]})},ZCe=()=>{const{user:t,profile:e,logout:r,refreshProfile:n}=qr(),{toast:s}=Vi(),[a,o]=v.useState([]),[l,c]=v.useState(!0),[u,A]=v.useState(!1),d=Tt();v.useEffect(()=>{(async()=>{try{if(c(!0),t){const{data:p,error:g}=await J.from("addresses").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});g?console.error("Error fetching addresses:",g):o(p||[])}}catch(p){console.error("Error fetching user data:",p)}finally{c(!1)}})()},[t]);const h=async m=>{try{if(!t)return;const{error:p}=await J.from("profiles").update({name:m.name,phone:m.phone}).eq("id",t.id);if(p){console.error("Error updating profile:",p),s({variant:"destructive",title:"Gagal memperbarui profil",description:p.message});return}await n(),s({title:"Profil berhasil diperbarui",description:"Informasi profil Anda telah disimpan"}),A(!1)}catch(p){console.error("Error in profile update:",p),s({variant:"destructive",title:"Terjadi kesalahan",description:"Gagal memperbarui profil. Silakan coba lagi."})}},f=async()=>{try{await r(),s({title:"Berhasil keluar",description:"Anda telah keluar dari akun"}),d("/")}catch(m){console.error("Error logging out:",m),s({variant:"destructive",title:"Gagal keluar",description:"Terjadi kesalahan saat mencoba keluar. Silakan coba lagi."})}};return l?i.jsx("div",{className:"min-h-[60vh] flex flex-col items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground",children:"Tunggu Sebentar..."})}):i.jsxs("div",{className:"pb-16",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h1",{className:"text-xl font-bold",children:"Akun Saya"}),i.jsxs(V,{variant:"ghost",size:"sm",onClick:f,className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:[i.jsx(zP,{className:"h-4 w-4 mr-1"}),"Keluar"]})]}),i.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"bg-slate-100 h-16 w-16 rounded-full flex items-center justify-center mr-4",children:i.jsx(_f,{className:"h-8 w-8 text-slate-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-semibold text-lg",children:(e==null?void 0:e.name)||"Pengguna"}),i.jsxs("p",{className:"text-slate-500 text-sm flex items-center",children:[i.jsx(hk,{className:"h-3 w-3 mr-1"}),e==null?void 0:e.email]}),(e==null?void 0:e.phone)&&i.jsxs("p",{className:"text-slate-500 text-sm flex items-center mt-1",children:[i.jsx(fk,{className:"h-3 w-3 mr-1"}),e.phone]})]})]})}),i.jsxs(sa,{defaultValue:"profile",className:"w-full",children:[i.jsxs(Fs,{className:"grid w-full grid-cols-2",children:[i.jsx(Ft,{value:"profile",children:"Informasi Pribadi"}),i.jsx(Ft,{value:"addresses",children:"Alamat Saya"})]}),i.jsx(er,{value:"profile",className:"mt-4 space-y-4",children:u?i.jsx("div",{className:"p-5 rounded-lg bg-white shadow-sm",children:i.jsx(YCe,{profile:e,onUpdate:h,onCancel:()=>A(!1)})}):i.jsxs("div",{className:"p-5 rounded-lg bg-white shadow-sm",children:[i.jsxs("h3",{className:"text-md font-medium mb-4 flex items-center",children:[i.jsx(_f,{className:"h-4 w-4 mr-2 text-slate-500"}),"Informasi Pribadi"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"pb-3 border-b border-slate-100",children:[i.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Nama Lengkap"}),i.jsx("p",{className:"font-medium",children:(e==null?void 0:e.name)||"-"})]}),i.jsxs("div",{className:"pb-3 border-b border-slate-100",children:[i.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Email"}),i.jsxs("p",{className:"font-medium flex items-center",children:[i.jsx(hk,{className:"h-4 w-4 mr-2 text-slate-400"}),(e==null?void 0:e.email)||"-"]})]}),i.jsxs("div",{className:"pb-3 border-b border-slate-100",children:[i.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Nomor Telepon"}),i.jsxs("p",{className:"font-medium flex items-center",children:[i.jsx(fk,{className:"h-4 w-4 mr-2 text-slate-400"}),(e==null?void 0:e.phone)||"-"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Status Akun"}),i.jsxs("p",{className:"font-medium flex items-center",children:[i.jsx(c9,{className:"h-4 w-4 mr-2 text-green-500"}),"Terverifikasi"]})]})]}),i.jsx(V,{onClick:()=>A(!0),variant:"outline",className:"mt-6 w-full",children:"Edit Profil"})]})}),i.jsx(er,{value:"addresses",className:"mt-4",children:a.length===0?i.jsxs("div",{className:"text-center py-8 bg-white rounded-lg shadow-sm",children:[i.jsx(_U,{className:"w-12 h-12 text-slate-300 mx-auto mb-2"}),i.jsx("p",{className:"text-slate-500 mb-2",children:"Belum ada alamat tersimpan"}),i.jsx("p",{className:"text-sm text-slate-400 mb-4 max-w-xs mx-auto",children:"Tambahkan alamat untuk mempermudah proses checkout saat berbelanja"}),i.jsx(V,{onClick:()=>d("/address/new"),className:"bg-flame-500 hover:bg-flame-600",children:"Tambah Alamat"})]}):i.jsxs("div",{className:"space-y-4",children:[a.map(m=>i.jsxs("div",{className:"border rounded-lg p-3 bg-white",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:m.name}),m.isDefault&&i.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded-full",children:"Utama"})]}),i.jsx(st,{to:`/address/${m.id}`,className:"text-sm text-flame-600 hover:text-flame-500",children:"Ubah"})]}),i.jsx("p",{className:"text-sm mt-1",children:m.street}),i.jsxs("p",{className:"text-sm",children:[m.city,", ",m.state," ",m.zip]})]},m.id)),i.jsx("div",{className:"flex justify-center mt-2",children:i.jsxs(V,{onClick:()=>d("/address/new"),variant:"outline",className:"w-full",children:[i.jsx(_U,{className:"h-4 w-4 mr-2"}),"Tambah Alamat Baru"]})})]})})]})]})},eBe=()=>{const{user:t}=qr();return i.jsx(Wt,{children:i.jsx("div",{className:"p-4",children:t?i.jsx(ZCe,{}):i.jsx(XCe,{})})})};var UF="Checkbox",[tBe,Lnt]=aa(UF),[rBe,nBe]=tBe(UF),TJ=v.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:A,...d}=t,[h,f]=v.useState(null),m=yt(e,j=>f(j)),p=v.useRef(!1),g=h?A||!!h.closest("form"):!0,[y=!1,x]=si({prop:s,defaultProp:a,onChange:u}),b=v.useRef(y);return v.useEffect(()=>{const j=h==null?void 0:h.form;if(j){const C=()=>x(b.current);return j.addEventListener("reset",C),()=>j.removeEventListener("reset",C)}},[h,x]),i.jsxs(rBe,{scope:r,state:y,disabled:l,children:[i.jsx(et.button,{type:"button",role:"checkbox","aria-checked":ru(y)?"mixed":y,"aria-required":o,"data-state":OJ(y),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:m,onKeyDown:De(t.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:De(t.onClick,j=>{x(C=>ru(C)?!0:!C),g&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})}),g&&i.jsx(sBe,{control:h,bubbles:!p.current,name:n,value:c,checked:y,required:o,disabled:l,form:A,style:{transform:"translateX(-100%)"},defaultChecked:ru(a)?!1:a})]})});TJ.displayName=UF;var IJ="CheckboxIndicator",PJ=v.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...s}=t,a=nBe(IJ,r);return i.jsx(Ms,{present:n||ru(a.state)||a.state===!0,children:i.jsx(et.span,{"data-state":OJ(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});PJ.displayName=IJ;var sBe=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:s,...a}=t,o=v.useRef(null),l=wx(r),c=ax(e);v.useEffect(()=>{const A=o.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&f){const m=new Event("click",{bubbles:n});A.indeterminate=ru(r),f.call(A,ru(r)?!1:r),A.dispatchEvent(m)}},[l,r,n]);const u=v.useRef(ru(r)?!1:r);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...a,tabIndex:-1,ref:o,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ru(t){return t==="indeterminate"}function OJ(t){return ru(t)?"indeterminate":t?"checked":"unchecked"}var FJ=TJ,aBe=PJ;const MF=v.forwardRef(({className:t,...e},r)=>i.jsx(FJ,{ref:r,className:he("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:i.jsx(aBe,{className:he("flex items-center justify-center text-current"),children:i.jsx(HP,{className:"h-4 w-4"})})}));MF.displayName=FJ.displayName;const iBe=()=>{const{id:t}=cx(),e=Tt(),{toast:r}=Vi(),{user:n}=qr(),s=t==="new",[a,o]=v.useState(""),[l,c]=v.useState(""),[u,A]=v.useState(""),[d,h]=v.useState(""),[f,m]=v.useState(""),[p,g]=v.useState(""),[y,x]=v.useState(!1),[b,j]=v.useState(!1);v.useEffect(()=>{(async()=>{if(!(s||!n))try{j(!0);const{data:B,error:S}=await J.from("addresses").select("*").eq("id",t).eq("user_id",n.id).single();if(S)throw S;B&&(o(B.name),c(B.street),A(B.city),h(B.state),m(B.zip),g(B.country),x(B.is_default))}catch(B){r({title:"Error",description:B.message||"Tidak dapat memuat detail alamat",variant:"destructive"})}finally{j(!1)}})()},[t,n,s,r]);const C=async _=>{if(_.preventDefault(),!n){r({title:"Error",description:"Anda harus login untuk menyimpan alamat",variant:"destructive"});return}try{j(!0),y&&await J.from("addresses").update({is_default:!1}).eq("user_id",n.id);const B={name:a,street:l,city:u,state:d,zip:f,country:p,is_default:y,user_id:n.id};if(s){const{error:S}=await J.from("addresses").insert([B]);if(S)throw S;r({title:"Alamat Ditambahkan",description:"Alamat Anda telah berhasil disimpan"})}else{const{error:S}=await J.from("addresses").update(B).eq("id",t).eq("user_id",n.id);if(S)throw S;r({title:"Alamat Diperbarui",description:"Alamat Anda telah berhasil diperbarui"})}e("/profile")}catch(B){r({title:"Error",description:B.message||"Tidak dapat menyimpan alamat",variant:"destructive"})}finally{j(!1)}},E=async()=>{if(!n||s||!t||t==="undefined"){r({title:"Konfirmasi penghapusan",description:"Apakah Anda yakin ingin menghapus alamat ini?",variant:"destructive"});return}try{j(!0);const{error:_}=await J.from("addresses").delete().eq("id",t).eq("user_id",n.id);if(_)throw _;r({title:"Alamat Dihapus",description:"Alamat Anda telah berhasil dihapus"}),e("/profile")}catch(_){r({title:"Error",description:_.message||"Tidak dapat menghapus alamat",variant:"destructive"})}finally{j(!1)}};return i.jsx(Wt,{children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsxs("button",{onClick:()=>e("/profile"),className:"text-charcoal-600 flex items-center",children:[i.jsx(Fi,{className:"h-5 w-5 mr-1"}),i.jsx("span",{children:"Kembali"})]}),i.jsx("h1",{className:"text-xl font-bold text-center flex-1 pr-6",children:s?"Tambah Alamat Baru":"Edit Alamat"})]}),i.jsxs("form",{onSubmit:C,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"name",children:"Nama Alamat"}),i.jsx(ce,{id:"name",type:"text",value:a,onChange:_=>o(_.target.value),placeholder:"Rumah, Kantor, dll.",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"street",children:"Alamat Jalan"}),i.jsx(ce,{id:"street",type:"text",value:l,onChange:_=>c(_.target.value),placeholder:"Jl. Contoh No. 123",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"city",children:"Kota"}),i.jsx(ce,{id:"city",type:"text",value:u,onChange:_=>A(_.target.value),placeholder:"Nama Kota",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"state",children:"Provinsi"}),i.jsx(ce,{id:"state",type:"text",value:d,onChange:_=>h(_.target.value),placeholder:"Nama Provinsi",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"zip",children:"Kode Pos"}),i.jsx(ce,{id:"zip",type:"text",value:f,onChange:_=>m(_.target.value),placeholder:"Kode Pos",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"country",children:"Catatan Detail Lokasi"}),i.jsx(ce,{id:"country",type:"text",value:p,onChange:_=>g(_.target.value),placeholder:"Ceritakan Detail Lokasi Agar Lebih Mudah Ditemukan",required:!0})]}),i.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[i.jsx(MF,{id:"isDefault",checked:y,onCheckedChange:_=>x(_===!0)}),i.jsx(Te,{htmlFor:"isDefault",children:"Jadikan alamat utama"})]}),i.jsx("div",{className:"pt-4",children:i.jsx(V,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:b,children:b?"Menyimpan...":"Simpan Alamat"})}),!s&&i.jsx("div",{className:"pt-2",children:i.jsx(V,{type:"button",variant:"outline",className:"w-full text-destructive border-destructive",onClick:E,disabled:b,children:"Hapus Alamat"})})]})]})})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var VT=function(t,e){return VT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},VT(t,e)};function Wi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");VT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var KT=function(){return KT=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},KT.apply(this,arguments)};function Es(t,e,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?a(A.value):s(A.value).then(l,c)}u((n=n.apply(t,[])).next())})}function as(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(A){return c([u,A])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(a=u[0]&2?s.return:u[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,u[1])).done)return a;switch(s=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(A){u=[6,A],s=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function G0(t,e,r){if(arguments.length===2)for(var n=0,s=e.length,a;n<s;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||e)}var Pl=function(){function t(e,r,n,s){this.left=e,this.top=r,this.width=n,this.height=s}return t.prototype.add=function(e,r,n,s){return new t(this.left+e,this.top+r,this.width+n,this.height+s)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(s){return s.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),kC=function(t,e){return Pl.fromClientRect(t,e.getBoundingClientRect())},oBe=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),s=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new Pl(0,0,n,s)},TC=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var a=t.charCodeAt(r++);(a&64512)===56320?e.push(((s&1023)<<10)+(a&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},Jr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,a="";++s<r;){var o=t[s];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(s+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},QL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lBe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var W0=0;W0<QL.length;W0++)lBe[QL.charCodeAt(W0)]=W0;var LL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ug=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var q0=0;q0<LL.length;q0++)ug[LL.charCodeAt(q0)]=q0;var cBe=function(t){var e=t.length*.75,r=t.length,n,s=0,a,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)a=ug[t.charCodeAt(n)],o=ug[t.charCodeAt(n+1)],l=ug[t.charCodeAt(n+2)],c=ug[t.charCodeAt(n+3)],A[s++]=a<<2|o>>4,A[s++]=(o&15)<<4|l>>2,A[s++]=(l&3)<<6|c&63;return u},uBe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},ABe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},KA=5,QF=11,fS=2,dBe=QF-KA,DJ=65536>>KA,hBe=1<<KA,mS=hBe-1,fBe=1024>>KA,mBe=DJ+fBe,pBe=mBe,gBe=32,vBe=pBe+gBe,yBe=65536>>QF,xBe=1<<dBe,wBe=xBe-1,$L=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},bBe=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},jBe=function(t,e){var r=cBe(t),n=Array.isArray(r)?ABe(r):new Uint32Array(r),s=Array.isArray(r)?uBe(r):new Uint16Array(r),a=24,o=$L(s,a/2,n[4]/2),l=n[5]===2?$L(s,(a+n[4])/2):bBe(n,Math.ceil((a+n[4])/4));return new _Be(n[0],n[1],n[2],n[3],o,l)},_Be=function(){function t(e,r,n,s,a,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=a,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>KA],r=(r<<fS)+(e&mS),this.data[r];if(e<=65535)return r=this.index[DJ+(e-55296>>KA)],r=(r<<fS)+(e&mS),this.data[r];if(e<this.highStart)return r=vBe-yBe+(e>>QF),r=this.index[r],r+=e>>KA&wBe,r=this.index[r],r=(r<<fS)+(e&mS),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),HL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",CBe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var X0=0;X0<HL.length;X0++)CBe[HL.charCodeAt(X0)]=X0;var BBe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",VL=50,EBe=1,RJ=2,UJ=3,SBe=4,NBe=5,KL=7,MJ=8,zL=9,Rc=10,zT=11,GL=12,GT=13,kBe=14,Ag=15,WT=16,J0=17,Fp=18,TBe=19,WL=20,qT=21,Dp=22,pS=23,Yd=24,ca=25,dg=26,hg=27,Zd=28,IBe=29,yA=30,PBe=31,Y0=32,Z0=33,XT=34,JT=35,YT=36,iy=37,ZT=38,fb=39,mb=40,gS=41,QJ=42,OBe=43,FBe=[9001,65288],LJ="!",Pt="",ew="",e2=jBe(BBe),Wo=[yA,YT],t2=[EBe,RJ,UJ,NBe],$J=[Rc,MJ],qL=[hg,dg],DBe=t2.concat($J),XL=[ZT,fb,mb,XT,JT],RBe=[Ag,GT],UBe=function(t,e){e===void 0&&(e="strict");var r=[],n=[],s=[];return t.forEach(function(a,o){var l=e2.get(a);if(l>VL?(s.push(!0),l-=VL):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return n.push(o),r.push(WT);if(l===SBe||l===zT){if(o===0)return n.push(o),r.push(yA);var c=r[o-1];return DBe.indexOf(c)===-1?(n.push(n[o-1]),r.push(c)):(n.push(o),r.push(yA))}if(n.push(o),l===PBe)return r.push(e==="strict"?qT:iy);if(l===QJ||l===IBe)return r.push(yA);if(l===OBe)return a>=131072&&a<=196605||a>=196608&&a<=262141?r.push(iy):r.push(yA);r.push(l)}),[n,r,s]},vS=function(t,e,r,n){var s=n[r];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var a=r;a<=n.length;){a++;var o=n[a];if(o===e)return!0;if(o!==Rc)break}if(s===Rc)for(var a=r;a>0;){a--;var l=n[a];if(Array.isArray(t)?t.indexOf(l)!==-1:t===l)for(var c=r;c<=n.length;){c++;var o=n[c];if(o===e)return!0;if(o!==Rc)break}if(l!==Rc)break}return!1},JL=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===Rc)r--;else return n}return 0},MBe=function(t,e,r,n,s){if(r[n]===0)return Pt;var a=n-1;if(Array.isArray(s)&&s[a]===!0)return Pt;var o=a-1,l=a+1,c=e[a],u=o>=0?e[o]:0,A=e[l];if(c===RJ&&A===UJ)return Pt;if(t2.indexOf(c)!==-1)return LJ;if(t2.indexOf(A)!==-1||$J.indexOf(A)!==-1)return Pt;if(JL(a,e)===MJ)return ew;if(e2.get(t[a])===zT||(c===Y0||c===Z0)&&e2.get(t[l])===zT||c===KL||A===KL||c===zL||[Rc,GT,Ag].indexOf(c)===-1&&A===zL||[J0,Fp,TBe,Yd,Zd].indexOf(A)!==-1||JL(a,e)===Dp||vS(pS,Dp,a,e)||vS([J0,Fp],qT,a,e)||vS(GL,GL,a,e))return Pt;if(c===Rc)return ew;if(c===pS||A===pS)return Pt;if(A===WT||c===WT)return ew;if([GT,Ag,qT].indexOf(A)!==-1||c===kBe||u===YT&&RBe.indexOf(c)!==-1||c===Zd&&A===YT||A===WL||Wo.indexOf(A)!==-1&&c===ca||Wo.indexOf(c)!==-1&&A===ca||c===hg&&[iy,Y0,Z0].indexOf(A)!==-1||[iy,Y0,Z0].indexOf(c)!==-1&&A===dg||Wo.indexOf(c)!==-1&&qL.indexOf(A)!==-1||qL.indexOf(c)!==-1&&Wo.indexOf(A)!==-1||[hg,dg].indexOf(c)!==-1&&(A===ca||[Dp,Ag].indexOf(A)!==-1&&e[l+1]===ca)||[Dp,Ag].indexOf(c)!==-1&&A===ca||c===ca&&[ca,Zd,Yd].indexOf(A)!==-1)return Pt;if([ca,Zd,Yd,J0,Fp].indexOf(A)!==-1)for(var d=a;d>=0;){var h=e[d];if(h===ca)return Pt;if([Zd,Yd].indexOf(h)!==-1)d--;else break}if([hg,dg].indexOf(A)!==-1)for(var d=[J0,Fp].indexOf(c)!==-1?o:a;d>=0;){var h=e[d];if(h===ca)return Pt;if([Zd,Yd].indexOf(h)!==-1)d--;else break}if(ZT===c&&[ZT,fb,XT,JT].indexOf(A)!==-1||[fb,XT].indexOf(c)!==-1&&[fb,mb].indexOf(A)!==-1||[mb,JT].indexOf(c)!==-1&&A===mb||XL.indexOf(c)!==-1&&[WL,dg].indexOf(A)!==-1||XL.indexOf(A)!==-1&&c===hg||Wo.indexOf(c)!==-1&&Wo.indexOf(A)!==-1||c===Yd&&Wo.indexOf(A)!==-1||Wo.concat(ca).indexOf(c)!==-1&&A===Dp&&FBe.indexOf(t[l])===-1||Wo.concat(ca).indexOf(A)!==-1&&c===Fp)return Pt;if(c===gS&&A===gS){for(var f=r[a],m=1;f>0&&(f--,e[f]===gS);)m++;if(m%2!==0)return Pt}return c===Y0&&A===Z0?Pt:ew},QBe=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=UBe(t,e.lineBreak),n=r[0],s=r[1],a=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(l){return[ca,yA,QJ].indexOf(l)!==-1?iy:l}));var o=e.wordBreak==="keep-all"?a.map(function(l,c){return l&&t[c]>=19968&&t[c]<=40959}):void 0;return[n,s,o]},LBe=function(){function t(e,r,n,s){this.codePoints=e,this.required=r===LJ,this.start=n,this.end=s}return t.prototype.slice=function(){return Jr.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),$Be=function(t,e){var r=TC(t),n=QBe(r,e),s=n[0],a=n[1],o=n[2],l=r.length,c=0,u=0;return{next:function(){if(u>=l)return{done:!0,value:null};for(var A=Pt;u<l&&(A=MBe(r,a,s,++u,o))===Pt;);if(A!==Pt||u===l){var d=new LBe(r,A,c,u);return c=u,{value:d,done:!1}}return{done:!0,value:null}}}},HBe=1,VBe=2,Nx=4,YL=8,Q1=10,ZL=47,$g=92,KBe=9,zBe=32,tw=34,Rp=61,GBe=35,WBe=36,qBe=37,rw=39,nw=40,Up=41,XBe=95,Gs=45,JBe=33,YBe=60,ZBe=62,eEe=64,tEe=91,rEe=93,nEe=61,sEe=123,sw=63,aEe=125,e5=124,iEe=126,oEe=128,t5=65533,yS=42,EA=43,lEe=44,cEe=58,uEe=59,oy=46,AEe=0,dEe=8,hEe=11,fEe=14,mEe=31,pEe=127,to=-1,HJ=48,VJ=97,KJ=101,gEe=102,vEe=117,yEe=122,zJ=65,GJ=69,WJ=70,xEe=85,wEe=90,ls=function(t){return t>=HJ&&t<=57},bEe=function(t){return t>=55296&&t<=57343},eh=function(t){return ls(t)||t>=zJ&&t<=WJ||t>=VJ&&t<=gEe},jEe=function(t){return t>=VJ&&t<=yEe},_Ee=function(t){return t>=zJ&&t<=wEe},CEe=function(t){return jEe(t)||_Ee(t)},BEe=function(t){return t>=oEe},aw=function(t){return t===Q1||t===KBe||t===zBe},L1=function(t){return CEe(t)||BEe(t)||t===XBe},r5=function(t){return L1(t)||ls(t)||t===Gs},EEe=function(t){return t>=AEe&&t<=dEe||t===hEe||t>=fEe&&t<=mEe||t===pEe},mc=function(t,e){return t!==$g?!1:e!==Q1},iw=function(t,e,r){return t===Gs?L1(e)||mc(e,r):L1(t)?!0:!!(t===$g&&mc(t,e))},xS=function(t,e,r){return t===EA||t===Gs?ls(e)?!0:e===oy&&ls(r):ls(t===oy?e:t)},SEe=function(t){var e=0,r=1;(t[e]===EA||t[e]===Gs)&&(t[e]===Gs&&(r=-1),e++);for(var n=[];ls(t[e]);)n.push(t[e++]);var s=n.length?parseInt(Jr.apply(void 0,n),10):0;t[e]===oy&&e++;for(var a=[];ls(t[e]);)a.push(t[e++]);var o=a.length,l=o?parseInt(Jr.apply(void 0,a),10):0;(t[e]===GJ||t[e]===KJ)&&e++;var c=1;(t[e]===EA||t[e]===Gs)&&(t[e]===Gs&&(c=-1),e++);for(var u=[];ls(t[e]);)u.push(t[e++]);var A=u.length?parseInt(Jr.apply(void 0,u),10):0;return r*(s+l*Math.pow(10,-o))*Math.pow(10,c*A)},NEe={type:2},kEe={type:3},TEe={type:4},IEe={type:13},PEe={type:8},OEe={type:21},FEe={type:9},DEe={type:10},REe={type:11},UEe={type:12},MEe={type:14},ow={type:23},QEe={type:1},LEe={type:25},$Ee={type:24},HEe={type:26},VEe={type:27},KEe={type:28},zEe={type:29},GEe={type:31},r2={type:32},qJ=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(TC(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==r2;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case tw:return this.consumeStringToken(tw);case GBe:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(r5(r)||mc(n,s)){var a=iw(r,n,s)?VBe:HBe,o=this.consumeName();return{type:5,value:o,flags:a}}break;case WBe:if(this.peekCodePoint(0)===Rp)return this.consumeCodePoint(),IEe;break;case rw:return this.consumeStringToken(rw);case nw:return NEe;case Up:return kEe;case yS:if(this.peekCodePoint(0)===Rp)return this.consumeCodePoint(),MEe;break;case EA:if(xS(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case lEe:return TEe;case Gs:var l=e,c=this.peekCodePoint(0),u=this.peekCodePoint(1);if(xS(l,c,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(iw(l,c,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(c===Gs&&u===ZBe)return this.consumeCodePoint(),this.consumeCodePoint(),$Ee;break;case oy:if(xS(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case ZL:if(this.peekCodePoint(0)===yS)for(this.consumeCodePoint();;){var A=this.consumeCodePoint();if(A===yS&&(A=this.consumeCodePoint(),A===ZL))return this.consumeToken();if(A===to)return this.consumeToken()}break;case cEe:return HEe;case uEe:return VEe;case YBe:if(this.peekCodePoint(0)===JBe&&this.peekCodePoint(1)===Gs&&this.peekCodePoint(2)===Gs)return this.consumeCodePoint(),this.consumeCodePoint(),LEe;break;case eEe:var d=this.peekCodePoint(0),h=this.peekCodePoint(1),f=this.peekCodePoint(2);if(iw(d,h,f)){var o=this.consumeName();return{type:7,value:o}}break;case tEe:return KEe;case $g:if(mc(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case rEe:return zEe;case nEe:if(this.peekCodePoint(0)===Rp)return this.consumeCodePoint(),PEe;break;case sEe:return REe;case aEe:return UEe;case vEe:case xEe:var m=this.peekCodePoint(0),p=this.peekCodePoint(1);return m===EA&&(eh(p)||p===sw)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case e5:if(this.peekCodePoint(0)===Rp)return this.consumeCodePoint(),FEe;if(this.peekCodePoint(0)===e5)return this.consumeCodePoint(),OEe;break;case iEe:if(this.peekCodePoint(0)===Rp)return this.consumeCodePoint(),DEe;break;case to:return r2}return aw(e)?(this.consumeWhiteSpace(),GEe):ls(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):L1(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Jr(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();eh(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===sw&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(Jr.apply(void 0,e.map(function(c){return c===sw?HJ:c})),16),a=parseInt(Jr.apply(void 0,e.map(function(c){return c===sw?WJ:c})),16);return{type:30,start:s,end:a}}var o=parseInt(Jr.apply(void 0,e),16);if(this.peekCodePoint(0)===Gs&&eh(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];eh(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var a=parseInt(Jr.apply(void 0,l),16);return{type:30,start:o,end:a}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===nw?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===nw?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===to)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===rw||r===tw){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===to||this.peekCodePoint(0)===Up)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),ow)}for(;;){var s=this.consumeCodePoint();if(s===to||s===Up)return{type:22,value:Jr.apply(void 0,e)};if(aw(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===to||this.peekCodePoint(0)===Up?(this.consumeCodePoint(),{type:22,value:Jr.apply(void 0,e)}):(this.consumeBadUrlRemnants(),ow);if(s===tw||s===rw||s===nw||EEe(s))return this.consumeBadUrlRemnants(),ow;if(s===$g)if(mc(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),ow;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;aw(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Up||e===to)return;mc(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var s=Math.min(r,e);n+=Jr.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var s=this._value[n];if(s===to||s===void 0||s===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(s===Q1)return this._value.splice(0,n),QEe;if(s===$g){var a=this._value[n+1];a!==to&&a!==void 0&&(a===Q1?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):mc(s,a)&&(r+=this.consumeStringSlice(n),r+=Jr(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Nx,n=this.peekCodePoint(0);for((n===EA||n===Gs)&&e.push(this.consumeCodePoint());ls(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===oy&&ls(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=YL;ls(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((n===GJ||n===KJ)&&((s===EA||s===Gs)&&ls(a)||ls(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=YL;ls(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[SEe(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],s=this.peekCodePoint(0),a=this.peekCodePoint(1),o=this.peekCodePoint(2);if(iw(s,a,o)){var l=this.consumeName();return{type:15,number:r,flags:n,unit:l}}return s===qBe?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(eh(e)){for(var r=Jr(e);eh(this.peekCodePoint(0))&&r.length<6;)r+=Jr(this.consumeCodePoint());aw(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||bEe(n)||n>1114111?t5:n}return e===to?t5:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(r5(r))e+=Jr(r);else if(mc(r,this.peekCodePoint(0)))e+=Jr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),XJ=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new qJ;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||qEe(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?r2:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),kx=function(t){return t.type===15},Mm=function(t){return t.type===17},dr=function(t){return t.type===20},WEe=function(t){return t.type===0},n2=function(t,e){return dr(t)&&t.value===e},JJ=function(t){return t.type!==31},Vf=function(t){return t.type!==31&&t.type!==4},Uo=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},qEe=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},ju=function(t){return t.type===17||t.type===15},an=function(t){return t.type===16||ju(t)},YJ=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},zn={type:17,number:0,flags:Nx},LF={type:16,number:50,flags:Nx},Uc={type:16,number:100,flags:Nx},fg=function(t,e,r){var n=t[0],s=t[1];return[Cr(n,e),Cr(typeof s<"u"?s:n,r)]},Cr=function(t,e){if(t.type===16)return t.number/100*e;if(kx(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},ZJ="deg",eY="grad",tY="rad",rY="turn",IC={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case ZJ:return Math.PI*e.number/180;case eY:return Math.PI/200*e.number;case tY:return e.number;case rY:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},nY=function(t){return t.type===15&&(t.unit===ZJ||t.unit===eY||t.unit===tY||t.unit===rY)},sY=function(t){var e=t.filter(dr).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[zn,zn];case"to top":case"bottom":return Ga(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[zn,Uc];case"to right":case"left":return Ga(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Uc,Uc];case"to bottom":case"top":return Ga(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Uc,zn];case"to left":case"right":return Ga(270)}return 0},Ga=function(t){return Math.PI*t/180},nu={name:"color",parse:function(t,e){if(e.type===18){var r=XEe[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),s=e.value.substring(1,2),a=e.value.substring(2,3);return Mc(parseInt(n+n,16),parseInt(s+s,16),parseInt(a+a,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),s=e.value.substring(1,2),a=e.value.substring(2,3),o=e.value.substring(3,4);return Mc(parseInt(n+n,16),parseInt(s+s,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),s=e.value.substring(2,4),a=e.value.substring(4,6);return Mc(parseInt(n,16),parseInt(s,16),parseInt(a,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),s=e.value.substring(2,4),a=e.value.substring(4,6),o=e.value.substring(6,8);return Mc(parseInt(n,16),parseInt(s,16),parseInt(a,16),parseInt(o,16)/255)}}if(e.type===20){var l=pl[e.value.toUpperCase()];if(typeof l<"u")return l}return pl.TRANSPARENT}},su=function(t){return(255&t)===0},xn=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+n+","+r+","+e/255+")":"rgb("+s+","+n+","+r+")"},Mc=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},n5=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},s5=function(t,e){var r=e.filter(Vf);if(r.length===3){var n=r.map(n5),s=n[0],a=n[1],o=n[2];return Mc(s,a,o,1)}if(r.length===4){var l=r.map(n5),s=l[0],a=l[1],o=l[2],c=l[3];return Mc(s,a,o,c)}return 0};function wS(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var a5=function(t,e){var r=e.filter(Vf),n=r[0],s=r[1],a=r[2],o=r[3],l=(n.type===17?Ga(n.number):IC.parse(t,n))/(Math.PI*2),c=an(s)?s.number/100:0,u=an(a)?a.number/100:0,A=typeof o<"u"&&an(o)?Cr(o,1):1;if(c===0)return Mc(u*255,u*255,u*255,1);var d=u<=.5?u*(c+1):u+c-u*c,h=u*2-d,f=wS(h,d,l+1/3),m=wS(h,d,l),p=wS(h,d,l-1/3);return Mc(f*255,m*255,p*255,A)},XEe={hsl:a5,hsla:a5,rgb:s5,rgba:s5},Hg=function(t,e){return nu.parse(t,XJ.create(e).parseComponentValue())},pl={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},JEe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(dr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},YEe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},PC=function(t,e){var r=nu.parse(t,e[0]),n=e[1];return n&&an(n)?{color:r,stop:n}:{color:r,stop:null}},i5=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=zn),n.stop===null&&(n.stop=Uc);for(var s=[],a=0,o=0;o<t.length;o++){var l=t[o].stop;if(l!==null){var c=Cr(l,e);c>a?s.push(c):s.push(a),a=c}else s.push(null)}for(var u=null,o=0;o<s.length;o++){var A=s[o];if(A===null)u===null&&(u=o);else if(u!==null){for(var d=o-u,h=s[u-1],f=(A-h)/(d+1),m=1;m<=d;m++)s[u+m-1]=f*m;u=null}}return t.map(function(p,g){var y=p.color;return{color:y,stop:Math.max(Math.min(1,s[g]/e),0)}})},ZEe=function(t,e,r){var n=e/2,s=r/2,a=Cr(t[0],e)-n,o=s-Cr(t[1],r);return(Math.atan2(o,a)+Math.PI*2)%(Math.PI*2)},eSe=function(t,e,r){var n=typeof t=="number"?t:ZEe(t,e,r),s=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),a=e/2,o=r/2,l=s/2,c=Math.sin(n-Math.PI/2)*l,u=Math.cos(n-Math.PI/2)*l;return[s,a-u,a+u,o-c,o+c]},hi=function(t,e){return Math.sqrt(t*t+e*e)},o5=function(t,e,r,n,s){var a=[[0,0],[0,e],[t,0],[t,e]];return a.reduce(function(o,l){var c=l[0],u=l[1],A=hi(r-c,n-u);return(s?A<o.optimumDistance:A>o.optimumDistance)?{optimumCorner:l,optimumDistance:A}:o},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},tSe=function(t,e,r,n,s){var a=0,o=0;switch(t.size){case 0:t.shape===0?a=o=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(a=Math.min(Math.abs(e),Math.abs(e-n)),o=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(t.shape===0)a=o=Math.min(hi(e,r),hi(e,r-s),hi(e-n,r),hi(e-n,r-s));else if(t.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(e),Math.abs(e-n)),c=o5(n,s,e,r,!0),u=c[0],A=c[1];a=hi(u-e,(A-r)/l),o=l*a}break;case 1:t.shape===0?a=o=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(a=Math.max(Math.abs(e),Math.abs(e-n)),o=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(t.shape===0)a=o=Math.max(hi(e,r),hi(e,r-s),hi(e-n,r),hi(e-n,r-s));else if(t.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(e),Math.abs(e-n)),d=o5(n,s,e,r,!1),u=d[0],A=d[1];a=hi(u-e,(A-r)/l),o=l*a}break}return Array.isArray(t.size)&&(a=Cr(t.size[0],n),o=t.size.length===2?Cr(t.size[1],s):a),[a,o]},rSe=function(t,e){var r=Ga(180),n=[];return Uo(e).forEach(function(s,a){if(a===0){var o=s[0];if(o.type===20&&o.value==="to"){r=sY(s);return}else if(nY(o)){r=IC.parse(t,o);return}}var l=PC(t,s);n.push(l)}),{angle:r,stops:n,type:1}},lw=function(t,e){var r=Ga(180),n=[];return Uo(e).forEach(function(s,a){if(a===0){var o=s[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=sY(s);return}else if(nY(o)){r=(IC.parse(t,o)+Ga(270))%Ga(360);return}}var l=PC(t,s);n.push(l)}),{angle:r,stops:n,type:1}},nSe=function(t,e){var r=Ga(180),n=[],s=1,a=0,o=3,l=[];return Uo(e).forEach(function(c,u){var A=c[0];if(u===0){if(dr(A)&&A.value==="linear"){s=1;return}else if(dr(A)&&A.value==="radial"){s=2;return}}if(A.type===18){if(A.name==="from"){var d=nu.parse(t,A.values[0]);n.push({stop:zn,color:d})}else if(A.name==="to"){var d=nu.parse(t,A.values[0]);n.push({stop:Uc,color:d})}else if(A.name==="color-stop"){var h=A.values.filter(Vf);if(h.length===2){var d=nu.parse(t,h[1]),f=h[0];Mm(f)&&n.push({stop:{type:16,number:f.number*100,flags:f.flags},color:d})}}}}),s===1?{angle:(r+Ga(180))%Ga(360),stops:n,type:s}:{size:o,shape:a,stops:n,position:l,type:s}},aY="closest-side",iY="farthest-side",oY="closest-corner",lY="farthest-corner",cY="circle",uY="ellipse",AY="cover",dY="contain",sSe=function(t,e){var r=0,n=3,s=[],a=[];return Uo(e).forEach(function(o,l){var c=!0;if(l===0){var u=!1;c=o.reduce(function(d,h){if(u)if(dr(h))switch(h.value){case"center":return a.push(LF),d;case"top":case"left":return a.push(zn),d;case"right":case"bottom":return a.push(Uc),d}else(an(h)||ju(h))&&a.push(h);else if(dr(h))switch(h.value){case cY:return r=0,!1;case uY:return r=1,!1;case"at":return u=!0,!1;case aY:return n=0,!1;case AY:case iY:return n=1,!1;case dY:case oY:return n=2,!1;case lY:return n=3,!1}else if(ju(h)||an(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return d},c)}if(c){var A=PC(t,o);s.push(A)}}),{size:n,shape:r,stops:s,position:a,type:2}},cw=function(t,e){var r=0,n=3,s=[],a=[];return Uo(e).forEach(function(o,l){var c=!0;if(l===0?c=o.reduce(function(A,d){if(dr(d))switch(d.value){case"center":return a.push(LF),!1;case"top":case"left":return a.push(zn),!1;case"right":case"bottom":return a.push(Uc),!1}else if(an(d)||ju(d))return a.push(d),!1;return A},c):l===1&&(c=o.reduce(function(A,d){if(dr(d))switch(d.value){case cY:return r=0,!1;case uY:return r=1,!1;case dY:case aY:return n=0,!1;case iY:return n=1,!1;case oY:return n=2,!1;case AY:case lY:return n=3,!1}else if(ju(d)||an(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return A},c)),c){var u=PC(t,o);s.push(u)}}),{size:n,shape:r,stops:s,position:a,type:2}},aSe=function(t){return t.type===1},iSe=function(t){return t.type===2},$F={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=hY[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function oSe(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!hY[t.name])}var hY={"linear-gradient":rSe,"-moz-linear-gradient":lw,"-ms-linear-gradient":lw,"-o-linear-gradient":lw,"-webkit-linear-gradient":lw,"radial-gradient":sSe,"-moz-radial-gradient":cw,"-ms-radial-gradient":cw,"-o-radial-gradient":cw,"-webkit-radial-gradient":cw,"-webkit-gradient":nSe},lSe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return Vf(n)&&oSe(n)}).map(function(n){return $F.parse(t,n)})}},cSe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(dr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},uSe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Uo(e).map(function(r){return r.filter(an)}).map(YJ)}},ASe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Uo(e).map(function(r){return r.filter(dr).map(function(n){return n.value}).join(" ")}).map(dSe)}},dSe=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Wh;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Wh||(Wh={}));var hSe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Uo(e).map(function(r){return r.filter(fSe)})}},fSe=function(t){return dr(t)||an(t)},OC=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},mSe=OC("top"),pSe=OC("right"),gSe=OC("bottom"),vSe=OC("left"),FC=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return YJ(r.filter(an))}}},ySe=FC("top-left"),xSe=FC("top-right"),wSe=FC("bottom-right"),bSe=FC("bottom-left"),DC=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},jSe=DC("top"),_Se=DC("right"),CSe=DC("bottom"),BSe=DC("left"),RC=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return kx(r)?r.number:0}}},ESe=RC("top"),SSe=RC("right"),NSe=RC("bottom"),kSe=RC("left"),TSe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ISe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},PSe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(dr).reduce(function(r,n){return r|OSe(n.value)},0)}},OSe=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},FSe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},DSe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},$1;(function(t){t.NORMAL="normal",t.STRICT="strict"})($1||($1={}));var RSe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return $1.STRICT;case"normal":default:return $1.NORMAL}}},USe={name:"line-height",initialValue:"normal",prefix:!1,type:4},l5=function(t,e){return dr(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:an(t)?Cr(t,e):e},MSe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:$F.parse(t,e)}},QSe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},s2={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},UC=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},LSe=UC("top"),$Se=UC("right"),HSe=UC("bottom"),VSe=UC("left"),KSe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(dr).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},zSe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},MC=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},GSe=MC("top"),WSe=MC("right"),qSe=MC("bottom"),XSe=MC("left"),JSe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},YSe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},ZSe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&n2(e[0],"none")?[]:Uo(e).map(function(r){for(var n={color:pl.TRANSPARENT,offsetX:zn,offsetY:zn,blur:zn},s=0,a=0;a<r.length;a++){var o=r[a];ju(o)?(s===0?n.offsetX=o:s===1?n.offsetY=o:n.blur=o,s++):n.color=nu.parse(t,o)}return n})}},eNe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},tNe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=sNe[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},rNe=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},nNe=function(t){var e=t.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=e[0],n=e[1];e[2],e[3];var s=e[4],a=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],l=e[13];return e[14],e[15],e.length===16?[r,n,s,a,o,l]:null},sNe={matrix:rNe,matrix3d:nNe},c5={type:16,number:50,flags:Nx},aNe=[c5,c5],iNe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(an);return r.length!==2?aNe:[r[0],r[1]]}},oNe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Vg;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Vg||(Vg={}));var lNe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Vg.BREAK_ALL;case"keep-all":return Vg.KEEP_ALL;case"normal":default:return Vg.NORMAL}}},cNe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Mm(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},fY={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},uNe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Mm(e)?e.number:1}},ANe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},dNe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(dr).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},hNe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},fNe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},mNe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Mm(e))return e.number;if(dr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},pNe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(dr).map(function(r){return r.value})}},gNe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},fn=function(t,e){return(t&e)!==0},vNe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},yNe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],s=e.filter(JJ),a=0;a<s.length;a++){var o=s[a],l=s[a+1];if(o.type===20){var c=l&&Mm(l)?l.number:1;n.push({counter:o.value,increment:c})}}return n}},xNe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(JJ),s=0;s<n.length;s++){var a=n[s],o=n[s+1];if(dr(a)&&a.value!=="none"){var l=o&&Mm(o)?o.number:0;r.push({counter:a.value,reset:l})}}return r}},wNe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(kx).map(function(r){return fY.parse(t,r)})}},bNe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],s=e.filter(WEe);if(s.length%2!==0)return null;for(var a=0;a<s.length;a+=2){var o=s[a].value,l=s[a+1].value;n.push({open:o,close:l})}return n}},u5=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},jNe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&n2(e[0],"none")?[]:Uo(e).map(function(r){for(var n={color:255,offsetX:zn,offsetY:zn,blur:zn,spread:zn,inset:!1},s=0,a=0;a<r.length;a++){var o=r[a];n2(o,"inset")?n.inset=!0:ju(o)?(s===0?n.offsetX=o:s===1?n.offsetY=o:s===2?n.blur=o:n.spread=o,s++):n.color=nu.parse(t,o)}return n})}},_Ne={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(dr).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},CNe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},BNe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return kx(e)?e.number:0}},ENe=function(){function t(e,r){var n,s;this.animationDuration=He(e,wNe,r.animationDuration),this.backgroundClip=He(e,JEe,r.backgroundClip),this.backgroundColor=He(e,YEe,r.backgroundColor),this.backgroundImage=He(e,lSe,r.backgroundImage),this.backgroundOrigin=He(e,cSe,r.backgroundOrigin),this.backgroundPosition=He(e,uSe,r.backgroundPosition),this.backgroundRepeat=He(e,ASe,r.backgroundRepeat),this.backgroundSize=He(e,hSe,r.backgroundSize),this.borderTopColor=He(e,mSe,r.borderTopColor),this.borderRightColor=He(e,pSe,r.borderRightColor),this.borderBottomColor=He(e,gSe,r.borderBottomColor),this.borderLeftColor=He(e,vSe,r.borderLeftColor),this.borderTopLeftRadius=He(e,ySe,r.borderTopLeftRadius),this.borderTopRightRadius=He(e,xSe,r.borderTopRightRadius),this.borderBottomRightRadius=He(e,wSe,r.borderBottomRightRadius),this.borderBottomLeftRadius=He(e,bSe,r.borderBottomLeftRadius),this.borderTopStyle=He(e,jSe,r.borderTopStyle),this.borderRightStyle=He(e,_Se,r.borderRightStyle),this.borderBottomStyle=He(e,CSe,r.borderBottomStyle),this.borderLeftStyle=He(e,BSe,r.borderLeftStyle),this.borderTopWidth=He(e,ESe,r.borderTopWidth),this.borderRightWidth=He(e,SSe,r.borderRightWidth),this.borderBottomWidth=He(e,NSe,r.borderBottomWidth),this.borderLeftWidth=He(e,kSe,r.borderLeftWidth),this.boxShadow=He(e,jNe,r.boxShadow),this.color=He(e,TSe,r.color),this.direction=He(e,ISe,r.direction),this.display=He(e,PSe,r.display),this.float=He(e,FSe,r.cssFloat),this.fontFamily=He(e,hNe,r.fontFamily),this.fontSize=He(e,fNe,r.fontSize),this.fontStyle=He(e,gNe,r.fontStyle),this.fontVariant=He(e,pNe,r.fontVariant),this.fontWeight=He(e,mNe,r.fontWeight),this.letterSpacing=He(e,DSe,r.letterSpacing),this.lineBreak=He(e,RSe,r.lineBreak),this.lineHeight=He(e,USe,r.lineHeight),this.listStyleImage=He(e,MSe,r.listStyleImage),this.listStylePosition=He(e,QSe,r.listStylePosition),this.listStyleType=He(e,s2,r.listStyleType),this.marginTop=He(e,LSe,r.marginTop),this.marginRight=He(e,$Se,r.marginRight),this.marginBottom=He(e,HSe,r.marginBottom),this.marginLeft=He(e,VSe,r.marginLeft),this.opacity=He(e,uNe,r.opacity);var a=He(e,KSe,r.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=He(e,zSe,r.overflowWrap),this.paddingTop=He(e,GSe,r.paddingTop),this.paddingRight=He(e,WSe,r.paddingRight),this.paddingBottom=He(e,qSe,r.paddingBottom),this.paddingLeft=He(e,XSe,r.paddingLeft),this.paintOrder=He(e,_Ne,r.paintOrder),this.position=He(e,YSe,r.position),this.textAlign=He(e,JSe,r.textAlign),this.textDecorationColor=He(e,ANe,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=He(e,dNe,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=He(e,ZSe,r.textShadow),this.textTransform=He(e,eNe,r.textTransform),this.transform=He(e,tNe,r.transform),this.transformOrigin=He(e,iNe,r.transformOrigin),this.visibility=He(e,oNe,r.visibility),this.webkitTextStrokeColor=He(e,CNe,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=He(e,BNe,r.webkitTextStrokeWidth),this.wordBreak=He(e,lNe,r.wordBreak),this.zIndex=He(e,cNe,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return su(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return fn(this.display,4)||fn(this.display,33554432)||fn(this.display,268435456)||fn(this.display,536870912)||fn(this.display,67108864)||fn(this.display,134217728)},t}(),SNe=function(){function t(e,r){this.content=He(e,vNe,r.content),this.quotes=He(e,bNe,r.quotes)}return t}(),A5=function(){function t(e,r){this.counterIncrement=He(e,yNe,r.counterIncrement),this.counterReset=He(e,xNe,r.counterReset)}return t}(),He=function(t,e,r){var n=new qJ,s=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(s);var a=new XJ(n.read());switch(e.type){case 2:var o=a.parseComponentValue();return e.parse(t,dr(o)?o.value:e.initialValue);case 0:return e.parse(t,a.parseComponentValue());case 1:return e.parse(t,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(e.format){case"angle":return IC.parse(t,a.parseComponentValue());case"color":return nu.parse(t,a.parseComponentValue());case"image":return $F.parse(t,a.parseComponentValue());case"length":var l=a.parseComponentValue();return ju(l)?l:zn;case"length-percentage":var c=a.parseComponentValue();return an(c)?c:zn;case"time":return fY.parse(t,a.parseComponentValue())}break}},NNe="data-html2canvas-debug",kNe=function(t){var e=t.getAttribute(NNe);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},a2=function(t,e){var r=kNe(t);return r===1||e===r},Mo=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,a2(r,3))debugger;this.styles=new ENe(e,window.getComputedStyle(r,null)),l2(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=kC(this.context,r),a2(r,4)&&(this.flags|=16)}return t}(),TNe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",d5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var uw=0;uw<d5.length;uw++)mg[d5.charCodeAt(uw)]=uw;var INe=function(t){var e=t.length*.75,r=t.length,n,s=0,a,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)a=mg[t.charCodeAt(n)],o=mg[t.charCodeAt(n+1)],l=mg[t.charCodeAt(n+2)],c=mg[t.charCodeAt(n+3)],A[s++]=a<<2|o>>4,A[s++]=(o&15)<<4|l>>2,A[s++]=(l&3)<<6|c&63;return u},PNe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},ONe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},zA=5,HF=11,bS=2,FNe=HF-zA,mY=65536>>zA,DNe=1<<zA,jS=DNe-1,RNe=1024>>zA,UNe=mY+RNe,MNe=UNe,QNe=32,LNe=MNe+QNe,$Ne=65536>>HF,HNe=1<<FNe,VNe=HNe-1,h5=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},KNe=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},zNe=function(t,e){var r=INe(t),n=Array.isArray(r)?ONe(r):new Uint32Array(r),s=Array.isArray(r)?PNe(r):new Uint16Array(r),a=24,o=h5(s,a/2,n[4]/2),l=n[5]===2?h5(s,(a+n[4])/2):KNe(n,Math.ceil((a+n[4])/4));return new GNe(n[0],n[1],n[2],n[3],o,l)},GNe=function(){function t(e,r,n,s,a,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=a,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>zA],r=(r<<bS)+(e&jS),this.data[r];if(e<=65535)return r=this.index[mY+(e-55296>>zA)],r=(r<<bS)+(e&jS),this.data[r];if(e<this.highStart)return r=LNe-$Ne+(e>>HF),r=this.index[r],r+=e>>zA&VNe,r=this.index[r],r=(r<<bS)+(e&jS),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),f5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",WNe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Aw=0;Aw<f5.length;Aw++)WNe[f5.charCodeAt(Aw)]=Aw;var qNe=1,_S=2,CS=3,m5=4,p5=5,XNe=7,g5=8,BS=9,ES=10,v5=11,y5=12,x5=13,w5=14,SS=15,JNe=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var a=t.charCodeAt(r++);(a&64512)===56320?e.push(((s&1023)<<10)+(a&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},YNe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,a="";++s<r;){var o=t[s];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(s+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},ZNe=zNe(TNe),Ua="",NS="",eke=function(t){return ZNe.get(t)},tke=function(t,e,r){var n=r-2,s=e[n],a=e[r-1],o=e[r];if(a===_S&&o===CS)return Ua;if(a===_S||a===CS||a===m5||o===_S||o===CS||o===m5)return NS;if(a===g5&&[g5,BS,v5,y5].indexOf(o)!==-1||(a===v5||a===BS)&&(o===BS||o===ES)||(a===y5||a===ES)&&o===ES||o===x5||o===p5||o===XNe||a===qNe)return Ua;if(a===x5&&o===w5){for(;s===p5;)s=e[--n];if(s===w5)return Ua}if(a===SS&&o===SS){for(var l=0;s===SS;)l++,s=e[--n];if(l%2===0)return Ua}return NS},rke=function(t){var e=JNe(t),r=e.length,n=0,s=0,a=e.map(eke);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=Ua;n<r&&(o=tke(e,a,++n))===Ua;);if(o!==Ua||n===r){var l=YNe.apply(null,e.slice(s,n));return s=n,{value:l,done:!1}}return{done:!0,value:null}}}},nke=function(t){for(var e=rke(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},ske=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var s=r.getBoundingClientRect(),a=Math.round(s.height);if(t.body.removeChild(n),a===e)return!0}}return!1},ake=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,s=TC(n.data).map(function(c){return Jr(c)}),a=0,o={},l=s.every(function(c,u){r.setStart(n,a),r.setEnd(n,a+c.length);var A=r.getBoundingClientRect();a+=c.length;var d=A.x>o.x||A.y>o.y;return o=A,u===0?!0:d});return t.body.removeChild(e),l},ike=function(){return typeof new Image().crossOrigin<"u"},oke=function(){return typeof new XMLHttpRequest().responseType=="string"},lke=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},b5=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},cke=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var s=new Image,a=e.toDataURL();s.src=a;var o=i2(r,r,0,0,s);return n.fillStyle="red",n.fillRect(0,0,r,r),j5(o).then(function(l){n.drawImage(l,0,0);var c=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var u=t.createElement("div");return u.style.backgroundImage="url("+a+")",u.style.height=r+"px",b5(c)?j5(i2(r,r,0,0,u)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),b5(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},i2=function(t,e,r,n,s){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),l=document.createElementNS(a,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(s),o},j5=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Fn={get SUPPORT_RANGE_BOUNDS(){var t=ske(document);return Object.defineProperty(Fn,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Fn.SUPPORT_RANGE_BOUNDS&&ake(document);return Object.defineProperty(Fn,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=lke(document);return Object.defineProperty(Fn,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?cke(document):Promise.resolve(!1);return Object.defineProperty(Fn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=ike();return Object.defineProperty(Fn,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=oke();return Object.defineProperty(Fn,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Fn,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Fn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Kg=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),uke=function(t,e,r,n){var s=hke(e,r),a=[],o=0;return s.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(Fn.SUPPORT_RANGE_BOUNDS){var c=_5(n,o,l.length).getClientRects();if(c.length>1){var u=VF(l),A=0;u.forEach(function(h){a.push(new Kg(h,Pl.fromDOMRectList(t,_5(n,A+o,h.length).getClientRects()))),A+=h.length})}else a.push(new Kg(l,Pl.fromDOMRectList(t,c)))}else{var d=n.splitText(l.length);a.push(new Kg(l,Ake(t,n))),n=d}else Fn.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));o+=l.length}),a},Ake=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(n,e);var a=kC(t,n);return n.firstChild&&s.replaceChild(n.firstChild,n),a}}return Pl.EMPTY},_5=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(t,e),s.setEnd(t,e+r),s},VF=function(t){if(Fn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return nke(t)},dke=function(t,e){if(Fn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return mke(t,e)},hke=function(t,e){return e.letterSpacing!==0?VF(t):dke(t,e)},fke=[32,160,4961,65792,65793,4153,4241],mke=function(t,e){for(var r=$Be(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],s,a=function(){if(s.value){var o=s.value.slice(),l=TC(o),c="";l.forEach(function(u){fke.indexOf(u)===-1?c+=Jr(u):(c.length&&n.push(c),n.push(Jr(u)),c="")}),c.length&&n.push(c)}};!(s=r.next()).done;)a();return n},pke=function(){function t(e,r,n){this.text=gke(r.data,n.textTransform),this.textBounds=uke(e,this.text,n,r)}return t}(),gke=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(vke,yke);case 2:return t.toUpperCase();default:return t}},vke=/(^|\s|:|-|\(|\))([a-z])/g,yke=function(t,e,r){return t.length>0?e+r.toUpperCase():t},pY=function(t){Wi(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return e}(Mo),gY=function(t){Wi(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return e}(Mo),vY=function(t){Wi(e,t);function e(r,n){var s=t.call(this,r,n)||this,a=new XMLSerializer,o=kC(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}(Mo),yY=function(t){Wi(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(Mo),o2=function(t){Wi(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return e}(Mo),xke=[{type:15,flags:0,unit:"px",number:3}],wke=[{type:16,flags:0,number:50}],bke=function(t){return t.width>t.height?new Pl(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Pl(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},jke=function(t){var e=t.type===_ke?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},H1="checkbox",V1="radio",_ke="password",C5=707406591,KF=function(t){Wi(e,t);function e(r,n){var s=t.call(this,r,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=jke(n),(s.type===H1||s.type===V1)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=bke(s.bounds)),s.type){case H1:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=xke;break;case V1:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=wke;break}return s}return e}(Mo),xY=function(t){Wi(e,t);function e(r,n){var s=t.call(this,r,n)||this,a=n.options[n.selectedIndex||0];return s.value=a&&a.text||"",s}return e}(Mo),wY=function(t){Wi(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(Mo),bY=function(t){Wi(e,t);function e(r,n){var s=t.call(this,r,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=_Y(r,n.contentWindow.document.documentElement);var a=n.contentWindow.document.documentElement?Hg(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):pl.TRANSPARENT,o=n.contentWindow.document.body?Hg(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):pl.TRANSPARENT;s.backgroundColor=su(a)?su(o)?s.styles.backgroundColor:o:a}}catch{}return s}return e}(Mo),Cke=["OL","UL","MENU"],pb=function(t,e,r,n){for(var s=e.firstChild,a=void 0;s;s=a)if(a=s.nextSibling,CY(s)&&s.data.trim().length>0)r.textNodes.push(new pke(t,s,r.styles));else if(Ph(s))if(NY(s)&&s.assignedNodes)s.assignedNodes().forEach(function(l){return pb(t,l,r,n)});else{var o=jY(t,s);o.styles.isVisible()&&(Bke(s,o,n)?o.flags|=4:Eke(o.styles)&&(o.flags|=2),Cke.indexOf(s.tagName)!==-1&&(o.flags|=8),r.elements.push(o),s.slot,s.shadowRoot?pb(t,s.shadowRoot,o,n):!K1(s)&&!BY(s)&&!z1(s)&&pb(t,s,o,n))}},jY=function(t,e){return c2(e)?new pY(t,e):EY(e)?new gY(t,e):BY(e)?new vY(t,e):Ske(e)?new yY(t,e):Nke(e)?new o2(t,e):kke(e)?new KF(t,e):z1(e)?new xY(t,e):K1(e)?new wY(t,e):SY(e)?new bY(t,e):new Mo(t,e)},_Y=function(t,e){var r=jY(t,e);return r.flags|=4,pb(t,e,r,r),r},Bke=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||zF(t)&&r.styles.isTransparent()},Eke=function(t){return t.isPositioned()||t.isFloating()},CY=function(t){return t.nodeType===Node.TEXT_NODE},Ph=function(t){return t.nodeType===Node.ELEMENT_NODE},l2=function(t){return Ph(t)&&typeof t.style<"u"&&!gb(t)},gb=function(t){return typeof t.className=="object"},Ske=function(t){return t.tagName==="LI"},Nke=function(t){return t.tagName==="OL"},kke=function(t){return t.tagName==="INPUT"},Tke=function(t){return t.tagName==="HTML"},BY=function(t){return t.tagName==="svg"},zF=function(t){return t.tagName==="BODY"},EY=function(t){return t.tagName==="CANVAS"},B5=function(t){return t.tagName==="VIDEO"},c2=function(t){return t.tagName==="IMG"},SY=function(t){return t.tagName==="IFRAME"},E5=function(t){return t.tagName==="STYLE"},Ike=function(t){return t.tagName==="SCRIPT"},K1=function(t){return t.tagName==="TEXTAREA"},z1=function(t){return t.tagName==="SELECT"},NY=function(t){return t.tagName==="SLOT"},S5=function(t){return t.tagName.indexOf("-")>0},Pke=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,s=e.counterReset,a=!0;n!==null&&n.forEach(function(l){var c=r.counters[l.counter];c&&l.increment!==0&&(a=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var o=[];return a&&s.forEach(function(l){var c=r.counters[l.counter];o.push(l.counter),c||(c=r.counters[l.counter]=[]),c.push(l.reset)}),o},t}(),N5={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},k5={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Oke={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Fke={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},th=function(t,e,r,n,s,a){return t<e||t>r?ly(t,s,a.length>0):n.integers.reduce(function(o,l,c){for(;t>=l;)t-=l,o+=n.values[c];return o},"")+a},kY=function(t,e,r,n){var s="";do r||t--,s=n(t)+s,t/=e;while(t*e>=e);return s},Xr=function(t,e,r,n,s){var a=r-e+1;return(t<0?"-":"")+(kY(Math.abs(t),a,n,function(o){return Jr(Math.floor(o%a)+e)})+s)},Xu=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return kY(Math.abs(t),n,!1,function(s){return e[Math.floor(s%n)]})+r},gh=1,uc=2,Ac=4,pg=8,qo=function(t,e,r,n,s,a){if(t<-9999||t>9999)return ly(t,4,s.length>0);var o=Math.abs(t),l=s;if(o===0)return e[0]+l;for(var c=0;o>0&&c<=4;c++){var u=o%10;u===0&&fn(a,gh)&&l!==""?l=e[u]+l:u>1||u===1&&c===0||u===1&&c===1&&fn(a,uc)||u===1&&c===1&&fn(a,Ac)&&t>100||u===1&&c>1&&fn(a,pg)?l=e[u]+(c>0?r[c-1]:"")+l:u===1&&c>0&&(l=r[c-1]+l),o=Math.floor(o/10)}return(t<0?n:"")+l},T5="",I5="",P5="",kS="",ly=function(t,e,r){var n=r?". ":"",s=r?"":"",a=r?", ":"",o=r?" ":"";switch(e){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var l=Xr(t,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return Xu(t,"",s);case 6:return th(t,1,3999,N5,3,n).toLowerCase();case 7:return th(t,1,3999,N5,3,n);case 8:return Xr(t,945,969,!1,n);case 9:return Xr(t,97,122,!1,n);case 10:return Xr(t,65,90,!1,n);case 11:return Xr(t,1632,1641,!0,n);case 12:case 49:return th(t,1,9999,k5,3,n);case 35:return th(t,1,9999,k5,3,n).toLowerCase();case 13:return Xr(t,2534,2543,!0,n);case 14:case 30:return Xr(t,6112,6121,!0,n);case 15:return Xu(t,"",s);case 16:return Xu(t,"",s);case 17:case 48:return qo(t,"",T5,"",s,uc|Ac|pg);case 47:return qo(t,"",I5,"",s,gh|uc|Ac|pg);case 42:return qo(t,"",T5,"",s,uc|Ac|pg);case 41:return qo(t,"",I5,"",s,gh|uc|Ac|pg);case 26:return qo(t,"","",P5,s,0);case 25:return qo(t,"","",P5,s,gh|uc|Ac);case 31:return qo(t,"","",kS,a,gh|uc|Ac);case 33:return qo(t,"","",kS,a,0);case 32:return qo(t,"","",kS,a,gh|uc|Ac);case 18:return Xr(t,2406,2415,!0,n);case 20:return th(t,1,19999,Fke,3,n);case 21:return Xr(t,2790,2799,!0,n);case 22:return Xr(t,2662,2671,!0,n);case 22:return th(t,1,10999,Oke,3,n);case 23:return Xu(t,"");case 24:return Xu(t,"");case 27:return Xr(t,3302,3311,!0,n);case 28:return Xu(t,"",s);case 29:return Xu(t,"",s);case 34:return Xr(t,3792,3801,!0,n);case 37:return Xr(t,6160,6169,!0,n);case 38:return Xr(t,4160,4169,!0,n);case 39:return Xr(t,2918,2927,!0,n);case 40:return Xr(t,1776,1785,!0,n);case 43:return Xr(t,3046,3055,!0,n);case 44:return Xr(t,3174,3183,!0,n);case 45:return Xr(t,3664,3673,!0,n);case 46:return Xr(t,3872,3881,!0,n);case 3:default:return Xr(t,48,57,!0,n)}},TY="data-html2canvas-ignore",O5=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new Pke,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,s=Dke(e,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var a=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,l=s.contentWindow,c=l.document,u=Mke(s).then(function(){return Es(n,void 0,void 0,function(){var A,d;return as(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(Hke),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),A=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Uke(c)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof A=="function"?[2,Promise.resolve().then(function(){return A(c,d)}).then(function(){return s})]:[2,s]}})})});return c.open(),c.write(Lke(document.doctype)+"<html></html>"),$ke(this.referenceElement.ownerDocument,a,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),u},t.prototype.createElementClone=function(e){if(a2(e,2))debugger;if(EY(e))return this.createCanvasClone(e);if(B5(e))return this.createVideoClone(e);if(E5(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return c2(r)&&(c2(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),S5(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return TS(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(a,o){return o&&typeof o.cssText=="string"?a+o.cssText:a},""),s=e.cloneNode(!1);return s.textContent=n,s}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var a=e.getContext("2d"),o=s.getContext("2d");if(o)if(!this.options.allowTaint&&a)o.putImageData(a.getImageData(0,0,e.width,e.height),0,0);else{var l=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(l){var c=l.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,r,n){(!Ph(r)||!Ike(r)&&!r.hasAttribute(TY)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Ph(r)||!E5(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var s=this,a=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;a;a=a.nextSibling)if(Ph(a)&&NY(a)&&typeof a.assignedNodes=="function"){var o=a.assignedNodes();o.length&&o.forEach(function(l){return s.appendChildNode(r,l,n)})}else this.appendChildNode(r,a,n)},t.prototype.cloneNode=function(e,r){if(CY(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Ph(e)&&(l2(e)||gb(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var a=n.getComputedStyle(e),o=n.getComputedStyle(e,":before"),l=n.getComputedStyle(e,":after");this.referenceElement===e&&l2(s)&&(this.clonedReferenceElement=s),zF(s)&&zke(s);var c=this.counters.parse(new A5(this.context,a)),u=this.resolvePseudoContent(e,s,o,zg.BEFORE);S5(e)&&(r=!0),B5(e)||this.cloneChildNodes(e,s,r),u&&s.insertBefore(u,s.firstChild);var A=this.resolvePseudoContent(e,s,l,zg.AFTER);return A&&s.appendChild(A),this.counters.pop(c),(a&&(this.options.copyStyles||gb(e))&&!SY(e)||r)&&TS(a,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(K1(e)||z1(e))&&(K1(s)||z1(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,s){var a=this;if(n){var o=n.content,l=r.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new A5(this.context,n));var c=new SNe(this.context,n),u=l.createElement("html2canvaspseudoelement");TS(n,u),c.content.forEach(function(d){if(d.type===0)u.appendChild(l.createTextNode(d.value));else if(d.type===22){var h=l.createElement("img");h.src=d.value,h.style.opacity="1",u.appendChild(h)}else if(d.type===18){if(d.name==="attr"){var f=d.values.filter(dr);f.length&&u.appendChild(l.createTextNode(e.getAttribute(f[0].value)||""))}else if(d.name==="counter"){var m=d.values.filter(Vf),p=m[0],g=m[1];if(p&&dr(p)){var y=a.counters.getCounterValue(p.value),x=g&&dr(g)?s2.parse(a.context,g.value):3;u.appendChild(l.createTextNode(ly(y,x,!1)))}}else if(d.name==="counters"){var b=d.values.filter(Vf),p=b[0],j=b[1],g=b[2];if(p&&dr(p)){var C=a.counters.getCounterValues(p.value),E=g&&dr(g)?s2.parse(a.context,g.value):3,_=j&&j.type===0?j.value:"",B=C.map(function(P){return ly(P,E,!1)}).join(_);u.appendChild(l.createTextNode(B))}}}else if(d.type===20)switch(d.value){case"open-quote":u.appendChild(l.createTextNode(u5(c.quotes,a.quoteDepth++,!0)));break;case"close-quote":u.appendChild(l.createTextNode(u5(c.quotes,--a.quoteDepth,!1)));break;default:u.appendChild(l.createTextNode(d.value))}}),u.className=u2+" "+A2;var A=s===zg.BEFORE?" "+u2:" "+A2;return gb(r)?r.className.baseValue+=A:r.className+=A,u}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),zg;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(zg||(zg={}));var Dke=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(TY,"true"),t.body.appendChild(r),r},Rke=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},Uke=function(t){return Promise.all([].slice.call(t.images,0).map(Rke))},Mke=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var s=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var a=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(a),e(t))},50)}})},Qke=["all","d","content"],TS=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);Qke.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},Lke=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},$ke=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},Hke=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},Vke=":before",Kke=":after",u2="___html2canvas___pseudoelement_before",A2="___html2canvas___pseudoelement_after",F5=`{
    content: "" !important;
    display: none !important;
}`,zke=function(t){Gke(t,"."+u2+Vke+F5+`
         .`+A2+Kke+F5)},Gke=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},IY=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),Wke=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(PS(e)||Yke(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Es(this,void 0,void 0,function(){var r,n,s,a,o=this;return as(this,function(l){switch(l.label){case 0:return r=IY.isSameOrigin(e),n=!IS(e)&&this._options.useCORS===!0&&Fn.SUPPORT_CORS_IMAGES&&!r,s=!IS(e)&&!r&&!PS(e)&&typeof this._options.proxy=="string"&&Fn.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!IS(e)&&!PS(e)&&!s&&!n?[2]:(a=e,s?[4,this.proxy(a)]:[3,2]);case 1:a=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(c,u){var A=new Image;A.onload=function(){return c(A)},A.onerror=u,(Zke(a)||n)&&(A.crossOrigin="anonymous"),A.src=a,A.complete===!0&&setTimeout(function(){return c(A)},500),o._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(a,o){var l=Fn.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")a(c.response);else{var d=new FileReader;d.addEventListener("load",function(){return a(d.result)},!1),d.addEventListener("error",function(h){return o(h)},!1),d.readAsDataURL(c.response)}else o("Failed to proxy resource "+s+" with status code "+c.status)},c.onerror=o;var u=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+u+"url="+encodeURIComponent(e)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),r._options.imageTimeout){var A=r._options.imageTimeout;c.timeout=A,c.ontimeout=function(){return o("Timed out ("+A+"ms) proxying "+s)}}c.send()})},t}(),qke=/^data:image\/svg\+xml/i,Xke=/^data:image\/.*;base64,/i,Jke=/^data:image\/.*/i,Yke=function(t){return Fn.SUPPORT_SVG_DRAWING||!eTe(t)},IS=function(t){return Jke.test(t)},Zke=function(t){return Xke.test(t)},PS=function(t){return t.substr(0,4)==="blob"},eTe=function(t){return t.substr(-3).toLowerCase()==="svg"||qke.test(t)},Re=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),rh=function(t,e,r){return new Re(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},dw=function(){function t(e,r,n,s){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=s}return t.prototype.subdivide=function(e,r){var n=rh(this.start,this.startControl,e),s=rh(this.startControl,this.endControl,e),a=rh(this.endControl,this.end,e),o=rh(n,s,e),l=rh(s,a,e),c=rh(o,l,e);return r?new t(this.start,n,o,c):new t(c,l,a,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Va=function(t){return t.type===1},tTe=function(){function t(e){var r=e.styles,n=e.bounds,s=fg(r.borderTopLeftRadius,n.width,n.height),a=s[0],o=s[1],l=fg(r.borderTopRightRadius,n.width,n.height),c=l[0],u=l[1],A=fg(r.borderBottomRightRadius,n.width,n.height),d=A[0],h=A[1],f=fg(r.borderBottomLeftRadius,n.width,n.height),m=f[0],p=f[1],g=[];g.push((a+c)/n.width),g.push((m+d)/n.width),g.push((o+p)/n.height),g.push((u+h)/n.height);var y=Math.max.apply(Math,g);y>1&&(a/=y,o/=y,c/=y,u/=y,d/=y,h/=y,m/=y,p/=y);var x=n.width-c,b=n.height-h,j=n.width-d,C=n.height-p,E=r.borderTopWidth,_=r.borderRightWidth,B=r.borderBottomWidth,S=r.borderLeftWidth,N=Cr(r.paddingTop,e.bounds.width),P=Cr(r.paddingRight,e.bounds.width),I=Cr(r.paddingBottom,e.bounds.width),T=Cr(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||o>0?Pr(n.left+S/3,n.top+E/3,a-S/3,o-E/3,Yt.TOP_LEFT):new Re(n.left+S/3,n.top+E/3),this.topRightBorderDoubleOuterBox=a>0||o>0?Pr(n.left+x,n.top+E/3,c-_/3,u-E/3,Yt.TOP_RIGHT):new Re(n.left+n.width-_/3,n.top+E/3),this.bottomRightBorderDoubleOuterBox=d>0||h>0?Pr(n.left+j,n.top+b,d-_/3,h-B/3,Yt.BOTTOM_RIGHT):new Re(n.left+n.width-_/3,n.top+n.height-B/3),this.bottomLeftBorderDoubleOuterBox=m>0||p>0?Pr(n.left+S/3,n.top+C,m-S/3,p-B/3,Yt.BOTTOM_LEFT):new Re(n.left+S/3,n.top+n.height-B/3),this.topLeftBorderDoubleInnerBox=a>0||o>0?Pr(n.left+S*2/3,n.top+E*2/3,a-S*2/3,o-E*2/3,Yt.TOP_LEFT):new Re(n.left+S*2/3,n.top+E*2/3),this.topRightBorderDoubleInnerBox=a>0||o>0?Pr(n.left+x,n.top+E*2/3,c-_*2/3,u-E*2/3,Yt.TOP_RIGHT):new Re(n.left+n.width-_*2/3,n.top+E*2/3),this.bottomRightBorderDoubleInnerBox=d>0||h>0?Pr(n.left+j,n.top+b,d-_*2/3,h-B*2/3,Yt.BOTTOM_RIGHT):new Re(n.left+n.width-_*2/3,n.top+n.height-B*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||p>0?Pr(n.left+S*2/3,n.top+C,m-S*2/3,p-B*2/3,Yt.BOTTOM_LEFT):new Re(n.left+S*2/3,n.top+n.height-B*2/3),this.topLeftBorderStroke=a>0||o>0?Pr(n.left+S/2,n.top+E/2,a-S/2,o-E/2,Yt.TOP_LEFT):new Re(n.left+S/2,n.top+E/2),this.topRightBorderStroke=a>0||o>0?Pr(n.left+x,n.top+E/2,c-_/2,u-E/2,Yt.TOP_RIGHT):new Re(n.left+n.width-_/2,n.top+E/2),this.bottomRightBorderStroke=d>0||h>0?Pr(n.left+j,n.top+b,d-_/2,h-B/2,Yt.BOTTOM_RIGHT):new Re(n.left+n.width-_/2,n.top+n.height-B/2),this.bottomLeftBorderStroke=m>0||p>0?Pr(n.left+S/2,n.top+C,m-S/2,p-B/2,Yt.BOTTOM_LEFT):new Re(n.left+S/2,n.top+n.height-B/2),this.topLeftBorderBox=a>0||o>0?Pr(n.left,n.top,a,o,Yt.TOP_LEFT):new Re(n.left,n.top),this.topRightBorderBox=c>0||u>0?Pr(n.left+x,n.top,c,u,Yt.TOP_RIGHT):new Re(n.left+n.width,n.top),this.bottomRightBorderBox=d>0||h>0?Pr(n.left+j,n.top+b,d,h,Yt.BOTTOM_RIGHT):new Re(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=m>0||p>0?Pr(n.left,n.top+C,m,p,Yt.BOTTOM_LEFT):new Re(n.left,n.top+n.height),this.topLeftPaddingBox=a>0||o>0?Pr(n.left+S,n.top+E,Math.max(0,a-S),Math.max(0,o-E),Yt.TOP_LEFT):new Re(n.left+S,n.top+E),this.topRightPaddingBox=c>0||u>0?Pr(n.left+Math.min(x,n.width-_),n.top+E,x>n.width+_?0:Math.max(0,c-_),Math.max(0,u-E),Yt.TOP_RIGHT):new Re(n.left+n.width-_,n.top+E),this.bottomRightPaddingBox=d>0||h>0?Pr(n.left+Math.min(j,n.width-S),n.top+Math.min(b,n.height-B),Math.max(0,d-_),Math.max(0,h-B),Yt.BOTTOM_RIGHT):new Re(n.left+n.width-_,n.top+n.height-B),this.bottomLeftPaddingBox=m>0||p>0?Pr(n.left+S,n.top+Math.min(C,n.height-B),Math.max(0,m-S),Math.max(0,p-B),Yt.BOTTOM_LEFT):new Re(n.left+S,n.top+n.height-B),this.topLeftContentBox=a>0||o>0?Pr(n.left+S+T,n.top+E+N,Math.max(0,a-(S+T)),Math.max(0,o-(E+N)),Yt.TOP_LEFT):new Re(n.left+S+T,n.top+E+N),this.topRightContentBox=c>0||u>0?Pr(n.left+Math.min(x,n.width+S+T),n.top+E+N,x>n.width+S+T?0:c-S+T,u-(E+N),Yt.TOP_RIGHT):new Re(n.left+n.width-(_+P),n.top+E+N),this.bottomRightContentBox=d>0||h>0?Pr(n.left+Math.min(j,n.width-(S+T)),n.top+Math.min(b,n.height+E+N),Math.max(0,d-(_+P)),h-(B+I),Yt.BOTTOM_RIGHT):new Re(n.left+n.width-(_+P),n.top+n.height-(B+I)),this.bottomLeftContentBox=m>0||p>0?Pr(n.left+S+T,n.top+C,Math.max(0,m-(S+T)),p-(B+I),Yt.BOTTOM_LEFT):new Re(n.left+S+T,n.top+n.height-(B+I))}return t}(),Yt;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Yt||(Yt={}));var Pr=function(t,e,r,n,s){var a=4*((Math.sqrt(2)-1)/3),o=r*a,l=n*a,c=t+r,u=e+n;switch(s){case Yt.TOP_LEFT:return new dw(new Re(t,u),new Re(t,u-l),new Re(c-o,e),new Re(c,e));case Yt.TOP_RIGHT:return new dw(new Re(t,e),new Re(t+o,e),new Re(c,u-l),new Re(c,u));case Yt.BOTTOM_RIGHT:return new dw(new Re(c,e),new Re(c,e+l),new Re(t+o,u),new Re(t,u));case Yt.BOTTOM_LEFT:default:return new dw(new Re(c,u),new Re(c-o,u),new Re(t,e+l),new Re(t,e))}},G1=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},rTe=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},W1=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},nTe=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),hw=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),sTe=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),aTe=function(t){return t.type===0},PY=function(t){return t.type===1},iTe=function(t){return t.type===2},D5=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},oTe=function(t,e,r,n,s){return t.map(function(a,o){switch(o){case 0:return a.add(e,r);case 1:return a.add(e+n,r);case 2:return a.add(e+n,r+s);case 3:return a.add(e,r+s)}return a})},OY=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),FY=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new tTe(this.container),this.container.styles.opacity<1&&this.effects.push(new sTe(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new nTe(n,s,a))}if(this.container.styles.overflowX!==0){var o=G1(this.curves),l=W1(this.curves);D5(o,l)?this.effects.push(new hw(o,6)):(this.effects.push(new hw(o,2)),this.effects.push(new hw(l,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var a=n.effects.filter(function(c){return!PY(c)});if(r||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,a),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=G1(n.curves),l=W1(n.curves);D5(o,l)||s.unshift(new hw(l,6))}}else s.unshift.apply(s,a);n=n.parent}return s.filter(function(c){return fn(c.target,e)})},t}(),d2=function(t,e,r,n){t.container.elements.forEach(function(s){var a=fn(s.flags,4),o=fn(s.flags,2),l=new FY(s,t);fn(s.styles.display,2048)&&n.push(l);var c=fn(s.flags,8)?[]:n;if(a||o){var u=a||s.styles.isPositioned()?r:e,A=new OY(l);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var d=s.styles.zIndex.order;if(d<0){var h=0;u.negativeZIndex.some(function(m,p){return d>m.element.container.styles.zIndex.order?(h=p,!1):h>0}),u.negativeZIndex.splice(h,0,A)}else if(d>0){var f=0;u.positiveZIndex.some(function(m,p){return d>=m.element.container.styles.zIndex.order?(f=p+1,!1):f>0}),u.positiveZIndex.splice(f,0,A)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(A)}else s.styles.isFloating()?u.nonPositionedFloats.push(A):u.nonPositionedInlineLevel.push(A);d2(l,A,a?A:r,c)}else s.styles.isInlineLevel()?e.inlineLevel.push(l):e.nonInlineLevel.push(l),d2(l,e,r,c);fn(s.flags,8)&&DY(s,c)})},DY=function(t,e){for(var r=t instanceof o2?t.start:1,n=t instanceof o2?t.reversed:!1,s=0;s<e.length;s++){var a=e[s];a.container instanceof yY&&typeof a.container.value=="number"&&a.container.value!==0&&(r=a.container.value),a.listValue=ly(r,a.container.styles.listStyleType,!0),r+=n?-1:1}},lTe=function(t){var e=new FY(t,null),r=new OY(e),n=[];return d2(e,r,r,n),DY(e.container,n),r},R5=function(t,e){switch(e){case 0:return Wa(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Wa(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Wa(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Wa(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},cTe=function(t,e){switch(e){case 0:return Wa(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Wa(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Wa(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Wa(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},uTe=function(t,e){switch(e){case 0:return Wa(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Wa(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Wa(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Wa(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},ATe=function(t,e){switch(e){case 0:return fw(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return fw(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return fw(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return fw(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},fw=function(t,e){var r=[];return Va(t)?r.push(t.subdivide(.5,!1)):r.push(t),Va(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},Wa=function(t,e,r,n){var s=[];return Va(t)?s.push(t.subdivide(.5,!1)):s.push(t),Va(r)?s.push(r.subdivide(.5,!0)):s.push(r),Va(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),Va(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},RY=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},q1=function(t){var e=t.styles,r=t.bounds,n=Cr(e.paddingLeft,r.width),s=Cr(e.paddingRight,r.width),a=Cr(e.paddingTop,r.width),o=Cr(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,a+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+s),-(e.borderTopWidth+e.borderBottomWidth+a+o))},dTe=function(t,e){return t===0?e.bounds:t===2?q1(e):RY(e)},hTe=function(t,e){return t===0?e.bounds:t===2?q1(e):RY(e)},OS=function(t,e,r){var n=dTe(vh(t.styles.backgroundOrigin,e),t),s=hTe(vh(t.styles.backgroundClip,e),t),a=fTe(vh(t.styles.backgroundSize,e),r,n),o=a[0],l=a[1],c=fg(vh(t.styles.backgroundPosition,e),n.width-o,n.height-l),u=mTe(vh(t.styles.backgroundRepeat,e),c,a,n,s),A=Math.round(n.left+c[0]),d=Math.round(n.top+c[1]);return[u,A,d,o,l]},nh=function(t){return dr(t)&&t.value===Wh.AUTO},mw=function(t){return typeof t=="number"},fTe=function(t,e,r){var n=e[0],s=e[1],a=e[2],o=t[0],l=t[1];if(!o)return[0,0];if(an(o)&&l&&an(l))return[Cr(o,r.width),Cr(l,r.height)];var c=mw(a);if(dr(o)&&(o.value===Wh.CONTAIN||o.value===Wh.COVER)){if(mw(a)){var u=r.width/r.height;return u<a!=(o.value===Wh.COVER)?[r.width,r.width/a]:[r.height*a,r.height]}return[r.width,r.height]}var A=mw(n),d=mw(s),h=A||d;if(nh(o)&&(!l||nh(l))){if(A&&d)return[n,s];if(!c&&!h)return[r.width,r.height];if(h&&c){var f=A?n:s*a,m=d?s:n/a;return[f,m]}var p=A?n:r.width,g=d?s:r.height;return[p,g]}if(c){var y=0,x=0;return an(o)?y=Cr(o,r.width):an(l)&&(x=Cr(l,r.height)),nh(o)?y=x*a:(!l||nh(l))&&(x=y/a),[y,x]}var b=null,j=null;if(an(o)?b=Cr(o,r.width):l&&an(l)&&(j=Cr(l,r.height)),b!==null&&(!l||nh(l))&&(j=A&&d?b/n*s:r.height),j!==null&&nh(o)&&(b=A&&d?j/s*n:r.width),b!==null&&j!==null)return[b,j];throw new Error("Unable to calculate background-size for element")},vh=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},mTe=function(t,e,r,n,s){var a=e[0],o=e[1],l=r[0],c=r[1];switch(t){case 2:return[new Re(Math.round(n.left),Math.round(n.top+o)),new Re(Math.round(n.left+n.width),Math.round(n.top+o)),new Re(Math.round(n.left+n.width),Math.round(c+n.top+o)),new Re(Math.round(n.left),Math.round(c+n.top+o))];case 3:return[new Re(Math.round(n.left+a),Math.round(n.top)),new Re(Math.round(n.left+a+l),Math.round(n.top)),new Re(Math.round(n.left+a+l),Math.round(n.height+n.top)),new Re(Math.round(n.left+a),Math.round(n.height+n.top))];case 1:return[new Re(Math.round(n.left+a),Math.round(n.top+o)),new Re(Math.round(n.left+a+l),Math.round(n.top+o)),new Re(Math.round(n.left+a+l),Math.round(n.top+o+c)),new Re(Math.round(n.left+a),Math.round(n.top+o+c))];default:return[new Re(Math.round(s.left),Math.round(s.top)),new Re(Math.round(s.left+s.width),Math.round(s.top)),new Re(Math.round(s.left+s.width),Math.round(s.height+s.top)),new Re(Math.round(s.left),Math.round(s.height+s.top))]}},pTe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",U5="Hidden Text",gTe=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),s=this._document.createElement("img"),a=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),s.src=pTe,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",a.style.fontFamily=e,a.style.fontSize=r,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(U5)),n.appendChild(a),n.appendChild(s);var l=s.offsetTop-a.offsetTop+2;n.removeChild(a),n.appendChild(this._document.createTextNode(U5)),n.style.lineHeight="normal",s.style.verticalAlign="super";var c=s.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:l,middle:c}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),UY=function(){function t(e,r){this.context=e,this.options=r}return t}(),vTe=1e4,yTe=function(t){Wi(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new gTe(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return n.applyEffect(s)})},e.prototype.applyEffect=function(r){this.ctx.save(),iTe(r)&&(this.ctx.globalAlpha=r.opacity),aTe(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),PY(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return Es(this,void 0,void 0,function(){var n;return as(this,function(s){switch(s.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return Es(this,void 0,void 0,function(){return as(this,function(n){switch(n.label){case 0:if(fn(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,s){var a=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var o=VF(r.text);o.reduce(function(l,c){return a.ctx.fillText(c,l,r.bounds.top+s),l+a.ctx.measureText(c).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),s=_Te(r.fontFamily).join(", "),a=kx(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,a,s].join(" "),s,a]},e.prototype.renderTextNode=function(r,n){return Es(this,void 0,void 0,function(){var s,a,o,l,c,u,A,d,h=this;return as(this,function(f){return s=this.createFontStyle(n),a=s[0],o=s[1],l=s[2],this.ctx.font=a,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,l),u=c.baseline,A=c.middle,d=n.paintOrder,r.textBounds.forEach(function(m){d.forEach(function(p){switch(p){case 0:h.ctx.fillStyle=xn(n.color),h.renderTextWithLetterSpacing(m,n.letterSpacing,u);var g=n.textShadow;g.length&&m.text.trim().length&&(g.slice(0).reverse().forEach(function(y){h.ctx.shadowColor=xn(y.color),h.ctx.shadowOffsetX=y.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=y.offsetY.number*h.options.scale,h.ctx.shadowBlur=y.blur.number,h.renderTextWithLetterSpacing(m,n.letterSpacing,u)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),n.textDecorationLine.length&&(h.ctx.fillStyle=xn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(y){switch(y){case 1:h.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+u),m.bounds.width,1);break;case 2:h.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:h.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+A),m.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&m.text.trim().length&&(h.ctx.strokeStyle=xn(n.webkitTextStrokeColor),h.ctx.lineWidth=n.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+u)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var a=q1(r),o=W1(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return Es(this,void 0,void 0,function(){var n,s,a,o,l,c,x,x,u,A,d,h,j,f,m,C,p,g,y,x,b,j,C;return as(this,function(E){switch(E.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,s=r.curves,a=n.styles,o=0,l=n.textNodes,E.label=1;case 1:return o<l.length?(c=l[o],[4,this.renderTextNode(c,a)]):[3,4];case 2:E.sent(),E.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof pY))return[3,8];E.label=5;case 5:return E.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return x=E.sent(),this.renderReplacedElement(n,s,x),[3,8];case 7:return E.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof gY&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof vY))return[3,12];E.label=9;case 9:return E.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return x=E.sent(),this.renderReplacedElement(n,s,x),[3,12];case 11:return E.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof bY&&n.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:A=E.sent(),n.width&&n.height&&this.ctx.drawImage(A,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),E.label=14;case 14:if(n instanceof KF&&(d=Math.min(n.bounds.width,n.bounds.height),n.type===H1?n.checked&&(this.ctx.save(),this.path([new Re(n.bounds.left+d*.39363,n.bounds.top+d*.79),new Re(n.bounds.left+d*.16,n.bounds.top+d*.5549),new Re(n.bounds.left+d*.27347,n.bounds.top+d*.44071),new Re(n.bounds.left+d*.39694,n.bounds.top+d*.5649),new Re(n.bounds.left+d*.72983,n.bounds.top+d*.23),new Re(n.bounds.left+d*.84,n.bounds.top+d*.34085),new Re(n.bounds.left+d*.39363,n.bounds.top+d*.79)]),this.ctx.fillStyle=xn(C5),this.ctx.fill(),this.ctx.restore()):n.type===V1&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+d/2,n.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=xn(C5),this.ctx.fill(),this.ctx.restore())),xTe(n)&&n.value.length){switch(h=this.createFontStyle(a),j=h[0],f=h[1],m=this.fontMetrics.getMetrics(j,f).baseline,this.ctx.font=j,this.ctx.fillStyle=xn(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=bTe(n.styles.textAlign),C=q1(n),p=0,n.styles.textAlign){case 1:p+=C.width/2;break;case 2:p+=C.width;break}g=C.add(p,0,0,-C.height/2+1),this.ctx.save(),this.path([new Re(C.left,C.top),new Re(C.left+C.width,C.top),new Re(C.left+C.width,C.top+C.height),new Re(C.left,C.top+C.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Kg(n.value,g),a.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!fn(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(y=n.styles.listStyleImage,y.type!==0)return[3,18];x=void 0,b=y.url,E.label=15;case 15:return E.trys.push([15,17,,18]),[4,this.context.cache.match(b)];case 16:return x=E.sent(),this.ctx.drawImage(x,n.bounds.left-(x.width+10),n.bounds.top),[3,18];case 17:return E.sent(),this.context.logger.error("Error loading list-style-image "+b),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(j=this.createFontStyle(a)[0],this.ctx.font=j,this.ctx.fillStyle=xn(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",C=new Pl(n.bounds.left,n.bounds.top+Cr(n.styles.paddingTop,n.bounds.width),n.bounds.width,l5(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Kg(r.listValue,C),a.letterSpacing,l5(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),E.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return Es(this,void 0,void 0,function(){var n,s,y,a,o,y,l,c,y,u,A,y,d,h,y,f,m,y,p,g,y;return as(this,function(x){switch(x.label){case 0:if(fn(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:x.sent(),n=0,s=r.negativeZIndex,x.label=2;case 2:return n<s.length?(y=s[n],[4,this.renderStack(y)]):[3,5];case 3:x.sent(),x.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:x.sent(),a=0,o=r.nonInlineLevel,x.label=7;case 7:return a<o.length?(y=o[a],[4,this.renderNode(y)]):[3,10];case 8:x.sent(),x.label=9;case 9:return a++,[3,7];case 10:l=0,c=r.nonPositionedFloats,x.label=11;case 11:return l<c.length?(y=c[l],[4,this.renderStack(y)]):[3,14];case 12:x.sent(),x.label=13;case 13:return l++,[3,11];case 14:u=0,A=r.nonPositionedInlineLevel,x.label=15;case 15:return u<A.length?(y=A[u],[4,this.renderStack(y)]):[3,18];case 16:x.sent(),x.label=17;case 17:return u++,[3,15];case 18:d=0,h=r.inlineLevel,x.label=19;case 19:return d<h.length?(y=h[d],[4,this.renderNode(y)]):[3,22];case 20:x.sent(),x.label=21;case 21:return d++,[3,19];case 22:f=0,m=r.zeroOrAutoZIndexOrTransformedOrOpacity,x.label=23;case 23:return f<m.length?(y=m[f],[4,this.renderStack(y)]):[3,26];case 24:x.sent(),x.label=25;case 25:return f++,[3,23];case 26:p=0,g=r.positiveZIndex,x.label=27;case 27:return p<g.length?(y=g[p],[4,this.renderStack(y)]):[3,30];case 28:x.sent(),x.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(s,a){var o=Va(s)?s.start:s;a===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),Va(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(r,n,s,a){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(s,a),this.ctx.fill(),this.ctx.translate(-s,-a)},e.prototype.resizeImage=function(r,n,s){var a;if(r.width===n&&r.height===s)return r;var o=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,l=o.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,s);var c=l.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,n,s),l},e.prototype.renderBackgroundImage=function(r){return Es(this,void 0,void 0,function(){var n,s,a,o,l,c;return as(this,function(u){switch(u.label){case 0:n=r.styles.backgroundImage.length-1,s=function(A){var d,h,f,N,H,U,T,D,B,m,N,H,U,T,D,p,g,y,x,b,j,C,E,_,B,S,N,P,I,T,D,M,H,U,O,R,Q,G,X,se,Z,K;return as(this,function(ne){switch(ne.label){case 0:if(A.type!==0)return[3,5];d=void 0,h=A.url,ne.label=1;case 1:return ne.trys.push([1,3,,4]),[4,a.context.cache.match(h)];case 2:return d=ne.sent(),[3,4];case 3:return ne.sent(),a.context.logger.error("Error loading background-image "+h),[3,4];case 4:return d&&(f=OS(r,n,[d.width,d.height,d.width/d.height]),N=f[0],H=f[1],U=f[2],T=f[3],D=f[4],B=a.ctx.createPattern(a.resizeImage(d,T,D),"repeat"),a.renderRepeat(N,B,H,U)),[3,6];case 5:aSe(A)?(m=OS(r,n,[null,null,null]),N=m[0],H=m[1],U=m[2],T=m[3],D=m[4],p=eSe(A.angle,T,D),g=p[0],y=p[1],x=p[2],b=p[3],j=p[4],C=document.createElement("canvas"),C.width=T,C.height=D,E=C.getContext("2d"),_=E.createLinearGradient(y,b,x,j),i5(A.stops,g).forEach(function(ue){return _.addColorStop(ue.stop,xn(ue.color))}),E.fillStyle=_,E.fillRect(0,0,T,D),T>0&&D>0&&(B=a.ctx.createPattern(C,"repeat"),a.renderRepeat(N,B,H,U))):iSe(A)&&(S=OS(r,n,[null,null,null]),N=S[0],P=S[1],I=S[2],T=S[3],D=S[4],M=A.position.length===0?[LF]:A.position,H=Cr(M[0],T),U=Cr(M[M.length-1],D),O=tSe(A,H,U,T,D),R=O[0],Q=O[1],R>0&&Q>0&&(G=a.ctx.createRadialGradient(P+H,I+U,0,P+H,I+U,R),i5(A.stops,R*2).forEach(function(ue){return G.addColorStop(ue.stop,xn(ue.color))}),a.path(N),a.ctx.fillStyle=G,R!==Q?(X=r.bounds.left+.5*r.bounds.width,se=r.bounds.top+.5*r.bounds.height,Z=Q/R,K=1/Z,a.ctx.save(),a.ctx.translate(X,se),a.ctx.transform(1,0,0,Z,0,0),a.ctx.translate(-X,-se),a.ctx.fillRect(P,K*(I-se)+se,T,D*K),a.ctx.restore()):a.ctx.fill())),ne.label=6;case 6:return n--,[2]}})},a=this,o=0,l=r.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return o<l.length?(c=l[o],[5,s(c)]):[3,4];case 2:u.sent(),u.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,s){return Es(this,void 0,void 0,function(){return as(this,function(a){return this.path(R5(s,n)),this.ctx.fillStyle=xn(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,s,a){return Es(this,void 0,void 0,function(){var o,l;return as(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(r,s,a)]:[3,2];case 1:return c.sent(),[2];case 2:return o=cTe(a,s),this.path(o),this.ctx.fillStyle=xn(r),this.ctx.fill(),l=uTe(a,s),this.path(l),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return Es(this,void 0,void 0,function(){var n,s,a,o,l,c,u,A,d=this;return as(this,function(h){switch(h.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,s=!su(n.backgroundColor)||n.backgroundImage.length,a=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=wTe(vh(n.backgroundClip,0),r.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),su(n.backgroundColor)||(this.ctx.fillStyle=xn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(f){d.ctx.save();var m=G1(r.curves),p=f.inset?0:vTe,g=oTe(m,-p+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(d.path(m),d.ctx.clip(),d.mask(g)):(d.mask(m),d.ctx.clip(),d.path(g)),d.ctx.shadowOffsetX=f.offsetX.number+p,d.ctx.shadowOffsetY=f.offsetY.number,d.ctx.shadowColor=xn(f.color),d.ctx.shadowBlur=f.blur.number,d.ctx.fillStyle=f.inset?xn(f.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),h.label=2;case 2:l=0,c=0,u=a,h.label=3;case 3:return c<u.length?(A=u[c],A.style!==0&&!su(A.color)&&A.width>0?A.style!==2?[3,5]:[4,this.renderDashedDottedBorder(A.color,A.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return A.style!==3?[3,7]:[4,this.renderDashedDottedBorder(A.color,A.width,l,r.curves,3)];case 6:return h.sent(),[3,11];case 7:return A.style!==4?[3,9]:[4,this.renderDoubleBorder(A.color,A.width,l,r.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(A.color,l,r.curves)];case 10:h.sent(),h.label=11;case 11:l++,h.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,s,a,o){return Es(this,void 0,void 0,function(){var l,c,u,A,d,h,f,m,p,g,y,x,b,j,C,E,C,E;return as(this,function(_){return this.ctx.save(),l=ATe(a,s),c=R5(a,s),o===2&&(this.path(c),this.ctx.clip()),Va(c[0])?(u=c[0].start.x,A=c[0].start.y):(u=c[0].x,A=c[0].y),Va(c[1])?(d=c[1].end.x,h=c[1].end.y):(d=c[1].x,h=c[1].y),s===0||s===2?f=Math.abs(u-d):f=Math.abs(A-h),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(c.slice(0,2)),m=n<3?n*3:n*2,p=n<3?n*2:n,o===3&&(m=n,p=n),g=!0,f<=m*2?g=!1:f<=m*2+p?(y=f/(2*m+p),m*=y,p*=y):(x=Math.floor((f+p)/(m+p)),b=(f-x*m)/(x-1),j=(f-(x+1)*m)/x,p=j<=0||Math.abs(p-b)<Math.abs(p-j)?b:j),g&&(o===3?this.ctx.setLineDash([0,m+p]):this.ctx.setLineDash([m,p])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=xn(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Va(c[0])&&(C=c[3],E=c[0],this.ctx.beginPath(),this.formatPath([new Re(C.end.x,C.end.y),new Re(E.start.x,E.start.y)]),this.ctx.stroke()),Va(c[1])&&(C=c[1],E=c[2],this.ctx.beginPath(),this.formatPath([new Re(C.end.x,C.end.y),new Re(E.start.x,E.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return Es(this,void 0,void 0,function(){var n;return as(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=xn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=lTe(r),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(UY),xTe=function(t){return t instanceof wY||t instanceof xY?!0:t instanceof KF&&t.type!==V1&&t.type!==H1},wTe=function(t,e){switch(t){case 0:return G1(e);case 2:return rTe(e);case 1:default:return W1(e)}},bTe=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},jTe=["-apple-system","system-ui"],_Te=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return jTe.indexOf(e)===-1}):t},CTe=function(t){Wi(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return e.prototype.render=function(r){return Es(this,void 0,void 0,function(){var n,s;return as(this,function(a){switch(a.label){case 0:return n=i2(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,BTe(n)];case 1:return s=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=xn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(UY),BTe=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},ETe=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,G0([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,G0([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,G0([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,G0([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),STe=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new ETe({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new Wke(this,e)}return t.instanceCount=1,t}(),GF=function(t,e){return e===void 0&&(e={}),NTe(t,e)};typeof window<"u"&&IY.setContext(window);var NTe=function(t,e){return Es(void 0,void 0,void 0,function(){var r,n,s,a,o,l,c,u,A,d,h,f,m,p,g,y,x,b,j,C,_,E,_,B,S,N,P,I,T,D,M,H,U,O,R,Q,G,X,se,Z;return as(this,function(K){switch(K.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(B=e.allowTaint)!==null&&B!==void 0?B:!1,imageTimeout:(S=e.imageTimeout)!==null&&S!==void 0?S:15e3,proxy:e.proxy,useCORS:(N=e.useCORS)!==null&&N!==void 0?N:!1},a=KT({logging:(P=e.logging)!==null&&P!==void 0?P:!0,cache:e.cache},s),o={windowWidth:(I=e.windowWidth)!==null&&I!==void 0?I:n.innerWidth,windowHeight:(T=e.windowHeight)!==null&&T!==void 0?T:n.innerHeight,scrollX:(D=e.scrollX)!==null&&D!==void 0?D:n.pageXOffset,scrollY:(M=e.scrollY)!==null&&M!==void 0?M:n.pageYOffset},l=new Pl(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new STe(a,l),u=(H=e.foreignObjectRendering)!==null&&H!==void 0?H:!1,A={allowTaint:(U=e.allowTaint)!==null&&U!==void 0?U:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),d=new O5(c,t,A),h=d.clonedReferenceElement,h?[4,d.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=K.sent(),m=zF(h)||Tke(h)?oBe(h.ownerDocument):kC(c,h),p=m.width,g=m.height,y=m.left,x=m.top,b=kTe(c,h,e.backgroundColor),j={canvas:e.canvas,backgroundColor:b,scale:(R=(O=e.scale)!==null&&O!==void 0?O:n.devicePixelRatio)!==null&&R!==void 0?R:1,x:((Q=e.x)!==null&&Q!==void 0?Q:0)+y,y:((G=e.y)!==null&&G!==void 0?G:0)+x,width:(X=e.width)!==null&&X!==void 0?X:Math.ceil(p),height:(se=e.height)!==null&&se!==void 0?se:Math.ceil(g)},u?(c.logger.debug("Document cloned, using foreign object rendering"),_=new CTe(c,j),[4,_.render(h)]):[3,3];case 2:return C=K.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+y+","+x+" with size "+p+"x"+g+" using computed rendering"),c.logger.debug("Starting DOM parsing"),E=_Y(c,h),b===E.styles.backgroundColor&&(E.styles.backgroundColor=pl.TRANSPARENT),c.logger.debug("Starting renderer for element at "+j.x+","+j.y+" with size "+j.width+"x"+j.height),_=new yTe(c,j),[4,_.render(E)];case 4:C=K.sent(),K.label=5;case 5:return(!((Z=e.removeContainer)!==null&&Z!==void 0)||Z)&&(O5.destroy(f)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,C]}})})},kTe=function(t,e,r){var n=e.ownerDocument,s=n.documentElement?Hg(t,getComputedStyle(n.documentElement).backgroundColor):pl.TRANSPARENT,a=n.body?Hg(t,getComputedStyle(n.body).backgroundColor):pl.TRANSPARENT,o=typeof r=="string"?Hg(t,r):r===null?pl.TRANSPARENT:4294967295;return e===n.documentElement?su(s)?su(a)?o:a:s:o};const TTe=xm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function jt({className:t,variant:e,...r}){return i.jsx("div",{className:he(TTe({variant:e}),t),...r})}const fr=CF,X1=BF,ITe=EF,MY=v.forwardRef(({className:t,...e},r)=>i.jsx(jx,{ref:r,className:he("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));MY.displayName=jx.displayName;const ir=v.forwardRef(({className:t,children:e,...r},n)=>{const s=`${r.id}-description`;return i.jsxs(ITe,{children:[i.jsx(MY,{}),i.jsx(_x,{ref:n,"aria-describedby":s,className:he("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:i.jsxs(xr,{children:[e,i.jsxs(jC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(j_,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})})]})});ir.displayName=_x.displayName;const xr=({className:t,...e})=>i.jsx("div",{className:he("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});xr.displayName="DialogHeader";const Sn=({className:t,...e})=>i.jsx("div",{className:he("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Sn.displayName="DialogFooter";const wr=v.forwardRef(({className:t,...e},r)=>i.jsx(Cx,{ref:r,className:he("text-lg font-semibold leading-none tracking-tight",t),...e}));wr.displayName=Cx.displayName;const Jn=v.forwardRef(({className:t,...e},r)=>i.jsx(Bx,{ref:r,className:he("text-sm text-muted-foreground",t),...e}));Jn.displayName=Bx.displayName;const M5=[{bank:"SeaBank",accountNumber:"901958730549",accountName:"Yoga Prasetya"},{bank:"DANA",accountNumber:"081394586882",accountName:"Yoga Prasetya"}],PTe=()=>{const{id:t}=cx(),e=Tt(),{toast:r}=Vi(),{user:n}=qr(),s=v.useRef(null),[a,o]=v.useState(null),[l,c]=v.useState(null),[u,A]=v.useState(!0),[d,h]=v.useState(null),[f,m]=v.useState(!1),[p,g]=v.useState(null),[y,x]=v.useState(!1),[b,j]=v.useState(null);v.useEffect(()=>{const S=async()=>{if(!(!n||!t))try{A(!0);const{data:I,error:T}=await J.from("orders").select(`
            *,
            order_items(*)
          `).eq("id",t).eq("user_id",n.id).single();if(T)throw T;let D=null;if(I.shipping_address_id&&I.shipping_address_id!=="undefined"){const{data:M,error:H}=await J.from("addresses").select("*").eq("id",I.shipping_address_id).single();H||(D={id:M.id,name:M.name,street:M.street,city:M.city,state:M.state,zip:M.zip,country:M.country,isDefault:M.is_default,user_id:M.user_id,created_at:M.created_at})}if(I.shipping_method_id){const{data:M,error:H}=await J.from("shipping_methods").select("*").eq("id",I.shipping_method_id).single();!H&&M&&g(M)}else{const{data:M,error:H}=await J.from("shipping_methods").select("*").limit(1).single();!H&&M&&g(M)}if(I){const M=I.order_items.map(R=>({id:R.id,productId:R.product_id,productName:R.product_name,quantity:R.quantity,price:R.price}));let H=I.payment_method;P(H)||(H="bank-transfer");let U=I.status;N(U)||(U="pending");const O={id:I.id,userId:I.user_id,date:I.date,status:U,paymentMethod:H,total:I.total,trackingNumber:I.tracking_number||"",items:M,shippingAddressId:I.shipping_address_id,shippingMethodId:I.shipping_method_id,voucher_id:I.voucher_id,discount_amount:I.discount_amount||0};if(o(O),c(D),I.voucher_id){const{data:R,error:Q}=await J.from("vouchers").select("*").eq("id",I.voucher_id).single();!Q&&R&&j({code:R.code,discount_type:R.discount_type})}if(O.paymentMethod==="bank-transfer"){const R=Math.floor(Math.random()*M5.length);h(M5[R])}}}catch(I){console.error("Error fetching order details:",I),r({title:"Error",description:"Gagal memuat detail pesanan",variant:"destructive"})}finally{A(!1)}},N=I=>["pending","processing","shipped","delivered","cancelled"].includes(I),P=I=>["bank-transfer","credit-card","cod","qris"].includes(I);S()},[t,n,r]);const C=S=>{switch(S){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-500";case"processing":return"bg-blue-100 text-blue-800 border-blue-500";case"shipped":return"bg-purple-100 text-purple-800 border-purple-500";case"delivered":return"bg-green-100 text-green-800 border-green-500";case"cancelled":return"bg-red-100 text-red-800 border-red-500";default:return"bg-gray-100 text-gray-800 border-gray-500"}},E=S=>{switch(S){case"pending":return"Menunggu Pembayaran";case"processing":return"Diproses";case"shipped":return"Dikirim";case"delivered":return"Terkirim";case"cancelled":return"Dibatalkan";default:return S.charAt(0).toUpperCase()+S.slice(1)}},_=async()=>{if(s.current)try{x(!0),f||(m(!0),await new Promise(M=>setTimeout(M,500)));const S=s.current,N=S.querySelector(".hidden-on-print");let P="";N&&(P=N.style.display,N.style.display="none"),await new Promise(M=>setTimeout(M,100));const I=await GF(S,{scale:2,backgroundColor:"#ffffff",logging:!1,useCORS:!0,allowTaint:!0});N&&(N.style.display=P);const T=I.toDataURL("image/png"),D=document.createElement("a");D.href=T,D.download=`Struk-Pesanan-${a==null?void 0:a.id.substring(0,8)}.png`,D.click(),r({title:"Struk Berhasil Disimpan",description:"Struk pesanan telah disimpan sebagai gambar",variant:"default"})}catch(S){console.error("Error saving receipt as image:",S),r({title:"Gagal Menyimpan Struk",description:"Terjadi kesalahan saat menyimpan struk sebagai gambar",variant:"destructive"})}finally{x(!1)}},B=()=>{s.current&&(m(!0),setTimeout(()=>{const S=s.current;if(!S)return;const N=window.open("","_blank");if(!N){r({title:"Gagal membuka jendela cetak",description:"Mohon izinkan popup untuk situs ini",variant:"destructive"});return}N.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Struk Pesanan #${a==null?void 0:a.id.substring(0,8)}</title>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1">
          <style>
            @page {
              size: 80mm 297mm; /* Standard thermal receipt size */
              margin: 0;
            }
            body {
              font-family: system-ui, -apple-system, sans-serif;
              font-size: 10px;
              line-height: 1.2;
              width: 76mm;
              margin: 2mm auto;
              padding: 0;
            }
            * {
              box-sizing: border-box;
            }
            .receipt-header { 
              text-align: center;
              margin-bottom: 8px;
            }
            .receipt-header h2 {
              font-size: 12px;
              margin: 0 0 4px 0;
            }
            .receipt-items {
              border-top: 1px dashed #ccc;
              border-bottom: 1px dashed #ccc;
              padding: 8px 0;
              margin: 8px 0;
            }
            .receipt-item {
              display: flex;
              justify-content: space-between;
              margin-bottom: 4px;
            }
            .receipt-total {
              font-weight: bold;
              display: flex;
              justify-content: space-between;
              margin-top: 8px;
            }
            .receipt-footer {
              text-align: center;
              margin-top: 12px;
              font-size: 9px;
            }
            .receipt-store-info {
              text-align: center;
              font-size: 9px;
              margin-bottom: 8px;
            }
            .receipt-border {
              border-top: 1px dashed #ccc;
              margin: 8px 0;
            }
            .receipt-payment-info {
              font-size: 9px;
              margin-top: 8px;
            }
            .receipt-customer-info {
              font-size: 9px;
              margin: 8px 0;
            }
            .receipt-barcode {
              text-align: center;
              margin-top: 12px;
              font-size: 9px;
              letter-spacing: 2px;
            }
            .receipt-thank-you {
              text-align: center;
              margin-top: 12px;
              font-weight: bold;
            }
            .print-button {
              display: block;
              width: 100%;
              background: #e63946;
              color: white;
              border: none;
              padding: 8px;
              font-size: 14px;
              font-weight: bold;
              border-radius: 4px;
              margin: 16px 0;
              cursor: pointer;
            }
            @media print {
              .print-button {
                display: none;
              }
            }
          </style>
        </head>
        <body>
          ${S.innerHTML}
          <button class="print-button" onclick="window.print(); setTimeout(() => window.close(), 500);">Cetak Struk</button>
        </body>
        </html>
      `),N.document.close(),N.focus()},500))};return u?i.jsx(Wt,{children:i.jsx("div",{className:"p-4 flex flex-col items-center justify-center min-h-[50vh]",children:i.jsx("p",{children:"Tunggu Sebentar..."})})}):a?i.jsxs(Wt,{children:[i.jsxs("div",{className:"flex items-center p-4 bg-background sticky top-0 z-10 border-b",children:[i.jsx(V,{variant:"ghost",size:"icon",onClick:()=>e("/"),className:"mr-2",children:i.jsx(Fi,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold",children:"Detail Pesanan"})]}),i.jsxs("div",{className:"container max-w-md mx-auto p-4 pb-20",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID Pesanan: ",a.id.substring(0,8),"..."]}),i.jsx(jt,{className:C(a.status),children:E(a.status)})]}),i.jsxs("div",{className:"text-sm text-muted-foreground mb-4",children:["Pesanan dibuat pada ",new Date(a.date).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})]}),a.trackingNumber&&i.jsxs("div",{className:"bg-secondary p-3 rounded-md flex items-center mb-4",children:[i.jsx(pk,{className:"h-5 w-5 mr-2 text-flame-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Nomor Resi"}),i.jsx("p",{className:"text-xs",children:a.trackingNumber})]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("h2",{className:"font-semibold",children:"Daftar Pesanan"}),i.jsxs(V,{size:"sm",variant:"outline",className:"flex items-center gap-1",onClick:B,children:[i.jsx(mk,{className:"h-4 w-4"}),i.jsx("span",{children:"Cetak Struk"})]})]}),i.jsx("div",{className:"space-y-3",children:a.items.map(S=>i.jsx(ye,{className:"overflow-hidden shadow-sm",children:i.jsx(xe,{className:"p-3",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"h-16 w-16 bg-charcoal-100 rounded flex-shrink-0 flex items-center justify-center",children:i.jsx(Bl,{className:"h-8 w-8 text-charcoal-400"})}),i.jsx("div",{className:"flex-grow",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{children:[i.jsx(st,{to:`/product/${S.productId}`,children:i.jsx("h3",{className:"font-medium text-sm line-clamp-2",children:S.productName})}),i.jsx("div",{className:"flex justify-between items-center mt-1",children:i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Jumlah: ",S.quantity,"  ",ge(S.price)]})})]}),i.jsx("div",{className:"text-right",children:i.jsx("div",{className:"font-medium",children:ge(S.price*S.quantity)})})]})})]})})},S.id))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"font-semibold mb-3",children:"Ringkasan Pesanan"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Subtotal"}),i.jsx("span",{children:ge(a.items.reduce((S,N)=>S+N.price*N.quantity,0))})]}),a.discount_amount>0&&i.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[i.jsxs("span",{children:["Diskon Voucher ",b!=null&&b.code?`(${b.code})`:""]}),i.jsxs("span",{children:["-",ge(a.discount_amount)]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{children:["Pengiriman (",p==null?void 0:p.name,")"]}),i.jsx("span",{children:ge((p==null?void 0:p.cost)||0)})]}),i.jsx(vs,{className:"my-2"}),i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("span",{children:"Total"}),i.jsx("span",{children:ge(a.total)})]})]})]}),l&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"font-semibold mb-3",children:"Alamat Pengiriman"}),i.jsx(ye,{children:i.jsxs(xe,{className:"p-3",children:[i.jsx("p",{className:"font-medium",children:l.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:l.street}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.city,", ",l.state," ",l.zip]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:l.country})]})})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"font-semibold mb-3",children:"Metode Pembayaran"}),i.jsx(ye,{children:i.jsxs(xe,{className:"p-3 flex items-center",children:[a.paymentMethod==="bank-transfer"&&i.jsxs(i.Fragment,{children:[i.jsx(YK,{className:"h-5 w-5 mr-3 text-flame-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Transfer Bank"}),d&&i.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.bank," - ",d.accountNumber]})]})]}),a.paymentMethod==="credit-card"&&i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"h-5 w-5 mr-3 text-flame-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[i.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",strokeWidth:"2"}),i.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10",strokeWidth:"2"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Kartu Kredit"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"**** **** **** 1234"})]})]}),a.paymentMethod==="cod"&&i.jsxs(i.Fragment,{children:[i.jsx(pk,{className:"h-5 w-5 mr-3 text-flame-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Bayar di Tempat (COD)"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Pembayaran saat barang diterima"})]})]}),a.paymentMethod==="qris"&&i.jsxs(i.Fragment,{children:[i.jsx(WP,{className:"h-5 w-5 mr-3 text-flame-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"QRIS"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Pembayaran menggunakan QRIS"})]})]})]})})]}),i.jsx("div",{className:"flex space-x-3 mb-6",children:i.jsxs(V,{onClick:()=>m(!0),className:"flex-1",children:[i.jsx(mk,{className:"mr-2 h-4 w-4"}),"Lihat Struk"]})}),i.jsx(fr,{open:f,onOpenChange:m,children:i.jsxs(ir,{className:"max-w-md",children:[i.jsx(xr,{children:i.jsx(wr,{children:"Struk Pesanan"})}),i.jsxs("div",{ref:s,className:"receipt-container",children:[i.jsxs("div",{className:"receipt-header",children:[i.jsx("h2",{className:"receipt-title",children:"Struk Belanja"}),i.jsxs("div",{className:"receipt-store-info",children:[i.jsx("p",{className:"receipt-store-name",children:i.jsx("strong",{children:"Jaya Perkasa Charcoal"})}),i.jsx("p",{children:"Jl.legok conggeang kec.paseh , sumedang"}),i.jsx("p",{children:"Telp: 0813-9458-6882"})]}),i.jsx("div",{className:"receipt-border"}),i.jsx("p",{className:"mt-3 mb-1",children:i.jsxs("strong",{children:["Pesanan #",a.id.substring(0,8)]})}),i.jsx("p",{children:new Date(a.date).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),l&&i.jsxs("div",{className:"receipt-customer-info",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Dikirim Ke:"})," ",l.name]}),i.jsx("p",{children:l.street}),i.jsx("p",{children:`${l.city}, ${l.state} ${l.zip}`})]}),i.jsx("div",{className:"receipt-border"}),i.jsx("div",{className:"receipt-items",children:a.items.map((S,N)=>i.jsxs("div",{className:"receipt-item",children:[i.jsxs("div",{children:[i.jsx("p",{children:S.productName}),i.jsxs("p",{children:["Jml: ",S.quantity,"  ",ge(S.price)]})]}),i.jsx("span",{children:ge(S.quantity*S.price)})]},N))}),i.jsx("div",{className:"receipt-border"}),i.jsxs("div",{children:[i.jsxs("div",{className:"receipt-item",children:[i.jsx("span",{children:"Subtotal"}),i.jsx("span",{children:ge(a.items.reduce((S,N)=>S+N.price*N.quantity,0))})]}),a.discount_amount>0&&i.jsxs("div",{className:"receipt-item",style:{color:"#22c55e"},children:[i.jsxs("span",{children:["Diskon Voucher ",b!=null&&b.code?`(${b.code})`:""]}),i.jsxs("span",{children:["-",ge(a.discount_amount)]})]}),p&&i.jsxs("div",{className:"receipt-item",children:[i.jsxs("span",{children:["Pengiriman (",p.name,")"]}),i.jsx("span",{children:ge(p.cost)})]}),i.jsxs("div",{className:"receipt-total",children:[i.jsx("span",{children:"Total"}),i.jsx("span",{children:ge(a.total)})]})]}),i.jsxs("div",{className:"receipt-payment-info",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Metode Pembayaran:"})," ",a.paymentMethod==="bank-transfer"?"Transfer Bank":a.paymentMethod==="qris"?"QRIS":a.paymentMethod==="cod"?"Bayar di Tempat (COD)":"Pembayaran Standar"]}),a.paymentMethod==="bank-transfer"&&d&&i.jsxs("p",{children:["Bank: ",d.bank," - ",d.accountNumber]})]}),i.jsx("div",{className:"receipt-barcode",children:i.jsxs("p",{children:["*******",a.id.substring(0,8),"*******"]})}),i.jsx("div",{className:"receipt-thank-you",children:i.jsx("p",{children:"Jika ingin mendapatkan harga murah atau diskon segera hubungi admin"})}),i.jsxs("div",{className:"receipt-footer",children:[i.jsx("p",{children:"Layanan pelanggan: 0813-9458-6882"}),i.jsx("p",{children:"Jika Arang Belum Di Kirim Silahkan Chat Admin Dan Berikan Struk Bukti Pembayaran"}),i.jsx("p",{children:"Terima kasih"})]}),i.jsxs("div",{className:"mt-4 hidden-on-print space-y-2",children:[i.jsx(V,{onClick:()=>window.print(),className:"w-full",children:"Cetak Struk"}),i.jsx(V,{onClick:_,className:"w-full bg-green-600 hover:bg-green-700",disabled:y,children:y?i.jsxs(i.Fragment,{children:[i.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):i.jsxs(i.Fragment,{children:[i.jsx(qc,{className:"mr-2 h-4 w-4"}),"Simpan Sebagai Gambar"]})})]})]})]})})]})]}):i.jsx(Wt,{children:i.jsxs("div",{className:"p-4 flex flex-col items-center justify-center min-h-[50vh]",children:[i.jsx("p",{className:"text-muted-foreground",children:"Pesanan tidak ditemukan"}),i.jsx(V,{onClick:()=>e("/"),className:"mt-4 bg-flame-500 hover:bg-flame-600",children:"Kembali ke Beranda"})]})})};function OTe(){const{user:t}=qr(),[e,r]=v.useState([]),[n,s]=v.useState(!0);v.useEffect(()=>{async function c(){if(t){s(!0);try{const{data:u,error:A}=await J.from("orders").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(A)throw A;r(u||[])}catch(u){console.error("Error fetching orders:",u)}finally{s(!1)}}}c()},[t]);const a=c=>new Date(c).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),o=c=>{switch(c.toLowerCase()){case"pending":return i.jsx(jt,{variant:"outline",className:"bg-amber-100 text-amber-800 hover:bg-amber-100",children:"Menunggu Pembayaran"});case"processing":return i.jsx(jt,{variant:"outline",className:"bg-blue-100 text-blue-800 hover:bg-blue-100",children:"Diproses"});case"shipped":return i.jsx(jt,{variant:"outline",className:"bg-indigo-100 text-indigo-800 hover:bg-indigo-100",children:"Dikirim"});case"delivered":return i.jsx(jt,{variant:"outline",className:"bg-green-100 text-green-800 hover:bg-green-100",children:"Diterima"});case"canceled":return i.jsx(jt,{variant:"outline",className:"bg-red-100 text-red-800 hover:bg-red-100",children:"Dibatalkan"});case"completed":return i.jsx(jt,{variant:"outline",className:"bg-emerald-100 text-emerald-800 hover:bg-emerald-100",children:"Selesai"});default:return i.jsx(jt,{variant:"outline",children:c})}},l=c=>{switch(c){case"bank-transfer":return"Transfer Bank";case"cash-on-delivery":return"Bayar di Tempat (COD)";case"e-wallet":return"E-Wallet";case"credit-card":return"Kartu Kredit";default:return c}};return i.jsxs(Wt,{children:[i.jsxs("div",{className:"p-4 flex items-center shadow-sm mb-2",children:[i.jsx(st,{to:"/",className:"text-charcoal-600 mr-2",children:i.jsx(Fi,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-xl font-bold flex-1",children:"Daftar Pesanan"})]}),i.jsx("div",{className:"p-4",children:n?i.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[i.jsx(zt,{className:"h-8 w-8 animate-spin text-flame-500 mb-2"}),i.jsx("p",{className:"text-muted-foreground",children:"Memuat daftar pesanan..."})]}):e.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[i.jsx(Bl,{className:"h-16 w-16 text-muted-foreground mb-4"}),i.jsx("h2",{className:"text-lg font-medium mb-2",children:"Belum Ada Pesanan"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Anda belum memiliki pesanan. Mulailah berbelanja untuk melihat pesanan Anda di sini."}),i.jsx(V,{asChild:!0,className:"bg-flame-500 hover:bg-flame-600",children:i.jsx(st,{to:"/",children:"Mulai Belanja"})})]}):i.jsx("div",{className:"space-y-4",children:e.map(c=>i.jsx(st,{to:`/order/${c.id}`,children:i.jsx(ye,{className:"hover:border-flame-200 transition-colors",children:i.jsxs(xe,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Bl,{className:"h-5 w-5 text-flame-500 mr-2"}),i.jsxs("span",{className:"font-medium",children:["#",c.id.substring(0,8)]})]}),o(c.status)]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"text-sm text-muted-foreground flex items-center",children:[i.jsx(ZK,{className:"h-4 w-4 mr-1"}),"Tanggal"]}),i.jsx("div",{className:"text-sm",children:a(c.created_at)})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Metode Pembayaran"}),i.jsx("div",{className:"text-sm",children:l(c.payment_method)})]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:c.payment_status==="paid"?"Sudah Dibayar":"Menunggu Pembayaran"}),i.jsx("div",{className:"font-medium text-flame-700",children:ge(c.total)})]})]})})},c.id))})})]})}const FTe=hn.object({email:hn.string().email({message:"Silakan masukkan alamat email yang valid"}),password:hn.string().min(1,{message:"Kata sandi wajib diisi"})}),DTe=hn.object({email:hn.string().email({message:"Silakan masukkan alamat email yang valid"})}),RTe=()=>{const t=Tt(),{toast:e}=Vi(),[r,n]=v.useState(!1),[s,a]=v.useState(!1),[o,l]=v.useState(!1),c=Is({resolver:Ps(FTe),defaultValues:{email:"",password:""}}),u=Is({resolver:Ps(DTe),defaultValues:{email:""}}),A=async h=>{a(!0);try{const{error:f}=await J.auth.resetPasswordForEmail(h.email,{redirectTo:`${window.location.origin}/reset-password`});if(f)throw f;e({title:"Email reset password telah dikirim",description:"Silakan periksa email Anda untuk melanjutkan proses reset password."}),l(!1)}catch(f){e({title:"Gagal mengirimkan reset password",description:f.message||"Terjadi kesalahan. Silakan coba lagi.",variant:"destructive"})}finally{a(!1)}},d=async h=>{n(!0);try{const{error:f}=await J.auth.signInWithPassword({email:h.email,password:h.password});if(f)throw f;e({title:"Login berhasil",description:"Anda telah berhasil masuk."}),t("/")}catch(f){console.error("Login error:",f),e({title:"Login gagal",description:f.message||"Silakan periksa kredensial Anda.",variant:"destructive"})}finally{n(!1)}};return i.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 bg-background",children:[i.jsxs("div",{className:"w-full max-w-md space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Selamat Datang Kembali"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Masuk ke akun Anda"})]}),i.jsx(ys,{...c,children:i.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-4",children:[i.jsx($e,{control:c.control,name:"email",render:({field:h})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Email"}),i.jsx(Le,{children:i.jsx(ce,{type:"email",placeholder:"namaemailmu@email.com",...h})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:c.control,name:"password",render:({field:h})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Kata Sandi"}),i.jsx(Le,{children:i.jsx(ce,{type:"password",placeholder:"",...h})}),i.jsx(Ke,{})]})}),i.jsx("div",{className:"text-right",children:i.jsx("button",{type:"button",onClick:()=>l(!0),className:"text-sm text-flame-500 hover:underline",children:"Lupa Password?"})}),i.jsx(V,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:r,children:r?i.jsxs(i.Fragment,{children:[i.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Sedang masuk..."]}):"Masuk"})]})}),i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Belum memiliki akun?"," ",i.jsx(st,{to:"/register",className:"text-flame-500 hover:underline",children:"Daftar"})]})})]}),i.jsx(fr,{open:o,onOpenChange:l,children:i.jsxs(ir,{className:"sm:max-w-md",children:[i.jsxs(xr,{children:[i.jsx(wr,{children:"Reset Password"}),i.jsx(Jn,{children:"Masukkan alamat email Anda dan kami akan mengirimkan link untuk reset password."})]}),i.jsx(ys,{...u,children:i.jsxs("form",{onSubmit:u.handleSubmit(A),className:"space-y-4 py-4",children:[i.jsx($e,{control:u.control,name:"email",render:({field:h})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Email"}),i.jsx(Le,{children:i.jsx(ce,{type:"email",placeholder:"namaemailmu@email.com",autoComplete:"email",...h})}),i.jsx(Ke,{})]})}),i.jsxs(Sn,{className:"sm:justify-between mt-4",children:[i.jsx(V,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Batal"}),i.jsx(V,{type:"submit",className:"bg-flame-500 hover:bg-flame-600",disabled:s,children:s?i.jsxs(i.Fragment,{children:[i.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Kirim Link Reset"})]})]})})]})})]})},QY=t=>{let e=t.replace(/\D/g,"");return e.startsWith("0")&&(e="62"+e.substring(1)),e.startsWith("62")||(e="62"+e),e},UTe=hn.object({name:hn.string().min(2,{message:"Nama harus minimal 2 karakter"}),email:hn.string().email({message:"Silakan masukkan alamat email yang valid"}),whatsapp:hn.string().min(10,{message:"Nomor WhatsApp tidak valid"}).max(15,{message:"Nomor WhatsApp tidak valid"}).regex(/^(62|0)[0-9]{9,13}$/,{message:"Format nomor WhatsApp harus diawali 62/0 (contoh: 6281234567890 atau 081234567890)"}),password:hn.string().min(8,{message:"Kata sandi harus minimal 8 karakter"}),confirmPassword:hn.string()}).refine(t=>t.password===t.confirmPassword,{message:"Kata sandi tidak cocok",path:["confirmPassword"]}),MTe=()=>{const t=Tt(),{toast:e}=Vi(),{register:r}=qr(),[n,s]=v.useState(!1),a=Is({resolver:Ps(UTe),defaultValues:{name:"",email:"",whatsapp:"",password:"",confirmPassword:""}}),o=async l=>{var c;s(!0);try{const u=QY(l.whatsapp);await r(l.name,l.email,l.password);const{data:A,error:d}=await J.auth.getSession();if(d)throw d;if((c=A==null?void 0:A.session)!=null&&c.user){const{error:h}=await J.from("profiles").update({phone:u}).eq("id",A.session.user.id);h&&(console.error("Error saving WhatsApp number to profile:",h),e({variant:"destructive",title:"Terjadi kesalahan",description:"Gagal menyimpan nomor WhatsApp. Silakan update di halaman profil."}))}e({title:"Pendaftaran berhasil",description:"Akun Anda telah dibuat. Silakan periksa email Anda untuk verifikasi akun."}),t("/")}catch(u){console.error("Registration error:",u),e({title:"Pendaftaran gagal",description:u.message||"Terjadi kesalahan saat pendaftaran.",variant:"destructive"})}finally{s(!1)}};return i.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-background",children:i.jsxs("div",{className:"w-full max-w-md space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Buat Akun"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Daftar untuk mulai menggunakan layanan kami"})]}),i.jsx(ys,{...a,children:i.jsxs("form",{onSubmit:a.handleSubmit(o),className:"space-y-4",children:[i.jsx($e,{control:a.control,name:"name",render:({field:l})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Nama"}),i.jsx(Le,{children:i.jsx(ce,{placeholder:"Nama Anda",...l})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:a.control,name:"email",render:({field:l})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Email"}),i.jsx(Le,{children:i.jsx(ce,{type:"email",placeholder:"namaemailkamu@email.com",...l})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:a.control,name:"whatsapp",render:({field:l})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Nomor WhatsApp"}),i.jsx(Le,{children:i.jsx(ce,{type:"tel",placeholder:"6281234567890 atau 081234567890",...l})}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Format: Diawali dengan 62 atau 0, contoh: 6281234567890 atau 081234567890"}),i.jsx(Ke,{})]})}),i.jsx($e,{control:a.control,name:"password",render:({field:l})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Kata Sandi"}),i.jsx(Le,{children:i.jsx(ce,{type:"password",placeholder:"",...l})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:a.control,name:"confirmPassword",render:({field:l})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Konfirmasi Kata Sandi"}),i.jsx(Le,{children:i.jsx(ce,{type:"password",placeholder:"",...l})}),i.jsx(Ke,{})]})}),i.jsx(V,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:n,children:n?"Mendaftar...":"Daftar"})]})}),i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Sudah memiliki akun?"," ",i.jsx(st,{to:"/login",className:"text-flame-500 hover:underline",children:"Masuk"})]})})]})})},QTe=hn.object({email:hn.string().email({message:"Please enter a valid email address"}),password:hn.string().min(1,{message:"Password is required"})}),LTe=()=>{const t=Tt(),{toast:e}=Vi(),{user:r,profile:n}=qr(),[s,a]=v.useState(!1);v.useEffect(()=>{r&&n&&(n.role==="admin"||n.role==="manager")&&t("/admin")},[r,n,t]);const o=Is({resolver:Ps(QTe),defaultValues:{email:"",password:""}}),l=async c=>{a(!0);try{const{error:u}=await J.auth.signInWithPassword({email:c.email,password:c.password});if(u)throw u;e({title:"Login successful",description:"You are now logged in."})}catch(u){console.error("Login error:",u),e({title:"Login failed",description:u.message||"Invalid email or password.",variant:"destructive"})}finally{a(!1)}};return i.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-background",children:i.jsxs("div",{className:"w-full max-w-md space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Admin Login"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Log in to access the admin panel"})]}),i.jsx(ys,{...o,children:i.jsxs("form",{onSubmit:o.handleSubmit(l),className:"space-y-4",children:[i.jsx($e,{control:o.control,name:"email",render:({field:c})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Email"}),i.jsx(Le,{children:i.jsx(ce,{type:"email",placeholder:"Your email",...c})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:o.control,name:"password",render:({field:c})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Password"}),i.jsx(Le,{children:i.jsx(ce,{type:"password",placeholder:"Your password",...c})}),i.jsx(Ke,{})]})}),i.jsx(V,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:s,children:s?"Logging in...":"Login"})]})})]})})},$Te=hn.object({name:hn.string().min(2,{message:"Name must be at least 2 characters"}),email:hn.string().email({message:"Please enter a valid email address"}),password:hn.string().min(8,{message:"Password must be at least 8 characters"}),role:hn.enum(["admin","manager"],{required_error:"Please select a role"})}),HTe=()=>{const t=Tt(),{toast:e}=Vi(),[r,n]=v.useState(!1),s=Is({resolver:Ps($Te),defaultValues:{name:"",email:"",password:"",role:"manager"}}),a=async o=>{n(!0);try{const{error:l,data:c}=await J.auth.signUp({email:o.email,password:o.password,options:{data:{name:o.name,role:o.role}}});if(l)throw l;if(c.user){const{error:u}=await J.from("profiles").upsert({id:c.user.id,name:o.name,email:o.email,role:o.role});if(u)throw u}e({title:"Registration successful",description:"Your account has been created and you are now logged in."}),t("/admin")}catch(l){console.error("Registration error:",l),e({title:"Registration failed",description:l.message||"An error occurred during registration.",variant:"destructive"})}finally{n(!1)}};return i.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-background",children:i.jsxs("div",{className:"w-full max-w-md space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Admin Registration"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Create an admin or manager account"})]}),i.jsx(ys,{...s,children:i.jsxs("form",{onSubmit:s.handleSubmit(a),className:"space-y-4",children:[i.jsx($e,{control:s.control,name:"name",render:({field:o})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Name"}),i.jsx(Le,{children:i.jsx(ce,{placeholder:"Your name",...o})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:s.control,name:"email",render:({field:o})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Email"}),i.jsx(Le,{children:i.jsx(ce,{type:"email",placeholder:"Your email",...o})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:s.control,name:"password",render:({field:o})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Password"}),i.jsx(Le,{children:i.jsx(ce,{type:"password",placeholder:"Your password",...o})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:s.control,name:"role",render:({field:o})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Role"}),i.jsxs(us,{onValueChange:o.onChange,defaultValue:o.value,children:[i.jsx(Le,{children:i.jsx(Ln,{children:i.jsx(As,{placeholder:"Select a role"})})}),i.jsxs($n,{children:[i.jsx(vt,{value:"admin",children:"Admin"}),i.jsx(vt,{value:"manager",children:"Manager"})]})]}),i.jsx(Ke,{})]})}),i.jsx(V,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:r,children:r?"Registering...":"Register"})]})}),i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",i.jsx(st,{to:"/admin-login",className:"text-flame-500 hover:underline",children:"Login"})]})})]})})};function tr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ol(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function VTe(t,e){const r=tr(t);return isNaN(e)?Ol(t,NaN):(r.setDate(r.getDate()+e),r)}const LY=6048e5,KTe=864e5,pw=43200,Q5=1440;let zTe={};function Tx(){return zTe}function gd(t,e){var l,c,u,A;const r=Tx(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((A=(u=r.locale)==null?void 0:u.options)==null?void 0:A.weekStartsOn)??0,s=tr(t),a=s.getDay(),o=(a<n?7:0)+a-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function J1(t){return gd(t,{weekStartsOn:1})}function $Y(t){const e=tr(t),r=e.getFullYear(),n=Ol(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=J1(n),a=Ol(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=J1(a);return e.getTime()>=s.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function Y1(t){const e=tr(t);return e.setHours(0,0,0,0),e}function Z1(t){const e=tr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function GTe(t,e){const r=Y1(t),n=Y1(e),s=+r-Z1(r),a=+n-Z1(n);return Math.round((s-a)/KTe)}function WTe(t){const e=$Y(t),r=Ol(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),J1(r)}function vb(t,e){const r=tr(t),n=tr(e),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function Ix(t){return Ol(t,Date.now())}function HY(t,e){const r=Y1(t),n=Y1(e);return+r==+n}function qTe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function XTe(t){if(!qTe(t)&&typeof t!="number")return!1;const e=tr(t);return!isNaN(Number(e))}function JTe(t,e){const r=tr(t),n=tr(e),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return s*12+a}function YTe(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function ZTe(t,e){return+tr(t)-+tr(e)}function e2e(t){const e=tr(t);return e.setHours(23,59,59,999),e}function t2e(t){const e=tr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function r2e(t){const e=tr(t);return+e2e(e)==+t2e(e)}function n2e(t,e){const r=tr(t),n=tr(e),s=vb(r,n),a=Math.abs(JTe(r,n));let o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*a);let l=vb(r,n)===-s;r2e(tr(t))&&a===1&&vb(t,n)===1&&(l=!1),o=s*(a-Number(l))}return o===0?0:o}function s2e(t,e,r){const n=ZTe(t,e)/1e3;return YTe(r==null?void 0:r.roundingMethod)(n)}function a2e(t){const e=tr(t),r=Ol(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const i2e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},o2e=(t,e,r)=>{let n;const s=i2e[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function qh(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const l2e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},c2e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},u2e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},A2e={date:qh({formats:l2e,defaultWidth:"full"}),time:qh({formats:c2e,defaultWidth:"full"}),dateTime:qh({formats:u2e,defaultWidth:"full"})},d2e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},h2e=(t,e,r,n)=>d2e[t];function ho(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return s[a]}}const f2e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},m2e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},p2e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},g2e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},v2e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},y2e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},x2e=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},w2e={ordinalNumber:x2e,era:ho({values:f2e,defaultWidth:"wide"}),quarter:ho({values:m2e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ho({values:p2e,defaultWidth:"wide"}),day:ho({values:g2e,defaultWidth:"wide"}),dayPeriod:ho({values:v2e,defaultWidth:"wide",formattingValues:y2e,defaultFormattingWidth:"wide"})};function fo(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(s);if(!a)return null;const o=a[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?j2e(l,d=>d.test(o)):b2e(l,d=>d.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const A=e.slice(o.length);return{value:u,rest:A}}}function b2e(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function j2e(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function VY(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(s.length);return{value:o,rest:l}}}const _2e=/^(\d+)(th|st|nd|rd)?/i,C2e=/\d+/i,B2e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},E2e={any:[/^b/i,/^(a|c)/i]},S2e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},N2e={any:[/1/i,/2/i,/3/i,/4/i]},k2e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},T2e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},I2e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},P2e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},O2e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},F2e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},D2e={ordinalNumber:VY({matchPattern:_2e,parsePattern:C2e,valueCallback:t=>parseInt(t,10)}),era:fo({matchPatterns:B2e,defaultMatchWidth:"wide",parsePatterns:E2e,defaultParseWidth:"any"}),quarter:fo({matchPatterns:S2e,defaultMatchWidth:"wide",parsePatterns:N2e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:fo({matchPatterns:k2e,defaultMatchWidth:"wide",parsePatterns:T2e,defaultParseWidth:"any"}),day:fo({matchPatterns:I2e,defaultMatchWidth:"wide",parsePatterns:P2e,defaultParseWidth:"any"}),dayPeriod:fo({matchPatterns:O2e,defaultMatchWidth:"any",parsePatterns:F2e,defaultParseWidth:"any"})},KY={code:"en-US",formatDistance:o2e,formatLong:A2e,formatRelative:h2e,localize:w2e,match:D2e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function R2e(t){const e=tr(t);return GTe(e,a2e(e))+1}function U2e(t){const e=tr(t),r=+J1(e)-+WTe(e);return Math.round(r/LY)+1}function zY(t,e){var A,d,h,f;const r=tr(t),n=r.getFullYear(),s=Tx(),a=(e==null?void 0:e.firstWeekContainsDate)??((d=(A=e==null?void 0:e.locale)==null?void 0:A.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((f=(h=s.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=Ol(t,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=gd(o,e),c=Ol(t,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=gd(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function M2e(t,e){var l,c,u,A;const r=Tx(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((A=(u=r.locale)==null?void 0:u.options)==null?void 0:A.firstWeekContainsDate)??1,s=zY(t,e),a=Ol(t,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),gd(a,e)}function Q2e(t,e){const r=tr(t),n=+gd(r,e)-+M2e(r,e);return Math.round(n/LY)+1}function sr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const sc={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return sr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):sr(r+1,2)},d(t,e){return sr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return sr(t.getHours()%12||12,e.length)},H(t,e){return sr(t.getHours(),e.length)},m(t,e){return sr(t.getMinutes(),e.length)},s(t,e){return sr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return sr(s,e.length)}},sh={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},L5={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return sc.y(t,e)},Y:function(t,e,r,n){const s=zY(t,n),a=s>0?s:1-s;if(e==="YY"){const o=a%100;return sr(o,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):sr(a,e.length)},R:function(t,e){const r=$Y(t);return sr(r,e.length)},u:function(t,e){const r=t.getFullYear();return sr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return sr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return sr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return sc.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return sr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=Q2e(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):sr(s,e.length)},I:function(t,e,r){const n=U2e(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):sr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):sc.d(t,e)},D:function(t,e,r){const n=R2e(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):sr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return sr(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return sr(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return sr(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=sh.noon:n===0?s=sh.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=sh.evening:n>=12?s=sh.afternoon:n>=4?s=sh.morning:s=sh.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return sc.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):sc.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):sr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):sr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):sc.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):sc.s(t,e)},S:function(t,e){return sc.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return H5(n);case"XXXX":case"XX":return cA(n);case"XXXXX":case"XXX":default:return cA(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return H5(n);case"xxxx":case"xx":return cA(n);case"xxxxx":case"xxx":default:return cA(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+$5(n,":");case"OOOO":default:return"GMT"+cA(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+$5(n,":");case"zzzz":default:return"GMT"+cA(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return sr(n,e.length)},T:function(t,e,r){const n=t.getTime();return sr(n,e.length)}};function $5(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+e+sr(a,2)}function H5(t,e){return t%60===0?(t>0?"-":"+")+sr(Math.abs(t)/60,2):cA(t,e)}function cA(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=sr(Math.trunc(n/60),2),a=sr(n%60,2);return r+s+e+a}const V5=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},GY=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},L2e=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return V5(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",V5(n,e)).replace("{{time}}",GY(s,e))},$2e={p:GY,P:L2e},H2e=/^D+$/,V2e=/^Y+$/,K2e=["D","DD","YY","YYYY"];function z2e(t){return H2e.test(t)}function G2e(t){return V2e.test(t)}function W2e(t,e,r){const n=q2e(t,e,r);if(console.warn(n),K2e.includes(t))throw new RangeError(n)}function q2e(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const X2e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,J2e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Y2e=/^'([^]*?)'?$/,Z2e=/''/g,eIe=/[a-zA-Z]/;function Bn(t,e,r){var A,d,h,f,m,p,g,y;const n=Tx(),s=(r==null?void 0:r.locale)??n.locale??KY,a=(r==null?void 0:r.firstWeekContainsDate)??((d=(A=r==null?void 0:r.locale)==null?void 0:A.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(h=n.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((p=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,l=tr(t);if(!XTe(l))throw new RangeError("Invalid time value");let c=e.match(J2e).map(x=>{const b=x[0];if(b==="p"||b==="P"){const j=$2e[b];return j(x,s.formatLong)}return x}).join("").match(X2e).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:tIe(x)};if(L5[b])return{isToken:!0,value:x};if(b.match(eIe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const b=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&G2e(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&z2e(b))&&W2e(b,e,String(t));const j=L5[b[0]];return j(l,b,s.localize,u)}).join("")}function tIe(t){const e=t.match(Y2e);return e?e[1].replace(Z2e,"'"):t}function rIe(t,e,r){const n=Tx(),s=(r==null?void 0:r.locale)??n.locale??KY,a=2520,o=vb(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=tr(e),u=tr(t)):(c=tr(t),u=tr(e));const A=s2e(u,c),d=(Z1(u)-Z1(c))/1e3,h=Math.round((A-d)/60);let f;if(h<2)return r!=null&&r.includeSeconds?A<5?s.formatDistance("lessThanXSeconds",5,l):A<10?s.formatDistance("lessThanXSeconds",10,l):A<20?s.formatDistance("lessThanXSeconds",20,l):A<40?s.formatDistance("halfAMinute",0,l):A<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<Q5){const m=Math.round(h/60);return s.formatDistance("aboutXHours",m,l)}else{if(h<a)return s.formatDistance("xDays",1,l);if(h<pw){const m=Math.round(h/Q5);return s.formatDistance("xDays",m,l)}else if(h<pw*2)return f=Math.round(h/pw),s.formatDistance("aboutXMonths",f,l)}if(f=n2e(u,c),f<12){const m=Math.round(h/pw);return s.formatDistance("xMonths",m,l)}else{const m=f%12,p=Math.trunc(f/12);return m<3?s.formatDistance("aboutXYears",p,l):m<9?s.formatDistance("overXYears",p,l):s.formatDistance("almostXYears",p+1,l)}}function nIe(t,e){return rIe(t,Ix(t),e)}function sIe(t,e,r){const n=gd(t,r),s=gd(e,r);return+n==+s}function aIe(t,e){const r=tr(t),n=tr(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function iIe(t){return aIe(t,Ix(t))}function oIe(t,e){return sIe(t,Ix(t),e)}function lIe(t){return HY(t,Ix(t))}function cIe(t,e){return VTe(t,-e)}function uIe(t){return HY(t,cIe(Ix(t),1))}const AIe={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXWeeks:{one:"sekitar 1 minggu",other:"sekitar {{count}} minggu"},xWeeks:{one:"1 minggu",other:"{{count}} minggu"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}},dIe=(t,e,r)=>{let n;const s=AIe[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dalam waktu "+n:n+" yang lalu":n},hIe={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"d/M/yyyy"},fIe={full:"HH.mm.ss",long:"HH.mm.ss",medium:"HH.mm",short:"HH.mm"},mIe={full:"{{date}} 'pukul' {{time}}",long:"{{date}} 'pukul' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pIe={date:qh({formats:hIe,defaultWidth:"full"}),time:qh({formats:fIe,defaultWidth:"full"}),dateTime:qh({formats:mIe,defaultWidth:"full"})},gIe={lastWeek:"eeee 'lalu pukul' p",yesterday:"'Kemarin pukul' p",today:"'Hari ini pukul' p",tomorrow:"'Besok pukul' p",nextWeek:"eeee 'pukul' p",other:"P"},vIe=(t,e,r,n)=>gIe[t],yIe={narrow:["SM","M"],abbreviated:["SM","M"],wide:["Sebelum Masehi","Masehi"]},xIe={narrow:["1","2","3","4"],abbreviated:["K1","K2","K3","K4"],wide:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"]},wIe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],wide:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},bIe={narrow:["M","S","S","R","K","J","S"],short:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],abbreviated:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],wide:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},jIe={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},_Ie={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},CIe=(t,e)=>"ke-"+Number(t),BIe={ordinalNumber:CIe,era:ho({values:yIe,defaultWidth:"wide"}),quarter:ho({values:xIe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ho({values:wIe,defaultWidth:"wide"}),day:ho({values:bIe,defaultWidth:"wide"}),dayPeriod:ho({values:jIe,defaultWidth:"wide",formattingValues:_Ie,defaultFormattingWidth:"wide"})},EIe=/^ke-(\d+)?/i,SIe=/\d+/i,NIe={narrow:/^(sm|m)/i,abbreviated:/^(s\.?\s?m\.?|s\.?\s?e\.?\s?u\.?|m\.?|e\.?\s?u\.?)/i,wide:/^(sebelum masehi|sebelum era umum|masehi|era umum)/i},kIe={any:[/^s/i,/^(m|e)/i]},TIe={narrow:/^[1234]/i,abbreviated:/^K-?\s[1234]/i,wide:/^Kuartal ke-?\s?[1234]/i},IIe={any:[/1/i,/2/i,/3/i,/4/i]},PIe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|mei|jun|jul|agt|sep|okt|nov|des)/i,wide:/^(januari|februari|maret|april|mei|juni|juli|agustus|september|oktober|november|desember)/i},OIe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^ma/i,/^ap/i,/^me/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},FIe={narrow:/^[srkjm]/i,short:/^(min|sen|sel|rab|kam|jum|sab)/i,abbreviated:/^(min|sen|sel|rab|kam|jum|sab)/i,wide:/^(minggu|senin|selasa|rabu|kamis|jumat|sabtu)/i},DIe={narrow:[/^m/i,/^s/i,/^s/i,/^r/i,/^k/i,/^j/i,/^s/i],any:[/^m/i,/^sen/i,/^sel/i,/^r/i,/^k/i,/^j/i,/^sa/i]},RIe={narrow:/^(a|p|tengah m|tengah h|(di(\swaktu)?) (pagi|siang|sore|malam))/i,any:/^([ap]\.?\s?m\.?|tengah malam|tengah hari|(di(\swaktu)?) (pagi|siang|sore|malam))/i},UIe={any:{am:/^a/i,pm:/^pm/i,midnight:/^tengah m/i,noon:/^tengah h/i,morning:/pagi/i,afternoon:/siang/i,evening:/sore/i,night:/malam/i}},MIe={ordinalNumber:VY({matchPattern:EIe,parsePattern:SIe,valueCallback:t=>parseInt(t,10)}),era:fo({matchPatterns:NIe,defaultMatchWidth:"wide",parsePatterns:kIe,defaultParseWidth:"any"}),quarter:fo({matchPatterns:TIe,defaultMatchWidth:"wide",parsePatterns:IIe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:fo({matchPatterns:PIe,defaultMatchWidth:"wide",parsePatterns:OIe,defaultParseWidth:"any"}),day:fo({matchPatterns:FIe,defaultMatchWidth:"wide",parsePatterns:DIe,defaultParseWidth:"any"}),dayPeriod:fo({matchPatterns:RIe,defaultMatchWidth:"any",parsePatterns:UIe,defaultParseWidth:"any"})},Ya={code:"id",formatDistance:dIe,formatLong:pIe,formatRelative:vIe,localize:BIe,match:MIe,options:{weekStartsOn:1,firstWeekContainsDate:1}};function QIe({content:t,timestamp:e,isAdmin:r,senderName:n,orderInfo:s}){const{profile:a}=qr(),o=(a==null?void 0:a.role)==="admin"?r:!r;return i.jsx("div",{className:he("flex mb-4",o?"justify-end":"justify-start"),children:i.jsxs("div",{className:he("max-w-[75%] rounded-lg px-4 py-2 shadow-sm",o?"bg-flame-500 text-white rounded-br-none":"bg-white text-charcoal-800 border rounded-bl-none"),children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:he("text-xs font-medium",o?"text-white/80":"text-charcoal-500"),children:n}),i.jsx("span",{className:he("text-xs ml-2",o?"text-white/70":"text-charcoal-400"),children:nIe(new Date(e),{addSuffix:!0,locale:Ya})})]}),i.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:t}),s&&i.jsx("div",{className:"mt-2 pt-2 border-t border-white/20 text-xs",children:i.jsx("div",{className:he("rounded-md p-2",o?"bg-white/10":"bg-flame-50"),children:i.jsxs("div",{className:he("font-medium",o?"text-white":"text-flame-600"),children:[" Pesanan Disematkan: #",s.orderId.substring(0,8)]})})})]})})}const _u=v.forwardRef(({className:t,...e},r)=>i.jsx("textarea",{className:he("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));_u.displayName="Textarea";var WF="Popover",[WY,$nt]=aa(WF,[Cm]),Px=Cm(),[LIe,Du]=WY(WF),qY=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!1}=t,l=Px(e),c=v.useRef(null),[u,A]=v.useState(!1),[d=!1,h]=si({prop:n,defaultProp:s,onChange:a});return i.jsx(iO,{...l,children:i.jsx(LIe,{scope:e,contentId:jo(),triggerRef:c,open:d,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(f=>!f),[h]),hasCustomAnchor:u,onCustomAnchorAdd:v.useCallback(()=>A(!0),[]),onCustomAnchorRemove:v.useCallback(()=>A(!1),[]),modal:o,children:r})})};qY.displayName=WF;var XY="PopoverAnchor",$Ie=v.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Du(XY,r),a=Px(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return v.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(E_,{...a,...n,ref:e})});$Ie.displayName=XY;var JY="PopoverTrigger",YY=v.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Du(JY,r),a=Px(r),o=yt(e,s.triggerRef),l=i.jsx(et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":nZ(s.open),...n,ref:o,onClick:De(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:i.jsx(E_,{asChild:!0,...a,children:l})});YY.displayName=JY;var qF="PopoverPortal",[HIe,VIe]=WY(qF,{forceMount:void 0}),ZY=t=>{const{__scopePopover:e,forceMount:r,children:n,container:s}=t,a=Du(qF,e);return i.jsx(HIe,{scope:e,forceMount:r,children:i.jsx(Ms,{present:r||a.open,children:i.jsx(ex,{asChild:!0,container:s,children:n})})})};ZY.displayName=qF;var Kf="PopoverContent",eZ=v.forwardRef((t,e)=>{const r=VIe(Kf,t.__scopePopover),{forceMount:n=r.forceMount,...s}=t,a=Du(Kf,t.__scopePopover);return i.jsx(Ms,{present:n||a.open,children:a.modal?i.jsx(KIe,{...s,ref:e}):i.jsx(zIe,{...s,ref:e})})});eZ.displayName=Kf;var KIe=v.forwardRef((t,e)=>{const r=Du(Kf,t.__scopePopover),n=v.useRef(null),s=yt(e,n),a=v.useRef(!1);return v.useEffect(()=>{const o=n.current;if(o)return vF(o)},[]),i.jsx(vC,{as:Cl,allowPinchZoom:!0,children:i.jsx(tZ,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:De(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:De(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:De(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),zIe=v.forwardRef((t,e)=>{const r=Du(Kf,t.__scopePopover),n=v.useRef(!1),s=v.useRef(!1);return i.jsx(tZ,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),tZ=v.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:A,...d}=t,h=Du(Kf,r),f=Px(r);return gF(),i.jsx(pC,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(ym,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:A,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:i.jsx(oO,{"data-state":nZ(h.open),role:"dialog",id:h.contentId,...f,...d,ref:e,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),rZ="PopoverClose",GIe=v.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Du(rZ,r);return i.jsx(et.button,{type:"button",...n,ref:e,onClick:De(t.onClick,()=>s.onOpenChange(!1))})});GIe.displayName=rZ;var WIe="PopoverArrow",qIe=v.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Px(r);return i.jsx(lO,{...s,...n,ref:e})});qIe.displayName=WIe;function nZ(t){return t?"open":"closed"}var XIe=qY,JIe=YY,YIe=ZY,sZ=eZ;const ZIe=XIe,ePe=JIe,aZ=v.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},s)=>i.jsx(YIe,{children:i.jsx(sZ,{ref:s,align:e,sideOffset:r,className:he("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));aZ.displayName=sZ.displayName;function tPe(t,e){return v.useReducer((r,n)=>e[r][n]??r,t)}var XF="ScrollArea",[iZ,Hnt]=aa(XF),[rPe,ii]=iZ(XF),oZ=v.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...o}=t,[l,c]=v.useState(null),[u,A]=v.useState(null),[d,h]=v.useState(null),[f,m]=v.useState(null),[p,g]=v.useState(null),[y,x]=v.useState(0),[b,j]=v.useState(0),[C,E]=v.useState(!1),[_,B]=v.useState(!1),S=yt(e,P=>c(P)),N=Dm(s);return i.jsx(rPe,{scope:r,type:n,dir:N,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:A,content:d,onContentChange:h,scrollbarX:f,onScrollbarXChange:m,scrollbarXEnabled:C,onScrollbarXEnabledChange:E,scrollbarY:p,onScrollbarYChange:g,scrollbarYEnabled:_,onScrollbarYEnabledChange:B,onCornerWidthChange:x,onCornerHeightChange:j,children:i.jsx(et.div,{dir:N,...o,ref:S,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});oZ.displayName=XF;var lZ="ScrollAreaViewport",cZ=v.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,asChild:s,nonce:a,...o}=t,l=ii(lZ,r),c=v.useRef(null),u=yt(e,c,l.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),i.jsx(et.div,{"data-radix-scroll-area-viewport":"",...o,asChild:s,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:dPe({asChild:s,children:n},A=>i.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:A}))})]})});cZ.displayName=lZ;var Qo="ScrollAreaScrollbar",JF=v.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=ii(Qo,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,l=t.orientation==="horizontal";return v.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),s.type==="hover"?i.jsx(nPe,{...n,ref:e,forceMount:r}):s.type==="scroll"?i.jsx(sPe,{...n,ref:e,forceMount:r}):s.type==="auto"?i.jsx(uZ,{...n,ref:e,forceMount:r}):s.type==="always"?i.jsx(YF,{...n,ref:e}):null});JF.displayName=Qo;var nPe=v.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=ii(Qo,t.__scopeScrollArea),[a,o]=v.useState(!1);return v.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},A=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",A),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",A)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(Ms,{present:r||a,children:i.jsx(uZ,{"data-state":a?"visible":"hidden",...n,ref:e})})}),sPe=v.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=ii(Qo,t.__scopeScrollArea),a=t.orientation==="horizontal",o=LC(()=>c("SCROLL_END"),100),[l,c]=tPe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),v.useEffect(()=>{const u=s.viewport,A=a?"scrollLeft":"scrollTop";if(u){let d=u[A];const h=()=>{const f=u[A];d!==f&&(c("SCROLL"),o()),d=f};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,a,c,o]),i.jsx(Ms,{present:r||l!=="hidden",children:i.jsx(YF,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:De(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:De(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),uZ=v.forwardRef((t,e)=>{const r=ii(Qo,t.__scopeScrollArea),{forceMount:n,...s}=t,[a,o]=v.useState(!1),l=t.orientation==="horizontal",c=LC(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,A=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:A)}},10);return zf(r.viewport,c),zf(r.content,c),i.jsx(Ms,{present:n||a,children:i.jsx(YF,{"data-state":a?"visible":"hidden",...s,ref:e})})}),YF=v.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,s=ii(Qo,t.__scopeScrollArea),a=v.useRef(null),o=v.useRef(0),[l,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=mZ(l.viewport,l.content),A={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function d(h,f){return uPe(h,o.current,l,f)}return r==="horizontal"?i.jsx(aPe,{...A,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollLeft,f=K5(h,l,s.dir);a.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=d(h,s.dir))}}):r==="vertical"?i.jsx(iPe,{...A,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollTop,f=K5(h,l);a.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=d(h))}}):null}),aPe=v.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,a=ii(Qo,t.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=yt(e,c,a.onScrollbarXChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(dZ,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":QC(r)+"px",...t.style},onThumbPointerDown:A=>t.onThumbPointerDown(A.x),onDragScroll:A=>t.onDragScroll(A.x),onWheelScroll:(A,d)=>{if(a.viewport){const h=a.viewport.scrollLeft+A.deltaX;t.onWheelScroll(h),gZ(h,d)&&A.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:tj(o.paddingLeft),paddingEnd:tj(o.paddingRight)}})}})}),iPe=v.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,a=ii(Qo,t.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=yt(e,c,a.onScrollbarYChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(dZ,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":QC(r)+"px",...t.style},onThumbPointerDown:A=>t.onThumbPointerDown(A.y),onDragScroll:A=>t.onDragScroll(A.y),onWheelScroll:(A,d)=>{if(a.viewport){const h=a.viewport.scrollTop+A.deltaY;t.onWheelScroll(h),gZ(h,d)&&A.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:tj(o.paddingTop),paddingEnd:tj(o.paddingBottom)}})}})}),[oPe,AZ]=iZ(Qo),dZ=v.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:A,onResize:d,...h}=t,f=ii(Qo,r),[m,p]=v.useState(null),g=yt(e,S=>p(S)),y=v.useRef(null),x=v.useRef(""),b=f.viewport,j=n.content-n.viewport,C=Gr(A),E=Gr(c),_=LC(d,10);function B(S){if(y.current){const N=S.clientX-y.current.left,P=S.clientY-y.current.top;u({x:N,y:P})}}return v.useEffect(()=>{const S=N=>{const P=N.target;(m==null?void 0:m.contains(P))&&C(N,j)};return document.addEventListener("wheel",S,{passive:!1}),()=>document.removeEventListener("wheel",S,{passive:!1})},[b,m,j,C]),v.useEffect(E,[n,E]),zf(m,_),zf(f.content,_),i.jsx(oPe,{scope:r,scrollbar:m,hasThumb:s,onThumbChange:Gr(a),onThumbPointerUp:Gr(o),onThumbPositionChange:E,onThumbPointerDown:Gr(l),children:i.jsx(et.div,{...h,ref:g,style:{position:"absolute",...h.style},onPointerDown:De(t.onPointerDown,S=>{S.button===0&&(S.target.setPointerCapture(S.pointerId),y.current=m.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),B(S))}),onPointerMove:De(t.onPointerMove,B),onPointerUp:De(t.onPointerUp,S=>{const N=S.target;N.hasPointerCapture(S.pointerId)&&N.releasePointerCapture(S.pointerId),document.body.style.webkitUserSelect=x.current,f.viewport&&(f.viewport.style.scrollBehavior=""),y.current=null})})})}),ej="ScrollAreaThumb",hZ=v.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=AZ(ej,t.__scopeScrollArea);return i.jsx(Ms,{present:r||s.hasThumb,children:i.jsx(lPe,{ref:e,...n})})}),lPe=v.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...s}=t,a=ii(ej,r),o=AZ(ej,r),{onThumbPositionChange:l}=o,c=yt(e,d=>o.onThumbChange(d)),u=v.useRef(),A=LC(()=>{u.current&&(u.current(),u.current=void 0)},100);return v.useEffect(()=>{const d=a.viewport;if(d){const h=()=>{if(A(),!u.current){const f=APe(d,l);u.current=f,l()}};return l(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[a.viewport,A,l]),i.jsx(et.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:De(t.onPointerDownCapture,d=>{const f=d.target.getBoundingClientRect(),m=d.clientX-f.left,p=d.clientY-f.top;o.onThumbPointerDown({x:m,y:p})}),onPointerUp:De(t.onPointerUp,o.onThumbPointerUp)})});hZ.displayName=ej;var ZF="ScrollAreaCorner",fZ=v.forwardRef((t,e)=>{const r=ii(ZF,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(cPe,{...t,ref:e}):null});fZ.displayName=ZF;var cPe=v.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,s=ii(ZF,r),[a,o]=v.useState(0),[l,c]=v.useState(0),u=!!(a&&l);return zf(s.scrollbarX,()=>{var d;const A=((d=s.scrollbarX)==null?void 0:d.offsetHeight)||0;s.onCornerHeightChange(A),c(A)}),zf(s.scrollbarY,()=>{var d;const A=((d=s.scrollbarY)==null?void 0:d.offsetWidth)||0;s.onCornerWidthChange(A),o(A)}),u?i.jsx(et.div,{...n,ref:e,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function tj(t){return t?parseInt(t,10):0}function mZ(t,e){const r=t/e;return isNaN(r)?0:r}function QC(t){const e=mZ(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function uPe(t,e,r,n="ltr"){const s=QC(r),a=s/2,o=e||a,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,A=r.content-r.viewport,d=n==="ltr"?[0,A]:[A*-1,0];return pZ([c,u],d)(t)}function K5(t,e,r="ltr"){const n=QC(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-s,o=e.content-e.viewport,l=a-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Vv(t,c);return pZ([0,o],[0,l])(u)}function pZ(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function gZ(t,e){return t>0&&t<e}var APe=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function s(){const a={left:t.scrollLeft,top:t.scrollTop},o=r.left!==a.left,l=r.top!==a.top;(o||l)&&e(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function LC(t,e){const r=Gr(t),n=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),v.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function zf(t,e){const r=Gr(e);gn(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,r])}function dPe(t,e){const{asChild:r,children:n}=t;if(!r)return typeof e=="function"?e(n):e;const s=v.Children.only(n);return v.cloneElement(s,{children:typeof e=="function"?e(s.props.children):e})}var vZ=oZ,hPe=cZ,fPe=fZ;const vd=v.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(vZ,{ref:n,className:he("relative overflow-hidden",t),...r,children:[i.jsx(hPe,{className:"h-full w-full rounded-[inherit]",children:e}),i.jsx(yZ,{}),i.jsx(fPe,{})]}));vd.displayName=vZ.displayName;const yZ=v.forwardRef(({className:t,orientation:e="vertical",...r},n)=>i.jsx(JF,{ref:n,orientation:e,className:he("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:i.jsx(hZ,{className:"relative flex-1 rounded-full bg-border"})}));yZ.displayName=JF.displayName;function mPe({onSendMessage:t,isLoading:e,userOrders:r,className:n,disabled:s}){const[a,o]=v.useState(""),[l,c]=v.useState(null),u=()=>{a.trim()&&!s&&(t(a.trim(),l),o(""),c(null))},A=d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),u())};return i.jsxs("div",{className:`border-t p-3 bg-background ${n} ${s?"opacity-50 pointer-events-none":""}`,children:[l&&i.jsxs("div",{className:"bg-flame-50 text-flame-600 rounded-md p-2 mb-2 text-xs flex justify-between items-center",children:[i.jsxs("span",{children:[" Pesanan #",l.substring(0,8)," disematkan"]}),i.jsx(V,{variant:"ghost",size:"sm",onClick:()=>c(null),className:"h-6 text-xs",disabled:s,children:"Hapus"})]}),i.jsxs("div",{className:"flex gap-2",children:[r&&r.length>0&&i.jsxs(ZIe,{children:[i.jsx(ePe,{asChild:!0,children:i.jsx(V,{variant:"outline",size:"icon",className:"shrink-0","aria-label":"Sematkan Pesanan",disabled:s,children:i.jsx(Qle,{className:"h-5 w-5"})})}),i.jsxs(aZ,{className:"w-64 p-2",align:"start",side:"top",children:[i.jsx("h3",{className:"font-medium text-sm px-2 py-1",children:"Sematkan Pesanan"}),i.jsx(vd,{className:"h-64",children:i.jsx("div",{className:"space-y-1 mt-1",children:r.map(d=>i.jsx(V,{variant:"ghost",className:"w-full justify-start text-left p-2 h-auto",onClick:()=>c(d.id),children:i.jsxs("div",{className:"text-xs",children:[i.jsxs("div",{className:"font-medium",children:["Pesanan #",d.id.substring(0,8)]}),i.jsx("div",{className:"text-muted-foreground",children:new Date(d.date).toLocaleDateString()})]})},d.id))})})]})]}),i.jsx(_u,{placeholder:"Ketik pesan...",value:a,onChange:d=>o(d.target.value),onKeyDown:A,className:"min-h-[44px] resize-none",rows:1,disabled:s}),i.jsx(V,{onClick:u,disabled:!a.trim()||e||s,size:"icon",className:"bg-flame-500 hover:bg-flame-600 shrink-0",children:i.jsx(o9,{className:"h-5 w-5"})})]})]})}function h2(t){const e=v.useRef(null);return v.useCallback(()=>{e.current||(e.current=new Audio(t)),e.current.play().catch(n=>{console.warn(`Could not play sound ${t}:`,n)})},[t])}const z5=sF(Pm),pPe=async t=>{if(t.sender_type!=="customer")return!1;try{const{data:e,error:r}=await J.from("profiles").select("name, email").eq("id",t.sender_id).single();if(r)throw console.error("Error fetching customer data:",r),r;const{data:n,error:s}=await J.from("chat_sessions").select("admin_id").eq("id",t.session_id).single();if(s)throw console.error("Error fetching session data:",s),s;const a={type:"chat",title:"Pesan Baru",message:`${(e==null?void 0:e.name)||"Pelanggan"}: ${t.content.substring(0,50)}${t.content.length>50?"...":""}`,sessionId:t.session_id,customerId:t.sender_id,customerName:(e==null?void 0:e.name)||"Pelanggan",timestamp:Date.now(),isRead:!1};if(n!=null&&n.admin_id){const{data:u,error:A}=await J.from("profiles").select("id, fcm_token").eq("id",n.admin_id).single();if(A)throw console.error("Error fetching admin data:",A),A;if(u!=null&&u.fcm_token)return await VQ(QQ(z5,"notifications"),{...a,recipientId:u.id,fcmToken:u.fcm_token}),console.log("Chat notification sent to assigned admin",a),!0}const{data:o,error:l}=await J.from("profiles").select("id, fcm_token").eq("role","admin");if(l)throw console.error("Error fetching admin users:",l),l;const c=[];for(const u of o||[])u.fcm_token&&c.push(VQ(QQ(z5,"notifications"),{...a,recipientId:u.id,fcmToken:u.fcm_token}));await Promise.all(c);try{const u=await Mbe();if(u&&u.length>0){console.log(`Sending WhatsApp notifications to ${u.length} admins`);const d=`${window.location.origin}/admin/chat?session=${t.session_id}`,h=` Pesan baru dari ${a.customerName}:
"${t.content.substring(0,100)}${t.content.length>100?"...":""}"

Klik untuk melihat: ${d}`,f=u.map(m=>zW(m,h));await Promise.all(f),console.log("WhatsApp notifications sent to admins")}else console.log("No admin phone numbers found for WhatsApp notifications")}catch(u){console.error("Error sending WhatsApp notifications:",u)}return console.log("Chat notification sent to all admins",a),!0}catch(e){return console.error("Error sending chat notification:",e),!1}},G5=(t,e,r,n)=>{const s=t.sender_type==="admin";return{id:t.id,senderId:t.sender_id,senderName:s?r||"Dukungan":t.sender_id===e?n||"Anda":n||"Pelanggan",content:t.content,timestamp:t.created_at,isAdmin:s,orderInfo:t.order_info}};function xZ({chatPartnerId:t,chatPartnerName:e="Dukungan",isAdmin:r=!1}){const{user:n,profile:s}=qr(),a=Tt();a7();const o=v.useRef(null),[l,c]=v.useState([]),[u,A]=v.useState(null),[d,h]=v.useState(!0),[f,m]=v.useState(!1),[p,g]=v.useState(e),y=h2("/sounds/new_chat_message_sound.mp3"),{data:x}=vde({queryKey:["userOrders",n==null?void 0:n.id],queryFn:async()=>{if(!n)return[];const{data:C,error:E}=await J.from("orders").select("id, total, date, status").eq("user_id",n.id).order("date",{ascending:!1});if(E)throw E;return C},enabled:!!n&&!r});v.useEffect(()=>{if(!n||!s){h(!1);return}(async()=>{h(!0);try{let E=null;if(r){if(!t){fe({title:"Error",description:"Gagal membuat sesi chat admin",variant:"destructive"}),a("/admin/chats");return}const{data:_,error:B}=await J.from("chat_sessions").select("*").eq("customer_id",t).in("status",["open","active","pending"]).order("created_at",{ascending:!1}).limit(1);if(B)throw B;if(_&&_.length>0){if(E=_[0],E.admin_id!==n.id&&E.status==="open"){const{data:S,error:N}=await J.from("chat_sessions").update({admin_id:n.id,status:"active"}).eq("id",E.id).select().maybeSingle();if(N)throw N;if(!S)throw console.error("Failed to retrieve session after admin assignment update for session ID:",E.id),new Error("Failed to retrieve session after admin assignment.");E=S}}else{fe({title:"Tidak ada sesi aktif",description:"Tidak ada sesi chat aktif dengan pelanggan ini. Mereka mungkin perlu memulai chat terlebih dahulu.",variant:"default"}),A(null),c([]),h(!1);return}}else{const{data:_,error:B}=await J.from("chat_sessions").select("*").eq("customer_id",n.id).in("status",["open","active","pending"]).order("last_message_at",{ascending:!1,nullsFirst:!1}).limit(1);if(B)throw B;if(_&&_.length>0)E=_[0];else{const{data:S,error:N}=await J.from("chat_sessions").insert({customer_id:n.id,status:"open",topic:"Pertanyaan Umum"}).select().maybeSingle();if(N)throw N;if(!S)throw console.error("Failed to create and retrieve new chat session for user:",n.id),new Error("Failed to create and retrieve chat session.");E=S}}A(E)}catch(E){console.error("Error managing session:",E),fe({title:"Error Chat",description:`Gagal memuat atau membuat sesi chat: ${E.message}`,variant:"destructive"}),A(null)}finally{h(!1)}})()},[n,s,r,t,a]),v.useEffect(()=>{if(!u||!n||!s){c([]);return}(async()=>{try{const{data:E,error:_}=await J.from("messages").select("*, sender_profile:sender_id(name, email)").eq("session_id",u.id).order("created_at",{ascending:!0});if(_)throw _;const B=r?p:s.name,S=r?s.name:"Dukungan",N=E.map(P=>G5(P,n.id,S||"Support",B||"Customer"));c(N)}catch(E){console.error("Error fetching messages:",E),fe({title:"Error",description:"Gagal mengambil detail rekan chat",variant:"destructive"})}})()},[u,n,s,r,p]),v.useEffect(()=>{if(!u||!n||!s)return;const C=J.channel(`messages_session_${u.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`session_id=eq.${u.id}`},E=>{const _=E.new;if(_.sender_id===n.id&&l.some(N=>N.id===_.id||N.content===_.content&&N.senderId===_.sender_id&&Math.abs(new Date(N.timestamp).getTime()-new Date(_.created_at).getTime())<2e3))return;const B=r?p:s.name,S=r?s.name:"Support";c(N=>N.some(P=>P.id===_.id)?N:[...N,G5(_,n.id,S||"Support",B||"Customer")]),_.sender_id!==n.id&&(!r&&_.sender_type==="admin"||r&&_.sender_type==="customer")&&(console.log("New message in ChatRoom, playing sound:",_),y())}).subscribe((E,_)=>{E==="SUBSCRIBED"&&console.log(`Subscribed to messages for session ${u.id}`),(E==="CHANNEL_ERROR"||E==="TIMED_OUT")&&(console.error(`Subscription error for session ${u.id}:`,_),fe({title:"Realtime Error",description:"Chat connection issue. Please refresh.",variant:"destructive"}))});return()=>{J.removeChannel(C)}},[u,n,s,r,p,l,y]),v.useEffect(()=>{o.current&&(o.current.scrollTop=o.current.scrollHeight)},[l]);const b=async(C,E=null)=>{if(!(!n||!s||!u||!C.trim())){m(!0);try{let _=null;if(E){const M=x==null?void 0:x.find(H=>H.id===E);M&&(_={orderId:M.id,orderTotal:M.total,orderStatus:M.status,orderDate:M.date})}const B=Cn(),S=r?"admin":"customer",N=s.name||(r?"Admin":"User"),P={id:B,senderId:n.id,senderName:N,content:C,timestamp:new Date().toISOString(),isAdmin:r,orderInfo:_||null};c(M=>[...M,P]);const{data:I,error:T}=await J.from("messages").insert({session_id:u.id,sender_id:n.id,sender_type:S,content:C.trim(),order_info:_}).select().single();if(T)throw c(M=>M.filter(H=>H.id!==B)),T;const D=I;c(M=>M.map(H=>H.id===B?{...H,id:D.id,timestamp:D.created_at}:H)),S==="customer"&&pPe(D).then(M=>{M?console.log("Notificacin FCM enviada a los administradores"):console.warn("No se pudo enviar la notificacin FCM a los administradores")}).catch(M=>{console.error("Error al enviar notificacin FCM:",M)}),await J.from("chat_sessions").update({last_message_at:D.created_at,status:"active"}).eq("id",u.id),A(M=>M?{...M,last_message_at:D.created_at,status:"active"}:null)}catch(_){console.error("Error sending message:",_),fe({title:"Failed to send message",description:_.message,variant:"destructive"})}finally{m(!1)}}},j=r?p||"Customer":(s==null?void 0:s.role)==="admin"?e||"Support":"Customer Support";return!n||!s?i.jsxs("div",{className:"flex items-center justify-center h-screen",children:[i.jsx(zt,{className:"animate-spin h-8 w-8 text-flame-500"}),i.jsx("p",{className:"ml-2",children:"Memuat pengguna..."})]}):d?i.jsxs("div",{className:"flex items-center justify-center h-screen",children:[i.jsx(zt,{className:"animate-spin h-8 w-8 text-flame-500"}),i.jsx("p",{className:"ml-2",children:"Memuat sesi chat..."})]}):i.jsxs("div",{className:"flex flex-col h-full relative",children:[i.jsxs("div",{className:"fixed top-0 left-0 right-0 max-w-md mx-auto bg-white border-b p-3 flex items-center shadow-sm z-20",children:[i.jsx(V,{variant:"ghost",size:"icon",className:"mr-2",onClick:()=>a(r?"/admin/chats":"/"),children:i.jsx(Fi,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-charcoal-100 flex items-center justify-center mr-3",children:i.jsx(_f,{className:"h-5 w-5 text-charcoal-500"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:j}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[r&&u?`ID Sesi: ${u.id.substring(0,8)}`:"Kami biasanya merespon dalam 1 jam",!r&&u&&u.status!=="active"&&u.status!=="open"&&" (Menunggu dukungan...)",!r&&u&&(u.status==="open"||u.status==="pending")&&" (Menghubungkan ke dukungan...)"]})]})]})]}),i.jsx("div",{className:"h-16 pt-3"}),i.jsxs(vd,{ref:o,className:"flex-1 p-4 overflow-y-auto bg-charcoal-50",children:[!u&&!d&&!r&&i.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:i.jsx("p",{className:"text-muted-foreground",children:"Tidak dapat memulai atau memuat sesi chat. Silakan coba muat ulang halaman."})}),!u&&!d&&r&&i.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:i.jsx("p",{className:"text-muted-foreground",children:"Tidak ada sesi chat aktif dengan pelanggan ini. Mereka mungkin perlu memulai chat terlebih dahulu."})}),u&&l.length===0&&!d&&i.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:i.jsxs("div",{className:"mb-4 text-charcoal-400",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-flame-100 flex items-center justify-center mx-auto mb-4",children:i.jsx(_f,{className:"h-8 w-8 text-flame-500"})}),i.jsx("h3",{className:"font-medium text-charcoal-600 mb-1",children:r?`Chat dengan ${p}`:"Dukungan Pelanggan"}),i.jsx("p",{className:"text-sm text-charcoal-500",children:r?"Kirim pesan untuk mulai chat dengan pelanggan ini.":"Kirim pesan untuk mendapatkan bantuan dari tim dukungan kami."})]})}),u&&l.map(C=>i.jsx(QIe,{id:C.id,senderId:C.senderId,senderName:C.senderName,content:C.content,timestamp:C.timestamp,isAdmin:C.isAdmin,orderInfo:C.orderInfo},C.id))]}),i.jsx("div",{className:"fixed bottom-16 left-0 right-0 max-w-md mx-auto bg-background z-20 border-t",children:i.jsx(mPe,{onSendMessage:b,isLoading:f||d,userOrders:r?void 0:x,disabled:!u||r&&!t||!d&&!u&&!r})}),i.jsx("div",{className:"h-24"})]})}function gPe(){const{user:t}=qr();return t?i.jsx(Wt,{children:i.jsx(xZ,{})}):i.jsx(r1,{to:"/login",replace:!0})}const vPe=6,wZ=5,yPe=3,xPe=60,wPe=(t=vPe)=>Array.from({length:t},()=>Math.floor(Math.random()*10)).join(""),bPe=async(t,e)=>{const r=QY(t);try{const n=`*Kode OTP untuk JPC*

Kode verifikasi Anda adalah: *${e}*

Kode ini berlaku selama ${wZ} menit.
Jangan bagikan kode ini dengan siapapun.`,s=await zW(r,n);return console.log("WhatsApp OTP sent successfully:",s),s}catch(n){return console.error("Error sending WhatsApp OTP:",n),!1}},jPe=async(t,e)=>{try{const r=wPe(),n=new Date;n.setMinutes(n.getMinutes()+wZ);const{error:s}=await J.from("otp_verification").insert({user_id:t,phone_number:e,otp_code:r,expires_at:n.toISOString(),attempts:0,is_verified:!1});return s?(console.error("Error storing OTP:",s),!1):await bPe(e,r)}catch(r){return console.error("Error in createAndSendOTP:",r),!1}},_Pe=async(t,e)=>{try{const{data:r,error:n}=await J.from("otp_verification").select("*").eq("user_id",t).eq("is_verified",!1).order("created_at",{ascending:!1}).limit(1).single();if(n||!r)return console.error("Error fetching OTP:",n),!1;const s=new Date,a=new Date(r.expires_at);if(s>a)return console.log("OTP has expired"),!1;if(r.attempts>=yPe)return console.log("Max OTP attempts reached"),!1;const{error:o}=await J.from("otp_verification").update({attempts:r.attempts+1}).eq("id",r.id);if(o&&console.error("Error updating OTP attempts:",o),r.otp_code!==e)return!1;const{error:l}=await J.from("otp_verification").update({is_verified:!0}).eq("id",r.id);if(l)return console.error("Error marking OTP as verified:",l),!1;const{error:c}=await J.from("profiles").update({is_phone_verified:!0,phone_verified_at:new Date().toISOString()}).eq("id",t);return c?(console.error("Error updating profile phone verification status:",c),!1):!0}catch(r){return console.error("Error in verifyOTP:",r),!1}},CPe=async t=>{try{const{data:e,error:r}=await J.from("otp_verification").select("created_at").eq("user_id",t).order("created_at",{ascending:!1}).limit(1).single();if(r||!e)return 0;const n=new Date(e.created_at),s=new Date(n.getTime()+xPe*1e3),a=new Date;return a>s?0:Math.ceil((s.getTime()-a.getTime())/1e3)}catch(e){return console.error("Error in getResendCooldownRemaining:",e),0}},BPe=({phoneNumber:t,onVerificationSuccess:e})=>{const{user:r}=qr(),{toast:n}=Vi(),[s,a]=v.useState(""),[o,l]=v.useState(!1),[c,u]=v.useState(0),[A,d]=v.useState("");v.useEffect(()=>{if(c>0){const p=setTimeout(()=>u(c-1),1e3);return()=>clearTimeout(p)}},[c]),v.useEffect(()=>{(async()=>{if(r){const g=await CPe(r.id);g>0?u(g):h()}})()},[r]);const h=async()=>{if(r){l(!0),d("");try{await jPe(r.id,t)?(n({title:"Kode OTP Terkirim",description:`Kode verifikasi telah dikirim ke WhatsApp ${t}`}),u(60)):d("Gagal mengirim kode OTP. Silakan coba lagi.")}catch(p){console.error("Error sending OTP:",p),d("Terjadi kesalahan. Silakan coba lagi.")}finally{l(!1)}}},f=async()=>{if(!(!r||!s)){l(!0),d("");try{if(await _Pe(r.id,s))n({title:"Verifikasi Berhasil",description:"Nomor WhatsApp Anda telah diverifikasi."}),e();else{const g="Kode OTP tidak valid atau sudah kedaluwarsa";d(g),n({variant:"destructive",title:"Verifikasi Gagal",description:g})}}catch(p){console.error("Error verifying OTP:",p),d("Terjadi kesalahan. Silakan coba lagi.")}finally{l(!1)}}},m=()=>{c>0||h()};return i.jsxs(ye,{className:"w-full max-w-md mx-auto",children:[i.jsxs(ot,{children:[i.jsx(lt,{children:"Verifikasi WhatsApp"}),i.jsxs(ur,{children:["Masukkan kode 6 digit yang dikirim ke WhatsApp Anda ",t]})]}),i.jsx(xe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx(ce,{type:"text",placeholder:"Masukkan kode OTP",value:s,onChange:p=>a(p.target.value.replace(/[^0-9]/g,"").substring(0,6)),className:"text-center text-lg tracking-wider",maxLength:6,inputMode:"numeric"}),A&&i.jsx("p",{className:"text-red-500 text-sm",children:A}),i.jsx("div",{className:"text-center text-sm",children:c>0?i.jsxs("p",{children:["Kirim ulang dalam ",c," detik"]}):i.jsx("button",{onClick:m,className:"text-primary hover:underline",disabled:o,children:"Kirim Ulang Kode"})})]})}),i.jsx(Ja,{children:i.jsx(V,{onClick:f,className:"w-full",disabled:s.length!==6||o,children:o?"Memverifikasi...":"Verifikasi"})})]})};function EPe(){const{user:t,isPhoneVerified:e}=qr(),r=Tt();Qs();const[n,s]=v.useState(!0),[a,o]=v.useState(""),[l,c]=v.useState(!1),u=v.useRef(!1),A=v.useRef(!1);v.useEffect(()=>{A.current||(d(),A.current=!0);const f=()=>{document.visibilityState==="visible"&&l&&!u.current&&(u.current=!0,r("/"))};return document.addEventListener("visibilitychange",f),()=>{document.removeEventListener("visibilitychange",f)}},[l]);const d=async()=>{if(!t){s(!1);return}s(!0);try{if(e){c(!0),s(!1),u.current||(u.current=!0,setTimeout(()=>r("/"),100));return}const{data:f,error:m}=await J.from("profiles").select("is_phone_verified, phone").eq("id",t.id).single();if(m){console.error("Error fetching profile:",m),s(!1);return}if(c((f==null?void 0:f.is_phone_verified)===!0),f!=null&&f.is_phone_verified&&!u.current){u.current=!0,setTimeout(()=>r("/"),100);return}if(!(f!=null&&f.phone)&&!u.current){u.current=!0,setTimeout(()=>r("/profile?redirect=verification"),100);return}o((f==null?void 0:f.phone)||"")}catch(f){console.error("Error checking verification status:",f)}finally{s(!1)}},h=()=>{c(!0),u.current||(u.current=!0,setTimeout(()=>{localStorage.setItem("whatsapp_verification_success","true"),r("/")},1500))};return n?i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[i.jsx(zt,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("p",{className:"mt-4 text-lg",children:"Memeriksa status verifikasi..."})]}):l?i.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Verifikasi Berhasil!"}),i.jsx("p",{className:"mb-4",children:"Nomor WhatsApp Anda telah diverifikasi berhasil."}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Mengalihkan ke halaman utama..."})]})}):i.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Verifikasi WhatsApp"}),i.jsx("p",{className:"text-center mb-6 text-muted-foreground",children:"Untuk keamanan akun Anda, kami perlu memverifikasi nomor WhatsApp Anda sebelum Anda dapat menggunakan aplikasi."}),a?i.jsx(BPe,{phoneNumber:a,onVerificationSuccess:h}):i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-red-500",children:"Verifikasi Berhasil."}),i.jsx("button",{onClick:()=>r("/profile?redirect=verification"),className:"mt-4 text-primary hover:underline",children:"Lanjutkan"})]})]})})}function SPe({transaction:t,onClose:e}){const[r,n]=v.useState(!1),[s,a]=v.useState(!1),[o,l]=v.useState(""),[c,u]=v.useState(!1),[A,d]=v.useState(!1),h=b=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(b),f=b=>{const j=new Date(b);return Bn(j,"d MMMM yyyy, HH:mm",{locale:Ya})},m=()=>{switch(t.status){case"success":return i.jsx(jt,{className:"bg-green-100 text-green-800",children:"Berhasil"});case"pending":return i.jsx(jt,{className:"bg-yellow-100 text-yellow-800",children:"Dalam Proses"});case"failed":return i.jsx(jt,{className:"bg-red-100 text-red-800",children:"Gagal"});default:return i.jsx(jt,{children:"Unknown"})}},p=()=>{switch(t.type){case"payment":return"Pembayaran";case"topup":return"Top Up";case"transfer":return"Transfer";case"refund":return"Refund";default:return"Transaksi"}},g=()=>{switch(t.type){case"payment":return i.jsx(q.creditCard,{className:"h-5 w-5 text-blue-500"});case"topup":return i.jsx(q.plus,{className:"h-5 w-5 text-green-500"});case"transfer":return i.jsx(q.arrowRight,{className:"h-5 w-5 text-orange-500"});case"refund":return i.jsx(q.arrowRight,{className:"h-5 w-5 text-purple-500 rotate-180"});default:return i.jsx(q.activity,{className:"h-5 w-5"})}},y=()=>{const b=`
      ID Transaksi: ${t.id}
      Jenis: ${p()}
      Produk: ${t.productName}
      Total: ${h(t.totalAmount)}
      Status: ${t.status}
      Tanggal: ${f(t.createdAt)}
      ${t.refNumber?`No. Referensi: ${t.refNumber}`:""}
    `.trim();navigator.clipboard.writeText(b).then(()=>{d(!0),setTimeout(()=>d(!1),2e3)})},x=async()=>{o.trim()&&(u(!0),await new Promise(b=>setTimeout(b,1500)),u(!1),n(!1),l(""))};return i.jsxs(ye,{className:"border shadow-md max-w-md w-full mx-auto",children:[i.jsx(ot,{className:"pb-2",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[g(),i.jsxs("div",{children:[i.jsx(lt,{className:"text-lg",children:p()}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t.productName})]})]}),i.jsxs("div",{className:"flex flex-col items-end",children:[m(),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f(t.createdAt)})]})]})}),i.jsx(xe,{className:"pb-0",children:i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Pembayaran"}),i.jsx("p",{className:"text-2xl font-bold",children:h(t.totalAmount)})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"ID Transaksi"}),i.jsx("p",{className:"text-sm font-medium",children:t.id})]}),t.invoiceNumber&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"No. Invoice"}),i.jsx("p",{className:"text-sm font-medium",children:t.invoiceNumber})]}),t.refNumber&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"No. Referensi"}),i.jsx("p",{className:"text-sm font-medium",children:t.refNumber})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Nominal"}),i.jsx("p",{className:"text-sm font-medium",children:h(t.amount)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Biaya Admin"}),i.jsx("p",{className:"text-sm font-medium",children:h(t.fee)})]}),t.paymentMethod&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Metode Pembayaran"}),i.jsx("p",{className:"text-sm font-medium",children:t.paymentMethod})]}),t.customerId&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"ID Pelanggan"}),i.jsx("p",{className:"text-sm font-medium",children:t.customerId})]}),t.customerName&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Nama Pelanggan"}),i.jsx("p",{className:"text-sm font-medium",children:t.customerName})]})]}),t.message&&i.jsxs(i.Fragment,{children:[i.jsx(vs,{}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Pesan"}),i.jsx("p",{className:"text-sm",children:t.message})]})]})]})}),i.jsxs(Ja,{className:"flex flex-col gap-3 pt-6",children:[i.jsxs("div",{className:"flex gap-2 w-full",children:[i.jsxs(V,{variant:"outline",className:"flex-1",onClick:y,children:[A?i.jsx(q.activity,{className:"mr-2 h-4 w-4 text-green-500"}):i.jsx(q.file,{className:"mr-2 h-4 w-4"}),A?"Disalin!":"Salin"]}),i.jsxs(fr,{open:s,onOpenChange:a,children:[i.jsx(X1,{asChild:!0,children:i.jsxs(V,{variant:"outline",className:"flex-1",children:[i.jsx(q.arrowRight,{className:"mr-2 h-4 w-4"}),"Bagikan"]})}),i.jsxs(ir,{className:"sm:max-w-md",children:[i.jsxs(xr,{children:[i.jsx(wr,{children:"Bagikan Bukti Transaksi"}),i.jsx(Jn,{children:"Bagikan bukti transaksi ini melalui:"})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-4 py-4",children:[i.jsxs(V,{variant:"outline",className:"flex flex-col items-center justify-center h-20",children:[i.jsx(q.smartphone,{className:"h-8 w-8 mb-1"}),i.jsx("span",{className:"text-xs",children:"WhatsApp"})]}),i.jsxs(V,{variant:"outline",className:"flex flex-col items-center justify-center h-20",children:[i.jsx(q.smartphone,{className:"h-8 w-8 mb-1"}),i.jsx("span",{className:"text-xs",children:"Email"})]}),i.jsxs(V,{variant:"outline",className:"flex flex-col items-center justify-center h-20",children:[i.jsx(q.download,{className:"h-8 w-8 mb-1"}),i.jsx("span",{className:"text-xs",children:"Simpan"})]}),i.jsxs(V,{variant:"outline",className:"flex flex-col items-center justify-center h-20",children:[i.jsx(q.activity,{className:"h-8 w-8 mb-1"}),i.jsx("span",{className:"text-xs",children:"Lainnya"})]})]}),i.jsx(Sn,{className:"sm:justify-start",children:i.jsx(V,{type:"button",variant:"secondary",onClick:()=>a(!1),children:"Tutup"})})]})]})]}),i.jsxs("div",{className:"flex gap-2 w-full",children:[i.jsx(V,{variant:"outline",className:"flex-1",onClick:e,children:"Kembali"}),i.jsxs(fr,{open:r,onOpenChange:n,children:[i.jsx(X1,{asChild:!0,children:i.jsxs(V,{variant:"secondary",className:"flex-1 text-red-600 hover:text-red-700",children:[i.jsx(q.activity,{className:"mr-2 h-4 w-4"}),"Laporkan Masalah"]})}),i.jsxs(ir,{children:[i.jsxs(xr,{children:[i.jsx(wr,{children:"Laporkan Masalah Transaksi"}),i.jsx(Jn,{children:"Jelaskan masalah yang Anda alami dengan transaksi ini."})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"report-reason",className:"block text-sm font-medium mb-2",children:"Alasan Laporan"}),i.jsxs("select",{id:"report-reason",className:"w-full p-2 border rounded-md",value:o,onChange:b=>l(b.target.value),children:[i.jsx("option",{value:"",children:"Pilih alasan"}),i.jsx("option",{value:"not-received",children:"Layanan tidak diterima"}),i.jsx("option",{value:"wrong-amount",children:"Jumlah salah"}),i.jsx("option",{value:"double-charge",children:"Tagihan ganda"}),i.jsx("option",{value:"unauthorized",children:"Transaksi tidak dikenal"}),i.jsx("option",{value:"other",children:"Lainnya"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"report-details",className:"block text-sm font-medium mb-2",children:"Detail Masalah"}),i.jsx("textarea",{id:"report-details",className:"w-full p-2 border rounded-md h-24",placeholder:"Jelaskan detail masalah yang Anda alami"})]})]}),i.jsxs(Sn,{children:[i.jsx(V,{type:"button",variant:"ghost",onClick:()=>n(!1),children:"Batal"}),i.jsx(V,{type:"button",onClick:x,disabled:!o||c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(q.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengirim..."]}):"Kirim Laporan"})]})]})]})]})]})]})}const bZ=({className:t,...e})=>i.jsx("nav",{role:"navigation","aria-label":"pagination",className:he("mx-auto flex w-full justify-center",t),...e});bZ.displayName="Pagination";const jZ=v.forwardRef(({className:t,...e},r)=>i.jsx("ul",{ref:r,className:he("flex flex-row items-center gap-1",t),...e}));jZ.displayName="PaginationContent";const yb=v.forwardRef(({className:t,...e},r)=>i.jsx("li",{ref:r,className:he("",t),...e}));yb.displayName="PaginationItem";const $C=({className:t,isActive:e,size:r="icon",...n})=>i.jsx("a",{"aria-current":e?"page":void 0,className:he(U_({variant:e?"outline":"ghost",size:r}),t),...n});$C.displayName="PaginationLink";const _Z=({className:t,...e})=>i.jsxs($C,{"aria-label":"Go to previous page",size:"default",className:he("gap-1 pl-2.5",t),...e,children:[i.jsx(e9,{className:"h-4 w-4"}),i.jsx("span",{children:"Previous"})]});_Z.displayName="PaginationPrevious";const CZ=({className:t,...e})=>i.jsxs($C,{"aria-label":"Go to next page",size:"default",className:he("gap-1 pr-2.5",t),...e,children:[i.jsx("span",{children:"Next"}),i.jsx(t9,{className:"h-4 w-4"})]});CZ.displayName="PaginationNext";function Mp({className:t,...e}){return i.jsx("div",{className:he("animate-pulse rounded-md bg-muted",t),...e})}const NPe=[{id:"TRX-123456",type:"payment",productCategory:"Electricity",productName:"PLN Postpaid",customerId:"1234567890",customerName:"Budi Santoso",amount:15e4,fee:2500,totalAmount:152500,status:"success",createdAt:"2025-06-01T14:30:25",updatedAt:"2025-06-01T14:32:10",paymentMethod:"PPOB Wallet",invoiceNumber:"INV-20250601-001",refNumber:"REF-123456789"},{id:"TRX-123457",type:"topup",productName:"Wallet Top Up",amount:5e5,fee:0,totalAmount:5e5,status:"success",createdAt:"2025-06-02T10:15:30",updatedAt:"2025-06-02T10:16:45",paymentMethod:"Bank Transfer BCA",refNumber:"REF-987654321"},{id:"TRX-123458",type:"payment",productCategory:"Mobile Credit",productName:"Telkomsel Prepaid 50K",customerId:"081234567890",amount:5e4,fee:1e3,totalAmount:51e3,status:"success",createdAt:"2025-06-02T16:45:12",updatedAt:"2025-06-02T16:46:30",paymentMethod:"PPOB Wallet",invoiceNumber:"INV-20250602-002",refNumber:"REF-567891234"},{id:"TRX-123459",type:"payment",productCategory:"Water",productName:"PDAM",customerId:"9876543210",customerName:"Ani Wijaya",amount:75e3,fee:2e3,totalAmount:77e3,status:"pending",createdAt:"2025-06-03T09:20:05",updatedAt:"2025-06-03T09:20:05",paymentMethod:"PPOB Wallet",invoiceNumber:"INV-20250603-003",refNumber:"REF-345678912",message:"Pembayaran sedang diproses oleh PDAM."},{id:"TRX-123460",type:"payment",productCategory:"Internet",productName:"Indihome",customerId:"5432109876",customerName:"Dewi Sari",amount:35e4,fee:2500,totalAmount:352500,status:"failed",createdAt:"2025-06-03T11:30:20",updatedAt:"2025-06-03T11:35:40",paymentMethod:"PPOB Wallet",invoiceNumber:"INV-20250603-004",refNumber:"REF-234567891",message:"Pembayaran gagal: Saldo tidak mencukupi"},{id:"TRX-123461",type:"transfer",productName:"Transfer ke Bank BNI",customerId:"0987654321",customerName:"Rudi Hartono",amount:1e6,fee:6500,totalAmount:1006500,status:"success",createdAt:"2025-06-03T13:45:10",updatedAt:"2025-06-03T13:47:25",paymentMethod:"PPOB Wallet",refNumber:"REF-123498765"},{id:"TRX-123462",type:"refund",productName:"Refund Telkomsel Prepaid",amount:5e4,fee:0,totalAmount:5e4,status:"success",createdAt:"2025-06-03T15:20:30",updatedAt:"2025-06-03T15:22:15",refNumber:"REF-876543219",message:"Refund untuk transaksi gagal TRX-123463"}];function kPe(){const t=Tt(),[e,r]=v.useState("all"),[n,s]=v.useState(!1),[a,o]=v.useState("all"),[l,c]=v.useState("all"),[u,A]=v.useState("all"),[d,h]=v.useState(1),[f,m]=v.useState(""),[p,g]=v.useState(!1),[y,x]=v.useState(!1),j=new URLSearchParams(window.location.search).get("filter");v.useEffect(()=>{j==="in"?c("topup"):j==="out"&&c("payment")},[j]);const[C,E]=v.useState(null),[_,B]=v.useState(!1),S=[{value:"all",label:"Semua Periode"},{value:"this_month",label:"Bulan Ini"},{value:"last_month",label:"Bulan Lalu"},{value:"last_3_months",label:"3 Bulan Terakhir"},{value:"last_6_months",label:"6 Bulan Terakhir"},{value:"custom",label:"Periode Tertentu"}],N=[{value:"all",label:"Semua Transaksi"},{value:"payment",label:"Pembayaran"},{value:"topup",label:"Top Up"},{value:"transfer",label:"Transfer"},{value:"refund",label:"Refund"}],P=[{value:"all",label:"Semua Status",color:"gray"},{value:"success",label:"Berhasil",color:"green"},{value:"pending",label:"Dalam Proses",color:"yellow"},{value:"failed",label:"Gagal",color:"red"}],I=NPe.filter(X=>{if(!(f===""||X.id.toLowerCase().includes(f.toLowerCase())||X.productName.toLowerCase().includes(f.toLowerCase())||X.customerId&&X.customerId.toLowerCase().includes(f.toLowerCase())))return!1;let Z=!0;if(a!=="all"){const ue=new Date(X.createdAt),le=new Date,Ae=le.getDate(),me=le.getMonth(),_e=le.getFullYear();if(a==="today")Z=ue.getDate()===Ae&&ue.getMonth()===me&&ue.getFullYear()===_e;else if(a==="week"){const W=new Date(le);W.setDate(le.getDate()-le.getDay()),W.setHours(0,0,0,0),Z=ue>=W}else a==="month"&&(Z=ue.getMonth()===me&&ue.getFullYear()===_e)}return!Z||!(l==="all"||X.type===l)||!(u==="all"||X.status===u)?!1:y?X.type==="topup"||X.type==="withdraw"||X.paymentMethod==="wallet"||X.productName.toLowerCase().includes("wallet")||X.description&&X.description.toLowerCase().includes("wallet"):!0}),T=5,D=Math.ceil(I.length/T),M=I.slice((d-1)*T,d*T),H=X=>{E(X),B(!0)},U=X=>{const se=P.find(Z=>Z.value===X);return se?i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium bg-${se.color}-100 text-${se.color}-800`,children:se.label}):null},O=X=>{switch(X){case"payment":return i.jsx(q.creditCard,{className:"h-5 w-5 text-blue-500"});case"topup":return i.jsx(q.plus,{className:"h-5 w-5 text-green-500"});case"transfer":return i.jsx(q.arrowRight,{className:"h-5 w-5 text-orange-500"});case"refund":return i.jsx(q.arrowRight,{className:"h-5 w-5 text-purple-500 rotate-180"});default:return i.jsx(q.activity,{className:"h-5 w-5"})}},R=()=>{g(!0),setTimeout(()=>{g(!1)},1e3)};v.useEffect(()=>{c(e==="in"?"topup":e==="out"?"payment":"all")},[e]);const Q=()=>{s(!1),g(!0)},G=X=>X.reduce((se,Z)=>{const K=new Date(Z.createdAt);let ne;return lIe(K)?ne="Hari Ini":uIe(K)?ne="Kemarin":oIe(K)?ne=Bn(K,"EEEE",{locale:Ya}):iIe(K)?ne=Bn(K,"d MMMM",{locale:Ya}):ne=Bn(K,"d MMMM yyyy",{locale:Ya}),se[ne]||(se[ne]=[]),se[ne].push(Z),se},{});return i.jsxs(Wt,{children:[i.jsxs("div",{className:"bg-white sticky top-0 z-10 border-b border-gray-100",children:[i.jsxs("div",{className:"flex items-center px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob/wallet"),className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100",children:i.jsx(q.chevronLeft,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold ml-4 flex-1",children:"Riwayat Transaksi"}),i.jsx("button",{onClick:R,className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100",children:i.jsx(q.refreshCw,{className:"h-4 w-4"})}),i.jsxs(To,{open:n,onOpenChange:s,children:[i.jsx(S1,{asChild:!0,children:i.jsx("button",{className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100 ml-1",children:i.jsx(q.filter,{className:"h-4 w-4"})})}),i.jsxs($i,{side:"right",className:"w-[300px] sm:w-[400px]",children:[i.jsx(Io,{children:i.jsx(Po,{children:"Filter Transaksi"})}),i.jsxs("div",{className:"py-6 space-y-5",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Periode"}),i.jsxs(us,{value:a,onValueChange:o,children:[i.jsx(Ln,{className:"w-full",children:i.jsx(As,{placeholder:"Pilih periode"})}),i.jsx($n,{children:S.map(X=>i.jsx(vt,{value:X.value,children:X.label},X.value))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Jenis Transaksi"}),i.jsxs(us,{value:l,onValueChange:c,children:[i.jsx(Ln,{className:"w-full",children:i.jsx(As,{placeholder:"Pilih jenis transaksi"})}),i.jsx($n,{children:N.map(X=>i.jsx(vt,{value:X.value,children:X.label},X.value))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Status"}),i.jsxs(us,{value:u,onValueChange:A,children:[i.jsx(Ln,{className:"w-full",children:i.jsx(As,{placeholder:"Pilih status"})}),i.jsx($n,{children:P.map(X=>i.jsx(vt,{value:X.value,children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-2 h-2 rounded-full bg-${X.color}-500 mr-2`}),X.label]})},X.value))})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"walletOnly",checked:y,onChange:X=>x(X.target.checked),className:"rounded border-gray-300 text-primary focus:ring-primary"}),i.jsx("label",{htmlFor:"walletOnly",className:"text-sm font-medium",children:"Hanya transaksi dompet PPOB"})]})]}),i.jsx(Tl,{children:i.jsx(V,{onClick:Q,className:"w-full",children:"Terapkan Filter"})})]})]})]}),i.jsx(sa,{defaultValue:"all",value:e,onValueChange:X=>r(X),className:"w-full",children:i.jsxs(Fs,{className:"w-full grid grid-cols-3 h-12 bg-gray-100 p-1 rounded-none",children:[i.jsx(Ft,{value:"all",className:"rounded-md data-[state=active]:bg-white",children:"Semua"}),i.jsxs(Ft,{value:"in",className:"rounded-md data-[state=active]:bg-white",children:[i.jsx(q.arrowDownCircle,{className:"h-4 w-4 mr-1 text-green-500"}),"Masuk"]}),i.jsxs(Ft,{value:"out",className:"rounded-md data-[state=active]:bg-white",children:[i.jsx(q.arrowUpCircle,{className:"h-4 w-4 mr-1 text-red-500"}),"Keluar"]})]})})]}),i.jsx("div",{className:"px-4 py-3 bg-white border-b border-gray-100",children:i.jsxs("div",{className:"relative",children:[i.jsx(q.search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(ce,{value:f,onChange:X=>m(X.target.value),placeholder:"Cari transaksi...",className:"pl-10 pr-4 py-2 w-full bg-gray-50 border-gray-200"})]})}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-6",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Cari Transaksi"}),i.jsx(ce,{placeholder:"Cari transaksi...",value:f,onChange:X=>m(X.target.value),className:"w-full"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Periode"}),i.jsxs(us,{value:a,onValueChange:o,children:[i.jsx(Ln,{children:i.jsx(As,{placeholder:"Pilih periode"})}),i.jsxs($n,{children:[i.jsx(vt,{value:"all",children:"Semua Waktu"}),i.jsx(vt,{value:"today",children:"Hari Ini"}),i.jsx(vt,{value:"week",children:"Minggu Ini"}),i.jsx(vt,{value:"month",children:"Bulan Ini"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Jenis Transaksi"}),i.jsxs(us,{value:l,onValueChange:c,children:[i.jsx(Ln,{children:i.jsx(As,{placeholder:"Pilih jenis transaksi"})}),i.jsxs($n,{children:[i.jsx(vt,{value:"all",children:"Semua Jenis"}),i.jsx(vt,{value:"payment",children:"Pembayaran"}),i.jsx(vt,{value:"topup",children:"Top Up"}),i.jsx(vt,{value:"transfer",children:"Transfer"}),i.jsx(vt,{value:"refund",children:"Refund"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Status"}),i.jsxs(us,{value:u,onValueChange:A,children:[i.jsx(Ln,{children:i.jsx(As,{placeholder:"Pilih status"})}),i.jsx($n,{children:P.map(X=>i.jsx(vt,{value:X.value,children:X.label},X.value))})]})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between mt-4 pb-2",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 overflow-x-auto",children:[i.jsxs(V,{variant:l==="all"?"default":"outline",size:"sm",onClick:()=>c("all"),className:"whitespace-nowrap",children:[i.jsx(q.activity,{className:"mr-2 h-4 w-4"}),"Semua"]}),i.jsxs(V,{variant:l==="topup"?"default":"outline",size:"sm",onClick:()=>c("topup"),className:"whitespace-nowrap",children:[i.jsx(q.arrowRight,{className:"mr-2 h-4 w-4 rotate-180"}),"Masuk"]}),i.jsxs(V,{variant:l==="payment"?"default":"outline",size:"sm",onClick:()=>c("payment"),className:"whitespace-nowrap",children:[i.jsx(q.arrowRight,{className:"mr-2 h-4 w-4"}),"Keluar"]}),i.jsxs(V,{variant:l==="transfer"?"default":"outline",size:"sm",onClick:()=>c("transfer"),className:"whitespace-nowrap",children:[i.jsx(q.repeat,{className:"mr-2 h-4 w-4"}),"Transfer"]}),i.jsxs(V,{variant:l==="refund"?"default":"outline",size:"sm",onClick:()=>c("refund"),className:"whitespace-nowrap",children:[i.jsx(q.undo,{className:"mr-2 h-4 w-4"}),"Refund"]})]}),i.jsxs(V,{variant:y?"default":"outline",size:"sm",onClick:()=>x(!y),title:y?"Semua Transaksi":"Hanya Transaksi Wallet",children:[i.jsx(q.wallet,{className:"mr-2 h-4 w-4"}),y?"Semua Transaksi":"Transaksi Wallet"]})]})]}),i.jsx(vd,{className:"flex-1 h-[calc(100vh-180px)]",children:p?i.jsx("div",{className:"p-4 space-y-4",children:[1,2,3,4,5].map(X=>i.jsx(ye,{className:"overflow-hidden",children:i.jsx(xe,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Mp,{className:"h-10 w-10 rounded-full"}),i.jsxs("div",{className:"space-y-2 flex-1",children:[i.jsx(Mp,{className:"h-4 w-3/4"}),i.jsx(Mp,{className:"h-3 w-1/2"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx(Mp,{className:"h-4 w-20 ml-auto"}),i.jsx(Mp,{className:"h-3 w-16 mt-2 ml-auto"})]})]})})},X))}):M.length>0?i.jsx("div",{className:"divide-y divide-gray-100",children:Object.entries(G(M)).map(([X,se])=>i.jsxs("div",{className:"bg-white",children:[i.jsx("div",{className:"sticky top-0 bg-gray-50 px-4 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider",children:X}),i.jsx("div",{className:"divide-y divide-gray-100",children:se.map(Z=>i.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors cursor-pointer active:bg-gray-100",onClick:()=>H(Z),children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"flex-shrink-0 bg-blue-50 rounded-full p-2 mt-0.5",children:O(Z.type)}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-gray-900",children:Z.productName}),i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:Z.id}),i.jsx("div",{className:"mt-1",children:U(Z.status)})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:`font-medium ${Z.type==="topup"||Z.type==="refund"?"text-green-600":"text-red-600"}`,children:[Z.type==="topup"||Z.type==="refund"?"+":"-",ge(Z.totalAmount)]}),i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:Bn(new Date(Z.createdAt),"HH:mm")})]})]})},Z.id))})]},X))}):i.jsxs("div",{className:"py-12 flex flex-col items-center justify-center text-center px-4",children:[i.jsx("div",{className:"bg-gray-50 rounded-full p-4 mb-4",children:i.jsx(q.fileSearch,{className:"h-8 w-8 text-gray-400"})}),i.jsx("h3",{className:"font-medium text-gray-900",children:"Tidak ada transaksi"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1 max-w-xs",children:"Tidak ada transaksi yang sesuai dengan filter yang dipilih."}),i.jsxs(V,{variant:"outline",size:"sm",onClick:()=>{c("all"),A("all"),o("all"),m(""),x(!1),r("all")},className:"mt-4",children:[i.jsx(q.filterX,{className:"h-4 w-4 mr-2"}),"Reset Filter"]})]})}),M.length>0&&D>1&&i.jsx("div",{className:"py-4 border-t border-gray-100 bg-white sticky bottom-0 left-0 right-0 px-4",children:i.jsx(bZ,{children:i.jsxs(jZ,{children:[i.jsx(yb,{children:i.jsx(_Z,{onClick:()=>h(Math.max(1,d-1)),"aria-disabled":d===1,className:d===1?"pointer-events-none opacity-50":""})}),Array.from({length:Math.min(D,5)}).map((X,se)=>{let Z=se+1;return D>5&&d>3&&(Z=d-3+se,Z>D)?null:i.jsx(yb,{children:i.jsx($C,{onClick:()=>h(Z),isActive:d===Z,children:Z})},se)}),i.jsx(yb,{children:i.jsx(CZ,{onClick:()=>h(Math.min(D,d+1)),"aria-disabled":d===D,className:d===D?"pointer-events-none opacity-50":""})})]})})}),i.jsx(fr,{open:_,onOpenChange:B,children:i.jsx(ir,{className:"sm:max-w-md p-0",children:C&&i.jsx(SPe,{transaction:C,onClose:()=>B(!1)})})})]})}var BZ={exports:{}},TPe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",IPe=TPe,PPe=IPe;function EZ(){}function SZ(){}SZ.resetWarningCache=EZ;var OPe=function(){function t(n,s,a,o,l,c){if(c!==PPe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:SZ,resetWarningCache:EZ};return r.PropTypes=r,r};BZ.exports=OPe();var e4=BZ.exports;const We=Jt(e4);function FPe(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var NZ=v,DPe=FPe(NZ);function W5(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RPe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var UPe=!!(typeof window<"u"&&window.document&&window.document.createElement);function MPe(t,e,r){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof r<"u"&&typeof r!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function n(s){return s.displayName||s.name||"Component"}return function(a){if(typeof a!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function c(){l=t(o.map(function(A){return A.props})),u.canUseDOM?e(l):r&&(l=r(l))}var u=function(A){RPe(d,A);function d(){return A.apply(this,arguments)||this}d.peek=function(){return l},d.rewind=function(){if(d.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var m=l;return l=void 0,o=[],m};var h=d.prototype;return h.UNSAFE_componentWillMount=function(){o.push(this),c()},h.componentDidUpdate=function(){c()},h.componentWillUnmount=function(){var m=o.indexOf(this);o.splice(m,1),c()},h.render=function(){return DPe.createElement(a,this.props)},d}(NZ.PureComponent);return W5(u,"displayName","SideEffect("+n(a)+")"),W5(u,"canUseDOM",UPe),u}}var QPe=MPe;const LPe=Jt(QPe);var $Pe=typeof Element<"u",HPe=typeof Map=="function",VPe=typeof Set=="function",KPe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function xb(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,n,s;if(Array.isArray(t)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(!xb(t[n],e[n]))return!1;return!0}var a;if(HPe&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(a=t.entries();!(n=a.next()).done;)if(!e.has(n.value[0]))return!1;for(a=t.entries();!(n=a.next()).done;)if(!xb(n.value[1],e.get(n.value[0])))return!1;return!0}if(VPe&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(a=t.entries();!(n=a.next()).done;)if(!e.has(n.value[0]))return!1;return!0}if(KPe&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(t[n]!==e[n])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[n]))return!1;if($Pe&&t instanceof Element)return!1;for(n=r;n--!==0;)if(!((s[n]==="_owner"||s[n]==="__v"||s[n]==="__o")&&t.$$typeof)&&!xb(t[s[n]],e[s[n]]))return!1;return!0}return t!==t&&e!==e}var zPe=function(e,r){try{return xb(e,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const GPe=Jt(zPe);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var q5=Object.getOwnPropertySymbols,WPe=Object.prototype.hasOwnProperty,qPe=Object.prototype.propertyIsEnumerable;function XPe(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function JPe(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(a){return e[a]});if(n.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(a){s[a]=a}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var YPe=JPe()?Object.assign:function(t,e){for(var r,n=XPe(t),s,a=1;a<arguments.length;a++){r=Object(arguments[a]);for(var o in r)WPe.call(r,o)&&(n[o]=r[o]);if(q5){s=q5(r);for(var l=0;l<s.length;l++)qPe.call(r,s[l])&&(n[s[l]]=r[s[l]])}}return n};const ZPe=Jt(YPe);var GA={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},xt={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(xt).map(function(t){return xt[t]});var Or={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},rj={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},cy={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},eOe=Object.keys(rj).reduce(function(t,e){return t[rj[e]]=e,t},{}),tOe=[xt.NOSCRIPT,xt.SCRIPT,xt.STYLE],Ti="data-react-helmet",rOe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nOe=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},sOe=function(){function t(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Hs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aOe=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},X5=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},iOe=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},f2=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},oOe=function(e){var r=Xh(e,xt.TITLE),n=Xh(e,cy.TITLE_TEMPLATE);if(n&&r)return n.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var s=Xh(e,cy.DEFAULT_TITLE);return r||s||void 0},lOe=function(e){return Xh(e,cy.ON_CHANGE_CLIENT_STATE)||function(){}},FS=function(e,r){return r.filter(function(n){return typeof n[e]<"u"}).map(function(n){return n[e]}).reduce(function(n,s){return Hs({},n,s)},{})},cOe=function(e,r){return r.filter(function(n){return typeof n[xt.BASE]<"u"}).map(function(n){return n[xt.BASE]}).reverse().reduce(function(n,s){if(!n.length)for(var a=Object.keys(s),o=0;o<a.length;o++){var l=a[o],c=l.toLowerCase();if(e.indexOf(c)!==-1&&s[c])return n.concat(s)}return n},[])},Qp=function(e,r,n){var s={};return n.filter(function(a){return Array.isArray(a[e])?!0:(typeof a[e]<"u"&&hOe("Helmet: "+e+' should be of type "Array". Instead found type "'+rOe(a[e])+'"'),!1)}).map(function(a){return a[e]}).reverse().reduce(function(a,o){var l={};o.filter(function(h){for(var f=void 0,m=Object.keys(h),p=0;p<m.length;p++){var g=m[p],y=g.toLowerCase();r.indexOf(y)!==-1&&!(f===Or.REL&&h[f].toLowerCase()==="canonical")&&!(y===Or.REL&&h[y].toLowerCase()==="stylesheet")&&(f=y),r.indexOf(g)!==-1&&(g===Or.INNER_HTML||g===Or.CSS_TEXT||g===Or.ITEM_PROP)&&(f=g)}if(!f||!h[f])return!1;var x=h[f].toLowerCase();return s[f]||(s[f]={}),l[f]||(l[f]={}),s[f][x]?!1:(l[f][x]=!0,!0)}).reverse().forEach(function(h){return a.push(h)});for(var c=Object.keys(l),u=0;u<c.length;u++){var A=c[u],d=ZPe({},s[A],l[A]);s[A]=d}return a},[]).reverse()},Xh=function(e,r){for(var n=e.length-1;n>=0;n--){var s=e[n];if(s.hasOwnProperty(r))return s[r]}return null},uOe=function(e){return{baseTag:cOe([Or.HREF,Or.TARGET],e),bodyAttributes:FS(GA.BODY,e),defer:Xh(e,cy.DEFER),encode:Xh(e,cy.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:FS(GA.HTML,e),linkTags:Qp(xt.LINK,[Or.REL,Or.HREF],e),metaTags:Qp(xt.META,[Or.NAME,Or.CHARSET,Or.HTTPEQUIV,Or.PROPERTY,Or.ITEM_PROP],e),noscriptTags:Qp(xt.NOSCRIPT,[Or.INNER_HTML],e),onChangeClientState:lOe(e),scriptTags:Qp(xt.SCRIPT,[Or.SRC,Or.INNER_HTML],e),styleTags:Qp(xt.STYLE,[Or.CSS_TEXT],e),title:oOe(e),titleAttributes:FS(GA.TITLE,e)}},m2=function(){var t=Date.now();return function(e){var r=Date.now();r-t>16?(t=r,e(r)):setTimeout(function(){m2(e)},0)}}(),J5=function(e){return clearTimeout(e)},AOe=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||m2:global.requestAnimationFrame||m2,dOe=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||J5:global.cancelAnimationFrame||J5,hOe=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Lp=null,fOe=function(e){Lp&&dOe(Lp),e.defer?Lp=AOe(function(){Y5(e,function(){Lp=null})}):(Y5(e),Lp=null)},Y5=function(e,r){var n=e.baseTag,s=e.bodyAttributes,a=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.onChangeClientState,A=e.scriptTags,d=e.styleTags,h=e.title,f=e.titleAttributes;p2(xt.BODY,s),p2(xt.HTML,a),mOe(h,f);var m={baseTag:ah(xt.BASE,n),linkTags:ah(xt.LINK,o),metaTags:ah(xt.META,l),noscriptTags:ah(xt.NOSCRIPT,c),scriptTags:ah(xt.SCRIPT,A),styleTags:ah(xt.STYLE,d)},p={},g={};Object.keys(m).forEach(function(y){var x=m[y],b=x.newTags,j=x.oldTags;b.length&&(p[y]=b),j.length&&(g[y]=m[y].oldTags)}),r&&r(),u(e,p,g)},kZ=function(e){return Array.isArray(e)?e.join(""):e},mOe=function(e,r){typeof e<"u"&&document.title!==e&&(document.title=kZ(e)),p2(xt.TITLE,r)},p2=function(e,r){var n=document.getElementsByTagName(e)[0];if(n){for(var s=n.getAttribute(Ti),a=s?s.split(","):[],o=[].concat(a),l=Object.keys(r),c=0;c<l.length;c++){var u=l[c],A=r[u]||"";n.getAttribute(u)!==A&&n.setAttribute(u,A),a.indexOf(u)===-1&&a.push(u);var d=o.indexOf(u);d!==-1&&o.splice(d,1)}for(var h=o.length-1;h>=0;h--)n.removeAttribute(o[h]);a.length===o.length?n.removeAttribute(Ti):n.getAttribute(Ti)!==l.join(",")&&n.setAttribute(Ti,l.join(","))}},ah=function(e,r){var n=document.head||document.querySelector(xt.HEAD),s=n.querySelectorAll(e+"["+Ti+"]"),a=Array.prototype.slice.call(s),o=[],l=void 0;return r&&r.length&&r.forEach(function(c){var u=document.createElement(e);for(var A in c)if(c.hasOwnProperty(A))if(A===Or.INNER_HTML)u.innerHTML=c.innerHTML;else if(A===Or.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var d=typeof c[A]>"u"?"":c[A];u.setAttribute(A,d)}u.setAttribute(Ti,"true"),a.some(function(h,f){return l=f,u.isEqualNode(h)})?a.splice(l,1):o.push(u)}),a.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return n.appendChild(c)}),{oldTags:a,newTags:o}},TZ=function(e){return Object.keys(e).reduce(function(r,n){var s=typeof e[n]<"u"?n+'="'+e[n]+'"':""+n;return r?r+" "+s:s},"")},pOe=function(e,r,n,s){var a=TZ(n),o=kZ(r);return a?"<"+e+" "+Ti+'="true" '+a+">"+f2(o,s)+"</"+e+">":"<"+e+" "+Ti+'="true">'+f2(o,s)+"</"+e+">"},gOe=function(e,r,n){return r.reduce(function(s,a){var o=Object.keys(a).filter(function(u){return!(u===Or.INNER_HTML||u===Or.CSS_TEXT)}).reduce(function(u,A){var d=typeof a[A]>"u"?A:A+'="'+f2(a[A],n)+'"';return u?u+" "+d:d},""),l=a.innerHTML||a.cssText||"",c=tOe.indexOf(e)===-1;return s+"<"+e+" "+Ti+'="true" '+o+(c?"/>":">"+l+"</"+e+">")},"")},IZ=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(n,s){return n[rj[s]||s]=e[s],n},r)},vOe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(n,s){return n[eOe[s]||s]=e[s],n},r)},yOe=function(e,r,n){var s,a=(s={key:r},s[Ti]=!0,s),o=IZ(n,a);return[$.createElement(xt.TITLE,o,r)]},xOe=function(e,r){return r.map(function(n,s){var a,o=(a={key:s},a[Ti]=!0,a);return Object.keys(n).forEach(function(l){var c=rj[l]||l;if(c===Or.INNER_HTML||c===Or.CSS_TEXT){var u=n.innerHTML||n.cssText;o.dangerouslySetInnerHTML={__html:u}}else o[c]=n[l]}),$.createElement(e,o)})},Xo=function(e,r,n){switch(e){case xt.TITLE:return{toComponent:function(){return yOe(e,r.title,r.titleAttributes)},toString:function(){return pOe(e,r.title,r.titleAttributes,n)}};case GA.BODY:case GA.HTML:return{toComponent:function(){return IZ(r)},toString:function(){return TZ(r)}};default:return{toComponent:function(){return xOe(e,r)},toString:function(){return gOe(e,r,n)}}}},PZ=function(e){var r=e.baseTag,n=e.bodyAttributes,s=e.encode,a=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.scriptTags,A=e.styleTags,d=e.title,h=d===void 0?"":d,f=e.titleAttributes;return{base:Xo(xt.BASE,r,s),bodyAttributes:Xo(GA.BODY,n,s),htmlAttributes:Xo(GA.HTML,a,s),link:Xo(xt.LINK,o,s),meta:Xo(xt.META,l,s),noscript:Xo(xt.NOSCRIPT,c,s),script:Xo(xt.SCRIPT,u,s),style:Xo(xt.STYLE,A,s),title:Xo(xt.TITLE,{title:h,titleAttributes:f},s)}},wOe=function(e){var r,n;return n=r=function(s){aOe(a,s);function a(){return nOe(this,a),iOe(this,s.apply(this,arguments))}return a.prototype.shouldComponentUpdate=function(l){return!GPe(this.props,l)},a.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case xt.SCRIPT:case xt.NOSCRIPT:return{innerHTML:c};case xt.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},a.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,A=l.arrayTypeChildren,d=l.newChildProps,h=l.nestedChildren;return Hs({},A,(c={},c[u.type]=[].concat(A[u.type]||[],[Hs({},d,this.mapNestedChildrenToProps(u,h))]),c))},a.prototype.mapObjectTypeChildren=function(l){var c,u,A=l.child,d=l.newProps,h=l.newChildProps,f=l.nestedChildren;switch(A.type){case xt.TITLE:return Hs({},d,(c={},c[A.type]=f,c.titleAttributes=Hs({},h),c));case xt.BODY:return Hs({},d,{bodyAttributes:Hs({},h)});case xt.HTML:return Hs({},d,{htmlAttributes:Hs({},h)})}return Hs({},d,(u={},u[A.type]=Hs({},h),u))},a.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=Hs({},c);return Object.keys(l).forEach(function(A){var d;u=Hs({},u,(d={},d[A]=l[A],d))}),u},a.prototype.warnOnInvalidChildren=function(l,c){return!0},a.prototype.mapChildrenToProps=function(l,c){var u=this,A={};return $.Children.forEach(l,function(d){if(!(!d||!d.props)){var h=d.props,f=h.children,m=X5(h,["children"]),p=vOe(m);switch(u.warnOnInvalidChildren(d,f),d.type){case xt.LINK:case xt.META:case xt.NOSCRIPT:case xt.SCRIPT:case xt.STYLE:A=u.flattenArrayTypeChildren({child:d,arrayTypeChildren:A,newChildProps:p,nestedChildren:f});break;default:c=u.mapObjectTypeChildren({child:d,newProps:c,newChildProps:p,nestedChildren:f});break}}}),c=this.mapArrayTypeChildrenToProps(A,c),c},a.prototype.render=function(){var l=this.props,c=l.children,u=X5(l,["children"]),A=Hs({},u);return c&&(A=this.mapChildrenToProps(c,A)),$.createElement(e,A)},sOe(a,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),a}($.Component),r.propTypes={base:We.object,bodyAttributes:We.object,children:We.oneOfType([We.arrayOf(We.node),We.node]),defaultTitle:We.string,defer:We.bool,encodeSpecialCharacters:We.bool,htmlAttributes:We.object,link:We.arrayOf(We.object),meta:We.arrayOf(We.object),noscript:We.arrayOf(We.object),onChangeClientState:We.func,script:We.arrayOf(We.object),style:We.arrayOf(We.object),title:We.string,titleAttributes:We.object,titleTemplate:We.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=e.peek,r.rewind=function(){var s=e.rewind();return s||(s=PZ({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},n},bOe=function(){return null},jOe=LPe(uOe,fOe,PZ)(bOe),Ui=wOe(jOe);Ui.renderStatic=Ui.rewind;function _Oe({children:t}){return qr(),i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("header",{className:"bg-white shadow-sm",children:i.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[i.jsx(st,{to:"/",className:"text-xl font-bold text-primary",children:"JPC Digi"}),i.jsxs("nav",{className:"hidden md:flex space-x-6",children:[i.jsx(st,{to:"/",className:"text-gray-700 hover:text-primary",children:"Beranda"}),i.jsx(st,{to:"/search",className:"text-gray-700 hover:text-primary",children:"Produk"}),i.jsx(st,{to:"/ppob",className:"text-gray-700 hover:text-primary",children:"PPOB"}),i.jsx(st,{to:"/orders",className:"text-gray-700 hover:text-primary",children:"Pesanan"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(st,{to:"/cart",className:"text-gray-700 hover:text-primary",children:[i.jsx("span",{className:"sr-only",children:"Keranjang"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})]}),i.jsxs(st,{to:"/profile",className:"text-gray-700 hover:text-primary",children:[i.jsx("span",{className:"sr-only",children:"Profil"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})]})]})]})}),i.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-10",children:i.jsxs("div",{className:"grid grid-cols-5",children:[i.jsxs(st,{to:"/",className:"flex flex-col items-center py-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),i.jsx("span",{className:"text-xs",children:"Beranda"})]}),i.jsxs(st,{to:"/search",className:"flex flex-col items-center py-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i.jsx("span",{className:"text-xs",children:"Produk"})]}),i.jsxs(st,{to:"/ppob",className:"flex flex-col items-center py-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{className:"text-xs",children:"PPOB"})]}),i.jsxs(st,{to:"/cart",className:"flex flex-col items-center py-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),i.jsx("span",{className:"text-xs",children:"Keranjang"})]}),i.jsxs(st,{to:"/profile",className:"flex flex-col items-center py-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),i.jsx("span",{className:"text-xs",children:"Profil"})]})]})}),i.jsx("main",{className:"pb-20 md:pb-0",children:t}),i.jsx("footer",{className:"bg-gray-800 text-gray-300 py-8 mt-12",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"JPC Digi"}),i.jsx("p",{className:"text-sm",children:"Platform digital terpercaya untuk kebutuhan belanja dan layanan PPOB Anda."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Hubungi Kami"}),i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsx("li",{children:"Email: support@jpcdigi.com"}),i.jsx("li",{children:"Telepon: (021) 1234-5678"}),i.jsx("li",{children:"WhatsApp: 0812-3456-7890"})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Ikuti Kami"}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs("a",{href:"#",className:"text-gray-300 hover:text-white",children:[i.jsx("span",{className:"sr-only",children:"Facebook"}),i.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),i.jsxs("a",{href:"#",className:"text-gray-300 hover:text-white",children:[i.jsx("span",{className:"sr-only",children:"Instagram"}),i.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),i.jsxs("a",{href:"#",className:"text-gray-300 hover:text-white",children:[i.jsx("span",{className:"sr-only",children:"Twitter"}),i.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]})]})]})]}),i.jsx("div",{className:"mt-8 border-t border-gray-700 pt-6 text-sm text-center",children:i.jsxs("p",{children:[" ",new Date().getFullYear()," JPC Digi. All rights reserved."]})})]})})]})}function COe(){const[t,e]=v.useState("identity"),[r,n]=v.useState(!1),[s,a]=v.useState(!1),[o,l]=v.useState(null),[c,u]=v.useState(null),A=Tt(),[d,h]=v.useState({nik:"",fullName:"",birthPlace:"",birthDate:"",gender:"",address:"",rt:"",rw:"",village:"",district:"",city:"",province:"",religion:"",maritalStatus:"",occupation:""}),f=y=>{const{name:x,value:b}=y.target;h(j=>({...j,[x]:b}))},m=y=>{y.target.files&&y.target.files[0]&&(n(!0),setTimeout(()=>{const x=new FileReader;x.onload=b=>{b.target&&l(b.target.result)},x.readAsDataURL(y.target.files[0]),n(!1)},1500))},p=y=>{y.target.files&&y.target.files[0]&&(n(!0),setTimeout(()=>{const x=new FileReader;x.onload=b=>{b.target&&u(b.target.result)},x.readAsDataURL(y.target.files[0]),n(!1)},1500))},g=y=>{y.preventDefault(),a(!0),setTimeout(()=>{a(!1),A("/ppob")},2e3)};return i.jsxs(_Oe,{children:[i.jsxs(Ui,{children:[i.jsx("title",{children:"Verifikasi Identitas - JPC Digi"}),i.jsx("meta",{name:"description",content:"Verifikasi identitas untuk menggunakan layanan PPOB JPC Digi"})]}),i.jsx("div",{className:"container py-8",children:i.jsxs("div",{className:"max-w-3xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Verifikasi Identitas"}),i.jsx("p",{className:"text-muted-foreground",children:"Verifikasi identitas Anda untuk menggunakan layanan PPOB secara lengkap"})]}),i.jsxs("div",{className:"flex space-x-2 mt-4 sm:mt-0",children:[i.jsxs(V,{variant:"outline",onClick:()=>A("/ppob/wallet"),children:[i.jsx(q.wallet,{className:"mr-2 h-4 w-4"}),"Wallet Saya"]}),i.jsx(V,{variant:"outline",onClick:()=>A("/ppob"),children:"Kembali ke PPOB"})]})]}),i.jsxs(ye,{children:[i.jsxs(ot,{children:[i.jsx(lt,{children:"Lengkapi Verifikasi"}),i.jsx(ur,{children:"Verifikasi identitas sesuai dengan regulasi untuk keamanan transaksi"})]}),i.jsx(xe,{children:i.jsxs(sa,{value:t,onValueChange:e,children:[i.jsxs(Fs,{className:"grid grid-cols-2 mb-6",children:[i.jsx(Ft,{value:"identity",children:"Data Diri"}),i.jsx(Ft,{value:"documents",children:"Dokumen"})]}),i.jsx(er,{value:"identity",children:i.jsxs("form",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"nik",children:"Nomor KTP (NIK)"}),i.jsx(ce,{id:"nik",name:"nik",placeholder:"Masukkan 16 digit NIK",value:d.nik,onChange:f})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"fullName",children:"Nama Lengkap"}),i.jsx(ce,{id:"fullName",name:"fullName",placeholder:"Sesuai KTP",value:d.fullName,onChange:f})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"birthPlace",children:"Tempat Lahir"}),i.jsx(ce,{id:"birthPlace",name:"birthPlace",placeholder:"Kota kelahiran",value:d.birthPlace,onChange:f})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"birthDate",children:"Tanggal Lahir"}),i.jsx(ce,{id:"birthDate",name:"birthDate",type:"date",value:d.birthDate,onChange:f})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"address",children:"Alamat"}),i.jsx(ce,{id:"address",name:"address",placeholder:"Alamat lengkap sesuai KTP",value:d.address,onChange:f})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"rt",children:"RT"}),i.jsx(ce,{id:"rt",name:"rt",placeholder:"RT",value:d.rt,onChange:f})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"rw",children:"RW"}),i.jsx(ce,{id:"rw",name:"rw",placeholder:"RW",value:d.rw,onChange:f})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"village",children:"Kelurahan/Desa"}),i.jsx(ce,{id:"village",name:"village",placeholder:"Kelurahan/Desa",value:d.village,onChange:f})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"district",children:"Kecamatan"}),i.jsx(ce,{id:"district",name:"district",placeholder:"Kecamatan",value:d.district,onChange:f})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"city",children:"Kota/Kabupaten"}),i.jsx(ce,{id:"city",name:"city",placeholder:"Kota/Kabupaten",value:d.city,onChange:f})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"province",children:"Provinsi"}),i.jsx(ce,{id:"province",name:"province",placeholder:"Provinsi",value:d.province,onChange:f})]})]}),i.jsx(V,{type:"button",className:"w-full mt-4",onClick:()=>e("documents"),children:"Lanjutkan"})]})}),i.jsx(er,{value:"documents",children:i.jsxs("form",{onSubmit:g,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Foto KTP"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Unggah foto KTP yang jelas dan tidak terpotong"}),o?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:o,alt:"KTP",className:"w-full max-h-60 object-contain border rounded-md"}),i.jsx(V,{type:"button",variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>l(null),children:"Ganti"})]}):i.jsxs("div",{className:"border border-dashed rounded-md p-8 text-center",children:[i.jsx("input",{type:"file",id:"identity-upload",className:"hidden",accept:"image/*",onChange:m,disabled:r}),i.jsx("label",{htmlFor:"identity-upload",className:"cursor-pointer block",children:r?i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(q.spinner,{className:"h-8 w-8 animate-spin text-primary mb-2"}),i.jsx("p",{children:"Mengunggah..."})]}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mx-auto text-muted-foreground mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),i.jsx("p",{children:"Klik untuk mengunggah foto KTP"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Format: JPG, PNG, maksimal 5MB"})]})})]})]}),i.jsx(vs,{className:"my-6"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Foto Selfie dengan KTP"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Unggah foto diri Anda sambil memegang KTP"}),c?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:c,alt:"Selfie dengan KTP",className:"w-full max-h-60 object-contain border rounded-md"}),i.jsx(V,{type:"button",variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>u(null),children:"Ganti"})]}):i.jsxs("div",{className:"border border-dashed rounded-md p-8 text-center",children:[i.jsx("input",{type:"file",id:"selfie-upload",className:"hidden",accept:"image/*",onChange:p,disabled:r}),i.jsx("label",{htmlFor:"selfie-upload",className:"cursor-pointer block",children:r?i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(q.spinner,{className:"h-8 w-8 animate-spin text-primary mb-2"}),i.jsx("p",{children:"Mengunggah..."})]}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mx-auto text-muted-foreground mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),i.jsx("p",{children:"Klik untuk mengunggah foto selfie dengan KTP"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Format: JPG, PNG, maksimal 5MB"})]})})]})]})]}),i.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-between gap-2",children:[i.jsx(V,{type:"button",variant:"outline",onClick:()=>e("identity"),children:"Kembali"}),i.jsx(V,{type:"submit",disabled:!o||!c||s,children:s?i.jsxs(i.Fragment,{children:[i.jsx(q.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Kirim Verifikasi"})]})]})})]})}),i.jsxs(Ja,{className:"flex flex-col text-xs text-muted-foreground border-t pt-4",children:[i.jsx("p",{children:"Data yang dikirimkan akan digunakan untuk keperluan verifikasi identitas sesuai regulasi."}),i.jsx("p",{children:"JPC Digi menjamin keamanan dan kerahasiaan data pribadi Anda."})]})]})]})})]})}var HC={},OZ={L:1,M:0,Q:3,H:2},FZ={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},BOe=FZ;function DZ(t){this.mode=BOe.MODE_8BIT_BYTE,this.data=t}DZ.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}};var EOe=DZ,gw=OZ;function mo(t,e){this.totalCount=t,this.dataCount=e}mo.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];mo.getRSBlocks=function(t,e){var r=mo.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,s=new Array,a=0;a<n;a++)for(var o=r[a*3+0],l=r[a*3+1],c=r[a*3+2],u=0;u<o;u++)s.push(new mo(l,c));return s};mo.getRsBlockTable=function(t,e){switch(e){case gw.L:return mo.RS_BLOCK_TABLE[(t-1)*4+0];case gw.M:return mo.RS_BLOCK_TABLE[(t-1)*4+1];case gw.Q:return mo.RS_BLOCK_TABLE[(t-1)*4+2];case gw.H:return mo.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};var SOe=mo;function RZ(){this.buffer=new Array,this.length=0}RZ.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var NOe=RZ,Ei={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Ei.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Ei.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Un=0;Un<8;Un++)Ei.EXP_TABLE[Un]=1<<Un;for(var Un=8;Un<256;Un++)Ei.EXP_TABLE[Un]=Ei.EXP_TABLE[Un-4]^Ei.EXP_TABLE[Un-5]^Ei.EXP_TABLE[Un-6]^Ei.EXP_TABLE[Un-8];for(var Un=0;Un<255;Un++)Ei.LOG_TABLE[Ei.EXP_TABLE[Un]]=Un;var UZ=Ei,Ju=UZ;function wb(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}wb.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=Ju.gexp(Ju.glog(this.get(r))+Ju.glog(t.get(n)));return new wb(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=Ju.glog(this.get(0))-Ju.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=Ju.gexp(Ju.glog(t.get(n))+e);return new wb(r,0).mod(t)}};var MZ=wb,Pa=FZ,Z5=MZ,kOe=UZ,ac={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},In={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;In.getBCHDigit(e)-In.getBCHDigit(In.G15)>=0;)e^=In.G15<<In.getBCHDigit(e)-In.getBCHDigit(In.G15);return(t<<10|e)^In.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;In.getBCHDigit(e)-In.getBCHDigit(In.G18)>=0;)e^=In.G18<<In.getBCHDigit(e)-In.getBCHDigit(In.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return In.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case ac.PATTERN000:return(e+r)%2==0;case ac.PATTERN001:return e%2==0;case ac.PATTERN010:return r%3==0;case ac.PATTERN011:return(e+r)%3==0;case ac.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case ac.PATTERN101:return e*r%2+e*r%3==0;case ac.PATTERN110:return(e*r%2+e*r%3)%2==0;case ac.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new Z5([1],0),r=0;r<t;r++)e=e.multiply(new Z5([1,kOe.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Pa.MODE_NUMBER:return 10;case Pa.MODE_ALPHA_NUM:return 9;case Pa.MODE_8BIT_BYTE:return 8;case Pa.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Pa.MODE_NUMBER:return 12;case Pa.MODE_ALPHA_NUM:return 11;case Pa.MODE_8BIT_BYTE:return 16;case Pa.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case Pa.MODE_NUMBER:return 14;case Pa.MODE_ALPHA_NUM:return 13;case Pa.MODE_8BIT_BYTE:return 16;case Pa.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var s=0;s<e;s++){for(var a=0,o=t.isDark(n,s),l=-1;l<=1;l++)if(!(n+l<0||e<=n+l))for(var c=-1;c<=1;c++)s+c<0||e<=s+c||l==0&&c==0||o==t.isDark(n+l,s+c)&&a++;a>5&&(r+=3+a-5)}for(var n=0;n<e-1;n++)for(var s=0;s<e-1;s++){var u=0;t.isDark(n,s)&&u++,t.isDark(n+1,s)&&u++,t.isDark(n,s+1)&&u++,t.isDark(n+1,s+1)&&u++,(u==0||u==4)&&(r+=3)}for(var n=0;n<e;n++)for(var s=0;s<e-6;s++)t.isDark(n,s)&&!t.isDark(n,s+1)&&t.isDark(n,s+2)&&t.isDark(n,s+3)&&t.isDark(n,s+4)&&!t.isDark(n,s+5)&&t.isDark(n,s+6)&&(r+=40);for(var s=0;s<e;s++)for(var n=0;n<e-6;n++)t.isDark(n,s)&&!t.isDark(n+1,s)&&t.isDark(n+2,s)&&t.isDark(n+3,s)&&t.isDark(n+4,s)&&!t.isDark(n+5,s)&&t.isDark(n+6,s)&&(r+=40);for(var A=0,s=0;s<e;s++)for(var n=0;n<e;n++)t.isDark(n,s)&&A++;var d=Math.abs(100*A/e/e-50)/5;return r+=d*10,r}},TOe=In,IOe=EOe,QZ=SOe,LZ=NOe,Ru=TOe,POe=MZ;function yo(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var Ia=yo.prototype;Ia.addData=function(t){var e=new IOe(t);this.dataList.push(e),this.dataCache=null};Ia.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]};Ia.getModuleCount=function(){return this.moduleCount};Ia.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=QZ.getRSBlocks(t,this.errorCorrectLevel),r=new LZ,n=0,s=0;s<e.length;s++)n+=e[s].dataCount;for(var s=0;s<this.dataList.length;s++){var a=this.dataList[s];r.put(a.mode,4),r.put(a.getLength(),Ru.getLengthInBits(a.mode,t)),a.write(r)}if(r.getLengthInBits()<=n*8)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())};Ia.makeImpl=function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=yo.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)};Ia.setupPositionProbePattern=function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)};Ia.getBestMaskPattern=function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Ru.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e};Ia.createMovieClip=function(t,e,r){var n=t.createEmptyMovieClip(e,r),s=1;this.make();for(var a=0;a<this.modules.length;a++)for(var o=a*s,l=0;l<this.modules[a].length;l++){var c=l*s,u=this.modules[a][l];u&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+s,o),n.lineTo(c+s,o+s),n.lineTo(c,o+s),n.endFill())}return n};Ia.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)};Ia.setupPositionAdjustPattern=function(){for(var t=Ru.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],s=t[r];if(this.modules[n][s]==null)for(var a=-2;a<=2;a++)for(var o=-2;o<=2;o++)a==-2||a==2||o==-2||o==2||a==0&&o==0?this.modules[n+a][s+o]=!0:this.modules[n+a][s+o]=!1}};Ia.setupTypeNumber=function(t){for(var e=Ru.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}};Ia.setupTypeInfo=function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=Ru.getBCHTypeInfo(r),s=0;s<15;s++){var a=!t&&(n>>s&1)==1;s<6?this.modules[s][8]=a:s<8?this.modules[s+1][8]=a:this.modules[this.moduleCount-15+s][8]=a}for(var s=0;s<15;s++){var a=!t&&(n>>s&1)==1;s<8?this.modules[8][this.moduleCount-s-1]=a:s<9?this.modules[8][15-s-1+1]=a:this.modules[8][15-s-1]=a}this.modules[this.moduleCount-8][8]=!t};Ia.mapData=function(t,e){for(var r=-1,n=this.moduleCount-1,s=7,a=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var l=0;l<2;l++)if(this.modules[n][o-l]==null){var c=!1;a<t.length&&(c=(t[a]>>>s&1)==1);var u=Ru.getMask(e,n,o-l);u&&(c=!c),this.modules[n][o-l]=c,s--,s==-1&&(a++,s=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}};yo.PAD0=236;yo.PAD1=17;yo.createData=function(t,e,r){for(var n=QZ.getRSBlocks(t,e),s=new LZ,a=0;a<r.length;a++){var o=r[a];s.put(o.mode,4),s.put(o.getLength(),Ru.getLengthInBits(o.mode,t)),o.write(s)}for(var l=0,a=0;a<n.length;a++)l+=n[a].dataCount;if(s.getLengthInBits()>l*8)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+l*8+")");for(s.getLengthInBits()+4<=l*8&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=l*8||(s.put(yo.PAD0,8),s.getLengthInBits()>=l*8));)s.put(yo.PAD1,8);return yo.createBytes(s,n)};yo.createBytes=function(t,e){for(var r=0,n=0,s=0,a=new Array(e.length),o=new Array(e.length),l=0;l<e.length;l++){var c=e[l].dataCount,u=e[l].totalCount-c;n=Math.max(n,c),s=Math.max(s,u),a[l]=new Array(c);for(var A=0;A<a[l].length;A++)a[l][A]=255&t.buffer[A+r];r+=c;var d=Ru.getErrorCorrectPolynomial(u),h=new POe(a[l],d.getLength()-1),f=h.mod(d);o[l]=new Array(d.getLength()-1);for(var A=0;A<o[l].length;A++){var m=A+f.getLength()-o[l].length;o[l][A]=m>=0?f.get(m):0}}for(var p=0,A=0;A<e.length;A++)p+=e[A].totalCount;for(var g=new Array(p),y=0,A=0;A<n;A++)for(var l=0;l<e.length;l++)A<a[l].length&&(g[y++]=a[l][A]);for(var A=0;A<s;A++)for(var l=0;l<e.length;l++)A<o[l].length&&(g[y++]=o[l][A]);return g};var OOe=yo,t4={};Object.defineProperty(t4,"__esModule",{value:!0});var FOe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DOe=e4,Oa=HZ(DOe),$Z=v,vw=HZ($Z);function HZ(t){return t&&t.__esModule?t:{default:t}}function ROe(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var UOe={bgColor:Oa.default.oneOfType([Oa.default.object,Oa.default.string]).isRequired,bgD:Oa.default.string.isRequired,fgColor:Oa.default.oneOfType([Oa.default.object,Oa.default.string]).isRequired,fgD:Oa.default.string.isRequired,size:Oa.default.number.isRequired,title:Oa.default.string,viewBoxSize:Oa.default.number.isRequired,xmlns:Oa.default.string},r4=(0,$Z.forwardRef)(function(t,e){var r=t.bgColor,n=t.bgD,s=t.fgD,a=t.fgColor,o=t.size,l=t.title,c=t.viewBoxSize,u=t.xmlns,A=u===void 0?"http://www.w3.org/2000/svg":u,d=ROe(t,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return vw.default.createElement("svg",FOe({},d,{height:o,ref:e,viewBox:"0 0 "+c+" "+c,width:o,xmlns:A}),l?vw.default.createElement("title",null,l):null,vw.default.createElement("path",{d:n,fill:r}),vw.default.createElement("path",{d:s,fill:a}))});r4.displayName="QRCodeSvg";r4.propTypes=UOe;t4.default=r4;Object.defineProperty(HC,"__esModule",{value:!0});HC.QRCode=void 0;var MOe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QOe=e4,Jo=Ox(QOe),LOe=OZ,$Oe=Ox(LOe),HOe=OOe,VOe=Ox(HOe),VZ=v,KOe=Ox(VZ),zOe=t4,GOe=Ox(zOe);function Ox(t){return t&&t.__esModule?t:{default:t}}function WOe(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var qOe={bgColor:Jo.default.oneOfType([Jo.default.object,Jo.default.string]),fgColor:Jo.default.oneOfType([Jo.default.object,Jo.default.string]),level:Jo.default.string,size:Jo.default.number,value:Jo.default.string.isRequired},VC=(0,VZ.forwardRef)(function(t,e){var r=t.bgColor,n=r===void 0?"#FFFFFF":r,s=t.fgColor,a=s===void 0?"#000000":s,o=t.level,l=o===void 0?"L":o,c=t.size,u=c===void 0?256:c,A=t.value,d=WOe(t,["bgColor","fgColor","level","size","value"]),h=new VOe.default(-1,$Oe.default[l]);h.addData(A),h.make();var f=h.modules;return KOe.default.createElement(GOe.default,MOe({},d,{bgColor:n,bgD:f.map(function(m,p){return m.map(function(g,y){return g?"":"M "+y+" "+p+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:a,fgD:f.map(function(m,p){return m.map(function(g,y){return g?"M "+y+" "+p+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:e,size:u,viewBoxSize:f.length}))});HC.QRCode=VC;VC.displayName="QRCode";VC.propTypes=qOe;var KZ=HC.default=VC;const Hn=v.forwardRef(({className:t,...e},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:he("w-full caption-bottom text-sm",t),...e})}));Hn.displayName="Table";const Vn=v.forwardRef(({className:t,...e},r)=>i.jsx("thead",{ref:r,className:he("[&_tr]:border-b",t),...e}));Vn.displayName="TableHeader";const Kn=v.forwardRef(({className:t,...e},r)=>i.jsx("tbody",{ref:r,className:he("[&_tr:last-child]:border-0",t),...e}));Kn.displayName="TableBody";const XOe=v.forwardRef(({className:t,...e},r)=>i.jsx("tfoot",{ref:r,className:he("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));XOe.displayName="TableFooter";const ut=v.forwardRef(({className:t,...e},r)=>i.jsx("tr",{ref:r,className:he("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));ut.displayName="TableRow";const Ee=v.forwardRef(({className:t,...e},r)=>i.jsx("th",{ref:r,className:he("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Ee.displayName="TableHead";const pe=v.forwardRef(({className:t,...e},r)=>i.jsx("td",{ref:r,className:he("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));pe.displayName="TableCell";const JOe=v.forwardRef(({className:t,...e},r)=>i.jsx("caption",{ref:r,className:he("mt-4 text-sm text-muted-foreground",t),...e}));JOe.displayName="TableCaption";const e$=[{id:"TRX-12345",type:"topup",amount:5e5,date:"2025-06-02T10:15:30",status:"success",description:"Top Up via BCA Virtual Account",source:"BCA Virtual Account",balance:5e5},{id:"TRX-12346",type:"payment",amount:-15e4,date:"2025-06-02T14:30:25",status:"success",description:"Pembayaran Tagihan PLN",source:"PLN Postpaid",balance:35e4},{id:"TRX-12347",type:"payment",amount:-5e4,date:"2025-06-02T16:45:12",status:"success",description:"Pembelian Pulsa Telkomsel",source:"Telkomsel Prepaid",balance:3e5},{id:"TRX-12348",type:"payment",amount:-75e3,date:"2025-06-02T18:20:05",status:"success",description:"Pembayaran PDAM",source:"PDAM",balance:225e3},{id:"TRX-12349",type:"topup",amount:2e5,date:"2025-06-03T09:10:45",status:"success",description:"Top Up via DANA",source:"DANA",balance:425e3},{id:"TRX-12350",type:"payment",amount:-1e5,date:"2025-06-03T11:30:20",status:"success",description:"Pembelian Token Listrik",source:"PLN Prepaid",balance:325e3},{id:"TRX-12351",type:"payment",amount:-25e3,date:"2025-06-03T13:45:10",status:"success",description:"Pembayaran Telkom IndiHome",source:"Telkom",balance:3e5},{id:"TRX-12352",type:"topup",amount:1e5,date:"2025-06-03T15:20:30",status:"pending",description:"Top Up via OVO",source:"OVO",balance:3e5},{id:"TRX-12353",type:"payment",amount:-8e4,date:"2025-06-03T16:50:15",status:"failed",description:"Pembelian Paket Data XL",source:"XL Data",balance:3e5}];function YOe({className:t}){const[e,r]=v.useState("all"),[n,s]=v.useState([]),[a,o]=v.useState([]),[l,c]=v.useState(!0),[u,A]=v.useState("this-month"),[d,h]=v.useState("");v.useEffect(()=>{(async()=>{c(!0),await new Promise(C=>setTimeout(C,1e3)),s(e$),o(e$),c(!1)})()},[]),v.useEffect(()=>{f()},[e,u,d,n]);const f=()=>{let j=[...n];e==="topup"?j=j.filter(I=>I.type==="topup"):e==="payment"&&(j=j.filter(I=>I.type==="payment"));const C=new Date,E=new Date(C.getFullYear(),C.getMonth(),C.getDate()),_=new Date(E);_.setDate(_.getDate()-1);const B=new Date(E);B.setDate(B.getDate()-E.getDay());const S=new Date(C.getFullYear(),C.getMonth(),1),N=new Date(C.getFullYear(),C.getMonth()-1,1),P=new Date(C.getFullYear(),C.getMonth(),0);switch(u){case"today":j=j.filter(I=>new Date(I.date)>=E);break;case"yesterday":j=j.filter(I=>{const T=new Date(I.date);return T>=_&&T<E});break;case"this-week":j=j.filter(I=>new Date(I.date)>=B);break;case"this-month":j=j.filter(I=>new Date(I.date)>=S);break;case"last-month":j=j.filter(I=>{const T=new Date(I.date);return T>=N&&T<=P});break}if(d.trim()!==""){const I=d.toLowerCase();j=j.filter(T=>T.id.toLowerCase().includes(I)||T.description.toLowerCase().includes(I)||T.source.toLowerCase().includes(I))}j.sort((I,T)=>new Date(T.date).getTime()-new Date(I.date).getTime()),o(j)},m=j=>{const C=new Date(j);return Bn(C,"d MMMM yyyy, HH:mm",{locale:Ya})},p=j=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(Math.abs(j)),g=()=>a.filter(j=>j.amount>0&&j.status==="success").reduce((j,C)=>j+C.amount,0),y=()=>a.filter(j=>j.amount<0&&j.status==="success").reduce((j,C)=>j+Math.abs(C.amount),0),x=j=>{switch(j){case"topup":return i.jsx(q.plus,{className:"h-4 w-4 text-green-500"});case"payment":return i.jsx(q.creditCard,{className:"h-4 w-4 text-blue-500"});case"withdrawal":return i.jsx(q.arrowRight,{className:"h-4 w-4 text-orange-500"});case"refund":return i.jsx(q.arrowRight,{className:"h-4 w-4 text-purple-500 rotate-180"});default:return i.jsx(q.activity,{className:"h-4 w-4"})}},b=j=>{switch(j){case"success":return i.jsx(jt,{className:"bg-green-100 text-green-800 hover:bg-green-200",children:"Sukses"});case"pending":return i.jsx(jt,{className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200",children:"Pending"});case"failed":return i.jsx(jt,{className:"bg-red-100 text-red-800 hover:bg-red-200",children:"Gagal"});default:return i.jsx(jt,{children:"Unknown"})}};return i.jsxs(ye,{className:t,children:[i.jsxs(ot,{className:"pb-3",children:[i.jsx(lt,{children:"Mutasi Dompet PPOB"}),i.jsx(ur,{children:"Riwayat transaksi dompet PPOB Anda"})]}),i.jsxs(xe,{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col space-y-3 sm:space-y-0 sm:flex-row sm:space-x-3 sm:items-center justify-between",children:[i.jsx(sa,{value:e,onValueChange:r,className:"w-full sm:w-auto",children:i.jsxs(Fs,{className:"grid grid-cols-3 w-full sm:w-auto",children:[i.jsx(Ft,{value:"all",children:"Semua"}),i.jsx(Ft,{value:"topup",children:"Top Up"}),i.jsx(Ft,{value:"payment",children:"Pembayaran"})]})}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs(us,{value:u,onValueChange:A,children:[i.jsx(Ln,{className:"w-full sm:w-[180px]",children:i.jsx(As,{placeholder:"Pilih Periode"})}),i.jsxs($n,{children:[i.jsx(vt,{value:"all",children:"Semua Waktu"}),i.jsx(vt,{value:"today",children:"Hari Ini"}),i.jsx(vt,{value:"yesterday",children:"Kemarin"}),i.jsx(vt,{value:"this-week",children:"Minggu Ini"}),i.jsx(vt,{value:"this-month",children:"Bulan Ini"}),i.jsx(vt,{value:"last-month",children:"Bulan Lalu"})]})]}),i.jsx(ce,{placeholder:"Cari transaksi...",value:d,onChange:j=>h(j.target.value),className:"w-full sm:w-[200px]"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[i.jsx(ye,{children:i.jsx(xe,{className:"p-4",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Saldo Terakhir"}),i.jsx("p",{className:"text-2xl font-bold",children:n.length>0?p(n[0].balance):"Rp 0"})]})})}),i.jsx(ye,{children:i.jsx(xe,{className:"p-4",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Pemasukan"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:p(g())})]})})}),i.jsx(ye,{children:i.jsx(xe,{className:"p-4",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Pengeluaran"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:p(y())})]})})})]}),i.jsx(vs,{}),l?i.jsx("div",{className:"flex justify-center items-center py-12",children:i.jsx(q.spinner,{className:"h-8 w-8 animate-spin text-primary"})}):a.length===0?i.jsx("div",{className:"text-center py-12 text-muted-foreground",children:i.jsx("p",{children:"Tidak ada transaksi ditemukan"})}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(Hn,{children:[i.jsx(Vn,{children:i.jsxs(ut,{children:[i.jsx(Ee,{children:"Tanggal"}),i.jsx(Ee,{children:"ID Transaksi"}),i.jsx(Ee,{children:"Keterangan"}),i.jsx(Ee,{children:"Jumlah"}),i.jsx(Ee,{children:"Status"}),i.jsx(Ee,{children:"Saldo"})]})}),i.jsx(Kn,{children:a.map(j=>i.jsxs(ut,{children:[i.jsx(pe,{className:"whitespace-nowrap",children:m(j.date)}),i.jsx(pe,{className:"font-medium",children:j.id}),i.jsx(pe,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[x(j.type),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:j.description}),i.jsx("p",{className:"text-xs text-muted-foreground",children:j.source})]})]})}),i.jsxs(pe,{className:j.amount>0?"text-green-600":"text-red-600",children:[j.amount>0?"+":"-",p(j.amount)]}),i.jsx(pe,{children:b(j.status)}),i.jsx(pe,{className:"font-medium",children:p(j.balance)})]},j.id))})]})})]}),i.jsxs(Ja,{className:"flex justify-between",children:[i.jsxs(V,{variant:"outline",children:[i.jsx(q.download,{className:"mr-2 h-4 w-4"}),"Unduh PDF"]}),i.jsxs(V,{variant:"outline",children:[i.jsx(q.download,{className:"mr-2 h-4 w-4"}),"Unduh CSV"]})]})]})}const ZOe=()=>{const t=Tt(),[e,r]=v.useState("overview"),[n,s]=v.useState(75e4),[a,o]=v.useState(""),[l,c]=v.useState(""),[u,A]=v.useState(""),[d,h]=v.useState(""),[f,m]=v.useState("88750012345678"),[p,g]=v.useState(!1),[y,x]=v.useState(!1),[b,j]=v.useState(!1),[C,E]=v.useState(!1),[_,B]=v.useState(null),[S,N]=v.useState("transfer"),[P,I]=v.useState(!1);v.useState("all");const[T,D]=v.useState(null),M=R=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(R),H=R=>{R.preventDefault(),j(!0),B("topup"),setTimeout(()=>{const Q=parseInt(a.replace(/\D/g,""));s(X=>X+Q),j(!1),E(!0);const G=`TP${Date.now().toString().slice(-8)}`;D({id:G,amount:Q,type:"topup",status:"success",timestamp:new Date}),setTimeout(()=>{g(!1),o(""),E(!1)},2e3)},1500)},U=R=>{R.preventDefault(),j(!0),B("withdraw"),setTimeout(()=>{const Q=parseInt(l.replace(/\D/g,""));s(X=>X-Q),j(!1),E(!0);const G=`WD${Date.now().toString().slice(-8)}`;D({id:G,amount:Q,type:"withdraw",status:"success",timestamp:new Date}),setTimeout(()=>{x(!1),c(""),A(""),h(""),E(!1)},2e3)},1500)},O=(R,Q)=>{const G=R.target.value.replace(/\D/g,"");if(G===""){Q("");return}Q(new Intl.NumberFormat("id-ID").format(parseInt(G)))};return i.jsxs(Wt,{title:"PPOB Wallet",subtitle:"Kelola saldo PPOB Anda",withBackButton:!0,onBackButtonClick:()=>t("/ppob"),children:[i.jsx("div",{className:"container max-w-md mx-auto px-4 py-6",children:i.jsxs(sa,{defaultValue:"overview",value:e,onValueChange:r,className:"w-full",children:[i.jsxs(Fs,{className:"grid w-full grid-cols-2",children:[i.jsx(Ft,{value:"overview",children:"Saldo"}),i.jsx(Ft,{value:"history",children:"Riwayat"})]}),i.jsxs(er,{value:"overview",className:"space-y-4",children:[i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mt-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-lg font-medium",children:"Saldo PPOB Wallet"}),i.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>r("history"),children:[i.jsx(q.history,{className:"h-4 w-4 mr-1"}),"Riwayat"]})]}),i.jsx(ye,{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white mb-6",children:i.jsx(xe,{className:"p-6",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium text-blue-100",children:"Saldo Tersedia"}),i.jsx("h3",{className:"text-3xl font-bold",children:M(n)}),i.jsxs("p",{className:"text-xs text-blue-100",children:["Terakhir diperbarui: ",new Date().toLocaleString("id-ID")]})]})})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs(V,{className:"h-auto py-4 flex flex-col items-center",onClick:()=>g(!0),children:[i.jsx(q.plus,{className:"h-6 w-6 mb-1"}),i.jsx("span",{children:"Top Up"})]}),i.jsxs(V,{variant:"outline",className:"h-auto py-4 flex flex-col items-center",onClick:()=>x(!0),children:[i.jsx(q.arrowRight,{className:"h-6 w-6 mb-1"}),i.jsx("span",{children:"Tarik Dana"})]})]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Transaksi Terakhir"}),T?i.jsx(ye,{className:"border",children:i.jsx(xe,{className:"p-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx(jt,{variant:T.type==="topup"?"success":"destructive",children:T.type==="topup"?"Top Up":"Tarik Dana"}),i.jsxs("p",{className:"text-sm font-semibold mt-1",children:[T.type==="topup"?"+":"-",M(T.amount)]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:T.timestamp.toLocaleString("id-ID")})]}),i.jsx(jt,{variant:T.status==="success"?"outline":"secondary",children:T.status==="success"?"Berhasil":T.status==="pending"?"Diproses":"Gagal"})]})})}):i.jsx("div",{className:"text-center py-6 text-muted-foreground",children:i.jsx("p",{children:"Belum ada transaksi"})}),i.jsx("div",{className:"mt-4",children:i.jsxs(V,{variant:"outline",className:"w-full",onClick:()=>t("/ppob/history?wallet=true"),children:["Lihat Semua Transaksi",i.jsx(q.arrowRight,{className:"h-4 w-4 ml-2"})]})})]})]}),i.jsx(er,{value:"history",className:"space-y-4",children:i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Riwayat Transaksi"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[i.jsxs(ye,{className:"bg-blue-50",children:[i.jsx(ot,{className:"pb-2",children:i.jsxs(lt,{className:"text-sm font-medium flex items-center",children:[i.jsx(q.arrowDownCircle,{className:"h-4 w-4 mr-2 text-green-600"}),"Uang Masuk"]})}),i.jsx(xe,{children:i.jsxs(V,{variant:"ghost",className:"p-0 h-auto font-bold text-green-600 hover:text-green-700 hover:bg-transparent",onClick:()=>t("/ppob/history?filter=in"),children:["Lihat",i.jsx(q.chevronRight,{className:"h-4 w-4 ml-1"})]})})]}),i.jsxs(ye,{className:"bg-blue-50",children:[i.jsx(ot,{className:"pb-2",children:i.jsxs(lt,{className:"text-sm font-medium flex items-center",children:[i.jsx(q.arrowUpCircle,{className:"h-4 w-4 mr-2 text-red-600"}),"Uang Keluar"]})}),i.jsx(xe,{children:i.jsxs(V,{variant:"ghost",className:"p-0 h-auto font-bold text-red-600 hover:text-red-700 hover:bg-transparent",onClick:()=>t("/ppob/history?filter=out"),children:["Lihat",i.jsx(q.chevronRight,{className:"h-4 w-4 ml-1"})]})})]})]}),i.jsx("div",{className:"space-y-2",children:i.jsx(YOe,{})}),i.jsxs("div",{className:"mt-4 text-center",children:[i.jsxs(V,{variant:"outline",onClick:()=>t("/ppob/history?wallet=true"),children:[i.jsx(q.wallet,{className:"mr-2 h-4 w-4"}),"Lihat Transaksi Wallet"]}),i.jsxs(V,{variant:"link",onClick:()=>t("/ppob/history"),children:[i.jsx(q.history,{className:"mr-2 h-4 w-4"}),"Semua Transaksi"]})]})]})})]})}),i.jsx(fr,{open:p,onOpenChange:g,children:i.jsxs(ir,{className:"sm:max-w-md",children:[i.jsxs(xr,{children:[i.jsx(wr,{children:"Top Up Saldo"}),i.jsx(Jn,{children:"Tambah saldo PPOB Wallet Anda dengan mudah."})]}),C&&_==="topup"?i.jsxs("div",{className:"py-6 text-center space-y-4",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(q.check,{className:"h-8 w-8 text-green-600"})})}),i.jsx("h3",{className:"font-bold text-lg",children:"Top Up Berhasil!"}),i.jsxs("p",{className:"text-muted-foreground",children:["Saldo Anda telah bertambah",T&&i.jsx("span",{className:"block font-semibold mt-1 text-green-600",children:M(T.amount)})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:T&&i.jsxs(i.Fragment,{children:["ID Transaksi: ",T.id,i.jsx("br",{}),"Waktu: ",T.timestamp.toLocaleString("id-ID")]})})]}):i.jsxs("form",{onSubmit:H,children:[i.jsxs(sa,{defaultValue:"transfer",className:"w-full",onValueChange:R=>N(R),children:[i.jsxs(Fs,{className:"grid w-full grid-cols-2",children:[i.jsx(Ft,{value:"transfer",children:"Transfer Bank"}),i.jsx(Ft,{value:"qrcode",children:"QR Code"})]}),i.jsxs(er,{value:"transfer",className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"amount",children:"Jumlah"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"Rp"}),i.jsx(ce,{id:"amount",placeholder:"0",className:"pl-9",value:a,onChange:R=>O(R,o),required:!0})]}),i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsx("p",{className:"text-muted-foreground",children:"Min: Rp10.000"}),i.jsx("p",{className:"text-muted-foreground",children:"Maks: Rp10.000.000"})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:[1e5,2e5,5e5,1e6].map(R=>i.jsx(V,{type:"button",variant:"outline",size:"sm",className:"flex-1 min-w-[80px]",onClick:()=>o(new Intl.NumberFormat("id-ID").format(R)),children:M(R)},R))})]}),i.jsxs("div",{className:"space-y-2 mt-4",children:[i.jsx(Te,{children:"Metode Pembayaran"}),i.jsx(ye,{children:i.jsx(xe,{className:"p-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(q.creditCard,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Virtual Account"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:f})]})]}),i.jsx(V,{type:"button",variant:"ghost",size:"icon",onClick:()=>{navigator.clipboard.writeText(f),alert("Nomor Virtual Account disalin!")},children:i.jsx(q.copy,{className:"h-4 w-4"})})]})})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Transfer ke nomor virtual account di atas untuk melakukan top up. Saldo akan bertambah otomatis setelah transfer berhasil."})]})]}),i.jsxs(er,{value:"qrcode",className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"qr-amount",children:"Jumlah"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"Rp"}),i.jsx(ce,{id:"qr-amount",placeholder:"0",className:"pl-9",value:a,onChange:R=>O(R,o),required:!0})]}),i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsx("p",{className:"text-muted-foreground",children:"Min: Rp10.000"}),i.jsx("p",{className:"text-muted-foreground",children:"Maks: Rp10.000.000"})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:[1e5,2e5,5e5,1e6].map(R=>i.jsx(V,{type:"button",variant:"outline",size:"sm",className:"flex-1 min-w-[80px]",onClick:()=>o(new Intl.NumberFormat("id-ID").format(R)),children:M(R)},R))})]}),i.jsx("div",{className:"flex justify-center mt-4",children:P?i.jsxs("div",{className:"p-4 border-2 border-dashed border-muted-foreground/50 rounded-lg",children:[i.jsx("div",{className:"bg-white p-2 rounded-md",children:i.jsx(KZ,{value:`JPC:TOPUP:${a.replace(/\D/g,"")}:${Date.now()}`,size:180})}),i.jsx(V,{type:"button",variant:"link",className:"mt-2 text-xs",onClick:()=>I(!1),children:"Ubah Nominal"})]}):i.jsxs(V,{type:"button",variant:"outline",onClick:()=>{const R=parseInt(a.replace(/\D/g,""))||0;if(R<1e4){alert("Minimal top up adalah Rp10.000");return}if(R>1e7){alert("Maksimal top up adalah Rp10.000.000");return}I(!0)},disabled:!a,className:"w-full py-8",children:[i.jsx(q.qrCode,{className:"mr-2 h-5 w-5"}),"Generate QR Code"]})}),P&&i.jsx("p",{className:"text-sm text-center text-muted-foreground",children:"Scan QR code ini dengan aplikasi e-wallet atau mobile banking Anda untuk melakukan pembayaran."})]})]}),i.jsxs(Sn,{className:"mt-4",children:[i.jsx(V,{type:"button",variant:"outline",onClick:()=>{g(!1),I(!1),o("")},disabled:b,children:"Batal"}),S==="transfer"?i.jsx(V,{type:"submit",disabled:!a||b||parseInt(a.replace(/\D/g,""))<1e4,children:b?i.jsxs(i.Fragment,{children:[i.jsx(q.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Konfirmasi Top Up"}):i.jsx(V,{type:"button",onClick:()=>{j(!0),B("topup"),setTimeout(()=>{const R=parseInt(a.replace(/\D/g,""));s(G=>G+R),j(!1),E(!0);const Q=`TP${Date.now().toString().slice(-8)}`;D({id:Q,amount:R,type:"topup",status:"success",timestamp:new Date}),setTimeout(()=>{g(!1),o(""),I(!1),E(!1)},2e3)},1500)},disabled:!a||!P||b,children:b?i.jsxs(i.Fragment,{children:[i.jsx(q.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Saya Sudah Bayar"})]})]})]})}),i.jsx(fr,{open:y,onOpenChange:x,children:i.jsxs(ir,{className:"sm:max-w-md",children:[i.jsxs(xr,{children:[i.jsx(wr,{children:"Tarik Dana"}),i.jsx(Jn,{children:"Tarik dana dari PPOB Wallet Anda ke rekening bank yang terdaftar."})]}),C&&_==="withdraw"?i.jsxs("div",{className:"py-6 text-center space-y-4",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(q.check,{className:"h-8 w-8 text-green-600"})})}),i.jsx("h3",{className:"font-bold text-lg",children:"Penarikan Berhasil!"}),i.jsxs("p",{className:"text-muted-foreground",children:["Dana akan masuk ke rekening bank Anda dalam 1x24 jam kerja",T&&i.jsx("span",{className:"block font-semibold mt-1 text-red-600",children:M(T.amount)})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:T&&i.jsxs(i.Fragment,{children:["ID Transaksi: ",T.id,i.jsx("br",{}),"Waktu: ",T.timestamp.toLocaleString("id-ID")]})})]}):i.jsxs("form",{onSubmit:U,children:[i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"withdraw-amount",children:"Jumlah"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"Rp"}),i.jsx(ce,{id:"withdraw-amount",placeholder:"0",className:"pl-9",value:l,onChange:R=>O(R,c),required:!0})]}),i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsx("p",{className:"text-muted-foreground",children:"Min: Rp50.000"}),i.jsx("p",{className:"text-muted-foreground",children:"Maks: Rp5.000.000"})]}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Saldo tersedia: ",M(n)]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"withdraw-bank",children:"Bank Tujuan"}),i.jsxs(us,{value:u,onValueChange:A,required:!0,children:[i.jsx(Ln,{id:"withdraw-bank",children:i.jsx(As,{placeholder:"Pilih bank tujuan"})}),i.jsxs($n,{children:[i.jsx(vt,{value:"bca",children:"Bank BCA"}),i.jsx(vt,{value:"bni",children:"Bank BNI"}),i.jsx(vt,{value:"mandiri",children:"Bank Mandiri"}),i.jsx(vt,{value:"bri",children:"Bank BRI"}),i.jsx(vt,{value:"permata",children:"Bank Permata"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"account-number",children:"Nomor Rekening"}),i.jsx(ce,{id:"account-number",placeholder:"Contoh: 1234567890",value:d,onChange:R=>h(R.target.value.replace(/\D/g,"")),required:!0})]})]}),i.jsxs(Sn,{children:[i.jsx(V,{type:"button",variant:"outline",onClick:()=>x(!1),disabled:b,children:"Batal"}),i.jsx(V,{type:"submit",disabled:!l||!u||!d||b||parseInt(l.replace(/\D/g,""))<5e4||parseInt(l.replace(/\D/g,""))>n,children:b?i.jsxs(i.Fragment,{children:[i.jsx(q.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Tarik Dana"})]})]})]})})]})},eFe=[{id:"notif-1",title:"Pembayaran Berhasil",message:"Pembayaran tagihan PLN sebesar Rp 250.000 telah berhasil.",date:"2025-06-02T14:35:00",type:"success",read:!1},{id:"notif-2",title:"Promo Spesial",message:"Dapatkan cashback 10% untuk pembelian pulsa min. Rp 50.000.",date:"2025-06-02T10:15:00",type:"promo",read:!1},{id:"notif-3",title:"Pembayaran Tertunda",message:"Pembayaran BPJS Kesehatan sedang diproses.",date:"2025-06-01T18:22:00",type:"pending",read:!0},{id:"notif-4",title:"Transaksi Gagal",message:"Pembelian token listrik gagal. Saldo tidak mencukupi.",date:"2025-06-01T13:45:00",type:"error",read:!0},{id:"notif-5",title:"Top Up Berhasil",message:"Top up saldo PPOB Wallet sebesar Rp 500.000 berhasil.",date:"2025-05-31T09:10:00",type:"success",read:!0}];function tFe({onClose:t}){const[e,r]=v.useState([]),[n,s]=v.useState(!0);v.useEffect(()=>{(async()=>{s(!0),await new Promise(d=>setTimeout(d,1e3)),r(eFe),s(!1)})()},[]);const a=e.filter(A=>!A.read).length,o=()=>{r(e.map(A=>({...A,read:!0})))},l=A=>{r(e.map(d=>d.id===A?{...d,read:!0}:d))},c=A=>{const d=new Date(A),f=Math.abs(new Date().getTime()-d.getTime()),m=Math.floor(f/(1e3*60*60*24));return m===0?`Hari ini, ${d.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}`:m===1?"Kemarin":m<7?d.toLocaleDateString("id-ID",{weekday:"long"}):d.toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})},u=A=>{switch(A){case"success":return i.jsx(q.check,{className:"h-4 w-4 text-green-500"});case"error":return i.jsx(q.flame,{className:"h-4 w-4 text-red-500"});case"pending":return i.jsx(q.clock,{className:"h-4 w-4 text-yellow-500"});case"promo":return i.jsx(q.ticket,{className:"h-4 w-4 text-purple-500"});default:return i.jsx(q.bell,{className:"h-4 w-4"})}};return i.jsxs(ye,{className:"w-full max-w-md mx-auto border shadow-md",children:[i.jsxs(ot,{className:"pb-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(lt,{className:"text-xl",children:"Notifikasi"}),a>0&&i.jsx(V,{variant:"ghost",size:"sm",onClick:o,className:"text-xs",children:"Tandai Semua Dibaca"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(jt,{variant:"outline",className:"text-xs",children:["Semua (",e.length,")"]}),a>0&&i.jsxs(jt,{className:"text-xs bg-primary",children:["Belum Dibaca (",a,")"]})]})]}),i.jsx(xe,{className:"px-0",children:n?i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx(q.spinner,{className:"h-8 w-8 animate-spin text-primary"})}):e.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:i.jsx("p",{children:"Tidak ada notifikasi"})}):i.jsx("div",{className:"divide-y",children:e.map(A=>i.jsx("div",{className:he("px-4 py-3 hover:bg-muted/50 cursor-pointer transition-colors",!A.read&&"bg-muted/30"),onClick:()=>l(A.id),children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"mt-1",children:u(A.type)}),i.jsxs("div",{className:"flex-1 space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:he("text-sm font-medium",!A.read&&"font-semibold"),children:A.title}),i.jsx("span",{className:"text-xs text-muted-foreground",children:c(A.date)})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:A.message}),!A.read&&i.jsx(jt,{className:"mt-1 bg-primary/20 text-primary hover:bg-primary/30 text-xs",variant:"secondary",children:"Baru"})]})]})},A.id))})})]})}function DS(){const t=Tt(),[e,r]=v.useState(null),[n,s]=v.useState(0),[a,o]=v.useState(0),[l,c]=v.useState(new Date),[u,A]=v.useState(!0);return v.useEffect(()=>{(async()=>{A(!0);try{const{data:{session:f},error:m}=await J.auth.getSession();if(m)throw m;if(f!=null&&f.user){const{data:p,error:g}=await J.from("profiles").select("*").eq("id",f.user.id).single();if(g)throw g;r(p),p&&typeof p.balance=="number"&&s(p.balance);const{count:y,error:x}=await J.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",f.user.id).eq("read_status",!1);if(x)throw x;y!==null&&o(y)}else t("/login")}catch(f){console.error("Error fetching data:",f)}finally{A(!1)}})();const h=setInterval(()=>{c(new Date)},6e4);return()=>{clearInterval(h)}},[t]),i.jsxs(Wt,{children:[i.jsxs(Ui,{children:[i.jsx("title",{children:"JPC Digi - Layanan PPOB"}),i.jsx("style",{children:`
            @keyframes gradientShift {
              0% { background-position: 0% 50%; }
              50% { background-position: 100% 50%; }
              100% { background-position: 0% 50%; }
            }
            @keyframes float {
              0% { transform: translateY(0px); }
              50% { transform: translateY(-10px); }
              100% { transform: translateY(0px); }
            }
            @keyframes pulse {
              0% { transform: scale(1); }
              50% { transform: scale(1.1); }
              100% { transform: scale(1); }
            }
            @keyframes sparkle {
              0% { opacity: 0.2; }
              50% { opacity: 1; }
              100% { opacity: 0.2; }
            }
            .gradient-bg {
              background-size: 200% 200%;
              animation: gradientShift 8s ease infinite;
            }
            .float {
              animation: float 4s ease-in-out infinite;
            }
            .pulse {
              animation: pulse 2s ease-in-out infinite;
            }
            .sparkle {
              animation: sparkle 1.5s ease-in-out infinite;
            }
          `})]}),i.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-500 to-purple-500 text-white",style:{animation:"gradientShift 8s ease infinite"},children:[i.jsx("div",{className:"flex justify-between items-center p-2 text-xs",children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(q.users,{className:"h-3 w-3 mr-1"})," ",e!=null&&e.name?e.name.split(" ")[0]:"Guest",i.jsx("div",{className:"flex items-center gap-0.5 bg-white/20 px-1 rounded"})]})}),i.jsxs("div",{className:"flex justify-between items-center p-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"h-12 w-12 rounded-full bg-white flex items-center justify-center shadow-lg pulse",children:i.jsx(q.wallet,{className:"h-7 w-7 text-indigo-600"})}),i.jsx("div",{className:"absolute -top-1 -right-1 h-4 w-4 bg-green-400 rounded-full border border-white pulse"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-sm opacity-80 font-medium",children:["Saldo ",e!=null&&e.name?e.name.split(" ")[0]:""]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-2xl font-bold sparkle",children:ge(n)}),i.jsx("div",{children:i.jsx(V,{variant:"ghost",size:"sm",className:"p-0 h-6 text-white hover:bg-white/20 rounded-full",children:i.jsx(q.refreshCw,{className:"h-3 w-3"})})})]})]})]}),i.jsxs(fr,{children:[i.jsx(X1,{asChild:!0,children:i.jsxs(V,{variant:"ghost",size:"icon",className:"relative text-white",children:[i.jsx(q.bell,{className:"h-6 w-6"}),a>0&&i.jsx(jt,{className:"absolute -top-1 -right-1 h-4 w-4 p-0 flex items-center justify-center text-xs bg-red-500",children:a})]})}),i.jsxs(ir,{className:"max-w-md p-0",children:[i.jsx(xr,{className:"sr-only",children:i.jsx(wr,{children:"Notifikasi"})}),i.jsx(tFe,{onClose:()=>o(0)})]})]})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-x-2 sm:gap-x-4 px-4 mt-6 pb-6",style:{perspective:"1000px"},children:[i.jsx("div",{children:i.jsxs(V,{variant:"ghost",className:"flex flex-col items-center h-auto py-2 text-white",onClick:()=>t("/ppob/scan"),children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-indigo-400 to-indigo-600 flex items-center justify-center mb-2 shadow-lg float",children:i.jsx(q.qrCode,{className:"h-8 w-8"})}),i.jsx("span",{className:"text-sm font-medium",children:"Pindai"})]})}),i.jsxs(V,{variant:"ghost",className:"flex flex-col items-center h-auto py-2 text-white",onClick:()=>t("/ppob/topup"),children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center mb-2 shadow-lg float",style:{animationDelay:"0.2s"},children:i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx("div",{className:"h-8 w-8 rounded-full border-2 border-white"}),i.jsx(q.plus,{className:"h-5 w-5 absolute pulse"})]})}),i.jsx("span",{className:"text-sm font-medium",children:"Isi Saldo"})]}),i.jsxs(V,{variant:"ghost",className:"flex flex-col items-center h-auto py-2 text-white",onClick:()=>t("/ppob/send"),children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center mb-2 shadow-lg float",style:{animationDelay:"0.4s"},children:i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx("div",{className:"h-8 w-8 rounded-full border-2 border-white"}),i.jsx(q.arrowUpCircle,{className:"h-5 w-5 absolute pulse"})]})}),i.jsx("span",{className:"text-sm font-medium",children:"Kirim"})]}),i.jsxs(V,{variant:"ghost",className:"flex flex-col items-center h-auto py-2 text-white",onClick:()=>t("/ppob/request"),children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-pink-400 to-pink-600 flex items-center justify-center mb-2 shadow-lg float",style:{animationDelay:"0.6s"},children:i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx("div",{className:"h-8 w-8 rounded-full border-2 border-white"}),i.jsx(q.arrowDownCircle,{className:"h-5 w-5 absolute pulse"})]})}),i.jsx("span",{className:"text-sm font-medium",children:"Minta"})]})]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-t-3xl -mt-4 mb-16 shadow-lg",style:{borderTop:"3px solid rgba(129, 140, 248, 0.5)"},children:[i.jsx("div",{className:"mt-2 mb-6",children:i.jsx("div",{className:"relative bg-white rounded-xl overflow-hidden border border-gray-100 shadow-sm",children:i.jsxs("div",{className:"flex p-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-md overflow-hidden mr-3",children:i.jsx("div",{className:"bg-gradient-to-br from-orange-400 to-red-600 text-white h-full w-full flex items-center justify-center font-bold pulse",children:""})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-bold text-black",children:"Arang Oven"}),i.jsx("p",{className:"text-sm text-orange-500",children:"Mulai Rp6.000"})]}),i.jsx(V,{className:"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white text-xs rounded-md h-8 shadow-md",size:"sm",children:"Beli"})]})})}),i.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-4 sm:gap-6 mb-8",style:{perspective:"1000px"},children:[i.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/ewallet"),children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:i.jsx(q.wallet,{className:"h-7 w-7 text-green-600 pulse"})}),i.jsx("span",{className:"text-xs font-medium",children:"e-Wallet"})]}),i.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/pulsa-data"),children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-red-100 to-red-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:i.jsx(q.smartphone,{className:"h-7 w-7 text-red-600 pulse",style:{animationDelay:"0.2s"}})}),i.jsx("span",{className:"text-xs font-medium",children:"Pulsa & Data"})]}),i.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/electricity"),children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-amber-100 to-amber-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:i.jsx(q.zap,{className:"h-7 w-7 text-amber-600 pulse",style:{animationDelay:"0.4s"}})}),i.jsx("span",{className:"text-xs font-medium",children:"Listrik"})]}),i.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/games"),children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:i.jsx(q.gamepad,{className:"h-7 w-7 text-blue-600 pulse",style:{animationDelay:"0.6s"}})}),i.jsx("span",{className:"text-xs font-medium",children:"Games"})]}),i.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/all"),children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:i.jsx(q.menu,{className:"h-7 w-7 text-purple-600 pulse",style:{animationDelay:"0.8s"}})}),i.jsx("span",{className:"text-xs font-medium",children:"Lihat Semua"})]})]})]}),i.jsxs("div",{className:"bg-white px-4 py-2 mb-4",children:[i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx("div",{className:"w-8 h-8 bg-primary rounded-md flex items-center justify-center mr-2",children:i.jsx(q.messageSquare,{className:"h-5 w-5 text-white"})}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-sm font-medium",children:"berbagi kabar terbaru "})}),i.jsx("div",{className:"text-xs text-gray-500",children:Bn(new Date,"HH:mm",{locale:Ya})})]}),i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx("div",{className:"w-8 h-8 bg-primary rounded-md flex items-center justify-center mr-2",children:i.jsx(q.messageSquare,{className:"h-5 w-5 text-white"})}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-sm font-medium",children:"berbagi kabar terbaru "})}),i.jsx("div",{className:"text-xs text-gray-500",children:"02/06"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-primary rounded-md flex items-center justify-center mr-2",children:i.jsx(q.messageSquare,{className:"h-5 w-5 text-white"})}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-sm font-medium",children:"berbagi kabar terbaru "})}),i.jsx("div",{className:"text-xs text-gray-500",children:"01/06"})]})]}),i.jsx("div",{className:"px-4 mb-4",children:i.jsx("div",{className:"bg-primary rounded-xl overflow-hidden",children:i.jsx("img",{src:"https://placehold.co/600x200/0088FF/FFFFFF?text=Layanan+Prioritas",alt:"Banner promo",className:"w-full h-32 object-cover"})})}),i.jsxs("div",{className:"bg-white mx-4 rounded-xl border border-gray-200 p-4 mb-20",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(q.check,{className:"h-5 w-5 text-primary mr-2"}),i.jsx("span",{className:"font-semibold text-gray-600",children:"PROTECTION"})]}),i.jsx(V,{variant:"outline",className:"h-8 border-primary text-primary text-xs",children:"PELAJARI"})]}),i.jsxs("div",{className:"flex border-t border-gray-100 pt-3",children:[i.jsxs("div",{className:"flex-1 flex flex-col items-center border-r border-gray-100",children:[i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx(q.shield,{className:"h-5 w-5 text-primary mr-1"}),i.jsx("span",{className:"text-xl font-bold",children:"7"})]}),i.jsx("span",{className:"text-xs text-gray-600",children:"Aktivitas Terlindungi"})]}),i.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx(q.lightbulb,{className:"h-5 w-5 text-amber-500 mr-1"}),i.jsx("span",{className:"text-xl font-bold",children:"2"})]}),i.jsx("span",{className:"text-xs text-gray-600",children:"Rekomendasi Keamanan"})]})]})]}),i.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 flex justify-around py-2",children:[i.jsxs(V,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1",onClick:()=>t("/ppob/dashboard"),children:[i.jsx(q.home,{className:"h-6 w-6"}),i.jsx("span",{className:"text-xs",children:"Beranda"})]}),i.jsxs(V,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1",onClick:()=>t("/ppob/activity"),children:[i.jsx(q.activity,{className:"h-6 w-6"}),i.jsx("span",{className:"text-xs",children:"Aktivitas"})]}),i.jsxs(V,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1 relative",onClick:()=>t("/ppob/scan"),children:[i.jsx("div",{className:"h-14 w-14 rounded-full bg-primary flex items-center justify-center absolute -top-7",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("span",{className:"text-white text-xs font-bold",children:"PAY"}),i.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[i.jsx("div",{className:"h-2 w-2 bg-white rounded"}),i.jsx("div",{className:"h-2 w-2 bg-white rounded"}),i.jsx("div",{className:"h-2 w-2 bg-white rounded"}),i.jsx("div",{className:"h-2 w-2 bg-white rounded"})]})]})}),i.jsx("div",{className:"h-6"}),i.jsx("span",{className:"text-xs"})]}),i.jsxs(V,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1",onClick:()=>t("/ppob/topup"),children:[i.jsx(q.inbox,{className:"h-6 w-6"}),i.jsx("span",{className:"text-xs",children:"Dompet"})]}),i.jsxs(V,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1",onClick:()=>t("/profile"),children:[i.jsx(q.users,{className:"h-6 w-6"}),i.jsx("span",{className:"text-xs",children:"Saya"})]})]})]})}function rFe({transaction:t,onClose:e}){const r=l=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(l),n=l=>{const c=new Date(l);return Bn(c,"dd MMM yyyy  HH:mm",{locale:Ya})},s=()=>{const l=Bn(new Date(t.date),"yyyyMMdd"),c=Math.floor(Math.random()*1e11).toString().padStart(12,"0");return`${l}${c}`},a=()=>{const l=Bn(new Date(t.date),"yyyyMMdd"),c=t.type==="topup"?"DANAID":"DANAPY",u=Math.floor(Math.random()*1e10).toString().padStart(10,"0");return`${l}${c}J${l.slice(-2)}${u}`},o=()=>`   ${Math.floor(Math.random()*1e4).toString().padStart(4,"0")}`;return i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"flex-1 overflow-auto pb-16",children:[i.jsxs("div",{className:"bg-white p-4 flex flex-col items-center",children:[i.jsx("div",{className:"w-16 h-16 mb-2",children:i.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(q.wallet,{className:"h-8 w-8 text-blue-500"})})}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm text-gray-500",children:n(t.date)}),i.jsxs("p",{className:"text-lg font-bold mt-1",children:["ID JPC ",t.id]})]}),i.jsxs("div",{className:"flex items-center mt-2 bg-green-50 text-green-600 px-3 py-1 rounded-full",children:[i.jsx(q.check,{className:"h-4 w-4 mr-1"}),i.jsx("span",{className:"text-sm font-medium",children:"Transaksi berhasil!"})]})]}),i.jsx(ye,{className:"mx-4 my-4 shadow-sm",children:i.jsxs(xe,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:t.type==="topup"?i.jsx(q.arrowDownCircle,{className:"h-6 w-6 text-green-500"}):t.type==="withdrawal"?i.jsx(q.arrowUpCircle,{className:"h-6 w-6 text-red-500"}):i.jsx(q.creditCard,{className:"h-6 w-6 text-blue-500"})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"font-medium",children:t.type==="topup"?"Top Up":t.type==="send"?"Transfer":t.type}),i.jsx("p",{className:"text-sm text-gray-500",children:n(t.date)})]})]}),i.jsxs(jt,{className:`flex items-center gap-1 px-2 py-1 ${t.status==="success"?"bg-green-100 text-green-600":t.status==="pending"?"bg-yellow-100 text-yellow-600":"bg-red-100 text-red-600"}`,children:[t.status==="success"?i.jsx(q.check,{className:"h-4 w-4"}):t.status==="pending"?i.jsx(q.clock,{className:"h-4 w-4"}):i.jsx(q.activity,{className:"h-4 w-4"}),t.status==="success"?"Berhasil":t.status==="pending"?"Menunggu":"Gagal"]})]}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Jumlah"}),i.jsx("p",{className:"text-xl font-bold",children:r(t.amount)})]})]})}),t.type==="send"&&t.recipient&&i.jsx(ye,{className:"mx-4 my-4 shadow-sm",children:i.jsxs(xe,{className:"p-4",children:[i.jsx("h3",{className:"font-bold mb-4",children:"Detail Penerima"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Nama"}),i.jsx("span",{className:"font-medium",children:t.recipient.name})]}),t.recipient.bankAccount&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Akun Bank"}),i.jsx("span",{children:t.recipient.bankAccount})]}),t.recipient.bankName&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Bank"}),i.jsx("span",{children:t.recipient.bankName})]})]})]})}),i.jsx(ye,{className:"mx-4 my-4 shadow-sm",children:i.jsxs(xe,{className:"p-4",children:[i.jsx("h3",{className:"font-bold mb-4",children:"Detail Transaksi"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("span",{className:"text-gray-500",children:"ID Transaksi"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-right",children:s()}),i.jsx(V,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 ml-1",children:i.jsx(q.copy,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"ID Order Merchant"}),i.jsx("span",{children:t.merchantOrderId||o()})]}),i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("span",{className:"text-gray-500",children:"External Serial Number"}),i.jsx("div",{className:"text-right",children:i.jsx("span",{children:t.externalSerialNumber||a()})})]})]})]})})]}),i.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t",children:i.jsxs(V,{className:"w-full",size:"lg",children:[i.jsx(q.messageSquare,{className:"mr-2 h-5 w-5"}),"BUTUH BANTUAN?"]})})]})}const t$=[{id:"TRX-20250601-001",type:"send",amount:95e4,date:"2025-06-01T23:57:00",recipient:{name:"YOGA PRASETYA",bankAccount:"****0549",bankName:"Seabank Indonesia"},status:"success",description:"Kirim ke YOGA PRASETYA"},{id:"TRX-20250601-002",type:"topup",amount:25e4,date:"2025-06-01T23:38:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250601-003",type:"topup",amount:2e5,date:"2025-06-01T15:59:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250601-004",type:"topup",amount:5e5,date:"2025-06-01T15:58:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250528-001",type:"send",amount:2099e3,date:"2025-05-28T20:47:00",recipient:{name:"YOGA PRASETYA",bankAccount:"****0549",bankName:"Seabank Indonesia"},status:"success",description:"Kirim ke YOGA PRASETYA"},{id:"TRX-20250528-002",type:"topup",amount:2e5,date:"2025-05-28T20:28:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250528-003",type:"topup",amount:9e5,date:"2025-05-28T20:27:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250528-004",type:"topup",amount:9e5,date:"2025-05-28T20:26:00",status:"success",description:"Isi Saldo"}];function nFe(){Tt();const[t,e]=v.useState(""),[r,n]=v.useState([]),[s,a]=v.useState([]),[o,l]=v.useState(!0),[c,u]=v.useState(null),[A,d]=v.useState(!1),h=$.useMemo(()=>{const m={};return s.forEach(p=>{const g=new Date(p.date),y=`${g.getFullYear()}-${g.getMonth()}`;m[y]||(m[y]=[]),m[y].push(p)}),Object.entries(m).map(([p,g])=>{const[y,x]=p.split("-").map(Number),b=new Date(y,x),j=g.filter(C=>C.type==="send"||C.type==="payment"||C.type==="withdrawal").reduce((C,E)=>C+E.amount,0);return{monthName:Bn(b,"MMMM yyyy",{locale:Ya}),transactions:g,totalOut:j}}).sort((p,g)=>{const y=new Date(p.transactions[0].date);return new Date(g.transactions[0].date).getTime()-y.getTime()})},[s]);v.useEffect(()=>{(async()=>{l(!0),await new Promise(p=>setTimeout(p,1e3)),n(t$),a(t$),l(!1)})()},[]),v.useEffect(()=>{if(t.trim()==="")a(r);else{const m=t.toLowerCase(),p=r.filter(g=>{var y;return g.id.toLowerCase().includes(m)||g.description.toLowerCase().includes(m)||((y=g.recipient)==null?void 0:y.name)&&g.recipient.name.toLowerCase().includes(m)});a(p)}},[t,r]);const f=m=>{const p=new Date(m);return Bn(p,"dd MMM yyyy  HH:mm",{locale:Ya})};return i.jsxs(Wt,{children:[i.jsx(Ui,{children:i.jsx("title",{children:"Aktivitas Transaksi - JPC Digi"})}),i.jsxs("div",{className:"bg-primary text-white p-4",children:[i.jsx("h1",{className:"text-xl font-bold mb-4",children:"Aktivitas"}),i.jsxs("div",{className:"relative mb-2",children:[i.jsx(ce,{className:"bg-white pl-10",placeholder:"Cari kirim uang...",value:t,onChange:m=>e(m.target.value)}),i.jsx(q.search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsxs("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex space-x-1",children:[i.jsx(V,{variant:"ghost",size:"icon",className:"h-6 w-6 text-gray-400",children:i.jsx(q.sort,{className:"h-4 w-4"})}),i.jsx(V,{variant:"ghost",size:"icon",className:"h-6 w-6 text-gray-400",children:i.jsx(q.filter,{className:"h-4 w-4"})})]})]})]}),i.jsx("div",{className:"p-0",children:o?i.jsx("div",{className:"flex justify-center items-center py-20",children:i.jsx(q.spinner,{className:"h-8 w-8 animate-spin text-primary"})}):s.length===0?i.jsx("div",{className:"text-center py-12 text-muted-foreground",children:i.jsx("p",{children:"Tidak ada transaksi ditemukan"})}):i.jsx("div",{children:h.map((m,p)=>i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between items-center px-4 py-2 bg-gray-50",children:[i.jsx("h2",{className:"font-medium",children:m.monthName}),i.jsxs("div",{className:"text-right",children:[i.jsxs("span",{className:"text-red-500",children:["-",ge(m.totalOut)]}),i.jsx(q.chevronRight,{className:"inline-block ml-1 h-4 w-4 text-primary"})]})]}),i.jsx("div",{children:m.transactions.map(g=>{const y=g.type==="send"||g.type==="payment"||g.type==="withdrawal";return i.jsx("div",{className:"p-4 border-b cursor-pointer hover:bg-gray-50",onClick:()=>{u(g),d(!0)},children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"mr-3",children:g.type==="send"?i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(q.arrowUpFromLine,{className:"h-5 w-5 text-blue-500"})}):g.type==="topup"?i.jsx("div",{className:"h-10 w-10 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(q.plus,{className:"h-5 w-5 text-green-500"})}):i.jsx("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center",children:i.jsx(q.shopping,{className:"h-5 w-5 text-red-500"})})}),i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:g.description}),i.jsx("p",{className:"text-sm text-gray-500",children:f(g.date)})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:`font-medium ${y?"text-red-500":"text-green-500"}`,children:[y?"-":"+",ge(g.amount)]}),i.jsx("div",{className:"mt-1",children:i.jsx(V,{variant:"ghost",size:"sm",className:"h-6 p-0",children:i.jsx(q.trash,{className:"h-4 w-4 text-gray-400"})})})]})]})})]})},g.id)})})]},p))})}),i.jsx(fr,{open:A,onOpenChange:m=>d(m),children:i.jsxs(ir,{className:"max-w-md p-0 h-[85vh] overflow-y-auto",children:[i.jsx(xr,{className:"sr-only",children:i.jsx(wr,{children:"Detail Transaksi"})}),c&&i.jsx(rFe,{transaction:c,onClose:()=>d(!1)})]})})]})}const bb={digiflazz:{baseUrl:"https://api.digiflazz.com/v1",username:"vatuviWmrQGg",apiKey:"dev-f0fbd220-4113-11f0-88e0-4582a8959ef0",useTestMode:!0},app:{name:"JPCDIGI",transactionPrefix:"JPC-DIGI"}},ih="https://jayaperkasacharcoal.co-id.id/api/digiflazz-proxy",sFe=bb.app.transactionPrefix,g2=()=>{const t=new Date().getTime(),e=Math.floor(Math.random()*1e3);return`${sFe}-${t}-${e}`};class aFe{async checkBalance(){try{return(await gr.post(`${ih}/v1/cek-saldo`,{cmd:"deposit"})).data.data.deposit}catch(e){throw console.error("Error checking balance:",e),new Error("Failed to check balance")}}async getPriceList(e){try{let n=(await gr.post(`${ih}/v1/price-list`,{cmd:"prepaid"})).data.data;return e&&(n=n.filter(s=>s.category.toLowerCase()===e.toLowerCase())),n}catch(r){throw console.error("Error fetching price list:",r),new Error("Failed to fetch price list")}}getOperatorFromPhoneNumber(e){const n=e.replace(/\D/g,"").substring(0,4);return["0811","0812","0813","0821","0822","0823"].includes(n)?"Telkomsel":["0817","0818","0819","0859","0877","0878"].includes(n)?"XL Axiata":["0851","0852","0853","0815","0816"].includes(n)?"Indosat Ooredoo":["0881","0882","0883","0884","0885","0886","0887","0888","0889"].includes(n)?"Smartfren":["0896","0897","0898","0899"].includes(n)?"Tri Indonesia":"Unknown"}async topupPrepaid(e,r,n=!1){try{const s=g2(),a={buyer_sku_code:r,customer_no:e,ref_id:s,testing:n};return(await gr.post(`${ih}/v1/transaction`,a)).data}catch(s){throw console.error("Error processing prepaid transaction:",s),new Error("Failed to process prepaid transaction")}}async inquiryPostpaid(e,r,n=!1){try{const s=g2(),a={commands:"inq-pasca",customer_no:e,buyer_sku_code:r,ref_id:s,testing:n};return(await gr.post(`${ih}/v1/transaction`,a)).data}catch(s){throw console.error("Error processing postpaid inquiry:",s),new Error("Failed to process postpaid inquiry")}}async payPostpaid(e,r,n,s=!1){try{const a={commands:"pay-pasca",customer_no:e,buyer_sku_code:r,ref_id:n,testing:s};return(await gr.post(`${ih}/v1/transaction`,a)).data}catch(a){throw console.error("Error processing postpaid payment:",a),new Error("Failed to process postpaid payment")}}async checkTransactionStatus(e,r=!0){try{const n={ref_id:e,commands:"status-pasca"};return(await gr.post(`${ih}/v1/transaction`,n)).data}catch(n){throw console.error("Error checking transaction status:",n),new Error("Failed to check transaction status")}}}const Yu=new aFe;function iFe(){const[t,e]=v.useState([]),[r,n]=v.useState(!1),[s,a]=v.useState(null),[o,l]=v.useState(0),[c,u]=v.useState(null),A=v.useCallback(async x=>{try{n(!0),a(null);const b=await Yu.getPriceList(x);return e(b),b}catch(b){const j=b instanceof Error?b.message:"Failed to fetch products";return a(j),[]}finally{n(!1)}},[]),d=v.useCallback(async()=>{try{n(!0),a(null);const x=await Yu.checkBalance();return l(x),x}catch(x){const b=x instanceof Error?x.message:"Failed to fetch balance";return a(b),0}finally{n(!1)}},[]),h=v.useCallback(async(x,b,j=bb.digiflazz.useTestMode)=>{try{n(!0),a(null);const C=await Yu.topupPrepaid(x,b,j);return u(C),C}catch(C){const E=C instanceof Error?C.message:"Failed to process transaction";throw a(E),new Error(E)}finally{n(!1)}},[]),f=v.useCallback(async(x,b,j=bb.digiflazz.useTestMode)=>{try{n(!0),a(null);const C=await Yu.inquiryPostpaid(x,b,j);return u(C),C}catch(C){const E=C instanceof Error?C.message:"Failed to process inquiry";throw a(E),new Error(E)}finally{n(!1)}},[]),m=v.useCallback(async(x,b,j,C=bb.digiflazz.useTestMode)=>{try{n(!0),a(null);const E=await Yu.payPostpaid(x,b,j,C);return u(E),E}catch(E){const _=E instanceof Error?E.message:"Failed to process payment";throw a(_),new Error(_)}finally{n(!1)}},[]),p=v.useCallback(async(x,b=!0)=>{try{n(!0),a(null);const j=await Yu.checkTransactionStatus(x,b);return u(j),j}catch(j){const C=j instanceof Error?j.message:"Failed to check transaction status";throw a(C),new Error(C)}finally{n(!1)}},[]),g=v.useCallback(x=>Yu.getOperatorFromPhoneNumber(x),[]),y=v.useCallback(()=>g2(),[]);return{products:t,loading:r,error:s,balance:o,currentTransaction:c,fetchProducts:A,fetchBalance:d,processPrepaidTransaction:h,processPostpaidInquiry:f,processPostpaidPayment:m,checkTransactionStatus:p,getOperatorFromPhoneNumber:g,getNewRefId:y}}const zZ=v.createContext({transactionHistory:[],addTransaction:()=>{},clearTransactions:()=>{},getTransactionById:()=>{}}),oFe=({children:t})=>{const[e,r]=v.useState([]),n=o=>{r(l=>[o,...l]);try{const l=localStorage.getItem("jpcDigi_transactions"),c=l?JSON.parse(l):[];c.unshift(o),c.length>100&&c.pop(),localStorage.setItem("jpcDigi_transactions",JSON.stringify(c))}catch(l){console.error("Error storing transaction in localStorage:",l)}},s=()=>{r([]),localStorage.removeItem("jpcDigi_transactions")},a=o=>e.find(l=>l.id===o);return $.useEffect(()=>{try{const o=localStorage.getItem("jpcDigi_transactions");o&&r(JSON.parse(o))}catch(o){console.error("Error loading transactions from localStorage:",o)}},[]),i.jsx(zZ.Provider,{value:{transactionHistory:e,addTransaction:n,clearTransactions:s,getTransactionById:a},children:t})},lFe=()=>v.useContext(zZ),cFe=t=>{const e=t.product_name.match(/\d+/g),r=e?parseInt(e[0])>=1e3?`${Math.floor(parseInt(e[0])/1e3)}Rb`:e[0]:"",n=t.desc.match(/(\d+)\s*hari/i),s=n?`Masa Aktif ${n[0]}`:"Masa Aktif Sesuai Provider",a=Math.ceil(t.price*1.05),o=t.price<a;return{id:t.buyer_sku_code,nominal:r,description:t.product_name,price:t.price,originalPrice:o?a:void 0,validity:s,isPopular:t.stock>1e3||t.product_name.toLowerCase().includes("popular")}},r$=[];function uFe(){const t=Tt(),e=Qs(),[r,n]=v.useState(""),[s,a]=v.useState(["0813 9458 6882","0822 6015 2977"]),[o,l]=v.useState("pulsa"),[c,u]=v.useState(null),[A,d]=v.useState(!1),[h,f]=v.useState(!1),[m,p]=v.useState(!1),[g,y]=v.useState("Telkomsel"),[x,b]=v.useState(r$),[j,C]=v.useState(r$),[E,_]=v.useState(null),B=iFe(),{addTransaction:S}=lFe(),N=()=>i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white p-6 rounded-lg flex flex-col items-center",children:[i.jsx(zt,{className:"h-8 w-8 animate-spin text-primary mb-2"}),i.jsx("p",{children:"Memproses pembayaran..."})]})}),P=U=>{const O=U.replace(/\D/g,"");let R="";for(let Q=0;Q<O.length;Q++)(Q===4||Q===8)&&(R+=" "),R+=O[Q];return R},I=U=>{const O=P(U.target.value);n(O);const R=O.replace(/\s/g,"").substring(0,4);["0811","0812","0813","0821","0822","0823"].includes(R)?y("Telkomsel"):["0817","0818","0819","0859","0877","0878"].includes(R)?y("XL Axiata"):["0851","0852","0853","0815","0816"].includes(R)?y("Indosat Ooredoo"):["0881","0882","0883","0884","0885","0886","0887","0888","0889"].includes(R)?y("Smartfren"):["0896","0897","0898","0899"].includes(R)?y("Tri Indonesia"):y("Unknown")},T=U=>{n(U)},D=U=>{u(U),d(!0)},M=async()=>{try{f(!0),_(null);const U=o==="pulsa"?"Pulsa":"Data",R=(await B.fetchProducts(U)).filter(Q=>{const G=r.replace(/\D/g,"");return g==="Telkomsel"?Q.brand.toLowerCase().includes("telkomsel"):g==="XL Axiata"?Q.brand.toLowerCase().includes("xl"):g==="Indosat Ooredoo"?Q.brand.toLowerCase().includes("indosat"):g==="Smartfren"?Q.brand.toLowerCase().includes("smartfren"):g==="Tri Indonesia"?Q.brand.toLowerCase().includes("tri")||Q.brand.toLowerCase().includes("3"):!0}).map(cFe);R.sort((Q,G)=>Q.price-G.price),o==="pulsa"?b(R):C(R)}catch(U){_(U instanceof Error?U.message:"Failed to fetch products"),fe({variant:"destructive",title:"Error",description:"Failed to load products. Please try again."})}finally{f(!1)}},H=async()=>{var U;if(!(!c||!r))try{f(!0),_(null);const O=r.replace(/\D/g,""),R=await B.processPrepaidTransaction(O,c.id,!0);if(R&&R.data&&R.data.status==="success")S({id:R.data.ref_id||`tx-${Date.now()}`,type:"PPOB",subtype:o==="pulsa"?"Pulsa":"Data",amount:c.price,date:new Date().toISOString(),description:`${c.description} ${r}`,status:"success"}),p(!0),fe({title:"Pembayaran Berhasil",description:`Pembelian ${c.description} untuk nomor ${r} telah berhasil.`});else throw new Error(((U=R.data)==null?void 0:U.message)||"Transaction failed")}catch(O){_(O instanceof Error?O.message:"Failed to process payment"),fe({variant:"destructive",title:"Pembayaran Gagal",description:O instanceof Error?O.message:"Gagal memproses pembayaran. Silakan coba lagi."}),d(!1)}finally{f(!1)}};return v.useEffect(()=>{const O=new URLSearchParams(e.search).get("tab");if((O==="pulsa"||O==="data")&&l(O),r){const R=r.replace(/\s/g,"").substring(0,4);["0811","0812","0813","0821","0822","0823"].includes(R)?y("Telkomsel"):["0817","0818","0819","0859","0877","0878"].includes(R)?y("XL Axiata"):["0851","0852","0853","0815","0816"].includes(R)?y("Indosat Ooredoo"):["0881","0882","0883","0884","0885","0886","0887","0888","0889"].includes(R)?y("Smartfren"):["0896","0897","0898","0899"].includes(R)?y("Tri Indonesia"):y("Unknown")}},[e.search,r]),v.useEffect(()=>{r&&r.length>=4&&M()},[r,o]),v.useEffect(()=>{const U=new URLSearchParams(e.search);U.set("tab",o),t(`${e.pathname}?${U.toString()}`,{replace:!0})},[o,t,e.pathname,e.search]),i.jsxs(Wt,{children:[i.jsx(Ui,{children:i.jsx("title",{children:"Pulsa & Data - JPC Digi"})}),i.jsxs("div",{className:"w-full max-w-xl mx-auto space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-primary text-white",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:()=>t("/ppob/dashboard"),className:"mr-3",children:i.jsx(q.chevronLeft,{className:"h-6 w-6"})}),i.jsx("h1",{className:"text-lg font-semibold",children:"Pulsa & Paket Data"})]}),i.jsx("button",{children:i.jsx(q.file,{className:"h-5 w-5"})})]}),i.jsxs("div",{className:"p-4 bg-white",children:[i.jsxs("div",{className:"bg-white rounded-lg mb-4",children:[i.jsxs("div",{className:"border-b border-gray-100 py-2 px-1",children:[i.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"NOMOR HP"}),i.jsx(ce,{type:"tel",value:r,onChange:I,placeholder:"Masukkan nomor handphone",className:"border-none text-lg px-0 focus-visible:ring-0"})]}),r&&i.jsxs("div",{className:"py-2 px-1 flex items-center",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center mr-2",children:i.jsx(q.smartphone,{className:"h-4 w-4 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Provider"}),i.jsx("p",{className:"font-medium",children:g})]})]}),s.length>0&&i.jsxs("div",{className:"pt-2 pb-3",children:[i.jsx("p",{className:"text-sm text-gray-500 mb-2 px-1",children:"Nomor Tersimpan"}),i.jsx("div",{className:"flex flex-wrap gap-2 px-1",children:s.map((U,O)=>i.jsx("button",{onClick:()=>T(U),className:"px-3 py-1.5 bg-gray-100 rounded-lg text-sm hover:bg-gray-200 transition-colors",children:U},O))})]})]}),i.jsxs("div",{className:"flex space-x-4 mb-4",children:[i.jsx("button",{onClick:()=>l("pulsa"),className:`px-4 py-2 text-sm font-medium rounded-lg ${o==="pulsa"?"bg-primary text-white":"bg-gray-100 text-gray-700"}`,children:"Pulsa"}),i.jsx("button",{onClick:()=>l("data"),className:`px-4 py-2 text-sm font-medium rounded-lg ${o==="data"?"bg-primary text-white":"bg-gray-100 text-gray-700"}`,children:"Paket Data"})]}),B.loading?i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx(zt,{className:"h-8 w-8 animate-spin text-primary"})}):E?i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[i.jsx(q.alertTriangle,{className:"h-8 w-8 text-destructive mb-2"}),i.jsx("h3",{className:"font-medium",children:"Error"}),i.jsx("p",{className:"text-sm text-gray-500",children:E}),i.jsx(V,{onClick:M,variant:"outline",size:"sm",className:"mt-4",children:"Try Again"})]}):i.jsx(i.Fragment,{children:o==="pulsa"?i.jsx("div",{className:"grid grid-cols-2 gap-4",children:x.length===0&&!B.loading?i.jsx("div",{className:"col-span-2 text-center p-4",children:i.jsx("p",{className:"text-gray-500",children:"Masukkan nomor HP untuk melihat pilihan pulsa"})}):x.map(U=>i.jsx(ye,{className:`cursor-pointer hover:border-primary transition-colors ${U.isPopular?"border-amber-400":""}`,onClick:()=>D(U),children:i.jsxs(xe,{className:"p-4",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("div",{className:"font-semibold text-xl",children:U.nominal}),U.isPopular&&i.jsx("div",{className:"bg-amber-100 text-amber-800 text-xs px-2 py-0.5 rounded-full",children:"Popular"})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:U.description}),i.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:U.validity}),i.jsxs("div",{className:"mt-3",children:[U.originalPrice&&i.jsx("span",{className:"text-xs text-gray-400 line-through mr-2",children:ge(U.originalPrice)}),i.jsx("span",{className:"text-primary font-medium",children:ge(U.price)})]})]})},U.id))}):i.jsx("div",{className:"space-y-4",children:j.length===0&&!B.loading?i.jsx("div",{className:"text-center p-4",children:i.jsx("p",{className:"text-gray-500",children:"Masukkan nomor HP untuk melihat pilihan paket data"})}):j.map(U=>i.jsx(ye,{className:"cursor-pointer hover:border-primary transition-colors",onClick:()=>D(U),children:i.jsx(xe,{className:"p-4",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:U.description}),i.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:U.validity})]}),i.jsx("div",{className:"text-primary font-medium",children:ge(U.price)})]})})},U.id))})})]})]}),i.jsx(fr,{open:A,onOpenChange:d,children:i.jsx(ir,{className:"sm:max-w-md",children:m?i.jsxs("div",{className:"flex flex-col items-center justify-center py-6 space-y-4",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(q.check,{className:"h-8 w-8 text-green-600"})}),i.jsx("h2",{className:"text-xl font-semibold text-center",children:"Pembayaran Berhasil!"}),i.jsxs("p",{className:"text-center text-gray-500",children:["Pembelian ",c==null?void 0:c.description," untuk nomor ",r," telah berhasil."]}),i.jsx(V,{className:"mt-4 w-full",onClick:()=>{d(!1),p(!1)},children:"Kembali"})]}):i.jsxs(i.Fragment,{children:[i.jsxs(xr,{children:[i.jsx(wr,{children:"Konfirmasi Pembayaran"}),i.jsx(Jn,{children:"Pastikan nomor handphone dan produk yang dipilih sudah benar."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Nomor Handphone"}),i.jsx("span",{className:"font-medium",children:r})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Provider"}),i.jsx("span",{children:g})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Produk"}),i.jsx("span",{children:c==null?void 0:c.description})]})]}),i.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("span",{children:"Total Harga"}),i.jsx("span",{className:"text-amber-500",children:ge(c==null?void 0:c.price)})]})})]}),i.jsxs(Sn,{className:"sm:justify-between",children:[i.jsx(V,{type:"button",variant:"outline",onClick:()=>d(!1),disabled:h,children:"Batal"}),i.jsx(V,{type:"button",onClick:H,disabled:h,children:h?i.jsxs(i.Fragment,{children:[i.jsx(q.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Bayar Sekarang"})]})]})})}),h&&i.jsx(N,{})]})}const n$=[{id:"acc1",name:"Yoga Prasetya",bank:"Seabank Indonesia",accountNumber:"1234567890",isRecent:!0},{id:"acc2",name:"Budi Santoso",bank:"Bank BCA",accountNumber:"9876543210",isRecent:!1},{id:"acc3",name:"Siti Nurhaliza",bank:"Bank Mandiri",accountNumber:"5678901234",isRecent:!0}],AFe=["Bank BCA","Bank Mandiri","Bank BNI","Bank BRI","Bank CIMB Niaga","Bank Permata","Bank Danamon","Seabank Indonesia","Bank Syariah Indonesia","Bank Jago"];function dFe(){const t=Tt(),[e,r]=v.useState("transfer"),[n,s]=v.useState(""),[a,o]=v.useState(""),[l,c]=v.useState(""),[u,A]=v.useState(""),[d,h]=v.useState(!1),[f,m]=v.useState(!1),[p,g]=v.useState(!1),y=_=>{const B=_.target.value.replace(/\D/g,"");s(B)},x=_=>{o(_.accountNumber),c(_.bank),A(_.name)},b=()=>{if(!n||parseInt(n)<1e4){alert("Minimal transfer Rp 10.000");return}if(!a||!l){alert("Mohon lengkapi data rekening tujuan");return}h(!0)},j=()=>{h(!1),g(!0),setTimeout(()=>{g(!1),m(!0)},2e3)},C=()=>n?ge(parseInt(n)):"",E=()=>{m(!1),t("/ppob/activity")};return i.jsxs(Wt,{children:[i.jsx(Ui,{children:i.jsx("title",{children:"Kirim Uang - JPC Digi"})}),i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx("div",{className:"bg-primary text-white p-4",children:i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(V,{variant:"ghost",size:"icon",className:"text-white mr-2 p-0",onClick:()=>t("/ppob"),children:i.jsx(q.chevronLeft,{className:"h-6 w-6"})}),i.jsx("h1",{className:"text-xl font-bold",children:"Kirim Uang"})]})}),i.jsxs(sa,{defaultValue:"transfer",className:"w-full",onValueChange:r,children:[i.jsx("div",{className:"px-4 pt-2",children:i.jsxs(Fs,{className:"grid w-full grid-cols-2",children:[i.jsx(Ft,{value:"transfer",children:"Transfer Bank"}),i.jsx(Ft,{value:"ewallet",children:"E-Wallet"})]})}),i.jsx(er,{value:"transfer",className:"p-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"amount",children:"Jumlah"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"Rp"}),i.jsx(ce,{id:"amount",type:"text",className:"pl-10",value:n,onChange:y,placeholder:"0"})]}),i.jsx("p",{className:"text-xs text-gray-500",children:"Minimal Rp 10.000"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"bank",children:"Bank Tujuan"}),i.jsxs(us,{value:l,onValueChange:c,children:[i.jsx(Ln,{id:"bank",children:i.jsx(As,{placeholder:"Pilih bank"})}),i.jsx($n,{children:AFe.map(_=>i.jsx(vt,{value:_,children:_},_))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"accountNumber",children:"Nomor Rekening"}),i.jsx(ce,{id:"accountNumber",value:a,onChange:_=>o(_.target.value),placeholder:"Masukkan nomor rekening"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"recipientName",children:"Nama Penerima"}),i.jsx(ce,{id:"recipientName",value:u,onChange:_=>A(_.target.value),placeholder:"Nama akan terisi otomatis",disabled:!a||a.length<8})]}),n$.length>0&&i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Rekening Tersimpan"}),i.jsx("div",{className:"space-y-2",children:n$.map(_=>i.jsxs("div",{className:"border rounded-lg p-3 flex justify-between items-center cursor-pointer hover:bg-gray-50",onClick:()=>x(_),children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:_.name}),i.jsxs("p",{className:"text-sm text-gray-500",children:[_.bank,"  ",_.accountNumber]})]}),_.isRecent&&i.jsx(jt,{variant:"outline",className:"text-xs",children:"Baru"})]},_.id))})]})]})}),i.jsx(er,{value:"ewallet",className:"p-4",children:i.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-gray-500",children:[i.jsx(q.wallet,{className:"h-12 w-12 mb-2 opacity-40"}),i.jsx("p",{children:"Fitur E-Wallet sedang dalam pengembangan"})]})})]}),i.jsx("div",{className:"mt-auto p-4 border-t",children:i.jsx(V,{className:"w-full",size:"lg",disabled:!n||!a||!l||e!=="transfer",onClick:b,children:"Lanjutkan"})})]}),i.jsx(fr,{open:d,onOpenChange:h,children:i.jsxs(ir,{className:"sm:max-w-md",children:[i.jsx(xr,{children:i.jsx(wr,{children:"Konfirmasi Transfer"})}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:i.jsx("p",{className:"text-center text-2xl font-bold",children:C()})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-gray-500",children:"Bank"}),i.jsx("p",{className:"font-medium",children:l})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-gray-500",children:"Nomor Rekening"}),i.jsx("p",{className:"font-medium",children:a})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-gray-500",children:"Nama Penerima"}),i.jsx("p",{className:"font-medium",children:u})]}),i.jsx(vs,{}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-gray-500",children:"Biaya Admin"}),i.jsx("p",{className:"font-medium",children:"Gratis"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"font-medium",children:"Total"}),i.jsx("p",{className:"font-bold",children:C()})]})]})]}),i.jsxs(Sn,{children:[i.jsx(V,{variant:"outline",onClick:()=>h(!1),children:"Batal"}),i.jsx(V,{onClick:j,children:"Konfirmasi"})]})]})}),p&&i.jsx(fr,{open:!0,children:i.jsxs(ir,{className:"sm:max-w-md",children:[i.jsx(xr,{children:i.jsx(wr,{children:"Memproses Transaksi"})}),i.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[i.jsx(q.spinner,{className:"h-12 w-12 animate-spin text-primary mb-4"}),i.jsx("p",{children:"Mohon tunggu, transaksi sedang diproses..."})]})]})}),i.jsx(fr,{open:f,onOpenChange:m,children:i.jsxs(ir,{className:"sm:max-w-md",children:[i.jsx(xr,{children:i.jsx(wr,{children:"Transfer Berhasil"})}),i.jsx("div",{className:"space-y-4 py-4",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center mb-4",children:i.jsx(q.check,{className:"h-8 w-8 text-green-500"})}),i.jsx("p",{className:"text-center text-2xl font-bold",children:C()}),i.jsx("p",{className:"text-gray-500",children:"berhasil ditransfer ke"}),i.jsx("p",{className:"font-medium",children:u}),i.jsxs("p",{className:"text-sm text-gray-500",children:[l,"  ",a]})]})}),i.jsx(Sn,{children:i.jsx(V,{className:"w-full",onClick:E,children:"Selesai"})})]})})]})}var n4="Avatar",[hFe,Vnt]=aa(n4),[fFe,GZ]=hFe(n4),WZ=v.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[s,a]=v.useState("idle");return i.jsx(fFe,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:i.jsx(et.span,{...n,ref:e})})});WZ.displayName=n4;var qZ="AvatarImage",XZ=v.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=t,o=GZ(qZ,r),l=mFe(n,a.referrerPolicy),c=Gr(u=>{s(u),o.onImageLoadingStatusChange(u)});return gn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(et.img,{...a,ref:e,src:n}):null});XZ.displayName=qZ;var JZ="AvatarFallback",YZ=v.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...s}=t,a=GZ(JZ,r),[o,l]=v.useState(n===void 0);return v.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&a.imageLoadingStatus!=="loaded"?i.jsx(et.span,{...s,ref:e}):null});YZ.displayName=JZ;function mFe(t,e){const[r,n]=v.useState("idle");return gn(()=>{if(!t){n("error");return}let s=!0;const a=new window.Image,o=l=>()=>{s&&n(l)};return n("loading"),a.onload=o("loaded"),a.onerror=o("error"),a.src=t,e&&(a.referrerPolicy=e),()=>{s=!1}},[t,e]),r}var ZZ=WZ,eee=XZ,tee=YZ;const Cu=v.forwardRef(({className:t,...e},r)=>i.jsx(ZZ,{ref:r,className:he("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Cu.displayName=ZZ.displayName;const Gf=v.forwardRef(({className:t,...e},r)=>i.jsx(eee,{ref:r,className:he("aspect-square h-full w-full",t),...e}));Gf.displayName=eee.displayName;const Bu=v.forwardRef(({className:t,...e},r)=>i.jsx(tee,{ref:r,className:he("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Bu.displayName=tee.displayName;const pFe=()=>{const t=Tt(),[e,r]=v.useState(""),[n,s]=v.useState(""),[a,o]=v.useState(""),[l,c]=v.useState("contacts"),[u,A]=v.useState(!1),[d,h]=v.useState(!1),[f,m]=v.useState(""),[p,g]=v.useState(!1),[y,x]=v.useState(""),b=[{id:"1",name:"Ahmad Firdaus",phone:"081234567890",image:"/placeholder.svg"},{id:"2",name:"Budi Santoso",phone:"081298765432",image:"/placeholder.svg"},{id:"3",name:"Citra Dewi",phone:"081345678901",image:"/placeholder.svg"},{id:"4",name:"Doni Prasetya",phone:"081456789012",image:"/placeholder.svg"}],j=E=>{const _=E.target.value.replace(/\D/g,"");if(_===""){r("");return}r(new Intl.NumberFormat("id-ID").format(parseInt(_)))},C=E=>{E.preventDefault(),A(!0),setTimeout(()=>{const _=`REQ${Date.now().toString().slice(-8)}`;m(_),x(`https://jpcdigi.com/ppob/pay-request/${_}`),A(!1),h(!0),setTimeout(()=>{(l==="link"||l==="qr")&&g(!0)},1500)},1500)};return i.jsxs(Wt,{children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 border-b border-gray-100",children:[i.jsx("button",{onClick:()=>t("/ppob/dashboard"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(q.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"Minta Dana"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Minta dana dari pengguna lain"})]}),i.jsx("div",{className:"ml-auto rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(q.file,{className:"h-5 w-5"})})]})}),i.jsxs("div",{className:"container max-w-md mx-auto px-4 py-6",children:[d?i.jsx(ye,{className:"border-none shadow-sm mb-6",children:i.jsxs(xe,{className:"p-6 text-center",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(q.check,{className:"h-8 w-8 text-green-600"})})}),i.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Permintaan Terkirim!"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Permintaan dana telah dikirim dan menunggu pembayaran"}),i.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg mb-4",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Jumlah"}),i.jsxs("span",{className:"font-semibold",children:["Rp ",e]})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Tujuan"}),i.jsx("span",{className:"font-semibold",children:n||"Link Pembayaran"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"ID Permintaan"}),i.jsx("span",{className:"font-semibold",children:f})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(V,{variant:"outline",className:"w-full flex justify-center items-center",onClick:()=>t("/ppob/history"),children:[i.jsx(q.arrowLeft,{className:"mr-2 h-4 w-4"}),"Kembali ke Beranda"]}),i.jsxs(V,{className:"w-full flex justify-center items-center",onClick:()=>g(!0),children:[i.jsx(q.share,{className:"mr-2 h-4 w-4"}),"Bagikan Link Permintaan"]})]})]})}):i.jsxs(i.Fragment,{children:[i.jsx(ye,{className:"border-none shadow-sm mb-6",children:i.jsx(xe,{className:"pt-6",children:i.jsx("form",{onSubmit:C,children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white rounded-xl shadow-sm p-5 mb-2",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Te,{htmlFor:"amount",className:"text-muted-foreground text-xs font-medium",children:"JUMLAH YANG DIMINTA"}),i.jsx("div",{className:"relative mt-3 mb-2",children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("span",{className:"text-3xl font-bold text-primary mr-1",children:"Rp"}),i.jsx(ce,{id:"amount",placeholder:"0",className:"text-3xl font-bold text-center border-none shadow-none focus-visible:ring-0 w-[60%] h-14 bg-transparent px-0",value:e,onChange:j,required:!0})]})}),i.jsxs("div",{className:"flex justify-between text-xs mx-4",children:[i.jsx(jt,{variant:"outline",className:"text-primary border-primary/20 bg-primary/5",children:"Min: Rp10.000"}),i.jsx(jt,{variant:"outline",className:"text-primary border-primary/20 bg-primary/5",children:"Maks: Rp10.000.000"})]})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"notes",children:"Catatan (Opsional)"}),i.jsx(ce,{id:"notes",placeholder:"Contoh: Bayar makan siang",value:a,onChange:E=>o(E.target.value)})]})]})})})}),i.jsxs(sa,{value:l,onValueChange:E=>c(E),className:"w-full",children:[i.jsxs(Fs,{className:"grid w-full grid-cols-3",children:[i.jsx(Ft,{value:"contacts",children:"Kontak"}),i.jsx(Ft,{value:"link",children:"Link"}),i.jsx(Ft,{value:"qr",children:"QR Code"})]}),i.jsxs(er,{value:"contacts",className:"space-y-4 pt-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(Te,{htmlFor:"phone",className:"font-medium",children:"Nomor Telepon"}),i.jsx("span",{className:"text-xs text-primary",children:"Semua Kontak"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:i.jsx(q.phone,{className:"h-4 w-4 text-muted-foreground"})}),i.jsx(ce,{id:"phone",placeholder:"Contoh: 081234567890",className:"pl-9 bg-muted/30",value:n,onChange:E=>s(E.target.value.replace(/\D/g,"")),required:!0})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Nomor telepon penerima permintaan dana"})]}),i.jsxs("div",{className:"bg-muted/20 rounded-lg p-3 mb-4",children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Nomor Tersimpan"}),i.jsx("div",{className:"grid grid-cols-1 gap-2",children:b.map(E=>i.jsxs("div",{onClick:()=>s(E.phone),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted cursor-pointer",children:[i.jsxs(Cu,{className:"h-10 w-10 border",children:[i.jsx(Gf,{src:E.image,alt:E.name}),i.jsx(Bu,{children:E.name.substring(0,2)})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:E.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:E.phone})]}),i.jsx("div",{className:"w-5 h-5 rounded-full border border-primary flex items-center justify-center",children:n===E.phone&&i.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"})})]},E.id))})]}),i.jsx(V,{className:"w-full bg-primary hover:bg-primary/90",disabled:!e||!n||u,onClick:C,children:u?i.jsxs(i.Fragment,{children:[i.jsx(q.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Kirim Permintaan"})]}),i.jsx(er,{value:"link",className:"space-y-4 pt-4",children:i.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg text-center space-y-2",children:[i.jsx(q.link,{className:"h-12 w-12 mx-auto text-primary/50"}),i.jsx("h3",{className:"font-medium",children:"Bagikan Link Permintaan"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Buat link yang dapat dibagikan untuk menerima pembayaran"}),i.jsx(V,{className:"w-full",disabled:!e||u,onClick:C,children:u?i.jsxs(i.Fragment,{children:[i.jsx(q.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Buat Link Pembayaran"})]})}),i.jsx(er,{value:"qr",className:"space-y-4 pt-4",children:i.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg text-center space-y-2",children:[i.jsx(q.qrCode,{className:"h-12 w-12 mx-auto text-primary/50"}),i.jsx("h3",{className:"font-medium",children:"Buat QR Code Pembayaran"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Buat kode QR yang dapat dipindai untuk menerima pembayaran"}),i.jsx(V,{className:"w-full",disabled:!e||u,onClick:C,children:u?i.jsxs(i.Fragment,{children:[i.jsx(q.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Buat QR Code Pembayaran"})]})})]})]}),i.jsx(fr,{open:p,onOpenChange:g,children:i.jsxs(ir,{className:"sm:max-w-md",children:[i.jsxs(xr,{children:[i.jsx(wr,{children:"Bagikan Permintaan"}),i.jsx(Jn,{children:"Bagikan link atau QR code permintaan dana kepada orang lain"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[l==="qr"?i.jsx("div",{className:"flex justify-center",children:i.jsxs("div",{className:"p-4 border-2 border-dashed border-muted-foreground/50 rounded-lg bg-white",children:[i.jsx(KZ,{value:y,size:180}),i.jsxs("p",{className:"text-xs text-center mt-2",children:["Rp ",e]})]})}):i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{children:"Link Permintaan"}),i.jsxs("div",{className:"flex",children:[i.jsx(ce,{value:y,readOnly:!0,className:"rounded-r-none"}),i.jsx(V,{className:"rounded-l-none",type:"button",onClick:()=>{navigator.clipboard.writeText(y),alert("Link permintaan disalin!")},children:i.jsx(q.copy,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{children:"Bagikan ke"}),i.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{icon:"messageSquare",name:"WhatsApp",color:"text-green-600"},{icon:"mail",name:"Email",color:"text-blue-600"},{icon:"wifi",name:"Facebook",color:"text-blue-800"},{icon:"copy",name:"Salin",color:"text-gray-600"}].map((E,_)=>{const B=q[E.icon];return i.jsxs(V,{variant:"outline",className:"h-auto py-3 flex flex-col items-center",children:[i.jsx(B,{className:`h-5 w-5 mb-1 ${E.color}`}),i.jsx("span",{className:"text-xs",children:E.name})]},_)})})]})]}),i.jsx(Sn,{children:i.jsx(V,{variant:"outline",onClick:()=>{g(!1),t("/ppob/history")},children:"Selesai"})})]})})]})]})},gFe=[{id:1,amount:5e4},{id:2,amount:1e5},{id:3,amount:15e4},{id:4,amount:2e5},{id:5,amount:5e5},{id:6,amount:1e6}],s$=[{id:"bca",name:"BCA",logo:"/logos/bca.png",fallback:"BC"},{id:"mandiri",name:"Mandiri",logo:"/logos/mandiri.png",fallback:"MD"},{id:"bni",name:"BNI",logo:"/logos/bni.png",fallback:"BN"},{id:"bri",name:"BRI",logo:"/logos/bri.png",fallback:"BR"},{id:"gopay",name:"GoPay",logo:"/logos/gopay.png",fallback:"GP"},{id:"ovo",name:"OVO",logo:"/logos/ovo.png",fallback:"OV"}],vFe=()=>{var g;const t=Tt(),[e,r]=v.useState(""),[n,s]=v.useState(""),[a,o]=v.useState(""),[l,c]=v.useState(!1),[u,A]=v.useState(!1),[d,h]=v.useState(""),f=y=>{r(y.toString()),s(new Intl.NumberFormat("id-ID").format(y))},m=y=>{const x=y.target.value.replace(/\D/g,"");if(x===""){r(""),s("");return}r(x),s(new Intl.NumberFormat("id-ID").format(parseInt(x)))},p=()=>{!e||!a||(c(!0),setTimeout(()=>{const y=`TX${Date.now().toString().slice(-8)}`;h(y),c(!1),A(!0)},1500))};return i.jsxs(Wt,{children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 border-b border-gray-100",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(q.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"Top Up Saldo"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Isi Ulang Saldo Anda"})]}),i.jsx("div",{className:"ml-auto rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(q.file,{className:"h-5 w-5"})})]})}),i.jsxs("div",{className:"container max-w-md mx-auto px-4 py-6",children:[i.jsx(ye,{className:"border-none shadow-sm mb-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:i.jsx(xe,{className:"p-4",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-xs opacity-80 mb-1",children:"Saldo Anda"}),i.jsx("span",{className:"text-2xl font-bold",children:"Rp2.500.000"})]})})}),i.jsxs(sa,{defaultValue:"amount",className:"mb-6",children:[i.jsxs(Fs,{className:"grid grid-cols-2 mb-4",children:[i.jsx(Ft,{value:"amount",children:"Nominal"}),i.jsx(Ft,{value:"payment",children:"Metode Pembayaran"})]}),i.jsx(er,{value:"amount",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white rounded-xl shadow-sm p-5 mb-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Te,{htmlFor:"customAmount",className:"text-muted-foreground text-xs font-medium",children:"JUMLAH TOP UP"}),i.jsx("div",{className:"relative mt-3 mb-2",children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("span",{className:"text-3xl font-bold text-primary mr-1",children:"Rp"}),i.jsx(ce,{id:"customAmount",placeholder:"0",className:"text-3xl font-bold text-center border-none shadow-none focus-visible:ring-0 w-[60%] h-14 bg-transparent px-0",value:n,onChange:m})]})}),i.jsxs("div",{className:"flex justify-between text-xs mx-4",children:[i.jsx(jt,{variant:"outline",className:"text-primary border-primary/20 bg-primary/5",children:"Min: Rp10.000"}),i.jsx(jt,{variant:"outline",className:"text-primary border-primary/20 bg-primary/5",children:"Maks: Rp10.000.000"})]})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{className:"text-sm font-medium",children:"Pilih Nominal"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:gFe.map(y=>i.jsx(V,{type:"button",variant:e===y.amount.toString()?"default":"outline",className:he("h-12 font-medium",e===y.amount.toString()?"bg-primary text-white":"border-gray-200 text-gray-700"),onClick:()=>f(y.amount),children:ge(y.amount)},y.id))})]}),i.jsx(V,{className:"w-full mt-4",size:"lg",disabled:!e,onClick:()=>{var y;(y=document.querySelector('[data-value="payment"]'))==null||y.dispatchEvent(new MouseEvent("click",{bubbles:!0}))},children:"Lanjutkan"})]})}),i.jsx(er,{value:"payment",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx(ye,{className:"border-none shadow-sm bg-muted/20 mb-4",children:i.jsx(xe,{className:"p-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Jumlah Top Up"}),i.jsx("p",{className:"font-bold text-lg",children:ge(parseInt(e||"0"))})]}),i.jsx(V,{variant:"ghost",size:"sm",onClick:()=>{var y;(y=document.querySelector('[data-value="amount"]'))==null||y.dispatchEvent(new MouseEvent("click",{bubbles:!0}))},children:"Ubah"})]})})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{className:"text-sm font-medium",children:"Pilih Metode Pembayaran"}),i.jsx("div",{className:"grid gap-2",children:s$.map(y=>i.jsxs("div",{className:he("flex items-center gap-3 p-3 rounded-lg border cursor-pointer",a===y.id?"border-primary bg-primary/5":"border-gray-200"),onClick:()=>o(y.id),children:[i.jsxs(Cu,{className:"h-10 w-10 border",children:[i.jsx(Gf,{src:y.logo,alt:y.name}),i.jsx(Bu,{children:y.fallback})]}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-sm font-medium",children:y.name})}),i.jsx("div",{className:"w-5 h-5 rounded-full border border-primary flex items-center justify-center",children:a===y.id&&i.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"})})]},y.id))})]}),i.jsx(V,{className:"w-full mt-4",size:"lg",disabled:!a||!e||l,onClick:p,children:l?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(zt,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Memproses..."})]}):`Bayar ${ge(parseInt(e||"0"))}`})]})})]}),i.jsx(fr,{open:u,onOpenChange:A,children:i.jsxs(ir,{className:"sm:max-w-md",children:[i.jsxs(xr,{children:[i.jsx(wr,{className:"text-center",children:"Top Up Berhasil!"}),i.jsx(Jn,{className:"text-center",children:"Saldo Anda berhasil ditambahkan"})]}),i.jsx("div",{className:"flex justify-center py-6",children:i.jsx("div",{className:"h-20 w-20 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(q.check,{className:"h-10 w-10 text-green-600"})})}),i.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg mb-4",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Jumlah"}),i.jsx("span",{className:"font-semibold",children:ge(parseInt(e||"0"))})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Metode"}),i.jsx("span",{className:"font-semibold",children:((g=s$.find(y=>y.id===a))==null?void 0:g.name)||""})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"ID Transaksi"}),i.jsx("span",{className:"font-semibold",children:d})]})]}),i.jsx(Sn,{children:i.jsx(V,{className:"w-full",onClick:()=>{A(!1),t("/ppob")},children:"Kembali ke Beranda"})})]})})]})]})},yFe=[{value:"20000",label:"Token 20rb",price:22500,desc:"Token Listrik 20.000 VA"},{value:"50000",label:"Token 50rb",price:51500,desc:"Token Listrik 50.000 VA"},{value:"100000",label:"Token 100rb",price:101500,desc:"Token Listrik 100.000 VA"},{value:"200000",label:"Token 200rb",price:201500,desc:"Token Listrik 200.000 VA"},{value:"500000",label:"Token 500rb",price:501500,desc:"Token Listrik 500.000 VA"},{value:"1000000",label:"Token 1jt",price:1001500,desc:"Token Listrik 1.000.000 VA"}],a$=[{id:"1",name:"Rumah Utama",number:"12345678901",address:"Jl. Kemang Raya No. 10"},{id:"2",name:"Apartemen",number:"23456789012",address:"Apartemen Sudirman Park Tower A/12"}],xFe=()=>{const t=Tt(),[e,r]=v.useState(""),[n,s]=v.useState(null),[a,o]=v.useState(null),[l,c]=v.useState(!1),[u,A]=v.useState(!1),[d,h]=v.useState(!1),[f,m]=v.useState(""),[p,g]=v.useState(""),y=()=>{!e||e.length<10||(c(!0),setTimeout(()=>{s({name:"Aga Tampan",address:"Jl. Gatot Subroto No. 12, Jakarta Selatan"}),c(!1)},1e3))},x=()=>{!e||!a||(A(!0),setTimeout(()=>{const b=Array(20).fill(0).map(()=>Math.floor(Math.random()*10)).join("");g(b);const j=`TX${Date.now().toString().slice(-8)}`;m(j),A(!1),h(!0)},1500))};return i.jsxs(Wt,{children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 border-b border-gray-100",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(q.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"Token Listrik"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Beli token listrik prabayar"})]}),i.jsx("div",{className:"ml-auto rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(q.file,{className:"h-5 w-5"})})]})}),i.jsx("div",{className:"container max-w-md mx-auto px-4 py-6",children:i.jsx(ye,{className:"border-none shadow-sm mb-6",children:i.jsx(xe,{className:"pt-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(Te,{htmlFor:"meterNumber",className:"font-medium",children:"ID Pelanggan / Nomor Meter"}),n&&i.jsx(V,{variant:"ghost",size:"sm",className:"text-primary h-8 px-2",onClick:()=>{r(""),s(null),o(null)},children:"Ubah"})]}),n?i.jsx("div",{className:"bg-muted/20 p-4 rounded-lg",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(q.users,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:n.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:e}),i.jsx("p",{className:"text-xs text-muted-foreground",children:n.address})]})]})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:i.jsx(q.zap,{className:"h-4 w-4 text-muted-foreground"})}),i.jsx(ce,{id:"meterNumber",placeholder:"Contoh: 12345678901",className:"pl-9 bg-muted/30",value:e,onChange:b=>r(b.target.value.replace(/\D/g,"")),disabled:l})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Masukkan nomor meter atau ID pelanggan PLN"}),a$.length>0&&i.jsxs("div",{className:"mt-4 bg-muted/20 rounded-lg p-3",children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Meter Tersimpan"}),i.jsx("div",{className:"grid grid-cols-1 gap-2",children:a$.map(b=>i.jsxs("div",{onClick:()=>r(b.number),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted cursor-pointer",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(q.zap,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:b.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:b.number})]}),i.jsx("div",{className:"w-5 h-5 rounded-full border border-primary flex items-center justify-center",children:e===b.number&&i.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"})})]},b.id))})]}),i.jsx("div",{className:"mt-4",children:i.jsx(V,{className:"w-full",disabled:e.length<10||l,onClick:y,children:l?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(zt,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Memeriksa..."})]}):"Periksa Nomor Meter"})})]})]}),n&&i.jsxs("div",{className:"border-t pt-4 mt-4",children:[i.jsx("div",{className:"mb-3",children:i.jsx(Te,{className:"text-sm font-medium",children:"Pilih Nominal"})}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:yFe.map(b=>i.jsxs("div",{className:he("border rounded-lg p-3 cursor-pointer transition-colors",a===b.value?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/50"),onClick:()=>o(b.value),children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("span",{className:"font-semibold",children:b.label}),a===b.value&&i.jsx("div",{className:"w-5 h-5 rounded-full bg-primary flex items-center justify-center",children:i.jsx(q.check,{className:"h-3 w-3 text-white"})})]}),i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:b.desc}),i.jsx("p",{className:"text-sm font-medium text-primary",children:ge(b.price)})]},b.value))}),i.jsx(V,{className:"w-full mt-6",size:"lg",disabled:!a||u,onClick:x,children:u?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(zt,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Memproses..."})]}):"Beli Token"})]})]})})})}),i.jsx(fr,{open:d,onOpenChange:h,children:i.jsxs(ir,{className:"sm:max-w-md",children:[i.jsxs(xr,{children:[i.jsx(wr,{className:"text-center",children:"Pembelian Berhasil!"}),i.jsx(Jn,{className:"text-center",children:"Token listrik berhasil dibeli"})]}),i.jsx("div",{className:"flex justify-center py-4",children:i.jsx("div",{className:"h-20 w-20 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(q.check,{className:"h-10 w-10 text-green-600"})})}),i.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg mb-4",children:[i.jsxs("div",{className:"flex flex-col items-center mb-4 bg-primary/10 p-3 rounded-lg",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Token Anda"}),i.jsx("p",{className:"font-mono text-xl font-bold tracking-wider",children:p})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Nomor Meter"}),i.jsx("span",{className:"font-semibold",children:e})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Nama"}),i.jsx("span",{className:"font-semibold",children:n==null?void 0:n.name})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Nominal"}),i.jsx("span",{className:"font-semibold",children:ge(parseInt(a||"0"))})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Admin"}),i.jsx("span",{className:"font-semibold",children:"Rp1.500"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"ID Transaksi"}),i.jsx("span",{className:"font-semibold",children:f})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(V,{variant:"outline",className:"flex-1",onClick:()=>{navigator.clipboard.writeText(p),alert("Token berhasil disalin!")},children:[i.jsx(q.copy,{className:"mr-2 h-4 w-4"}),"Salin Token"]}),i.jsx(V,{className:"flex-1",onClick:()=>{h(!1),t("/ppob")},children:"Selesai"})]})]})})]})},i$=[{id:"gopay",name:"GoPay",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/86/Gopay_logo.svg/180px-Gopay_logo.svg.png",color:"bg-blue-500",textColor:"text-blue-600",bgColor:"bg-blue-50"},{id:"ovo",name:"OVO",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/eb/Logo_ovo_purple.svg/180px-Logo_ovo_purple.svg.png",color:"bg-purple-500",textColor:"text-purple-600",bgColor:"bg-purple-50"},{id:"dana",name:"DANA",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/Logo_dana_blue.svg/180px-Logo_dana_blue.svg.png",color:"bg-blue-400",textColor:"text-blue-500",bgColor:"bg-blue-50"},{id:"linkaja",name:"LinkAja",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/85/LinkAja.svg/180px-LinkAja.svg.png",color:"bg-red-500",textColor:"text-red-600",bgColor:"bg-red-50"},{id:"shopeepay",name:"ShopeePay",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/ShopeePay_logo.svg/180px-ShopeePay_logo.svg.png",color:"bg-orange-500",textColor:"text-orange-600",bgColor:"bg-orange-50"}],RS=[{walletId:"dana",accountNumber:"081234567890",name:"Budi Santoso"},{walletId:"gopay",accountNumber:"081387654321",name:"Siti Rahayu"},{walletId:"ovo",accountNumber:"081598765432",name:"Ahmad Hidayat"}],wFe=()=>{var T,D,M,H,U,O;const t=Tt(),[e,r]=v.useState("transfer"),[n]=v.useState(75e4),[s,a]=v.useState(null),[o,l]=v.useState(""),[c,u]=v.useState(""),[A,d]=v.useState(!1),[h,f]=v.useState(!1),[m,p]=v.useState(""),[g,y]=v.useState(!1),[x,b]=v.useState(!1),[j,C]=v.useState(""),E=R=>{const Q=R.replace(/\D/g,"");return Q.length<=4?Q:Q.length<=7?`${Q.slice(0,4)}-${Q.slice(4)}`:Q.length<=10?`${Q.slice(0,4)}-${Q.slice(4,7)}-${Q.slice(7)}`:`${Q.slice(0,4)}-${Q.slice(4,7)}-${Q.slice(7,10)}-${Q.slice(10,13)}`},_=R=>{const Q=R.target.value.replace(/\D/g,"");l(Q),f(!1)},B=R=>{const Q=R.target.value.replace(/\D/g,"");u(Q)},S=()=>{o.length<10||!s||(d(!0),setTimeout(()=>{var R;p(((R=RS.find(Q=>Q.accountNumber.endsWith(o.slice(-8))&&Q.walletId===s))==null?void 0:R.name)||"User "+s.toUpperCase()),f(!0),d(!1)},1e3))},N=()=>{!h||!c||parseInt(c)<=0||(y(!0),setTimeout(()=>{const R=`EW${Date.now().toString().slice(-8)}`;C(R),y(!1),b(!0)},1500))},P=()=>{a(null),l(""),u(""),f(!1),p(""),b(!1)},I=R=>i$.find(Q=>Q.id===R);return i.jsxs(Wt,{children:[i.jsxs("div",{className:"bg-gradient-to-b from-indigo-600 to-indigo-800 text-white",children:[i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white/20",children:i.jsx(q.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"e-Wallet"}),i.jsx("p",{className:"text-xs text-white/70",children:"Transfer ke e-wallet lainnya"})]})]}),i.jsx("div",{className:"p-4",children:i.jsx(ye,{className:"bg-white/10 border-0 backdrop-blur-sm text-white",children:i.jsxs(xe,{className:"p-4",children:[i.jsx("p",{className:"text-sm text-white/80",children:"Saldo Tersedia"}),i.jsx("h2",{className:"text-2xl font-bold",children:ge(n)}),i.jsx("p",{className:"text-xs text-white/70 mt-1",children:i.jsxs("span",{className:"inline-flex items-center",children:[i.jsx(q.clock,{className:"h-3 w-3 mr-1"}),"Terakhir diperbarui: ",new Date().toLocaleTimeString("id-ID")]})})]})})})]}),i.jsx("div",{className:"container max-w-md mx-auto px-4 py-6",children:i.jsxs(sa,{defaultValue:"transfer",className:"w-full",onValueChange:r,children:[i.jsxs(Fs,{className:"grid grid-cols-2 mb-4",children:[i.jsx(Ft,{value:"transfer",children:"Transfer"}),i.jsx(Ft,{value:"history",children:"Riwayat"})]}),i.jsx(er,{value:"transfer",className:"space-y-4",children:x?i.jsx(ye,{className:"border-none shadow-sm",children:i.jsxs(xe,{className:"pt-6 px-6 pb-6 flex flex-col items-center",children:[i.jsx("div",{className:"h-20 w-20 rounded-full bg-green-100 flex items-center justify-center mb-4",children:i.jsx(q.check,{className:"h-10 w-10 text-green-600"})}),i.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Transfer Berhasil!"}),i.jsxs("p",{className:"text-sm text-muted-foreground mb-6",children:["Dana telah berhasil ditransfer ke ",(U=I(s))==null?void 0:U.name]}),i.jsxs("div",{className:"w-full bg-muted/30 p-4 rounded-lg space-y-3 mb-6",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Jumlah"}),i.jsx("span",{className:"text-sm font-medium",children:ge(parseInt(c))})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Penerima"}),i.jsx("span",{className:"text-sm font-medium",children:m})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"E-Wallet"}),i.jsx("span",{className:"text-sm font-medium",children:(O=I(s))==null?void 0:O.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Nomor Telepon"}),i.jsx("span",{className:"text-sm font-medium",children:E(o)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"ID Transaksi"}),i.jsx("span",{className:"text-sm font-medium",children:j})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Waktu"}),i.jsx("span",{className:"text-sm font-medium",children:new Date().toLocaleString("id-ID")})]})]}),i.jsxs("div",{className:"flex gap-3 w-full",children:[i.jsxs(V,{variant:"outline",className:"flex-1",onClick:P,children:[i.jsx(q.arrowRight,{className:"mr-2 h-4 w-4"}),"Transfer Lagi"]}),i.jsx(V,{className:"flex-1",onClick:()=>t("/ppob"),children:"Selesai"})]})]})}):i.jsx(i.Fragment,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Te,{className:"text-sm font-medium mb-2 block",children:"Pilih E-Wallet"}),i.jsx("div",{className:"grid grid-cols-3 gap-3",children:i$.map(R=>i.jsxs("div",{className:`border rounded-lg p-3 flex flex-col items-center cursor-pointer transition-all ${s===R.id?`border-2 border-primary ${R.bgColor}`:"border-gray-200 hover:border-gray-300"}`,onClick:()=>a(R.id),children:[i.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-1 ${s===R.id?R.bgColor:"bg-gray-100"}`,children:[s===R.id&&i.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-primary rounded-full flex items-center justify-center",children:i.jsx(q.check,{className:"h-3 w-3 text-white"})}),i.jsx("img",{src:R.logo,alt:R.name,className:"w-6 h-6 object-contain"})]}),i.jsx("span",{className:"text-xs font-medium",children:R.name})]},R.id))})]}),s&&i.jsx(ye,{className:"border-none shadow-sm",children:i.jsx(xe,{className:"p-4 space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"phoneNumber",children:"Nomor Telepon"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:i.jsx(q.phone,{className:"h-4 w-4 text-muted-foreground"})}),i.jsx(ce,{id:"phoneNumber",className:"pl-9",placeholder:"Contoh: 081234567890",value:E(o),onChange:_,disabled:h||A})]}),RS.length>0&&!h&&i.jsxs("div",{className:"mt-4",children:[i.jsx(Te,{className:"text-sm mb-2 block",children:"Tujuan Tersimpan"}),i.jsx("div",{className:"space-y-2",children:RS.filter(R=>R.walletId===s).map((R,Q)=>{var G,X,se,Z;return i.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted cursor-pointer",onClick:()=>{l(R.accountNumber),S()},children:[i.jsx(Cu,{className:"h-9 w-9",children:i.jsx(Bu,{className:`${(G=I(R.walletId))==null?void 0:G.textColor} ${(X=I(R.walletId))==null?void 0:X.bgColor}`,children:R.name.substring(0,2).toUpperCase()})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:R.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:E(R.accountNumber)})]}),i.jsx(jt,{variant:"outline",className:`ml-auto ${(se=I(R.walletId))==null?void 0:se.textColor}`,children:(Z=I(R.walletId))==null?void 0:Z.name})]},Q)})})]}),!h&&o.length>=10&&i.jsx(V,{className:"w-full mt-2",onClick:S,disabled:A,children:A?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(zt,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Memeriksa..."})]}):"Verifikasi Nomor"}),h&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-3 bg-muted/40 rounded-lg flex items-center gap-3 mt-2",children:[i.jsx(Cu,{className:"h-10 w-10",children:i.jsx(Bu,{className:`${(T=I(s))==null?void 0:T.textColor} ${(D=I(s))==null?void 0:D.bgColor}`,children:m.substring(0,2).toUpperCase()})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:m}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:E(o)}),i.jsx(jt,{variant:"outline",className:`${(M=I(s))==null?void 0:M.textColor} text-xs`,children:(H=I(s))==null?void 0:H.name})]})]}),i.jsx(V,{variant:"ghost",size:"sm",className:"ml-auto h-8 px-2",onClick:()=>{f(!1),l("")},children:"Ubah"})]}),i.jsxs("div",{className:"space-y-2 mt-4",children:[i.jsx(Te,{htmlFor:"amount",children:"Nominal Transfer"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 font-medium",children:"Rp"}),i.jsx(ce,{id:"amount",className:"pl-9",placeholder:"0",value:c?parseInt(c).toLocaleString("id-ID"):"",onChange:B})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:[5e4,1e5,2e5,5e5].map(R=>i.jsx(V,{type:"button",variant:"outline",className:"flex-1 min-w-20",onClick:()=>u(R.toString()),children:ge(R)},R))})]}),i.jsx(V,{className:"w-full mt-4",size:"lg",disabled:!c||parseInt(c)<=0||parseInt(c)>n||g,onClick:N,children:g?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(zt,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Memproses..."})]}):"Transfer Sekarang"}),parseInt(c)>n&&i.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Saldo Anda tidak mencukupi untuk melakukan transfer ini."})]})]})})})]})})}),i.jsx(er,{value:"history",className:"space-y-4",children:i.jsx(ye,{className:"border-none shadow-sm",children:i.jsxs(xe,{className:"p-4",children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Riwayat Transfer E-Wallet"}),i.jsx("div",{className:"space-y-3",children:[{id:"EW20250603001",wallet:"dana",name:"Budi Santoso",phone:"081234567890",amount:1e5,date:new Date(2025,5,2)},{id:"EW20250602002",wallet:"gopay",name:"Siti Rahayu",phone:"081387654321",amount:5e4,date:new Date(2025,5,1)},{id:"EW20250601003",wallet:"ovo",name:"Ahmad Hidayat",phone:"081598765432",amount:75e3,date:new Date(2025,5,1)}].map((R,Q)=>{var G,X,se,Z,K;return i.jsxs("div",{className:"border rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${(G=I(R.wallet))==null?void 0:G.bgColor}`,children:i.jsx("img",{src:(X=I(R.wallet))==null?void 0:X.logo,alt:(se=I(R.wallet))==null?void 0:se.name,className:"w-6 h-6 object-contain"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm font-medium",children:R.name}),i.jsxs("p",{className:"text-sm font-semibold text-red-600",children:["-",ge(R.amount)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:E(R.phone)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:R.date.toLocaleDateString("id-ID")})]})]})]}),i.jsxs("div",{className:"mt-2 pt-2 border-t flex justify-between items-center",children:[i.jsxs("span",{className:"text-xs text-muted-foreground",children:["ID: ",R.id]}),i.jsx(jt,{variant:"outline",className:(Z=I(R.wallet))==null?void 0:Z.textColor,children:(K=I(R.wallet))==null?void 0:K.name})]})]},Q)})})]})})})]})})]})},o$=[{id:"ml",name:"Mobile Legends",image:"https://play-lh.googleusercontent.com/ha7AWuJ9nlt3X5OgDI-HZkrZf0TjyuO6j6WnVcjbPHbhTVK9KTbdcKBQUDpzJqdJjA",publisher:"Moonton",category:"MOBA",items:[{id:"ml-1",name:"86 Diamonds",price:22e3,originalPrice:25e3,discount:!0},{id:"ml-2",name:"172 Diamonds",price:45e3,originalPrice:5e4,discount:!0},{id:"ml-3",name:"257 Diamonds",price:67e3,originalPrice:75e3,discount:!0},{id:"ml-4",name:"344 Diamonds",price:89e3,originalPrice:1e5,discount:!0},{id:"ml-5",name:"429 Diamonds",price:112e3,originalPrice:125e3,discount:!0},{id:"ml-6",name:"514 Diamonds",price:134e3,originalPrice:15e4,discount:!0},{id:"ml-7",name:"706 Diamonds",price:179e3,originalPrice:2e5,discount:!0},{id:"ml-8",name:"878 Diamonds",price:223e3,originalPrice:25e4,discount:!0},{id:"ml-9",name:"963 Diamonds",price:245e3,originalPrice:275e3,discount:!0},{id:"ml-10",name:"1050 Diamonds",price:268e3,originalPrice:3e5,discount:!0},{id:"ml-11",name:"Weekly Diamond Pass",price:28500,originalPrice:3e4,discount:!0},{id:"ml-12",name:"Starlight Member",price:149e3,originalPrice:149e3,discount:!1}]},{id:"ff",name:"Free Fire",image:"https://play-lh.googleusercontent.com/WWcssdzTZvx7Fc84lfMpZRvTUjqxUcKn3ANF5_XYOegQjbUQQdTmMvB8BtY_8VGcJQ",publisher:"Garena",category:"Battle Royale",items:[{id:"ff-1",name:"100 Diamonds",price:15e3,originalPrice:16e3,discount:!0},{id:"ff-2",name:"210 Diamonds",price:3e4,originalPrice:32e3,discount:!0},{id:"ff-3",name:"310 Diamonds",price:45e3,originalPrice:48e3,discount:!0},{id:"ff-4",name:"520 Diamonds",price:75e3,originalPrice:8e4,discount:!0},{id:"ff-5",name:"1060 Diamonds",price:15e4,originalPrice:16e4,discount:!0},{id:"ff-6",name:"2180 Diamonds",price:3e5,originalPrice:32e4,discount:!0},{id:"ff-7",name:"5600 Diamonds",price:75e4,originalPrice:8e5,discount:!0},{id:"ff-8",name:"Weekly Member",price:28500,originalPrice:3e4,discount:!0},{id:"ff-9",name:"Monthly Member",price:85e3,originalPrice:9e4,discount:!0}]},{id:"pubg",name:"PUBG Mobile",image:"https://play-lh.googleusercontent.com/JRd05pyBH41qjgsJuWduRJpDeZG0Hnb0yjf2nWqO7VaGKL10-G5UIygxED-WNOc3pg",publisher:"Tencent Games",category:"Battle Royale",items:[{id:"pubg-1",name:"60 UC",price:16e3,originalPrice:18e3,discount:!0},{id:"pubg-2",name:"300 UC",price:75e3,originalPrice:8e4,discount:!0},{id:"pubg-3",name:"600 UC",price:15e4,originalPrice:16e4,discount:!0},{id:"pubg-4",name:"1500 UC",price:375e3,originalPrice:4e5,discount:!0},{id:"pubg-5",name:"3000 UC",price:75e4,originalPrice:8e5,discount:!0},{id:"pubg-6",name:"6000 UC",price:149e4,originalPrice:16e5,discount:!0},{id:"pubg-7",name:"Royale Pass",price:14e4,originalPrice:15e4,discount:!0}]},{id:"genshin",name:"Genshin Impact",image:"https://play-lh.googleusercontent.com/So91qs_eRRvalz7JtGXvUJ7Nsg-A5Q3LL4_ifmEXNsj28Tj0R7jzMCjzqKYzWrEJC6Y",publisher:"miHoYo",category:"RPG",items:[{id:"gi-1",name:"60 Genesis Crystals",price:16e3,originalPrice:18e3,discount:!0},{id:"gi-2",name:"300+30 Genesis Crystals",price:8e4,originalPrice:85e3,discount:!0},{id:"gi-3",name:"980+110 Genesis Crystals",price:25e4,originalPrice:27e4,discount:!0},{id:"gi-4",name:"1980+260 Genesis Crystals",price:48e4,originalPrice:5e5,discount:!0},{id:"gi-5",name:"3280+600 Genesis Crystals",price:8e5,originalPrice:85e4,discount:!0},{id:"gi-6",name:"Blessing of the Welkin Moon",price:75e3,originalPrice:8e4,discount:!0},{id:"gi-7",name:"Battle Pass",price:14e4,originalPrice:15e4,discount:!0}]},{id:"valorant",name:"Valorant",image:"https://play-lh.googleusercontent.com/fzkfPfJPxX0zlNzPYrIMW63AuFWjaCFzzoF-EZzN8_5y8lye0hnHJmBJpz9gy7ICt4Q",publisher:"Riot Games",category:"FPS",items:[{id:"val-1",name:"420 Points",price:5e4,originalPrice:55e3,discount:!0},{id:"val-2",name:"700 Points",price:8e4,originalPrice:85e3,discount:!0},{id:"val-3",name:"1375 Points",price:15e4,originalPrice:16e4,discount:!0},{id:"val-4",name:"2400 Points",price:25e4,originalPrice:265e3,discount:!0},{id:"val-5",name:"4000 Points",price:4e5,originalPrice:425e3,discount:!0},{id:"val-6",name:"8150 Points",price:8e5,originalPrice:85e4,discount:!0}]},{id:"codm",name:"Call of Duty Mobile",image:"https://play-lh.googleusercontent.com/aUALUc_yfJwV1mZuUHgRyXYXcXUwUfZBZkoXtYzVOoOOFHDlYZhZ8dywSBRWrtBY-8w",publisher:"Activision",category:"FPS",items:[{id:"codm-1",name:"26 CP",price:5e3,originalPrice:5500,discount:!0},{id:"codm-2",name:"53 CP",price:1e4,originalPrice:11e3,discount:!0},{id:"codm-3",name:"106 CP",price:2e4,originalPrice:22e3,discount:!0},{id:"codm-4",name:"264 CP",price:5e4,originalPrice:55e3,discount:!0},{id:"codm-5",name:"528 CP",price:1e5,originalPrice:11e4,discount:!0},{id:"codm-6",name:"1056 CP",price:2e5,originalPrice:22e4,discount:!0},{id:"codm-7",name:"2640 CP",price:5e5,originalPrice:55e4,discount:!0},{id:"codm-8",name:"5280 CP",price:1e6,originalPrice:11e5,discount:!0}]}],bFe=[{id:"all",name:"Semua"},{id:"moba",name:"MOBA"},{id:"battle-royale",name:"Battle Royale"},{id:"rpg",name:"RPG"},{id:"fps",name:"FPS"},{id:"strategy",name:"Strategy"},{id:"casual",name:"Casual"}],jFe=()=>{const t=Tt(),[e,r]=v.useState(null),[n,s]=v.useState(""),[a,o]=v.useState(null);v.useState("popular");const[l,c]=v.useState("all"),[u,A]=v.useState(""),[d,h]=v.useState(!1),[f,m]=v.useState(!1),[p,g]=v.useState(!1),[y,x]=v.useState(""),b=e?o$.find(S=>S.id===e):null,j=o$.filter(S=>{const N=u===""||S.name.toLowerCase().includes(u.toLowerCase())||S.publisher.toLowerCase().includes(u.toLowerCase()),P=l==="all"||S.category.toLowerCase()===l.toLowerCase();return N&&P}),C=S=>{r(S),s(""),o(null)},E=S=>{o(S),m(!0)},_=()=>{!a||!b||!n||(h(!0),setTimeout(()=>{const S=`GM${Date.now().toString().slice(-8)}`;x(S),h(!1),m(!1),g(!0)},2e3))},B=()=>i.jsxs("div",{className:"flex justify-center items-center py-4",children:[i.jsx(q.spinner,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("span",{className:"ml-2 text-sm font-medium",children:"Memproses..."})]});return i.jsxs(Wt,{children:[i.jsx("div",{className:"bg-gradient-to-b from-purple-600 to-purple-800 text-white",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white/20",children:i.jsx(q.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"Top Up Games"}),i.jsx("p",{className:"text-xs text-white/70",children:"Isi ulang kredit game favoritmu"})]})]})}),i.jsxs("div",{className:"container max-w-md mx-auto px-4 py-6",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(q.search,{className:"h-4 w-4 text-muted-foreground"})}),i.jsx(ce,{type:"text",placeholder:"Cari game...",value:u,onChange:S=>A(S.target.value),className:"pl-10"})]}),e?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("button",{onClick:()=>r(null),className:"rounded-full w-8 h-8 flex items-center justify-center bg-muted",children:i.jsx(q.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden bg-muted",children:i.jsx("img",{src:b==null?void 0:b.image,alt:b==null?void 0:b.name,className:"object-cover w-full h-full"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-semibold",children:b==null?void 0:b.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:b==null?void 0:b.publisher})]})]})]}),i.jsx(ye,{className:"mb-4",children:i.jsxs(xe,{className:"p-4 space-y-3",children:[i.jsx(Te,{htmlFor:"userId",children:"User ID"}),i.jsx(ce,{id:"userId",placeholder:"Masukkan User ID",value:n,onChange:S=>s(S.target.value)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Pastikan User ID yang kamu masukkan sudah benar"})]})}),i.jsx("h3",{className:"font-semibold mb-3",children:"Pilih Nominal"}),i.jsx("div",{className:"grid grid-cols-2 gap-3 mb-6",children:b==null?void 0:b.items.map(S=>i.jsx(ye,{className:`overflow-hidden cursor-pointer hover:shadow-md transition-shadow ${(a==null?void 0:a.id)===S.id?"border-primary border-2":""}`,onClick:()=>E(S),children:i.jsxs(xe,{className:"p-3",children:[i.jsx("h4",{className:"font-medium text-sm",children:S.name}),i.jsxs("div",{className:"mt-1",children:[i.jsx("p",{className:"font-semibold text-primary",children:ge(S.price)}),S.discount&&i.jsx("p",{className:"text-xs text-muted-foreground line-through",children:ge(S.originalPrice)})]}),S.discount&&i.jsxs(jt,{className:"mt-1 bg-green-100 text-green-700 hover:bg-green-100 text-xs",variant:"secondary",children:["Hemat ",ge(S.originalPrice-S.price)]})]})},S.id))})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-4 overflow-x-auto hide-scrollbar",children:i.jsx("div",{className:"flex space-x-2 pb-2",children:bFe.map(S=>i.jsx(V,{variant:l===S.id?"default":"outline",size:"sm",onClick:()=>c(S.id),className:"whitespace-nowrap",children:S.name},S.id))})}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Game Populer"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:j.map(S=>i.jsx(ye,{className:"overflow-hidden cursor-pointer hover:shadow-md transition-shadow",onClick:()=>C(S.id),children:i.jsxs(xe,{className:"p-3",children:[i.jsx("div",{className:"aspect-square rounded-lg overflow-hidden mb-2 bg-muted flex items-center justify-center",children:i.jsx("img",{src:S.image,alt:S.name,className:"object-cover w-full h-full"})}),i.jsx("h3",{className:"font-medium text-sm truncate",children:S.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:S.publisher}),i.jsx(jt,{variant:"outline",className:"mt-1 text-xs",children:S.category})]})},S.id))})]})]})]}),i.jsx(fr,{open:f,onOpenChange:m,children:i.jsxs(ir,{className:"sm:max-w-md",children:[i.jsx(xr,{children:i.jsx(wr,{children:"Konfirmasi Pembayaran"})}),i.jsx("div",{className:"space-y-4 py-2",children:i.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsxs(Cu,{className:"h-10 w-10 rounded-lg",children:[i.jsx(Gf,{src:b==null?void 0:b.image}),i.jsx(Bu,{className:"rounded-lg bg-primary/20",children:b==null?void 0:b.name.substring(0,2).toUpperCase()})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:b==null?void 0:b.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["User ID: ",n]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Item"}),i.jsx("span",{className:"text-sm font-medium",children:a==null?void 0:a.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Harga"}),i.jsx("span",{className:"text-sm font-medium",children:a?ge(a.price):"-"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Biaya Admin"}),i.jsx("span",{className:"text-sm font-medium",children:"Rp 0"})]}),i.jsx("div",{className:"pt-2 border-t mt-2",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"Total"}),i.jsx("span",{className:"text-sm font-bold text-primary",children:a?ge(a.price):"-"})]})})]})]})}),i.jsx(Sn,{className:"flex flex-col gap-2",children:d?i.jsx(B,{}):i.jsxs(i.Fragment,{children:[i.jsx(V,{className:"w-full",onClick:_,disabled:!n||!a,children:"Bayar Sekarang"}),i.jsx(V,{variant:"outline",className:"w-full",onClick:()=>m(!1),children:"Batal"})]})})]})}),i.jsx(fr,{open:p,onOpenChange:g,children:i.jsx(ir,{className:"sm:max-w-md",children:i.jsxs("div",{className:"flex flex-col items-center text-center py-4",children:[i.jsx("div",{className:"h-20 w-20 rounded-full bg-green-100 flex items-center justify-center mb-4",children:i.jsx(q.check,{className:"h-10 w-10 text-green-600"})}),i.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Pembayaran Berhasil!"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Item game telah berhasil dibeli"}),i.jsxs("div",{className:"w-full bg-muted/30 p-4 rounded-lg space-y-3 mb-6 text-left",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Game"}),i.jsx("span",{className:"text-sm font-medium",children:b==null?void 0:b.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"User ID"}),i.jsx("span",{className:"text-sm font-medium",children:n})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Item"}),i.jsx("span",{className:"text-sm font-medium",children:a==null?void 0:a.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Jumlah"}),i.jsx("span",{className:"text-sm font-medium",children:a?ge(a.price):"-"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"ID Transaksi"}),i.jsx("span",{className:"text-sm font-medium",children:y})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Waktu"}),i.jsx("span",{className:"text-sm font-medium",children:new Date().toLocaleString("id-ID")})]})]}),i.jsxs("div",{className:"flex gap-3 w-full",children:[i.jsxs(V,{variant:"outline",className:"flex-1",onClick:()=>{g(!1),r(null)},children:[i.jsx(q.arrowRight,{className:"mr-2 h-4 w-4"}),"Top Up Lagi"]}),i.jsx(V,{className:"flex-1",onClick:()=>t("/ppob"),children:"Selesai"})]})]})})})]})},ree=async()=>{try{const{data:t,error:e}=await J.from("ppob_services").select("*").order("created_at",{ascending:!0});if(e)throw e;return t||[]}catch(t){return console.error("Error fetching PPOB services:",t),[]}},l$={"Top Up":{bg:"#E3F2FD",icon:"#1976D2"},Tagihan:{bg:"#FFF3E0",icon:"#F57C00"},Investasi:{bg:"#E8F5E9",icon:"#388E3C"},Lainnya:{bg:"#F5F5F5",icon:"#757575"}},_Fe=()=>{const t=Tt(),[e,r]=v.useState(!1),[n,s]=v.useState([]),[a,o]=v.useState(!0),[l,c]=v.useState(null);v.useEffect(()=>{r(!0),(async()=>{o(!0);try{const f=await ree();s(f),c(null)}catch(f){console.error("Error fetching PPOB services:",f),c("Failed to load services. Please try again later.")}finally{o(!1)}})()},[]);const u=n.reduce((h,f)=>{const m=f.category||"Lainnya";return h[m]||(h[m]=[]),h[m].push(f),h},{}),A=(h,f)=>{switch(h){case"wallet":return i.jsx(q.wallet,{className:f});case"smartphone":return i.jsx(q.smartphone,{className:f});case"wifi":return i.jsx(q.wifi,{className:f});case"globe":return i.jsx(q.package,{className:f});case"zap":return i.jsx(q.zap,{className:f});case"creditCard":return i.jsx(q.creditCard,{className:f});case"tv":return i.jsx(q.tv,{className:f});case"shield":return i.jsx(q.shield,{className:f});case"droplet":return i.jsx(q.droplet,{className:f});case"calculator":return i.jsx(q.barChart,{className:f});case"home":return i.jsx(q.home,{className:f});case"phone":return i.jsx(q.phone,{className:f});case"receipt":return i.jsx(q.file,{className:f});case"graduationCap":return i.jsx(q.file,{className:f});case"heart":return i.jsx(q.heart,{className:f});case"gift":return i.jsx(q.package,{className:f});case"banknote":return i.jsx(q.creditCard,{className:f});case"plus":return i.jsx(q.plus,{className:f});case"users":return i.jsx(q.users,{className:f});default:return i.jsx(q.bell,{className:f})}},d=h=>{t(h)};return a?i.jsxs(Wt,{children:[i.jsx(Ui,{children:i.jsx("style",{children:`
              @keyframes fadeIn {
                from { opacity: 0; transform: translateY(10px); }
                to { opacity: 1; transform: translateY(0); }
              }
              @keyframes bounce {
                0%, 100% { transform: translateY(0); }
                50% { transform: translateY(-5px); }
              }
              @keyframes pulse {
                0% { transform: scale(1); }
                50% { transform: scale(1.05); }
                100% { transform: scale(1); }
              }
              .animate-item {
                animation: fadeIn 0.5s ease forwards;
                opacity: 0;
              }
              .service-icon:hover {
                animation: bounce 0.6s ease infinite;
              }
              .pulse-effect {
                animation: pulse 2s infinite ease-in-out;
              }
              .baru-badge {
                animation: pulse 1.5s infinite;
              }
            `})}),i.jsx("div",{className:"bg-white sticky top-0 z-10 border-b border-gray-100 shadow-sm",children:i.jsxs("div",{className:"flex items-center px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100 transition-all duration-200",children:i.jsx(q.chevronLeft,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold ml-4",children:"Semua Layanan "})]})}),i.jsx("div",{className:"pb-6 bg-gray-50 min-h-screen",children:i.jsx("div",{className:"flex justify-center items-center h-24",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]}):l?i.jsxs(Wt,{children:[i.jsx(Ui,{children:i.jsx("style",{children:`
              @keyframes fadeIn {
                from { opacity: 0; transform: translateY(10px); }
                to { opacity: 1; transform: translateY(0); }
              }
              @keyframes bounce {
                0%, 100% { transform: translateY(0); }
                50% { transform: translateY(-5px); }
              }
              @keyframes pulse {
                0% { transform: scale(1); }
                50% { transform: scale(1.05); }
                100% { transform: scale(1); }
              }
              .animate-item {
                animation: fadeIn 0.5s ease forwards;
                opacity: 0;
              }
              .service-icon:hover {
                animation: bounce 0.6s ease infinite;
              }
              .pulse-effect {
                animation: pulse 2s infinite ease-in-out;
              }
              .baru-badge {
                animation: pulse 1.5s infinite;
              }
            `})}),i.jsx("div",{className:"bg-white sticky top-0 z-10 border-b border-gray-100 shadow-sm",children:i.jsxs("div",{className:"flex items-center px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100 transition-all duration-200",children:i.jsx(q.chevronLeft,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold ml-4",children:"Semua Layanan "})]})}),i.jsx("div",{className:"pb-6 bg-gray-50 min-h-screen",children:i.jsx("div",{className:"text-center text-red-500",children:l})})]}):i.jsxs(Wt,{children:[i.jsx(Ui,{children:i.jsx("style",{children:`
            @keyframes fadeIn {
              from { opacity: 0; transform: translateY(10px); }
              to { opacity: 1; transform: translateY(0); }
            }
            @keyframes bounce {
              0%, 100% { transform: translateY(0); }
              50% { transform: translateY(-5px); }
            }
            @keyframes pulse {
              0% { transform: scale(1); }
              50% { transform: scale(1.05); }
              100% { transform: scale(1); }
            }
            .animate-item {
              animation: fadeIn 0.5s ease forwards;
              opacity: 0;
            }
            .service-icon:hover {
              animation: bounce 0.6s ease infinite;
            }
            .pulse-effect {
              animation: pulse 2s infinite ease-in-out;
            }
            .baru-badge {
              animation: pulse 1.5s infinite;
            }
          `})}),i.jsx("div",{className:"bg-white sticky top-0 z-10 border-b border-gray-100 shadow-sm",children:i.jsxs("div",{className:"flex items-center px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100 transition-all duration-200",children:i.jsx(q.chevronLeft,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold ml-4",children:"Semua Layanan "})]})}),i.jsx("div",{className:"pb-6 bg-gray-50 min-h-screen",children:Object.entries(u).map(([h,f])=>i.jsxs("div",{className:"mt-4 px-4",children:[i.jsx("h2",{className:"text-lg font-semibold mb-3",children:h}),i.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:i.jsx("div",{className:"grid grid-cols-4 gap-y-6",children:f.map((m,p)=>{var g,y;return i.jsxs("div",{className:he("flex flex-col items-center relative animate-item",e?"":"opacity-0"),onClick:()=>d(m.route||"/ppob/generic"),style:{animationDelay:`${p*.07}s`},children:[i.jsxs("div",{className:he("w-14 h-14 rounded-xl flex items-center justify-center mb-2 relative service-icon shadow-sm",m.color||((g=l$[h])==null?void 0:g.bg)||"#F5F5F5",m.is_new&&"pulse-effect"),children:[i.jsx("div",{className:m.icon_color||((y=l$[h])==null?void 0:y.icon)||"#757575",children:A(m.icon||"Box","h-6 w-6")}),m.is_new&&i.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[9px] px-1 rounded-full",children:"Baru"})]}),i.jsx("span",{className:"text-xs font-medium text-center max-w-[80px] leading-tight",children:m.name})]},m.id)})})})]},h))})]})},CFe=()=>{const t=Tt();return i.jsxs(Wt,{children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-600 to-blue-800 text-white",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white/20",children:i.jsx(q.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"Test Page"}),i.jsx("p",{className:"text-xs text-white/70",children:"Testing icon rendering"})]})]})}),i.jsxs("div",{className:"container max-w-md mx-auto px-4 py-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Available Icons"}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center mb-1",children:i.jsx(q.wallet,{className:"h-6 w-6 text-blue-600"})}),i.jsx("span",{className:"text-xs",children:"wallet"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-100 flex items-center justify-center mb-1",children:i.jsx(q.smartphone,{className:"h-6 w-6 text-green-600"})}),i.jsx("span",{className:"text-xs",children:"smartphone"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-100 flex items-center justify-center mb-1",children:i.jsx(q.zap,{className:"h-6 w-6 text-amber-600"})}),i.jsx("span",{className:"text-xs",children:"zap"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center mb-1",children:i.jsx(q.gamepad,{className:"h-6 w-6 text-blue-600"})}),i.jsx("span",{className:"text-xs",children:"gamepad"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-100 flex items-center justify-center mb-1",children:i.jsx(q.tv,{className:"h-6 w-6 text-red-600"})}),i.jsx("span",{className:"text-xs",children:"tv"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-100 flex items-center justify-center mb-1",children:i.jsx(q.shoppingCart,{className:"h-6 w-6 text-red-600"})}),i.jsx("span",{className:"text-xs",children:"shoppingCart"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center mb-1",children:i.jsx(q.menu,{className:"h-6 w-6 text-gray-600"})}),i.jsx("span",{className:"text-xs",children:"menu"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center mb-1",children:i.jsx(q.arrowRight,{className:"h-6 w-6 text-blue-600"})}),i.jsx("span",{className:"text-xs",children:"arrowRight"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-yellow-100 flex items-center justify-center mb-1",children:i.jsx(q.arrowRight,{className:"h-6 w-6 rotate-180 text-yellow-600"})}),i.jsx("span",{className:"text-xs",children:"arrowLeft (rotated)"})]})]}),i.jsx("div",{className:"mt-8",children:i.jsx(V,{onClick:()=>t("/ppob"),className:"w-full",children:"Back to Dashboard"})})]})]})},ro=()=>{const t=Tt(),e=Qs(),n=(e.pathname.split("/").pop()||"").split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ");return i.jsxs(Wt,{children:[i.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white shadow-sm sticky top-0 z-10",children:[i.jsx("button",{onClick:()=>t("/ppob/all"),className:"flex items-center justify-center w-10 h-10",children:i.jsx(q.arrowLeft,{className:"w-6 h-6"})}),i.jsx("h1",{className:"text-lg font-medium",children:n}),i.jsx("button",{className:"flex items-center justify-center w-10 h-10",children:i.jsx(q.bell,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex flex-col items-center justify-center p-6 mt-10",children:[i.jsx("div",{className:"w-20 h-20 flex items-center justify-center rounded-full bg-blue-100 mb-4",children:i.jsx(q.settings,{className:"w-10 h-10 text-blue-500"})}),i.jsxs("h2",{className:"text-xl font-semibold mb-2",children:["Layanan ",n]}),i.jsxs("p",{className:"text-gray-500 text-center mb-8",children:["Halaman ini sedang dalam pengembangan. Fitur ",n," akan segera tersedia."]}),i.jsx("button",{onClick:()=>t("/ppob/all"),className:"px-6 py-3 bg-primary text-white rounded-lg font-medium shadow-sm",children:"Kembali ke Layanan"})]})]})},BFe=[{id:"charcoal-fund-1",name:"JPC Arang Premium",type:"Arang Kayu Keras",riskLevel:"Sedang",returnRate:"9-12% p.a.",minAmount:1e6,manager:"JPC Asset Management",isPromoted:!0,description:"Investasi pada produksi arang kayu berkualitas tinggi untuk kuliner dan BBQ"},{id:"charcoal-fund-2",name:"JPC Arang Ekspor",type:"Arang Ekspor",riskLevel:"Sedang-Tinggi",returnRate:"10-14% p.a.",minAmount:2e6,manager:"JPC Asset Management",isPromoted:!1,description:"Fokus pada perusahaan ekspor arang kayu ke pasar internasional"},{id:"charcoal-fund-3",name:"JPC Arang Briket",type:"Briket Arang",riskLevel:"Tinggi",returnRate:"12-18% p.a.",minAmount:5e6,manager:"JPC Asset Management",isPromoted:!0,description:"Mengembangkan teknologi briket arang untuk efisiensi dan keberlanjutan"},{id:"charcoal-fund-4",name:"JPC Arang Berkelanjutan",type:"Arang Ramah Lingkungan",riskLevel:"Sedang",returnRate:"8-11% p.a.",minAmount:15e5,manager:"JPC Asset Management",isPromoted:!1,description:"Investasi pada perusahaan arang dengan praktik penanaman kembali dan keberlanjutan"}],EFe=[{id:"charcoal-bond-1",name:"Obligasi JPC Arang A",issuer:"JPC Arang Indonesia",minAmount:2e6,interestRate:8.5,period:"3 tahun",isPromoted:!0,description:"Obligasi korporasi untuk pengembangan fasilitas produksi arang kayu"},{id:"charcoal-bond-2",name:"Obligasi JPC Arang B",issuer:"JPC Arang Indonesia",minAmount:5e6,interestRate:9.25,period:"5 tahun",isPromoted:!1,description:"Pendanaan untuk modernisasi teknologi pembuatan arang berkualitas tinggi"},{id:"charcoal-bond-3",name:"Sukuk JPC Arang",issuer:"JPC Arang Syariah",minAmount:1e6,interestRate:7.5,period:"2 tahun",isPromoted:!0,description:"Instrumen keuangan syariah berbasis aset produksi arang kayu"},{id:"charcoal-bond-4",name:"Green Bond JPC Arang",issuer:"JPC Arang Indonesia",minAmount:3e6,interestRate:8,period:"4 tahun",isPromoted:!1,description:"Obligasi untuk pengembangan arang yang ramah lingkungan dan berkelanjutan"}],Zu=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),SFe=()=>{var p;const t=Tt(),[e,r]=v.useState("charcoalFund"),[n,s]=v.useState(null),[a,o]=v.useState(""),[l,c]=v.useState(!1),[u,A]=v.useState(!1),d=g=>{s(g)},h=g=>{const y=g.target.value.replace(/[^0-9]/g,"");o(y)},f=()=>{c(!1),A(!0)},m=()=>{s(null),o(""),A(!1)};return i.jsxs(Wt,{children:[i.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white shadow-sm sticky top-0 z-10",children:[i.jsx("button",{onClick:()=>t("/ppob/all"),className:"flex items-center justify-center w-10 h-10",children:i.jsx(q.arrowLeft,{className:"w-6 h-6"})}),i.jsx("h1",{className:"text-lg font-medium",children:"Investasi"}),i.jsx("button",{className:"flex items-center justify-center w-10 h-10",children:i.jsx(q.bell,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"mb-6 bg-gradient-to-r from-amber-800 to-stone-900 rounded-xl p-4 text-white",children:[i.jsx("h2",{className:"text-xl font-bold mb-1",children:"Investasi Arang Kayu JPC"}),i.jsx("p",{className:"text-sm mb-3",children:"Dapatkan keuntungan dari industri arang kayu premium dengan produk investasi kami"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(q.flame,{className:"w-5 h-5 text-amber-500"}),i.jsx("span",{className:"text-xs font-medium",children:"Potensi imbal hasil hingga 18% per tahun"})]})]}),i.jsxs(sa,{defaultValue:"charcoalFund",className:"w-full mb-4",onValueChange:r,children:[i.jsxs(Fs,{className:"grid w-full grid-cols-2",children:[i.jsx(Ft,{value:"charcoalFund",children:"Dana Arang"}),i.jsx(Ft,{value:"charcoalBond",children:"Obligasi Arang"})]}),i.jsx(er,{value:"charcoalFund",children:i.jsxs("div",{className:"grid gap-4 mt-4",children:[i.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Dana Arang adalah produk investasi yang berfokus pada sektor arang kayu premium dengan potensi pertumbuhan tinggi."}),i.jsx(vd,{className:"h-[450px] pr-3",children:BFe.map(g=>i.jsxs(ye,{className:`mb-4 relative ${(n==null?void 0:n.id)===g.id?"border-2 border-primary":""}`,onClick:()=>d(g),children:[i.jsx(ot,{className:"pb-2",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx(lt,{className:"text-base",children:g.name}),i.jsx(ur,{children:g.manager})]}),g.isPromoted&&i.jsx(jt,{className:"bg-amber-500",children:"Rekomendasi"})]})}),i.jsx(xe,{className:"pb-2",children:i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Bunga"}),i.jsx("p",{className:"font-semibold text-green-600",children:g.returnRate})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Tingkat Risiko"}),i.jsx("p",{className:"font-semibold",children:g.riskLevel})]}),i.jsxs("div",{className:"col-span-2 mt-2",children:[i.jsx("p",{className:"text-gray-500",children:"Minimal Penempatan"}),i.jsx("p",{className:"font-semibold",children:Zu(g.minAmount)})]})]})}),i.jsx(Ja,{children:i.jsx(V,{variant:"outline",className:"w-full",onClick:y=>{y.stopPropagation(),d(g),c(!0)},children:"Pilih Dana Arang"})})]},g.id))})]})}),i.jsx(er,{value:"charcoalBond",children:i.jsxs("div",{className:"grid gap-4 mt-4",children:[i.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Obligasi Arang adalah obligasi yang diterbitkan oleh perusahaan arang kayu dengan imbal hasil yang menarik."}),i.jsx(vd,{className:"h-[450px] pr-3",children:EFe.map(g=>i.jsxs(ye,{className:`mb-4 relative ${(n==null?void 0:n.id)===g.id?"border-2 border-primary":""}`,onClick:()=>d(g),children:[i.jsx(ot,{className:"pb-2",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx(lt,{className:"text-base",children:g.name}),i.jsx(ur,{children:g.issuer})]}),g.isPromoted&&i.jsx(jt,{className:"bg-amber-500",children:"Rekomendasi"})]})}),i.jsx(xe,{className:"pb-2",children:i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Bunga"}),i.jsxs("p",{className:"font-semibold text-green-600",children:[g.interestRate,"% p.a."]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Jangka Waktu"}),i.jsx("p",{className:"font-semibold",children:g.period})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Penerbit"}),i.jsx("p",{className:"font-semibold",children:g.issuer})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Minimal Investasi"}),i.jsx("p",{className:"font-semibold",children:Zu(g.minAmount)})]})]})}),i.jsx(Ja,{children:i.jsx(V,{variant:"outline",className:"w-full",onClick:y=>{y.stopPropagation(),d(g),c(!0)},children:"Pilih Obligasi Arang"})})]},g.id))})]})})]})]}),i.jsx(fr,{open:l,onOpenChange:c,children:i.jsxs(ir,{className:"max-w-md p-6",children:[i.jsxs(xr,{children:[i.jsx(wr,{className:"text-center text-xl",children:"Konfirmasi Investasi"}),i.jsxs(Jn,{className:"text-center",children:[e==="deposito"?"Deposito":"Reksadana"," - ",n==null?void 0:n.name]})]}),i.jsxs("div",{className:"space-y-4 py-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"amount",children:"Jumlah Investasi"}),i.jsx(ce,{id:"amount",placeholder:`Min. ${Zu((n==null?void 0:n.minAmount)||0)}`,value:a?Zu(parseInt(a)):"",onChange:h,className:"text-right"}),parseInt(a)<((n==null?void 0:n.minAmount)||0)&&a!==""&&i.jsxs("p",{className:"text-red-500 text-xs",children:["Jumlah investasi minimal ",Zu((n==null?void 0:n.minAmount)||0)]})]}),e==="charcoalFund"&&i.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Jenis"}),i.jsx("span",{className:"font-semibold",children:n==null?void 0:n.type})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Tingkat Risiko"}),i.jsx("span",{className:"font-semibold",children:n==null?void 0:n.riskLevel})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Imbal Hasil"}),i.jsx("span",{className:"font-semibold text-green-600",children:n==null?void 0:n.returnRate})]}),a&&parseInt(a)>=((n==null?void 0:n.minAmount)||0)&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Estimasi Bunga"}),i.jsx("span",{className:"font-semibold text-green-600",children:e==="charcoalFund"?n==null?void 0:n.returnRate:Zu(parseInt(a)*((n==null?void 0:n.interestRate)/100)*parseInt(((p=n==null?void 0:n.period)==null?void 0:p.split(" ")[0])||"1"))})]})]}),e==="charcoalBond"&&i.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Bunga"}),i.jsxs("span",{className:"font-semibold",children:[n==null?void 0:n.interestRate,"% p.a."]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Jangka Waktu"}),i.jsx("span",{className:"font-semibold",children:n==null?void 0:n.period})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Penerbit"}),i.jsx("span",{className:"font-semibold",children:n==null?void 0:n.issuer})]})]})]}),i.jsxs(Sn,{className:"flex-col gap-2 sm:flex-col",children:[i.jsx(V,{className:"w-full",onClick:f,disabled:!a||parseInt(a)<((n==null?void 0:n.minAmount)||0),children:"Konfirmasi Investasi"}),i.jsx(V,{variant:"outline",className:"w-full",onClick:()=>c(!1),children:"Batal"})]})]})}),i.jsx(fr,{open:u,onOpenChange:A,children:i.jsx(ir,{className:"max-w-md p-6",children:i.jsxs("div",{className:"flex flex-col items-center text-center py-4",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center mb-4",children:i.jsx(q.check,{className:"h-8 w-8 text-green-600"})}),i.jsx(wr,{className:"text-xl mb-2",children:"Investasi Berhasil!"}),i.jsxs(Jn,{children:["Investasi ",e==="charcoalFund"?"Dana Arang":"Obligasi Arang"," ",n==null?void 0:n.name," sebesar ",Zu(parseInt(a))," telah berhasil dilakukan."]}),i.jsxs("div",{className:"mt-6 w-full space-y-3",children:[i.jsx(V,{className:"w-full",onClick:()=>t("/ppob/activity"),children:"Lihat Transaksi"}),i.jsx(V,{variant:"outline",className:"w-full",onClick:m,children:"Investasi Lainnya"})]})]})})})]})};function NFe({children:t}){const{user:e,profile:r}=qr(),{toast:n}=Vi(),s=Tt(),[a,o]=v.useState(null),[l,c]=v.useState([]);return v.useEffect(()=>{(async()=>{try{if(!e||!r||r.role!=="admin"){console.log("Not an admin user, skipping notification setup");return}if(!xW()){console.log("This browser does not support notifications"),o(!1);return}try{if(Notification.permission==="granted")o(!0);else if(Notification.permission==="denied"){o(!1);return}}catch(d){console.error("Error accessing Notification API:",d),o(!1);return}const A=await ST(e.id);A?(console.log("FCM Token registered:",A),o(!0)):(console.log("Failed to get FCM token"),o(!1))}catch(A){console.error("Error setting up notifications:",A),o(!1)}})()},[e,r]),v.useEffect(()=>{if(!e||!a)return;const u=yW(Pm),A=nwe(u,d=>{console.log("Foreground message received:",d);const h=d.data;h&&h.type==="order"&&(c(m=>[h,...m]),n({title:h.title||"Pesanan Baru",description:h.message||"Ada pesanan baru dari pelanggan",variant:"default",action:i.jsx("button",{onClick:()=>s(`/admin/orders/${h.orderId}`),className:"px-3 py-2 bg-flame-500 text-white rounded-md text-xs",children:"Lihat"})}),new Audio("/sounds/new_order_sound.mp3").play().catch(m=>console.log("Error playing notification sound:",m)))});return()=>A()},[e,a,n,s]),i.jsx(i.Fragment,{children:t})}function qn({children:t}){const e=Qs(),{user:r,profile:n,logout:s}=qr(),a=h2("/sounds/new_order_sound.mp3"),o=h2("/sounds/new_chat_message_sound.mp3");if(v.useEffect(()=>{if(!r||!n||n.role!=="admin"&&n.role!=="manager")return;const c=J.channel("admin-new-orders").on("postgres_changes",{event:"INSERT",schema:"public",table:"orders"},u=>{console.log("New order received in AdminLayout:",u.new),a()}).subscribe((u,A)=>{u==="SUBSCRIBED"&&console.log("Subscribed to new orders in AdminLayout"),A&&console.error("Error subscribing to orders in AdminLayout:",A)});return()=>{J.removeChannel(c)}},[r,n,a]),v.useEffect(()=>{if(!r||!n||n.role!=="admin"&&n.role!=="manager")return;const c=J.channel("admin-new-chat-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},async u=>{const A=u.new;if(A.sender_type==="customer"&&A.session_id){const{data:d,error:h}=await J.from("chat_sessions").select("admin_id, customer_id").eq("id",A.session_id).single();if(h){console.error("Error fetching session for new message notification:",h);return}const f=e.pathname===`/admin/chat/${d==null?void 0:d.customer_id}`;d&&(d.admin_id===r.id||d.admin_id===null)&&!f&&(console.log("New chat message for admin received in AdminLayout:",u.new),o())}}).subscribe((u,A)=>{u==="SUBSCRIBED"&&console.log("Subscribed to new chat messages in AdminLayout"),A&&console.error("Error subscribing to messages in AdminLayout:",A)});return()=>{J.removeChannel(c)}},[r,n,o,e.pathname]),!r||!n||n.role!=="admin"&&n.role!=="manager")return i.jsx(r1,{to:"/admin-login",replace:!0});const l=[{icon:i.jsx(r9,{}),label:"Dashboard",path:"/admin"},{icon:i.jsx(mle,{}),label:"Inventaris",path:"/admin/inventory"},{icon:i.jsx(Bl,{}),label:"Pengiriman",path:"/admin/shipping"},{icon:i.jsx(GP,{}),label:"Chat",path:"/admin/chats"},{icon:i.jsx(XP,{}),label:"Pengguna",path:"/admin/users"},{icon:i.jsx(w_,{}),label:"Pesanan",path:"/admin/orders"},{icon:i.jsx(qP,{}),label:"Voucher",path:"/admin/vouchers"},{icon:i.jsx(Gb,{}),label:"Broadcast",path:"/admin/broadcast"},{icon:i.jsx(uk,{}),label:"Analitik",path:"/admin/analytics"},{icon:i.jsx(l9,{}),label:"Pengaturan",path:"/admin/settings"},{icon:i.jsx(KP,{}),label:"PPOB",path:"/admin/ppob"}];return i.jsx(NFe,{children:i.jsxs("div",{className:"flex h-screen bg-gray-100",children:[i.jsxs("div",{className:"hidden md:flex flex-col w-64 bg-white border-r",children:[i.jsx("div",{className:"flex items-center justify-center h-16 border-b",children:i.jsx("h2",{className:"text-xl font-semibold text-flame-500",children:"Panel Admin"})}),i.jsx("div",{className:"flex flex-col flex-1 overflow-y-auto",children:i.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:l.map(c=>i.jsxs(st,{to:c.path,className:he("flex items-center px-4 py-3 text-gray-600 hover:bg-gray-100 rounded-md",e.pathname===c.path&&"bg-flame-50 text-flame-600"),children:[i.jsx("span",{className:"mr-3",children:c.icon}),c.label]},c.path))})}),i.jsx("div",{className:"p-4 border-t",children:i.jsxs("button",{onClick:()=>s(),className:"flex w-full items-center px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-md",children:[i.jsx(zP,{className:"mr-3"}),"Keluar"]})})]}),i.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-10 bg-white border-t overflow-x-auto",children:i.jsxs("div",{className:"flex min-w-full",children:[i.jsxs("div",{className:"grid grid-cols-4 w-full",children:[i.jsxs(st,{to:l[0].path,className:he("flex flex-col items-center py-2 px-1",e.pathname===l[0].path&&"text-flame-600"),children:[l[0].icon,i.jsx("span",{className:"text-xs mt-1",children:l[0].label})]},l[0].path),i.jsxs(st,{to:l[1].path,className:he("flex flex-col items-center py-2 px-1",e.pathname===l[1].path&&"text-flame-600"),children:[l[1].icon,i.jsx("span",{className:"text-xs mt-1",children:l[1].label})]},l[1].path),i.jsxs(st,{to:l[2].path,className:he("flex flex-col items-center py-2 px-1",e.pathname===l[2].path&&"text-flame-600"),children:[l[2].icon,i.jsx("span",{className:"text-xs mt-1",children:l[2].label})]},l[2].path),i.jsxs(st,{to:l[3].path,className:he("flex flex-col items-center py-2 px-1",e.pathname===l[3].path&&"text-flame-600"),children:[l[3].icon,i.jsx("span",{className:"text-xs mt-1",children:l[3].label})]},l[3].path)]}),i.jsxs("div",{className:"grid grid-cols-4 w-full",children:[i.jsxs(st,{to:l[4].path,className:he("flex flex-col items-center py-2 px-1",e.pathname===l[4].path&&"text-flame-600"),children:[l[4].icon,i.jsx("span",{className:"text-xs mt-1",children:l[4].label})]},l[4].path),i.jsxs(st,{to:l[5].path,className:he("flex flex-col items-center py-2 px-1",e.pathname===l[5].path&&"text-flame-600"),children:[l[5].icon,i.jsx("span",{className:"text-xs mt-1",children:l[5].label})]},l[5].path),i.jsxs(st,{to:l[6].path,className:he("flex flex-col items-center py-2 px-1",e.pathname===l[6].path&&"text-flame-600"),children:[l[6].icon,i.jsx("span",{className:"text-xs mt-1",children:l[6].label})]},l[6].path),i.jsxs(st,{to:l[7].path,className:he("flex flex-col items-center py-2 px-1",e.pathname===l[7].path&&"text-flame-600"),children:[l[7].icon,i.jsx("span",{className:"text-xs mt-1",children:l[7].label})]},l[7].path)]})]})}),i.jsx("div",{className:"flex flex-col flex-1 overflow-hidden",children:i.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-100 p-4 pb-16 md:pb-4",children:t})})]})})}var kFe=Array.isArray,ia=kFe,TFe=typeof ms=="object"&&ms&&ms.Object===Object&&ms,nee=TFe,IFe=nee,PFe=typeof self=="object"&&self&&self.Object===Object&&self,OFe=IFe||PFe||Function("return this")(),Lo=OFe,FFe=Lo,DFe=FFe.Symbol,Fx=DFe,c$=Fx,see=Object.prototype,RFe=see.hasOwnProperty,UFe=see.toString,$p=c$?c$.toStringTag:void 0;function MFe(t){var e=RFe.call(t,$p),r=t[$p];try{t[$p]=void 0;var n=!0}catch{}var s=UFe.call(t);return n&&(e?t[$p]=r:delete t[$p]),s}var QFe=MFe,LFe=Object.prototype,$Fe=LFe.toString;function HFe(t){return $Fe.call(t)}var VFe=HFe,u$=Fx,KFe=QFe,zFe=VFe,GFe="[object Null]",WFe="[object Undefined]",A$=u$?u$.toStringTag:void 0;function qFe(t){return t==null?t===void 0?WFe:GFe:A$&&A$ in Object(t)?KFe(t):zFe(t)}var $l=qFe;function XFe(t){return t!=null&&typeof t=="object"}var Hl=XFe,JFe=$l,YFe=Hl,ZFe="[object Symbol]";function e4e(t){return typeof t=="symbol"||YFe(t)&&JFe(t)==ZFe}var Qm=e4e,t4e=ia,r4e=Qm,n4e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s4e=/^\w*$/;function a4e(t,e){if(t4e(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||r4e(t)?!0:s4e.test(t)||!n4e.test(t)||e!=null&&t in Object(e)}var s4=a4e;function i4e(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Uu=i4e;const Lm=Jt(Uu);var o4e=$l,l4e=Uu,c4e="[object AsyncFunction]",u4e="[object Function]",A4e="[object GeneratorFunction]",d4e="[object Proxy]";function h4e(t){if(!l4e(t))return!1;var e=o4e(t);return e==u4e||e==A4e||e==c4e||e==d4e}var a4=h4e;const Nt=Jt(a4);var f4e=Lo,m4e=f4e["__core-js_shared__"],p4e=m4e,US=p4e,d$=function(){var t=/[^.]+$/.exec(US&&US.keys&&US.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function g4e(t){return!!d$&&d$ in t}var v4e=g4e,y4e=Function.prototype,x4e=y4e.toString;function w4e(t){if(t!=null){try{return x4e.call(t)}catch{}try{return t+""}catch{}}return""}var aee=w4e,b4e=a4,j4e=v4e,_4e=Uu,C4e=aee,B4e=/[\\^$.*+?()[\]{}|]/g,E4e=/^\[object .+?Constructor\]$/,S4e=Function.prototype,N4e=Object.prototype,k4e=S4e.toString,T4e=N4e.hasOwnProperty,I4e=RegExp("^"+k4e.call(T4e).replace(B4e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function P4e(t){if(!_4e(t)||j4e(t))return!1;var e=b4e(t)?I4e:E4e;return e.test(C4e(t))}var O4e=P4e;function F4e(t,e){return t==null?void 0:t[e]}var D4e=F4e,R4e=O4e,U4e=D4e;function M4e(t,e){var r=U4e(t,e);return R4e(r)?r:void 0}var Nd=M4e,Q4e=Nd,L4e=Q4e(Object,"create"),KC=L4e,h$=KC;function $4e(){this.__data__=h$?h$(null):{},this.size=0}var H4e=$4e;function V4e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var K4e=V4e,z4e=KC,G4e="__lodash_hash_undefined__",W4e=Object.prototype,q4e=W4e.hasOwnProperty;function X4e(t){var e=this.__data__;if(z4e){var r=e[t];return r===G4e?void 0:r}return q4e.call(e,t)?e[t]:void 0}var J4e=X4e,Y4e=KC,Z4e=Object.prototype,eDe=Z4e.hasOwnProperty;function tDe(t){var e=this.__data__;return Y4e?e[t]!==void 0:eDe.call(e,t)}var rDe=tDe,nDe=KC,sDe="__lodash_hash_undefined__";function aDe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=nDe&&e===void 0?sDe:e,this}var iDe=aDe,oDe=H4e,lDe=K4e,cDe=J4e,uDe=rDe,ADe=iDe;function $m(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}$m.prototype.clear=oDe;$m.prototype.delete=lDe;$m.prototype.get=cDe;$m.prototype.has=uDe;$m.prototype.set=ADe;var dDe=$m;function hDe(){this.__data__=[],this.size=0}var fDe=hDe;function mDe(t,e){return t===e||t!==t&&e!==e}var i4=mDe,pDe=i4;function gDe(t,e){for(var r=t.length;r--;)if(pDe(t[r][0],e))return r;return-1}var zC=gDe,vDe=zC,yDe=Array.prototype,xDe=yDe.splice;function wDe(t){var e=this.__data__,r=vDe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():xDe.call(e,r,1),--this.size,!0}var bDe=wDe,jDe=zC;function _De(t){var e=this.__data__,r=jDe(e,t);return r<0?void 0:e[r][1]}var CDe=_De,BDe=zC;function EDe(t){return BDe(this.__data__,t)>-1}var SDe=EDe,NDe=zC;function kDe(t,e){var r=this.__data__,n=NDe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var TDe=kDe,IDe=fDe,PDe=bDe,ODe=CDe,FDe=SDe,DDe=TDe;function Hm(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Hm.prototype.clear=IDe;Hm.prototype.delete=PDe;Hm.prototype.get=ODe;Hm.prototype.has=FDe;Hm.prototype.set=DDe;var GC=Hm,RDe=Nd,UDe=Lo,MDe=RDe(UDe,"Map"),o4=MDe,f$=dDe,QDe=GC,LDe=o4;function $De(){this.size=0,this.__data__={hash:new f$,map:new(LDe||QDe),string:new f$}}var HDe=$De;function VDe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var KDe=VDe,zDe=KDe;function GDe(t,e){var r=t.__data__;return zDe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var WC=GDe,WDe=WC;function qDe(t){var e=WDe(this,t).delete(t);return this.size-=e?1:0,e}var XDe=qDe,JDe=WC;function YDe(t){return JDe(this,t).get(t)}var ZDe=YDe,eRe=WC;function tRe(t){return eRe(this,t).has(t)}var rRe=tRe,nRe=WC;function sRe(t,e){var r=nRe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var aRe=sRe,iRe=HDe,oRe=XDe,lRe=ZDe,cRe=rRe,uRe=aRe;function Vm(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Vm.prototype.clear=iRe;Vm.prototype.delete=oRe;Vm.prototype.get=lRe;Vm.prototype.has=cRe;Vm.prototype.set=uRe;var l4=Vm,iee=l4,ARe="Expected a function";function c4(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(ARe);var r=function(){var n=arguments,s=e?e.apply(this,n):n[0],a=r.cache;if(a.has(s))return a.get(s);var o=t.apply(this,n);return r.cache=a.set(s,o)||a,o};return r.cache=new(c4.Cache||iee),r}c4.Cache=iee;var oee=c4;const dRe=Jt(oee);var hRe=oee,fRe=500;function mRe(t){var e=hRe(t,function(n){return r.size===fRe&&r.clear(),n}),r=e.cache;return e}var pRe=mRe,gRe=pRe,vRe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yRe=/\\(\\)?/g,xRe=gRe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(vRe,function(r,n,s,a){e.push(s?a.replace(yRe,"$1"):n||r)}),e}),wRe=xRe;function bRe(t,e){for(var r=-1,n=t==null?0:t.length,s=Array(n);++r<n;)s[r]=e(t[r],r,t);return s}var u4=bRe,m$=Fx,jRe=u4,_Re=ia,CRe=Qm,BRe=1/0,p$=m$?m$.prototype:void 0,g$=p$?p$.toString:void 0;function lee(t){if(typeof t=="string")return t;if(_Re(t))return jRe(t,lee)+"";if(CRe(t))return g$?g$.call(t):"";var e=t+"";return e=="0"&&1/t==-BRe?"-0":e}var ERe=lee,SRe=ERe;function NRe(t){return t==null?"":SRe(t)}var cee=NRe,kRe=ia,TRe=s4,IRe=wRe,PRe=cee;function ORe(t,e){return kRe(t)?t:TRe(t,e)?[t]:IRe(PRe(t))}var uee=ORe,FRe=Qm,DRe=1/0;function RRe(t){if(typeof t=="string"||FRe(t))return t;var e=t+"";return e=="0"&&1/t==-DRe?"-0":e}var qC=RRe,URe=uee,MRe=qC;function QRe(t,e){e=URe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[MRe(e[r++])];return r&&r==n?t:void 0}var A4=QRe,LRe=A4;function $Re(t,e,r){var n=t==null?void 0:LRe(t,e);return n===void 0?r:n}var Aee=$Re;const Za=Jt(Aee);function HRe(t){return t==null}var VRe=HRe;const Dt=Jt(VRe);var KRe=$l,zRe=ia,GRe=Hl,WRe="[object String]";function qRe(t){return typeof t=="string"||!zRe(t)&&GRe(t)&&KRe(t)==WRe}var XRe=qRe;const Dx=Jt(XRe);var dee={exports:{}},or={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d4=Symbol.for("react.element"),h4=Symbol.for("react.portal"),XC=Symbol.for("react.fragment"),JC=Symbol.for("react.strict_mode"),YC=Symbol.for("react.profiler"),ZC=Symbol.for("react.provider"),eB=Symbol.for("react.context"),JRe=Symbol.for("react.server_context"),tB=Symbol.for("react.forward_ref"),rB=Symbol.for("react.suspense"),nB=Symbol.for("react.suspense_list"),sB=Symbol.for("react.memo"),aB=Symbol.for("react.lazy"),YRe=Symbol.for("react.offscreen"),hee;hee=Symbol.for("react.module.reference");function oi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case d4:switch(t=t.type,t){case XC:case YC:case JC:case rB:case nB:return t;default:switch(t=t&&t.$$typeof,t){case JRe:case eB:case tB:case aB:case sB:case ZC:return t;default:return e}}case h4:return e}}}or.ContextConsumer=eB;or.ContextProvider=ZC;or.Element=d4;or.ForwardRef=tB;or.Fragment=XC;or.Lazy=aB;or.Memo=sB;or.Portal=h4;or.Profiler=YC;or.StrictMode=JC;or.Suspense=rB;or.SuspenseList=nB;or.isAsyncMode=function(){return!1};or.isConcurrentMode=function(){return!1};or.isContextConsumer=function(t){return oi(t)===eB};or.isContextProvider=function(t){return oi(t)===ZC};or.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===d4};or.isForwardRef=function(t){return oi(t)===tB};or.isFragment=function(t){return oi(t)===XC};or.isLazy=function(t){return oi(t)===aB};or.isMemo=function(t){return oi(t)===sB};or.isPortal=function(t){return oi(t)===h4};or.isProfiler=function(t){return oi(t)===YC};or.isStrictMode=function(t){return oi(t)===JC};or.isSuspense=function(t){return oi(t)===rB};or.isSuspenseList=function(t){return oi(t)===nB};or.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===XC||t===YC||t===JC||t===rB||t===nB||t===YRe||typeof t=="object"&&t!==null&&(t.$$typeof===aB||t.$$typeof===sB||t.$$typeof===ZC||t.$$typeof===eB||t.$$typeof===tB||t.$$typeof===hee||t.getModuleId!==void 0)};or.typeOf=oi;dee.exports=or;var fee=dee.exports,ZRe=$l,eUe=Hl,tUe="[object Number]";function rUe(t){return typeof t=="number"||eUe(t)&&ZRe(t)==tUe}var mee=rUe;const nUe=Jt(mee);var sUe=mee;function aUe(t){return sUe(t)&&t!=+t}var iUe=aUe;const Rx=Jt(iUe);var Ii=function(e){return e===0?0:e>0?1:-1},SA=function(e){return Dx(e)&&e.indexOf("%")===e.length-1},Fe=function(e){return nUe(e)&&!Rx(e)},pn=function(e){return Fe(e)||Dx(e)},oUe=0,Ux=function(e){var r=++oUe;return"".concat(e||"").concat(r)},yd=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Fe(e)&&!Dx(e))return n;var a;if(SA(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Rx(a)&&(a=n),s&&a>r&&(a=r),a},_c=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},lUe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},s=0;s<r;s++)if(!n[e[s]])n[e[s]]=!0;else return!0;return!1},Ci=function(e,r){return Fe(e)&&Fe(r)?function(n){return e+n*(r-e)}:function(){return r}};function nj(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Za(n,e))===r})}function Jh(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function v2(t){"@babel/helpers - typeof";return v2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v2(t)}var cUe=["viewBox","children"],uUe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],v$=["points","pathLength"],MS={svg:cUe,polygon:v$,polyline:v$},f4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],sj=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),!Lm(n))return null;var s={};return Object.keys(n).forEach(function(a){f4.includes(a)&&(s[a]=r||function(o){return n[a](n,o)})}),s},AUe=function(e,r,n){return function(s){return e(r,n,s),null}},aj=function(e,r,n){if(!Lm(e)||v2(e)!=="object")return null;var s=null;return Object.keys(e).forEach(function(a){var o=e[a];f4.includes(a)&&typeof o=="function"&&(s||(s={}),s[a]=AUe(o,r,n))}),s},dUe=["children"],hUe=["children"];function y$(t,e){if(t==null)return{};var r=fUe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function y2(t){"@babel/helpers - typeof";return y2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y2(t)}var x$={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},gl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},w$=null,QS=null,m4=function t(e){if(e===w$&&Array.isArray(QS))return QS;var r=[];return v.Children.forEach(e,function(n){Dt(n)||(fee.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),QS=r,w$=e,r};function ei(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(s){return gl(s)}):n=[gl(e)],m4(t).forEach(function(s){var a=Za(s,"type.displayName")||Za(s,"type.name");n.indexOf(a)!==-1&&r.push(s)}),r}function pa(t,e){var r=ei(t,e);return r&&r[0]}var b$=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,s=r.height;return!(!Fe(n)||n<=0||!Fe(s)||s<=0)},mUe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],pUe=function(e){return e&&e.type&&Dx(e.type)&&mUe.indexOf(e.type)>=0},gUe=function(e){return e&&y2(e)==="object"&&"clipDot"in e},vUe=function(e,r,n,s){var a,o=(a=MS==null?void 0:MS[s])!==null&&a!==void 0?a:[];return!Nt(e)&&(s&&o.includes(r)||uUe.includes(r))||n&&f4.includes(r)},Lt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(v.isValidElement(e)&&(s=e.props),!Lm(s))return null;var a={};return Object.keys(s).forEach(function(o){var l;vUe((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=s[o])}),a},x2=function t(e,r){if(e===r)return!0;var n=v.Children.count(e);if(n!==v.Children.count(r))return!1;if(n===0)return!0;if(n===1)return j$(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var a=e[s],o=r[s];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!j$(a,o))return!1}return!0},j$=function(e,r){if(Dt(e)&&Dt(r))return!0;if(!Dt(e)&&!Dt(r)){var n=e.props||{},s=n.children,a=y$(n,dUe),o=r.props||{},l=o.children,c=y$(o,hUe);return s&&l?Jh(a,c)&&x2(s,l):!s&&!l?Jh(a,c):!1}return!1},_$=function(e,r){var n=[],s={};return m4(e).forEach(function(a,o){if(pUe(a))n.push(a);else if(a){var l=gl(a.type),c=r[l]||{},u=c.handler,A=c.once;if(u&&(!A||!s[l])){var d=u(a,l,o);n.push(d),s[l]=!0}}}),n},yUe=function(e){var r=e&&e.type;return r&&x$[r]?x$[r]:null},xUe=function(e,r){return m4(r).indexOf(e)},wUe=["children","width","height","viewBox","className","style","title","desc"];function w2(){return w2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},w2.apply(this,arguments)}function bUe(t,e){if(t==null)return{};var r=jUe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function b2(t){var e=t.children,r=t.width,n=t.height,s=t.viewBox,a=t.className,o=t.style,l=t.title,c=t.desc,u=bUe(t,wUe),A=s||{width:r,height:n,x:0,y:0},d=Kt("recharts-surface",a);return $.createElement("svg",w2({},Lt(u,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(A.x," ").concat(A.y," ").concat(A.width," ").concat(A.height)}),$.createElement("title",null,l),$.createElement("desc",null,c),e)}var _Ue=["children","className"];function j2(){return j2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},j2.apply(this,arguments)}function CUe(t,e){if(t==null)return{};var r=BUe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function BUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Zr=$.forwardRef(function(t,e){var r=t.children,n=t.className,s=CUe(t,_Ue),a=Kt("recharts-layer",n);return $.createElement("g",j2({className:a},Lt(s,!0),{ref:e}),r)}),vl=function(e,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),a=2;a<n;a++)s[a-2]=arguments[a]};function EUe(t,e,r){var n=-1,s=t.length;e<0&&(e=-e>s?0:s+e),r=r>s?s:r,r<0&&(r+=s),s=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(s);++n<s;)a[n]=t[n+e];return a}var SUe=EUe,NUe=SUe;function kUe(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:NUe(t,e,r)}var TUe=kUe,IUe="\\ud800-\\udfff",PUe="\\u0300-\\u036f",OUe="\\ufe20-\\ufe2f",FUe="\\u20d0-\\u20ff",DUe=PUe+OUe+FUe,RUe="\\ufe0e\\ufe0f",UUe="\\u200d",MUe=RegExp("["+UUe+IUe+DUe+RUe+"]");function QUe(t){return MUe.test(t)}var pee=QUe;function LUe(t){return t.split("")}var $Ue=LUe,gee="\\ud800-\\udfff",HUe="\\u0300-\\u036f",VUe="\\ufe20-\\ufe2f",KUe="\\u20d0-\\u20ff",zUe=HUe+VUe+KUe,GUe="\\ufe0e\\ufe0f",WUe="["+gee+"]",_2="["+zUe+"]",C2="\\ud83c[\\udffb-\\udfff]",qUe="(?:"+_2+"|"+C2+")",vee="[^"+gee+"]",yee="(?:\\ud83c[\\udde6-\\uddff]){2}",xee="[\\ud800-\\udbff][\\udc00-\\udfff]",XUe="\\u200d",wee=qUe+"?",bee="["+GUe+"]?",JUe="(?:"+XUe+"(?:"+[vee,yee,xee].join("|")+")"+bee+wee+")*",YUe=bee+wee+JUe,ZUe="(?:"+[vee+_2+"?",_2,yee,xee,WUe].join("|")+")",eMe=RegExp(C2+"(?="+C2+")|"+ZUe+YUe,"g");function tMe(t){return t.match(eMe)||[]}var rMe=tMe,nMe=$Ue,sMe=pee,aMe=rMe;function iMe(t){return sMe(t)?aMe(t):nMe(t)}var oMe=iMe,lMe=TUe,cMe=pee,uMe=oMe,AMe=cee;function dMe(t){return function(e){e=AMe(e);var r=cMe(e)?uMe(e):void 0,n=r?r[0]:e.charAt(0),s=r?lMe(r,1).join(""):e.slice(1);return n[t]()+s}}var hMe=dMe,fMe=hMe,mMe=fMe("toUpperCase"),pMe=mMe;const iB=Jt(pMe);function _r(t){return function(){return t}}const jee=Math.cos,ij=Math.sin,qi=Math.sqrt,oj=Math.PI,oB=2*oj,B2=Math.PI,E2=2*B2,uA=1e-6,gMe=E2-uA;function _ee(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function vMe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return _ee;const r=10**e;return function(n){this._+=n[0];for(let s=1,a=n.length;s<a;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class yMe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?_ee:vMe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,s){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(e,r,n,s,a,o){this._append`C${+e},${+r},${+n},${+s},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,s,a){if(e=+e,r=+r,n=+n,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-e,u=s-r,A=o-e,d=l-r,h=A*A+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>uA)if(!(Math.abs(d*c-u*A)>uA)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let f=n-o,m=s-l,p=c*c+u*u,g=f*f+m*m,y=Math.sqrt(p),x=Math.sqrt(h),b=a*Math.tan((B2-Math.acos((p+h-g)/(2*y*x)))/2),j=b/x,C=b/y;Math.abs(j-1)>uA&&this._append`L${e+j*A},${r+j*d}`,this._append`A${a},${a},0,0,${+(d*f>A*m)},${this._x1=e+C*c},${this._y1=r+C*u}`}}arc(e,r,n,s,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=e+l,A=r+c,d=1^o,h=o?s-a:a-s;this._x1===null?this._append`M${u},${A}`:(Math.abs(this._x1-u)>uA||Math.abs(this._y1-A)>uA)&&this._append`L${u},${A}`,n&&(h<0&&(h=h%E2+E2),h>gMe?this._append`A${n},${n},0,1,${d},${e-l},${r-c}A${n},${n},0,1,${d},${this._x1=u},${this._y1=A}`:h>uA&&this._append`A${n},${n},0,${+(h>=B2)},${d},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function p4(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new yMe(e)}function g4(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Cee(t){this._context=t}Cee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function lB(t){return new Cee(t)}function Bee(t){return t[0]}function Eee(t){return t[1]}function See(t,e){var r=_r(!0),n=null,s=lB,a=null,o=p4(l);t=typeof t=="function"?t:t===void 0?Bee:_r(t),e=typeof e=="function"?e:e===void 0?Eee:_r(e);function l(c){var u,A=(c=g4(c)).length,d,h=!1,f;for(n==null&&(a=s(f=o())),u=0;u<=A;++u)!(u<A&&r(d=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(d,u,c),+e(d,u,c));if(f)return a=null,f+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:_r(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:_r(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:_r(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(a=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=a=null:a=s(n=c),l):n},l}function yw(t,e,r){var n=null,s=_r(!0),a=null,o=lB,l=null,c=p4(u);t=typeof t=="function"?t:t===void 0?Bee:_r(+t),e=typeof e=="function"?e:_r(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Eee:_r(+r);function u(d){var h,f,m,p=(d=g4(d)).length,g,y=!1,x,b=new Array(p),j=new Array(p);for(a==null&&(l=o(x=c())),h=0;h<=p;++h){if(!(h<p&&s(g=d[h],h,d))===y)if(y=!y)f=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=h-1;m>=f;--m)l.point(b[m],j[m]);l.lineEnd(),l.areaEnd()}y&&(b[h]=+t(g,h,d),j[h]=+e(g,h,d),l.point(n?+n(g,h,d):b[h],r?+r(g,h,d):j[h]))}if(x)return l=null,x+""||null}function A(){return See().defined(s).curve(o).context(a)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:_r(+d),n=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:_r(+d),u):t},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:_r(+d),u):n},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:_r(+d),r=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:_r(+d),u):e},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:_r(+d),u):r},u.lineX0=u.lineY0=function(){return A().x(t).y(e)},u.lineY1=function(){return A().x(t).y(r)},u.lineX1=function(){return A().x(n).y(e)},u.defined=function(d){return arguments.length?(s=typeof d=="function"?d:_r(!!d),u):s},u.curve=function(d){return arguments.length?(o=d,a!=null&&(l=o(a)),u):o},u.context=function(d){return arguments.length?(d==null?a=l=null:l=o(a=d),u):a},u}class Nee{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function xMe(t){return new Nee(t,!0)}function wMe(t){return new Nee(t,!1)}const v4={draw(t,e){const r=qi(e/oj);t.moveTo(r,0),t.arc(0,0,r,0,oB)}},bMe={draw(t,e){const r=qi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},kee=qi(1/3),jMe=kee*2,_Me={draw(t,e){const r=qi(e/jMe),n=r*kee;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},CMe={draw(t,e){const r=qi(e),n=-r/2;t.rect(n,n,r,r)}},BMe=.8908130915292852,Tee=ij(oj/10)/ij(7*oj/10),EMe=ij(oB/10)*Tee,SMe=-jee(oB/10)*Tee,NMe={draw(t,e){const r=qi(e*BMe),n=EMe*r,s=SMe*r;t.moveTo(0,-r),t.lineTo(n,s);for(let a=1;a<5;++a){const o=oB*a/5,l=jee(o),c=ij(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*s,c*n+l*s)}t.closePath()}},LS=qi(3),kMe={draw(t,e){const r=-qi(e/(LS*3));t.moveTo(0,r*2),t.lineTo(-LS*r,-r),t.lineTo(LS*r,-r),t.closePath()}},Fa=-.5,Da=qi(3)/2,S2=1/qi(12),TMe=(S2/2+1)*3,IMe={draw(t,e){const r=qi(e/TMe),n=r/2,s=r*S2,a=n,o=r*S2+r,l=-a,c=o;t.moveTo(n,s),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(Fa*n-Da*s,Da*n+Fa*s),t.lineTo(Fa*a-Da*o,Da*a+Fa*o),t.lineTo(Fa*l-Da*c,Da*l+Fa*c),t.lineTo(Fa*n+Da*s,Fa*s-Da*n),t.lineTo(Fa*a+Da*o,Fa*o-Da*a),t.lineTo(Fa*l+Da*c,Fa*c-Da*l),t.closePath()}};function PMe(t,e){let r=null,n=p4(s);t=typeof t=="function"?t:_r(t||v4),e=typeof e=="function"?e:_r(e===void 0?64:+e);function s(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return s.type=function(a){return arguments.length?(t=typeof a=="function"?a:_r(a),s):t},s.size=function(a){return arguments.length?(e=typeof a=="function"?a:_r(+a),s):e},s.context=function(a){return arguments.length?(r=a??null,s):r},s}function lj(){}function cj(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function Iee(t){this._context=t}Iee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cj(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cj(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function OMe(t){return new Iee(t)}function Pee(t){this._context=t}Pee.prototype={areaStart:lj,areaEnd:lj,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:cj(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function FMe(t){return new Pee(t)}function Oee(t){this._context=t}Oee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:cj(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function DMe(t){return new Oee(t)}function Fee(t){this._context=t}Fee.prototype={areaStart:lj,areaEnd:lj,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function RMe(t){return new Fee(t)}function C$(t){return t<0?-1:1}function B$(t,e,r){var n=t._x1-t._x0,s=e-t._x1,a=(t._y1-t._y0)/(n||s<0&&-0),o=(r-t._y1)/(s||n<0&&-0),l=(a*s+o*n)/(n+s);return(C$(a)+C$(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function E$(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function $S(t,e,r){var n=t._x0,s=t._y0,a=t._x1,o=t._y1,l=(a-n)/3;t._context.bezierCurveTo(n+l,s+l*e,a-l,o-l*r,a,o)}function uj(t){this._context=t}uj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$S(this,this._t0,E$(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,$S(this,E$(this,r=B$(this,t,e)),r);break;default:$S(this,this._t0,r=B$(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function Dee(t){this._context=new Ree(t)}(Dee.prototype=Object.create(uj.prototype)).point=function(t,e){uj.prototype.point.call(this,e,t)};function Ree(t){this._context=t}Ree.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,s,a){this._context.bezierCurveTo(e,t,n,r,a,s)}};function UMe(t){return new uj(t)}function MMe(t){return new Dee(t)}function Uee(t){this._context=t}Uee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=S$(t),s=S$(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],s[0][a],n[1][a],s[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function S$(t){var e,r=t.length-1,n,s=new Array(r),a=new Array(r),o=new Array(r);for(s[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)s[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(s[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=s[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(s[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)s[e]=(o[e]-s[e+1])/a[e];for(a[r-1]=(t[r]+s[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-s[e+1];return[s,a]}function QMe(t){return new Uee(t)}function cB(t,e){this._context=t,this._t=e}cB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function LMe(t){return new cB(t,.5)}function $Me(t){return new cB(t,0)}function HMe(t){return new cB(t,1)}function Wf(t,e){if((o=t.length)>1)for(var r=1,n,s,a=t[e[0]],o,l=a.length;r<o;++r)for(s=a,a=t[e[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function N2(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function VMe(t,e){return t[e]}function KMe(t){const e=[];return e.key=t,e}function zMe(){var t=_r([]),e=N2,r=Wf,n=VMe;function s(a){var o=Array.from(t.apply(this,arguments),KMe),l,c=o.length,u=-1,A;for(const d of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(d,o[l].key,u,a)]).data=d;for(l=0,A=g4(e(o));l<c;++l)o[A[l]].index=l;return r(o,A),o}return s.keys=function(a){return arguments.length?(t=typeof a=="function"?a:_r(Array.from(a)),s):t},s.value=function(a){return arguments.length?(n=typeof a=="function"?a:_r(+a),s):n},s.order=function(a){return arguments.length?(e=a==null?N2:typeof a=="function"?a:_r(Array.from(a)),s):e},s.offset=function(a){return arguments.length?(r=a??Wf,s):r},s}function GMe(t,e){if((n=t.length)>0){for(var r,n,s=0,a=t[0].length,o;s<a;++s){for(o=r=0;r<n;++r)o+=t[r][s][1]||0;if(o)for(r=0;r<n;++r)t[r][s][1]/=o}Wf(t,e)}}function WMe(t,e){if((s=t.length)>0){for(var r=0,n=t[e[0]],s,a=n.length;r<a;++r){for(var o=0,l=0;o<s;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Wf(t,e)}}function qMe(t,e){if(!(!((o=t.length)>0)||!((a=(s=t[e[0]]).length)>0))){for(var r=0,n=1,s,a,o;n<a;++n){for(var l=0,c=0,u=0;l<o;++l){for(var A=t[e[l]],d=A[n][1]||0,h=A[n-1][1]||0,f=(d-h)/2,m=0;m<l;++m){var p=t[e[m]],g=p[n][1]||0,y=p[n-1][1]||0;f+=g-y}c+=d,u+=f*d}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,Wf(t,e)}}function uy(t){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(t)}var XMe=["type","size","sizeType"];function k2(){return k2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},k2.apply(this,arguments)}function N$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function k$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N$(Object(r),!0).forEach(function(n){JMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JMe(t,e,r){return e=YMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YMe(t){var e=ZMe(t,"string");return uy(e)=="symbol"?e:e+""}function ZMe(t,e){if(uy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(uy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eQe(t,e){if(t==null)return{};var r=tQe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tQe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Mee={symbolCircle:v4,symbolCross:bMe,symbolDiamond:_Me,symbolSquare:CMe,symbolStar:NMe,symbolTriangle:kMe,symbolWye:IMe},rQe=Math.PI/180,nQe=function(e){var r="symbol".concat(iB(e));return Mee[r]||v4},sQe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*rQe;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},aQe=function(e,r){Mee["symbol".concat(iB(e))]=r},y4=function(e){var r=e.type,n=r===void 0?"circle":r,s=e.size,a=s===void 0?64:s,o=e.sizeType,l=o===void 0?"area":o,c=eQe(e,XMe),u=k$(k$({},c),{},{type:n,size:a,sizeType:l}),A=function(){var g=nQe(n),y=PMe().type(g).size(sQe(a,l,n));return y()},d=u.className,h=u.cx,f=u.cy,m=Lt(u,!0);return h===+h&&f===+f&&a===+a?$.createElement("path",k2({},m,{className:Kt("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(f,")"),d:A()})):null};y4.registerSymbol=aQe;function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function T2(){return T2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T2.apply(this,arguments)}function T$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function iQe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T$(Object(r),!0).forEach(function(n){Ay(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lQe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lee(n.key),n)}}function cQe(t,e,r){return e&&lQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uQe(t,e,r){return e=Aj(e),AQe(t,Qee()?Reflect.construct(e,r||[],Aj(t).constructor):e.apply(t,r))}function AQe(t,e){if(e&&(qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dQe(t)}function dQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qee=function(){return!!t})()}function Aj(t){return Aj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Aj(t)}function hQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I2(t,e)}function I2(t,e){return I2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},I2(t,e)}function Ay(t,e,r){return e=Lee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lee(t){var e=fQe(t,"string");return qf(e)=="symbol"?e:e+""}function fQe(t,e){if(qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ra=32,x4=function(t){function e(){return oQe(this,e),uQe(this,e,arguments)}return hQe(e,t),cQe(e,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,a=Ra/2,o=Ra/6,l=Ra/3,c=n.inactive?s:n.color;if(n.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Ra,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Ra,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return $.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ra/8,"h").concat(Ra,"v").concat(Ra*3/4,"h").concat(-Ra,"z"),className:"recharts-legend-icon"});if($.isValidElement(n.legendIcon)){var u=iQe({},n);return delete u.legendIcon,$.cloneElement(n.legendIcon,u)}return $.createElement(y4,{fill:c,cx:a,cy:a,size:Ra,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,a=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,A={x:0,y:0,width:Ra,height:Ra},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(f,m){var p=f.formatter||c,g=Kt(Ay(Ay({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",f.inactive));if(f.type==="none")return null;var y=Nt(f.value)?null:f.value;vl(!Nt(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=f.inactive?u:f.color;return $.createElement("li",T2({className:g,style:d,key:"legend-item-".concat(m)},aj(n.props,f,m)),$.createElement(b2,{width:o,height:o,viewBox:A,style:h},n.renderIcon(f)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},p?p(y,f,m):y))})}},{key:"render",value:function(){var n=this.props,s=n.payload,a=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);Ay(x4,"displayName","Legend");Ay(x4,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var mQe=GC;function pQe(){this.__data__=new mQe,this.size=0}var gQe=pQe;function vQe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var yQe=vQe;function xQe(t){return this.__data__.get(t)}var wQe=xQe;function bQe(t){return this.__data__.has(t)}var jQe=bQe,_Qe=GC,CQe=o4,BQe=l4,EQe=200;function SQe(t,e){var r=this.__data__;if(r instanceof _Qe){var n=r.__data__;if(!CQe||n.length<EQe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new BQe(n)}return r.set(t,e),this.size=r.size,this}var NQe=SQe,kQe=GC,TQe=gQe,IQe=yQe,PQe=wQe,OQe=jQe,FQe=NQe;function Km(t){var e=this.__data__=new kQe(t);this.size=e.size}Km.prototype.clear=TQe;Km.prototype.delete=IQe;Km.prototype.get=PQe;Km.prototype.has=OQe;Km.prototype.set=FQe;var $ee=Km,DQe="__lodash_hash_undefined__";function RQe(t){return this.__data__.set(t,DQe),this}var UQe=RQe;function MQe(t){return this.__data__.has(t)}var QQe=MQe,LQe=l4,$Qe=UQe,HQe=QQe;function dj(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new LQe;++e<r;)this.add(t[e])}dj.prototype.add=dj.prototype.push=$Qe;dj.prototype.has=HQe;var Hee=dj;function VQe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Vee=VQe;function KQe(t,e){return t.has(e)}var Kee=KQe,zQe=Hee,GQe=Vee,WQe=Kee,qQe=1,XQe=2;function JQe(t,e,r,n,s,a){var o=r&qQe,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(t),A=a.get(e);if(u&&A)return u==e&&A==t;var d=-1,h=!0,f=r&XQe?new zQe:void 0;for(a.set(t,e),a.set(e,t);++d<l;){var m=t[d],p=e[d];if(n)var g=o?n(p,m,d,e,t,a):n(m,p,d,t,e,a);if(g!==void 0){if(g)continue;h=!1;break}if(f){if(!GQe(e,function(y,x){if(!WQe(f,x)&&(m===y||s(m,y,r,n,a)))return f.push(x)})){h=!1;break}}else if(!(m===p||s(m,p,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var zee=JQe,YQe=Lo,ZQe=YQe.Uint8Array,eLe=ZQe;function tLe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,s){r[++e]=[s,n]}),r}var rLe=tLe;function nLe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var w4=nLe,I$=Fx,P$=eLe,sLe=i4,aLe=zee,iLe=rLe,oLe=w4,lLe=1,cLe=2,uLe="[object Boolean]",ALe="[object Date]",dLe="[object Error]",hLe="[object Map]",fLe="[object Number]",mLe="[object RegExp]",pLe="[object Set]",gLe="[object String]",vLe="[object Symbol]",yLe="[object ArrayBuffer]",xLe="[object DataView]",O$=I$?I$.prototype:void 0,HS=O$?O$.valueOf:void 0;function wLe(t,e,r,n,s,a,o){switch(r){case xLe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case yLe:return!(t.byteLength!=e.byteLength||!a(new P$(t),new P$(e)));case uLe:case ALe:case fLe:return sLe(+t,+e);case dLe:return t.name==e.name&&t.message==e.message;case mLe:case gLe:return t==e+"";case hLe:var l=iLe;case pLe:var c=n&lLe;if(l||(l=oLe),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;n|=cLe,o.set(t,e);var A=aLe(l(t),l(e),n,s,a,o);return o.delete(t),A;case vLe:if(HS)return HS.call(t)==HS.call(e)}return!1}var bLe=wLe;function jLe(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}var Gee=jLe,_Le=Gee,CLe=ia;function BLe(t,e,r){var n=e(t);return CLe(t)?n:_Le(n,r(t))}var ELe=BLe;function SLe(t,e){for(var r=-1,n=t==null?0:t.length,s=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[s++]=o)}return a}var NLe=SLe;function kLe(){return[]}var TLe=kLe,ILe=NLe,PLe=TLe,OLe=Object.prototype,FLe=OLe.propertyIsEnumerable,F$=Object.getOwnPropertySymbols,DLe=F$?function(t){return t==null?[]:(t=Object(t),ILe(F$(t),function(e){return FLe.call(t,e)}))}:PLe,RLe=DLe;function ULe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var MLe=ULe,QLe=$l,LLe=Hl,$Le="[object Arguments]";function HLe(t){return LLe(t)&&QLe(t)==$Le}var VLe=HLe,D$=VLe,KLe=Hl,Wee=Object.prototype,zLe=Wee.hasOwnProperty,GLe=Wee.propertyIsEnumerable,WLe=D$(function(){return arguments}())?D$:function(t){return KLe(t)&&zLe.call(t,"callee")&&!GLe.call(t,"callee")},b4=WLe,hj={exports:{}};function qLe(){return!1}var XLe=qLe;hj.exports;(function(t,e){var r=Lo,n=XLe,s=e&&!e.nodeType&&e,a=s&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(hj,hj.exports);var qee=hj.exports,JLe=9007199254740991,YLe=/^(?:0|[1-9]\d*)$/;function ZLe(t,e){var r=typeof t;return e=e??JLe,!!e&&(r=="number"||r!="symbol"&&YLe.test(t))&&t>-1&&t%1==0&&t<e}var j4=ZLe,e5e=9007199254740991;function t5e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=e5e}var _4=t5e,r5e=$l,n5e=_4,s5e=Hl,a5e="[object Arguments]",i5e="[object Array]",o5e="[object Boolean]",l5e="[object Date]",c5e="[object Error]",u5e="[object Function]",A5e="[object Map]",d5e="[object Number]",h5e="[object Object]",f5e="[object RegExp]",m5e="[object Set]",p5e="[object String]",g5e="[object WeakMap]",v5e="[object ArrayBuffer]",y5e="[object DataView]",x5e="[object Float32Array]",w5e="[object Float64Array]",b5e="[object Int8Array]",j5e="[object Int16Array]",_5e="[object Int32Array]",C5e="[object Uint8Array]",B5e="[object Uint8ClampedArray]",E5e="[object Uint16Array]",S5e="[object Uint32Array]",kr={};kr[x5e]=kr[w5e]=kr[b5e]=kr[j5e]=kr[_5e]=kr[C5e]=kr[B5e]=kr[E5e]=kr[S5e]=!0;kr[a5e]=kr[i5e]=kr[v5e]=kr[o5e]=kr[y5e]=kr[l5e]=kr[c5e]=kr[u5e]=kr[A5e]=kr[d5e]=kr[h5e]=kr[f5e]=kr[m5e]=kr[p5e]=kr[g5e]=!1;function N5e(t){return s5e(t)&&n5e(t.length)&&!!kr[r5e(t)]}var k5e=N5e;function T5e(t){return function(e){return t(e)}}var Xee=T5e,fj={exports:{}};fj.exports;(function(t,e){var r=nee,n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===n,o=a&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(fj,fj.exports);var I5e=fj.exports,P5e=k5e,O5e=Xee,R$=I5e,U$=R$&&R$.isTypedArray,F5e=U$?O5e(U$):P5e,Jee=F5e,D5e=MLe,R5e=b4,U5e=ia,M5e=qee,Q5e=j4,L5e=Jee,$5e=Object.prototype,H5e=$5e.hasOwnProperty;function V5e(t,e){var r=U5e(t),n=!r&&R5e(t),s=!r&&!n&&M5e(t),a=!r&&!n&&!s&&L5e(t),o=r||n||s||a,l=o?D5e(t.length,String):[],c=l.length;for(var u in t)(e||H5e.call(t,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Q5e(u,c)))&&l.push(u);return l}var K5e=V5e,z5e=Object.prototype;function G5e(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||z5e;return t===r}var W5e=G5e;function q5e(t,e){return function(r){return t(e(r))}}var Yee=q5e,X5e=Yee,J5e=X5e(Object.keys,Object),Y5e=J5e,Z5e=W5e,e$e=Y5e,t$e=Object.prototype,r$e=t$e.hasOwnProperty;function n$e(t){if(!Z5e(t))return e$e(t);var e=[];for(var r in Object(t))r$e.call(t,r)&&r!="constructor"&&e.push(r);return e}var s$e=n$e,a$e=a4,i$e=_4;function o$e(t){return t!=null&&i$e(t.length)&&!a$e(t)}var Mx=o$e,l$e=K5e,c$e=s$e,u$e=Mx;function A$e(t){return u$e(t)?l$e(t):c$e(t)}var uB=A$e,d$e=ELe,h$e=RLe,f$e=uB;function m$e(t){return d$e(t,f$e,h$e)}var p$e=m$e,M$=p$e,g$e=1,v$e=Object.prototype,y$e=v$e.hasOwnProperty;function x$e(t,e,r,n,s,a){var o=r&g$e,l=M$(t),c=l.length,u=M$(e),A=u.length;if(c!=A&&!o)return!1;for(var d=c;d--;){var h=l[d];if(!(o?h in e:y$e.call(e,h)))return!1}var f=a.get(t),m=a.get(e);if(f&&m)return f==e&&m==t;var p=!0;a.set(t,e),a.set(e,t);for(var g=o;++d<c;){h=l[d];var y=t[h],x=e[h];if(n)var b=o?n(x,y,h,e,t,a):n(y,x,h,t,e,a);if(!(b===void 0?y===x||s(y,x,r,n,a):b)){p=!1;break}g||(g=h=="constructor")}if(p&&!g){var j=t.constructor,C=e.constructor;j!=C&&"constructor"in t&&"constructor"in e&&!(typeof j=="function"&&j instanceof j&&typeof C=="function"&&C instanceof C)&&(p=!1)}return a.delete(t),a.delete(e),p}var w$e=x$e,b$e=Nd,j$e=Lo,_$e=b$e(j$e,"DataView"),C$e=_$e,B$e=Nd,E$e=Lo,S$e=B$e(E$e,"Promise"),N$e=S$e,k$e=Nd,T$e=Lo,I$e=k$e(T$e,"Set"),Zee=I$e,P$e=Nd,O$e=Lo,F$e=P$e(O$e,"WeakMap"),D$e=F$e,P2=C$e,O2=o4,F2=N$e,D2=Zee,R2=D$e,ete=$l,zm=aee,Q$="[object Map]",R$e="[object Object]",L$="[object Promise]",$$="[object Set]",H$="[object WeakMap]",V$="[object DataView]",U$e=zm(P2),M$e=zm(O2),Q$e=zm(F2),L$e=zm(D2),$$e=zm(R2),AA=ete;(P2&&AA(new P2(new ArrayBuffer(1)))!=V$||O2&&AA(new O2)!=Q$||F2&&AA(F2.resolve())!=L$||D2&&AA(new D2)!=$$||R2&&AA(new R2)!=H$)&&(AA=function(t){var e=ete(t),r=e==R$e?t.constructor:void 0,n=r?zm(r):"";if(n)switch(n){case U$e:return V$;case M$e:return Q$;case Q$e:return L$;case L$e:return $$;case $$e:return H$}return e});var H$e=AA,VS=$ee,V$e=zee,K$e=bLe,z$e=w$e,K$=H$e,z$=ia,G$=qee,G$e=Jee,W$e=1,W$="[object Arguments]",q$="[object Array]",xw="[object Object]",q$e=Object.prototype,X$=q$e.hasOwnProperty;function X$e(t,e,r,n,s,a){var o=z$(t),l=z$(e),c=o?q$:K$(t),u=l?q$:K$(e);c=c==W$?xw:c,u=u==W$?xw:u;var A=c==xw,d=u==xw,h=c==u;if(h&&G$(t)){if(!G$(e))return!1;o=!0,A=!1}if(h&&!A)return a||(a=new VS),o||G$e(t)?V$e(t,e,r,n,s,a):K$e(t,e,c,r,n,s,a);if(!(r&W$e)){var f=A&&X$.call(t,"__wrapped__"),m=d&&X$.call(e,"__wrapped__");if(f||m){var p=f?t.value():t,g=m?e.value():e;return a||(a=new VS),s(p,g,r,n,a)}}return h?(a||(a=new VS),z$e(t,e,r,n,s,a)):!1}var J$e=X$e,Y$e=J$e,J$=Hl;function tte(t,e,r,n,s){return t===e?!0:t==null||e==null||!J$(t)&&!J$(e)?t!==t&&e!==e:Y$e(t,e,r,n,tte,s)}var C4=tte,Z$e=$ee,e3e=C4,t3e=1,r3e=2;function n3e(t,e,r,n){var s=r.length,a=s,o=!n;if(t==null)return!a;for(t=Object(t);s--;){var l=r[s];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<a;){l=r[s];var c=l[0],u=t[c],A=l[1];if(o&&l[2]){if(u===void 0&&!(c in t))return!1}else{var d=new Z$e;if(n)var h=n(u,A,c,t,e,d);if(!(h===void 0?e3e(A,u,t3e|r3e,n,d):h))return!1}}return!0}var s3e=n3e,a3e=Uu;function i3e(t){return t===t&&!a3e(t)}var rte=i3e,o3e=rte,l3e=uB;function c3e(t){for(var e=l3e(t),r=e.length;r--;){var n=e[r],s=t[n];e[r]=[n,s,o3e(s)]}return e}var u3e=c3e;function A3e(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var nte=A3e,d3e=s3e,h3e=u3e,f3e=nte;function m3e(t){var e=h3e(t);return e.length==1&&e[0][2]?f3e(e[0][0],e[0][1]):function(r){return r===t||d3e(r,t,e)}}var p3e=m3e;function g3e(t,e){return t!=null&&e in Object(t)}var v3e=g3e,y3e=uee,x3e=b4,w3e=ia,b3e=j4,j3e=_4,_3e=qC;function C3e(t,e,r){e=y3e(e,t);for(var n=-1,s=e.length,a=!1;++n<s;){var o=_3e(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=s?a:(s=t==null?0:t.length,!!s&&j3e(s)&&b3e(o,s)&&(w3e(t)||x3e(t)))}var B3e=C3e,E3e=v3e,S3e=B3e;function N3e(t,e){return t!=null&&S3e(t,e,E3e)}var k3e=N3e,T3e=C4,I3e=Aee,P3e=k3e,O3e=s4,F3e=rte,D3e=nte,R3e=qC,U3e=1,M3e=2;function Q3e(t,e){return O3e(t)&&F3e(e)?D3e(R3e(t),e):function(r){var n=I3e(r,t);return n===void 0&&n===e?P3e(r,t):T3e(e,n,U3e|M3e)}}var L3e=Q3e;function $3e(t){return t}var Gm=$3e;function H3e(t){return function(e){return e==null?void 0:e[t]}}var V3e=H3e,K3e=A4;function z3e(t){return function(e){return K3e(e,t)}}var G3e=z3e,W3e=V3e,q3e=G3e,X3e=s4,J3e=qC;function Y3e(t){return X3e(t)?W3e(J3e(t)):q3e(t)}var Z3e=Y3e,eHe=p3e,tHe=L3e,rHe=Gm,nHe=ia,sHe=Z3e;function aHe(t){return typeof t=="function"?t:t==null?rHe:typeof t=="object"?nHe(t)?tHe(t[0],t[1]):eHe(t):sHe(t)}var Mu=aHe;function iHe(t,e,r,n){for(var s=t.length,a=r+(n?1:-1);n?a--:++a<s;)if(e(t[a],a,t))return a;return-1}var ste=iHe;function oHe(t){return t!==t}var lHe=oHe;function cHe(t,e,r){for(var n=r-1,s=t.length;++n<s;)if(t[n]===e)return n;return-1}var uHe=cHe,AHe=ste,dHe=lHe,hHe=uHe;function fHe(t,e,r){return e===e?hHe(t,e,r):AHe(t,dHe,r)}var mHe=fHe,pHe=mHe;function gHe(t,e){var r=t==null?0:t.length;return!!r&&pHe(t,e,0)>-1}var vHe=gHe;function yHe(t,e,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(r(e,t[n]))return!0;return!1}var xHe=yHe;function wHe(){}var bHe=wHe,KS=Zee,jHe=bHe,_He=w4,CHe=1/0,BHe=KS&&1/_He(new KS([,-0]))[1]==CHe?function(t){return new KS(t)}:jHe,EHe=BHe,SHe=Hee,NHe=vHe,kHe=xHe,THe=Kee,IHe=EHe,PHe=w4,OHe=200;function FHe(t,e,r){var n=-1,s=NHe,a=t.length,o=!0,l=[],c=l;if(r)o=!1,s=kHe;else if(a>=OHe){var u=e?null:IHe(t);if(u)return PHe(u);o=!1,s=THe,c=new SHe}else c=e?[]:l;e:for(;++n<a;){var A=t[n],d=e?e(A):A;if(A=r||A!==0?A:0,o&&d===d){for(var h=c.length;h--;)if(c[h]===d)continue e;e&&c.push(d),l.push(A)}else s(c,d,r)||(c!==l&&c.push(d),l.push(A))}return l}var DHe=FHe,RHe=Mu,UHe=DHe;function MHe(t,e){return t&&t.length?UHe(t,RHe(e)):[]}var QHe=MHe;const Y$=Jt(QHe);function ate(t,e,r){return e===!0?Y$(t,r):Nt(e)?Y$(t,e):t}function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}var LHe=["ref"];function Z$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Yo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z$(Object(r),!0).forEach(function(n){AB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $He(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ote(n.key),n)}}function HHe(t,e,r){return e&&e3(t.prototype,e),r&&e3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function VHe(t,e,r){return e=mj(e),KHe(t,ite()?Reflect.construct(e,r||[],mj(t).constructor):e.apply(t,r))}function KHe(t,e){if(e&&(Xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zHe(t)}function zHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ite(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ite=function(){return!!t})()}function mj(t){return mj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mj(t)}function GHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U2(t,e)}function U2(t,e){return U2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},U2(t,e)}function AB(t,e,r){return e=ote(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ote(t){var e=WHe(t,"string");return Xf(e)=="symbol"?e:e+""}function WHe(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qHe(t,e){if(t==null)return{};var r=XHe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function XHe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function JHe(t){return t.value}function YHe(t,e){if($.isValidElement(t))return $.cloneElement(t,e);if(typeof t=="function")return $.createElement(t,e);e.ref;var r=qHe(e,LHe);return $.createElement(x4,r)}var t3=1,Yh=function(t){function e(){var r;$He(this,e);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=VHe(this,e,[].concat(s)),AB(r,"lastBoundingBox",{width:-1,height:-1}),r}return GHe(e,t),HHe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>t3||Math.abs(s.height-this.lastBoundingBox.height)>t3)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Yo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,a=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,A=s.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var f=this.getBBoxSnapshot();d={left:((u||0)-f.width)/2}}else d=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var m=this.getBBoxSnapshot();h={top:((A||0)-m.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Yo(Yo({},d),h)}},{key:"render",value:function(){var n=this,s=this.props,a=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,A=s.payload,d=Yo(Yo({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return $.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(f){n.wrapperNode=f}},YHe(a,Yo(Yo({},this.props),{},{payload:ate(A,u,JHe)})))}}],[{key:"getWithHeight",value:function(n,s){var a=Yo(Yo({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&Fe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(v.PureComponent);AB(Yh,"displayName","Legend");AB(Yh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var r3=Fx,ZHe=b4,e6e=ia,n3=r3?r3.isConcatSpreadable:void 0;function t6e(t){return e6e(t)||ZHe(t)||!!(n3&&t&&t[n3])}var r6e=t6e,n6e=Gee,s6e=r6e;function lte(t,e,r,n,s){var a=-1,o=t.length;for(r||(r=s6e),s||(s=[]);++a<o;){var l=t[a];e>0&&r(l)?e>1?lte(l,e-1,r,n,s):n6e(s,l):n||(s[s.length]=l)}return s}var cte=lte;function a6e(t){return function(e,r,n){for(var s=-1,a=Object(e),o=n(e),l=o.length;l--;){var c=o[t?l:++s];if(r(a[c],c,a)===!1)break}return e}}var i6e=a6e,o6e=i6e,l6e=o6e(),c6e=l6e,u6e=c6e,A6e=uB;function d6e(t,e){return t&&u6e(t,e,A6e)}var ute=d6e,h6e=Mx;function f6e(t,e){return function(r,n){if(r==null)return r;if(!h6e(r))return t(r,n);for(var s=r.length,a=e?s:-1,o=Object(r);(e?a--:++a<s)&&n(o[a],a,o)!==!1;);return r}}var m6e=f6e,p6e=ute,g6e=m6e,v6e=g6e(p6e),B4=v6e,y6e=B4,x6e=Mx;function w6e(t,e){var r=-1,n=x6e(t)?Array(t.length):[];return y6e(t,function(s,a,o){n[++r]=e(s,a,o)}),n}var Ate=w6e;function b6e(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var j6e=b6e,s3=Qm;function _6e(t,e){if(t!==e){var r=t!==void 0,n=t===null,s=t===t,a=s3(t),o=e!==void 0,l=e===null,c=e===e,u=s3(e);if(!l&&!u&&!a&&t>e||a&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!a&&!u&&t<e||u&&r&&s&&!n&&!a||l&&r&&s||!o&&s||!c)return-1}return 0}var C6e=_6e,B6e=C6e;function E6e(t,e,r){for(var n=-1,s=t.criteria,a=e.criteria,o=s.length,l=r.length;++n<o;){var c=B6e(s[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var S6e=E6e,zS=u4,N6e=A4,k6e=Mu,T6e=Ate,I6e=j6e,P6e=Xee,O6e=S6e,F6e=Gm,D6e=ia;function R6e(t,e,r){e.length?e=zS(e,function(a){return D6e(a)?function(o){return N6e(o,a.length===1?a[0]:a)}:a}):e=[F6e];var n=-1;e=zS(e,P6e(k6e));var s=T6e(t,function(a,o,l){var c=zS(e,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return I6e(s,function(a,o){return O6e(a,o,r)})}var U6e=R6e;function M6e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var Q6e=M6e,L6e=Q6e,a3=Math.max;function $6e(t,e,r){return e=a3(e===void 0?t.length-1:e,0),function(){for(var n=arguments,s=-1,a=a3(n.length-e,0),o=Array(a);++s<a;)o[s]=n[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=n[s];return l[e]=r(o),L6e(t,this,l)}}var H6e=$6e;function V6e(t){return function(){return t}}var K6e=V6e,z6e=Nd,G6e=function(){try{var t=z6e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),dte=G6e,W6e=K6e,i3=dte,q6e=Gm,X6e=i3?function(t,e){return i3(t,"toString",{configurable:!0,enumerable:!1,value:W6e(e),writable:!0})}:q6e,J6e=X6e,Y6e=800,Z6e=16,eVe=Date.now;function tVe(t){var e=0,r=0;return function(){var n=eVe(),s=Z6e-(n-r);if(r=n,s>0){if(++e>=Y6e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var rVe=tVe,nVe=J6e,sVe=rVe,aVe=sVe(nVe),iVe=aVe,oVe=Gm,lVe=H6e,cVe=iVe;function uVe(t,e){return cVe(lVe(t,e,oVe),t+"")}var AVe=uVe,dVe=i4,hVe=Mx,fVe=j4,mVe=Uu;function pVe(t,e,r){if(!mVe(r))return!1;var n=typeof e;return(n=="number"?hVe(r)&&fVe(e,r.length):n=="string"&&e in r)?dVe(r[e],t):!1}var dB=pVe,gVe=cte,vVe=U6e,yVe=AVe,o3=dB,xVe=yVe(function(t,e){if(t==null)return[];var r=e.length;return r>1&&o3(t,e[0],e[1])?e=[]:r>2&&o3(e[0],e[1],e[2])&&(e=[e[0]]),vVe(t,gVe(e,1),[])}),wVe=xVe;const E4=Jt(wVe);function dy(t){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}function M2(){return M2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},M2.apply(this,arguments)}function bVe(t,e){return BVe(t)||CVe(t,e)||_Ve(t,e)||jVe()}function jVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ve(t,e){if(t){if(typeof t=="string")return l3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l3(t,e)}}function l3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function CVe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,s=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function BVe(t){if(Array.isArray(t))return t}function c3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function GS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c3(Object(r),!0).forEach(function(n){EVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EVe(t,e,r){return e=SVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SVe(t){var e=NVe(t,"string");return dy(e)=="symbol"?e:e+""}function NVe(t,e){if(dy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kVe(t){return Array.isArray(t)&&pn(t[0])&&pn(t[1])?t.join(" ~ "):t}var TVe=function(e){var r=e.separator,n=r===void 0?" : ":r,s=e.contentStyle,a=s===void 0?{}:s,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,A=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,m=e.labelClassName,p=e.label,g=e.labelFormatter,y=e.accessibilityLayer,x=y===void 0?!1:y,b=function(){if(A&&A.length){var I={padding:0,margin:0},T=(h?E4(A,h):A).map(function(D,M){if(D.type==="none")return null;var H=GS({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},l),U=D.formatter||d||kVe,O=D.value,R=D.name,Q=O,G=R;if(U&&Q!=null&&G!=null){var X=U(O,R,D,M,A);if(Array.isArray(X)){var se=bVe(X,2);Q=se[0],G=se[1]}else Q=X}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:H},pn(G)?$.createElement("span",{className:"recharts-tooltip-item-name"},G):null,pn(G)?$.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,$.createElement("span",{className:"recharts-tooltip-item-value"},Q),$.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:I},T)}return null},j=GS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),C=GS({margin:0},u),E=!Dt(p),_=E?p:"",B=Kt("recharts-default-tooltip",f),S=Kt("recharts-tooltip-label",m);E&&g&&A!==void 0&&A!==null&&(_=g(p,A));var N=x?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",M2({className:B,style:j},N),$.createElement("p",{className:S,style:C},$.isValidElement(_)?_:"".concat(_)),b())};function hy(t){"@babel/helpers - typeof";return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hy(t)}function ww(t,e,r){return e=IVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IVe(t){var e=PVe(t,"string");return hy(e)=="symbol"?e:e+""}function PVe(t,e){if(hy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(hy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hp="recharts-tooltip-wrapper",OVe={visibility:"hidden"};function FVe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Kt(Hp,ww(ww(ww(ww({},"".concat(Hp,"-right"),Fe(r)&&e&&Fe(e.x)&&r>=e.x),"".concat(Hp,"-left"),Fe(r)&&e&&Fe(e.x)&&r<e.x),"".concat(Hp,"-bottom"),Fe(n)&&e&&Fe(e.y)&&n>=e.y),"".concat(Hp,"-top"),Fe(n)&&e&&Fe(e.y)&&n<e.y))}function u3(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,s=t.offsetTopLeft,a=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(a&&Fe(a[n]))return a[n];var A=r[n]-l-s,d=r[n]+s;if(e[n])return o[n]?A:d;if(o[n]){var h=A,f=c[n];return h<f?Math.max(d,c[n]):Math.max(A,c[n])}var m=d+l,p=c[n]+u;return m>p?Math.max(A,c[n]):Math.max(d,c[n])}function DVe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function RVe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,A,d;return o.height>0&&o.width>0&&r?(A=u3({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),d=u3({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=DVe({translateX:A,translateY:d,useTranslate3d:l})):u=OVe,{cssProperties:u,cssClasses:FVe({translateX:A,translateY:d,coordinate:r})}}function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function A3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function d3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A3(Object(r),!0).forEach(function(n){L2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MVe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fte(n.key),n)}}function QVe(t,e,r){return e&&MVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LVe(t,e,r){return e=pj(e),$Ve(t,hte()?Reflect.construct(e,r||[],pj(t).constructor):e.apply(t,r))}function $Ve(t,e){if(e&&(Jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HVe(t)}function HVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hte=function(){return!!t})()}function pj(t){return pj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pj(t)}function VVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q2(t,e)}function Q2(t,e){return Q2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Q2(t,e)}function L2(t,e,r){return e=fte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fte(t){var e=KVe(t,"string");return Jf(e)=="symbol"?e:e+""}function KVe(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var h3=1,zVe=function(t){function e(){var r;UVe(this,e);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=LVe(this,e,[].concat(s)),L2(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),L2(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,A;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(A=r.props.coordinate)===null||A===void 0?void 0:A.y)!==null&&u!==void 0?u:0}})}}),r}return VVe(e,t),QVe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>h3||Math.abs(n.height-this.state.lastBoundingBox.height)>h3)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,A=s.coordinate,d=s.hasPayload,h=s.isAnimationActive,f=s.offset,m=s.position,p=s.reverseDirection,g=s.useTranslate3d,y=s.viewBox,x=s.wrapperStyle,b=RVe({allowEscapeViewBox:o,coordinate:A,offsetTopLeft:f,position:m,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:y}),j=b.cssClasses,C=b.cssProperties,E=d3(d3({transition:h&&a?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},x);return $.createElement("div",{tabIndex:-1,className:j,style:E,ref:function(B){n.wrapperNode=B}},u)}}])}(v.PureComponent),GVe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},yl={isSsr:GVe(),get:function(e){return yl[e]},set:function(e,r){if(typeof e=="string")yl[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(s){yl[s]=e[s]})}}};function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function f3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function m3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f3(Object(r),!0).forEach(function(n){S4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qVe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pte(n.key),n)}}function XVe(t,e,r){return e&&qVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JVe(t,e,r){return e=gj(e),YVe(t,mte()?Reflect.construct(e,r||[],gj(t).constructor):e.apply(t,r))}function YVe(t,e){if(e&&(Yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZVe(t)}function ZVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mte=function(){return!!t})()}function gj(t){return gj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gj(t)}function e8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$2(t,e)}function $2(t,e){return $2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$2(t,e)}function S4(t,e,r){return e=pte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pte(t){var e=t8e(t,"string");return Yf(e)=="symbol"?e:e+""}function t8e(t,e){if(Yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r8e(t){return t.dataKey}function n8e(t,e){return $.isValidElement(t)?$.cloneElement(t,e):typeof t=="function"?$.createElement(t,e):$.createElement(TVe,e)}var xi=function(t){function e(){return WVe(this,e),JVe(this,e,arguments)}return e8e(e,t),XVe(e,[{key:"render",value:function(){var n=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,A=s.coordinate,d=s.filterNull,h=s.isAnimationActive,f=s.offset,m=s.payload,p=s.payloadUniqBy,g=s.position,y=s.reverseDirection,x=s.useTranslate3d,b=s.viewBox,j=s.wrapperStyle,C=m??[];d&&C.length&&(C=ate(m.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),p,r8e));var E=C.length>0;return $.createElement(zVe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:a,coordinate:A,hasPayload:E,offset:f,position:g,reverseDirection:y,useTranslate3d:x,viewBox:b,wrapperStyle:j},n8e(u,m3(m3({},this.props),{},{payload:C})))}}])}(v.PureComponent);S4(xi,"displayName","Tooltip");S4(xi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!yl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var s8e=Lo,a8e=function(){return s8e.Date.now()},i8e=a8e,o8e=/\s/;function l8e(t){for(var e=t.length;e--&&o8e.test(t.charAt(e)););return e}var c8e=l8e,u8e=c8e,A8e=/^\s+/;function d8e(t){return t&&t.slice(0,u8e(t)+1).replace(A8e,"")}var h8e=d8e,f8e=h8e,p3=Uu,m8e=Qm,g3=NaN,p8e=/^[-+]0x[0-9a-f]+$/i,g8e=/^0b[01]+$/i,v8e=/^0o[0-7]+$/i,y8e=parseInt;function x8e(t){if(typeof t=="number")return t;if(m8e(t))return g3;if(p3(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=p3(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=f8e(t);var r=g8e.test(t);return r||v8e.test(t)?y8e(t.slice(2),r?2:8):p8e.test(t)?g3:+t}var gte=x8e,w8e=Uu,WS=i8e,v3=gte,b8e="Expected a function",j8e=Math.max,_8e=Math.min;function C8e(t,e,r){var n,s,a,o,l,c,u=0,A=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(b8e);e=v3(e)||0,w8e(r)&&(A=!!r.leading,d="maxWait"in r,a=d?j8e(v3(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function f(E){var _=n,B=s;return n=s=void 0,u=E,o=t.apply(B,_),o}function m(E){return u=E,l=setTimeout(y,e),A?f(E):o}function p(E){var _=E-c,B=E-u,S=e-_;return d?_8e(S,a-B):S}function g(E){var _=E-c,B=E-u;return c===void 0||_>=e||_<0||d&&B>=a}function y(){var E=WS();if(g(E))return x(E);l=setTimeout(y,p(E))}function x(E){return l=void 0,h&&n?f(E):(n=s=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function j(){return l===void 0?o:x(WS())}function C(){var E=WS(),_=g(E);if(n=arguments,s=this,c=E,_){if(l===void 0)return m(c);if(d)return clearTimeout(l),l=setTimeout(y,e),f(c)}return l===void 0&&(l=setTimeout(y,e)),o}return C.cancel=b,C.flush=j,C}var B8e=C8e,E8e=B8e,S8e=Uu,N8e="Expected a function";function k8e(t,e,r){var n=!0,s=!0;if(typeof t!="function")throw new TypeError(N8e);return S8e(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),E8e(t,e,{leading:n,maxWait:e,trailing:s})}var T8e=k8e;const vte=Jt(T8e);function fy(t){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fy(t)}function y3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function bw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y3(Object(r),!0).forEach(function(n){I8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I8e(t,e,r){return e=P8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P8e(t){var e=O8e(t,"string");return fy(e)=="symbol"?e:e+""}function O8e(t,e){if(fy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(fy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F8e(t,e){return M8e(t)||U8e(t,e)||R8e(t,e)||D8e()}function D8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R8e(t,e){if(t){if(typeof t=="string")return x3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x3(t,e)}}function x3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function U8e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,s=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function M8e(t){if(Array.isArray(t))return t}var Q8e=v.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,s=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,A=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,f=t.children,m=t.debounce,p=m===void 0?0:m,g=t.id,y=t.className,x=t.onResize,b=t.style,j=b===void 0?{}:b,C=v.useRef(null),E=v.useRef();E.current=x,v.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var _=v.useState({containerWidth:s.width,containerHeight:s.height}),B=F8e(_,2),S=B[0],N=B[1],P=v.useCallback(function(T,D){N(function(M){var H=Math.round(T),U=Math.round(D);return M.containerWidth===H&&M.containerHeight===U?M:{containerWidth:H,containerHeight:U}})},[]);v.useEffect(function(){var T=function(R){var Q,G=R[0].contentRect,X=G.width,se=G.height;P(X,se),(Q=E.current)===null||Q===void 0||Q.call(E,X,se)};p>0&&(T=vte(T,p,{trailing:!0,leading:!1}));var D=new ResizeObserver(T),M=C.current.getBoundingClientRect(),H=M.width,U=M.height;return P(H,U),D.observe(C.current),function(){D.disconnect()}},[P,p]);var I=v.useMemo(function(){var T=S.containerWidth,D=S.containerHeight;if(T<0||D<0)return null;vl(SA(o)||SA(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),vl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=SA(o)?T:o,H=SA(c)?D:c;r&&r>0&&(M?H=M/r:H&&(M=H*r),h&&H>h&&(H=h)),vl(M>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,H,o,c,A,d,r);var U=!Array.isArray(f)&&gl(f.type).endsWith("Chart");return $.Children.map(f,function(O){return fee.isElement(O)?v.cloneElement(O,bw({width:M,height:H},U?{style:bw({height:"100%",width:"100%",maxHeight:H,maxWidth:M},O.props.style)}:{})):O})},[r,f,c,h,d,A,S,o]);return $.createElement("div",{id:g?"".concat(g):void 0,className:Kt("recharts-responsive-container",y),style:bw(bw({},j),{},{width:o,height:c,minWidth:A,minHeight:d,maxHeight:h}),ref:C},I)}),yte=function(e){return null};yte.displayName="Cell";function my(t){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(t)}function w3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function H2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w3(Object(r),!0).forEach(function(n){L8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L8e(t,e,r){return e=$8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $8e(t){var e=H8e(t,"string");return my(e)=="symbol"?e:e+""}function H8e(t,e){if(my(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(my(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oh={widthCache:{},cacheCount:0},V8e=2e3,K8e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},b3="recharts_measurement_span";function z8e(t){var e=H2({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Gg=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||yl.isSsr)return{width:0,height:0};var n=z8e(r),s=JSON.stringify({text:e,copyStyle:n});if(oh.widthCache[s])return oh.widthCache[s];try{var a=document.getElementById(b3);a||(a=document.createElement("span"),a.setAttribute("id",b3),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=H2(H2({},K8e),n);Object.assign(a.style,o),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return oh.widthCache[s]=c,++oh.cacheCount>V8e&&(oh.cacheCount=0,oh.widthCache={}),c}catch{return{width:0,height:0}}},G8e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function py(t){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},py(t)}function vj(t,e){return J8e(t)||X8e(t,e)||q8e(t,e)||W8e()}function W8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q8e(t,e){if(t){if(typeof t=="string")return j3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j3(t,e)}}function j3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function X8e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,s=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function J8e(t){if(Array.isArray(t))return t}function Y8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eKe(n.key),n)}}function Z8e(t,e,r){return e&&_3(t.prototype,e),r&&_3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function eKe(t){var e=tKe(t,"string");return py(e)=="symbol"?e:e+""}function tKe(t,e){if(py(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(py(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var C3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,B3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rKe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,nKe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xte={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sKe=Object.keys(xte),Oh="NaN";function aKe(t,e){return t*xte[e]}var jw=function(){function t(e,r){Y8e(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!rKe.test(r)&&(this.num=NaN,this.unit=""),sKe.includes(r)&&(this.num=aKe(e,r),this.unit="px")}return Z8e(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=nKe.exec(r))!==null&&n!==void 0?n:[],a=vj(s,3),o=a[1],l=a[2];return new t(parseFloat(o),l??"")}}])}();function wte(t){if(t.includes(Oh))return Oh;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=C3.exec(e))!==null&&r!==void 0?r:[],s=vj(n,4),a=s[1],o=s[2],l=s[3],c=jw.parse(a??""),u=jw.parse(l??""),A=o==="*"?c.multiply(u):c.divide(u);if(A.isNaN())return Oh;e=e.replace(C3,A.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=B3.exec(e))!==null&&d!==void 0?d:[],f=vj(h,4),m=f[1],p=f[2],g=f[3],y=jw.parse(m??""),x=jw.parse(g??""),b=p==="+"?y.add(x):y.subtract(x);if(b.isNaN())return Oh;e=e.replace(B3,b.toString())}return e}var E3=/\(([^()]*)\)/;function iKe(t){for(var e=t;e.includes("(");){var r=E3.exec(e),n=vj(r,2),s=n[1];e=e.replace(E3,wte(s))}return e}function oKe(t){var e=t.replace(/\s+/g,"");return e=iKe(e),e=wte(e),e}function lKe(t){try{return oKe(t)}catch{return Oh}}function qS(t){var e=lKe(t.slice(5,-1));return e===Oh?"":e}var cKe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],uKe=["dx","dy","angle","className","breakAll"];function V2(){return V2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},V2.apply(this,arguments)}function S3(t,e){if(t==null)return{};var r=AKe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function AKe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function N3(t,e){return mKe(t)||fKe(t,e)||hKe(t,e)||dKe()}function dKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hKe(t,e){if(t){if(typeof t=="string")return k3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k3(t,e)}}function k3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fKe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,s=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function mKe(t){if(Array.isArray(t))return t}var bte=/[ \f\n\r\t\v\u2028\u2029]+/,jte=function(e){var r=e.children,n=e.breakAll,s=e.style;try{var a=[];Dt(r)||(n?a=r.toString().split(""):a=r.toString().split(bte));var o=a.map(function(c){return{word:c,width:Gg(c,s).width}}),l=n?0:Gg("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},pKe=function(e,r,n,s,a){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,A=Fe(o),d=l,h=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(H,U){var O=U.word,R=U.width,Q=H[H.length-1];if(Q&&(s==null||a||Q.width+R+n<Number(s)))Q.words.push(O),Q.width+=R+n;else{var G={words:[O],width:R};H.push(G)}return H},[])},f=h(r),m=function(M){return M.reduce(function(H,U){return H.width>U.width?H:U})};if(!A)return f;for(var p="",g=function(M){var H=d.slice(0,M),U=jte({breakAll:u,style:c,children:H+p}).wordsWithComputedWidth,O=h(U),R=O.length>o||m(O).width>Number(s);return[R,O]},y=0,x=d.length-1,b=0,j;y<=x&&b<=d.length-1;){var C=Math.floor((y+x)/2),E=C-1,_=g(E),B=N3(_,2),S=B[0],N=B[1],P=g(C),I=N3(P,1),T=I[0];if(!S&&!T&&(y=C+1),S&&T&&(x=C-1),!S&&T){j=N;break}b++}return j||f},T3=function(e){var r=Dt(e)?[]:e.toString().split(bte);return[{words:r}]},gKe=function(e){var r=e.width,n=e.scaleToFit,s=e.children,a=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!yl.isSsr){var c,u,A=jte({breakAll:o,children:s,style:a});if(A){var d=A.wordsWithComputedWidth,h=A.spaceWidth;c=d,u=h}else return T3(s);return pKe({breakAll:o,children:s,maxLines:l,style:a},c,u,r,n)}return T3(s)},I3="#808080",yj=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,a=s===void 0?0:s,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,A=e.scaleToFit,d=A===void 0?!1:A,h=e.textAnchor,f=h===void 0?"start":h,m=e.verticalAnchor,p=m===void 0?"end":m,g=e.fill,y=g===void 0?I3:g,x=S3(e,cKe),b=v.useMemo(function(){return gKe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),j=x.dx,C=x.dy,E=x.angle,_=x.className,B=x.breakAll,S=S3(x,uKe);if(!pn(n)||!pn(a))return null;var N=n+(Fe(j)?j:0),P=a+(Fe(C)?C:0),I;switch(p){case"start":I=qS("calc(".concat(u,")"));break;case"middle":I=qS("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:I=qS("calc(".concat(b.length-1," * -").concat(l,")"));break}var T=[];if(d){var D=b[0].width,M=x.width;T.push("scale(".concat((Fe(M)?M/D:1)/D,")"))}return E&&T.push("rotate(".concat(E,", ").concat(N,", ").concat(P,")")),T.length&&(S.transform=T.join(" ")),$.createElement("text",V2({},Lt(S,!0),{x:N,y:P,className:Kt("recharts-text",_),textAnchor:f,fill:y.includes("url")?I3:y}),b.map(function(H,U){var O=H.words.join(B?"":" ");return $.createElement("tspan",{x:N,dy:U===0?I:l,key:"".concat(O,"-").concat(U)},O)}))};function au(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vKe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function N4(t){let e,r,n;t.length!==2?(e=au,r=(l,c)=>au(t(l),c),n=(l,c)=>t(l)-c):(e=t===au||t===vKe?t:yKe,r=t,n=t);function s(l,c,u=0,A=l.length){if(u<A){if(e(c,c)!==0)return A;do{const d=u+A>>>1;r(l[d],c)<0?u=d+1:A=d}while(u<A)}return u}function a(l,c,u=0,A=l.length){if(u<A){if(e(c,c)!==0)return A;do{const d=u+A>>>1;r(l[d],c)<=0?u=d+1:A=d}while(u<A)}return u}function o(l,c,u=0,A=l.length){const d=s(l,c,u,A-1);return d>u&&n(l[d-1],c)>-n(l[d],c)?d-1:d}return{left:s,center:o,right:a}}function yKe(){return 0}function _te(t){return t===null?NaN:+t}function*xKe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const wKe=N4(au),Qx=wKe.right;N4(_te).center;class P3 extends Map{constructor(e,r=_Ke){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,s]of e)this.set(n,s)}get(e){return super.get(O3(this,e))}has(e){return super.has(O3(this,e))}set(e,r){return super.set(bKe(this,e),r)}delete(e){return super.delete(jKe(this,e))}}function O3({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function bKe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function jKe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function _Ke(t){return t!==null&&typeof t=="object"?t.valueOf():t}function CKe(t=au){if(t===au)return Cte;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function Cte(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const BKe=Math.sqrt(50),EKe=Math.sqrt(10),SKe=Math.sqrt(2);function xj(t,e,r){const n=(e-t)/Math.max(0,r),s=Math.floor(Math.log10(n)),a=n/Math.pow(10,s),o=a>=BKe?10:a>=EKe?5:a>=SKe?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?xj(t,e,r*2):[l,c,u]}function K2(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[s,a,o]=n?xj(e,t,r):xj(t,e,r);if(!(a>=s))return[];const l=a-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function z2(t,e,r){return e=+e,t=+t,r=+r,xj(t,e,r)[2]}function G2(t,e,r){e=+e,t=+t,r=+r;const n=e<t,s=n?z2(e,t,r):z2(t,e,r);return(n?-1:1)*(s<0?1/-s:s)}function F3(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function D3(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Bte(t,e,r=0,n=1/0,s){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(s=s===void 0?Cte:CKe(s);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,A=Math.log(c),d=.5*Math.exp(2*A/3),h=.5*Math.sqrt(A*d*(c-d)/c)*(u-c/2<0?-1:1),f=Math.max(r,Math.floor(e-u*d/c+h)),m=Math.min(n,Math.floor(e+(c-u)*d/c+h));Bte(t,e,f,m,s)}const a=t[e];let o=r,l=n;for(Vp(t,r,e),s(t[n],a)>0&&Vp(t,r,n);o<l;){for(Vp(t,o,l),++o,--l;s(t[o],a)<0;)++o;for(;s(t[l],a)>0;)--l}s(t[r],a)===0?Vp(t,r,l):(++l,Vp(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Vp(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function NKe(t,e,r){if(t=Float64Array.from(xKe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return D3(t);if(e>=1)return F3(t);var n,s=(n-1)*e,a=Math.floor(s),o=F3(Bte(t,a).subarray(0,a+1)),l=D3(t.subarray(a+1));return o+(l-o)*(s-a)}}function kKe(t,e,r=_te){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,s=(n-1)*e,a=Math.floor(s),o=+r(t[a],a,t),l=+r(t[a+1],a+1,t);return o+(l-o)*(s-a)}}function TKe(t,e,r){t=+t,e=+e,r=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(s);++n<s;)a[n]=t+n*r;return a}function li(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Vl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const W2=Symbol("implicit");function k4(){var t=new P3,e=[],r=[],n=W2;function s(a){let o=t.get(a);if(o===void 0){if(n!==W2)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return s.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new P3;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return s},s.range=function(a){return arguments.length?(r=Array.from(a),s):r.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return k4(e,r).unknown(n)},li.apply(s,arguments),s}function gy(){var t=k4().unknown(void 0),e=t.domain,r=t.range,n=0,s=1,a,o,l=!1,c=0,u=0,A=.5;delete t.unknown;function d(){var h=e().length,f=s<n,m=f?s:n,p=f?n:s;a=(p-m)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),m+=(p-m-a*(h-c))*A,o=a*(1-c),l&&(m=Math.round(m),o=Math.round(o));var g=TKe(h).map(function(y){return m+a*y});return r(f?g.reverse():g)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,d()):[n,s]},t.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,d()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(l=!!h,d()):l},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),d()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(A=Math.max(0,Math.min(1,h)),d()):A},t.copy=function(){return gy(e(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(A)},li.apply(d(),arguments)}function Ete(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Ete(e())},t}function Wg(){return Ete(gy.apply(null,arguments).paddingInner(1))}function T4(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Ste(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Lx(){}var vy=.7,wj=1/vy,Zh="\\s*([+-]?\\d+)\\s*",yy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Eo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",IKe=/^#([0-9a-f]{3,8})$/,PKe=new RegExp(`^rgb\\(${Zh},${Zh},${Zh}\\)$`),OKe=new RegExp(`^rgb\\(${Eo},${Eo},${Eo}\\)$`),FKe=new RegExp(`^rgba\\(${Zh},${Zh},${Zh},${yy}\\)$`),DKe=new RegExp(`^rgba\\(${Eo},${Eo},${Eo},${yy}\\)$`),RKe=new RegExp(`^hsl\\(${yy},${Eo},${Eo}\\)$`),UKe=new RegExp(`^hsla\\(${yy},${Eo},${Eo},${yy}\\)$`),R3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};T4(Lx,xy,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:U3,formatHex:U3,formatHex8:MKe,formatHsl:QKe,formatRgb:M3,toString:M3});function U3(){return this.rgb().formatHex()}function MKe(){return this.rgb().formatHex8()}function QKe(){return Nte(this).formatHsl()}function M3(){return this.rgb().formatRgb()}function xy(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=IKe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Q3(e):r===3?new Js(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?_w(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?_w(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=PKe.exec(t))?new Js(e[1],e[2],e[3],1):(e=OKe.exec(t))?new Js(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=FKe.exec(t))?_w(e[1],e[2],e[3],e[4]):(e=DKe.exec(t))?_w(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=RKe.exec(t))?H3(e[1],e[2]/100,e[3]/100,1):(e=UKe.exec(t))?H3(e[1],e[2]/100,e[3]/100,e[4]):R3.hasOwnProperty(t)?Q3(R3[t]):t==="transparent"?new Js(NaN,NaN,NaN,0):null}function Q3(t){return new Js(t>>16&255,t>>8&255,t&255,1)}function _w(t,e,r,n){return n<=0&&(t=e=r=NaN),new Js(t,e,r,n)}function LKe(t){return t instanceof Lx||(t=xy(t)),t?(t=t.rgb(),new Js(t.r,t.g,t.b,t.opacity)):new Js}function q2(t,e,r,n){return arguments.length===1?LKe(t):new Js(t,e,r,n??1)}function Js(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}T4(Js,q2,Ste(Lx,{brighter(t){return t=t==null?wj:Math.pow(wj,t),new Js(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?vy:Math.pow(vy,t),new Js(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Js(WA(this.r),WA(this.g),WA(this.b),bj(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:L3,formatHex:L3,formatHex8:$Ke,formatRgb:$3,toString:$3}));function L3(){return`#${NA(this.r)}${NA(this.g)}${NA(this.b)}`}function $Ke(){return`#${NA(this.r)}${NA(this.g)}${NA(this.b)}${NA((isNaN(this.opacity)?1:this.opacity)*255)}`}function $3(){const t=bj(this.opacity);return`${t===1?"rgb(":"rgba("}${WA(this.r)}, ${WA(this.g)}, ${WA(this.b)}${t===1?")":`, ${t})`}`}function bj(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function WA(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function NA(t){return t=WA(t),(t<16?"0":"")+t.toString(16)}function H3(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Si(t,e,r,n)}function Nte(t){if(t instanceof Si)return new Si(t.h,t.s,t.l,t.opacity);if(t instanceof Lx||(t=xy(t)),!t)return new Si;if(t instanceof Si)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,s=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,l=a-s,c=(a+s)/2;return l?(e===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?a+s:2-a-s,o*=60):l=c>0&&c<1?0:o,new Si(o,l,c,t.opacity)}function HKe(t,e,r,n){return arguments.length===1?Nte(t):new Si(t,e,r,n??1)}function Si(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}T4(Si,HKe,Ste(Lx,{brighter(t){return t=t==null?wj:Math.pow(wj,t),new Si(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?vy:Math.pow(vy,t),new Si(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,s=2*r-n;return new Js(XS(t>=240?t-240:t+120,s,n),XS(t,s,n),XS(t<120?t+240:t-120,s,n),this.opacity)},clamp(){return new Si(V3(this.h),Cw(this.s),Cw(this.l),bj(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=bj(this.opacity);return`${t===1?"hsl(":"hsla("}${V3(this.h)}, ${Cw(this.s)*100}%, ${Cw(this.l)*100}%${t===1?")":`, ${t})`}`}}));function V3(t){return t=(t||0)%360,t<0?t+360:t}function Cw(t){return Math.max(0,Math.min(1,t||0))}function XS(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const I4=t=>()=>t;function VKe(t,e){return function(r){return t+r*e}}function KKe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function zKe(t){return(t=+t)==1?kte:function(e,r){return r-e?KKe(e,r,t):I4(isNaN(e)?r:e)}}function kte(t,e){var r=e-t;return r?VKe(t,r):I4(isNaN(t)?e:t)}const K3=function t(e){var r=zKe(e);function n(s,a){var o=r((s=q2(s)).r,(a=q2(a)).r),l=r(s.g,a.g),c=r(s.b,a.b),u=kte(s.opacity,a.opacity);return function(A){return s.r=o(A),s.g=l(A),s.b=c(A),s.opacity=u(A),s+""}}return n.gamma=t,n}(1);function GKe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),s;return function(a){for(s=0;s<r;++s)n[s]=t[s]*(1-a)+e[s]*a;return n}}function WKe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function qKe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,s=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)s[o]=Wm(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(l){for(o=0;o<n;++o)a[o]=s[o](l);return a}}function XKe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function jj(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function JKe(t,e){var r={},n={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?r[s]=Wm(t[s],e[s]):n[s]=e[s];return function(a){for(s in r)n[s]=r[s](a);return n}}var X2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,JS=new RegExp(X2.source,"g");function YKe(t){return function(){return t}}function ZKe(t){return function(e){return t(e)+""}}function e9e(t,e){var r=X2.lastIndex=JS.lastIndex=0,n,s,a,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=X2.exec(t))&&(s=JS.exec(e));)(a=s.index)>r&&(a=e.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:jj(n,s)})),r=JS.lastIndex;return r<e.length&&(a=e.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?ZKe(c[0].x):YKe(e):(e=c.length,function(u){for(var A=0,d;A<e;++A)l[(d=c[A]).i]=d.x(u);return l.join("")})}function Wm(t,e){var r=typeof e,n;return e==null||r==="boolean"?I4(e):(r==="number"?jj:r==="string"?(n=xy(e))?(e=n,K3):e9e:e instanceof xy?K3:e instanceof Date?XKe:WKe(e)?GKe:Array.isArray(e)?qKe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?JKe:jj)(t,e)}function P4(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function t9e(t,e){e===void 0&&(e=t,t=Wm);for(var r=0,n=e.length-1,s=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(s,s=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function r9e(t){return function(){return t}}function _j(t){return+t}var z3=[0,1];function ks(t){return t}function J2(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:r9e(isNaN(e)?NaN:.5)}function n9e(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function s9e(t,e,r){var n=t[0],s=t[1],a=e[0],o=e[1];return s<n?(n=J2(s,n),a=r(o,a)):(n=J2(n,s),a=r(a,o)),function(l){return a(n(l))}}function a9e(t,e,r){var n=Math.min(t.length,e.length)-1,s=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)s[o]=J2(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(l){var c=Qx(t,l,1,n)-1;return a[c](s[c](l))}}function $x(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function hB(){var t=z3,e=z3,r=Wm,n,s,a,o=ks,l,c,u;function A(){var h=Math.min(t.length,e.length);return o!==ks&&(o=n9e(t[0],t[h-1])),l=h>2?a9e:s9e,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?a:(c||(c=l(t.map(n),e,r)))(n(o(h)))}return d.invert=function(h){return o(s((u||(u=l(e,t.map(n),jj)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,_j),A()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),A()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),r=P4,A()},d.clamp=function(h){return arguments.length?(o=h?!0:ks,A()):o!==ks},d.interpolate=function(h){return arguments.length?(r=h,A()):r},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,f){return n=h,s=f,A()}}function O4(){return hB()(ks,ks)}function i9e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Cj(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Zf(t){return t=Cj(Math.abs(t)),t?t[1]:NaN}function o9e(t,e){return function(r,n){for(var s=r.length,a=[],o=0,l=t[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function l9e(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var c9e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wy(t){if(!(e=c9e.exec(t)))throw new Error("invalid format: "+t);var e;return new F4({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}wy.prototype=F4.prototype;function F4(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}F4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function u9e(t){e:for(var e=t.length,r=1,n=-1,s;r<e;++r)switch(t[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(s+1):t}var Tte;function A9e(t,e){var r=Cj(t,e);if(!r)return t+"";var n=r[0],s=r[1],a=s-(Tte=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Cj(t,Math.max(0,e+a-1))[0]}function G3(t,e){var r=Cj(t,e);if(!r)return t+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const W3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:i9e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>G3(t*100,e),r:G3,s:A9e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function q3(t){return t}var X3=Array.prototype.map,J3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function d9e(t){var e=t.grouping===void 0||t.thousands===void 0?q3:o9e(X3.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?q3:l9e(X3.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(d){d=wy(d);var h=d.fill,f=d.align,m=d.sign,p=d.symbol,g=d.zero,y=d.width,x=d.comma,b=d.precision,j=d.trim,C=d.type;C==="n"?(x=!0,C="g"):W3[C]||(b===void 0&&(b=12),j=!0,C="g"),(g||h==="0"&&f==="=")&&(g=!0,h="0",f="=");var E=p==="$"?r:p==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",_=p==="$"?n:/[%p]/.test(C)?o:"",B=W3[C],S=/[defgprs%]/.test(C);b=b===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function N(P){var I=E,T=_,D,M,H;if(C==="c")T=B(P)+T,P="";else{P=+P;var U=P<0||1/P<0;if(P=isNaN(P)?c:B(Math.abs(P),b),j&&(P=u9e(P)),U&&+P==0&&m!=="+"&&(U=!1),I=(U?m==="("?m:l:m==="-"||m==="("?"":m)+I,T=(C==="s"?J3[8+Tte/3]:"")+T+(U&&m==="("?")":""),S){for(D=-1,M=P.length;++D<M;)if(H=P.charCodeAt(D),48>H||H>57){T=(H===46?s+P.slice(D+1):P.slice(D))+T,P=P.slice(0,D);break}}}x&&!g&&(P=e(P,1/0));var O=I.length+P.length+T.length,R=O<y?new Array(y-O+1).join(h):"";switch(x&&g&&(P=e(R+P,R.length?y-T.length:1/0),R=""),f){case"<":P=I+P+T+R;break;case"=":P=I+R+P+T;break;case"^":P=R.slice(0,O=R.length>>1)+I+P+T+R.slice(O);break;default:P=R+I+P+T;break}return a(P)}return N.toString=function(){return d+""},N}function A(d,h){var f=u((d=wy(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(Zf(h)/3)))*3,p=Math.pow(10,-m),g=J3[8+m/3];return function(y){return f(p*y)+g}}return{format:u,formatPrefix:A}}var Bw,D4,Ite;h9e({thousands:",",grouping:[3],currency:["$",""]});function h9e(t){return Bw=d9e(t),D4=Bw.format,Ite=Bw.formatPrefix,Bw}function f9e(t){return Math.max(0,-Zf(Math.abs(t)))}function m9e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zf(e)/3)))*3-Zf(Math.abs(t)))}function p9e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Zf(e)-Zf(t))+1}function Pte(t,e,r,n){var s=G2(t,e,r),a;switch(n=wy(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=m9e(s,o))&&(n.precision=a),Ite(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=p9e(s,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=f9e(s))&&(n.precision=a-(n.type==="%")*2);break}}return D4(n)}function Qu(t){var e=t.domain;return t.ticks=function(r){var n=e();return K2(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var s=e();return Pte(s[0],s[s.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),s=0,a=n.length-1,o=n[s],l=n[a],c,u,A=10;for(l<o&&(u=o,o=l,l=u,u=s,s=a,a=u);A-- >0;){if(u=z2(o,l,r),u===c)return n[s]=o,n[a]=l,e(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function Bj(){var t=O4();return t.copy=function(){return $x(t,Bj())},li.apply(t,arguments),Qu(t)}function Ote(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,_j),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return Ote(t).unknown(e)},t=arguments.length?Array.from(t,_j):[0,1],Qu(r)}function Fte(t,e){t=t.slice();var r=0,n=t.length-1,s=t[r],a=t[n],o;return a<s&&(o=r,r=n,n=o,o=s,s=a,a=o),t[r]=e.floor(s),t[n]=e.ceil(a),t}function Y3(t){return Math.log(t)}function Z3(t){return Math.exp(t)}function g9e(t){return-Math.log(-t)}function v9e(t){return-Math.exp(-t)}function y9e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function x9e(t){return t===10?y9e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function w9e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function eH(t){return(e,r)=>-t(-e,r)}function R4(t){const e=t(Y3,Z3),r=e.domain;let n=10,s,a;function o(){return s=w9e(n),a=x9e(n),r()[0]<0?(s=eH(s),a=eH(a),t(g9e,v9e)):t(Y3,Z3),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let u=c[0],A=c[c.length-1];const d=A<u;d&&([u,A]=[A,u]);let h=s(u),f=s(A),m,p;const g=l==null?10:+l;let y=[];if(!(n%1)&&f-h<g){if(h=Math.floor(h),f=Math.ceil(f),u>0){for(;h<=f;++h)for(m=1;m<n;++m)if(p=h<0?m/a(-h):m*a(h),!(p<u)){if(p>A)break;y.push(p)}}else for(;h<=f;++h)for(m=n-1;m>=1;--m)if(p=h>0?m/a(-h):m*a(h),!(p<u)){if(p>A)break;y.push(p)}y.length*2<g&&(y=K2(u,A,g))}else y=K2(h,f,Math.min(f-h,g)).map(a);return d?y.reverse():y},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=wy(c)).precision==null&&(c.trim=!0),c=D4(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return A=>{let d=A/a(Math.round(s(A)));return d*n<n-.5&&(d*=n),d<=u?c(A):""}},e.nice=()=>r(Fte(r(),{floor:l=>a(Math.floor(s(l))),ceil:l=>a(Math.ceil(s(l)))})),e}function Dte(){const t=R4(hB()).domain([1,10]);return t.copy=()=>$x(t,Dte()).base(t.base()),li.apply(t,arguments),t}function tH(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function rH(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function U4(t){var e=1,r=t(tH(e),rH(e));return r.constant=function(n){return arguments.length?t(tH(e=+n),rH(e)):e},Qu(r)}function Rte(){var t=U4(hB());return t.copy=function(){return $x(t,Rte()).constant(t.constant())},li.apply(t,arguments)}function nH(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function b9e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function j9e(t){return t<0?-t*t:t*t}function M4(t){var e=t(ks,ks),r=1;function n(){return r===1?t(ks,ks):r===.5?t(b9e,j9e):t(nH(r),nH(1/r))}return e.exponent=function(s){return arguments.length?(r=+s,n()):r},Qu(e)}function Q4(){var t=M4(hB());return t.copy=function(){return $x(t,Q4()).exponent(t.exponent())},li.apply(t,arguments),t}function _9e(){return Q4.apply(null,arguments).exponent(.5)}function sH(t){return Math.sign(t)*t*t}function C9e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Ute(){var t=O4(),e=[0,1],r=!1,n;function s(a){var o=C9e(t(a));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(a){return t.invert(sH(a))},s.domain=function(a){return arguments.length?(t.domain(a),s):t.domain()},s.range=function(a){return arguments.length?(t.range((e=Array.from(a,_j)).map(sH)),s):e.slice()},s.rangeRound=function(a){return s.range(a).round(!0)},s.round=function(a){return arguments.length?(r=!!a,s):r},s.clamp=function(a){return arguments.length?(t.clamp(a),s):t.clamp()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return Ute(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},li.apply(s,arguments),Qu(s)}function Mte(){var t=[],e=[],r=[],n;function s(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=kKe(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:e[Qx(r,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(au),s()},a.range=function(o){return arguments.length?(e=Array.from(o),s()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return Mte().domain(t).range(e).unknown(n)},li.apply(a,arguments)}function Qte(){var t=0,e=1,r=1,n=[.5],s=[0,1],a;function o(c){return c!=null&&c<=c?s[Qx(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Qte().domain([t,e]).range(s).unknown(a)},li.apply(Qu(o),arguments)}function Lte(){var t=[.5],e=[0,1],r,n=1;function s(a){return a!=null&&a<=a?e[Qx(t,a,0,n)]:r}return s.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),s):t.slice()},s.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),s):e.slice()},s.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return Lte().domain(t).range(e).unknown(r)},li.apply(s,arguments)}const YS=new Date,ZS=new Date;function yn(t,e,r,n){function s(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(t(a=new Date(+a)),a),s.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),s.round=a=>{const o=s(a),l=s.ceil(a);return a-o<l-a?o:l},s.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),s.range=(a,o,l)=>{const c=[];if(a=s.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),e(a,l),t(a);while(u<a&&a<o);return c},s.filter=a=>yn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),r&&(s.count=(a,o)=>(YS.setTime(+a),ZS.setTime(+o),t(YS),t(ZS),Math.floor(r(YS,ZS))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(n?o=>n(o)%a===0:o=>s.count(0,o)%a===0):s)),s}const Ej=yn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ej.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?yn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Ej);Ej.range;const ll=1e3,qa=ll*60,cl=qa*60,Fl=cl*24,L4=Fl*7,aH=Fl*30,eN=Fl*365,kA=yn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ll)},(t,e)=>(e-t)/ll,t=>t.getUTCSeconds());kA.range;const $4=yn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ll)},(t,e)=>{t.setTime(+t+e*qa)},(t,e)=>(e-t)/qa,t=>t.getMinutes());$4.range;const H4=yn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*qa)},(t,e)=>(e-t)/qa,t=>t.getUTCMinutes());H4.range;const V4=yn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ll-t.getMinutes()*qa)},(t,e)=>{t.setTime(+t+e*cl)},(t,e)=>(e-t)/cl,t=>t.getHours());V4.range;const K4=yn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*cl)},(t,e)=>(e-t)/cl,t=>t.getUTCHours());K4.range;const Hx=yn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*qa)/Fl,t=>t.getDate()-1);Hx.range;const fB=yn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fl,t=>t.getUTCDate()-1);fB.range;const $te=yn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fl,t=>Math.floor(t/Fl));$te.range;function kd(t){return yn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*qa)/L4)}const mB=kd(0),Sj=kd(1),B9e=kd(2),E9e=kd(3),em=kd(4),S9e=kd(5),N9e=kd(6);mB.range;Sj.range;B9e.range;E9e.range;em.range;S9e.range;N9e.range;function Td(t){return yn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/L4)}const pB=Td(0),Nj=Td(1),k9e=Td(2),T9e=Td(3),tm=Td(4),I9e=Td(5),P9e=Td(6);pB.range;Nj.range;k9e.range;T9e.range;tm.range;I9e.range;P9e.range;const z4=yn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());z4.range;const G4=yn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());G4.range;const Dl=yn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Dl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Dl.range;const Rl=yn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Rl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Rl.range;function Hte(t,e,r,n,s,a){const o=[[kA,1,ll],[kA,5,5*ll],[kA,15,15*ll],[kA,30,30*ll],[a,1,qa],[a,5,5*qa],[a,15,15*qa],[a,30,30*qa],[s,1,cl],[s,3,3*cl],[s,6,6*cl],[s,12,12*cl],[n,1,Fl],[n,2,2*Fl],[r,1,L4],[e,1,aH],[e,3,3*aH],[t,1,eN]];function l(u,A,d){const h=A<u;h&&([u,A]=[A,u]);const f=d&&typeof d.range=="function"?d:c(u,A,d),m=f?f.range(u,+A+1):[];return h?m.reverse():m}function c(u,A,d){const h=Math.abs(A-u)/d,f=N4(([,,g])=>g).right(o,h);if(f===o.length)return t.every(G2(u/eN,A/eN,d));if(f===0)return Ej.every(Math.max(G2(u,A,d),1));const[m,p]=o[h/o[f-1][2]<o[f][2]/h?f-1:f];return m.every(p)}return[l,c]}const[O9e,F9e]=Hte(Rl,G4,pB,$te,K4,H4),[D9e,R9e]=Hte(Dl,z4,mB,Hx,V4,$4);function tN(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function rN(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Kp(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function U9e(t){var e=t.dateTime,r=t.date,n=t.time,s=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=zp(s),A=Gp(s),d=zp(a),h=Gp(a),f=zp(o),m=Gp(o),p=zp(l),g=Gp(l),y=zp(c),x=Gp(c),b={a:U,A:O,b:R,B:Q,c:null,d:AH,e:AH,f:o7e,g:g7e,G:y7e,H:s7e,I:a7e,j:i7e,L:Vte,m:l7e,M:c7e,p:G,q:X,Q:fH,s:mH,S:u7e,u:A7e,U:d7e,V:h7e,w:f7e,W:m7e,x:null,X:null,y:p7e,Y:v7e,Z:x7e,"%":hH},j={a:se,A:Z,b:K,B:ne,c:null,d:dH,e:dH,f:_7e,g:O7e,G:D7e,H:w7e,I:b7e,j:j7e,L:zte,m:C7e,M:B7e,p:ue,q:le,Q:fH,s:mH,S:E7e,u:S7e,U:N7e,V:k7e,w:T7e,W:I7e,x:null,X:null,y:P7e,Y:F7e,Z:R7e,"%":hH},C={a:N,A:P,b:I,B:T,c:D,d:cH,e:cH,f:e7e,g:lH,G:oH,H:uH,I:uH,j:X9e,L:Z9e,m:q9e,M:J9e,p:S,q:W9e,Q:r7e,s:n7e,S:Y9e,u:H9e,U:V9e,V:K9e,w:$9e,W:z9e,x:M,X:H,y:lH,Y:oH,Z:G9e,"%":t7e};b.x=E(r,b),b.X=E(n,b),b.c=E(e,b),j.x=E(r,j),j.X=E(n,j),j.c=E(e,j);function E(Ae,me){return function(_e){var W=[],we=-1,Oe=0,qe=Ae.length,Ze,It,z;for(_e instanceof Date||(_e=new Date(+_e));++we<qe;)Ae.charCodeAt(we)===37&&(W.push(Ae.slice(Oe,we)),(It=iH[Ze=Ae.charAt(++we)])!=null?Ze=Ae.charAt(++we):It=Ze==="e"?" ":"0",(z=me[Ze])&&(Ze=z(_e,It)),W.push(Ze),Oe=we+1);return W.push(Ae.slice(Oe,we)),W.join("")}}function _(Ae,me){return function(_e){var W=Kp(1900,void 0,1),we=B(W,Ae,_e+="",0),Oe,qe;if(we!=_e.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(me&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(Oe=rN(Kp(W.y,0,1)),qe=Oe.getUTCDay(),Oe=qe>4||qe===0?Nj.ceil(Oe):Nj(Oe),Oe=fB.offset(Oe,(W.V-1)*7),W.y=Oe.getUTCFullYear(),W.m=Oe.getUTCMonth(),W.d=Oe.getUTCDate()+(W.w+6)%7):(Oe=tN(Kp(W.y,0,1)),qe=Oe.getDay(),Oe=qe>4||qe===0?Sj.ceil(Oe):Sj(Oe),Oe=Hx.offset(Oe,(W.V-1)*7),W.y=Oe.getFullYear(),W.m=Oe.getMonth(),W.d=Oe.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),qe="Z"in W?rN(Kp(W.y,0,1)).getUTCDay():tN(Kp(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(qe+5)%7:W.w+W.U*7-(qe+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,rN(W)):tN(W)}}function B(Ae,me,_e,W){for(var we=0,Oe=me.length,qe=_e.length,Ze,It;we<Oe;){if(W>=qe)return-1;if(Ze=me.charCodeAt(we++),Ze===37){if(Ze=me.charAt(we++),It=C[Ze in iH?me.charAt(we++):Ze],!It||(W=It(Ae,_e,W))<0)return-1}else if(Ze!=_e.charCodeAt(W++))return-1}return W}function S(Ae,me,_e){var W=u.exec(me.slice(_e));return W?(Ae.p=A.get(W[0].toLowerCase()),_e+W[0].length):-1}function N(Ae,me,_e){var W=f.exec(me.slice(_e));return W?(Ae.w=m.get(W[0].toLowerCase()),_e+W[0].length):-1}function P(Ae,me,_e){var W=d.exec(me.slice(_e));return W?(Ae.w=h.get(W[0].toLowerCase()),_e+W[0].length):-1}function I(Ae,me,_e){var W=y.exec(me.slice(_e));return W?(Ae.m=x.get(W[0].toLowerCase()),_e+W[0].length):-1}function T(Ae,me,_e){var W=p.exec(me.slice(_e));return W?(Ae.m=g.get(W[0].toLowerCase()),_e+W[0].length):-1}function D(Ae,me,_e){return B(Ae,e,me,_e)}function M(Ae,me,_e){return B(Ae,r,me,_e)}function H(Ae,me,_e){return B(Ae,n,me,_e)}function U(Ae){return o[Ae.getDay()]}function O(Ae){return a[Ae.getDay()]}function R(Ae){return c[Ae.getMonth()]}function Q(Ae){return l[Ae.getMonth()]}function G(Ae){return s[+(Ae.getHours()>=12)]}function X(Ae){return 1+~~(Ae.getMonth()/3)}function se(Ae){return o[Ae.getUTCDay()]}function Z(Ae){return a[Ae.getUTCDay()]}function K(Ae){return c[Ae.getUTCMonth()]}function ne(Ae){return l[Ae.getUTCMonth()]}function ue(Ae){return s[+(Ae.getUTCHours()>=12)]}function le(Ae){return 1+~~(Ae.getUTCMonth()/3)}return{format:function(Ae){var me=E(Ae+="",b);return me.toString=function(){return Ae},me},parse:function(Ae){var me=_(Ae+="",!1);return me.toString=function(){return Ae},me},utcFormat:function(Ae){var me=E(Ae+="",j);return me.toString=function(){return Ae},me},utcParse:function(Ae){var me=_(Ae+="",!0);return me.toString=function(){return Ae},me}}}var iH={"-":"",_:" ",0:"0"},Nn=/^\s*\d+/,M9e=/^%/,Q9e=/[\\^$*+?|[\]().{}]/g;function Xt(t,e,r){var n=t<0?"-":"",s=(n?-t:t)+"",a=s.length;return n+(a<r?new Array(r-a+1).join(e)+s:s)}function L9e(t){return t.replace(Q9e,"\\$&")}function zp(t){return new RegExp("^(?:"+t.map(L9e).join("|")+")","i")}function Gp(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function $9e(t,e,r){var n=Nn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function H9e(t,e,r){var n=Nn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function V9e(t,e,r){var n=Nn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function K9e(t,e,r){var n=Nn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function z9e(t,e,r){var n=Nn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function oH(t,e,r){var n=Nn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function lH(t,e,r){var n=Nn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function G9e(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function W9e(t,e,r){var n=Nn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function q9e(t,e,r){var n=Nn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function cH(t,e,r){var n=Nn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function X9e(t,e,r){var n=Nn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function uH(t,e,r){var n=Nn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function J9e(t,e,r){var n=Nn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Y9e(t,e,r){var n=Nn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Z9e(t,e,r){var n=Nn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function e7e(t,e,r){var n=Nn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function t7e(t,e,r){var n=M9e.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function r7e(t,e,r){var n=Nn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function n7e(t,e,r){var n=Nn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function AH(t,e){return Xt(t.getDate(),e,2)}function s7e(t,e){return Xt(t.getHours(),e,2)}function a7e(t,e){return Xt(t.getHours()%12||12,e,2)}function i7e(t,e){return Xt(1+Hx.count(Dl(t),t),e,3)}function Vte(t,e){return Xt(t.getMilliseconds(),e,3)}function o7e(t,e){return Vte(t,e)+"000"}function l7e(t,e){return Xt(t.getMonth()+1,e,2)}function c7e(t,e){return Xt(t.getMinutes(),e,2)}function u7e(t,e){return Xt(t.getSeconds(),e,2)}function A7e(t){var e=t.getDay();return e===0?7:e}function d7e(t,e){return Xt(mB.count(Dl(t)-1,t),e,2)}function Kte(t){var e=t.getDay();return e>=4||e===0?em(t):em.ceil(t)}function h7e(t,e){return t=Kte(t),Xt(em.count(Dl(t),t)+(Dl(t).getDay()===4),e,2)}function f7e(t){return t.getDay()}function m7e(t,e){return Xt(Sj.count(Dl(t)-1,t),e,2)}function p7e(t,e){return Xt(t.getFullYear()%100,e,2)}function g7e(t,e){return t=Kte(t),Xt(t.getFullYear()%100,e,2)}function v7e(t,e){return Xt(t.getFullYear()%1e4,e,4)}function y7e(t,e){var r=t.getDay();return t=r>=4||r===0?em(t):em.ceil(t),Xt(t.getFullYear()%1e4,e,4)}function x7e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Xt(e/60|0,"0",2)+Xt(e%60,"0",2)}function dH(t,e){return Xt(t.getUTCDate(),e,2)}function w7e(t,e){return Xt(t.getUTCHours(),e,2)}function b7e(t,e){return Xt(t.getUTCHours()%12||12,e,2)}function j7e(t,e){return Xt(1+fB.count(Rl(t),t),e,3)}function zte(t,e){return Xt(t.getUTCMilliseconds(),e,3)}function _7e(t,e){return zte(t,e)+"000"}function C7e(t,e){return Xt(t.getUTCMonth()+1,e,2)}function B7e(t,e){return Xt(t.getUTCMinutes(),e,2)}function E7e(t,e){return Xt(t.getUTCSeconds(),e,2)}function S7e(t){var e=t.getUTCDay();return e===0?7:e}function N7e(t,e){return Xt(pB.count(Rl(t)-1,t),e,2)}function Gte(t){var e=t.getUTCDay();return e>=4||e===0?tm(t):tm.ceil(t)}function k7e(t,e){return t=Gte(t),Xt(tm.count(Rl(t),t)+(Rl(t).getUTCDay()===4),e,2)}function T7e(t){return t.getUTCDay()}function I7e(t,e){return Xt(Nj.count(Rl(t)-1,t),e,2)}function P7e(t,e){return Xt(t.getUTCFullYear()%100,e,2)}function O7e(t,e){return t=Gte(t),Xt(t.getUTCFullYear()%100,e,2)}function F7e(t,e){return Xt(t.getUTCFullYear()%1e4,e,4)}function D7e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?tm(t):tm.ceil(t),Xt(t.getUTCFullYear()%1e4,e,4)}function R7e(){return"+0000"}function hH(){return"%"}function fH(t){return+t}function mH(t){return Math.floor(+t/1e3)}var lh,Wte,qte;U7e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function U7e(t){return lh=U9e(t),Wte=lh.format,lh.parse,qte=lh.utcFormat,lh.utcParse,lh}function M7e(t){return new Date(t)}function Q7e(t){return t instanceof Date?+t:+new Date(+t)}function W4(t,e,r,n,s,a,o,l,c,u){var A=O4(),d=A.invert,h=A.domain,f=u(".%L"),m=u(":%S"),p=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),x=u("%b %d"),b=u("%B"),j=u("%Y");function C(E){return(c(E)<E?f:l(E)<E?m:o(E)<E?p:a(E)<E?g:n(E)<E?s(E)<E?y:x:r(E)<E?b:j)(E)}return A.invert=function(E){return new Date(d(E))},A.domain=function(E){return arguments.length?h(Array.from(E,Q7e)):h().map(M7e)},A.ticks=function(E){var _=h();return t(_[0],_[_.length-1],E??10)},A.tickFormat=function(E,_){return _==null?C:u(_)},A.nice=function(E){var _=h();return(!E||typeof E.range!="function")&&(E=e(_[0],_[_.length-1],E??10)),E?h(Fte(_,E)):A},A.copy=function(){return $x(A,W4(t,e,r,n,s,a,o,l,c,u))},A}function L7e(){return li.apply(W4(D9e,R9e,Dl,z4,mB,Hx,V4,$4,kA,Wte).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $7e(){return li.apply(W4(O9e,F9e,Rl,G4,pB,fB,K4,H4,kA,qte).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gB(){var t=0,e=1,r,n,s,a,o=ks,l=!1,c;function u(d){return d==null||isNaN(d=+d)?c:o(s===0?.5:(d=(a(d)-r)*s,l?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,r=a(t=+t),n=a(e=+e),s=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(d){return arguments.length?(l=!!d,u):l},u.interpolator=function(d){return arguments.length?(o=d,u):o};function A(d){return function(h){var f,m;return arguments.length?([f,m]=h,o=d(f,m),u):[o(0),o(1)]}}return u.range=A(Wm),u.rangeRound=A(P4),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return a=d,r=d(t),n=d(e),s=r===n?0:1/(n-r),u}}function Lu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Xte(){var t=Qu(gB()(ks));return t.copy=function(){return Lu(t,Xte())},Vl.apply(t,arguments)}function Jte(){var t=R4(gB()).domain([1,10]);return t.copy=function(){return Lu(t,Jte()).base(t.base())},Vl.apply(t,arguments)}function Yte(){var t=U4(gB());return t.copy=function(){return Lu(t,Yte()).constant(t.constant())},Vl.apply(t,arguments)}function q4(){var t=M4(gB());return t.copy=function(){return Lu(t,q4()).exponent(t.exponent())},Vl.apply(t,arguments)}function H7e(){return q4.apply(null,arguments).exponent(.5)}function Zte(){var t=[],e=ks;function r(n){if(n!=null&&!isNaN(n=+n))return e((Qx(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let s of n)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(au),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,s)=>e(s/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,a)=>NKe(t,a/n))},r.copy=function(){return Zte(e).domain(t)},Vl.apply(r,arguments)}function vB(){var t=0,e=.5,r=1,n=1,s,a,o,l,c,u=ks,A,d=!1,h;function f(p){return isNaN(p=+p)?h:(p=.5+((p=+A(p))-a)*(n*p<n*a?l:c),u(d?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e,r]=p,s=A(t=+t),a=A(e=+e),o=A(r=+r),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),n=a<s?-1:1,f):[t,e,r]},f.clamp=function(p){return arguments.length?(d=!!p,f):d},f.interpolator=function(p){return arguments.length?(u=p,f):u};function m(p){return function(g){var y,x,b;return arguments.length?([y,x,b]=g,u=t9e(p,[y,x,b]),f):[u(0),u(.5),u(1)]}}return f.range=m(Wm),f.rangeRound=m(P4),f.unknown=function(p){return arguments.length?(h=p,f):h},function(p){return A=p,s=p(t),a=p(e),o=p(r),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),n=a<s?-1:1,f}}function ere(){var t=Qu(vB()(ks));return t.copy=function(){return Lu(t,ere())},Vl.apply(t,arguments)}function tre(){var t=R4(vB()).domain([.1,1,10]);return t.copy=function(){return Lu(t,tre()).base(t.base())},Vl.apply(t,arguments)}function rre(){var t=U4(vB());return t.copy=function(){return Lu(t,rre()).constant(t.constant())},Vl.apply(t,arguments)}function X4(){var t=M4(vB());return t.copy=function(){return Lu(t,X4()).exponent(t.exponent())},Vl.apply(t,arguments)}function V7e(){return X4.apply(null,arguments).exponent(.5)}const pH=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:gy,scaleDiverging:ere,scaleDivergingLog:tre,scaleDivergingPow:X4,scaleDivergingSqrt:V7e,scaleDivergingSymlog:rre,scaleIdentity:Ote,scaleImplicit:W2,scaleLinear:Bj,scaleLog:Dte,scaleOrdinal:k4,scalePoint:Wg,scalePow:Q4,scaleQuantile:Mte,scaleQuantize:Qte,scaleRadial:Ute,scaleSequential:Xte,scaleSequentialLog:Jte,scaleSequentialPow:q4,scaleSequentialQuantile:Zte,scaleSequentialSqrt:H7e,scaleSequentialSymlog:Yte,scaleSqrt:_9e,scaleSymlog:Rte,scaleThreshold:Lte,scaleTime:L7e,scaleUtc:$7e,tickFormat:Pte},Symbol.toStringTag,{value:"Module"}));var K7e=Qm;function z7e(t,e,r){for(var n=-1,s=t.length;++n<s;){var a=t[n],o=e(a);if(o!=null&&(l===void 0?o===o&&!K7e(o):r(o,l)))var l=o,c=a}return c}var nre=z7e;function G7e(t,e){return t>e}var W7e=G7e,q7e=nre,X7e=W7e,J7e=Gm;function Y7e(t){return t&&t.length?q7e(t,J7e,X7e):void 0}var Z7e=Y7e;const yB=Jt(Z7e);function eze(t,e){return t<e}var tze=eze,rze=nre,nze=tze,sze=Gm;function aze(t){return t&&t.length?rze(t,sze,nze):void 0}var ize=aze;const xB=Jt(ize);var oze=u4,lze=Mu,cze=Ate,uze=ia;function Aze(t,e){var r=uze(t)?oze:cze;return r(t,lze(e))}var dze=Aze,hze=cte,fze=dze;function mze(t,e){return hze(fze(t,e),1)}var pze=mze;const gze=Jt(pze);var vze=C4;function yze(t,e){return vze(t,e)}var xze=yze;const wB=Jt(xze);var qm=1e9,wze={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Y4,Dr=!0,ai="[DecimalError] ",qA=ai+"Invalid argument: ",J4=ai+"Exponent out of range: ",Xm=Math.floor,dA=Math.pow,bze=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wa,jn=1e7,Tr=7,sre=9007199254740991,kj=Xm(sre/Tr),Ge={};Ge.absoluteValue=Ge.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ge.comparedTo=Ge.cmp=function(t){var e,r,n,s,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,s=t.d.length,e=0,r=n<s?n:s;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===s?0:n>s^a.s<0?1:-1};Ge.decimalPlaces=Ge.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Tr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ge.dividedBy=Ge.div=function(t){return xl(this,new this.constructor(t))};Ge.dividedToIntegerBy=Ge.idiv=function(t){var e=this,r=e.constructor;return vr(xl(e,new r(t),0,1),r.precision)};Ge.equals=Ge.eq=function(t){return!this.cmp(t)};Ge.exponent=function(){return ln(this)};Ge.greaterThan=Ge.gt=function(t){return this.cmp(t)>0};Ge.greaterThanOrEqualTo=Ge.gte=function(t){return this.cmp(t)>=0};Ge.isInteger=Ge.isint=function(){return this.e>this.d.length-2};Ge.isNegative=Ge.isneg=function(){return this.s<0};Ge.isPositive=Ge.ispos=function(){return this.s>0};Ge.isZero=function(){return this.s===0};Ge.lessThan=Ge.lt=function(t){return this.cmp(t)<0};Ge.lessThanOrEqualTo=Ge.lte=function(t){return this.cmp(t)<1};Ge.logarithm=Ge.log=function(t){var e,r=this,n=r.constructor,s=n.precision,a=s+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(wa))throw Error(ai+"NaN");if(r.s<1)throw Error(ai+(r.s?"NaN":"-Infinity"));return r.eq(wa)?new n(0):(Dr=!1,e=xl(by(r,a),by(t,a),a),Dr=!0,vr(e,s))};Ge.minus=Ge.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ore(e,t):are(e,(t.s=-t.s,t))};Ge.modulo=Ge.mod=function(t){var e,r=this,n=r.constructor,s=n.precision;if(t=new n(t),!t.s)throw Error(ai+"NaN");return r.s?(Dr=!1,e=xl(r,t,0,1).times(t),Dr=!0,r.minus(e)):vr(new n(r),s)};Ge.naturalExponential=Ge.exp=function(){return ire(this)};Ge.naturalLogarithm=Ge.ln=function(){return by(this)};Ge.negated=Ge.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ge.plus=Ge.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?are(e,t):ore(e,(t.s=-t.s,t))};Ge.precision=Ge.sd=function(t){var e,r,n,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(qA+t);if(e=ln(s)+1,n=s.d.length-1,r=n*Tr+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ge.squareRoot=Ge.sqrt=function(){var t,e,r,n,s,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ai+"NaN")}for(t=ln(l),Dr=!1,s=Math.sqrt(+l),s==0||s==1/0?(e=xo(l.d),(e.length+t)%2==0&&(e+="0"),s=Math.sqrt(e),t=Xm((t+1)/2)-(t<0||t%2),s==1/0?e="5e"+t:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(a=n,n=a.plus(xl(l,a,o+2)).times(.5),xo(a.d).slice(0,o)===(e=xo(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),s==o&&e=="4999"){if(vr(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;o+=4}return Dr=!0,vr(n,r)};Ge.times=Ge.mul=function(t){var e,r,n,s,a,o,l,c,u,A=this,d=A.constructor,h=A.d,f=(t=new d(t)).d;if(!A.s||!t.s)return new d(0);for(t.s*=A.s,r=A.e+t.e,c=h.length,u=f.length,c<u&&(a=h,h=f,f=a,o=c,c=u,u=o),a=[],o=c+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,s=c+n;s>n;)l=a[s]+f[n]*h[s-n-1]+e,a[s--]=l%jn|0,e=l/jn|0;a[s]=(a[s]+e)%jn|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Dr?vr(t,d.precision):t};Ge.toDecimalPlaces=Ge.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Do(t,0,qm),e===void 0?e=n.rounding:Do(e,0,8),vr(r,t+ln(r)+1,e))};Ge.toExponential=function(t,e){var r,n=this,s=n.constructor;return t===void 0?r=xd(n,!0):(Do(t,0,qm),e===void 0?e=s.rounding:Do(e,0,8),n=vr(new s(n),t+1,e),r=xd(n,!0,t+1)),r};Ge.toFixed=function(t,e){var r,n,s=this,a=s.constructor;return t===void 0?xd(s):(Do(t,0,qm),e===void 0?e=a.rounding:Do(e,0,8),n=vr(new a(s),t+ln(s)+1,e),r=xd(n.abs(),!1,t+ln(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Ge.toInteger=Ge.toint=function(){var t=this,e=t.constructor;return vr(new e(t),ln(t)+1,e.rounding)};Ge.toNumber=function(){return+this};Ge.toPower=Ge.pow=function(t){var e,r,n,s,a,o,l=this,c=l.constructor,u=12,A=+(t=new c(t));if(!t.s)return new c(wa);if(l=new c(l),!l.s){if(t.s<1)throw Error(ai+"Infinity");return l}if(l.eq(wa))return l;if(n=c.precision,t.eq(wa))return vr(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=l.s,o){if((r=A<0?-A:A)<=sre){for(s=new c(wa),e=Math.ceil(n/Tr+4),Dr=!1;r%2&&(s=s.times(l),vH(s.d,e)),r=Xm(r/2),r!==0;)l=l.times(l),vH(l.d,e);return Dr=!0,t.s<0?new c(wa).div(s):vr(s,n)}}else if(a<0)throw Error(ai+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Dr=!1,s=t.times(by(l,n+u)),Dr=!0,s=ire(s),s.s=a,s};Ge.toPrecision=function(t,e){var r,n,s=this,a=s.constructor;return t===void 0?(r=ln(s),n=xd(s,r<=a.toExpNeg||r>=a.toExpPos)):(Do(t,1,qm),e===void 0?e=a.rounding:Do(e,0,8),s=vr(new a(s),t,e),r=ln(s),n=xd(s,t<=r||r<=a.toExpNeg,t)),n};Ge.toSignificantDigits=Ge.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Do(t,1,qm),e===void 0?e=n.rounding:Do(e,0,8)),vr(new n(r),t,e)};Ge.toString=Ge.valueOf=Ge.val=Ge.toJSON=Ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ln(t),r=t.constructor;return xd(t,e<=r.toExpNeg||e>=r.toExpPos)};function are(t,e){var r,n,s,a,o,l,c,u,A=t.constructor,d=A.precision;if(!t.s||!e.s)return e.s||(e=new A(t)),Dr?vr(e,d):e;if(c=t.d,u=e.d,o=t.e,s=e.e,c=c.slice(),a=o-s,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(d/Tr),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/jn|0,c[a]%=jn;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=s,Dr?vr(e,d):e}function Do(t,e,r){if(t!==~~t||t<e||t>r)throw Error(qA+t)}function xo(t){var e,r,n,s=t.length-1,a="",o=t[0];if(s>0){for(a+=o,e=1;e<s;e++)n=t[e]+"",r=Tr-n.length,r&&(a+=pc(r)),a+=n;o=t[e],n=o+"",r=Tr-n.length,r&&(a+=pc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var xl=function(){function t(n,s){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*s+o,n[l]=a%jn|0,o=a/jn|0;return o&&n.unshift(o),n}function e(n,s,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,a){for(var o=0;a--;)n[a]-=o,o=n[a]<s[a]?1:0,n[a]=o*jn+n[a]-s[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,a,o){var l,c,u,A,d,h,f,m,p,g,y,x,b,j,C,E,_,B,S=n.constructor,N=n.s==s.s?1:-1,P=n.d,I=s.d;if(!n.s)return new S(n);if(!s.s)throw Error(ai+"Division by zero");for(c=n.e-s.e,_=I.length,C=P.length,f=new S(N),m=f.d=[],u=0;I[u]==(P[u]||0);)++u;if(I[u]>(P[u]||0)&&--c,a==null?x=a=S.precision:o?x=a+(ln(n)-ln(s))+1:x=a,x<0)return new S(0);if(x=x/Tr+2|0,u=0,_==1)for(A=0,I=I[0],x++;(u<C||A)&&x--;u++)b=A*jn+(P[u]||0),m[u]=b/I|0,A=b%I|0;else{for(A=jn/(I[0]+1)|0,A>1&&(I=t(I,A),P=t(P,A),_=I.length,C=P.length),j=_,p=P.slice(0,_),g=p.length;g<_;)p[g++]=0;B=I.slice(),B.unshift(0),E=I[0],I[1]>=jn/2&&++E;do A=0,l=e(I,p,_,g),l<0?(y=p[0],_!=g&&(y=y*jn+(p[1]||0)),A=y/E|0,A>1?(A>=jn&&(A=jn-1),d=t(I,A),h=d.length,g=p.length,l=e(d,p,h,g),l==1&&(A--,r(d,_<h?B:I,h))):(A==0&&(l=A=1),d=I.slice()),h=d.length,h<g&&d.unshift(0),r(p,d,g),l==-1&&(g=p.length,l=e(I,p,_,g),l<1&&(A++,r(p,_<g?B:I,g))),g=p.length):l===0&&(A++,p=[0]),m[u++]=A,l&&p[0]?p[g++]=P[j]||0:(p=[P[j]],g=1);while((j++<C||p[0]!==void 0)&&x--)}return m[0]||m.shift(),f.e=c,vr(f,o?a+ln(f)+1:a)}}();function ire(t,e){var r,n,s,a,o,l,c=0,u=0,A=t.constructor,d=A.precision;if(ln(t)>16)throw Error(J4+ln(t));if(!t.s)return new A(wa);for(e==null?(Dr=!1,l=d):l=e,o=new A(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(dA(2,u))/Math.LN10*2+5|0,l+=n,r=s=a=new A(wa),A.precision=l;;){if(s=vr(s.times(t),l),r=r.times(++c),o=a.plus(xl(s,r,l)),xo(o.d).slice(0,l)===xo(a.d).slice(0,l)){for(;u--;)a=vr(a.times(a),l);return A.precision=d,e==null?(Dr=!0,vr(a,d)):a}a=o}}function ln(t){for(var e=t.e*Tr,r=t.d[0];r>=10;r/=10)e++;return e}function nN(t,e,r){if(e>t.LN10.sd())throw Dr=!0,r&&(t.precision=r),Error(ai+"LN10 precision limit exceeded");return vr(new t(t.LN10),e)}function pc(t){for(var e="";t--;)e+="0";return e}function by(t,e){var r,n,s,a,o,l,c,u,A,d=1,h=10,f=t,m=f.d,p=f.constructor,g=p.precision;if(f.s<1)throw Error(ai+(f.s?"NaN":"-Infinity"));if(f.eq(wa))return new p(0);if(e==null?(Dr=!1,u=g):u=e,f.eq(10))return e==null&&(Dr=!0),nN(p,u);if(u+=h,p.precision=u,r=xo(m),n=r.charAt(0),a=ln(f),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(t),r=xo(f.d),n=r.charAt(0),d++;a=ln(f),n>1?(f=new p("0."+r),a++):f=new p(n+"."+r.slice(1))}else return c=nN(p,u+2,g).times(a+""),f=by(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=g,e==null?(Dr=!0,vr(f,g)):f;for(l=o=f=xl(f.minus(wa),f.plus(wa),u),A=vr(f.times(f),u),s=3;;){if(o=vr(o.times(A),u),c=l.plus(xl(o,new p(s),u)),xo(c.d).slice(0,u)===xo(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(nN(p,u+2,g).times(a+""))),l=xl(l,new p(d),u),p.precision=g,e==null?(Dr=!0,vr(l,g)):l;l=c,s+=2}}function gH(t,e){var r,n,s;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(s=e.length;e.charCodeAt(s-1)===48;)--s;if(e=e.slice(n,s),e){if(s-=n,r=r-n-1,t.e=Xm(r/Tr),t.d=[],n=(r+1)%Tr,r<0&&(n+=Tr),n<s){for(n&&t.d.push(+e.slice(0,n)),s-=Tr;n<s;)t.d.push(+e.slice(n,n+=Tr));e=e.slice(n),n=Tr-e.length}else n-=s;for(;n--;)e+="0";if(t.d.push(+e),Dr&&(t.e>kj||t.e<-kj))throw Error(J4+r)}else t.s=0,t.e=0,t.d=[0];return t}function vr(t,e,r){var n,s,a,o,l,c,u,A,d=t.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=Tr,s=e,u=d[A=0];else{if(A=Math.ceil((n+1)/Tr),a=d.length,A>=a)return t;for(u=a=d[A],o=1;a>=10;a/=10)o++;n%=Tr,s=n-Tr+o}if(r!==void 0&&(a=dA(10,o-s-1),l=u/a%10|0,c=e<0||d[A+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/dA(10,o-s):0:d[A-1])%10&1||r==(t.s<0?8:7))),e<1||!d[0])return c?(a=ln(t),d.length=1,e=e-a-1,d[0]=dA(10,(Tr-e%Tr)%Tr),t.e=Xm(-e/Tr)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(n==0?(d.length=A,a=1,A--):(d.length=A+1,a=dA(10,Tr-n),d[A]=s>0?(u/dA(10,o-s)%dA(10,s)|0)*a:0),c)for(;;)if(A==0){(d[0]+=a)==jn&&(d[0]=1,++t.e);break}else{if(d[A]+=a,d[A]!=jn)break;d[A--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(Dr&&(t.e>kj||t.e<-kj))throw Error(J4+ln(t));return t}function ore(t,e){var r,n,s,a,o,l,c,u,A,d,h=t.constructor,f=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Dr?vr(e,f):e;if(c=t.d,d=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(A=o<0,A?(r=c,o=-o,l=d.length):(r=d,n=u,l=c.length),s=Math.max(Math.ceil(f/Tr),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=d.length,A=s<l,A&&(l=s),s=0;s<l;s++)if(c[s]!=d[s]){A=c[s]<d[s];break}o=0}for(A&&(r=c,c=d,d=r,e.s=-e.s),l=c.length,s=d.length-l;s>0;--s)c[l++]=0;for(s=d.length;s>o;){if(c[--s]<d[s]){for(a=s;a&&c[--a]===0;)c[a]=jn-1;--c[a],c[s]+=jn}c[s]-=d[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Dr?vr(e,f):e):new h(0)}function xd(t,e,r){var n,s=ln(t),a=xo(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+pc(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(s<0?"e":"e+")+s):s<0?(a="0."+pc(-s-1)+a,r&&(n=r-o)>0&&(a+=pc(n))):s>=o?(a+=pc(s+1-o),r&&(n=r-s-1)>0&&(a=a+"."+pc(n))):((n=s+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(a+="."),a+=pc(n))),t.s<0?"-"+a:a}function vH(t,e){if(t.length>e)return t.length=e,!0}function lre(t){var e,r,n;function s(a){var o=this;if(!(o instanceof s))return new s(a);if(o.constructor=s,a instanceof s){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(qA+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return gH(o,a.toString())}else if(typeof a!="string")throw Error(qA+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,bze.test(a))gH(o,a);else throw Error(qA+a)}if(s.prototype=Ge,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=lre,s.config=s.set=jze,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return s.config(t),s}function jze(t){if(!t||typeof t!="object")throw Error(ai+"Object expected");var e,r,n,s=["precision",1,qm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<s.length;e+=3)if((n=t[r=s[e]])!==void 0)if(Xm(n)===n&&n>=s[e+1]&&n<=s[e+2])this[r]=n;else throw Error(qA+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(qA+r+": "+n);return this}var Y4=lre(wze);wa=new Y4(1);const cr=Y4;function _ze(t){return Sze(t)||Eze(t)||Bze(t)||Cze()}function Cze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bze(t,e){if(t){if(typeof t=="string")return Y2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y2(t,e)}}function Eze(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Sze(t){if(Array.isArray(t))return Y2(t)}function Y2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Nze=function(e){return e},cre={"@@functional/placeholder":!0},ure=function(e){return e===cre},yH=function(e){return function r(){return arguments.length===0||arguments.length===1&&ure(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},kze=function t(e,r){return e===1?r:yH(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];var o=s.filter(function(l){return l!==cre}).length;return o>=e?r.apply(void 0,s):t(e-o,yH(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var A=s.map(function(d){return ure(d)?c.shift():d});return r.apply(void 0,_ze(A).concat(c))}))})},bB=function(e){return kze(e.length,e)},Z2=function(e,r){for(var n=[],s=e;s<r;++s)n[s-e]=s;return n},Tze=bB(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Ize=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Nze;var s=r.reverse(),a=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},eI=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Are=function(e){var r=null,n=null;return function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function Pze(t){var e;return t===0?e=1:e=Math.floor(new cr(t).abs().log(10).toNumber())+1,e}function Oze(t,e,r){for(var n=new cr(t),s=0,a=[];n.lt(e)&&s<1e5;)a.push(n.toNumber()),n=n.add(r),s++;return a}var Fze=bB(function(t,e,r){var n=+t,s=+e;return n+r*(s-n)}),Dze=bB(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Rze=bB(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const jB={rangeStep:Oze,getDigitCount:Pze,interpolateNumber:Fze,uninterpolateNumber:Dze,uninterpolateTruncation:Rze};function tI(t){return Qze(t)||Mze(t)||dre(t)||Uze()}function Uze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mze(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Qze(t){if(Array.isArray(t))return rI(t)}function jy(t,e){return Hze(t)||$ze(t,e)||dre(t,e)||Lze()}function Lze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dre(t,e){if(t){if(typeof t=="string")return rI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rI(t,e)}}function rI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $ze(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,s=!1,a=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){s=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw a}}return r}}function Hze(t){if(Array.isArray(t))return t}function hre(t){var e=jy(t,2),r=e[0],n=e[1],s=r,a=n;return r>n&&(s=n,a=r),[s,a]}function fre(t,e,r){if(t.lte(0))return new cr(0);var n=jB.getDigitCount(t.toNumber()),s=new cr(10).pow(n),a=t.div(s),o=n!==1?.05:.1,l=new cr(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return e?c:new cr(Math.ceil(c))}function Vze(t,e,r){var n=1,s=new cr(t);if(!s.isint()&&r){var a=Math.abs(t);a<1?(n=new cr(10).pow(jB.getDigitCount(t)-1),s=new cr(Math.floor(s.div(n).toNumber())).mul(n)):a>1&&(s=new cr(Math.floor(t)))}else t===0?s=new cr(Math.floor((e-1)/2)):r||(s=new cr(Math.floor(t)));var o=Math.floor((e-1)/2),l=Ize(Tze(function(c){return s.add(new cr(c-o).mul(n)).toNumber()}),Z2);return l(0,e)}function mre(t,e,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new cr(0),tickMin:new cr(0),tickMax:new cr(0)};var a=fre(new cr(e).sub(t).div(r-1),n,s),o;t<=0&&e>=0?o=new cr(0):(o=new cr(t).add(e).div(2),o=o.sub(new cr(o).mod(a)));var l=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new cr(e).sub(o).div(a).toNumber()),u=l+c+1;return u>r?mre(t,e,r,n,s+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:a,tickMin:o.sub(new cr(l).mul(a)),tickMax:o.add(new cr(c).mul(a))})}function Kze(t){var e=jy(t,2),r=e[0],n=e[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=hre([r,n]),c=jy(l,2),u=c[0],A=c[1];if(u===-1/0||A===1/0){var d=A===1/0?[u].concat(tI(Z2(0,s-1).map(function(){return 1/0}))):[].concat(tI(Z2(0,s-1).map(function(){return-1/0})),[A]);return r>n?eI(d):d}if(u===A)return Vze(u,s,a);var h=mre(u,A,o,a),f=h.step,m=h.tickMin,p=h.tickMax,g=jB.rangeStep(m,p.add(new cr(.1).mul(f)),f);return r>n?eI(g):g}function zze(t,e){var r=jy(t,2),n=r[0],s=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=hre([n,s]),l=jy(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var A=Math.max(e,2),d=fre(new cr(u).sub(c).div(A-1),a,0),h=[].concat(tI(jB.rangeStep(new cr(c),new cr(u).sub(new cr(.99).mul(d)),d)),[u]);return n>s?eI(h):h}var Gze=Are(Kze),Wze=Are(zze),qze="Invariant failed";function wd(t,e){throw new Error(qze)}var Xze=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}function Tj(){return Tj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tj.apply(this,arguments)}function Jze(t,e){return tGe(t)||eGe(t,e)||Zze(t,e)||Yze()}function Yze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zze(t,e){if(t){if(typeof t=="string")return xH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xH(t,e)}}function xH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eGe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,s=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function tGe(t){if(Array.isArray(t))return t}function rGe(t,e){if(t==null)return{};var r=nGe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nGe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aGe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vre(n.key),n)}}function iGe(t,e,r){return e&&aGe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oGe(t,e,r){return e=Ij(e),lGe(t,pre()?Reflect.construct(e,r||[],Ij(t).constructor):e.apply(t,r))}function lGe(t,e){if(e&&(rm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cGe(t)}function cGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pre=function(){return!!t})()}function Ij(t){return Ij=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ij(t)}function uGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nI(t,e)}function nI(t,e){return nI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},nI(t,e)}function gre(t,e,r){return e=vre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vre(t){var e=AGe(t,"string");return rm(e)=="symbol"?e:e+""}function AGe(t,e){if(rm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vx=function(t){function e(){return sGe(this,e),oGe(this,e,arguments)}return uGe(e,t),iGe(e,[{key:"render",value:function(){var n=this.props,s=n.offset,a=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,A=n.xAxis,d=n.yAxis,h=rGe(n,Xze),f=Lt(h,!1);this.props.direction==="x"&&A.type!=="number"&&wd();var m=c.map(function(p){var g=u(p,l),y=g.x,x=g.y,b=g.value,j=g.errorVal;if(!j)return null;var C=[],E,_;if(Array.isArray(j)){var B=Jze(j,2);E=B[0],_=B[1]}else E=_=j;if(a==="vertical"){var S=A.scale,N=x+s,P=N+o,I=N-o,T=S(b-E),D=S(b+_);C.push({x1:D,y1:P,x2:D,y2:I}),C.push({x1:T,y1:N,x2:D,y2:N}),C.push({x1:T,y1:P,x2:T,y2:I})}else if(a==="horizontal"){var M=d.scale,H=y+s,U=H-o,O=H+o,R=M(b-E),Q=M(b+_);C.push({x1:U,y1:Q,x2:O,y2:Q}),C.push({x1:H,y1:R,x2:H,y2:Q}),C.push({x1:U,y1:R,x2:O,y2:R})}return $.createElement(Zr,Tj({className:"recharts-errorBar",key:"bar-".concat(C.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},f),C.map(function(G){return $.createElement("line",Tj({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return $.createElement(Zr,{className:"recharts-errorBars"},m)}}])}($.Component);gre(Vx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});gre(Vx,"displayName","ErrorBar");function _y(t){"@babel/helpers - typeof";return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_y(t)}function wH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function eA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wH(Object(r),!0).forEach(function(n){dGe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dGe(t,e,r){return e=hGe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hGe(t){var e=fGe(t,"string");return _y(e)=="symbol"?e:e+""}function fGe(t,e){if(_y(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_y(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yre=function(e){var r=e.children,n=e.formattedGraphicalItems,s=e.legendWidth,a=e.legendContent,o=pa(r,Yh);if(!o)return null;var l=Yh.defaultProps,c=l!==void 0?eA(eA({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(A,d){var h=d.item,f=d.props,m=f.sectors||f.data||[];return A.concat(m.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(A){var d=A.item,h=d.type.defaultProps,f=h!==void 0?eA(eA({},h),d.props):{},m=f.dataKey,p=f.name,g=f.legendType,y=f.hide;return{inactive:y,dataKey:m,type:c.iconType||g||"square",color:Z4(d),value:p||m,payload:f}}),eA(eA(eA({},c),Yh.getWithHeight(o,s)),{},{payload:u,item:o})};function Cy(t){"@babel/helpers - typeof";return Cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cy(t)}function bH(t){return vGe(t)||gGe(t)||pGe(t)||mGe()}function mGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pGe(t,e){if(t){if(typeof t=="string")return sI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sI(t,e)}}function gGe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vGe(t){if(Array.isArray(t))return sI(t)}function sI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function zr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jH(Object(r),!0).forEach(function(n){ef(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ef(t,e,r){return e=yGe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yGe(t){var e=xGe(t,"string");return Cy(e)=="symbol"?e:e+""}function xGe(t,e){if(Cy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Cy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Na(t,e,r){return Dt(t)||Dt(e)?r:pn(e)?Za(t,e,r):Nt(e)?e(t):r}function qg(t,e,r,n){var s=gze(t,function(l){return Na(l,e)});if(r==="number"){var a=s.filter(function(l){return Fe(l)||parseFloat(l)});return a.length?[xB(a),yB(a)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!Dt(l)}):s;return o.map(function(l){return pn(l)||l instanceof Date?l:""})}var wGe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var A=u>0?s[u-1].coordinate:s[l-1].coordinate,d=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,f=void 0;if(Ii(d-A)!==Ii(h-d)){var m=[];if(Ii(h-d)===Ii(c[1]-c[0])){f=h;var p=d+c[1]-c[0];m[0]=Math.min(p,(p+A)/2),m[1]=Math.max(p,(p+A)/2)}else{f=A;var g=h+c[1]-c[0];m[0]=Math.min(d,(g+d)/2),m[1]=Math.max(d,(g+d)/2)}var y=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(e>y[0]&&e<=y[1]||e>=m[0]&&e<=m[1]){o=s[u].index;break}}else{var x=Math.min(A,h),b=Math.max(A,h);if(e>(x+d)/2&&e<=(b+d)/2){o=s[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&e<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&e>(n[j].coordinate+n[j-1].coordinate)/2&&e<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&e>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},Z4=function(e){var r,n=e,s=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?zr(zr({},e.type.defaultProps),e.props):e.props,o=a.stroke,l=a.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},bGe=function(e){var r=e.barSize,n=e.totalSize,s=e.stackGroups,a=s===void 0?{}:s;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var A=a[l[c]].stackGroups,d=Object.keys(A),h=0,f=d.length;h<f;h++){var m=A[d[h]],p=m.items,g=m.cateAxisId,y=p.filter(function(_){return gl(_.type).indexOf("Bar")>=0});if(y&&y.length){var x=y[0].type.defaultProps,b=x!==void 0?zr(zr({},x),y[0].props):y[0].props,j=b.barSize,C=b[g];o[C]||(o[C]=[]);var E=Dt(j)?r:j;o[C].push({item:y[0],stackList:y.slice(1),barSize:Dt(E)?void 0:yd(E,n,0)})}}return o},jGe=function(e){var r=e.barGap,n=e.barCategoryGap,s=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=yd(r,s,0,!0),A,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,f=s/c,m=o.reduce(function(j,C){return j+C.barSize||0},0);m+=(c-1)*u,m>=s&&(m-=(c-1)*u,u=0),m>=s&&f>0&&(h=!0,f*=.9,m=c*f);var p=(s-m)/2>>0,g={offset:p-u,size:0};A=o.reduce(function(j,C){var E={item:C.item,position:{offset:g.offset+g.size+u,size:h?f:C.barSize}},_=[].concat(bH(j),[E]);return g=_[_.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(B){_.push({item:B,position:g})}),_},d)}else{var y=yd(n,s,0,!0);s-2*y-(c-1)*u<=0&&(u=0);var x=(s-2*y-(c-1)*u)/c;x>1&&(x>>=0);var b=l===+l?Math.min(x,l):x;A=o.reduce(function(j,C,E){var _=[].concat(bH(j),[{item:C.item,position:{offset:y+(x+u)*E+(x-b)/2,size:b}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(B){_.push({item:B,position:_[_.length-1].position})}),_},d)}return A},_Ge=function(e,r,n,s){var a=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=yre({children:a,legendWidth:c});if(u){var A=s||{},d=A.width,h=A.height,f=u.align,m=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&m==="middle")&&f!=="center"&&Fe(e[f]))return zr(zr({},e),{},ef({},f,e[f]+(d||0)));if((p==="horizontal"||p==="vertical"&&f==="center")&&m!=="middle"&&Fe(e[m]))return zr(zr({},e),{},ef({},m,e[m]+(h||0)))}return e},CGe=function(e,r,n){return Dt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},xre=function(e,r,n,s,a){var o=r.props.children,l=ei(o,Vx).filter(function(u){return CGe(s,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,A){var d=Na(A,n);if(Dt(d))return u;var h=Array.isArray(d)?[xB(d),yB(d)]:[d,d],f=c.reduce(function(m,p){var g=Na(A,p,0),y=h[0]-Math.abs(Array.isArray(g)?g[0]:g),x=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(y,m[0]),Math.max(x,m[1])]},[1/0,-1/0]);return[Math.min(f[0],u[0]),Math.max(f[1],u[1])]},[1/0,-1/0])}return null},BGe=function(e,r,n,s,a){var o=r.map(function(l){return xre(e,l,n,a,s)}).filter(function(l){return!Dt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},wre=function(e,r,n,s,a){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&xre(e,c,u,s)||qg(e,u,n,a)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var A=0,d=u.length;A<d;A++)l[u[A]]||(l[u[A]]=!0,c.push(u[A]));return c},[])},bre=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},jre=function(e,r,n,s){if(s)return e.map(function(c){return c.coordinate});var a,o,l=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||l.push(r),o||l.push(n),l},ul=function(e,r,n){if(!e)return null;var s=e.scale,a=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ii(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var A=(e.ticks||e.niceTicks).map(function(d){var h=a?a.indexOf(d):d;return{coordinate:s(h)+u,value:d,offset:u}});return A.filter(function(d){return!Rx(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:s(d)+u,value:d,index:h,offset:u}}):s.ticks&&!n?s.ticks(e.tickCount).map(function(d){return{coordinate:s(d)+u,value:d,offset:u}}):s.domain().map(function(d,h){return{coordinate:s(d)+u,value:a?a[d]:d,index:h,offset:u}})},sN=new WeakMap,Ew=function(e,r){if(typeof r!="function")return e;sN.has(e)||sN.set(e,new WeakMap);var n=sN.get(e);if(n.has(r))return n.get(r);var s=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},EGe=function(e,r,n){var s=e.scale,a=e.type,o=e.layout,l=e.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:gy(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Bj(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Wg(),realScaleType:"point"}:a==="category"?{scale:gy(),realScaleType:"band"}:{scale:Bj(),realScaleType:"linear"};if(Dx(s)){var c="scale".concat(iB(s));return{scale:(pH[c]||Wg)(),realScaleType:pH[c]?c:"point"}}return Nt(s)?{scale:s}:{scale:Wg(),realScaleType:"point"}},_H=1e-4,SGe=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,s=e.range(),a=Math.min(s[0],s[1])-_H,o=Math.max(s[0],s[1])+_H,l=e(r[0]),c=e(r[n-1]);(l<a||l>o||c<a||c>o)&&e.domain([r[0],r[n-1]])}},NGe=function(e,r){if(!e)return null;for(var n=0,s=e.length;n<s;n++)if(e[n].item===r)return e[n].position;return null},kGe=function(e,r){if(!r||r.length!==2||!Fe(r[0])||!Fe(r[1]))return e;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!Fe(e[0])||e[0]<n)&&(a[0]=n),(!Fe(e[1])||e[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<n&&(a[1]=n),a},TGe=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var a=0,o=0,l=0;l<r;++l){var c=Rx(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=a,e[l][n][1]=a+c,a=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},IGe=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var a=0,o=0;o<r;++o){var l=Rx(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},PGe={sign:TGe,expand:GMe,none:Wf,silhouette:WMe,wiggle:qMe,positive:IGe},OGe=function(e,r,n){var s=r.map(function(l){return l.props.dataKey}),a=PGe[n],o=zMe().keys(s).value(function(l,c){return+Na(l,c,0)}).order(N2).offset(a);return o(e)},FGe=function(e,r,n,s,a,o){if(!e)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(d,h){var f,m=(f=h.type)!==null&&f!==void 0&&f.defaultProps?zr(zr({},h.type.defaultProps),h.props):h.props,p=m.stackId,g=m.hide;if(g)return d;var y=m[n],x=d[y]||{hasStack:!1,stackGroups:{}};if(pn(p)){var b=x.stackGroups[p]||{numericAxisId:n,cateAxisId:s,items:[]};b.items.push(h),x.hasStack=!0,x.stackGroups[p]=b}else x.stackGroups[Ux("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return zr(zr({},d),{},ef({},y,x))},c),A={};return Object.keys(u).reduce(function(d,h){var f=u[h];if(f.hasStack){var m={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(p,g){var y=f.stackGroups[g];return zr(zr({},p),{},ef({},g,{numericAxisId:n,cateAxisId:s,items:y.items,stackedData:OGe(e,y.items,a)}))},m)}return zr(zr({},d),{},ef({},h,f))},A)},DGe=function(e,r){var n=r.realScaleType,s=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var A=Gze(u,a,l);return e.domain([xB(A),yB(A)]),{niceTicks:A}}if(a&&s==="number"){var d=e.domain(),h=Wze(d,a,l);return{niceTicks:h}}return null};function CH(t){var e=t.axis,r=t.ticks,n=t.bandSize,s=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Dt(s[e.dataKey])){var l=nj(r,"value",s[e.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=Na(s,Dt(o)?e.dataKey:o);return Dt(c)?null:e.scale(c)}var BH=function(e){var r=e.axis,n=e.ticks,s=e.offset,a=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=Na(o,r.dataKey,r.domain[l]);return Dt(c)?null:r.scale(c)-a/2+s},RGe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return s<=0&&a>=0?0:a<0?a:s}return n[0]},UGe=function(e,r){var n,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?zr(zr({},e.type.defaultProps),e.props):e.props,a=s.stackId;if(pn(a)){var o=r[a];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},MGe=function(e){return e.reduce(function(r,n){return[xB(n.concat([r[0]]).filter(Fe)),yB(n.concat([r[1]]).filter(Fe))]},[1/0,-1/0])},_re=function(e,r,n){return Object.keys(e).reduce(function(s,a){var o=e[a],l=o.stackedData,c=l.reduce(function(u,A){var d=MGe(A.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},EH=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SH=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aI=function(e,r,n){if(Nt(e))return e(r,n);if(!Array.isArray(e))return r;var s=[];if(Fe(e[0]))s[0]=n?e[0]:Math.min(e[0],r[0]);else if(EH.test(e[0])){var a=+EH.exec(e[0])[1];s[0]=r[0]-a}else Nt(e[0])?s[0]=e[0](r[0]):s[0]=r[0];if(Fe(e[1]))s[1]=n?e[1]:Math.max(e[1],r[1]);else if(SH.test(e[1])){var o=+SH.exec(e[1])[1];s[1]=r[1]+o}else Nt(e[1])?s[1]=e[1](r[1]):s[1]=r[1];return s},Pj=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!n||s>0)return s}if(e&&r&&r.length>=2){for(var a=E4(r,function(d){return d.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],A=a[l-1];o=Math.min((u.coordinate||0)-(A.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},NH=function(e,r,n){return!e||!e.length||wB(e,Za(n,"type.defaultProps.domain"))?r:e},Cre=function(e,r){var n=e.type.defaultProps?zr(zr({},e.type.defaultProps),e.props):e.props,s=n.dataKey,a=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,A=n.hide;return zr(zr({},Lt(e,!1)),{},{dataKey:s,unit:o,formatter:l,name:a||s,color:Z4(e),value:Na(r,s),type:c,payload:r,chartType:u,hide:A})};function By(t){"@babel/helpers - typeof";return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},By(t)}function kH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function TH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kH(Object(r),!0).forEach(function(n){QGe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QGe(t,e,r){return e=LGe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LGe(t){var e=$Ge(t,"string");return By(e)=="symbol"?e:e+""}function $Ge(t,e){if(By(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(By(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oj=Math.PI/180,HGe=function(e){return e*180/Math.PI},Gn=function(e,r,n,s){return{x:e+Math.cos(-Oj*s)*n,y:r+Math.sin(-Oj*s)*n}},VGe=function(e,r){var n=e.x,s=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(s-o,2))},KGe=function(e,r){var n=e.x,s=e.y,a=r.cx,o=r.cy,l=VGe({x:n,y:s},{x:a,y:o});if(l<=0)return{radius:l};var c=(n-a)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:HGe(u),angleInRadian:u}},zGe=function(e){var r=e.startAngle,n=e.endAngle,s=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(s,a);return{startAngle:r-o*360,endAngle:n-o*360}},GGe=function(e,r){var n=r.startAngle,s=r.endAngle,a=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(a,o);return e+l*360},IH=function(e,r){var n=e.x,s=e.y,a=KGe({x:n,y:s},r),o=a.radius,l=a.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var A=zGe(r),d=A.startAngle,h=A.endAngle,f=l,m;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;m=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;m=f>=h&&f<=d}return m?TH(TH({},r),{},{radius:o,angle:GGe(f,r)}):null};function Ey(t){"@babel/helpers - typeof";return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(t)}var WGe=["offset"];function qGe(t){return ZGe(t)||YGe(t)||JGe(t)||XGe()}function XGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JGe(t,e){if(t){if(typeof t=="string")return iI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iI(t,e)}}function YGe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZGe(t){if(Array.isArray(t))return iI(t)}function iI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eWe(t,e){if(t==null)return{};var r=tWe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tWe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function PH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function cn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PH(Object(r),!0).forEach(function(n){rWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rWe(t,e,r){return e=nWe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nWe(t){var e=sWe(t,"string");return Ey(e)=="symbol"?e:e+""}function sWe(t,e){if(Ey(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ey(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sy(){return Sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sy.apply(this,arguments)}var aWe=function(e){var r=e.value,n=e.formatter,s=Dt(e.children)?r:e.children;return Nt(n)?n(s):s},iWe=function(e,r){var n=Ii(r-e),s=Math.min(Math.abs(r-e),360);return n*s},oWe=function(e,r,n){var s=e.position,a=e.viewBox,o=e.offset,l=e.className,c=a,u=c.cx,A=c.cy,d=c.innerRadius,h=c.outerRadius,f=c.startAngle,m=c.endAngle,p=c.clockWise,g=(d+h)/2,y=iWe(f,m),x=y>=0?1:-1,b,j;s==="insideStart"?(b=f+x*o,j=p):s==="insideEnd"?(b=m-x*o,j=!p):s==="end"&&(b=m+x*o,j=p),j=y<=0?j:!j;var C=Gn(u,A,g,b),E=Gn(u,A,g,b+(j?1:-1)*359),_="M".concat(C.x,",").concat(C.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(j?0:1,`,
    `).concat(E.x,",").concat(E.y),B=Dt(e.id)?Ux("recharts-radial-line-"):e.id;return $.createElement("text",Sy({},n,{dominantBaseline:"central",className:Kt("recharts-radial-bar-label",l)}),$.createElement("defs",null,$.createElement("path",{id:B,d:_})),$.createElement("textPath",{xlinkHref:"#".concat(B)},r))},lWe=function(e){var r=e.viewBox,n=e.offset,s=e.position,a=r,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,A=a.startAngle,d=a.endAngle,h=(A+d)/2;if(s==="outside"){var f=Gn(o,l,u+n,h),m=f.x,p=f.y;return{x:m,y:p,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+u)/2,y=Gn(o,l,g,h),x=y.x,b=y.y;return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},cWe=function(e){var r=e.viewBox,n=e.parentViewBox,s=e.offset,a=e.position,o=r,l=o.x,c=o.y,u=o.width,A=o.height,d=A>=0?1:-1,h=d*s,f=d>0?"end":"start",m=d>0?"start":"end",p=u>=0?1:-1,g=p*s,y=p>0?"end":"start",x=p>0?"start":"end";if(a==="top"){var b={x:l+u/2,y:c-d*s,textAnchor:"middle",verticalAnchor:f};return cn(cn({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var j={x:l+u/2,y:c+A+h,textAnchor:"middle",verticalAnchor:m};return cn(cn({},j),n?{height:Math.max(n.y+n.height-(c+A),0),width:u}:{})}if(a==="left"){var C={x:l-g,y:c+A/2,textAnchor:y,verticalAnchor:"middle"};return cn(cn({},C),n?{width:Math.max(C.x-n.x,0),height:A}:{})}if(a==="right"){var E={x:l+u+g,y:c+A/2,textAnchor:x,verticalAnchor:"middle"};return cn(cn({},E),n?{width:Math.max(n.x+n.width-E.x,0),height:A}:{})}var _=n?{width:u,height:A}:{};return a==="insideLeft"?cn({x:l+g,y:c+A/2,textAnchor:x,verticalAnchor:"middle"},_):a==="insideRight"?cn({x:l+u-g,y:c+A/2,textAnchor:y,verticalAnchor:"middle"},_):a==="insideTop"?cn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:m},_):a==="insideBottom"?cn({x:l+u/2,y:c+A-h,textAnchor:"middle",verticalAnchor:f},_):a==="insideTopLeft"?cn({x:l+g,y:c+h,textAnchor:x,verticalAnchor:m},_):a==="insideTopRight"?cn({x:l+u-g,y:c+h,textAnchor:y,verticalAnchor:m},_):a==="insideBottomLeft"?cn({x:l+g,y:c+A-h,textAnchor:x,verticalAnchor:f},_):a==="insideBottomRight"?cn({x:l+u-g,y:c+A-h,textAnchor:y,verticalAnchor:f},_):Lm(a)&&(Fe(a.x)||SA(a.x))&&(Fe(a.y)||SA(a.y))?cn({x:l+yd(a.x,u),y:c+yd(a.y,A),textAnchor:"end",verticalAnchor:"end"},_):cn({x:l+u/2,y:c+A/2,textAnchor:"middle",verticalAnchor:"middle"},_)},uWe=function(e){return"cx"in e&&Fe(e.cx)};function ds(t){var e=t.offset,r=e===void 0?5:e,n=eWe(t,WGe),s=cn({offset:r},n),a=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,A=s.className,d=A===void 0?"":A,h=s.textBreakAll;if(!a||Dt(l)&&Dt(c)&&!v.isValidElement(u)&&!Nt(u))return null;if(v.isValidElement(u))return v.cloneElement(u,s);var f;if(Nt(u)){if(f=v.createElement(u,s),v.isValidElement(f))return f}else f=aWe(s);var m=uWe(a),p=Lt(s,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return oWe(s,f,p);var g=m?lWe(s):cWe(s);return $.createElement(yj,Sy({className:Kt("recharts-label",d)},p,g,{breakAll:h}),f)}ds.displayName="Label";var Bre=function(e){var r=e.cx,n=e.cy,s=e.angle,a=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,A=e.outerRadius,d=e.x,h=e.y,f=e.top,m=e.left,p=e.width,g=e.height,y=e.clockWise,x=e.labelViewBox;if(x)return x;if(Fe(p)&&Fe(g)){if(Fe(d)&&Fe(h))return{x:d,y:h,width:p,height:g};if(Fe(f)&&Fe(m))return{x:f,y:m,width:p,height:g}}return Fe(d)&&Fe(h)?{x:d,y:h,width:0,height:0}:Fe(r)&&Fe(n)?{cx:r,cy:n,startAngle:a||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:A||c||l||0,clockWise:y}:e.viewBox?e.viewBox:{}},AWe=function(e,r){return e?e===!0?$.createElement(ds,{key:"label-implicit",viewBox:r}):pn(e)?$.createElement(ds,{key:"label-implicit",viewBox:r,value:e}):v.isValidElement(e)?e.type===ds?v.cloneElement(e,{key:"label-implicit",viewBox:r}):$.createElement(ds,{key:"label-implicit",content:e,viewBox:r}):Nt(e)?$.createElement(ds,{key:"label-implicit",content:e,viewBox:r}):Lm(e)?$.createElement(ds,Sy({viewBox:r},e,{key:"label-implicit"})):null:null},dWe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,a=Bre(e),o=ei(s,ds).map(function(c,u){return v.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var l=AWe(e.label,r||a);return[l].concat(qGe(o))};ds.parseViewBox=Bre;ds.renderCallByParent=dWe;function hWe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var fWe=hWe;const mWe=Jt(fWe);function Ny(t){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(t)}var pWe=["valueAccessor"],gWe=["data","dataKey","clockWise","id","textBreakAll"];function vWe(t){return bWe(t)||wWe(t)||xWe(t)||yWe()}function yWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xWe(t,e){if(t){if(typeof t=="string")return oI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oI(t,e)}}function wWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bWe(t){if(Array.isArray(t))return oI(t)}function oI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fj(){return Fj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fj.apply(this,arguments)}function OH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function FH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OH(Object(r),!0).forEach(function(n){jWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jWe(t,e,r){return e=_We(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _We(t){var e=CWe(t,"string");return Ny(e)=="symbol"?e:e+""}function CWe(t,e){if(Ny(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ny(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DH(t,e){if(t==null)return{};var r=BWe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function BWe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var EWe=function(e){return Array.isArray(e.value)?mWe(e.value):e.value};function iu(t){var e=t.valueAccessor,r=e===void 0?EWe:e,n=DH(t,pWe),s=n.data,a=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=DH(n,gWe);return!s||!s.length?null:$.createElement(Zr,{className:"recharts-label-list"},s.map(function(A,d){var h=Dt(a)?r(A,d):Na(A&&A.payload,a),f=Dt(l)?{}:{id:"".concat(l,"-").concat(d)};return $.createElement(ds,Fj({},Lt(A,!0),u,f,{parentViewBox:A.parentViewBox,value:h,textBreakAll:c,viewBox:ds.parseViewBox(Dt(o)?A:FH(FH({},A),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}iu.displayName="LabelList";function SWe(t,e){return t?t===!0?$.createElement(iu,{key:"labelList-implicit",data:e}):$.isValidElement(t)||Nt(t)?$.createElement(iu,{key:"labelList-implicit",data:e,content:t}):Lm(t)?$.createElement(iu,Fj({data:e},t,{key:"labelList-implicit"})):null:null}function NWe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,s=ei(n,iu).map(function(o,l){return v.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return s;var a=SWe(t.label,e);return[a].concat(vWe(s))}iu.renderCallByParent=NWe;function ky(t){"@babel/helpers - typeof";return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ky(t)}function lI(){return lI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lI.apply(this,arguments)}function RH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function UH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RH(Object(r),!0).forEach(function(n){kWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kWe(t,e,r){return e=TWe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TWe(t){var e=IWe(t,"string");return ky(e)=="symbol"?e:e+""}function IWe(t,e){if(ky(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ky(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PWe=function(e,r){var n=Ii(r-e),s=Math.min(Math.abs(r-e),359.999);return n*s},Sw=function(e){var r=e.cx,n=e.cy,s=e.radius,a=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,A=c*(l?1:-1)+s,d=Math.asin(c/A)/Oj,h=u?a:a+o*d,f=Gn(r,n,A,h),m=Gn(r,n,s,h),p=u?a-o*d:a,g=Gn(r,n,A*Math.cos(d*Oj),p);return{center:f,circleTangency:m,lineTangency:g,theta:d}},Ere=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,a=e.outerRadius,o=e.startAngle,l=e.endAngle,c=PWe(o,l),u=o+c,A=Gn(r,n,a,o),d=Gn(r,n,a,u),h="M ".concat(A.x,",").concat(A.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(s>0){var f=Gn(r,n,s,o),m=Gn(r,n,s,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},OWe=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,A=e.endAngle,d=Ii(A-u),h=Sw({cx:r,cy:n,radius:a,angle:u,sign:d,cornerRadius:o,cornerIsExternal:c}),f=h.circleTangency,m=h.lineTangency,p=h.theta,g=Sw({cx:r,cy:n,radius:a,angle:A,sign:-d,cornerRadius:o,cornerIsExternal:c}),y=g.circleTangency,x=g.lineTangency,b=g.theta,j=c?Math.abs(u-A):Math.abs(u-A)-p-b;if(j<0)return l?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Ere({cx:r,cy:n,innerRadius:s,outerRadius:a,startAngle:u,endAngle:A});var C="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(j>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(s>0){var E=Sw({cx:r,cy:n,radius:s,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),_=E.circleTangency,B=E.lineTangency,S=E.theta,N=Sw({cx:r,cy:n,radius:s,angle:A,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=N.circleTangency,I=N.lineTangency,T=N.theta,D=c?Math.abs(u-A):Math.abs(u-A)-S-T;if(D<0&&o===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(D>180),",").concat(+(d>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(B.x,",").concat(B.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},FWe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sre=function(e){var r=UH(UH({},FWe),e),n=r.cx,s=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,A=r.startAngle,d=r.endAngle,h=r.className;if(o<a||A===d)return null;var f=Kt("recharts-sector",h),m=o-a,p=yd(l,m,0,!0),g;return p>0&&Math.abs(A-d)<360?g=OWe({cx:n,cy:s,innerRadius:a,outerRadius:o,cornerRadius:Math.min(p,m/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:A,endAngle:d}):g=Ere({cx:n,cy:s,innerRadius:a,outerRadius:o,startAngle:A,endAngle:d}),$.createElement("path",lI({},Lt(r,!0),{className:f,d:g,role:"img"}))};function Ty(t){"@babel/helpers - typeof";return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(t)}function cI(){return cI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cI.apply(this,arguments)}function MH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function QH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MH(Object(r),!0).forEach(function(n){DWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DWe(t,e,r){return e=RWe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RWe(t){var e=UWe(t,"string");return Ty(e)=="symbol"?e:e+""}function UWe(t,e){if(Ty(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LH={curveBasisClosed:FMe,curveBasisOpen:DMe,curveBasis:OMe,curveBumpX:xMe,curveBumpY:wMe,curveLinearClosed:RMe,curveLinear:lB,curveMonotoneX:UMe,curveMonotoneY:MMe,curveNatural:QMe,curveStep:LMe,curveStepAfter:HMe,curveStepBefore:$Me},Nw=function(e){return e.x===+e.x&&e.y===+e.y},Wp=function(e){return e.x},qp=function(e){return e.y},MWe=function(e,r){if(Nt(e))return e;var n="curve".concat(iB(e));return(n==="curveMonotone"||n==="curveBump")&&r?LH["".concat(n).concat(r==="vertical"?"Y":"X")]:LH[n]||lB},QWe=function(e){var r=e.type,n=r===void 0?"linear":r,s=e.points,a=s===void 0?[]:s,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,A=MWe(n,l),d=u?a.filter(function(p){return Nw(p)}):a,h;if(Array.isArray(o)){var f=u?o.filter(function(p){return Nw(p)}):o,m=d.map(function(p,g){return QH(QH({},p),{},{base:f[g]})});return l==="vertical"?h=yw().y(qp).x1(Wp).x0(function(p){return p.base.x}):h=yw().x(Wp).y1(qp).y0(function(p){return p.base.y}),h.defined(Nw).curve(A),h(m)}return l==="vertical"&&Fe(o)?h=yw().y(qp).x1(Wp).x0(o):Fe(o)?h=yw().x(Wp).y1(qp).y0(o):h=See().x(Wp).y(qp),h.defined(Nw).curve(A),h(d)},uI=function(e){var r=e.className,n=e.points,s=e.path,a=e.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?QWe(e):s;return $.createElement("path",cI({},Lt(e,!1),sj(e),{className:Kt("recharts-curve",r),d:o,ref:a}))},LWe=Object.getOwnPropertyNames,$We=Object.getOwnPropertySymbols,HWe=Object.prototype.hasOwnProperty;function $H(t,e){return function(n,s,a){return t(n,s,a)&&e(n,s,a)}}function kw(t){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,s);var a=s.cache,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);var c=t(r,n,s);return a.delete(r),a.delete(n),c}}function HH(t){return LWe(t).concat($We(t))}var Nre=Object.hasOwn||function(t,e){return HWe.call(t,e)};function Jm(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var kre="_owner",VH=Object.getOwnPropertyDescriptor,KH=Object.keys;function VWe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function KWe(t,e){return Jm(t.getTime(),e.getTime())}function zH(t,e,r){if(t.size!==e.size)return!1;for(var n={},s=t.entries(),a=0,o,l;(o=s.next())&&!o.done;){for(var c=e.entries(),u=!1,A=0;(l=c.next())&&!l.done;){var d=o.value,h=d[0],f=d[1],m=l.value,p=m[0],g=m[1];!u&&!n[A]&&(u=r.equals(h,p,a,A,t,e,r)&&r.equals(f,g,h,p,t,e,r))&&(n[A]=!0),A++}if(!u)return!1;a++}return!0}function zWe(t,e,r){var n=KH(t),s=n.length;if(KH(e).length!==s)return!1;for(var a;s-- >0;)if(a=n[s],a===kre&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!Nre(e,a)||!r.equals(t[a],e[a],a,a,t,e,r))return!1;return!0}function Xp(t,e,r){var n=HH(t),s=n.length;if(HH(e).length!==s)return!1;for(var a,o,l;s-- >0;)if(a=n[s],a===kre&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!Nre(e,a)||!r.equals(t[a],e[a],a,a,t,e,r)||(o=VH(t,a),l=VH(e,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function GWe(t,e){return Jm(t.valueOf(),e.valueOf())}function WWe(t,e){return t.source===e.source&&t.flags===e.flags}function GH(t,e,r){if(t.size!==e.size)return!1;for(var n={},s=t.values(),a,o;(a=s.next())&&!a.done;){for(var l=e.values(),c=!1,u=0;(o=l.next())&&!o.done;)!c&&!n[u]&&(c=r.equals(a.value,o.value,a.value,o.value,t,e,r))&&(n[u]=!0),u++;if(!c)return!1}return!0}function qWe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}var XWe="[object Arguments]",JWe="[object Boolean]",YWe="[object Date]",ZWe="[object Map]",eqe="[object Number]",tqe="[object Object]",rqe="[object RegExp]",nqe="[object Set]",sqe="[object String]",aqe=Array.isArray,WH=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,qH=Object.assign,iqe=Object.prototype.toString.call.bind(Object.prototype.toString);function oqe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areMapsEqual,s=t.areObjectsEqual,a=t.arePrimitiveWrappersEqual,o=t.areRegExpsEqual,l=t.areSetsEqual,c=t.areTypedArraysEqual;return function(A,d,h){if(A===d)return!0;if(A==null||d==null||typeof A!="object"||typeof d!="object")return A!==A&&d!==d;var f=A.constructor;if(f!==d.constructor)return!1;if(f===Object)return s(A,d,h);if(aqe(A))return e(A,d,h);if(WH!=null&&WH(A))return c(A,d,h);if(f===Date)return r(A,d,h);if(f===RegExp)return o(A,d,h);if(f===Map)return n(A,d,h);if(f===Set)return l(A,d,h);var m=iqe(A);return m===YWe?r(A,d,h):m===rqe?o(A,d,h):m===ZWe?n(A,d,h):m===nqe?l(A,d,h):m===tqe?typeof A.then!="function"&&typeof d.then!="function"&&s(A,d,h):m===XWe?s(A,d,h):m===JWe||m===eqe||m===sqe?a(A,d,h):!1}}function lqe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,s={areArraysEqual:n?Xp:VWe,areDatesEqual:KWe,areMapsEqual:n?$H(zH,Xp):zH,areObjectsEqual:n?Xp:zWe,arePrimitiveWrappersEqual:GWe,areRegExpsEqual:WWe,areSetsEqual:n?$H(GH,Xp):GH,areTypedArraysEqual:n?Xp:qWe};if(r&&(s=qH({},s,r(s))),e){var a=kw(s.areArraysEqual),o=kw(s.areMapsEqual),l=kw(s.areObjectsEqual),c=kw(s.areSetsEqual);s=qH({},s,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function cqe(t){return function(e,r,n,s,a,o,l){return t(e,r,l)}}function uqe(t){var e=t.circular,r=t.comparator,n=t.createState,s=t.equals,a=t.strict;if(n)return function(c,u){var A=n(),d=A.cache,h=d===void 0?e?new WeakMap:void 0:d,f=A.meta;return r(c,u,{cache:h,equals:s,meta:f,strict:a})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:a})};var o={cache:void 0,equals:s,meta:void 0,strict:a};return function(c,u){return r(c,u,o)}}var Aqe=$u();$u({strict:!0});$u({circular:!0});$u({circular:!0,strict:!0});$u({createInternalComparator:function(){return Jm}});$u({strict:!0,createInternalComparator:function(){return Jm}});$u({circular:!0,createInternalComparator:function(){return Jm}});$u({circular:!0,createInternalComparator:function(){return Jm},strict:!0});function $u(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,s=t.createState,a=t.strict,o=a===void 0?!1:a,l=lqe(t),c=oqe(l),u=n?n(c):cqe(c);return uqe({circular:r,comparator:c,createState:s,equals:u,strict:o})}function dqe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function XH(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(a){r<0&&(r=a),a-r>e?(t(a),r=-1):dqe(s)};requestAnimationFrame(n)}function AI(t){"@babel/helpers - typeof";return AI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AI(t)}function hqe(t){return gqe(t)||pqe(t)||mqe(t)||fqe()}function fqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mqe(t,e){if(t){if(typeof t=="string")return JH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JH(t,e)}}function JH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gqe(t){if(Array.isArray(t))return t}function vqe(){var t={},e=function(){return null},r=!1,n=function s(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=hqe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){XH(s.bind(null,u),c);return}s(c),XH(s.bind(null,u));return}AI(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Iy(t){"@babel/helpers - typeof";return Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iy(t)}function YH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ZH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YH(Object(r),!0).forEach(function(n){Tre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tre(t,e,r){return e=yqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yqe(t){var e=xqe(t,"string");return Iy(e)==="symbol"?e:String(e)}function xqe(t,e){if(Iy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Iy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wqe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,s){return n.filter(function(a){return s.includes(a)})})},bqe=function(e){return e},jqe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Xg=function(e,r){return Object.keys(r).reduce(function(n,s){return ZH(ZH({},n),{},Tre({},s,e(s,r[s])))},{})},e6=function(e,r,n){return e.map(function(s){return"".concat(jqe(s)," ").concat(r,"ms ").concat(n)}).join(",")};function _qe(t,e){return Eqe(t)||Bqe(t,e)||Ire(t,e)||Cqe()}function Cqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bqe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,s=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Eqe(t){if(Array.isArray(t))return t}function Sqe(t){return Tqe(t)||kqe(t)||Ire(t)||Nqe()}function Nqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ire(t,e){if(t){if(typeof t=="string")return dI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dI(t,e)}}function kqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tqe(t){if(Array.isArray(t))return dI(t)}function dI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Dj=1e-4,Pre=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},Ore=function(e,r){return e.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},t6=function(e,r){return function(n){var s=Pre(e,r);return Ore(s,n)}},Iqe=function(e,r){return function(n){var s=Pre(e,r),a=[].concat(Sqe(s.map(function(o,l){return o*l}).slice(1)),[0]);return Ore(a,n)}},r6=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,a=0,o=1,l=1;break;case"ease":s=.25,a=.1,o=.25,l=1;break;case"ease-in":s=.42,a=0,o=1,l=1;break;case"ease-out":s=.42,a=0,o=.58,l=1;break;case"ease-in-out":s=0,a=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),A=_qe(u,4);s=A[0],a=A[1],o=A[2],l=A[3]}}}var d=t6(s,o),h=t6(a,l),f=Iqe(s,o),m=function(y){return y>1?1:y<0?0:y},p=function(y){for(var x=y>1?1:y,b=x,j=0;j<8;++j){var C=d(b)-x,E=f(b);if(Math.abs(C-x)<Dj||E<Dj)return h(b);b=m(b-C/E)}return h(b)};return p.isStepper=!1,p},Pqe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,s=e.damping,a=s===void 0?8:s,o=e.dt,l=o===void 0?17:o,c=function(A,d,h){var f=-(A-d)*n,m=h*a,p=h+(f-m)*l/1e3,g=h*l/1e3+A;return Math.abs(g-d)<Dj&&Math.abs(p)<Dj?[d,0]:[g,p]};return c.isStepper=!0,c.dt=l,c},Oqe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return r6(s);case"spring":return Pqe();default:if(s.split("(")[0]==="cubic-bezier")return r6(s)}return typeof s=="function"?s:null};function Py(t){"@babel/helpers - typeof";return Py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Py(t)}function n6(t){return Rqe(t)||Dqe(t)||Fre(t)||Fqe()}function Fqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rqe(t){if(Array.isArray(t))return fI(t)}function s6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Pn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s6(Object(r),!0).forEach(function(n){hI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hI(t,e,r){return e=Uqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uqe(t){var e=Mqe(t,"string");return Py(e)==="symbol"?e:String(e)}function Mqe(t,e){if(Py(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Py(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qqe(t,e){return Hqe(t)||$qe(t,e)||Fre(t,e)||Lqe()}function Lqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fre(t,e){if(t){if(typeof t=="string")return fI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fI(t,e)}}function fI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $qe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,s=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Hqe(t){if(Array.isArray(t))return t}var Rj=function(e,r,n){return e+(r-e)*n},mI=function(e){var r=e.from,n=e.to;return r!==n},Vqe=function t(e,r,n){var s=Xg(function(a,o){if(mI(o)){var l=e(o.from,o.to,o.velocity),c=Qqe(l,2),u=c[0],A=c[1];return Pn(Pn({},o),{},{from:u,velocity:A})}return o},r);return n<1?Xg(function(a,o){return mI(o)?Pn(Pn({},o),{},{velocity:Rj(o.velocity,s[a].velocity,n),from:Rj(o.from,s[a].from,n)}):o},r):t(e,s,n-1)};const Kqe=function(t,e,r,n,s){var a=wqe(t,e),o=a.reduce(function(g,y){return Pn(Pn({},g),{},hI({},y,[t[y],e[y]]))},{}),l=a.reduce(function(g,y){return Pn(Pn({},g),{},hI({},y,{from:t[y],velocity:0,to:e[y]}))},{}),c=-1,u,A,d=function(){return null},h=function(){return Xg(function(y,x){return x.from},l)},f=function(){return!Object.values(l).filter(mI).length},m=function(y){u||(u=y);var x=y-u,b=x/r.dt;l=Vqe(r,l,b),s(Pn(Pn(Pn({},t),e),h())),u=y,f()||(c=requestAnimationFrame(d))},p=function(y){A||(A=y);var x=(y-A)/n,b=Xg(function(C,E){return Rj.apply(void 0,n6(E).concat([r(x)]))},o);if(s(Pn(Pn(Pn({},t),e),b)),x<1)c=requestAnimationFrame(d);else{var j=Xg(function(C,E){return Rj.apply(void 0,n6(E).concat([r(1)]))},o);s(Pn(Pn(Pn({},t),e),j))}};return d=r.isStepper?m:p,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}var zqe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Gqe(t,e){if(t==null)return{};var r=Wqe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wqe(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function aN(t){return Yqe(t)||Jqe(t)||Xqe(t)||qqe()}function qqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xqe(t,e){if(t){if(typeof t=="string")return pI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pI(t,e)}}function Jqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yqe(t){if(Array.isArray(t))return pI(t)}function pI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function di(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a6(Object(r),!0).forEach(function(n){gg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gg(t,e,r){return e=Dre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eXe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dre(n.key),n)}}function tXe(t,e,r){return e&&eXe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dre(t){var e=rXe(t,"string");return nm(e)==="symbol"?e:String(e)}function rXe(t,e){if(nm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(nm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gI(t,e)}function gI(t,e){return gI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},gI(t,e)}function sXe(t){var e=aXe();return function(){var n=Uj(t),s;if(e){var a=Uj(this).constructor;s=Reflect.construct(n,arguments,a)}else s=n.apply(this,arguments);return vI(this,s)}}function vI(t,e){if(e&&(nm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yI(t)}function yI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aXe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Uj(t){return Uj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uj(t)}var Ul=function(t){nXe(r,t);var e=sXe(r);function r(n,s){var a;Zqe(this,r),a=e.call(this,n,s);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,A=o.to,d=o.steps,h=o.children,f=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(yI(a)),a.changeStyle=a.changeStyle.bind(yI(a)),!l||f<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:A}),vI(a);if(d&&d.length)a.state={style:d[0].style};else if(u){if(typeof h=="function")return a.state={style:u},vI(a);a.state={style:c?gg({},c,u):u}}else a.state={style:{}};return a}return tXe(r,[{key:"componentDidMount",value:function(){var s=this.props,a=s.isActive,o=s.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,A=a.to,d=a.from,h=this.state.style;if(l){if(!o){var f={style:c?gg({},c,A):A};this.state&&h&&(c&&h[c]!==A||!c&&h!==A)&&this.setState(f);return}if(!(Aqe(s.to,A)&&s.canBegin&&s.isActive)){var m=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=m||u?d:s.to;if(this.state&&h){var g={style:c?gg({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(g)}this.runAnimation(di(di({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var a=this,o=s.from,l=s.to,c=s.duration,u=s.easing,A=s.begin,d=s.onAnimationEnd,h=s.onAnimationStart,f=Kqe(o,l,Oqe(u),c,this.changeStyle),m=function(){a.stopJSAnimation=f()};this.manager.start([h,A,m,c,d])}},{key:"runStepAnimation",value:function(s){var a=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],A=u.style,d=u.duration,h=d===void 0?0:d,f=function(p,g,y){if(y===0)return p;var x=g.duration,b=g.easing,j=b===void 0?"ease":b,C=g.style,E=g.properties,_=g.onAnimationEnd,B=y>0?o[y-1]:g,S=E||Object.keys(C);if(typeof j=="function"||j==="spring")return[].concat(aN(p),[a.runJSAnimation.bind(a,{from:B.style,to:C,duration:x,easing:j}),x]);var N=e6(S,x,j),P=di(di(di({},B.style),C),{},{transition:N});return[].concat(aN(p),[P,x,_]).filter(bqe)};return this.manager.start([c].concat(aN(o.reduce(f,[A,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=vqe());var a=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,A=s.onAnimationStart,d=s.onAnimationEnd,h=s.steps,f=s.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof f=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var p=l?gg({},l,c):c,g=e6(Object.keys(p),o,u);m.start([A,a,di(di({},p),{},{transition:g}),o,d])}},{key:"render",value:function(){var s=this.props,a=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=Gqe(s,zqe),u=v.Children.count(a),A=this.state.style;if(typeof a=="function")return a(A);if(!l||u===0||o<=0)return a;var d=function(f){var m=f.props,p=m.style,g=p===void 0?{}:p,y=m.className,x=v.cloneElement(f,di(di({},c),{},{style:di(di({},g),A),className:y}));return x};return u===1?d(v.Children.only(a)):$.createElement("div",null,v.Children.map(a,function(h){return d(h)}))}}]),r}(v.PureComponent);Ul.displayName="Animate";Ul.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ul.propTypes={from:We.oneOfType([We.object,We.string]),to:We.oneOfType([We.object,We.string]),attributeName:We.string,duration:We.number,begin:We.number,easing:We.oneOfType([We.string,We.func]),steps:We.arrayOf(We.shape({duration:We.number.isRequired,style:We.object.isRequired,easing:We.oneOfType([We.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),We.func]),properties:We.arrayOf("string"),onAnimationEnd:We.func})),children:We.oneOfType([We.node,We.func]),isActive:We.bool,canBegin:We.bool,onAnimationEnd:We.func,shouldReAnimate:We.bool,onAnimationStart:We.func,onAnimationReStart:We.func};We.object,We.object,We.object,We.element;We.object,We.object,We.object,We.oneOfType([We.array,We.element]),We.any;function Oy(t){"@babel/helpers - typeof";return Oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oy(t)}function Mj(){return Mj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mj.apply(this,arguments)}function iXe(t,e){return uXe(t)||cXe(t,e)||lXe(t,e)||oXe()}function oXe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lXe(t,e){if(t){if(typeof t=="string")return i6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i6(t,e)}}function i6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cXe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,s=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function uXe(t){if(Array.isArray(t))return t}function o6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function l6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o6(Object(r),!0).forEach(function(n){AXe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AXe(t,e,r){return e=dXe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dXe(t){var e=hXe(t,"string");return Oy(e)=="symbol"?e:e+""}function hXe(t,e){if(Oy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Oy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var c6=function(e,r,n,s,a){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,A;if(o>0&&a instanceof Array){for(var d=[0,0,0,0],h=0,f=4;h<f;h++)d[h]=a[h]>o?o:a[h];A="M".concat(e,",").concat(r+l*d[0]),d[0]>0&&(A+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+c*d[0],",").concat(r)),A+="L ".concat(e+n-c*d[1],",").concat(r),d[1]>0&&(A+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*d[1])),A+="L ".concat(e+n,",").concat(r+s-l*d[2]),d[2]>0&&(A+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+n-c*d[2],",").concat(r+s)),A+="L ".concat(e+c*d[3],",").concat(r+s),d[3]>0&&(A+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+s-l*d[3])),A+="Z"}else if(o>0&&a===+a&&a>0){var m=Math.min(o,a);A="M ".concat(e,",").concat(r+l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+c*m,",").concat(r,`
            L `).concat(e+n-c*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*m,`
            L `).concat(e+n,",").concat(r+s-l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+n-c*m,",").concat(r+s,`
            L `).concat(e+c*m,",").concat(r+s,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(r+s-l*m," Z")}else A="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return A},fXe=function(e,r){if(!e||!r)return!1;var n=e.x,s=e.y,a=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),A=Math.max(a,a+l),d=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=A&&s>=d&&s<=h}return!1},mXe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eD=function(e){var r=l6(l6({},mXe),e),n=v.useRef(),s=v.useState(-1),a=iXe(s,2),o=a[0],l=a[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,A=r.width,d=r.height,h=r.radius,f=r.className,m=r.animationEasing,p=r.animationDuration,g=r.animationBegin,y=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||A!==+A||d!==+d||A===0||d===0)return null;var b=Kt("recharts-rectangle",f);return x?$.createElement(Ul,{canBegin:o>0,from:{width:A,height:d,x:c,y:u},to:{width:A,height:d,x:c,y:u},duration:p,animationEasing:m,isActive:x},function(j){var C=j.width,E=j.height,_=j.x,B=j.y;return $.createElement(Ul,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,isActive:y,easing:m},$.createElement("path",Mj({},Lt(r,!0),{className:b,d:c6(_,B,C,E,h),ref:n})))}):$.createElement("path",Mj({},Lt(r,!0),{className:b,d:c6(c,u,A,d,h)}))};function xI(){return xI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xI.apply(this,arguments)}var tD=function(e){var r=e.cx,n=e.cy,s=e.r,a=e.className,o=Kt("recharts-dot",a);return r===+r&&n===+n&&s===+s?$.createElement("circle",xI({},Lt(e,!1),sj(e),{className:o,cx:r,cy:n,r:s})):null};function Fy(t){"@babel/helpers - typeof";return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fy(t)}var pXe=["x","y","top","left","width","height","className"];function wI(){return wI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wI.apply(this,arguments)}function u6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function gXe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u6(Object(r),!0).forEach(function(n){vXe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vXe(t,e,r){return e=yXe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yXe(t){var e=xXe(t,"string");return Fy(e)=="symbol"?e:e+""}function xXe(t,e){if(Fy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Fy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wXe(t,e){if(t==null)return{};var r=bXe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bXe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var jXe=function(e,r,n,s,a,o){return"M".concat(e,",").concat(a,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},_Xe=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,a=s===void 0?0:s,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,A=e.width,d=A===void 0?0:A,h=e.height,f=h===void 0?0:h,m=e.className,p=wXe(e,pXe),g=gXe({x:n,y:a,top:l,left:u,width:d,height:f},p);return!Fe(n)||!Fe(a)||!Fe(d)||!Fe(f)||!Fe(l)||!Fe(u)?null:$.createElement("path",wI({},Lt(g,!0),{className:Kt("recharts-cross",m),d:jXe(n,a,d,f,l,u)}))},CXe=Yee,BXe=CXe(Object.getPrototypeOf,Object),EXe=BXe,SXe=$l,NXe=EXe,kXe=Hl,TXe="[object Object]",IXe=Function.prototype,PXe=Object.prototype,Rre=IXe.toString,OXe=PXe.hasOwnProperty,FXe=Rre.call(Object);function DXe(t){if(!kXe(t)||SXe(t)!=TXe)return!1;var e=NXe(t);if(e===null)return!0;var r=OXe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Rre.call(r)==FXe}var RXe=DXe;const UXe=Jt(RXe);var MXe=$l,QXe=Hl,LXe="[object Boolean]";function $Xe(t){return t===!0||t===!1||QXe(t)&&MXe(t)==LXe}var HXe=$Xe;const VXe=Jt(HXe);function Dy(t){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dy(t)}function Qj(){return Qj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qj.apply(this,arguments)}function KXe(t,e){return qXe(t)||WXe(t,e)||GXe(t,e)||zXe()}function zXe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GXe(t,e){if(t){if(typeof t=="string")return A6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A6(t,e)}}function A6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function WXe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,s=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function qXe(t){if(Array.isArray(t))return t}function d6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function h6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d6(Object(r),!0).forEach(function(n){XXe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XXe(t,e,r){return e=JXe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JXe(t){var e=YXe(t,"string");return Dy(e)=="symbol"?e:e+""}function YXe(t,e){if(Dy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f6=function(e,r,n,s,a){var o=n-s,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+a),l+="L ".concat(e+n-o/2-s,",").concat(r+a),l+="L ".concat(e,",").concat(r," Z"),l},ZXe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eJe=function(e){var r=h6(h6({},ZXe),e),n=v.useRef(),s=v.useState(-1),a=KXe(s,2),o=a[0],l=a[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,A=r.upperWidth,d=r.lowerWidth,h=r.height,f=r.className,m=r.animationEasing,p=r.animationDuration,g=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||A!==+A||d!==+d||h!==+h||A===0&&d===0||h===0)return null;var x=Kt("recharts-trapezoid",f);return y?$.createElement(Ul,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:A,lowerWidth:d,height:h,x:c,y:u},duration:p,animationEasing:m,isActive:y},function(b){var j=b.upperWidth,C=b.lowerWidth,E=b.height,_=b.x,B=b.y;return $.createElement(Ul,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,easing:m},$.createElement("path",Qj({},Lt(r,!0),{className:x,d:f6(_,B,j,C,E),ref:n})))}):$.createElement("g",null,$.createElement("path",Qj({},Lt(r,!0),{className:x,d:f6(c,u,A,d,h)})))},tJe=["option","shapeType","propTransformer","activeClassName","isActive"];function Ry(t){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ry(t)}function rJe(t,e){if(t==null)return{};var r=nJe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nJe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function m6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Lj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m6(Object(r),!0).forEach(function(n){sJe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sJe(t,e,r){return e=aJe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aJe(t){var e=iJe(t,"string");return Ry(e)=="symbol"?e:e+""}function iJe(t,e){if(Ry(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oJe(t,e){return Lj(Lj({},e),t)}function lJe(t,e){return t==="symbols"}function p6(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return $.createElement(eD,r);case"trapezoid":return $.createElement(eJe,r);case"sector":return $.createElement(Sre,r);case"symbols":if(lJe(e))return $.createElement(y4,r);break;default:return null}}function cJe(t){return v.isValidElement(t)?t.props:t}function uJe(t){var e=t.option,r=t.shapeType,n=t.propTransformer,s=n===void 0?oJe:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,l=t.isActive,c=rJe(t,tJe),u;if(v.isValidElement(e))u=v.cloneElement(e,Lj(Lj({},c),cJe(e)));else if(Nt(e))u=e(c);else if(UXe(e)&&!VXe(e)){var A=s(e,c);u=$.createElement(p6,{shapeType:r,elementProps:A})}else{var d=c;u=$.createElement(p6,{shapeType:r,elementProps:d})}return l?$.createElement(Zr,{className:o},u):u}function _B(t,e){return e!=null&&"trapezoids"in t.props}function CB(t,e){return e!=null&&"sectors"in t.props}function Uy(t,e){return e!=null&&"points"in t.props}function AJe(t,e){var r,n,s=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return s&&a}function dJe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function hJe(t,e){var r=t.x===e.x,n=t.y===e.y,s=t.z===e.z;return r&&n&&s}function fJe(t,e){var r;return _B(t,e)?r=AJe:CB(t,e)?r=dJe:Uy(t,e)&&(r=hJe),r}function mJe(t,e){var r;return _B(t,e)?r="trapezoids":CB(t,e)?r="sectors":Uy(t,e)&&(r="points"),r}function pJe(t,e){if(_B(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(CB(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Uy(t,e)?e.payload:{}}function gJe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,s=mJe(r,e),a=pJe(r,e),o=n.filter(function(c,u){var A=wB(a,c),d=r.props[s].filter(function(m){var p=fJe(r,e);return p(m,e)}),h=r.props[s].indexOf(d[d.length-1]),f=u===h;return A&&f}),l=n.indexOf(o[o.length-1]);return l}var vJe=Math.ceil,yJe=Math.max;function xJe(t,e,r,n){for(var s=-1,a=yJe(vJe((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++s]=t,t+=r;return o}var wJe=xJe,bJe=gte,g6=1/0,jJe=17976931348623157e292;function _Je(t){if(!t)return t===0?t:0;if(t=bJe(t),t===g6||t===-g6){var e=t<0?-1:1;return e*jJe}return t===t?t:0}var Ure=_Je,CJe=wJe,BJe=dB,iN=Ure;function EJe(t){return function(e,r,n){return n&&typeof n!="number"&&BJe(e,r,n)&&(r=n=void 0),e=iN(e),r===void 0?(r=e,e=0):r=iN(r),n=n===void 0?e<r?1:-1:iN(n),CJe(e,r,n,t)}}var SJe=EJe,NJe=SJe,kJe=NJe(),TJe=kJe;const $j=Jt(TJe);function My(t){"@babel/helpers - typeof";return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},My(t)}function v6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function y6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v6(Object(r),!0).forEach(function(n){Mre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mre(t,e,r){return e=IJe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IJe(t){var e=PJe(t,"string");return My(e)=="symbol"?e:e+""}function PJe(t,e){if(My(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(My(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OJe=["Webkit","Moz","O","ms"],FJe=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),s=OJe.reduce(function(a,o){return y6(y6({},a),{},Mre({},o+n,r))},{});return s[e]=r,s};function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}function Hj(){return Hj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hj.apply(this,arguments)}function x6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function oN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x6(Object(r),!0).forEach(function(n){da(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lre(n.key),n)}}function RJe(t,e,r){return e&&w6(t.prototype,e),r&&w6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function UJe(t,e,r){return e=Vj(e),MJe(t,Qre()?Reflect.construct(e,r||[],Vj(t).constructor):e.apply(t,r))}function MJe(t,e){if(e&&(sm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QJe(t)}function QJe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qre=function(){return!!t})()}function Vj(t){return Vj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vj(t)}function LJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bI(t,e)}function bI(t,e){return bI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},bI(t,e)}function da(t,e,r){return e=Lre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lre(t){var e=$Je(t,"string");return sm(e)=="symbol"?e:e+""}function $Je(t,e){if(sm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HJe=function(e){var r=e.data,n=e.startIndex,s=e.endIndex,a=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Wg().domain($j(0,c)).range([a,a+o-l]),A=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:A}},b6=function(e){return e.changedTouches&&!!e.changedTouches.length},am=function(t){function e(r){var n;return DJe(this,e),n=UJe(this,e,[r]),da(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),da(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),da(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,a=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),da(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),da(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),da(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),da(n,"handleSlideDragStart",function(s){var a=b6(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return LJe(e,t),RJe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,A=u.length-1,d=Math.min(s,a),h=Math.max(s,a),f=e.getIndexInRange(o,d),m=e.getIndexInRange(o,h);return{startIndex:f-f%c,endIndex:m===A?A:m-m%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,a=s.data,o=s.tickFormatter,l=s.dataKey,c=Na(a[n],l,n);return Nt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,a=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,A=c.width,d=c.travellerWidth,h=c.startIndex,f=c.endIndex,m=c.onChange,p=n.pageX-a;p>0?p=Math.min(p,u+A-d-l,u+A-d-o):p<0&&(p=Math.max(p,u-o,u-l));var g=this.getIndex({startX:o+p,endX:l+p});(g.startIndex!==h||g.endIndex!==f)&&m&&m(g),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var a=b6(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,a=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],A=this.props,d=A.x,h=A.width,f=A.travellerWidth,m=A.onChange,p=A.gap,g=A.data,y={startX:this.state.startX,endX:this.state.endX},x=n.pageX-a;x>0?x=Math.min(x,d+h-f-u):x<0&&(x=Math.max(x,d-u)),y[o]=u+x;var b=this.getIndex(y),j=b.startIndex,C=b.endIndex,E=function(){var B=g.length-1;return o==="startX"&&(l>c?j%p===0:C%p===0)||l<c&&C===B||o==="endX"&&(l>c?C%p===0:j%p===0)||l>c&&C===B};this.setState(da(da({},o,u+x),"brushMoveStartX",n.pageX),function(){m&&E()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,A=this.state[s],d=l.indexOf(A);if(d!==-1){var h=d+n;if(!(h===-1||h>=l.length)){var f=l[h];s==="startX"&&f>=u||s==="endX"&&f<=c||this.setState(da({},s,f),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return $.createElement("rect",{stroke:u,fill:c,x:s,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.data,u=n.children,A=n.padding,d=v.Children.only(u);return d?$.cloneElement(d,{x:s,y:a,width:o,height:l,margin:A,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var a,o,l=this,c=this.props,u=c.y,A=c.travellerWidth,d=c.height,h=c.traveller,f=c.ariaLabel,m=c.data,p=c.startIndex,g=c.endIndex,y=Math.max(n,this.props.x),x=oN(oN({},Lt(this.props,!1)),{},{x:y,y:u,width:A,height:d}),b=f||"Min value: ".concat((a=m[p])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=m[g])===null||o===void 0?void 0:o.name);return $.createElement(Zr,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,s){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,A=Math.min(n,s)+u,d=Math.max(Math.abs(s-n)-u,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:A,y:o,width:d,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,a=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,A=this.state,d=A.startX,h=A.endX,f=5,m={pointerEvents:"none",fill:u};return $.createElement(Zr,{className:"recharts-brush-texts"},$.createElement(yj,Hj({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-f,y:o+l/2},m),this.getTextOfTick(s)),$.createElement(yj,Hj({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+c+f,y:o+l/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,s=n.data,a=n.className,o=n.children,l=n.x,c=n.y,u=n.width,A=n.height,d=n.alwaysShowText,h=this.state,f=h.startX,m=h.endX,p=h.isTextActive,g=h.isSlideMoving,y=h.isTravellerMoving,x=h.isTravellerFocused;if(!s||!s.length||!Fe(l)||!Fe(c)||!Fe(u)||!Fe(A)||u<=0||A<=0)return null;var b=Kt("recharts-brush",a),j=$.Children.count(o)===1,C=FJe("userSelect","none");return $.createElement(Zr,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(f,m),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(m,"endX"),(p||g||y||x||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,a=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(a+l/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:s,y:a,width:o,height:l,fill:c,stroke:"none"}),$.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var a;return $.isValidElement(n)?a=$.cloneElement(n,s):Nt(n)?a=n(s):a=e.renderDefaultTraveller(s),a}},{key:"getDerivedStateFromProps",value:function(n,s){var a=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,A=n.startIndex,d=n.endIndex;if(a!==s.prevData||u!==s.prevUpdateId)return oN({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?HJe({data:a,width:o,x:l,travellerWidth:c,startIndex:A,endIndex:d}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(f){return s.scale(f)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var a=n.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(v.PureComponent);da(am,"displayName","Brush");da(am,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var VJe=B4;function KJe(t,e){var r;return VJe(t,function(n,s,a){return r=e(n,s,a),!r}),!!r}var zJe=KJe,GJe=Vee,WJe=Mu,qJe=zJe,XJe=ia,JJe=dB;function YJe(t,e,r){var n=XJe(t)?GJe:qJe;return r&&JJe(t,e,r)&&(e=void 0),n(t,WJe(e))}var ZJe=YJe;const eYe=Jt(ZJe);var So=function(e,r){var n=e.alwaysShow,s=e.ifOverflow;return n&&(s="extendDomain"),s===r},j6=dte;function tYe(t,e,r){e=="__proto__"&&j6?j6(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var rYe=tYe,nYe=rYe,sYe=ute,aYe=Mu;function iYe(t,e){var r={};return e=aYe(e),sYe(t,function(n,s,a){nYe(r,s,e(n,s,a))}),r}var oYe=iYe;const lYe=Jt(oYe);function cYe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var uYe=cYe,AYe=B4;function dYe(t,e){var r=!0;return AYe(t,function(n,s,a){return r=!!e(n,s,a),r}),r}var hYe=dYe,fYe=uYe,mYe=hYe,pYe=Mu,gYe=ia,vYe=dB;function yYe(t,e,r){var n=gYe(t)?fYe:mYe;return r&&vYe(t,e,r)&&(e=void 0),n(t,pYe(e))}var xYe=yYe;const $re=Jt(xYe);var wYe=["x","y"];function Qy(t){"@babel/helpers - typeof";return Qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qy(t)}function jI(){return jI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jI.apply(this,arguments)}function _6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Jp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_6(Object(r),!0).forEach(function(n){bYe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bYe(t,e,r){return e=jYe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jYe(t){var e=_Ye(t,"string");return Qy(e)=="symbol"?e:e+""}function _Ye(t,e){if(Qy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CYe(t,e){if(t==null)return{};var r=BYe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function BYe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function EYe(t,e){var r=t.x,n=t.y,s=CYe(t,wYe),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||s.height),A=parseInt(u,10),d="".concat(e.width||s.width),h=parseInt(d,10);return Jp(Jp(Jp(Jp(Jp({},e),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:A,width:h,name:e.name,radius:e.radius})}function C6(t){return $.createElement(uJe,jI({shapeType:"rectangle",propTransformer:EYe,activeClassName:"recharts-active-bar"},t))}var SYe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof e=="number")return e;var a=typeof n=="number";return a?e(n,s):(a||wd(),r)}},NYe=["value","background"],Hre;function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function kYe(t,e){if(t==null)return{};var r=TYe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function TYe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Kj(){return Kj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kj.apply(this,arguments)}function B6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function nn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B6(Object(r),!0).forEach(function(n){Qc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Kre(n.key),n)}}function PYe(t,e,r){return e&&E6(t.prototype,e),r&&E6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function OYe(t,e,r){return e=zj(e),FYe(t,Vre()?Reflect.construct(e,r||[],zj(t).constructor):e.apply(t,r))}function FYe(t,e){if(e&&(im(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DYe(t)}function DYe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vre=function(){return!!t})()}function zj(t){return zj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zj(t)}function RYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_I(t,e)}function _I(t,e){return _I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},_I(t,e)}function Qc(t,e,r){return e=Kre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kre(t){var e=UYe(t,"string");return im(e)=="symbol"?e:e+""}function UYe(t,e){if(im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Id=function(t){function e(){var r;IYe(this,e);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=OYe(this,e,[].concat(s)),Qc(r,"state",{isAnimationFinished:!1}),Qc(r,"id",Ux("recharts-bar-")),Qc(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Qc(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return RYe(e,t),PYe(e,[{key:"renderRectanglesStatically",value:function(n){var s=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,A=Lt(this.props,!1);return n&&n.map(function(d,h){var f=h===c,m=f?u:o,p=nn(nn(nn({},A),d),{},{isActive:f,option:m,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return $.createElement(Zr,Kj({className:"recharts-bar-rectangle"},aj(s.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value)}),$.createElement(C6,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,a=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,A=s.animationEasing,d=s.animationId,h=this.state.prevData;return $.createElement(Ul,{begin:c,duration:u,isActive:l,easing:A,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var m=f.t,p=a.map(function(g,y){var x=h&&h[y];if(x){var b=Ci(x.x,g.x),j=Ci(x.y,g.y),C=Ci(x.width,g.width),E=Ci(x.height,g.height);return nn(nn({},g),{},{x:b(m),y:j(m),width:C(m),height:E(m)})}if(o==="horizontal"){var _=Ci(0,g.height),B=_(m);return nn(nn({},g),{},{y:g.y+g.height-B,height:B})}var S=Ci(0,g.width),N=S(m);return nn(nn({},g),{},{width:N})});return $.createElement(Zr,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&s&&s.length&&(!o||!wB(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,a=s.data,o=s.dataKey,l=s.activeIndex,c=Lt(this.props.background,!1);return a.map(function(u,A){u.value;var d=u.background,h=kYe(u,NYe);if(!d)return null;var f=nn(nn(nn(nn(nn({},h),{},{fill:"#eee"},d),c),aj(n.props,u,A)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:A,className:"recharts-bar-background-rectangle"});return $.createElement(C6,Kj({key:"background-bar-".concat(A),option:n.props.background,isActive:A===l},f))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,A=a.children,d=ei(A,Vx);if(!d)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,f=function(g,y){var x=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:x,errorVal:Na(g,y)}},m={clipPath:n?"url(#clipPath-".concat(s,")"):null};return $.createElement(Zr,m,d.map(function(p){return $.cloneElement(p,{key:"error-bar-".concat(s,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:f})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,a=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,A=n.top,d=n.width,h=n.height,f=n.isAnimationActive,m=n.background,p=n.id;if(s||!a||!a.length)return null;var g=this.state.isAnimationFinished,y=Kt("recharts-bar",o),x=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,j=x||b,C=Dt(p)?this.id:p;return $.createElement(Zr,{className:y},x||b?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(C)},$.createElement("rect",{x:x?u:u-d/2,y:b?A:A-h/2,width:x?d:d*2,height:b?h:h*2}))):null,$.createElement(Zr,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(C,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,C),(!f||g)&&iu.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(v.PureComponent);Hre=Id;Qc(Id,"displayName","Bar");Qc(Id,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!yl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Qc(Id,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,s=t.bandSize,a=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,A=t.dataStartIndex,d=t.displayedData,h=t.offset,f=NGe(n,r);if(!f)return null;var m=e.layout,p=r.type.defaultProps,g=p!==void 0?nn(nn({},p),r.props):r.props,y=g.dataKey,x=g.children,b=g.minPointSize,j=m==="horizontal"?o:a,C=u?j.scale.domain():null,E=RGe({numericAxis:j}),_=ei(x,yte),B=d.map(function(S,N){var P,I,T,D,M,H;u?P=kGe(u[A+N],C):(P=Na(S,y),Array.isArray(P)||(P=[E,P]));var U=SYe(b,Hre.defaultProps.minPointSize)(P[1],N);if(m==="horizontal"){var O,R=[o.scale(P[0]),o.scale(P[1])],Q=R[0],G=R[1];I=BH({axis:a,ticks:l,bandSize:s,offset:f.offset,entry:S,index:N}),T=(O=G??Q)!==null&&O!==void 0?O:void 0,D=f.size;var X=Q-G;if(M=Number.isNaN(X)?0:X,H={x:I,y:o.y,width:D,height:o.height},Math.abs(U)>0&&Math.abs(M)<Math.abs(U)){var se=Ii(M||U)*(Math.abs(U)-Math.abs(M));T-=se,M+=se}}else{var Z=[a.scale(P[0]),a.scale(P[1])],K=Z[0],ne=Z[1];if(I=K,T=BH({axis:o,ticks:c,bandSize:s,offset:f.offset,entry:S,index:N}),D=ne-K,M=f.size,H={x:a.x,y:T,width:a.width,height:M},Math.abs(U)>0&&Math.abs(D)<Math.abs(U)){var ue=Ii(D||U)*(Math.abs(U)-Math.abs(D));D+=ue}}return nn(nn(nn({},S),{},{x:I,y:T,width:D,height:M,value:u?P:P[1],payload:S,background:H},_&&_[N]&&_[N].props),{},{tooltipPayload:[Cre(r,S)],tooltipPosition:{x:I+D/2,y:T+M/2}})});return nn({data:B,layout:m},h)});function Ly(t){"@babel/helpers - typeof";return Ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ly(t)}function MYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zre(n.key),n)}}function QYe(t,e,r){return e&&S6(t.prototype,e),r&&S6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function N6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function wi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N6(Object(r),!0).forEach(function(n){BB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BB(t,e,r){return e=zre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zre(t){var e=LYe(t,"string");return Ly(e)=="symbol"?e:e+""}function LYe(t,e){if(Ly(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ly(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gre=function(e,r,n,s,a){var o=e.width,l=e.height,c=e.layout,u=e.children,A=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!pa(u,Id);return A.reduce(function(f,m){var p=r[m],g=p.orientation,y=p.domain,x=p.padding,b=x===void 0?{}:x,j=p.mirror,C=p.reversed,E="".concat(g).concat(j?"Mirror":""),_,B,S,N,P;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var I=y[1]-y[0],T=1/0,D=p.categoricalDomain.sort();if(D.forEach(function(Z,K){K>0&&(T=Math.min((Z||0)-(D[K-1]||0),T))}),Number.isFinite(T)){var M=T/I,H=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(_=M*H/2),p.padding==="no-gap"){var U=yd(e.barCategoryGap,M*H),O=M*H/2;_=O-U-(O-U)/H*U}}}s==="xAxis"?B=[n.left+(b.left||0)+(_||0),n.left+n.width-(b.right||0)-(_||0)]:s==="yAxis"?B=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(_||0),n.top+n.height-(b.bottom||0)-(_||0)]:B=p.range,C&&(B=[B[1],B[0]]);var R=EGe(p,a,h),Q=R.scale,G=R.realScaleType;Q.domain(y).range(B),SGe(Q);var X=DGe(Q,wi(wi({},p),{},{realScaleType:G}));s==="xAxis"?(P=g==="top"&&!j||g==="bottom"&&j,S=n.left,N=d[E]-P*p.height):s==="yAxis"&&(P=g==="left"&&!j||g==="right"&&j,S=d[E]-P*p.width,N=n.top);var se=wi(wi(wi({},p),X),{},{realScaleType:G,x:S,y:N,scale:Q,width:s==="xAxis"?n.width:p.width,height:s==="yAxis"?n.height:p.height});return se.bandSize=Pj(se,X),!p.hide&&s==="xAxis"?d[E]+=(P?-1:1)*se.height:p.hide||(d[E]+=(P?-1:1)*se.width),wi(wi({},f),{},BB({},m,se))},{})},Wre=function(e,r){var n=e.x,s=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(s,o),width:Math.abs(a-n),height:Math.abs(o-s)}},$Ye=function(e){var r=e.x1,n=e.y1,s=e.x2,a=e.y2;return Wre({x:r,y:n},{x:s,y:a})},qre=function(){function t(e){MYe(this,t),this.scale=e}return QYe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],a=n[n.length-1];return s<=a?r>=s&&r<=a:r>=a&&r<=s}}],[{key:"create",value:function(r){return new t(r)}}])}();BB(qre,"EPS",1e-4);var rD=function(e){var r=Object.keys(e).reduce(function(n,s){return wi(wi({},n),{},BB({},s,qre.create(e[s])))},{});return wi(wi({},r),{},{apply:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return lYe(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return $re(s,function(a,o){return r[o].isInRange(a)})}})};function HYe(t){return(t%180+180)%180}var VYe=function(e){var r=e.width,n=e.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=HYe(s),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},KYe=Mu,zYe=Mx,GYe=uB;function WYe(t){return function(e,r,n){var s=Object(e);if(!zYe(e)){var a=KYe(r);e=GYe(e),r=function(l){return a(s[l],l,s)}}var o=t(e,r,n);return o>-1?s[a?e[o]:o]:void 0}}var qYe=WYe,XYe=Ure;function JYe(t){var e=XYe(t),r=e%1;return e===e?r?e-r:e:0}var YYe=JYe,ZYe=ste,eZe=Mu,tZe=YYe,rZe=Math.max;function nZe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var s=r==null?0:tZe(r);return s<0&&(s=rZe(n+s,0)),ZYe(t,eZe(e),s)}var sZe=nZe,aZe=qYe,iZe=sZe,oZe=aZe(iZe),lZe=oZe;const cZe=Jt(lZe);var uZe=dRe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),nD=v.createContext(void 0),sD=v.createContext(void 0),Xre=v.createContext(void 0),Jre=v.createContext({}),Yre=v.createContext(void 0),Zre=v.createContext(0),ene=v.createContext(0),k6=function(e){var r=e.state,n=r.xAxisMap,s=r.yAxisMap,a=r.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,A=uZe(a);return $.createElement(nD.Provider,{value:n},$.createElement(sD.Provider,{value:s},$.createElement(Jre.Provider,{value:a},$.createElement(Xre.Provider,{value:A},$.createElement(Yre.Provider,{value:o},$.createElement(Zre.Provider,{value:u},$.createElement(ene.Provider,{value:c},l)))))))},AZe=function(){return v.useContext(Yre)},tne=function(e){var r=v.useContext(nD);r==null&&wd();var n=r[e];return n==null&&wd(),n},dZe=function(){var e=v.useContext(nD);return _c(e)},hZe=function(){var e=v.useContext(sD),r=cZe(e,function(n){return $re(n.domain,Number.isFinite)});return r||_c(e)},rne=function(e){var r=v.useContext(sD);r==null&&wd();var n=r[e];return n==null&&wd(),n},fZe=function(){var e=v.useContext(Xre);return e},mZe=function(){return v.useContext(Jre)},aD=function(){return v.useContext(ene)},iD=function(){return v.useContext(Zre)};function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function pZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gZe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sne(n.key),n)}}function vZe(t,e,r){return e&&gZe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yZe(t,e,r){return e=Gj(e),xZe(t,nne()?Reflect.construct(e,r||[],Gj(t).constructor):e.apply(t,r))}function xZe(t,e){if(e&&(om(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wZe(t)}function wZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nne=function(){return!!t})()}function Gj(t){return Gj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gj(t)}function bZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CI(t,e)}function CI(t,e){return CI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},CI(t,e)}function T6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function I6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T6(Object(r),!0).forEach(function(n){oD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oD(t,e,r){return e=sne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sne(t){var e=jZe(t,"string");return om(e)=="symbol"?e:e+""}function jZe(t,e){if(om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Ze(t,e){return SZe(t)||EZe(t,e)||BZe(t,e)||CZe()}function CZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BZe(t,e){if(t){if(typeof t=="string")return P6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P6(t,e)}}function P6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function EZe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,s=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function SZe(t){if(Array.isArray(t))return t}function BI(){return BI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BI.apply(this,arguments)}var NZe=function(e,r){var n;return $.isValidElement(e)?n=$.cloneElement(e,r):Nt(e)?n=e(r):n=$.createElement("line",BI({},r,{className:"recharts-reference-line-line"})),n},kZe=function(e,r,n,s,a,o,l,c,u){var A=a.x,d=a.y,h=a.width,f=a.height;if(n){var m=u.y,p=e.y.apply(m,{position:o});if(So(u,"discard")&&!e.y.isInRange(p))return null;var g=[{x:A+h,y:p},{x:A,y:p}];return c==="left"?g.reverse():g}if(r){var y=u.x,x=e.x.apply(y,{position:o});if(So(u,"discard")&&!e.x.isInRange(x))return null;var b=[{x,y:d+f},{x,y:d}];return l==="top"?b.reverse():b}if(s){var j=u.segment,C=j.map(function(E){return e.apply(E,{position:o})});return So(u,"discard")&&eYe(C,function(E){return!e.isInRange(E)})?null:C}return null};function TZe(t){var e=t.x,r=t.y,n=t.segment,s=t.xAxisId,a=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=AZe(),A=tne(s),d=rne(a),h=fZe();if(!u||!h)return null;vl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=rD({x:A.scale,y:d.scale}),m=pn(e),p=pn(r),g=n&&n.length===2,y=kZe(f,m,p,g,h,t.position,A.orientation,d.orientation,t);if(!y)return null;var x=_Ze(y,2),b=x[0],j=b.x,C=b.y,E=x[1],_=E.x,B=E.y,S=So(t,"hidden")?"url(#".concat(u,")"):void 0,N=I6(I6({clipPath:S},Lt(t,!0)),{},{x1:j,y1:C,x2:_,y2:B});return $.createElement(Zr,{className:Kt("recharts-reference-line",l)},NZe(o,N),ds.renderCallByParent(t,$Ye({x1:j,y1:C,x2:_,y2:B})))}var lD=function(t){function e(){return pZe(this,e),yZe(this,e,arguments)}return bZe(e,t),vZe(e,[{key:"render",value:function(){return $.createElement(TZe,this.props)}}])}($.Component);oD(lD,"displayName","ReferenceLine");oD(lD,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function EI(){return EI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},EI.apply(this,arguments)}function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(t)}function O6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function F6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O6(Object(r),!0).forEach(function(n){EB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PZe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ine(n.key),n)}}function OZe(t,e,r){return e&&PZe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FZe(t,e,r){return e=Wj(e),DZe(t,ane()?Reflect.construct(e,r||[],Wj(t).constructor):e.apply(t,r))}function DZe(t,e){if(e&&(lm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RZe(t)}function RZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ane(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ane=function(){return!!t})()}function Wj(t){return Wj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wj(t)}function UZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SI(t,e)}function SI(t,e){return SI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},SI(t,e)}function EB(t,e,r){return e=ine(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ine(t){var e=MZe(t,"string");return lm(e)=="symbol"?e:e+""}function MZe(t,e){if(lm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QZe=function(e){var r=e.x,n=e.y,s=e.xAxis,a=e.yAxis,o=rD({x:s.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return So(e,"discard")&&!o.isInRange(l)?null:l},SB=function(t){function e(){return IZe(this,e),FZe(this,e,arguments)}return UZe(e,t),OZe(e,[{key:"render",value:function(){var n=this.props,s=n.x,a=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=pn(s),A=pn(a);if(vl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!A)return null;var d=QZe(this.props);if(!d)return null;var h=d.x,f=d.y,m=this.props,p=m.shape,g=m.className,y=So(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=F6(F6({clipPath:y},Lt(this.props,!0)),{},{cx:h,cy:f});return $.createElement(Zr,{className:Kt("recharts-reference-dot",g)},e.renderDot(p,x),ds.renderCallByParent(this.props,{x:h-o,y:f-o,width:2*o,height:2*o}))}}])}($.Component);EB(SB,"displayName","ReferenceDot");EB(SB,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});EB(SB,"renderDot",function(t,e){var r;return $.isValidElement(t)?r=$.cloneElement(t,e):Nt(t)?r=t(e):r=$.createElement(tD,EI({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function NI(){return NI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NI.apply(this,arguments)}function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(t)}function D6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function R6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D6(Object(r),!0).forEach(function(n){NB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $Ze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lne(n.key),n)}}function HZe(t,e,r){return e&&$Ze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VZe(t,e,r){return e=qj(e),KZe(t,one()?Reflect.construct(e,r||[],qj(t).constructor):e.apply(t,r))}function KZe(t,e){if(e&&(cm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zZe(t)}function zZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function one(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(one=function(){return!!t})()}function qj(t){return qj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qj(t)}function GZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kI(t,e)}function kI(t,e){return kI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},kI(t,e)}function NB(t,e,r){return e=lne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lne(t){var e=WZe(t,"string");return cm(e)=="symbol"?e:e+""}function WZe(t,e){if(cm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qZe=function(e,r,n,s,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,A=a.xAxis,d=a.yAxis;if(!A||!d)return null;var h=rD({x:A.scale,y:d.scale}),f={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return So(a,"discard")&&(!h.isInRange(f)||!h.isInRange(m))?null:Wre(f,m)},kB=function(t){function e(){return LZe(this,e),VZe(this,e,arguments)}return GZe(e,t),HZe(e,[{key:"render",value:function(){var n=this.props,s=n.x1,a=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,A=n.clipPathId;vl(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=pn(s),h=pn(a),f=pn(o),m=pn(l),p=this.props.shape;if(!d&&!h&&!f&&!m&&!p)return null;var g=qZe(d,h,f,m,this.props);if(!g&&!p)return null;var y=So(this.props,"hidden")?"url(#".concat(A,")"):void 0;return $.createElement(Zr,{className:Kt("recharts-reference-area",c)},e.renderRect(p,R6(R6({clipPath:y},Lt(this.props,!0)),g)),ds.renderCallByParent(this.props,g))}}])}($.Component);NB(kB,"displayName","ReferenceArea");NB(kB,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});NB(kB,"renderRect",function(t,e){var r;return $.isValidElement(t)?r=$.cloneElement(t,e):Nt(t)?r=t(e):r=$.createElement(eD,NI({},e,{className:"recharts-reference-area-rect"})),r});function cne(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],s=0;s<t.length;s+=e)n.push(t[s]);return n}function XZe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return VYe(n,r)}function JZe(t,e,r){var n=r==="width",s=t.x,a=t.y,o=t.width,l=t.height;return e===1?{start:n?s:a,end:n?s+o:a+l}:{start:n?s+o:a+l,end:n?s:a}}function Xj(t,e,r,n,s){if(t*e<t*n||t*e>t*s)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-s)<=0}function YZe(t,e){return cne(t,e+1)}function ZZe(t,e,r,n,s){for(var a=(n||[]).slice(),o=e.start,l=e.end,c=0,u=1,A=o,d=function(){var m=n==null?void 0:n[c];if(m===void 0)return{v:cne(n,u)};var p=c,g,y=function(){return g===void 0&&(g=r(m,p)),g},x=m.coordinate,b=c===0||Xj(t,x,y,A,l);b||(c=0,A=o,u+=1),b&&(A=x+t*(y()/2+s),c+=u)},h;u<=a.length;)if(h=d(),h)return h.v;return[]}function $y(t){"@babel/helpers - typeof";return $y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$y(t)}function U6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function is(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U6(Object(r),!0).forEach(function(n){eet(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eet(t,e,r){return e=tet(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tet(t){var e=ret(t,"string");return $y(e)=="symbol"?e:e+""}function ret(t,e){if($y(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($y(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function net(t,e,r,n,s){for(var a=(n||[]).slice(),o=a.length,l=e.start,c=e.end,u=function(h){var f=a[h],m,p=function(){return m===void 0&&(m=r(f,h)),m};if(h===o-1){var g=t*(f.coordinate+t*p()/2-c);a[h]=f=is(is({},f),{},{tickCoord:g>0?f.coordinate-g*t:f.coordinate})}else a[h]=f=is(is({},f),{},{tickCoord:f.coordinate});var y=Xj(t,f.tickCoord,p,l,c);y&&(c=f.tickCoord-t*(p()/2+s),a[h]=is(is({},f),{},{isShow:!0}))},A=o-1;A>=0;A--)u(A);return a}function set(t,e,r,n,s,a){var o=(n||[]).slice(),l=o.length,c=e.start,u=e.end;if(a){var A=n[l-1],d=r(A,l-1),h=t*(A.coordinate+t*d/2-u);o[l-1]=A=is(is({},A),{},{tickCoord:h>0?A.coordinate-h*t:A.coordinate});var f=Xj(t,A.tickCoord,function(){return d},c,u);f&&(u=A.tickCoord-t*(d/2+s),o[l-1]=is(is({},A),{},{isShow:!0}))}for(var m=a?l-1:l,p=function(x){var b=o[x],j,C=function(){return j===void 0&&(j=r(b,x)),j};if(x===0){var E=t*(b.coordinate-t*C()/2-c);o[x]=b=is(is({},b),{},{tickCoord:E<0?b.coordinate-E*t:b.coordinate})}else o[x]=b=is(is({},b),{},{tickCoord:b.coordinate});var _=Xj(t,b.tickCoord,C,c,u);_&&(c=b.tickCoord+t*(C()/2+s),o[x]=is(is({},b),{},{isShow:!0}))},g=0;g<m;g++)p(g);return o}function cD(t,e,r){var n=t.tick,s=t.ticks,a=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,A=t.unit,d=t.angle;if(!s||!s.length||!n)return[];if(Fe(c)||yl.isSsr)return YZe(s,typeof c=="number"&&Fe(c)?c:0);var h=[],f=l==="top"||l==="bottom"?"width":"height",m=A&&f==="width"?Gg(A,{fontSize:e,letterSpacing:r}):{width:0,height:0},p=function(b,j){var C=Nt(u)?u(b.value,j):b.value;return f==="width"?XZe(Gg(C,{fontSize:e,letterSpacing:r}),m,d):Gg(C,{fontSize:e,letterSpacing:r})[f]},g=s.length>=2?Ii(s[1].coordinate-s[0].coordinate):1,y=JZe(a,g,f);return c==="equidistantPreserveStart"?ZZe(g,y,p,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=set(g,y,p,s,o,c==="preserveStartEnd"):h=net(g,y,p,s,o),h.filter(function(x){return x.isShow}))}var aet=["viewBox"],iet=["viewBox"],oet=["ticks"];function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}function Fh(){return Fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fh.apply(this,arguments)}function M6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function _s(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M6(Object(r),!0).forEach(function(n){uD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lN(t,e){if(t==null)return{};var r=cet(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cet(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ane(n.key),n)}}function Aet(t,e,r){return e&&Q6(t.prototype,e),r&&Q6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function det(t,e,r){return e=Jj(e),het(t,une()?Reflect.construct(e,r||[],Jj(t).constructor):e.apply(t,r))}function het(t,e){if(e&&(um(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fet(t)}function fet(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function une(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(une=function(){return!!t})()}function Jj(t){return Jj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jj(t)}function met(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TI(t,e)}function TI(t,e){return TI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},TI(t,e)}function uD(t,e,r){return e=Ane(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ane(t){var e=pet(t,"string");return um(e)=="symbol"?e:e+""}function pet(t,e){if(um(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ym=function(t){function e(r){var n;return uet(this,e),n=det(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return met(e,t),Aet(e,[{key:"shouldComponentUpdate",value:function(n,s){var a=n.viewBox,o=lN(n,aet),l=this.props,c=l.viewBox,u=lN(l,iet);return!Jh(a,c)||!Jh(o,u)||!Jh(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,a=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,A=s.tickSize,d=s.mirror,h=s.tickMargin,f,m,p,g,y,x,b=d?-1:1,j=n.tickSize||A,C=Fe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":f=m=n.coordinate,g=o+ +!d*c,p=g-b*j,x=p-b*h,y=C;break;case"left":p=g=n.coordinate,m=a+ +!d*l,f=m-b*j,y=f-b*h,x=C;break;case"right":p=g=n.coordinate,m=a+ +d*l,f=m+b*j,y=f+b*h,x=C;break;default:f=m=n.coordinate,g=o+ +d*c,p=g+b*j,x=p+b*h,y=C;break}return{line:{x1:f,y1:p,x2:m,y2:g},tick:{x:y,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,o;switch(s){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,A=n.axisLine,d=_s(_s(_s({},Lt(this.props,!1)),Lt(A,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);d=_s(_s({},d),{},{x1:s,y1:a+h*l,x2:s+o,y2:a+h*l})}else{var f=+(c==="left"&&!u||c==="right"&&u);d=_s(_s({},d),{},{x1:s+f*o,y1:a,x2:s+f*o,y2:a+l})}return $.createElement("line",Fh({},d,{className:Kt("recharts-cartesian-axis-line",Za(A,"className"))}))}},{key:"renderTicks",value:function(n,s,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,A=l.tick,d=l.tickFormatter,h=l.unit,f=cD(_s(_s({},this.props),{},{ticks:n}),s,a),m=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),g=Lt(this.props,!1),y=Lt(A,!1),x=_s(_s({},g),{},{fill:"none"},Lt(c,!1)),b=f.map(function(j,C){var E=o.getTickLineCoord(j),_=E.line,B=E.tick,S=_s(_s(_s(_s({textAnchor:m,verticalAnchor:p},g),{},{stroke:"none",fill:u},y),B),{},{index:C,payload:j,visibleTicksCount:f.length,tickFormatter:d});return $.createElement(Zr,Fh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},aj(o.props,j,C)),c&&$.createElement("line",Fh({},x,_,{className:Kt("recharts-cartesian-axis-tick-line",Za(c,"className"))})),A&&e.renderTickItem(A,S,"".concat(Nt(d)?d(j.value,C):j.value).concat(h||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,s=this.props,a=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,A=s.hide;if(A)return null;var d=this.props,h=d.ticks,f=lN(d,oet),m=h;return Nt(c)&&(m=h&&h.length>0?c(this.props):c(f)),o<=0||l<=0||!m||!m.length?null:$.createElement(Zr,{className:Kt("recharts-cartesian-axis",u),ref:function(g){n.layerReference=g}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),ds.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,a){var o;return $.isValidElement(n)?o=$.cloneElement(n,s):Nt(n)?o=n(s):o=$.createElement(yj,Fh({},s,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(v.Component);uD(Ym,"displayName","CartesianAxis");uD(Ym,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var get=["x1","y1","x2","y2","key"],vet=["offset"];function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function L6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function hs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L6(Object(r),!0).forEach(function(n){yet(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yet(t,e,r){return e=xet(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xet(t){var e=wet(t,"string");return bd(e)=="symbol"?e:e+""}function wet(t,e){if(bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TA(){return TA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TA.apply(this,arguments)}function $6(t,e){if(t==null)return{};var r=bet(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bet(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var jet=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,s=e.x,a=e.y,o=e.width,l=e.height,c=e.ry;return $.createElement("rect",{x:s,y:a,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function dne(t,e){var r;if($.isValidElement(t))r=$.cloneElement(t,e);else if(Nt(t))r=t(e);else{var n=e.x1,s=e.y1,a=e.x2,o=e.y2,l=e.key,c=$6(e,get),u=Lt(c,!1);u.offset;var A=$6(u,vet);r=$.createElement("line",TA({},A,{x1:n,y1:s,x2:a,y2:o,fill:"none",key:l}))}return r}function _et(t){var e=t.x,r=t.width,n=t.horizontal,s=n===void 0?!0:n,a=t.horizontalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var u=hs(hs({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return dne(s,u)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Cet(t){var e=t.y,r=t.height,n=t.vertical,s=n===void 0?!0:n,a=t.verticalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var u=hs(hs({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return dne(s,u)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Bet(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,s=t.y,a=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var A=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,f){return h-f});s!==A[0]&&A.unshift(0);var d=A.map(function(h,f){var m=!A[f+1],p=m?s+o-h:A[f+1]-h;if(p<=0)return null;var g=f%e.length;return $.createElement("rect",{key:"react-".concat(f),y:h,x:n,height:p,width:a,stroke:"none",fill:e[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Eet(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,s=t.fillOpacity,a=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var A=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,f){return h-f});a!==A[0]&&A.unshift(0);var d=A.map(function(h,f){var m=!A[f+1],p=m?a+l-h:A[f+1]-h;if(p<=0)return null;var g=f%n.length;return $.createElement("rect",{key:"react-".concat(f),x:h,y:o,width:p,height:c,stroke:"none",fill:n[g],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Net=function(e,r){var n=e.xAxis,s=e.width,a=e.height,o=e.offset;return jre(cD(hs(hs(hs({},Ym.defaultProps),n),{},{ticks:ul(n,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.left,o.left+o.width,r)},ket=function(e,r){var n=e.yAxis,s=e.width,a=e.height,o=e.offset;return jre(cD(hs(hs(hs({},Ym.defaultProps),n),{},{ticks:ul(n,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.top,o.top+o.height,r)},ch={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function AD(t){var e,r,n,s,a,o,l=aD(),c=iD(),u=mZe(),A=hs(hs({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ch.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:ch.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:ch.horizontal,horizontalFill:(s=t.horizontalFill)!==null&&s!==void 0?s:ch.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:ch.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:ch.verticalFill,x:Fe(t.x)?t.x:u.left,y:Fe(t.y)?t.y:u.top,width:Fe(t.width)?t.width:u.width,height:Fe(t.height)?t.height:u.height}),d=A.x,h=A.y,f=A.width,m=A.height,p=A.syncWithTicks,g=A.horizontalValues,y=A.verticalValues,x=dZe(),b=hZe();if(!Fe(f)||f<=0||!Fe(m)||m<=0||!Fe(d)||d!==+d||!Fe(h)||h!==+h)return null;var j=A.verticalCoordinatesGenerator||Net,C=A.horizontalCoordinatesGenerator||ket,E=A.horizontalPoints,_=A.verticalPoints;if((!E||!E.length)&&Nt(C)){var B=g&&g.length,S=C({yAxis:b?hs(hs({},b),{},{ticks:B?g:b.ticks}):void 0,width:l,height:c,offset:u},B?!0:p);vl(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(bd(S),"]")),Array.isArray(S)&&(E=S)}if((!_||!_.length)&&Nt(j)){var N=y&&y.length,P=j({xAxis:x?hs(hs({},x),{},{ticks:N?y:x.ticks}):void 0,width:l,height:c,offset:u},N?!0:p);vl(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(bd(P),"]")),Array.isArray(P)&&(_=P)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(jet,{fill:A.fill,fillOpacity:A.fillOpacity,x:A.x,y:A.y,width:A.width,height:A.height,ry:A.ry}),$.createElement(_et,TA({},A,{offset:u,horizontalPoints:E,xAxis:x,yAxis:b})),$.createElement(Cet,TA({},A,{offset:u,verticalPoints:_,xAxis:x,yAxis:b})),$.createElement(Bet,TA({},A,{horizontalPoints:E})),$.createElement(Eet,TA({},A,{verticalPoints:_})))}AD.displayName="CartesianGrid";var Tet=["type","layout","connectNulls","ref"],Iet=["key"];function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function H6(t,e){if(t==null)return{};var r=Pet(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pet(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Jg(){return Jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jg.apply(this,arguments)}function V6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ua(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V6(Object(r),!0).forEach(function(n){bi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uh(t){return Ret(t)||Det(t)||Fet(t)||Oet()}function Oet(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fet(t,e){if(t){if(typeof t=="string")return II(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return II(t,e)}}function Det(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ret(t){if(Array.isArray(t))return II(t)}function II(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Uet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fne(n.key),n)}}function Met(t,e,r){return e&&K6(t.prototype,e),r&&K6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qet(t,e,r){return e=Yj(e),Let(t,hne()?Reflect.construct(e,r||[],Yj(t).constructor):e.apply(t,r))}function Let(t,e){if(e&&(Am(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $et(t)}function $et(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hne=function(){return!!t})()}function Yj(t){return Yj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yj(t)}function Het(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PI(t,e)}function PI(t,e){return PI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},PI(t,e)}function bi(t,e,r){return e=fne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fne(t){var e=Vet(t,"string");return Am(e)=="symbol"?e:e+""}function Vet(t,e){if(Am(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kx=function(t){function e(){var r;Uet(this,e);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=Qet(this,e,[].concat(s)),bi(r,"state",{isAnimationFinished:!0,totalLength:0}),bi(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),bi(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(y,x){return y+x});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var A=Math.floor(o/u),d=o%u,h=l-o,f=[],m=0,p=0;m<c.length;p+=c[m],++m)if(p+c[m]>d){f=[].concat(uh(c.slice(0,m)),[d-p]);break}var g=f.length%2===0?[0,h]:[h];return[].concat(uh(e.repeat(c,A)),uh(f),g).map(function(y){return"".concat(y,"px")}).join(", ")}),bi(r,"id",Ux("recharts-line-")),bi(r,"pathRef",function(o){r.mainCurve=o}),bi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),bi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Het(e,t),Met(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,A=a.children,d=ei(A,Vx);if(!d)return null;var h=function(p,g){return{x:p.x,y:p.y,value:p.value,errorVal:Na(p.payload,g)}},f={clipPath:n?"url(#clipPath-".concat(s,")"):null};return $.createElement(Zr,f,d.map(function(m){return $.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,s,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,A=l.dataKey,d=Lt(this.props,!1),h=Lt(c,!0),f=u.map(function(p,g){var y=ua(ua(ua({key:"dot-".concat(g),r:3},d),h),{},{value:p.value,dataKey:A,cx:p.x,cy:p.y,index:g,payload:p.payload});return e.renderDotItem(c,y)}),m={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(a,")"):null};return $.createElement(Zr,Jg({className:"recharts-line-dots",key:"dots"},m),f)}},{key:"renderCurveStatically",value:function(n,s,a,o){var l=this.props,c=l.type,u=l.layout,A=l.connectNulls;l.ref;var d=H6(l,Tet),h=ua(ua(ua({},Lt(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:A});return $.createElement(uI,Jg({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,A=o.animationBegin,d=o.animationDuration,h=o.animationEasing,f=o.animationId,m=o.animateNewValues,p=o.width,g=o.height,y=this.state,x=y.prevPoints,b=y.totalLength;return $.createElement(Ul,{begin:A,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var C=j.t;if(x){var E=x.length/l.length,_=l.map(function(I,T){var D=Math.floor(T*E);if(x[D]){var M=x[D],H=Ci(M.x,I.x),U=Ci(M.y,I.y);return ua(ua({},I),{},{x:H(C),y:U(C)})}if(m){var O=Ci(p*2,I.x),R=Ci(g/2,I.y);return ua(ua({},I),{},{x:O(C),y:R(C)})}return ua(ua({},I),{},{x:I.x,y:I.y})});return a.renderCurveStatically(_,n,s)}var B=Ci(0,b),S=B(C),N;if(c){var P="".concat(c).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});N=a.getStrokeDasharray(S,b,P)}else N=a.generateSimpleStrokeDasharray(b,S);return a.renderCurveStatically(l,n,s,{strokeDasharray:N})})}},{key:"renderCurve",value:function(n,s){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,A=c.totalLength;return l&&o&&o.length&&(!u&&A>0||!wB(u,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,a=s.hide,o=s.dot,l=s.points,c=s.className,u=s.xAxis,A=s.yAxis,d=s.top,h=s.left,f=s.width,m=s.height,p=s.isAnimationActive,g=s.id;if(a||!l||!l.length)return null;var y=this.state.isAnimationFinished,x=l.length===1,b=Kt("recharts-line",c),j=u&&u.allowDataOverflow,C=A&&A.allowDataOverflow,E=j||C,_=Dt(g)?this.id:g,B=(n=Lt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},S=B.r,N=S===void 0?3:S,P=B.strokeWidth,I=P===void 0?2:P,T=gUe(o)?o:{},D=T.clipDot,M=D===void 0?!0:D,H=N*2+I;return $.createElement(Zr,{className:b},j||C?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(_)},$.createElement("rect",{x:j?h:h-f/2,y:C?d:d-m/2,width:j?f:f*2,height:C?m:m*2})),!M&&$.createElement("clipPath",{id:"clipPath-dots-".concat(_)},$.createElement("rect",{x:h-H/2,y:d-H/2,width:f+H,height:m+H}))):null,!x&&this.renderCurve(E,_),this.renderErrorBar(E,_),(x||o)&&this.renderDots(E,M,_),(!p||y)&&iu.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var a=n.length%2!==0?[].concat(uh(n),[0]):n,o=[],l=0;l<s;++l)o=[].concat(uh(o),uh(a));return o}},{key:"renderDotItem",value:function(n,s){var a;if($.isValidElement(n))a=$.cloneElement(n,s);else if(Nt(n))a=n(s);else{var o=s.key,l=H6(s,Iet),c=Kt("recharts-line-dot",typeof n!="boolean"?n.className:"");a=$.createElement(tD,Jg({key:o},l,{className:c}))}return a}}])}(v.PureComponent);bi(Kx,"displayName","Line");bi(Kx,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!yl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});bi(Kx,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,s=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,A=e.layout,d=c.map(function(h,f){var m=Na(h,o);return A==="horizontal"?{x:CH({axis:r,ticks:s,bandSize:l,entry:h,index:f}),y:Dt(m)?null:n.scale(m),value:m,payload:h}:{x:Dt(m)?null:r.scale(m),y:CH({axis:n,ticks:a,bandSize:l,entry:h,index:f}),value:m,payload:h}});return ua({points:d,layout:A},u)});function dm(t){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(t)}function Ket(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zet(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gne(n.key),n)}}function Get(t,e,r){return e&&zet(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wet(t,e,r){return e=Zj(e),qet(t,mne()?Reflect.construct(e,r||[],Zj(t).constructor):e.apply(t,r))}function qet(t,e){if(e&&(dm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xet(t)}function Xet(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mne=function(){return!!t})()}function Zj(t){return Zj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zj(t)}function Jet(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OI(t,e)}function OI(t,e){return OI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},OI(t,e)}function pne(t,e,r){return e=gne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gne(t){var e=Yet(t,"string");return dm(e)=="symbol"?e:e+""}function Yet(t,e){if(dm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FI(){return FI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FI.apply(this,arguments)}function Zet(t){var e=t.xAxisId,r=aD(),n=iD(),s=tne(e);return s==null?null:$.createElement(Ym,FI({},s,{className:Kt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ul(o,!0)}}))}var Zm=function(t){function e(){return Ket(this,e),Wet(this,e,arguments)}return Jet(e,t),Get(e,[{key:"render",value:function(){return $.createElement(Zet,this.props)}}])}($.Component);pne(Zm,"displayName","XAxis");pne(Zm,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}function ett(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ttt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xne(n.key),n)}}function rtt(t,e,r){return e&&ttt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ntt(t,e,r){return e=e_(e),stt(t,vne()?Reflect.construct(e,r||[],e_(t).constructor):e.apply(t,r))}function stt(t,e){if(e&&(hm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return att(t)}function att(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vne=function(){return!!t})()}function e_(t){return e_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e_(t)}function itt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DI(t,e)}function DI(t,e){return DI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},DI(t,e)}function yne(t,e,r){return e=xne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xne(t){var e=ott(t,"string");return hm(e)=="symbol"?e:e+""}function ott(t,e){if(hm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RI(){return RI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RI.apply(this,arguments)}var ltt=function(e){var r=e.yAxisId,n=aD(),s=iD(),a=rne(r);return a==null?null:$.createElement(Ym,RI({},a,{className:Kt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return ul(l,!0)}}))},ep=function(t){function e(){return ett(this,e),ntt(this,e,arguments)}return itt(e,t),rtt(e,[{key:"render",value:function(){return $.createElement(ltt,this.props)}}])}($.Component);yne(ep,"displayName","YAxis");yne(ep,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function z6(t){return dtt(t)||Att(t)||utt(t)||ctt()}function ctt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function utt(t,e){if(t){if(typeof t=="string")return UI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UI(t,e)}}function Att(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dtt(t){if(Array.isArray(t))return UI(t)}function UI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var MI=function(e,r,n,s,a){var o=ei(e,lD),l=ei(e,SB),c=[].concat(z6(o),z6(l)),u=ei(e,kB),A="".concat(s,"Id"),d=s[0],h=r;if(c.length&&(h=c.reduce(function(p,g){if(g.props[A]===n&&So(g.props,"extendDomain")&&Fe(g.props[d])){var y=g.props[d];return[Math.min(p[0],y),Math.max(p[1],y)]}return p},h)),u.length){var f="".concat(d,"1"),m="".concat(d,"2");h=u.reduce(function(p,g){if(g.props[A]===n&&So(g.props,"extendDomain")&&Fe(g.props[f])&&Fe(g.props[m])){var y=g.props[f],x=g.props[m];return[Math.min(p[0],y,x),Math.max(p[1],y,x)]}return p},h)}return a&&a.length&&(h=a.reduce(function(p,g){return Fe(g)?[Math.min(p[0],g),Math.max(p[1],g)]:p},h)),h},wne={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,A){this.fn=c,this.context=u,this.once=A||!1}function a(c,u,A,d,h){if(typeof A!="function")throw new TypeError("The listener must be a function");var f=new s(A,d||c,h),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],f]:c._events[m].push(f):(c._events[m]=f,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],A,d;if(this._eventsCount===0)return u;for(d in A=this._events)e.call(A,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(A)):u},l.prototype.listeners=function(u){var A=r?r+u:u,d=this._events[A];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,m=new Array(f);h<f;h++)m[h]=d[h].fn;return m},l.prototype.listenerCount=function(u){var A=r?r+u:u,d=this._events[A];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,A,d,h,f,m){var p=r?r+u:u;if(!this._events[p])return!1;var g=this._events[p],y=arguments.length,x,b;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,A),!0;case 3:return g.fn.call(g.context,A,d),!0;case 4:return g.fn.call(g.context,A,d,h),!0;case 5:return g.fn.call(g.context,A,d,h,f),!0;case 6:return g.fn.call(g.context,A,d,h,f,m),!0}for(b=1,x=new Array(y-1);b<y;b++)x[b-1]=arguments[b];g.fn.apply(g.context,x)}else{var j=g.length,C;for(b=0;b<j;b++)switch(g[b].once&&this.removeListener(u,g[b].fn,void 0,!0),y){case 1:g[b].fn.call(g[b].context);break;case 2:g[b].fn.call(g[b].context,A);break;case 3:g[b].fn.call(g[b].context,A,d);break;case 4:g[b].fn.call(g[b].context,A,d,h);break;default:if(!x)for(C=1,x=new Array(y-1);C<y;C++)x[C-1]=arguments[C];g[b].fn.apply(g[b].context,x)}}return!0},l.prototype.on=function(u,A,d){return a(this,u,A,d,!1)},l.prototype.once=function(u,A,d){return a(this,u,A,d,!0)},l.prototype.removeListener=function(u,A,d,h){var f=r?r+u:u;if(!this._events[f])return this;if(!A)return o(this,f),this;var m=this._events[f];if(m.fn)m.fn===A&&(!h||m.once)&&(!d||m.context===d)&&o(this,f);else{for(var p=0,g=[],y=m.length;p<y;p++)(m[p].fn!==A||h&&!m[p].once||d&&m[p].context!==d)&&g.push(m[p]);g.length?this._events[f]=g.length===1?g[0]:g:o(this,f)}return this},l.prototype.removeAllListeners=function(u){var A;return u?(A=r?r+u:u,this._events[A]&&o(this,A)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(wne);var htt=wne.exports;const ftt=Jt(htt);var cN=new ftt,uN="recharts.syncMouseEvents";function Hy(t){"@babel/helpers - typeof";return Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hy(t)}function mtt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ptt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bne(n.key),n)}}function gtt(t,e,r){return e&&ptt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AN(t,e,r){return e=bne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bne(t){var e=vtt(t,"string");return Hy(e)=="symbol"?e:e+""}function vtt(t,e){if(Hy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ytt=function(){function t(){mtt(this,t),AN(this,"activeIndex",0),AN(this,"coordinateList",[]),AN(this,"layout","horizontal")}return gtt(t,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,a=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,A=r.offset,d=A===void 0?null:A,h=r.mouseHandlerCallback,f=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),a=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,A=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=a+c+u,h=o+this.offset.top+l/2+A;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function xtt(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],s=t==null?void 0:t[1];if(n&&s&&Fe(n)&&Fe(s))return!0}return!1}function wtt(t,e,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-s:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-s,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function jne(t){var e=t.cx,r=t.cy,n=t.radius,s=t.startAngle,a=t.endAngle,o=Gn(e,r,n,s),l=Gn(e,r,n,a);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:s,endAngle:a}}function btt(t,e,r){var n,s,a,o;if(t==="horizontal")n=e.x,a=n,s=r.top,o=r.top+r.height;else if(t==="vertical")s=e.y,o=s,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,A=e.outerRadius,d=e.angle,h=Gn(l,c,u,d),f=Gn(l,c,A,d);n=h.x,s=h.y,a=f.x,o=f.y}else return jne(e);return[{x:n,y:s},{x:a,y:o}]}function Vy(t){"@babel/helpers - typeof";return Vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vy(t)}function G6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Tw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G6(Object(r),!0).forEach(function(n){jtt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jtt(t,e,r){return e=_tt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _tt(t){var e=Ctt(t,"string");return Vy(e)=="symbol"?e:e+""}function Ctt(t,e){if(Vy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Vy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Btt(t){var e,r,n=t.element,s=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,A=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,f=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!f||!a||!o||h!=="ScatterChart"&&s!=="axis")return null;var m,p=uI;if(h==="ScatterChart")m=o,p=_Xe;else if(h==="BarChart")m=wtt(d,o,c,A),p=eD;else if(d==="radial"){var g=jne(o),y=g.cx,x=g.cy,b=g.radius,j=g.startAngle,C=g.endAngle;m={cx:y,cy:x,startAngle:j,endAngle:C,innerRadius:b,outerRadius:b},p=Sre}else m={points:btt(d,o,c)},p=uI;var E=Tw(Tw(Tw(Tw({stroke:"#ccc",pointerEvents:"none"},c),m),Lt(f,!1)),{},{payload:l,payloadIndex:u,className:Kt("recharts-tooltip-cursor",f.className)});return v.isValidElement(f)?v.cloneElement(f,E):v.createElement(p,E)}var Ett=["item"],Stt=["children","className","width","height","style","compact","title","desc"];function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}function Yg(){return Yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yg.apply(this,arguments)}function W6(t,e){return Ttt(t)||ktt(t,e)||Cne(t,e)||Ntt()}function Ntt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ktt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,s=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Ttt(t){if(Array.isArray(t))return t}function q6(t,e){if(t==null)return{};var r=Itt(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Itt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ptt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ott(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bne(n.key),n)}}function Ftt(t,e,r){return e&&Ott(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dtt(t,e,r){return e=t_(e),Rtt(t,_ne()?Reflect.construct(e,r||[],t_(t).constructor):e.apply(t,r))}function Rtt(t,e){if(e&&(fm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Utt(t)}function Utt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _ne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_ne=function(){return!!t})()}function t_(t){return t_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},t_(t)}function Mtt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QI(t,e)}function QI(t,e){return QI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},QI(t,e)}function mm(t){return $tt(t)||Ltt(t)||Cne(t)||Qtt()}function Qtt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cne(t,e){if(t){if(typeof t=="string")return LI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LI(t,e)}}function Ltt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $tt(t){if(Array.isArray(t))return LI(t)}function LI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function X6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function de(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X6(Object(r),!0).forEach(function(n){dt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dt(t,e,r){return e=Bne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bne(t){var e=Htt(t,"string");return fm(e)=="symbol"?e:e+""}function Htt(t,e){if(fm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vtt={xAxis:["bottom","top"],yAxis:["left","right"]},Ktt={width:"100%",height:"100%"},Ene={x:0,y:0};function Iw(t){return t}var ztt=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Gtt=function(e,r,n,s){var a=r.find(function(A){return A&&A.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,l=s.radius;return de(de(de({},s),Gn(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=s.angle;return de(de(de({},s),Gn(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return Ene},TB=function(e,r){var n=r.graphicalItems,s=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(mm(l),mm(u)):l},[]);return o.length>0?o:e&&e.length&&Fe(s)&&Fe(a)?e.slice(s,a+1):[]};function Sne(t){return t==="number"?[0,"auto"]:void 0}var $I=function(e,r,n,s){var a=e.graphicalItems,o=e.tooltipAxis,l=TB(r,e);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,u){var A,d=(A=u.props.data)!==null&&A!==void 0?A:r;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var f=d===void 0?l:d;h=nj(f,o.dataKey,s)}else h=d&&d[n]||l[n];return h?[].concat(mm(c),[Cre(u,h)]):c},[])},J6=function(e,r,n,s){var a=s||{x:e.chartX,y:e.chartY},o=ztt(a,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,A=wGe(o,l,u,c);if(A>=0&&u){var d=u[A]&&u[A].value,h=$I(e,r,A,d),f=Gtt(n,l,A,a);return{activeTooltipIndex:A,activeLabel:d,activePayload:h,activeCoordinate:f}}return null},Wtt=function(e,r){var n=r.axes,s=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,A=e.layout,d=e.children,h=e.stackOffset,f=bre(A,a);return n.reduce(function(m,p){var g,y=p.type.defaultProps!==void 0?de(de({},p.type.defaultProps),p.props):p.props,x=y.type,b=y.dataKey,j=y.allowDataOverflow,C=y.allowDuplicatedCategory,E=y.scale,_=y.ticks,B=y.includeHidden,S=y[o];if(m[S])return m;var N=TB(e.data,{graphicalItems:s.filter(function(X){var se,Z=o in X.props?X.props[o]:(se=X.type.defaultProps)===null||se===void 0?void 0:se[o];return Z===S}),dataStartIndex:c,dataEndIndex:u}),P=N.length,I,T,D;xtt(y.domain,j,x)&&(I=aI(y.domain,null,j),f&&(x==="number"||E!=="auto")&&(D=qg(N,b,"category")));var M=Sne(x);if(!I||I.length===0){var H,U=(H=y.domain)!==null&&H!==void 0?H:M;if(b){if(I=qg(N,b,x),x==="category"&&f){var O=lUe(I);C&&O?(T=I,I=$j(0,P)):C||(I=NH(U,I,p).reduce(function(X,se){return X.indexOf(se)>=0?X:[].concat(mm(X),[se])},[]))}else if(x==="category")C?I=I.filter(function(X){return X!==""&&!Dt(X)}):I=NH(U,I,p).reduce(function(X,se){return X.indexOf(se)>=0||se===""||Dt(se)?X:[].concat(mm(X),[se])},[]);else if(x==="number"){var R=BGe(N,s.filter(function(X){var se,Z,K=o in X.props?X.props[o]:(se=X.type.defaultProps)===null||se===void 0?void 0:se[o],ne="hide"in X.props?X.props.hide:(Z=X.type.defaultProps)===null||Z===void 0?void 0:Z.hide;return K===S&&(B||!ne)}),b,a,A);R&&(I=R)}f&&(x==="number"||E!=="auto")&&(D=qg(N,b,"category"))}else f?I=$j(0,P):l&&l[S]&&l[S].hasStack&&x==="number"?I=h==="expand"?[0,1]:_re(l[S].stackGroups,c,u):I=wre(N,s.filter(function(X){var se=o in X.props?X.props[o]:X.type.defaultProps[o],Z="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return se===S&&(B||!Z)}),x,A,!0);if(x==="number")I=MI(d,I,S,a,_),U&&(I=aI(U,I,j));else if(x==="category"&&U){var Q=U,G=I.every(function(X){return Q.indexOf(X)>=0});G&&(I=Q)}}return de(de({},m),{},dt({},S,de(de({},y),{},{axisType:a,domain:I,categoricalDomain:D,duplicateDomain:T,originalDomain:(g=y.domain)!==null&&g!==void 0?g:M,isCategorical:f,layout:A})))},{})},qtt=function(e,r){var n=r.graphicalItems,s=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,A=e.layout,d=e.children,h=TB(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),f=h.length,m=bre(A,a),p=-1;return n.reduce(function(g,y){var x=y.type.defaultProps!==void 0?de(de({},y.type.defaultProps),y.props):y.props,b=x[o],j=Sne("number");if(!g[b]){p++;var C;return m?C=$j(0,f):l&&l[b]&&l[b].hasStack?(C=_re(l[b].stackGroups,c,u),C=MI(d,C,b,a)):(C=aI(j,wre(h,n.filter(function(E){var _,B,S=o in E.props?E.props[o]:(_=E.type.defaultProps)===null||_===void 0?void 0:_[o],N="hide"in E.props?E.props.hide:(B=E.type.defaultProps)===null||B===void 0?void 0:B.hide;return S===b&&!N}),"number",A),s.defaultProps.allowDataOverflow),C=MI(d,C,b,a)),de(de({},g),{},dt({},b,de(de({axisType:a},s.defaultProps),{},{hide:!0,orientation:Za(Vtt,"".concat(a,".").concat(p%2),null),domain:C,originalDomain:j,isCategorical:m,layout:A})))}return g},{})},Xtt=function(e,r){var n=r.axisType,s=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,A=e.children,d="".concat(s,"Id"),h=ei(A,a),f={};return h&&h.length?f=Wtt(e,{axes:h,graphicalItems:o,axisType:s,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(f=qtt(e,{Axis:a,graphicalItems:o,axisType:s,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),f},Jtt=function(e){var r=_c(e),n=ul(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:E4(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Pj(r,n)}},Y6=function(e){var r=e.children,n=e.defaultShowTooltip,s=pa(r,am),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(a=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Ytt=function(e){return!e||!e.length?!1:e.some(function(r){var n=gl(r&&r.type);return n&&n.indexOf("Bar")>=0})},Z6=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Ztt=function(e,r){var n=e.props,s=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,A=n.height,d=n.children,h=n.margin||{},f=pa(d,am),m=pa(d,Yh),p=Object.keys(c).reduce(function(C,E){var _=c[E],B=_.orientation;return!_.mirror&&!_.hide?de(de({},C),{},dt({},B,C[B]+_.width)):C},{left:h.left||0,right:h.right||0}),g=Object.keys(o).reduce(function(C,E){var _=o[E],B=_.orientation;return!_.mirror&&!_.hide?de(de({},C),{},dt({},B,Za(C,"".concat(B))+_.height)):C},{top:h.top||0,bottom:h.bottom||0}),y=de(de({},g),p),x=y.bottom;f&&(y.bottom+=f.props.height||am.defaultProps.height),m&&r&&(y=_Ge(y,s,n,r));var b=u-y.left-y.right,j=A-y.top-y.bottom;return de(de({brushBottom:x},y),{},{width:Math.max(b,0),height:Math.max(j,0)})},ert=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Nne=function(e){var r=e.chartName,n=e.GraphicalChild,s=e.defaultTooltipEventType,a=s===void 0?"axis":s,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,A=e.formatAxisMap,d=e.defaultProps,h=function(g,y){var x=y.graphicalItems,b=y.stackGroups,j=y.offset,C=y.updateId,E=y.dataStartIndex,_=y.dataEndIndex,B=g.barSize,S=g.layout,N=g.barGap,P=g.barCategoryGap,I=g.maxBarSize,T=Z6(S),D=T.numericAxisName,M=T.cateAxisName,H=Ytt(x),U=[];return x.forEach(function(O,R){var Q=TB(g.data,{graphicalItems:[O],dataStartIndex:E,dataEndIndex:_}),G=O.type.defaultProps!==void 0?de(de({},O.type.defaultProps),O.props):O.props,X=G.dataKey,se=G.maxBarSize,Z=G["".concat(D,"Id")],K=G["".concat(M,"Id")],ne={},ue=c.reduce(function(ae,Ce){var Ne=y["".concat(Ce.axisType,"Map")],be=G["".concat(Ce.axisType,"Id")];Ne&&Ne[be]||Ce.axisType==="zAxis"||wd();var Ye=Ne[be];return de(de({},ae),{},dt(dt({},Ce.axisType,Ye),"".concat(Ce.axisType,"Ticks"),ul(Ye)))},ne),le=ue[M],Ae=ue["".concat(M,"Ticks")],me=b&&b[Z]&&b[Z].hasStack&&UGe(O,b[Z].stackGroups),_e=gl(O.type).indexOf("Bar")>=0,W=Pj(le,Ae),we=[],Oe=H&&bGe({barSize:B,stackGroups:b,totalSize:ert(ue,M)});if(_e){var qe,Ze,It=Dt(se)?I:se,z=(qe=(Ze=Pj(le,Ae,!0))!==null&&Ze!==void 0?Ze:It)!==null&&qe!==void 0?qe:0;we=jGe({barGap:N,barCategoryGap:P,bandSize:z!==W?z:W,sizeList:Oe[K],maxBarSize:It}),z!==W&&(we=we.map(function(ae){return de(de({},ae),{},{position:de(de({},ae.position),{},{offset:ae.position.offset-z/2})})}))}var ee=O&&O.type&&O.type.getComposedData;ee&&U.push({props:de(de({},ee(de(de({},ue),{},{displayedData:Q,props:g,dataKey:X,item:O,bandSize:W,barPosition:we,offset:j,stackedData:me,layout:S,dataStartIndex:E,dataEndIndex:_}))),{},dt(dt(dt({key:O.key||"item-".concat(R)},D,ue[D]),M,ue[M]),"animationId",C)),childIndex:xUe(O,g.children),item:O})}),U},f=function(g,y){var x=g.props,b=g.dataStartIndex,j=g.dataEndIndex,C=g.updateId;if(!b$({props:x}))return null;var E=x.children,_=x.layout,B=x.stackOffset,S=x.data,N=x.reverseStackOrder,P=Z6(_),I=P.numericAxisName,T=P.cateAxisName,D=ei(E,n),M=FGe(S,D,"".concat(I,"Id"),"".concat(T,"Id"),B,N),H=c.reduce(function(G,X){var se="".concat(X.axisType,"Map");return de(de({},G),{},dt({},se,Xtt(x,de(de({},X),{},{graphicalItems:D,stackGroups:X.axisType===I&&M,dataStartIndex:b,dataEndIndex:j}))))},{}),U=Ztt(de(de({},H),{},{props:x,graphicalItems:D}),y==null?void 0:y.legendBBox);Object.keys(H).forEach(function(G){H[G]=A(x,H[G],U,G.replace("Map",""),r)});var O=H["".concat(T,"Map")],R=Jtt(O),Q=h(x,de(de({},H),{},{dataStartIndex:b,dataEndIndex:j,updateId:C,graphicalItems:D,stackGroups:M,offset:U}));return de(de({formattedGraphicalItems:Q,graphicalItems:D,offset:U,stackGroups:M},R),H)},m=function(p){function g(y){var x,b,j;return Ptt(this,g),j=Dtt(this,g,[y]),dt(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),dt(j,"accessibilityManager",new ytt),dt(j,"handleLegendBBoxUpdate",function(C){if(C){var E=j.state,_=E.dataStartIndex,B=E.dataEndIndex,S=E.updateId;j.setState(de({legendBBox:C},f({props:j.props,dataStartIndex:_,dataEndIndex:B,updateId:S},de(de({},j.state),{},{legendBBox:C}))))}}),dt(j,"handleReceiveSyncEvent",function(C,E,_){if(j.props.syncId===C){if(_===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(E)}}),dt(j,"handleBrushChange",function(C){var E=C.startIndex,_=C.endIndex;if(E!==j.state.dataStartIndex||_!==j.state.dataEndIndex){var B=j.state.updateId;j.setState(function(){return de({dataStartIndex:E,dataEndIndex:_},f({props:j.props,dataStartIndex:E,dataEndIndex:_,updateId:B},j.state))}),j.triggerSyncEvent({dataStartIndex:E,dataEndIndex:_})}}),dt(j,"handleMouseEnter",function(C){var E=j.getMouseInfo(C);if(E){var _=de(de({},E),{},{isTooltipActive:!0});j.setState(_),j.triggerSyncEvent(_);var B=j.props.onMouseEnter;Nt(B)&&B(_,C)}}),dt(j,"triggeredAfterMouseMove",function(C){var E=j.getMouseInfo(C),_=E?de(de({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(_),j.triggerSyncEvent(_);var B=j.props.onMouseMove;Nt(B)&&B(_,C)}),dt(j,"handleItemMouseEnter",function(C){j.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),dt(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),dt(j,"handleMouseMove",function(C){C.persist(),j.throttleTriggeredAfterMouseMove(C)}),dt(j,"handleMouseLeave",function(C){j.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};j.setState(E),j.triggerSyncEvent(E);var _=j.props.onMouseLeave;Nt(_)&&_(E,C)}),dt(j,"handleOuterEvent",function(C){var E=yUe(C),_=Za(j.props,"".concat(E));if(E&&Nt(_)){var B,S;/.*touch.*/i.test(E)?S=j.getMouseInfo(C.changedTouches[0]):S=j.getMouseInfo(C),_((B=S)!==null&&B!==void 0?B:{},C)}}),dt(j,"handleClick",function(C){var E=j.getMouseInfo(C);if(E){var _=de(de({},E),{},{isTooltipActive:!0});j.setState(_),j.triggerSyncEvent(_);var B=j.props.onClick;Nt(B)&&B(_,C)}}),dt(j,"handleMouseDown",function(C){var E=j.props.onMouseDown;if(Nt(E)){var _=j.getMouseInfo(C);E(_,C)}}),dt(j,"handleMouseUp",function(C){var E=j.props.onMouseUp;if(Nt(E)){var _=j.getMouseInfo(C);E(_,C)}}),dt(j,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),dt(j,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&j.handleMouseDown(C.changedTouches[0])}),dt(j,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&j.handleMouseUp(C.changedTouches[0])}),dt(j,"triggerSyncEvent",function(C){j.props.syncId!==void 0&&cN.emit(uN,j.props.syncId,C,j.eventEmitterSymbol)}),dt(j,"applySyncEvent",function(C){var E=j.props,_=E.layout,B=E.syncMethod,S=j.state.updateId,N=C.dataStartIndex,P=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)j.setState(de({dataStartIndex:N,dataEndIndex:P},f({props:j.props,dataStartIndex:N,dataEndIndex:P,updateId:S},j.state)));else if(C.activeTooltipIndex!==void 0){var I=C.chartX,T=C.chartY,D=C.activeTooltipIndex,M=j.state,H=M.offset,U=M.tooltipTicks;if(!H)return;if(typeof B=="function")D=B(U,C);else if(B==="value"){D=-1;for(var O=0;O<U.length;O++)if(U[O].value===C.activeLabel){D=O;break}}var R=de(de({},H),{},{x:H.left,y:H.top}),Q=Math.min(I,R.x+R.width),G=Math.min(T,R.y+R.height),X=U[D]&&U[D].value,se=$I(j.state,j.props.data,D),Z=U[D]?{x:_==="horizontal"?U[D].coordinate:Q,y:_==="horizontal"?G:U[D].coordinate}:Ene;j.setState(de(de({},C),{},{activeLabel:X,activeCoordinate:Z,activePayload:se,activeTooltipIndex:D}))}else j.setState(C)}),dt(j,"renderCursor",function(C){var E,_=j.state,B=_.isTooltipActive,S=_.activeCoordinate,N=_.activePayload,P=_.offset,I=_.activeTooltipIndex,T=_.tooltipAxisBandSize,D=j.getTooltipEventType(),M=(E=C.props.active)!==null&&E!==void 0?E:B,H=j.props.layout,U=C.key||"_recharts-cursor";return $.createElement(Btt,{key:U,activeCoordinate:S,activePayload:N,activeTooltipIndex:I,chartName:r,element:C,isActive:M,layout:H,offset:P,tooltipAxisBandSize:T,tooltipEventType:D})}),dt(j,"renderPolarAxis",function(C,E,_){var B=Za(C,"type.axisType"),S=Za(j.state,"".concat(B,"Map")),N=C.type.defaultProps,P=N!==void 0?de(de({},N),C.props):C.props,I=S&&S[P["".concat(B,"Id")]];return v.cloneElement(C,de(de({},I),{},{className:Kt(B,I.className),key:C.key||"".concat(E,"-").concat(_),ticks:ul(I,!0)}))}),dt(j,"renderPolarGrid",function(C){var E=C.props,_=E.radialLines,B=E.polarAngles,S=E.polarRadius,N=j.state,P=N.radiusAxisMap,I=N.angleAxisMap,T=_c(P),D=_c(I),M=D.cx,H=D.cy,U=D.innerRadius,O=D.outerRadius;return v.cloneElement(C,{polarAngles:Array.isArray(B)?B:ul(D,!0).map(function(R){return R.coordinate}),polarRadius:Array.isArray(S)?S:ul(T,!0).map(function(R){return R.coordinate}),cx:M,cy:H,innerRadius:U,outerRadius:O,key:C.key||"polar-grid",radialLines:_})}),dt(j,"renderLegend",function(){var C=j.state.formattedGraphicalItems,E=j.props,_=E.children,B=E.width,S=E.height,N=j.props.margin||{},P=B-(N.left||0)-(N.right||0),I=yre({children:_,formattedGraphicalItems:C,legendWidth:P,legendContent:u});if(!I)return null;var T=I.item,D=q6(I,Ett);return v.cloneElement(T,de(de({},D),{},{chartWidth:B,chartHeight:S,margin:N,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),dt(j,"renderTooltip",function(){var C,E=j.props,_=E.children,B=E.accessibilityLayer,S=pa(_,xi);if(!S)return null;var N=j.state,P=N.isTooltipActive,I=N.activeCoordinate,T=N.activePayload,D=N.activeLabel,M=N.offset,H=(C=S.props.active)!==null&&C!==void 0?C:P;return v.cloneElement(S,{viewBox:de(de({},M),{},{x:M.left,y:M.top}),active:H,label:D,payload:H?T:[],coordinate:I,accessibilityLayer:B})}),dt(j,"renderBrush",function(C){var E=j.props,_=E.margin,B=E.data,S=j.state,N=S.offset,P=S.dataStartIndex,I=S.dataEndIndex,T=S.updateId;return v.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Ew(j.handleBrushChange,C.props.onChange),data:B,x:Fe(C.props.x)?C.props.x:N.left,y:Fe(C.props.y)?C.props.y:N.top+N.height+N.brushBottom-(_.bottom||0),width:Fe(C.props.width)?C.props.width:N.width,startIndex:P,endIndex:I,updateId:"brush-".concat(T)})}),dt(j,"renderReferenceElement",function(C,E,_){if(!C)return null;var B=j,S=B.clipPathId,N=j.state,P=N.xAxisMap,I=N.yAxisMap,T=N.offset,D=C.type.defaultProps||{},M=C.props,H=M.xAxisId,U=H===void 0?D.xAxisId:H,O=M.yAxisId,R=O===void 0?D.yAxisId:O;return v.cloneElement(C,{key:C.key||"".concat(E,"-").concat(_),xAxis:P[U],yAxis:I[R],viewBox:{x:T.left,y:T.top,width:T.width,height:T.height},clipPathId:S})}),dt(j,"renderActivePoints",function(C){var E=C.item,_=C.activePoint,B=C.basePoint,S=C.childIndex,N=C.isRange,P=[],I=E.props.key,T=E.item.type.defaultProps!==void 0?de(de({},E.item.type.defaultProps),E.item.props):E.item.props,D=T.activeDot,M=T.dataKey,H=de(de({index:S,dataKey:M,cx:_.x,cy:_.y,r:4,fill:Z4(E.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},Lt(D,!1)),sj(D));return P.push(g.renderActiveDot(D,H,"".concat(I,"-activePoint-").concat(S))),B?P.push(g.renderActiveDot(D,de(de({},H),{},{cx:B.x,cy:B.y}),"".concat(I,"-basePoint-").concat(S))):N&&P.push(null),P}),dt(j,"renderGraphicChild",function(C,E,_){var B=j.filterFormatItem(C,E,_);if(!B)return null;var S=j.getTooltipEventType(),N=j.state,P=N.isTooltipActive,I=N.tooltipAxis,T=N.activeTooltipIndex,D=N.activeLabel,M=j.props.children,H=pa(M,xi),U=B.props,O=U.points,R=U.isRange,Q=U.baseLine,G=B.item.type.defaultProps!==void 0?de(de({},B.item.type.defaultProps),B.item.props):B.item.props,X=G.activeDot,se=G.hide,Z=G.activeBar,K=G.activeShape,ne=!!(!se&&P&&H&&(X||Z||K)),ue={};S!=="axis"&&H&&H.props.trigger==="click"?ue={onClick:Ew(j.handleItemMouseEnter,C.props.onClick)}:S!=="axis"&&(ue={onMouseLeave:Ew(j.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Ew(j.handleItemMouseEnter,C.props.onMouseEnter)});var le=v.cloneElement(C,de(de({},B.props),ue));function Ae(Ce){return typeof I.dataKey=="function"?I.dataKey(Ce.payload):null}if(ne)if(T>=0){var me,_e;if(I.dataKey&&!I.allowDuplicatedCategory){var W=typeof I.dataKey=="function"?Ae:"payload.".concat(I.dataKey.toString());me=nj(O,W,D),_e=R&&Q&&nj(Q,W,D)}else me=O==null?void 0:O[T],_e=R&&Q&&Q[T];if(K||Z){var we=C.props.activeIndex!==void 0?C.props.activeIndex:T;return[v.cloneElement(C,de(de(de({},B.props),ue),{},{activeIndex:we})),null,null]}if(!Dt(me))return[le].concat(mm(j.renderActivePoints({item:B,activePoint:me,basePoint:_e,childIndex:T,isRange:R})))}else{var Oe,qe=(Oe=j.getItemByXY(j.state.activeCoordinate))!==null&&Oe!==void 0?Oe:{graphicalItem:le},Ze=qe.graphicalItem,It=Ze.item,z=It===void 0?C:It,ee=Ze.childIndex,ae=de(de(de({},B.props),ue),{},{activeIndex:ee});return[v.cloneElement(z,ae),null,null]}return R?[le,null,null]:[le,null]}),dt(j,"renderCustomized",function(C,E,_){return v.cloneElement(C,de(de({key:"recharts-customized-".concat(_)},j.props),j.state))}),dt(j,"renderMap",{CartesianGrid:{handler:Iw,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Iw},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Iw},YAxis:{handler:Iw},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((x=y.id)!==null&&x!==void 0?x:Ux("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=vte(j.triggeredAfterMouseMove,(b=y.throttleDelay)!==null&&b!==void 0?b:1e3/60),j.state={},j}return Mtt(g,p),Ftt(g,[{key:"componentDidMount",value:function(){var x,b;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(b=this.props.margin.top)!==null&&b!==void 0?b:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,b=x.children,j=x.data,C=x.height,E=x.layout,_=pa(b,xi);if(_){var B=_.props.defaultIndex;if(!(typeof B!="number"||B<0||B>this.state.tooltipTicks.length-1)){var S=this.state.tooltipTicks[B]&&this.state.tooltipTicks[B].value,N=$I(this.state,j,B,S),P=this.state.tooltipTicks[B].coordinate,I=(this.state.offset.top+C)/2,T=E==="horizontal",D=T?{x:P,y:I}:{y:P,x:I},M=this.state.formattedGraphicalItems.find(function(U){var O=U.item;return O.type.name==="Scatter"});M&&(D=de(de({},D),M.props.points[B].tooltipPosition),N=M.props.points[B].tooltipPayload);var H={activeTooltipIndex:B,isTooltipActive:!0,activeLabel:S,activePayload:N,activeCoordinate:D};this.setState(H),this.renderCursor(_),this.accessibilityManager.setIndex(B)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,b){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==b.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var j,C;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(x){x2([pa(x.children,xi)],[pa(this.props.children,xi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=pa(this.props.children,xi);if(x&&typeof x.props.shared=="boolean"){var b=x.props.shared?"axis":"item";return l.indexOf(b)>=0?b:a}return a}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var b=this.container,j=b.getBoundingClientRect(),C=G8e(j),E={chartX:Math.round(x.pageX-C.left),chartY:Math.round(x.pageY-C.top)},_=j.width/b.offsetWidth||1,B=this.inRange(E.chartX,E.chartY,_);if(!B)return null;var S=this.state,N=S.xAxisMap,P=S.yAxisMap,I=this.getTooltipEventType();if(I!=="axis"&&N&&P){var T=_c(N).scale,D=_c(P).scale,M=T&&T.invert?T.invert(E.chartX):null,H=D&&D.invert?D.invert(E.chartY):null;return de(de({},E),{},{xValue:M,yValue:H})}var U=J6(this.state,this.props.data,this.props.layout,B);return U?de(de({},E),U):null}},{key:"inRange",value:function(x,b){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,E=x/j,_=b/j;if(C==="horizontal"||C==="vertical"){var B=this.state.offset,S=E>=B.left&&E<=B.left+B.width&&_>=B.top&&_<=B.top+B.height;return S?{x:E,y:_}:null}var N=this.state,P=N.angleAxisMap,I=N.radiusAxisMap;if(P&&I){var T=_c(P);return IH({x:E,y:_},T)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,b=this.getTooltipEventType(),j=pa(x,xi),C={};j&&b==="axis"&&(j.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var E=sj(this.props,this.handleOuterEvent);return de(de({},E),C)}},{key:"addListener",value:function(){cN.on(uN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){cN.removeListener(uN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,b,j){for(var C=this.state.formattedGraphicalItems,E=0,_=C.length;E<_;E++){var B=C[E];if(B.item===x||B.props.key===x.key||b===gl(B.item.type)&&j===B.childIndex)return B}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,b=this.state.offset,j=b.left,C=b.top,E=b.height,_=b.width;return $.createElement("defs",null,$.createElement("clipPath",{id:x},$.createElement("rect",{x:j,y:C,height:E,width:_})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(b,j){var C=W6(j,2),E=C[0],_=C[1];return de(de({},b),{},dt({},E,_.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(b,j){var C=W6(j,2),E=C[0],_=C[1];return de(de({},b),{},dt({},E,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var b;return(b=this.state.xAxisMap)===null||b===void 0||(b=b[x])===null||b===void 0?void 0:b.scale}},{key:"getYScaleByAxisId",value:function(x){var b;return(b=this.state.yAxisMap)===null||b===void 0||(b=b[x])===null||b===void 0?void 0:b.scale}},{key:"getItemByXY",value:function(x){var b=this.state,j=b.formattedGraphicalItems,C=b.activeItem;if(j&&j.length)for(var E=0,_=j.length;E<_;E++){var B=j[E],S=B.props,N=B.item,P=N.type.defaultProps!==void 0?de(de({},N.type.defaultProps),N.props):N.props,I=gl(N.type);if(I==="Bar"){var T=(S.data||[]).find(function(U){return fXe(x,U)});if(T)return{graphicalItem:B,payload:T}}else if(I==="RadialBar"){var D=(S.data||[]).find(function(U){return IH(x,U)});if(D)return{graphicalItem:B,payload:D}}else if(_B(B,C)||CB(B,C)||Uy(B,C)){var M=gJe({graphicalItem:B,activeTooltipItem:C,itemData:P.data}),H=P.activeIndex===void 0?M:P.activeIndex;return{graphicalItem:de(de({},B),{},{childIndex:H}),payload:Uy(B,C)?P.data[M]:B.props.data[M]}}}return null}},{key:"render",value:function(){var x=this;if(!b$(this))return null;var b=this.props,j=b.children,C=b.className,E=b.width,_=b.height,B=b.style,S=b.compact,N=b.title,P=b.desc,I=q6(b,Stt),T=Lt(I,!1);if(S)return $.createElement(k6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(b2,Yg({},T,{width:E,height:_,title:N,desc:P}),this.renderClipPath(),_$(j,this.renderMap)));if(this.props.accessibilityLayer){var D,M;T.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,T.role=(M=this.props.role)!==null&&M!==void 0?M:"application",T.onKeyDown=function(U){x.accessibilityManager.keyboardEvent(U)},T.onFocus=function(){x.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return $.createElement(k6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",Yg({className:Kt("recharts-wrapper",C),style:de({position:"relative",cursor:"default",width:E,height:_},B)},H,{ref:function(O){x.container=O}}),$.createElement(b2,Yg({},T,{width:E,height:_,title:N,desc:P,style:Ktt}),this.renderClipPath(),_$(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);return dt(m,"displayName",r),dt(m,"defaultProps",de({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),dt(m,"getDerivedStateFromProps",function(p,g){var y=p.dataKey,x=p.data,b=p.children,j=p.width,C=p.height,E=p.layout,_=p.stackOffset,B=p.margin,S=g.dataStartIndex,N=g.dataEndIndex;if(g.updateId===void 0){var P=Y6(p);return de(de(de({},P),{},{updateId:0},f(de(de({props:p},P),{},{updateId:0}),g)),{},{prevDataKey:y,prevData:x,prevWidth:j,prevHeight:C,prevLayout:E,prevStackOffset:_,prevMargin:B,prevChildren:b})}if(y!==g.prevDataKey||x!==g.prevData||j!==g.prevWidth||C!==g.prevHeight||E!==g.prevLayout||_!==g.prevStackOffset||!Jh(B,g.prevMargin)){var I=Y6(p),T={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},D=de(de({},J6(g,x,E)),{},{updateId:g.updateId+1}),M=de(de(de({},I),T),D);return de(de(de({},M),f(de({props:p},M),g)),{},{prevDataKey:y,prevData:x,prevWidth:j,prevHeight:C,prevLayout:E,prevStackOffset:_,prevMargin:B,prevChildren:b})}if(!x2(b,g.prevChildren)){var H,U,O,R,Q=pa(b,am),G=Q&&(H=(U=Q.props)===null||U===void 0?void 0:U.startIndex)!==null&&H!==void 0?H:S,X=Q&&(O=(R=Q.props)===null||R===void 0?void 0:R.endIndex)!==null&&O!==void 0?O:N,se=G!==S||X!==N,Z=!Dt(x),K=Z&&!se?g.updateId:g.updateId+1;return de(de({updateId:K},f(de(de({props:p},g),{},{updateId:K,dataStartIndex:G,dataEndIndex:X}),g)),{},{prevChildren:b,dataStartIndex:G,dataEndIndex:X})}return null}),dt(m,"renderActiveDot",function(p,g,y){var x;return v.isValidElement(p)?x=v.cloneElement(p,g):Nt(p)?x=p(g):x=$.createElement(tD,g),$.createElement(Zr,{className:"recharts-active-dot",key:y},x)}),function(g){return $.createElement(m,g)}},trt=Nne({chartName:"LineChart",GraphicalChild:Kx,axisComponents:[{axisType:"xAxis",AxisComp:Zm},{axisType:"yAxis",AxisComp:ep}],formatAxisMap:Gre}),rrt=Nne({chartName:"BarChart",GraphicalChild:Id,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Zm},{axisType:"yAxis",AxisComp:ep}],formatAxisMap:Gre});const nrt={light:"",dark:".dark"},kne=v.createContext(null);function Tne(){const t=v.useContext(kne);if(!t)throw new Error("useChart must be used within a <ChartContainer />");return t}const dD=v.forwardRef(({id:t,className:e,children:r,config:n,...s},a)=>{const o=v.useId(),l=`chart-${t||o.replace(/:/g,"")}`;return i.jsx(kne.Provider,{value:{config:n},children:i.jsxs("div",{"data-chart":l,ref:a,className:he("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",e),...s,children:[i.jsx(srt,{id:l,config:n}),i.jsx(Q8e,{children:r})]})})});dD.displayName="Chart";const srt=({id:t,config:e})=>{const r=Object.entries(e).filter(([n,s])=>s.theme||s.color);return r.length?i.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(nrt).map(([n,s])=>`
${s} [data-chart=${t}] {
${r.map(([a,o])=>{var c;const l=((c=o.theme)==null?void 0:c[n])||o.color;return l?`  --color-${a}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},art=v.forwardRef(({active:t,payload:e,className:r,indicator:n="dot",hideLabel:s=!1,hideIndicator:a=!1,label:o,labelFormatter:l,labelClassName:c,formatter:u,color:A,nameKey:d,labelKey:h},f)=>{const{config:m}=Tne(),p=v.useMemo(()=>{var C;if(s||!(e!=null&&e.length))return null;const[y]=e,x=`${h||y.dataKey||y.name||"value"}`,b=HI(m,y,x),j=!h&&typeof o=="string"?((C=m[o])==null?void 0:C.label)||o:b==null?void 0:b.label;return l?i.jsx("div",{className:he("font-medium",c),children:l(j,e)}):j?i.jsx("div",{className:he("font-medium",c),children:j}):null},[o,l,e,s,c,m,h]);if(!t||!(e!=null&&e.length))return null;const g=e.length===1&&n!=="dot";return i.jsxs("div",{ref:f,className:he("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[g?null:p,i.jsx("div",{className:"grid gap-1.5",children:e.map((y,x)=>{const b=`${d||y.name||y.dataKey||"value"}`,j=HI(m,y,b),C=A||y.payload.fill||y.color;return i.jsx("div",{className:he("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(y==null?void 0:y.value)!==void 0&&y.name?u(y.value,y.name,y,x,y.payload):i.jsxs(i.Fragment,{children:[j!=null&&j.icon?i.jsx(j.icon,{}):!a&&i.jsx("div",{className:he("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":g&&n==="dashed"}),style:{"--color-bg":C,"--color-border":C}}),i.jsxs("div",{className:he("flex flex-1 justify-between leading-none",g?"items-end":"items-center"),children:[i.jsxs("div",{className:"grid gap-1.5",children:[g?p:null,i.jsx("span",{className:"text-muted-foreground",children:(j==null?void 0:j.label)||y.name})]}),y.value&&i.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:y.value.toLocaleString()})]})]})},y.dataKey)})})]})});art.displayName="ChartTooltip";const irt=v.forwardRef(({className:t,hideIcon:e=!1,payload:r,verticalAlign:n="bottom",nameKey:s},a)=>{const{config:o}=Tne();return r!=null&&r.length?i.jsx("div",{ref:a,className:he("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",t),children:r.map(l=>{const c=`${s||l.dataKey||"value"}`,u=HI(o,l,c);return i.jsxs("div",{className:he("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!e?i.jsx(u.icon,{}):i.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});irt.displayName="ChartLegend";function HI(t,e,r){if(typeof e!="object"||e===null)return;const n="payload"in e&&typeof e.payload=="object"&&e.payload!==null?e.payload:void 0;let s=r;return r in e&&typeof e[r]=="string"?s=e[r]:n&&r in n&&typeof n[r]=="string"&&(s=n[r]),s in t?t[s]:t[r]}function Ine({data:t,index:e,categories:r,colors:n=["#FF7E47"],valueFormatter:s=o=>`${o}`,yAxisWidth:a=40}){return i.jsx(dD,{config:{[r[0]]:{color:n[0]}},children:i.jsxs(rrt,{data:t,margin:{top:20,right:20,bottom:20,left:20},children:[i.jsx(AD,{strokeDasharray:"3 3",vertical:!1}),i.jsx(Zm,{dataKey:e}),i.jsx(ep,{width:a,tickFormatter:s}),i.jsx(xi,{content:({active:o,payload:l})=>o&&l&&l.length?i.jsx("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:i.jsx("div",{className:"grid grid-cols-2 gap-2",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-[0.70rem] uppercase text-muted-foreground",children:l[0].payload[e]}),i.jsx("span",{className:"font-bold text-muted-foreground",children:s(Number(l[0].value))})]})})}):null}),r.map((o,l)=>i.jsx(Id,{dataKey:o,fill:n[l]||n[0],radius:[4,4,0,0]},o))]})})}function ort({data:t,index:e,categories:r,colors:n=["#FF7E47"],valueFormatter:s=o=>`${o}`,yAxisWidth:a=40}){return i.jsx(dD,{config:{[r[0]]:{color:n[0]}},children:i.jsxs(trt,{data:t,margin:{top:20,right:20,bottom:20,left:20},children:[i.jsx(AD,{strokeDasharray:"3 3",vertical:!1}),i.jsx(Zm,{dataKey:e}),i.jsx(ep,{width:a,tickFormatter:s}),i.jsx(xi,{content:({active:o,payload:l})=>o&&l&&l.length?i.jsx("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:i.jsx("div",{className:"grid grid-cols-2 gap-2",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-[0.70rem] uppercase text-muted-foreground",children:l[0].payload[e]}),i.jsx("span",{className:"font-bold text-muted-foreground",children:s(Number(l[0].value))})]})})}):null}),r.map((o,l)=>i.jsx(Kx,{type:"monotone",dataKey:o,stroke:n[l]||n[0],strokeWidth:2,dot:{r:4},activeDot:{r:6}},o))]})})}function lrt(){var c,u;const[t,e]=v.useState({totalProducts:0,totalOrders:0,totalUsers:0,totalShippingMethods:0}),[r,n]=v.useState(null),[s,a]=v.useState({totalSales:0,totalPurchaseCost:0,profit:0,profitMargin:0}),[o,l]=v.useState([{name:"Jan",total:0},{name:"Feb",total:0},{name:"Mar",total:0},{name:"Apr",total:0},{name:"May",total:0},{name:"Jun",total:0}]);return v.useEffect(()=>{(async()=>{const[d,h,f,m,p,g]=await Promise.all([J.from("products").select("id",{count:"exact",head:!0}),J.from("orders").select("id",{count:"exact",head:!0}),J.from("profiles").select("id",{count:"exact",head:!0}),J.from("shipping_methods").select("id",{count:"exact",head:!0}),J.from("coal_inventory_summary").select("*").maybeSingle(),J.from("coal_inventory_transactions").select("*")]);e({totalProducts:d.count||0,totalOrders:h.count||0,totalUsers:f.count||0,totalShippingMethods:m.count||0}),p.data&&n(p.data);const{data:y}=await J.from("orders").select("date, total, status").neq("status","canceled").order("date",{ascending:!1}).limit(100);if(y){const x=y.reduce((_,B)=>_+Number(B.total),0),b=[0,0,0,0,0,0];y.forEach(_=>{const S=new Date(_.date).getMonth();S<6&&(b[S]+=Number(_.total))}),l([{name:"Jan",total:b[0]},{name:"Feb",total:b[1]},{name:"Mar",total:b[2]},{name:"Apr",total:b[3]},{name:"Mei",total:b[4]},{name:"Jun",total:b[5]}]);let j=0;g.data&&(j=g.data.filter(B=>B.transaction_type==="incoming"&&B.vehicle_info!=="cancelled_order_return").reduce((B,S)=>{const N=(S.price_per_kg||0)*S.quantity_kg;return B+N},0));const C=x-j,E=x>0?C/x*100:0;a({totalSales:x,totalPurchaseCost:j,profit:C,profitMargin:E})}})()},[]),i.jsxs(qn,{children:[i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Dasbor Admin"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[i.jsxs(ye,{children:[i.jsxs(ot,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(lt,{className:"text-sm font-medium",children:"Produk"}),i.jsx(Bl,{className:"h-4 w-4 text-gray-500"})]}),i.jsxs(xe,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.totalProducts}),i.jsx("p",{className:"text-xs text-gray-500",children:"Total produk"})]})]}),i.jsxs(ye,{children:[i.jsxs(ot,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(lt,{className:"text-sm font-medium",children:"Pesanan"}),i.jsx(w_,{className:"h-4 w-4 text-gray-500"})]}),i.jsxs(xe,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.totalOrders}),i.jsx("p",{className:"text-xs text-gray-500",children:"Total pesanan"})]})]}),i.jsxs(ye,{children:[i.jsxs(ot,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(lt,{className:"text-sm font-medium",children:"Pengguna"}),i.jsx(XP,{className:"h-4 w-4 text-gray-500"})]}),i.jsxs(xe,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.totalUsers}),i.jsx("p",{className:"text-xs text-gray-500",children:"Pengguna terdaftar"})]})]}),i.jsxs(ye,{children:[i.jsxs(ot,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(lt,{className:"text-sm font-medium",children:"Metode Pengiriman"}),i.jsx(ple,{className:"h-4 w-4 text-gray-500"})]}),i.jsxs(xe,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.totalShippingMethods}),i.jsx("p",{className:"text-xs text-gray-500",children:"Opsi pengiriman tersedia"})]})]})]}),i.jsxs(ye,{className:"mb-8",children:[i.jsxs(ot,{children:[i.jsx(lt,{className:"flex justify-between items-center",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ble,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:"Ringkasan Keuangan"})]})}),i.jsx(ur,{children:"Analisis penghasilan, biaya, dan keuntungan dari penjualan arang"})]}),i.jsx(xe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[i.jsx(ye,{children:i.jsx(xe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total Penjualan"}),i.jsx("h3",{className:"text-xl font-bold text-green-600",children:ge(s.totalSales)})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(CU,{className:"h-6 w-6 text-green-600"})})]})})}),i.jsx(ye,{children:i.jsx(xe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Biaya Pembelian"}),i.jsx("h3",{className:"text-xl font-bold text-red-600",children:ge(s.totalPurchaseCost)})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-red-100 flex items-center justify-center",children:i.jsx(Gle,{className:"h-6 w-6 text-red-600"})})]})})}),i.jsx(ye,{children:i.jsx(xe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:s.profit>=0?"Keuntungan":"Kerugian"}),i.jsx("h3",{className:"text-xl font-bold",style:{color:s.profit>=0?"#047857":"#dc2626"},children:ge(Math.abs(s.profit))})]}),i.jsx("div",{className:"h-12 w-12 rounded-full",style:{backgroundColor:s.profit>=0?"#DCFCE7":"#FEE2E2"},children:s.profit>=0?i.jsx(CU,{className:"h-6 w-6 text-green-600"}):i.jsx(b_,{className:"h-6 w-6 text-red-600"})})]})})}),i.jsx(ye,{children:i.jsx(xe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Margin"}),i.jsxs("h3",{className:"text-xl font-bold",style:{color:s.profit>=0?"#047857":"#dc2626"},children:[s.profitMargin.toFixed(2),"%"]})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(jU,{className:"h-6 w-6 text-blue-600"})})]})})})]})})]}),i.jsxs(ye,{className:"mb-8",children:[i.jsxs(ot,{children:[i.jsxs(lt,{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(BU,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:"Manajemen Stok Arang"})]}),i.jsx(st,{to:"/admin/coal-inventory",children:i.jsxs(V,{className:"bg-flame-500 hover:bg-flame-600",children:[i.jsx(a9,{className:"h-4 w-4 mr-2"}),"Kelola Stok Arang"]})})]}),i.jsx(ur,{children:"Lihat ringkasan stok arang dan catat transaksi masuk/keluar"})]}),i.jsxs(xe,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[i.jsx(ye,{children:i.jsx(xe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Stok Saat Ini"}),i.jsxs("h3",{className:"text-2xl font-bold",children:[((c=r==null?void 0:r.current_stock_kg)==null?void 0:c.toLocaleString("id-ID"))||"0"," kg"]})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(BU,{className:"h-6 w-6 text-green-600"})})]})})}),i.jsx(ye,{children:i.jsx(xe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total Pemasukan"}),i.jsxs("h3",{className:"text-2xl font-bold",children:[((u=r==null?void 0:r.total_incoming_kg)==null?void 0:u.toLocaleString("id-ID"))||"0"," kg"]})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(dle,{className:"h-6 w-6 text-blue-600"})})]})})}),i.jsx(ye,{children:i.jsx(xe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Nilai Stok"}),i.jsx("h3",{className:"text-xl font-bold",children:r?ge(r.stock_value):"Rp 0"})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center",children:i.jsx(jU,{className:"h-6 w-6 text-yellow-600"})})]})})})]}),i.jsx("div",{className:"flex justify-center mt-4",children:i.jsx(st,{to:"/admin/coal-inventory",children:i.jsx(V,{variant:"outline",className:"w-full max-w-md",children:"Lihat Detail Transaksi Stok Arang"})})})]})]}),i.jsxs(ye,{className:"mb-8",children:[i.jsx(ot,{children:i.jsx(lt,{children:"Ringkasan Penjualan"})}),i.jsx(xe,{children:i.jsx("div",{className:"h-80",children:i.jsx(Ine,{data:o,index:"name",categories:["total"],colors:["#FF7E47"],yAxisWidth:60,valueFormatter:A=>ge(A)})})})]})]})}var crt="AspectRatio",Pne=v.forwardRef((t,e)=>{const{ratio:r=1/1,style:n,...s}=t;return i.jsx("div",{style:{position:"relative",width:"100%",paddingBottom:`${100/r}%`},"data-radix-aspect-ratio-wrapper":"",children:i.jsx(et.div,{...s,ref:e,style:{...n,position:"absolute",top:0,right:0,bottom:0,left:0}})})});Pne.displayName=crt;var urt=Pne;const Art=urt,drt=Gi({quantity:Bo().int(),type:Hf(["restock","sale","return","adjustment"]),notes:Ar().optional()}),hrt=Gi({name:Ar().min(1,"Nama wajib diisi"),type:Ar().min(1,"Tipe wajib diisi"),price:Bo().min(0,"Harga harus berupa angka positif"),description:Ar().optional(),origin:Ar().optional(),seller:Ar().optional(),in_stock:tu().default(!0),featured:tu().default(!1),discount:Bo().min(0).max(100).optional()});function frt(){const[t,e]=v.useState([]),[r,n]=v.useState(""),[s,a]=v.useState(!0),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[A,d]=v.useState(!1),[h,f]=v.useState(null),[m,p]=v.useState(1),[g,y]=v.useState(10),[x,b]=v.useState(0),[j,C]=v.useState(!1),E=Is({resolver:Ps(drt),defaultValues:{quantity:0,type:"restock",notes:""}}),_=Is({resolver:Ps(hrt),defaultValues:{name:"",type:"",price:0,description:"",origin:"",seller:"",in_stock:!0,featured:!1,discount:0}});v.useEffect(()=>{B()},[m,r]);const B=async()=>{a(!0);try{let Q=J.from("products").select("*",{count:"exact"});r&&(Q=Q.ilike("name",`%${r}%`));const{data:G,error:X,count:se}=await Q.order("created_at",{ascending:!1}).range((m-1)*g,m*g-1);if(X)throw X;e(G),b(se||0)}catch(Q){console.error("Error fetching products:",Q),fe({title:"Error memuat produk",description:Q.message||"Silakan coba lagi nanti.",variant:"destructive"})}finally{a(!1)}},S=Q=>{f(Q),l(!0),E.reset({quantity:0,type:"restock",notes:""})},N=()=>{f(null),u(!0),_.reset({name:"",type:"",price:0,description:"",origin:"",seller:"",in_stock:!0,featured:!1,discount:0})},P=Q=>{f(Q),d(!0),_.reset({name:Q.name,type:Q.type,price:Q.price,description:Q.description||"",origin:Q.origin||"",seller:Q.seller||"",in_stock:Q.in_stock||!1,featured:Q.featured||!1,discount:Q.discount||0})},I=Q=>{f(Q),C(!0)},T=async()=>{if(h)try{const{error:Q}=await J.from("products").delete().eq("id",h.id);if(Q)throw Q;fe({title:"Produk dihapus",description:"Produk telah dihapus berhasil."}),C(!1),B()}catch(Q){console.error("Error deleting product:",Q),fe({title:"Error menghapus produk",description:Q.message||"Silakan coba lagi nanti.",variant:"destructive"})}},D=async Q=>{if(h)try{const G={id:"",product_id:h.id,quantity:Q.quantity,transaction_type:Q.type,notes:Q.notes||void 0,created_by:null},{error:X}=await J.from("inventory_transactions").insert(G);if(X)throw X;Q.type==="restock"&&Q.quantity>0&&!h.in_stock&&await J.from("products").update({in_stock:!0}).eq("id",h.id),fe({title:"Inventaris diperbarui",description:`${Q.quantity} unit ${Q.type==="restock"?"ditambahkan ke":"disesuaikan di"} inventaris.`}),l(!1),B()}catch(G){console.error("Error memperbarui inventaris:",G),fe({title:"Error memperbarui inventaris",description:G.message||"Silakan coba lagi nanti.",variant:"destructive"})}},M=async Q=>{try{if(A&&h){const{error:G}=await J.from("products").update({name:Q.name,type:Q.type,price:Q.price,description:Q.description||null,origin:Q.origin||null,seller:Q.seller||null,in_stock:Q.in_stock,featured:Q.featured,discount:Q.discount||null,updated_at:new Date().toISOString()}).eq("id",h.id);if(G)throw G;fe({title:"Produk diperbarui",description:"Produk telah diperbarui berhasil."})}else{const{error:G}=await J.from("products").insert({name:Q.name,type:Q.type,price:Q.price,description:Q.description||null,origin:Q.origin||null,seller:Q.seller||null,in_stock:Q.in_stock,featured:Q.featured,discount:Q.discount||null,images:[]});if(G)throw G;fe({title:"Produk ditambahkan",description:"Produk baru telah ditambahkan berhasil."})}u(!1),d(!1),B()}catch(G){console.error("Error menyimpan produk:",G),fe({title:"Error menyimpan produk",description:G.message||"Silakan coba lagi nanti.",variant:"destructive"})}},H=r?t.filter(Q=>Q.name.toLowerCase().includes(r.toLowerCase())||Q.type.toLowerCase().includes(r.toLowerCase())):t,U=Math.ceil(x/g),O=m>1,R=m<U;return i.jsxs(qn,{children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Manajemen Inventaris"}),i.jsxs(V,{onClick:N,children:[i.jsx(wm,{className:"h-4 w-4 mr-2"}),"Tambah Produk"]})]}),i.jsx("div",{className:"mb-6 flex items-center gap-4",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx(ku,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(ce,{placeholder:"Cari produk...",className:"pl-10",value:r,onChange:Q=>n(Q.target.value)})]})}),i.jsx("div",{className:"bg-white rounded-md shadow overflow-hidden",children:i.jsxs(Hn,{children:[i.jsx(Vn,{children:i.jsxs(ut,{children:[i.jsx(Ee,{className:"w-[80px]",children:"Gambar"}),i.jsx(Ee,{children:"Produk"}),i.jsx(Ee,{children:"Tipe"}),i.jsx(Ee,{className:"text-right",children:"Harga"}),i.jsx(Ee,{className:"text-center",children:"Stok"}),i.jsx(Ee,{className:"text-right",children:"Aksi"})]})}),i.jsx(Kn,{children:s?i.jsx(ut,{children:i.jsx(pe,{colSpan:6,className:"text-center py-8",children:"Memuat produk..."})}):H.length===0?i.jsx(ut,{children:i.jsx(pe,{colSpan:6,className:"text-center py-8",children:"Tidak ada produk ditemukan."})}):H.map(Q=>{var G;return i.jsxs(ut,{children:[i.jsx(pe,{children:i.jsx("div",{className:"w-12 h-12 relative rounded overflow-hidden",children:i.jsx(Art,{ratio:1/1,children:i.jsx("img",{src:((G=Q.images)==null?void 0:G[0])||"/placeholder.svg",alt:Q.name,className:"object-cover"})})})}),i.jsx(pe,{className:"font-medium",children:Q.name}),i.jsx(pe,{children:Q.type}),i.jsx(pe,{className:"text-right",children:ge(Q.price)}),i.jsx(pe,{className:"text-center",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${Q.in_stock?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:Q.in_stock?"Tersedia":"Stok habis"})}),i.jsxs(pe,{className:"text-right",children:[i.jsxs(V,{variant:"outline",size:"sm",onClick:()=>S(Q),className:"mr-2",children:[i.jsx(Bl,{className:"h-4 w-4 mr-1"})," Kelola Stok"]}),i.jsxs(V,{variant:"outline",size:"sm",onClick:()=>P(Q),className:"mr-2",children:[i.jsx(nx,{className:"h-4 w-4"})," Edit"]}),i.jsxs(V,{variant:"outline",size:"sm",onClick:()=>I(Q),children:[i.jsx(vv,{className:"h-4 w-4"})," Hapus"]})]})]},Q.id)})})]})}),U>1&&i.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[i.jsxs("div",{className:"text-sm text-gray-500",children:["Halaman ",m," dari ",U]}),i.jsxs("div",{className:"space-x-2",children:[i.jsx(V,{variant:"outline",size:"sm",onClick:()=>p(Q=>Math.max(Q-1,1)),disabled:!O,children:"Sebelumnya"}),i.jsx(V,{variant:"outline",size:"sm",onClick:()=>p(Q=>Math.min(Q+1,U)),disabled:!R,children:"Berikutnya"})]})]}),i.jsx(To,{open:o,onOpenChange:l,children:i.jsxs($i,{children:[i.jsxs(Io,{children:[i.jsx(Po,{children:"Perbarui Inventaris"}),i.jsxs(Kv,{children:["Perbarui inventaris untuk ",h==null?void 0:h.name]})]}),i.jsx(ys,{...E,children:i.jsxs("form",{onSubmit:E.handleSubmit(D),className:"space-y-6 py-6",children:[i.jsx($e,{control:E.control,name:"quantity",render:({field:Q})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Jumlah"}),i.jsx(Le,{children:i.jsx(ce,{type:"number",...Q,onChange:G=>Q.onChange(parseInt(G.target.value)||0)})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:E.control,name:"type",render:({field:Q})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Tipe Transaksi"}),i.jsx(Le,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...Q,children:[i.jsx("option",{value:"restock",children:"Pengisian Stok"}),i.jsx("option",{value:"sale",children:"Penjualan"}),i.jsx("option",{value:"return",children:"Pengembalian"}),i.jsx("option",{value:"adjustment",children:"Penyesuaian"})]})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:E.control,name:"notes",render:({field:Q})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Catatan"}),i.jsx(Le,{children:i.jsx(ce,{...Q,value:Q.value||""})}),i.jsx(Ke,{})]})}),i.jsxs(Tl,{children:[i.jsx(V,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Batal"}),i.jsx(V,{type:"submit",children:"Simpan Perubahan"})]})]})})]})}),i.jsx(To,{open:c||A,onOpenChange:Q=>{Q||(u(!1),d(!1))},children:i.jsxs($i,{children:[i.jsx(Io,{children:i.jsx(Po,{children:A?"Edit Produk":"Tambah Produk"})}),i.jsx(ys,{..._,children:i.jsxs("form",{onSubmit:_.handleSubmit(M),className:"space-y-6 py-6",children:[i.jsx($e,{control:_.control,name:"name",render:({field:Q})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Nama Produk"}),i.jsx(Le,{children:i.jsx(ce,{...Q})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:_.control,name:"type",render:({field:Q})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Tipe Produk"}),i.jsx(Le,{children:i.jsx(ce,{...Q})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:_.control,name:"price",render:({field:Q})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Harga"}),i.jsx(Le,{children:i.jsx(ce,{type:"number",step:"0.01",...Q,onChange:G=>Q.onChange(parseFloat(G.target.value)||0)})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:_.control,name:"description",render:({field:Q})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Deskripsi"}),i.jsx(Le,{children:i.jsx(_u,{...Q,value:Q.value||""})}),i.jsx(Ke,{})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx($e,{control:_.control,name:"origin",render:({field:Q})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Asal"}),i.jsx(Le,{children:i.jsx(ce,{...Q,value:Q.value||""})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:_.control,name:"seller",render:({field:Q})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Penjual"}),i.jsx(Le,{children:i.jsx(ce,{...Q,value:Q.value||""})}),i.jsx(Ke,{})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx($e,{control:_.control,name:"in_stock",render:({field:Q})=>i.jsxs(Me,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsx("div",{className:"space-y-0.5",children:i.jsx(Qe,{children:"Tersedia"})}),i.jsx(Le,{children:i.jsx("input",{type:"checkbox",checked:Q.value,onChange:G=>Q.onChange(G.target.checked),className:"h-4 w-4"})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:_.control,name:"featured",render:({field:Q})=>i.jsxs(Me,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsx("div",{className:"space-y-0.5",children:i.jsx(Qe,{children:"Unggulan"})}),i.jsx(Le,{children:i.jsx("input",{type:"checkbox",checked:Q.value,onChange:G=>Q.onChange(G.target.checked),className:"h-4 w-4"})}),i.jsx(Ke,{})]})})]}),i.jsx($e,{control:_.control,name:"discount",render:({field:Q})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Diskon (%)"}),i.jsx(Le,{children:i.jsx(ce,{type:"number",min:"0",max:"100",...Q,onChange:G=>Q.onChange(parseInt(G.target.value)||0),value:Q.value||0})}),i.jsx(Ke,{})]})}),i.jsxs(Tl,{children:[i.jsx(V,{type:"button",variant:"outline",onClick:()=>{u(!1),d(!1)},children:"Cancel"}),i.jsx(V,{type:"submit",children:"Simpan Produk"})]})]})})]})}),i.jsx(fr,{open:j,onOpenChange:C,children:i.jsxs(ir,{children:[i.jsxs(xr,{children:[i.jsx(wr,{children:"Konfirmasi Penghapusan"}),i.jsxs(Jn,{children:["Apakah Anda yakin ingin menghapus ",h==null?void 0:h.name,"? Tindakan ini tidak dapat dibatalkan."]})]}),i.jsxs(Sn,{children:[i.jsx(V,{variant:"outline",onClick:()=>C(!1),children:"Batal"}),i.jsx(V,{variant:"destructive",onClick:T,children:"Hapus"})]})]})})]})}const mrt=Gi({transaction_date:Ar().nonempty("Tanggal transaksi wajib diisi"),transaction_type:Hf(["incoming","outgoing"]),quantity_kg:Bo().positive("Jumlah harus lebih dari 0"),source_destination:Ar().nonempty("Sumber/tujuan wajib diisi"),vehicle_info:Ar().optional(),driver_name:Ar().optional(),price_per_kg:Bo().optional(),quality_grade:Hf(["premium","standard","economy"]),moisture_content:Bo().min(0).max(100).optional(),notes:Ar().optional(),document_reference:Ar().optional()}),prt={total_incoming_kg:0,total_outgoing_kg:0,current_stock_kg:0,average_price_per_kg:0,last_transaction_date:new Date().toISOString(),stock_value:0,premium_stock_kg:0,standard_stock_kg:0,economy_stock_kg:0};function grt(){const{user:t,profile:e}=qr(),[r,n]=v.useState(prt),[s,a]=v.useState([]),[o,l]=v.useState(!1),[c,u]=v.useState(!0),[A,d]=v.useState(""),[h,f]=v.useState("all"),[m,p]=v.useState(1),[g]=v.useState(10),[y,x]=v.useState(null),[b,j]=v.useState(!1),[C,E]=v.useState(!1),_=Is({resolver:Ps(mrt),defaultValues:{transaction_date:Bn(new Date,"yyyy-MM-dd"),transaction_type:"incoming",quantity_kg:0,source_destination:"",vehicle_info:"",driver_name:"",price_per_kg:0,quality_grade:"standard",moisture_content:0,notes:"",document_reference:""}}),B=async()=>{try{u(!0);const{data:K,error:ne}=await vA.getTransactions(100,0);if(ne)throw ne;K&&a(K);const{data:ue,error:le}=await vA.getSummary();if(le)throw le;ue&&n(ue)}catch(K){console.error("Error fetching transactions:",K),fe({title:"Error",description:"Gagal mengambil data transaksi stok arang",variant:"destructive"})}finally{u(!1)}};v.useEffect(()=>{B()},[]);const S=async K=>{try{if(u(!0),!(t!=null&&t.id))throw new Error("User ID tidak ditemukan. Silahkan login ulang.");const ne={...K,created_by:t.id,created_at:new Date().toISOString(),total_amount:K.price_per_kg?K.price_per_kg*K.quantity_kg:void 0};console.log("Mengirim data transaksi:",ne);const{data:ue,error:le}=await vA.addTransaction(ne);if(le)throw console.error("Error dari service:",le),le;if(!ue)throw new Error("Tidak ada data yang dikembalikan setelah menambahkan transaksi");fe({title:"Berhasil",description:"Transaksi berhasil ditambahkan",variant:"default"}),_.reset(),l(!1),B()}catch(ne){console.error("Error adding transaction:",ne),fe({title:"Error",description:(ne==null?void 0:ne.message)||(ne==null?void 0:ne.error_description)||"Gagal menambahkan transaksi. Silahkan cek konsol untuk detail lebih lanjut.",variant:"destructive"})}finally{u(!1)}},N=async K=>{if(y)try{u(!0);const ne={...K,total_amount:K.price_per_kg?K.price_per_kg*K.quantity_kg:void 0},{error:ue}=await vA.updateTransaction(y.id,ne);if(ue)throw ue;fe({title:"Berhasil",description:"Transaksi berhasil diperbarui",variant:"default"}),_.reset(),j(!1),x(null),B()}catch(ne){console.error("Error updating transaction:",ne),fe({title:"Error",description:"Gagal memperbarui transaksi",variant:"destructive"})}finally{u(!1)}},P=async()=>{if(y)try{u(!0);const{error:K}=await vA.deleteTransaction(y.id);if(K)throw K;fe({title:"Berhasil",description:"Transaksi berhasil dihapus",variant:"default"}),E(!1),x(null),B()}catch(K){console.error("Error deleting transaction:",K),fe({title:"Error",description:"Gagal menghapus transaksi",variant:"destructive"})}finally{u(!1)}},I=K=>{x(K),_.reset({transaction_date:K.transaction_date.substring(0,10),transaction_type:K.transaction_type,quantity_kg:K.quantity_kg,source_destination:K.source_destination,vehicle_info:K.vehicle_info||"",driver_name:K.driver_name||"",price_per_kg:K.price_per_kg||0,quality_grade:K.quality_grade||"standard",moisture_content:K.moisture_content||0,notes:K.notes||"",document_reference:K.document_reference||""}),j(!0)},T=K=>{x(K),E(!0)},D=s.filter(K=>{var ne,ue;return A===""?!0:K.source_destination.toLowerCase().includes(A.toLowerCase())||((ne=K.document_reference)==null?void 0:ne.toLowerCase().includes(A.toLowerCase()))||((ue=K.driver_name)==null?void 0:ue.toLowerCase().includes(A.toLowerCase()))}).filter(K=>h==="all"?!0:K.transaction_type===h).sort((K,ne)=>new Date(ne.transaction_date).getTime()-new Date(K.transaction_date).getTime()),M=D.length,H=Math.ceil(M/g),U=(m-1)*g,O=Math.min(U+g,M),R=D.slice(U,O),Q=m>1,G=m<H,X=()=>{l(!0),_.reset({transaction_date:Bn(new Date,"yyyy-MM-dd"),transaction_type:"incoming",quantity_kg:0,source_destination:"",vehicle_info:"",driver_name:"",price_per_kg:0,quality_grade:"standard",moisture_content:0,notes:"",document_reference:""})},se=async K=>{try{b&&y?await N(K):await S(K)}catch(ne){console.error("Error submitting transaction:",ne)}},Z=()=>i.jsx(fr,{open:C,onOpenChange:E,children:i.jsxs(ir,{children:[i.jsxs(xr,{children:[i.jsx(wr,{children:"Konfirmasi Hapus Transaksi"}),i.jsx(Jn,{children:"Apakah Anda yakin ingin menghapus transaksi ini? Tindakan ini tidak dapat dibatalkan."})]}),i.jsxs(Sn,{className:"flex space-x-2 justify-end",children:[i.jsx(V,{variant:"outline",onClick:()=>E(!1),children:"Batal"}),i.jsx(V,{variant:"destructive",onClick:P,disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Menghapus..."]}):"Hapus Transaksi"})]})]})});return i.jsx(qn,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Manajemen Stok Arang"}),i.jsxs(V,{onClick:X,children:[i.jsx(wm,{className:"h-4 w-4 mr-2"})," Catat Transaksi Baru"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs(ye,{children:[i.jsxs(ot,{className:"pb-2",children:[i.jsx(lt,{className:"text-xl",children:"Stok Arang Saat Ini"}),i.jsx(ur,{children:"Total seluruh jenis arang"})]}),i.jsxs(xe,{children:[i.jsxs("div",{className:"text-3xl font-bold",children:[r.current_stock_kg.toLocaleString()," kg"]}),i.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Nilai stok: ",ge(r.stock_value)]})]})]}),i.jsxs(ye,{children:[i.jsxs(ot,{className:"pb-2",children:[i.jsx(lt,{className:"text-xl",children:"Rekapitulasi Arang"}),i.jsx(ur,{children:"Detail berdasarkan kualitas"})]}),i.jsxs(xe,{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-medium",children:"Premium:"}),i.jsxs("span",{className:"font-bold",children:[r.premium_stock_kg.toLocaleString()," kg"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-medium",children:"Standar:"}),i.jsxs("span",{className:"font-bold",children:[r.standard_stock_kg.toLocaleString()," kg"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-medium",children:"Ekonomis:"}),i.jsxs("span",{className:"font-bold",children:[r.economy_stock_kg.toLocaleString()," kg"]})]})]})]}),i.jsxs(ye,{children:[i.jsxs(ot,{className:"pb-2",children:[i.jsx(lt,{className:"text-xl",children:"Aktivitas Transaksi"}),i.jsx(ur,{children:"Ringkasan aktivitas stok"})]}),i.jsxs(xe,{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx(yU,{className:"h-4 w-4 text-green-500 mr-1"})," Pemasukan:"]}),i.jsxs("span",{className:"font-bold",children:[r.total_incoming_kg.toLocaleString()," kg"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx(xU,{className:"h-4 w-4 text-red-500 mr-1"})," Pengeluaran:"]}),i.jsxs("span",{className:"font-bold",children:[r.total_outgoing_kg.toLocaleString()," kg"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-medium",children:"Transaksi terakhir:"}),i.jsx("span",{className:"font-bold",children:Bn(new Date(r.last_transaction_date),"dd MMM yyyy",{locale:Ya})})]})]})]})]}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[i.jsxs("div",{className:"relative w-full md:w-64",children:[i.jsx(ku,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),i.jsx(ce,{placeholder:"Cari transaksi...",className:"pl-8",value:A,onChange:K=>d(K.target.value)})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(V,{variant:h==="all"?"default":"outline",size:"sm",onClick:()=>f("all"),children:"Semua"}),i.jsxs(V,{variant:h==="incoming"?"default":"outline",size:"sm",onClick:()=>f("incoming"),className:"flex items-center",children:[i.jsx(yU,{className:"h-4 w-4 mr-1"})," Pemasukan"]}),i.jsxs(V,{variant:h==="outgoing"?"default":"outline",size:"sm",onClick:()=>f("outgoing"),className:"flex items-center",children:[i.jsx(xU,{className:"h-4 w-4 mr-1"})," Pengeluaran"]})]})]}),i.jsx("div",{className:"bg-white rounded-md shadow overflow-hidden",children:i.jsxs(Hn,{children:[i.jsx(Vn,{children:i.jsxs(ut,{children:[i.jsx(Ee,{children:"Tanggal"}),i.jsx(Ee,{children:"Tipe"}),i.jsx(Ee,{children:"Jumlah (kg)"}),i.jsx(Ee,{children:"Kualitas"}),i.jsx(Ee,{children:"Sumber/Tujuan"}),i.jsx(Ee,{children:"Kendaraan"}),i.jsx(Ee,{className:"text-right",children:"Nilai"}),i.jsx(Ee,{className:"text-right",children:"Aksi"})]})}),i.jsx(Kn,{children:c?i.jsx(ut,{children:i.jsx(pe,{colSpan:7,className:"text-center py-8",children:"Memuat transaksi..."})}):R.length===0?i.jsx(ut,{children:i.jsx(pe,{colSpan:7,className:"text-center py-8",children:"Tidak ada transaksi ditemukan."})}):R.map(K=>i.jsxs(ut,{children:[i.jsx(pe,{children:Bn(new Date(K.transaction_date),"dd MMM yyyy",{locale:Ya})}),i.jsx(pe,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${K.transaction_type==="incoming"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:K.transaction_type==="incoming"?"Pemasukan":"Pengeluaran"})}),i.jsx(pe,{className:"font-medium",children:K.quantity_kg.toLocaleString()}),i.jsx(pe,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${K.quality_grade==="premium"?"bg-blue-100 text-blue-800":K.quality_grade==="standard"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:K.quality_grade==="premium"?"Premium":K.quality_grade==="standard"?"Standar":"Ekonomis"})}),i.jsx(pe,{children:K.source_destination}),i.jsx(pe,{children:K.vehicle_info||"-"}),i.jsx(pe,{className:"text-right",children:K.total_amount?ge(K.total_amount):"-"}),i.jsx(pe,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(V,{variant:"ghost",size:"sm",onClick:()=>I(K),children:i.jsx(nx,{className:"h-4 w-4"})}),i.jsx(V,{variant:"ghost",size:"sm",onClick:()=>T(K),className:"text-red-500 hover:text-red-700",children:i.jsx(u9,{className:"h-4 w-4"})})]})})]},K.id))})]})}),H>1&&i.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[i.jsxs("div",{className:"text-sm text-gray-500",children:["Halaman ",m," dari ",H]}),i.jsxs("div",{className:"space-x-2",children:[i.jsx(V,{variant:"outline",size:"sm",onClick:()=>p(K=>Math.max(K-1,1)),disabled:!Q,children:"Sebelumnya"}),i.jsx(V,{variant:"outline",size:"sm",onClick:()=>p(K=>Math.min(K+1,H)),disabled:!G,children:"Berikutnya"})]})]}),i.jsx(To,{open:o,onOpenChange:l,children:i.jsxs($i,{className:"sm:max-w-md",children:[i.jsxs(Io,{children:[i.jsx(Po,{children:"Catat Transaksi Arang"}),i.jsx(Kv,{children:"Catat pemasukan atau pengeluaran stok arang"})]}),i.jsx(ys,{..._,children:i.jsxs("form",{onSubmit:_.handleSubmit(se),className:"space-y-4 py-4",children:[i.jsx($e,{control:_.control,name:"transaction_date",render:({field:K})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Tanggal Transaksi"}),i.jsx(Le,{children:i.jsx(ce,{type:"date",...K})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:_.control,name:"transaction_type",render:({field:K})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Tipe Transaksi"}),i.jsx(Le,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...K,children:[i.jsx("option",{value:"incoming",children:"Pemasukan Arang"}),i.jsx("option",{value:"outgoing",children:"Pengeluaran Arang"})]})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:_.control,name:"quantity_kg",render:({field:K})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Jumlah (kg)"}),i.jsx(Le,{children:i.jsx(ce,{type:"number",...K,onChange:ne=>K.onChange(parseInt(ne.target.value)||0)})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:_.control,name:"quality_grade",render:({field:K})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Kualitas Arang"}),i.jsx(Le,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...K,children:[i.jsx("option",{value:"premium",children:"Premium"}),i.jsx("option",{value:"standard",children:"Standar"}),i.jsx("option",{value:"economy",children:"Ekonomis"})]})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:_.control,name:"source_destination",render:({field:K})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:_.watch("transaction_type")==="incoming"?"Sumber":"Tujuan"}),i.jsx(Le,{children:i.jsx(ce,{...K})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:_.control,name:"vehicle_info",render:({field:K})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Informasi Kendaraan"}),i.jsx(Le,{children:i.jsx(ce,{...K})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:_.control,name:"driver_name",render:({field:K})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Nama Supir"}),i.jsx(Le,{children:i.jsx(ce,{...K})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:_.control,name:"price_per_kg",render:({field:K})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Harga per kg (Rp)"}),i.jsx(Le,{children:i.jsx(ce,{type:"number",...K,onChange:ne=>K.onChange(parseInt(ne.target.value)||0)})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:_.control,name:"moisture_content",render:({field:K})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Kadar Air (%)"}),i.jsx(Le,{children:i.jsx(ce,{type:"number",...K,onChange:ne=>K.onChange(parseInt(ne.target.value)||0)})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:_.control,name:"document_reference",render:({field:K})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Referensi Dokumen"}),i.jsx(Le,{children:i.jsx(ce,{...K})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:_.control,name:"notes",render:({field:K})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Catatan"}),i.jsx(Le,{children:i.jsx(_u,{rows:3,...K})}),i.jsx(Ke,{})]})}),i.jsx(Tl,{className:"pt-4",children:i.jsx(V,{type:"submit",disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):"Simpan Transaksi"})})]})})]})}),i.jsx(To,{open:b,onOpenChange:j,children:i.jsxs($i,{className:"sm:max-w-md",children:[i.jsxs(Io,{children:[i.jsx(Po,{children:"Edit Transaksi Arang"}),i.jsx(Kv,{children:"Perbarui informasi transaksi arang"})]}),i.jsx(ys,{..._,children:i.jsxs("form",{onSubmit:_.handleSubmit(se),className:"space-y-4 py-4",children:[i.jsx($e,{control:_.control,name:"transaction_date",render:({field:K})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Tanggal Transaksi"}),i.jsx(Le,{children:i.jsx(ce,{type:"date",...K})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:_.control,name:"transaction_type",render:({field:K})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Tipe Transaksi"}),i.jsx(Le,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...K,children:[i.jsx("option",{value:"incoming",children:"Pemasukan Arang"}),i.jsx("option",{value:"outgoing",children:"Pengeluaran Arang"})]})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:_.control,name:"quantity_kg",render:({field:K})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Jumlah (kg)"}),i.jsx(Le,{children:i.jsx(ce,{type:"number",...K,onChange:ne=>K.onChange(parseInt(ne.target.value)||0)})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:_.control,name:"quality_grade",render:({field:K})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Kualitas Arang"}),i.jsx(Le,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...K,children:[i.jsx("option",{value:"premium",children:"Premium"}),i.jsx("option",{value:"standard",children:"Standar"}),i.jsx("option",{value:"economy",children:"Ekonomis"})]})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:_.control,name:"source_destination",render:({field:K})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:_.watch("transaction_type")==="incoming"?"Sumber":"Tujuan"}),i.jsx(Le,{children:i.jsx(ce,{...K})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:_.control,name:"vehicle_info",render:({field:K})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Informasi Kendaraan"}),i.jsx(Le,{children:i.jsx(ce,{...K})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:_.control,name:"driver_name",render:({field:K})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Nama Supir"}),i.jsx(Le,{children:i.jsx(ce,{...K})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:_.control,name:"price_per_kg",render:({field:K})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Harga per kg (Rp)"}),i.jsx(Le,{children:i.jsx(ce,{type:"number",...K,onChange:ne=>K.onChange(parseInt(ne.target.value)||0)})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:_.control,name:"moisture_content",render:({field:K})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Kadar Air (%)"}),i.jsx(Le,{children:i.jsx(ce,{type:"number",...K,onChange:ne=>K.onChange(parseInt(ne.target.value)||0)})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:_.control,name:"document_reference",render:({field:K})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Referensi Dokumen"}),i.jsx(Le,{children:i.jsx(ce,{...K})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:_.control,name:"notes",render:({field:K})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Catatan"}),i.jsx(Le,{children:i.jsx(_u,{rows:3,...K})}),i.jsx(Ke,{})]})}),i.jsx(Tl,{className:"pt-4",children:i.jsx(V,{type:"submit",disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):"Perbarui Transaksi"})})]})})]})}),Z()]})})}const vrt=Gi({name:Ar().min(1,{message:"Nama wajib diisi"}),carrier:Ar().min(1,{message:"Kurir wajib diisi"}),cost:Bo().min(0,{message:"Biaya harus berupa angka positif"}),estimated_days:Bo().int().min(1,{message:"Estimasi Jam minimal 1"}),active:tu().default(!0)});function yrt(){const[t,e]=v.useState([]),[r,n]=v.useState(!0),[s,a]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(null),[A,d]=v.useState(!1),[h,f]=v.useState(null),m=Is({resolver:Ps(vrt),defaultValues:{name:"",carrier:"",cost:0,estimated_days:1,active:!0}});v.useEffect(()=>{p()},[]);const p=async()=>{n(!0);try{const{data:j,error:C}=await J.from("shipping_methods").select("*").order("name");if(C)throw C;e(j||[])}catch(j){console.error("Error fetching shipping methods:",j),fe({title:"Error memuat metode pengiriman",description:j.message||"Silakan coba lagi nanti",variant:"destructive"})}finally{n(!1)}},g=j=>{j?(u(j),a(!0),l(!1),m.reset({name:j.name,carrier:j.carrier,cost:j.cost,estimated_days:j.estimated_days,active:j.active!==void 0?j.active:!0})):(u(null),l(!0),a(!1),m.reset({name:"",carrier:"",cost:0,estimated_days:1,active:!0}))},y=async j=>{try{if(s&&c){const{error:C}=await J.from("shipping_methods").update({name:j.name,carrier:j.carrier,cost:j.cost,estimated_days:j.estimated_days,active:j.active}).eq("id",c.id);if(C)throw C;fe({title:"Metode pengiriman diperbarui",description:`${j.name} telah diperbarui berhasil.`})}else if(o){const{error:C}=await J.from("shipping_methods").insert({name:j.name,carrier:j.carrier,cost:j.cost,estimated_days:j.estimated_days,active:j.active});if(C)throw C;fe({title:"Metode pengiriman ditambahkan",description:`${j.name} telah ditambahkan berhasil.`})}a(!1),l(!1),p()}catch(C){console.error("Error saving shipping method:",C),fe({title:"Error menyimpan metode pengiriman",description:C.message||"Silakan coba lagi nanti",variant:"destructive"})}},x=j=>{f(j),d(!0)},b=async()=>{if(h)try{const{error:j}=await J.from("shipping_methods").delete().eq("id",h.id);if(j)throw j;fe({title:"Metode pengiriman dihapus",description:"Metode pengiriman telah dihapus berhasil."}),d(!1),p()}catch(j){console.error("Error deleting shipping method:",j),fe({title:"Error menghapus metode pengiriman",description:j.message||"Silakan coba lagi nanti",variant:"destructive"})}};return i.jsxs(qn,{children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Metode Pengiriman"}),i.jsxs(V,{onClick:()=>g(),children:[i.jsx(wm,{className:"h-4 w-4 mr-2"}),"Tambah Metode"]})]}),i.jsx(ye,{children:i.jsx(xe,{className:"p-0",children:i.jsxs(Hn,{children:[i.jsx(Vn,{children:i.jsxs(ut,{children:[i.jsx(Ee,{children:"Nama"}),i.jsx(Ee,{children:"Kurir"}),i.jsx(Ee,{children:"Estimasi Jam"}),i.jsx(Ee,{className:"text-right",children:"Biaya"}),i.jsx(Ee,{className:"text-right",children:"Aksi"})]})}),i.jsx(Kn,{children:r?i.jsx(ut,{children:i.jsx(pe,{colSpan:5,className:"text-center py-8",children:"Memuat metode pengiriman..."})}):t.length===0?i.jsx(ut,{children:i.jsx(pe,{colSpan:5,className:"text-center py-8",children:"Tidak ada metode pengiriman ditemukan."})}):t.map(j=>i.jsxs(ut,{children:[i.jsx(pe,{className:"font-medium",children:j.name}),i.jsx(pe,{children:j.carrier}),i.jsxs(pe,{className:"text-center",children:[j.estimated_days," Jam"]}),i.jsx(pe,{className:"text-right",children:ge(j.cost)}),i.jsxs(pe,{className:"text-right space-x-2",children:[i.jsx(V,{variant:"outline",size:"sm",onClick:()=>g(j),children:i.jsx(nx,{className:"h-4 w-4"})}),i.jsx(V,{variant:"outline",size:"sm",onClick:()=>x(j),children:i.jsx(vv,{className:"h-4 w-4"})})]})]},j.id))})]})})}),i.jsx(To,{open:s||o,onOpenChange:j=>{j||(a(!1),l(!1))},children:i.jsxs($i,{children:[i.jsx(Io,{children:i.jsx(Po,{children:s?"Edit Metode Pengiriman":"Tambah Metode Pengiriman"})}),i.jsx(ys,{...m,children:i.jsxs("form",{onSubmit:m.handleSubmit(y),className:"space-y-6 py-6",children:[i.jsx($e,{control:m.control,name:"name",render:({field:j})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Nama"}),i.jsx(Le,{children:i.jsx(ce,{...j})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:m.control,name:"carrier",render:({field:j})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Kurir"}),i.jsx(Le,{children:i.jsx(ce,{...j})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:m.control,name:"cost",render:({field:j})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Biaya (Rp)"}),i.jsx(Le,{children:i.jsx(ce,{type:"number",step:"0.01",...j,onChange:C=>j.onChange(parseFloat(C.target.value)||0)})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:m.control,name:"estimated_days",render:({field:j})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Estimasi Jam"}),i.jsx(Le,{children:i.jsx(ce,{type:"number",...j,onChange:C=>j.onChange(parseInt(C.target.value)||1)})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:m.control,name:"active",render:({field:j})=>i.jsxs(Me,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsx("div",{className:"space-y-0.5",children:i.jsx(Qe,{children:"Aktif"})}),i.jsx(Le,{children:i.jsx("input",{type:"checkbox",checked:j.value,onChange:C=>j.onChange(C.target.checked),className:"h-4 w-4"})}),i.jsx(Ke,{})]})}),i.jsxs(Tl,{children:[i.jsx(V,{type:"button",variant:"outline",onClick:()=>{a(!1),l(!1)},children:"Batal"}),i.jsx(V,{type:"submit",children:"Simpan Metode"})]})]})})]})}),i.jsx(fr,{open:A,onOpenChange:d,children:i.jsxs(ir,{children:[i.jsxs(xr,{children:[i.jsx(wr,{children:"Konfirmasi Penghapusan"}),i.jsx(Jn,{children:"Apakah Anda yakin ingin menghapus metode pengiriman ini? Tindakan ini tidak dapat dibatalkan."})]}),i.jsxs(Sn,{children:[i.jsx(V,{variant:"outline",onClick:()=>d(!1),children:"Batal"}),i.jsx(V,{variant:"destructive",onClick:b,children:"Hapus"})]})]})})]})}const xrt=Gi({name:Ar().optional(),role:Hf(["customer","manager","admin"])});function wrt(){const[t,e]=v.useState([]),[r,n]=v.useState(""),[s,a]=v.useState(!0),[o,l]=v.useState(!1),[c,u]=v.useState(null),[A,d]=v.useState(1),[h,f]=v.useState(10),[m,p]=v.useState(0),g=Is({resolver:Ps(xrt),defaultValues:{name:"",role:"customer"}});v.useEffect(()=>{y()},[A,r]);const y=async()=>{a(!0);try{let _=J.from("profiles").select("*",{count:"exact"});r&&(_=_.or(`name.ilike.%${r}%,email.ilike.%${r}%`));const{data:B,error:S,count:N}=await _.order("created_at",{ascending:!1}).range((A-1)*h,A*h-1);if(S)throw S;e(B),p(N||0)}catch(_){console.error("Error fetching users:",_),fe({title:"Error memuat pengguna",description:_.message||"Silakan coba lagi nanti.",variant:"destructive"})}finally{a(!1)}},x=_=>{u(_),g.reset({name:_.name||"",role:_.role||"customer"}),l(!0)},b=async _=>{if(c)try{const{error:B}=await J.from("profiles").update({name:_.name,role:_.role}).eq("id",c.id);if(B)throw B;fe({title:"Pengguna diperbarui",description:"Profil pengguna telah berhasil diperbarui."}),l(!1),y()}catch(B){console.error("Error updating user:",B),fe({title:"Error memperbarui pengguna",description:B.message||"Silakan coba lagi nanti.",variant:"destructive"})}},j=Math.ceil(m/h),C=A>1,E=A<j;return i.jsxs(qn,{children:[i.jsx("div",{className:"flex justify-between items-center mb-6",children:i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Manajemen Pengguna"})}),i.jsx("div",{className:"mb-6 flex items-center gap-4",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx(ku,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(ce,{placeholder:"Cari pengguna...",className:"pl-10",value:r,onChange:_=>n(_.target.value)})]})}),i.jsx(ye,{children:i.jsx(xe,{className:"p-0",children:i.jsxs(Hn,{children:[i.jsx(Vn,{children:i.jsxs(ut,{children:[i.jsx(Ee,{children:"Nama"}),i.jsx(Ee,{children:"Email"}),i.jsx(Ee,{children:"Peran"}),i.jsx(Ee,{children:"Bergabung"}),i.jsx(Ee,{className:"text-right",children:"Aksi"})]})}),i.jsx(Kn,{children:s?i.jsx(ut,{children:i.jsx(pe,{colSpan:5,className:"text-center py-8",children:"Memuat pengguna..."})}):t.length===0?i.jsx(ut,{children:i.jsx(pe,{colSpan:5,className:"text-center py-8",children:"Tidak ada pengguna ditemukan."})}):t.map(_=>i.jsxs(ut,{children:[i.jsx(pe,{className:"font-medium",children:_.name||"N/A"}),i.jsx(pe,{children:_.email||"N/A"}),i.jsx(pe,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${_.role==="admin"?"bg-purple-100 text-purple-800":_.role==="manager"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:_.role||"customer"})}),i.jsx(pe,{children:_.created_at?new Date(_.created_at).toLocaleDateString():"N/A"}),i.jsx(pe,{className:"text-right",children:i.jsxs(V,{variant:"outline",size:"sm",onClick:()=>x(_),children:[i.jsx(qle,{className:"h-4 w-4 mr-2"}),"Kelola"]})})]},_.id))})]})})}),j>1&&i.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[i.jsxs("div",{className:"text-sm text-gray-500",children:["Halaman ",A," dari ",j]}),i.jsxs("div",{className:"space-x-2",children:[i.jsx(V,{variant:"outline",size:"sm",onClick:()=>d(_=>Math.max(_-1,1)),disabled:!C,children:"Sebelumnya"}),i.jsx(V,{variant:"outline",size:"sm",onClick:()=>d(_=>Math.min(_+1,j)),disabled:!E,children:"Selanjutnya"})]})]}),i.jsx(To,{open:o,onOpenChange:l,children:i.jsxs($i,{children:[i.jsx(Io,{children:i.jsx(Po,{children:"Edit Pengguna"})}),i.jsx(ys,{...g,children:i.jsxs("form",{onSubmit:g.handleSubmit(b),className:"space-y-6 py-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("p",{className:"text-sm text-gray-500",children:["ID Pengguna: ",c==null?void 0:c.id]}),i.jsxs("p",{className:"text-sm font-medium",children:["Email: ",(c==null?void 0:c.email)||"Tidak Ada"]})]}),i.jsx($e,{control:g.control,name:"name",render:({field:_})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Nama"}),i.jsx(Le,{children:i.jsx(ce,{..._,value:_.value||""})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:g.control,name:"role",render:({field:_})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Peran"}),i.jsx(Le,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",..._,children:[i.jsx("option",{value:"customer",children:"Pelanggan"}),i.jsx("option",{value:"manager",children:"Manajer"}),i.jsx("option",{value:"admin",children:"Admin"})]})}),i.jsx(Ke,{})]})}),i.jsxs(Tl,{children:[i.jsx(V,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Batal"}),i.jsx(V,{type:"submit",children:"Simpan Perubahan"})]})]})})]})})]})}const brt=Gi({status:Hf(["pending","processing","shipped","delivered","canceled"]),tracking_number:Ar().optional()}),la={receipt:{fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",lineHeight:"1.4",color:"#333",padding:"1rem",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},receiptHeader:{textAlign:"center",marginBottom:"1rem"},receiptTitle:{fontSize:"1.25rem",fontWeight:"bold",marginBottom:"0.5rem"},receiptStoreInfo:{fontSize:"0.875rem",color:"#555",marginBottom:"0.5rem"},receiptBorder:{borderTop:"1px dashed #ccc",margin:"0.5rem 0"},receiptItem:{display:"flex",justifyContent:"space-between",marginBottom:"0.25rem"},receiptTotal:{fontWeight:"bold",marginTop:"0.5rem",paddingTop:"0.5rem",borderTop:"1px solid #ddd"},receiptBarcode:{textAlign:"center",margin:"1rem 0",fontSize:"0.875rem",letterSpacing:"2px"},receiptThankYou:{textAlign:"center",margin:"1rem 0",fontWeight:"bold"},receiptFooter:{textAlign:"center",fontSize:"0.75rem",color:"#777",marginTop:"1rem"}};function jrt(){var _e;const[t,e]=v.useState([]),[r,n]=v.useState(""),[s,a]=v.useState(!0),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[A,d]=v.useState(null),[h,f]=v.useState(1),[m,p]=v.useState(10),[g,y]=v.useState(0),[x,b]=v.useState(!1),[j,C]=v.useState(!1),[E,_]=v.useState(null),[B,S]=v.useState(null),[N,P]=v.useState(null),[I,T]=v.useState(null),[D,M]=v.useState(null),H=v.useRef(null),U=Is({resolver:Ps(brt),defaultValues:{status:"pending",tracking_number:""}});v.useEffect(()=>{O()},[h,r]);const O=async()=>{a(!0);try{let W=J.from("orders").select("*",{count:"exact"});r&&(W=W.ilike("id",`%${r}%`));const{data:we,error:Oe,count:qe}=await W.order("date",{ascending:!1}).range((h-1)*m,h*m-1);if(Oe)throw Oe;console.log("Fetched orders:",we),e(we),y(qe||0)}catch(W){console.error("Error fetching orders:",W),fe({title:"Error memuat pesanan",description:W.message||"Silakan coba lagi nanti.",variant:"destructive"})}finally{a(!1)}},R=W=>{console.log("Editing order:",W),d(W),U.reset({status:W.status,tracking_number:W.trackingNumber||""}),l(!0)},Q=async W=>{if(A){u(!0);try{console.log("Updating order with values:",W);const{error:we}=await J.from("orders").update({status:W.status,tracking_number:W.tracking_number||null}).eq("id",A.id);if(we)throw we;fe({title:"Pesanan diperbarui",description:"Status pesanan telah berhasil diperbarui."}),l(!1),O()}catch(we){console.error("Error updating order:",we),fe({title:"Error memperbarui pesanan",description:we.message||"Silakan coba lagi nanti.",variant:"destructive"})}finally{u(!1)}}},G=W=>{switch(W){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"canceled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},X=W=>{switch(W){case"pending":return"Menunggu";case"processing":return"Diproses";case"shipped":return"Dikirim";case"delivered":return"Diterima";case"canceled":return"Dibatalkan";default:return W.charAt(0).toUpperCase()+W.slice(1)}},se=Math.ceil(g/m),Z=h>1,K=h<se,ne=Tt(),ue=W=>{ne(`/admin/orders/${W}`)},le=async W=>{_(W);try{const{data:we,error:Oe}=await J.from("profiles").select("*").eq("id",W.user_id).single();if(Oe?console.warn("Error fetching customer:",Oe):S(we),W.shipping_address_id){const{data:qe,error:Ze}=await J.from("addresses").select("*").eq("id",W.shipping_address_id).single();!Ze&&qe&&P({id:qe.id,name:qe.name,street:qe.street,city:qe.city,state:qe.state,zip:qe.zip,country:qe.country,isDefault:qe.is_default||!1,user_id:qe.user_id,created_at:qe.created_at})}if(W.shipping_method_id){const{data:qe,error:Ze}=await J.from("shipping_methods").select("*").eq("id",W.shipping_method_id).single();!Ze&&qe&&T(qe)}if(!W.items||W.items.length===0){const{data:qe,error:Ze}=await J.from("order_items").select("*").eq("order_id",W.id);!Ze&&qe&&(W.items=qe.map(It=>({id:It.id,productId:It.product_id,productName:It.product_name,quantity:It.quantity,price:It.price})),_({...W}))}if(M(null),W.voucher_id){const{data:qe,error:Ze}=await J.from("vouchers").select("*").eq("id",W.voucher_id).single();!Ze&&qe&&M({code:qe.code,discount_type:qe.discount_type})}b(!0)}catch(we){console.error("Error fetching order details:",we),fe({title:"Error",description:"Terjadi kesalahan saat memuat struk pesanan",variant:"destructive"})}},Ae=async()=>{if(!(!H.current||!E))try{C(!0);const W=H.current,Oe=(await GF(W,{scale:2,backgroundColor:"#ffffff",logging:!1,useCORS:!0,allowTaint:!0})).toDataURL("image/png"),qe=document.createElement("a");qe.href=Oe,qe.download=`Struk-Pesanan-${E.id.substring(0,8)}.png`,qe.click(),fe({title:"Struk Berhasil Disimpan",description:"Struk pesanan telah disimpan sebagai gambar",variant:"default"})}catch(W){console.error("Error saving receipt as image:",W),fe({title:"Gagal Menyimpan Struk",description:"Terjadi kesalahan saat menyimpan struk sebagai gambar",variant:"destructive"})}finally{C(!1)}},me=()=>{H.current&&window.print()};return i.jsxs(qn,{children:[i.jsx("div",{className:"flex justify-between items-center mb-6",children:i.jsx("h1",{className:"text-xl font-bold mb-4",children:"Manajemen Pesanan"})}),i.jsx("div",{className:"mb-6 flex items-center gap-4",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx(ku,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(ce,{placeholder:"Cari pesanan...",className:"pl-10",value:r,onChange:W=>n(W.target.value)})]})}),i.jsx(ye,{children:i.jsx(xe,{className:"p-0",children:i.jsxs(Hn,{children:[i.jsx(Vn,{children:i.jsxs(ut,{children:[i.jsx(Ee,{children:"ID Pesanan"}),i.jsx(Ee,{children:"Tanggal"}),i.jsx(Ee,{className:"text-center",children:"Status"}),i.jsx(Ee,{className:"text-right",children:"Diskon"}),i.jsx(Ee,{className:"text-right",children:"Total"}),i.jsx(Ee,{className:"text-right",children:"Aksi"})]})}),i.jsx(Kn,{children:s?i.jsx(ut,{children:i.jsx(pe,{colSpan:6,className:"text-center py-8",children:i.jsxs("div",{className:"flex justify-center items-center",children:[i.jsx(dk,{className:"h-6 w-6 animate-spin mr-2"}),"Memuat pesanan..."]})})}):t.length===0?i.jsx(ut,{children:i.jsx(pe,{colSpan:5,className:"text-center py-8",children:"Tidak ada pesanan ditemukan."})}):t.map(W=>i.jsxs(ut,{children:[i.jsxs(pe,{className:"font-medium",children:[W.id.substring(0,8),"..."]}),i.jsx(pe,{children:new Date(W.date).toLocaleDateString()}),i.jsx(pe,{className:"text-center",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${G(W.status)}`,children:X(W.status)})}),i.jsx(pe,{className:"text-right",children:W.discount_amount>0?i.jsxs("span",{className:"text-green-600",children:["-",ge(W.discount_amount)]}):"-"}),i.jsx(pe,{className:"text-right",children:ge(W.total)}),i.jsxs(pe,{className:"text-right",children:[i.jsxs(V,{size:"sm",variant:"outline",className:"mr-2",onClick:()=>R(W),children:[i.jsx(nx,{className:"h-4 w-4 mr-1"}),"Edit"]}),i.jsxs(V,{size:"sm",variant:"outline",className:"mr-2",onClick:()=>le(W),children:[i.jsx(mk,{className:"h-4 w-4 mr-1"}),"Struk"]}),i.jsxs(V,{size:"sm",variant:"default",onClick:()=>ue(W.id),children:[i.jsx(Sle,{className:"h-4 w-4 mr-1"}),"Lihat"]})]})]},W.id))})]})})}),se>1&&i.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[i.jsxs("div",{className:"text-sm text-gray-500",children:["Halaman ",h," dari ",se]}),i.jsxs("div",{className:"space-x-2",children:[i.jsx(V,{variant:"outline",size:"sm",onClick:()=>f(W=>Math.max(W-1,1)),disabled:!Z,children:"Sebelumnya"}),i.jsx(V,{variant:"outline",size:"sm",onClick:()=>f(W=>Math.min(W+1,se)),disabled:!K,children:"Berikutnya"})]})]}),i.jsx(To,{open:o,onOpenChange:l,children:i.jsxs($i,{children:[i.jsx(Io,{children:i.jsx(Po,{children:"Perbarui Status Pesanan"})}),i.jsx(ys,{...U,children:i.jsxs("form",{onSubmit:U.handleSubmit(Q),className:"space-y-6 py-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("p",{className:"text-sm text-gray-500",children:["ID Pesanan: ",A==null?void 0:A.id]}),i.jsxs("p",{className:"text-sm font-medium",children:["Total: ",ge(A==null?void 0:A.total)]}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Tanggal: ",A!=null&&A.date?new Date(A.date).toLocaleDateString("id-ID"):"Tidak Ada"]})]}),i.jsx($e,{control:U.control,name:"status",render:({field:W})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Status"}),i.jsx(Le,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...W,children:[i.jsx("option",{value:"pending",children:"Menunggu"}),i.jsx("option",{value:"processing",children:"Diproses"}),i.jsx("option",{value:"shipped",children:"Dikirim"}),i.jsx("option",{value:"delivered",children:"Diterima"}),i.jsx("option",{value:"canceled",children:"Dibatalkan"})]})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:U.control,name:"tracking_number",render:({field:W})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Nomor Resi"}),i.jsx(Le,{children:i.jsx(ce,{...W,value:W.value||""})}),i.jsx(Ke,{})]})}),i.jsxs(Tl,{children:[i.jsx(V,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Batal"}),i.jsx(V,{type:"submit",disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(dk,{className:"h-4 w-4 mr-2 animate-spin"}),"Menyimpan..."]}):"Simpan Perubahan"})]})]})})]})}),E&&i.jsx(fr,{open:x,onOpenChange:b,children:i.jsxs(ir,{className:"max-w-md",children:[i.jsx(xr,{children:i.jsx(wr,{className:"text-center",children:"Struk Pesanan"})}),i.jsxs("div",{ref:H,style:la.receipt,children:[i.jsxs("div",{style:la.receiptHeader,children:[i.jsx("h2",{style:la.receiptTitle,children:"Struk Belanja"}),i.jsxs("div",{style:la.receiptStoreInfo,children:[i.jsx("p",{children:i.jsx("strong",{children:"Jaya Perkasa Charcoal"})}),i.jsx("p",{children:"Jl.legok conggeang kec.paseh , sumedang"}),i.jsx("p",{children:"Telp: 0813-9458-6882"})]}),i.jsx("div",{style:la.receiptBorder}),i.jsx("p",{className:"mt-3 mb-1",children:i.jsxs("strong",{children:["Pesanan #",E.id.substring(0,8)]})}),i.jsx("p",{children:new Date(E.date).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),B&&i.jsxs("div",{style:la.receiptStoreInfo,children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Pelanggan:"})," ",B.name||"Tidak Ada"]}),i.jsx("p",{children:B.email||"Tidak Ada"}),i.jsx("p",{children:B.phone||"Tidak Ada"})]}),N&&i.jsxs("div",{style:la.receiptStoreInfo,children:[i.jsx("p",{children:i.jsx("strong",{children:"Dikirim Ke:"})}),i.jsx("p",{children:N.name}),i.jsx("p",{children:N.street}),i.jsx("p",{children:`${N.city}, ${N.state} ${N.zip}`})]}),i.jsx("div",{style:la.receiptBorder}),i.jsx("div",{style:{margin:"0.5rem 0"},children:E.items&&E.items.map((W,we)=>i.jsxs("div",{style:la.receiptItem,children:[i.jsxs("div",{children:[i.jsx("p",{children:W.productName}),i.jsxs("p",{children:["Jml: ",W.quantity," Kg  ",ge(W.price)]})]}),i.jsx("span",{children:ge(W.price*W.quantity)})]},we))}),i.jsxs("div",{className:"mt-3 text-sm",children:[i.jsxs("div",{className:"flex justify-between py-1",children:[i.jsx("span",{children:"Subtotal"}),i.jsx("span",{children:ge(((_e=E.items)==null?void 0:_e.reduce((W,we)=>W+we.price*we.quantity,0))||0)})]}),E.discount_amount>0&&i.jsxs("div",{className:"flex justify-between py-1 text-green-600",children:[i.jsxs("span",{children:["Diskon Voucher ",D!=null&&D.code?`(${D.code})`:""]}),i.jsxs("span",{children:["-",ge(E.discount_amount)]})]}),I&&i.jsxs("div",{className:"flex justify-between py-1",children:[i.jsxs("span",{children:["Pengiriman (",I.name,")"]}),i.jsx("span",{children:ge(I.cost)})]}),i.jsxs("div",{className:"flex justify-between py-1 font-semibold",children:[i.jsx("span",{children:"Total Yang Harus Di Bayar"}),i.jsx("span",{children:ge(E.total)})]})]}),i.jsx("div",{style:la.receiptStoreInfo,children:i.jsxs("p",{children:[i.jsx("strong",{children:"Metode Pembayaran:"})," ",E.paymentMethod==="bank-transfer"?"Transfer Bank":E.paymentMethod==="qris"?"QRIS":E.paymentMethod==="cod"?"Bayar di Tempat (COD)":"Pembayaran Standar"]})}),i.jsx("div",{style:la.receiptBarcode,children:i.jsxs("p",{children:["*******",E.id.substring(0,8),"*******"]})}),i.jsx("div",{style:la.receiptThankYou,children:i.jsx("p",{children:"Silahkan Segera Melakukan Pembayaran Agar Pengiriman Segera Di Proses"})}),i.jsxs("div",{style:la.receiptFooter,children:[i.jsx("p",{children:"Layanan pelanggan: 0813-9458-6882"}),i.jsx("p",{children:"Jika Arang Belum Di Kirim Silahkan Chat Admin Dan Berikan Struk Bukti Pembayaran"}),i.jsx("p",{children:"Terima kasih"})]}),i.jsxs("div",{className:"flex gap-2 mt-6",children:[i.jsx(V,{onClick:()=>b(!1),variant:"outline",className:"flex-1",children:"Tutup"}),i.jsxs(V,{onClick:me,className:"flex-1",children:[i.jsx(Gw,{className:"mr-2 h-4 w-4"}),"Cetak"]}),i.jsx(V,{onClick:Ae,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",disabled:j,children:j?i.jsxs(i.Fragment,{children:[i.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):i.jsxs(i.Fragment,{children:[i.jsx(qc,{className:"mr-2 h-4 w-4"}),"Simpan"]})})]})]})]})})]})}const _rt={async getCategories(){try{const{data:t,error:e}=await J.from("expense_categories").select("*").order("name");return{data:t,error:e}}catch(t){return console.error("Error fetching expense categories:",t),{data:null,error:t}}},async addCategory(t){try{t.id||(t.id=Cn()),t.created_at||(t.created_at=new Date().toISOString());const{data:e,error:r}=await J.from("expense_categories").insert(t).select().single();return{data:e,error:r}}catch(e){return console.error("Error adding expense category:",e),{data:null,error:e}}},async getExpenses(t=100,e=0,r){try{let n=J.from("company_expenses").select(`
          *,
          expense_categories!inner (
            name
          )
        `).order("date",{ascending:!1}).range(e,e+t-1);r&&(r.category_id&&(n=n.eq("category_id",r.category_id)),r.from_date&&(n=n.gte("date",r.from_date)),r.to_date&&(n=n.lte("date",r.to_date)),r.status&&(n=n.eq("status",r.status)),r.search&&(n=n.or(`description.ilike.%${r.search}%,paid_by.ilike.%${r.search}%`)));const{data:s,error:a}=await n;return{data:s==null?void 0:s.map(l=>{var c;return{...l,category_name:(c=l.expense_categories)==null?void 0:c.name}}),error:a}}catch(n){return console.error("Error fetching company expenses:",n),{data:null,error:n}}},async addExpense(t){var e;try{const r=["date","amount","description","category_id","created_by"];for(const o of r)if(!t[o])throw new Error(`Field ${o} wajib diisi`);t.id||(t.id=Cn()),t.created_at||(t.created_at=new Date().toISOString()),t.status||(t.status="pending");const{data:n,error:s}=await J.from("company_expenses").insert(t).select(`
          *,
          expense_categories!inner (
            name
          )
        `).single();if(s)throw s;return{data:{...n,category_name:(e=n.expense_categories)==null?void 0:e.name},error:null}}catch(r){return console.error("Error adding company expense:",r),{data:null,error:r}}},async updateExpense(t,e){var r;try{e.updated_at=new Date().toISOString();const{data:n,error:s}=await J.from("company_expenses").update(e).eq("id",t).select(`
          *,
          expense_categories!inner (
            name
          )
        `).single();if(s)throw s;return{data:{...n,category_name:(r=n.expense_categories)==null?void 0:r.name},error:null}}catch(n){return console.error("Error updating company expense:",n),{data:null,error:n}}},async deleteExpense(t){try{const{error:e}=await J.from("company_expenses").delete().eq("id",t);if(e)throw e;return{data:null,error:null}}catch(e){return console.error("Error deleting company expense:",e),{data:null,error:e}}},async getMonthlyExpenses(){try{const t=new Date;t.setFullYear(t.getFullYear()-1);const{data:e,error:r}=await J.from("company_expenses").select("date, amount").gte("date",t.toISOString().split("T")[0]).order("date");if(r)throw r;const n={};return e==null||e.forEach(a=>{const o=new Date(a.date),l=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}`;n[l]||(n[l]=0),n[l]+=a.amount}),{data:Object.entries(n).map(([a,o])=>({month:a,total:o})),error:null}}catch(t){return console.error("Error fetching monthly expenses:",t),{data:null,error:t}}},async getExpensesByCategory(t,e){try{let r=J.from("company_expenses").select(`
          amount,
          expense_categories!inner (
            id,
            name
          )
        `);t&&(r=r.gte("date",t)),e&&(r=r.lte("date",e));const{data:n,error:s}=await r;if(s)throw s;const a={};return n==null||n.forEach(l=>{const c=typeof l.expense_categories=="object"&&!Array.isArray(l.expense_categories)?l.expense_categories.id:l.category_id,u=typeof l.expense_categories=="object"&&!Array.isArray(l.expense_categories)?l.expense_categories.name:"Uncategorized";a[c]||(a[c]={id:c,name:u,total:0}),a[c].total+=l.amount}),{data:Object.values(a).map(l=>({category:l.name,total:l.total})),error:null}}catch(r){return console.error("Error fetching expenses by category:",r),{data:null,error:r}}},async getTotalExpenses(t,e){try{let r=J.from("company_expenses").select("amount");t&&(r=r.gte("date",t)),e&&(r=r.lte("date",e));const{data:n,error:s}=await r;if(s)throw s;return{data:(n==null?void 0:n.reduce((o,l)=>o+l.amount,0))||0,error:null}}catch(r){return console.error("Error fetching total expenses:",r),{data:null,error:r}}},async reduceCostFromCancelledOrder(t,e,r){try{const{data:n}=await J.from("company_expenses").select("*").eq("description",`Order #${t.substring(0,8)}`).single();if(!n)return console.log(`No expenses found for order ${t}`),!0;const s={id:Cn(),date:new Date().toISOString().split("T")[0],amount:-Math.abs(r),description:`Pembatalan Order #${t.substring(0,8)}`,category_id:n.category_id,paid_by:"System",payment_method:"Adjustment",status:"approved",created_by:e,created_at:new Date().toISOString(),document_reference:t,notes:`Pengurangan biaya otomatis untuk pesanan #${t.substring(0,8)} yang dibatalkan`},{error:a}=await J.from("company_expenses").insert(s);return a?(console.error("Error reducing expense for cancelled order:",a),!1):!0}catch(n){return console.error("Error in reduceCostFromCancelledOrder:",n),!1}}};var hD="Switch",[Crt,Knt]=aa(hD),[Brt,Ert]=Crt(hD),One=v.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:A,...d}=t,[h,f]=v.useState(null),m=yt(e,b=>f(b)),p=v.useRef(!1),g=h?A||!!h.closest("form"):!0,[y=!1,x]=si({prop:s,defaultProp:a,onChange:u});return i.jsxs(Brt,{scope:r,checked:y,disabled:l,children:[i.jsx(et.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":Rne(y),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:m,onClick:De(t.onClick,b=>{x(j=>!j),g&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),g&&i.jsx(Srt,{control:h,bubbles:!p.current,name:n,value:c,checked:y,required:o,disabled:l,form:A,style:{transform:"translateX(-100%)"}})]})});One.displayName=hD;var Fne="SwitchThumb",Dne=v.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,s=Ert(Fne,r);return i.jsx(et.span,{"data-state":Rne(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:e})});Dne.displayName=Fne;var Srt=t=>{const{control:e,checked:r,bubbles:n=!0,...s}=t,a=v.useRef(null),o=wx(r),l=ax(e);return v.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&d){const h=new Event("click",{bubbles:n});d.call(c,r),c.dispatchEvent(h)}},[o,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Rne(t){return t?"checked":"unchecked"}var Une=One,Nrt=Dne;const ti=v.forwardRef(({className:t,...e},r)=>i.jsx(Une,{className:he("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:i.jsx(Nrt,{className:he("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ti.displayName=Une.displayName;const krt=t=>{switch(t.toLowerCase()){case"pending":return"Menunggu Pembayaran";case"paid":return"Pembayaran Diterima";case"processing":return"Sedang Diproses";case"shipped":return"Sedang Dikirim";case"delivered":return"Telah Diterima";case"completed":return"Selesai";case"cancelled":return"Dibatalkan";case"refunded":return"Dana Dikembalikan";default:return t}},Trt=(t,e,r,n)=>{const s=t.substring(0,8),a=krt(e);let o=`*UPDATE STATUS PESANAN*
`;switch(o+=`

`,o+=`Halo${n?" "+n:""},

`,o+=`Pesanan #${s} Anda ${r?`(${r})`:""} telah diperbarui.

`,o+=`*Status Saat Ini: ${a}*

`,e.toLowerCase()){case"pending":o+=`Silakan segera lakukan pembayaran agar pesanan Anda dapat diproses.
`,o+=`Jika sudah melakukan pembayaran, mohon kirimkan bukti pembayaran kepada kami.
`;break;case"paid":o+=`Terima kasih atas pembayaran Anda! Pesanan Anda akan segera kami proses.
`;break;case"processing":o+=`Pesanan Anda sedang kami proses. Kami akan segera mempersiapkan pengiriman.
`;break;case"shipped":o+=`Pesanan Anda telah dikirim! Anda akan menerima update pengiriman selanjutnya.
`,o+=`Mohon siapkan penerimaan barang di alamat pengiriman yang telah ditentukan.
`;break;case"delivered":o+=`Pesanan Anda telah sampai di tujuan. Silakan konfirmasi penerimaan barang.
`,o+=`Jika ada pertanyaan atau masalah dengan pesanan, segera hubungi kami.
`;break;case"completed":o+=`Terima kasih telah berbelanja di Jaya Perkasa Charcoal! Kami harap Anda puas dengan produk kami.
`,o+=`Silakan berikan ulasan untuk pesanan Anda melalui aplikasi kami.
`;break;case"cancelled":o+=`Pesanan Anda telah dibatalkan. Jika Anda memiliki pertanyaan atau ingin membuat pesanan baru, silakan hubungi kami.
`;break;case"refunded":o+=`Dana untuk pesanan Anda telah dikembalikan. Proses pengembalian dana membutuhkan waktu 1-3 hari kerja tergantung bank Anda.
`;break}return o+=`
Untuk informasi lebih lanjut atau bantuan, silakan hubungi layanan pelanggan kami:
`,o+=`Telp/WA: 0813-9458-6882

`,o+=`Terima kasih telah berbelanja di
*JAYA PERKASA CHARCOAL*`,o},Irt=async(t,e)=>{try{const{data:r,error:n}=await J.from("orders").select("user_id, created_at").eq("id",t).single();if(n||!r)return console.error("Error fetching order data:",n),!1;const{data:s,error:a}=await J.from("profiles").select("name, phone, email").eq("id",r.user_id).single();if(a||!s||!s.phone)return console.error("Error fetching customer data or no phone number:",a),!1;const o=r.created_at?new Date(r.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}):void 0,l=Trt(t,e,o,s.name);return console.log(`Sending order status update (${e}) WhatsApp to customer:`,s.phone),await yx(s.phone,l)}catch(r){return console.error("Error sending status update via WhatsApp:",r),!1}};class eV{static async updateOrderStatus(e,r,n=!0){try{const{data:s,error:a}=await J.from("orders").update({status:r,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(a)return console.error("Error updating order status:",a),{success:!1,message:"Gagal mengupdate status pesanan",error:a};if(console.log(`Order ${e} status updated to ${r}`),n)try{const o=await Irt(e,r);console.log(`WhatsApp notification for order ${e} status update: ${o?"sent":"failed"}`)}catch(o){console.error("Error sending WhatsApp notification:",o)}return{success:!0,message:`Status pesanan berhasil diupdate menjadi ${r}`}}catch(s){return console.error("Unexpected error updating order status:",s),{success:!1,message:"Terjadi kesalahan saat mengupdate status pesanan",error:s}}}static async getOrderStatusHistory(e){try{const{data:r,error:n}=await J.from("order_status_history").select("*").eq("order_id",e).order("created_at",{ascending:!1});return n?(console.error("Error fetching order status history:",n),{success:!1,data:null,error:n}):{success:!0,data:r,error:null}}catch(r){return console.error("Unexpected error fetching status history:",r),{success:!1,data:null,error:r}}}static async recordStatusChange(e,r,n,s,a){try{const{error:o}=await J.from("order_status_history").insert({order_id:e,old_status:r,new_status:n,admin_id:s,notes:a||null,created_at:new Date().toISOString()});o&&console.error("Error recording status change history:",o)}catch(o){console.error("Unexpected error recording status change:",o)}}}const Prt=(t=!0)=>({updateStatus:async(r,n,s,a,o)=>{const{sendWhatsApp:l=!0,notes:c}=o||{};try{const u=await eV.updateOrderStatus(r,s,l);return u.success?(await eV.recordStatusChange(r,n,s,a,c),t&&fe({title:"Status Pesanan Diperbarui",description:`Pesanan #${r.substring(0,8)} telah diubah menjadi ${s}`}),{success:!0,data:u}):(t&&fe({title:"Gagal Memperbarui Status",description:u.message,variant:"destructive"}),{success:!1,error:u.error})}catch(u){return console.error("Error in updateStatus hook:",u),t&&fe({title:"Terjadi Kesalahan",description:"Gagal memperbarui status pesanan",variant:"destructive"}),{success:!1,error:u}}}}),Ort=xm("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Mne=v.forwardRef(({className:t,variant:e,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:he(Ort({variant:e}),t),...r}));Mne.displayName="Alert";const Qne=v.forwardRef(({className:t,...e},r)=>i.jsx("h5",{ref:r,className:he("mb-1 font-medium leading-none tracking-tight",t),...e}));Qne.displayName="AlertTitle";const Lne=v.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:he("text-sm [&_p]:leading-relaxed",t),...e}));Lne.displayName="AlertDescription";const dN=[{value:"pending",label:"Menunggu Pembayaran"},{value:"paid",label:"Pembayaran Diterima"},{value:"processing",label:"Sedang Diproses"},{value:"shipped",label:"Sedang Dikirim"},{value:"delivered",label:"Telah Diterima"},{value:"completed",label:"Selesai"},{value:"cancelled",label:"Dibatalkan"},{value:"refunded",label:"Dana Dikembalikan"}],Frt=t=>{switch(t){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"paid":return"bg-green-100 text-green-800 border-green-300";case"processing":return"bg-blue-100 text-blue-800 border-blue-300";case"shipped":return"bg-purple-100 text-purple-800 border-purple-300";case"delivered":return"bg-indigo-100 text-indigo-800 border-indigo-300";case"completed":return"bg-green-100 text-green-800 border-green-300";case"cancelled":return"bg-red-100 text-red-800 border-red-300";case"refunded":return"bg-orange-100 text-orange-800 border-orange-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}};function Drt({orderId:t,currentStatus:e,adminId:r,onStatusUpdated:n}){var y;const[s,a]=v.useState(e),[o,l]=v.useState(!0),[c,u]=v.useState(""),[A,d]=v.useState(!1),[h,f]=v.useState(null),{updateStatus:m}=Prt(),p=x=>{a(x),f(null)},g=async()=>{var x,b;if(!r){f({type:"error",message:"ID Admin tidak ditemukan. Silakan login kembali."});return}if(s===e){f({type:"error",message:"Status yang dipilih sama dengan status saat ini."});return}d(!0),f(null);try{const j=await m(t,e,s,r,{notes:c.trim()||void 0,sendWhatsApp:o});j.success?(f({type:"success",message:`Status pesanan berhasil diperbarui menjadi ${((x=dN.find(C=>C.value===s))==null?void 0:x.label)||s}${o?" dan notifikasi WhatsApp telah dikirim ke pelanggan":""}.`}),n&&n(s)):f({type:"error",message:`Gagal memperbarui status: ${((b=j.error)==null?void 0:b.message)||"Terjadi kesalahan."}`})}catch(j){f({type:"error",message:`Error: ${j.message||"Terjadi kesalahan yang tidak diketahui."}`})}finally{d(!1)}};return i.jsxs(ye,{className:"w-full shadow-sm",children:[i.jsxs(ot,{children:[i.jsx(lt,{className:"text-lg",children:"Update Status Pesanan"}),i.jsx(ur,{children:"Perbarui status pesanan dan kirim notifikasi WhatsApp ke pelanggan"})]}),i.jsxs(xe,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Te,{htmlFor:"current-status",className:"text-sm font-medium mb-1 block",children:"Status Saat Ini"}),i.jsx("div",{id:"current-status",className:`px-3 py-2 rounded-md border text-sm ${Frt(e)}`,children:((y=dN.find(x=>x.value===e))==null?void 0:y.label)||e})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx(Te,{htmlFor:"new-status",className:"text-sm font-medium",children:"Status Baru"}),i.jsxs(us,{value:s,onValueChange:p,disabled:A,children:[i.jsx(Ln,{id:"new-status",className:"w-full",children:i.jsx(As,{placeholder:"Pilih status baru"})}),i.jsx($n,{children:dN.map(x=>i.jsx(vt,{value:x.value,disabled:x.value===e,children:x.label},x.value))})]})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx(Te,{htmlFor:"status-notes",className:"text-sm font-medium",children:"Catatan (Opsional)"}),i.jsx(_u,{id:"status-notes",placeholder:"Tambahkan catatan tentang perubahan status ini",value:c,onChange:x=>u(x.target.value),disabled:A,className:"resize-none",rows:2})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ti,{id:"send-whatsapp",checked:o,onCheckedChange:l,disabled:A}),i.jsx(Te,{htmlFor:"send-whatsapp",className:"cursor-pointer",children:"Kirim notifikasi WhatsApp ke pelanggan"})]}),h&&i.jsxs(Mne,{variant:h.type==="success"?"default":"destructive",className:h.type==="success"?"bg-green-50 border-green-200":"",children:[h.type==="success"?i.jsx(ble,{className:"h-4 w-4"}):i.jsx(pv,{className:"h-4 w-4"}),i.jsx(Qne,{children:h.type==="success"?"Berhasil":"Terjadi Kesalahan"}),i.jsx(Lne,{children:h.message})]})]}),i.jsx(Ja,{children:i.jsx(V,{onClick:g,disabled:A||s===e,className:"w-full",children:A?i.jsxs(i.Fragment,{children:[i.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):i.jsxs(i.Fragment,{children:[i.jsx(o9,{className:"mr-2 h-4 w-4"}),"Update Status & Kirim Notifikasi"]})})})]})}function Rrt(){const{id:t}=cx(),e=Tt(),r=v.useRef(null),[n,s]=v.useState(null),[a,o]=v.useState(null),[l,c]=v.useState(null),[u,A]=v.useState(null),[d,h]=v.useState(!0),[f,m]=v.useState(!1),[p,g]=v.useState(null),[y,x]=v.useState(!1),[b,j]=v.useState(""),[C,E]=v.useState(!1),[_,B]=v.useState(!1),[S,N]=v.useState(null);v.useEffect(()=>{if(!t)return;P(),(async()=>{const{data:{session:O}}=await J.auth.getSession();O!=null&&O.user&&j(O.user.id)})()},[t]);const P=async()=>{try{h(!0);const{data:U,error:O}=await J.from("orders").select(`
          *,
          order_items(*)
        `).eq("id",t).single();if(O)throw O;const{data:R,error:Q}=await J.from("profiles").select("*").eq("id",U.user_id).single();if(Q?console.warn("Error fetching customer:",Q):o(R),U.shipping_address_id){const{data:ne,error:ue}=await J.from("addresses").select("*").eq("id",U.shipping_address_id).single();!ue&&ne&&c({id:ne.id,name:ne.name,street:ne.street,city:ne.city,state:ne.state,zip:ne.zip,country:ne.country,isDefault:ne.is_default||!1,user_id:ne.user_id,created_at:ne.created_at})}if(U.shipping_method_id){const{data:ne,error:ue}=await J.from("shipping_methods").select("*").eq("id",U.shipping_method_id).single();!ue&&ne&&A(ne)}if(U.payment_details&&U.payment_details.includes("notes:"))try{const ne=U.payment_details.match(/notes:(.*)/);ne&&ne[1]&&g(ne[1].trim())}catch(ne){console.error("Error parsing notes:",ne)}const G=ne=>["pending","processing","shipped","delivered","canceled"].includes(ne),X=ne=>ne===null||["pending","assigned","picked_up","delivered","failed"].includes(ne),se=U.status,Z=U.delivery_status,K={id:U.id,date:U.date,status:G(se)?se:"pending",total:U.total,paymentMethod:U.payment_method,trackingNumber:U.tracking_number,shipping_address_id:U.shipping_address_id,shipping_method_id:U.shipping_method_id,user_id:U.user_id,delivery_status:X(Z)?Z:"pending",courier_id:U.courier_id,voucher_id:U.voucher_id,discount_amount:U.discount_amount||0,items:U.order_items.map(ne=>({id:ne.id,productId:ne.product_id,productName:ne.product_name,quantity:ne.quantity,price:ne.price,order_id:ne.order_id}))};if(U.voucher_id){const{data:ne,error:ue}=await J.from("vouchers").select("*").eq("id",U.voucher_id).single();!ue&&ne&&N({code:ne.code,discount_type:ne.discount_type})}s(K)}catch(U){console.error("Error fetching order:",U),fe({title:"Error memuat pesanan",description:U.message||"Silakan coba lagi nanti.",variant:"destructive"}),e("/admin/orders")}finally{h(!1)}},I=async()=>{if(r.current)try{x(!0),f||(m(!0),await new Promise(G=>setTimeout(G,500)));const U=r.current,R=(await GF(U,{scale:2,backgroundColor:"#ffffff",logging:!1,useCORS:!0,allowTaint:!0})).toDataURL("image/png"),Q=document.createElement("a");Q.href=R,Q.download=`Struk-Pesanan-${n==null?void 0:n.id.substring(0,8)}.png`,Q.click(),fe({title:"Struk Berhasil Disimpan",description:"Struk pesanan telah disimpan sebagai gambar",variant:"default"})}catch(U){console.error("Error saving receipt as image:",U),fe({title:"Gagal Menyimpan Struk",description:"Terjadi kesalahan saat menyimpan struk sebagai gambar",variant:"destructive"})}finally{x(!1)}},T=()=>{r.current&&(m(!0),setTimeout(()=>{const U=r.current;if(!U)return;const O=window.open("","_blank");if(!O){fe({title:"Gagal membuka jendela cetak",description:"Mohon izinkan popup untuk situs ini",variant:"destructive"});return}const R=U.innerHTML;O.document.write(`
        <style>
          @media print {
            body {
              font-family: system-ui, sans-serif;
              padding: 20px;
              max-width: 300px;
              margin: 0 auto;
            }
            .receipt-header { 
              text-align: center;
              margin-bottom: 10px;
            }
            .receipt-items {
              border-top: 1px dashed #ccc;
              border-bottom: 1px dashed #ccc;
              padding: 10px 0;
              margin: 10px 0;
            }
            .receipt-item {
              display: flex;
              justify-content: space-between;
              margin-bottom: 5px;
            }
            .receipt-total {
              font-weight: bold;
              display: flex;
              justify-content: space-between;
              margin-top: 10px;
            }
            .receipt-footer {
              text-align: center;
              margin-top: 20px;
              font-size: 12px;
            }
            .receipt-logo {
              max-width: 100px;
              margin: 0 auto 10px;
              display: block;
            }
            .receipt-store-info {
              text-align: center;
              font-size: 12px;
              margin-bottom: 15px;
            }
            .receipt-border {
              border-top: 1px dashed #ccc;
              margin: 10px 0;
            }
            .receipt-payment-info {
              font-size: 12px;
              margin-top: 10px;
            }
            .receipt-customer-info {
              font-size: 12px;
              margin-top: 10px;
              margin-bottom: 10px;
            }
            .receipt-barcode {
              text-align: center;
              margin-top: 15px;
              font-size: 10px;
            }
            .receipt-thank-you {
              text-align: center;
              margin-top: 15px;
              font-weight: bold;
            }
          }
        </style>
        ${R}
      `),O.print(),m(!1)},500))},D=async()=>{if(!(!n||!t))try{B(!0);const{error:U}=await J.from("orders").update({status:"canceled"}).eq("id",t);if(U)throw U;const O=await J.auth.getUser().then(({data:R})=>{var Q;return((Q=R.user)==null?void 0:Q.id)||"system"});if(n.items&&n.items.length>0){await vA.restoreStockFromCancelledOrder(n.id,n.items.map(Q=>({productName:Q.productName,quantity:Q.quantity})),O);const R=n.total||n.items.reduce((Q,G)=>Q+G.price*G.quantity,0);await _rt.reduceCostFromCancelledOrder(n.id,O,R)}s({...n,status:"canceled"}),fe({title:"Pesanan Dibatalkan",description:"Pesanan telah berhasil dibatalkan dan stok telah dikembalikan."})}catch(U){console.error("Error canceling order:",U),fe({title:"Gagal Membatalkan Pesanan",description:U.message||"Terjadi kesalahan saat membatalkan pesanan.",variant:"destructive"})}finally{B(!1),E(!1)}},M=U=>{switch(U){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"canceled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},H=U=>{if(!U)return"";switch(U){case"pending":return"Menunggu";case"processing":return"Diproses";case"shipped":return"Dikirim";case"delivered":return"Diterima";case"canceled":return"Dibatalkan";default:return U.charAt(0).toUpperCase()+U.slice(1)}};return d?i.jsx(qn,{children:i.jsxs("div",{className:"flex justify-center items-center h-64",children:[i.jsx(dk,{className:"h-8 w-8 animate-spin text-gray-500"}),i.jsx("span",{className:"ml-2 text-lg text-gray-500",children:"Memuat detail pesanan..."})]})}):n?i.jsxs(qn,{children:[i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsxs(V,{variant:"outline",size:"sm",onClick:()=>e("/admin/orders"),children:[i.jsx(Fi,{className:"h-4 w-4 mr-2"}),"Kembali ke Pesanan"]}),i.jsxs(V,{variant:"outline",onClick:T,className:"ml-2",children:[i.jsx(Gw,{className:"mr-2 h-4 w-4"}),"Cetak Struk"]}),i.jsxs(V,{variant:"outline",onClick:I,className:"ml-2 bg-green-600 hover:bg-green-700 text-white",disabled:y,children:[y?i.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(qc,{className:"mr-2 h-4 w-4"}),"Simpan Struk"]}),i.jsxs("h1",{className:"text-2xl font-bold",children:["Pesanan #",t]})]}),i.jsxs("div",{className:"flex items-center",children:[n&&n.status!=="canceled"&&i.jsxs(V,{variant:"destructive",onClick:()=>E(!0),className:"mr-2",disabled:n.status==="delivered",children:[i.jsx(bU,{className:"h-4 w-4 mr-2"}),"Batalkan Pesanan"]}),i.jsxs(V,{onClick:T,className:"bg-flame-500 hover:bg-flame-600",children:[i.jsx(Gw,{className:"h-4 w-4 mr-2"}),"Cetak Struk"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[i.jsxs(ye,{children:[i.jsxs(ot,{children:[i.jsx(lt,{className:"text-lg",children:"Status Pesanan"}),i.jsx(ur,{children:"Perbarui status pesanan dan kirim notifikasi WhatsApp ke pelanggan"})]}),i.jsx(xe,{children:i.jsx(Drt,{orderId:n.id,currentStatus:n.status,adminId:b,onStatusUpdated:U=>{s({...n,status:U})}})})]}),i.jsxs(ye,{className:"md:col-span-2",children:[i.jsxs(ot,{children:[i.jsx(lt,{className:"text-lg flex items-center",children:"Ringkasan Pesanan"}),i.jsxs(ur,{children:["ID Pesanan: ",n==null?void 0:n.id,n&&i.jsx(jt,{className:`ml-2 ${M(n.status)}`,children:H(n.status)})]}),i.jsxs(ur,{children:["Tanggal: ",n?new Date(n.date).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):""]}),(n==null?void 0:n.trackingNumber)&&i.jsxs(ur,{children:["Nomor Resi: ",n.trackingNumber]})]}),i.jsxs(xe,{children:[i.jsxs("div",{className:"space-y-1 mb-6",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Daftar Pesanan"}),i.jsxs(Hn,{children:[i.jsx(Vn,{children:i.jsxs(ut,{children:[i.jsx(Ee,{children:"Produk"}),i.jsx(Ee,{children:"Jumlah"}),i.jsx(Ee,{className:"text-right",children:"Harga"}),i.jsx(Ee,{className:"text-right",children:"Subtotal"})]})}),i.jsxs(Kn,{children:[(n==null?void 0:n.items)&&n.items.map(U=>i.jsxs(ut,{children:[i.jsx(pe,{children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 bg-charcoal-100 rounded flex-shrink-0 flex items-center justify-center",children:i.jsx(Bl,{className:"h-5 w-5 text-charcoal-400"})}),i.jsx("span",{children:U.productName})]})}),i.jsx(pe,{children:U.quantity}),i.jsx(pe,{className:"text-right",children:ge(U.price)}),i.jsx(pe,{className:"text-right",children:ge(U.quantity*U.price)})]},U.id)),i.jsxs(ut,{children:[i.jsx(pe,{colSpan:2}),i.jsx(pe,{className:"font-medium text-right",children:"Subtotal:"}),i.jsx(pe,{className:"font-medium text-right",children:n?ge(n.items.reduce((U,O)=>U+O.price*O.quantity,0)):""})]}),(n==null?void 0:n.discount_amount)>0&&i.jsxs(ut,{children:[i.jsx(pe,{colSpan:2}),i.jsx(pe,{className:"font-medium text-right text-green-600",children:"Diskon Voucher:"}),i.jsxs(pe,{className:"font-medium text-right text-green-600",children:["-",ge(n.discount_amount)]})]}),u&&i.jsxs(ut,{children:[i.jsx(pe,{colSpan:2}),i.jsxs(pe,{className:"font-medium text-right",children:["Pengiriman (",u.name,"):"]}),i.jsx(pe,{className:"font-medium text-right",children:ge(u.cost)})]}),i.jsxs(ut,{children:[i.jsx(pe,{colSpan:2}),i.jsx(pe,{className:"font-bold text-right",children:"Total:"}),i.jsx(pe,{className:"font-bold text-right",children:n?ge(n.total):""})]})]})]})]}),p&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Catatan Pelanggan"}),i.jsx("div",{className:"text-sm text-gray-500 italic",children:p})]})]})]}),i.jsxs(ye,{children:[i.jsx(ot,{children:i.jsx(lt,{className:"text-lg",children:"Informasi Pelanggan"})}),i.jsx(xe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Pelanggan"}),i.jsx("p",{children:(a==null?void 0:a.name)||"N/A"}),i.jsx("p",{children:(a==null?void 0:a.email)||"N/A"}),i.jsx("p",{children:(a==null?void 0:a.phone)||"N/A"})]}),i.jsx(vs,{}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Alamat Pengiriman"}),l?i.jsxs(i.Fragment,{children:[i.jsx("p",{children:l.name}),i.jsx("p",{children:l.street}),i.jsx("p",{children:`${l.city}, ${l.state} ${l.zip}`}),i.jsx("p",{children:l.country})]}):i.jsx("p",{className:"text-muted-foreground",children:"Tidak ada alamat yang diberikan"})]}),i.jsx(vs,{}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Metode Pembayaran"}),i.jsx("p",{children:n.paymentMethod==="bank-transfer"?"Transfer Bank":n.paymentMethod==="qris"?"QRIS":n.paymentMethod==="cod"?"Bayar di Tempat":n.paymentMethod||"Pembayaran Standar"})]}),u&&i.jsxs(i.Fragment,{children:[i.jsx(vs,{}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Metode Pengiriman"}),i.jsxs("p",{children:[u.name," - ",u.carrier]}),i.jsxs("p",{children:["Perkiraan waktu pengiriman: ",u.estimated_days," Jam"]}),i.jsx("p",{className:"font-medium",children:ge(u.cost)})]})]})]})})]})]})]}),i.jsx(fr,{open:C,onOpenChange:E,children:i.jsxs(ir,{className:"max-w-md",children:[i.jsxs(xr,{children:[i.jsx(wr,{className:"text-center",children:"Konfirmasi Pembatalan"}),i.jsxs(Jn,{className:"text-center pt-4",children:["Apakah Anda yakin ingin membatalkan pesanan ini?",i.jsxs("div",{className:"mt-2 p-3 bg-red-50 text-red-700 rounded-md flex items-center",children:[i.jsx(b_,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:"Stok arang akan dikembalikan secara otomatis."})]})]})]}),i.jsxs(Sn,{className:"flex flex-row justify-between mt-4",children:[i.jsx(V,{variant:"outline",onClick:()=>E(!1),disabled:_,children:"Batal"}),i.jsx(V,{variant:"destructive",onClick:D,disabled:_,children:_?i.jsxs(i.Fragment,{children:[i.jsx(zt,{className:"h-4 w-4 mr-2 animate-spin"}),"Membatalkan..."]}):i.jsxs(i.Fragment,{children:[i.jsx(bU,{className:"h-4 w-4 mr-2"}),"Ya, Batalkan Pesanan"]})})]})]})}),i.jsx(fr,{open:f,onOpenChange:m,children:i.jsxs(ir,{className:"max-w-md",children:[i.jsx(xr,{children:i.jsx(wr,{className:"text-center",children:"Struk Pesanan"})}),i.jsxs("div",{ref:r,className:"p-4",children:[i.jsxs("div",{className:"receipt-header",children:[i.jsx("h2",{className:"text-xl font-bold mb-1",children:"Struk Belanja"}),i.jsxs("div",{className:"receipt-store-info",children:[i.jsx("p",{children:i.jsx("strong",{children:"Jaya Perkasa Charcoal"})}),i.jsx("p",{children:"Jl.legok conggeang kec.paseh , sumedang"}),i.jsx("p",{children:"Telp: 0813-9458-6882"})]}),i.jsx("div",{className:"receipt-border"}),i.jsx("p",{className:"mt-3 mb-1",children:i.jsxs("strong",{children:["ID Pesanan #",n.id.substring(0,8)]})}),i.jsx("p",{children:new Date(n.date).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),a&&i.jsxs("div",{className:"receipt-customer-info",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Pelanggan:"})," ",a.name||"Tidak Ada"]}),i.jsx("p",{children:a.email||"Tidak Ada"}),i.jsx("p",{children:a.phone||"Tidak Ada"})]}),l&&i.jsxs("div",{className:"receipt-customer-info",children:[i.jsx("p",{children:i.jsx("strong",{children:"Alamat Pengiriman:"})}),i.jsx("p",{children:l.name}),i.jsx("p",{children:l.street}),i.jsx("p",{children:`${l.city}, ${l.state} ${l.zip}`})]}),i.jsxs("table",{className:"w-full mt-4 mb-3",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left",children:"Item"}),i.jsx("th",{className:"text-center",children:"Jml"}),i.jsx("th",{className:"text-right",children:"Harga"}),i.jsx("th",{className:"text-right",children:"Total"})]})}),i.jsx("tbody",{children:n.items.map(U=>i.jsxs("tr",{children:[i.jsx("td",{className:"text-left",children:U.productName}),i.jsxs("td",{className:"text-center",children:[U.quantity,"x"]}),i.jsx("td",{className:"text-right",children:ge(U.price)}),i.jsx("td",{className:"text-right",children:ge(U.price*U.quantity)})]},U.id))})]}),i.jsx("div",{className:"receipt-border"}),i.jsxs("div",{className:"receipt-totals",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Subtotal:"}),i.jsx("span",{children:ge(n.items.reduce((U,O)=>U+O.price*O.quantity,0))})]}),n.discount_amount>0&&i.jsxs("div",{className:"flex justify-between text-green-600",children:[i.jsxs("span",{children:["Diskon Voucher ",S!=null&&S.code?`(${S.code})`:"",":"]}),i.jsxs("span",{children:["-",ge(n.discount_amount)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Subtotal sebelum diskon:"}),i.jsx("span",{children:ge(n.items.reduce((U,O)=>U+O.price*O.quantity,0)+n.discount_amount)})]}),u&&i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:["Pengiriman (",u.name,"):"]}),i.jsx("span",{children:ge(u.cost)})]}),i.jsxs("div",{className:"flex justify-between font-bold mt-2",children:[i.jsx("span",{children:"Total:"}),i.jsx("span",{children:ge(n.total)})]})]}),i.jsx("div",{className:"receipt-payment-info",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Metode Pembayaran:"})," ",n.paymentMethod==="bank-transfer"?"Transfer Bank":n.paymentMethod==="qris"?"QRIS":n.paymentMethod==="cod"?"Bayar di Tempat":"Pembayaran Standar"]})}),i.jsx("div",{className:"receipt-barcode",children:i.jsxs("p",{children:["*******",n.id.substring(0,8),"*******"]})}),i.jsx("div",{className:"receipt-thank-you",children:i.jsx("p",{children:"Terima kasih atas pembelian Anda!"})}),i.jsxs("div",{className:"receipt-footer",children:[i.jsx("p",{children:"Untuk layanan pelanggan: support@example.com"}),i.jsx("p",{children:"Simpan struk ini untuk pengembalian atau penukaran"}),i.jsx("p",{children:"Pengembalian diterima dalam 24 jam setelah pembelian"})]}),i.jsxs("div",{className:"flex gap-2 mt-6",children:[i.jsx(V,{onClick:()=>m(!1),variant:"outline",className:"flex-1",children:"Tutup"}),i.jsxs(V,{onClick:()=>window.print(),className:"flex-1",children:[i.jsx(Gw,{className:"mr-2 h-4 w-4"}),"Cetak"]}),i.jsx(V,{onClick:I,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",disabled:y,children:y?i.jsxs(i.Fragment,{children:[i.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):i.jsxs(i.Fragment,{children:[i.jsx(qc,{className:"mr-2 h-4 w-4"}),"Simpan"]})})]})]})]})})]}):i.jsx(qn,{children:i.jsx("div",{className:"p-4",children:i.jsx(ye,{className:"w-full",children:i.jsx(xe,{className:"pt-6",children:i.jsxs("div",{className:"flex flex-col items-center justify-center p-6",children:[i.jsx("p",{className:"text-muted-foreground mb-4",children:"Pesanan tidak ditemukan"}),i.jsx(V,{onClick:()=>e("/admin/orders"),className:"bg-flame-500 hover:bg-flame-600",children:"Kembali ke Pesanan"})]})})})})})}function Urt(){const[t,e]=v.useState("month"),[r,n]=v.useState(!0),[s,a]=v.useState({totalSales:0,orderCount:0,averageOrderValue:0,topProducts:[],recentOrders:[]}),[o,l]=v.useState([]),[c,u]=v.useState([]),[A,d]=v.useState([]),[h,f]=v.useState(!1);v.useEffect(()=>{p()},[t]);const m=g=>{f(!0);try{let y="",x="";g==="orders"?(y=`ID Pesanan,Tanggal,Status,Total
`,A.forEach(E=>{y+=`"${E.id}","${new Date(E.date).toLocaleDateString()}","${E.status}","${E.total}"
`}),x="pesanan_export.csv"):g==="products"?(y=`Produk,Jumlah Terjual
`,c.forEach(E=>{y+=`"${E.name}","${E.total}"
`}),x="produk_terlaris_export.csv"):(y=`Tanggal,Total Penjualan
`,o.forEach(E=>{y+=`"${E.date}","${E.total}"
`}),x="penjualan_harian_export.csv");const b=new Blob([y],{type:"text/csv;charset=utf-8;"}),j=URL.createObjectURL(b),C=document.createElement("a");C.href=j,C.setAttribute("download",x),document.body.appendChild(C),C.click(),document.body.removeChild(C)}catch(y){console.error("Error exporting data:",y)}finally{f(!1)}},p=async()=>{n(!0);try{const g=new Date;let y=new Date;t==="week"?y.setDate(g.getDate()-7):t==="month"?y.setMonth(g.getMonth()-1):y.setFullYear(g.getFullYear()-1);const x=y.toISOString(),{data:b,error:j}=await J.from("orders").select("*").gte("date",x).order("date",{ascending:!1});if(j)throw j;const C=(b==null?void 0:b.reduce((O,R)=>O+Number(R.total),0))||0,E=(b==null?void 0:b.length)||0,_=E>0?C/E:0,B=(b==null?void 0:b.slice(0,5))||[],{data:S,error:N}=await J.from("order_items").select("product_id, product_name, quantity").in("order_id",(b==null?void 0:b.map(O=>O.id))||[]);if(N)throw N;const P=new Map;S==null||S.forEach(O=>{const R=P.get(O.product_id);R?R.quantity+=O.quantity:P.set(O.product_id,{productId:O.product_id,productName:O.product_name,quantity:O.quantity})});const I=Array.from(P.values()).sort((O,R)=>R.quantity-O.quantity).slice(0,5),T=new Map;b==null||b.forEach(O=>{const R=new Date(O.date).toLocaleDateString(),Q=T.get(R)||0;T.set(R,Q+Number(O.total))});const D=Array.from(T.entries()).map(([O,R])=>({date:O,total:R})).sort((O,R)=>new Date(O.date).getTime()-new Date(R.date).getTime());d(b||[]);const{data:M}=await J.from("products").select("id, name").in("id",I.map(O=>O.productId)||[]),H=new Map;M==null||M.forEach(O=>H.set(O.id,O.name));const U=I.map(O=>({name:O.productName.length>15?O.productName.substring(0,15)+"...":O.productName,total:O.quantity}));a({totalSales:C,orderCount:E,averageOrderValue:_,topProducts:I,recentOrders:B}),l(D),u(U)}catch(g){console.error("Error fetching analytics data:",g)}finally{n(!1)}};return i.jsxs(qn,{children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Dasbor Analitik"}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("select",{value:t,onChange:g=>e(g.target.value),className:"px-3 py-2 border rounded-md",children:[i.jsx("option",{value:"week",children:"7 Hari Terakhir"}),i.jsx("option",{value:"month",children:"30 Hari Terakhir"}),i.jsx("option",{value:"year",children:"Tahun Terakhir"})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs(ye,{children:[i.jsx(ot,{className:"pb-2",children:i.jsx(lt,{className:"text-sm font-medium",children:"Total Penjualan"})}),i.jsx(xe,{children:i.jsx("div",{className:"text-2xl font-bold",children:ge(s.totalSales)})})]}),i.jsxs(ye,{children:[i.jsx(ot,{className:"pb-2",children:i.jsx(lt,{className:"text-sm font-medium",children:"Pesanan"})}),i.jsxs(xe,{children:[i.jsx("p",{className:"text-xs text-gray-500",children:"Pengguna dengan pesanan"}),i.jsx("div",{className:"text-2xl font-bold",children:s.orderCount})]})]}),i.jsxs(ye,{children:[i.jsx(ot,{className:"pb-2",children:i.jsx(lt,{className:"text-sm font-medium",children:"Nilai Pesanan Rata-rata"})}),i.jsx(xe,{children:i.jsx("div",{className:"text-2xl font-bold",children:ge(s.averageOrderValue)})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(ye,{children:[i.jsxs(ot,{className:"flex flex-row items-center justify-between",children:[i.jsx(lt,{children:"Penjualan Bulanan"}),i.jsxs(V,{size:"sm",variant:"outline",className:"h-8 gap-1",onClick:()=>m("sales"),disabled:h||r,children:[i.jsx(qc,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]}),i.jsx(xe,{children:i.jsx("div",{className:"h-80",children:r?i.jsx("div",{className:"h-full flex items-center justify-center",children:"Loading..."}):i.jsx(ort,{data:o,index:"date",categories:["total"],colors:["#FF7E47"],valueFormatter:g=>ge(g),yAxisWidth:60})})})]}),i.jsxs(ye,{children:[i.jsxs(ot,{className:"flex flex-row items-center justify-between",children:[i.jsx(lt,{children:"Produk Terlaris"}),i.jsxs(V,{size:"sm",variant:"outline",className:"h-8 gap-1",onClick:()=>m("products"),disabled:h||r,children:[i.jsx(qc,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]}),i.jsx(xe,{children:i.jsx("div",{className:"h-80",children:r?i.jsx("div",{className:"h-full flex items-center justify-center",children:"Loading..."}):i.jsx(Ine,{data:c,index:"name",categories:["total"],colors:["#FF7E47"],valueFormatter:g=>`${g} units`,yAxisWidth:60})})})]})]}),i.jsxs(ye,{children:[i.jsxs(ot,{className:"flex flex-row items-center justify-between",children:[i.jsx(lt,{children:"Pesanan Terbaru"}),i.jsxs(V,{size:"sm",variant:"outline",className:"h-8 gap-1",onClick:()=>m("orders"),disabled:h||r,children:[i.jsx(qc,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]}),i.jsx(xe,{children:i.jsxs(Hn,{children:[i.jsx(Vn,{children:i.jsxs(ut,{children:[i.jsx(Ee,{className:"w-[100px]",children:"ID Pesanan"}),i.jsx(Ee,{children:"Pelanggan"}),i.jsx(Ee,{children:"Tanggal"}),i.jsx(Ee,{children:"Status"}),i.jsx(Ee,{className:"text-right",children:"Jumlah"})]})}),i.jsx(Kn,{children:r?i.jsx(ut,{children:i.jsx(pe,{colSpan:5,className:"text-center py-4",children:"Loading..."})}):s.recentOrders.length===0?i.jsx(ut,{children:i.jsx(pe,{colSpan:4,className:"text-center py-4",children:"No orders found."})}):s.recentOrders.map(g=>i.jsxs(ut,{children:[i.jsxs(pe,{className:"font-medium",children:[g.id.substring(0,8),"..."]}),i.jsx(pe,{children:new Date(g.date).toLocaleDateString()}),i.jsx(pe,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${g.status==="pending"?"bg-yellow-100 text-yellow-800":g.status==="processing"?"bg-blue-100 text-blue-800":g.status==="shipped"?"bg-purple-100 text-purple-800":g.status==="delivered"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:g.status.charAt(0).toUpperCase()+g.status.slice(1)})}),i.jsx(pe,{className:"text-right",children:ge(g.total)})]},g.id))})]})})]})]})}function Mrt(){const[t,e]=v.useState(!1),[r,n]=v.useState(""),[s,a]=v.useState(75e4),[o,l]=v.useState(!0),[c,u]=v.useState([]),[A,d]=v.useState(null);v.useEffect(()=>{(()=>{if(!("Notification"in window)){d(null);return}d(Notification.permission)})()},[]),v.useEffect(()=>{(async()=>{const{data:p}=await J.from("products").select("id, name, price").limit(5);p&&p.length>0?u(p):u([{id:Cn(),name:"Coal Type A Premium",price:25e4},{id:Cn(),name:"Coal Type B Standard",price:18e4},{id:Cn(),name:"Coal Type C Economy",price:12e4}])})()},[]);const h=async()=>{if(!("Notification"in window))return fe({title:"Error",description:"Browser Anda tidak mendukung notifikasi",variant:"destructive"}),!1;try{const m=await Notification.requestPermission();return d(m),m==="granted"?(fe({title:"Sukses",description:"Izin notifikasi diberikan"}),!0):(fe({title:"Peringatan",description:"Izin notifikasi ditolak. Notifikasi tidak akan ditampilkan.",variant:"destructive"}),!1)}catch(m){return console.error("Error requesting notification permission:",m),fe({title:"Error",description:"Gagal meminta izin notifikasi",variant:"destructive"}),!1}},f=async()=>{if(e(!0),!("Notification"in window)){fe({title:"Error",description:"Browser Anda tidak mendukung notifikasi",variant:"destructive"}),e(!1);return}if(A!=="granted"&&!await h()){fe({title:"Peringatan",description:"Anda harus mengizinkan notifikasi untuk menguji fitur ini",variant:"destructive"}),e(!1);return}try{let m,p,g=[];if(o){const y=Cn(),x=r||Cn(),b=Cn();p={id:x,full_name:"Pelanggan Test",email:"test@example.com",phone:"081234567890"},m={id:y,user_id:x,total:s,status:"pending",payment_method:"bank-transfer",shipping_address_id:b,date:new Date().toISOString(),payment_details:"SeaBank"};for(const j of c.slice(0,3)){const C=Math.floor(Math.random()*3)+1;g.push({product_name:j.name,quantity:C,price:j.price})}console.log("Using dummy order data for testing:",{order:m,customer:p,items:g})}else{if(!r)throw new Error("Silahkan masukkan ID pelanggan untuk menggunakan data nyata");const{data:y,error:x}=await J.from("profiles").select("id, full_name, email, phone").eq("id",r).single();if(x||!y)throw new Error('Pelanggan tidak ditemukan. Gunakan opsi "Gunakan Data Dummy" untuk testing.');p=y;let b;const{data:j,error:C}=await J.from("addresses").select("id").eq("user_id",r).limit(1).single();C?(b=Cn(),console.log("Using dummy address ID:",b)):b=j.id;const{data:E,error:_}=await J.from("orders").insert({user_id:r,total:s,status:"pending",payment_method:"bank-transfer",shipping_address_id:b,date:new Date().toISOString(),payment_details:"SeaBank"}).select().single();if(_)throw _;m=E;for(const B of c.slice(0,3)){const S=Math.floor(Math.random()*3)+1,{error:N}=await J.from("order_items").insert({order_id:m.id,product_id:B.id,product_name:B.name,quantity:S,price:B.price});N?console.error("Error inserting order item:",N):g.push({product_name:B.name,quantity:S,price:B.price})}}await GW({...m,_customerData:p,_orderItems:g}),fe({title:"Sukses",description:`Notifikasi order berhasil dikirim ke admin. Order ID: ${m.id}`}),console.log("Test order created:",{order:m,customer:p,items:g})}catch(m){console.error("Error creating test order:",m),fe({title:"Error",description:m instanceof Error?m.message:"Gagal membuat order test",variant:"destructive"})}finally{e(!1)}};return i.jsxs(ye,{className:"w-full",children:[i.jsx(ot,{children:i.jsx(lt,{children:"Test Notifikasi Order"})}),i.jsx(xe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between space-x-2 rounded-lg border p-3 mb-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Te,{children:"Status Izin Notifikasi"}),i.jsx("p",{className:"text-sm",children:"Notification"in window?A==="granted"?i.jsx("span",{className:"text-green-500",children:"Izin diberikan"}):A==="denied"?i.jsx("span",{className:"text-red-500",children:"Izin ditolak (buka pengaturan browser untuk mengizinkan)"}):i.jsx("span",{className:"text-amber-500",children:"Izin belum diminta"}):i.jsx("span",{className:"text-red-500",children:"Browser tidak mendukung notifikasi"})})]}),"Notification"in window&&A!=="granted"&&A!=="denied"&&i.jsx(V,{variant:"outline",size:"sm",onClick:h,disabled:t,children:"Minta Izin"})]}),i.jsxs("div",{className:"flex items-center justify-between space-x-2 rounded-lg border p-3 mb-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Te,{children:"Gunakan Data Dummy"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Aktifkan untuk menggunakan data dummy tanpa perlu data pelanggan nyata"})]}),i.jsx(ti,{checked:o,onCheckedChange:l})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"customerId",children:o?"ID Pelanggan (Opsional)":"ID Pelanggan"}),i.jsx(ce,{id:"customerId",placeholder:o?"Opsional - akan dibuat otomatis jika kosong":"Masukkan ID pelanggan",value:r,onChange:m=>n(m.target.value),disabled:t}),!o&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"ID pelanggan wajib diisi jika tidak menggunakan data dummy"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"orderTotal",children:"Total Order (Rp)"}),i.jsx(ce,{id:"orderTotal",type:"number",value:s,onChange:m=>a(Number(m.target.value)),min:1e4,disabled:t})]}),i.jsx(V,{onClick:f,disabled:t,className:"w-full",children:t?i.jsxs(i.Fragment,{children:[i.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Kirim Notifikasi Order"}),i.jsx("p",{className:"text-xs text-center text-muted-foreground mt-2",children:"Notifikasi akan muncul di notification bar browser jika izin notifikasi telah diberikan"})]})})]})}const Qrt={monday:"Senin",tuesday:"Selasa",wednesday:"Rabu",thursday:"Kamis",friday:"Jumat",saturday:"Sabtu",sunday:"Minggu"};function Lrt(){const[t,e]=v.useState(null),[r,n]=v.useState(!0),[s,a]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(null),[A,d]=v.useState(""),[h,f]=v.useState(""),[m,p]=v.useState(!1),g=async()=>{n(!0);try{const B=await sA.getBusinessHours();e(B),p(!1);const S=await sA.getCurrentStatus();u(S),f(new Date().toLocaleString("id-ID",{dateStyle:"medium",timeStyle:"short",timeZone:"Asia/Jakarta"}))}catch(B){console.error("Error fetching business hours:",B),fe({title:"Error",description:"Gagal mengambil data jam kerja",variant:"destructive"})}finally{n(!1)}};v.useEffect(()=>{g();const B=J.channel("business-hours-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"settings",filter:"key=eq.business_hours"},S=>{console.debug("Business hours diubah:",S),!s&&!m&&(g(),fe({title:"Info",description:"Pengaturan jam kerja telah diperbarui oleh admin lain"}))}).subscribe();return()=>{J.removeChannel(B)}},[s,m]);const y=B=>{t&&(e({...t,isEnabled:B}),p(!0))},x=(B,S)=>{if(!t)return;const N=[...t.workingDays];N[B]={...N[B],isActive:S},e({...t,workingDays:N}),p(!0)},b=(B,S,N)=>{if(!t)return;const P=[...t.workingDays];P[B]={...P[B],[S]:N},e({...t,workingDays:P}),p(!0)},j=B=>{if(!B.openTime||!B.closeTime)return!1;const[S,N]=B.openTime.split(":").map(Number),[P,I]=B.closeTime.split(":").map(Number),T=S*60+N;return P*60+I<T},C=B=>{t&&(e({...t,offWorkMessage:B}),p(!0))},E=async()=>{if(confirm("Anda yakin ingin mengembalikan pengaturan jam kerja ke default?")){l(!0);try{const B=await sA.resetToDefault();B.success?(fe({title:"Berhasil",description:B.message}),await g()):fe({title:"Error",description:B.message,variant:"destructive"})}catch(B){console.error("Error resetting business hours:",B),fe({title:"Error",description:"Gagal mereset pengaturan jam kerja",variant:"destructive"})}finally{l(!1)}}},_=async()=>{if(t){a(!0);try{const B=await sA.updateBusinessHours(t);if(B.success){fe({title:"Berhasil",description:B.message});const S=await sA.getCurrentStatus();u(S),p(!1),f(new Date().toLocaleString("id-ID",{dateStyle:"medium",timeStyle:"short",timeZone:"Asia/Jakarta"}))}else fe({title:"Warning",description:B.message,variant:"destructive"})}catch(B){console.error("Error saving business hours:",B),fe({title:"Error",description:"Gagal menyimpan pengaturan jam kerja: "+(B instanceof Error?B.message:"Unknown error"),variant:"destructive"})}finally{a(!1)}}};return r?i.jsxs(ye,{children:[i.jsxs(ot,{children:[i.jsxs(lt,{className:"flex items-center",children:[i.jsx(jf,{className:"mr-2 h-5 w-5"}),"Pengaturan Jam Kerja"]}),i.jsx(ur,{children:"Memuat data dari database..."})]}),i.jsx(xe,{children:i.jsx("div",{className:"flex justify-center items-center p-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-gray-900"})})})]}):i.jsxs(ye,{children:[i.jsxs(ot,{children:[i.jsxs(lt,{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(jf,{className:"mr-2 h-5 w-5"}),"Pengaturan Jam Kerja"]}),m&&i.jsxs(jt,{variant:"outline",className:"ml-2 text-amber-500 border-amber-500",children:[i.jsx(pv,{className:"h-3 w-3 mr-1"})," Belum Disimpan"]})]}),i.jsx(ur,{children:h?`Terakhir diperbarui: ${h}`:"Data dari database Supabase"})]}),i.jsx(xe,{children:i.jsxs("div",{className:"space-y-6",children:[c&&i.jsxs("div",{className:"mb-4 p-3 rounded bg-gray-100 dark:bg-gray-800",children:[i.jsx("h3",{className:"text-sm font-medium mb-1",children:"Status Saat Ini:"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(jt,{className:c.isOpen?"bg-green-500":"bg-red-500",children:c.isOpen?"BUKA":"TUTUP"}),i.jsx("span",{className:"ml-2 text-sm",children:c.message})]}),i.jsx("div",{className:"mt-2 text-xs text-gray-500",children:i.jsxs(V,{variant:"outline",size:"sm",onClick:g,className:"h-7 text-xs",children:[i.jsx(gv,{className:"h-3 w-3 mr-1"})," Refresh Status"]})})]}),i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ti,{id:"business-hours-toggle",checked:t.isEnabled,onCheckedChange:y}),i.jsx(Te,{htmlFor:"business-hours-toggle",className:"font-medium",children:"Aktifkan sistem jam kerja"})]}),c&&i.jsx(jt,{variant:c.isOpen?"outline":"destructive",className:"ml-auto",children:c.isOpen?"Buka":"Tutup"})]}),i.jsx("div",{className:"bg-slate-50 border border-slate-100 rounded-md p-4 mb-6",children:i.jsxs("div",{className:"flex items-start text-sm text-slate-600",children:[i.jsx(Ak,{className:"h-5 w-5 mr-2 text-blue-500 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"mb-1",children:i.jsx("strong",{children:"Tentang Fitur Jam Kerja:"})}),i.jsx("p",{children:"Saat aktif, sistem ini akan membatasi akses pelanggan ke aplikasi hanya pada jam operasional yang ditentukan."}),i.jsx("p",{children:"Di luar jam tersebut, pelanggan akan melihat pesan yang Anda tentukan dan tidak dapat mengakses aplikasi."}),i.jsxs("p",{className:"mt-1",children:[i.jsx("strong",{children:"Jam Operasional Melewati Tengah Malam:"})," Jika toko Anda buka melewati tengah malam (misalnya 20:00 - 02:00), atur jam buka lebih besar dari jam tutup."]})]})]})}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-4",children:"Jadwal Jam Kerja"}),i.jsx("div",{className:"space-y-4",children:t.workingDays.map((B,S)=>i.jsxs("div",{className:"flex items-center space-x-4 p-3 border rounded-md bg-white",children:[i.jsxs("div",{className:"flex items-center space-x-2 w-28",children:[i.jsx(ti,{id:`day-${B.day}`,checked:B.isActive,onCheckedChange:N=>x(S,N)}),i.jsx(Te,{htmlFor:`day-${B.day}`,className:B.isActive?"":"text-gray-400",children:Qrt[B.day]})]}),i.jsxs("div",{className:`flex-1 flex items-center space-x-2 ${B.isActive?"":"opacity-50"}`,children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Te,{htmlFor:`open-${B.day}`,className:"mr-2 text-sm whitespace-nowrap",children:"Buka:"}),i.jsx(ce,{id:`open-${B.day}`,type:"time",value:B.openTime,onChange:N=>b(S,"openTime",N.target.value),disabled:!B.isActive,className:"w-28","aria-label":"Jam buka"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Te,{htmlFor:`close-${B.day}`,className:"mx-2 text-sm whitespace-nowrap",children:"Tutup:"}),i.jsx(ce,{id:`close-${B.day}`,type:"time",value:B.closeTime,onChange:N=>b(S,"closeTime",N.target.value),disabled:!B.isActive,className:"w-28","aria-label":"Jam tutup"}),B.isActive&&j(B)&&i.jsx("span",{className:"text-xs text-amber-600 ml-2",children:i.jsx(G9,{children:i.jsxs(RAe,{children:[i.jsx(UAe,{children:i.jsx(Ak,{className:"h-4 w-4 inline"})}),i.jsx(W9,{children:i.jsx("p",{children:"Jam tutup lebih awal dari jam buka. Ini akan dianggap sebagai jam kerja yang melewati tengah malam."})})]})})})]})]})]},B.day))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx(Te,{htmlFor:"off-work-message",className:"font-medium block mb-2",children:"Pesan Di Luar Jam Kerja"}),i.jsx(_u,{id:"off-work-message",value:t.offWorkMessage,onChange:B=>C(B.target.value),placeholder:"Masukkan pesan yang akan ditampilkan ketika aplikasi di luar jam kerja",className:"min-h-[100px]"})]}),i.jsxs("div",{className:"bg-slate-50 border border-slate-100 rounded-md p-4 mb-6",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Uji Pengaturan Jam Kerja"}),i.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Masukkan waktu untuk menguji apakah toko akan terbuka atau tertutup pada waktu tersebut."}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(ce,{type:"time",value:A,onChange:B=>d(B.target.value),className:"w-40",placeholder:"HH:MM"}),i.jsx(V,{variant:"outline",onClick:()=>{if(A&&t){const[B,S]=A.split(":").map(Number),N=new Date;N.setHours(B,S,0);const P=Date.now;Date.now=()=>N.getTime();const I=Date;Date=class extends I{constructor(){return super(),arguments.length===0?N:new I(...arguments)}},sA.getCurrentStatus().then(T=>{Date.now=P,Date=I,fe({title:T.isOpen?"Toko Terbuka":"Toko Tertutup",description:T.isOpen?`Pada pukul ${A}, toko akan terbuka.`:`Pada pukul ${A}, toko akan tertutup. Pesan: ${T.message}`,variant:T.isOpen?"default":"destructive"})})}else fe({title:"Waktu tidak valid",description:"Masukkan waktu yang valid untuk pengujian",variant:"destructive"})},children:"Uji Waktu"})]})]}),i.jsxs("div",{className:"flex justify-between items-center mt-6",children:[i.jsx(V,{type:"button",variant:"outline",disabled:o||s,onClick:E,className:"flex items-center",children:o?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin h-4 w-4 mr-1 border-2 border-gray-300 rounded-full"}),"Reset..."]}):i.jsxs(i.Fragment,{children:[i.jsx(gv,{className:"h-4 w-4 mr-1"}),"Reset ke Default"]})}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(V,{type:"button",variant:"secondary",disabled:!m||s,onClick:g,children:"Batalkan Perubahan"}),i.jsx(V,{type:"button",disabled:s||!m,onClick:_,className:"flex items-center",children:s?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin h-4 w-4 mr-1 border-2 border-white rounded-full"}),"Menyimpan..."]}):i.jsxs(i.Fragment,{children:[i.jsx($le,{className:"h-4 w-4 mr-1"}),"Simpan ke Database"]})})]})]})]})}),i.jsxs(Ja,{className:"border-t p-4 text-xs text-gray-500 flex justify-between items-center",children:[i.jsxs("div",{children:["Data disimpan di tabel ",i.jsx("code",{children:"settings"})," di Supabase"]}),i.jsx("div",{className:"flex items-center",children:m?i.jsxs(jt,{variant:"outline",className:"text-amber-500 border-amber-500",children:[i.jsx(pv,{className:"h-3 w-3 mr-1"})," Ada perubahan belum disimpan"]}):i.jsxs(jt,{variant:"outline",className:"text-green-500 border-green-500",children:[i.jsx(wle,{className:"h-3 w-3 mr-1"})," Tersimpan"]})})]})]})}const $rt=Gi({name:Ar().min(1,"Nama wajib diisi"),email:Ar().email("Alamat email tidak valid"),currentPassword:Ar().optional(),newPassword:Ar().min(6,"Kata sandi minimal 6 karakter").optional(),confirmPassword:Ar().optional()}).refine(t=>!(t.newPassword&&t.newPassword!==t.confirmPassword),{message:"Kata sandi tidak cocok",path:["confirmPassword"]}),Hrt=Gi({storeName:Ar().min(1,"Nama toko wajib diisi"),contactEmail:Ar().email("Alamat email tidak valid"),currency:Ar().min(1,"Mata uang wajib diisi")}),Vrt=Gi({enableOrderNotifications:tu().default(!0),enableChatNotifications:tu().default(!0),enableSoundNotifications:tu().default(!0)});function Krt(){const{user:t,profile:e,refreshProfile:r}=qr(),[n,s]=v.useState(!1),[a,o]=v.useState(!1),[l,c]=v.useState(!1),[u,A]=v.useState(null),[d,h]=v.useState({storeName:"Toko E-commerce Saya",contactEmail:"contact@example.com",currency:"IDR"}),f=Is({resolver:Ps($rt),defaultValues:{name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",currentPassword:"",newPassword:"",confirmPassword:""}}),m=Is({resolver:Ps(Hrt),defaultValues:{storeName:d.storeName,contactEmail:d.contactEmail,currency:d.currency}}),p=Is({resolver:Ps(Vrt),defaultValues:{enableOrderNotifications:!0,enableChatNotifications:!0,enableSoundNotifications:!0}});v.useEffect(()=>{e&&f.reset({name:e.name||"",email:e.email||"",currentPassword:"",newPassword:"",confirmPassword:""})},[e]),v.useEffect(()=>{y(),x(),g()},[]);const g=()=>{typeof Notification<"u"&&A(Notification.permission)},y=async()=>{try{const N=localStorage.getItem("storeSettings");if(N){const P=JSON.parse(N);h(P),m.reset({storeName:P.storeName,contactEmail:P.contactEmail,currency:P.currency})}}catch(N){console.error("Error fetching store settings:",N)}},x=async()=>{try{const N=localStorage.getItem("notificationSettings");if(N){const P=JSON.parse(N);p.reset({enableOrderNotifications:P.enableOrderNotifications,enableChatNotifications:P.enableChatNotifications,enableSoundNotifications:P.enableSoundNotifications})}}catch(N){console.error("Error fetching notification settings:",N)}},b=async N=>{if(t){s(!0);try{const{error:P}=await J.from("profiles").update({name:N.name}).eq("id",t.id);if(P)throw P;if(N.email&&N.email!==t.email){const{error:I}=await J.auth.updateUser({email:N.email});if(I)throw I}if(N.newPassword){if(N.newPassword!==N.confirmPassword){fe({title:"Error",description:"Kata sandi tidak cocok",variant:"destructive"});return}const{error:I}=await J.auth.updateUser({password:N.newPassword});if(I)throw I}fe({title:"Profil diperbarui",description:"Profil Anda telah berhasil diperbarui"}),f.reset({name:N.name,email:N.email,currentPassword:"",newPassword:"",confirmPassword:""}),await r()}catch(P){console.error("Error updating settings:",P),fe({title:"Error memperbarui profil",description:P.message||"Terjadi kesalahan saat memperbarui profil Anda",variant:"destructive"})}finally{s(!1)}}},j=async N=>{o(!0);try{const P={storeName:N.storeName,contactEmail:N.contactEmail,currency:N.currency};localStorage.setItem("storeSettings",JSON.stringify(P)),h(P),fe({title:"Pengaturan toko diperbarui",description:"Pengaturan toko Anda telah berhasil diperbarui"})}catch(P){console.error("Error updating store settings:",P),fe({title:"Error memperbarui pengaturan toko",description:"Terjadi kesalahan saat memperbarui pengaturan toko Anda",variant:"destructive"})}finally{o(!1)}},C=async()=>{try{fe({title:"Pemeliharaan database",description:"Vakum database berhasil diselesaikan"}),setTimeout(()=>{fe({title:"Pemeliharaan database",description:"Vakum database berhasil diselesaikan"})},2e3)}catch(N){fe({title:"Error running vacuum operation",description:N.message||"Terjadi kesalahan saat menjalankan operasi vakum",variant:"destructive"})}},E=async()=>{try{fe({title:"Menghapus log lama",description:"Log lama berhasil dihapus"}),setTimeout(()=>{fe({title:"Menghapus log lama",description:"Log lama berhasil dihapus"})},2e3)}catch(N){fe({title:"Error menghapus log lama",description:N.message||"Terjadi kesalahan saat menghapus log lama",variant:"destructive"})}},_=async()=>{c(!0);try{if(!t)return;const N=await Notification.requestPermission();if(A(N),N==="granted")if(await ST(t.id))fe({title:"Notifikasi diaktifkan",description:"Anda akan menerima notifikasi pesanan baru"});else throw new Error("Gagal mendapatkan token notifikasi");else fe({title:"Izin notifikasi ditolak",description:"Anda tidak akan menerima notifikasi. Ubah pengaturan browser untuk mengizinkan notifikasi.",variant:"destructive"})}catch(N){console.error("Error requesting notification permission:",N),fe({title:"Error mengaktifkan notifikasi",description:N.message||"Terjadi kesalahan saat mengaktifkan notifikasi",variant:"destructive"})}finally{c(!1)}},B=async N=>{c(!0);try{localStorage.setItem("notificationSettings",JSON.stringify(N)),N.enableOrderNotifications&&u==="granted"&&t&&await ST(t.id),fe({title:"Pengaturan notifikasi diperbarui",description:"Preferensi notifikasi Anda telah berhasil diperbarui"})}catch(P){console.error("Error updating notification settings:",P),fe({title:"Error memperbarui pengaturan notifikasi",description:P.message||"Terjadi kesalahan saat memperbarui pengaturan notifikasi",variant:"destructive"})}finally{c(!1)}},S=async()=>{try{if(Notification.permission!=="granted"){fe({title:"Izin notifikasi tidak diberikan",description:"Harap berikan izin notifikasi terlebih dahulu",variant:"destructive"});return}const N=new Notification("Notifikasi Uji Coba",{body:"Ini adalah notifikasi uji coba. Jika Anda melihat ini, berarti notifikasi berfungsi dengan baik!",icon:"/logo192.png"});fe({title:"Notifikasi uji coba dikirim",description:"Periksa notifikasi browser Anda"}),new Audio("/sounds/new_order_sound.mp3").play().catch(I=>console.log("Error playing notification sound:",I))}catch(N){console.error("Error testing notification:",N),fe({title:"Error mengirim notifikasi uji coba",description:N.message||"Terjadi kesalahan saat mengirim notifikasi uji coba",variant:"destructive"})}};return i.jsxs(qn,{children:[i.jsx("div",{className:"mb-6",children:i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Pengaturan"})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs(ye,{children:[i.jsx(ot,{children:i.jsx(lt,{children:"Pengaturan Profil"})}),i.jsx(xe,{children:i.jsx(ys,{...f,children:i.jsxs("form",{onSubmit:f.handleSubmit(b),className:"space-y-6",children:[i.jsx($e,{control:f.control,name:"name",render:({field:N})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Nama"}),i.jsx(Le,{children:i.jsx(ce,{...N})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:f.control,name:"email",render:({field:N})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Email"}),i.jsx(Le,{children:i.jsx(ce,{type:"email",...N})}),i.jsx(Ke,{})]})}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx("h3",{className:"text-lg font-medium mb-4",children:"Ubah Kata Sandi"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx($e,{control:f.control,name:"currentPassword",render:({field:N})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Kata Sandi Saat Ini"}),i.jsx(Le,{children:i.jsx(ce,{type:"password",...N})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:f.control,name:"newPassword",render:({field:N})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Kata Sandi Baru"}),i.jsx(Le,{children:i.jsx(ce,{type:"password",...N})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:f.control,name:"confirmPassword",render:({field:N})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Konfirmasi Kata Sandi"}),i.jsx(Le,{children:i.jsx(ce,{type:"password",...N})}),i.jsx(Ke,{})]})})]})]}),i.jsx(V,{type:"submit",disabled:n,children:n?"Menyimpan...":"Simpan Perubahan"})]})})})]}),i.jsxs("div",{className:"space-y-8",children:[i.jsxs(ye,{children:[i.jsx(ot,{children:i.jsx(lt,{children:"Pengaturan Toko"})}),i.jsx(xe,{children:i.jsx(ys,{...m,children:i.jsxs("form",{onSubmit:m.handleSubmit(j),className:"space-y-4",children:[i.jsx($e,{control:m.control,name:"storeName",render:({field:N})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Nama Toko"}),i.jsx(Le,{children:i.jsx(ce,{...N})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:m.control,name:"contactEmail",render:({field:N})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Email Kontak"}),i.jsx(Le,{children:i.jsx(ce,{type:"email",...N})}),i.jsx(Ke,{})]})}),i.jsx($e,{control:m.control,name:"currency",render:({field:N})=>i.jsxs(Me,{children:[i.jsx(Qe,{children:"Mata Uang"}),i.jsx(Le,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...N,children:[i.jsx("option",{value:"IDR",children:"IDR (Rp)"}),i.jsx("option",{value:"USD",children:"USD ($)"}),i.jsx("option",{value:"EUR",children:"EUR ()"}),i.jsx("option",{value:"GBP",children:"GBP ()"})]})}),i.jsx(Ke,{})]})}),i.jsx(V,{type:"submit",disabled:a,children:a?"Menyimpan...":"Simpan Pengaturan Toko"})]})})})]}),i.jsxs(ye,{children:[i.jsx(ot,{children:i.jsx(lt,{children:"Pemeliharaan Database"})}),i.jsxs(xe,{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Jalankan operasi pemeliharaan pada database Anda. Operasi ini dapat membantu meningkatkan kinerja dan integritas data."}),i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx(V,{variant:"outline",onClick:C,children:"Jalankan Vakum Database"}),i.jsx(V,{variant:"outline",onClick:E,children:"Bersihkan Log Lama"})]})]})]}),i.jsxs(ye,{children:[i.jsx(ot,{children:i.jsxs(lt,{className:"flex items-center gap-2",children:[i.jsx($P,{className:"h-5 w-5"}),i.jsx("span",{children:"Pengaturan Notifikasi"})]})}),i.jsx(xe,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"pb-4 border-b",children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Izin Notifikasi Browser"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["Status izin: ",i.jsx("span",{className:`font-medium ${u==="granted"?"text-green-600":"text-orange-600"}`,children:u==="granted"?"Diizinkan":u==="denied"?"Ditolak (ubah di pengaturan browser)":"Belum diminta"})]}),u==="denied"&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-500 mt-1",children:[i.jsx(b_,{className:"h-4 w-4"}),i.jsx("span",{children:"Anda telah menolak izin notifikasi. Harap ubah di pengaturan browser Anda."})]})]}),i.jsx(V,{variant:"outline",disabled:u==="denied"||l,onClick:_,children:l?"Mengizinkan...":"Izinkan Notifikasi"})]})]}),i.jsx(ys,{...p,children:i.jsxs("form",{onSubmit:p.handleSubmit(B),className:"space-y-4",children:[i.jsx($e,{control:p.control,name:"enableOrderNotifications",render:({field:N})=>i.jsxs(Me,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Qe,{children:"Notifikasi Pesanan Baru"}),i.jsx(hb,{children:"Terima notifikasi saat ada pesanan baru dari pelanggan"})]}),i.jsx(Le,{children:i.jsx(ti,{checked:N.value,onCheckedChange:N.onChange,disabled:u!=="granted"})})]})}),i.jsx($e,{control:p.control,name:"enableChatNotifications",render:({field:N})=>i.jsxs(Me,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Qe,{children:"Notifikasi Pesan Chat"}),i.jsx(hb,{children:"Terima notifikasi saat ada pesan baru dari pelanggan"})]}),i.jsx(Le,{children:i.jsx(ti,{checked:N.value,onCheckedChange:N.onChange,disabled:u!=="granted"})})]})}),i.jsx($e,{control:p.control,name:"enableSoundNotifications",render:({field:N})=>i.jsxs(Me,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Qe,{children:"Notifikasi Suara"}),i.jsx(hb,{children:"Putar suara saat menerima notifikasi baru"})]}),i.jsx(Le,{children:i.jsx(ti,{checked:N.value,onCheckedChange:N.onChange})})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(V,{type:"submit",disabled:l||u!=="granted",children:l?"Menyimpan...":"Simpan Pengaturan"}),i.jsx(V,{type:"button",variant:"outline",onClick:S,disabled:u!=="granted",children:"Uji Notifikasi"})]})]})})]})})]}),i.jsxs(ye,{className:"mb-8",children:[i.jsx(ot,{children:i.jsxs(lt,{className:"flex items-center",children:[i.jsx(jf,{className:"mr-2 h-5 w-5"}),"Pengaturan Jam Kerja"]})}),i.jsx(xe,{children:i.jsx("div",{className:"space-y-6",children:i.jsx(Lrt,{})})})]}),i.jsxs(ye,{className:"mb-8",children:[i.jsx(ot,{children:i.jsx(lt,{children:"Test Notifikasi Real-time"})}),i.jsx(xe,{children:i.jsx("div",{className:"space-y-6",children:i.jsx(Mrt,{})})})]})]})]})]})}function zrt(){const[t,e]=v.useState([]),[r,n]=v.useState([]),[s,a]=v.useState(""),[o,l]=v.useState(!0),[c,u]=v.useState(0),{user:A}=qr(),d=v.useRef(null),h=()=>{d.current&&d.current.unsubscribe();const g=J.channel("public:messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},y=>{console.log("Pesan baru diterima:",y),y.new&&y.new.sender_id!==(A==null?void 0:A.id)&&(y.new.read===!1||y.new.read===null||y.new.read===void 0)&&(u(j=>j+1),fe({title:"Pesan Baru Diterima",description:`Ada pesan baru dari pelanggan: ${y.new.content.substring(0,30)}${y.new.content.length>30?"...":""}`,variant:"default"}),new Audio("/notification.mp3").play().catch(j=>console.log("Error playing notification sound:",j))),f()}).subscribe();return d.current=g,()=>{g.unsubscribe()}};v.useEffect(()=>{if(A)return h()},[A]),v.useEffect(()=>{A&&f()},[A]);const f=async()=>{var g,y,x;try{l(!0);const{data:b,error:j}=await J.from("profiles").select("*").eq("role","customer");if(j)throw j;const C=[];for(const _ of b||[]){const{data:B,error:S}=await J.from("profiles").select("*").eq("id",_.id).single();S&&console.error("Error fetching customer details:",S);const{data:N,error:P}=await J.from("messages").select(`
            *,
            profiles:sender_id(name, email)
          `).or(`sender_id.eq.${_.id},receiver_id.eq.${_.id}`).order("created_at",{ascending:!1}),I=N?N.filter(K=>K.sender_id===_.id&&K.read===!1).length:0;I>0&&console.log(`${I} pesan belum dibaca dari pelanggan:`,_.name),P&&console.error("Error fetching messages for user:",P);const T=`admin_chat_${_.id}`,D=localStorage.getItem(T);let M="",H="",U=null,O=null;if(D)try{const K=JSON.parse(D);K.length>0&&(U=K[K.length-1])}catch(K){console.error("Error parsing stored messages",K)}if(N&&N.length>0){const K=N[0],ne=((g=K.profiles)==null?void 0:g.name)||_.name;O={content:K.content,timestamp:K.created_at,sender_id:K.sender_id,senderName:ne},console.log(`${N.length} pesan ditemukan untuk pelanggan:`,_.name),N.forEach((ue,le)=>{console.log(`Pesan #${le+1}:`,{content:ue.content,timestamp:new Date(ue.created_at).toLocaleString("id-ID"),isFromCustomer:ue.sender_id===_.id})})}let R=!1;if(U&&O){const K=new Date(U.timestamp).getTime(),ne=new Date(O.timestamp).getTime();K>ne?(M=U.content,H=U.timestamp,R=U.sender!=="admin"):(M=O.content,H=O.timestamp,R=O.sender_id===_.id)}else U?(M=U.content,H=U.timestamp,R=U.sender!=="admin"):O&&(M=O.content,H=O.timestamp,R=O.sender_id===_.id);let Q,G="",X="",se=!1,Z=null;if(N&&N.length>0){console.log(`Semua pesan untuk ${_.name}:`,N.length,"pesan ditemukan");const K=N.filter(ue=>ue.sender_id===_.id&&(ue.read===!1||ue.read===null||ue.read===void 0));K.length>0&&(console.log("Pesan belum dibaca ditemukan:",K.length,"pesan"),console.log("Sample pesan belum dibaca:",K[0]));const ne=N.filter(ue=>ue.sender_id===_.id);if(ne.length>0&&console.log(`Pesan dari pelanggan ${_.name}:`,ne.length,"pesan"),K.length>0)Z=K[0],Q=((y=Z.profiles)==null?void 0:y.name)||(B==null?void 0:B.name)||_.name||_.email||"Pelanggan",G=Z.content,X=Z.id,se=!0,R=!0;else if(ne.length>0)Z=ne[0],Q=((x=Z.profiles)==null?void 0:x.name)||(B==null?void 0:B.name)||_.name||_.email||"Pelanggan",G=Z.content,X=Z.id,se=!1,R=!0;else{const ue=N[0];Q="Admin",G=ue.content,X=ue.id,se=!1,R=!1}}else{if(B){console.log("Detail customer ditemukan:",B),Q=B.name||_.name||_.email||"Pelanggan";const{data:K}=await J.from("messages").select("content, created_at").eq("sender_id",_.id).order("created_at",{ascending:!1}).limit(1);K&&K.length>0?(G=K[0].content,console.log("Pesan terbaru ditemukan:",G)):G=B.last_seen?`Terakhir aktif: ${new Date(B.last_seen).toLocaleString("id-ID")}`:"Belum ada riwayat pesan"}else Q=_.name||_.email||"Pelanggan",G="Pelanggan baru mendaftar";R=!0,se=!1}C.push({id:_.id,name:_.name||_.email||"Pelanggan Tidak Dikenal",lastMessage:G||M,lastTimestamp:H,unread:se,messageId:X,isFromCustomer:R,senderName:Q})}let E=0;for(const _ of C)if(_.lastTimestamp&&_.isFromCustomer){const B=new Date(_.lastTimestamp).getTime();E=Math.max(E,B)}console.log("Timestamp pesan terbaru dari pelanggan:",new Date(E).toLocaleString("id-ID"));for(const _ of C)if(_.lastTimestamp&&_.isFromCustomer){const B=new Date(_.lastTimestamp).getTime();B===E&&(_.isLatestCustomerMessage=!0,console.log("Pelanggan dengan pesan terbaru:",_.name,"pada",new Date(B).toLocaleString("id-ID")))}C.sort((_,B)=>{if(_.isLatestCustomerMessage&&!B.isLatestCustomerMessage)return-1;if(!_.isLatestCustomerMessage&&B.isLatestCustomerMessage)return 1;if(!_.lastTimestamp&&!B.lastTimestamp)return _.isFromCustomer&&!B.isFromCustomer?-1:!_.isFromCustomer&&B.isFromCustomer?1:0;if(!_.lastTimestamp)return 1;if(!B.lastTimestamp)return-1;const S=new Date(_.lastTimestamp).getTime(),N=new Date(B.lastTimestamp).getTime();return S!==N?N-S:_.isFromCustomer&&!B.isFromCustomer?-1:!_.isFromCustomer&&B.isFromCustomer?1:_.unread&&!B.unread?-1:!_.unread&&B.unread?1:_.name.localeCompare(B.name)}),console.log("Daftar chat yang sudah diurutkan:",C.map(_=>({name:_.name,timestamp:_.lastTimestamp?new Date(_.lastTimestamp).toLocaleString("id-ID"):"tidak ada",isFromCustomer:_.isFromCustomer,unread:_.unread}))),e(C)}catch(b){console.error("Error fetching chat users:",b)}finally{l(!1)}},m=async g=>{if(g.unread&&g.messageId){console.log("Menandai pesan sebagai sudah dibaca:",g.messageId);try{const{error:y}=await J.from("messages").update({read:!0}).eq("id",g.messageId);if(y)throw y;u(x=>Math.max(0,x-1)),f(),console.log("Pesan berhasil ditandai sebagai dibaca")}catch(y){console.error("Error menandai pesan sebagai dibaca:",y),console.log("Mencoba fallback untuk database lama..."),fe({title:"Perhatian",description:"Perlu update skema database untuk fitur 'sudah dibaca'",variant:"default"})}}};v.useEffect(()=>{const g=s?t.filter(y=>y.name.toLowerCase().includes(s.toLowerCase())):t;n(g)},[s,t,c]);const p=g=>{if(!g)return"";const y=new Date(g),b=new Date().getTime()-y.getTime(),j=60*1e3,C=60*j,E=24*C,_=7*E,B=30*E;return b<j?"Baru saja":b<C?`${Math.floor(b/j)} menit yang lalu`:b<E?`${Math.floor(b/C)} jam yang lalu`:b<_?`${Math.floor(b/E)} hari yang lalu`:b<B?`${Math.floor(b/_)} minggu yang lalu`:y.toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})};return i.jsx(qn,{children:i.jsx("div",{className:"p-4 max-w-4xl mx-auto",children:i.jsxs(ye,{children:[i.jsx(ot,{children:i.jsx("div",{className:"flex justify-between items-center",children:i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(lt,{children:"Obrolan Pelanggan"}),c>0&&i.jsxs("div",{className:"bg-orange-500 text-white px-2 py-1 rounded-full text-xs font-bold flex items-center animate-pulse",children:[i.jsx($P,{className:"h-3 w-3 mr-1"}),c," baru"]})]}),i.jsx(ur,{children:"Kelola percakapan dukungan pelanggan secara realtime"})]})})}),i.jsxs(xe,{children:[i.jsxs("div",{className:"relative mb-6",children:[i.jsx(ku,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),i.jsx(ce,{placeholder:"Cari pelanggan...",className:"pl-10",value:s,onChange:g=>a(g.target.value)})]}),i.jsxs("div",{className:"space-y-1",children:[c>0&&i.jsx(V,{variant:"ghost",onClick:async()=>{try{const{data:g,error:y}=await J.from("messages").select("id").eq("receiver_id",A==null?void 0:A.id).is("read",null);if(y)throw y;const{error:x}=await J.from("messages").update({read:!0}).eq("read",!1).eq("receiver_id",A==null?void 0:A.id);if(x)throw x;if(g&&g.length>0){const{error:b}=await J.from("messages").update({read:!0}).is("read",null).eq("receiver_id",A==null?void 0:A.id);if(b)throw b}u(0),f(),fe({title:"Berhasil",description:"Semua pesan telah ditandai sebagai dibaca",variant:"default"})}catch(g){console.error("Error menandai semua pesan sebagai dibaca:",g),fe({title:"Error",description:"Gagal menandai pesan sebagai dibaca",variant:"destructive"})}},className:"w-full text-center text-sm text-flame-500 hover:bg-orange-50 mb-2",children:"Tandai semua sebagai telah dibaca"}),o?i.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Memuat obrolan pelanggan..."}):r.length===0?i.jsx("p",{className:"text-center text-muted-foreground py-4",children:s?"Tidak ada pelanggan yang sesuai dengan pencarian":"Belum ada obrolan pelanggan"}):r.map(g=>i.jsx(st,{to:`/admin/chat/${g.id}`,className:"block",onClick:()=>m(g),children:i.jsx(V,{variant:g.isFromCustomer?"default":"ghost",className:`w-full justify-start px-3 py-6 h-auto ${g.isFromCustomer?"bg-orange-100 border-2 border-orange-400 shadow-md hover:bg-orange-200":"hover:bg-gray-100"}`,children:i.jsxs("div",{className:"flex items-center w-full",children:[i.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center mr-3 shrink-0 ${g.isFromCustomer?"bg-orange-400":"bg-charcoal-100"}`,children:i.jsx(_f,{className:`h-5 w-5 ${g.isFromCustomer?"text-white":"text-charcoal-500"}`})}),i.jsxs("div",{className:"flex-grow min-w-0",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:`truncate ${g.isFromCustomer?"font-bold text-orange-600":"font-medium"}`,children:g.name}),g.lastTimestamp&&i.jsx("span",{className:"text-xs text-muted-foreground ml-2 shrink-0",children:p(g.lastTimestamp)})]}),i.jsx("div",{className:"flex items-center",children:i.jsxs("div",{className:"flex items-center",children:[g.unread&&i.jsx("div",{className:"flex items-center bg-orange-500 text-white text-xs px-2 py-0.5 rounded-full mr-2 animate-pulse shadow-md",children:i.jsx("span",{children:"BARU"})}),i.jsx("p",{className:`text-sm truncate ${g.isFromCustomer?"text-orange-700 font-semibold":"text-muted-foreground"}`,children:i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"font-semibold",children:g.senderName||(g.isFromCustomer?g.name:"Admin")}),": ",g.lastMessage||"Memuat data pesan..."]})})]})})]})]})})},g.id))]})]})]})})})}function Grt(){const{customerId:t}=cx(),e=Tt(),{user:r,profile:n}=qr(),[s,a]=v.useState(""),[o,l]=v.useState(!0);return v.useEffect(()=>{(async()=>{if(!t){e("/admin/chats");return}try{l(!0);const{data:u,error:A}=await J.from("profiles").select("name, email").eq("id",t).single();if(A)throw A;a(u.name||u.email||"Pelanggan")}catch(u){console.error("Error fetching customer info:",u),e("/admin/chats")}finally{l(!1)}})()},[t,e]),!r||!n||n.role!=="admin"?i.jsx(qn,{children:i.jsx("div",{className:"flex items-center justify-center h-80",children:i.jsx("p",{className:"text-muted-foreground",children:"Akses tidak diizinkan"})})}):o||!t?i.jsx(qn,{children:i.jsx("div",{className:"flex items-center justify-center h-80",children:i.jsx(zt,{className:"animate-spin h-8 w-8 text-flame-500"})})}):i.jsx(qn,{children:i.jsx("div",{className:"h-[calc(100vh-64px)]",children:i.jsx(xZ,{chatPartnerId:t,chatPartnerName:s,isAdmin:!0})})})}var $ne="AlertDialog",[Wrt,znt]=aa($ne,[sX]),Kl=sX(),Hne=t=>{const{__scopeAlertDialog:e,...r}=t,n=Kl(e);return i.jsx(CF,{...n,...r,modal:!0})};Hne.displayName=$ne;var qrt="AlertDialogTrigger",Vne=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Kl(r);return i.jsx(BF,{...s,...n,ref:e})});Vne.displayName=qrt;var Xrt="AlertDialogPortal",Kne=t=>{const{__scopeAlertDialog:e,...r}=t,n=Kl(e);return i.jsx(EF,{...n,...r})};Kne.displayName=Xrt;var Jrt="AlertDialogOverlay",zne=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Kl(r);return i.jsx(jx,{...s,...n,ref:e})});zne.displayName=Jrt;var tf="AlertDialogContent",[Yrt,Zrt]=Wrt(tf),Gne=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...s}=t,a=Kl(r),o=v.useRef(null),l=yt(e,o),c=v.useRef(null);return i.jsx(Uje,{contentName:tf,titleName:Wne,docsSlug:"alert-dialog",children:i.jsx(Yrt,{scope:r,cancelRef:c,children:i.jsxs(_x,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:De(s.onOpenAutoFocus,u=>{var A;u.preventDefault(),(A=c.current)==null||A.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(UP,{children:n}),i.jsx(tnt,{contentRef:o})]})})})});Gne.displayName=tf;var Wne="AlertDialogTitle",qne=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Kl(r);return i.jsx(Cx,{...s,...n,ref:e})});qne.displayName=Wne;var Xne="AlertDialogDescription",Jne=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Kl(r);return i.jsx(Bx,{...s,...n,ref:e})});Jne.displayName=Xne;var ent="AlertDialogAction",Yne=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Kl(r);return i.jsx(jC,{...s,...n,ref:e})});Yne.displayName=ent;var Zne="AlertDialogCancel",ese=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:s}=Zrt(Zne,r),a=Kl(r),o=yt(e,s);return i.jsx(jC,{...a,...n,ref:o})});ese.displayName=Zne;var tnt=({contentRef:t})=>{const e=`\`${tf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${tf}\` by passing a \`${Xne}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${tf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},rnt=Hne,nnt=Vne,snt=Kne,tse=zne,rse=Gne,nse=Yne,sse=ese,ase=qne,ise=Jne;const ant=rnt,int=nnt,ont=snt,ose=v.forwardRef(({className:t,...e},r)=>i.jsx(tse,{className:he("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));ose.displayName=tse.displayName;const lse=v.forwardRef(({className:t,...e},r)=>i.jsxs(ont,{children:[i.jsx(ose,{}),i.jsx(rse,{ref:r,className:he("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));lse.displayName=rse.displayName;const cse=({className:t,...e})=>i.jsx("div",{className:he("flex flex-col space-y-2 text-center sm:text-left",t),...e});cse.displayName="AlertDialogHeader";const use=({className:t,...e})=>i.jsx("div",{className:he("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});use.displayName="AlertDialogFooter";const Ase=v.forwardRef(({className:t,...e},r)=>i.jsx(ase,{ref:r,className:he("text-lg font-semibold",t),...e}));Ase.displayName=ase.displayName;const dse=v.forwardRef(({className:t,...e},r)=>i.jsx(ise,{ref:r,className:he("text-sm text-muted-foreground",t),...e}));dse.displayName=ise.displayName;const hse=v.forwardRef(({className:t,...e},r)=>i.jsx(nse,{ref:r,className:he(U_(),t),...e}));hse.displayName=nse.displayName;const fse=v.forwardRef(({className:t,...e},r)=>i.jsx(sse,{ref:r,className:he(U_({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));fse.displayName=sse.displayName;const lnt=async()=>{try{console.log("Mulai menambahkan voucher awal...");const{data:t,error:e}=await J.from("vouchers").select("id").limit(1);e&&await mse();const r=[{code:"WELCOME10",discount_type:"percentage",discount_value:10,min_purchase:1e5,max_discount:5e4,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+3)).toISOString(),usage_limit:100,usage_count:0,is_active:!0,description:"Diskon 10% untuk pelanggan baru dengan minimum pembelian Rp 100.000"},{code:"LIBURAN25",discount_type:"percentage",discount_value:25,min_purchase:2e5,max_discount:1e5,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString(),usage_limit:50,usage_count:0,is_active:!0,description:"Diskon liburan 25% dengan minimum pembelian Rp 200.000"},{code:"HEMAT50K",discount_type:"fixed",discount_value:5e4,min_purchase:25e4,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+2)).toISOString(),usage_limit:30,usage_count:0,is_active:!0,description:"Potongan langsung Rp 50.000 dengan minimum pembelian Rp 250.000"}];for(const n of r){const{data:s}=await J.from("vouchers").select("id").eq("code",n.code).maybeSingle();if(s)console.log(`Voucher ${n.code} sudah ada, melewati...`);else{const{data:a,error:o}=await J.from("vouchers").insert([n]);o?console.error(`Gagal menambahkan voucher ${n.code}:`,o):console.log(`Berhasil menambahkan voucher ${n.code}`)}}console.log("Selesai menambahkan voucher awal")}catch(t){console.error("Gagal menambahkan voucher awal:",t)}},mse=async()=>{try{console.log("Membuat tabel vouchers dengan metode sederhana...");const{error:t}=await J.from("vouchers").insert({id:Cn(),code:"WELCOME10",discount_type:"percentage",discount_value:10,min_purchase:1e5,max_discount:5e4,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+3)).toISOString(),usage_limit:100,usage_count:0,is_active:!0,created_at:new Date().toISOString(),description:"Diskon 10% untuk pelanggan baru dengan minimum pembelian Rp 100.000"});if(t){console.error("Gagal membuat tabel dengan insert langsung:",t),console.log("Mencoba membuat tabel dengan metode REST API...");const n="https://vpztrjwitxvldrdhndlr.supabase.co/rest/v1/rpc/create_vouchers_table",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZwenRyandpdHh2bGRyZGhuZGxyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4MTE3NzIsImV4cCI6MjA2MzM4Nzc3Mn0._NFTwCpQGgMThUeh1sew8y5ulRXSGmwHLmXRQx544PM",a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json",apikey:s,Authorization:`Bearer ${s}`}});a.ok?console.log("Tabel berhasil dibuat dengan metode REST API"):(console.error("REST API call failed:",await a.text()),console.log("Metode REST API gagal, mencoba metode terakhir - disable RLS dan insert"),await cnt())}else console.log("Berhasil menambahkan voucher pertama, tabel telah dibuat atau sudah ada");const{data:e,error:r}=await J.from("vouchers").select("id").limit(1);r?console.error("Tabel masih belum dapat diakses:",r):console.log("Tabel vouchers berhasil dibuat dan dapat diakses",e)}catch(t){console.error("Gagal membuat tabel vouchers:",t)}},cnt=async()=>{try{console.log("Mencoba membuat voucher dengan login admin...");const{error:t}=await J.from("vouchers").insert({id:Cn(),code:"SIMPLETEST",discount_type:"fixed",discount_value:2e4,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString(),is_active:!0,created_at:new Date().toISOString(),description:"Voucher test sistem"});t?(console.error("Gagal dengan semua metode:",t),console.log("Solusi: Hubungi admin database untuk membuat tabel vouchers secara manual")):console.log("Berhasil membuat voucher dengan metode terakhir")}catch(t){console.error("Error pada metode terakhir:",t)}},unt=async()=>{try{console.log("Mengecek keberadaan tabel vouchers...");const{data:t,error:e}=await J.from("vouchers").select("count(*)",{count:"exact",head:!0});if(e){if(e.code==="PGRST116"||e.message&&e.message.includes("relation")&&e.message.includes("does not exist")){console.log("Tabel vouchers belum ada, mencoba membuat tabel..."),await mse();const r=await J.from("vouchers").select("count(*)",{count:"exact",head:!0});return r.error?(console.error("Gagal membuat tabel vouchers:",r.error),!1):(console.log("Tabel vouchers berhasil dibuat!"),!0)}return console.error("Error saat mengecek tabel vouchers:",e),!1}return console.log("Tabel vouchers ditemukan"),!0}catch(t){return console.error("Gagal mengecek tabel vouchers:",t),!1}};function Ant(){const{toast:t}=Vi(),[e,r]=v.useState([]),[n,s]=v.useState(!0),[a,o]=v.useState(""),[l,c]=v.useState(!1),[u,A]=v.useState(!1),[d,h]=v.useState(!0),[f,m]=v.useState({code:"",discount_type:"percentage",discount_value:0,min_purchase:void 0,max_discount:void 0,start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],usage_limit:void 0,is_active:!0,description:""}),[p,g]=v.useState(!1),[y,x]=v.useState(!1),[b,j]=v.useState(null);v.useEffect(()=>{E(),C()},[a,l]);const C=async()=>{const O=await unt();h(O)},E=async()=>{s(!0);try{const{data:O,error:R}=await wc.getVouchers(100,0,{search:a||void 0,is_active:l?!0:void 0});if(R)throw R;r(O||[])}catch(O){console.error("Error fetching vouchers:",O),h(!1),t({title:"Gagal Memuat Data",description:"Terjadi kesalahan saat memuat daftar voucher",variant:"destructive"})}finally{s(!1)}},_=O=>{const{name:R,value:Q,type:G}=O.target;m(G==="number"?{...f,[R]:Q===""?void 0:parseFloat(Q)}:{...f,[R]:Q})},B=(O,R)=>{m({...f,[O]:R})},S=(O,R)=>{m({...f,[O]:R})},N=()=>{I(),g(!1),x(!0)},P=O=>{m({...O,start_date:new Date(O.start_date).toISOString().split("T")[0],end_date:new Date(O.end_date).toISOString().split("T")[0]}),g(!0),x(!0)},I=()=>{m({code:"",discount_type:"percentage",discount_value:0,min_purchase:void 0,max_discount:void 0,start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],usage_limit:void 0,is_active:!0,description:""})},T=async O=>{O.preventDefault();try{if(p&&f.id){const{data:R,error:Q}=await wc.updateVoucher(f.id,f);if(Q)throw Q;t({title:"Voucher Diperbarui",description:`Voucher dengan kode ${f.code} berhasil diperbarui`,variant:"default"})}else{const{data:R,error:Q}=await wc.addVoucher(f);if(Q)throw Q;t({title:"Voucher Ditambahkan",description:`Voucher baru dengan kode ${f.code} berhasil ditambahkan`,variant:"default"})}x(!1),E()}catch(R){console.error("Error saving voucher:",R),t({title:"Gagal Menyimpan",description:R.message||"Terjadi kesalahan saat menyimpan voucher",variant:"destructive"})}},D=async()=>{if(b)try{const{error:O}=await wc.deleteVoucher(b);if(O)throw O;t({title:"Voucher Dihapus",description:"Voucher berhasil dihapus dari sistem",variant:"default"}),E(),j(null)}catch(O){console.error("Error deleting voucher:",O),t({title:"Gagal Menghapus",description:O.message||"Terjadi kesalahan saat menghapus voucher",variant:"destructive"})}},M=async(O,R)=>{try{const{error:Q}=await wc.toggleVoucherStatus(O,!R);if(Q)throw Q;t({title:`Voucher ${R?"Dinonaktifkan":"Diaktifkan"}`,description:`Status voucher berhasil diubah menjadi ${R?"tidak aktif":"aktif"}`,variant:"default"}),E()}catch(Q){console.error("Error toggling voucher status:",Q),t({title:"Gagal Mengubah Status",description:Q.message||"Terjadi kesalahan saat mengubah status voucher",variant:"destructive"})}},H=O=>{if(!O.is_active)return i.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-800 rounded-full",children:"Tidak Aktif"});const R=new Date,Q=new Date(O.start_date),G=new Date(O.end_date);return R<Q?i.jsx("span",{className:"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full",children:"Belum Mulai"}):R>G?i.jsx("span",{className:"px-2 py-1 text-xs bg-red-100 text-red-800 rounded-full",children:"Kadaluarsa"}):O.usage_limit&&O.usage_count>=O.usage_limit?i.jsx("span",{className:"px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Habis"}):i.jsx("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:"Aktif"})},U=async()=>{A(!0);try{await lnt(),t({title:"Berhasil",description:"Data voucher contoh berhasil ditambahkan ke database",variant:"default"}),E(),C()}catch(O){console.error("Error initializing data:",O),t({title:"Gagal Menginisialisasi Data",description:"Terjadi kesalahan saat menambahkan data contoh",variant:"destructive"})}finally{A(!1)}};return i.jsx(qn,{children:i.jsxs("div",{className:"container mx-auto py-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Manajemen Voucher"}),i.jsxs("div",{className:"flex gap-2",children:[!d&&i.jsxs(V,{onClick:U,disabled:u,variant:"outline",children:[i.jsx(r9,{className:"mr-2 h-4 w-4"}),u?"Menginisialisasi...":"Inisialisasi Data"]}),i.jsxs(fr,{open:y,onOpenChange:x,children:[i.jsx(X1,{asChild:!0,children:i.jsxs(V,{onClick:N,children:[i.jsx(jle,{className:"mr-2 h-4 w-4"}),"Tambah Voucher"]})}),i.jsxs(ir,{className:"sm:max-w-[550px]",children:[i.jsxs(xr,{children:[i.jsx(wr,{children:p?"Edit Voucher":"Tambah Voucher Baru"}),i.jsx(Jn,{children:p?"Perbarui informasi voucher yang sudah ada":"Isi formulir berikut untuk menambahkan voucher baru"})]}),i.jsxs("form",{onSubmit:T,children:[i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"code",className:"text-right",children:"Kode Voucher*"}),i.jsx(ce,{id:"code",name:"code",value:f.code,onChange:_,className:"col-span-3",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"discount_type",className:"text-right",children:"Tipe Diskon*"}),i.jsxs(us,{name:"discount_type",value:f.discount_type,onValueChange:O=>B("discount_type",O),children:[i.jsx(Ln,{className:"col-span-3",children:i.jsx(As,{placeholder:"Pilih tipe diskon"})}),i.jsxs($n,{children:[i.jsx(vt,{value:"percentage",children:"Persentase (%)"}),i.jsx(vt,{value:"fixed",children:"Nominal Tetap (Rp)"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"discount_value",className:"text-right",children:"Nilai Diskon*"}),i.jsxs("div",{className:"col-span-3 flex items-center",children:[i.jsx(ce,{id:"discount_value",name:"discount_value",type:"number",min:0,value:f.discount_value||"",onChange:_,required:!0}),i.jsx("span",{className:"ml-2",children:f.discount_type==="percentage"?"%":"Rupiah"})]})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"min_purchase",className:"text-right",children:"Min. Pembelian"}),i.jsx(ce,{id:"min_purchase",name:"min_purchase",type:"number",min:0,value:f.min_purchase||"",onChange:_,className:"col-span-3",placeholder:"Opsional"})]}),f.discount_type==="percentage"&&i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"max_discount",className:"text-right",children:"Maks. Diskon"}),i.jsx(ce,{id:"max_discount",name:"max_discount",type:"number",min:0,value:f.max_discount||"",onChange:_,className:"col-span-3",placeholder:"Opsional"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"start_date",className:"text-right",children:"Tanggal Mulai*"}),i.jsx(ce,{id:"start_date",name:"start_date",type:"date",value:f.start_date,onChange:_,className:"col-span-3",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"end_date",className:"text-right",children:"Tanggal Berakhir*"}),i.jsx(ce,{id:"end_date",name:"end_date",type:"date",value:f.end_date,onChange:_,className:"col-span-3",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"usage_limit",className:"text-right",children:"Batas Penggunaan"}),i.jsx(ce,{id:"usage_limit",name:"usage_limit",type:"number",min:0,value:f.usage_limit||"",onChange:_,className:"col-span-3",placeholder:"Opsional"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"description",className:"text-right",children:"Deskripsi"}),i.jsx(ce,{id:"description",name:"description",value:f.description||"",onChange:_,className:"col-span-3",placeholder:"Opsional"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"is_active",className:"text-right",children:"Status Aktif"}),i.jsxs("div",{className:"flex items-center space-x-2 col-span-3",children:[i.jsx(ti,{id:"is_active",checked:f.is_active,onCheckedChange:O=>S("is_active",O)}),i.jsx(Te,{htmlFor:"is_active",children:f.is_active?"Aktif":"Tidak Aktif"})]})]})]}),i.jsxs(Sn,{children:[i.jsx(V,{type:"button",variant:"outline",onClick:()=>x(!1),children:"Batal"}),i.jsx(V,{type:"submit",children:p?"Perbarui Voucher":"Tambah Voucher"})]})]})]})]})]})]}),i.jsxs(ye,{children:[i.jsxs(ot,{children:[i.jsxs(lt,{className:"flex items-center",children:[i.jsx(zle,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:"Daftar Voucher"})]}),i.jsx(ur,{children:"Kelola voucher diskon untuk pelanggan"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(ku,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),i.jsx(ce,{placeholder:"Cari kode atau deskripsi voucher...",className:"pl-8",value:a,onChange:O=>o(O.target.value)})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ti,{id:"active-filter",checked:l,onCheckedChange:c}),i.jsx(Te,{htmlFor:"active-filter",children:"Hanya Tampilkan Voucher Aktif"})]})]})]}),i.jsx(xe,{children:n?i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-flame-500"})}):e.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[i.jsx(pv,{className:"h-12 w-12 text-gray-400 mb-2"}),i.jsx("h3",{className:"text-lg font-medium",children:"Tidak Ada Voucher"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1 max-w-md",children:a||l?"Tidak ada voucher yang sesuai dengan filter yang dipilih":"Belum ada voucher yang ditambahkan. Klik tombol 'Tambah Voucher' untuk mulai membuat voucher"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(Hn,{children:[i.jsx(Vn,{children:i.jsxs(ut,{children:[i.jsx(Ee,{className:"w-[120px]",children:"Kode"}),i.jsx(Ee,{children:"Diskon"}),i.jsx(Ee,{children:"Periode"}),i.jsx(Ee,{children:"Batasan"}),i.jsx(Ee,{className:"text-center",children:"Status"}),i.jsx(Ee,{className:"text-center",children:"Penggunaan"}),i.jsx(Ee,{className:"text-right",children:"Aksi"})]})}),i.jsx(Kn,{children:e.map(O=>i.jsxs(ut,{children:[i.jsxs(pe,{className:"font-medium",children:[O.code,O.description&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:O.description})]}),i.jsxs(pe,{children:[O.discount_type==="percentage"?`${O.discount_value}%`:ge(O.discount_value),O.discount_type==="percentage"&&O.max_discount&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maks: ",ge(O.max_discount)]})]}),i.jsx(pe,{children:i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{children:Bn(new Date(O.start_date),"dd/MM/yyyy")}),i.jsx("span",{children:" - "}),i.jsx("span",{children:Bn(new Date(O.end_date),"dd/MM/yyyy")})]})}),i.jsxs(pe,{children:[O.min_purchase&&i.jsxs("div",{className:"text-sm",children:["Min: ",ge(O.min_purchase)]}),O.usage_limit&&i.jsxs("div",{className:"text-sm",children:["Maks: ",O.usage_limit," kali"]}),!O.min_purchase&&!O.usage_limit&&i.jsx("span",{className:"text-sm text-gray-500",children:"-"})]}),i.jsx(pe,{className:"text-center",children:H(O)}),i.jsxs(pe,{className:"text-center",children:[O.usage_count||0,O.usage_limit&&i.jsxs("span",{children:[" / ",O.usage_limit]})]}),i.jsx(pe,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end items-center space-x-2",children:[i.jsx(V,{variant:"outline",size:"sm",onClick:()=>M(O.id,O.is_active),children:O.is_active?"Nonaktifkan":"Aktifkan"}),i.jsx(V,{variant:"outline",size:"icon",onClick:()=>P(O),children:i.jsx(nx,{className:"h-4 w-4"})}),i.jsxs(ant,{children:[i.jsx(int,{asChild:!0,children:i.jsx(V,{variant:"outline",size:"icon",className:"text-red-500 border-red-200 hover:bg-red-50",onClick:()=>j(O.id),children:i.jsx(u9,{className:"h-4 w-4"})})}),i.jsxs(lse,{children:[i.jsxs(cse,{children:[i.jsx(Ase,{children:"Hapus Voucher"}),i.jsxs(dse,{children:["Apakah Anda yakin ingin menghapus voucher dengan kode ",i.jsx("strong",{children:O.code}),"? Tindakan ini tidak dapat dibatalkan."]})]}),i.jsxs(use,{children:[i.jsx(fse,{onClick:()=>j(null),children:"Batal"}),i.jsx(hse,{onClick:D,className:"bg-red-500 hover:bg-red-600",children:"Hapus"})]})]})]})]})})]},O.id))})]})})})]})]})})}class tV{static async getRecipients(e){let r=J.from("profiles").select("id, phone, name");if(e.recipientType==="selected"&&e.selectedIds&&e.selectedIds.length>0)r=r.in("id",e.selectedIds);else if(e.recipientType==="filtered"&&e.filterOptions){const{lastOrderDays:a,minOrderCount:o,minTotalSpent:l,lastActive:c}=e.filterOptions;if(c){const u=new Date;u.setDate(u.getDate()-c),r=r.gte("last_seen",u.toISOString())}}r=r.not("phone","is",null);const{data:n,error:s}=await r;return s?(console.error("Error fetching recipients:",s),[]):n.map(a=>({id:a.id,phone:a.phone,name:a.name}))}static async sendBroadcast(e){try{const r=await this.getRecipients(e);if(r.length===0)return{success:!1,totalRecipients:0,sentCount:0,failedCount:0};console.log(`Preparing to send broadcast to ${r.length} recipients`);const{data:n,error:s}=await J.from("broadcasts").insert({message_template:e.message,recipient_count:r.length,recipient_type:e.recipientType,scheduled_time:e.scheduleTime?e.scheduleTime.toISOString():null,created_at:new Date().toISOString(),status:e.scheduleTime?"scheduled":"sending"}).select().single();if(s)return console.error("Error creating broadcast record:",s),{success:!1,totalRecipients:r.length,sentCount:0,failedCount:r.length};const a=n.id;if(e.scheduleTime&&e.scheduleTime>new Date)return await this.saveBroadcastRecipients(a,r),{success:!0,totalRecipients:r.length,sentCount:0,failedCount:0,broadcastId:a};const o=await this.sendMessagesToRecipients(a,r,e);return{success:o.failedCount<r.length,totalRecipients:r.length,sentCount:o.sentCount,failedCount:o.failedCount,failedRecipients:o.failedRecipients,broadcastId:a}}catch(r){return console.error("Error in sendBroadcast:",r),{success:!1,totalRecipients:0,sentCount:0,failedCount:0}}}static async saveBroadcastRecipients(e,r){const n=r.map(a=>({broadcast_id:e,user_id:a.id,phone:a.phone,name:a.name||null,status:"pending",created_at:new Date().toISOString()})),{error:s}=await J.from("broadcast_recipients").insert(n);s&&console.error("Error saving broadcast recipients:",s)}static async sendMessagesToRecipients(e,r,n){let s=0,a=0;const o=[],l=5,c=[];for(let u=0;u<r.length;u+=l)c.push(r.slice(u,u+l));for(let u of c){const A=u.map(async d=>{try{let h=n.message;n.includeName&&d.name?h=h.replace("{name}",d.name):h=h.replace("{name}","Pelanggan");const f=await yx(d.phone,h);return await this.recordMessageSent(e,d.id,f?"sent":"failed"),f?(s++,{success:!0,recipient:d}):(a++,o.push({id:d.id,phone:d.phone,error:"Failed to send"}),{success:!1,recipient:d,error:"Failed to send"})}catch(h){return a++,o.push({id:d.id,phone:d.phone,error:String(h)}),await this.recordMessageSent(e,d.id,"failed",String(h)),{success:!1,recipient:d,error:h}}});await Promise.all(A),c.indexOf(u)<c.length-1&&await new Promise(d=>setTimeout(d,2e3))}return await J.from("broadcasts").update({sent_count:s,failed_count:a,status:"completed",completed_at:new Date().toISOString()}).eq("id",e),{sentCount:s,failedCount:a,failedRecipients:o}}static async recordMessageSent(e,r,n,s){try{await J.from("broadcast_messages").insert({broadcast_id:e,user_id:r,status:n,error:s||null,sent_at:n==="sent"?new Date().toISOString():null,created_at:new Date().toISOString()})}catch(a){console.error("Error recording message status:",a)}}static async getBroadcastHistory(e=20,r=1){const{data:n,error:s}=await J.from("broadcasts").select("*").order("created_at",{ascending:!1}).range((r-1)*e,r*e-1);return s?(console.error("Error fetching broadcast history:",s),[]):n}static async getBroadcastDetails(e){const{data:r,error:n}=await J.from("broadcasts").select(`
        *,
        broadcast_messages:broadcast_messages(
          user_id,
          status,
          sent_at,
          error
        )
      `).eq("id",e).single();return n?(console.error("Error fetching broadcast details:",n),null):r}}function dnt(){const[t,e]=v.useState("new"),[r,n]=v.useState([]),[s,a]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState([]),[A,d]=v.useState(1),[h,f]=v.useState("all"),[m,p]=v.useState([]),[g,y]=v.useState(""),[x,b]=v.useState(!0),[j,C]=v.useState(!1),[E,_]=v.useState(""),[B,S]=v.useState(""),[N,P]=v.useState(void 0),[I,T]=v.useState(void 0),[D,M]=v.useState(void 0),H=[{name:"Diskon",content:`Halo {name},

JPC Apps memberikan DISKON SPESIAL 20% untuk semua produk arang premium kami hingga akhir bulan ini!

Kunjungi website kami sekarang untuk melihat koleksi terbaik kami.

Salam,
Tim JPC Apps`},{name:"Produk Baru",content:`Halo {name},

Kabar gembira! JPC Apps baru saja meluncurkan produk arang premium terbaru dengan kualitas terbaik dan harga kompetitif.

Kunjungi website kami untuk menjadi yang pertama mencobanya!

Salam,
Tim JPC Apps`},{name:"Pengingat",content:`Halo {name},

Sudah lama tidak melihat Anda berbelanja di JPC Apps. Kami merindukan Anda!

Dapatkan DISKON 10% untuk pembelian berikutnya dengan menggunakan kode: COMEBACK10

Salam,
Tim JPC Apps`}];v.useEffect(()=>{t==="new"?U():t==="history"&&O()},[t,A]);const U=async()=>{a(!0);try{const{data:Z,error:K}=await J.from("profiles").select("id, name, phone, email, created_at").not("phone","is",null).order("created_at",{ascending:!1});if(K)throw K;n(Z||[])}catch(Z){console.error("Error fetching customers:",Z),fe({title:"Gagal mengambil data pelanggan",description:"Terjadi kesalahan saat mengambil data pelanggan",variant:"destructive"})}finally{a(!1)}},O=async()=>{a(!0);try{const Z=await tV.getBroadcastHistory(10,A);u(Z)}catch(Z){console.error("Error fetching broadcast history:",Z),fe({title:"Gagal mengambil riwayat broadcast",description:"Terjadi kesalahan saat mengambil riwayat broadcast",variant:"destructive"})}finally{a(!1)}},R=Z=>{p(K=>K.includes(Z)?K.filter(ne=>ne!==Z):[...K,Z])},Q=()=>{p(r.map(Z=>Z.id))},G=()=>{p([])},X=async()=>{if(!g.trim()){fe({title:"Pesan tidak boleh kosong",description:"Silakan masukkan pesan yang akan dikirim",variant:"destructive"});return}if(h==="selected"&&m.length===0){fe({title:"Tidak ada penerima yang dipilih",description:"Silakan pilih setidaknya satu pelanggan",variant:"destructive"});return}if(window.confirm(`Anda akan mengirim pesan broadcast ke ${h==="all"?"semua pelanggan":h==="selected"?`${m.length} pelanggan terpilih`:"pelanggan yang difilter"}. Lanjutkan?`)){l(!0);try{const Z={recipientType:h,message:g,includeName:x};if(h==="selected"?Z.selectedIds=m:h==="filtered"&&(Z.filterOptions={lastOrderDays:N,minOrderCount:I,minTotalSpent:D}),j&&E&&B){const ne=new Date(`${E}T${B}`);if(ne>new Date)Z.scheduleTime=ne;else{fe({title:"Waktu jadwal tidak valid",description:"Waktu jadwal harus di masa depan",variant:"destructive"}),l(!1);return}}const K=await tV.sendBroadcast(Z);K.success?(fe({title:"Broadcast berhasil",description:j?`Broadcast dijadwalkan untuk ${K.totalRecipients} penerima`:`Pesan berhasil dikirim ke ${K.sentCount} dari ${K.totalRecipients} penerima`}),y(""),p([]),f("all"),C(!1),_(""),S(""),e("history"),O()):fe({title:"Broadcast gagal",description:`Pesan gagal dikirim. Hanya ${K.sentCount} dari ${K.totalRecipients} pesan yang terkirim.`,variant:"destructive"})}catch(Z){console.error("Error sending broadcast:",Z),fe({title:"Broadcast gagal",description:"Terjadi kesalahan saat mengirim broadcast",variant:"destructive"})}finally{l(!1)}}},se=Z=>{y(Z)};return i.jsx(qn,{children:i.jsxs("div",{className:"container py-6",children:[i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Broadcast WhatsApp"}),i.jsxs(sa,{defaultValue:"new",value:t,onValueChange:e,children:[i.jsxs(Fs,{className:"mb-4",children:[i.jsxs(Ft,{value:"new",children:[i.jsx(Gb,{className:"h-4 w-4 mr-2"}),"Broadcast Baru"]}),i.jsxs(Ft,{value:"history",children:[i.jsx(jf,{className:"h-4 w-4 mr-2"}),"Riwayat Broadcast"]})]}),i.jsx(er,{value:"new",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs(ye,{className:"md:col-span-2",children:[i.jsxs(ot,{children:[i.jsx(lt,{children:"Pesan Broadcast"}),i.jsx(ur,{children:"Buat pesan broadcast untuk dikirim ke pelanggan"})]}),i.jsxs(xe,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"message-type",children:"Jenis Penerima"}),i.jsxs(us,{value:h,onValueChange:Z=>f(Z),children:[i.jsx(Ln,{children:i.jsx(As,{placeholder:"Pilih jenis penerima"})}),i.jsxs($n,{children:[i.jsx(vt,{value:"all",children:"Semua Pelanggan"}),i.jsx(vt,{value:"selected",children:"Pelanggan Terpilih"}),i.jsx(vt,{value:"filtered",children:"Filter Pelanggan"})]})]})]}),h==="filtered"&&i.jsxs(ye,{className:"border-dashed",children:[i.jsx(ot,{className:"p-4 pb-2",children:i.jsx(lt,{className:"text-base",children:"Filter Pelanggan"})}),i.jsxs(xe,{className:"p-4 pt-0 space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(Te,{htmlFor:"last-order-days",children:"Pesanan dalam X hari terakhir"}),i.jsx(ce,{id:"last-order-days",type:"number",placeholder:"hari",min:"1",value:N||"",onChange:Z=>P(Z.target.value?parseInt(Z.target.value):void 0)})]}),i.jsxs("div",{children:[i.jsx(Te,{htmlFor:"min-order-count",children:"Minimal jumlah pesanan"}),i.jsx(ce,{id:"min-order-count",type:"number",placeholder:"jumlah",min:"1",value:I||"",onChange:Z=>T(Z.target.value?parseInt(Z.target.value):void 0)})]})]}),i.jsxs("div",{children:[i.jsx(Te,{htmlFor:"min-total-spent",children:"Minimal total pembelian (Rp)"}),i.jsx(ce,{id:"min-total-spent",type:"number",placeholder:"dalam Rupiah",min:"10000",step:"10000",value:D||"",onChange:Z=>M(Z.target.value?parseInt(Z.target.value):void 0)})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(Te,{htmlFor:"message",children:"Pesan"}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Gunakan ","{name}"," untuk menyertakan nama pelanggan"]})]}),i.jsx(_u,{id:"message",placeholder:"Ketik pesan Anda di sini...",rows:8,value:g,onChange:Z=>y(Z.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{children:"Template Pesan"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:H.map((Z,K)=>i.jsx(V,{variant:"outline",size:"sm",onClick:()=>se(Z.content),children:Z.name},K))})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ti,{id:"include-name",checked:x,onCheckedChange:b}),i.jsx(Te,{htmlFor:"include-name",children:"Sertakan nama pelanggan dalam pesan"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ti,{id:"schedule",checked:j,onCheckedChange:C}),i.jsx(Te,{htmlFor:"schedule",children:"Jadwalkan pengiriman"})]}),j&&i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(Te,{htmlFor:"schedule-date",children:"Tanggal"}),i.jsx(ce,{id:"schedule-date",type:"date",value:E,onChange:Z=>_(Z.target.value),min:new Date().toISOString().split("T")[0]})]}),i.jsxs("div",{children:[i.jsx(Te,{htmlFor:"schedule-time",children:"Waktu"}),i.jsx(ce,{id:"schedule-time",type:"time",value:B,onChange:Z=>S(Z.target.value)})]})]})]}),i.jsxs(Ja,{className:"flex justify-between",children:[i.jsx(V,{variant:"outline",onClick:()=>y(""),children:"Reset"}),i.jsx(V,{onClick:X,disabled:o||!g.trim()||h==="selected"&&m.length===0,children:o?i.jsxs(i.Fragment,{children:[i.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengirim..."]}):j?i.jsxs(i.Fragment,{children:[i.jsx(ZK,{className:"mr-2 h-4 w-4"}),"Jadwalkan"]}):i.jsxs(i.Fragment,{children:[i.jsx(Gb,{className:"mr-2 h-4 w-4"}),"Kirim Broadcast"]})})]})]}),h==="selected"&&i.jsxs(ye,{children:[i.jsxs(ot,{children:[i.jsx(lt,{children:"Pilih Pelanggan"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(V,{variant:"outline",size:"sm",onClick:Q,children:"Pilih Semua"}),i.jsx(V,{variant:"outline",size:"sm",onClick:G,children:"Reset"})]})]}),i.jsx(xe,{children:s?i.jsx("div",{className:"flex items-center justify-center py-6",children:i.jsx(zt,{className:"h-6 w-6 animate-spin"})}):i.jsx(vd,{className:"h-[400px]",children:i.jsx("div",{className:"space-y-2",children:r.map(Z=>i.jsxs("div",{className:`p-2 rounded-md flex items-center space-x-2 ${m.includes(Z.id)?"bg-muted/80":"hover:bg-muted/50"}`,onClick:()=>R(Z.id),children:[i.jsx(MF,{checked:m.includes(Z.id),onCheckedChange:()=>R(Z.id)}),i.jsxs("div",{className:"flex-1 truncate",children:[i.jsx("div",{className:"font-medium truncate",children:Z.name||"Tanpa Nama"}),i.jsx("div",{className:"text-sm text-muted-foreground truncate",children:Z.phone})]})]},Z.id))})})}),i.jsx(Ja,{children:i.jsxs("div",{className:"w-full text-center",children:[m.length," pelanggan dipilih"]})})]})]})}),i.jsx(er,{value:"history",children:i.jsxs(ye,{children:[i.jsxs(ot,{children:[i.jsx(lt,{children:"Riwayat Broadcast"}),i.jsx(ur,{children:"Histori pesan broadcast yang telah dikirim"})]}),i.jsx(xe,{children:s?i.jsx("div",{className:"flex items-center justify-center py-6",children:i.jsx(zt,{className:"h-6 w-6 animate-spin"})}):c.length>0?i.jsxs(Hn,{children:[i.jsx(Vn,{children:i.jsxs(ut,{children:[i.jsx(Ee,{children:"Tanggal"}),i.jsx(Ee,{children:"Pesan"}),i.jsx(Ee,{children:"Penerima"}),i.jsx(Ee,{children:"Status"}),i.jsx(Ee,{children:"Aksi"})]})}),i.jsx(Kn,{children:c.map(Z=>i.jsxs(ut,{children:[i.jsx(pe,{children:new Date(Z.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),i.jsx(pe,{className:"max-w-[200px] truncate",children:Z.message_template}),i.jsxs(pe,{children:[Z.recipient_count," penerima"]}),i.jsx(pe,{children:i.jsx(jt,{className:Z.status==="completed"?"bg-green-100 text-green-800":Z.status==="sending"?"bg-blue-100 text-blue-800":Z.status==="scheduled"?"bg-purple-100 text-purple-800":"bg-red-100 text-red-800",children:Z.status==="completed"?"Selesai":Z.status==="sending"?"Mengirim":Z.status==="scheduled"?"Terjadwal":"Gagal"})}),i.jsx(pe,{children:i.jsx(V,{variant:"ghost",size:"sm",children:"Detail"})})]},Z.id))})]}):i.jsx("div",{className:"text-center py-6",children:i.jsx("p",{className:"text-muted-foreground",children:"Tidak ada riwayat broadcast"})})}),c.length>0&&i.jsxs(Ja,{className:"flex justify-between",children:[i.jsx(V,{variant:"outline",onClick:()=>d(Math.max(1,A-1)),disabled:A===1,children:"Sebelumnya"}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Halaman ",A]}),i.jsx(V,{variant:"outline",onClick:()=>d(A+1),disabled:c.length<10,children:"Selanjutnya"})]})]})})]})]})})}function hnt({children:t}){const[e,r]=v.useState(!1),n=Qs(),s=[{name:"Dashboard",href:"/admin",icon:i.jsx(q.home,{className:"h-5 w-5"})},{name:"Inventaris",href:"/admin/inventory",icon:i.jsx(q.package,{className:"h-5 w-5"})},{name:"Inventaris Batubara",href:"/admin/coal-inventory",icon:i.jsx(q.layers,{className:"h-5 w-5"})},{name:"Pengiriman",href:"/admin/shipping",icon:i.jsx(q.truck,{className:"h-5 w-5"})},{name:"Pengguna",href:"/admin/users",icon:i.jsx(q.users,{className:"h-5 w-5"})},{name:"Pesanan",href:"/admin/orders",icon:i.jsx(q.shoppingCart,{className:"h-5 w-5"})},{name:"PPOB",href:"/admin/ppob",icon:i.jsx(q.creditCard,{className:"h-5 w-5"})},{name:"Voucher",href:"/admin/vouchers",icon:i.jsx(q.ticket,{className:"h-5 w-5"})},{name:"Broadcast",href:"/admin/broadcast",icon:i.jsx(q.megaphone,{className:"h-5 w-5"})},{name:"Analitik",href:"/admin/analytics",icon:i.jsx(q.barChart,{className:"h-5 w-5"})},{name:"Pengaturan",href:"/admin/settings",icon:i.jsx(q.settings,{className:"h-5 w-5"})},{name:"Chat",href:"/admin/chats",icon:i.jsx(q.messageSquare,{className:"h-5 w-5"})}],a=o=>o==="/admin"&&n.pathname==="/admin"?!0:n.pathname.startsWith(o)&&o!=="/admin";return i.jsxs("div",{className:"flex h-screen overflow-hidden",children:[i.jsx("aside",{className:"hidden md:flex md:w-64 md:flex-col",children:i.jsxs("div",{className:"flex flex-col flex-grow pt-5 overflow-y-auto border-r bg-white",children:[i.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:i.jsxs(st,{to:"/admin",className:"flex items-center",children:[i.jsx("img",{className:"h-8 w-auto",src:"/logo.svg",alt:"JPC Digi Logo"}),i.jsx("span",{className:"ml-2 text-xl font-bold",children:"JPC Digi Admin"})]})}),i.jsx("div",{className:"mt-6 px-3 flex-grow flex flex-col",children:i.jsx("nav",{className:"flex-1 space-y-1",children:s.map(o=>i.jsxs(st,{to:o.href,className:he("group flex items-center px-3 py-2 text-sm font-medium rounded-md",a(o.href)?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"),children:[o.icon,i.jsx("span",{className:"ml-3",children:o.name})]},o.name))})}),i.jsx("div",{className:"p-3 mt-auto border-t",children:i.jsxs("div",{className:"flex items-center",children:[i.jsxs(Cu,{children:[i.jsx(Gf,{src:"/avatars/admin.png",alt:"Admin"}),i.jsx(Bu,{children:"AD"})]}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium",children:"Admin JPC"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"admin@jpcdigi.com"})]})]})})]})}),i.jsx("div",{className:"md:hidden",children:i.jsxs(To,{open:e,onOpenChange:r,children:[i.jsx(S1,{asChild:!0,children:i.jsxs(V,{variant:"ghost",size:"icon",className:"absolute top-4 left-4 z-50",children:[i.jsx(q.menu,{className:"h-6 w-6"}),i.jsx("span",{className:"sr-only",children:"Toggle menu"})]})}),i.jsx($i,{side:"left",className:"p-0",children:i.jsxs("div",{className:"flex flex-col h-full pt-5",children:[i.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:i.jsxs(st,{to:"/admin",className:"flex items-center",onClick:()=>r(!1),children:[i.jsx("img",{className:"h-8 w-auto",src:"/logo.svg",alt:"JPC Digi Logo"}),i.jsx("span",{className:"ml-2 text-xl font-bold",children:"JPC Digi Admin"})]})}),i.jsx("div",{className:"mt-6 px-3 flex-grow flex flex-col",children:i.jsx("nav",{className:"flex-1 space-y-1",children:s.map(o=>i.jsxs(st,{to:o.href,className:he("group flex items-center px-3 py-2 text-sm font-medium rounded-md",a(o.href)?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"),onClick:()=>r(!1),children:[o.icon,i.jsx("span",{className:"ml-3",children:o.name})]},o.name))})}),i.jsx("div",{className:"p-3 mt-auto border-t",children:i.jsxs("div",{className:"flex items-center",children:[i.jsxs(Cu,{children:[i.jsx(Gf,{src:"/avatars/admin.png",alt:"Admin"}),i.jsx(Bu,{children:"AD"})]}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium",children:"Admin JPC"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"admin@jpcdigi.com"})]})]})})]})})]})}),i.jsxs("div",{className:"flex flex-col flex-1 w-full overflow-hidden",children:[i.jsx("header",{className:"bg-white shadow-sm z-10",children:i.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"py-4 md:py-6 flex items-center justify-between",children:[i.jsx("div",{className:"md:hidden",children:i.jsx("h1",{className:"text-lg font-medium",children:"JPC Digi Admin"})}),i.jsxs("div",{className:"flex items-center ml-auto",children:[i.jsxs(V,{variant:"outline",size:"sm",className:"mr-2",children:[i.jsx(q.bell,{className:"h-4 w-4 mr-2"}),i.jsx("span",{className:"sr-only md:not-sr-only md:inline-block",children:"Notifikasi"})]}),i.jsxs(V,{variant:"destructive",size:"sm",children:[i.jsx(q.logOut,{className:"h-4 w-4 mr-2"}),i.jsx("span",{className:"sr-only md:not-sr-only md:inline-block",children:"Logout"})]})]})]})})}),i.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50",children:t})]})]})}function fnt(){const[t,e]=v.useState("dashboard");v.useState(!1);const[r,n]=v.useState(!0),[s,a]=v.useState([]),[o,l]=v.useState([]),[c,u]=v.useState([]),[A,d]=v.useState([]),[h,f]=v.useState(null),[m,p]=v.useState(!1),[g,y]=v.useState(!1),[x,b]=v.useState(null),[j,C]=v.useState("service"),[E,_]=v.useState({id:"",name:"",category:"Top Up",icon:"",color:"",icon_color:"",route:"",is_new:!1,price:0,description:"",service_id:"",api_key:"",username:"",mode:"development"});v.useEffect(()=>{(async()=>{n(!0);try{const M=await ree();a(M||[]);const H=await J.from("ppob_products").select("*");l(H.data||[]);const U=await J.from("ppob_transactions").select("*").order("created_at",{ascending:!1});d(U.data||[]);const{data:O,error:R}=await J.from("digiflazz_config").select("*").single();R?(console.error("Error loading Digiflazz config:",R),f({id:"",api_key:"",username:"",mode:"development"})):f(O||{id:"",api_key:"",username:"",mode:"development"})}catch(M){console.error("Error loading data:",M),alert("Failed to load data")}finally{n(!1)}})()},[]),v.useEffect(()=>{t==="products"&&h&&h.api_key&&h.username&&(async()=>{n(!0);try{const H=await fetch("https://jayaperkasacharcoal.co-id.id/api/digiflazz-proxy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cmd:"prepaid",username:h.username,apiKey:h.api_key})});if(!H.ok)throw new Error(`HTTP error! Status: ${H.status}`);const U=await H.json();U.data?u(U.data):(console.error("No data returned from Digiflazz API"),u([]))}catch(M){console.error("Error fetching Digiflazz products:",M),u([]),alert("Failed to fetch products from Digiflazz API")}finally{n(!1)}})()},[t,h]);const B=D=>{_({id:"",name:"",category:"Top Up",icon:"",color:"",icon_color:"",route:"",is_new:!1,price:0,description:"",service_id:"",api_key:"",username:"",mode:"development"}),b(null),C(D),p(!0)},S=D=>{if(b(D),"category"in D){const M=D;C("service"),_({id:M.id||"",name:M.name||"",category:M.category||"Top Up",icon:M.icon||"",color:M.color||"",icon_color:M.icon_color||"",route:M.route||"",is_new:M.is_new||!1,price:0,description:"",service_id:"",api_key:"",username:"",mode:"development"})}else if("price"in D){const M=D;C("product"),_({id:M.id||"",name:M.name||"",category:"Top Up",icon:"",color:"",icon_color:"",route:"",is_new:!1,price:M.price||0,description:M.description||"",service_id:M.service_id||"",api_key:"",username:"",mode:"development"})}else C("digiflazz"),_({id:D.id||"",name:"",category:"Top Up",icon:"",color:"",icon_color:"",route:"",is_new:!1,price:0,description:"",service_id:"",api_key:D.api_key||"",username:D.username||"",mode:D.mode||"development"});p(!0)},N=async D=>{y(!0);try{const M=D.id;if(!M)return;const H="category"in D?"ppob_services":"ppob_products",{error:U}=await J.from(H).delete().eq("id",M);if(U)throw U;"category"in D?a(s.filter(O=>O.id!==M)):l(o.filter(O=>O.id!==M)),alert("Deleted successfully")}catch(M){console.error("Error deleting item:",M),alert("Failed to delete item")}finally{y(!1)}},P=async()=>{n(!0);try{if(j==="service"){const D={id:E.id||void 0,name:E.name,category:E.category,icon:E.icon,color:E.color,icon_color:E.icon_color,route:E.route,is_new:E.is_new};if(E.id)await J.from("ppob_services").update(D).eq("id",E.id),a(s.map(M=>M.id===E.id?{...M,...D}:M));else{const{data:M}=await J.from("ppob_services").insert(D).select().single();a([...s,M])}}else if(j==="product"){const D={id:E.id||void 0,name:E.name,price:E.price,description:E.description,service_id:E.service_id};if(E.id)await J.from("ppob_products").update(D).eq("id",E.id),l(o.map(M=>M.id===E.id?{...M,...D}:M));else{const{data:M}=await J.from("ppob_products").insert(D).select().single();l([...o,M])}}else if(j==="digiflazz"){const D={id:E.id||void 0,api_key:E.api_key,username:E.username,mode:E.mode};if(E.id)await J.from("digiflazz_config").update(D).eq("id",E.id),f({...h,...D});else{const{data:M}=await J.from("digiflazz_config").insert(D).select().single();f(M)}}p(!1)}catch(D){console.error("Error saving data:",D),alert("Failed to save data")}finally{n(!1)}},I=D=>{const{name:M,value:H,type:U,checked:O}=D.target;_({...E,[M]:U==="checkbox"?O:H})},T=[{title:"Total Transaksi",value:A.length.toString(),change:"+12.5%",icon:i.jsx(q.chartBar,{className:"h-5 w-5"})},{title:"Pendapatan",value:"Rp "+A.reduce((D,M)=>D+(M.amount||0),0).toLocaleString(),change:"+8.2%",icon:i.jsx(q.wallet,{className:"h-5 w-5"})},{title:"Pengguna Aktif",value:"5,890",change:"+15.3%",icon:i.jsx(q.users,{className:"h-5 w-5"})},{title:"Produk Terjual",value:o.length.toString(),change:"+10.1%",icon:i.jsx(q.shoppingCart,{className:"h-5 w-5"})}];return i.jsxs(hnt,{children:[i.jsxs(Ui,{children:[i.jsx("title",{children:"Admin PPOB - JPC Digi"}),i.jsx("meta",{name:"description",content:"Panel admin untuk pengelolaan layanan PPOB JPC Digi"})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Admin PPOB"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(V,{variant:"outline",size:"sm",children:[i.jsx(q.download,{className:"mr-2 h-4 w-4"}),"Export"]}),i.jsxs(V,{size:"sm",onClick:()=>B(t==="services"?"service":"product"),children:[i.jsx(q.plus,{className:"mr-2 h-4 w-4"}),"Tambah ",t==="services"?"Layanan":"Produk"]})]})]}),i.jsxs(sa,{value:t,onValueChange:e,className:"space-y-4",children:[i.jsxs(Fs,{className:"grid w-full grid-cols-5",children:[i.jsx(Ft,{value:"dashboard",children:"Dashboard"}),i.jsx(Ft,{value:"services",children:"Layanan"}),i.jsx(Ft,{value:"products",children:"Produk"}),i.jsx(Ft,{value:"transactions",children:"Transaksi"}),i.jsx(Ft,{value:"digiflazz",children:"Digiflazz API"})]}),i.jsxs(er,{value:"dashboard",className:"space-y-4",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:T.map((D,M)=>i.jsx(ye,{children:i.jsx(xe,{className:"p-6",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:D.title}),i.jsx("h3",{className:"text-2xl font-bold mt-1",children:D.value}),i.jsxs("p",{className:`text-xs mt-1 ${D.change.startsWith("+")?"text-green-600":"text-red-600"}`,children:[D.change," dari bulan lalu"]})]}),i.jsx("div",{className:"bg-primary/10 p-2 rounded-full",children:D.icon})]})})},M))}),i.jsxs(ye,{children:[i.jsxs(ot,{children:[i.jsx(lt,{children:"Transaksi Terbaru"}),i.jsx(ur,{children:"Daftar 5 transaksi terbaru di sistem"})]}),i.jsx(xe,{children:r?i.jsx("div",{className:"py-8 flex justify-center",children:"Memuat data..."}):i.jsxs(Hn,{children:[i.jsx(Vn,{children:i.jsxs(ut,{children:[i.jsx(Ee,{children:"ID"}),i.jsx(Ee,{children:"Pelanggan"}),i.jsx(Ee,{children:"Produk"}),i.jsx(Ee,{children:"Jumlah"}),i.jsx(Ee,{children:"Status"}),i.jsx(Ee,{children:"Tanggal"})]})}),i.jsx(Kn,{children:A.slice(0,5).map(D=>{var M;return i.jsxs(ut,{children:[i.jsx(pe,{className:"font-medium",children:D.id||"N/A"}),i.jsx(pe,{children:D.customer_name||"N/A"}),i.jsx(pe,{children:D.product_name||"N/A"}),i.jsxs(pe,{children:["Rp ",((M=D.amount)==null?void 0:M.toLocaleString())||"0"]}),i.jsx(pe,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${D.status==="Sukses"?"bg-green-100 text-green-800":D.status==="Gagal"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:D.status||"Pending"})}),i.jsx(pe,{children:D.transaction_date?new Date(D.transaction_date).toLocaleString():"N/A"})]},D.id||"temp-"+Math.random().toString())})})]})})]}),i.jsxs(ye,{children:[i.jsxs(ot,{children:[i.jsx(lt,{children:"Verifikasi Pengguna Terbaru"}),i.jsx(ur,{children:"Permintaan verifikasi pengguna yang membutuhkan review"})]}),i.jsx(xe,{children:i.jsxs(Hn,{children:[i.jsx(Vn,{children:i.jsxs(ut,{children:[i.jsx(Ee,{children:"ID"}),i.jsx(Ee,{children:"Pengguna"}),i.jsx(Ee,{children:"Dokumen"}),i.jsx(Ee,{children:"Tanggal Pengajuan"}),i.jsx(Ee,{children:"Status"}),i.jsx(Ee,{children:"Aksi"})]})}),i.jsx(Kn,{children:[{id:"V001",user:"Bambang Suprapto",document:"KTP",submissionDate:"2025-06-01 10:23:45",status:"Pending",action:"Review"},{id:"V002",user:"Ratna Sari",document:"KTP",submissionDate:"2025-06-01 09:15:30",status:"Disetujui",action:"Lihat"},{id:"V003",user:"Hendra Wijaya",document:"KTP",submissionDate:"2025-06-01 08:45:22",status:"Ditolak",action:"Lihat"}].map(D=>i.jsxs(ut,{children:[i.jsx(pe,{className:"font-medium",children:D.id}),i.jsx(pe,{children:D.user}),i.jsx(pe,{children:D.document}),i.jsx(pe,{children:D.submissionDate}),i.jsx(pe,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${D.status==="Disetujui"?"bg-green-100 text-green-800":D.status==="Ditolak"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:D.status})}),i.jsx(pe,{children:i.jsx(V,{variant:"ghost",size:"sm",children:D.action})})]},D.id))})]})})]})]}),i.jsx(er,{value:"transactions",className:"space-y-4",children:i.jsxs(ye,{children:[i.jsxs(ot,{children:[i.jsx(lt,{children:"Transaksi PPOB"}),i.jsx(ur,{children:"Daftar semua transaksi PPOB yang telah dilakukan"})]}),i.jsx(xe,{children:r?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):i.jsxs(Hn,{children:[i.jsx(Vn,{children:i.jsxs(ut,{children:[i.jsx(Ee,{children:"ID"}),i.jsx(Ee,{children:"Produk"}),i.jsx(Ee,{children:"Nomor"}),i.jsx(Ee,{children:"Status"}),i.jsx(Ee,{children:"Tanggal"}),i.jsx(Ee,{children:"Harga"})]})}),i.jsx(Kn,{children:A.map(D=>{var M;return i.jsxs(ut,{children:[i.jsx(pe,{className:"font-medium",children:(M=D.id)==null?void 0:M.slice(0,8)}),i.jsx(pe,{children:D.product_name}),i.jsx(pe,{children:D.customer_id}),i.jsx(pe,{children:D.status}),i.jsx(pe,{children:new Date(D.created_at||"").toLocaleString()}),i.jsxs(pe,{children:["Rp ",(D.amount||0).toLocaleString()]})]},D.id)})})]})})]})}),i.jsx(er,{value:"digiflazz",className:"space-y-4",children:i.jsxs(ye,{children:[i.jsxs(ot,{children:[i.jsx(lt,{children:"Konfigurasi Digiflazz API"}),i.jsx(ur,{children:"Atur kredensial API Digiflazz untuk integrasi PPOB"})]}),i.jsx(xe,{children:r?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):i.jsxs("div",{className:"space-y-4",children:[h?i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"border rounded-md p-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Username"}),i.jsx("p",{className:"font-medium",children:h.username})]}),i.jsxs("div",{className:"border rounded-md p-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"API Key"}),i.jsx("p",{className:"font-medium",children:h.api_key?h.api_key.slice(0,4)+"****":"Not set"})]}),i.jsxs("div",{className:"border rounded-md p-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Mode"}),i.jsx("p",{className:"font-medium",children:h.mode})]})]}):i.jsx("p",{className:"text-center text-muted-foreground",children:"Konfigurasi Digiflazz belum diatur. Klik tombol di bawah untuk menambahkan konfigurasi."}),i.jsx(V,{onClick:()=>S(h||{}),children:h?"Edit Konfigurasi":"Tambah Konfigurasi"})]})})]})}),i.jsx(er,{value:"products",className:"space-y-4",children:i.jsxs(ye,{children:[i.jsxs(ot,{children:[i.jsx(lt,{children:"Produk PPOB"}),i.jsx(ur,{children:"Daftar produk PPOB dari database dan API Digiflazz"})]}),i.jsxs(xe,{children:[i.jsx("div",{className:"mb-4",children:i.jsx(V,{onClick:()=>B("product"),children:"Tambah Produk"})}),r?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Produk Database"}),i.jsxs(Hn,{children:[i.jsx(Vn,{children:i.jsxs(ut,{children:[i.jsx(Ee,{children:"Nama"}),i.jsx(Ee,{children:"Harga"}),i.jsx(Ee,{children:"Deskripsi"}),i.jsx(Ee,{children:"Layanan"}),i.jsx(Ee,{children:"Aksi"})]})}),i.jsx(Kn,{children:o.map(D=>{var M;return i.jsxs(ut,{children:[i.jsx(pe,{className:"font-medium",children:D.name}),i.jsxs(pe,{children:["Rp ",(M=D.price)==null?void 0:M.toLocaleString()]}),i.jsx(pe,{children:D.description||"-"}),i.jsx(pe,{children:D.service_id}),i.jsx(pe,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(V,{variant:"outline",size:"sm",onClick:()=>S(D),children:"Edit"}),i.jsx(V,{variant:"destructive",size:"sm",onClick:()=>N(D),disabled:g,children:"Hapus"})]})})]},D.id)})})]}),h&&h.api_key&&i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Produk dari Digiflazz API"}),c.length>0?i.jsxs(Hn,{children:[i.jsx(Vn,{children:i.jsxs(ut,{children:[i.jsx(Ee,{children:"Nama Produk"}),i.jsx(Ee,{children:"Harga"}),i.jsx(Ee,{children:"Kategori"}),i.jsx(Ee,{children:"Brand"}),i.jsx(Ee,{children:"Status"})]})}),i.jsx(Kn,{children:c.slice(0,50).map(D=>{var M;return i.jsxs(ut,{children:[i.jsx(pe,{className:"font-medium",children:D.product_name}),i.jsxs(pe,{children:["Rp ",(M=D.price)==null?void 0:M.toLocaleString()]}),i.jsx(pe,{children:D.category}),i.jsx(pe,{children:D.brand}),i.jsx(pe,{children:D.status==="active"?"Aktif":"Tidak Aktif"})]},D.product_id)})})]}):i.jsx("p",{className:"text-muted-foreground",children:"Tidak ada data produk dari Digiflazz API."}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Menampilkan ",Math.min(c.length,50)," dari ",c.length," produk Digiflazz."]})]})]})]})]})}),i.jsx(er,{value:"services",className:"space-y-4",children:i.jsxs(ye,{children:[i.jsxs(ot,{children:[i.jsx(lt,{children:"Daftar Layanan"}),i.jsx(ur,{children:"Kelola layanan PPOB"})]}),i.jsxs(xe,{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[i.jsx(ce,{placeholder:"Cari nama layanan...",className:"max-w-sm"}),i.jsxs(us,{defaultValue:"all",children:[i.jsx(Ln,{className:"w-[180px]",children:i.jsx(As,{placeholder:"Kategori"})}),i.jsxs($n,{children:[i.jsx(vt,{value:"all",children:"Semua Kategori"}),i.jsx(vt,{value:"topup",children:"Top Up"}),i.jsx(vt,{value:"tagihan",children:"Tagihan"}),i.jsx(vt,{value:"investasi",children:"Investasi"}),i.jsx(vt,{value:"lainnya",children:"Lainnya"})]})]})]}),i.jsxs(V,{variant:"outline",children:[i.jsx(q.filterX,{className:"mr-2 h-4 w-4"}),"Reset Filter"]})]}),r?i.jsx("div",{className:"py-8 flex justify-center",children:"Memuat data..."}):i.jsxs(Hn,{children:[i.jsx(Vn,{children:i.jsxs(ut,{children:[i.jsx(Ee,{children:"ID"}),i.jsx(Ee,{children:"Nama Layanan"}),i.jsx(Ee,{children:"Kategori"}),i.jsx(Ee,{children:"Route"}),i.jsx(Ee,{children:"Status"}),i.jsx(Ee,{children:"Aksi"})]})}),i.jsx(Kn,{children:s.map(D=>i.jsxs(ut,{children:[i.jsx(pe,{className:"font-medium",children:D.id||"N/A"}),i.jsx(pe,{children:D.name||"N/A"}),i.jsx(pe,{children:D.category||"N/A"}),i.jsx(pe,{children:D.route||"N/A"}),i.jsx(pe,{children:i.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:"Aktif"})}),i.jsx(pe,{children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(V,{variant:"ghost",size:"sm",onClick:()=>S(D),children:"Edit"}),i.jsx(V,{variant:"ghost",size:"sm",className:"text-red-500",disabled:g,onClick:()=>N(D),children:"Nonaktifkan"})]})})]},D.id||"temp-"+Math.random().toString()))})]})]})]})})]})]}),i.jsx(fr,{open:m,onOpenChange:p,children:i.jsxs(ir,{className:"sm:max-w-[425px]",children:[i.jsx(xr,{children:i.jsxs(wr,{children:[E.id&&j!=="digiflazz"?"Edit":"Tambah"," ",j==="service"?"Layanan":j==="product"?"Produk":"Konfigurasi Digiflazz"]})}),i.jsxs("form",{className:"space-y-4 pt-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:j==="digiflazz"?"Username Digiflazz":"Nama"}),i.jsx(ce,{name:j==="digiflazz"?"username":"name",value:j==="digiflazz"?E.username:E.name,onChange:I,placeholder:"Masukkan nama",required:!0})]}),j==="service"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Kategori"}),i.jsx(ce,{name:"category",value:E.category,onChange:I,placeholder:"Masukkan kategori",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ikon"}),i.jsx(ce,{name:"icon",value:E.icon,onChange:I,placeholder:"Masukkan nama ikon"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Warna"}),i.jsx(ce,{name:"color",value:E.color,onChange:I,placeholder:"Masukkan warna latar (hex)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Warna Ikon"}),i.jsx(ce,{name:"icon_color",value:E.icon_color,onChange:I,placeholder:"Masukkan warna ikon (hex)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Rute"}),i.jsx(ce,{name:"route",value:E.route,onChange:I,placeholder:"Masukkan path rute"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"is_new",name:"is_new",checked:E.is_new,onChange:I,className:"rounded"}),i.jsx("label",{htmlFor:"is_new",className:"text-sm font-medium",children:"Layanan Baru?"})]})]}),j==="product"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Harga"}),i.jsx(ce,{type:"number",name:"price",value:E.price,onChange:I,placeholder:"Masukkan harga",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Deskripsi"}),i.jsx(ce,{name:"description",value:E.description,onChange:I,placeholder:"Masukkan deskripsi"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"ID Layanan"}),i.jsx(ce,{name:"service_id",value:E.service_id,onChange:I,placeholder:"Masukkan ID layanan terkait",required:!0})]})]}),j==="digiflazz"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"API Key"}),i.jsx(ce,{name:"api_key",value:E.api_key,onChange:I,placeholder:"Masukkan API Key",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Mode"}),i.jsxs(us,{name:"mode",value:E.mode,onValueChange:D=>_(M=>({...M,mode:D})),children:[i.jsx(Ln,{children:i.jsx(As,{placeholder:"Pilih mode"})}),i.jsxs($n,{children:[i.jsx(vt,{value:"development",children:"Development"}),i.jsx(vt,{value:"production",children:"Production"})]})]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(V,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Batal"}),i.jsx(V,{type:"button",onClick:P,disabled:r,children:"Simpan"})]})]})]})})]})}const mnt=new ede;function St({element:t,requiresVerification:e=!0}){const{user:r,isLoading:n,isPhoneVerified:s}=qr(),a=Qs(),o=a.pathname==="/verify-whatsapp",l=a.pathname==="/login",c=a.pathname==="/register",[u,A]=v.useState(null);return v.useEffect(()=>{let d=!0;const h=()=>n?i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):!r&&!l&&!c?i.jsx(r1,{to:"/login",state:{from:a},replace:!0}):e&&!s&&!o&&r?i.jsx(r1,{to:"/verify-whatsapp",state:{from:a},replace:!0}):t,f=setTimeout(()=>{d&&A(h())},10);return()=>{d=!1,clearTimeout(f)}},[r,n,s,a.pathname,e,t,l,c,o]),i.jsx(i.Fragment,{children:u})}function pnt(){const[t,e]=v.useState(!1);return v.useEffect(()=>{const r=()=>{const s=window.location.pathname;e(s.startsWith("/admin")||s==="/admin-login"||s==="/admin-register")};r();const n=()=>{r()};return window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)}},[]),i.jsx(sde,{client:mnt,children:i.jsxs(G9,{children:[i.jsx(Oce,{}),i.jsx(cue,{}),i.jsx(Hbe,{children:i.jsx(Vbe,{children:i.jsxs(Pme,{children:[i.jsx(Kbe,{}),!t&&i.jsx(Rfe,{}),i.jsxs(Cme,{children:[i.jsx(rt,{path:"/",element:i.jsx(St,{element:i.jsx(zbe,{})})}),i.jsx(rt,{path:"/search",element:i.jsx(St,{element:i.jsx(Gje,{})})}),i.jsx(rt,{path:"/product/:id",element:i.jsx(St,{element:i.jsx(c_e,{})})}),i.jsx(rt,{path:"/cart",element:i.jsx(St,{element:i.jsx(u_e,{})})}),i.jsx(rt,{path:"/checkout",element:i.jsx(St,{element:i.jsx(N_e,{})})}),i.jsx(rt,{path:"/profile",element:i.jsx(St,{element:i.jsx(eBe,{})})}),i.jsx(rt,{path:"/address/:id?",element:i.jsx(St,{element:i.jsx(iBe,{})})}),i.jsx(rt,{path:"/orders",element:i.jsx(St,{element:i.jsx(OTe,{})})}),i.jsx(rt,{path:"/order/:id",element:i.jsx(St,{element:i.jsx(PTe,{})})}),i.jsx(rt,{path:"/chat",element:i.jsx(St,{element:i.jsx(gPe,{})})}),i.jsx(rt,{path:"/ppob",element:i.jsx(St,{element:i.jsx(DS,{})})}),i.jsx(rt,{path:"/ppob/dashboard",element:i.jsx(St,{element:i.jsx(DS,{})})}),i.jsx(rt,{path:"/ppob/history",element:i.jsx(St,{element:i.jsx(kPe,{})})}),i.jsx(rt,{path:"/ppob/activity",element:i.jsx(St,{element:i.jsx(nFe,{})})}),i.jsx(rt,{path:"/ppob/verification",element:i.jsx(St,{element:i.jsx(COe,{})})}),i.jsx(rt,{path:"/ppob/wallet",element:i.jsx(St,{element:i.jsx(ZOe,{})})}),i.jsx(rt,{path:"/ppob/pulsa-data",element:i.jsx(St,{element:i.jsx(uFe,{})})}),i.jsx(rt,{path:"/ppob/send",element:i.jsx(St,{element:i.jsx(dFe,{})})}),i.jsx(rt,{path:"/ppob/request",element:i.jsx(St,{element:i.jsx(pFe,{})})}),i.jsx(rt,{path:"/ppob/topup",element:i.jsx(St,{element:i.jsx(vFe,{})})}),i.jsx(rt,{path:"/ppob/video",element:i.jsx(St,{element:i.jsx(DS,{})})}),i.jsx(rt,{path:"/ppob/games",element:i.jsx(St,{element:i.jsx(jFe,{})})}),i.jsx(rt,{path:"/ppob/all",element:i.jsx(St,{element:i.jsx(_Fe,{})})}),i.jsx(rt,{path:"/ppob/test",element:i.jsx(St,{element:i.jsx(CFe,{})})}),i.jsx(rt,{path:"/ppob/electricity",element:i.jsx(St,{element:i.jsx(xFe,{})})}),i.jsx(rt,{path:"/ppob/ewallet",element:i.jsx(St,{element:i.jsx(wFe,{})})}),i.jsx(rt,{path:"/ppob/kredit",element:i.jsx(St,{element:i.jsx(ro,{})})}),i.jsx(rt,{path:"/ppob/tv-internet",element:i.jsx(St,{element:i.jsx(ro,{})})}),i.jsx(rt,{path:"/ppob/bpjs",element:i.jsx(St,{element:i.jsx(ro,{})})}),i.jsx(rt,{path:"/ppob/pdam",element:i.jsx(St,{element:i.jsx(ro,{})})}),i.jsx(rt,{path:"/ppob/pbb",element:i.jsx(St,{element:i.jsx(ro,{})})}),i.jsx(rt,{path:"/ppob/telkom",element:i.jsx(St,{element:i.jsx(ro,{})})}),i.jsx(rt,{path:"/ppob/pascabayar",element:i.jsx(St,{element:i.jsx(ro,{})})}),i.jsx(rt,{path:"/ppob/donasi-zakat",element:i.jsx(St,{element:i.jsx(ro,{})})}),i.jsx(rt,{path:"/ppob/investasi",element:i.jsx(St,{element:i.jsx(SFe,{})})}),i.jsx(rt,{path:"/ppob/undang-teman",element:i.jsx(St,{element:i.jsx(ro,{})})}),i.jsx(rt,{path:"/ppob/scan",element:i.jsx(St,{element:i.jsx(ro,{})})}),i.jsx(rt,{path:"/verify-whatsapp",element:i.jsx(EPe,{})}),i.jsx(rt,{path:"/login",element:i.jsx(RTe,{})}),i.jsx(rt,{path:"/register",element:i.jsx(MTe,{})}),i.jsx(rt,{path:"/admin-login",element:i.jsx(LTe,{})}),i.jsx(rt,{path:"/admin-register",element:i.jsx(HTe,{})}),i.jsx(rt,{path:"/admin",element:i.jsx(lrt,{})}),i.jsx(rt,{path:"/admin/inventory",element:i.jsx(frt,{})}),i.jsx(rt,{path:"/admin/coal-inventory",element:i.jsx(grt,{})}),i.jsx(rt,{path:"/admin/shipping",element:i.jsx(yrt,{})}),i.jsx(rt,{path:"/admin/users",element:i.jsx(wrt,{})}),i.jsx(rt,{path:"/admin/orders",element:i.jsx(jrt,{})}),i.jsx(rt,{path:"/admin/orders/:id",element:i.jsx(Rrt,{})}),i.jsx(rt,{path:"/admin/vouchers",element:i.jsx(Ant,{})}),i.jsx(rt,{path:"/admin/broadcast",element:i.jsx(dnt,{})}),i.jsx(rt,{path:"/admin/analytics",element:i.jsx(Urt,{})}),i.jsx(rt,{path:"/admin/settings",element:i.jsx(Krt,{})}),i.jsx(rt,{path:"/admin/chats",element:i.jsx(zrt,{})}),i.jsx(rt,{path:"/admin/chat/:customerId",element:i.jsx(Grt,{})}),i.jsx(rt,{path:"/admin/ppob",element:i.jsx(fnt,{})}),i.jsx(rt,{path:"*",element:i.jsx(Gbe,{})})]})]})})})]})})}CK(document.getElementById("root")).render(i.jsx(oFe,{children:i.jsx(pnt,{})}));export{Jt as g};
