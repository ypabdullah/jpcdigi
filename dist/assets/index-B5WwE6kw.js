var Dee=Object.defineProperty;var N4=t=>{throw TypeError(t)};var Oee=(t,e,r)=>e in t?Dee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Sh=(t,e,r)=>Oee(t,typeof e!="symbol"?e+"":e,r),d1=(t,e,r)=>e.has(t)||N4("Cannot "+r);var te=(t,e,r)=>(d1(t,e,"read from private field"),r?r.call(t):e.get(t)),xt=(t,e,r)=>e.has(t)?N4("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Je=(t,e,r,n)=>(d1(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Ut=(t,e,r)=>(d1(t,e,"access private method"),r);var Rg=(t,e,r,n)=>({set _(a){Je(t,e,a,r)},get _(){return te(t,e,n)}});import{r as Tp,a as gH,g as Wt,b as xH,c as Ec}from"./react-DeqkGhWy.js";import{a as Ro}from"./vendor-xsH4HHeE.js";function Ree(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var h1={exports:{}},Nh={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k4;function Uee(){if(k4)return Nh;k4=1;var t=Tp(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var A,d={},h=null,f=null;u!==void 0&&(h=""+u),c.key!==void 0&&(h=""+c.key),c.ref!==void 0&&(f=c.ref);for(A in c)n.call(c,A)&&!s.hasOwnProperty(A)&&(d[A]=c[A]);if(l&&l.defaultProps)for(A in c=l.defaultProps,c)d[A]===void 0&&(d[A]=c[A]);return{$$typeof:e,type:l,key:h,ref:f,props:d,_owner:a.current}}return Nh.Fragment=r,Nh.jsx=o,Nh.jsxs=o,Nh}var T4;function Mee(){return T4||(T4=1,h1.exports=Uee()),h1.exports}var i=Mee(),Ug={},I4;function Qee(){if(I4)return Ug;I4=1;var t=gH();return Ug.createRoot=t.createRoot,Ug.hydrateRoot=t.hydrateRoot,Ug}var Lee=Qee(),v=Tp();const V=Wt(v),vH=Ree({__proto__:null,default:V},[v]),Hee=1,$ee=1e6;let f1=0;function Vee(){return f1=(f1+1)%Number.MAX_SAFE_INTEGER,f1.toString()}const m1=new Map,P4=t=>{if(m1.has(t))return;const e=setTimeout(()=>{m1.delete(t),Ef({type:"REMOVE_TOAST",toastId:t})},$ee);m1.set(t,e)},Kee=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Hee)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?P4(r):t.toasts.forEach(n=>{P4(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},z0=[];let G0={toasts:[]};function Ef(t){G0=Kee(G0,t),z0.forEach(e=>{e(G0)})}function me({...t}){const e=Vee(),r=a=>Ef({type:"UPDATE_TOAST",toast:{...a,id:e}}),n=()=>Ef({type:"DISMISS_TOAST",toastId:e});return Ef({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:a=>{a||n()}}}),{id:e,dismiss:n,update:r}}function $s(){const[t,e]=v.useState(G0);return v.useEffect(()=>(z0.push(e),()=>{const r=z0.indexOf(e);r>-1&&z0.splice(r,1)}),[t]),{...t,toast:me,dismiss:r=>Ef({type:"DISMISS_TOAST",toastId:r})}}var Hd=gH();const yH=Wt(Hd);function Oe(t,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t==null||t(a),r===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function qee(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function bH(...t){return e=>t.forEach(r=>qee(r,e))}function bt(...t){return v.useCallback(bH(...t),t)}function zee(t,e=[]){let r=[];function n(s,o){const l=v.createContext(o),c=r.length;r=[...r,o];function u(d){const{scope:h,children:f,...p}=d,g=(h==null?void 0:h[t][c])||l,m=v.useMemo(()=>p,Object.values(p));return i.jsx(g.Provider,{value:m,children:f})}function A(d,h){const f=(h==null?void 0:h[t][c])||l,p=v.useContext(f);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,A]}const a=()=>{const s=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[n,Gee(a,...e)]}function Gee(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...l,...d}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var eo=v.forwardRef((t,e)=>{const{children:r,...n}=t,a=v.Children.toArray(r),s=a.find(Wee);if(s){const o=s.props.children,l=a.map(c=>c===s?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:c);return i.jsx(VE,{...n,ref:e,children:v.isValidElement(o)?v.cloneElement(o,void 0,l):null})}return i.jsx(VE,{...n,ref:e,children:r})});eo.displayName="Slot";var VE=v.forwardRef((t,e)=>{const{children:r,...n}=t;if(v.isValidElement(r)){const a=Yee(r);return v.cloneElement(r,{...Xee(n,r.props),ref:e?bH(e,a):a})}return v.Children.count(r)>1?v.Children.only(null):null});VE.displayName="SlotClone";var yk=({children:t})=>i.jsx(i.Fragment,{children:t});function Wee(t){return v.isValidElement(t)&&t.type===yk}function Xee(t,e){const r={...e};for(const n in e){const a=t[n],s=e[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{s(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...t,...r}}function Yee(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function ib(t){const e=t+"CollectionProvider",[r,n]=zee(e),[a,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=f=>{const{scope:p,children:g}=f,m=V.useRef(null),b=V.useRef(new Map).current;return i.jsx(a,{scope:p,itemMap:b,collectionRef:m,children:g})};o.displayName=e;const l=t+"CollectionSlot",c=V.forwardRef((f,p)=>{const{scope:g,children:m}=f,b=s(l,g),y=bt(p,b.collectionRef);return i.jsx(eo,{ref:y,children:m})});c.displayName=l;const u=t+"CollectionItemSlot",A="data-radix-collection-item",d=V.forwardRef((f,p)=>{const{scope:g,children:m,...b}=f,y=V.useRef(null),w=bt(p,y),x=s(u,g);return V.useEffect(()=>(x.itemMap.set(y,{ref:y,...b}),()=>void x.itemMap.delete(y))),i.jsx(eo,{[A]:"",ref:w,children:m})});d.displayName=u;function h(f){const p=s(t+"CollectionConsumer",f);return V.useCallback(()=>{const m=p.collectionRef.current;if(!m)return[];const b=Array.from(m.querySelectorAll(`[${A}]`));return Array.from(p.itemMap.values()).sort((x,C)=>b.indexOf(x.ref.current)-b.indexOf(C.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:o,Slot:c,ItemSlot:d},h,n]}function Jee(t,e){const r=v.createContext(e),n=s=>{const{children:o,...l}=s,c=v.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function a(s){const o=v.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,a]}function Ea(t,e=[]){let r=[];function n(s,o){const l=v.createContext(o),c=r.length;r=[...r,o];const u=d=>{var b;const{scope:h,children:f,...p}=d,g=((b=h==null?void 0:h[t])==null?void 0:b[c])||l,m=v.useMemo(()=>p,Object.values(p));return i.jsx(g.Provider,{value:m,children:f})};u.displayName=s+"Provider";function A(d,h){var g;const f=((g=h==null?void 0:h[t])==null?void 0:g[c])||l,p=v.useContext(f);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[u,A]}const a=()=>{const s=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[n,Zee(a,...e)]}function Zee(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...l,...d}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var ete=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],et=ete.reduce((t,e)=>{const r=v.forwardRef((n,a)=>{const{asChild:s,...o}=n,l=s?eo:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function wH(t,e){t&&Hd.flushSync(()=>t.dispatchEvent(e))}function Qr(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function tte(t,e=globalThis==null?void 0:globalThis.document){const r=Qr(t);v.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var rte="DismissableLayer",KE="dismissableLayer.update",nte="dismissableLayer.pointerDownOutside",ate="dismissableLayer.focusOutside",F4,_H=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$d=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,u=v.useContext(_H),[A,d]=v.useState(null),h=(A==null?void 0:A.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=v.useState({}),p=bt(e,B=>d(B)),g=Array.from(u.layers),[m]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(m),y=A?g.indexOf(A):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,x=y>=b,C=ite(B=>{const j=B.target,N=[...u.branches].some(S=>S.contains(j));!x||N||(a==null||a(B),o==null||o(B),B.defaultPrevented||l==null||l())},h),E=ote(B=>{const j=B.target;[...u.branches].some(S=>S.contains(j))||(s==null||s(B),o==null||o(B),B.defaultPrevented||l==null||l())},h);return tte(B=>{y===u.layers.size-1&&(n==null||n(B),!B.defaultPrevented&&l&&(B.preventDefault(),l()))},h),v.useEffect(()=>{if(A)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(F4=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(A)),u.layers.add(A),D4(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=F4)}},[A,h,r,u]),v.useEffect(()=>()=>{A&&(u.layers.delete(A),u.layersWithOutsidePointerEventsDisabled.delete(A),D4())},[A,u]),v.useEffect(()=>{const B=()=>f({});return document.addEventListener(KE,B),()=>document.removeEventListener(KE,B)},[]),i.jsx(et.div,{...c,ref:p,style:{pointerEvents:w?x?"auto":"none":void 0,...t.style},onFocusCapture:Oe(t.onFocusCapture,E.onFocusCapture),onBlurCapture:Oe(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Oe(t.onPointerDownCapture,C.onPointerDownCapture)})});$d.displayName=rte;var ste="DismissableLayerBranch",BH=v.forwardRef((t,e)=>{const r=v.useContext(_H),n=v.useRef(null),a=bt(e,n);return v.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),i.jsx(et.div,{...t,ref:a})});BH.displayName=ste;function ite(t,e=globalThis==null?void 0:globalThis.document){const r=Qr(t),n=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){CH(nte,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=c,e.addEventListener("click",a.current,{once:!0})):c()}else e.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",a.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function ote(t,e=globalThis==null?void 0:globalThis.document){const r=Qr(t),n=v.useRef(!1);return v.useEffect(()=>{const a=s=>{s.target&&!n.current&&CH(ate,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function D4(){const t=new CustomEvent(KE);document.dispatchEvent(t)}function CH(t,e,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?wH(a,s):a.dispatchEvent(s)}var lte=$d,cte=BH,on=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},ute="Portal",Ip=v.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[a,s]=v.useState(!1);on(()=>s(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?yH.createPortal(i.jsx(et.div,{...n,ref:e}),o):null});Ip.displayName=ute;function Ate(t,e){return v.useReducer((r,n)=>e[r][n]??r,t)}var fa=t=>{const{present:e,children:r}=t,n=dte(e),a=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),s=bt(n.ref,hte(a));return typeof r=="function"||n.isPresent?v.cloneElement(a,{ref:s}):null};fa.displayName="Presence";function dte(t){const[e,r]=v.useState(),n=v.useRef({}),a=v.useRef(t),s=v.useRef("none"),o=t?"mounted":"unmounted",[l,c]=Ate(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=Mg(n.current);s.current=l==="mounted"?u:"none"},[l]),on(()=>{const u=n.current,A=a.current;if(A!==t){const h=s.current,f=Mg(u);t?c("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(A&&h!==f?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,c]),on(()=>{if(e){let u;const A=e.ownerDocument.defaultView??window,d=f=>{const g=Mg(n.current).includes(f.animationName);if(f.target===e&&g&&(c("ANIMATION_END"),!a.current)){const m=e.style.animationFillMode;e.style.animationFillMode="forwards",u=A.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=m)})}},h=f=>{f.target===e&&(s.current=Mg(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{A.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Mg(t){return(t==null?void 0:t.animationName)||"none"}function hte(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function As({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,a]=fte({defaultProp:e,onChange:r}),s=t!==void 0,o=s?t:n,l=Qr(r),c=v.useCallback(u=>{if(s){const d=typeof u=="function"?u(t):u;d!==t&&l(d)}else a(u)},[s,t,a,l]);return[o,c]}function fte({defaultProp:t,onChange:e}){const r=v.useState(t),[n]=r,a=v.useRef(n),s=Qr(e);return v.useEffect(()=>{a.current!==n&&(s(n),a.current=n)},[n,a,s]),r}var mte="VisuallyHidden",Pp=v.forwardRef((t,e)=>i.jsx(et.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Pp.displayName=mte;var pte=Pp,bk="ToastProvider",[wk,gte,xte]=ib("Toast"),[jH,OLe]=Ea("Toast",[xte]),[vte,ob]=jH(bk),EH=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:s=50,children:o}=t,[l,c]=v.useState(null),[u,A]=v.useState(0),d=v.useRef(!1),h=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${bk}\`. Expected non-empty \`string\`.`),i.jsx(wk.Provider,{scope:e,children:i.jsx(vte,{scope:e,label:r,duration:n,swipeDirection:a,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>A(f=>f+1),[]),onToastRemove:v.useCallback(()=>A(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};EH.displayName=bk;var SH="ToastViewport",yte=["F8"],qE="toast.viewportPause",zE="toast.viewportResume",NH=v.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=yte,label:a="Notifications ({hotkey})",...s}=t,o=ob(SH,r),l=gte(r),c=v.useRef(null),u=v.useRef(null),A=v.useRef(null),d=v.useRef(null),h=bt(e,d,o.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=o.toastCount>0;v.useEffect(()=>{const m=b=>{var w;n.length!==0&&n.every(x=>b[x]||b.code===x)&&((w=d.current)==null||w.focus())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[n]),v.useEffect(()=>{const m=c.current,b=d.current;if(p&&m&&b){const y=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(qE);b.dispatchEvent(E),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(zE);b.dispatchEvent(E),o.isClosePausedRef.current=!1}},x=E=>{!m.contains(E.relatedTarget)&&w()},C=()=>{m.contains(document.activeElement)||w()};return m.addEventListener("focusin",y),m.addEventListener("focusout",x),m.addEventListener("pointermove",y),m.addEventListener("pointerleave",C),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{m.removeEventListener("focusin",y),m.removeEventListener("focusout",x),m.removeEventListener("pointermove",y),m.removeEventListener("pointerleave",C),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[p,o.isClosePausedRef]);const g=v.useCallback(({tabbingDirection:m})=>{const y=l().map(w=>{const x=w.ref.current,C=[x,...Pte(x)];return m==="forwards"?C:C.reverse()});return(m==="forwards"?y.reverse():y).flat()},[l]);return v.useEffect(()=>{const m=d.current;if(m){const b=y=>{var C,E,B;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const j=document.activeElement,N=y.shiftKey;if(y.target===m&&N){(C=u.current)==null||C.focus();return}const I=g({tabbingDirection:N?"backwards":"forwards"}),T=I.findIndex(O=>O===j);p1(I.slice(T+1))?y.preventDefault():N?(E=u.current)==null||E.focus():(B=A.current)==null||B.focus()}};return m.addEventListener("keydown",b),()=>m.removeEventListener("keydown",b)}},[l,g]),i.jsxs(cte,{ref:c,role:"region","aria-label":a.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&i.jsx(GE,{ref:u,onFocusFromOutsideViewport:()=>{const m=g({tabbingDirection:"forwards"});p1(m)}}),i.jsx(wk.Slot,{scope:r,children:i.jsx(et.ol,{tabIndex:-1,...s,ref:h})}),p&&i.jsx(GE,{ref:A,onFocusFromOutsideViewport:()=>{const m=g({tabbingDirection:"backwards"});p1(m)}})]})});NH.displayName=SH;var kH="ToastFocusProxy",GE=v.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=t,s=ob(kH,r);return i.jsx(Pp,{"aria-hidden":!0,tabIndex:0,...a,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&n()}})});GE.displayName=kH;var lb="Toast",bte="toast.swipeStart",wte="toast.swipeMove",_te="toast.swipeCancel",Bte="toast.swipeEnd",TH=v.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:s,...o}=t,[l=!0,c]=As({prop:n,defaultProp:a,onChange:s});return i.jsx(fa,{present:r||l,children:i.jsx(Ete,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Qr(t.onPause),onResume:Qr(t.onResume),onSwipeStart:Oe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Oe(t.onSwipeMove,u=>{const{x:A,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${A}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Oe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Oe(t.onSwipeEnd,u=>{const{x:A,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${A}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});TH.displayName=lb;var[Cte,jte]=jH(lb,{onClose(){}}),Ete=v.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:s,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:A,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:f,...p}=t,g=ob(lb,r),[m,b]=v.useState(null),y=bt(e,O=>b(O)),w=v.useRef(null),x=v.useRef(null),C=a||g.duration,E=v.useRef(0),B=v.useRef(C),j=v.useRef(0),{onToastAdd:N,onToastRemove:S}=g,k=Qr(()=>{var U;(m==null?void 0:m.contains(document.activeElement))&&((U=g.viewport)==null||U.focus()),o()}),I=v.useCallback(O=>{!O||O===1/0||(window.clearTimeout(j.current),E.current=new Date().getTime(),j.current=window.setTimeout(k,O))},[k]);v.useEffect(()=>{const O=g.viewport;if(O){const U=()=>{I(B.current),u==null||u()},H=()=>{const R=new Date().getTime()-E.current;B.current=B.current-R,window.clearTimeout(j.current),c==null||c()};return O.addEventListener(qE,H),O.addEventListener(zE,U),()=>{O.removeEventListener(qE,H),O.removeEventListener(zE,U)}}},[g.viewport,C,c,u,I]),v.useEffect(()=>{s&&!g.isClosePausedRef.current&&I(C)},[s,C,g.isClosePausedRef,I]),v.useEffect(()=>(N(),()=>S()),[N,S]);const T=v.useMemo(()=>m?UH(m):null,[m]);return g.viewport?i.jsxs(i.Fragment,{children:[T&&i.jsx(Ste,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:T}),i.jsx(Cte,{scope:r,onClose:k,children:Hd.createPortal(i.jsx(wk.ItemSlot,{scope:r,children:i.jsx(lte,{asChild:!0,onEscapeKeyDown:Oe(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||k(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(et.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...p,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Oe(t.onKeyDown,O=>{O.key==="Escape"&&(l==null||l(O.nativeEvent),O.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Oe(t.onPointerDown,O=>{O.button===0&&(w.current={x:O.clientX,y:O.clientY})}),onPointerMove:Oe(t.onPointerMove,O=>{if(!w.current)return;const U=O.clientX-w.current.x,H=O.clientY-w.current.y,R=!!x.current,D=["left","right"].includes(g.swipeDirection),M=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,Q=D?M(0,U):0,L=D?0:M(0,H),K=O.pointerType==="touch"?10:2,G={x:Q,y:L},q={originalEvent:O,delta:G};R?(x.current=G,Qg(wte,d,q,{discrete:!1})):O4(G,g.swipeDirection,K)?(x.current=G,Qg(bte,A,q,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(U)>K||Math.abs(H)>K)&&(w.current=null)}),onPointerUp:Oe(t.onPointerUp,O=>{const U=x.current,H=O.target;if(H.hasPointerCapture(O.pointerId)&&H.releasePointerCapture(O.pointerId),x.current=null,w.current=null,U){const R=O.currentTarget,D={originalEvent:O,delta:U};O4(U,g.swipeDirection,g.swipeThreshold)?Qg(Bte,f,D,{discrete:!0}):Qg(_te,h,D,{discrete:!0}),R.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Ste=t=>{const{__scopeToast:e,children:r,...n}=t,a=ob(lb,e),[s,o]=v.useState(!1),[l,c]=v.useState(!1);return Tte(()=>o(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(Ip,{asChild:!0,children:i.jsx(Pp,{...n,children:s&&i.jsxs(i.Fragment,{children:[a.label," ",r]})})})},Nte="ToastTitle",IH=v.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return i.jsx(et.div,{...n,ref:e})});IH.displayName=Nte;var kte="ToastDescription",PH=v.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return i.jsx(et.div,{...n,ref:e})});PH.displayName=kte;var FH="ToastAction",DH=v.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?i.jsx(RH,{altText:r,asChild:!0,children:i.jsx(_k,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${FH}\`. Expected non-empty \`string\`.`),null)});DH.displayName=FH;var OH="ToastClose",_k=v.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,a=jte(OH,r);return i.jsx(RH,{asChild:!0,children:i.jsx(et.button,{type:"button",...n,ref:e,onClick:Oe(t.onClick,a.onClose)})})});_k.displayName=OH;var RH=v.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...a}=t;return i.jsx(et.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:e})});function UH(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),Ite(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!a)if(s){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...UH(n))}}),e}function Qg(t,e,r,{discrete:n}){const a=r.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?wH(a,s):a.dispatchEvent(s)}var O4=(t,e,r=0)=>{const n=Math.abs(t.x),a=Math.abs(t.y),s=n>a;return e==="left"||e==="right"?s&&n>r:!s&&a>r};function Tte(t=()=>{}){const e=Qr(t);on(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function Ite(t){return t.nodeType===t.ELEMENT_NODE}function Pte(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function p1(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var Fte=EH,MH=NH,QH=TH,LH=IH,HH=PH,$H=DH,VH=_k;function KH(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=KH(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Gt(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=KH(t))&&(n&&(n+=" "),n+=e);return n}const R4=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,U4=Gt,Vd=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return U4(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=e,o=Object.keys(a).map(u=>{const A=r==null?void 0:r[u],d=s==null?void 0:s[u];if(A===null)return null;const h=R4(A)||R4(d);return a[u][h]}),l=r&&Object.entries(r).reduce((u,A)=>{let[d,h]=A;return h===void 0||(u[d]=h),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,A)=>{let{class:d,className:h,...f}=A;return Object.entries(f).every(p=>{let[g,m]=p;return Array.isArray(m)?m.includes({...s,...l}[g]):{...s,...l}[g]===m})?[...u,d,h]:u},[]);return U4(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qH=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ote={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...Ote,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:qH("lucide",a),...l},[...o.map(([u,A])=>v.createElement(u,A)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(t,e)=>{const r=v.forwardRef(({className:n,...a},s)=>v.createElement(Rte,{ref:s,iconNode:e,className:qH(`lucide-${Dte(t)}`,n),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=je("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=je("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=je("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=je("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=je("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=je("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=je("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=je("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=je("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=je("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=je("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=je("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=je("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=je("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=je("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=je("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=je("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=je("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=je("ChevronsDown",[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=je("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=je("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=je("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wte=je("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xte=je("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=je("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jte=je("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=je("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zte=je("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=je("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=je("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=je("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=je("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tre=je("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=je("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nre=je("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const are=je("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sre=je("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=je("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=je("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ore=je("Gamepad",[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lre=je("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=je("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=je("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ure=je("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=je("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=je("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Are=je("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=je("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=je("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=je("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=je("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=je("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=je("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=je("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hre=je("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=je("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=je("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=je("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fre=je("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=je("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=je("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=je("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=je("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=je("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mre=je("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pre=je("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=je("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=je("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gre=je("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=je("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=je("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=je("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xre=je("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=je("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vre=je("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yre=je("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=je("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=je("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=je("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bre=je("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=je("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=je("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=je("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wre=je("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _re=je("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=je("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bre=je("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=je("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cre=je("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jre=je("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Pk="-",Ere=t=>{const e=Nre(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(Pk);return l[0]===""&&l.length!==1&&l.shift(),i$(l,e)||Sre(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},i$=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),a=n?i$(t.slice(1),n):void 0;if(a)return a;if(e.validators.length===0)return;const s=t.join(Pk);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},z4=/^\[(.+)\]$/,Sre=t=>{if(z4.test(t)){const e=z4.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Nre=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Tre(Object.entries(t.classGroups),r).forEach(([s,o])=>{rS(o,n,s,e)}),n},rS=(t,e,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const s=a===""?e:G4(e,a);s.classGroupId=r;return}if(typeof a=="function"){if(kre(a)){rS(a(n),e,r,n);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,o])=>{rS(o,G4(e,s),r,n)})})},G4=(t,e)=>{let r=t;return e.split(Pk).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},kre=t=>t.isThemeGetter,Tre=(t,e)=>e?t.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[r,a]}):t,Ire=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const a=(s,o)=>{r.set(s,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return a(s,o),o},set(s,o){r.has(s)?r.set(s,o):a(s,o)}}},o$="!",Pre=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,a=e[0],s=e.length,o=l=>{const c=[];let u=0,A=0,d;for(let m=0;m<l.length;m++){let b=l[m];if(u===0){if(b===a&&(n||l.slice(m,m+s)===e)){c.push(l.slice(A,m)),A=m+s;continue}if(b==="/"){d=m;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(A),f=h.startsWith(o$),p=f?h.substring(1):h,g=d&&d>A?d-A:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},Fre=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},Dre=t=>({cache:Ire(t.cacheSize),parseClassName:Pre(t),...Ere(t)}),Ore=/\s+/,Rre=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=e,s=[],o=t.trim().split(Ore);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:A,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=r(u);let p=!!f,g=n(p?h.substring(0,f):h);if(!g){if(!p){l=u+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=u+(l.length>0?" "+l:l);continue}p=!1}const m=Fre(A).join(":"),b=d?m+o$:m,y=b+g;if(s.includes(y))continue;s.push(y);const w=a(g,p);for(let x=0;x<w.length;++x){const C=w[x];s.push(b+C)}l=u+(l.length>0?" "+l:l)}return l};function Ure(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=l$(e))&&(n&&(n+=" "),n+=r);return n}const l$=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=l$(t[n]))&&(r&&(r+=" "),r+=e);return r};function Mre(t,...e){let r,n,a,s=o;function o(c){const u=e.reduce((A,d)=>d(A),t());return r=Dre(u),n=r.cache.get,a=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const A=Rre(c,r);return a(c,A),A}return function(){return s(Ure.apply(null,arguments))}}const Sr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},c$=/^\[(?:([a-z-]+):)?(.+)\]$/i,Qre=/^\d+\/\d+$/,Lre=new Set(["px","full","screen"]),Hre=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$re=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Vre=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Kre=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qre=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ki=t=>_A(t)||Lre.has(t)||Qre.test(t),Co=t=>qd(t,"length",ene),_A=t=>!!t&&!Number.isNaN(Number(t)),g1=t=>qd(t,"number",_A),kh=t=>!!t&&Number.isInteger(Number(t)),zre=t=>t.endsWith("%")&&_A(t.slice(0,-1)),St=t=>c$.test(t),jo=t=>Hre.test(t),Gre=new Set(["length","size","percentage"]),Wre=t=>qd(t,Gre,u$),Xre=t=>qd(t,"position",u$),Yre=new Set(["image","url"]),Jre=t=>qd(t,Yre,rne),Zre=t=>qd(t,"",tne),Th=()=>!0,qd=(t,e,r)=>{const n=c$.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},ene=t=>$re.test(t)&&!Vre.test(t),u$=()=>!1,tne=t=>Kre.test(t),rne=t=>qre.test(t),nne=()=>{const t=Sr("colors"),e=Sr("spacing"),r=Sr("blur"),n=Sr("brightness"),a=Sr("borderColor"),s=Sr("borderRadius"),o=Sr("borderSpacing"),l=Sr("borderWidth"),c=Sr("contrast"),u=Sr("grayscale"),A=Sr("hueRotate"),d=Sr("invert"),h=Sr("gap"),f=Sr("gradientColorStops"),p=Sr("gradientColorStopPositions"),g=Sr("inset"),m=Sr("margin"),b=Sr("opacity"),y=Sr("padding"),w=Sr("saturate"),x=Sr("scale"),C=Sr("sepia"),E=Sr("skew"),B=Sr("space"),j=Sr("translate"),N=()=>["auto","contain","none"],S=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",St,e],I=()=>[St,e],T=()=>["",ki,Co],O=()=>["auto",_A,St],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],R=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",St],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[_A,St];return{cacheSize:500,separator:":",theme:{colors:[Th],spacing:[ki,Co],blur:["none","",jo,St],brightness:L(),borderColor:[t],borderRadius:["none","","full",jo,St],borderSpacing:I(),borderWidth:T(),contrast:L(),grayscale:M(),hueRotate:L(),invert:M(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[zre,Co],inset:k(),margin:k(),opacity:L(),padding:I(),saturate:L(),scale:L(),sepia:M(),skew:L(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",St]}],container:["container"],columns:[{columns:[jo]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),St]}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",kh,St]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",St]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",kh,St]}],"grid-cols":[{"grid-cols":[Th]}],"col-start-end":[{col:["auto",{span:["full",kh,St]},St]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[Th]}],"row-start-end":[{row:["auto",{span:[kh,St]},St]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",St]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",St]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",St,e]}],"min-w":[{"min-w":[St,e,"min","max","fit"]}],"max-w":[{"max-w":[St,e,"none","full","min","max","fit","prose",{screen:[jo]},jo]}],h:[{h:[St,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[St,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[St,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[St,e,"auto","min","max","fit"]}],"font-size":[{text:["base",jo,Co]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",g1]}],"font-family":[{font:[Th]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",St]}],"line-clamp":[{"line-clamp":["none",_A,g1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ki,St]}],"list-image":[{"list-image":["none",St]}],"list-style-type":[{list:["none","disc","decimal",St]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ki,Co]}],"underline-offset":[{"underline-offset":["auto",ki,St]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",St]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",St]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),Xre]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Wre]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Jre]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:H()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[ki,St]}],"outline-w":[{outline:[ki,Co]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[ki,Co]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",jo,Zre]}],"shadow-color":[{shadow:[Th]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...R(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":R()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",jo,St]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[A]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[A]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",St]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",St]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",St]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[kh,St]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",St]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",St]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",St]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ki,Co,g1]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ane=Mre(nne);function fe(...t){return ane(Gt(t))}function ye(t){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t).replace(/^IDR\s*/,"Rp")}const sne=Fte,A$=v.forwardRef(({className:t,...e},r)=>i.jsx(MH,{ref:r,className:fe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));A$.displayName=MH.displayName;const ine=Vd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),d$=v.forwardRef(({className:t,variant:e,...r},n)=>i.jsx(QH,{ref:n,className:fe(ine({variant:e}),t),...r}));d$.displayName=QH.displayName;const one=v.forwardRef(({className:t,...e},r)=>i.jsx($H,{ref:r,className:fe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));one.displayName=$H.displayName;const h$=v.forwardRef(({className:t,...e},r)=>i.jsx(VH,{ref:r,className:fe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:i.jsx(db,{className:"h-4 w-4"})}));h$.displayName=VH.displayName;const f$=v.forwardRef(({className:t,...e},r)=>i.jsx(LH,{ref:r,className:fe("text-sm font-semibold",t),...e}));f$.displayName=LH.displayName;const m$=v.forwardRef(({className:t,...e},r)=>i.jsx(HH,{ref:r,className:fe("text-sm opacity-90",t),...e}));m$.displayName=HH.displayName;function lne(){const{toasts:t}=$s();return i.jsxs(sne,{children:[t.map(function({id:e,title:r,description:n,action:a,...s}){return i.jsxs(d$,{...s,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(f$,{children:r}),n&&i.jsx(m$,{children:n})]}),a,i.jsx(h$,{})]},e)}),i.jsx(A$,{})]})}var W4=["light","dark"],cne="(prefers-color-scheme: dark)",une=v.createContext(void 0),Ane={setTheme:t=>{},themes:[]},dne=()=>{var t;return(t=v.useContext(une))!=null?t:Ane};v.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:o,attrs:l,nonce:c})=>{let u=s==="system",A=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(p=>`'${p}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=a?W4.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(p,g=!1,m=!0)=>{let b=o?o[p]:p,y=g?p+"|| ''":`'${b}'`,w="";return a&&m&&!g&&W4.includes(p)&&(w+=`d.style.colorScheme = '${p}';`),r==="class"?g||b?w+=`c.add(${y})`:w+="null":b&&(w+=`d[s](n,${y})`),w},f=t?`!function(){${A}${h(t)}}()`:n?`!function(){try{${A}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${cne}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${A}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${d}}catch(t){}}();`;return v.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:f}})});var hne=t=>{switch(t){case"success":return pne;case"info":return xne;case"warning":return gne;case"error":return vne;default:return null}},fne=Array(12).fill(0),mne=({visible:t})=>V.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},V.createElement("div",{className:"sonner-spinner"},fne.map((e,r)=>V.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),pne=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),gne=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),xne=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),vne=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),yne=()=>{let[t,e]=V.useState(document.hidden);return V.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},nS=1,bne=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;let{message:n,...a}=e,s=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:nS++,o=this.toasts.find(c=>c.id===s),l=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...e,id:s,title:n}),{...c,...e,id:s,dismissible:l,title:n}):c):this.addToast({title:n,...a,dismissible:l,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:e,dismiss:!0})),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let a=e instanceof Promise?e:e(),s=n!==void 0;return a.then(async o=>{if(_ne(o)&&!o.ok){s=!1;let l=typeof r.error=="function"?await r.error(`HTTP error! status: ${o.status}`):r.error,c=typeof r.description=="function"?await r.description(`HTTP error! status: ${o.status}`):r.description;this.create({id:n,type:"error",message:l,description:c})}else if(r.success!==void 0){s=!1;let l=typeof r.success=="function"?await r.success(o):r.success,c=typeof r.description=="function"?await r.description(o):r.description;this.create({id:n,type:"success",message:l,description:c})}}).catch(async o=>{if(r.error!==void 0){s=!1;let l=typeof r.error=="function"?await r.error(o):r.error,c=typeof r.description=="function"?await r.description(o):r.description;this.create({id:n,type:"error",message:l,description:c})}}).finally(()=>{var o;s&&(this.dismiss(n),n=void 0),(o=r.finally)==null||o.call(r)}),n},this.custom=(e,r)=>{let n=(r==null?void 0:r.id)||nS++;return this.create({jsx:e(n),id:n,...r}),n},this.subscribers=[],this.toasts=[]}},Da=new bne,wne=(t,e)=>{let r=(e==null?void 0:e.id)||nS++;return Da.addToast({title:t,...e,id:r}),r},_ne=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Bne=wne,Cne=()=>Da.toasts;Object.assign(Bne,{success:Da.success,info:Da.info,warning:Da.warning,error:Da.error,custom:Da.custom,message:Da.message,promise:Da.promise,dismiss:Da.dismiss,loading:Da.loading},{getHistory:Cne});function jne(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}jne(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Lg(t){return t.label!==void 0}var Ene=3,Sne="32px",Nne=4e3,kne=356,Tne=14,Ine=20,Pne=200;function Fne(...t){return t.filter(Boolean).join(" ")}var Dne=t=>{var e,r,n,a,s,o,l,c,u,A;let{invert:d,toast:h,unstyled:f,interacting:p,setHeights:g,visibleToasts:m,heights:b,index:y,toasts:w,expanded:x,removeToast:C,defaultRichColors:E,closeButton:B,style:j,cancelButtonStyle:N,actionButtonStyle:S,className:k="",descriptionClassName:I="",duration:T,position:O,gap:U,loadingIcon:H,expandByDefault:R,classNames:D,icons:M,closeButtonAriaLabel:Q="Close toast",pauseWhenPageIsHidden:L,cn:K}=t,[G,q]=V.useState(!1),[W,re]=V.useState(!1),[le,ne]=V.useState(!1),[ce,Ae]=V.useState(!1),[ve,Y]=V.useState(0),[pe,Ee]=V.useState(0),Re=V.useRef(null),$e=V.useRef(null),wt=y===0,X=y+1<=m,ee=h.type,ie=h.dismissible!==!1,ge=h.className||"",we=h.descriptionClassName||"",xe=V.useMemo(()=>b.findIndex(At=>At.toastId===h.id)||0,[b,h.id]),Ve=V.useMemo(()=>{var At;return(At=h.closeButton)!=null?At:B},[h.closeButton,B]),lt=V.useMemo(()=>h.duration||T||Nne,[h.duration,T]),nt=V.useRef(0),it=V.useRef(0),oe=V.useRef(0),Se=V.useRef(null),[tt,Ye]=O.split("-"),gt=V.useMemo(()=>b.reduce((At,Vt,Ft)=>Ft>=xe?At:At+Vt.height,0),[b,xe]),ir=yne(),pa=h.invert||d,fr=ee==="loading";it.current=V.useMemo(()=>xe*U+gt,[xe,gt]),V.useEffect(()=>{q(!0)},[]),V.useLayoutEffect(()=>{if(!G)return;let At=$e.current,Vt=At.style.height;At.style.height="auto";let Ft=At.getBoundingClientRect().height;At.style.height=Vt,Ee(Ft),g(Pr=>Pr.find(un=>un.toastId===h.id)?Pr.map(un=>un.toastId===h.id?{...un,height:Ft}:un):[{toastId:h.id,height:Ft,position:h.position},...Pr])},[G,h.title,h.description,g,h.id]);let br=V.useCallback(()=>{re(!0),Y(it.current),g(At=>At.filter(Vt=>Vt.toastId!==h.id)),setTimeout(()=>{C(h)},Pne)},[h,C,g,it]);V.useEffect(()=>{if(h.promise&&ee==="loading"||h.duration===1/0||h.type==="loading")return;let At,Vt=lt;return x||p||L&&ir?(()=>{if(oe.current<nt.current){let Ft=new Date().getTime()-nt.current;Vt=Vt-Ft}oe.current=new Date().getTime()})():Vt!==1/0&&(nt.current=new Date().getTime(),At=setTimeout(()=>{var Ft;(Ft=h.onAutoClose)==null||Ft.call(h,h),br()},Vt)),()=>clearTimeout(At)},[x,p,R,h,lt,br,h.promise,ee,L,ir]),V.useEffect(()=>{let At=$e.current;if(At){let Vt=At.getBoundingClientRect().height;return Ee(Vt),g(Ft=>[{toastId:h.id,height:Vt,position:h.position},...Ft]),()=>g(Ft=>Ft.filter(Pr=>Pr.toastId!==h.id))}},[g,h.id]),V.useEffect(()=>{h.delete&&br()},[br,h.delete]);function Jl(){return M!=null&&M.loading?V.createElement("div",{className:"sonner-loader","data-visible":ee==="loading"},M.loading):H?V.createElement("div",{className:"sonner-loader","data-visible":ee==="loading"},H):V.createElement(mne,{visible:ee==="loading"})}return V.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:$e,className:K(k,ge,D==null?void 0:D.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,D==null?void 0:D.default,D==null?void 0:D[ee],(r=h==null?void 0:h.classNames)==null?void 0:r[ee]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:E,"data-styled":!(h.jsx||h.unstyled||f),"data-mounted":G,"data-promise":!!h.promise,"data-removed":W,"data-visible":X,"data-y-position":tt,"data-x-position":Ye,"data-index":y,"data-front":wt,"data-swiping":le,"data-dismissible":ie,"data-type":ee,"data-invert":pa,"data-swipe-out":ce,"data-expanded":!!(x||R&&G),style:{"--index":y,"--toasts-before":y,"--z-index":w.length-y,"--offset":`${W?ve:it.current}px`,"--initial-height":R?"auto":`${pe}px`,...j,...h.style},onPointerDown:At=>{fr||!ie||(Re.current=new Date,Y(it.current),At.target.setPointerCapture(At.pointerId),At.target.tagName!=="BUTTON"&&(ne(!0),Se.current={x:At.clientX,y:At.clientY}))},onPointerUp:()=>{var At,Vt,Ft,Pr;if(ce||!ie)return;Se.current=null;let un=Number(((At=$e.current)==null?void 0:At.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Gs=new Date().getTime()-((Vt=Re.current)==null?void 0:Vt.getTime()),ms=Math.abs(un)/Gs;if(Math.abs(un)>=Ine||ms>.11){Y(it.current),(Ft=h.onDismiss)==null||Ft.call(h,h),br(),Ae(!0);return}(Pr=$e.current)==null||Pr.style.setProperty("--swipe-amount","0px"),ne(!1)},onPointerMove:At=>{var Vt;if(!Se.current||!ie)return;let Ft=At.clientY-Se.current.y,Pr=At.clientX-Se.current.x,un=(tt==="top"?Math.min:Math.max)(0,Ft),Gs=At.pointerType==="touch"?10:2;Math.abs(un)>Gs?(Vt=$e.current)==null||Vt.style.setProperty("--swipe-amount",`${Ft}px`):Math.abs(Pr)>Gs&&(Se.current=null)}},Ve&&!h.jsx?V.createElement("button",{"aria-label":Q,"data-disabled":fr,"data-close-button":!0,onClick:fr||!ie?()=>{}:()=>{var At;br(),(At=h.onDismiss)==null||At.call(h,h)},className:K(D==null?void 0:D.closeButton,(a=h==null?void 0:h.classNames)==null?void 0:a.closeButton)},V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},V.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),V.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||V.isValidElement(h.title)?h.jsx||h.title:V.createElement(V.Fragment,null,ee||h.icon||h.promise?V.createElement("div",{"data-icon":"",className:K(D==null?void 0:D.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Jl():null,h.type!=="loading"?h.icon||(M==null?void 0:M[ee])||hne(ee):null):null,V.createElement("div",{"data-content":"",className:K(D==null?void 0:D.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},V.createElement("div",{"data-title":"",className:K(D==null?void 0:D.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?V.createElement("div",{"data-description":"",className:K(I,we,D==null?void 0:D.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),V.isValidElement(h.cancel)?h.cancel:h.cancel&&Lg(h.cancel)?V.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||N,onClick:At=>{var Vt,Ft;Lg(h.cancel)&&ie&&((Ft=(Vt=h.cancel).onClick)==null||Ft.call(Vt,At),br())},className:K(D==null?void 0:D.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,V.isValidElement(h.action)?h.action:h.action&&Lg(h.action)?V.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||S,onClick:At=>{var Vt,Ft;Lg(h.action)&&(At.defaultPrevented||((Ft=(Vt=h.action).onClick)==null||Ft.call(Vt,At),br()))},className:K(D==null?void 0:D.actionButton,(A=h==null?void 0:h.classNames)==null?void 0:A.actionButton)},h.action.label):null))};function X4(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var One=t=>{let{invert:e,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:a,closeButton:s,className:o,offset:l,theme:c="light",richColors:u,duration:A,style:d,visibleToasts:h=Ene,toastOptions:f,dir:p=X4(),gap:g=Tne,loadingIcon:m,icons:b,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:w,cn:x=Fne}=t,[C,E]=V.useState([]),B=V.useMemo(()=>Array.from(new Set([r].concat(C.filter(L=>L.position).map(L=>L.position)))),[C,r]),[j,N]=V.useState([]),[S,k]=V.useState(!1),[I,T]=V.useState(!1),[O,U]=V.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=V.useRef(null),R=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=V.useRef(null),M=V.useRef(!1),Q=V.useCallback(L=>{var K;(K=C.find(G=>G.id===L.id))!=null&&K.delete||Da.dismiss(L.id),E(G=>G.filter(({id:q})=>q!==L.id))},[C]);return V.useEffect(()=>Da.subscribe(L=>{if(L.dismiss){E(K=>K.map(G=>G.id===L.id?{...G,delete:!0}:G));return}setTimeout(()=>{yH.flushSync(()=>{E(K=>{let G=K.findIndex(q=>q.id===L.id);return G!==-1?[...K.slice(0,G),{...K[G],...L},...K.slice(G+1)]:[L,...K]})})})}),[]),V.useEffect(()=>{if(c!=="system"){U(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:L})=>{U(L?"dark":"light")})},[c]),V.useEffect(()=>{C.length<=1&&k(!1)},[C]),V.useEffect(()=>{let L=K=>{var G,q;n.every(W=>K[W]||K.code===W)&&(k(!0),(G=H.current)==null||G.focus()),K.code==="Escape"&&(document.activeElement===H.current||(q=H.current)!=null&&q.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[n]),V.useEffect(()=>{if(H.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,M.current=!1)}},[H.current]),C.length?V.createElement("section",{"aria-label":`${y} ${R}`,tabIndex:-1},B.map((L,K)=>{var G;let[q,W]=L.split("-");return V.createElement("ol",{key:L,dir:p==="auto"?X4():p,tabIndex:-1,ref:H,className:o,"data-sonner-toaster":!0,"data-theme":O,"data-y-position":q,"data-x-position":W,style:{"--front-toast-height":`${((G=j[0])==null?void 0:G.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||Sne,"--width":`${kne}px`,"--gap":`${g}px`,...d},onBlur:re=>{M.current&&!re.currentTarget.contains(re.relatedTarget)&&(M.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||M.current||(M.current=!0,D.current=re.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{I||k(!1)},onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||T(!0)},onPointerUp:()=>T(!1)},C.filter(re=>!re.position&&K===0||re.position===L).map((re,le)=>{var ne,ce;return V.createElement(Dne,{key:re.id,icons:b,index:le,toast:re,defaultRichColors:u,duration:(ne=f==null?void 0:f.duration)!=null?ne:A,className:f==null?void 0:f.className,descriptionClassName:f==null?void 0:f.descriptionClassName,invert:e,visibleToasts:h,closeButton:(ce=f==null?void 0:f.closeButton)!=null?ce:s,interacting:I,position:L,style:f==null?void 0:f.style,unstyled:f==null?void 0:f.unstyled,classNames:f==null?void 0:f.classNames,cancelButtonStyle:f==null?void 0:f.cancelButtonStyle,actionButtonStyle:f==null?void 0:f.actionButtonStyle,removeToast:Q,toasts:C.filter(Ae=>Ae.position==re.position),heights:j.filter(Ae=>Ae.position==re.position),setHeights:N,expandByDefault:a,gap:g,loadingIcon:m,expanded:S,pauseWhenPageIsHidden:w,cn:x})}))})):null};const Rne=({...t})=>{const{theme:e="system"}=dne();return i.jsx(One,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Une=vH.useId||(()=>{}),Mne=0;function ci(t){const[e,r]=v.useState(Une());return on(()=>{r(n=>n??String(Mne++))},[t]),e?`radix-${e}`:""}const Qne=["top","right","bottom","left"],yl=Math.min,Ua=Math.max,nv=Math.round,Hg=Math.floor,bl=t=>({x:t,y:t}),Lne={left:"right",right:"left",bottom:"top",top:"bottom"},Hne={start:"end",end:"start"};function aS(t,e,r){return Ua(t,yl(e,r))}function ro(t,e){return typeof t=="function"?t(e):t}function no(t){return t.split("-")[0]}function zd(t){return t.split("-")[1]}function Fk(t){return t==="x"?"y":"x"}function Dk(t){return t==="y"?"height":"width"}function wl(t){return["top","bottom"].includes(no(t))?"y":"x"}function Ok(t){return Fk(wl(t))}function $ne(t,e,r){r===void 0&&(r=!1);const n=zd(t),a=Ok(t),s=Dk(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=av(o)),[o,av(o)]}function Vne(t){const e=av(t);return[sS(t),e,sS(e)]}function sS(t){return t.replace(/start|end/g,e=>Hne[e])}function Kne(t,e,r){const n=["left","right"],a=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?a:n:e?n:a;case"left":case"right":return e?s:o;default:return[]}}function qne(t,e,r,n){const a=zd(t);let s=Kne(no(t),r==="start",n);return a&&(s=s.map(o=>o+"-"+a),e&&(s=s.concat(s.map(sS)))),s}function av(t){return t.replace(/left|right|bottom|top/g,e=>Lne[e])}function zne(t){return{top:0,right:0,bottom:0,left:0,...t}}function p$(t){return typeof t!="number"?zne(t):{top:t,right:t,bottom:t,left:t}}function sv(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function Y4(t,e,r){let{reference:n,floating:a}=t;const s=wl(e),o=Ok(e),l=Dk(o),c=no(e),u=s==="y",A=n.x+n.width/2-a.width/2,d=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let f;switch(c){case"top":f={x:A,y:n.y-a.height};break;case"bottom":f={x:A,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:d};break;case"left":f={x:n.x-a.width,y:d};break;default:f={x:n.x,y:n.y}}switch(zd(e)){case"start":f[o]-=h*(r&&u?-1:1);break;case"end":f[o]+=h*(r&&u?-1:1);break}return f}const Gne=async(t,e,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:a}),{x:A,y:d}=Y4(u,n,c),h=n,f={},p=0;for(let g=0;g<l.length;g++){const{name:m,fn:b}=l[g],{x:y,y:w,data:x,reset:C}=await b({x:A,y:d,initialPlacement:n,placement:h,strategy:a,middlewareData:f,rects:u,platform:o,elements:{reference:t,floating:e}});A=y??A,d=w??d,f={...f,[m]:{...f[m],...x}},C&&p<=50&&(p++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:a}):C.rects),{x:A,y:d}=Y4(u,h,c)),g=-1)}return{x:A,y:d,placement:h,strategy:a,middlewareData:f}};async function rm(t,e){var r;e===void 0&&(e={});const{x:n,y:a,platform:s,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:A="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=ro(e,t),p=p$(f),m=l[h?d==="floating"?"reference":"floating":d],b=sv(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(m)))==null||r?m:m.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:A,strategy:c})),y=d==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),x=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},C=sv(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(b.top-C.top+p.top)/x.y,bottom:(C.bottom-b.bottom+p.bottom)/x.y,left:(b.left-C.left+p.left)/x.x,right:(C.right-b.right+p.right)/x.x}}const Wne=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:a,rects:s,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:A=0}=ro(t,e)||{};if(u==null)return{};const d=p$(A),h={x:r,y:n},f=Ok(a),p=Dk(f),g=await o.getDimensions(u),m=f==="y",b=m?"top":"left",y=m?"bottom":"right",w=m?"clientHeight":"clientWidth",x=s.reference[p]+s.reference[f]-h[f]-s.floating[p],C=h[f]-s.reference[f],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let B=E?E[w]:0;(!B||!await(o.isElement==null?void 0:o.isElement(E)))&&(B=l.floating[w]||s.floating[p]);const j=x/2-C/2,N=B/2-g[p]/2-1,S=yl(d[b],N),k=yl(d[y],N),I=S,T=B-g[p]-k,O=B/2-g[p]/2+j,U=aS(I,O,T),H=!c.arrow&&zd(a)!=null&&O!==U&&s.reference[p]/2-(O<I?S:k)-g[p]/2<0,R=H?O<I?O-I:O-T:0;return{[f]:h[f]+R,data:{[f]:U,centerOffset:O-U-R,...H&&{alignmentOffset:R}},reset:H}}}),Xne=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:a,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:A=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...m}=ro(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const b=no(a),y=wl(l),w=no(l)===l,x=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=h||(w||!g?[av(l)]:Vne(l)),E=p!=="none";!h&&E&&C.push(...qne(l,g,p,x));const B=[l,...C],j=await rm(e,m),N=[];let S=((n=s.flip)==null?void 0:n.overflows)||[];if(A&&N.push(j[b]),d){const O=$ne(a,o,x);N.push(j[O[0]],j[O[1]])}if(S=[...S,{placement:a,overflows:N}],!N.every(O=>O<=0)){var k,I;const O=(((k=s.flip)==null?void 0:k.index)||0)+1,U=B[O];if(U)return{data:{index:O,overflows:S},reset:{placement:U}};let H=(I=S.filter(R=>R.overflows[0]<=0).sort((R,D)=>R.overflows[1]-D.overflows[1])[0])==null?void 0:I.placement;if(!H)switch(f){case"bestFit":{var T;const R=(T=S.filter(D=>{if(E){const M=wl(D.placement);return M===y||M==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(M=>M>0).reduce((M,Q)=>M+Q,0)]).sort((D,M)=>D[1]-M[1])[0])==null?void 0:T[0];R&&(H=R);break}case"initialPlacement":H=l;break}if(a!==H)return{reset:{placement:H}}}return{}}}};function J4(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Z4(t){return Qne.some(e=>t[e]>=0)}const Yne=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...a}=ro(t,e);switch(n){case"referenceHidden":{const s=await rm(e,{...a,elementContext:"reference"}),o=J4(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Z4(o)}}}case"escaped":{const s=await rm(e,{...a,altBoundary:!0}),o=J4(s,r.floating);return{data:{escapedOffsets:o,escaped:Z4(o)}}}default:return{}}}}};async function Jne(t,e){const{placement:r,platform:n,elements:a}=t,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=no(r),l=zd(r),c=wl(r)==="y",u=["left","top"].includes(o)?-1:1,A=s&&c?-1:1,d=ro(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof p=="number"&&(f=l==="end"?p*-1:p),c?{x:f*A,y:h*u}:{x:h*u,y:f*A}}const Zne=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:a,y:s,placement:o,middlewareData:l}=e,c=await Jne(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:o}}}}},eae=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:a}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:m=>{let{x:b,y}=m;return{x:b,y}}},...c}=ro(t,e),u={x:r,y:n},A=await rm(e,c),d=wl(no(a)),h=Fk(d);let f=u[h],p=u[d];if(s){const m=h==="y"?"top":"left",b=h==="y"?"bottom":"right",y=f+A[m],w=f-A[b];f=aS(y,f,w)}if(o){const m=d==="y"?"top":"left",b=d==="y"?"bottom":"right",y=p+A[m],w=p-A[b];p=aS(y,p,w)}const g=l.fn({...e,[h]:f,[d]:p});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:s,[d]:o}}}}}},tae=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:a,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ro(t,e),A={x:r,y:n},d=wl(a),h=Fk(d);let f=A[h],p=A[d];const g=ro(l,e),m=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=h==="y"?"height":"width",x=s.reference[h]-s.floating[w]+m.mainAxis,C=s.reference[h]+s.reference[w]-m.mainAxis;f<x?f=x:f>C&&(f=C)}if(u){var b,y;const w=h==="y"?"width":"height",x=["top","left"].includes(no(a)),C=s.reference[d]-s.floating[w]+(x&&((b=o.offset)==null?void 0:b[d])||0)+(x?0:m.crossAxis),E=s.reference[d]+s.reference[w]+(x?0:((y=o.offset)==null?void 0:y[d])||0)-(x?m.crossAxis:0);p<C?p=C:p>E&&(p=E)}return{[h]:f,[d]:p}}}},rae=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:a,rects:s,platform:o,elements:l}=e,{apply:c=()=>{},...u}=ro(t,e),A=await rm(e,u),d=no(a),h=zd(a),f=wl(a)==="y",{width:p,height:g}=s.floating;let m,b;d==="top"||d==="bottom"?(m=d,b=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=d,m=h==="end"?"top":"bottom");const y=g-A.top-A.bottom,w=p-A.left-A.right,x=yl(g-A[m],y),C=yl(p-A[b],w),E=!e.middlewareData.shift;let B=x,j=C;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(j=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(B=y),E&&!h){const S=Ua(A.left,0),k=Ua(A.right,0),I=Ua(A.top,0),T=Ua(A.bottom,0);f?j=p-2*(S!==0||k!==0?S+k:Ua(A.left,A.right)):B=g-2*(I!==0||T!==0?I+T:Ua(A.top,A.bottom))}await c({...e,availableWidth:j,availableHeight:B});const N=await o.getDimensions(l.floating);return p!==N.width||g!==N.height?{reset:{rects:!0}}:{}}}};function hb(){return typeof window<"u"}function Gd(t){return g$(t)?(t.nodeName||"").toLowerCase():"#document"}function Va(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function _i(t){var e;return(e=(g$(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function g$(t){return hb()?t instanceof Node||t instanceof Va(t).Node:!1}function Ms(t){return hb()?t instanceof Element||t instanceof Va(t).Element:!1}function mi(t){return hb()?t instanceof HTMLElement||t instanceof Va(t).HTMLElement:!1}function eF(t){return!hb()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Va(t).ShadowRoot}function Dp(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=Qs(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(a)}function nae(t){return["table","td","th"].includes(Gd(t))}function fb(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Rk(t){const e=Uk(),r=Ms(t)?Qs(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function aae(t){let e=_l(t);for(;mi(e)&&!JA(e);){if(Rk(e))return e;if(fb(e))return null;e=_l(e)}return null}function Uk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function JA(t){return["html","body","#document"].includes(Gd(t))}function Qs(t){return Va(t).getComputedStyle(t)}function mb(t){return Ms(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function _l(t){if(Gd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||eF(t)&&t.host||_i(t);return eF(e)?e.host:e}function x$(t){const e=_l(t);return JA(e)?t.ownerDocument?t.ownerDocument.body:t.body:mi(e)&&Dp(e)?e:x$(e)}function nm(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=x$(t),s=a===((n=t.ownerDocument)==null?void 0:n.body),o=Va(a);if(s){const l=iS(o);return e.concat(o,o.visualViewport||[],Dp(a)?a:[],l&&r?nm(l):[])}return e.concat(a,nm(a,[],r))}function iS(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function v$(t){const e=Qs(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=mi(t),s=a?t.offsetWidth:r,o=a?t.offsetHeight:n,l=nv(r)!==s||nv(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function Mk(t){return Ms(t)?t:t.contextElement}function BA(t){const e=Mk(t);if(!mi(e))return bl(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:s}=v$(e);let o=(s?nv(r.width):r.width)/n,l=(s?nv(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const sae=bl(0);function y$(t){const e=Va(t);return!Uk()||!e.visualViewport?sae:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function iae(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Va(t)?!1:e}function Yc(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),s=Mk(t);let o=bl(1);e&&(n?Ms(n)&&(o=BA(n)):o=BA(t));const l=iae(s,r,n)?y$(s):bl(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,A=a.width/o.x,d=a.height/o.y;if(s){const h=Va(s),f=n&&Ms(n)?Va(n):n;let p=h,g=iS(p);for(;g&&n&&f!==p;){const m=BA(g),b=g.getBoundingClientRect(),y=Qs(g),w=b.left+(g.clientLeft+parseFloat(y.paddingLeft))*m.x,x=b.top+(g.clientTop+parseFloat(y.paddingTop))*m.y;c*=m.x,u*=m.y,A*=m.x,d*=m.y,c+=w,u+=x,p=Va(g),g=iS(p)}}return sv({width:A,height:d,x:c,y:u})}function oae(t){let{elements:e,rect:r,offsetParent:n,strategy:a}=t;const s=a==="fixed",o=_i(n),l=e?fb(e.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=bl(1);const A=bl(0),d=mi(n);if((d||!d&&!s)&&((Gd(n)!=="body"||Dp(o))&&(c=mb(n)),mi(n))){const h=Yc(n);u=BA(n),A.x=h.x+n.clientLeft,A.y=h.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+A.x,y:r.y*u.y-c.scrollTop*u.y+A.y}}function lae(t){return Array.from(t.getClientRects())}function oS(t,e){const r=mb(t).scrollLeft;return e?e.left+r:Yc(_i(t)).left+r}function cae(t){const e=_i(t),r=mb(t),n=t.ownerDocument.body,a=Ua(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Ua(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+oS(t);const l=-r.scrollTop;return Qs(n).direction==="rtl"&&(o+=Ua(e.clientWidth,n.clientWidth)-a),{width:a,height:s,x:o,y:l}}function uae(t,e){const r=Va(t),n=_i(t),a=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){s=a.width,o=a.height;const u=Uk();(!u||u&&e==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:s,height:o,x:l,y:c}}function Aae(t,e){const r=Yc(t,!0,e==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,s=mi(t)?BA(t):bl(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:o,height:l,x:c,y:u}}function tF(t,e,r){let n;if(e==="viewport")n=uae(t,r);else if(e==="document")n=cae(_i(t));else if(Ms(e))n=Aae(e,r);else{const a=y$(t);n={...e,x:e.x-a.x,y:e.y-a.y}}return sv(n)}function b$(t,e){const r=_l(t);return r===e||!Ms(r)||JA(r)?!1:Qs(r).position==="fixed"||b$(r,e)}function dae(t,e){const r=e.get(t);if(r)return r;let n=nm(t,[],!1).filter(l=>Ms(l)&&Gd(l)!=="body"),a=null;const s=Qs(t).position==="fixed";let o=s?_l(t):t;for(;Ms(o)&&!JA(o);){const l=Qs(o),c=Rk(o);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Dp(o)&&!c&&b$(t,o))?n=n.filter(A=>A!==o):a=l,o=_l(o)}return e.set(t,n),n}function hae(t){let{element:e,boundary:r,rootBoundary:n,strategy:a}=t;const o=[...r==="clippingAncestors"?fb(e)?[]:dae(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,A)=>{const d=tF(e,A,a);return u.top=Ua(d.top,u.top),u.right=yl(d.right,u.right),u.bottom=yl(d.bottom,u.bottom),u.left=Ua(d.left,u.left),u},tF(e,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function fae(t){const{width:e,height:r}=v$(t);return{width:e,height:r}}function mae(t,e,r){const n=mi(e),a=_i(e),s=r==="fixed",o=Yc(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=bl(0);if(n||!n&&!s)if((Gd(e)!=="body"||Dp(a))&&(l=mb(e)),n){const f=Yc(e,!0,s,e);c.x=f.x+e.clientLeft,c.y=f.y+e.clientTop}else a&&(c.x=oS(a));let u=0,A=0;if(a&&!n&&!s){const f=a.getBoundingClientRect();A=f.top+l.scrollTop,u=f.left+l.scrollLeft-oS(a,f)}const d=o.left+l.scrollLeft-c.x-u,h=o.top+l.scrollTop-c.y-A;return{x:d,y:h,width:o.width,height:o.height}}function x1(t){return Qs(t).position==="static"}function rF(t,e){if(!mi(t)||Qs(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return _i(t)===r&&(r=r.ownerDocument.body),r}function w$(t,e){const r=Va(t);if(fb(t))return r;if(!mi(t)){let a=_l(t);for(;a&&!JA(a);){if(Ms(a)&&!x1(a))return a;a=_l(a)}return r}let n=rF(t,e);for(;n&&nae(n)&&x1(n);)n=rF(n,e);return n&&JA(n)&&x1(n)&&!Rk(n)?r:n||aae(t)||r}const pae=async function(t){const e=this.getOffsetParent||w$,r=this.getDimensions,n=await r(t.floating);return{reference:mae(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function gae(t){return Qs(t).direction==="rtl"}const xae={convertOffsetParentRelativeRectToViewportRelativeRect:oae,getDocumentElement:_i,getClippingRect:hae,getOffsetParent:w$,getElementRects:pae,getClientRects:lae,getDimensions:fae,getScale:BA,isElement:Ms,isRTL:gae};function vae(t,e){let r=null,n;const a=_i(t);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const{left:u,top:A,width:d,height:h}=t.getBoundingClientRect();if(l||e(),!d||!h)return;const f=Hg(A),p=Hg(a.clientWidth-(u+d)),g=Hg(a.clientHeight-(A+h)),m=Hg(u),y={rootMargin:-f+"px "+-p+"px "+-g+"px "+-m+"px",threshold:Ua(0,yl(1,c))||1};let w=!0;function x(C){const E=C[0].intersectionRatio;if(E!==c){if(!w)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(x,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(x,y)}r.observe(t)}return o(!0),s}function yae(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Mk(t),A=a||s?[...u?nm(u):[],...nm(e)]:[];A.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),s&&b.addEventListener("resize",r)});const d=u&&l?vae(u,r):null;let h=-1,f=null;o&&(f=new ResizeObserver(b=>{let[y]=b;y&&y.target===u&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(e)})),r()}),u&&!c&&f.observe(u),f.observe(e));let p,g=c?Yc(t):null;c&&m();function m(){const b=Yc(t);g&&(b.x!==g.x||b.y!==g.y||b.width!==g.width||b.height!==g.height)&&r(),g=b,p=requestAnimationFrame(m)}return r(),()=>{var b;A.forEach(y=>{a&&y.removeEventListener("scroll",r),s&&y.removeEventListener("resize",r)}),d==null||d(),(b=f)==null||b.disconnect(),f=null,c&&cancelAnimationFrame(p)}}const bae=Zne,wae=eae,_ae=Xne,Bae=rae,Cae=Yne,nF=Wne,jae=tae,Eae=(t,e,r)=>{const n=new Map,a={platform:xae,...r},s={...a.platform,_c:n};return Gne(t,e,{...a,platform:s})};var X0=typeof document<"u"?v.useLayoutEffect:v.useEffect;function iv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!iv(t[n],e[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&t.$$typeof)&&!iv(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function _$(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function aF(t,e){const r=_$(t);return Math.round(e*r)/r}function v1(t){const e=v.useRef(t);return X0(()=>{e.current=t}),e}function Sae(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[A,d]=v.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,f]=v.useState(n);iv(h,n)||f(n);const[p,g]=v.useState(null),[m,b]=v.useState(null),y=v.useCallback(D=>{D!==E.current&&(E.current=D,g(D))},[]),w=v.useCallback(D=>{D!==B.current&&(B.current=D,b(D))},[]),x=s||p,C=o||m,E=v.useRef(null),B=v.useRef(null),j=v.useRef(A),N=c!=null,S=v1(c),k=v1(a),I=v1(u),T=v.useCallback(()=>{if(!E.current||!B.current)return;const D={placement:e,strategy:r,middleware:h};k.current&&(D.platform=k.current),Eae(E.current,B.current,D).then(M=>{const Q={...M,isPositioned:I.current!==!1};O.current&&!iv(j.current,Q)&&(j.current=Q,Hd.flushSync(()=>{d(Q)}))})},[h,e,r,k,I]);X0(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,d(D=>({...D,isPositioned:!1})))},[u]);const O=v.useRef(!1);X0(()=>(O.current=!0,()=>{O.current=!1}),[]),X0(()=>{if(x&&(E.current=x),C&&(B.current=C),x&&C){if(S.current)return S.current(x,C,T);T()}},[x,C,T,S,N]);const U=v.useMemo(()=>({reference:E,floating:B,setReference:y,setFloating:w}),[y,w]),H=v.useMemo(()=>({reference:x,floating:C}),[x,C]),R=v.useMemo(()=>{const D={position:r,left:0,top:0};if(!H.floating)return D;const M=aF(H.floating,A.x),Q=aF(H.floating,A.y);return l?{...D,transform:"translate("+M+"px, "+Q+"px)",..._$(H.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:Q}},[r,l,H.floating,A.x,A.y]);return v.useMemo(()=>({...A,update:T,refs:U,elements:H,floatingStyles:R}),[A,T,U,H,R])}const Nae=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?nF({element:n.current,padding:a}).fn(r):{}:n?nF({element:n,padding:a}).fn(r):{}}}},kae=(t,e)=>({...bae(t),options:[t,e]}),Tae=(t,e)=>({...wae(t),options:[t,e]}),Iae=(t,e)=>({...jae(t),options:[t,e]}),Pae=(t,e)=>({..._ae(t),options:[t,e]}),Fae=(t,e)=>({...Bae(t),options:[t,e]}),Dae=(t,e)=>({...Cae(t),options:[t,e]}),Oae=(t,e)=>({...Nae(t),options:[t,e]});var Rae="Arrow",B$=v.forwardRef((t,e)=>{const{children:r,width:n=10,height:a=5,...s}=t;return i.jsx(et.svg,{...s,ref:e,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});B$.displayName=Rae;var Uae=B$;function Mae(t,e=[]){let r=[];function n(s,o){const l=v.createContext(o),c=r.length;r=[...r,o];function u(d){const{scope:h,children:f,...p}=d,g=(h==null?void 0:h[t][c])||l,m=v.useMemo(()=>p,Object.values(p));return i.jsx(g.Provider,{value:m,children:f})}function A(d,h){const f=(h==null?void 0:h[t][c])||l,p=v.useContext(f);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,A]}const a=()=>{const s=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[n,Qae(a,...e)]}function Qae(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...l,...d}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function Op(t){const[e,r]=v.useState(void 0);return on(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var Qk="Popper",[C$,Wd]=Mae(Qk),[Lae,j$]=C$(Qk),E$=t=>{const{__scopePopper:e,children:r}=t,[n,a]=v.useState(null);return i.jsx(Lae,{scope:e,anchor:n,onAnchorChange:a,children:r})};E$.displayName=Qk;var S$="PopperAnchor",N$=v.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...a}=t,s=j$(S$,r),o=v.useRef(null),l=bt(e,o);return v.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(et.div,{...a,ref:l})});N$.displayName=S$;var Lk="PopperContent",[Hae,$ae]=C$(Lk),k$=v.forwardRef((t,e)=>{var le,ne,ce,Ae,ve,Y;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:A=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:p,...g}=t,m=j$(Lk,r),[b,y]=v.useState(null),w=bt(e,pe=>y(pe)),[x,C]=v.useState(null),E=Op(x),B=(E==null?void 0:E.width)??0,j=(E==null?void 0:E.height)??0,N=n+(s!=="center"?"-"+s:""),S=typeof A=="number"?A:{top:0,right:0,bottom:0,left:0,...A},k=Array.isArray(u)?u:[u],I=k.length>0,T={padding:S,boundary:k.filter(Kae),altBoundary:I},{refs:O,floatingStyles:U,placement:H,isPositioned:R,middlewareData:D}=Sae({strategy:"fixed",placement:N,whileElementsMounted:(...pe)=>yae(...pe,{animationFrame:f==="always"}),elements:{reference:m.anchor},middleware:[kae({mainAxis:a+j,alignmentAxis:o}),c&&Tae({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?Iae():void 0,...T}),c&&Pae({...T}),Fae({...T,apply:({elements:pe,rects:Ee,availableWidth:Re,availableHeight:$e})=>{const{width:wt,height:X}=Ee.reference,ee=pe.floating.style;ee.setProperty("--radix-popper-available-width",`${Re}px`),ee.setProperty("--radix-popper-available-height",`${$e}px`),ee.setProperty("--radix-popper-anchor-width",`${wt}px`),ee.setProperty("--radix-popper-anchor-height",`${X}px`)}}),x&&Oae({element:x,padding:l}),qae({arrowWidth:B,arrowHeight:j}),h&&Dae({strategy:"referenceHidden",...T})]}),[M,Q]=P$(H),L=Qr(p);on(()=>{R&&(L==null||L())},[R,L]);const K=(le=D.arrow)==null?void 0:le.x,G=(ne=D.arrow)==null?void 0:ne.y,q=((ce=D.arrow)==null?void 0:ce.centerOffset)!==0,[W,re]=v.useState();return on(()=>{b&&re(window.getComputedStyle(b).zIndex)},[b]),i.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:R?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[(Ae=D.transformOrigin)==null?void 0:Ae.x,(ve=D.transformOrigin)==null?void 0:ve.y].join(" "),...((Y=D.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:i.jsx(Hae,{scope:r,placedSide:M,onArrowChange:C,arrowX:K,arrowY:G,shouldHideArrow:q,children:i.jsx(et.div,{"data-side":M,"data-align":Q,...g,ref:w,style:{...g.style,animation:R?void 0:"none"}})})})});k$.displayName=Lk;var T$="PopperArrow",Vae={top:"bottom",right:"left",bottom:"top",left:"right"},I$=v.forwardRef(function(e,r){const{__scopePopper:n,...a}=e,s=$ae(T$,n),o=Vae[s.placedSide];return i.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:i.jsx(Uae,{...a,ref:r,style:{...a.style,display:"block"}})})});I$.displayName=T$;function Kae(t){return t!==null}var qae=t=>({name:"transformOrigin",options:t,fn(e){var m,b,y;const{placement:r,rects:n,middlewareData:a}=e,o=((m=a.arrow)==null?void 0:m.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,A]=P$(r),d={start:"0%",center:"50%",end:"100%"}[A],h=(((b=a.arrow)==null?void 0:b.x)??0)+l/2,f=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let p="",g="";return u==="bottom"?(p=o?d:`${h}px`,g=`${-c}px`):u==="top"?(p=o?d:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(p=`${-c}px`,g=o?d:`${f}px`):u==="left"&&(p=`${n.floating.width+c}px`,g=o?d:`${f}px`),{data:{x:p,y:g}}}});function P$(t){const[e,r="center"]=t.split("-");return[e,r]}var Hk=E$,pb=N$,$k=k$,Vk=I$,[gb,ULe]=Ea("Tooltip",[Wd]),xb=Wd(),F$="TooltipProvider",zae=700,lS="tooltip.open",[Gae,Kk]=gb(F$),D$=t=>{const{__scopeTooltip:e,delayDuration:r=zae,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:s}=t,[o,l]=v.useState(!0),c=v.useRef(!1),u=v.useRef(0);return v.useEffect(()=>{const A=u.current;return()=>window.clearTimeout(A)},[]),i.jsx(Gae,{scope:e,isOpenDelayed:o,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:v.useCallback(A=>{c.current=A},[]),disableHoverableContent:a,children:s})};D$.displayName=F$;var vb="Tooltip",[Wae,yb]=gb(vb),O$=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:a=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=t,c=Kk(vb,t.__scopeTooltip),u=xb(e),[A,d]=v.useState(null),h=ci(),f=v.useRef(0),p=o??c.disableHoverableContent,g=l??c.delayDuration,m=v.useRef(!1),[b=!1,y]=As({prop:n,defaultProp:a,onChange:B=>{B?(c.onOpen(),document.dispatchEvent(new CustomEvent(lS))):c.onClose(),s==null||s(B)}}),w=v.useMemo(()=>b?m.current?"delayed-open":"instant-open":"closed",[b]),x=v.useCallback(()=>{window.clearTimeout(f.current),f.current=0,m.current=!1,y(!0)},[y]),C=v.useCallback(()=>{window.clearTimeout(f.current),f.current=0,y(!1)},[y]),E=v.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{m.current=!0,y(!0),f.current=0},g)},[g,y]);return v.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),i.jsx(Hk,{...u,children:i.jsx(Wae,{scope:e,contentId:h,open:b,stateAttribute:w,trigger:A,onTriggerChange:d,onTriggerEnter:v.useCallback(()=>{c.isOpenDelayed?E():x()},[c.isOpenDelayed,E,x]),onTriggerLeave:v.useCallback(()=>{p?C():(window.clearTimeout(f.current),f.current=0)},[C,p]),onOpen:x,onClose:C,disableHoverableContent:p,children:r})})};O$.displayName=vb;var cS="TooltipTrigger",R$=v.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=yb(cS,r),s=Kk(cS,r),o=xb(r),l=v.useRef(null),c=bt(e,l,a.onTriggerChange),u=v.useRef(!1),A=v.useRef(!1),d=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),i.jsx(pb,{asChild:!0,...o,children:i.jsx(et.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Oe(t.onPointerMove,h=>{h.pointerType!=="touch"&&!A.current&&!s.isPointerInTransitRef.current&&(a.onTriggerEnter(),A.current=!0)}),onPointerLeave:Oe(t.onPointerLeave,()=>{a.onTriggerLeave(),A.current=!1}),onPointerDown:Oe(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Oe(t.onFocus,()=>{u.current||a.onOpen()}),onBlur:Oe(t.onBlur,a.onClose),onClick:Oe(t.onClick,a.onClose)})})});R$.displayName=cS;var Xae="TooltipPortal",[MLe,Yae]=gb(Xae,{forceMount:void 0}),ZA="TooltipContent",U$=v.forwardRef((t,e)=>{const r=Yae(ZA,t.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...s}=t,o=yb(ZA,t.__scopeTooltip);return i.jsx(fa,{present:n||o.open,children:o.disableHoverableContent?i.jsx(M$,{side:a,...s,ref:e}):i.jsx(Jae,{side:a,...s,ref:e})})}),Jae=v.forwardRef((t,e)=>{const r=yb(ZA,t.__scopeTooltip),n=Kk(ZA,t.__scopeTooltip),a=v.useRef(null),s=bt(e,a),[o,l]=v.useState(null),{trigger:c,onClose:u}=r,A=a.current,{onPointerInTransitChange:d}=n,h=v.useCallback(()=>{l(null),d(!1)},[d]),f=v.useCallback((p,g)=>{const m=p.currentTarget,b={x:p.clientX,y:p.clientY},y=rse(b,m.getBoundingClientRect()),w=nse(b,y),x=ase(g.getBoundingClientRect()),C=ise([...w,...x]);l(C),d(!0)},[d]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(c&&A){const p=m=>f(m,A),g=m=>f(m,c);return c.addEventListener("pointerleave",p),A.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",p),A.removeEventListener("pointerleave",g)}}},[c,A,f,h]),v.useEffect(()=>{if(o){const p=g=>{const m=g.target,b={x:g.clientX,y:g.clientY},y=(c==null?void 0:c.contains(m))||(A==null?void 0:A.contains(m)),w=!sse(b,o);y?h():w&&(h(),u())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[c,A,o,u,h]),i.jsx(M$,{...t,ref:s})}),[Zae,ese]=gb(vb,{isInside:!1}),M$=v.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=t,c=yb(ZA,r),u=xb(r),{onClose:A}=c;return v.useEffect(()=>(document.addEventListener(lS,A),()=>document.removeEventListener(lS,A)),[A]),v.useEffect(()=>{if(c.trigger){const d=h=>{const f=h.target;f!=null&&f.contains(c.trigger)&&A()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,A]),i.jsx($d,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:A,children:i.jsxs($k,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(yk,{children:n}),i.jsx(Zae,{scope:r,isInside:!0,children:i.jsx(pte,{id:c.contentId,role:"tooltip",children:a||n})})]})})});U$.displayName=ZA;var Q$="TooltipArrow",tse=v.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=xb(r);return ese(Q$,r).isInside?null:i.jsx(Vk,{...a,...n,ref:e})});tse.displayName=Q$;function rse(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),a=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,a,s)){case s:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function nse(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function ase(t){const{top:e,right:r,bottom:n,left:a}=t;return[{x:a,y:e},{x:r,y:e},{x:r,y:n},{x:a,y:n}]}function sse(t,e){const{x:r,y:n}=t;let a=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s].x,c=e[s].y,u=e[o].x,A=e[o].y;c>n!=A>n&&r<(u-l)*(n-c)/(A-c)+l&&(a=!a)}return a}function ise(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),ose(e)}function ose(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const a=t[n];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))e.pop();else break}e.push(a)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const a=t[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var lse=D$,cse=O$,use=R$,L$=U$;const H$=lse,Ase=cse,dse=use,$$=v.forwardRef(({className:t,sideOffset:e=4,...r},n)=>i.jsx(L$,{ref:n,sideOffset:e,className:fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));$$.displayName=L$.displayName;var Rp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Jc=typeof window>"u"||"Deno"in globalThis;function Za(){}function hse(t,e){return typeof t=="function"?t(e):t}function uS(t){return typeof t=="number"&&t>=0&&t!==1/0}function V$(t,e){return Math.max(t+(e||0)-Date.now(),0)}function CA(t,e){return typeof t=="function"?t(e):t}function Es(t,e){return typeof t=="function"?t(e):t}function sF(t,e){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==qk(o,e.options))return!1}else if(!sm(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||a&&a!==e.state.fetchStatus||s&&!s(e))}function iF(t,e){const{exact:r,status:n,predicate:a,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(am(e.options.mutationKey)!==am(s))return!1}else if(!sm(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||a&&!a(e))}function qk(t,e){return((e==null?void 0:e.queryKeyHashFn)||am)(t)}function am(t){return JSON.stringify(t,(e,r)=>dS(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function sm(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!sm(t[r],e[r])):!1}function K$(t,e){if(t===e)return t;const r=oF(t)&&oF(e);if(r||dS(t)&&dS(e)){const n=r?t:Object.keys(t),a=n.length,s=r?e:Object.keys(e),o=s.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const A=r?u:s[u];(!r&&n.includes(A)||r)&&t[A]===void 0&&e[A]===void 0?(l[A]=void 0,c++):(l[A]=K$(t[A],e[A]),l[A]===t[A]&&t[A]!==void 0&&c++)}return a===o&&c===a?t:l}return e}function AS(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function oF(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function dS(t){if(!lF(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!lF(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function lF(t){return Object.prototype.toString.call(t)==="[object Object]"}function fse(t){return new Promise(e=>{setTimeout(e,t)})}function hS(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?K$(t,e):e}function mse(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function pse(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var zk=Symbol();function q$(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===zk?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Oc,Go,RA,lH,gse=(lH=class extends Rp{constructor(){super();xt(this,Oc);xt(this,Go);xt(this,RA);Je(this,RA,e=>{if(!Jc&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){te(this,Go)||this.setEventListener(te(this,RA))}onUnsubscribe(){var e;this.hasListeners()||((e=te(this,Go))==null||e.call(this),Je(this,Go,void 0))}setEventListener(e){var r;Je(this,RA,e),(r=te(this,Go))==null||r.call(this),Je(this,Go,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){te(this,Oc)!==e&&(Je(this,Oc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof te(this,Oc)=="boolean"?te(this,Oc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Oc=new WeakMap,Go=new WeakMap,RA=new WeakMap,lH),Gk=new gse,UA,Wo,MA,cH,xse=(cH=class extends Rp{constructor(){super();xt(this,UA,!0);xt(this,Wo);xt(this,MA);Je(this,MA,e=>{if(!Jc&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){te(this,Wo)||this.setEventListener(te(this,MA))}onUnsubscribe(){var e;this.hasListeners()||((e=te(this,Wo))==null||e.call(this),Je(this,Wo,void 0))}setEventListener(e){var r;Je(this,MA,e),(r=te(this,Wo))==null||r.call(this),Je(this,Wo,e(this.setOnline.bind(this)))}setOnline(e){te(this,UA)!==e&&(Je(this,UA,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return te(this,UA)}},UA=new WeakMap,Wo=new WeakMap,MA=new WeakMap,cH),ov=new xse;function fS(){let t,e;const r=new Promise((a,s)=>{t=a,e=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),t(a)},r.reject=a=>{n({status:"rejected",reason:a}),e(a)},r}function vse(t){return Math.min(1e3*2**t,3e4)}function z$(t){return(t??"online")==="online"?ov.isOnline():!0}var G$=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function y1(t){return t instanceof G$}function W$(t){let e=!1,r=0,n=!1,a;const s=fS(),o=g=>{var m;n||(h(new G$(g)),(m=t.abort)==null||m.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>Gk.isFocused()&&(t.networkMode==="always"||ov.isOnline())&&t.canRun(),A=()=>z$(t.networkMode)&&t.canRun(),d=g=>{var m;n||(n=!0,(m=t.onSuccess)==null||m.call(t,g),a==null||a(),s.resolve(g))},h=g=>{var m;n||(n=!0,(m=t.onError)==null||m.call(t,g),a==null||a(),s.reject(g))},f=()=>new Promise(g=>{var m;a=b=>{(n||u())&&g(b)},(m=t.onPause)==null||m.call(t)}).then(()=>{var g;a=void 0,n||(g=t.onContinue)==null||g.call(t)}),p=()=>{if(n)return;let g;const m=r===0?t.initialPromise:void 0;try{g=m??t.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(d).catch(b=>{var E;if(n)return;const y=t.retry??(Jc?0:3),w=t.retryDelay??vse,x=typeof w=="function"?w(r,b):w,C=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,b);if(e||!C){h(b);return}r++,(E=t.onFail)==null||E.call(t,r,b),fse(x).then(()=>u()?void 0:f()).then(()=>{e?h(b):p()})})};return{promise:s,cancel:o,continue:()=>(a==null||a(),s),cancelRetry:l,continueRetry:c,canStart:A,start:()=>(A()?p():f().then(p),s)}}function yse(){let t=[],e=0,r=l=>{l()},n=l=>{l()},a=l=>setTimeout(l,0);const s=l=>{e?t.push(l):a(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var kn=yse(),Rc,uH,X$=(uH=class{constructor(){xt(this,Rc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),uS(this.gcTime)&&Je(this,Rc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Jc?1/0:5*60*1e3))}clearGcTimeout(){te(this,Rc)&&(clearTimeout(te(this,Rc)),Je(this,Rc,void 0))}},Rc=new WeakMap,uH),QA,LA,Ja,Ln,Ep,Uc,bs,Ri,AH,bse=(AH=class extends X${constructor(r){super();xt(this,bs);xt(this,QA);xt(this,LA);xt(this,Ja);xt(this,Ln);xt(this,Ep);xt(this,Uc);Je(this,Uc,!1),Je(this,Ep,r.defaultOptions),this.setOptions(r.options),this.observers=[],Je(this,Ja,r.cache),this.queryKey=r.queryKey,this.queryHash=r.queryHash,Je(this,QA,wse(this.options)),this.state=r.state??te(this,QA),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=te(this,Ln))==null?void 0:r.promise}setOptions(r){this.options={...te(this,Ep),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&te(this,Ja).remove(this)}setData(r,n){const a=hS(this.state.data,r,this.options);return Ut(this,bs,Ri).call(this,{data:a,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),a}setState(r,n){Ut(this,bs,Ri).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var a,s;const n=(a=te(this,Ln))==null?void 0:a.promise;return(s=te(this,Ln))==null||s.cancel(r),n?n.then(Za).catch(Za):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(te(this,QA))}isActive(){return this.observers.some(r=>Es(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(r=0){return this.state.isInvalidated||this.state.data===void 0||!V$(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(a=>a.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=te(this,Ln))==null||n.continue()}onOnline(){var n;const r=this.observers.find(a=>a.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=te(this,Ln))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),te(this,Ja).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(te(this,Ln)&&(te(this,Uc)?te(this,Ln).cancel({revert:!0}):te(this,Ln).cancelRetry()),this.scheduleGc()),te(this,Ja).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ut(this,bs,Ri).call(this,{type:"invalidate"})}fetch(r,n){var u,A,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(te(this,Ln))return te(this,Ln).continueRetry(),te(this,Ln).promise}if(r&&this.setOptions(r),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const a=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Je(this,Uc,!0),a.signal)})},o=()=>{const h=q$(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return s(f),Je(this,Uc,!1),this.options.persister?this.options.persister(h,f,this):h(f)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(l),(u=this.options.behavior)==null||u.onFetch(l,this),Je(this,LA,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((A=l.fetchOptions)==null?void 0:A.meta))&&Ut(this,bs,Ri).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta});const c=h=>{var f,p,g,m;y1(h)&&h.silent||Ut(this,bs,Ri).call(this,{type:"error",error:h}),y1(h)||((p=(f=te(this,Ja).config).onError)==null||p.call(f,h,this),(m=(g=te(this,Ja).config).onSettled)==null||m.call(g,this.state.data,h,this)),this.scheduleGc()};return Je(this,Ln,W$({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:a.abort.bind(a),onSuccess:h=>{var f,p,g,m;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){c(b);return}(p=(f=te(this,Ja).config).onSuccess)==null||p.call(f,h,this),(m=(g=te(this,Ja).config).onSettled)==null||m.call(g,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,f)=>{Ut(this,bs,Ri).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{Ut(this,bs,Ri).call(this,{type:"pause"})},onContinue:()=>{Ut(this,bs,Ri).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),te(this,Ln).start()}},QA=new WeakMap,LA=new WeakMap,Ja=new WeakMap,Ln=new WeakMap,Ep=new WeakMap,Uc=new WeakMap,bs=new WeakSet,Ri=function(r){const n=a=>{switch(r.type){case"failed":return{...a,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...Y$(a.data,this.options),fetchMeta:r.meta??null};case"success":return{...a,data:r.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=r.error;return y1(s)&&s.revert&&te(this,LA)?{...te(this,LA),fetchStatus:"idle"}:{...a,error:s,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...r.state}}};this.state=n(this.state),kn.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),te(this,Ja).notify({query:this,type:"updated",action:r})})},AH);function Y$(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:z$(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function wse(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Js,dH,_se=(dH=class extends Rp{constructor(e={}){super();xt(this,Js);this.config=e,Je(this,Js,new Map)}build(e,r,n){const a=r.queryKey,s=r.queryHash??qk(a,r);let o=this.get(s);return o||(o=new bse({cache:this,queryKey:a,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(a)}),this.add(o)),o}add(e){te(this,Js).has(e.queryHash)||(te(this,Js).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=te(this,Js).get(e.queryHash);r&&(e.destroy(),r===e&&te(this,Js).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){kn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return te(this,Js).get(e)}getAll(){return[...te(this,Js).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>sF(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>sF(e,n)):r}notify(e){kn.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){kn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){kn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Js=new WeakMap,dH),Zs,aa,Mc,ei,Io,hH,Bse=(hH=class extends X${constructor(r){super();xt(this,ei);xt(this,Zs);xt(this,aa);xt(this,Mc);this.mutationId=r.mutationId,Je(this,aa,r.mutationCache),Je(this,Zs,[]),this.state=r.state||Cse(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){te(this,Zs).includes(r)||(te(this,Zs).push(r),this.clearGcTimeout(),te(this,aa).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){Je(this,Zs,te(this,Zs).filter(n=>n!==r)),this.scheduleGc(),te(this,aa).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){te(this,Zs).length||(this.state.status==="pending"?this.scheduleGc():te(this,aa).remove(this))}continue(){var r;return((r=te(this,Mc))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var s,o,l,c,u,A,d,h,f,p,g,m,b,y,w,x,C,E,B,j;Je(this,Mc,W$({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(N,S)=>{Ut(this,ei,Io).call(this,{type:"failed",failureCount:N,error:S})},onPause:()=>{Ut(this,ei,Io).call(this,{type:"pause"})},onContinue:()=>{Ut(this,ei,Io).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>te(this,aa).canRun(this)}));const n=this.state.status==="pending",a=!te(this,Mc).canStart();try{if(!n){Ut(this,ei,Io).call(this,{type:"pending",variables:r,isPaused:a}),await((o=(s=te(this,aa).config).onMutate)==null?void 0:o.call(s,r,this));const S=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,r));S!==this.state.context&&Ut(this,ei,Io).call(this,{type:"pending",context:S,variables:r,isPaused:a})}const N=await te(this,Mc).start();return await((A=(u=te(this,aa).config).onSuccess)==null?void 0:A.call(u,N,r,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,N,r,this.state.context)),await((p=(f=te(this,aa).config).onSettled)==null?void 0:p.call(f,N,null,this.state.variables,this.state.context,this)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,N,null,r,this.state.context)),Ut(this,ei,Io).call(this,{type:"success",data:N}),N}catch(N){try{throw await((y=(b=te(this,aa).config).onError)==null?void 0:y.call(b,N,r,this.state.context,this)),await((x=(w=this.options).onError)==null?void 0:x.call(w,N,r,this.state.context)),await((E=(C=te(this,aa).config).onSettled)==null?void 0:E.call(C,void 0,N,this.state.variables,this.state.context,this)),await((j=(B=this.options).onSettled)==null?void 0:j.call(B,void 0,N,r,this.state.context)),N}finally{Ut(this,ei,Io).call(this,{type:"error",error:N})}}finally{te(this,aa).runNext(this)}}},Zs=new WeakMap,aa=new WeakMap,Mc=new WeakMap,ei=new WeakSet,Io=function(r){const n=a=>{switch(r.type){case"failed":return{...a,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...a,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:r.error,failureCount:a.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),kn.batch(()=>{te(this,Zs).forEach(a=>{a.onMutationUpdate(r)}),te(this,aa).notify({mutation:this,type:"updated",action:r})})},hH);function Cse(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fa,Sp,fH,jse=(fH=class extends Rp{constructor(e={}){super();xt(this,Fa);xt(this,Sp);this.config=e,Je(this,Fa,new Map),Je(this,Sp,Date.now())}build(e,r,n){const a=new Bse({mutationCache:this,mutationId:++Rg(this,Sp)._,options:e.defaultMutationOptions(r),state:n});return this.add(a),a}add(e){const r=$g(e),n=te(this,Fa).get(r)??[];n.push(e),te(this,Fa).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=$g(e);if(te(this,Fa).has(r)){const a=(n=te(this,Fa).get(r))==null?void 0:n.filter(s=>s!==e);a&&(a.length===0?te(this,Fa).delete(r):te(this,Fa).set(r,a))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=te(this,Fa).get($g(e)))==null?void 0:n.find(a=>a.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=te(this,Fa).get($g(e)))==null?void 0:n.find(a=>a!==e&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){kn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...te(this,Fa).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>iF(r,n))}findAll(e={}){return this.getAll().filter(r=>iF(e,r))}notify(e){kn.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return kn.batch(()=>Promise.all(e.map(r=>r.continue().catch(Za))))}},Fa=new WeakMap,Sp=new WeakMap,fH);function $g(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function cF(t){return{onFetch:(e,r)=>{var A,d,h,f,p;const n=e.options,a=(h=(d=(A=e.fetchOptions)==null?void 0:A.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,s=((f=e.state.data)==null?void 0:f.pages)||[],o=((p=e.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const m=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},b=q$(e.options,e.fetchOptions),y=async(w,x,C)=>{if(g)return Promise.reject();if(x==null&&w.pages.length)return Promise.resolve(w);const E={queryKey:e.queryKey,pageParam:x,direction:C?"backward":"forward",meta:e.options.meta};m(E);const B=await b(E),{maxPages:j}=e.options,N=C?pse:mse;return{pages:N(w.pages,B,j),pageParams:N(w.pageParams,x,j)}};if(a&&s.length){const w=a==="backward",x=w?Ese:uF,C={pages:s,pageParams:o},E=x(n,C);l=await y(C,E,w)}else{const w=t??s.length;do{const x=c===0?o[0]??n.initialPageParam:uF(n,l);if(c>0&&x==null)break;l=await y(l,x),c++}while(c<w)}return l};e.options.persister?e.fetchFn=()=>{var g,m;return(m=(g=e.options).persister)==null?void 0:m.call(g,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function uF(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Ese(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Rr,Xo,Yo,HA,$A,Jo,VA,KA,mH,Sse=(mH=class{constructor(t={}){xt(this,Rr);xt(this,Xo);xt(this,Yo);xt(this,HA);xt(this,$A);xt(this,Jo);xt(this,VA);xt(this,KA);Je(this,Rr,t.queryCache||new _se),Je(this,Xo,t.mutationCache||new jse),Je(this,Yo,t.defaultOptions||{}),Je(this,HA,new Map),Je(this,$A,new Map),Je(this,Jo,0)}mount(){Rg(this,Jo)._++,te(this,Jo)===1&&(Je(this,VA,Gk.subscribe(async t=>{t&&(await this.resumePausedMutations(),te(this,Rr).onFocus())})),Je(this,KA,ov.subscribe(async t=>{t&&(await this.resumePausedMutations(),te(this,Rr).onOnline())})))}unmount(){var t,e;Rg(this,Jo)._--,te(this,Jo)===0&&((t=te(this,VA))==null||t.call(this),Je(this,VA,void 0),(e=te(this,KA))==null||e.call(this),Je(this,KA,void 0))}isFetching(t){return te(this,Rr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return te(this,Xo).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=te(this,Rr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=te(this,Rr).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(CA(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return te(this,Rr).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),a=te(this,Rr).get(n.queryHash),s=a==null?void 0:a.state.data,o=hse(e,s);if(o!==void 0)return te(this,Rr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return kn.batch(()=>te(this,Rr).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=te(this,Rr).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=te(this,Rr);kn.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=te(this,Rr),n={type:"active",...t};return kn.batch(()=>(r.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=kn.batch(()=>te(this,Rr).findAll(t).map(a=>a.cancel(r)));return Promise.all(n).then(Za).catch(Za)}invalidateQueries(t={},e={}){return kn.batch(()=>{if(te(this,Rr).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=kn.batch(()=>te(this,Rr).findAll(t).filter(a=>!a.isDisabled()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(Za)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Za)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=te(this,Rr).build(this,e);return r.isStaleByTime(CA(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Za).catch(Za)}fetchInfiniteQuery(t){return t.behavior=cF(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Za).catch(Za)}ensureInfiniteQueryData(t){return t.behavior=cF(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ov.isOnline()?te(this,Xo).resumePausedMutations():Promise.resolve()}getQueryCache(){return te(this,Rr)}getMutationCache(){return te(this,Xo)}getDefaultOptions(){return te(this,Yo)}setDefaultOptions(t){Je(this,Yo,t)}setQueryDefaults(t,e){te(this,HA).set(am(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...te(this,HA).values()];let r={};return e.forEach(n=>{sm(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){te(this,$A).set(am(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...te(this,$A).values()];let r={};return e.forEach(n=>{sm(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...te(this,Yo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=qk(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===zk&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...te(this,Yo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){te(this,Rr).clear(),te(this,Xo).clear()}},Rr=new WeakMap,Xo=new WeakMap,Yo=new WeakMap,HA=new WeakMap,$A=new WeakMap,Jo=new WeakMap,VA=new WeakMap,KA=new WeakMap,mH),ba,Mt,Np,sa,Qc,qA,Zo,ti,kp,zA,GA,Lc,Hc,el,WA,sr,cf,mS,pS,gS,xS,vS,yS,bS,J$,pH,Nse=(pH=class extends Rp{constructor(e,r){super();xt(this,sr);xt(this,ba);xt(this,Mt);xt(this,Np);xt(this,sa);xt(this,Qc);xt(this,qA);xt(this,Zo);xt(this,ti);xt(this,kp);xt(this,zA);xt(this,GA);xt(this,Lc);xt(this,Hc);xt(this,el);xt(this,WA,new Set);this.options=r,Je(this,ba,e),Je(this,ti,null),Je(this,Zo,fS()),this.options.experimental_prefetchInRender||te(this,Zo).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(te(this,Mt).addObserver(this),AF(te(this,Mt),this.options)?Ut(this,sr,cf).call(this):this.updateResult(),Ut(this,sr,xS).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return wS(te(this,Mt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return wS(te(this,Mt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ut(this,sr,vS).call(this),Ut(this,sr,yS).call(this),te(this,Mt).removeObserver(this)}setOptions(e,r){const n=this.options,a=te(this,Mt);if(this.options=te(this,ba).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Es(this.options.enabled,te(this,Mt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ut(this,sr,bS).call(this),te(this,Mt).setOptions(this.options),n._defaulted&&!AS(this.options,n)&&te(this,ba).getQueryCache().notify({type:"observerOptionsUpdated",query:te(this,Mt),observer:this});const s=this.hasListeners();s&&dF(te(this,Mt),a,this.options,n)&&Ut(this,sr,cf).call(this),this.updateResult(r),s&&(te(this,Mt)!==a||Es(this.options.enabled,te(this,Mt))!==Es(n.enabled,te(this,Mt))||CA(this.options.staleTime,te(this,Mt))!==CA(n.staleTime,te(this,Mt)))&&Ut(this,sr,mS).call(this);const o=Ut(this,sr,pS).call(this);s&&(te(this,Mt)!==a||Es(this.options.enabled,te(this,Mt))!==Es(n.enabled,te(this,Mt))||o!==te(this,el))&&Ut(this,sr,gS).call(this,o)}getOptimisticResult(e){const r=te(this,ba).getQueryCache().build(te(this,ba),e),n=this.createResult(r,e);return Tse(this,n)&&(Je(this,sa,n),Je(this,qA,this.options),Je(this,Qc,te(this,Mt).state)),n}getCurrentResult(){return te(this,sa)}trackResult(e,r){const n={};return Object.keys(e).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),e[a])})}),n}trackProp(e){te(this,WA).add(e)}getCurrentQuery(){return te(this,Mt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=te(this,ba).defaultQueryOptions(e),n=te(this,ba).getQueryCache().build(te(this,ba),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Ut(this,sr,cf).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),te(this,sa)))}createResult(e,r){var j;const n=te(this,Mt),a=this.options,s=te(this,sa),o=te(this,Qc),l=te(this,qA),u=e!==n?e.state:te(this,Np),{state:A}=e;let d={...A},h=!1,f;if(r._optimisticResults){const N=this.hasListeners(),S=!N&&AF(e,r),k=N&&dF(e,n,r,a);(S||k)&&(d={...d,...Y$(A.data,e.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:m}=d;if(r.select&&d.data!==void 0)if(s&&d.data===(o==null?void 0:o.data)&&r.select===te(this,kp))f=te(this,zA);else try{Je(this,kp,r.select),f=r.select(d.data),f=hS(s==null?void 0:s.data,f,r),Je(this,zA,f),Je(this,ti,null)}catch(N){Je(this,ti,N)}else f=d.data;if(r.placeholderData!==void 0&&f===void 0&&m==="pending"){let N;if(s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))N=s.data;else if(N=typeof r.placeholderData=="function"?r.placeholderData((j=te(this,GA))==null?void 0:j.state.data,te(this,GA)):r.placeholderData,r.select&&N!==void 0)try{N=r.select(N),Je(this,ti,null)}catch(S){Je(this,ti,S)}N!==void 0&&(m="success",f=hS(s==null?void 0:s.data,N,r),h=!0)}te(this,ti)&&(p=te(this,ti),f=te(this,zA),g=Date.now(),m="error");const b=d.fetchStatus==="fetching",y=m==="pending",w=m==="error",x=y&&b,C=f!==void 0,B={status:m,fetchStatus:d.fetchStatus,isPending:y,isSuccess:m==="success",isError:w,isInitialLoading:x,isLoading:x,data:f,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!y,isLoadingError:w&&!C,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:w&&C,isStale:Wk(e,r),refetch:this.refetch,promise:te(this,Zo)};if(this.options.experimental_prefetchInRender){const N=I=>{B.status==="error"?I.reject(B.error):B.data!==void 0&&I.resolve(B.data)},S=()=>{const I=Je(this,Zo,B.promise=fS());N(I)},k=te(this,Zo);switch(k.status){case"pending":e.queryHash===n.queryHash&&N(k);break;case"fulfilled":(B.status==="error"||B.data!==k.value)&&S();break;case"rejected":(B.status!=="error"||B.error!==k.reason)&&S();break}}return B}updateResult(e){const r=te(this,sa),n=this.createResult(te(this,Mt),this.options);if(Je(this,Qc,te(this,Mt).state),Je(this,qA,this.options),te(this,Qc).data!==void 0&&Je(this,GA,te(this,Mt)),AS(n,r))return;Je(this,sa,n);const a={},s=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!te(this,WA).size)return!0;const c=new Set(l??te(this,WA));return this.options.throwOnError&&c.add("error"),Object.keys(te(this,sa)).some(u=>{const A=u;return te(this,sa)[A]!==r[A]&&c.has(A)})};(e==null?void 0:e.listeners)!==!1&&s()&&(a.listeners=!0),Ut(this,sr,J$).call(this,{...a,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ut(this,sr,xS).call(this)}},ba=new WeakMap,Mt=new WeakMap,Np=new WeakMap,sa=new WeakMap,Qc=new WeakMap,qA=new WeakMap,Zo=new WeakMap,ti=new WeakMap,kp=new WeakMap,zA=new WeakMap,GA=new WeakMap,Lc=new WeakMap,Hc=new WeakMap,el=new WeakMap,WA=new WeakMap,sr=new WeakSet,cf=function(e){Ut(this,sr,bS).call(this);let r=te(this,Mt).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Za)),r},mS=function(){Ut(this,sr,vS).call(this);const e=CA(this.options.staleTime,te(this,Mt));if(Jc||te(this,sa).isStale||!uS(e))return;const n=V$(te(this,sa).dataUpdatedAt,e)+1;Je(this,Lc,setTimeout(()=>{te(this,sa).isStale||this.updateResult()},n))},pS=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(te(this,Mt)):this.options.refetchInterval)??!1},gS=function(e){Ut(this,sr,yS).call(this),Je(this,el,e),!(Jc||Es(this.options.enabled,te(this,Mt))===!1||!uS(te(this,el))||te(this,el)===0)&&Je(this,Hc,setInterval(()=>{(this.options.refetchIntervalInBackground||Gk.isFocused())&&Ut(this,sr,cf).call(this)},te(this,el)))},xS=function(){Ut(this,sr,mS).call(this),Ut(this,sr,gS).call(this,Ut(this,sr,pS).call(this))},vS=function(){te(this,Lc)&&(clearTimeout(te(this,Lc)),Je(this,Lc,void 0))},yS=function(){te(this,Hc)&&(clearInterval(te(this,Hc)),Je(this,Hc,void 0))},bS=function(){const e=te(this,ba).getQueryCache().build(te(this,ba),this.options);if(e===te(this,Mt))return;const r=te(this,Mt);Je(this,Mt,e),Je(this,Np,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},J$=function(e){kn.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(te(this,sa))}),te(this,ba).getQueryCache().notify({query:te(this,Mt),type:"observerResultsUpdated"})})},pH);function kse(t,e){return Es(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function AF(t,e){return kse(t,e)||t.state.data!==void 0&&wS(t,e,e.refetchOnMount)}function wS(t,e,r){if(Es(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Wk(t,e)}return!1}function dF(t,e,r,n){return(t!==e||Es(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Wk(t,r)}function Wk(t,e){return Es(e.enabled,t)!==!1&&t.isStaleByTime(CA(e.staleTime,t))}function Tse(t,e){return!AS(t.getCurrentResult(),e)}var Z$=v.createContext(void 0),eV=t=>{const e=v.useContext(Z$);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Ise=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(Z$.Provider,{value:t,children:e})),tV=v.createContext(!1),Pse=()=>v.useContext(tV);tV.Provider;function Fse(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Dse=v.createContext(Fse()),Ose=()=>v.useContext(Dse);function Rse(t,e){return typeof t=="function"?t(...e):!!t}function Use(){}var Mse=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},Qse=t=>{v.useEffect(()=>{t.clearReset()},[t])},Lse=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&Rse(r,[t.error,n]),Hse=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},$se=(t,e)=>t.isLoading&&t.isFetching&&!e,Vse=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,hF=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Kse(t,e,r){var A,d,h,f,p;const n=eV(),a=Pse(),s=Ose(),o=n.defaultQueryOptions(t);(d=(A=n.getDefaultOptions().queries)==null?void 0:A._experimental_beforeQuery)==null||d.call(A,o),o._optimisticResults=a?"isRestoring":"optimistic",Hse(o),Mse(o,s),Qse(s);const l=!n.getQueryCache().get(o.queryHash),[c]=v.useState(()=>new e(n,o)),u=c.getOptimisticResult(o);if(v.useSyncExternalStore(v.useCallback(g=>{const m=a?()=>{}:c.subscribe(kn.batchCalls(g));return c.updateResult(),m},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),v.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),Vse(o,u))throw hF(o,c,s);if(Lse({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((f=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||f.call(h,o,u),o.experimental_prefetchInRender&&!Jc&&$se(u,a)){const g=l?hF(o,c,s):(p=n.getQueryCache().get(o.queryHash))==null?void 0:p.promise;g==null||g.catch(Use).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function qse(t,e){return Kse(t,Nse)}const zse="modulepreload",Gse=function(t){return"/"+t},fF={},Up=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(A=>Promise.resolve(A).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=o(r.map(u=>{if(u=Gse(u),u in fF)return;fF[u]=!0;const A=u.endsWith(".css"),d=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=A?"stylesheet":zse,A||(h.as="script"),h.crossOrigin="",h.href=u,c&&h.setAttribute("nonce",c),document.head.appendChild(h),A)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},Wse=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Up(async()=>{const{default:n}=await Promise.resolve().then(()=>Xd);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Xk extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Xse extends Xk{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Yse extends Xk{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Jse extends Xk{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var _S;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(_S||(_S={}));var Zse=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class eie{constructor(e,{headers:r={},customFetch:n,region:a=_S.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=Wse(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Zse(this,void 0,void 0,function*(){try{const{headers:a,method:s,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const A=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(p=>{throw new Xse(p)}),d=A.headers.get("x-relay-error");if(d&&d==="true")throw new Yse(A);if(!A.ok)throw new Jse(A);let h=((n=A.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield A.json():h==="application/octet-stream"?f=yield A.blob():h==="text/event-stream"?f=A:h==="multipart/form-data"?f=yield A.formData():f=yield A.text(),{data:f,error:null}}catch(a){return{data:null,error:a}}})}}var An={},Tu={},Iu={},Pu={},Fu={},Du={},tie=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ed=tie();const rie=ed.fetch,rV=ed.fetch.bind(ed),nV=ed.Headers,nie=ed.Request,aie=ed.Response,Xd=Object.freeze(Object.defineProperty({__proto__:null,Headers:nV,Request:nie,Response:aie,default:rV,fetch:rie},Symbol.toStringTag,{value:"Module"})),sie=xH(Xd);var Vg={},mF;function aV(){if(mF)return Vg;mF=1,Object.defineProperty(Vg,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Vg.default=t,Vg}var pF;function sV(){if(pF)return Du;pF=1;var t=Du&&Du.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Du,"__esModule",{value:!0});const e=t(sie),r=t(aV());class n{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=Object.assign({},this.headers),this.headers[s]=o,this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var A,d,h;let f=null,p=null,g=null,m=u.status,b=u.statusText;if(u.ok){if(this.method!=="HEAD"){const C=await u.text();C===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=C:p=JSON.parse(C))}const w=(A=this.headers.Prefer)===null||A===void 0?void 0:A.match(/count=(exact|planned|estimated)/),x=(d=u.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");w&&x&&x.length>1&&(g=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,g=null,m=406,b="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const w=await u.text();try{f=JSON.parse(w),Array.isArray(f)&&u.status===404&&(p=[],f=null,m=200,b="OK")}catch{u.status===404&&w===""?(m=204,b="No Content"):f={message:w}}if(f&&this.isMaybeSingle&&(!((h=f==null?void 0:f.details)===null||h===void 0)&&h.includes("0 rows"))&&(f=null,m=200,b="OK"),f&&this.shouldThrowOnError)throw new r.default(f)}return{error:f,data:p,count:g,status:m,statusText:b}});return this.shouldThrowOnError||(c=c.catch(u=>{var A,d,h;return{error:{message:`${(A=u==null?void 0:u.name)!==null&&A!==void 0?A:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(d=u==null?void 0:u.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),c.then(s,o)}returns(){return this}overrideTypes(){return this}}return Du.default=n,Du}var gF;function iV(){if(gF)return Fu;gF=1;var t=Fu&&Fu.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Fu,"__esModule",{value:!0});const e=t(sV());class r extends e.default{select(a){let s=!1;const o=(a??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:s=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",A=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${A?`${A},`:""}${a}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,s,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${s-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:s=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var A;const d=[a?"analyze":null,s?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(A=this.headers.Accept)!==null&&A!==void 0?A:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${h}"; options=${d};`,u==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Fu.default=r,Fu}var xF;function Yk(){if(xF)return Pu;xF=1;var t=Pu&&Pu.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Pu,"__esModule",{value:!0});const e=t(iV());class r extends e.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}in(a,s){const o=Array.from(new Set(s)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${c}fts${u}.${s}`),this}match(a){return Object.entries(a).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(a,s,o){return this.url.searchParams.append(a,`not.${s}.${o}`),this}or(a,{foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,s,o){return this.url.searchParams.append(a,`${s}.${o}`),this}}return Pu.default=r,Pu}var vF;function oV(){if(vF)return Iu;vF=1;var t=Iu&&Iu.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Iu,"__esModule",{value:!0});const e=t(Yk());class r{constructor(a,{headers:s={},schema:o,fetch:l}){this.url=a,this.headers=s,this.schema=o,this.fetch=l}select(a,{head:s=!1,count:o}={}){const l=s?"HEAD":"GET";let c=!1;const u=(a??"*").split("").map(A=>/\s/.test(A)&&!c?"":(A==='"'&&(c=!c),A)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:s,defaultToNull:o=!0}={}){const l="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(a)){const u=a.reduce((A,d)=>A.concat(Object.keys(d)),[]);if(u.length>0){const A=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",A.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:s,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){const u="POST",A=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&A.push(this.headers.Prefer),l&&A.push(`count=${l}`),c||A.push("missing=default"),this.headers.Prefer=A.join(","),Array.isArray(a)){const d=a.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(d.length>0){const h=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:s}={}){const o="PATCH",l=[];return this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),this.headers.Prefer=l.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const s="DELETE",o=[];return a&&o.push(`count=${a}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Iu.default=r,Iu}var Ih={},Ph={},yF;function iie(){return yF||(yF=1,Object.defineProperty(Ph,"__esModule",{value:!0}),Ph.version=void 0,Ph.version="0.0.0-automated"),Ph}var bF;function oie(){if(bF)return Ih;bF=1,Object.defineProperty(Ih,"__esModule",{value:!0}),Ih.DEFAULT_HEADERS=void 0;const t=iie();return Ih.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},Ih}var wF;function lie(){if(wF)return Tu;wF=1;var t=Tu&&Tu.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Tu,"__esModule",{value:!0});const e=t(oV()),r=t(Yk()),n=oie();class a{constructor(o,{headers:l={},schema:c,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),l),this.schemaName=c,this.fetch=u}from(o){const l=new URL(`${this.url}/${o}`);return new e.default(l,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new a(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:c=!1,get:u=!1,count:A}={}){let d;const h=new URL(`${this.url}/rpc/${o}`);let f;c||u?(d=c?"HEAD":"GET",Object.entries(l).filter(([g,m])=>m!==void 0).map(([g,m])=>[g,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([g,m])=>{h.searchParams.append(g,m)})):(d="POST",f=l);const p=Object.assign({},this.headers);return A&&(p.Prefer=`count=${A}`),new r.default({method:d,url:h,headers:p,schema:this.schemaName,body:f,fetch:this.fetch,allowEmpty:!1})}}return Tu.default=a,Tu}var _F;function cie(){if(_F)return An;_F=1;var t=An&&An.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(An,"__esModule",{value:!0}),An.PostgrestError=An.PostgrestBuilder=An.PostgrestTransformBuilder=An.PostgrestFilterBuilder=An.PostgrestQueryBuilder=An.PostgrestClient=void 0;const e=t(lie());An.PostgrestClient=e.default;const r=t(oV());An.PostgrestQueryBuilder=r.default;const n=t(Yk());An.PostgrestFilterBuilder=n.default;const a=t(iV());An.PostgrestTransformBuilder=a.default;const s=t(sV());An.PostgrestBuilder=s.default;const o=t(aV());return An.PostgrestError=o.default,An.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:s.default,PostgrestError:o.default},An}var uie=cie();const Aie=Wt(uie),{PostgrestClient:die,PostgrestQueryBuilder:HLe,PostgrestFilterBuilder:$Le,PostgrestTransformBuilder:VLe,PostgrestBuilder:KLe,PostgrestError:qLe}=Aie;let BS;typeof window>"u"?BS=require("ws"):BS=window.WebSocket;const hie="2.11.10",fie={"X-Client-Info":`realtime-js/${hie}`},mie="1.0.0",lV=1e4,pie=1e3;var jA;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(jA||(jA={}));var na;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(na||(na={}));var ws;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ws||(ws={}));var CS;(function(t){t.websocket="websocket"})(CS||(CS={}));var yc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(yc||(yc={}));class gie{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+a));o=o+a;const c=n.decode(e.slice(o,o+s));o=o+s;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class cV{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var wr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(wr||(wr={}));const BF=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,o)=>(s[o]=xie(o,t,e,a),s),{})},xie=(t,e,r,n)=>{const a=e.find(l=>l.name===t),s=a==null?void 0:a.type,o=r[t];return s&&!n.includes(s)?uV(s,o):jS(o)},uV=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return wie(e,r)}switch(t){case wr.bool:return vie(e);case wr.float4:case wr.float8:case wr.int2:case wr.int4:case wr.int8:case wr.numeric:case wr.oid:return yie(e);case wr.json:case wr.jsonb:return bie(e);case wr.timestamp:return _ie(e);case wr.abstime:case wr.date:case wr.daterange:case wr.int4range:case wr.int8range:case wr.money:case wr.reltime:case wr.text:case wr.time:case wr.timestamptz:case wr.timetz:case wr.tsrange:case wr.tstzrange:return jS(e);default:return jS(e)}},jS=t=>t,vie=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},yie=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},bie=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},wie=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const o=t.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>uV(e,l))}return t},_ie=t=>typeof t=="string"?t.replace(" ","T"):t,AV=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class b1{constructor(e,r,n={},a=lV){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var CF;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(CF||(CF={}));class Sf{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sf.syncState(this.state,a,s,o),this.pendingDiffs.forEach(c=>{this.state=Sf.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Sf.syncDiff(this.state,a,s,o),l())}),this.onJoin((a,s,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:o})}),this.onLeave((a,s,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const s=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(s,(u,A)=>{o[u]||(c[u]=A)}),this.map(o,(u,A)=>{const d=s[u];if(d){const h=A.map(m=>m.presence_ref),f=d.map(m=>m.presence_ref),p=A.filter(m=>f.indexOf(m.presence_ref)<0),g=d.filter(m=>h.indexOf(m.presence_ref)<0);p.length>0&&(l[u]=p),g.length>0&&(c[u]=g)}else l[u]=A}),this.syncDiff(s,{joins:l,leaves:c},n,a)}static syncDiff(e,r,n,a){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(l,c)=>{var u;const A=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),A.length>0){const d=e[l].map(f=>f.presence_ref),h=A.filter(f=>d.indexOf(f.presence_ref)<0);e[l].unshift(...h)}n(l,A,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const A=c.map(d=>d.presence_ref);u=u.filter(d=>A.indexOf(d.presence_ref)<0),e[l]=u,a(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jF;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(jF||(jF={}));var EF;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(EF||(EF={}));var Qi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Qi||(Qi={}));class Jk{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=na.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new b1(this,ws.join,this.params,this.timeout),this.rejoinTimer=new cV(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=na.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=na.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=na.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=na.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ws.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Sf(this),this.broadcastEndpointURL=AV(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:l}}=this.params;this._onError(A=>e==null?void 0:e(Qi.CHANNEL_ERROR,A)),this._onClose(()=>e==null?void 0:e(Qi.CLOSED));const c={},u={broadcast:s,presence:o,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(A=>A.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:A})=>{var d;if(this.socket.setAuth(),A===void 0){e==null||e(Qi.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,p=[];for(let g=0;g<f;g++){const m=h[g],{filter:{event:b,schema:y,table:w,filter:x}}=m,C=A&&A[g];if(C&&C.event===b&&C.schema===y&&C.table===w&&C.filter===x)p.push(Object.assign(Object.assign({},m),{id:C.id}));else{this.unsubscribe(),this.state=na.errored,e==null||e(Qi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(Qi.SUBSCRIBED);return}}).receive("error",A=>{this.state=na.errored,e==null||e(Qi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Qi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=na.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ws.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const a=new b1(this,ws.leave,{},e);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new b1(this,e,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,s;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:A}=ws;if(n&&[l,c,u,A].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(f=>{var p,g,m;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((m=(g=f.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===o}).map(f=>f.callback(h,n)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var p,g,m,b,y,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const x=f.id,C=(p=f.filter)===null||p===void 0?void 0:p.event;return x&&((g=r.ids)===null||g===void 0?void 0:g.includes(x))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((m=r.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const x=(y=(b=f==null?void 0:f.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return x==="*"||x===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:g,table:m,commit_timestamp:b,type:y,errors:w}=p;h=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:b,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(p))}f.callback(h,n)})}_isClosed(){return this.state===na.closed}_isJoined(){return this.state===na.joined}_isJoining(){return this.state===na.joining}_isLeaving(){return this.state===na.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Jk.isEqual(a.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ws.close,{},e)}_onError(e){this._on(ws.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=na.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=BF(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=BF(e.columns,e.old_record)),r}}const SF=()=>{},Bie=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Cie{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=fie,this.params={},this.timeout=lV,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=SF,this.ref=0,this.logger=SF,this.conn=null,this.sendBuffer=[],this.serializer=new gie,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...l)=>Up(async()=>{const{default:c}=await Promise.resolve().then(()=>Xd);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${CS.websocket}`,this.httpEndpoint=AV(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,o)=>o(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new cV(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=BS),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new jie(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:mie}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case jA.connecting:return yc.Connecting;case jA.open:return yc.Open;case jA.closing:return yc.Closing;default:return yc.Closed}}isConnected(){return this.connectionState()===yc.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new Jk(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:a,ref:s}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(ws.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(pie,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:a,payload:s,ref:o}=r;n==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${a} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,s,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ws.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Bie],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class jie{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=jA.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class Zk extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function hn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Eie extends Zk{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ES extends Zk{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Sie=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const dV=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Up(async()=>{const{default:n}=await Promise.resolve().then(()=>Xd);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Nie=()=>Sie(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Up(()=>Promise.resolve().then(()=>Xd),void 0)).Response:Response}),SS=t=>{if(Array.isArray(t))return t.map(r=>SS(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[a]=SS(n)}),e};var xu=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const w1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kie=(t,e,r)=>xu(void 0,void 0,void 0,function*(){const n=yield Nie();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{e(new Eie(w1(a),t.status||500))}).catch(a=>{e(new ES(w1(a),a))}):e(new ES(w1(t),t))}),Tie=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function Mp(t,e,r,n,a,s){return xu(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,Tie(e,n,a,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>kie(c,l,n))})})}function lv(t,e,r,n){return xu(this,void 0,void 0,function*(){return Mp(t,"GET",e,r,n)})}function Uo(t,e,r,n,a){return xu(this,void 0,void 0,function*(){return Mp(t,"POST",e,n,a,r)})}function Iie(t,e,r,n,a){return xu(this,void 0,void 0,function*(){return Mp(t,"PUT",e,n,a,r)})}function Pie(t,e,r,n){return xu(this,void 0,void 0,function*(){return Mp(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function hV(t,e,r,n,a){return xu(this,void 0,void 0,function*(){return Mp(t,"DELETE",e,n,a,r)})}var xa=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Fie={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},NF={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Die{constructor(e,r={},n,a){this.url=e,this.headers=r,this.bucketId=n,this.fetch=dV(a)}uploadOrUpdate(e,r,n,a){return xa(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},NF),a);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),A=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${A}`,Object.assign({method:e,body:s,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(hn(s))return{data:null,error:s};throw s}})}upload(e,r,n){return xa(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return xa(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:NF.upsert},a),A=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,A["cache-control"]=`max-age=${u.cacheControl}`,A["content-type"]=u.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:A}),h=yield d.json();return d.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(hn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return xa(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const s=yield Uo(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new Zk("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(hn(n))return{data:null,error:n};throw n}})}update(e,r,n){return xa(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return xa(this,void 0,void 0,function*(){try{return{data:yield Uo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(hn(a))return{data:null,error:a};throw a}})}copy(e,r,n){return xa(this,void 0,void 0,function*(){try{return{data:{path:(yield Uo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(hn(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return xa(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),s=yield Uo(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(a){if(hn(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return xa(this,void 0,void 0,function*(){try{const a=yield Uo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(a){if(hn(a))return{data:null,error:a};throw a}})}download(e,r){return xa(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield lv(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(hn(l))return{data:null,error:l};throw l}})}info(e){return xa(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield lv(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:SS(n),error:null}}catch(n){if(hn(n))return{data:null,error:n};throw n}})}exists(e){return xa(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Pie(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(hn(n)&&n instanceof ES){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return xa(this,void 0,void 0,function*(){try{return{data:yield hV(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(hn(r))return{data:null,error:r};throw r}})}list(e,r,n){return xa(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Fie),r),{prefix:e||""});return{data:yield Uo(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(hn(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Oie="2.7.1",Rie={"X-Client-Info":`storage-js/${Oie}`};var Ou=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Uie{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},Rie),r),this.fetch=dV(n)}listBuckets(){return Ou(this,void 0,void 0,function*(){try{return{data:yield lv(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(hn(e))return{data:null,error:e};throw e}})}getBucket(e){return Ou(this,void 0,void 0,function*(){try{return{data:yield lv(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(hn(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Ou(this,void 0,void 0,function*(){try{return{data:yield Uo(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(hn(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Ou(this,void 0,void 0,function*(){try{return{data:yield Iie(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(hn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Ou(this,void 0,void 0,function*(){try{return{data:yield Uo(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(hn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ou(this,void 0,void 0,function*(){try{return{data:yield hV(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(hn(r))return{data:null,error:r};throw r}})}}class Mie extends Uie{constructor(e,r={},n){super(e,r,n)}from(e){return new Die(this.url,this.headers,e,this.fetch)}}const Qie="2.50.0";let uf="";typeof Deno<"u"?uf="deno":typeof document<"u"?uf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?uf="react-native":uf="node";const Lie={"X-Client-Info":`supabase-js-${uf}/${Qie}`},Hie={headers:Lie},$ie={schema:"public"},Vie={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Kie={};var qie=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const zie=t=>{let e;return t?e=t:typeof fetch>"u"?e=rV:e=fetch,(...r)=>e(...r)},Gie=()=>typeof Headers>"u"?nV:Headers,Wie=(t,e,r)=>{const n=zie(r),a=Gie();return(s,o)=>qie(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},o),{headers:u}))})};var Xie=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function Yie(t){return t.endsWith("/")?t:t+"/"}function Jie(t,e){var r,n;const{db:a,auth:s,realtime:o,global:l}=t,{db:c,auth:u,realtime:A,global:d}=e,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},A),o),global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Xie(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const fV="2.70.0",uA=30*1e3,NS=3,_1=NS*uA,Zie="http://localhost:9999",eoe="supabase.auth.token",toe={"X-Client-Info":`gotrue-js/${fV}`},kS="X-Supabase-Api-Version",mV={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},roe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,noe=6e5;class eT extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Bt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class aoe extends eT{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function soe(t){return Bt(t)&&t.name==="AuthApiError"}class pV extends eT{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ml extends eT{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class Po extends Ml{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ioe(t){return Bt(t)&&t.name==="AuthSessionMissingError"}class Kg extends Ml{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qg extends Ml{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class zg extends Ml{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ooe(t){return Bt(t)&&t.name==="AuthImplicitGrantRedirectError"}class kF extends Ml{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class TS extends Ml{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function B1(t){return Bt(t)&&t.name==="AuthRetryableFetchError"}class TF extends Ml{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Nf extends Ml{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const cv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),IF=` 	
\r=`.split(""),loe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<IF.length;e+=1)t[IF[e].charCodeAt(0)]=-2;for(let e=0;e<cv.length;e+=1)t[cv[e].charCodeAt(0)]=e;return t})();function PF(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(cv[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(cv[n]),e.queuedBits-=6}}function gV(t,e,r){const n=loe[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function FF(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=o=>{Aoe(o,n,r)};for(let o=0;o<t.length;o+=1)gV(t.charCodeAt(o),a,s);return e.join("")}function coe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function uoe(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}coe(n,e)}}function Aoe(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function doe(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)gV(t.charCodeAt(a),r,n);return new Uint8Array(e)}function hoe(t){const e=[];return uoe(t,r=>e.push(r)),new Uint8Array(e)}function foe(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>PF(a,r,n)),PF(null,r,n),e.join("")}function moe(t){return Math.round(Date.now()/1e3)+t}function poe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const xs=()=>typeof window<"u"&&typeof document<"u",ac={tested:!1,writable:!1},kf=()=>{if(!xs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ac.tested)return ac.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ac.tested=!0,ac.writable=!0}catch{ac.tested=!0,ac.writable=!1}return ac.writable};function goe(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{e[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const xV=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Up(async()=>{const{default:n}=await Promise.resolve().then(()=>Xd);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},xoe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",vV=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Gg=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Wg=async(t,e)=>{await t.removeItem(e)};let yV=class bV{constructor(){this.promise=new bV.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}};yV.promiseConstructor=Promise;function C1(t){const e=t.split(".");if(e.length!==3)throw new Nf("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!roe.test(e[n]))throw new Nf("JWT not in base64url format");return{header:JSON.parse(FF(e[0])),payload:JSON.parse(FF(e[1])),signature:doe(e[2]),raw:{header:e[0],payload:e[1]}}}async function voe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function yoe(t,e){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){a(o);return}}})()})}function boe(t){return("0"+t.toString(16)).substr(-2)}function woe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,boe).join("")}async function _oe(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function Boe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await _oe(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ru(t,e,r=!1){const n=woe();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await vV(t,`${e}-code-verifier`,a);const s=await Boe(n);return[s,n===s?"plain":"s256"]}const Coe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function joe(t){const e=t.headers.get(kS);if(!e||!e.match(Coe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Eoe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Soe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Noe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Uu(t){if(!Noe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var koe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const Ac=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Toe=[502,503,504];async function DF(t){var e;if(!xoe(t))throw new TS(Ac(t),0);if(Toe.includes(t.status))throw new TS(Ac(t),t.status);let r;try{r=await t.json()}catch(s){throw new pV(Ac(s),s)}let n;const a=joe(t);if(a&&a.getTime()>=mV["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new TF(Ac(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Po}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new TF(Ac(r),t.status,r.weak_password.reasons);throw new aoe(Ac(r),t.status||500,n)}const Ioe=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function It(t,e,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[kS]||(s[kS]=mV["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Poe(t,e,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Poe(t,e,r,n,a,s){const o=Ioe(e,n,a,s);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new TS(Ac(c),0)}if(l.ok||await DF(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await DF(c)}}function Ui(t){var e;let r=null;Roe(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=moe(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function OF(t){const e=Ui(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Lo(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Foe(t){return{data:t,error:null}}function Doe(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=t,o=koe(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Ooe(t){return t}function Roe(t){return t.access_token&&t.refresh_token&&t.expires_in}const j1=["global","local","others"];var Uoe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class Moe{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=xV(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=j1[0]){if(j1.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${j1.join(", ")}`);try{return await It(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Bt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await It(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Lo})}catch(n){if(Bt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Uoe(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await It(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Doe,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Bt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await It(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Lo})}catch(r){if(Bt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,s,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},A=await It(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:Ooe});if(A.error)throw A.error;const d=await A.json(),h=(o=A.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=A.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);u[`${m}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Bt(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Uu(e);try{return await It(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Lo})}catch(r){if(Bt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Uu(e);try{return await It(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Lo})}catch(n){if(Bt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Uu(e);try{return await It(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Lo})}catch(n){if(Bt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Uu(e.userId);try{const{data:r,error:n}=await It(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Bt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Uu(e.userId),Uu(e.id);try{return{data:await It(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Bt(r))return{data:null,error:r};throw r}}}const Qoe={getItem:t=>kf()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{kf()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{kf()&&globalThis.localStorage.removeItem(t)}};function RF(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function Loe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Mu={debug:!!(globalThis&&kf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wV extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Hoe extends wV{}async function $oe(t,e,r){Mu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Mu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Mu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{Mu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Mu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Hoe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Mu.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Loe();const Voe={url:Zie,storageKey:eoe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:toe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function UF(t,e,r){return await r()}class im{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=im.nextInstanceID,im.nextInstanceID+=1,this.instanceID>0&&xs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Voe),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Moe({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=xV(a.fetch),this.lock=a.lock||UF,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:xs()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=$oe:this.lock=UF,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:kf()?this.storage=Qoe:(this.memoryStorage={},this.storage=RF(this.memoryStorage)):(this.memoryStorage={},this.storage=RF(this.memoryStorage)),xs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${fV}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=goe(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),xs()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),ooe(s)){const c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Bt(r)?{error:r}:{error:new pV("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const s=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ui}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Bt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,n,a;try{let s;if("email"in e){const{email:A,password:d,options:h}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Ru(this.storage,this.storageKey)),s=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:A,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:p},xform:Ui})}else if("phone"in e){const{phone:A,password:d,options:h}=e;s=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:A,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ui})}else throw new qg("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Bt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:o,options:l}=e;r=await It(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:OF})}else if("phone"in e){const{phone:s,password:o,options:l}=e;r=await It(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:OF})}else throw new qg("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Kg}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Bt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,a,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,a,s,o,l,c,u,A,d,h,f;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:m,wallet:b,statement:y,options:w}=e;let x;if(xs())if(typeof b=="object")x=b;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))x=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=b}const C=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in x&&x.signIn){const E=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),y?{statement:y}:null));let B;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")B=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)B=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)p=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),g=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${C.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((d=(A=w==null?void 0:w.signInWithSolana)===null||A===void 0?void 0:A.resources)===null||d===void 0)&&d.length?["Resources",...w.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const E=await x.signMessage(new TextEncoder().encode(p),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=E}}try{const{data:m,error:b}=await It(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:foe(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ui});if(b)throw b;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new Kg}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:b})}catch(m){if(Bt(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const r=await Gg(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:o}=await It(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ui});if(await Wg(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Kg}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:o})}catch(s){if(Bt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:s,nonce:o}=e,l=await It(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ui}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Kg}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Bt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,a,s,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,A=null;this.flowType==="pkce"&&([u,A]=await Ru(this.storage,this.storageKey));const{error:d}=await It(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:A},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:A}=await It(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:A}}throw new qg("You must provide either an email or phone number.")}catch(l){if(Bt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let a,s;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await It(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:Ui});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Bt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,n,a;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Ru(this.storage,this.storageKey)),await It(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:Foe})}catch(s){if(Bt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Po;const{error:a}=await It(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(Bt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:s}=e,{error:o}=await It(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:a,options:s}=e,{data:o,error:l}=await It(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new qg("You must provide either an email or phone number and a type")}catch(r){if(Bt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Gg(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<_1:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,A)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,A))})}return{data:{session:e},error:null}}const{session:a,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await It(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Lo}):await this._useSession(async r=>{var n,a,s;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Po}:await It(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:Lo})})}catch(r){if(Bt(r))return ioe(r)&&(await this._removeSession(),await Wg(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Po;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Ru(this.storage,this.storageKey));const{data:u,error:A}=await It(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Lo});if(A)throw A;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Bt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Po;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:o}=C1(e.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Bt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Po;const{session:a,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Bt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!xs())throw new zg("No browser detected.");if(e.error||e.error_description||e.error_code)throw new zg(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new kF("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new kF("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!s||!l||!o||!u)throw new zg("No session defined in URL");const A=Math.round(Date.now()/1e3),d=parseInt(l);let h=A+d;c&&(h=parseInt(c));const f=h-A;f*1e3<=uA&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const p=h-d;A-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,A):A-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,A);const{data:g,error:m}=await this._getUser(s);if(m)throw m;const b={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(n){if(Bt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Gg(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{error:s};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(soe(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Wg(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=poe(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Ru(this.storage,this.storageKey,!0));try{return await It(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Bt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Bt(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var o,l,c,u,A;const{data:d,error:h}=s;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await It(this.fetch,"GET",f,{headers:this.headers,jwt:(A=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&A!==void 0?A:void 0})});if(a)throw a;return xs()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Bt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:s,error:o}=r;if(o)throw o;return await It(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Bt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await yoe(async a=>(a>0&&await voe(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await It(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ui})),(a,s)=>{const o=200*Math.pow(2,a);return s&&B1(s)&&Date.now()+o-n<uA})}catch(n){if(this._debug(r,"error",n),Bt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),xs()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Gg(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<_1;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${_1}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),B1(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Po;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new yV;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new Po;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(a,"error",s),Bt(s)){const o={session:null,error:s};return B1(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){s.push(c)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await vV(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Wg(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),uA);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/uA);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${uA}ms, refresh threshold is ${NS} ticks`),a<=NS&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof wV)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await Ru(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await It(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Bt(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:s,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await It(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Bt(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const{data:o,error:l}=await It(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Bt(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await It(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Bt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:a},error:s}=e;if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=C1(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const A=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:A},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n||(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+noe>Date.now()))return n;const{data:a,error:s}=await It(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!a.keys||a.keys.length===0)throw new Nf("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(o=>o.kid===e),!n)throw new Nf("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};n=f.session.access_token}const{header:a,payload:s,signature:o,raw:{header:l,payload:c}}=C1(n);if(Eoe(s.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:s,header:a,signature:o},error:null}}const u=Soe(a.alg),A=await this.fetchJwk(a.kid,r),d=await crypto.subtle.importKey("jwk",A,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,hoe(`${l}.${c}`)))throw new Nf("Invalid JWT signature");return{data:{claims:s,header:a,signature:o},error:null}}catch(n){if(Bt(n))return{data:null,error:n};throw n}}}im.nextInstanceID=0;const Koe=im;class qoe extends Koe{constructor(e){super(e)}}var zoe=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Goe{constructor(e,r,n){var a,s,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Yie(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,A={db:$ie,realtime:Kie,auth:Object.assign(Object.assign({},Vie),{storageKey:u}),global:Hie},d=Jie(n??{},A);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Wie(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new die(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new eie(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Mie(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return zoe(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:s,flowType:o,lock:l,debug:c},u,A){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qoe({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,flowType:o,lock:l,debug:c,fetch:A,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Cie(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Woe=(t,e,r)=>new Goe(t,e,r),Xoe="https://vpztrjwitxvldrdhndlr.supabase.co",Yoe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZwenRyandpdHh2bGRyZGhuZGxyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4MTE3NzIsImV4cCI6MjA2MzM4Nzc3Mn0._NFTwCpQGgMThUeh1sew8y5ulRXSGmwHLmXRQx544PM",Z=Woe(Xoe,Yoe,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storageKey:"jpc-digi-auth"}});Z.auth.onAuthStateChange((t,e)=>{t==="TOKEN_REFRESHED"&&!e&&(console.log("Token refresh failed, redirecting to login"),Z.auth.signOut().catch(r=>console.error("Error signing out:",r)),window.location.pathname.includes("/login")||setTimeout(()=>{window.location.href="/login"},500))});const sc={isEnabled:!1,workingDays:[{day:"monday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"tuesday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"wednesday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"thursday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"friday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"saturday",isActive:!0,openTime:"08:00",closeTime:"15:00"},{day:"sunday",isActive:!1,openTime:"08:00",closeTime:"15:00"}],offWorkMessage:"Maaf, kami sedang tutup. Silakan kembali pada jam operasional kami."};class Joe{constructor(){Sh(this,"settings",null);Sh(this,"lastFetchTime",0);Sh(this,"CACHE_DURATION_MS",5*60*1e3);Sh(this,"LOCAL_STORAGE_KEY","business_hours_settings")}async getBusinessHours(){const e=Date.now();if(this.settings&&e-this.lastFetchTime<this.CACHE_DURATION_MS)return console.debug("Menggunakan cache untuk pengaturan jam kerja"),this.settings;try{console.debug("Mengambil pengaturan jam kerja dari Supabase");const{data:r,error:n}=await Z.from("settings").select("value").eq("key","business_hours").maybeSingle();if(n){console.debug("Supabase error, coba gunakan localStorage:",n);const a=this.getFromLocalStorage();return a?(this.settings=a,this.lastFetchTime=e,a):(this.settings=sc,this.lastFetchTime=e,sc)}if(r&&r.value){const a=r.value;return this.settings=a,this.lastFetchTime=e,this.saveToLocalStorage(a),a}return this.settings=sc,this.lastFetchTime=e,sc}catch{return console.debug("Error fetching from Supabase, using default settings"),this.settings=sc,this.lastFetchTime=e,sc}}async updateBusinessHours(e){try{console.debug("Menyimpan pengaturan jam kerja ke Supabase");const{error:r}=await Z.from("settings").upsert({key:"business_hours",value:e,updated_at:new Date().toISOString()},{onConflict:"key"});return r?(console.error("Error updating business hours in Supabase:",r),this.saveToLocalStorage(e),{success:!1,message:`Gagal menyimpan ke database: ${r.message}. Data disimpan lokal sebagai cadangan.`}):(this.settings=e,this.lastFetchTime=Date.now(),this.saveToLocalStorage(e),console.debug("Business hours saved to Supabase successfully"),{success:!0,message:"Pengaturan jam kerja berhasil disimpan ke database."})}catch(r){return console.error("Exception updating business hours:",r),this.saveToLocalStorage(e),this.settings=e,this.lastFetchTime=Date.now(),{success:!1,message:`Terjadi kesalahan: ${r instanceof Error?r.message:"Unknown error"}. Data disimpan lokal.`}}}async isWithinBusinessHours(e){const r=await this.getBusinessHours();if(!r||!r.isEnabled)return console.debug("Jam kerja dinonaktifkan, status: BUKA"),!0;const n=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],a=e||new Date,s=new Intl.DateTimeFormat("id-ID",{timeZone:"Asia/Jakarta",hour:"numeric",minute:"numeric",hour12:!1,weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(a);console.debug(`Waktu Jakarta (WIB): ${s}`);const o={Minggu:"sunday",Senin:"monday",Selasa:"tuesday",Rabu:"wednesday",Kamis:"thursday",Jumat:"friday",Sabtu:"saturday"},l=s.split(",")[0],c=o[l]||n[a.getDay()],u=s.match(/(\d{1,2})\.(\d{2})/);let A=a.getHours(),d=a.getMinutes();u&&u.length>=3&&(A=parseInt(u[1],10),d=parseInt(u[2],10)),(isNaN(A)||isNaN(d))&&(A=(a.getUTCHours()+7)%24,d=a.getUTCMinutes()),console.debug(`Waktu saat ini: ${c} ${A}:${d.toString().padStart(2,"0")}`);const h=r.workingDays.find(C=>C.day===c);if(!h||!h.isActive)return console.debug(`Hari ${c} tidak aktif, status: TUTUP`),!1;const[f,p]=h.openTime.split(":").map(Number),[g,m]=h.closeTime.split(":").map(Number),b=A*60+d,y=f*60+p,w=g*60+m;console.debug(`Jam buka: ${f}:${p.toString().padStart(2,"0")} (${y} menit)`),console.debug(`Jam tutup: ${g}:${m.toString().padStart(2,"0")} (${w} menit)`),console.debug(`Waktu saat ini: ${A}:${d.toString().padStart(2,"0")} (${b} menit)`);let x=!1;return w<y?(x=b>=y||b<=w,console.debug(`Mode operasi: MELEWATI TENGAH MALAM, status: ${x?"BUKA":"TUTUP"}`)):(x=b>=y&&b<=w,console.debug(`Mode operasi: NORMAL, status: ${x?"BUKA":"TUTUP"}`)),x}async getCurrentStatus(e){try{const r=await this.getBusinessHours();if(!r||!r.isEnabled)return{isOpen:!0,message:""};if(await this.isWithinBusinessHours(e))return{isOpen:!0,message:""};{const a=new Date,s=new Date(a);s.setDate(s.getDate()+1);const o=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],l={sunday:"Minggu",monday:"Senin",tuesday:"Selasa",wednesday:"Rabu",thursday:"Kamis",friday:"Jumat",saturday:"Sabtu"},c=o[a.getDay()],u=o[s.getDay()],A=r.workingDays.find(f=>f.day===c),d=r.workingDays.find(f=>f.day===u);let h=r.offWorkMessage;if(A&&A.isActive){const[f,p]=A.openTime.split(":").map(Number),g=a.getHours(),m=a.getMinutes(),b=g*60+m,y=f*60+p;b<y&&(h+=` Kami akan buka hari ini pukul ${this.formatTimeIndonesia(A.openTime)}.`)}else if(d&&d.isActive)h+=` Kami akan buka besok (${l[u]}) pukul ${this.formatTimeIndonesia(d.openTime)}.`;else{let f=this.findNextOpenDay(r.workingDays,o.indexOf(c));if(f){const p=this.getIndonesianDayName(f.day),g=this.formatTimeIndonesia(f.openTime);h+=` Kami akan buka kembali pada hari ${p} pukul ${g} WIB.`}}return{isOpen:!1,message:h}}}catch(r){return console.debug("Error getting current status, defaulting to open",r),{isOpen:!0,message:""}}}formatTimeIndonesia(e){const[r,n]=e.split(":").map(Number);return`${r.toString().padStart(2,"0")}.${n.toString().padStart(2,"0")}`}getIndonesianDayName(e){return{sunday:"Minggu",monday:"Senin",tuesday:"Selasa",wednesday:"Rabu",thursday:"Kamis",friday:"Jumat",saturday:"Sabtu"}[e]||e}findNextOpenDay(e,r){for(let n=r+1;n<e.length+r;n++){const a=n%e.length;if(e[a].isActive)return e[a]}return null}saveToLocalStorage(e){try{localStorage.setItem(this.LOCAL_STORAGE_KEY,JSON.stringify(e)),console.debug("Pengaturan jam kerja disimpan ke localStorage")}catch(r){console.debug("Error saving business hours to localStorage:",r)}}getFromLocalStorage(){try{const e=localStorage.getItem(this.LOCAL_STORAGE_KEY);if(e){const r=JSON.parse(e);return console.debug("Berhasil mengambil pengaturan jam kerja dari localStorage"),r}return console.debug("Tidak ada data jam kerja di localStorage"),null}catch(e){return console.debug("Error reading business hours from localStorage:",e),null}}async resetToDefault(){try{return console.debug("Reset pengaturan jam kerja ke default"),await this.updateBusinessHours(sc)}catch(e){return console.error("Error resetting business hours:",e),{success:!1,message:`Gagal reset pengaturan: ${e instanceof Error?e.message:"Unknown error"}`}}}}const dc=new Joe,bb=Vd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),z=v.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...a},s)=>{const o=n?eo:"button";return i.jsx(o,{className:fe(bb({variant:e,size:r,className:t})),ref:s,...a})});z.displayName="Button";function Zoe(){const[t,e]=v.useState(!1),[r,n]=v.useState(""),[a,s]=v.useState(!0),[o,l]=v.useState(""),[c,u]=v.useState(0),[A,d]=v.useState(""),h=v.useCallback(async()=>{s(!0),d("");try{const f=new Date,p=`${f.getHours()}:${f.getMinutes().toString().padStart(2,"0")}`;l(p),console.debug(`[BusinessHoursOverlay] Memeriksa jam kerja pada ${p}`);const g=await dc.getCurrentStatus();console.debug(`[BusinessHoursOverlay] Status toko: ${g.isOpen?"BUKA":"TUTUP"}`),console.debug(`[BusinessHoursOverlay] Pesan: ${g.message}`),e(!g.isOpen),n(g.message),u(m=>m+1)}catch(f){console.error("[BusinessHoursOverlay] Error checking business hours:",f),d("Terjadi kesalahan saat memeriksa jam kerja"),e(!1)}finally{s(!1)}},[]);return v.useEffect(()=>{h();const f=setInterval(h,6e4);return()=>clearInterval(f)},[h]),a||!t?null:i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full p-6 text-center",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center mb-6",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-amber-100 flex items-center justify-center mb-4",children:i.jsx(XA,{className:"h-10 w-10 text-amber-600"})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Di Luar Jam Operasional"})]}),i.jsx("div",{className:"bg-amber-50 border border-amber-100 rounded-md p-4 mb-6",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(Zf,{className:"h-5 w-5 text-amber-600 mt-0.5 mr-2"}),i.jsx("p",{className:"text-gray-700",children:r})]})}),A&&i.jsx("div",{className:"bg-red-50 border border-red-100 rounded-md p-3 mb-4 text-left",children:i.jsx("p",{className:"text-red-600 text-sm",children:A})}),i.jsxs("div",{className:"flex flex-col space-y-4",children:[i.jsxs(z,{variant:"outline",onClick:h,className:"w-full flex items-center justify-center",disabled:a,children:[i.jsx(em,{className:"h-4 w-4 mr-2"}),a?"Memuat...":"Periksa Kembali"]}),i.jsx(z,{variant:"default",onClick:()=>window.location.reload(),className:"w-full",children:"Muat Ulang Halaman"}),i.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Terakhir diperiksa: ",o," (",c,"x)"]})]})]})})}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function om(){return om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},om.apply(this,arguments)}var tl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(tl||(tl={}));const MF="popstate";function ele(t){t===void 0&&(t={});function e(n,a){let{pathname:s,search:o,hash:l}=n.location;return IS("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:uv(a)}return rle(e,r,null,t)}function qr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _V(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tle(){return Math.random().toString(36).substr(2,8)}function QF(t,e){return{usr:t.state,key:t.key,idx:e}}function IS(t,e,r,n){return r===void 0&&(r=null),om({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Yd(e):e,{state:r,key:e&&e.key||n||tle()})}function uv(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Yd(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function rle(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l=tl.Pop,c=null,u=A();u==null&&(u=0,o.replaceState(om({},o.state,{idx:u}),""));function A(){return(o.state||{idx:null}).idx}function d(){l=tl.Pop;let m=A(),b=m==null?null:m-u;u=m,c&&c({action:l,location:g.location,delta:b})}function h(m,b){l=tl.Push;let y=IS(g.location,m,b);u=A()+1;let w=QF(y,u),x=g.createHref(y);try{o.pushState(w,"",x)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(x)}s&&c&&c({action:l,location:g.location,delta:1})}function f(m,b){l=tl.Replace;let y=IS(g.location,m,b);u=A();let w=QF(y,u),x=g.createHref(y);o.replaceState(w,"",x),s&&c&&c({action:l,location:g.location,delta:0})}function p(m){let b=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof m=="string"?m:uv(m);return y=y.replace(/ $/,"%20"),qr(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let g={get action(){return l},get location(){return t(a,o)},listen(m){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(MF,d),c=m,()=>{a.removeEventListener(MF,d),c=null}},createHref(m){return e(a,m)},createURL:p,encodeLocation(m){let b=p(m);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:f,go(m){return o.go(m)}};return g}var LF;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(LF||(LF={}));function nle(t,e,r){return r===void 0&&(r="/"),ale(t,e,r)}function ale(t,e,r,n){let a=typeof e=="string"?Yd(e):e,s=tT(a.pathname||"/",r);if(s==null)return null;let o=BV(t);sle(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=gle(s);l=fle(o[c],u)}return l}function BV(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(qr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=cl([n,c.relativePath]),A=r.concat(c);s.children&&s.children.length>0&&(qr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),BV(s.children,e,A,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:dle(u,s.index),routesMeta:A})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of CV(s.path))a(s,o,c)}),e}function CV(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=CV(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function sle(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:hle(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const ile=/^:[\w-]+$/,ole=3,lle=2,cle=1,ule=10,Ale=-2,HF=t=>t==="*";function dle(t,e){let r=t.split("/"),n=r.length;return r.some(HF)&&(n+=Ale),e&&(n+=lle),r.filter(a=>!HF(a)).reduce((a,s)=>a+(ile.test(s)?ole:s===""?cle:ule),n)}function hle(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function fle(t,e,r){let{routesMeta:n}=t,a={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,A=s==="/"?e:e.slice(s.length)||"/",d=mle({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},A),h=c.route;if(!d)return null;Object.assign(a,d.params),o.push({params:a,pathname:cl([s,d.pathname]),pathnameBase:ble(cl([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=cl([s,d.pathnameBase]))}return o}function mle(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=ple(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,A,d)=>{let{paramName:h,isOptional:f}=A;if(h==="*"){let g=l[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[d];return f&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function ple(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),_V(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function gle(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _V(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function tT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function xle(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?Yd(t):t;return{pathname:r?r.startsWith("/")?r:vle(r,e):e,search:wle(n),hash:_le(a)}}function vle(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function E1(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yle(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function rT(t,e){let r=yle(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function nT(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=Yd(t):(a=om({},t),qr(!a.pathname||!a.pathname.includes("?"),E1("?","pathname","search",a)),qr(!a.pathname||!a.pathname.includes("#"),E1("#","pathname","hash",a)),qr(!a.search||!a.search.includes("#"),E1("#","search","hash",a)));let s=t===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;a.pathname=h.join("/")}l=d>=0?e[d]:"/"}let c=xle(a,l),u=o&&o!=="/"&&o.endsWith("/"),A=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||A)&&(c.pathname+="/"),c}const cl=t=>t.join("/").replace(/\/\/+/g,"/"),ble=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wle=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_le=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ble(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const jV=["post","put","patch","delete"];new Set(jV);const Cle=["get",...jV];new Set(Cle);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lm(){return lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lm.apply(this,arguments)}const aT=v.createContext(null),jle=v.createContext(null),Ql=v.createContext(null),wb=v.createContext(null),po=v.createContext({outlet:null,matches:[],isDataRoute:!1}),EV=v.createContext(null);function Ele(t,e){let{relative:r}=e===void 0?{}:e;Jd()||qr(!1);let{basename:n,navigator:a}=v.useContext(Ql),{hash:s,pathname:o,search:l}=NV(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:cl([n,o])),a.createHref({pathname:c,search:l,hash:s})}function Jd(){return v.useContext(wb)!=null}function ma(){return Jd()||qr(!1),v.useContext(wb).location}function SV(t){v.useContext(Ql).static||v.useLayoutEffect(t)}function Rt(){let{isDataRoute:t}=v.useContext(po);return t?Qle():Sle()}function Sle(){Jd()||qr(!1);let t=v.useContext(aT),{basename:e,future:r,navigator:n}=v.useContext(Ql),{matches:a}=v.useContext(po),{pathname:s}=ma(),o=JSON.stringify(rT(a,r.v7_relativeSplatPath)),l=v.useRef(!1);return SV(()=>{l.current=!0}),v.useCallback(function(u,A){if(A===void 0&&(A={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=nT(u,JSON.parse(o),s,A.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:cl([e,d.pathname])),(A.replace?n.replace:n.push)(d,A.state,A)},[e,n,o,s,t])}function Qp(){let{matches:t}=v.useContext(po),e=t[t.length-1];return e?e.params:{}}function NV(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=v.useContext(Ql),{matches:a}=v.useContext(po),{pathname:s}=ma(),o=JSON.stringify(rT(a,n.v7_relativeSplatPath));return v.useMemo(()=>nT(t,JSON.parse(o),s,r==="path"),[t,o,s,r])}function Nle(t,e){return kle(t,e)}function kle(t,e,r,n){Jd()||qr(!1);let{navigator:a}=v.useContext(Ql),{matches:s}=v.useContext(po),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ma(),A;if(e){var d;let m=typeof e=="string"?Yd(e):e;c==="/"||(d=m.pathname)!=null&&d.startsWith(c)||qr(!1),A=m}else A=u;let h=A.pathname||"/",f=h;if(c!=="/"){let m=c.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(m.length).join("/")}let p=nle(t,{pathname:f}),g=Dle(p&&p.map(m=>Object.assign({},m,{params:Object.assign({},l,m.params),pathname:cl([c,a.encodeLocation?a.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?c:cl([c,a.encodeLocation?a.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),s,r,n);return e&&g?v.createElement(wb.Provider,{value:{location:lm({pathname:"/",search:"",hash:"",state:null,key:"default"},A),navigationType:tl.Pop}},g):g}function Tle(){let t=Mle(),e=Ble(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),r?v.createElement("pre",{style:a},r):null,null)}const Ile=v.createElement(Tle,null);class Ple extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?v.createElement(po.Provider,{value:this.props.routeContext},v.createElement(EV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fle(t){let{routeContext:e,match:r,children:n}=t,a=v.useContext(aT);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(po.Provider,{value:e},n)}function Dle(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let A=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);A>=0||qr(!1),o=o.slice(0,Math.min(o.length,A+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let A=0;A<o.length;A++){let d=o[A];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=A),d.route.id){let{loaderData:h,errors:f}=r,p=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((A,d,h)=>{let f,p=!1,g=null,m=null;r&&(f=l&&d.route.id?l[d.route.id]:void 0,g=d.route.errorElement||Ile,c&&(u<0&&h===0?(Lle("route-fallback"),p=!0,m=null):u===h&&(p=!0,m=d.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,h+1)),y=()=>{let w;return f?w=g:p?w=m:d.route.Component?w=v.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=A,v.createElement(Fle,{match:d,routeContext:{outlet:A,matches:b,isDataRoute:r!=null},children:w})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?v.createElement(Ple,{location:r.location,revalidation:r.revalidation,component:g,error:f,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var kV=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(kV||{}),TV=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(TV||{});function Ole(t){let e=v.useContext(aT);return e||qr(!1),e}function Rle(t){let e=v.useContext(jle);return e||qr(!1),e}function Ule(t){let e=v.useContext(po);return e||qr(!1),e}function IV(t){let e=Ule(),r=e.matches[e.matches.length-1];return r.route.id||qr(!1),r.route.id}function Mle(){var t;let e=v.useContext(EV),r=Rle(),n=IV();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Qle(){let{router:t}=Ole(kV.UseNavigateStable),e=IV(TV.UseNavigateStable),r=v.useRef(!1);return SV(()=>{r.current=!0}),v.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,lm({fromRouteId:e},s)))},[t,e])}const $F={};function Lle(t,e,r){$F[t]||($F[t]=!0)}function Av(t){let{to:e,replace:r,state:n,relative:a}=t;Jd()||qr(!1);let{future:s,static:o}=v.useContext(Ql),{matches:l}=v.useContext(po),{pathname:c}=ma(),u=Rt(),A=nT(e,rT(l,s.v7_relativeSplatPath),c,a==="path"),d=JSON.stringify(A);return v.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:a}),[u,d,a,r,n]),null}function at(t){qr(!1)}function Hle(t){let{basename:e="/",children:r=null,location:n,navigationType:a=tl.Pop,navigator:s,static:o=!1,future:l}=t;Jd()&&qr(!1);let c=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:s,static:o,future:lm({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=Yd(n));let{pathname:A="/",search:d="",hash:h="",state:f=null,key:p="default"}=n,g=v.useMemo(()=>{let m=tT(A,c);return m==null?null:{location:{pathname:m,search:d,hash:h,state:f,key:p},navigationType:a}},[c,A,d,h,f,p,a]);return g==null?null:v.createElement(Ql.Provider,{value:u},v.createElement(wb.Provider,{children:r,value:g}))}function $le(t){let{children:e,location:r}=t;return Nle(PS(e),r)}new Promise(()=>{});function PS(t,e){e===void 0&&(e=[]);let r=[];return v.Children.forEach(t,(n,a)=>{if(!v.isValidElement(n))return;let s=[...e,a];if(n.type===v.Fragment){r.push.apply(r,PS(n.props.children,s));return}n.type!==at&&qr(!1),!n.props.index||!n.props.children||qr(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=PS(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function FS(){return FS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FS.apply(this,arguments)}function Vle(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Kle(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qle(t,e){return t.button===0&&(!e||e==="_self")&&!Kle(t)}function DS(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function zle(t,e){let r=DS(t);return e&&e.forEach((n,a)=>{r.has(a)||e.getAll(a).forEach(s=>{r.append(a,s)})}),r}const Gle=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Wle="6";try{window.__reactRouterVersion=Wle}catch{}const Xle="startTransition",VF=vH[Xle];function Yle(t){let{basename:e,children:r,future:n,window:a}=t,s=v.useRef();s.current==null&&(s.current=ele({window:a,v5Compat:!0}));let o=s.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},A=v.useCallback(d=>{u&&VF?VF(()=>c(d)):c(d)},[c,u]);return v.useLayoutEffect(()=>o.listen(A),[o,A]),v.createElement(Hle,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Jle=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zle=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mt=v.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:A,viewTransition:d}=e,h=Vle(e,Gle),{basename:f}=v.useContext(Ql),p,g=!1;if(typeof u=="string"&&Zle.test(u)&&(p=u,Jle))try{let w=new URL(window.location.href),x=u.startsWith("//")?new URL(w.protocol+u):new URL(u),C=tT(x.pathname,f);x.origin===w.origin&&C!=null?u=C+x.search+x.hash:g=!0}catch{}let m=Ele(u,{relative:a}),b=ece(u,{replace:o,state:l,target:c,preventScrollReset:A,relative:a,viewTransition:d});function y(w){n&&n(w),w.defaultPrevented||b(w)}return v.createElement("a",FS({},h,{href:p||m,onClick:g||s?n:y,ref:r,target:c}))});var KF;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(KF||(KF={}));var qF;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(qF||(qF={}));function ece(t,e){let{target:r,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,c=Rt(),u=ma(),A=NV(t,{relative:o});return v.useCallback(d=>{if(qle(d,r)){d.preventDefault();let h=n!==void 0?n:uv(u)===uv(A);c(t,{replace:h,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,A,n,a,r,t,s,o,l])}function tce(t){let e=v.useRef(DS(t)),r=v.useRef(!1),n=ma(),a=v.useMemo(()=>zle(n.search,r.current?null:e.current),[n.search]),s=Rt(),o=v.useCallback((l,c)=>{const u=DS(typeof l=="function"?l(a):l);r.current=!0,s("?"+u,c)},[s,a]);return[a,o]}const rce=()=>{};var zF={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},nce=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const a=t[r++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const s=t[r++];e[n++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=t[r++],o=t[r++],l=t[r++],c=((a&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const s=t[r++],o=t[r++];e[n++]=String.fromCharCode((a&15)<<12|(s&63)<<6|o&63)}}return e.join("")},FV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<t.length;a+=3){const s=t[a],o=a+1<t.length,l=o?t[a+1]:0,c=a+2<t.length,u=c?t[a+2]:0,A=s>>2,d=(s&3)<<4|l>>4;let h=(l&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),n.push(r[A],r[d],r[h],r[f])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(PV(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nce(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<t.length;){const s=r[t.charAt(a++)],l=a<t.length?r[t.charAt(a)]:0;++a;const u=a<t.length?r[t.charAt(a)]:64;++a;const d=a<t.length?r[t.charAt(a)]:64;if(++a,s==null||l==null||u==null||d==null)throw new ace;const h=s<<2|l>>4;if(n.push(h),u!==64){const f=l<<4&240|u>>2;if(n.push(f),d!==64){const p=u<<6&192|d;n.push(p)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ace extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sce=function(t){const e=PV(t);return FV.encodeByteArray(e,!0)},dv=function(t){return sce(t).replace(/\./g,"")},ice=function(t){try{return FV.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oce=()=>DV().__FIREBASE_DEFAULTS__,lce=()=>{if(typeof process>"u"||typeof zF>"u")return;const t=zF.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cce=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ice(t[1]);return e&&JSON.parse(e)},sT=()=>{try{return rce()||oce()||lce()||cce()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uce=t=>{var e,r;return(r=(e=sT())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},Ace=t=>{const e=uce(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},OV=()=>{var t;return(t=sT())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(t){return t.endsWith(".cloudworkstations.dev")}async function hce(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fce(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",a=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[dv(JSON.stringify(r)),dv(JSON.stringify(o)),""].join(".")}const Tf={};function mce(){const t={prod:[],emulator:[]};for(const e of Object.keys(Tf))Tf[e]?t.emulator.push(e):t.prod.push(e);return t}function pce(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let GF=!1;function gce(t,e){if(typeof window>"u"||typeof document>"u"||!iT(window.location.host)||Tf[t]===e||Tf[t]||GF)return;Tf[t]=e;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",s=mce().prod.length>0;function o(){const h=document.getElementById(n);h&&h.remove()}function l(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,f){h.setAttribute("width","24"),h.setAttribute("id",f),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{GF=!0,o()},h}function A(h,f){h.setAttribute("id",f),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=pce(n),f=r("text"),p=document.getElementById(f)||document.createElement("span"),g=r("learnmore"),m=document.getElementById(g)||document.createElement("a"),b=r("preprendIcon"),y=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;l(w),A(m,g);const x=u();c(y,b),w.append(y,p,m,x),document.body.appendChild(w)}s?(p.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RV(){var t;const e=(t=sT())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UV(){return!RV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MV(){return!RV()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function oT(){try{return typeof indexedDB=="object"}catch{return!1}}function QV(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var s;e(((s=a.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}function xce(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vce="FirebaseError";class vu extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=vce,Object.setPrototypeOf(this,vu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_b.prototype.create)}}class _b{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},a=`${this.service}/${e}`,s=this.errors[e],o=s?yce(s,n):"Error",l=`${this.serviceName}: ${o} (${a}).`;return new vu(a,l,n)}}function yce(t,e){return t.replace(bce,(r,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const bce=/\{\$([^}]+)}/g;function fv(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const a of r){if(!n.includes(a))return!1;const s=t[a],o=e[a];if(WF(s)&&WF(o)){if(!fv(s,o))return!1}else if(s!==o)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function WF(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(t){return t&&t._delegate?t._delegate:t}class ao{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wce{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new dce;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(a)return null;throw s}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Bce(e))try{this.getOrInitializeService({instanceIdentifier:hc})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:a});n.resolve(s)}catch{}}}}clearInstance(e=hc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hc){return this.instances.has(e)}getOptions(e=hc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);n===l&&o.resolve(a)}return a}onInit(e,r){var n;const a=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(a,s);const o=this.instances.get(a);return o&&e(o,a),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:_ce(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=hc){return this.component?this.component.multipleInstances?e:hc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _ce(t){return t===hc?void 0:t}function Bce(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cce{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new wce(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qt||(qt={}));const jce={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},Ece=qt.INFO,Sce={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},Nce=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),a=Sce[e];if(a)console[a](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let LV=class{constructor(e){this.name=e,this._logLevel=Ece,this._logHandler=Nce,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jce[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...e),this._logHandler(this,qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...e),this._logHandler(this,qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...e),this._logHandler(this,qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...e),this._logHandler(this,qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...e),this._logHandler(this,qt.ERROR,...e)}};const kce=(t,e)=>e.some(r=>t instanceof r);let XF,YF;function Tce(){return XF||(XF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ice(){return YF||(YF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HV=new WeakMap,OS=new WeakMap,$V=new WeakMap,S1=new WeakMap,lT=new WeakMap;function Pce(t){const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{r(qi(t.result)),a()},o=()=>{n(t.error),a()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&HV.set(r,t)}).catch(()=>{}),lT.set(e,t),e}function Fce(t){if(OS.has(t))return;const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{r(),a()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});OS.set(t,e)}let RS={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return OS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$V.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return qi(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Dce(t){RS=t(RS)}function Oce(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(N1(this),e,...r);return $V.set(n,e.sort?e.sort():[e]),qi(n)}:Ice().includes(t)?function(...e){return t.apply(N1(this),e),qi(HV.get(this))}:function(...e){return qi(t.apply(N1(this),e))}}function Rce(t){return typeof t=="function"?Oce(t):(t instanceof IDBTransaction&&Fce(t),kce(t,Tce())?new Proxy(t,RS):t)}function qi(t){if(t instanceof IDBRequest)return Pce(t);if(S1.has(t))return S1.get(t);const e=Rce(t);return e!==t&&(S1.set(t,e),lT.set(e,t)),e}const N1=t=>lT.get(t);function Bb(t,e,{blocked:r,upgrade:n,blocking:a,terminated:s}={}){const o=indexedDB.open(t,e),l=qi(o);return n&&o.addEventListener("upgradeneeded",c=>{n(qi(o.result),c.oldVersion,c.newVersion,qi(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),a&&c.addEventListener("versionchange",u=>a(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}function k1(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",n=>e(n.oldVersion,n)),qi(r).then(()=>{})}const Uce=["get","getKey","getAll","getAllKeys","count"],Mce=["put","add","delete","clear"],T1=new Map;function JF(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(T1.get(e))return T1.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,a=Mce.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||Uce.includes(r)))return;const s=async function(o,...l){const c=this.transaction(o,a?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),a&&c.done]))[0]};return T1.set(e,s),s}Dce(t=>({...t,get:(e,r,n)=>JF(e,r)||t.get(e,r,n),has:(e,r)=>!!JF(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qce{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Lce(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Lce(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const US="@firebase/app",ZF="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=new LV("@firebase/app"),Hce="@firebase/app-compat",$ce="@firebase/analytics-compat",Vce="@firebase/analytics",Kce="@firebase/app-check-compat",qce="@firebase/app-check",zce="@firebase/auth",Gce="@firebase/auth-compat",Wce="@firebase/database",Xce="@firebase/data-connect",Yce="@firebase/database-compat",Jce="@firebase/functions",Zce="@firebase/functions-compat",eue="@firebase/installations",tue="@firebase/installations-compat",rue="@firebase/messaging",nue="@firebase/messaging-compat",aue="@firebase/performance",sue="@firebase/performance-compat",iue="@firebase/remote-config",oue="@firebase/remote-config-compat",lue="@firebase/storage",cue="@firebase/storage-compat",uue="@firebase/firestore",Aue="@firebase/ai",due="@firebase/firestore-compat",hue="firebase",fue="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="[DEFAULT]",mue={[US]:"fire-core",[Hce]:"fire-core-compat",[Vce]:"fire-analytics",[$ce]:"fire-analytics-compat",[qce]:"fire-app-check",[Kce]:"fire-app-check-compat",[zce]:"fire-auth",[Gce]:"fire-auth-compat",[Wce]:"fire-rtdb",[Xce]:"fire-data-connect",[Yce]:"fire-rtdb-compat",[Jce]:"fire-fn",[Zce]:"fire-fn-compat",[eue]:"fire-iid",[tue]:"fire-iid-compat",[rue]:"fire-fcm",[nue]:"fire-fcm-compat",[aue]:"fire-perf",[sue]:"fire-perf-compat",[iue]:"fire-rc",[oue]:"fire-rc-compat",[lue]:"fire-gcs",[cue]:"fire-gcs-compat",[uue]:"fire-fst",[due]:"fire-fst-compat",[Aue]:"fire-vertex","fire-js":"fire-js",[hue]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=new Map,pue=new Map,QS=new Map;function eD(t,e){try{t.container.addComponent(e)}catch(r){so.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Cl(t){const e=t.name;if(QS.has(e))return so.debug(`There were multiple attempts to register component ${e}.`),!1;QS.set(e,t);for(const r of mv.values())eD(r,t);for(const r of pue.values())eD(r,t);return!0}function Cb(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function gue(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xue={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ul=new _b("app","Firebase",xue);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vue{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ul.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yue=fue;function VV(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:MS,automaticDataCollectionEnabled:!0},e),a=n.name;if(typeof a!="string"||!a)throw ul.create("bad-app-name",{appName:String(a)});if(r||(r=OV()),!r)throw ul.create("no-options");const s=mv.get(a);if(s){if(fv(r,s.options)&&fv(n,s.config))return s;throw ul.create("duplicate-app",{appName:a})}const o=new Cce(a);for(const c of QS.values())o.addComponent(c);const l=new vue(r,n,o);return mv.set(a,l),l}function KV(t=MS){const e=mv.get(t);if(!e&&t===MS&&OV())return VV();if(!e)throw ul.create("no-app",{appName:t});return e}function ui(t,e,r){var n;let a=(n=mue[t])!==null&&n!==void 0?n:t;r&&(a+=`-${r}`);const s=a.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${a}" with version "${e}":`];s&&l.push(`library name "${a}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),so.warn(l.join(" "));return}Cl(new ao(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bue="firebase-heartbeat-database",wue=1,cm="firebase-heartbeat-store";let I1=null;function qV(){return I1||(I1=Bb(bue,wue,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(cm)}catch(r){console.warn(r)}}}}).catch(t=>{throw ul.create("idb-open",{originalErrorMessage:t.message})})),I1}async function _ue(t){try{const r=(await qV()).transaction(cm),n=await r.objectStore(cm).get(zV(t));return await r.done,n}catch(e){if(e instanceof vu)so.warn(e.message);else{const r=ul.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});so.warn(r.message)}}}async function tD(t,e){try{const n=(await qV()).transaction(cm,"readwrite");await n.objectStore(cm).put(e,zV(t)),await n.done}catch(r){if(r instanceof vu)so.warn(r.message);else{const n=ul.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});so.warn(n.message)}}}function zV(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bue=1024,Cue=30;class jue{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Sue(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=rD();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>Cue){const o=Nue(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){so.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=rD(),{heartbeatsToSend:n,unsentEntries:a}=Eue(this._heartbeatsCache.heartbeats),s=dv(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return so.warn(r),""}}}function rD(){return new Date().toISOString().substring(0,10)}function Eue(t,e=Bue){const r=[];let n=t.slice();for(const a of t){const s=r.find(o=>o.agent===a.agent);if(s){if(s.dates.push(a.date),nD(r)>e){s.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),nD(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Sue{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oT()?QV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await _ue(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return tD(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return tD(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function nD(t){return dv(JSON.stringify({version:2,heartbeats:t})).length}function Nue(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kue(t){Cl(new ao("platform-logger",e=>new Qce(e),"PRIVATE")),Cl(new ao("heartbeat",e=>new jue(e),"PRIVATE")),ui(US,ZF,t),ui(US,ZF,"esm2017"),ui("fire-js","")}kue("");var Tue="firebase",Iue="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ui(Tue,Iue,"app");var aD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(B,j){function N(){}N.prototype=j.prototype,B.D=j.prototype,B.prototype=new N,B.prototype.constructor=B,B.C=function(S,k,I){for(var T=Array(arguments.length-2),O=2;O<arguments.length;O++)T[O-2]=arguments[O];return j.prototype[k].apply(S,T)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(B,j,N){N||(N=0);var S=Array(16);if(typeof j=="string")for(var k=0;16>k;++k)S[k]=j.charCodeAt(N++)|j.charCodeAt(N++)<<8|j.charCodeAt(N++)<<16|j.charCodeAt(N++)<<24;else for(k=0;16>k;++k)S[k]=j[N++]|j[N++]<<8|j[N++]<<16|j[N++]<<24;j=B.g[0],N=B.g[1],k=B.g[2];var I=B.g[3],T=j+(I^N&(k^I))+S[0]+3614090360&4294967295;j=N+(T<<7&4294967295|T>>>25),T=I+(k^j&(N^k))+S[1]+3905402710&4294967295,I=j+(T<<12&4294967295|T>>>20),T=k+(N^I&(j^N))+S[2]+606105819&4294967295,k=I+(T<<17&4294967295|T>>>15),T=N+(j^k&(I^j))+S[3]+3250441966&4294967295,N=k+(T<<22&4294967295|T>>>10),T=j+(I^N&(k^I))+S[4]+4118548399&4294967295,j=N+(T<<7&4294967295|T>>>25),T=I+(k^j&(N^k))+S[5]+1200080426&4294967295,I=j+(T<<12&4294967295|T>>>20),T=k+(N^I&(j^N))+S[6]+2821735955&4294967295,k=I+(T<<17&4294967295|T>>>15),T=N+(j^k&(I^j))+S[7]+4249261313&4294967295,N=k+(T<<22&4294967295|T>>>10),T=j+(I^N&(k^I))+S[8]+1770035416&4294967295,j=N+(T<<7&4294967295|T>>>25),T=I+(k^j&(N^k))+S[9]+2336552879&4294967295,I=j+(T<<12&4294967295|T>>>20),T=k+(N^I&(j^N))+S[10]+4294925233&4294967295,k=I+(T<<17&4294967295|T>>>15),T=N+(j^k&(I^j))+S[11]+2304563134&4294967295,N=k+(T<<22&4294967295|T>>>10),T=j+(I^N&(k^I))+S[12]+1804603682&4294967295,j=N+(T<<7&4294967295|T>>>25),T=I+(k^j&(N^k))+S[13]+4254626195&4294967295,I=j+(T<<12&4294967295|T>>>20),T=k+(N^I&(j^N))+S[14]+2792965006&4294967295,k=I+(T<<17&4294967295|T>>>15),T=N+(j^k&(I^j))+S[15]+1236535329&4294967295,N=k+(T<<22&4294967295|T>>>10),T=j+(k^I&(N^k))+S[1]+4129170786&4294967295,j=N+(T<<5&4294967295|T>>>27),T=I+(N^k&(j^N))+S[6]+3225465664&4294967295,I=j+(T<<9&4294967295|T>>>23),T=k+(j^N&(I^j))+S[11]+643717713&4294967295,k=I+(T<<14&4294967295|T>>>18),T=N+(I^j&(k^I))+S[0]+3921069994&4294967295,N=k+(T<<20&4294967295|T>>>12),T=j+(k^I&(N^k))+S[5]+3593408605&4294967295,j=N+(T<<5&4294967295|T>>>27),T=I+(N^k&(j^N))+S[10]+38016083&4294967295,I=j+(T<<9&4294967295|T>>>23),T=k+(j^N&(I^j))+S[15]+3634488961&4294967295,k=I+(T<<14&4294967295|T>>>18),T=N+(I^j&(k^I))+S[4]+3889429448&4294967295,N=k+(T<<20&4294967295|T>>>12),T=j+(k^I&(N^k))+S[9]+568446438&4294967295,j=N+(T<<5&4294967295|T>>>27),T=I+(N^k&(j^N))+S[14]+3275163606&4294967295,I=j+(T<<9&4294967295|T>>>23),T=k+(j^N&(I^j))+S[3]+4107603335&4294967295,k=I+(T<<14&4294967295|T>>>18),T=N+(I^j&(k^I))+S[8]+1163531501&4294967295,N=k+(T<<20&4294967295|T>>>12),T=j+(k^I&(N^k))+S[13]+2850285829&4294967295,j=N+(T<<5&4294967295|T>>>27),T=I+(N^k&(j^N))+S[2]+4243563512&4294967295,I=j+(T<<9&4294967295|T>>>23),T=k+(j^N&(I^j))+S[7]+1735328473&4294967295,k=I+(T<<14&4294967295|T>>>18),T=N+(I^j&(k^I))+S[12]+2368359562&4294967295,N=k+(T<<20&4294967295|T>>>12),T=j+(N^k^I)+S[5]+4294588738&4294967295,j=N+(T<<4&4294967295|T>>>28),T=I+(j^N^k)+S[8]+2272392833&4294967295,I=j+(T<<11&4294967295|T>>>21),T=k+(I^j^N)+S[11]+1839030562&4294967295,k=I+(T<<16&4294967295|T>>>16),T=N+(k^I^j)+S[14]+4259657740&4294967295,N=k+(T<<23&4294967295|T>>>9),T=j+(N^k^I)+S[1]+2763975236&4294967295,j=N+(T<<4&4294967295|T>>>28),T=I+(j^N^k)+S[4]+1272893353&4294967295,I=j+(T<<11&4294967295|T>>>21),T=k+(I^j^N)+S[7]+4139469664&4294967295,k=I+(T<<16&4294967295|T>>>16),T=N+(k^I^j)+S[10]+3200236656&4294967295,N=k+(T<<23&4294967295|T>>>9),T=j+(N^k^I)+S[13]+681279174&4294967295,j=N+(T<<4&4294967295|T>>>28),T=I+(j^N^k)+S[0]+3936430074&4294967295,I=j+(T<<11&4294967295|T>>>21),T=k+(I^j^N)+S[3]+3572445317&4294967295,k=I+(T<<16&4294967295|T>>>16),T=N+(k^I^j)+S[6]+76029189&4294967295,N=k+(T<<23&4294967295|T>>>9),T=j+(N^k^I)+S[9]+3654602809&4294967295,j=N+(T<<4&4294967295|T>>>28),T=I+(j^N^k)+S[12]+3873151461&4294967295,I=j+(T<<11&4294967295|T>>>21),T=k+(I^j^N)+S[15]+530742520&4294967295,k=I+(T<<16&4294967295|T>>>16),T=N+(k^I^j)+S[2]+3299628645&4294967295,N=k+(T<<23&4294967295|T>>>9),T=j+(k^(N|~I))+S[0]+4096336452&4294967295,j=N+(T<<6&4294967295|T>>>26),T=I+(N^(j|~k))+S[7]+1126891415&4294967295,I=j+(T<<10&4294967295|T>>>22),T=k+(j^(I|~N))+S[14]+2878612391&4294967295,k=I+(T<<15&4294967295|T>>>17),T=N+(I^(k|~j))+S[5]+4237533241&4294967295,N=k+(T<<21&4294967295|T>>>11),T=j+(k^(N|~I))+S[12]+1700485571&4294967295,j=N+(T<<6&4294967295|T>>>26),T=I+(N^(j|~k))+S[3]+2399980690&4294967295,I=j+(T<<10&4294967295|T>>>22),T=k+(j^(I|~N))+S[10]+4293915773&4294967295,k=I+(T<<15&4294967295|T>>>17),T=N+(I^(k|~j))+S[1]+2240044497&4294967295,N=k+(T<<21&4294967295|T>>>11),T=j+(k^(N|~I))+S[8]+1873313359&4294967295,j=N+(T<<6&4294967295|T>>>26),T=I+(N^(j|~k))+S[15]+4264355552&4294967295,I=j+(T<<10&4294967295|T>>>22),T=k+(j^(I|~N))+S[6]+2734768916&4294967295,k=I+(T<<15&4294967295|T>>>17),T=N+(I^(k|~j))+S[13]+1309151649&4294967295,N=k+(T<<21&4294967295|T>>>11),T=j+(k^(N|~I))+S[4]+4149444226&4294967295,j=N+(T<<6&4294967295|T>>>26),T=I+(N^(j|~k))+S[11]+3174756917&4294967295,I=j+(T<<10&4294967295|T>>>22),T=k+(j^(I|~N))+S[2]+718787259&4294967295,k=I+(T<<15&4294967295|T>>>17),T=N+(I^(k|~j))+S[9]+3951481745&4294967295,B.g[0]=B.g[0]+j&4294967295,B.g[1]=B.g[1]+(k+(T<<21&4294967295|T>>>11))&4294967295,B.g[2]=B.g[2]+k&4294967295,B.g[3]=B.g[3]+I&4294967295}n.prototype.u=function(B,j){j===void 0&&(j=B.length);for(var N=j-this.blockSize,S=this.B,k=this.h,I=0;I<j;){if(k==0)for(;I<=N;)a(this,B,I),I+=this.blockSize;if(typeof B=="string"){for(;I<j;)if(S[k++]=B.charCodeAt(I++),k==this.blockSize){a(this,S),k=0;break}}else for(;I<j;)if(S[k++]=B[I++],k==this.blockSize){a(this,S),k=0;break}}this.h=k,this.o+=j},n.prototype.v=function(){var B=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);B[0]=128;for(var j=1;j<B.length-8;++j)B[j]=0;var N=8*this.o;for(j=B.length-8;j<B.length;++j)B[j]=N&255,N/=256;for(this.u(B),B=Array(16),j=N=0;4>j;++j)for(var S=0;32>S;S+=8)B[N++]=this.g[j]>>>S&255;return B};function s(B,j){var N=l;return Object.prototype.hasOwnProperty.call(N,B)?N[B]:N[B]=j(B)}function o(B,j){this.h=j;for(var N=[],S=!0,k=B.length-1;0<=k;k--){var I=B[k]|0;S&&I==j||(N[k]=I,S=!1)}this.g=N}var l={};function c(B){return-128<=B&&128>B?s(B,function(j){return new o([j|0],0>j?-1:0)}):new o([B|0],0>B?-1:0)}function u(B){if(isNaN(B)||!isFinite(B))return d;if(0>B)return m(u(-B));for(var j=[],N=1,S=0;B>=N;S++)j[S]=B/N|0,N*=4294967296;return new o(j,0)}function A(B,j){if(B.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(B.charAt(0)=="-")return m(A(B.substring(1),j));if(0<=B.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=u(Math.pow(j,8)),S=d,k=0;k<B.length;k+=8){var I=Math.min(8,B.length-k),T=parseInt(B.substring(k,k+I),j);8>I?(I=u(Math.pow(j,I)),S=S.j(I).add(u(T))):(S=S.j(N),S=S.add(u(T)))}return S}var d=c(0),h=c(1),f=c(16777216);t=o.prototype,t.m=function(){if(g(this))return-m(this).m();for(var B=0,j=1,N=0;N<this.g.length;N++){var S=this.i(N);B+=(0<=S?S:4294967296+S)*j,j*=4294967296}return B},t.toString=function(B){if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(p(this))return"0";if(g(this))return"-"+m(this).toString(B);for(var j=u(Math.pow(B,6)),N=this,S="";;){var k=x(N,j).g;N=b(N,k.j(j));var I=((0<N.g.length?N.g[0]:N.h)>>>0).toString(B);if(N=k,p(N))return I+S;for(;6>I.length;)I="0"+I;S=I+S}},t.i=function(B){return 0>B?0:B<this.g.length?this.g[B]:this.h};function p(B){if(B.h!=0)return!1;for(var j=0;j<B.g.length;j++)if(B.g[j]!=0)return!1;return!0}function g(B){return B.h==-1}t.l=function(B){return B=b(this,B),g(B)?-1:p(B)?0:1};function m(B){for(var j=B.g.length,N=[],S=0;S<j;S++)N[S]=~B.g[S];return new o(N,~B.h).add(h)}t.abs=function(){return g(this)?m(this):this},t.add=function(B){for(var j=Math.max(this.g.length,B.g.length),N=[],S=0,k=0;k<=j;k++){var I=S+(this.i(k)&65535)+(B.i(k)&65535),T=(I>>>16)+(this.i(k)>>>16)+(B.i(k)>>>16);S=T>>>16,I&=65535,T&=65535,N[k]=T<<16|I}return new o(N,N[N.length-1]&-2147483648?-1:0)};function b(B,j){return B.add(m(j))}t.j=function(B){if(p(this)||p(B))return d;if(g(this))return g(B)?m(this).j(m(B)):m(m(this).j(B));if(g(B))return m(this.j(m(B)));if(0>this.l(f)&&0>B.l(f))return u(this.m()*B.m());for(var j=this.g.length+B.g.length,N=[],S=0;S<2*j;S++)N[S]=0;for(S=0;S<this.g.length;S++)for(var k=0;k<B.g.length;k++){var I=this.i(S)>>>16,T=this.i(S)&65535,O=B.i(k)>>>16,U=B.i(k)&65535;N[2*S+2*k]+=T*U,y(N,2*S+2*k),N[2*S+2*k+1]+=I*U,y(N,2*S+2*k+1),N[2*S+2*k+1]+=T*O,y(N,2*S+2*k+1),N[2*S+2*k+2]+=I*O,y(N,2*S+2*k+2)}for(S=0;S<j;S++)N[S]=N[2*S+1]<<16|N[2*S];for(S=j;S<2*j;S++)N[S]=0;return new o(N,0)};function y(B,j){for(;(B[j]&65535)!=B[j];)B[j+1]+=B[j]>>>16,B[j]&=65535,j++}function w(B,j){this.g=B,this.h=j}function x(B,j){if(p(j))throw Error("division by zero");if(p(B))return new w(d,d);if(g(B))return j=x(m(B),j),new w(m(j.g),m(j.h));if(g(j))return j=x(B,m(j)),new w(m(j.g),j.h);if(30<B.g.length){if(g(B)||g(j))throw Error("slowDivide_ only works with positive integers.");for(var N=h,S=j;0>=S.l(B);)N=C(N),S=C(S);var k=E(N,1),I=E(S,1);for(S=E(S,2),N=E(N,2);!p(S);){var T=I.add(S);0>=T.l(B)&&(k=k.add(N),I=T),S=E(S,1),N=E(N,1)}return j=b(B,k.j(j)),new w(k,j)}for(k=d;0<=B.l(j);){for(N=Math.max(1,Math.floor(B.m()/j.m())),S=Math.ceil(Math.log(N)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),I=u(N),T=I.j(j);g(T)||0<T.l(B);)N-=S,I=u(N),T=I.j(j);p(I)&&(I=h),k=k.add(I),B=b(B,T)}return new w(k,B)}t.A=function(B){return x(this,B).h},t.and=function(B){for(var j=Math.max(this.g.length,B.g.length),N=[],S=0;S<j;S++)N[S]=this.i(S)&B.i(S);return new o(N,this.h&B.h)},t.or=function(B){for(var j=Math.max(this.g.length,B.g.length),N=[],S=0;S<j;S++)N[S]=this.i(S)|B.i(S);return new o(N,this.h|B.h)},t.xor=function(B){for(var j=Math.max(this.g.length,B.g.length),N=[],S=0;S<j;S++)N[S]=this.i(S)^B.i(S);return new o(N,this.h^B.h)};function C(B){for(var j=B.g.length+1,N=[],S=0;S<j;S++)N[S]=B.i(S)<<1|B.i(S-1)>>>31;return new o(N,B.h)}function E(B,j){var N=j>>5;j%=32;for(var S=B.g.length-N,k=[],I=0;I<S;I++)k[I]=0<j?B.i(I+N)>>>j|B.i(I+N+1)<<32-j:B.i(I+N);return new o(k,B.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=A,cT=o}).apply(typeof aD<"u"?aD:typeof self<"u"?self:typeof window<"u"?window:{});var Xg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GV,Af,WV,Y0,LS,XV,YV,JV;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,P,F){return _==Array.prototype||_==Object.prototype||(_[P]=F.value),_};function r(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xg=="object"&&Xg];for(var P=0;P<_.length;++P){var F=_[P];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var n=r(this);function a(_,P){if(P)e:{var F=n;_=_.split(".");for(var $=0;$<_.length-1;$++){var ae=_[$];if(!(ae in F))break e;F=F[ae]}_=_[_.length-1],$=F[_],P=P($),P!=$&&P!=null&&e(F,_,{configurable:!0,writable:!0,value:P})}}function s(_,P){_ instanceof String&&(_+="");var F=0,$=!1,ae={next:function(){if(!$&&F<_.length){var ue=F++;return{value:P(ue,_[ue]),done:!1}}return $=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}a("Array.prototype.values",function(_){return _||function(){return s(this,function(P,F){return F})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(_){var P=typeof _;return P=P!="object"?P:_?Array.isArray(_)?"array":P:"null",P=="array"||P=="object"&&typeof _.length=="number"}function u(_){var P=typeof _;return P=="object"&&_!=null||P=="function"}function A(_,P,F){return _.call.apply(_.bind,arguments)}function d(_,P,F){if(!_)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,$),_.apply(P,ae)}}return function(){return _.apply(P,arguments)}}function h(_,P,F){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:d,h.apply(null,arguments)}function f(_,P){var F=Array.prototype.slice.call(arguments,1);return function(){var $=F.slice();return $.push.apply($,arguments),_.apply(this,$)}}function p(_,P){function F(){}F.prototype=P.prototype,_.aa=P.prototype,_.prototype=new F,_.prototype.constructor=_,_.Qb=function($,ae,ue){for(var Pe=Array(arguments.length-2),mr=2;mr<arguments.length;mr++)Pe[mr-2]=arguments[mr];return P.prototype[ae].apply($,Pe)}}function g(_){const P=_.length;if(0<P){const F=Array(P);for(let $=0;$<P;$++)F[$]=_[$];return F}return[]}function m(_,P){for(let F=1;F<arguments.length;F++){const $=arguments[F];if(c($)){const ae=_.length||0,ue=$.length||0;_.length=ae+ue;for(let Pe=0;Pe<ue;Pe++)_[ae+Pe]=$[Pe]}else _.push($)}}class b{constructor(P,F){this.i=P,this.j=F,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function y(_){return/^[\s\xa0]*$/.test(_)}function w(){var _=l.navigator;return _&&(_=_.userAgent)?_:""}function x(_){return x[" "](_),_}x[" "]=function(){};var C=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function E(_,P,F){for(const $ in _)P.call(F,_[$],$,_)}function B(_,P){for(const F in _)P.call(void 0,_[F],F,_)}function j(_){const P={};for(const F in _)P[F]=_[F];return P}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(_,P){let F,$;for(let ae=1;ae<arguments.length;ae++){$=arguments[ae];for(F in $)_[F]=$[F];for(let ue=0;ue<N.length;ue++)F=N[ue],Object.prototype.hasOwnProperty.call($,F)&&(_[F]=$[F])}}function k(_){var P=1;_=_.split(":");const F=[];for(;0<P&&_.length;)F.push(_.shift()),P--;return _.length&&F.push(_.join(":")),F}function I(_){l.setTimeout(()=>{throw _},0)}function T(){var _=M;let P=null;return _.g&&(P=_.g,_.g=_.g.next,_.g||(_.h=null),P.next=null),P}class O{constructor(){this.h=this.g=null}add(P,F){const $=U.get();$.set(P,F),this.h?this.h.next=$:this.g=$,this.h=$}}var U=new b(()=>new H,_=>_.reset());class H{constructor(){this.next=this.g=this.h=null}set(P,F){this.h=P,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let R,D=!1,M=new O,Q=()=>{const _=l.Promise.resolve(void 0);R=()=>{_.then(L)}};var L=()=>{for(var _;_=T();){try{_.h.call(_.g)}catch(F){I(F)}var P=U;P.j(_),100>P.h&&(P.h++,_.next=P.g,P.g=_)}D=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(_,P){this.type=_,this.g=this.target=P,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var q=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var _=!1,P=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const F=()=>{};l.addEventListener("test",F,P),l.removeEventListener("test",F,P)}catch{}return _}();function W(_,P){if(G.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var F=this.type=_.type,$=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=P,P=_.relatedTarget){if(C){e:{try{x(P.nodeName);var ae=!0;break e}catch{}ae=!1}ae||(P=null)}}else F=="mouseover"?P=_.fromElement:F=="mouseout"&&(P=_.toElement);this.relatedTarget=P,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:re[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&W.aa.h.call(this)}}p(W,G);var re={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),ne=0;function ce(_,P,F,$,ae){this.listener=_,this.proxy=null,this.src=P,this.type=F,this.capture=!!$,this.ha=ae,this.key=++ne,this.da=this.fa=!1}function Ae(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function ve(_){this.src=_,this.g={},this.h=0}ve.prototype.add=function(_,P,F,$,ae){var ue=_.toString();_=this.g[ue],_||(_=this.g[ue]=[],this.h++);var Pe=pe(_,P,$,ae);return-1<Pe?(P=_[Pe],F||(P.fa=!1)):(P=new ce(P,this.src,ue,!!$,ae),P.fa=F,_.push(P)),P};function Y(_,P){var F=P.type;if(F in _.g){var $=_.g[F],ae=Array.prototype.indexOf.call($,P,void 0),ue;(ue=0<=ae)&&Array.prototype.splice.call($,ae,1),ue&&(Ae(P),_.g[F].length==0&&(delete _.g[F],_.h--))}}function pe(_,P,F,$){for(var ae=0;ae<_.length;++ae){var ue=_[ae];if(!ue.da&&ue.listener==P&&ue.capture==!!F&&ue.ha==$)return ae}return-1}var Ee="closure_lm_"+(1e6*Math.random()|0),Re={};function $e(_,P,F,$,ae){if(Array.isArray(P)){for(var ue=0;ue<P.length;ue++)$e(_,P[ue],F,$,ae);return null}return F=lt(F),_&&_[le]?_.K(P,F,u($)?!!$.capture:!1,ae):wt(_,P,F,!1,$,ae)}function wt(_,P,F,$,ae,ue){if(!P)throw Error("Invalid event type");var Pe=u(ae)?!!ae.capture:!!ae,mr=xe(_);if(mr||(_[Ee]=mr=new ve(_)),F=mr.add(P,F,$,Pe,ue),F.proxy)return F;if($=X(),F.proxy=$,$.src=_,$.listener=F,_.addEventListener)q||(ae=Pe),ae===void 0&&(ae=!1),_.addEventListener(P.toString(),$,ae);else if(_.attachEvent)_.attachEvent(ge(P.toString()),$);else if(_.addListener&&_.removeListener)_.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return F}function X(){function _(F){return P.call(_.src,_.listener,F)}const P=we;return _}function ee(_,P,F,$,ae){if(Array.isArray(P))for(var ue=0;ue<P.length;ue++)ee(_,P[ue],F,$,ae);else $=u($)?!!$.capture:!!$,F=lt(F),_&&_[le]?(_=_.i,P=String(P).toString(),P in _.g&&(ue=_.g[P],F=pe(ue,F,$,ae),-1<F&&(Ae(ue[F]),Array.prototype.splice.call(ue,F,1),ue.length==0&&(delete _.g[P],_.h--)))):_&&(_=xe(_))&&(P=_.g[P.toString()],_=-1,P&&(_=pe(P,F,$,ae)),(F=-1<_?P[_]:null)&&ie(F))}function ie(_){if(typeof _!="number"&&_&&!_.da){var P=_.src;if(P&&P[le])Y(P.i,_);else{var F=_.type,$=_.proxy;P.removeEventListener?P.removeEventListener(F,$,_.capture):P.detachEvent?P.detachEvent(ge(F),$):P.addListener&&P.removeListener&&P.removeListener($),(F=xe(P))?(Y(F,_),F.h==0&&(F.src=null,P[Ee]=null)):Ae(_)}}}function ge(_){return _ in Re?Re[_]:Re[_]="on"+_}function we(_,P){if(_.da)_=!0;else{P=new W(P,this);var F=_.listener,$=_.ha||_.src;_.fa&&ie(_),_=F.call($,P)}return _}function xe(_){return _=_[Ee],_ instanceof ve?_:null}var Ve="__closure_events_fn_"+(1e9*Math.random()>>>0);function lt(_){return typeof _=="function"?_:(_[Ve]||(_[Ve]=function(P){return _.handleEvent(P)}),_[Ve])}function nt(){K.call(this),this.i=new ve(this),this.M=this,this.F=null}p(nt,K),nt.prototype[le]=!0,nt.prototype.removeEventListener=function(_,P,F,$){ee(this,_,P,F,$)};function it(_,P){var F,$=_.F;if($)for(F=[];$;$=$.F)F.push($);if(_=_.M,$=P.type||P,typeof P=="string")P=new G(P,_);else if(P instanceof G)P.target=P.target||_;else{var ae=P;P=new G($,_),S(P,ae)}if(ae=!0,F)for(var ue=F.length-1;0<=ue;ue--){var Pe=P.g=F[ue];ae=oe(Pe,$,!0,P)&&ae}if(Pe=P.g=_,ae=oe(Pe,$,!0,P)&&ae,ae=oe(Pe,$,!1,P)&&ae,F)for(ue=0;ue<F.length;ue++)Pe=P.g=F[ue],ae=oe(Pe,$,!1,P)&&ae}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var _=this.i,P;for(P in _.g){for(var F=_.g[P],$=0;$<F.length;$++)Ae(F[$]);delete _.g[P],_.h--}}this.F=null},nt.prototype.K=function(_,P,F,$){return this.i.add(String(_),P,!1,F,$)},nt.prototype.L=function(_,P,F,$){return this.i.add(String(_),P,!0,F,$)};function oe(_,P,F,$){if(P=_.i.g[String(P)],!P)return!0;P=P.concat();for(var ae=!0,ue=0;ue<P.length;++ue){var Pe=P[ue];if(Pe&&!Pe.da&&Pe.capture==F){var mr=Pe.listener,Bn=Pe.ha||Pe.src;Pe.fa&&Y(_.i,Pe),ae=mr.call(Bn,$)!==!1&&ae}}return ae&&!$.defaultPrevented}function Se(_,P,F){if(typeof _=="function")F&&(_=h(_,F));else if(_&&typeof _.handleEvent=="function")_=h(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(P)?-1:l.setTimeout(_,P||0)}function tt(_){_.g=Se(()=>{_.g=null,_.i&&(_.i=!1,tt(_))},_.l);const P=_.h;_.h=null,_.m.apply(null,P)}class Ye extends K{constructor(P,F){super(),this.m=P,this.l=F,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:tt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gt(_){K.call(this),this.h=_,this.g={}}p(gt,K);var ir=[];function pa(_){E(_.g,function(P,F){this.g.hasOwnProperty(F)&&ie(P)},_),_.g={}}gt.prototype.N=function(){gt.aa.N.call(this),pa(this)},gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fr=l.JSON.stringify,br=l.JSON.parse,Jl=class{stringify(_){return l.JSON.stringify(_,void 0)}parse(_){return l.JSON.parse(_,void 0)}};function At(){}At.prototype.h=null;function Vt(_){return _.h||(_.h=_.i())}function Ft(){}var Pr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function un(){G.call(this,"d")}p(un,G);function Gs(){G.call(this,"c")}p(Gs,G);var ms={},yg=null;function Zl(){return yg=yg||new nt}ms.La="serverreachability";function bg(_){G.call(this,ms.La,_)}p(bg,G);function ec(_){const P=Zl();it(P,new bg(P))}ms.STAT_EVENT="statevent";function xh(_,P){G.call(this,ms.STAT_EVENT,_),this.stat=P}p(xh,G);function _n(_){const P=Zl();it(P,new xh(P,_))}ms.Ma="timingevent";function vh(_,P){G.call(this,ms.Ma,_),this.size=P}p(vh,G);function Zr(_,P){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){_()},P)}function ga(){this.g=!0}ga.prototype.xa=function(){this.g=!1};function wg(_,P,F,$,ae,ue){_.info(function(){if(_.g)if(ue)for(var Pe="",mr=ue.split("&"),Bn=0;Bn<mr.length;Bn++){var Xt=mr[Bn].split("=");if(1<Xt.length){var Un=Xt[0];Xt=Xt[1];var Mn=Un.split("_");Pe=2<=Mn.length&&Mn[1]=="type"?Pe+(Un+"="+Xt+"&"):Pe+(Un+"=redacted&")}}else Pe=null;else Pe=ue;return"XMLHTTP REQ ("+$+") [attempt "+ae+"]: "+P+`
`+F+`
`+Pe})}function Zw(_,P,F,$,ae,ue,Pe){_.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+ae+"]: "+P+`
`+F+`
`+ue+" "+Pe})}function Eu(_,P,F,$){_.info(function(){return"XMLHTTP TEXT ("+P+"): "+mee(_,F)+($?" "+$:"")})}function fee(_,P){_.info(function(){return"TIMEOUT: "+P})}ga.prototype.info=function(){};function mee(_,P){if(!_.g)return P;if(!P)return null;try{var F=JSON.parse(P);if(F){for(_=0;_<F.length;_++)if(Array.isArray(F[_])){var $=F[_];if(!(2>$.length)){var ae=$[1];if(Array.isArray(ae)&&!(1>ae.length)){var ue=ae[0];if(ue!="noop"&&ue!="stop"&&ue!="close")for(var Pe=1;Pe<ae.length;Pe++)ae[Pe]=""}}}}return fr(F)}catch{return P}}var _g={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},VP={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},e1;function Bg(){}p(Bg,At),Bg.prototype.g=function(){return new XMLHttpRequest},Bg.prototype.i=function(){return{}},e1=new Bg;function wo(_,P,F,$){this.j=_,this.i=P,this.l=F,this.R=$||1,this.U=new gt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new KP}function KP(){this.i=null,this.g="",this.h=!1}var qP={},t1={};function r1(_,P,F){_.L=1,_.v=Sg(Si(P)),_.m=F,_.P=!0,zP(_,null)}function zP(_,P){_.F=Date.now(),Cg(_),_.A=Si(_.v);var F=_.A,$=_.R;Array.isArray($)||($=[String($)]),o4(F.i,"t",$),_.C=0,F=_.j.J,_.h=new KP,_.g=C4(_.j,F?P:null,!_.m),0<_.O&&(_.M=new Ye(h(_.Y,_,_.g),_.O)),P=_.U,F=_.g,$=_.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(ir[0]=ae.toString()),ae=ir);for(var ue=0;ue<ae.length;ue++){var Pe=$e(F,ae[ue],$||P.handleEvent,!1,P.h||P);if(!Pe)break;P.g[Pe.key]=Pe}P=_.H?j(_.H):{},_.m?(_.u||(_.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,P)):(_.u="GET",_.g.ea(_.A,_.u,null,P)),ec(),wg(_.i,_.u,_.A,_.l,_.R,_.m)}wo.prototype.ca=function(_){_=_.target;const P=this.M;P&&Ni(_)==3?P.j():this.Y(_)},wo.prototype.Y=function(_){try{if(_==this.g)e:{const Mn=Ni(this.g);var P=this.g.Ba();const ku=this.g.Z();if(!(3>Mn)&&(Mn!=3||this.g&&(this.h.h||this.g.oa()||f4(this.g)))){this.J||Mn!=4||P==7||(P==8||0>=ku?ec(3):ec(2)),n1(this);var F=this.g.Z();this.X=F;t:if(GP(this)){var $=f4(this.g);_="";var ae=$.length,ue=Ni(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tc(this),yh(this);var Pe="";break t}this.h.i=new l.TextDecoder}for(P=0;P<ae;P++)this.h.h=!0,_+=this.h.i.decode($[P],{stream:!(ue&&P==ae-1)});$.length=0,this.h.g+=_,this.C=0,Pe=this.h.g}else Pe=this.g.oa();if(this.o=F==200,Zw(this.i,this.u,this.A,this.l,this.R,Mn,F),this.o){if(this.T&&!this.K){t:{if(this.g){var mr,Bn=this.g;if((mr=Bn.g?Bn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(mr)){var Xt=mr;break t}}Xt=null}if(F=Xt)Eu(this.i,this.l,F,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,a1(this,F);else{this.o=!1,this.s=3,_n(12),tc(this),yh(this);break e}}if(this.P){F=!0;let ps;for(;!this.J&&this.C<Pe.length;)if(ps=pee(this,Pe),ps==t1){Mn==4&&(this.s=4,_n(14),F=!1),Eu(this.i,this.l,null,"[Incomplete Response]");break}else if(ps==qP){this.s=4,_n(15),Eu(this.i,this.l,Pe,"[Invalid Chunk]"),F=!1;break}else Eu(this.i,this.l,ps,null),a1(this,ps);if(GP(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mn!=4||Pe.length!=0||this.h.h||(this.s=1,_n(16),F=!1),this.o=this.o&&F,!F)Eu(this.i,this.l,Pe,"[Invalid Chunked Response]"),tc(this),yh(this);else if(0<Pe.length&&!this.W){this.W=!0;var Un=this.j;Un.g==this&&Un.ba&&!Un.M&&(Un.j.info("Great, no buffering proxy detected. Bytes received: "+Pe.length),u1(Un),Un.M=!0,_n(11))}}else Eu(this.i,this.l,Pe,null),a1(this,Pe);Mn==4&&tc(this),this.o&&!this.J&&(Mn==4?b4(this.j,this):(this.o=!1,Cg(this)))}else Pee(this.g),F==400&&0<Pe.indexOf("Unknown SID")?(this.s=3,_n(12)):(this.s=0,_n(13)),tc(this),yh(this)}}}catch{}finally{}};function GP(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function pee(_,P){var F=_.C,$=P.indexOf(`
`,F);return $==-1?t1:(F=Number(P.substring(F,$)),isNaN(F)?qP:($+=1,$+F>P.length?t1:(P=P.slice($,$+F),_.C=$+F,P)))}wo.prototype.cancel=function(){this.J=!0,tc(this)};function Cg(_){_.S=Date.now()+_.I,WP(_,_.I)}function WP(_,P){if(_.B!=null)throw Error("WatchDog timer not null");_.B=Zr(h(_.ba,_),P)}function n1(_){_.B&&(l.clearTimeout(_.B),_.B=null)}wo.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(fee(this.i,this.A),this.L!=2&&(ec(),_n(17)),tc(this),this.s=2,yh(this)):WP(this,this.S-_)};function yh(_){_.j.G==0||_.J||b4(_.j,_)}function tc(_){n1(_);var P=_.M;P&&typeof P.ma=="function"&&P.ma(),_.M=null,pa(_.U),_.g&&(P=_.g,_.g=null,P.abort(),P.ma())}function a1(_,P){try{var F=_.j;if(F.G!=0&&(F.g==_||s1(F.h,_))){if(!_.K&&s1(F.h,_)&&F.G==3){try{var $=F.Da.g.parse(P)}catch{$=null}if(Array.isArray($)&&$.length==3){var ae=$;if(ae[0]==0){e:if(!F.u){if(F.g)if(F.g.F+3e3<_.F)Fg(F),Ig(F);else break e;c1(F),_n(18)}}else F.za=ae[1],0<F.za-F.T&&37500>ae[2]&&F.F&&F.v==0&&!F.C&&(F.C=Zr(h(F.Za,F),6e3));if(1>=JP(F.h)&&F.ca){try{F.ca()}catch{}F.ca=void 0}}else nc(F,11)}else if((_.K||F.g==_)&&Fg(F),!y(P))for(ae=F.Da.g.parse(P),P=0;P<ae.length;P++){let Xt=ae[P];if(F.T=Xt[0],Xt=Xt[1],F.G==2)if(Xt[0]=="c"){F.K=Xt[1],F.ia=Xt[2];const Un=Xt[3];Un!=null&&(F.la=Un,F.j.info("VER="+F.la));const Mn=Xt[4];Mn!=null&&(F.Aa=Mn,F.j.info("SVER="+F.Aa));const ku=Xt[5];ku!=null&&typeof ku=="number"&&0<ku&&($=1.5*ku,F.L=$,F.j.info("backChannelRequestTimeoutMs_="+$)),$=F;const ps=_.g;if(ps){const Og=ps.g?ps.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Og){var ue=$.h;ue.g||Og.indexOf("spdy")==-1&&Og.indexOf("quic")==-1&&Og.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(i1(ue,ue.h),ue.h=null))}if($.D){const A1=ps.g?ps.g.getResponseHeader("X-HTTP-Session-Id"):null;A1&&($.ya=A1,Er($.I,$.D,A1))}}F.G=3,F.l&&F.l.ua(),F.ba&&(F.R=Date.now()-_.F,F.j.info("Handshake RTT: "+F.R+"ms")),$=F;var Pe=_;if($.qa=B4($,$.J?$.ia:null,$.W),Pe.K){ZP($.h,Pe);var mr=Pe,Bn=$.L;Bn&&(mr.I=Bn),mr.B&&(n1(mr),Cg(mr)),$.g=Pe}else v4($);0<F.i.length&&Pg(F)}else Xt[0]!="stop"&&Xt[0]!="close"||nc(F,7);else F.G==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?nc(F,7):l1(F):Xt[0]!="noop"&&F.l&&F.l.ta(Xt),F.v=0)}}ec(4)}catch{}}var gee=class{constructor(_,P){this.g=_,this.map=P}};function XP(_){this.l=_||10,l.PerformanceNavigationTiming?(_=l.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function YP(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function JP(_){return _.h?1:_.g?_.g.size:0}function s1(_,P){return _.h?_.h==P:_.g?_.g.has(P):!1}function i1(_,P){_.g?_.g.add(P):_.h=P}function ZP(_,P){_.h&&_.h==P?_.h=null:_.g&&_.g.has(P)&&_.g.delete(P)}XP.prototype.cancel=function(){if(this.i=e4(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function e4(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let P=_.i;for(const F of _.g.values())P=P.concat(F.D);return P}return g(_.i)}function xee(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(c(_)){for(var P=[],F=_.length,$=0;$<F;$++)P.push(_[$]);return P}P=[],F=0;for($ in _)P[F++]=_[$];return P}function vee(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(c(_)||typeof _=="string"){var P=[];_=_.length;for(var F=0;F<_;F++)P.push(F);return P}P=[],F=0;for(const $ in _)P[F++]=$;return P}}}function t4(_,P){if(_.forEach&&typeof _.forEach=="function")_.forEach(P,void 0);else if(c(_)||typeof _=="string")Array.prototype.forEach.call(_,P,void 0);else for(var F=vee(_),$=xee(_),ae=$.length,ue=0;ue<ae;ue++)P.call(void 0,$[ue],F&&F[ue],_)}var r4=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yee(_,P){if(_){_=_.split("&");for(var F=0;F<_.length;F++){var $=_[F].indexOf("="),ae=null;if(0<=$){var ue=_[F].substring(0,$);ae=_[F].substring($+1)}else ue=_[F];P(ue,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function rc(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof rc){this.h=_.h,jg(this,_.j),this.o=_.o,this.g=_.g,Eg(this,_.s),this.l=_.l;var P=_.i,F=new _h;F.i=P.i,P.g&&(F.g=new Map(P.g),F.h=P.h),n4(this,F),this.m=_.m}else _&&(P=String(_).match(r4))?(this.h=!1,jg(this,P[1]||"",!0),this.o=bh(P[2]||""),this.g=bh(P[3]||"",!0),Eg(this,P[4]),this.l=bh(P[5]||"",!0),n4(this,P[6]||"",!0),this.m=bh(P[7]||"")):(this.h=!1,this.i=new _h(null,this.h))}rc.prototype.toString=function(){var _=[],P=this.j;P&&_.push(wh(P,a4,!0),":");var F=this.g;return(F||P=="file")&&(_.push("//"),(P=this.o)&&_.push(wh(P,a4,!0),"@"),_.push(encodeURIComponent(String(F)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.s,F!=null&&_.push(":",String(F))),(F=this.l)&&(this.g&&F.charAt(0)!="/"&&_.push("/"),_.push(wh(F,F.charAt(0)=="/"?_ee:wee,!0))),(F=this.i.toString())&&_.push("?",F),(F=this.m)&&_.push("#",wh(F,Cee)),_.join("")};function Si(_){return new rc(_)}function jg(_,P,F){_.j=F?bh(P,!0):P,_.j&&(_.j=_.j.replace(/:$/,""))}function Eg(_,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);_.s=P}else _.s=null}function n4(_,P,F){P instanceof _h?(_.i=P,jee(_.i,_.h)):(F||(P=wh(P,Bee)),_.i=new _h(P,_.h))}function Er(_,P,F){_.i.set(P,F)}function Sg(_){return Er(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function bh(_,P){return _?P?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function wh(_,P,F){return typeof _=="string"?(_=encodeURI(_).replace(P,bee),F&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function bee(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var a4=/[#\/\?@]/g,wee=/[#\?:]/g,_ee=/[#\?]/g,Bee=/[#\?@]/g,Cee=/#/g;function _h(_,P){this.h=this.g=null,this.i=_||null,this.j=!!P}function _o(_){_.g||(_.g=new Map,_.h=0,_.i&&yee(_.i,function(P,F){_.add(decodeURIComponent(P.replace(/\+/g," ")),F)}))}t=_h.prototype,t.add=function(_,P){_o(this),this.i=null,_=Su(this,_);var F=this.g.get(_);return F||this.g.set(_,F=[]),F.push(P),this.h+=1,this};function s4(_,P){_o(_),P=Su(_,P),_.g.has(P)&&(_.i=null,_.h-=_.g.get(P).length,_.g.delete(P))}function i4(_,P){return _o(_),P=Su(_,P),_.g.has(P)}t.forEach=function(_,P){_o(this),this.g.forEach(function(F,$){F.forEach(function(ae){_.call(P,ae,$,this)},this)},this)},t.na=function(){_o(this);const _=Array.from(this.g.values()),P=Array.from(this.g.keys()),F=[];for(let $=0;$<P.length;$++){const ae=_[$];for(let ue=0;ue<ae.length;ue++)F.push(P[$])}return F},t.V=function(_){_o(this);let P=[];if(typeof _=="string")i4(this,_)&&(P=P.concat(this.g.get(Su(this,_))));else{_=Array.from(this.g.values());for(let F=0;F<_.length;F++)P=P.concat(_[F])}return P},t.set=function(_,P){return _o(this),this.i=null,_=Su(this,_),i4(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[P]),this.h+=1,this},t.get=function(_,P){return _?(_=this.V(_),0<_.length?String(_[0]):P):P};function o4(_,P,F){s4(_,P),0<F.length&&(_.i=null,_.g.set(Su(_,P),g(F)),_.h+=F.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],P=Array.from(this.g.keys());for(var F=0;F<P.length;F++){var $=P[F];const ue=encodeURIComponent(String($)),Pe=this.V($);for($=0;$<Pe.length;$++){var ae=ue;Pe[$]!==""&&(ae+="="+encodeURIComponent(String(Pe[$]))),_.push(ae)}}return this.i=_.join("&")};function Su(_,P){return P=String(P),_.j&&(P=P.toLowerCase()),P}function jee(_,P){P&&!_.j&&(_o(_),_.i=null,_.g.forEach(function(F,$){var ae=$.toLowerCase();$!=ae&&(s4(this,$),o4(this,ae,F))},_)),_.j=P}function Eee(_,P){const F=new ga;if(l.Image){const $=new Image;$.onload=f(Bo,F,"TestLoadImage: loaded",!0,P,$),$.onerror=f(Bo,F,"TestLoadImage: error",!1,P,$),$.onabort=f(Bo,F,"TestLoadImage: abort",!1,P,$),$.ontimeout=f(Bo,F,"TestLoadImage: timeout",!1,P,$),l.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=_}else P(!1)}function See(_,P){const F=new ga,$=new AbortController,ae=setTimeout(()=>{$.abort(),Bo(F,"TestPingServer: timeout",!1,P)},1e4);fetch(_,{signal:$.signal}).then(ue=>{clearTimeout(ae),ue.ok?Bo(F,"TestPingServer: ok",!0,P):Bo(F,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(ae),Bo(F,"TestPingServer: error",!1,P)})}function Bo(_,P,F,$,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),$(F)}catch{}}function Nee(){this.g=new Jl}function kee(_,P,F){const $=F||"";try{t4(_,function(ae,ue){let Pe=ae;u(ae)&&(Pe=fr(ae)),P.push($+ue+"="+encodeURIComponent(Pe))})}catch(ae){throw P.push($+"type="+encodeURIComponent("_badmap")),ae}}function Ng(_){this.l=_.Ub||null,this.j=_.eb||!1}p(Ng,At),Ng.prototype.g=function(){return new kg(this.l,this.j)},Ng.prototype.i=function(_){return function(){return _}}({});function kg(_,P){nt.call(this),this.D=_,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(kg,nt),t=kg.prototype,t.open=function(_,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=P,this.readyState=1,Ch(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(P.body=_),(this.D||l).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bh(this)),this.readyState=0},t.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,Ch(this)),this.g&&(this.readyState=3,Ch(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;l4(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function l4(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}t.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var P=_.value?_.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!_.done}))&&(this.response=this.responseText+=P)}_.done?Bh(this):Ch(this),this.readyState==3&&l4(this)}},t.Ra=function(_){this.g&&(this.response=this.responseText=_,Bh(this))},t.Qa=function(_){this.g&&(this.response=_,Bh(this))},t.ga=function(){this.g&&Bh(this)};function Bh(_){_.readyState=4,_.l=null,_.j=null,_.v=null,Ch(_)}t.setRequestHeader=function(_,P){this.u.append(_,P)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],P=this.h.entries();for(var F=P.next();!F.done;)F=F.value,_.push(F[0]+": "+F[1]),F=P.next();return _.join(`\r
`)};function Ch(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(kg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function c4(_){let P="";return E(_,function(F,$){P+=$,P+=":",P+=F,P+=`\r
`}),P}function o1(_,P,F){e:{for($ in F){var $=!1;break e}$=!0}$||(F=c4(F),typeof _=="string"?F!=null&&encodeURIComponent(String(F)):Er(_,P,F))}function Or(_){nt.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(Or,nt);var Tee=/^https?$/i,Iee=["POST","PUT"];t=Or.prototype,t.Ha=function(_){this.J=_},t.ea=function(_,P,F,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);P=P?P.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():e1.g(),this.v=this.o?Vt(this.o):Vt(e1),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(P,String(_),!0),this.B=!1}catch(ue){u4(this,ue);return}if(_=F||"",F=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var ae in $)F.set(ae,$[ae]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const ue of $.keys())F.set(ue,$.get(ue));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(F.keys()).find(ue=>ue.toLowerCase()=="content-type"),ae=l.FormData&&_ instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Iee,P,void 0))||$||ae||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,Pe]of F)this.g.setRequestHeader(ue,Pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{h4(this),this.u=!0,this.g.send(_),this.u=!1}catch(ue){u4(this,ue)}};function u4(_,P){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=P,_.m=5,A4(_),Tg(_)}function A4(_){_.A||(_.A=!0,it(_,"complete"),it(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,it(this,"complete"),it(this,"abort"),Tg(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tg(this,!0)),Or.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?d4(this):this.bb())},t.bb=function(){d4(this)};function d4(_){if(_.h&&typeof o<"u"&&(!_.v[1]||Ni(_)!=4||_.Z()!=2)){if(_.u&&Ni(_)==4)Se(_.Ea,0,_);else if(it(_,"readystatechange"),Ni(_)==4){_.h=!1;try{const Pe=_.Z();e:switch(Pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var F;if(!(F=P)){var $;if($=Pe===0){var ae=String(_.D).match(r4)[1]||null;!ae&&l.self&&l.self.location&&(ae=l.self.location.protocol.slice(0,-1)),$=!Tee.test(ae?ae.toLowerCase():"")}F=$}if(F)it(_,"complete"),it(_,"success");else{_.m=6;try{var ue=2<Ni(_)?_.g.statusText:""}catch{ue=""}_.l=ue+" ["+_.Z()+"]",A4(_)}}finally{Tg(_)}}}}function Tg(_,P){if(_.g){h4(_);const F=_.g,$=_.v[0]?()=>{}:null;_.g=null,_.v=null,P||it(_,"ready");try{F.onreadystatechange=$}catch{}}}function h4(_){_.I&&(l.clearTimeout(_.I),_.I=null)}t.isActive=function(){return!!this.g};function Ni(_){return _.g?_.g.readyState:0}t.Z=function(){try{return 2<Ni(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(_){if(this.g){var P=this.g.responseText;return _&&P.indexOf(_)==0&&(P=P.substring(_.length)),br(P)}};function f4(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Pee(_){const P={};_=(_.g&&2<=Ni(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<_.length;$++){if(y(_[$]))continue;var F=k(_[$]);const ae=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const ue=P[ae]||[];P[ae]=ue,ue.push(F)}B(P,function($){return $.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jh(_,P,F){return F&&F.internalChannelParams&&F.internalChannelParams[_]||P}function m4(_){this.Aa=0,this.i=[],this.j=new ga,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jh("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jh("baseRetryDelayMs",5e3,_),this.cb=jh("retryDelaySeedMs",1e4,_),this.Wa=jh("forwardChannelMaxRetries",2,_),this.wa=jh("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new XP(_&&_.concurrentRequestLimit),this.Da=new Nee,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=m4.prototype,t.la=8,t.G=1,t.connect=function(_,P,F,$){_n(0),this.W=_,this.H=P||{},F&&$!==void 0&&(this.H.OSID=F,this.H.OAID=$),this.F=this.X,this.I=B4(this,null,this.W),Pg(this)};function l1(_){if(p4(_),_.G==3){var P=_.U++,F=Si(_.I);if(Er(F,"SID",_.K),Er(F,"RID",P),Er(F,"TYPE","terminate"),Eh(_,F),P=new wo(_,_.j,P),P.L=2,P.v=Sg(Si(F)),F=!1,l.navigator&&l.navigator.sendBeacon)try{F=l.navigator.sendBeacon(P.v.toString(),"")}catch{}!F&&l.Image&&(new Image().src=P.v,F=!0),F||(P.g=C4(P.j,null),P.g.ea(P.v)),P.F=Date.now(),Cg(P)}_4(_)}function Ig(_){_.g&&(u1(_),_.g.cancel(),_.g=null)}function p4(_){Ig(_),_.u&&(l.clearTimeout(_.u),_.u=null),Fg(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&l.clearTimeout(_.s),_.s=null)}function Pg(_){if(!YP(_.h)&&!_.s){_.s=!0;var P=_.Ga;R||Q(),D||(R(),D=!0),M.add(P,_),_.B=0}}function Fee(_,P){return JP(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=P.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=Zr(h(_.Ga,_,P),w4(_,_.B)),_.B++,!0)}t.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const ae=new wo(this,this.j,_);let ue=this.o;if(this.S&&(ue?(ue=j(ue),S(ue,this.S)):ue=this.S),this.m!==null||this.O||(ae.H=ue,ue=null),this.P)e:{for(var P=0,F=0;F<this.i.length;F++){t:{var $=this.i[F];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(P+=$,4096<P){P=F;break e}if(P===4096||F===this.i.length-1){P=F+1;break e}}P=1e3}else P=1e3;P=x4(this,ae,P),F=Si(this.I),Er(F,"RID",_),Er(F,"CVER",22),this.D&&Er(F,"X-HTTP-Session-Id",this.D),Eh(this,F),ue&&(this.O?P="headers="+encodeURIComponent(String(c4(ue)))+"&"+P:this.m&&o1(F,this.m,ue)),i1(this.h,ae),this.Ua&&Er(F,"TYPE","init"),this.P?(Er(F,"$req",P),Er(F,"SID","null"),ae.T=!0,r1(ae,F,null)):r1(ae,F,P),this.G=2}}else this.G==3&&(_?g4(this,_):this.i.length==0||YP(this.h)||g4(this))};function g4(_,P){var F;P?F=P.l:F=_.U++;const $=Si(_.I);Er($,"SID",_.K),Er($,"RID",F),Er($,"AID",_.T),Eh(_,$),_.m&&_.o&&o1($,_.m,_.o),F=new wo(_,_.j,F,_.B+1),_.m===null&&(F.H=_.o),P&&(_.i=P.D.concat(_.i)),P=x4(_,F,1e3),F.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),i1(_.h,F),r1(F,$,P)}function Eh(_,P){_.H&&E(_.H,function(F,$){Er(P,$,F)}),_.l&&t4({},function(F,$){Er(P,$,F)})}function x4(_,P,F){F=Math.min(_.i.length,F);var $=_.l?h(_.l.Na,_.l,_):null;e:{var ae=_.i;let ue=-1;for(;;){const Pe=["count="+F];ue==-1?0<F?(ue=ae[0].g,Pe.push("ofs="+ue)):ue=0:Pe.push("ofs="+ue);let mr=!0;for(let Bn=0;Bn<F;Bn++){let Xt=ae[Bn].g;const Un=ae[Bn].map;if(Xt-=ue,0>Xt)ue=Math.max(0,ae[Bn].g-100),mr=!1;else try{kee(Un,Pe,"req"+Xt+"_")}catch{$&&$(Un)}}if(mr){$=Pe.join("&");break e}}}return _=_.i.splice(0,F),P.D=_,$}function v4(_){if(!_.g&&!_.u){_.Y=1;var P=_.Fa;R||Q(),D||(R(),D=!0),M.add(P,_),_.v=0}}function c1(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=Zr(h(_.Fa,_),w4(_,_.v)),_.v++,!0)}t.Fa=function(){if(this.u=null,y4(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=Zr(h(this.ab,this),_)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_n(10),Ig(this),y4(this))};function u1(_){_.A!=null&&(l.clearTimeout(_.A),_.A=null)}function y4(_){_.g=new wo(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var P=Si(_.qa);Er(P,"RID","rpc"),Er(P,"SID",_.K),Er(P,"AID",_.T),Er(P,"CI",_.F?"0":"1"),!_.F&&_.ja&&Er(P,"TO",_.ja),Er(P,"TYPE","xmlhttp"),Eh(_,P),_.m&&_.o&&o1(P,_.m,_.o),_.L&&(_.g.I=_.L);var F=_.g;_=_.ia,F.L=1,F.v=Sg(Si(P)),F.m=null,F.P=!0,zP(F,_)}t.Za=function(){this.C!=null&&(this.C=null,Ig(this),c1(this),_n(19))};function Fg(_){_.C!=null&&(l.clearTimeout(_.C),_.C=null)}function b4(_,P){var F=null;if(_.g==P){Fg(_),u1(_),_.g=null;var $=2}else if(s1(_.h,P))F=P.D,ZP(_.h,P),$=1;else return;if(_.G!=0){if(P.o)if($==1){F=P.m?P.m.length:0,P=Date.now()-P.F;var ae=_.B;$=Zl(),it($,new vh($,F)),Pg(_)}else v4(_);else if(ae=P.s,ae==3||ae==0&&0<P.X||!($==1&&Fee(_,P)||$==2&&c1(_)))switch(F&&0<F.length&&(P=_.h,P.i=P.i.concat(F)),ae){case 1:nc(_,5);break;case 4:nc(_,10);break;case 3:nc(_,6);break;default:nc(_,2)}}}function w4(_,P){let F=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(F*=2),F*P}function nc(_,P){if(_.j.info("Error code "+P),P==2){var F=h(_.fb,_),$=_.Xa;const ae=!$;$=new rc($||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||jg($,"https"),Sg($),ae?Eee($.toString(),F):See($.toString(),F)}else _n(2);_.G=0,_.l&&_.l.sa(P),_4(_),p4(_)}t.fb=function(_){_?(this.j.info("Successfully pinged google.com"),_n(2)):(this.j.info("Failed to ping google.com"),_n(1))};function _4(_){if(_.G=0,_.ka=[],_.l){const P=e4(_.h);(P.length!=0||_.i.length!=0)&&(m(_.ka,P),m(_.ka,_.i),_.h.i.length=0,g(_.i),_.i.length=0),_.l.ra()}}function B4(_,P,F){var $=F instanceof rc?Si(F):new rc(F);if($.g!="")P&&($.g=P+"."+$.g),Eg($,$.s);else{var ae=l.location;$=ae.protocol,P=P?P+"."+ae.hostname:ae.hostname,ae=+ae.port;var ue=new rc(null);$&&jg(ue,$),P&&(ue.g=P),ae&&Eg(ue,ae),F&&(ue.l=F),$=ue}return F=_.D,P=_.ya,F&&P&&Er($,F,P),Er($,"VER",_.la),Eh(_,$),$}function C4(_,P,F){if(P&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return P=_.Ca&&!_.pa?new Or(new Ng({eb:F})):new Or(_.pa),P.Ha(_.J),P}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function j4(){}t=j4.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Dg(){}Dg.prototype.g=function(_,P){return new Na(_,P)};function Na(_,P){nt.call(this),this.g=new m4(P),this.l=_,this.h=P&&P.messageUrlParams||null,_=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(_?_["X-WebChannel-Content-Type"]=P.messageContentType:_={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(_?_["X-WebChannel-Client-Profile"]=P.va:_={"X-WebChannel-Client-Profile":P.va}),this.g.S=_,(_=P&&P.Sb)&&!y(_)&&(this.g.m=_),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!y(P)&&(this.g.D=P,_=this.h,_!==null&&P in _&&(_=this.h,P in _&&delete _[P])),this.j=new Nu(this)}p(Na,nt),Na.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Na.prototype.close=function(){l1(this.g)},Na.prototype.o=function(_){var P=this.g;if(typeof _=="string"){var F={};F.__data__=_,_=F}else this.u&&(F={},F.__data__=fr(_),_=F);P.i.push(new gee(P.Ya++,_)),P.G==3&&Pg(P)},Na.prototype.N=function(){this.g.l=null,delete this.j,l1(this.g),delete this.g,Na.aa.N.call(this)};function E4(_){un.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var P=_.__sm__;if(P){e:{for(const F in P){_=F;break e}_=void 0}(this.i=_)&&(_=this.i,P=P!==null&&_ in P?P[_]:void 0),this.data=P}else this.data=_}p(E4,un);function S4(){Gs.call(this),this.status=1}p(S4,Gs);function Nu(_){this.g=_}p(Nu,j4),Nu.prototype.ua=function(){it(this.g,"a")},Nu.prototype.ta=function(_){it(this.g,new E4(_))},Nu.prototype.sa=function(_){it(this.g,new S4)},Nu.prototype.ra=function(){it(this.g,"b")},Dg.prototype.createWebChannel=Dg.prototype.g,Na.prototype.send=Na.prototype.o,Na.prototype.open=Na.prototype.m,Na.prototype.close=Na.prototype.close,JV=function(){return new Dg},YV=function(){return Zl()},XV=ms,LS={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_g.NO_ERROR=0,_g.TIMEOUT=8,_g.HTTP_ERROR=6,Y0=_g,VP.COMPLETE="complete",WV=VP,Ft.EventType=Pr,Pr.OPEN="a",Pr.CLOSE="b",Pr.ERROR="c",Pr.MESSAGE="d",nt.prototype.listen=nt.prototype.K,Af=Ft,Or.prototype.listenOnce=Or.prototype.L,Or.prototype.getLastError=Or.prototype.Ka,Or.prototype.getLastErrorCode=Or.prototype.Ba,Or.prototype.getStatus=Or.prototype.Z,Or.prototype.getResponseJson=Or.prototype.Oa,Or.prototype.getResponseText=Or.prototype.oa,Or.prototype.send=Or.prototype.ea,Or.prototype.setWithCredentials=Or.prototype.Ha,GV=Or}).apply(typeof Xg<"u"?Xg:typeof self<"u"?self:typeof window<"u"?window:{});const sD="@firebase/firestore",iD="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zd="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new LV("@firebase/firestore");function AA(){return Zc.logLevel}function ke(t,...e){if(Zc.logLevel<=qt.DEBUG){const r=e.map(uT);Zc.debug(`Firestore (${Zd}): ${t}`,...r)}}function Qa(t,...e){if(Zc.logLevel<=qt.ERROR){const r=e.map(uT);Zc.error(`Firestore (${Zd}): ${t}`,...r)}}function Lp(t,...e){if(Zc.logLevel<=qt.WARN){const r=e.map(uT);Zc.warn(`Firestore (${Zd}): ${t}`,...r)}}function uT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,ZV(t,n,r)}function ZV(t,e,r){let n=`FIRESTORE (${Zd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Qa(n),new Error(n)}function dt(t,e,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,t||ZV(e,a,n)}function yr(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends vu{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pue{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Sn.UNAUTHENTICATED))}shutdown(){}}class Fue{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Due{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){dt(this.o===void 0,42304);let n=this.i;const a=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let s=new Al;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Al,e.enqueueRetryable(()=>a(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await a(this.currentUser)})},l=c=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Al)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(dt(typeof n.accessToken=="string",31837,{l:n}),new e9(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new Sn(e)}}class Oue{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Rue{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Oue(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Uue{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gue(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){dt(this.o===void 0,3512);const n=s=>{s.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,ke("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const a=s=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>a(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new oD(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(dt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new oD(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mue(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Que(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=Mue(40);for(let s=0;s<a.length;++s)n.length<20&&a[s]<r&&(n+=e.charAt(a[s]%62))}return n}}function Ct(t,e){return t<e?-1:t>e?1:0}function HS(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),a=e.codePointAt(r);if(n!==a){if(n<128&&a<128)return Ct(n,a);{const s=Que(),o=Lue(s.encode(lD(t,r)),s.encode(lD(e,r)));return o!==0?o:Ct(n,a)}}r+=n>65535?2:1}return Ct(t.length,e.length)}function lD(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Lue(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return Ct(t[r],e[r]);return Ct(t.length,e.length)}function td(t,e,r){return t.length===e.length&&t.every((n,a)=>r(n,e[a]))}function r9(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=-62135596800,uD=1e6;class Lr{static now(){return Lr.fromMillis(Date.now())}static fromDate(e){return Lr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*uD);return new Lr(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new rt(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new rt(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<cD)throw new rt(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uD}_compareTo(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-cD;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{static fromTimestamp(e){return new Qt(e)}static min(){return new Qt(new Lr(0,0))}static max(){return new Qt(new Lr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD="__name__";class Ys{constructor(e,r,n){r===void 0?r=0:r>e.length&&ot(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&ot(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Ys.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ys?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let a=0;a<n;a++){const s=Ys.compareSegments(e.get(a),r.get(a));if(s!==0)return s}return Ct(e.length,r.length)}static compareSegments(e,r){const n=Ys.isNumericId(e),a=Ys.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?Ys.extractNumericId(e).compare(Ys.extractNumericId(r)):HS(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cT.fromString(e.substring(4,e.length-2))}}class pr extends Ys{construct(e,r,n){return new pr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new rt(be.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new pr(r)}static emptyPath(){return new pr([])}}const Hue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dr extends Ys{construct(e,r,n){return new Dr(e,r,n)}static isValidIdentifier(e){return Hue.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===AD}static keyField(){return new Dr([AD])}static fromServerFormat(e){const r=[];let n="",a=0;const s=()=>{if(n.length===0)throw new rt(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;a<e.length;){const l=e[a];if(l==="\\"){if(a+1===e.length)throw new rt(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[a+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new rt(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,a+=2}else l==="`"?(o=!o,a++):l!=="."||o?(n+=l,a++):(s(),a++)}if(s(),o)throw new rt(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dr(r)}static emptyPath(){return new Dr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(pr.fromString(e))}static fromName(e){return new Ze(pr.fromString(e).popFirst(5))}static empty(){return new Ze(pr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return pr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new pr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=-1;class pv{constructor(e,r,n,a){this.indexId=e,this.collectionGroup=r,this.fields=n,this.indexState=a}}function $S(t){return t.fields.find(e=>e.kind===2)}function fc(t){return t.fields.filter(e=>e.kind!==2)}pv.UNKNOWN_ID=-1;class J0{constructor(e,r){this.fieldPath=e,this.kind=r}}class Am{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Am(0,qa.min())}}function $ue(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,a=Qt.fromTimestamp(n===1e9?new Lr(r+1,0):new Lr(r,n));return new qa(a,Ze.empty(),e)}function n9(t){return new qa(t.readTime,t.key,um)}class qa{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new qa(Qt.min(),Ze.empty(),um)}static max(){return new qa(Qt.max(),Ze.empty(),um)}}function AT(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ze.comparator(t.documentKey,e.documentKey),r!==0?r:Ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jb(t){if(t.code!==be.FAILED_PRECONDITION||t.message!==a9)throw t;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ot(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new se((n,a)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,a)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,a)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof se?r:se.resolve(r)}catch(r){return se.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):se.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):se.reject(r)}static resolve(e){return new se((r,n)=>{r(e)})}static reject(e){return new se((r,n)=>{n(e)})}static waitFor(e){return new se((r,n)=>{let a=0,s=0,o=!1;e.forEach(l=>{++a,l.next(()=>{++s,o&&s===a&&r()},c=>n(c))}),o=!0,s===a&&r()})}static or(e){let r=se.resolve(!1);for(const n of e)r=r.next(a=>a?se.resolve(a):n());return r}static forEach(e,r){const n=[];return e.forEach((a,s)=>{n.push(r.call(this,a,s))}),this.waitFor(n)}static mapArray(e,r){return new se((n,a)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const u=c;r(e[u]).next(A=>{o[u]=A,++l,l===s&&n(o)},A=>a(A))}})}static doWhile(e,r){return new se((n,a)=>{const s=()=>{e()===!0?r().next(()=>{s()},a):n()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="SimpleDb";class Eb{static open(e,r,n,a){try{return new Eb(r,e.transaction(a,n))}catch(s){throw new If(r,s)}}constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.S=new Al,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{r.error?this.S.reject(new If(e,r.error)):this.S.resolve()},this.transaction.onerror=n=>{const a=dT(n.target.error);this.S.reject(new If(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ke(Ra,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Kue(r)}}class dl{static delete(e){return ke(Ra,"Removing database:",e),bc(DV().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!oT())return!1;if(dl.F())return!0;const e=hv(),r=dl.M(e),n=0<r&&r<10,a=i9(e),s=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||s)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,r){return e.store(r)}static M(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,r,n){this.name=e,this.version=r,this.B=n,this.L=null,dl.M(hv())===12.2&&Qa("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(ke(Ra,"Opening database:",this.name),this.db=await new Promise((r,n)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=s=>{const o=s.target.result;r(o)},a.onblocked=()=>{n(new If(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=s=>{const o=s.target.error;o.name==="VersionError"?n(new rt(be.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?n(new rt(be.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):n(new If(e,o))},a.onupgradeneeded=s=>{ke(Ra,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;if(this.L!==null&&this.L!==s.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${s.oldVersion}, event.newVersion=${s.newVersion}, db.version=${o.version}`);this.B.q(o,a.transaction,s.oldVersion,this.version).next(()=>{ke(Ra,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",r=>{const n=r.target;this.L=n.version},{passive:!0})),this.$&&(this.db.onversionchange=r=>this.$(r)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,n,a){const s=r==="readonly";let o=0;for(;;){++o;try{this.db=await this.k(e);const l=Eb.open(this.db,e,s?"readonly":"readwrite",n),c=a(l).next(u=>(l.v(),u)).catch(u=>(l.abort(u),se.reject(u))).toPromise();return c.catch(()=>{}),await l.D,c}catch(l){const c=l,u=c.name!=="FirebaseError"&&o<3;if(ke(Ra,"Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function i9(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class Vue{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return bc(this.K.delete())}}class If extends rt{constructor(e,r){super(be.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function yu(t){return t.name==="IndexedDbTransactionError"}class Kue{constructor(e){this.store=e}put(e,r){let n;return r!==void 0?(ke(Ra,"PUT",this.store.name,e,r),n=this.store.put(r,e)):(ke(Ra,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),bc(n)}add(e){return ke(Ra,"ADD",this.store.name,e,e),bc(this.store.add(e))}get(e){return bc(this.store.get(e)).next(r=>(r===void 0&&(r=null),ke(Ra,"GET",this.store.name,e,r),r))}delete(e){return ke(Ra,"DELETE",this.store.name,e),bc(this.store.delete(e))}count(){return ke(Ra,"COUNT",this.store.name),bc(this.store.count())}J(e,r){const n=this.options(e,r),a=n.index?this.store.index(n.index):this.store;if(typeof a.getAll=="function"){const s=a.getAll(n.range);return new se((o,l)=>{s.onerror=c=>{l(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{const s=this.cursor(n),o=[];return this.Y(s,(l,c)=>{o.push(c)}).next(()=>o)}}Z(e,r){const n=this.store.getAll(e,r===null?void 0:r);return new se((a,s)=>{n.onerror=o=>{s(o.target.error)},n.onsuccess=o=>{a(o.target.result)}})}X(e,r){ke(Ra,"DELETE ALL",this.store.name);const n=this.options(e,r);n.ee=!1;const a=this.cursor(n);return this.Y(a,(s,o,l)=>l.delete())}te(e,r){let n;r?n=e:(n={},r=e);const a=this.cursor(n);return this.Y(a,r)}ne(e){const r=this.cursor({});return new se((n,a)=>{r.onerror=s=>{const o=dT(s.target.error);a(o)},r.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(l=>{l?o.continue():n()}):n()}})}Y(e,r){const n=[];return new se((a,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const l=o.target.result;if(!l)return void a();const c=new Vue(l),u=r(l.primaryKey,l.value,c);if(u instanceof se){const A=u.catch(d=>(c.done(),se.reject(d)));n.push(A)}c.isDone?a():c.j===null?l.continue():l.continue(c.j)}}).next(()=>se.waitFor(n))}options(e,r){let n;return e!==void 0&&(typeof e=="string"?n=e:r=e),{index:n,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const n=this.store.index(e.index);return e.ee?n.openKeyCursor(e.range,r):n.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function bc(t){return new se((e,r)=>{t.onsuccess=n=>{const a=n.target.result;e(a)},t.onerror=n=>{const a=dT(n.target.error);r(a)}})}let dD=!1;function dT(t){const e=dl.M(hv());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const n=new rt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dD||(dD=!0,setTimeout(()=>{throw n},0)),n}}return t}const Pf="IndexBackfiller";class que{constructor(e,r){this.asyncQueue=e,this.re=r,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(e){ke(Pf,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const r=await this.re.se();ke(Pf,`Documents written: ${r}`)}catch(r){yu(r)?ke(Pf,"Ignoring IndexedDB error during index backfill: ",r):await jb(r)}await this.ie(6e4)})}}class zue{constructor(e,r){this.localStore=e,this.persistence=r}async se(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>this.oe(r,e))}oe(e,r){const n=new Set;let a=r,s=!0;return se.doWhile(()=>s===!0&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!n.has(o))return ke(Pf,`Processing collection: ${o}`),this._e(e,o,a).next(l=>{a-=l,n.add(o)});s=!1})).next(()=>r-a)}_e(e,r,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(a=>this.localStore.localDocuments.getNextDocuments(e,r,a,n).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ae(a,s)).next(l=>(ke(Pf,`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,r,l))).next(()=>o.size)}))}ae(e,r){let n=e;return r.changes.forEach((a,s)=>{const o=n9(s);AT(o,n)>0&&(n=o)}),new qa(n.readTime,n.documentKey,Math.max(r.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ts.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=-1;function Sb(t){return t==null}function dm(t){return t===0&&1/t==-1/0}function Gue(t){return typeof t=="number"&&Number.isInteger(t)&&!dm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="";function Yn(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=hD(e)),e=Wue(t.get(r),e);return hD(e)}function Wue(t,e){let r=e;const n=t.length;for(let a=0;a<n;a++){const s=t.charAt(a);switch(s){case"\0":r+="";break;case gv:r+="";break;default:r+=s}}return r}function hD(t){return t+gv+""}function si(t){const e=t.length;if(dt(e>=2,64408,{path:t}),e===2)return dt(t.charAt(0)===gv&&t.charAt(1)==="",56145,{path:t}),pr.emptyPath();const r=e-2,n=[];let a="";for(let s=0;s<e;){const o=t.indexOf(gv,s);switch((o<0||o>r)&&ot(50515,{path:t}),t.charAt(o+1)){case"":const l=t.substring(s,o);let c;a.length===0?c=l:(a+=l,c=a,a=""),n.push(c);break;case"":a+=t.substring(s,o),a+="\0";break;case"":a+=t.substring(s,o+1);break;default:ot(61167,{path:t})}s=o+2}return new pr(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc="remoteDocuments",Hp="owner",Qu="owner",hm="mutationQueues",Xue="userId",_s="mutations",fD="batchId",Sc="userMutationsIndex",mD=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(t,e){return[t,Yn(e)]}function o9(t,e,r){return[t,Yn(e),r]}const Yue={},rd="documentMutations",xv="remoteDocumentsV14",Jue=["prefixPath","collectionGroup","readTime","documentId"],ex="documentKeyIndex",Zue=["prefixPath","collectionGroup","documentId"],l9="collectionGroupIndex",eAe=["collectionGroup","readTime","prefixPath","documentId"],fm="remoteDocumentGlobal",VS="remoteDocumentGlobalKey",nd="targets",c9="queryTargetsIndex",tAe=["canonicalId","targetId"],ad="targetDocuments",rAe=["targetId","path"],hT="documentTargetsIndex",nAe=["path","targetId"],vv="targetGlobalKey",Vc="targetGlobal",mm="collectionParents",aAe=["collectionId","parent"],sd="clientMetadata",sAe="clientId",Nb="bundles",iAe="bundleId",kb="namedQueries",oAe="name",fT="indexConfiguration",lAe="indexId",KS="collectionGroupIndex",cAe="collectionGroup",Ff="indexState",uAe=["indexId","uid"],u9="sequenceNumberIndex",AAe=["uid","sequenceNumber"],Df="indexEntries",dAe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],A9="documentKeyIndex",hAe=["indexId","uid","orderedDocumentKey"],Tb="documentOverlays",fAe=["userId","collectionPath","documentId"],qS="collectionPathOverlayIndex",mAe=["userId","collectionPath","largestBatchId"],d9="collectionGroupOverlayIndex",pAe=["userId","collectionGroup","largestBatchId"],mT="globals",gAe="name",h9=[hm,_s,rd,mc,nd,Hp,Vc,ad,sd,fm,mm,Nb,kb],xAe=[...h9,Tb],f9=[hm,_s,rd,xv,nd,Hp,Vc,ad,sd,fm,mm,Nb,kb,Tb],m9=f9,pT=[...m9,fT,Ff,Df],vAe=pT,p9=[...pT,mT],yAe=p9;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS extends s9{constructor(e,r){super(),this.he=e,this.currentSequenceNumber=r}}function ln(t,e){const r=yr(t);return dl.N(r.he,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function eh(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function g9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,r){this.comparator=e,this.root=r||Nn.EMPTY}insert(e,r){return new Aa(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(e){return new Aa(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yg(this.root,e,this.comparator,!0)}}class Yg{constructor(e,r,n,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&a&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nn{constructor(e,r,n,a,s){this.key=e,this.value=r,this.color=n??Nn.RED,this.left=a??Nn.EMPTY,this.right=s??Nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,a,s){return new Nn(e??this.key,r??this.value,n??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let a=this;const s=n(e,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(e,r,n),null):s===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,a=this;if(r(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(e,a.key)===0){if(a.right.isEmpty())return Nn.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ot(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ot(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ot(27949);return e+(this.isRed()?0:1)}}Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw ot(57766)}get value(){throw ot(16141)}get color(){throw ot(16727)}get left(){throw ot(29726)}get right(){throw ot(36894)}copy(e,r,n,a,s){return this}insert(e,r,n){return new Nn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.comparator=e,this.data=new Aa(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;r(a.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new gD(this.data.getIterator())}getIteratorFrom(e){return new gD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof xr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,s=n.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new xr(this.comparator);return r.data=e,r}}class gD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Lu(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.fields=e,e.sort(Dr.comparator)}static empty(){return new rs([])}unionWith(e){let r=new xr(Dr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new rs(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return td(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bAe extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new bAe("Invalid base64 string: "+s):s}}(e);return new Ca(r)}static fromUint8Array(e){const r=function(a){let s="";for(let o=0;o<a.length;++o)s+=String.fromCharCode(a[o]);return s}(e);return new Ca(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ca.EMPTY_BYTE_STRING=new Ca("");const wAe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jl(t){if(dt(!!t,39018),typeof t=="string"){let e=0;const r=wAe.exec(t);if(dt(!!r,46558,{timestamp:t}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Xr(t.seconds),nanos:Xr(t.nanos)}}function Xr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function eu(t){return typeof t=="string"?Ca.fromBase64String(t):Ca.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9="server_timestamp",v9="__type__",y9="__previous_value__",b9="__local_write_time__";function gT(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[v9])===null||r===void 0?void 0:r.stringValue)===x9}function xT(t){const e=t.mapValue.fields[y9];return gT(e)?xT(e):e}function yv(t){const e=jl(t.mapValue.fields[b9].timestampValue);return new Lr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Ae{constructor(e,r,n,a,s,o,l,c,u,A){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=A}}const bv="(default)";class id{constructor(e,r){this.projectId=e,this.database=r||bv}static empty(){return new id("","")}get isDefaultDatabase(){return this.database===bv}isEqual(e){return e instanceof id&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="__type__",w9="__max__",rl={mapValue:{fields:{__type__:{stringValue:w9}}}},yT="__vector__",pm="value",tx={nullValue:"NULL_VALUE"};function tu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gT(t)?4:_9(t)?9007199254740991:Ib(t)?10:11:ot(28295,{value:t})}function pi(t,e){if(t===e)return!0;const r=tu(t);if(r!==tu(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yv(t).isEqual(yv(e));case 3:return function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const o=jl(a.timestampValue),l=jl(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,s){return eu(a.bytesValue).isEqual(eu(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,s){return Xr(a.geoPointValue.latitude)===Xr(s.geoPointValue.latitude)&&Xr(a.geoPointValue.longitude)===Xr(s.geoPointValue.longitude)}(t,e);case 2:return function(a,s){if("integerValue"in a&&"integerValue"in s)return Xr(a.integerValue)===Xr(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const o=Xr(a.doubleValue),l=Xr(s.doubleValue);return o===l?dm(o)===dm(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return td(t.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:case 11:return function(a,s){const o=a.mapValue.fields||{},l=s.mapValue.fields||{};if(pD(o)!==pD(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!pi(o[c],l[c])))return!1;return!0}(t,e);default:return ot(52216,{left:t})}}function gm(t,e){return(t.values||[]).find(r=>pi(r,e))!==void 0}function El(t,e){if(t===e)return 0;const r=tu(t),n=tu(e);if(r!==n)return Ct(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ct(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Xr(s.integerValue||s.doubleValue),c=Xr(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return xD(t.timestampValue,e.timestampValue);case 4:return xD(yv(t),yv(e));case 5:return HS(t.stringValue,e.stringValue);case 6:return function(s,o){const l=eu(s),c=eu(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const A=Ct(l[u],c[u]);if(A!==0)return A}return Ct(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Ct(Xr(s.latitude),Xr(o.latitude));return l!==0?l:Ct(Xr(s.longitude),Xr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return vD(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,c,u,A;const d=s.fields||{},h=o.fields||{},f=(l=d[pm])===null||l===void 0?void 0:l.arrayValue,p=(c=h[pm])===null||c===void 0?void 0:c.arrayValue,g=Ct(((u=f==null?void 0:f.values)===null||u===void 0?void 0:u.length)||0,((A=p==null?void 0:p.values)===null||A===void 0?void 0:A.length)||0);return g!==0?g:vD(f,p)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===rl.mapValue&&o===rl.mapValue)return 0;if(s===rl.mapValue)return 1;if(o===rl.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),u=o.fields||{},A=Object.keys(u);c.sort(),A.sort();for(let d=0;d<c.length&&d<A.length;++d){const h=HS(c[d],A[d]);if(h!==0)return h;const f=El(l[c[d]],u[A[d]]);if(f!==0)return f}return Ct(c.length,A.length)}(t.mapValue,e.mapValue);default:throw ot(23264,{Pe:r})}}function xD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ct(t,e);const r=jl(t),n=jl(e),a=Ct(r.seconds,n.seconds);return a!==0?a:Ct(r.nanos,n.nanos)}function vD(t,e){const r=t.values||[],n=e.values||[];for(let a=0;a<r.length&&a<n.length;++a){const s=El(r[a],n[a]);if(s)return s}return Ct(r.length,n.length)}function od(t){return GS(t)}function GS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=jl(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return eu(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Ze.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",a=!0;for(const s of r.values||[])a?a=!1:n+=",",n+=GS(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",s=!0;for(const o of n)s?s=!1:a+=",",a+=`${o}:${GS(r.fields[o])}`;return a+"}"}(t.mapValue):ot(61005,{value:t})}function rx(t){switch(tu(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xT(t);return e?16+rx(e):16;case 5:return 2*t.stringValue.length;case 6:return eu(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,s)=>a+rx(s),0)}(t.arrayValue);case 10:case 11:return function(n){let a=0;return eh(n.fields,(s,o)=>{a+=s.length+rx(o)}),a}(t.mapValue);default:throw ot(13486,{value:t})}}function bT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function WS(t){return!!t&&"integerValue"in t}function xm(t){return!!t&&"arrayValue"in t}function yD(t){return!!t&&"nullValue"in t}function bD(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nx(t){return!!t&&"mapValue"in t}function Ib(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[vT])===null||r===void 0?void 0:r.stringValue)===yT}function Of(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return eh(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Of(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Of(t.arrayValue.values[r]);return e}return Object.assign({},t)}function _9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===w9}const B9={mapValue:{fields:{[vT]:{stringValue:yT},[pm]:{arrayValue:{}}}}};function BAe(t){return"nullValue"in t?tx:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?bT(id.empty(),Ze.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Ib(t)?B9:{mapValue:{}}:ot(35942,{value:t})}function CAe(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?bT(id.empty(),Ze.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?B9:"mapValue"in t?Ib(t)?{mapValue:{}}:rl:ot(61959,{value:t})}function wD(t,e){const r=El(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function _D(t,e){const r=El(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.value=e}static empty(){return new La({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!nx(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Of(r)}setAll(e){let r=Dr.emptyPath(),n={},a=[];e.forEach((o,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,a),n={},a=[],r=l.popLast()}o?n[l.lastSegment()]=Of(o):a.push(l.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,a)}delete(e){const r=this.field(e.popLast());nx(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=r.mapValue.fields[e.get(n)];nx(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(e,r,n){eh(r,(a,s)=>e[a]=s);for(const a of n)delete e[a]}clone(){return new La(Of(this.value))}}function C9(t){const e=[];return eh(t.fields,(r,n)=>{const a=new Dr([r]);if(nx(n)){const s=C9(n.mapValue).fields;if(s.length===0)e.push(a);else for(const o of s)e.push(a.child(o))}else e.push(a)}),new rs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,r,n,a,s,o,l){this.key=e,this.documentType=r,this.version=n,this.readTime=a,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Tn(e,0,Qt.min(),Qt.min(),Qt.min(),La.empty(),0)}static newFoundDocument(e,r,n,a){return new Tn(e,1,r,Qt.min(),n,a,0)}static newNoDocument(e,r){return new Tn(e,2,r,Qt.min(),Qt.min(),La.empty(),0)}static newUnknownDocument(e,r){return new Tn(e,3,r,Qt.min(),Qt.min(),La.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Qt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=La.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=La.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,r){this.position=e,this.inclusive=r}}function BD(t,e,r){let n=0;for(let a=0;a<t.position.length;a++){const s=e[a],o=t.position[a];if(s.field.isKeyField()?n=Ze.comparator(Ze.fromName(o.referenceValue),r.key):n=El(o,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function CD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!pi(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,r="asc"){this.field=e,this.dir=r}}function jAe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{}class Lt extends j9{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new EAe(e,r,n):r==="array-contains"?new kAe(e,n):r==="in"?new I9(e,n):r==="not-in"?new TAe(e,n):r==="array-contains-any"?new IAe(e,n):new Lt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new SAe(e,n):new NAe(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(El(r,this.value)):r!==null&&tu(this.value)===tu(r)&&this.matchesComparison(El(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ot(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends j9{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new dr(e,r)}matches(e){return cd(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function cd(t){return t.op==="and"}function XS(t){return t.op==="or"}function wT(t){return E9(t)&&cd(t)}function E9(t){for(const e of t.filters)if(e instanceof dr)return!1;return!0}function YS(t){if(t instanceof Lt)return t.field.canonicalString()+t.op.toString()+od(t.value);if(wT(t))return t.filters.map(e=>YS(e)).join(",");{const e=t.filters.map(r=>YS(r)).join(",");return`${t.op}(${e})`}}function S9(t,e){return t instanceof Lt?function(n,a){return a instanceof Lt&&n.op===a.op&&n.field.isEqual(a.field)&&pi(n.value,a.value)}(t,e):t instanceof dr?function(n,a){return a instanceof dr&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((s,o,l)=>s&&S9(o,a.filters[l]),!0):!1}(t,e):void ot(19439)}function N9(t,e){const r=t.filters.concat(e);return dr.create(r,t.op)}function k9(t){return t instanceof Lt?function(r){return`${r.field.canonicalString()} ${r.op} ${od(r.value)}`}(t):t instanceof dr?function(r){return r.op.toString()+" {"+r.getFilters().map(k9).join(" ,")+"}"}(t):"Filter"}class EAe extends Lt{constructor(e,r,n){super(e,r,n),this.key=Ze.fromName(n.referenceValue)}matches(e){const r=Ze.comparator(e.key,this.key);return this.matchesComparison(r)}}class SAe extends Lt{constructor(e,r){super(e,"in",r),this.keys=T9("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class NAe extends Lt{constructor(e,r){super(e,"not-in",r),this.keys=T9("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function T9(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Ze.fromName(n.referenceValue))}class kAe extends Lt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return xm(r)&&gm(r.arrayValue,this.value)}}class I9 extends Lt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&gm(this.value.arrayValue,r)}}class TAe extends Lt{constructor(e,r){super(e,"not-in",r)}matches(e){if(gm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!gm(this.value.arrayValue,r)}}class IAe extends Lt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!xm(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>gm(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PAe{constructor(e,r=null,n=[],a=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=s,this.startAt=o,this.endAt=l,this.Ie=null}}function JS(t,e=null,r=[],n=[],a=null,s=null,o=null){return new PAe(t,e,r,n,a,s,o)}function ru(t){const e=yr(t);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>YS(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),Sb(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>od(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>od(n)).join(",")),e.Ie=r}return e.Ie}function $p(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!jAe(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!S9(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!CD(t.startAt,e.startAt)&&CD(t.endAt,e.endAt)}function FAe(t){return Ze.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function _v(t,e){return t.filters.filter(r=>r instanceof Lt&&r.field.isEqual(e))}function jD(t,e,r){let n=tx,a=!0;for(const s of _v(t,e)){let o=tx,l=!0;switch(s.op){case"<":case"<=":o=BAe(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,l=!1;break;case"!=":case"not-in":o=tx}wD({value:n,inclusive:a},{value:o,inclusive:l})<0&&(n=o,a=l)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=r.position[s];wD({value:n,inclusive:a},{value:o,inclusive:r.inclusive})<0&&(n=o,a=r.inclusive);break}}return{value:n,inclusive:a}}function ED(t,e,r){let n=rl,a=!0;for(const s of _v(t,e)){let o=rl,l=!0;switch(s.op){case">=":case">":o=CAe(s.value),l=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,l=!1;break;case"!=":case"not-in":o=rl}_D({value:n,inclusive:a},{value:o,inclusive:l})>0&&(n=o,a=l)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=r.position[s];_D({value:n,inclusive:a},{value:o,inclusive:r.inclusive})>0&&(n=o,a=r.inclusive);break}}return{value:n,inclusive:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,r=null,n=[],a=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function DAe(t,e,r,n,a,s,o,l){return new Pb(t,e,r,n,a,s,o,l)}function P9(t){return new Pb(t)}function SD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function OAe(t){return t.collectionGroup!==null}function Rf(t){const e=yr(t);if(e.Ee===null){e.Ee=[];const r=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new xr(Dr.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new wv(s,n))}),r.has(Dr.keyField().canonicalString())||e.Ee.push(new wv(Dr.keyField(),n))}return e.Ee}function zi(t){const e=yr(t);return e.de||(e.de=RAe(e,Rf(t))),e.de}function RAe(t,e){if(t.limitType==="F")return JS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const s=a.dir==="desc"?"asc":"desc";return new wv(a.field,s)});const r=t.endAt?new ld(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new ld(t.startAt.position,t.startAt.inclusive):null;return JS(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function ZS(t,e,r){return new Pb(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function F9(t,e){return $p(zi(t),zi(e))&&t.limitType===e.limitType}function D9(t){return`${ru(zi(t))}|lt:${t.limitType}`}function Fh(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>k9(a)).join(", ")}]`),Sb(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>od(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>od(a)).join(",")),`Target(${n})`}(zi(t))}; limitType=${t.limitType})`}function Fb(t,e){return e.isFoundDocument()&&function(n,a){const s=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Ze.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,a){for(const s of Rf(n))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,a){for(const s of n.filters)if(!s.matches(a))return!1;return!0}(t,e)&&function(n,a){return!(n.startAt&&!function(o,l,c){const u=BD(o,l,c);return o.inclusive?u<=0:u<0}(n.startAt,Rf(n),a)||n.endAt&&!function(o,l,c){const u=BD(o,l,c);return o.inclusive?u>=0:u>0}(n.endAt,Rf(n),a))}(t,e)}function UAe(t){return(e,r)=>{let n=!1;for(const a of Rf(t)){const s=MAe(a,e,r);if(s!==0)return s;n=n||a.field.isKeyField()}return 0}}function MAe(t,e,r){const n=t.field.isKeyField()?Ze.comparator(e.key,r.key):function(s,o,l){const c=o.data.field(s),u=l.data.field(s);return c!==null&&u!==null?El(c,u):ot(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ot(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[a,s]of n)if(this.equalsFn(a,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return void(a[s]=[e,r]);a.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){eh(this.inner,(r,n)=>{for(const[a,s]of n)e(a,s)})}isEmpty(){return g9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QAe=new Aa(Ze.comparator);function nl(){return QAe}const O9=new Aa(Ze.comparator);function Jg(...t){let e=O9;for(const r of t)e=e.insert(r.key,r);return e}function R9(t){let e=O9;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function ii(){return Uf()}function U9(){return Uf()}function Uf(){return new go(t=>t.toString(),(t,e)=>t.isEqual(e))}const LAe=new Aa(Ze.comparator),HAe=new xr(Ze.comparator);function rn(...t){let e=HAe;for(const r of t)e=e.add(r);return e}const $Ae=new xr(Ct);function VAe(){return $Ae}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dm(e)?"-0":e}}function M9(t){return{integerValue:""+t}}function KAe(t,e){return Gue(e)?M9(e):_T(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(){this._=void 0}}function qAe(t,e,r){return t instanceof vm?function(a,s){const o={fields:{[v9]:{stringValue:x9},[b9]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&gT(s)&&(s=xT(s)),s&&(o.fields[y9]=s),{mapValue:o}}(r,e):t instanceof ud?L9(t,e):t instanceof Ad?H9(t,e):function(a,s){const o=Q9(a,s),l=ND(o)+ND(a.Re);return WS(o)&&WS(a.Re)?M9(l):_T(a.serializer,l)}(t,e)}function zAe(t,e,r){return t instanceof ud?L9(t,e):t instanceof Ad?H9(t,e):r}function Q9(t,e){return t instanceof ym?function(n){return WS(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class vm extends Db{}class ud extends Db{constructor(e){super(),this.elements=e}}function L9(t,e){const r=$9(e);for(const n of t.elements)r.some(a=>pi(a,n))||r.push(n);return{arrayValue:{values:r}}}class Ad extends Db{constructor(e){super(),this.elements=e}}function H9(t,e){let r=$9(e);for(const n of t.elements)r=r.filter(a=>!pi(a,n));return{arrayValue:{values:r}}}class ym extends Db{constructor(e,r){super(),this.serializer=e,this.Re=r}}function ND(t){return Xr(t.integerValue||t.doubleValue)}function $9(t){return xm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GAe{constructor(e,r){this.field=e,this.transform=r}}function WAe(t,e){return t.field.isEqual(e.field)&&function(n,a){return n instanceof ud&&a instanceof ud||n instanceof Ad&&a instanceof Ad?td(n.elements,a.elements,pi):n instanceof ym&&a instanceof ym?pi(n.Re,a.Re):n instanceof vm&&a instanceof vm}(t.transform,e.transform)}class XAe{constructor(e,r){this.version=e,this.transformResults=r}}class $a{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new $a}static exists(e){return new $a(void 0,e)}static updateTime(e){return new $a(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ax(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ob{}function V9(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new BT(t.key,$a.none()):new th(t.key,t.data,$a.none());{const r=t.data,n=La.empty();let a=new xr(Dr.comparator);for(let s of e.fields)if(!a.has(s)){let o=r.field(s);o===null&&s.length>1&&(s=s.popLast(),o=r.field(s)),o===null?n.delete(s):n.set(s,o),a=a.add(s)}return new Ll(t.key,n,new rs(a.toArray()),$a.none())}}function YAe(t,e,r){t instanceof th?function(a,s,o){const l=a.value.clone(),c=TD(a.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):t instanceof Ll?function(a,s,o){if(!ax(a.precondition,s))return void s.convertToUnknownDocument(o.version);const l=TD(a.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(K9(a)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,r):function(a,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function Mf(t,e,r,n){return t instanceof th?function(s,o,l,c){if(!ax(s.precondition,o))return l;const u=s.value.clone(),A=ID(s.fieldTransforms,c,o);return u.setAll(A),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof Ll?function(s,o,l,c){if(!ax(s.precondition,o))return l;const u=ID(s.fieldTransforms,c,o),A=o.data;return A.setAll(K9(s)),A.setAll(u),o.convertToFoundDocument(o.version,A).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,r,n):function(s,o,l){return ax(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,r)}function JAe(t,e){let r=null;for(const n of t.fieldTransforms){const a=e.data.field(n.field),s=Q9(n.transform,a||null);s!=null&&(r===null&&(r=La.empty()),r.set(n.field,s))}return r||null}function kD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&td(n,a,(s,o)=>WAe(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class th extends Ob{constructor(e,r,n,a=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ll extends Ob{constructor(e,r,n,a,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function K9(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function TD(t,e,r){const n=new Map;dt(t.length===r.length,32656,{Ve:r.length,me:t.length});for(let a=0;a<r.length;a++){const s=t[a],o=s.transform,l=e.data.field(s.field);n.set(s.field,zAe(o,l,r[a]))}return n}function ID(t,e,r){const n=new Map;for(const a of t){const s=a.transform,o=r.data.field(a.field);n.set(a.field,qAe(s,o,e))}return n}class BT extends Ob{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q9 extends Ob{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,r,n,a){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(e.key)&&YAe(s,e,n[a])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Mf(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Mf(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=U9();return this.mutations.forEach(a=>{const s=e.get(a.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=r.has(a.key)?null:l;const c=V9(o,l);c!==null&&n.set(a.key,c),o.isValidDocument()||o.convertToNoDocument(Qt.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),rn())}isEqual(e){return this.batchId===e.batchId&&td(this.mutations,e.mutations,(r,n)=>kD(r,n))&&td(this.baseMutations,e.baseMutations,(r,n)=>kD(r,n))}}class jT{constructor(e,r,n,a){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(e,r,n){dt(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let a=function(){return LAe}();const s=e.mutations;for(let o=0;o<s.length;o++)a=a.insert(s[o].key,n[o].version);return new jT(e,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ET=class{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gr,Kt;function ZAe(t){switch(t){case be.OK:return ot(64938);case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0;default:return ot(15467,{code:t})}}function ede(t){if(t===void 0)return Qa("GRPC error has no .code"),be.UNKNOWN;switch(t){case Gr.OK:return be.OK;case Gr.CANCELLED:return be.CANCELLED;case Gr.UNKNOWN:return be.UNKNOWN;case Gr.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case Gr.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case Gr.INTERNAL:return be.INTERNAL;case Gr.UNAVAILABLE:return be.UNAVAILABLE;case Gr.UNAUTHENTICATED:return be.UNAUTHENTICATED;case Gr.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case Gr.NOT_FOUND:return be.NOT_FOUND;case Gr.ALREADY_EXISTS:return be.ALREADY_EXISTS;case Gr.PERMISSION_DENIED:return be.PERMISSION_DENIED;case Gr.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case Gr.ABORTED:return be.ABORTED;case Gr.OUT_OF_RANGE:return be.OUT_OF_RANGE;case Gr.UNIMPLEMENTED:return be.UNIMPLEMENTED;case Gr.DATA_LOSS:return be.DATA_LOSS;default:return ot(39323,{code:t})}}(Kt=Gr||(Gr={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new cT([4294967295,4294967295],0);const tde={asc:"ASCENDING",desc:"DESCENDING"},rde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nde={and:"AND",or:"OR"};class ade{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function sde(t,e){return t.useProto3Json||Sb(e)?e:{value:e}}function bm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ide(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ode(t,e){return bm(t,e.toTimestamp())}function Os(t){return dt(!!t,49232),Qt.fromTimestamp(function(r){const n=jl(r);return new Lr(n.seconds,n.nanos)}(t))}function ST(t,e){return e2(t,e).canonicalString()}function e2(t,e){const r=function(a){return new pr(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?r:r.child(e)}function z9(t){const e=pr.fromString(t);return dt(gde(e),10190,{key:e.toString()}),e}function Bv(t,e){return ST(t.databaseId,e.path)}function sx(t,e){const r=z9(e);if(r.get(1)!==t.databaseId.projectId)throw new rt(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new rt(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ze(X9(r))}function G9(t,e){return ST(t.databaseId,e)}function W9(t){const e=z9(t);return e.length===4?pr.emptyPath():X9(e)}function lde(t){return new pr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function X9(t){return dt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function PD(t,e,r){return{name:Bv(t,e),fields:r.value.mapValue.fields}}function cde(t,e,r){const n=sx(t,e.name),a=Os(e.updateTime),s=e.createTime?Os(e.createTime):Qt.min(),o=new La({mapValue:{fields:e.fields}}),l=Tn.newFoundDocument(n,a,s,o);return r&&l.setHasCommittedMutations(),r?l.setHasCommittedMutations():l}function Cv(t,e){let r;if(e instanceof th)r={update:PD(t,e.key,e.value)};else if(e instanceof BT)r={delete:Bv(t,e.key)};else if(e instanceof Ll)r={update:PD(t,e.key,e.data),updateMask:pde(e.fieldMask)};else{if(!(e instanceof q9))return ot(16599,{ft:e.type});r={verify:Bv(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,o){const l=o.transform;if(l instanceof vm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ud)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ad)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ym)return{fieldPath:o.field.canonicalString(),increment:l.Re};throw ot(20930,{transform:o.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(a,s){return s.updateTime!==void 0?{updateTime:ode(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ot(27497)}(t,e.precondition)),r}function t2(t,e){const r=e.currentDocument?function(s){return s.updateTime!==void 0?$a.updateTime(Os(s.updateTime)):s.exists!==void 0?$a.exists(s.exists):$a.none()}(e.currentDocument):$a.none(),n=e.updateTransforms?e.updateTransforms.map(a=>function(o,l){let c=null;if("setToServerValue"in l)dt(l.setToServerValue==="REQUEST_TIME",16630,{proto:l}),c=new vm;else if("appendMissingElements"in l){const A=l.appendMissingElements.values||[];c=new ud(A)}else if("removeAllFromArray"in l){const A=l.removeAllFromArray.values||[];c=new Ad(A)}else"increment"in l?c=new ym(o,l.increment):ot(16584,{proto:l});const u=Dr.fromServerFormat(l.fieldPath);return new GAe(u,c)}(t,a)):[];if(e.update){e.update.name;const a=sx(t,e.update.name),s=new La({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(c){const u=c.fieldPaths||[];return new rs(u.map(A=>Dr.fromServerFormat(A)))}(e.updateMask);return new Ll(a,s,o,r,n)}return new th(a,s,r,n)}if(e.delete){const a=sx(t,e.delete);return new BT(a,r)}if(e.verify){const a=sx(t,e.verify);return new q9(a,r)}return ot(1463,{proto:e})}function ude(t,e){return t&&t.length>0?(dt(e!==void 0,14353),t.map(r=>function(a,s){let o=a.updateTime?Os(a.updateTime):Os(s);return o.isEqual(Qt.min())&&(o=Os(s)),new XAe(o,a.transformResults||[])}(r,e))):[]}function Ade(t,e){return{documents:[G9(t,e.path)]}}function dde(t,e){const r={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=G9(t,a);const s=function(u){if(u.length!==0)return Z9(dr.create(u,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(A=>function(h){return{field:dA(h.field),direction:hde(h.dir)}}(A))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const l=sde(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:r,parent:a}}function Y9(t){let e=W9(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){dt(n===1,65062);const A=r.from[0];A.allDescendants?a=A.collectionId:e=e.child(A.collectionId)}let s=[];r.where&&(s=function(d){const h=J9(d);return h instanceof dr&&wT(h)?h.getFilters():[h]}(r.where));let o=[];r.orderBy&&(o=function(d){return d.map(h=>function(p){return new wv(hA(p.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h))}(r.orderBy));let l=null;r.limit&&(l=function(d){let h;return h=typeof d=="object"?d.value:d,Sb(h)?null:h}(r.limit));let c=null;r.startAt&&(c=function(d){const h=!!d.before,f=d.values||[];return new ld(f,h)}(r.startAt));let u=null;return r.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new ld(f,h)}(r.endAt)),DAe(e,a,o,s,l,"F",c,u)}function J9(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=hA(r.unaryFilter.field);return Lt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=hA(r.unaryFilter.field);return Lt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=hA(r.unaryFilter.field);return Lt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=hA(r.unaryFilter.field);return Lt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ot(61313);default:return ot(60726)}}(t):t.fieldFilter!==void 0?function(r){return Lt.create(hA(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ot(58110);default:return ot(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return dr.create(r.compositeFilter.filters.map(n=>J9(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ot(1026)}}(r.compositeFilter.op))}(t):ot(30097,{filter:t})}function hde(t){return tde[t]}function fde(t){return rde[t]}function mde(t){return nde[t]}function dA(t){return{fieldPath:t.canonicalString()}}function hA(t){return Dr.fromServerFormat(t.fieldPath)}function Z9(t){return t instanceof Lt?function(r){if(r.op==="=="){if(bD(r.value))return{unaryFilter:{field:dA(r.field),op:"IS_NAN"}};if(yD(r.value))return{unaryFilter:{field:dA(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(bD(r.value))return{unaryFilter:{field:dA(r.field),op:"IS_NOT_NAN"}};if(yD(r.value))return{unaryFilter:{field:dA(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dA(r.field),op:fde(r.op),value:r.value}}}(t):t instanceof dr?function(r){const n=r.getFilters().map(a=>Z9(a));return n.length===1?n[0]:{compositeFilter:{op:mde(r.op),filters:n}}}(t):ot(54877,{filter:t})}function pde(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function gde(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,r,n,a,s=Qt.min(),o=Qt.min(),l=Ca.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new xA(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new xA(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xA(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xA(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e){this.wt=e}}function xde(t,e){let r;if(e.document)r=cde(t.wt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=Ze.fromSegments(e.noDocument.path),a=au(e.noDocument.readTime);r=Tn.newNoDocument(n,a),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return ot(56709);{const n=Ze.fromSegments(e.unknownDocument.path),a=au(e.unknownDocument.version);r=Tn.newUnknownDocument(n,a)}}return e.readTime&&r.setReadTime(function(a){const s=new Lr(a[0],a[1]);return Qt.fromTimestamp(s)}(e.readTime)),r}function FD(t,e){const r=e.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:jv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=function(s,o){return{name:Bv(s,o.key),fields:o.data.value.mapValue.fields,updateTime:bm(s,o.version.toTimestamp()),createTime:bm(s,o.createTime.toTimestamp())}}(t.wt,e);else if(e.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:nu(e.version)};else{if(!e.isUnknownDocument())return ot(57904,{document:e});n.unknownDocument={path:r.path.toArray(),version:nu(e.version)}}return n}function jv(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function nu(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function au(t){const e=new Lr(t.seconds,t.nanoseconds);return Qt.fromTimestamp(e)}function wc(t,e){const r=(e.baseMutations||[]).map(s=>t2(t.wt,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const l=e.mutations[s+1];o.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const n=e.mutations.map(s=>t2(t.wt,s)),a=Lr.fromMillis(e.localWriteTimeMs);return new CT(e.batchId,a,r,n)}function df(t){const e=au(t.readTime),r=t.lastLimboFreeSnapshotVersion!==void 0?au(t.lastLimboFreeSnapshotVersion):Qt.min();let n;return n=function(s){return s.documents!==void 0}(t.query)?function(s){const o=s.documents.length;return dt(o===1,1966,{count:o}),zi(P9(W9(s.documents[0])))}(t.query):function(s){return zi(Y9(s))}(t.query),new xA(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,r,Ca.fromBase64String(t.resumeToken))}function t7(t,e){const r=nu(e.snapshotVersion),n=nu(e.lastLimboFreeSnapshotVersion);let a;a=FAe(e.target)?Ade(t.wt,e.target):dde(t.wt,e.target).gt;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ru(e.target),readTime:r,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:a}}function r7(t){const e=Y9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ZS(e,e.limit,"L"):e}function P1(t,e){return new ET(e.largestBatchId,t2(t.wt,e.overlayMutation))}function DD(t,e){const r=e.path.lastSegment();return[t,Yn(e.path.popLast()),r]}function OD(t,e,r,n){return{indexId:t,uid:e,sequenceNumber:r,readTime:nu(n.readTime),documentKey:Yn(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vde{getBundleMetadata(e,r){return RD(e).get(r).next(n=>{if(n)return function(s){return{id:s.bundleId,createTime:au(s.createTime),version:s.version}}(n)})}saveBundleMetadata(e,r){return RD(e).put(function(a){return{bundleId:a.id,createTime:nu(Os(a.createTime)),version:a.version}}(r))}getNamedQuery(e,r){return UD(e).get(r).next(n=>{if(n)return function(s){return{name:s.name,query:r7(s.bundledQuery),readTime:au(s.readTime)}}(n)})}saveNamedQuery(e,r){return UD(e).put(function(a){return{name:a.name,readTime:nu(Os(a.readTime)),bundledQuery:a.bundledQuery}}(r))}}function RD(t){return ln(t,Nb)}function UD(t){return ln(t,kb)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,r){this.serializer=e,this.userId=r}static St(e,r){const n=r.uid||"";return new Rb(e,n)}getOverlay(e,r){return Dh(e).get(DD(this.userId,r)).next(n=>n?P1(this.serializer,n):null)}getOverlays(e,r){const n=ii();return se.forEach(r,a=>this.getOverlay(e,a).next(s=>{s!==null&&n.set(a,s)})).next(()=>n)}saveOverlays(e,r,n){const a=[];return n.forEach((s,o)=>{const l=new ET(r,o);a.push(this.bt(e,l))}),se.waitFor(a)}removeOverlaysForBatchId(e,r,n){const a=new Set;r.forEach(o=>a.add(Yn(o.getCollectionPath())));const s=[];return a.forEach(o=>{const l=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,n+1],!1,!0);s.push(Dh(e).X(qS,l))}),se.waitFor(s)}getOverlaysForCollection(e,r,n){const a=ii(),s=Yn(r),o=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Dh(e).J(qS,o).next(l=>{for(const c of l){const u=P1(this.serializer,c);a.set(u.getKey(),u)}return a})}getOverlaysForCollectionGroup(e,r,n,a){const s=ii();let o;const l=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Dh(e).te({index:d9,range:l},(c,u,A)=>{const d=P1(this.serializer,u);s.size()<a||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):A.done()}).next(()=>s)}bt(e,r){return Dh(e).put(function(a,s,o){const[l,c,u]=DD(s,o.mutation.key);return{userId:s,collectionPath:c,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Cv(a.wt,o.mutation)}}(this.serializer,this.userId,r))}}function Dh(t){return ln(t,Tb)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yde{Dt(e){return ln(e,mT)}getSessionToken(e){return this.Dt(e).get("sessionToken").next(r=>{const n=r==null?void 0:r.value;return n?Ca.fromUint8Array(n):Ca.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Dt(e).put({name:"sessionToken",value:r.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(){}vt(e,r){this.Ct(e,r),r.Ft()}Ct(e,r){if("nullValue"in e)this.Mt(r,5);else if("booleanValue"in e)this.Mt(r,10),r.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(r,15),r.xt(Xr(e.integerValue));else if("doubleValue"in e){const n=Xr(e.doubleValue);isNaN(n)?this.Mt(r,13):(this.Mt(r,15),dm(n)?r.xt(0):r.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(r,20),typeof n=="string"&&(n=jl(n)),r.Ot(`${n.seconds||""}`),r.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,r),this.Bt(r);else if("bytesValue"in e)this.Mt(r,30),r.Lt(eu(e.bytesValue)),this.Bt(r);else if("referenceValue"in e)this.kt(e.referenceValue,r);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(r,45),r.xt(n.latitude||0),r.xt(n.longitude||0)}else"mapValue"in e?_9(e)?this.Mt(r,Number.MAX_SAFE_INTEGER):Ib(e)?this.qt(e.mapValue,r):(this.Qt(e.mapValue,r),this.Bt(r)):"arrayValue"in e?(this.$t(e.arrayValue,r),this.Bt(r)):ot(19022,{Ut:e})}Nt(e,r){this.Mt(r,25),this.Kt(e,r)}Kt(e,r){r.Ot(e)}Qt(e,r){const n=e.fields||{};this.Mt(r,55);for(const a of Object.keys(n))this.Nt(a,r),this.Ct(n[a],r)}qt(e,r){var n,a;const s=e.fields||{};this.Mt(r,53);const o=pm,l=((a=(n=s[o].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.length)||0;this.Mt(r,15),r.xt(Xr(l)),this.Nt(o,r),this.Ct(s[o],r)}$t(e,r){const n=e.values||[];this.Mt(r,50);for(const a of n)this.Ct(a,r)}kt(e,r){this.Mt(r,37),Ze.fromName(e).path.forEach(n=>{this.Mt(r,60),this.Kt(n,r)})}Mt(e,r){e.xt(r)}Bt(e){e.xt(2)}}_c.Wt=new _c;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=255;function bde(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function MD(t){const e=64-function(n){let a=0;for(let s=0;s<8;++s){const o=bde(255&n[s]);if(a+=o,o!==8)break}return a}(t);return Math.ceil(e/8)}class wde{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.zt(n.value),n=r.next();this.jt()}Ht(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Jt(n.value),n=r.next();this.Yt()}Zt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.zt(n);else if(n<2048)this.zt(960|n>>>6),this.zt(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.zt(480|n>>>12),this.zt(128|63&n>>>6),this.zt(128|63&n);else{const a=r.codePointAt(0);this.zt(240|a>>>18),this.zt(128|63&a>>>12),this.zt(128|63&a>>>6),this.zt(128|63&a)}}this.jt()}Xt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Jt(n);else if(n<2048)this.Jt(960|n>>>6),this.Jt(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Jt(480|n>>>12),this.Jt(128|63&n>>>6),this.Jt(128|63&n);else{const a=r.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Yt()}en(e){const r=this.tn(e),n=MD(r);this.nn(1+n),this.buffer[this.position++]=255&n;for(let a=r.length-n;a<r.length;++a)this.buffer[this.position++]=255&r[a]}rn(e){const r=this.tn(e),n=MD(r);this.nn(1+n),this.buffer[this.position++]=~(255&n);for(let a=r.length-n;a<r.length;++a)this.buffer[this.position++]=~(255&r[a])}sn(){this._n(Hu),this._n(255)}an(){this.un(Hu),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const r=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),n=!!(128&r[0]);r[0]^=n?255:128;for(let a=1;a<r.length;++a)r[a]^=n?255:0;return r}zt(e){const r=255&e;r===0?(this._n(0),this._n(255)):r===Hu?(this._n(Hu),this._n(0)):this._n(r)}Jt(e){const r=255&e;r===0?(this.un(0),this.un(255)):r===Hu?(this.un(Hu),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const r=e+this.position;if(r<=this.buffer.length)return;let n=2*this.buffer.length;n<r&&(n=r);const a=new Uint8Array(n);a.set(this.buffer),this.buffer=a}}class _de{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class Bde{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class Oh{constructor(){this.ln=new wde,this.hn=new _de(this.ln),this.Pn=new Bde(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return e===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,r,n,a){this.In=e,this.En=r,this.dn=n,this.An=a}Rn(){const e=this.An.length,r=e===0||this.An[e-1]===255?e+1:e,n=new Uint8Array(r);return n.set(this.An,0),r!==e?n.set([0],this.An.length):++n[n.length-1],new Bc(this.In,this.En,this.dn,n)}Vn(e,r,n){return{indexId:this.In,uid:e,arrayValue:ix(this.dn),directionalValue:ix(this.An),orderedDocumentKey:ix(r),documentKey:n.path.toArray()}}mn(e,r,n){const a=this.Vn(e,r,n);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Eo(t,e){let r=t.In-e.In;return r!==0?r:(r=QD(t.dn,e.dn),r!==0?r:(r=QD(t.An,e.An),r!==0?r:Ze.comparator(t.En,e.En)))}function QD(t,e){for(let r=0;r<t.length&&r<e.length;++r){const n=t[r]-e[r];if(n!==0)return n}return t.length-e.length}function ix(t){return MV()?function(r){let n="";for(let a=0;a<r.length;a++)n+=String.fromCharCode(r[a]);return n}(t):t}function LD(t){return typeof t!="string"?t:function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(t)}class HD{constructor(e){this.fn=new xr((r,n)=>Dr.comparator(r.field,n.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.gn=e.orderBy,this.pn=[];for(const r of e.filters){const n=r;n.isInequality()?this.fn=this.fn.add(n):this.pn.push(n)}}get yn(){return this.fn.size>1}wn(e){if(dt(e.collectionGroup===this.collectionId,49279),this.yn)return!1;const r=$S(e);if(r!==void 0&&!this.Sn(r))return!1;const n=fc(e);let a=new Set,s=0,o=0;for(;s<n.length&&this.Sn(n[s]);++s)a=a.add(n[s].fieldPath.canonicalString());if(s===n.length)return!0;if(this.fn.size>0){const l=this.fn.getIterator().getNext();if(!a.has(l.field.canonicalString())){const c=n[s];if(!this.bn(l,c)||!this.Dn(this.gn[o++],c))return!1}++s}for(;s<n.length;++s){const l=n[s];if(o>=this.gn.length||!this.Dn(this.gn[o++],l))return!1}return!0}vn(){if(this.yn)return null;let e=new xr(Dr.comparator);const r=[];for(const n of this.pn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")r.push(new J0(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),r.push(new J0(n.field,0))}for(const n of this.gn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),r.push(new J0(n.field,n.dir==="asc"?0:1)));return new pv(pv.UNKNOWN_ID,this.collectionId,r,Am.empty())}Sn(e){for(const r of this.pn)if(this.bn(r,e))return!0;return!1}bn(e,r){if(e===void 0||!e.field.isEqual(r.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return r.kind===2===n}Dn(e,r){return!!e.field.isEqual(r.fieldPath)&&(r.kind===0&&e.dir==="asc"||r.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n7(t){var e,r;if(dt(t instanceof Lt||t instanceof dr,20012),t instanceof Lt){if(t instanceof I9){const a=((r=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||r===void 0?void 0:r.map(s=>Lt.create(t.field,"==",s)))||[];return dr.create(a,"or")}return t}const n=t.filters.map(a=>n7(a));return dr.create(n,t.op)}function Cde(t){if(t.getFilters().length===0)return[];const e=a2(n7(t));return dt(a7(e),7391),r2(e)||n2(e)?[e]:e.getFilters()}function r2(t){return t instanceof Lt}function n2(t){return t instanceof dr&&wT(t)}function a7(t){return r2(t)||n2(t)||function(r){if(r instanceof dr&&XS(r)){for(const n of r.getFilters())if(!r2(n)&&!n2(n))return!1;return!0}return!1}(t)}function a2(t){if(dt(t instanceof Lt||t instanceof dr,34018),t instanceof Lt)return t;if(t.filters.length===1)return a2(t.filters[0]);const e=t.filters.map(n=>a2(n));let r=dr.create(e,t.op);return r=Ev(r),a7(r)?r:(dt(r instanceof dr,64498),dt(cd(r),40251),dt(r.filters.length>1,57927),r.filters.reduce((n,a)=>NT(n,a)))}function NT(t,e){let r;return dt(t instanceof Lt||t instanceof dr,38388),dt(e instanceof Lt||e instanceof dr,25473),r=t instanceof Lt?e instanceof Lt?function(a,s){return dr.create([a,s],"and")}(t,e):$D(t,e):e instanceof Lt?$D(e,t):function(a,s){if(dt(a.filters.length>0&&s.filters.length>0,48005),cd(a)&&cd(s))return N9(a,s.getFilters());const o=XS(a)?a:s,l=XS(a)?s:a,c=o.filters.map(u=>NT(u,l));return dr.create(c,"or")}(t,e),Ev(r)}function $D(t,e){if(cd(e))return N9(e,t.getFilters());{const r=e.filters.map(n=>NT(t,n));return dr.create(r,"or")}}function Ev(t){if(dt(t instanceof Lt||t instanceof dr,11850),t instanceof Lt)return t;const e=t.getFilters();if(e.length===1)return Ev(e[0]);if(E9(t))return t;const r=e.map(a=>Ev(a)),n=[];return r.forEach(a=>{a instanceof Lt?n.push(a):a instanceof dr&&(a.op===t.op?n.push(...a.filters):n.push(a))}),n.length===1?n[0]:dr.create(n,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jde{constructor(){this.Cn=new kT}addToCollectionParentIndex(e,r){return this.Cn.add(r),se.resolve()}getCollectionParents(e,r){return se.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return se.resolve()}deleteFieldIndex(e,r){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,r){return se.resolve()}getDocumentsMatchingTarget(e,r){return se.resolve(null)}getIndexType(e,r){return se.resolve(0)}getFieldIndexes(e,r){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,r){return se.resolve(qa.min())}getMinOffsetFromCollectionGroup(e,r){return se.resolve(qa.min())}updateCollectionGroup(e,r,n){return se.resolve()}updateIndexEntries(e,r){return se.resolve()}}class kT{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r]||new xr(pr.comparator),s=!a.has(n);return this.index[r]=a.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(e){return(this.index[e]||new xr(pr.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="IndexedDbIndexManager",Zg=new Uint8Array(0);class Ede{constructor(e,r){this.databaseId=r,this.Fn=new kT,this.Mn=new go(n=>ru(n),(n,a)=>$p(n,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.Fn.has(r)){const n=r.lastSegment(),a=r.popLast();e.addOnCommittedListener(()=>{this.Fn.add(r)});const s={collectionId:n,parent:Yn(a)};return KD(e).put(s)}return se.resolve()}getCollectionParents(e,r){const n=[],a=IDBKeyRange.bound([r,""],[r9(r),""],!1,!0);return KD(e).J(a).next(s=>{for(const o of s){if(o.collectionId!==r)break;n.push(si(o.parent))}return n})}addFieldIndex(e,r){const n=Rh(e),a=function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(r);delete a.indexId;const s=n.add(a);if(r.indexState){const o=Vu(e);return s.next(l=>{o.put(OD(l,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return s.next()}deleteFieldIndex(e,r){const n=Rh(e),a=Vu(e),s=$u(e);return n.delete(r.indexId).next(()=>a.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Rh(e),n=$u(e),a=Vu(e);return r.X().next(()=>n.X()).next(()=>a.X())}createTargetIndexes(e,r){return se.forEach(this.xn(r),n=>this.getIndexType(e,n).next(a=>{if(a===0||a===1){const s=new HD(n).vn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,r){const n=$u(e);let a=!0;const s=new Map;return se.forEach(this.xn(r),o=>this.On(e,o).next(l=>{a&&(a=!!l),s.set(o,l)})).next(()=>{if(a){let o=rn();const l=[];return se.forEach(s,(c,u)=>{ke(VD,`Using index ${function(w){return`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(x=>`${x.fieldPath}:${x.kind}`).join(",")}`}(c)} to execute ${ru(r)}`);const A=function(w,x){const C=$S(x);if(C===void 0)return null;for(const E of _v(w,C.fieldPath))switch(E.op){case"array-contains-any":return E.value.arrayValue.values||[];case"array-contains":return[E.value]}return null}(u,c),d=function(w,x){const C=new Map;for(const E of fc(x))for(const B of _v(w,E.fieldPath))switch(B.op){case"==":case"in":C.set(E.fieldPath.canonicalString(),B.value);break;case"not-in":case"!=":return C.set(E.fieldPath.canonicalString(),B.value),Array.from(C.values())}return null}(u,c),h=function(w,x){const C=[];let E=!0;for(const B of fc(x)){const j=B.kind===0?jD(w,B.fieldPath,w.startAt):ED(w,B.fieldPath,w.startAt);C.push(j.value),E&&(E=j.inclusive)}return new ld(C,E)}(u,c),f=function(w,x){const C=[];let E=!0;for(const B of fc(x)){const j=B.kind===0?ED(w,B.fieldPath,w.endAt):jD(w,B.fieldPath,w.endAt);C.push(j.value),E&&(E=j.inclusive)}return new ld(C,E)}(u,c),p=this.Nn(c,u,h),g=this.Nn(c,u,f),m=this.Bn(c,u,d),b=this.Ln(c.indexId,A,p,h.inclusive,g,f.inclusive,m);return se.forEach(b,y=>n.Z(y,r.limit).next(w=>{w.forEach(x=>{const C=Ze.fromSegments(x.documentKey);o.has(C)||(o=o.add(C),l.push(C))})}))}).next(()=>l)}return se.resolve(null)})}xn(e){let r=this.Mn.get(e);return r||(e.filters.length===0?r=[e]:r=Cde(dr.create(e.filters,"and")).map(n=>JS(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt)),this.Mn.set(e,r),r)}Ln(e,r,n,a,s,o,l){const c=(r!=null?r.length:1)*Math.max(n.length,s.length),u=c/(r!=null?r.length:1),A=[];for(let d=0;d<c;++d){const h=r?this.kn(r[d/u]):Zg,f=this.qn(e,h,n[d%u],a),p=this.Qn(e,h,s[d%u],o),g=l.map(m=>this.qn(e,h,m,!0));A.push(...this.createRange(f,p,g))}return A}qn(e,r,n,a){const s=new Bc(e,Ze.empty(),r,n);return a?s:s.Rn()}Qn(e,r,n,a){const s=new Bc(e,Ze.empty(),r,n);return a?s.Rn():s}On(e,r){const n=new HD(r),a=r.collectionGroup!=null?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,a).next(s=>{let o=null;for(const l of s)n.wn(l)&&(!o||l.fields.length>o.fields.length)&&(o=l);return o})}getIndexType(e,r){let n=2;const a=this.xn(r);return se.forEach(a,s=>this.On(e,s).next(o=>{o?n!==0&&o.fields.length<function(c){let u=new xr(Dr.comparator),A=!1;for(const d of c.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?A=!0:u=u.add(h.field));for(const d of c.orderBy)d.field.isKeyField()||(u=u.add(d.field));return u.size+(A?1:0)}(s)&&(n=1):n=0})).next(()=>function(o){return o.limit!==null}(r)&&a.length>1&&n===2?1:n)}$n(e,r){const n=new Oh;for(const a of fc(e)){const s=r.data.field(a.fieldPath);if(s==null)return null;const o=n.Tn(a.kind);_c.Wt.vt(s,o)}return n.cn()}kn(e){const r=new Oh;return _c.Wt.vt(e,r.Tn(0)),r.cn()}Un(e,r){const n=new Oh;return _c.Wt.vt(bT(this.databaseId,r),n.Tn(function(s){const o=fc(s);return o.length===0?0:o[o.length-1].kind}(e))),n.cn()}Bn(e,r,n){if(n===null)return[];let a=[];a.push(new Oh);let s=0;for(const o of fc(e)){const l=n[s++];for(const c of a)if(this.Kn(r,o.fieldPath)&&xm(l))a=this.Wn(a,o,l);else{const u=c.Tn(o.kind);_c.Wt.vt(l,u)}}return this.Gn(a)}Nn(e,r,n){return this.Bn(e,r,n.position)}Gn(e){const r=[];for(let n=0;n<e.length;++n)r[n]=e[n].cn();return r}Wn(e,r,n){const a=[...e],s=[];for(const o of n.arrayValue.values||[])for(const l of a){const c=new Oh;c.seed(l.cn()),_c.Wt.vt(o,c.Tn(r.kind)),s.push(c)}return s}Kn(e,r){return!!e.filters.find(n=>n instanceof Lt&&n.field.isEqual(r)&&(n.op==="in"||n.op==="not-in"))}getFieldIndexes(e,r){const n=Rh(e),a=Vu(e);return(r?n.J(KS,IDBKeyRange.bound(r,r)):n.J()).next(s=>{const o=[];return se.forEach(s,l=>a.get([l.indexId,this.uid]).next(c=>{o.push(function(A,d){const h=d?new Am(d.sequenceNumber,new qa(au(d.readTime),new Ze(si(d.documentKey)),d.largestBatchId)):Am.empty(),f=A.fields.map(([p,g])=>new J0(Dr.fromServerFormat(p),g));return new pv(A.indexId,A.collectionGroup,f,h)}(l,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>r.length===0?null:(r.sort((n,a)=>{const s=n.indexState.sequenceNumber-a.indexState.sequenceNumber;return s!==0?s:Ct(n.collectionGroup,a.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,n){const a=Rh(e),s=Vu(e);return this.zn(e).next(o=>a.J(KS,IDBKeyRange.bound(r,r)).next(l=>se.forEach(l,c=>s.put(OD(c.indexId,this.uid,o,n)))))}updateIndexEntries(e,r){const n=new Map;return se.forEach(r,(a,s)=>{const o=n.get(a.collectionGroup);return(o?se.resolve(o):this.getFieldIndexes(e,a.collectionGroup)).next(l=>(n.set(a.collectionGroup,l),se.forEach(l,c=>this.jn(e,a,c).next(u=>{const A=this.Hn(s,c);return u.isEqual(A)?se.resolve():this.Jn(e,s,c,u,A)}))))})}Yn(e,r,n,a){return $u(e).put(a.Vn(this.uid,this.Un(n,r.key),r.key))}Zn(e,r,n,a){return $u(e).delete(a.mn(this.uid,this.Un(n,r.key),r.key))}jn(e,r,n){const a=$u(e);let s=new xr(Eo);return a.te({index:A9,range:IDBKeyRange.only([n.indexId,this.uid,ix(this.Un(n,r))])},(o,l)=>{s=s.add(new Bc(n.indexId,r,LD(l.arrayValue),LD(l.directionalValue)))}).next(()=>s)}Hn(e,r){let n=new xr(Eo);const a=this.$n(r,e);if(a==null)return n;const s=$S(r);if(s!=null){const o=e.data.field(s.fieldPath);if(xm(o))for(const l of o.arrayValue.values||[])n=n.add(new Bc(r.indexId,e.key,this.kn(l),a))}else n=n.add(new Bc(r.indexId,e.key,Zg,a));return n}Jn(e,r,n,a,s){ke(VD,"Updating index entries for document '%s'",r.key);const o=[];return function(c,u,A,d,h){const f=c.getIterator(),p=u.getIterator();let g=Lu(f),m=Lu(p);for(;g||m;){let b=!1,y=!1;if(g&&m){const w=A(g,m);w<0?y=!0:w>0&&(b=!0)}else g!=null?y=!0:b=!0;b?(d(m),m=Lu(p)):y?(h(g),g=Lu(f)):(g=Lu(f),m=Lu(p))}}(a,s,Eo,l=>{o.push(this.Yn(e,r,n,l))},l=>{o.push(this.Zn(e,r,n,l))}),se.waitFor(o)}zn(e){let r=1;return Vu(e).te({index:u9,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,a,s)=>{s.done(),r=a.sequenceNumber+1}).next(()=>r)}createRange(e,r,n){n=n.sort((o,l)=>Eo(o,l)).filter((o,l,c)=>!l||Eo(o,c[l-1])!==0);const a=[];a.push(e);for(const o of n){const l=Eo(o,e),c=Eo(o,r);if(l===0)a[0]=e.Rn();else if(l>0&&c<0)a.push(o),a.push(o.Rn());else if(c>0)break}a.push(r);const s=[];for(let o=0;o<a.length;o+=2){if(this.Xn(a[o],a[o+1]))return[];const l=a[o].mn(this.uid,Zg,Ze.empty()),c=a[o+1].mn(this.uid,Zg,Ze.empty());s.push(IDBKeyRange.bound(l,c))}return s}Xn(e,r){return Eo(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(qD)}getMinOffset(e,r){return se.mapArray(this.xn(r),n=>this.On(e,n).next(a=>a||ot(44426))).next(qD)}}function KD(t){return ln(t,mm)}function $u(t){return ln(t,Df)}function Rh(t){return ln(t,fT)}function Vu(t){return ln(t,Ff)}function qD(t){dt(t.length!==0,28825);let e=t[0].indexState.offset,r=e.largestBatchId;for(let n=1;n<t.length;n++){const a=t[n].indexState.offset;AT(a,e)<0&&(e=a),r<a.largestBatchId&&(r=a.largestBatchId)}return new qa(e.readTime,e.documentKey,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},s7=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i7(t,e,r){const n=t.store(_s),a=t.store(rd),s=[],o=IDBKeyRange.only(r.batchId);let l=0;const c=n.te({range:o},(A,d,h)=>(l++,h.delete()));s.push(c.next(()=>{dt(l===1,47070,{batchId:r.batchId})}));const u=[];for(const A of r.mutations){const d=o9(e,A.key.path,r.batchId);s.push(a.delete(d)),u.push(A.key)}return se.waitFor(s).next(()=>u)}function Sv(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ot(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(s7,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);class Ub{constructor(e,r,n,a){this.userId=e,this.serializer=r,this.indexManager=n,this.referenceDelegate=a,this.er={}}static St(e,r,n,a){dt(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new Ub(s,r,n,a)}checkEmpty(e){let r=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return So(e).te({index:Sc,range:n},(a,s,o)=>{r=!1,o.done()}).next(()=>r)}addMutationBatch(e,r,n,a){const s=fA(e),o=So(e);return o.add({}).next(l=>{dt(typeof l=="number",49019);const c=new CT(l,r,n,a),u=function(f,p,g){const m=g.baseMutations.map(y=>Cv(f.wt,y)),b=g.mutations.map(y=>Cv(f.wt,y));return{userId:p,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:m,mutations:b}}(this.serializer,this.userId,c),A=[];let d=new xr((h,f)=>Ct(h.canonicalString(),f.canonicalString()));for(const h of a){const f=o9(this.userId,h.key.path,l);d=d.add(h.key.path.popLast()),A.push(o.put(u)),A.push(s.put(f,Yue))}return d.forEach(h=>{A.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.er[l]=c.keys()}),se.waitFor(A).next(()=>c)})}lookupMutationBatch(e,r){return So(e).get(r).next(n=>n?(dt(n.userId===this.userId,48,"Unexpected user for mutation batch",{userId:n.userId,batchId:r}),wc(this.serializer,n)):null)}tr(e,r){return this.er[r]?se.resolve(this.er[r]):this.lookupMutationBatch(e,r).next(n=>{if(n){const a=n.keys();return this.er[r]=a,a}return null})}getNextMutationBatchAfterBatchId(e,r){const n=r+1,a=IDBKeyRange.lowerBound([this.userId,n]);let s=null;return So(e).te({index:Sc,range:a},(o,l,c)=>{l.userId===this.userId&&(dt(l.batchId>=n,47524,{nr:n}),s=wc(this.serializer,l)),c.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=$c;return So(e).te({index:Sc,range:r,reverse:!0},(a,s,o)=>{n=s.batchId,o.done()}).next(()=>n)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,$c],[this.userId,Number.POSITIVE_INFINITY]);return So(e).J(Sc,r).next(n=>n.map(a=>wc(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,r){const n=Z0(this.userId,r.path),a=IDBKeyRange.lowerBound(n),s=[];return fA(e).te({range:a},(o,l,c)=>{const[u,A,d]=o,h=si(A);if(u===this.userId&&r.path.isEqual(h))return So(e).get(d).next(f=>{if(!f)throw ot(61480,{rr:o,batchId:d});dt(f.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:f.userId,batchId:d}),s.push(wc(this.serializer,f))});c.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new xr(Ct);const a=[];return r.forEach(s=>{const o=Z0(this.userId,s.path),l=IDBKeyRange.lowerBound(o),c=fA(e).te({range:l},(u,A,d)=>{const[h,f,p]=u,g=si(f);h===this.userId&&s.path.isEqual(g)?n=n.add(p):d.done()});a.push(c)}),se.waitFor(a).next(()=>this.ir(e,n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,a=n.length+1,s=Z0(this.userId,n),o=IDBKeyRange.lowerBound(s);let l=new xr(Ct);return fA(e).te({range:o},(c,u,A)=>{const[d,h,f]=c,p=si(h);d===this.userId&&n.isPrefixOf(p)?p.length===a&&(l=l.add(f)):A.done()}).next(()=>this.ir(e,l))}ir(e,r){const n=[],a=[];return r.forEach(s=>{a.push(So(e).get(s).next(o=>{if(o===null)throw ot(35274,{batchId:s});dt(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:s}),n.push(wc(this.serializer,o))}))}),se.waitFor(a).next(()=>n)}removeMutationBatch(e,r){return i7(e.he,this.userId,r).next(n=>(e.addOnCommittedListener(()=>{this.sr(r.batchId)}),se.forEach(n,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}sr(e){delete this.er[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return se.resolve();const n=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),a=[];return fA(e).te({range:n},(s,o,l)=>{if(s[0]===this.userId){const c=si(s[1]);a.push(c)}else l.done()}).next(()=>{dt(a.length===0,56720,{_r:a.map(s=>s.canonicalString())})})})}containsKey(e,r){return o7(e,this.userId,r)}ar(e){return l7(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:$c,lastStreamToken:""})}}function o7(t,e,r){const n=Z0(e,r.path),a=n[1],s=IDBKeyRange.lowerBound(n);let o=!1;return fA(t).te({range:s,ee:!0},(l,c,u)=>{const[A,d,h]=l;A===e&&d===a&&(o=!0),u.done()}).next(()=>o)}function So(t){return ln(t,_s)}function fA(t){return ln(t,rd)}function l7(t){return ln(t,hm)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new su(0)}static lr(){return new su(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sde{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.hr(e).next(r=>{const n=new su(r.highestTargetId);return r.highestTargetId=n.next(),this.Pr(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.hr(e).next(r=>Qt.fromTimestamp(new Lr(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.hr(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,n){return this.hr(e).next(a=>(a.highestListenSequenceNumber=r,n&&(a.lastRemoteSnapshotVersion=n.toTimestamp()),r>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=r),this.Pr(e,a)))}addTargetData(e,r){return this.Tr(e,r).next(()=>this.hr(e).next(n=>(n.targetCount+=1,this.Ir(r,n),this.Pr(e,n))))}updateTargetData(e,r){return this.Tr(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Ku(e).delete(r.targetId)).next(()=>this.hr(e)).next(n=>(dt(n.targetCount>0,8065),n.targetCount-=1,this.Pr(e,n)))}removeTargets(e,r,n){let a=0;const s=[];return Ku(e).te((o,l)=>{const c=df(l);c.sequenceNumber<=r&&n.get(c.targetId)===null&&(a++,s.push(this.removeTargetData(e,c)))}).next(()=>se.waitFor(s)).next(()=>a)}forEachTarget(e,r){return Ku(e).te((n,a)=>{const s=df(a);r(s)})}hr(e){return GD(e).get(vv).next(r=>(dt(r!==null,2888),r))}Pr(e,r){return GD(e).put(vv,r)}Tr(e,r){return Ku(e).put(t7(this.serializer,r))}Ir(e,r){let n=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,n=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.hr(e).next(r=>r.targetCount)}getTargetData(e,r){const n=ru(r),a=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let s=null;return Ku(e).te({range:a,index:c9},(o,l,c)=>{const u=df(l);$p(r,u.target)&&(s=u,c.done())}).next(()=>s)}addMatchingKeys(e,r,n){const a=[],s=Ho(e);return r.forEach(o=>{const l=Yn(o.path);a.push(s.put({targetId:n,path:l})),a.push(this.referenceDelegate.addReference(e,n,o))}),se.waitFor(a)}removeMatchingKeys(e,r,n){const a=Ho(e);return se.forEach(r,s=>{const o=Yn(s.path);return se.waitFor([a.delete([n,o]),this.referenceDelegate.removeReference(e,n,s)])})}removeMatchingKeysForTargetId(e,r){const n=Ho(e),a=IDBKeyRange.bound([r],[r+1],!1,!0);return n.delete(a)}getMatchingKeysForTargetId(e,r){const n=IDBKeyRange.bound([r],[r+1],!1,!0),a=Ho(e);let s=rn();return a.te({range:n,ee:!0},(o,l,c)=>{const u=si(o[1]),A=new Ze(u);s=s.add(A)}).next(()=>s)}containsKey(e,r){const n=Yn(r.path),a=IDBKeyRange.bound([n],[r9(n)],!1,!0);let s=0;return Ho(e).te({index:hT,ee:!0,range:a},([o,l],c,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}Rt(e,r){return Ku(e).get(r).next(n=>n?df(n):null)}}function Ku(t){return ln(t,nd)}function GD(t){return ln(t,Vc)}function Ho(t){return ln(t,ad)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD="LruGarbageCollector",Nde=1048576;function XD([t,e],[r,n]){const a=Ct(t,r);return a===0?Ct(e,n):a}class kde{constructor(e){this.Er=e,this.buffer=new xr(XD),this.dr=0}Ar(){return++this.dr}Rr(e){const r=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();XD(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class c7{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ke(WD,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){yu(r)?ke(WD,"Ignoring IndexedDB error during garbage collection: ",r):await jb(r)}await this.mr(3e5)})}}class Tde{constructor(e,r){this.gr=e,this.params=r}calculateTargetCount(e,r){return this.gr.pr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return se.resolve(Ts.le);const n=new kde(r);return this.gr.forEachTarget(e,a=>n.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>n.Rr(a))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.gr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.gr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(zD)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zD):this.wr(e,r))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,r){let n,a,s,o,l,c,u;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),a=this.params.maximumSequenceNumbersToCollect):a=d,o=Date.now(),this.nthSequenceNumber(e,a))).next(d=>(n=d,l=Date.now(),this.removeTargets(e,n,r))).next(d=>(s=d,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(d=>(u=Date.now(),AA()<=qt.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-A}ms
	Determined least recently used ${a} in `+(l-o)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${d} documents in `+(u-c)+`ms
Total Duration: ${u-A}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:d})))}}function u7(t,e){return new Tde(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ide{constructor(e,r){this.db=e,this.garbageCollector=u7(this,r)}pr(e){const r=this.Sr(e);return this.db.getTargetCache().getTargetCount(e).next(n=>r.next(a=>n+a))}Sr(e){let r=0;return this.yr(e,n=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}yr(e,r){return this.br(e,(n,a)=>r(a))}addReference(e,r,n){return e0(e,n)}removeReference(e,r,n){return e0(e,n)}removeTargets(e,r,n){return this.db.getTargetCache().removeTargets(e,r,n)}markPotentiallyOrphaned(e,r){return e0(e,r)}Dr(e,r){return function(a,s){let o=!1;return l7(a).ne(l=>o7(a,l,s).next(c=>(c&&(o=!0),se.resolve(!c)))).next(()=>o)}(e,r)}removeOrphanedDocuments(e,r){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let s=0;return this.br(e,(o,l)=>{if(l<=r){const c=this.Dr(e,o).next(u=>{if(!u)return s++,n.getEntry(e,o).next(()=>(n.removeEntry(o,Qt.min()),Ho(e).delete(function(d){return[0,Yn(d.path)]}(o))))});a.push(c)}}).next(()=>se.waitFor(a)).next(()=>n.apply(e)).next(()=>s)}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,r){return e0(e,r)}br(e,r){const n=Ho(e);let a,s=Ts.le;return n.te({index:hT},([o,l],{path:c,sequenceNumber:u})=>{o===0?(s!==Ts.le&&r(new Ze(si(a)),s),s=u,a=c):s=Ts.le}).next(()=>{s!==Ts.le&&r(new Ze(si(a)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function e0(t,e){return Ho(t).put(function(n,a){return{targetId:0,path:Yn(n.path),sequenceNumber:a}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(){this.changes=new go(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?se.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pde{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,n){return ic(e).put(n)}removeEntry(e,r,n){return ic(e).delete(function(s,o){const l=s.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],jv(o),l[l.length-1]]}(r,n))}updateMetadata(e,r){return this.getMetadata(e).next(n=>(n.byteSize+=r,this.vr(e,n)))}getEntry(e,r){let n=Tn.newInvalidDocument(r);return ic(e).te({index:ex,range:IDBKeyRange.only(Uh(r))},(a,s)=>{n=this.Cr(r,s)}).next(()=>n)}Fr(e,r){let n={size:0,document:Tn.newInvalidDocument(r)};return ic(e).te({index:ex,range:IDBKeyRange.only(Uh(r))},(a,s)=>{n={document:this.Cr(r,s),size:Sv(s)}}).next(()=>n)}getEntries(e,r){let n=nl();return this.Mr(e,r,(a,s)=>{const o=this.Cr(a,s);n=n.insert(a,o)}).next(()=>n)}Or(e,r){let n=nl(),a=new Aa(Ze.comparator);return this.Mr(e,r,(s,o)=>{const l=this.Cr(s,o);n=n.insert(s,l),a=a.insert(s,Sv(o))}).next(()=>({documents:n,Nr:a}))}Mr(e,r,n){if(r.isEmpty())return se.resolve();let a=new xr(ZD);r.forEach(c=>a=a.add(c));const s=IDBKeyRange.bound(Uh(a.first()),Uh(a.last())),o=a.getIterator();let l=o.getNext();return ic(e).te({index:ex,range:s},(c,u,A)=>{const d=Ze.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;l&&ZD(l,d)<0;)n(l,null),l=o.getNext();l&&l.isEqual(d)&&(n(l,u),l=o.hasNext()?o.getNext():null),l?A.H(Uh(l)):A.done()}).next(()=>{for(;l;)n(l,null),l=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,r,n,a,s){const o=r.path,l=[o.popLast().toArray(),o.lastSegment(),jv(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ic(e).J(IDBKeyRange.bound(l,c,!0)).next(u=>{s==null||s.incrementDocumentReadCount(u.length);let A=nl();for(const d of u){const h=this.Cr(Ze.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(Fb(r,h)||a.has(h.key))&&(A=A.insert(h.key,h))}return A})}getAllFromCollectionGroup(e,r,n,a){let s=nl();const o=JD(r,n),l=JD(r,qa.max());return ic(e).te({index:l9,range:IDBKeyRange.bound(o,l,!0)},(c,u,A)=>{const d=this.Cr(Ze.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(d.key,d),s.size===a&&A.done()}).next(()=>s)}newChangeBuffer(e){return new Fde(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return YD(e).get(VS).next(r=>(dt(!!r,20021),r))}vr(e,r){return YD(e).put(VS,r)}Cr(e,r){if(r){const n=xde(this.serializer,r);if(!(n.isNoDocument()&&n.version.isEqual(Qt.min())))return n}return Tn.newInvalidDocument(e)}}function d7(t){return new Pde(t)}class Fde extends A7{constructor(e,r){super(),this.Br=e,this.trackRemovals=r,this.Lr=new go(n=>n.toString(),(n,a)=>n.isEqual(a))}applyChanges(e){const r=[];let n=0,a=new xr((s,o)=>Ct(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const l=this.Lr.get(s);if(r.push(this.Br.removeEntry(e,s,l.readTime)),o.isValidDocument()){const c=FD(this.Br.serializer,o);a=a.add(s.path.popLast());const u=Sv(c);n+=u-l.size,r.push(this.Br.addEntry(e,s,c))}else if(n-=l.size,this.trackRemovals){const c=FD(this.Br.serializer,o.convertToNoDocument(Qt.min()));r.push(this.Br.addEntry(e,s,c))}}),a.forEach(s=>{r.push(this.Br.indexManager.addToCollectionParentIndex(e,s))}),r.push(this.Br.updateMetadata(e,n)),se.waitFor(r)}getFromCache(e,r){return this.Br.Fr(e,r).next(n=>(this.Lr.set(r,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(e,r){return this.Br.Or(e,r).next(({documents:n,Nr:a})=>(a.forEach((s,o)=>{this.Lr.set(s,{size:o,readTime:n.get(s).readTime})}),n))}}function YD(t){return ln(t,fm)}function ic(t){return ln(t,xv)}function Uh(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function JD(t,e){const r=e.documentKey.path.toArray();return[t,jv(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function ZD(t,e){const r=t.path.toArray(),n=e.path.toArray();let a=0;for(let s=0;s<r.length-2&&s<n.length-2;++s)if(a=Ct(r[s],n[s]),a)return a;return a=Ct(r.length,n.length),a||(a=Ct(r[r.length-2],n[n.length-2]),a||Ct(r[r.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dde{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e,r,n,a){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(e,r))).next(a=>(n!==null&&Mf(n.mutation,a,rs.empty(),Lr.now()),a))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,rn()).next(()=>n))}getLocalViewOfDocuments(e,r,n=rn()){const a=ii();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,n).next(s=>{let o=Jg();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=ii();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,rn()))}populateOverlays(e,r,n){const a=[];return n.forEach(s=>{r.has(s)||a.push(s)}),this.documentOverlayCache.getOverlays(e,a).next(s=>{s.forEach((o,l)=>{r.set(o,l)})})}computeViews(e,r,n,a){let s=nl();const o=Uf(),l=function(){return Uf()}();return r.forEach((c,u)=>{const A=n.get(u.key);a.has(u.key)&&(A===void 0||A.mutation instanceof Ll)?s=s.insert(u.key,u):A!==void 0?(o.set(u.key,A.mutation.getFieldMask()),Mf(A.mutation,u,A.mutation.getFieldMask(),Lr.now())):o.set(u.key,rs.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,A)=>o.set(u,A)),r.forEach((u,A)=>{var d;return l.set(u,new Dde(A,(d=o.get(u))!==null&&d!==void 0?d:null))}),l))}recalculateAndSaveOverlays(e,r){const n=Uf();let a=new Aa((o,l)=>o-l),s=rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=r.get(c);if(u===null)return;let A=n.get(c)||rs.empty();A=l.applyToLocalView(u,A),n.set(c,A);const d=(a.get(l.batchId)||rn()).add(c);a=a.insert(l.batchId,d)})}).next(()=>{const o=[],l=a.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,A=c.value,d=U9();A.forEach(h=>{if(!s.has(h)){const f=V9(r.get(h),n.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return se.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,a){return function(o){return Ze.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):OAe(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,a):this.getDocumentsMatchingCollectionQuery(e,r,n,a)}getNextDocuments(e,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,a).next(s=>{const o=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,a-s.size):se.resolve(ii());let l=um,c=s;return o.next(u=>se.forEach(u,(A,d)=>(l<d.largestBatchId&&(l=d.largestBatchId),s.get(A)?se.resolve():this.remoteDocumentCache.getEntry(e,A).next(h=>{c=c.insert(A,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,rn())).next(A=>({batchId:l,changes:R9(A)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ze(r)).next(n=>{let a=Jg();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(e,r,n,a){const s=r.collectionGroup;let o=Jg();return this.indexManager.getCollectionParents(e,s).next(l=>se.forEach(l,c=>{const u=function(d,h){return new Pb(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,n,a).next(A=>{A.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,a){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,a))).next(o=>{s.forEach((c,u)=>{const A=u.getKey();o.get(A)===null&&(o=o.insert(A,Tn.newInvalidDocument(A)))});let l=Jg();return o.forEach((c,u)=>{const A=s.get(c);A!==void 0&&Mf(A.mutation,u,rs.empty(),Lr.now()),Fb(r,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ode{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,r){return se.resolve(this.kr.get(r))}saveBundleMetadata(e,r){return this.kr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:Os(a.createTime)}}(r)),se.resolve()}getNamedQuery(e,r){return se.resolve(this.qr.get(r))}saveNamedQuery(e,r){return this.qr.set(r.name,function(a){return{name:a.name,query:r7(a.bundledQuery),readTime:Os(a.readTime)}}(r)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rde{constructor(){this.overlays=new Aa(Ze.comparator),this.Qr=new Map}getOverlay(e,r){return se.resolve(this.overlays.get(r))}getOverlays(e,r){const n=ii();return se.forEach(r,a=>this.getOverlay(e,a).next(s=>{s!==null&&n.set(a,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((a,s)=>{this.bt(e,r,s)}),se.resolve()}removeOverlaysForBatchId(e,r,n){const a=this.Qr.get(n);return a!==void 0&&(a.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(n)),se.resolve()}getOverlaysForCollection(e,r,n){const a=ii(),s=r.length+1,o=new Ze(r.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>n&&a.set(c.getKey(),c)}return se.resolve(a)}getOverlaysForCollectionGroup(e,r,n,a){let s=new Aa((u,A)=>u-A);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let A=s.get(u.largestBatchId);A===null&&(A=ii(),s=s.insert(u.largestBatchId,A)),A.set(u.getKey(),u)}}const l=ii(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,A)=>l.set(u,A)),!(l.size()>=a)););return se.resolve(l)}bt(e,r,n){const a=this.overlays.get(n.key);if(a!==null){const o=this.Qr.get(a.largestBatchId).delete(n.key);this.Qr.set(a.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new ET(r,n));let s=this.Qr.get(r);s===void 0&&(s=rn(),this.Qr.set(r,s)),this.Qr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ude{constructor(){this.sessionToken=Ca.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.$r=new xr(fn.Ur),this.Kr=new xr(fn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,r){const n=new fn(e,r);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.zr(new fn(e,r))}jr(e,r){e.forEach(n=>this.removeReference(n,r))}Hr(e){const r=new Ze(new pr([])),n=new fn(r,e),a=new fn(r,e+1),s=[];return this.Kr.forEachInRange([n,a],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const r=new Ze(new pr([])),n=new fn(r,e),a=new fn(r,e+1);let s=rn();return this.Kr.forEachInRange([n,a],o=>{s=s.add(o.key)}),s}containsKey(e){const r=new fn(e,0),n=this.$r.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class fn{constructor(e,r){this.key=e,this.Zr=r}static Ur(e,r){return Ze.comparator(e.key,r.key)||Ct(e.Zr,r.Zr)}static Wr(e,r){return Ct(e.Zr,r.Zr)||Ze.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mde{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.nr=1,this.Xr=new xr(fn.Ur)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,a){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new CT(s,r,n,a);this.mutationQueue.push(o);for(const l of a)this.Xr=this.Xr.add(new fn(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return se.resolve(o)}lookupMutationBatch(e,r){return se.resolve(this.ei(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,a=this.ti(n),s=a<0?0:a;return se.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?$c:this.nr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new fn(r,0),a=new fn(r,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([n,a],o=>{const l=this.ei(o.Zr);s.push(l)}),se.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new xr(Ct);return r.forEach(a=>{const s=new fn(a,0),o=new fn(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],l=>{n=n.add(l.Zr)})}),se.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,a=n.length+1;let s=n;Ze.isDocumentKey(s)||(s=s.child(""));const o=new fn(new Ze(s),0);let l=new xr(Ct);return this.Xr.forEachWhile(c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===a&&(l=l.add(c.Zr)),!0)},o),se.resolve(this.ni(l))}ni(e){const r=[];return e.forEach(n=>{const a=this.ei(n);a!==null&&r.push(a)}),r}removeMutationBatch(e,r){dt(this.ri(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Xr;return se.forEach(r.mutations,a=>{const s=new fn(a.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=n})}sr(e){}containsKey(e,r){const n=new fn(r,0),a=this.Xr.firstAfterOrEqual(n);return se.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ri(e,r){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const r=this.ti(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qde{constructor(e){this.ii=e,this.docs=function(){return new Aa(Ze.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,a=this.docs.get(n),s=a?a.size:0,o=this.ii(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return se.resolve(n?n.document.mutableCopy():Tn.newInvalidDocument(r))}getEntries(e,r){let n=nl();return r.forEach(a=>{const s=this.docs.get(a);n=n.insert(a,s?s.document.mutableCopy():Tn.newInvalidDocument(a))}),se.resolve(n)}getDocumentsMatchingQuery(e,r,n,a){let s=nl();const o=r.path,l=new Ze(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:A}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||AT(n9(A),n)<=0||(a.has(A.key)||Fb(r,A))&&(s=s.insert(A.key,A.mutableCopy()))}return se.resolve(s)}getAllFromCollectionGroup(e,r,n,a){ot(9500)}si(e,r){return se.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new Lde(this)}getSize(e){return se.resolve(this.size)}}class Lde extends A7{constructor(e){super(),this.Br=e}applyChanges(e){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.Br.addEntry(e,a)):this.Br.removeEntry(n)}),se.waitFor(r)}getFromCache(e,r){return this.Br.getEntry(e,r)}getAllFromCache(e,r){return this.Br.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hde{constructor(e){this.persistence=e,this.oi=new go(r=>ru(r),$p),this.lastRemoteSnapshotVersion=Qt.min(),this.highestTargetId=0,this._i=0,this.ai=new TT,this.targetCount=0,this.ui=su.cr()}forEachTarget(e,r){return this.oi.forEach((n,a)=>r(a)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this._i&&(this._i=r),se.resolve()}Tr(e){this.oi.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ui=new su(r),this.highestTargetId=r),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,r){return this.Tr(r),this.targetCount+=1,se.resolve()}updateTargetData(e,r){return this.Tr(r),se.resolve()}removeTargetData(e,r){return this.oi.delete(r.target),this.ai.Hr(r.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,r,n){let a=0;const s=[];return this.oi.forEach((o,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),a++)}),se.waitFor(s).next(()=>a)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,r){const n=this.oi.get(r)||null;return se.resolve(n)}addMatchingKeys(e,r,n){return this.ai.Gr(r,n),se.resolve()}removeMatchingKeys(e,r,n){this.ai.jr(r,n);const a=this.persistence.referenceDelegate,s=[];return a&&r.forEach(o=>{s.push(a.markPotentiallyOrphaned(e,o))}),se.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.ai.Hr(r),se.resolve()}getMatchingKeysForTargetId(e,r){const n=this.ai.Yr(r);return se.resolve(n)}containsKey(e,r){return se.resolve(this.ai.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,r){this.ci={},this.overlays={},this.li=new Ts(0),this.hi=!1,this.hi=!0,this.Pi=new Ude,this.referenceDelegate=e(this),this.Ti=new Hde(this),this.indexManager=new jde,this.remoteDocumentCache=function(a){return new Qde(a)}(n=>this.referenceDelegate.Ii(n)),this.serializer=new e7(r),this.Ei=new Ode(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Rde,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ci[e.toKey()];return n||(n=new Mde(r,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,r,n){ke("MemoryPersistence","Starting transaction:",e);const a=new $de(this.li.next());return this.referenceDelegate.di(),n(a).next(s=>this.referenceDelegate.Ai(a).next(()=>s)).toPromise().then(s=>(a.raiseOnCommittedEvent(),s))}Ri(e,r){return se.or(Object.values(this.ci).map(n=>()=>n.containsKey(e,r)))}}class $de extends s9{constructor(e){super(),this.currentSequenceNumber=e}}class Mb{constructor(e){this.persistence=e,this.Vi=new TT,this.mi=null}static fi(e){return new Mb(e)}get gi(){if(this.mi)return this.mi;throw ot(60996)}addReference(e,r,n){return this.Vi.addReference(n,r),this.gi.delete(n.toString()),se.resolve()}removeReference(e,r,n){return this.Vi.removeReference(n,r),this.gi.add(n.toString()),se.resolve()}markPotentiallyOrphaned(e,r){return this.gi.add(r.toString()),se.resolve()}removeTarget(e,r){this.Vi.Hr(r.targetId).forEach(a=>this.gi.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(a=>{a.forEach(s=>this.gi.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}di(){this.mi=new Set}Ai(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.gi,n=>{const a=Ze.fromPath(n);return this.pi(e,a).next(s=>{s||r.removeEntry(a,Qt.min())})}).next(()=>(this.mi=null,r.apply(e)))}updateLimboDocument(e,r){return this.pi(e,r).next(n=>{n?this.gi.delete(r.toString()):this.gi.add(r.toString())})}Ii(e){return 0}pi(e,r){return se.or([()=>se.resolve(this.Vi.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ri(e,r)])}}class Nv{constructor(e,r){this.persistence=e,this.yi=new go(n=>Yn(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=u7(this,r)}static fi(e,r){return new Nv(e,r)}di(){}Ai(e){return se.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}pr(e){const r=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(a=>n+a))}Sr(e){let r=0;return this.yr(e,n=>{r++}).next(()=>r)}yr(e,r){return se.forEach(this.yi,(n,a)=>this.Dr(e,n,a).next(s=>s?se.resolve():r(a)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.si(e,o=>this.Dr(e,o,r).next(l=>{l||(n++,s.removeEntry(o,Qt.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.yi.set(r,e.currentSequenceNumber),se.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.yi.set(n,e.currentSequenceNumber),se.resolve()}removeReference(e,r,n){return this.yi.set(n,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,r){return this.yi.set(r,e.currentSequenceNumber),se.resolve()}Ii(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=rx(e.data.value)),r}Dr(e,r,n){return se.or([()=>this.persistence.Ri(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const a=this.yi.get(r);return se.resolve(a!==void 0&&a>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vde{constructor(e){this.serializer=e}q(e,r,n,a){const s=new Eb("createOrUpgrade",r);n<1&&a>=1&&(function(c){c.createObjectStore(Hp)}(e),function(c){c.createObjectStore(hm,{keyPath:Xue}),c.createObjectStore(_s,{keyPath:fD,autoIncrement:!0}).createIndex(Sc,mD,{unique:!0}),c.createObjectStore(rd)}(e),eO(e),function(c){c.createObjectStore(mc)}(e));let o=se.resolve();return n<3&&a>=3&&(n!==0&&(function(c){c.deleteObjectStore(ad),c.deleteObjectStore(nd),c.deleteObjectStore(Vc)}(e),eO(e)),o=o.next(()=>function(c){const u=c.store(Vc),A={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Qt.min().toTimestamp(),targetCount:0};return u.put(vv,A)}(s))),n<4&&a>=4&&(n!==0&&(o=o.next(()=>function(c,u){return u.store(_s).J().next(d=>{c.deleteObjectStore(_s),c.createObjectStore(_s,{keyPath:fD,autoIncrement:!0}).createIndex(Sc,mD,{unique:!0});const h=u.store(_s),f=d.map(p=>h.put(p));return se.waitFor(f)})}(e,s))),o=o.next(()=>{(function(c){c.createObjectStore(sd,{keyPath:sAe})})(e)})),n<5&&a>=5&&(o=o.next(()=>this.wi(s))),n<6&&a>=6&&(o=o.next(()=>(function(c){c.createObjectStore(fm)}(e),this.Si(s)))),n<7&&a>=7&&(o=o.next(()=>this.bi(s))),n<8&&a>=8&&(o=o.next(()=>this.Di(e,s))),n<9&&a>=9&&(o=o.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),n<10&&a>=10&&(o=o.next(()=>this.Ci(s))),n<11&&a>=11&&(o=o.next(()=>{(function(c){c.createObjectStore(Nb,{keyPath:iAe})})(e),function(c){c.createObjectStore(kb,{keyPath:oAe})}(e)})),n<12&&a>=12&&(o=o.next(()=>{(function(c){const u=c.createObjectStore(Tb,{keyPath:fAe});u.createIndex(qS,mAe,{unique:!1}),u.createIndex(d9,pAe,{unique:!1})})(e)})),n<13&&a>=13&&(o=o.next(()=>function(c){const u=c.createObjectStore(xv,{keyPath:Jue});u.createIndex(ex,Zue),u.createIndex(l9,eAe)}(e)).next(()=>this.Fi(e,s)).next(()=>e.deleteObjectStore(mc))),n<14&&a>=14&&(o=o.next(()=>this.Mi(e,s))),n<15&&a>=15&&(o=o.next(()=>function(c){c.createObjectStore(fT,{keyPath:lAe,autoIncrement:!0}).createIndex(KS,cAe,{unique:!1}),c.createObjectStore(Ff,{keyPath:uAe}).createIndex(u9,AAe,{unique:!1}),c.createObjectStore(Df,{keyPath:dAe}).createIndex(A9,hAe,{unique:!1})}(e))),n<16&&a>=16&&(o=o.next(()=>{r.objectStore(Ff).clear()}).next(()=>{r.objectStore(Df).clear()})),n<17&&a>=17&&(o=o.next(()=>{(function(c){c.createObjectStore(mT,{keyPath:gAe})})(e)})),n<18&&a>=18&&MV()&&(o=o.next(()=>{r.objectStore(Ff).clear()}).next(()=>{r.objectStore(Df).clear()})),o}Si(e){let r=0;return e.store(mc).te((n,a)=>{r+=Sv(a)}).next(()=>{const n={byteSize:r};return e.store(fm).put(VS,n)})}wi(e){const r=e.store(hm),n=e.store(_s);return r.J().next(a=>se.forEach(a,s=>{const o=IDBKeyRange.bound([s.userId,$c],[s.userId,s.lastAcknowledgedBatchId]);return n.J(Sc,o).next(l=>se.forEach(l,c=>{dt(c.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const u=wc(this.serializer,c);return i7(e,s.userId,u).next(()=>{})}))}))}bi(e){const r=e.store(ad),n=e.store(mc);return e.store(Vc).get(vv).next(a=>{const s=[];return n.te((o,l)=>{const c=new pr(o),u=function(d){return[0,Yn(d)]}(c);s.push(r.get(u).next(A=>A?se.resolve():(d=>r.put({targetId:0,path:Yn(d),sequenceNumber:a.highestListenSequenceNumber}))(c)))}).next(()=>se.waitFor(s))})}Di(e,r){e.createObjectStore(mm,{keyPath:aAe});const n=r.store(mm),a=new kT,s=o=>{if(a.add(o)){const l=o.lastSegment(),c=o.popLast();return n.put({collectionId:l,parent:Yn(c)})}};return r.store(mc).te({ee:!0},(o,l)=>{const c=new pr(o);return s(c.popLast())}).next(()=>r.store(rd).te({ee:!0},([o,l,c],u)=>{const A=si(l);return s(A.popLast())}))}Ci(e){const r=e.store(nd);return r.te((n,a)=>{const s=df(a),o=t7(this.serializer,s);return r.put(o)})}Fi(e,r){const n=r.store(mc),a=[];return n.te((s,o)=>{const l=r.store(xv),c=function(d){return d.document?new Ze(pr.fromString(d.document.name).popFirst(5)):d.noDocument?Ze.fromSegments(d.noDocument.path):d.unknownDocument?Ze.fromSegments(d.unknownDocument.path):ot(36783)}(o).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};a.push(l.put(u))}).next(()=>se.waitFor(a))}Mi(e,r){const n=r.store(_s),a=d7(this.serializer),s=new IT(Mb.fi,this.serializer.wt);return n.J().next(o=>{const l=new Map;return o.forEach(c=>{var u;let A=(u=l.get(c.userId))!==null&&u!==void 0?u:rn();wc(this.serializer,c).keys().forEach(d=>A=A.add(d)),l.set(c.userId,A)}),se.forEach(l,(c,u)=>{const A=new Sn(u),d=Rb.St(this.serializer,A),h=s.getIndexManager(A),f=Ub.St(A,this.serializer,h,s.referenceDelegate);return new h7(a,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new zS(r,Ts.le),c).next()})})}}function eO(t){t.createObjectStore(ad,{keyPath:rAe}).createIndex(hT,nAe,{unique:!0}),t.createObjectStore(nd,{keyPath:"targetId"}).createIndex(c9,tAe,{unique:!0}),t.createObjectStore(Vc)}const No="IndexedDbPersistence",F1=18e5,D1=5e3,O1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Kde="main";class PT{constructor(e,r,n,a,s,o,l,c,u,A,d=18){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=n,this.xi=s,this.window=o,this.document=l,this.Oi=u,this.Ni=A,this.Bi=d,this.li=null,this.hi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Li=null,this.inForeground=!1,this.ki=null,this.qi=null,this.Qi=Number.NEGATIVE_INFINITY,this.$i=h=>Promise.resolve(),!PT.C())throw new rt(be.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ide(this,a),this.Ui=r+Kde,this.serializer=new e7(c),this.Ki=new dl(this.Ui,this.Bi,new Vde(this.serializer)),this.Pi=new yde,this.Ti=new Sde(this.referenceDelegate,this.serializer),this.remoteDocumentCache=d7(this.serializer),this.Ei=new vde,this.window&&this.window.localStorage?this.Wi=this.window.localStorage:(this.Wi=null,A===!1&&Qa(No,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Gi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new rt(be.FAILED_PRECONDITION,O1);return this.zi(),this.ji(),this.Hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ti.getHighestSequenceNumber(e))}).then(e=>{this.li=new Ts(e,this.Oi)}).then(()=>{this.hi=!0}).catch(e=>(this.Ki&&this.Ki.close(),Promise.reject(e)))}Ji(e){return this.$i=async r=>{if(this.started)return e(r)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ki.U(async r=>{r.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.xi.enqueueAndForget(async()=>{this.started&&await this.Gi()}))}Gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>t0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Yi(e).next(r=>{r||(this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)))})}).next(()=>this.Zi(e)).next(r=>this.isPrimary&&!r?this.Xi(e).next(()=>!1):!!r&&this.es(e).next(()=>!0))).catch(e=>{if(yu(e))return ke(No,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ke(No,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.xi.enqueueRetryable(()=>this.$i(e)),this.isPrimary=e})}Yi(e){return Mh(e).get(Qu).next(r=>se.resolve(this.ts(r)))}ns(e){return t0(e).delete(this.clientId)}async rs(){if(this.isPrimary&&!this.ss(this.Qi,F1)){this.Qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const n=ln(r,sd);return n.J().next(a=>{const s=this._s(a,F1),o=a.filter(l=>s.indexOf(l)===-1);return se.forEach(o,l=>n.delete(l.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Wi)for(const r of e)this.Wi.removeItem(this.us(r.clientId))}}Hi(){this.qi=this.xi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Gi().then(()=>this.rs()).then(()=>this.Hi()))}ts(e){return!!e&&e.ownerId===this.clientId}Zi(e){return this.Ni?se.resolve(!0):Mh(e).get(Qu).next(r=>{if(r!==null&&this.ss(r.leaseTimestampMs,D1)&&!this.cs(r.ownerId)){if(this.ts(r)&&this.networkEnabled)return!0;if(!this.ts(r)){if(!r.allowTabSynchronization)throw new rt(be.FAILED_PRECONDITION,O1);return!1}}return!(!this.networkEnabled||!this.inForeground)||t0(e).J().next(n=>this._s(n,D1).find(a=>{if(this.clientId!==a.clientId){const s=!this.networkEnabled&&a.networkEnabled,o=!this.inForeground&&a.inForeground,l=this.networkEnabled===a.networkEnabled;if(s||o&&l)return!0}return!1})===void 0)}).next(r=>(this.isPrimary!==r&&ke(No,`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}async shutdown(){this.hi=!1,this.ls(),this.qi&&(this.qi.cancel(),this.qi=null),this.hs(),this.Ps(),await this.Ki.runTransaction("shutdown","readwrite",[Hp,sd],e=>{const r=new zS(e,Ts.le);return this.Xi(r).next(()=>this.ns(r))}),this.Ki.close(),this.Ts()}_s(e,r){return e.filter(n=>this.ss(n.updateTimeMs,r)&&!this.cs(n.clientId))}Is(){return this.runTransaction("getActiveClients","readonly",e=>t0(e).J().next(r=>this._s(r,F1).map(n=>n.clientId)))}get started(){return this.hi}getGlobalsCache(){return this.Pi}getMutationQueue(e,r){return Ub.St(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Ede(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return Rb.St(this.serializer,e)}getBundleCache(){return this.Ei}runTransaction(e,r,n){ke(No,"Starting transaction:",e);const a=r==="readonly"?"readonly":"readwrite",s=function(c){return c===18?yAe:c===17?p9:c===16?vAe:c===15?pT:c===14?m9:c===13?f9:c===12?xAe:c===11?h9:void ot(60245)}(this.Bi);let o;return this.Ki.runTransaction(e,a,s,l=>(o=new zS(l,this.li?this.li.next():Ts.le),r==="readwrite-primary"?this.Yi(o).next(c=>!!c||this.Zi(o)).next(c=>{if(!c)throw Qa(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)),new rt(be.FAILED_PRECONDITION,a9);return n(o)}).next(c=>this.es(o).next(()=>c)):this.Es(o).next(()=>n(o)))).then(l=>(o.raiseOnCommittedEvent(),l))}Es(e){return Mh(e).get(Qu).next(r=>{if(r!==null&&this.ss(r.leaseTimestampMs,D1)&&!this.cs(r.ownerId)&&!this.ts(r)&&!(this.Ni||this.allowTabSynchronization&&r.allowTabSynchronization))throw new rt(be.FAILED_PRECONDITION,O1)})}es(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Mh(e).put(Qu,r)}static C(){return dl.C()}Xi(e){const r=Mh(e);return r.get(Qu).next(n=>this.ts(n)?(ke(No,"Releasing primary lease."),r.delete(Qu)):se.resolve())}ss(e,r){const n=Date.now();return!(e<n-r)&&(!(e>n)||(Qa(`Detected an update time that is in the future: ${e} > ${n}`),!1))}zi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ki=()=>{this.xi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Gi()))},this.document.addEventListener("visibilitychange",this.ki),this.inForeground=this.document.visibilityState==="visible")}hs(){this.ki&&(this.document.removeEventListener("visibilitychange",this.ki),this.ki=null)}ji(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Li=()=>{this.ls();const r=/(?:Version|Mobile)\/1[456]/;UV()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.xi.enterRestrictedMode(!0),this.xi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Li))}Ps(){this.Li&&(this.window.removeEventListener("pagehide",this.Li),this.Li=null)}cs(e){var r;try{const n=((r=this.Wi)===null||r===void 0?void 0:r.getItem(this.us(e)))!==null;return ke(No,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Qa(No,"Failed to get zombied client id.",n),!1}}ls(){if(this.Wi)try{this.Wi.setItem(this.us(this.clientId),String(Date.now()))}catch(e){Qa("Failed to set zombie client id.",e)}}Ts(){if(this.Wi)try{this.Wi.removeItem(this.us(this.clientId))}catch{}}us(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Mh(t){return ln(t,Hp)}function t0(t){return ln(t,sd)}function qde(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,r,n,a){this.targetId=e,this.fromCache=r,this.ds=n,this.As=a}static Rs(e,r){let n=rn(),a=rn();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new FT(e,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zde{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return UV()?8:i9(hv())>0?6:4}()}initialize(e,r){this.ys=e,this.indexManager=r,this.Vs=!0}getDocumentsMatchingQuery(e,r,n,a){const s={result:null};return this.ws(e,r).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ss(e,r,a,n).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new zde;return this.bs(e,r,o).next(l=>{if(s.result=l,this.fs)return this.Ds(e,r,o,l.size)})}).next(()=>s.result)}Ds(e,r,n,a){return n.documentReadCount<this.gs?(AA()<=qt.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",Fh(r),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),se.resolve()):(AA()<=qt.DEBUG&&ke("QueryEngine","Query:",Fh(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ps*a?(AA()<=qt.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",Fh(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(r))):se.resolve())}ws(e,r){if(SD(r))return se.resolve(null);let n=zi(r);return this.indexManager.getIndexType(e,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=ZS(r,null,"F"),n=zi(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const o=rn(...s);return this.ys.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,n).next(c=>{const u=this.vs(r,l);return this.Cs(r,u,o,c.readTime)?this.ws(e,ZS(r,null,"F")):this.Fs(e,u,r,c)}))})))}Ss(e,r,n,a){return SD(r)||a.isEqual(Qt.min())?se.resolve(null):this.ys.getDocuments(e,n).next(s=>{const o=this.vs(r,s);return this.Cs(r,o,n,a)?se.resolve(null):(AA()<=qt.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Fh(r)),this.Fs(e,o,r,$ue(a,um)).next(l=>l))})}vs(e,r){let n=new xr(UAe(e));return r.forEach((a,s)=>{Fb(e,s)&&(n=n.add(s))}),n}Cs(e,r,n,a){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}bs(e,r,n){return AA()<=qt.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",Fh(r)),this.ys.getDocumentsMatchingQuery(e,r,qa.min(),n)}Fs(e,r,n,a){return this.ys.getDocumentsMatchingQuery(e,n,a).next(s=>(r.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gde="LocalStore";class Wde{constructor(e,r,n,a){this.persistence=e,this.Ms=r,this.serializer=a,this.xs=new Aa(Ct),this.Os=new go(s=>ru(s),$p),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new h7(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.xs))}}function m7(t,e,r,n){return new Wde(t,e,r,n)}async function p7(t,e){const r=yr(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(s=>(a=s,r.Ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const o=[],l=[];let c=rn();for(const u of a){o.push(u.batchId);for(const A of u.mutations)c=c.add(A.key)}for(const u of s){l.push(u.batchId);for(const A of u.mutations)c=c.add(A.key)}return r.localDocuments.getDocuments(n,c).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:l}))})})}function Xde(t,e){const r=yr(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=e.batch.keys(),s=r.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,A){const d=u.batch,h=d.keys();let f=se.resolve();return h.forEach(p=>{f=f.next(()=>A.getEntry(c,p)).next(g=>{const m=u.docVersions.get(p);dt(m!==null,48541),g.version.compareTo(m)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),A.addEntry(g)))})}),f.next(()=>l.mutationQueue.removeMutationBatch(c,d))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let c=rn();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,a))})}function Yde(t){const e=yr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ti.getLastRemoteSnapshotVersion(r))}function Jde(t,e){const r=yr(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=$c),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}class tO{constructor(){this.activeTargetIds=VAe()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class g7{constructor(){this.xo=new tO,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,r,n){this.Oo[e]=r}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new tO,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zde{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO="ConnectivityMonitor";class nO{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ke(rO,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ke(rO,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r0=null;function s2(){return r0===null?r0=function(){return 268435456+Math.round(2147483648*Math.random())}():r0++,"0x"+r0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="RestConnection",ehe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class the{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=r+"://"+e.host,this.Wo=`projects/${n}/databases/${a}`,this.Go=this.databaseId.database===bv?`project_id=${n}`:`project_id=${n}&database_id=${a}`}zo(e,r,n,a,s){const o=s2(),l=this.jo(e,r.toUriEncodedString());ke(R1,`Sending RPC '${e}' ${o}:`,l,n);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,a,s);const{host:u}=new URL(l),A=iT(u);return this.Jo(e,l,c,n,A).then(d=>(ke(R1,`Received RPC '${e}' ${o}: `,d),d),d=>{throw Lp(R1,`RPC '${e}' ${o} failed with error: `,d,"url: ",l,"request:",n),d})}Yo(e,r,n,a,s,o){return this.zo(e,r,n,a,s)}Ho(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,s)=>e[s]=a),n&&n.headers.forEach((a,s)=>e[s]=a)}jo(e,r){const n=ehe[e];return`${this.Ko}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rhe{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="WebChannelConnection";class nhe extends the{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,a,s){const o=s2();return new Promise((l,c)=>{const u=new GV;u.setWithCredentials(!0),u.listenOnce(WV.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Y0.NO_ERROR:const d=u.getResponseJson();ke(Qn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),l(d);break;case Y0.TIMEOUT:ke(Qn,`RPC '${e}' ${o} timed out`),c(new rt(be.DEADLINE_EXCEEDED,"Request time out"));break;case Y0.HTTP_ERROR:const h=u.getStatus();if(ke(Qn,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let f=u.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(b){const y=b.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(y)>=0?y:be.UNKNOWN}(p.status);c(new rt(g,p.message))}else c(new rt(be.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new rt(be.UNAVAILABLE,"Connection failed."));break;default:ot(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ke(Qn,`RPC '${e}' ${o} completed.`)}});const A=JSON.stringify(a);ke(Qn,`RPC '${e}' ${o} sending request:`,a),u.send(r,"POST",A,n,15)})}T_(e,r,n){const a=s2(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=JV(),l=YV(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const A=s.join("");ke(Qn,`Creating RPC '${e}' stream ${a}: ${A}`,c);const d=o.createWebChannel(A,c);let h=!1,f=!1;const p=new rhe({Zo:m=>{f?ke(Qn,`Not sending because RPC '${e}' stream ${a} is closed:`,m):(h||(ke(Qn,`Opening RPC '${e}' stream ${a} transport.`),d.open(),h=!0),ke(Qn,`RPC '${e}' stream ${a} sending:`,m),d.send(m))},Xo:()=>d.close()}),g=(m,b,y)=>{m.listen(b,w=>{try{y(w)}catch(x){setTimeout(()=>{throw x},0)}})};return g(d,Af.EventType.OPEN,()=>{f||(ke(Qn,`RPC '${e}' stream ${a} transport opened.`),p.__())}),g(d,Af.EventType.CLOSE,()=>{f||(f=!0,ke(Qn,`RPC '${e}' stream ${a} transport closed`),p.u_())}),g(d,Af.EventType.ERROR,m=>{f||(f=!0,Lp(Qn,`RPC '${e}' stream ${a} transport errored. Name:`,m.name,"Message:",m.message),p.u_(new rt(be.UNAVAILABLE,"The operation could not be completed")))}),g(d,Af.EventType.MESSAGE,m=>{var b;if(!f){const y=m.data[0];dt(!!y,16349);const w=y,x=(w==null?void 0:w.error)||((b=w[0])===null||b===void 0?void 0:b.error);if(x){ke(Qn,`RPC '${e}' stream ${a} received error:`,x);const C=x.status;let E=function(N){const S=Gr[N];if(S!==void 0)return ede(S)}(C),B=x.message;E===void 0&&(E=be.INTERNAL,B="Unknown error status: "+C+" with message "+x.message),f=!0,p.u_(new rt(E,B)),d.close()}else ke(Qn,`RPC '${e}' stream ${a} received:`,y),p.c_(y)}}),g(l,XV.STAT_EVENT,m=>{m.stat===LS.PROXY?ke(Qn,`RPC '${e}' stream ${a} detected buffering proxy`):m.stat===LS.NOPROXY&&ke(Qn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{p.a_()},0),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ahe(){return typeof window<"u"?window:null}function ox(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(t){return new ade(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e,r,n=1e3,a=1.5,s=6e4){this.xi=e,this.timerId=r,this.I_=n,this.E_=a,this.d_=s,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const r=Math.floor(this.A_+this.g_()),n=Math.max(0,Date.now()-this.V_),a=Math.max(0,r-n);a>0&&ke("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.A_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="PersistentStream";class she{constructor(e,r,n,a,s,o,l,c){this.xi=e,this.y_=n,this.w_=a,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new x7(e,r)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,r){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():r&&r.code===be.RESOURCE_EXHAUSTED?(Qa(r.toString()),Qa("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):r&&r.code===be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(r)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),r=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.S_===r&&this.K_(n,a)},n=>{e(()=>{const a=new rt(be.UNKNOWN,"Fetching auth token failed: "+n.message);return this.W_(a)})})}K_(e,r){const n=this.U_(this.S_);this.stream=this.G_(e,r),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{n(()=>this.W_(a))}),this.stream.onMessage(a=>{n(()=>++this.v_==1?this.z_(a):this.onNext(a))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return ke(aO,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return r=>{this.xi.enqueueAndForget(()=>this.S_===e?r():(ke(aO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ihe extends she{constructor(e,r,n,a,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,o),this.serializer=s}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,r){return this.connection.T_("Write",e,r)}z_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const r=ude(e.writeResults,e.commitTime),n=Os(e.commitTime);return this.listener.ea(n,r)}ta(){const e={};e.database=lde(this.serializer),this.L_(e)}Z_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Cv(this.serializer,n))};this.L_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ohe{}class lhe extends ohe{constructor(e,r,n,a){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.na=!1}ra(){if(this.na)throw new rt(be.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,r,n,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(e,e2(r,n),a,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new rt(be.UNKNOWN,s.toString())})}Yo(e,r,n,a,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Yo(e,e2(r,n),a,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new rt(be.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class che{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Qa(r),this.oa=!1):ke("OnlineStateTracker",r)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="RemoteStore";class uhe{constructor(e,r,n,a,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=s,this.Ea.No(o=>{n.enqueueAndForget(async()=>{qp(this)&&(ke(Vp,"Restarting streams for network reachability change."),await async function(c){const u=yr(c);u.Ta.add(4),await Kp(u),u.da.set("Unknown"),u.Ta.delete(4),await Lb(u)}(this))})}),this.da=new che(n,a)}}async function Lb(t){if(qp(t))for(const e of t.Ia)await e(!0)}async function Kp(t){for(const e of t.Ia)await e(!1)}function qp(t){return yr(t).Ta.size===0}async function v7(t,e,r){if(!yu(e))throw e;t.Ta.add(1),await Kp(t),t.da.set("Offline"),r||(r=()=>Yde(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ke(Vp,"Retrying IndexedDB access"),await r(),t.Ta.delete(1),await Lb(t)})}function y7(t,e){return e().catch(r=>v7(t,r,e))}async function zp(t){const e=yr(t),r=Sl(e);let n=e.ha.length>0?e.ha[e.ha.length-1].batchId:$c;for(;Ahe(e);)try{const a=await Jde(e.localStore,n);if(a===null){e.ha.length===0&&r.N_();break}n=a.batchId,dhe(e,a)}catch(a){await v7(e,a)}b7(e)&&w7(e)}function Ahe(t){return qp(t)&&t.ha.length<10}function dhe(t,e){t.ha.push(e);const r=Sl(t);r.M_()&&r.Y_&&r.Z_(e.mutations)}function b7(t){return qp(t)&&!Sl(t).F_()&&t.ha.length>0}function w7(t){Sl(t).start()}async function hhe(t){Sl(t).ta()}async function fhe(t){const e=Sl(t);for(const r of t.ha)e.Z_(r.mutations)}async function mhe(t,e,r){const n=t.ha.shift(),a=jT.from(n,e,r);await y7(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await zp(t)}async function phe(t,e){e&&Sl(t).Y_&&await async function(n,a){if(function(o){return ZAe(o)&&o!==be.ABORTED}(a.code)){const s=n.ha.shift();Sl(n).O_(),await y7(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,a)),await zp(n)}}(t,e),b7(t)&&w7(t)}async function sO(t,e){const r=yr(t);r.asyncQueue.verifyOperationInProgress(),ke(Vp,"RemoteStore received new credentials");const n=qp(r);r.Ta.add(3),await Kp(r),n&&r.da.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ta.delete(3),await Lb(r)}async function ghe(t,e){const r=yr(t);e?(r.Ta.delete(2),await Lb(r)):e||(r.Ta.add(2),await Kp(r),r.da.set("Unknown"))}function Sl(t){return t.Va||(t.Va=function(r,n,a){const s=yr(r);return s.ra(),new ihe(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:hhe.bind(null,t),i_:phe.bind(null,t),X_:fhe.bind(null,t),ea:mhe.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await zp(t)):(await t.Va.stop(),t.ha.length>0&&(ke(Vp,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,r,n,a,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=s,this.deferred=new Al,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,a,s){const o=Date.now()+n,l=new DT(e,r,o,a,s);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _7(t,e){if(Qa("AsyncQueue",`${e}: ${t}`),yu(t))return new rt(be.UNAVAILABLE,`${e}: ${t}`);throw t}class xhe{constructor(){this.queries=iO(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(r,n){const a=yr(r),s=a.queries;a.queries=iO(),s.forEach((o,l)=>{for(const c of l.ya)c.onError(n)})})(this,new rt(be.ABORTED,"Firestore shutting down"))}}function iO(){return new go(t=>D9(t),F9)}function vhe(t){t.ba.forEach(e=>{e.next()})}var oO,lO;(lO=oO||(oO={})).Ca="default",lO.Cache="cache";const yhe="SyncEngine";class bhe{constructor(e,r,n,a,s,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new go(l=>D9(l),F9),this.cu=new Map,this.lu=new Set,this.hu=new Aa(Ze.comparator),this.Pu=new Map,this.Tu=new TT,this.Iu={},this.Eu=new Map,this.du=su.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function whe(t,e,r){const n=j7(t);try{const a=await function(o,l){const c=yr(o),u=Lr.now(),A=l.reduce((f,p)=>f.add(p.key),rn());let d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=nl(),g=rn();return c.Bs.getEntries(f,A).next(m=>{p=m,p.forEach((b,y)=>{y.isValidDocument()||(g=g.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,p)).next(m=>{d=m;const b=[];for(const y of l){const w=JAe(y,d.get(y.key).overlayedDocument);w!=null&&b.push(new Ll(y.key,w,C9(w.value.mapValue),$a.exists(!0)))}return c.mutationQueue.addMutationBatch(f,u,b,l)}).next(m=>{h=m;const b=m.applyToLocalDocumentSet(d,g);return c.documentOverlayCache.saveOverlays(f,m.batchId,b)})}).then(()=>({batchId:h.batchId,changes:R9(d)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),function(o,l,c){let u=o.Iu[o.currentUser.toKey()];u||(u=new Aa(Ct)),u=u.insert(l,c),o.Iu[o.currentUser.toKey()]=u}(n,a.batchId,r),await Hb(n,a.changes),await zp(n.remoteStore)}catch(a){const s=_7(a,"Failed to persist write");r.reject(s)}}function cO(t,e,r){const n=yr(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.uu.forEach((s,o)=>{const l=o.view.Da(e);l.snapshot&&a.push(l.snapshot)}),function(o,l){const c=yr(o);c.onlineState=l;let u=!1;c.queries.forEach((A,d)=>{for(const h of d.ya)h.Da(l)&&(u=!0)}),u&&vhe(c)}(n.eventManager,e),a.length&&n.au.j_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function _he(t,e){const r=yr(t),n=e.batch.batchId;try{const a=await Xde(r.localStore,e);C7(r,n,null),B7(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Hb(r,a)}catch(a){await jb(a)}}async function Bhe(t,e,r){const n=yr(t);try{const a=await function(o,l){const c=yr(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let A;return c.mutationQueue.lookupMutationBatch(u,l).next(d=>(dt(d!==null,37113),A=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,A,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,A)).next(()=>c.localDocuments.getDocuments(u,A))})}(n.localStore,e);C7(n,e,r),B7(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Hb(n,a)}catch(a){await jb(a)}}function B7(t,e){(t.Eu.get(e)||[]).forEach(r=>{r.resolve()}),t.Eu.delete(e)}function C7(t,e,r){const n=yr(t);let a=n.Iu[n.currentUser.toKey()];if(a){const s=a.get(e);s&&(r?s.reject(r):s.resolve(),a=a.remove(e)),n.Iu[n.currentUser.toKey()]=a}}async function Hb(t,e,r){const n=yr(t),a=[],s=[],o=[];n.uu.isEmpty()||(n.uu.forEach((l,c)=>{o.push(n.Ru(c,e,r).then(u=>{var A;if((u||r)&&n.isPrimaryClient){const d=u?!u.fromCache:(A=void 0)===null||A===void 0?void 0:A.current;n.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(u){a.push(u);const d=FT.Rs(c.targetId,u);s.push(d)}}))}),await Promise.all(o),n.au.j_(a),await async function(c,u){const A=yr(c);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>se.forEach(u,h=>se.forEach(h.ds,f=>A.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>se.forEach(h.As,f=>A.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!yu(d))throw d;ke(Gde,"Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=A.xs.get(h),p=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(p);A.xs=A.xs.insert(h,g)}}}(n.localStore,s))}async function Che(t,e){const r=yr(t);if(!r.currentUser.isEqual(e)){ke(yhe,"User change. New user:",e.toKey());const n=await p7(r.localStore,e);r.currentUser=e,function(s,o){s.Eu.forEach(l=>{l.forEach(c=>{c.reject(new rt(be.CANCELLED,o))})}),s.Eu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Hb(r,n.ks)}}function j7(t){const e=yr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_he.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bhe.bind(null,e),e}class wm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qb(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,r){return null}bu(e,r){return null}wu(e){return m7(this.persistence,new f7,e.initialUser,this.serializer)}yu(e){return new IT(Mb.fi,this.serializer)}pu(e){return new g7}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wm.provider={build:()=>new wm};class jhe extends wm{constructor(e){super(),this.cacheSizeBytes=e}Su(e,r){dt(this.persistence.referenceDelegate instanceof Nv,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new c7(n,e.asyncQueue,r)}yu(e){const r=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new IT(n=>Nv.fi(n,r),this.serializer)}}class Ehe extends wm{constructor(e,r,n){super(),this.Du=e,this.cacheSizeBytes=r,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Du.initialize(this,e),await j7(this.Du.syncEngine),await zp(this.Du.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}wu(e){return m7(this.persistence,new f7,e.initialUser,this.serializer)}Su(e,r){const n=this.persistence.referenceDelegate.garbageCollector;return new c7(n,e.asyncQueue,r)}bu(e,r){const n=new zue(r,this.persistence);return new que(e.asyncQueue,n)}yu(e){const r=qde(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new PT(this.synchronizeTabs,r,e.clientId,n,e.asyncQueue,ahe(),ox(),this.serializer,this.sharedClientState,!!this.forceOwnership)}pu(e){return new g7}}class kv{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>cO(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Che.bind(null,this.syncEngine),await ghe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xhe}()}createDatastore(e){const r=Qb(e.databaseInfo.databaseId),n=function(s){return new nhe(s)}(e.databaseInfo);return function(s,o,l,c){return new lhe(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,a,s,o,l){return new uhe(n,a,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,r=>cO(this.syncEngine,r,0),function(){return nO.C()?new nO:new Zde}())}createSyncEngine(e,r){return function(a,s,o,l,c,u,A){const d=new bhe(a,s,o,l,c,u);return A&&(d.Au=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(a){const s=yr(a);ke(Vp,"RemoteStore shutting down."),s.Ta.add(5),await Kp(s),s.Ea.shutdown(),s.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}kv.provider={build:()=>new kv};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl="FirestoreClient";class She{constructor(e,r,n,a,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=Sn.UNAUTHENTICATED,this.clientId=t9.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async o=>{ke(Nl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(ke(Nl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Al;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=_7(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function U1(t,e){t.asyncQueue.verifyOperationInProgress(),ke(Nl,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async a=>{n.isEqual(a)||(await p7(e.localStore,a),n=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function uO(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Nhe(t);ke(Nl,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>sO(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,a)=>sO(e.remoteStore,a)),t._onlineComponents=e}async function Nhe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ke(Nl,"Using user provided OfflineComponentProvider");try{await U1(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(a){return a.name==="FirebaseError"?a.code===be.FAILED_PRECONDITION||a.code===be.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;Lp("Error using user provided cache. Falling back to memory cache: "+r),await U1(t,new wm)}}else ke(Nl,"Using default OfflineComponentProvider"),await U1(t,new jhe(void 0));return t._offlineComponents}async function khe(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ke(Nl,"Using user provided OnlineComponentProvider"),await uO(t,t._uninitializedComponentsProvider._online)):(ke(Nl,"Using default OnlineComponentProvider"),await uO(t,new kv))),t._onlineComponents}function The(t){return khe(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E7(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S7(t,e,r){if(!r)throw new rt(be.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ihe(t,e,r,n){if(e===!0&&n===!0)throw new rt(be.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function dO(t){if(!Ze.isDocumentKey(t))throw new rt(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hO(t){if(Ze.isDocumentKey(t))throw new rt(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function OT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ot(12329,{type:typeof t})}function RT(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new rt(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=OT(t);throw new rt(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7="firestore.googleapis.com",fO=!0;class mO{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new rt(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=N7,this.ssl=fO}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:fO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=s7;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Nde)throw new rt(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ihe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=E7((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new rt(be.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new rt(be.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new rt(be.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $b{constructor(e,r,n,a){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Pue;switch(n.type){case"firstParty":return new Rue(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new rt(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=AO.get(r);n&&(ke("ComponentProvider","Removing Datastore"),AO.delete(r),n.terminate())}(this),Promise.resolve()}}function Phe(t,e,r,n={}){var a;t=RT(t,$b);const s=iT(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${r}`;s&&(hce(`https://${c}`),gce("Firestore",!0)),o.host!==N7&&o.host!==c&&Lp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:c,ssl:s,emulatorOptions:n});if(!fv(u,l)&&(t._setSettings(u),n.mockUserToken)){let A,d;if(typeof n.mockUserToken=="string")A=n.mockUserToken,d=Sn.MOCK_USER;else{A=fce(n.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new rt(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Sn(h)}t._authCredentials=new Fue(new e9(A,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new UT(this.firestore,e,this._query)}}class Gi{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gi(this.firestore,e,this._key)}}class hl extends UT{constructor(e,r,n){super(e,r,P9(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gi(this.firestore,null,new Ze(e))}withConverter(e){return new hl(this.firestore,e,this._path)}}function pO(t,e,...r){if(t=Bl(t),S7("collection","path",e),t instanceof $b){const n=pr.fromString(e,...r);return hO(n),new hl(t,null,n)}{if(!(t instanceof Gi||t instanceof hl))throw new rt(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(pr.fromString(e,...r));return hO(n),new hl(t.firestore,null,n)}}function Fhe(t,e,...r){if(t=Bl(t),arguments.length===1&&(e=t9.newId()),S7("doc","path",e),t instanceof $b){const n=pr.fromString(e,...r);return dO(n),new Gi(t,null,new Ze(n))}{if(!(t instanceof Gi||t instanceof hl))throw new rt(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(pr.fromString(e,...r));return dO(n),new Gi(t.firestore,t instanceof hl?t.converter:null,new Ze(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="AsyncQueue";class xO{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new x7(this,"async_queue_retry"),this.ec=()=>{const n=ox();n&&ke(gO,"Visibility state changed to "+n.visibilityState),this.C_.p_()},this.tc=e;const r=ox();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const r=ox();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const r=new Al;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!yu(e))throw e;ke(gO,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const r=this.tc.then(()=>(this.Yu=!0,e().catch(n=>{throw this.Ju=n,this.Yu=!1,Qa("INTERNAL UNHANDLED ERROR: ",vO(n)),n}).then(n=>(this.Yu=!1,n))));return this.tc=r,r}enqueueAfterDelay(e,r,n){this.nc(),this.Xu.indexOf(e)>-1&&(r=0);const a=DT.createAndSchedule(this,e,r,n,s=>this.oc(s));return this.Hu.push(a),a}nc(){this.Ju&&ot(47125,{_c:vO(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const r of this.Hu)if(r.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Hu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const r=this.Hu.indexOf(e);this.Hu.splice(r,1)}}function vO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class MT extends $b{constructor(e,r,n,a){super(e,r,n,a),this.type="firestore",this._queue=new xO,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xO(e),this._firestoreClient=void 0,await e}}}function QT(t,e){const r=typeof t=="object"?t:KV(),n=typeof t=="string"?t:bv,a=Cb(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const s=Ace("firestore");s&&Phe(a,...s)}return a}function Dhe(t){if(t._terminated)throw new rt(be.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||k7(t),t._firestoreClient}function k7(t){var e,r,n;const a=t._freezeSettings(),s=function(l,c,u,A){return new _Ae(l,c,u,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,E7(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new She(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}function Ohe(t,e){Lp("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings();return Rhe(t,kv.provider,{build:n=>new Ehe(n,r.cacheSizeBytes,void 0)}),Promise.resolve()}function Rhe(t,e,r){if((t=RT(t,MT))._firestoreClient||t._terminated)throw new rt(be.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new rt(be.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:r},k7(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _m(Ca.fromBase64String(e))}catch(r){throw new rt(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new _m(Ca.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new rt(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new rt(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new rt(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,a){if(n.length!==a.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==a[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uhe=/^__.*__$/;class Mhe{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Ll(e,this.data,this.fieldMask,r,this.fieldTransforms):new th(e,this.data,r,this.fieldTransforms)}}function D7(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot(40011,{hc:t})}}class LT{constructor(e,r,n,a,s,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,s===void 0&&this.Pc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new LT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.Tc({path:n,Ec:!1});return a.dc(e),a}Ac(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.Tc({path:n,Ec:!1});return a.Pc(),a}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Tv(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(D7(this.hc)&&Uhe.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class Qhe{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Qb(e)}gc(e,r,n,a=!1){return new LT({hc:e,methodName:r,fc:n,path:Dr.emptyPath(),Ec:!1,mc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lhe(t){const e=t._freezeSettings(),r=Qb(t._databaseId);return new Qhe(t._databaseId,!!e.ignoreUndefinedProperties,r)}function Hhe(t,e,r,n,a,s={}){const o=t.gc(s.merge||s.mergeFields?2:0,e,r,a);M7("Data must be an object, but it was:",o,n);const l=R7(n,o);let c,u;if(s.merge)c=new rs(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const A=[];for(const d of s.mergeFields){const h=$he(e,d,r);if(!o.contains(h))throw new rt(be.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);qhe(A,h)||A.push(h)}c=new rs(A),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new Mhe(new La(l),c,u)}function O7(t,e){if(U7(t=Bl(t)))return M7("Unsupported field value:",e,t),R7(t,e);if(t instanceof I7)return function(n,a){if(!D7(a.hc))throw a.Vc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Vc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(a);s&&a.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(n,a){const s=[];let o=0;for(const l of n){let c=O7(l,a.Rc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(n,a){if((n=Bl(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return KAe(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Lr.fromDate(n);return{timestampValue:bm(a.serializer,s)}}if(n instanceof Lr){const s=new Lr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:bm(a.serializer,s)}}if(n instanceof P7)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof _m)return{bytesValue:ide(a.serializer,n._byteString)};if(n instanceof Gi){const s=a.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw a.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ST(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof F7)return function(o,l){return{mapValue:{fields:{[vT]:{stringValue:yT},[pm]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Vc("VectorValues must only contain numeric values.");return _T(l.serializer,u)})}}}}}}(n,a);throw a.Vc(`Unsupported field value: ${OT(n)}`)}(t,e)}function R7(t,e){const r={};return g9(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eh(t,(n,a)=>{const s=O7(a,e.Ic(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function U7(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Lr||t instanceof P7||t instanceof _m||t instanceof Gi||t instanceof I7||t instanceof F7)}function M7(t,e,r){if(!U7(r)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(r)){const n=OT(r);throw n==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+n)}}function $he(t,e,r){if((e=Bl(e))instanceof T7)return e._internalPath;if(typeof e=="string")return Khe(t,e);throw Tv("Field path arguments must be of type string or ",t,!1,void 0,r)}const Vhe=new RegExp("[~\\*/\\[\\]]");function Khe(t,e,r){if(e.search(Vhe)>=0)throw Tv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new T7(...e.split("."))._internalPath}catch{throw Tv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Tv(t,e,r,n,a){const s=n&&!n.isEmpty(),o=a!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${n}`),o&&(c+=` in document ${a}`),c+=")"),new rt(be.INVALID_ARGUMENT,l+t+c)}function qhe(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zhe(t,e,r){let n;return n=t?t.toFirestore(e):e,n}function yO(t,e){const r=RT(t.firestore,MT),n=Fhe(t),a=zhe(t.converter,e);return Ghe(r,[Hhe(Lhe(t.firestore),"addDoc",n._key,a,t.converter!==null,{}).toMutation(n._key,$a.exists(!1))]).then(()=>n)}function Ghe(t,e){return function(n,a){const s=new Al;return n.asyncQueue.enqueueAndForget(async()=>whe(await The(n),a,s)),s.promise}(Dhe(t),e)}(function(e,r=!0){(function(a){Zd=a})(yue),Cl(new ao("firestore",(n,{instanceIdentifier:a,options:s})=>{const o=n.getProvider("app").getImmediate(),l=new MT(new Due(n.getProvider("auth-internal")),new Uue(o,n.getProvider("app-check-internal")),function(u,A){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new rt(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new id(u.options.projectId,A)}(o,a),o);return s=Object.assign({useFetchStreams:r},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),ui(sD,iD,e),ui(sD,iD,"esm2017")})();const Q7="@firebase/installations",HT="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7=1e4,H7=`w:${HT}`,$7="FIS_v2",Whe="https://firebaseinstallations.googleapis.com/v1",Xhe=60*60*1e3,Yhe="installations",Jhe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zhe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},iu=new _b(Yhe,Jhe,Zhe);function V7(t){return t instanceof vu&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K7({projectId:t}){return`${Whe}/projects/${t}/installations`}function q7(t){return{token:t.token,requestStatus:2,expiresIn:tfe(t.expiresIn),creationTime:Date.now()}}async function z7(t,e){const n=(await e.json()).error;return iu.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function G7({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function efe(t,{refreshToken:e}){const r=G7(t);return r.append("Authorization",rfe(e)),r}async function W7(t){const e=await t();return e.status>=500&&e.status<600?t():e}function tfe(t){return Number(t.replace("s","000"))}function rfe(t){return`${$7} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nfe({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=K7(t),a=G7(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&a.append("x-firebase-client",u)}const o={fid:r,authVersion:$7,appId:t.appId,sdkVersion:H7},l={method:"POST",headers:a,body:JSON.stringify(o)},c=await W7(()=>fetch(n,l));if(c.ok){const u=await c.json();return{fid:u.fid||r,registrationStatus:2,refreshToken:u.refreshToken,authToken:q7(u.authToken)}}else throw await z7("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X7(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function afe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sfe=/^[cdef][\w-]{21}$/,i2="";function ife(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=ofe(t);return sfe.test(r)?r:i2}catch{return i2}}function ofe(t){return afe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y7=new Map;function J7(t,e){const r=Vb(t);Z7(r,e),lfe(r,e)}function Z7(t,e){const r=Y7.get(t);if(r)for(const n of r)n(e)}function lfe(t,e){const r=cfe();r&&r.postMessage({key:t,fid:e}),ufe()}let Nc=null;function cfe(){return!Nc&&"BroadcastChannel"in self&&(Nc=new BroadcastChannel("[Firebase] FID Change"),Nc.onmessage=t=>{Z7(t.data.key,t.data.fid)}),Nc}function ufe(){Y7.size===0&&Nc&&(Nc.close(),Nc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Afe="firebase-installations-database",dfe=1,ou="firebase-installations-store";let M1=null;function $T(){return M1||(M1=Bb(Afe,dfe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ou)}}})),M1}async function Iv(t,e){const r=Vb(t),a=(await $T()).transaction(ou,"readwrite"),s=a.objectStore(ou),o=await s.get(r);return await s.put(e,r),await a.done,(!o||o.fid!==e.fid)&&J7(t,e.fid),e}async function eK(t){const e=Vb(t),n=(await $T()).transaction(ou,"readwrite");await n.objectStore(ou).delete(e),await n.done}async function Kb(t,e){const r=Vb(t),a=(await $T()).transaction(ou,"readwrite"),s=a.objectStore(ou),o=await s.get(r),l=e(o);return l===void 0?await s.delete(r):await s.put(l,r),await a.done,l&&(!o||o.fid!==l.fid)&&J7(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VT(t){let e;const r=await Kb(t.appConfig,n=>{const a=hfe(n),s=ffe(t,a);return e=s.registrationPromise,s.installationEntry});return r.fid===i2?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function hfe(t){const e=t||{fid:ife(),registrationStatus:0};return tK(e)}function ffe(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(iu.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=mfe(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:pfe(t)}:{installationEntry:e}}async function mfe(t,e){try{const r=await nfe(t,e);return Iv(t.appConfig,r)}catch(r){throw V7(r)&&r.customData.serverCode===409?await eK(t.appConfig):await Iv(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function pfe(t){let e=await bO(t.appConfig);for(;e.registrationStatus===1;)await X7(100),e=await bO(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await VT(t);return n||r}return e}function bO(t){return Kb(t,e=>{if(!e)throw iu.create("installation-not-found");return tK(e)})}function tK(t){return gfe(t)?{fid:t.fid,registrationStatus:0}:t}function gfe(t){return t.registrationStatus===1&&t.registrationTime+L7<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xfe({appConfig:t,heartbeatServiceProvider:e},r){const n=vfe(t,r),a=efe(t,r),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&a.append("x-firebase-client",u)}const o={installation:{sdkVersion:H7,appId:t.appId}},l={method:"POST",headers:a,body:JSON.stringify(o)},c=await W7(()=>fetch(n,l));if(c.ok){const u=await c.json();return q7(u)}else throw await z7("Generate Auth Token",c)}function vfe(t,{fid:e}){return`${K7(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KT(t,e=!1){let r;const n=await Kb(t.appConfig,s=>{if(!rK(s))throw iu.create("not-registered");const o=s.authToken;if(!e&&wfe(o))return s;if(o.requestStatus===1)return r=yfe(t,e),s;{if(!navigator.onLine)throw iu.create("app-offline");const l=Bfe(s);return r=bfe(t,l),l}});return r?await r:n.authToken}async function yfe(t,e){let r=await wO(t.appConfig);for(;r.authToken.requestStatus===1;)await X7(100),r=await wO(t.appConfig);const n=r.authToken;return n.requestStatus===0?KT(t,e):n}function wO(t){return Kb(t,e=>{if(!rK(e))throw iu.create("not-registered");const r=e.authToken;return Cfe(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function bfe(t,e){try{const r=await xfe(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await Iv(t.appConfig,n),r}catch(r){if(V7(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await eK(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Iv(t.appConfig,n)}throw r}}function rK(t){return t!==void 0&&t.registrationStatus===2}function wfe(t){return t.requestStatus===2&&!_fe(t)}function _fe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Xhe}function Bfe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Cfe(t){return t.requestStatus===1&&t.requestTime+L7<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jfe(t){const e=t,{installationEntry:r,registrationPromise:n}=await VT(e);return n?n.catch(console.error):KT(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Efe(t,e=!1){const r=t;return await Sfe(r),(await KT(r,e)).token}async function Sfe(t){const{registrationPromise:e}=await VT(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nfe(t){if(!t||!t.options)throw Q1("App Configuration");if(!t.name)throw Q1("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw Q1(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Q1(t){return iu.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nK="installations",kfe="installations-internal",Tfe=t=>{const e=t.getProvider("app").getImmediate(),r=Nfe(e),n=Cb(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},Ife=t=>{const e=t.getProvider("app").getImmediate(),r=Cb(e,nK).getImmediate();return{getId:()=>jfe(r),getToken:a=>Efe(r,a)}};function Pfe(){Cl(new ao(nK,Tfe,"PUBLIC")),Cl(new ao(kfe,Ife,"PRIVATE"))}Pfe();ui(Q7,HT);ui(Q7,HT,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ffe="/firebase-messaging-sw.js",Dfe="/firebase-cloud-messaging-push-scope",aK="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ofe="https://fcmregistrations.googleapis.com/v1",sK="google.c.a.c_id",Rfe="google.c.a.c_l",Ufe="google.c.a.ts",Mfe="google.c.a.e",_O=1e4;var BO;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(BO||(BO={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Bm;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Bm||(Bm={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Qfe(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),a=new Uint8Array(n.length);for(let s=0;s<n.length;++s)a[s]=n.charCodeAt(s);return a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="fcm_token_details_db",Lfe=5,CO="fcm_token_object_Store";async function Hfe(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(L1))return null;let e=null;return(await Bb(L1,Lfe,{upgrade:async(n,a,s,o)=>{var l;if(a<2||!n.objectStoreNames.contains(CO))return;const c=o.objectStore(CO),u=await c.index("fcmSenderId").get(t);if(await c.clear(),!!u){if(a===2){const A=u;if(!A.auth||!A.p256dh||!A.endpoint)return;e={token:A.fcmToken,createTime:(l=A.createTime)!==null&&l!==void 0?l:Date.now(),subscriptionOptions:{auth:A.auth,p256dh:A.p256dh,endpoint:A.endpoint,swScope:A.swScope,vapidKey:typeof A.vapidKey=="string"?A.vapidKey:Li(A.vapidKey)}}}else if(a===3){const A=u;e={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:Li(A.auth),p256dh:Li(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:Li(A.vapidKey)}}}else if(a===4){const A=u;e={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:Li(A.auth),p256dh:Li(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:Li(A.vapidKey)}}}}}})).close(),await k1(L1),await k1("fcm_vapid_details_db"),await k1("undefined"),$fe(e)?e:null}function $fe(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vfe="firebase-messaging-database",Kfe=1,Cm="firebase-messaging-store";let H1=null;function iK(){return H1||(H1=Bb(Vfe,Kfe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Cm)}}})),H1}async function qfe(t){const e=oK(t),n=await(await iK()).transaction(Cm).objectStore(Cm).get(e);if(n)return n;{const a=await Hfe(t.appConfig.senderId);if(a)return await qT(t,a),a}}async function qT(t,e){const r=oK(t),a=(await iK()).transaction(Cm,"readwrite");return await a.objectStore(Cm).put(e,r),await a.done,e}function oK({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zfe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Jn=new _b("messaging","Messaging",zfe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gfe(t,e){const r=await GT(t),n=lK(e),a={method:"POST",headers:r,body:JSON.stringify(n)};let s;try{s=await(await fetch(zT(t.appConfig),a)).json()}catch(o){throw Jn.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw Jn.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw Jn.create("token-subscribe-no-token");return s.token}async function Wfe(t,e){const r=await GT(t),n=lK(e.subscriptionOptions),a={method:"PATCH",headers:r,body:JSON.stringify(n)};let s;try{s=await(await fetch(`${zT(t.appConfig)}/${e.token}`,a)).json()}catch(o){throw Jn.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw Jn.create("token-update-failed",{errorInfo:o})}if(!s.token)throw Jn.create("token-update-no-token");return s.token}async function Xfe(t,e){const n={method:"DELETE",headers:await GT(t)};try{const s=await(await fetch(`${zT(t.appConfig)}/${e}`,n)).json();if(s.error){const o=s.error.message;throw Jn.create("token-unsubscribe-failed",{errorInfo:o})}}catch(a){throw Jn.create("token-unsubscribe-failed",{errorInfo:a==null?void 0:a.toString()})}}function zT({projectId:t}){return`${Ofe}/projects/${t}/registrations`}async function GT({appConfig:t,installations:e}){const r=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function lK({p256dh:t,auth:e,endpoint:r,vapidKey:n}){const a={web:{endpoint:r,auth:e,p256dh:t}};return n!==aK&&(a.web.applicationPubKey=n),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yfe=7*24*60*60*1e3;async function Jfe(t){const e=await eme(t.swRegistration,t.vapidKey),r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Li(e.getKey("auth")),p256dh:Li(e.getKey("p256dh"))},n=await qfe(t.firebaseDependencies);if(n){if(tme(n.subscriptionOptions,r))return Date.now()>=n.createTime+Yfe?Zfe(t,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await Xfe(t.firebaseDependencies,n.token)}catch(a){console.warn(a)}return jO(t.firebaseDependencies,r)}else return jO(t.firebaseDependencies,r)}async function Zfe(t,e){try{const r=await Wfe(t.firebaseDependencies,e),n=Object.assign(Object.assign({},e),{token:r,createTime:Date.now()});return await qT(t.firebaseDependencies,n),r}catch(r){throw r}}async function jO(t,e){const n={token:await Gfe(t,e),createTime:Date.now(),subscriptionOptions:e};return await qT(t,n),n.token}async function eme(t,e){const r=await t.pushManager.getSubscription();return r||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Qfe(e)})}function tme(t,e){const r=e.vapidKey===t.vapidKey,n=e.endpoint===t.endpoint,a=e.auth===t.auth,s=e.p256dh===t.p256dh;return r&&n&&a&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return rme(e,t),nme(e,t),ame(e,t),e}function rme(t,e){if(!e.notification)return;t.notification={};const r=e.notification.title;r&&(t.notification.title=r);const n=e.notification.body;n&&(t.notification.body=n);const a=e.notification.image;a&&(t.notification.image=a);const s=e.notification.icon;s&&(t.notification.icon=s)}function nme(t,e){e.data&&(t.data=e.data)}function ame(t,e){var r,n,a,s,o;if(!e.fcmOptions&&!(!((r=e.notification)===null||r===void 0)&&r.click_action))return;t.fcmOptions={};const l=(a=(n=e.fcmOptions)===null||n===void 0?void 0:n.link)!==null&&a!==void 0?a:(s=e.notification)===null||s===void 0?void 0:s.click_action;l&&(t.fcmOptions.link=l);const c=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sme(t){return typeof t=="object"&&!!t&&sK in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ime(t){if(!t||!t.options)throw $1("App Configuration Object");if(!t.name)throw $1("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:r}=t;for(const n of e)if(!r[n])throw $1(n);return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function $1(t){return Jn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ome{constructor(e,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const a=ime(e);this.firebaseDependencies={app:e,appConfig:a,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lme(t){try{t.swRegistration=await navigator.serviceWorker.register(Ffe,{scope:Dfe}),t.swRegistration.update().catch(()=>{}),await cme(t.swRegistration)}catch(e){throw Jn.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function cme(t){return new Promise((e,r)=>{const n=setTimeout(()=>r(new Error(`Service worker not registered after ${_O} ms`)),_O),a=t.installing||t.waiting;t.active?(clearTimeout(n),e()):a?a.onstatechange=s=>{var o;((o=s.target)===null||o===void 0?void 0:o.state)==="activated"&&(a.onstatechange=null,clearTimeout(n),e())}:(clearTimeout(n),r(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ume(t,e){if(!e&&!t.swRegistration&&await lme(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Jn.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ame(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=aK)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cK(t,e){if(!navigator)throw Jn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Jn.create("permission-blocked");return await Ame(t,e==null?void 0:e.vapidKey),await ume(t,e==null?void 0:e.serviceWorkerRegistration),Jfe(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dme(t,e,r){const n=hme(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[sK],message_name:r[Rfe],message_time:r[Ufe],message_device_time:Math.floor(Date.now()/1e3)})}function hme(t){switch(t){case Bm.NOTIFICATION_CLICKED:return"notification_open";case Bm.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fme(t,e){const r=e.data;if(!r.isFirebaseMessaging)return;t.onMessageHandler&&r.messageType===Bm.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(EO(r)):t.onMessageHandler.next(EO(r)));const n=r.data;sme(n)&&n[Mfe]==="1"&&await dme(t,r.messageType,n)}const SO="@firebase/messaging",NO="0.12.21";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mme=t=>{const e=new ome(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>fme(e,r)),e},pme=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:n=>cK(e,n)}};function gme(){Cl(new ao("messaging",mme,"PUBLIC")),Cl(new ao("messaging-internal",pme,"PRIVATE")),ui(SO,NO),ui(SO,NO,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xme(){try{await QV()}catch{return!1}return typeof window<"u"&&oT()&&xce()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vme(t,e){if(!navigator)throw Jn.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uK(t=KV()){return xme().then(e=>{if(!e)throw Jn.create("unsupported-browser")},e=>{throw Jn.create("indexed-db-unsupported")}),Cb(Bl(t),"messaging").getImmediate()}async function yme(t,e){return t=Bl(t),cK(t,e)}function bme(t,e){return t=Bl(t),vme(t,e)}gme();const wme={apiKey:"AIzaSyBLkK6LwseUvbA6oDTQTLd2Z4MpmH7NhgQ",authDomain:"jpccoal.firebaseapp.com",projectId:"jpccoal",storageBucket:"jpccoal.firebasestorage.app",messagingSenderId:"427360291711",appId:"1:427360291711:web:90ee121cbc8cc64b8de84a",vapidKey:"BHH5-vMogiQiVgytRhYjTq6AtpObVKuZr1apoQbx9oD8zL8VywEhcXe5hooGzisOoJEVtPrWRWM6_N_Hoe3mE4U"},rh=VV(wme);let lx=null;try{typeof window<"u"&&"serviceWorker"in navigator?(lx=uK(rh),console.log("Firebase messaging initialized successfully")):console.log("Firebase messaging not supported in this environment")}catch(t){console.error("Error initializing Firebase messaging:",t)}const _me=QT(rh),Bme=async()=>{try{typeof window<"u"&&"indexedDB"in window&&await Ohe(_me).then(()=>{console.log("Firestore offline persistence enabled successfully")}).catch(t=>{t.code==="failed-precondition"?console.log("Firebase persistence not enabled: Multiple tabs open"):t.code==="unimplemented"?console.log("Firebase persistence not available in this browser"):console.error("Error initializing Firebase persistence:",t)})}catch(t){console.error("Error setting up Firestore persistence:",t)}};Bme().catch(t=>{console.error("Failed to initialize Firestore:",t)});const AK=()=>typeof window<"u"&&"Notification"in window&&"serviceWorker"in navigator&&"PushManager"in window,V1=async()=>{try{if(!AK())return console.log("This browser does not support notifications - likely a mobile device without notification support"),null;if(!("serviceWorker"in navigator))return console.log("Service workers not supported in this browser, FCM token cannot be generated"),null;if(!rh||!lx)return console.error("Firebase not properly initialized"),null;if(Notification.permission!=="granted"){if(console.log("Requesting notification permission from user..."),await Notification.requestPermission()!=="granted")return console.log("User denied notification permission"),null;console.log("Notification permission granted by user")}try{await navigator.serviceWorker.getRegistration("/firebase-messaging-sw.js")||(console.log("Firebase messaging service worker not registered, attempting to register now"),await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/"}),console.log("Firebase messaging service worker registered"))}catch(t){console.error("Error registering service worker:",t)}console.log("Generating FCM token with VAPID key...");try{if(!lx)return console.error("Cannot get FCM token: Firebase messaging not initialized"),null;const t=await yme(lx,{vapidKey:"BHH5-vMogiQiVgytRhYjTq6AtpObVKuZr1apoQbx9oD8zL8VywEhcXe5hooGzisOoJEVtPrWRWM6_N_Hoe3mE4U"});if(t){console.log("FCM token generated successfully:",t.substring(0,10)+"..."+t.substring(t.length-5));try{localStorage.setItem("fcm_token",t),localStorage.setItem("fcm_token_timestamp",new Date().toISOString())}catch(e){console.warn("Could not store FCM token in localStorage:",e)}return t}else{console.warn("Firebase returned empty token");const e=localStorage.getItem("fcm_token");return e?(console.log("Using previously stored FCM token from localStorage"),e):null}}catch(t){console.error("Error during FCM token generation:",t);const e=localStorage.getItem("fcm_token");return e?(console.log("Using previously stored FCM token from localStorage after error"),e):null}}catch(t){return console.error("Unexpected error in requestFCMToken:",t),null}},K1=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),Cme=t=>t==="bank-transfer"?"Transfer Bank":t==="cash-on-delivery"?"Bayar di Tempat (COD)":t==="e-wallet"?"E-Wallet":t==="qris"?"QRIS":t==="credit-card"?"Kartu Kredit":t,jme=(t,e,r,n,a,s)=>{const o=t.id.substring(0,8),l=t.created_at?new Date(t.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):new Date().toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),c=t.status==="pending"?"Menunggu Pembayaran":t.status==="processing"?"Diproses":t.status==="shipped"?"Dikirim":t.status==="completed"?"Selesai":t.status||"Menunggu",u=s||{provider:t.shipping_provider||"JPC Delivery",service:t.shipping_service||"Reguler",cost:t.shipping_cost||0,estimate:t.shipping_estimate||"1-3 Hari"};if(Array.isArray(a)&&a.length>0){const h=Math.min(a.length,3);a.slice(0,h).map((f,p)=>`${p+1}. ${f.product_name||"Produk"} (${f.quantity||1}x)`).join(`
`),a.length-h}const A=n?`${n.street?n.street.substring(0,25)+(n.street.length>25?"...":""):"N/A"}${n.district?", "+n.district:""}`:"Alamat tidak tersedia";let d="Produk tidak tersedia";if(Array.isArray(a)&&a.length>0){const h=Math.min(a.length,3),f=a.slice(0,h).map((m,b)=>`${b+1}. ${m.product_name||"Produk"} (${m.quantity||1}x) - ${K1(m.price||0)}`).join(`
`),p=a.length-h,g=p>0?`+${p} item lainnya`:"";d=f+(g?`
${g}`:"")}return` *PESANAN BERHASIL DIBUAT* 

Halo ${(e==null?void 0:e.name)||"Pelanggan"}!

*DETAIL PESANAN*
ID: #${o}
Tanggal: ${l}
Status: ${c}

*PRODUK YANG DIPESAN*
${d}

*PENGIRIMAN*
Alamat: ${A}
Kurir: ${u.provider||"JPC Delivery"}
Layanan: ${u.service||"Reguler"}
Ongkir: ${K1(u.cost||0)}
Estimasi: ${u.estimate||"1-3 Hari"}

*PEMBAYARAN*
Total: ${K1(t.total)}
Metode: ${Cme(t.payment_method||"N/A")}
${t.payment_method==="bank-transfer"?`Bank: ${(r==null?void 0:r.bank_name)||"SeaBank"}
Rek: ${(r==null?void 0:r.account_number)||"901958730549"}
`:""}
*INFO*: Hubungi 0813-9458-6882
*JAYA PERKASA CHARCOAL* `},Qh="caa6aa7f-8086-4920-899d-4ac498a62eea",n0="dAUtf7zkmSDKTTZdAXb48oE29tB9NIWkldd3tr90ucGedWCPu3",Eme="",dK=["0895385500396","081394586882"],o2=["https://app.wapanels.com/api/create-message"],Wi={};o2.forEach(t=>{Wi[t]={healthy:!0,lastChecked:0}});const q1=t=>{Wi[t]&&(Wi[t].healthy=!1,Wi[t].lastChecked=Date.now(),console.log(`Marked WhatsApp API endpoint as unhealthy: ${t}`))},kO=t=>{Wi[t]&&(Wi[t].healthy=!0,Wi[t].lastChecked=Date.now())},Sme=()=>dK,Gp=async(t,e)=>{try{if(!t||!e)return console.error("WhatsApp API error: Missing required parameters (phone number or message)"),!1;e.length>4096&&(console.error("WhatsApp API error: Message too long, maximum length is 4096 characters"),console.log(`Message length: ${e.length} characters, truncating to 4096`),e=e.substring(0,4096));let r=t.replace(/\D/g,"");if(r.startsWith("0")?r="62"+r.substring(1):r.startsWith("62")||(r="62"+r),r.length<10)return console.error(`WhatsApp API error: Phone number too short after formatting: ${r}`),!1;console.log(`Sending WhatsApp to formatted number: ${r}`);for(const n of o2)if(!(!Wi[n].healthy&&o2.some(a=>Wi[a].healthy)))try{let a,s={"Content-Type":"application/json",Accept:"application/json"};n.includes("fonnte.com")?(s={Authorization:Qh,"Content-Type":"application/json"},a={target:r,message:e,countryCode:"62",delay:0}):n.includes("/create-message")?a={appkey:Qh,authkey:n0,to:r,message:e,template_id:"",priority:"high",repeat:1}:n.includes("/send")?a={appkey:Qh,authkey:n0,to:r,message:e,template_id:""}:a={appkey:Qh,authkey:n0,to:r,message:e,template_id:"",type:"text"},console.log(`Trying WhatsApp API endpoint: ${n.split("/").slice(-2).join("/")}`),console.log(`WhatsApp API request to ${n.split("/").slice(-2).join("/")} with phone ${r} (${e.length} chars)`);const o=await Ro.post(n,a,{headers:s,timeout:15e3});if(o.data&&o.status>=200&&o.status<300){console.log("WhatsApp API Response:",o.data);const c=o.data.status==="success"||o.data.success===!0||o.data.error===!1||o.data.message_status==="Success"||o.data.status==="sent"||o.data.result==="success"||o.data.data&&(o.data.data.status==="success"||o.data.data.status_code===200||o.data.data.result==="success")||o.data.message_id||o.data.id||o.data.data&&(o.data.data.message_id||o.data.data.id),u=o.data.message==="Validation errors"||o.data.status==="validation_error"||o.data.errors&&Object.keys(o.data.errors).length>0;if(c)return kO(n),console.log(` WhatsApp message sent successfully via ${n.split("/").slice(-2).join("/")}`),!0;if(u&&(console.error("WhatsApp API validation error:",o.data),o.data.errors&&console.error("Validation details:",JSON.stringify(o.data.errors)),o.data.data&&o.data.data.message&&console.error("Error message:",o.data.data.message),n.includes("/create-message")))try{console.log("Trying alternate payload format for create-message endpoint");const A={appkey:Qh,authkey:n0,to:r,message:e},d=await Ro.post(n,A,{headers:s,timeout:15e3});if(d.data&&d.status>=200&&d.status<300&&d.data.success===!0)return console.log(" WhatsApp message sent successfully via alternate payload format"),kO(n),!0}catch(A){console.error("Alternate payload also failed:",A)}}console.warn(`WhatsApp API endpoint ${n} returned non-success data:`,o.data),(o.data.message==="Validation errors"||o.data.error==="invalid_key"||o.data.status==="error")&&(console.error(`Marking endpoint ${n} as unhealthy due to validation/auth errors`),q1(n))}catch(a){if(a.response){const s=a.response.status;console.error(`WhatsApp API error (HTTP ${s}) with endpoint ${n}:`,{data:a.response.data,status:s}),s===404||s===401||s===403?(console.error(`Endpoint ${n} not found (404). Marking as unhealthy.`),q1(n)):s===400?(console.error(`Validation error with endpoint ${n}. Will try other formats.`),q1(n)):(s===401||s===403)&&console.error("WhatsApp API authentication failed. Check your API credentials.")}else a.request?console.error(`Network error with endpoint ${n}:`,a.message):console.error(`Error with endpoint ${n}:`,a.message)}return console.error("All WhatsApp API endpoints failed. Message not sent."),!1}catch(r){return console.error("Unexpected error in WhatsApp API service:",r.message),!1}},z1=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),Nme=async(t,e,r,n,a,s)=>{try{if(!(e!=null&&e.phone))return console.error("Cannot send WhatsApp notification: Customer phone number missing"),!1;console.log(" Starting WhatsApp notifications with complete order data"),console.log("Order:",{id:t==null?void 0:t.id,total:t==null?void 0:t.total,status:t==null?void 0:t.status}),console.log("Items received:",n),console.log("Address received:",r);let o=[];Array.isArray(n)&&n.length>0?(o=n.map(f=>({product_name:f.product_name||"Produk",price:f.price||0,quantity:f.quantity||1,variant:f.variant||"",unit:f.unit||"",product_id:f.product_id||""})),console.log(` Order items valid: ${o.length} items found`)):(console.warn(" No valid order items found, creating dummy item for notification"),o=[{product_name:"Pesanan Anda",price:t.total||0,quantity:1,variant:"",unit:"",product_id:""}]),o.length>0&&console.log("First item sample:",{name:o[0].product_name,price:o[0].price,qty:o[0].quantity});const l={street:(r==null?void 0:r.street)||"Alamat tidak tersedia",district:(r==null?void 0:r.district)||"",city:(r==null?void 0:r.city)||"Kota tidak tersedia",province:(r==null?void 0:r.province)||"Provinsi tidak tersedia",postal_code:(r==null?void 0:r.postal_code)||"",notes:(r==null?void 0:r.notes)||"",recipient_name:(r==null?void 0:r.recipient_name)||(e==null?void 0:e.name)||"Pelanggan",recipient_phone:(r==null?void 0:r.recipient_phone)||(e==null?void 0:e.phone)||""};console.log("Normalized address data:",{street:l.street.substring(0,15)+"...",district:l.district,city:l.city,province:l.province});const c=a||{provider:t.shipping_provider||"JPC Delivery",service:t.shipping_service||"Reguler",cost:t.shipping_cost||0,estimate:t.shipping_estimate||"1-3 Hari"},u=s||{name:"Transfer Bank",bank_name:"SeaBank",account_number:"901958730549",account_name:"Jaya Perkasa Charcoal"};console.log("Membuat pesan terformat dengan detail lengkap...");let A="";const d=jme(t,e,u,l,o,c);if(console.log(`Pesan ringkas dibuat: ${d.length} karakter`),console.log("Detail items dalam pesan:",o.map(f=>`${f.product_name} (${f.quantity}x)`)),console.log(`Panjang pesan ringkas: ${d.length} karakter`),d.length>1e3){console.error(`Bahkan pesan ringkas masih terlalu panjang (${d.length} karakter)`);const f=t.status==="pending"?"Menunggu Pembayaran":t.status==="processing"?"Diproses":t.status==="shipped"?"Dikirim":t.status==="completed"?"Selesai":t.status||"Menunggu";let p="Produk tidak tersedia";if(Array.isArray(o)&&o.length>0){const m=o[0];p=`${m.product_name||"Produk"} (${m.quantity||1}x)`,o.length>1&&(p+=` +${o.length-1} item lainnya`)}let g="";if(Array.isArray(o)&&o.length>0){const m=Math.min(o.length,3);for(let b=0;b<m;b++){const y=o[b];g+=`${b+1}. ${y.product_name||"Produk"} (${y.quantity||1}x) - ${z1(y.price||0)}
`}o.length>m&&(g+=`+${o.length-m} item lainnya
`)}else g=`Produk tidak tersedia
`;A=` *PESANAN BERHASIL* 

Halo ${(e==null?void 0:e.name)||"Pelanggan"}!

*DETAIL PESANAN*
ID: #${t.id.substring(0,8)}
Status: ${f}

*PRODUK YANG DIPESAN*
${g}
*PENGIRIMAN*
Kurir: ${c.provider||"JPC Delivery"}
Layanan: ${c.service||"Reguler"}
Ongkos Kirim: ${z1(c.cost||0)}
Estimasi: ${c.estimate||"1-3 Hari"}

*PEMBAYARAN*
Total: ${z1(t.total)}

*HUBUNGI*: 0813-9458-6882
*JAYA PERKASA CHARCOAL*`,console.log(`Panjang pesan darurat: ${A.length} karakter`)}else A=d;console.log(`Pesan final: ${A.length} karakter`),console.log("Konten pesan WhatsApp (awal):",A.substring(0,100)+"..."),console.log("Mengirim pesan WhatsApp ke:",e.phone);const h=await Gp(e.phone,A);return console.log(h?" WhatsApp notification berhasil dikirim ke pelanggan":" Gagal mengirim WhatsApp notification ke pelanggan"),h}catch(o){return console.error("Error sending customer order notification:",o),!1}},kme=async(t,e,r,n,a,s)=>{console.log("Sending WhatsApp notification to admin with shipping cost:",t==null?void 0:t.shipping_cost);try{const o=t.created_at?new Date(t.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})+" pukul "+new Date(t.created_at).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})+" pukul "+new Date().toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),l=x=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(x).replace("Rp","Rp "),c=Array.isArray(n)?n:[],u=c.reduce((x,C)=>x+(C.price||0)*(C.quantity||0),0),A=c.map((x,C)=>{const E=x.price||0,B=x.quantity||1,j=E*B;return`${C+1}. ${x.product_name||"Produk"} (${B}x) - ${l(j)}`}).join(`
`),d=a||{provider:t.shipping_provider||"JPC Delivery",service:t.shipping_service||"Reguler",estimate:t.shipping_estimate||"1-3 Jam",cost:t.shipping_cost||0},h=t.shipping_cost||d.cost||0;console.log("Admin notification - shipping cost:",h);const f=t.discount_data||{},p=f&&(f.value>0||f.code),g=p?f.type==="percentage"?`${f.value}%`:l(f.value||0):"0",m=(r==null?void 0:r.recipient_name)||(e==null?void 0:e.name)||"N/A",b=(r==null?void 0:r.recipient_phone)||(e==null?void 0:e.phone)||"N/A",y=` PESANAN BARU 

ID Pesanan: #${t.id}
Tanggal: ${o}
Status: ${t.status||"pending"}

DATA PELANGGAN
Nama: ${(e==null?void 0:e.name)||"Pelanggan"}
No. HP: ${(e==null?void 0:e.phone)||"N/A"}
Email: ${(e==null?void 0:e.email)||"N/A"}

DETAIL PENERIMA
Nama Penerima: ${m}
No. HP Penerima: ${b}

ALAMAT PENGIRIMAN
${(r==null?void 0:r.street)||"N/A"}
${r!=null&&r.district?r.district+", ":""}${(r==null?void 0:r.city)||"N/A"}
${(r==null?void 0:r.province)||"N/A"} ${(r==null?void 0:r.postal_code)||""}
Catatan: ${(r==null?void 0:r.notes)||"-"}

INFORMASI PENGIRIMAN
Kurir: ${d.provider||t.shipping_provider||"JPC Delivery"}
Layanan: ${d.service||t.shipping_service||"Reguler"}
Ongkos Kirim: ${l(h)}
Estimasi: ${d.estimate||t.shipping_estimate||"1-3 Jam"}
Detail Alamat: ${(r==null?void 0:r.country)||""}

DETAIL PESANAN
${A}

RINGKASAN PEMBAYARAN
Subtotal Produk: ${l(u)}
${p?`Diskon${f.code?" ("+f.code+")":""}: -${g}
`:""}Ongkos Kirim: ${l(h)}
Total Pembayaran: ${l(t.total)}

INFORMASI PEMBAYARAN
Metode: ${Tme(t.payment_method||"N/A")}
Status Pembayaran: ${t.payment_status||"Belum dibayar"}
${t.payment_method==="bank-transfer"?`Bank: ${(s==null?void 0:s.bank_name)||"SeaBank"}
No. Rekening: ${(s==null?void 0:s.account_number)||"901958730549"}
a.n: ${(s==null?void 0:s.account_name)||"Jaya Perkasa Charcoal"}
`:""}
Terima kasih telah berbelanja di JPC!
Untuk informasi lebih lanjut, silakan hubungi kami.

PERHATIAN: Pesanan baru memerlukan persetujuan Anda. Silakan buka dashboard admin untuk memprosesnya.`;let w=0;for(const x of dK)try{w>0&&await new Promise(E=>setTimeout(E,1e3)),await Gp(x,y)&&(w++,console.log(` WhatsApp notification sent to admin: ${x}`))}catch(C){console.error(`Error sending WhatsApp to admin ${x}:`,C)}return w>0}catch(o){return console.error("Error sending admin notifications:",o),!1}},Tme=t=>t==="bank-transfer"?"Transfer Bank":t==="cash-on-delivery"?"Bayar di Tempat (COD)":t==="e-wallet"?"E-Wallet":t==="qris"?"QRIS":t==="credit-card"?"Kartu Kredit":t,hK=Gp,fK=async t=>{try{console.log("Starting admin notification via WhatsApp (Firebase disabled)");try{const e=t.shipping_method_id||"",{data:r}=await Z.from("shipping_methods").select("*").eq("id",e).single(),{data:n}=await Z.from("profiles").select("name, phone, email").eq("id",t.user_id).single(),{data:a}=await Z.from("order_items").select("*").eq("order_id",t.id),{data:s}=await Z.from("addresses").select("*").eq("id",t.shipping_address_id).single();let o=null;if(t.payment_method==="bank-transfer"&&t.payment_details)try{o=typeof t.payment_details=="string"?JSON.parse(t.payment_details):t.payment_details}catch{o={bank_name:t.payment_details}}const l=await kme(t,n||{name:"Unknown Customer",phone:"N/A",email:"N/A"},s||{street:"N/A",city:"N/A"},a||[],r||{name:"Standard Shipping",cost:0},o);return console.log(`WhatsApp notification to admins: ${l?"success":"failed"}`),l}catch(e){return console.error("Error sending WhatsApp notification to admins:",e),!1}}catch(e){return console.error("Error in admin notification process:",e),!1}},G1=async(t,e)=>(console.log("FCM token storage disabled - using WhatsApp notifications only"),!1),l2=async t=>(console.log("Firebase notifications disabled - using WhatsApp notifications only"),null),mK=v.createContext(void 0);function Hr(){const t=v.useContext(mK);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function Ime({children:t}){const[e,r]=v.useState(null),[n,a]=v.useState(null),[s,o]=v.useState(null),[l,c]=v.useState(!0),[u,A]=v.useState(!1),d=async x=>{try{const{data:C,error:E}=await Z.from("profiles").select("*").eq("id",x).maybeSingle();return E?(console.error("Error fetching profile:",E),null):C}catch(C){return console.error("Error in fetchProfile:",C),null}},h=async(x,C={})=>{try{let E=await d(x);if(!E){console.log("Profile not found, creating new profile for user:",x);const{data:B,error:j}=await Z.from("profiles").insert({id:x,name:C.name||"",email:C.email||"",role:C.role||"customer",created_at:new Date().toISOString()}).select().single();if(j)return console.error("Error creating profile:",j),null;E=B}return E}catch(E){return console.error("Error in ensureProfileExists:",E),null}},f=async()=>{var C;if(!e)return;let x=await d(e.id);x||(x=await h(e.id,{email:e.email,name:((C=e.user_metadata)==null?void 0:C.name)||""})),x&&a(x)};v.useEffect(()=>{const{data:{subscription:x}}=Z.auth.onAuthStateChange(async(C,E)=>{o(E),r((E==null?void 0:E.user)??null),E!=null&&E.user?(c(!0),setTimeout(async()=>{var j;let B=await d(E.user.id);B||(B=await h(E.user.id,{email:E.user.email,name:((j=E.user.user_metadata)==null?void 0:j.name)||""})),a(B),c(!1)},0)):(a(null),c(!1))});return Z.auth.getSession().then(async({data:{session:C}})=>{var E;if(o(C),r((C==null?void 0:C.user)??null),C!=null&&C.user){let B=await d(C.user.id);if(B||(B=await h(C.user.id,{email:C.user.email,name:((E=C.user.user_metadata)==null?void 0:E.name)||""})),B)try{const j=await V1();if(j){await G1(C.user.id,j),console.log("FCM token updated for returning user:",C.user.id,"Token:",j.substring(0,10)+"..."),B.fcm_token=j;const N={userAgent:navigator.userAgent,platform:navigator.platform,vendor:navigator.vendor,timestamp:new Date().toISOString()};console.log("Device info for FCM token:",N)}}catch(j){console.error("Error generating/storing FCM token on session check:",j)}a(B)}c(!1)}),()=>{x.unsubscribe()}},[]);let p=0,g=!1;const m=async()=>{if(!e)return!1;const x=Date.now();if(x-p<5e3)return console.log("Using cached phone verification result:",g),g;try{p=x;const{data:E,error:B}=await Z.from("profiles").select("is_phone_verified, phone_verified_at").eq("id",e.id).single();if(B||!E)return console.error("Error checking phone verification:",B),g=!1,A(!1),!1;const j=E.is_phone_verified===!0;return g=j,u!==j&&A(j),j}catch(E){return console.error("Error in checkPhoneVerification:",E),g=!1,A(!1),!1}},b=async(x,C)=>{try{c(!0);const{data:E,error:B}=await Z.auth.signInWithPassword({email:x,password:C});if(B)throw B;if(E!=null&&E.user){const j=await d(E.user.id);if(j&&a(j),await m(),"Notification"in window&&"serviceWorker"in navigator)try{const N=await V1();N?(localStorage.setItem("fcmToken",N),await G1(E.user.id,N),n&&a(S=>S&&{...S,fcm_token:N,last_token_update:new Date().toISOString()}),console.log("FCM token updated for user on login:",E.user.id,"Token:",N.substring(0,10)+"...")):console.log("No FCM token could be generated, notifications may not work")}catch(N){console.error("Error generating/storing FCM token:",N)}}}catch(E){throw console.error("Login error:",E),c(!1),E}finally{c(!1)}},y=async(x,C,E)=>{c(!0);try{const{data:B,error:j}=await Z.auth.signUp({email:C,password:E,options:{data:{name:x}}});if(j)throw j;if(B.user){await h(B.user.id,{email:C,name:x,role:"customer"});try{const N=await V1();if(N){await G1(B.user.id,N);const S={userAgent:navigator.userAgent,platform:navigator.platform,appName:navigator.appName,vendor:navigator.vendor,appVersion:navigator.appVersion,language:navigator.language,screen:{width:window.screen.width,height:window.screen.height,colorDepth:window.screen.colorDepth,pixelDepth:window.screen.pixelDepth},registrationTime:new Date().toISOString()};console.log("New user device info:",S),console.log("FCM token generated and stored for new user:",B.user.id,"Token:",N.substring(0,10)+"..."),console.log("Device info stored:",S);const k=await d(B.user.id);k&&a({...k,fcm_token:N})}}catch(N){console.error("Error generating/storing FCM token during registration:",N)}}}catch(B){throw c(!1),B}},w=async()=>{try{await Z.auth.signOut()}catch(x){console.error("Error during logout:",x)}};return v.useEffect(()=>{e&&n?m():A(!1)},[e,n]),i.jsx(mK.Provider,{value:{user:e,profile:n,isLoading:l,isPhoneVerified:u,login:b,register:y,logout:w,refreshProfile:f,checkPhoneVerification:m},children:t})}const pK=v.createContext(void 0);function qb(){const t=v.useContext(pK);if(!t)throw new Error("useCart must be used within a CartProvider");return t}function Pme({children:t}){const[e,r]=v.useState([]);v.useEffect(()=>{const u=localStorage.getItem("cart");u&&r(JSON.parse(u))},[]),v.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const n=u=>{r(A=>{const d=A.findIndex(h=>h.id===u.id);if(d>-1){const h=[...A];return h[d]={...h[d],quantity:h[d].quantity+(u.quantity||1)},h}else return[...A,{...u,quantity:u.quantity||1}]})},a=u=>{r(A=>A.filter(d=>d.id!==u))},s=(u,A)=>{if(A<=0){a(u);return}r(d=>d.map(h=>h.id===u?{...h,quantity:A}:h))},o=()=>{r([])},l=e.reduce((u,A)=>u+A.price*A.quantity,0),c=e.reduce((u,A)=>u+A.quantity,0);return i.jsx(pK.Provider,{value:{items:e,addItem:n,removeItem:a,updateQuantity:s,clearCart:o,total:l,itemCount:c},children:t})}function Fme(){const t=ma();return v.useEffect(()=>{t.pathname==="/"&&localStorage.getItem("whatsapp_verification_success")==="true"&&(localStorage.removeItem("whatsapp_verification_success"),setTimeout(()=>{window.location.reload()},100))},[t.pathname]),null}const Dme=()=>{const t=ma();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),i.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Ups! Halaman tidak ditemukan"}),i.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Kembali ke Beranda"})]})})};function Jt({children:t}){const e=ma(),r=e.pathname.startsWith("/ppob");return i.jsxs("div",{className:"flex flex-col min-h-screen max-w-md mx-auto bg-background",children:[i.jsx("main",{className:fe("flex-1 overflow-y-auto",{"pb-16 bottom-tab-height":!r}),children:t}),e.pathname==="/"&&i.jsx("div",{className:"text-center mb-2",children:i.jsx(mt,{to:"/admin-login",className:"text-xs text-muted-foreground hover:text-flame-500",children:"Akses Admin"})}),!r&&i.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 max-w-md mx-auto bg-background border-t",children:i.jsxs("div",{className:"flex justify-around items-center h-16",children:[i.jsx(Lh,{to:"/",icon:i.jsx(ZH,{className:"h-6 w-6"}),label:"Beranda",isActive:e.pathname==="/"}),i.jsx(Lh,{to:"/chat",icon:i.jsx(Nk,{className:"h-6 w-6"}),label:"Chat",isActive:e.pathname==="/chat"}),i.jsx(Lh,{to:"/cart",icon:i.jsx(ub,{className:"h-6 w-6"}),label:"Keranjang",isActive:e.pathname==="/cart"}),i.jsx(Lh,{to:"/orders",icon:i.jsx(to,{className:"h-6 w-6"}),label:"Pesanan",isActive:e.pathname.includes("/order")||e.pathname==="/orders"}),i.jsx(Lh,{to:"/profile",icon:i.jsx(YA,{className:"h-6 w-6"}),label:"Profil",isActive:e.pathname==="/profile"})]})})]})}function Lh({to:t,icon:e,label:r,isActive:n}){return i.jsx(mt,{to:t,className:"flex flex-col items-center justify-center w-full",children:i.jsxs("div",{className:fe("flex flex-col items-center justify-center",n?"text-flame-500":"text-charcoal-400"),children:[e,i.jsx("span",{className:"text-xs mt-1",children:r})]})})}const he=v.forwardRef(({className:t,type:e,...r},n)=>i.jsx("input",{type:e,className:fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));he.displayName="Input";const Be=v.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:fe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Be.displayName="Card";const ct=v.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:fe("flex flex-col space-y-1.5 p-6",t),...e}));ct.displayName="CardHeader";const ut=v.forwardRef(({className:t,...e},r)=>i.jsx("h3",{ref:r,className:fe("text-2xl font-semibold leading-none tracking-tight",t),...e}));ut.displayName="CardTitle";const cr=v.forwardRef(({className:t,...e},r)=>i.jsx("p",{ref:r,className:fe("text-sm text-muted-foreground",t),...e}));cr.displayName="CardDescription";const Ce=v.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:fe("p-6 pt-0",t),...e}));Ce.displayName="CardContent";const is=v.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:fe("flex items-center p-6 pt-0",t),...e}));is.displayName="CardFooter";function jm(t,[e,r]){return Math.min(r,Math.max(e,t))}var Ome=v.createContext(void 0);function nh(t){const e=v.useContext(Ome);return t||e||"ltr"}var W1=0;function WT(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??TO()),document.body.insertAdjacentElement("beforeend",t[1]??TO()),W1++,()=>{W1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),W1--}},[])}function TO(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var X1="focusScope.autoFocusOnMount",Y1="focusScope.autoFocusOnUnmount",IO={bubbles:!1,cancelable:!0},Rme="FocusScope",zb=v.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=t,[l,c]=v.useState(null),u=Qr(a),A=Qr(s),d=v.useRef(null),h=bt(e,g=>c(g)),f=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let g=function(w){if(f.paused||!l)return;const x=w.target;l.contains(x)?d.current=x:Fo(d.current,{select:!0})},m=function(w){if(f.paused||!l)return;const x=w.relatedTarget;x!==null&&(l.contains(x)||Fo(d.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const C of w)C.removedNodes.length>0&&Fo(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",m);const y=new MutationObserver(b);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",m),y.disconnect()}}},[n,l,f.paused]),v.useEffect(()=>{if(l){FO.add(f);const g=document.activeElement;if(!l.contains(g)){const b=new CustomEvent(X1,IO);l.addEventListener(X1,u),l.dispatchEvent(b),b.defaultPrevented||(Ume($me(gK(l)),{select:!0}),document.activeElement===g&&Fo(l))}return()=>{l.removeEventListener(X1,u),setTimeout(()=>{const b=new CustomEvent(Y1,IO);l.addEventListener(Y1,A),l.dispatchEvent(b),b.defaultPrevented||Fo(g??document.body,{select:!0}),l.removeEventListener(Y1,A),FO.remove(f)},0)}}},[l,u,A,f]);const p=v.useCallback(g=>{if(!r&&!n||f.paused)return;const m=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(m&&b){const y=g.currentTarget,[w,x]=Mme(y);w&&x?!g.shiftKey&&b===x?(g.preventDefault(),r&&Fo(w,{select:!0})):g.shiftKey&&b===w&&(g.preventDefault(),r&&Fo(x,{select:!0})):b===y&&g.preventDefault()}},[r,n,f.paused]);return i.jsx(et.div,{tabIndex:-1,...o,ref:h,onKeyDown:p})});zb.displayName=Rme;function Ume(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Fo(n,{select:e}),document.activeElement!==r)return}function Mme(t){const e=gK(t),r=PO(e,t),n=PO(e.reverse(),t);return[r,n]}function gK(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function PO(t,e){for(const r of t)if(!Qme(r,{upTo:e}))return r}function Qme(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Lme(t){return t instanceof HTMLInputElement&&"select"in t}function Fo(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Lme(t)&&e&&t.select()}}var FO=Hme();function Hme(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=DO(t,e),t.unshift(e)},remove(e){var r;t=DO(t,e),(r=t[0])==null||r.resume()}}}function DO(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function $me(t){return t.filter(e=>e.tagName!=="A")}function Wp(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Vme=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},qu=new WeakMap,a0=new WeakMap,s0={},J1=0,xK=function(t){return t&&(t.host||xK(t.parentNode))},Kme=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=xK(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},qme=function(t,e,r,n){var a=Kme(e,Array.isArray(t)?t:[t]);s0[r]||(s0[r]=new WeakMap);var s=s0[r],o=[],l=new Set,c=new Set(a),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};a.forEach(u);var A=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(l.has(h))A(h);else try{var f=h.getAttribute(n),p=f!==null&&f!=="false",g=(qu.get(h)||0)+1,m=(s.get(h)||0)+1;qu.set(h,g),s.set(h,m),o.push(h),g===1&&p&&a0.set(h,!0),m===1&&h.setAttribute(r,"true"),p||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return A(e),l.clear(),J1++,function(){o.forEach(function(d){var h=qu.get(d)-1,f=s.get(d)-1;qu.set(d,h),s.set(d,f),h||(a0.has(d)||d.removeAttribute(n),a0.delete(d)),f||d.removeAttribute(r)}),J1--,J1||(qu=new WeakMap,qu=new WeakMap,a0=new WeakMap,s0={})}},XT=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=Vme(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),qme(n,a,r,"aria-hidden")):function(){return null}},ri=function(){return ri=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ri.apply(this,arguments)};function vK(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function zme(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,s;n<a;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var cx="right-scroll-bar-position",ux="width-before-scroll-bar",Gme="with-scroll-bars-hidden",Wme="--removed-body-scroll-bar-size";function Z1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Xme(t,e){var r=v.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=e,r.facade}var Yme=typeof window<"u"?v.useLayoutEffect:v.useEffect,OO=new WeakMap;function Jme(t,e){var r=Xme(null,function(n){return t.forEach(function(a){return Z1(a,n)})});return Yme(function(){var n=OO.get(r);if(n){var a=new Set(n),s=new Set(t),o=r.current;a.forEach(function(l){s.has(l)||Z1(l,null)}),s.forEach(function(l){a.has(l)||Z1(l,o)})}OO.set(r,t)},[t]),r}function Zme(t){return t}function epe(t,e){e===void 0&&(e=Zme);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var o=e(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var A=o;o=[],A.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(A){o.push(A),u()},filter:function(A){return o=o.filter(A),r}}}};return a}function tpe(t){t===void 0&&(t={});var e=epe(null);return e.options=ri({async:!0,ssr:!1},t),e}var yK=function(t){var e=t.sideCar,r=vK(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,ri({},r))};yK.isSideCarExport=!0;function rpe(t,e){return t.useMedium(e),yK}var bK=tpe(),e_=function(){},Gb=v.forwardRef(function(t,e){var r=v.useRef(null),n=v.useState({onScrollCapture:e_,onWheelCapture:e_,onTouchMoveCapture:e_}),a=n[0],s=n[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,A=t.enabled,d=t.shards,h=t.sideCar,f=t.noIsolation,p=t.inert,g=t.allowPinchZoom,m=t.as,b=m===void 0?"div":m,y=t.gapMode,w=vK(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=h,C=Jme([r,e]),E=ri(ri({},w),a);return v.createElement(v.Fragment,null,A&&v.createElement(x,{sideCar:bK,removeScrollBar:u,shards:d,noIsolation:f,inert:p,setCallbacks:s,allowPinchZoom:!!g,lockRef:r,gapMode:y}),o?v.cloneElement(v.Children.only(l),ri(ri({},E),{ref:C})):v.createElement(b,ri({},E,{className:c,ref:C}),l))});Gb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gb.classNames={fullWidth:ux,zeroRight:cx};var npe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ape(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=npe();return e&&t.setAttribute("nonce",e),t}function spe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function ipe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var ope=function(){var t=0,e=null;return{add:function(r){t==0&&(e=ape())&&(spe(e,r),ipe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},lpe=function(){var t=ope();return function(e,r){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},wK=function(){var t=lpe(),e=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return e},cpe={left:0,top:0,right:0,gap:0},t_=function(t){return parseInt(t||"",10)||0},upe=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[t_(r),t_(n),t_(a)]},Ape=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return cpe;var e=upe(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},dpe=wK(),EA="data-scroll-locked",hpe=function(t,e,r,n){var a=t.left,s=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Gme,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(EA,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cx,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ux,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(cx," .").concat(cx,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ux," .").concat(ux,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(EA,`] {
    `).concat(Wme,": ").concat(l,`px;
  }
`)},RO=function(){var t=parseInt(document.body.getAttribute(EA)||"0",10);return isFinite(t)?t:0},fpe=function(){v.useEffect(function(){return document.body.setAttribute(EA,(RO()+1).toString()),function(){var t=RO()-1;t<=0?document.body.removeAttribute(EA):document.body.setAttribute(EA,t.toString())}},[])},mpe=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;fpe();var s=v.useMemo(function(){return Ape(a)},[a]);return v.createElement(dpe,{styles:hpe(s,!e,a,r?"":"!important")})},c2=!1;if(typeof window<"u")try{var i0=Object.defineProperty({},"passive",{get:function(){return c2=!0,!0}});window.addEventListener("test",i0,i0),window.removeEventListener("test",i0,i0)}catch{c2=!1}var zu=c2?{passive:!1}:!1,ppe=function(t){return t.tagName==="TEXTAREA"},_K=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!ppe(t)&&r[e]==="visible")},gpe=function(t){return _K(t,"overflowY")},xpe=function(t){return _K(t,"overflowX")},UO=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=BK(t,n);if(a){var s=CK(t,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},vpe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},ype=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},BK=function(t,e){return t==="v"?gpe(e):xpe(e)},CK=function(t,e){return t==="v"?vpe(e):ype(e)},bpe=function(t,e){return t==="h"&&e==="rtl"?-1:1},wpe=function(t,e,r,n,a){var s=bpe(t,window.getComputedStyle(e).direction),o=s*n,l=r.target,c=e.contains(l),u=!1,A=o>0,d=0,h=0;do{var f=CK(t,l),p=f[0],g=f[1],m=f[2],b=g-m-s*p;(p||b)&&BK(t,l)&&(d+=b,h+=p),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(A&&Math.abs(d)<1||!A&&Math.abs(h)<1)&&(u=!0),u},o0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},MO=function(t){return[t.deltaX,t.deltaY]},QO=function(t){return t&&"current"in t?t.current:t},_pe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Bpe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Cpe=0,Gu=[];function jpe(t){var e=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),a=v.useState(Cpe++)[0],s=v.useState(wK)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var g=zme([t.lockRef.current],(t.shards||[]).map(QO),!0).filter(Boolean);return g.forEach(function(m){return m.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var l=v.useCallback(function(g,m){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=o0(g),y=r.current,w="deltaX"in g?g.deltaX:y[0]-b[0],x="deltaY"in g?g.deltaY:y[1]-b[1],C,E=g.target,B=Math.abs(w)>Math.abs(x)?"h":"v";if("touches"in g&&B==="h"&&E.type==="range")return!1;var j=UO(B,E);if(!j)return!0;if(j?C=B:(C=B==="v"?"h":"v",j=UO(B,E)),!j)return!1;if(!n.current&&"changedTouches"in g&&(w||x)&&(n.current=C),!C)return!0;var N=n.current||C;return wpe(N,m,g,N==="h"?w:x)},[]),c=v.useCallback(function(g){var m=g;if(!(!Gu.length||Gu[Gu.length-1]!==s)){var b="deltaY"in m?MO(m):o0(m),y=e.current.filter(function(C){return C.name===m.type&&(C.target===m.target||m.target===C.shadowParent)&&_pe(C.delta,b)})[0];if(y&&y.should){m.cancelable&&m.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(QO).filter(Boolean).filter(function(C){return C.contains(m.target)}),x=w.length>0?l(m,w[0]):!o.current.noIsolation;x&&m.cancelable&&m.preventDefault()}}},[]),u=v.useCallback(function(g,m,b,y){var w={name:g,delta:m,target:b,should:y,shadowParent:Epe(b)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(x){return x!==w})},1)},[]),A=v.useCallback(function(g){r.current=o0(g),n.current=void 0},[]),d=v.useCallback(function(g){u(g.type,MO(g),g.target,l(g,t.lockRef.current))},[]),h=v.useCallback(function(g){u(g.type,o0(g),g.target,l(g,t.lockRef.current))},[]);v.useEffect(function(){return Gu.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,zu),document.addEventListener("touchmove",c,zu),document.addEventListener("touchstart",A,zu),function(){Gu=Gu.filter(function(g){return g!==s}),document.removeEventListener("wheel",c,zu),document.removeEventListener("touchmove",c,zu),document.removeEventListener("touchstart",A,zu)}},[]);var f=t.removeScrollBar,p=t.inert;return v.createElement(v.Fragment,null,p?v.createElement(s,{styles:Bpe(a)}):null,f?v.createElement(mpe,{gapMode:t.gapMode}):null)}function Epe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Spe=rpe(bK,jpe);var Wb=v.forwardRef(function(t,e){return v.createElement(Gb,ri({},t,{ref:e,sideCar:Spe}))});Wb.classNames=Gb.classNames;var Npe=[" ","Enter","ArrowUp","ArrowDown"],kpe=[" ","Enter"],Xp="Select",[Xb,Yb,Tpe]=ib(Xp),[ah,XLe]=Ea(Xp,[Tpe,Wd]),Jb=Wd(),[Ipe,Hl]=ah(Xp),[Ppe,Fpe]=ah(Xp),jK=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:a,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:A,autoComplete:d,disabled:h,required:f,form:p}=t,g=Jb(e),[m,b]=v.useState(null),[y,w]=v.useState(null),[x,C]=v.useState(!1),E=nh(u),[B=!1,j]=As({prop:n,defaultProp:a,onChange:s}),[N,S]=As({prop:o,defaultProp:l,onChange:c}),k=v.useRef(null),I=m?p||!!m.closest("form"):!0,[T,O]=v.useState(new Set),U=Array.from(T).map(H=>H.props.value).join(";");return i.jsx(Hk,{...g,children:i.jsxs(Ipe,{required:f,scope:e,trigger:m,onTriggerChange:b,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:x,onValueNodeHasChildrenChange:C,contentId:ci(),value:N,onValueChange:S,open:B,onOpenChange:j,dir:E,triggerPointerDownPosRef:k,disabled:h,children:[i.jsx(Xb.Provider,{scope:e,children:i.jsx(Ppe,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(H=>{O(R=>new Set(R).add(H))},[]),onNativeOptionRemove:v.useCallback(H=>{O(R=>{const D=new Set(R);return D.delete(H),D})},[]),children:r})}),I?i.jsxs(YK,{"aria-hidden":!0,required:f,tabIndex:-1,name:A,autoComplete:d,value:N,onChange:H=>S(H.target.value),disabled:h,form:p,children:[N===void 0?i.jsx("option",{value:""}):null,Array.from(T)]},U):null]})})};jK.displayName=Xp;var EK="SelectTrigger",SK=v.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,s=Jb(r),o=Hl(EK,r),l=o.disabled||n,c=bt(e,o.onTriggerChange),u=Yb(r),A=v.useRef("touch"),[d,h,f]=JK(g=>{const m=u().filter(w=>!w.disabled),b=m.find(w=>w.value===o.value),y=ZK(m,g,b);y!==void 0&&o.onValueChange(y.value)}),p=g=>{l||(o.onOpenChange(!0),f()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return i.jsx(pb,{asChild:!0,...s,children:i.jsx(et.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":XK(o.value)?"":void 0,...a,ref:c,onClick:Oe(a.onClick,g=>{g.currentTarget.focus(),A.current!=="mouse"&&p(g)}),onPointerDown:Oe(a.onPointerDown,g=>{A.current=g.pointerType;const m=g.target;m.hasPointerCapture(g.pointerId)&&m.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(p(g),g.preventDefault())}),onKeyDown:Oe(a.onKeyDown,g=>{const m=d.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(m&&g.key===" ")&&Npe.includes(g.key)&&(p(),g.preventDefault())})})})});SK.displayName=EK;var NK="SelectValue",kK=v.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:o="",...l}=t,c=Hl(NK,r),{onValueNodeHasChildrenChange:u}=c,A=s!==void 0,d=bt(e,c.onValueNodeChange);return on(()=>{u(A)},[u,A]),i.jsx(et.span,{...l,ref:d,style:{pointerEvents:"none"},children:XK(c.value)?i.jsx(i.Fragment,{children:o}):s})});kK.displayName=NK;var Dpe="SelectIcon",TK=v.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...a}=t;return i.jsx(et.span,{"aria-hidden":!0,...a,ref:e,children:n||""})});TK.displayName=Dpe;var Ope="SelectPortal",IK=t=>i.jsx(Ip,{asChild:!0,...t});IK.displayName=Ope;var lu="SelectContent",PK=v.forwardRef((t,e)=>{const r=Hl(lu,t.__scopeSelect),[n,a]=v.useState();if(on(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?Hd.createPortal(i.jsx(FK,{scope:t.__scopeSelect,children:i.jsx(Xb.Slot,{scope:t.__scopeSelect,children:i.jsx("div",{children:t.children})})}),s):null}return i.jsx(DK,{...t,ref:e})});PK.displayName=lu;var ys=10,[FK,$l]=ah(lu),Rpe="SelectContentImpl",DK=v.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:A,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:p,hideWhenDetached:g,avoidCollisions:m,...b}=t,y=Hl(lu,r),[w,x]=v.useState(null),[C,E]=v.useState(null),B=bt(e,le=>x(le)),[j,N]=v.useState(null),[S,k]=v.useState(null),I=Yb(r),[T,O]=v.useState(!1),U=v.useRef(!1);v.useEffect(()=>{if(w)return XT(w)},[w]),WT();const H=v.useCallback(le=>{const[ne,...ce]=I().map(Y=>Y.ref.current),[Ae]=ce.slice(-1),ve=document.activeElement;for(const Y of le)if(Y===ve||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===ne&&C&&(C.scrollTop=0),Y===Ae&&C&&(C.scrollTop=C.scrollHeight),Y==null||Y.focus(),document.activeElement!==ve))return},[I,C]),R=v.useCallback(()=>H([j,w]),[H,j,w]);v.useEffect(()=>{T&&R()},[T,R]);const{onOpenChange:D,triggerPointerDownPosRef:M}=y;v.useEffect(()=>{if(w){let le={x:0,y:0};const ne=Ae=>{var ve,Y;le={x:Math.abs(Math.round(Ae.pageX)-(((ve=M.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(Ae.pageY)-(((Y=M.current)==null?void 0:Y.y)??0))}},ce=Ae=>{le.x<=10&&le.y<=10?Ae.preventDefault():w.contains(Ae.target)||D(!1),document.removeEventListener("pointermove",ne),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",ne),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",ce,{capture:!0})}}},[w,D,M]),v.useEffect(()=>{const le=()=>D(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[D]);const[Q,L]=JK(le=>{const ne=I().filter(ve=>!ve.disabled),ce=ne.find(ve=>ve.ref.current===document.activeElement),Ae=ZK(ne,le,ce);Ae&&setTimeout(()=>Ae.ref.current.focus())}),K=v.useCallback((le,ne,ce)=>{const Ae=!U.current&&!ce;(y.value!==void 0&&y.value===ne||Ae)&&(N(le),Ae&&(U.current=!0))},[y.value]),G=v.useCallback(()=>w==null?void 0:w.focus(),[w]),q=v.useCallback((le,ne,ce)=>{const Ae=!U.current&&!ce;(y.value!==void 0&&y.value===ne||Ae)&&k(le)},[y.value]),W=n==="popper"?u2:OK,re=W===u2?{side:l,sideOffset:c,align:u,alignOffset:A,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:p,hideWhenDetached:g,avoidCollisions:m}:{};return i.jsx(FK,{scope:r,content:w,viewport:C,onViewportChange:E,itemRefCallback:K,selectedItem:j,onItemLeave:G,itemTextRefCallback:q,focusSelectedItem:R,selectedItemText:S,position:n,isPositioned:T,searchRef:Q,children:i.jsx(Wb,{as:eo,allowPinchZoom:!0,children:i.jsx(zb,{asChild:!0,trapped:y.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:Oe(a,le=>{var ne;(ne=y.trigger)==null||ne.focus({preventScroll:!0}),le.preventDefault()}),children:i.jsx($d,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:i.jsx(W,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:le=>le.preventDefault(),...b,...re,onPlaced:()=>O(!0),ref:B,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Oe(b.onKeyDown,le=>{const ne=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!ne&&le.key.length===1&&L(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let Ae=I().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(le.key)&&(Ae=Ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const ve=le.target,Y=Ae.indexOf(ve);Ae=Ae.slice(Y+1)}setTimeout(()=>H(Ae)),le.preventDefault()}})})})})})})});DK.displayName=Rpe;var Upe="SelectItemAlignedPosition",OK=v.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,s=Hl(lu,r),o=$l(lu,r),[l,c]=v.useState(null),[u,A]=v.useState(null),d=bt(e,B=>A(B)),h=Yb(r),f=v.useRef(!1),p=v.useRef(!0),{viewport:g,selectedItem:m,selectedItemText:b,focusSelectedItem:y}=o,w=v.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&g&&m&&b){const B=s.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),N=s.valueNode.getBoundingClientRect(),S=b.getBoundingClientRect();if(s.dir!=="rtl"){const ve=S.left-j.left,Y=N.left-ve,pe=B.left-Y,Ee=B.width+pe,Re=Math.max(Ee,j.width),$e=window.innerWidth-ys,wt=jm(Y,[ys,Math.max(ys,$e-Re)]);l.style.minWidth=Ee+"px",l.style.left=wt+"px"}else{const ve=j.right-S.right,Y=window.innerWidth-N.right-ve,pe=window.innerWidth-B.right-Y,Ee=B.width+pe,Re=Math.max(Ee,j.width),$e=window.innerWidth-ys,wt=jm(Y,[ys,Math.max(ys,$e-Re)]);l.style.minWidth=Ee+"px",l.style.right=wt+"px"}const k=h(),I=window.innerHeight-ys*2,T=g.scrollHeight,O=window.getComputedStyle(u),U=parseInt(O.borderTopWidth,10),H=parseInt(O.paddingTop,10),R=parseInt(O.borderBottomWidth,10),D=parseInt(O.paddingBottom,10),M=U+H+T+D+R,Q=Math.min(m.offsetHeight*5,M),L=window.getComputedStyle(g),K=parseInt(L.paddingTop,10),G=parseInt(L.paddingBottom,10),q=B.top+B.height/2-ys,W=I-q,re=m.offsetHeight/2,le=m.offsetTop+re,ne=U+H+le,ce=M-ne;if(ne<=q){const ve=k.length>0&&m===k[k.length-1].ref.current;l.style.bottom="0px";const Y=u.clientHeight-g.offsetTop-g.offsetHeight,pe=Math.max(W,re+(ve?G:0)+Y+R),Ee=ne+pe;l.style.height=Ee+"px"}else{const ve=k.length>0&&m===k[0].ref.current;l.style.top="0px";const pe=Math.max(q,U+g.offsetTop+(ve?K:0)+re)+ce;l.style.height=pe+"px",g.scrollTop=ne-q+g.offsetTop}l.style.margin=`${ys}px 0`,l.style.minHeight=Q+"px",l.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[h,s.trigger,s.valueNode,l,u,g,m,b,s.dir,n]);on(()=>w(),[w]);const[x,C]=v.useState();on(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const E=v.useCallback(B=>{B&&p.current===!0&&(w(),y==null||y(),p.current=!1)},[w,y]);return i.jsx(Qpe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:E,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:x},children:i.jsx(et.div,{...a,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});OK.displayName=Upe;var Mpe="SelectPopperPosition",u2=v.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=ys,...s}=t,o=Jb(r);return i.jsx($k,{...o,...s,ref:e,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});u2.displayName=Mpe;var[Qpe,YT]=ah(lu,{}),A2="SelectViewport",RK=v.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...a}=t,s=$l(A2,r),o=YT(A2,r),l=bt(e,s.onViewportChange),c=v.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(Xb.Slot,{scope:r,children:i.jsx(et.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Oe(a.onScroll,u=>{const A=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&d){const f=Math.abs(c.current-A.scrollTop);if(f>0){const p=window.innerHeight-ys*2,g=parseFloat(d.style.minHeight),m=parseFloat(d.style.height),b=Math.max(g,m);if(b<p){const y=b+f,w=Math.min(p,y),x=y-w;d.style.height=w+"px",d.style.bottom==="0px"&&(A.scrollTop=x>0?x:0,d.style.justifyContent="flex-end")}}}c.current=A.scrollTop})})})]})});RK.displayName=A2;var UK="SelectGroup",[Lpe,Hpe]=ah(UK),$pe=v.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=ci();return i.jsx(Lpe,{scope:r,id:a,children:i.jsx(et.div,{role:"group","aria-labelledby":a,...n,ref:e})})});$pe.displayName=UK;var MK="SelectLabel",QK=v.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=Hpe(MK,r);return i.jsx(et.div,{id:a.id,...n,ref:e})});QK.displayName=MK;var Pv="SelectItem",[Vpe,LK]=ah(Pv),HK=v.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...o}=t,l=Hl(Pv,r),c=$l(Pv,r),u=l.value===n,[A,d]=v.useState(s??""),[h,f]=v.useState(!1),p=bt(e,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,n,a)}),g=ci(),m=v.useRef("touch"),b=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(Vpe,{scope:r,value:n,disabled:a,textId:g,isSelected:u,onItemTextChange:v.useCallback(y=>{d(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:i.jsx(Xb.ItemSlot,{scope:r,value:n,disabled:a,textValue:A,children:i.jsx(et.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:p,onFocus:Oe(o.onFocus,()=>f(!0)),onBlur:Oe(o.onBlur,()=>f(!1)),onClick:Oe(o.onClick,()=>{m.current!=="mouse"&&b()}),onPointerUp:Oe(o.onPointerUp,()=>{m.current==="mouse"&&b()}),onPointerDown:Oe(o.onPointerDown,y=>{m.current=y.pointerType}),onPointerMove:Oe(o.onPointerMove,y=>{var w;m.current=y.pointerType,a?(w=c.onItemLeave)==null||w.call(c):m.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Oe(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Oe(o.onKeyDown,y=>{var x;((x=c.searchRef)==null?void 0:x.current)!==""&&y.key===" "||(kpe.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});HK.displayName=Pv;var hf="SelectItemText",$K=v.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,...s}=t,o=Hl(hf,r),l=$l(hf,r),c=LK(hf,r),u=Fpe(hf,r),[A,d]=v.useState(null),h=bt(e,b=>d(b),c.onItemTextChange,b=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,b,c.value,c.disabled)}),f=A==null?void 0:A.textContent,p=v.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:g,onNativeOptionRemove:m}=u;return on(()=>(g(p),()=>m(p)),[g,m,p]),i.jsxs(i.Fragment,{children:[i.jsx(et.span,{id:c.textId,...s,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Hd.createPortal(s.children,o.valueNode):null]})});$K.displayName=hf;var VK="SelectItemIndicator",KK=v.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return LK(VK,r).isSelected?i.jsx(et.span,{"aria-hidden":!0,...n,ref:e}):null});KK.displayName=VK;var d2="SelectScrollUpButton",qK=v.forwardRef((t,e)=>{const r=$l(d2,t.__scopeSelect),n=YT(d2,t.__scopeSelect),[a,s]=v.useState(!1),o=bt(e,n.onScrollButtonChange);return on(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(GK,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});qK.displayName=d2;var h2="SelectScrollDownButton",zK=v.forwardRef((t,e)=>{const r=$l(h2,t.__scopeSelect),n=YT(h2,t.__scopeSelect),[a,s]=v.useState(!1),o=bt(e,n.onScrollButtonChange);return on(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,A=Math.ceil(c.scrollTop)<u;s(A)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(GK,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});zK.displayName=h2;var GK=v.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,s=$l("SelectScrollButton",r),o=v.useRef(null),l=Yb(r),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),on(()=>{var A;const u=l().find(d=>d.ref.current===document.activeElement);(A=u==null?void 0:u.ref.current)==null||A.scrollIntoView({block:"nearest"})},[l]),i.jsx(et.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:Oe(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Oe(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Oe(a.onPointerLeave,()=>{c()})})}),Kpe="SelectSeparator",WK=v.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return i.jsx(et.div,{"aria-hidden":!0,...n,ref:e})});WK.displayName=Kpe;var f2="SelectArrow",qpe=v.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=Jb(r),s=Hl(f2,r),o=$l(f2,r);return s.open&&o.position==="popper"?i.jsx(Vk,{...a,...n,ref:e}):null});qpe.displayName=f2;function XK(t){return t===""||t===void 0}var YK=v.forwardRef((t,e)=>{const{value:r,...n}=t,a=v.useRef(null),s=bt(e,a),o=Wp(r);return v.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,A=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&A){const d=new Event("change",{bubbles:!0});A.call(l,r),l.dispatchEvent(d)}},[o,r]),i.jsx(Pp,{asChild:!0,children:i.jsx("select",{...n,ref:s,defaultValue:r})})});YK.displayName="BubbleSelect";function JK(t){const e=Qr(t),r=v.useRef(""),n=v.useRef(0),a=v.useCallback(o=>{const l=r.current+o;e(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),s=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function ZK(t,e,r){const a=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=zpe(t,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function zpe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Gpe=jK,eq=SK,Wpe=kK,Xpe=TK,Ype=IK,tq=PK,Jpe=RK,rq=QK,nq=HK,Zpe=$K,ege=KK,aq=qK,sq=zK,iq=WK;const In=Gpe,Pn=Wpe,gn=v.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(eq,{ref:n,className:fe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,i.jsx(Xpe,{asChild:!0,children:i.jsx(jk,{className:"h-4 w-4 opacity-50"})})]}));gn.displayName=eq.displayName;const oq=v.forwardRef(({className:t,...e},r)=>i.jsx(aq,{ref:r,className:fe("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(Kte,{className:"h-4 w-4"})}));oq.displayName=aq.displayName;const lq=v.forwardRef(({className:t,...e},r)=>i.jsx(sq,{ref:r,className:fe("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(jk,{className:"h-4 w-4"})}));lq.displayName=sq.displayName;const xn=v.forwardRef(({className:t,children:e,position:r="popper",...n},a)=>i.jsx(Ype,{children:i.jsxs(tq,{ref:a,className:fe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[i.jsx(oq,{}),i.jsx(Jpe,{className:fe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),i.jsx(lq,{})]})}));xn.displayName=tq.displayName;const tge=v.forwardRef(({className:t,...e},r)=>i.jsx(rq,{ref:r,className:fe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));tge.displayName=rq.displayName;const yt=v.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(nq,{ref:n,className:fe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(ege,{children:i.jsx(Ck,{className:"h-4 w-4"})})}),i.jsx(Zpe,{children:e})]}));yt.displayName=nq.displayName;const rge=v.forwardRef(({className:t,...e},r)=>i.jsx(iq,{ref:r,className:fe("-mx-1 my-1 h-px bg-muted",t),...e}));rge.displayName=iq.displayName;var cq=["PageUp","PageDown"],uq=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Aq={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},sh="Slider",[m2,nge,age]=ib(sh),[dq,YLe]=Ea(sh,[age]),[sge,Zb]=dq(sh),hq=v.forwardRef((t,e)=>{const{name:r,min:n=0,max:a=100,step:s=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:A,onValueChange:d=()=>{},onValueCommit:h=()=>{},inverted:f=!1,form:p,...g}=t,m=v.useRef(new Set),b=v.useRef(0),w=o==="horizontal"?ige:oge,[x=[],C]=As({prop:A,defaultProp:u,onChange:k=>{var T;(T=[...m.current][b.current])==null||T.focus(),d(k)}}),E=v.useRef(x);function B(k){const I=dge(x,k);S(k,I)}function j(k){S(k,b.current)}function N(){const k=E.current[b.current];x[b.current]!==k&&h(x)}function S(k,I,{commit:T}={commit:!1}){const O=pge(s),U=gge(Math.round((k-n)/s)*s+n,O),H=jm(U,[n,a]);C((R=[])=>{const D=uge(R,H,I);if(mge(D,c*s)){b.current=D.indexOf(H);const M=String(D)!==String(R);return M&&T&&h(D),M?D:R}else return R})}return i.jsx(sge,{scope:t.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:b,thumbs:m.current,values:x,orientation:o,form:p,children:i.jsx(m2.Provider,{scope:t.__scopeSlider,children:i.jsx(m2.Slot,{scope:t.__scopeSlider,children:i.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:e,onPointerDown:Oe(g.onPointerDown,()=>{l||(E.current=x)}),min:n,max:a,inverted:f,onSlideStart:l?void 0:B,onSlideMove:l?void 0:j,onSlideEnd:l?void 0:N,onHomeKeyDown:()=>!l&&S(n,0,{commit:!0}),onEndKeyDown:()=>!l&&S(a,x.length-1,{commit:!0}),onStepKeyDown:({event:k,direction:I})=>{if(!l){const U=cq.includes(k.key)||k.shiftKey&&uq.includes(k.key)?10:1,H=b.current,R=x[H],D=s*U*I;S(R+D,H,{commit:!0})}}})})})})});hq.displayName=sh;var[fq,mq]=dq(sh,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ige=v.forwardRef((t,e)=>{const{min:r,max:n,dir:a,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...A}=t,[d,h]=v.useState(null),f=bt(e,w=>h(w)),p=v.useRef(),g=nh(a),m=g==="ltr",b=m&&!s||!m&&s;function y(w){const x=p.current||d.getBoundingClientRect(),C=[0,x.width],B=JT(C,b?[r,n]:[n,r]);return p.current=x,B(w-x.left)}return i.jsx(fq,{scope:t.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:i.jsx(pq,{dir:g,"data-orientation":"horizontal",...A,ref:f,style:{...A.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const x=y(w.clientX);o==null||o(x)},onSlideMove:w=>{const x=y(w.clientX);l==null||l(x)},onSlideEnd:()=>{p.current=void 0,c==null||c()},onStepKeyDown:w=>{const C=Aq[b?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:C?-1:1})}})})}),oge=v.forwardRef((t,e)=>{const{min:r,max:n,inverted:a,onSlideStart:s,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=t,A=v.useRef(null),d=bt(e,A),h=v.useRef(),f=!a;function p(g){const m=h.current||A.current.getBoundingClientRect(),b=[0,m.height],w=JT(b,f?[n,r]:[r,n]);return h.current=m,w(g-m.top)}return i.jsx(fq,{scope:t.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:i.jsx(pq,{"data-orientation":"vertical",...u,ref:d,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const m=p(g.clientY);s==null||s(m)},onSlideMove:g=>{const m=p(g.clientY);o==null||o(m)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:g=>{const b=Aq[f?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:b?-1:1})}})})}),pq=v.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=t,A=Zb(sh,r);return i.jsx(et.span,{...u,ref:e,onKeyDown:Oe(t.onKeyDown,d=>{d.key==="Home"?(o(d),d.preventDefault()):d.key==="End"?(l(d),d.preventDefault()):cq.concat(uq).includes(d.key)&&(c(d),d.preventDefault())}),onPointerDown:Oe(t.onPointerDown,d=>{const h=d.target;h.setPointerCapture(d.pointerId),d.preventDefault(),A.thumbs.has(h)?h.focus():n(d)}),onPointerMove:Oe(t.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&a(d)}),onPointerUp:Oe(t.onPointerUp,d=>{const h=d.target;h.hasPointerCapture(d.pointerId)&&(h.releasePointerCapture(d.pointerId),s(d))})})}),gq="SliderTrack",xq=v.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,a=Zb(gq,r);return i.jsx(et.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:e})});xq.displayName=gq;var p2="SliderRange",vq=v.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,a=Zb(p2,r),s=mq(p2,r),o=v.useRef(null),l=bt(e,o),c=a.values.length,u=a.values.map(h=>bq(h,a.min,a.max)),A=c>1?Math.min(...u):0,d=100-Math.max(...u);return i.jsx(et.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...t.style,[s.startEdge]:A+"%",[s.endEdge]:d+"%"}})});vq.displayName=p2;var g2="SliderThumb",yq=v.forwardRef((t,e)=>{const r=nge(t.__scopeSlider),[n,a]=v.useState(null),s=bt(e,l=>a(l)),o=v.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return i.jsx(lge,{...t,ref:s,index:o})}),lge=v.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:a,...s}=t,o=Zb(g2,r),l=mq(g2,r),[c,u]=v.useState(null),A=bt(e,y=>u(y)),d=c?o.form||!!c.closest("form"):!0,h=Op(c),f=o.values[n],p=f===void 0?0:bq(f,o.min,o.max),g=Age(n,o.values.length),m=h==null?void 0:h[l.size],b=m?hge(m,p,l.direction):0;return v.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${p}% + ${b}px)`},children:[i.jsx(m2.ItemSlot,{scope:t.__scopeSlider,children:i.jsx(et.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":f,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:A,style:f===void 0?{display:"none"}:t.style,onFocus:Oe(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),d&&i.jsx(cge,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:f},n)]})});yq.displayName=g2;var cge=t=>{const{value:e,...r}=t,n=v.useRef(null),a=Wp(e);return v.useEffect(()=>{const s=n.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(a!==e&&c){const u=new Event("input",{bubbles:!0});c.call(s,e),s.dispatchEvent(u)}},[a,e]),i.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:e})};function uge(t=[],e,r){const n=[...t];return n[r]=e,n.sort((a,s)=>a-s)}function bq(t,e,r){const s=100/(r-e)*(t-e);return jm(s,[0,100])}function Age(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function dge(t,e){if(t.length===1)return 0;const r=t.map(a=>Math.abs(a-e)),n=Math.min(...r);return r.indexOf(n)}function hge(t,e,r){const n=t/2,s=JT([0,50],[0,n]);return(n-s(e)*r)*r}function fge(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function mge(t,e){if(e>0){const r=fge(t);return Math.min(...r)>=e}return!0}function JT(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function pge(t){return(String(t).split(".")[1]||"").length}function gge(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var wq=hq,xge=xq,vge=vq,yge=yq;const _q=v.forwardRef(({className:t,...e},r)=>i.jsxs(wq,{ref:r,className:fe("relative flex w-full touch-none select-none items-center",t),...e,children:[i.jsx(xge,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:i.jsx(vge,{className:"absolute h-full bg-primary"})}),i.jsx(yge,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));_q.displayName=wq.displayName;var ZT="Dialog",[Bq,Cq]=Ea(ZT),[bge,Vs]=Bq(ZT),jq=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!0}=t,l=v.useRef(null),c=v.useRef(null),[u=!1,A]=As({prop:n,defaultProp:a,onChange:s});return i.jsx(bge,{scope:e,triggerRef:l,contentRef:c,contentId:ci(),titleId:ci(),descriptionId:ci(),open:u,onOpenChange:A,onOpenToggle:v.useCallback(()=>A(d=>!d),[A]),modal:o,children:r})};jq.displayName=ZT;var Eq="DialogTrigger",Sq=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Vs(Eq,r),s=bt(e,a.triggerRef);return i.jsx(et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":rI(a.open),...n,ref:s,onClick:Oe(t.onClick,a.onOpenToggle)})});Sq.displayName=Eq;var eI="DialogPortal",[wge,Nq]=Bq(eI,{forceMount:void 0}),kq=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:a}=t,s=Vs(eI,e);return i.jsx(wge,{scope:e,forceMount:r,children:v.Children.map(n,o=>i.jsx(fa,{present:r||s.open,children:i.jsx(Ip,{asChild:!0,container:a,children:o})}))})};kq.displayName=eI;var Fv="DialogOverlay",Tq=v.forwardRef((t,e)=>{const r=Nq(Fv,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,s=Vs(Fv,t.__scopeDialog);return s.modal?i.jsx(fa,{present:n||s.open,children:i.jsx(_ge,{...a,ref:e})}):null});Tq.displayName=Fv;var _ge=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Vs(Fv,r);return i.jsx(Wb,{as:eo,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(et.div,{"data-state":rI(a.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),cu="DialogContent",Iq=v.forwardRef((t,e)=>{const r=Nq(cu,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,s=Vs(cu,t.__scopeDialog);return i.jsx(fa,{present:n||s.open,children:s.modal?i.jsx(Bge,{...a,ref:e}):i.jsx(Cge,{...a,ref:e})})});Iq.displayName=cu;var Bge=v.forwardRef((t,e)=>{const r=Vs(cu,t.__scopeDialog),n=v.useRef(null),a=bt(e,r.contentRef,n);return v.useEffect(()=>{const s=n.current;if(s)return XT(s)},[]),i.jsx(Pq,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Oe(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Oe(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Oe(t.onFocusOutside,s=>s.preventDefault())})}),Cge=v.forwardRef((t,e)=>{const r=Vs(cu,t.__scopeDialog),n=v.useRef(!1),a=v.useRef(!1);return i.jsx(Pq,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),Pq=v.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...o}=t,l=Vs(cu,r),c=v.useRef(null),u=bt(e,c);return WT(),i.jsxs(i.Fragment,{children:[i.jsx(zb,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx($d,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":rI(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(Ege,{titleId:l.titleId}),i.jsx(Nge,{contentRef:c,descriptionId:l.descriptionId})]})]})}),tI="DialogTitle",Fq=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Vs(tI,r);return i.jsx(et.h2,{id:a.titleId,...n,ref:e})});Fq.displayName=tI;var Dq="DialogDescription",Oq=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Vs(Dq,r);return i.jsx(et.p,{id:a.descriptionId,...n,ref:e})});Oq.displayName=Dq;var Rq="DialogClose",Uq=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Vs(Rq,r);return i.jsx(et.button,{type:"button",...n,ref:e,onClick:Oe(t.onClick,()=>a.onOpenChange(!1))})});Uq.displayName=Rq;function rI(t){return t?"open":"closed"}var Mq="DialogTitleWarning",[jge,Qq]=Jee(Mq,{contentName:cu,titleName:tI,docsSlug:"dialog"}),Ege=({titleId:t})=>{const e=Qq(Mq),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},Sge="DialogDescriptionWarning",Nge=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Qq(Sge).contentName}}.`;return v.useEffect(()=>{var s;const a=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},nI=jq,aI=Sq,sI=kq,Yp=Tq,Jp=Iq,Zp=Fq,eg=Oq,ew=Uq;const gi=nI,Dv=aI,kge=sI,Lq=v.forwardRef(({className:t,...e},r)=>i.jsx(Yp,{className:fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));Lq.displayName=Yp.displayName;const Tge=Vd("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Ls=v.forwardRef(({side:t="right",className:e,children:r,...n},a)=>i.jsxs(kge,{children:[i.jsx(Lq,{}),i.jsxs(Jp,{ref:a,className:fe(Tge({side:t}),e),...n,children:[r,i.jsxs(ew,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(db,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ls.displayName=Jp.displayName;const xi=({className:t,...e})=>i.jsx("div",{className:fe("flex flex-col space-y-2 text-center sm:text-left",t),...e});xi.displayName="SheetHeader";const io=({className:t,...e})=>i.jsx("div",{className:fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});io.displayName="SheetFooter";const vi=v.forwardRef(({className:t,...e},r)=>i.jsx(Zp,{ref:r,className:fe("text-lg font-semibold text-foreground",t),...e}));vi.displayName=Zp.displayName;const Em=v.forwardRef(({className:t,...e},r)=>i.jsx(eg,{ref:r,className:fe("text-sm text-muted-foreground",t),...e}));Em.displayName=eg.displayName;var Ige="Separator",LO="horizontal",Pge=["horizontal","vertical"],Hq=v.forwardRef((t,e)=>{const{decorative:r,orientation:n=LO,...a}=t,s=Fge(n)?n:LO,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return i.jsx(et.div,{"data-orientation":s,...l,...a,ref:e})});Hq.displayName=Ige;function Fge(t){return Pge.includes(t)}var $q=Hq;const Zn=v.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},a)=>i.jsx($q,{ref:a,decorative:r,orientation:e,className:fe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));Zn.displayName=$q.displayName;const Dge=()=>{const[t,e]=tce(),[r,n]=v.useState(t.get("q")||""),[a,s]=v.useState("price-asc"),[o,l]=v.useState({priceRange:[0,100],types:[],origins:[]}),[c,u]=v.useState([]),[A,d]=v.useState([]),[h,f]=v.useState([]),[p,g]=v.useState([]),[m,b]=v.useState(!0),[y,w]=v.useState(0),[x,C]=v.useState(100),{addItem:E}=qb();v.useEffect(()=>{(async()=>{b(!0);try{const{data:O,error:U}=await Z.from("products").select("*");if(U)throw U;if(O){u(O);const H=Array.from(new Set(O.map(D=>D.origin).filter(Boolean)));f(H);const R=Array.from(new Set(O.map(D=>D.type).filter(Boolean)));if(g(R),O.length>0){const D=O.map(L=>L.price),M=Math.floor(Math.min(...D)),Q=Math.ceil(Math.max(...D));w(M),C(Q),l(L=>({...L,priceRange:[M,Q]}))}}}catch(O){console.error("Error fetching products:",O),me({title:"Error",description:"Gagal memuat produk",variant:"destructive"})}finally{b(!1)}})()},[]),v.useEffect(()=>{if(m)return;const T=t.get("category"),O=t.get("featured"),U=t.get("discount"),H=t.get("q");H&&H!==r&&n(H);let R=[...c];switch(r&&(R=R.filter(D=>{var M;return D.name.toLowerCase().includes(r.toLowerCase())||(((M=D.description)==null?void 0:M.toLowerCase().includes(r.toLowerCase()))??!1)})),T&&(R=R.filter(D=>D.type===T)),O==="true"&&(R=R.filter(D=>D.featured===!0)),U==="true"&&(R=R.filter(D=>D.discount!==null&&D.discount>0)),R=R.filter(D=>{const M=D.price;return!(M<o.priceRange[0]||M>o.priceRange[1]||o.types.length>0&&!o.types.includes(D.type)||o.origins.length>0&&(!D.origin||!o.origins.includes(D.origin)))}),a){case"price-asc":R.sort((D,M)=>D.price-M.price);break;case"price-desc":R.sort((D,M)=>M.price-D.price);break;case"rating":R.sort((D,M)=>(M.rating||0)-(D.rating||0));break;case"newest":R.sort((D,M)=>{const Q=D.created_at?new Date(D.created_at).getTime():0;return(M.created_at?new Date(M.created_at).getTime():0)-Q});break}d(R)},[c,t,r,a,o,m]);const B=()=>{e(T=>(r?T.set("q",r):T.delete("q"),T))},j=T=>{E({id:T.id,name:T.name,price:T.discount?T.price*(1-T.discount/100):T.price,image:T.images&&T.images.length>0?T.images[0]:"/https://image1ws.indotrading.com/s3/productimages/webp/co263038/p1282683/w600-h600/f43a666d-eca7-4cb4-aa14-450eae21f24f.jpg",type:T.type,quantity:1}),me({title:"Ditambahkan ke keranjang",description:`${T.name} telah ditambahkan ke keranjang belanja Anda.`})},N=T=>{l(O=>{const U=[...O.types],H=U.indexOf(T);return H>-1?U.splice(H,1):U.push(T),{...O,types:U}})},S=T=>{l(O=>{const U=[...O.origins],H=U.indexOf(T);return H>-1?U.splice(H,1):U.push(T),{...O,origins:U}})},k=T=>{l(O=>({...O,priceRange:[T[0],T[1]]}))},I=()=>{l({priceRange:[y,x],types:[],origins:[]})};return i.jsx(Jt,{children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex gap-2 mb-4",children:[i.jsxs("div",{className:"relative flex-grow",children:[i.jsx(he,{type:"text",placeholder:"Cari produk arang...",value:r,onChange:T=>n(T.target.value),className:"pl-10",onKeyDown:T=>{T.key==="Enter"&&B()}}),i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Ul,{className:"h-4 w-4 text-muted-foreground"})})]}),i.jsx(z,{onClick:B,className:"bg-flame-500 hover:bg-flame-600",children:"Search"}),i.jsxs(gi,{children:[i.jsx(Dv,{asChild:!0,children:i.jsx(z,{variant:"outline",size:"icon",className:"flex-shrink-0",children:i.jsx(JH,{className:"h-4 w-4"})})}),i.jsxs(Ls,{side:"right",children:[i.jsxs(xi,{children:[i.jsx(vi,{children:"Filter Produk"}),i.jsx(Em,{children:"Filter produk berdasarkan kategori, harga, dan rating."})]}),i.jsxs("div",{className:"py-4",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Filter"}),i.jsxs(In,{value:a,onValueChange:T=>s(T),children:[i.jsx(gn,{children:i.jsx(Pn,{placeholder:"Urutkan"})}),i.jsxs(xn,{children:[i.jsx(yt,{value:"price-asc",children:"Harga: Terendah ke Tertinggi"}),i.jsx(yt,{value:"price-desc",children:"Harga: Tertinggi ke Terendah"}),i.jsx(yt,{value:"rating",children:"Rating Terbaik"}),i.jsx(yt,{value:"newest",children:"Terbaru"})]})]})]}),i.jsx(Zn,{className:"my-4"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Range Harga"}),i.jsxs("div",{className:"px-2",children:[i.jsx(_q,{max:x,min:y,step:1,value:[o.priceRange[0],o.priceRange[1]],onValueChange:k}),i.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[i.jsxs("span",{children:["Rp ",o.priceRange[0]]}),i.jsxs("span",{children:["Rp ",o.priceRange[1]]})]})]})]}),i.jsx(Zn,{className:"my-4"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Tipe Charcoal"}),i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:p.map(T=>i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:`type-${T}`,checked:o.types.includes(T),onChange:()=>N(T),className:"mr-2"}),i.jsx("label",{htmlFor:`type-${T}`,className:"text-sm",children:T})]},T))})]}),i.jsx(Zn,{className:"my-4"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Asal"}),i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:h.map(T=>i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:`origin-${T}`,checked:o.origins.includes(T),onChange:()=>S(T),className:"mr-2"}),i.jsx("label",{htmlFor:`origin-${T}`,className:"text-sm",children:T})]},T))})]}),i.jsxs("div",{className:"mt-6 flex justify-end",children:[i.jsx(z,{variant:"outline",onClick:I,className:"mr-2",children:"Hapus Semua"}),i.jsx(Dv,{asChild:!0,children:i.jsx(z,{children:"Terapkan Filter"})})]})]})]})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h2",{className:"text-xl font-bold mb-2",children:"Hasil Pencarian"}),i.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[A.length," produk ditemukan"]}),m?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx(er,{className:"h-8 w-8 animate-spin text-flame-500"})}):i.jsx("div",{className:"grid grid-cols-2 gap-4",children:A.map(T=>i.jsxs(Be,{className:"overflow-hidden border-none shadow-sm",children:[i.jsx(mt,{to:`/product/${T.id}`,children:i.jsxs("div",{className:"h-32 bg-charcoal-100 relative",children:[i.jsx("img",{src:T.images&&T.images.length>0?T.images[0]:"/placeholder.svg",alt:T.name,className:"h-full w-full object-cover"}),T.discount&&T.discount>0&&i.jsxs("span",{className:"absolute top-2 right-2 bg-flame-500 text-white text-xs px-2 py-1 rounded-full",children:[T.discount,"% DISKON"]})]})}),i.jsxs(Ce,{className:"p-3",children:[i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:T.type}),i.jsx(mt,{to:`/product/${T.id}`,children:i.jsx("h3",{className:"font-medium text-sm line-clamp-1",children:T.name})})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("div",{children:T.discount&&T.discount>0?i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"font-bold text-sm",children:ye(T.price*(1-T.discount/100))}),i.jsx("span",{className:"text-muted-foreground text-xs line-through",children:ye(T.price)})]}):i.jsx("span",{className:"font-bold text-sm",children:ye(T.price)})}),i.jsx(z,{size:"icon",className:"h-8 w-8 rounded-full bg-flame-500 hover:bg-flame-600",onClick:()=>j(T),children:i.jsx(ub,{className:"h-4 w-4"})})]})]})]},T.id))}),!m&&A.length===0&&i.jsxs("div",{className:"text-center py-10",children:[i.jsx("p",{className:"text-lg font-medium",children:"Tidak ada produk ditemukan"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Coba sesuaikan pencarian atau kriteria filter Anda"})]})]})]})})};function Oge(t,e=[]){let r=[];function n(s,o){const l=v.createContext(o),c=r.length;r=[...r,o];function u(d){const{scope:h,children:f,...p}=d,g=(h==null?void 0:h[t][c])||l,m=v.useMemo(()=>p,Object.values(p));return i.jsx(g.Provider,{value:m,children:f})}function A(d,h){const f=(h==null?void 0:h[t][c])||l,p=v.useContext(f);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,A]}const a=()=>{const s=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[n,Rge(a,...e)]}function Rge(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...l,...d}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var r_="rovingFocusGroup.onEntryFocus",Uge={bubbles:!1,cancelable:!0},tw="RovingFocusGroup",[x2,Vq,Mge]=ib(tw),[Qge,rw]=Oge(tw,[Mge]),[Lge,Hge]=Qge(tw),Kq=v.forwardRef((t,e)=>i.jsx(x2.Provider,{scope:t.__scopeRovingFocusGroup,children:i.jsx(x2.Slot,{scope:t.__scopeRovingFocusGroup,children:i.jsx($ge,{...t,ref:e})})}));Kq.displayName=tw;var $ge=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:A=!1,...d}=t,h=v.useRef(null),f=bt(e,h),p=nh(s),[g=null,m]=As({prop:o,defaultProp:l,onChange:c}),[b,y]=v.useState(!1),w=Qr(u),x=Vq(r),C=v.useRef(!1),[E,B]=v.useState(0);return v.useEffect(()=>{const j=h.current;if(j)return j.addEventListener(r_,w),()=>j.removeEventListener(r_,w)},[w]),i.jsx(Lge,{scope:r,orientation:n,dir:p,loop:a,currentTabStopId:g,onItemFocus:v.useCallback(j=>m(j),[m]),onItemShiftTab:v.useCallback(()=>y(!0),[]),onFocusableItemAdd:v.useCallback(()=>B(j=>j+1),[]),onFocusableItemRemove:v.useCallback(()=>B(j=>j-1),[]),children:i.jsx(et.div,{tabIndex:b||E===0?-1:0,"data-orientation":n,...d,ref:f,style:{outline:"none",...t.style},onMouseDown:Oe(t.onMouseDown,()=>{C.current=!0}),onFocus:Oe(t.onFocus,j=>{const N=!C.current;if(j.target===j.currentTarget&&N&&!b){const S=new CustomEvent(r_,Uge);if(j.currentTarget.dispatchEvent(S),!S.defaultPrevented){const k=x().filter(H=>H.focusable),I=k.find(H=>H.active),T=k.find(H=>H.id===g),U=[I,T,...k].filter(Boolean).map(H=>H.ref.current);Gq(U,A)}}C.current=!1}),onBlur:Oe(t.onBlur,()=>y(!1))})})}),qq="RovingFocusGroupItem",zq=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,...o}=t,l=ci(),c=s||l,u=Hge(qq,r),A=u.currentTabStopId===c,d=Vq(r),{onFocusableItemAdd:h,onFocusableItemRemove:f}=u;return v.useEffect(()=>{if(n)return h(),()=>f()},[n,h,f]),i.jsx(x2.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:i.jsx(et.span,{tabIndex:A?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:Oe(t.onMouseDown,p=>{n?u.onItemFocus(c):p.preventDefault()}),onFocus:Oe(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Oe(t.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){u.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const g=qge(p,u.orientation,u.dir);if(g!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let b=d().filter(y=>y.focusable).map(y=>y.ref.current);if(g==="last")b.reverse();else if(g==="prev"||g==="next"){g==="prev"&&b.reverse();const y=b.indexOf(p.currentTarget);b=u.loop?zge(b,y+1):b.slice(y+1)}setTimeout(()=>Gq(b))}})})})});zq.displayName=qq;var Vge={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Kge(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function qge(t,e,r){const n=Kge(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Vge[n]}function Gq(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function zge(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Wq=Kq,Xq=zq,iI="Tabs",[Gge,JLe]=Ea(iI,[rw]),Yq=rw(),[Wge,oI]=Gge(iI),Jq=v.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,A=nh(l),[d,h]=As({prop:n,onChange:a,defaultProp:s});return i.jsx(Wge,{scope:r,baseId:ci(),value:d,onValueChange:h,orientation:o,dir:A,activationMode:c,children:i.jsx(et.div,{dir:A,"data-orientation":o,...u,ref:e})})});Jq.displayName=iI;var Zq="TabsList",ez=v.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...a}=t,s=oI(Zq,r),o=Yq(r);return i.jsx(Wq,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:i.jsx(et.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:e})})});ez.displayName=Zq;var tz="TabsTrigger",rz=v.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=t,o=oI(tz,r),l=Yq(r),c=sz(o.baseId,n),u=iz(o.baseId,n),A=n===o.value;return i.jsx(Xq,{asChild:!0,...l,focusable:!a,active:A,children:i.jsx(et.button,{type:"button",role:"tab","aria-selected":A,"aria-controls":u,"data-state":A?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...s,ref:e,onMouseDown:Oe(t.onMouseDown,d=>{!a&&d.button===0&&d.ctrlKey===!1?o.onValueChange(n):d.preventDefault()}),onKeyDown:Oe(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(n)}),onFocus:Oe(t.onFocus,()=>{const d=o.activationMode!=="manual";!A&&!a&&d&&o.onValueChange(n)})})})});rz.displayName=tz;var nz="TabsContent",az=v.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...o}=t,l=oI(nz,r),c=sz(l.baseId,n),u=iz(l.baseId,n),A=n===l.value,d=v.useRef(A);return v.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(fa,{present:a||A,children:({present:h})=>i.jsx(et.div,{"data-state":A?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:h&&s})})});az.displayName=nz;function sz(t,e){return`${t}-trigger-${e}`}function iz(t,e){return`${t}-content-${e}`}var Xge=Jq,oz=ez,lz=rz,cz=az;const ja=Xge,da=v.forwardRef(({className:t,...e},r)=>i.jsx(oz,{ref:r,className:fe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));da.displayName=oz.displayName;const kt=v.forwardRef(({className:t,...e},r)=>i.jsx(lz,{ref:r,className:fe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));kt.displayName=lz.displayName;const Yt=v.forwardRef(({className:t,...e},r)=>i.jsx(cz,{ref:r,className:fe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Yt.displayName=cz.displayName;const Yge=()=>{const{id:t}=Qp(),[e,r]=v.useState(null),[n,a]=v.useState(!0),[s,o]=v.useState(""),[l,c]=v.useState(1),[u,A]=v.useState(0),{addItem:d}=qb(),h=Rt();v.useEffect(()=>((async()=>{if(t)try{a(!0);const{data:y,error:w}=await Z.from("products").select("*").eq("id",t).single();if(w)throw w;y?(r(y),document.title=`${y.name} - Toko Arang`):o("Produk tidak ditemukan")}catch(y){console.error("Error fetching product:",y),o(y.message||"Gagal memuat produk")}finally{a(!1)}})(),()=>{r(null),c(1),A(0)}),[t]);const f=()=>{e&&(d({id:e.id,name:e.name,price:e.discount?e.price*(1-e.discount/100):e.price,image:e.images&&e.images.length>0?e.images[0]:"/placeholder.svg",type:e.type,quantity:l}),me({title:"Ditambahkan ke keranjang",description:`${l} produk ditambahkan ke keranjang Anda`}))},p=()=>{c(b=>Math.max(1,b-1))},g=()=>{c(b=>b+1)};if(n)return i.jsx(Jt,{children:i.jsxs("div",{className:"flex flex-col items-center justify-center h-screen p-4",children:[i.jsx(er,{className:"h-8 w-8 animate-spin text-flame-500 mb-2"}),i.jsx("p",{className:"text-muted-foreground",children:"Memuat detail produk..."})]})});if(s||!e)return i.jsx(Jt,{children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(z,{variant:"ghost",className:"p-0 mr-2",onClick:()=>h(-1),children:i.jsx(Ds,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-xl font-bold",children:"Produk Tidak Ditemukan"})]}),i.jsxs("div",{className:"text-center py-10",children:[i.jsx("p",{className:"text-muted-foreground mb-4",children:s||"Produk yang diminta tidak dapat ditemukan."}),i.jsx(mt,{to:"/search",children:i.jsx(z,{className:"bg-flame-500 hover:bg-flame-600",children:"Jelajahi Produk"})})]})]})});const m=e.discount?e.price*(1-e.discount/100):e.price;return i.jsx(Jt,{children:i.jsxs("div",{className:"pb-24",children:[i.jsxs("div",{className:"sticky top-0 z-10 bg-background p-4 flex items-center shadow-sm",children:[i.jsx(z,{variant:"ghost",className:"p-0 mr-2",onClick:()=>h(-1),children:i.jsx(Ds,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-medium line-clamp-1",children:e.name})]}),i.jsxs("div",{className:"bg-charcoal-50 h-72 relative",children:[e.images&&e.images.length>0?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:e.images[u],alt:e.name,className:"h-full w-full object-contain"}),e.images.length>1&&i.jsx("div",{className:"absolute bottom-2 left-0 right-0 flex justify-center gap-2",children:e.images.map((b,y)=>i.jsx("button",{className:`w-2 h-2 rounded-full ${u===y?"bg-flame-500":"bg-white bg-opacity-50"}`,onClick:()=>A(y)},y))})]}):i.jsx("div",{className:"h-full w-full flex items-center justify-center bg-charcoal-100",children:i.jsx("p",{className:"text-muted-foreground",children:"Gambar tidak tersedia"})}),e.discount&&e.discount>0&&i.jsxs("div",{className:"absolute top-2 right-2 bg-flame-500 text-white text-sm px-3 py-1 rounded-full",children:[e.discount,"% DISKON"]})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:e.type}),i.jsx("h2",{className:"text-xl font-bold",children:e.name})]}),i.jsx("div",{className:"text-right",children:e.discount&&e.discount>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"font-bold text-lg text-flame-500",children:ye(m)}),i.jsx("div",{className:"text-sm text-muted-foreground line-through",children:ye(e.price)})]}):i.jsx("div",{className:"font-bold text-lg",children:ye(e.price)})})]}),i.jsxs("div",{className:"flex items-center mt-1",children:[i.jsx("div",{className:"flex mr-2",children:[1,2,3,4,5].map(b=>i.jsx(vre,{size:16,className:`${b<=(e.rating||0)?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},b))}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[e.rating||0," (",e.review_count||0," ulasan)"]})]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs ${e.in_stock?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:e.in_stock?"Tersedia":"Habis"}),e.origin&&i.jsxs("span",{className:"inline-block ml-2 text-xs text-muted-foreground",children:["Asal: ",e.origin]})]})]}),i.jsx(Zn,{className:"my-4"}),i.jsxs(ja,{defaultValue:"description",className:"mt-4",children:[i.jsxs(da,{className:"w-full grid grid-cols-3",children:[i.jsx(kt,{value:"description",children:"Deskripsi"}),i.jsx(kt,{value:"specifications",children:"Spesifikasi"}),i.jsx(kt,{value:"reviews",children:"Ulasan"})]}),i.jsxs(Yt,{value:"description",className:"mt-4",children:[i.jsx("p",{className:"text-sm",children:e.description||"Tidak ada deskripsi tersedia."}),e.seller&&i.jsx("div",{children:i.jsxs("p",{className:"text-sm mt-4",children:[i.jsx("span",{className:"font-medium",children:"Penjual:"})," ",e.seller]})}),i.jsxs("p",{className:"text-sm mt-2",children:[i.jsx("span",{className:"font-medium",children:"Tipe:"})," ",e.type]}),e.weight&&i.jsxs("p",{className:"text-sm mt-2",children:[i.jsx("span",{className:"font-medium",children:"Berat:"})," ",e.weight," kg"]})]}),i.jsx(Yt,{value:"specifications",className:"mt-4",children:e.specifications&&Object.keys(e.specifications).length>0?i.jsx("div",{className:"rounded-md border overflow-hidden",children:i.jsx("table",{className:"min-w-full",children:i.jsx("tbody",{children:Object.entries(e.specifications).map(([b,y],w)=>i.jsxs("tr",{className:w%2===0?"bg-secondary":"",children:[i.jsx("td",{className:"px-4 py-2 text-sm font-medium",children:b}),i.jsx("td",{className:"px-4 py-2 text-sm",children:String(y)})]},b))})})}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Tidak ada spesifikasi tersedia."})}),i.jsx(Yt,{value:"reviews",className:"mt-4",children:i.jsx("div",{className:"space-y-4",children:e.review_count&&e.review_count>0?i.jsx(i.Fragment,{children:i.jsx("p",{className:"text-sm",children:"Ulasan akan ditampilkan di sini."})}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Belum ada ulasan."})})})]})]}),i.jsx("div",{className:"fixed bottom-16 left-0 right-0 max-w-md mx-auto bg-background border-t p-4 z-10",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center border rounded-md",children:[i.jsx(z,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-r-none",onClick:p,disabled:l<=1,children:i.jsx(t$,{className:"h-4 w-4"})}),i.jsx("span",{className:"px-4 py-2 border-l border-r min-w-[40px] text-center",children:l}),i.jsx(z,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-l-none",onClick:g,children:i.jsx(Kd,{className:"h-4 w-4"})})]}),i.jsxs(z,{className:"flex-1 ml-4 bg-flame-500 hover:bg-flame-600",onClick:f,disabled:!e.in_stock,children:[i.jsx(ub,{className:"h-4 w-4 mr-2"}),ye(m*l)]})]})})]})})},Jge=()=>{const{items:t,updateQuantity:e,removeItem:r,total:n,clearCart:a}=qb(),{user:s}=Hr(),o=Rt(),l=A=>{r(A),me({title:"Item dihapus",description:"Item telah dihapus dari keranjang Anda."})},c=(A,d)=>{d<=0?(r(A),me({title:"Item dihapus",description:"Item telah dihapus dari keranjang Anda."})):e(A,d)},u=()=>{if(t.length===0){me({title:"Keranjang kosong",description:"Silakan tambahkan item ke keranjang Anda sebelum checkout",variant:"destructive"});return}if(!s){me({title:"Login Diperlukan",description:"Silakan login untuk melanjutkan ke checkout",variant:"destructive"});return}o("/checkout")};return i.jsx(Jt,{children:i.jsxs("div",{className:"p-4",children:[i.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Keranjang Belanja"}),t.length>0?i.jsxs("div",{children:[i.jsx("div",{className:"space-y-4 mb-6",children:t.map(A=>i.jsx(Be,{className:"overflow-hidden shadow-sm",children:i.jsx(Ce,{className:"p-3",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"h-20 w-20 bg-charcoal-100 rounded flex-shrink-0",children:i.jsx("img",{src:A.image||"/placeholder.svg",alt:A.name,className:"h-full w-full object-cover"})}),i.jsxs("div",{className:"flex-grow",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:A.type}),i.jsx(mt,{to:`/product/${A.id}`,children:i.jsx("h3",{className:"font-medium text-sm line-clamp-1 mb-1",children:A.name})}),i.jsx("span",{className:"font-bold",children:ye(A.price)})]}),i.jsx("button",{onClick:()=>l(A.id),className:"text-muted-foreground hover:text-destructive",children:i.jsx(tm,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex justify-between items-center mt-2",children:[i.jsxs("div",{className:"flex items-center border rounded-md",children:[i.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-r-none p-0",onClick:()=>c(A.id,A.quantity-1),children:i.jsx(t$,{className:"h-3 w-3"})}),i.jsx("span",{className:"px-3 py-1 text-sm border-l border-r",children:A.quantity}),i.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-l-none p-0",onClick:()=>c(A.id,A.quantity+1),children:i.jsx(Kd,{className:"h-3 w-3"})})]}),i.jsx("span",{className:"font-bold",children:ye(A.price*A.quantity)})]})]})]})})},A.id))}),i.jsxs("button",{onClick:()=>{a(),me({title:"Keranjang dikosongkan",description:"Semua item telah dihapus dari keranjang Anda."})},className:"text-sm text-muted-foreground hover:text-destructive mb-4 flex items-center",children:[i.jsx(tm,{className:"h-4 w-4 mr-1"}),"Kosongkan keranjang"]}),i.jsxs("div",{className:"bg-secondary rounded-lg p-4 mb-6",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{children:"Subtotal"}),i.jsx("span",{className:"font-medium",children:ye(n)})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{children:"Pengiriman"}),i.jsx("span",{className:"font-medium",children:ye(5e3)})]}),i.jsx(Zn,{className:"my-2"}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-bold",children:"Total"}),i.jsx("span",{className:"font-bold",children:ye(n+5e3)})]})]}),i.jsx(z,{onClick:u,className:"w-full bg-flame-500 hover:bg-flame-600",children:s?"Lanjut ke Pembayaran":"Login untuk Checkout"})]}):i.jsxs("div",{className:"text-center py-10",children:[i.jsx("div",{className:"text-charcoal-400 mb-4",children:i.jsx(Zge,{size:64,className:"mx-auto"})}),i.jsx("h2",{className:"text-xl font-medium mb-2",children:"Keranjang Anda kosong"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Sepertinya Anda belum menambahkan produk arang ke keranjang."}),i.jsx(mt,{to:"/search",children:i.jsx(z,{className:"bg-flame-500 hover:bg-flame-600",children:"Jelajahi Produk"})})]})]})})},Zge=({size:t=24,className:e=""})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[i.jsx("circle",{cx:"8",cy:"21",r:"1"}),i.jsx("circle",{cx:"19",cy:"21",r:"1"}),i.jsx("path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"})]});var lI="Radio",[e0e,uz]=Ea(lI),[t0e,r0e]=e0e(lI),Az=v.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:s,disabled:o,value:l="on",onCheck:c,form:u,...A}=t,[d,h]=v.useState(null),f=bt(e,m=>h(m)),p=v.useRef(!1),g=d?u||!!d.closest("form"):!0;return i.jsxs(t0e,{scope:r,checked:a,disabled:o,children:[i.jsx(et.button,{type:"button",role:"radio","aria-checked":a,"data-state":fz(a),"data-disabled":o?"":void 0,disabled:o,value:l,...A,ref:f,onClick:Oe(t.onClick,m=>{a||c==null||c(),g&&(p.current=m.isPropagationStopped(),p.current||m.stopPropagation())})}),g&&i.jsx(n0e,{control:d,bubbles:!p.current,name:n,value:l,checked:a,required:s,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});Az.displayName=lI;var dz="RadioIndicator",hz=v.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...a}=t,s=r0e(dz,r);return i.jsx(fa,{present:n||s.checked,children:i.jsx(et.span,{"data-state":fz(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:e})})});hz.displayName=dz;var n0e=t=>{const{control:e,checked:r,bubbles:n=!0,...a}=t,s=v.useRef(null),o=Wp(r),l=Op(e);return v.useEffect(()=>{const c=s.current,u=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&d){const h=new Event("click",{bubbles:n});d.call(c,r),c.dispatchEvent(h)}},[o,r,n]),i.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:s,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function fz(t){return t?"checked":"unchecked"}var a0e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],cI="RadioGroup",[s0e,ZLe]=Ea(cI,[rw,uz]),mz=rw(),pz=uz(),[i0e,o0e]=s0e(cI),gz=v.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:s,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:A=!0,onValueChange:d,...h}=t,f=mz(r),p=nh(u),[g,m]=As({prop:s,defaultProp:a,onChange:d});return i.jsx(i0e,{scope:r,name:n,required:o,disabled:l,value:g,onValueChange:m,children:i.jsx(Wq,{asChild:!0,...f,orientation:c,dir:p,loop:A,children:i.jsx(et.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:p,...h,ref:e})})})});gz.displayName=cI;var xz="RadioGroupItem",vz=v.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...a}=t,s=o0e(xz,r),o=s.disabled||n,l=mz(r),c=pz(r),u=v.useRef(null),A=bt(e,u),d=s.value===a.value,h=v.useRef(!1);return v.useEffect(()=>{const f=g=>{a0e.includes(g.key)&&(h.current=!0)},p=()=>h.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",p),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",p)}},[]),i.jsx(Xq,{asChild:!0,...l,focusable:!o,active:d,children:i.jsx(Az,{disabled:o,required:s.required,checked:d,...c,...a,name:s.name,ref:A,onCheck:()=>s.onValueChange(a.value),onKeyDown:Oe(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:Oe(a.onFocus,()=>{var f;h.current&&((f=u.current)==null||f.click())})})})});vz.displayName=xz;var l0e="RadioGroupIndicator",yz=v.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,a=pz(r);return i.jsx(hz,{...a,...n,ref:e})});yz.displayName=l0e;var bz=gz,wz=vz,c0e=yz;const ff=v.forwardRef(({className:t,...e},r)=>i.jsx(bz,{className:fe("grid gap-2",t),...e,ref:r}));ff.displayName=bz.displayName;const pc=v.forwardRef(({className:t,...e},r)=>i.jsx(wz,{ref:r,className:fe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:i.jsx(c0e,{className:"flex items-center justify-center",children:i.jsx(Jte,{className:"h-2.5 w-2.5 fill-current text-current"})})}));pc.displayName=wz.displayName;var u0e="Label",_z=v.forwardRef((t,e)=>i.jsx(et.label,{...t,ref:e,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));_z.displayName=u0e;var Bz=_z;const A0e=Vd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Te=v.forwardRef(({className:t,...e},r)=>i.jsx(Bz,{ref:r,className:fe(A0e(),t),...e}));Te.displayName=Bz.displayName;let l0;const d0e=new Uint8Array(16);function h0e(){if(!l0&&(l0=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!l0))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l0(d0e)}const Cn=[];for(let t=0;t<256;++t)Cn.push((t+256).toString(16).slice(1));function f0e(t,e=0){return Cn[t[e+0]]+Cn[t[e+1]]+Cn[t[e+2]]+Cn[t[e+3]]+"-"+Cn[t[e+4]]+Cn[t[e+5]]+"-"+Cn[t[e+6]]+Cn[t[e+7]]+"-"+Cn[t[e+8]]+Cn[t[e+9]]+"-"+Cn[t[e+10]]+Cn[t[e+11]]+Cn[t[e+12]]+Cn[t[e+13]]+Cn[t[e+14]]+Cn[t[e+15]]}const m0e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),HO={randomUUID:m0e};function pn(t,e,r){if(HO.randomUUID&&!t)return HO.randomUUID();t=t||{};const n=t.random||(t.rng||h0e)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,f0e(n)}const $o={async getVouchers(t=100,e=0,r){try{console.log("Fetching vouchers with params:",{limit:t,offset:e,filters:r});const{error:n}=await Z.from("vouchers").select("count",{count:"exact",head:!0});if(n)return console.error("Error checking vouchers table:",n),n.code==="PGRST116"||n.message&&n.message.includes("does not exist")?{data:[],error:new Error("Tabel vouchers belum dibuat. Klik tombol Inisialisasi Data untuk membuat tabel.")}:{data:[],error:n};let a=Z.from("vouchers").select("*").order("created_at",{ascending:!1});r&&(r.is_active!==void 0&&(a=a.eq("is_active",r.is_active)),r.search&&(a=a.or(`code.ilike.%${r.search}%,description.ilike.%${r.search}%`))),a=a.range(e,e+t-1),console.log("Executing query for vouchers...");const{data:s,error:o}=await a;return o?(console.error("Error in vouchers query:",o),{data:[],error:o}):(console.log("Successfully fetched vouchers:",(s==null?void 0:s.length)||0,"results"),{data:s,error:null})}catch(n){return console.error("Error fetching vouchers:",n),{data:[],error:n}}},async addVoucher(t){try{const e=["code","discount_type","discount_value","start_date","end_date","is_active"];for(const o of e)if(!t[o])throw new Error(`Field ${o} wajib diisi`);const{data:r,error:n}=await Z.from("vouchers").select("code").eq("code",t.code).maybeSingle();if(n)throw console.error("Error checking unique voucher:",n),new Error(`Gagal memeriksa kode voucher: ${n.message||"Unknown error"}`);if(r)throw new Error(`Kode voucher '${t.code}' sudah digunakan`);if(t.id||(t.id=pn()),t.usage_count===void 0&&(t.usage_count=0),t.created_at||(t.created_at=new Date().toISOString()),typeof t.start_date=="string"&&!t.start_date.includes("T"))try{t.start_date=new Date(`${t.start_date}T00:00:00`).toISOString()}catch{throw new Error(`Format tanggal mulai tidak valid: ${t.start_date}`)}if(typeof t.end_date=="string"&&!t.end_date.includes("T"))try{t.end_date=new Date(`${t.end_date}T23:59:59`).toISOString()}catch{throw new Error(`Format tanggal berakhir tidak valid: ${t.end_date}`)}console.log("Saving voucher data:",JSON.stringify(t,null,2));const{data:a,error:s}=await Z.from("vouchers").insert(t).select().single();if(s)throw console.error("Supabase error details:",s),new Error(`Gagal menyimpan voucher: ${s.message||"Unknown database error"}`);return{data:a,error:null}}catch(e){const r=e.message||"Terjadi kesalahan yang tidak diketahui";return console.error("Error adding voucher:",r),{data:null,error:new Error(r)}}},async updateVoucher(t,e){try{if(!t)throw new Error("ID voucher tidak boleh kosong");if(e.code){const{data:a,error:s}=await Z.from("vouchers").select("code").eq("code",e.code).neq("id",t).maybeSingle();if(s)throw console.error("Error checking unique voucher:",s),new Error(`Gagal memeriksa kode voucher: ${s.message||"Unknown error"}`);if(a)throw new Error(`Kode voucher '${e.code}' sudah digunakan`)}if(e.start_date&&typeof e.start_date=="string"&&!e.start_date.includes("T"))try{e.start_date=new Date(`${e.start_date}T00:00:00`).toISOString()}catch{throw new Error(`Format tanggal mulai tidak valid: ${e.start_date}`)}if(e.end_date&&typeof e.end_date=="string"&&!e.end_date.includes("T"))try{e.end_date=new Date(`${e.end_date}T23:59:59`).toISOString()}catch{throw new Error(`Format tanggal berakhir tidak valid: ${e.end_date}`)}e.updated_at=new Date().toISOString(),console.log("Updating voucher data:",JSON.stringify({id:t,voucher:e},null,2));const{data:r,error:n}=await Z.from("vouchers").update(e).eq("id",t).select().single();if(n)throw console.error("Supabase error details:",n),new Error(`Gagal memperbarui voucher: ${n.message||"Unknown database error"}`);return{data:r,error:null}}catch(r){const n=r.message||"Terjadi kesalahan yang tidak diketahui";return console.error("Error updating voucher:",n),{data:null,error:new Error(n)}}},async deleteVoucher(t){try{const{error:e}=await Z.from("vouchers").delete().eq("id",t);if(e)throw e;return{data:null,error:null}}catch(e){return console.error("Error deleting voucher:",e),{data:null,error:e}}},async toggleVoucherStatus(t,e){try{const{data:r,error:n}=await Z.from("vouchers").update({is_active:e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return{data:r,error:null}}catch(r){return console.error("Error toggling voucher status:",r),{data:null,error:r}}},async getVoucherByCode(t){try{const{data:e,error:r}=await Z.from("vouchers").select("*").eq("code",t).eq("is_active",!0).single();if(r){if(r.code==="PGRST116")return{data:null,error:new Error("Kode voucher tidak valid atau sudah tidak aktif")};throw r}const n=new Date,a=new Date(e.start_date),s=new Date(e.end_date);return n<a?{data:null,error:new Error("Voucher belum berlaku")}:n>s?{data:null,error:new Error("Voucher sudah berakhir")}:e.usage_limit&&e.usage_count>=e.usage_limit?{data:null,error:new Error("Voucher sudah mencapai batas penggunaan")}:{data:e,error:null}}catch(e){return console.error("Error getting voucher by code:",e),{data:null,error:e}}},calculateDiscount(t,e){if(t.min_purchase&&e<t.min_purchase)return 0;let r=0;return t.discount_type==="percentage"?(r=e*(t.discount_value/100),t.max_discount&&r>t.max_discount&&(r=t.max_discount)):(r=t.discount_value,r>e&&(r=e)),r},async incrementUsageCount(t){try{const{data:e,error:r}=await Z.from("vouchers").select("usage_count").eq("id",t).single();if(r)throw r;const n=(e.usage_count||0)+1,{data:a,error:s}=await Z.from("vouchers").update({usage_count:n,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(s)throw s;return{data:a,error:null}}catch(e){return console.error("Error incrementing voucher usage count:",e),{data:null,error:e}}}},Cc={async getTransactions(t=100,e=0,r){try{let n=Z.from("coal_inventory_transactions").select("*").order("transaction_date",{ascending:!1}).range(e,e+t-1);r&&(r.transaction_type&&(n=n.eq("transaction_type",r.transaction_type)),r.from_date&&(n=n.gte("transaction_date",r.from_date)),r.to_date&&(n=n.lte("transaction_date",r.to_date)),r.search&&(n=n.or(`source_destination.ilike.%${r.search}%,document_reference.ilike.%${r.search}%,notes.ilike.%${r.search}%`)));const{data:a,error:s}=await n;return{data:a,error:s}}catch(n){return console.error("Error fetching coal inventory transactions:",n),{data:null,error:n}}},async getSummary(){try{const{data:t,error:e}=await Z.from("coal_inventory_summary").select("*").single();return{data:t,error:e}}catch(t){return console.error("Error fetching coal inventory summary:",t),{data:null,error:t}}},async addTransaction(t){try{const e=["transaction_date","transaction_type","quantity_kg","source_destination","created_by"];for(const a of e)if(!t[a])throw new Error(`Field ${a} wajib diisi`);t.id||(t.id=pn()),t.created_at||(t.created_at=new Date().toISOString()),t.price_per_kg&&t.quantity_kg&&(t.total_amount=t.price_per_kg*t.quantity_kg),console.log("Menambahkan transaksi baru:",t);const{data:r,error:n}=await Z.from("coal_inventory_transactions").insert(t).select().single();if(n)throw console.error("Database error saat menambahkan transaksi:",n),n;if(!r)throw new Error("Tidak ada data yang dikembalikan setelah insert");return await this.updateInventorySummary(),{data:r,error:null}}catch(e){return console.error("Error adding coal inventory transaction:",e),{data:null,error:e}}},async updateTransaction(t,e){try{e.price_per_kg&&e.quantity_kg&&(e.total_amount=e.price_per_kg*e.quantity_kg);const{data:r,error:n}=await Z.from("coal_inventory_transactions").update(e).eq("id",t).select().single();if(n)throw n;return await this.updateInventorySummary(),{data:r,error:null}}catch(r){return console.error("Error updating coal inventory transaction:",r),{data:null,error:r}}},async deleteTransaction(t){try{const{error:e}=await Z.from("coal_inventory_transactions").delete().eq("id",t);if(e)throw e;return await this.updateInventorySummary(),{data:null,error:null}}catch(e){return console.error("Error deleting coal inventory transaction:",e),{data:null,error:e}}},async reduceStockFromOrder(t,e,r){try{const n=e.reduce((o,l)=>l.productName.toLowerCase().includes("arang")?o+l.quantity:o,0);if(n<=0)return!0;const a={id:pn(),transaction_date:new Date().toISOString(),transaction_type:"outgoing",quantity_kg:n,source_destination:`Order #${t.substring(0,8)}`,notes:`Pengurangan stok otomatis untuk pesanan #${t.substring(0,8)}`,created_by:r,created_at:new Date().toISOString(),document_reference:t},{error:s}=await Z.from("coal_inventory_transactions").insert(a);return s?(console.error("Error reducing coal stock:",s),!1):(await this.updateInventorySummary(),!0)}catch(n){return console.error("Error in reduceStockFromOrder:",n),!1}},async restoreStockFromCancelledOrder(t,e,r){try{const n=e.reduce((l,c)=>c.productName.toLowerCase().includes("arang")?l+c.quantity:l,0);if(n<=0)return!0;const{data:a}=await Z.from("coal_inventory_transactions").select("*").eq("document_reference",t).eq("transaction_type","outgoing");if(!a||a.length===0)return console.log(`No previous stock reduction found for order ${t}`),!0;const s={id:pn(),transaction_date:new Date().toISOString(),transaction_type:"incoming",quantity_kg:n,source_destination:`Cancelled Order #${t.substring(0,8)}`,notes:`Pengembalian stok otomatis untuk pesanan #${t.substring(0,8)} yang dibatalkan`,created_by:r,created_at:new Date().toISOString(),document_reference:t,quality_grade:"standard",vehicle_info:"cancelled_order_return"},{error:o}=await Z.from("coal_inventory_transactions").insert(s);return o?(console.error("Error restoring coal stock:",o),!1):(await this.updateInventorySummary(),!0)}catch(n){return console.error("Error in restoreStockFromCancelledOrder:",n),!1}},async updateInventorySummary(){try{const{data:t,error:e}=await Z.from("coal_inventory_transactions").select("*").order("transaction_date",{ascending:!0});if(e){console.error("Error fetching coal transactions:",e);return}if(!t||t.length===0)return;let r=0,n=0,a=0,s=0,o=0,l=0,c=0,u="",A=0;t.forEach(w=>{const x=w.transaction_type==="incoming"&&w.vehicle_info==="cancelled_order_return";if(w.transaction_type==="incoming")x?A+=w.quantity_kg:r+=w.quantity_kg,w.quality_grade==="premium"?a+=w.quantity_kg:w.quality_grade==="standard"?s+=w.quantity_kg:w.quality_grade==="economy"&&(o+=w.quantity_kg),!x&&w.price_per_kg&&w.price_per_kg>0&&(l+=w.price_per_kg*w.quantity_kg,c+=w.quantity_kg);else if(w.transaction_type==="outgoing"){n+=w.quantity_kg;let C=w.quantity_kg;if(o>0){const E=Math.min(o,C);o-=E,C-=E}if(C>0&&s>0){const E=Math.min(s,C);s-=E,C-=E}if(C>0&&a>0){const E=Math.min(a,C);a-=E}}(!u||new Date(w.transaction_date)>new Date(u))&&(u=w.transaction_date)});const d=r-n+A,h=c>0?l/c:0,f=d*h;console.log("Inventory Summary Calculation:",{totalIncoming:r,totalOutgoing:n,cancelledOrderStock:A,currentStock:d,totalPremium:a,totalStandard:s,totalEconomy:o});const p=Math.max(0,a),g=Math.max(0,s),m=Math.max(0,o),b={total_incoming_kg:r,total_outgoing_kg:n,current_stock_kg:d,average_price_per_kg:h,last_transaction_date:u,stock_value:f,premium_stock_kg:p,standard_stock_kg:g,economy_stock_kg:m},{data:y}=await Z.from("coal_inventory_summary").select("id").limit(1);y&&y.length>0?await Z.from("coal_inventory_summary").update(b).eq("id",y[0].id):await Z.from("coal_inventory_summary").insert({...b,id:pn()})}catch(t){console.error("Error updating inventory summary:",t)}}};QT(rh);const p0e=async t=>{try{const{data:e,error:r}=await Z.from("profiles").select("name, email, phone").eq("id",t.user_id).single();if(r)throw console.error("Error fetching customer data:",r),r;console.log("Skipping Firebase notifications due to API configuration issues");try{const n={...t};let a={street:"N/A",city:"N/A",province:"N/A",postal_code:"N/A"};if(t.shipping_address_id){const{data:f,error:p}=await Z.from("addresses").select("street, city, province, postal_code, district, recipient_name, recipient_phone").eq("id",t.shipping_address_id).single();!p&&f&&(a=f)}let s={name:"JPC Delivery",cost:0,provider:"JPC",service:"Regular"};const o=t.shipping_id||t.shipping_method_id;if(o){const{data:f,error:p}=await Z.from("shipping_methods").select("name, provider, service, cost").eq("id",o).single();!p&&f&&(s=f,n.shipping_cost=f.cost)}let l=null;const c=t.discount_id||t.voucher_id;if(c){const{data:f,error:p}=await Z.from("discounts").select("code, type, value, description").eq("id",c).single();!p&&f&&(l=f,n.discount_data=f)}let u={name:"Transfer Bank",bank_name:"SeaBank",account_number:"901958730549"};if(t.payment_method){const f=typeof t.payment_method=="string"?t.payment_method_id||"":t.payment_method;if(f){const{data:p,error:g}=await Z.from("payment_methods").select("name, bank_name, account_number, description").eq("id",f).single();!g&&p&&(u=p)}}const{data:A,error:d}=await Z.from("order_items").select("product_name, quantity, price, product_id, variant, unit").eq("order_id",t.id),h=!d&&Array.isArray(A)?A:[];if(console.log("WhatsApp Order Data:",{orderID:n.id,customerPhone:e==null?void 0:e.phone,itemsCount:h.length,hasShippingData:!!s,hasPaymentData:!!u}),e!=null&&e.phone)try{e.phone.trim()===""?console.log("Customer phone number is empty, skipping WhatsApp notification"):(console.log("Sending WhatsApp notification to customer:",e.phone),await Nme(n,e,a,h,s,u)?console.log(" WhatsApp notification sent successfully to customer:",e.phone):console.error(" Failed to send WhatsApp notification to customer"))}catch(f){console.error("Error sending WhatsApp notification to customer:",f)}else console.log("Customer has no phone number, WhatsApp notification will be skipped");console.log("Admin WhatsApp notifications will be handled by notification-service.ts to avoid duplicates")}catch(n){console.error("Error in WhatsApp notification process:",n)}return!0}catch(e){return console.error("Error sending notification to customer:",e),!1}},ko=[{bank:"SeaBank",accountNumber:"901958730549",accountName:"Yoga Prasetya"},{bank:"DANA",accountNumber:"081394586882",accountName:"Yoga Prasetya"}],$O=t=>({"bank-transfer":"Transfer Bank",cod:"Bayar di Tempat (COD)",qris:"QRIS","credit-card":"Kartu Kredit",ewallet:"E-Wallet"})[t]||t,g0e=()=>{var W,re,le;const{items:t,clearCart:e}=qb(),r=Rt(),{user:n,profile:a}=Hr(),s=t.reduce((ne,ce)=>ne+ce.price*ce.quantity,0),o=parseFloat(s.toFixed(2)),[l,c]=v.useState("bank-transfer"),[u,A]=v.useState(ko[0].bank),[d,h]=v.useState(""),[f,p]=v.useState(""),[g,m]=v.useState([]),[b,y]=v.useState(!1),[w,x]=v.useState([]),[C,E]=v.useState(""),[B,j]=v.useState(!1),[N,S]=v.useState(null),[k,I]=v.useState(0),[T,O]=v.useState(!1),[U,H]=v.useState(null),R=((W=w.find(ne=>ne.id===d))==null?void 0:W.cost)||0,D=o-k,M=D+R;v.useEffect(()=>{n||(r("/cart"),me({title:"Login Diperlukan",description:"Silakan login untuk melanjutkan ke checkout",variant:"destructive"}))},[n,r]),v.useEffect(()=>{t.length===0&&r("/cart")},[t,r]),v.useEffect(()=>{(async()=>{if(n)try{const{data:ce,error:Ae}=await Z.from("addresses").select("*").eq("user_id",n.id);if(Ae)throw Ae;if(ce&&ce.length>0){const ve=ce.map(pe=>({id:pe.id,name:pe.name,street:pe.street,city:pe.city,state:pe.state,zip:pe.zip,country:pe.country,isDefault:pe.is_default,user_id:pe.user_id,created_at:pe.created_at}));m(ve);const Y=ve.find(pe=>pe.isDefault);Y?p(Y.id):ve.length>0&&p(ve[0].id)}}catch(ce){console.error("Error fetching addresses:",ce),me({title:"Error",description:"Tidak dapat memuat alamat Anda",variant:"destructive"})}})()},[n]),v.useEffect(()=>{(async()=>{try{const{data:ce,error:Ae}=await Z.from("shipping_methods").select("*").eq("active",!0);if(Ae)throw Ae;if(ce&&ce.length>0)x(ce),h(ce[0].id);else{const ve=[{id:"standard",name:"Pengiriman Standar",cost:15e3,estimated_days:5,carrier:"JNE"},{id:"express",name:"Pengiriman Express",cost:3e4,estimated_days:2,carrier:"JNE Express"}];x(ve),h(ve[0].id)}}catch(ce){console.error("Error fetching shipping methods:",ce);const Ae=[{id:"standard",name:"Pengiriman Standar",cost:15e3,estimated_days:5,carrier:"JNE"},{id:"express",name:"Pengiriman Express",cost:3e4,estimated_days:2,carrier:"JNE Express"}];x(Ae),h(Ae[0].id)}})()},[]);const Q=async()=>{if(!C.trim()){me({title:"Kode Voucher Kosong",description:"Silakan masukkan kode voucher",variant:"destructive"});return}j(!0);try{const{data:ne,error:ce}=await $o.getVoucherByCode(C);if(ce)throw ce;if(!ne)throw new Error("Voucher tidak ditemukan");if(ne.min_purchase&&o<ne.min_purchase)throw new Error(`Minimum pembelian untuk voucher ini adalah ${ye(ne.min_purchase)}`);const Ae=$o.calculateDiscount(ne,o);S(ne),I(Ae),me({title:"Voucher Diterapkan",description:`Anda mendapatkan diskon sebesar ${ye(Ae)}`,variant:"default"})}catch(ne){console.error("Error applying voucher:",ne),me({title:"Gagal Menerapkan Voucher",description:ne.message||"Terjadi kesalahan saat menerapkan voucher",variant:"destructive"})}finally{j(!1)}},L=()=>{S(null),I(0),E(""),me({title:"Voucher Dihapus",description:"Voucher telah dihapus dari pesanan Anda",variant:"default"})},K=async()=>{var ne,ce;if(!n||t.length===0||!f||f==="undefined"){me({title:"Error",description:"Data tidak lengkap untuk membuat pesanan",variant:"destructive"});return}try{y(!0),console.log("Creating order with data:",{user_id:n.id,total:M,status:"pending",payment_method:l,shipping_address_id:f,payment_details:l==="bank-transfer"?u:null,voucher_id:(N==null?void 0:N.id)||null,discount_amount:k||0});const{data:Ae,error:ve}=await Z.from("orders").insert({user_id:n.id,total:M,status:"pending",payment_method:l,shipping_address_id:f,date:new Date().toISOString(),payment_details:l==="bank-transfer"?u:null,voucher_id:(N==null?void 0:N.id)||null,discount_amount:k||0}).select().single();if(ve)throw console.error("Order creation error:",ve),ve;console.log("Order created successfully:",Ae);for(const pe of t){console.log("Inserting order item:",{order_id:Ae.id,product_id:pe.id,product_name:pe.name,quantity:pe.quantity,price:pe.price});const{error:Ee}=await Z.from("order_items").insert({order_id:Ae.id,product_id:pe.id,product_name:pe.name,quantity:pe.quantity,price:pe.price});if(Ee)throw console.error("Error inserting order item:",Ee),Ee}try{await Cc.reduceStockFromOrder(Ae.id,t.map(pe=>({productName:pe.name,quantity:pe.quantity})),n.id),console.log("Coal inventory updated after order creation")}catch(pe){console.error("Error updating coal inventory:",pe)}if(N)try{await $o.incrementUsageCount(N.id),console.log("Voucher usage count updated")}catch(pe){console.error("Error updating voucher usage count:",pe)}me({title:"Pesanan berhasil dibuat!",description:"Terima kasih atas pembelian Anda."});try{await fK(Ae),console.log("Order notification sent to admins")}catch(pe){console.error("Error sending order notification to admins:",pe)}try{const{data:pe}=await Z.from("addresses").select("*").eq("id",f).single(),{data:Ee}=await Z.from("order_items").select("*").eq("order_id",Ae.id),Re={name:$O(l),bank_name:l==="bank-transfer"?u:void 0,account_number:l==="bank-transfer"?(ne=ko.find(ee=>ee.bank===u))==null?void 0:ne.accountNumber:void 0,account_name:l==="bank-transfer"?(ce=ko.find(ee=>ee.bank===u))==null?void 0:ce.accountName:void 0},$e=w.find(ee=>ee.id===d),wt={name:($e==null?void 0:$e.name)||"Pengiriman Standar",cost:($e==null?void 0:$e.cost)||R,estimated_days:($e==null?void 0:$e.estimated_days)||2,carrier:"JPC Delivery"},X={...Ae,shipping_cost:R,shipping_provider:wt.carrier,shipping_service:wt.name,shipping_estimate:`${wt.estimated_days} hari`,discount_data:N?{code:N.code,value:k,type:"fixed"}:void 0,payment_status:"Belum dibayar"};console.log("Sending order details to customer via notification service"),await p0e(X),console.log("WhatsApp notification is handled by the notification service"),a!=null&&a.phone||console.log("Customer has no phone number, WhatsApp notification may be skipped")}catch(pe){console.error("Error sending notification to customer:",pe)}e();const Y=Ae.id;sessionStorage.setItem("lastCompletedOrderId",Y),console.log(` Redirecting to order details page: /order/${Y}`),me({title:"Mengarahkan ke halaman detail pesanan",description:"Mohon tunggu sebentar..."}),e(),me({title:"Pesanan Berhasil Dibuat",description:"Anda akan diarahkan ke halaman detail pesanan.",className:"bg-green-100 border-green-400"}),setTimeout(()=>{r(`/order/${Ae.id}`)},1500)}catch(Ae){console.error("Error placing order:",Ae),me({title:"Error",description:"Tidak dapat membuat pesanan Anda. Silakan coba lagi.",variant:"destructive"})}finally{y(!1)}},G=ne=>{c(ne)};if(!n||g.length===0)return i.jsx(Jt,{children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsxs(mt,{to:"/cart",className:"flex items-center text-charcoal-600",children:[i.jsx(Ds,{className:"h-5 w-5 mr-1"}),i.jsx("span",{children:"Kembali ke Keranjang"})]}),i.jsx("h1",{className:"text-lg font-medium flex-1 text-center",children:"Checkout"}),i.jsx("div",{className:"w-8"})]}),i.jsxs("div",{className:"text-center py-10",children:[i.jsx("p",{className:"mb-4",children:"Anda perlu menambahkan alamat pengiriman sebelum checkout."}),i.jsx(mt,{to:"/address/new",children:i.jsx(z,{className:"bg-flame-500 hover:bg-flame-600",children:"Tambah Alamat"})})]})]})});const q=()=>{const[ne,ce]=v.useState(!0),[Ae,ve]=v.useState(null),[Y,pe]=v.useState([]),[Ee,Re]=v.useState(null),[$e,wt]=v.useState(null),[X,ee]=v.useState(null);return U?(v.useEffect(()=>{async function ie(){ce(!0);try{const{data:ge,error:we}=await Z.from("orders").select("*").eq("id",U.id).single();if(we)throw we;ve(ge);const{data:xe,error:Ve}=await Z.from("order_items").select("*").eq("order_id",U.id);if(Ve)throw Ve;if(pe(xe||[]),ge.shipping_address_id){const{data:nt,error:it}=await Z.from("addresses").select("*").eq("id",ge.shipping_address_id).single();!it&&nt&&Re(nt)}const lt=ge.shipping_id||ge.shipping_method_id;if(lt){const{data:nt,error:it}=await Z.from("shipping_methods").select("*").eq("id",lt).single();!it&&nt&&wt(nt)}if(ge.payment_method==="bank-transfer")try{if(ge.payment_details&&typeof ge.payment_details=="string"){const nt=JSON.parse(ge.payment_details);ee(nt)}else{const nt=ko.find(it=>it.bank===u);ee(nt||{bank:"SeaBank",accountNumber:"901958730549",accountName:"Jaya Perkasa Charcoal"})}}catch(nt){console.error("Error parsing payment details:",nt),ee({bank:"SeaBank",accountNumber:"901958730549",accountName:"Jaya Perkasa Charcoal"})}}catch(ge){console.error("Error fetching order details:",ge),me({title:"Error",description:"Gagal memuat detail pesanan. Silakan coba lagi nanti.",variant:"destructive"})}finally{ce(!1)}}ie()},[U.id]),ne?i.jsxs("div",{className:"p-4 text-center",children:[i.jsx(er,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),i.jsx("p",{children:"Memuat detail pesanan..."})]}):i.jsxs("div",{id:"order-completed-details",className:"p-4 bg-green-50 rounded-lg border border-green-200 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx(L4,{className:"h-6 w-6 text-green-500"}),i.jsx("h2",{className:"text-xl font-bold text-green-700",children:"Pesanan Berhasil!"})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:[i.jsxs("h3",{className:"font-bold text-lg mb-2",children:["Detail Pesanan #",U.id]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Status:"}),i.jsx("span",{className:"font-medium bg-green-100 text-green-800 px-2 py-0.5 rounded",children:"Baru"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Tanggal:"}),i.jsx("span",{children:new Date().toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Total:"}),i.jsx("span",{className:"font-bold",children:ye(U.total)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Metode Pembayaran:"}),i.jsx("span",{children:$O(U.payment_method)})]})]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:[i.jsx("h3",{className:"font-bold mb-2",children:"Item Pesanan"}),i.jsx("div",{className:"space-y-3",children:Y.map((ie,ge)=>i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[ie.product_image?i.jsx("img",{src:ie.product_image,alt:ie.product_name,className:"w-12 h-12 object-cover rounded"}):i.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center",children:i.jsx(cb,{className:"h-6 w-6 text-gray-400"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:ie.product_name}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[ie.quantity," x ",ye(ie.price),ie.variant&&i.jsxs("span",{className:"ml-1",children:["(",ie.variant,")"]})]})]})]}),i.jsx("div",{className:"font-medium",children:ye(ie.price*ie.quantity)})]},ge))})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:[i.jsx("h3",{className:"font-bold mb-2",children:"Informasi Pengiriman"}),Ee&&i.jsxs("div",{className:"mb-3",children:[i.jsx("div",{className:"font-medium",children:Ee.recipient_name||Ee.name}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[Ee.street,",",Ee.district&&`${Ee.district}, `,Ee.city,",",Ee.province,Ee.postal_code]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:Ee.recipient_phone||Ee.phone})]}),$e&&i.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:$e.name}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[$e.provider," ",$e.service]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Estimasi ",$e.estimated_days||2," jam"]})]}),i.jsx("div",{className:"font-medium",children:ye($e.cost)})]})]}),(Ae==null?void 0:Ae.payment_method)==="bank-transfer"&&X&&i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:[i.jsx("h3",{className:"font-bold mb-2",children:"Instruksi Pembayaran"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Bank:"}),i.jsx("div",{className:"font-medium",children:X.bank||X.bank_name})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Nomor Rekening:"}),i.jsx("div",{className:"font-medium",children:X.accountNumber||X.account_number})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Atas Nama:"}),i.jsx("div",{className:"font-medium",children:X.accountName||X.account_name||"Jaya Perkasa Charcoal"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Jumlah:"}),i.jsx("div",{className:"font-bold text-lg",children:ye(Ae.total)})]}),i.jsx("div",{className:"pt-2 text-sm text-muted-foreground",children:"Silakan lakukan pembayaran dalam waktu 24 jam. Setelah melakukan pembayaran, pesanan Anda akan diproses."})]})]}),i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsx(z,{onClick:()=>r("/"),className:"bg-flame-500 hover:bg-flame-600 w-full",children:"Lanjutkan Belanja"}),i.jsx(z,{onClick:()=>r(`/order/${U.id}`),variant:"outline",className:"w-full",children:"Lihat Detail Pesanan"})]})]})):i.jsx("div",{className:"p-4 text-center",children:"Memuat detail pesanan..."})};return T&&U?i.jsxs(Jt,{children:[i.jsxs("div",{className:"p-4 flex items-center justify-between shadow-sm mb-4",children:[i.jsxs(mt,{to:"/",className:"text-charcoal-600 flex items-center",children:[i.jsx(Ds,{className:"h-5 w-5 mr-1"}),i.jsx("span",{children:"Kembali ke Beranda"})]}),i.jsx("h1",{className:"text-xl font-bold text-center flex-1 pr-6",children:"Detail Pesanan"}),i.jsx("div",{className:"w-8"})]}),i.jsx(q,{})]}):i.jsx(Jt,{children:i.jsxs("div",{className:"pb-28",children:[i.jsxs("div",{className:"sticky top-0 z-10 bg-background p-4 flex items-center justify-between shadow-sm",children:[i.jsxs(mt,{to:"/cart",className:"text-charcoal-600 flex items-center",children:[i.jsx(Ds,{className:"h-5 w-5 mr-1"}),i.jsx("span",{children:"Kembali ke Keranjang"})]}),i.jsx("h1",{className:"text-xl font-bold text-center flex-1 pr-6",children:"Checkout"}),i.jsx("div",{className:"w-8"})," "]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-bold mb-3",children:"Alamat Pengiriman"}),i.jsx(ff,{value:f,onValueChange:p,className:"space-y-3",children:g.map(ne=>i.jsx(Be,{className:`cursor-pointer border-2 ${f===ne.id?"border-flame-500":"border-border"}`,onClick:()=>p(ne.id),children:i.jsx(Ce,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(pc,{value:ne.id,id:`address-${ne.id}`,className:"flex-shrink-0"}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Te,{htmlFor:`address-${ne.id}`,className:"font-medium cursor-pointer",children:ne.name}),ne.isDefault&&i.jsx("span",{className:"text-xs bg-charcoal-100 text-charcoal-600 px-2 py-0.5 rounded",children:"Utama"})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[ne.street,", ",ne.city,", ",ne.state," ",ne.zip]})]})]})})},ne.id))}),i.jsx("div",{className:"mt-3",children:i.jsx(mt,{to:"/address/new",children:i.jsxs(z,{variant:"outline",className:"w-full text-sm",children:[i.jsx("span",{className:"mr-1",children:"+"})," Tambah Alamat Baru"]})})})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-bold mb-3",children:"Metode Pengiriman"}),i.jsx(ff,{value:d,onValueChange:h,children:i.jsx("div",{className:"space-y-3",children:w.map(ne=>i.jsx(Be,{className:`cursor-pointer border-2 ${d===ne.id?"border-flame-500":"border-border"}`,children:i.jsx(Ce,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(pc,{value:ne.id,id:`shipping-${ne.id}`,className:"flex-shrink-0"}),i.jsxs("div",{className:"flex justify-between w-full",children:[i.jsxs(Te,{htmlFor:`shipping-${ne.id}`,className:"cursor-pointer",children:[i.jsx("div",{className:"font-medium",children:ne.name}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[ne.estimated_days," Jam kerja"]})]}),i.jsx("div",{className:"font-medium",children:ye(ne.cost)})]})]})})},ne.id))})})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-bold mb-3",children:"Metode Pembayaran"}),i.jsx(ff,{value:l,onValueChange:G,children:i.jsxs("div",{className:"space-y-3",children:[i.jsx(Be,{className:`cursor-pointer border-2 ${l==="bank-transfer"?"border-flame-500":"border-border"}`,children:i.jsx(Ce,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(pc,{value:"bank-transfer",id:"bank-transfer",className:"flex-shrink-0"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(zH,{className:"h-5 w-5 text-flame-500"}),i.jsx(Te,{htmlFor:"bank-transfer",className:"cursor-pointer",children:"Transfer Bank"})]})]})})}),i.jsx(Be,{className:`cursor-pointer border-2 ${l==="cod"?"border-flame-500":"border-border"}`,children:i.jsx(Ce,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(pc,{value:"cod",id:"cod",className:"flex-shrink-0"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ek,{className:"h-5 w-5 text-flame-500"}),i.jsx(Te,{htmlFor:"cod",className:"cursor-pointer",children:"Bayar di Tempat (COD)"})]})]})})}),i.jsx(Be,{className:`cursor-pointer border-2 ${l==="qris"?"border-flame-500":"border-border"}`,children:i.jsx(Ce,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(pc,{value:"qris",id:"qris",className:"flex-shrink-0"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(kk,{className:"h-5 w-5 text-flame-500"}),i.jsx(Te,{htmlFor:"qris",className:"cursor-pointer",children:"QRIS"})]})]})})})]})}),l==="bank-transfer"&&i.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-md",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Pilih Bank"}),i.jsx(ff,{value:u,onValueChange:A,className:"space-y-2",children:ko.map(ne=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(pc,{value:ne.bank,id:`bank-${ne.bank}`}),i.jsx(Te,{htmlFor:`bank-${ne.bank}`,children:ne.bank})]},ne.bank))}),i.jsx("div",{className:"mt-3 p-3 bg-background rounded border",children:ko.find(ne=>ne.bank===u)&&i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"font-medium",children:"Detail Rekening:"}),i.jsxs("p",{className:"mt-1",children:["Bank: ",u]}),i.jsxs("p",{children:["No. Rekening: ",(re=ko.find(ne=>ne.bank===u))==null?void 0:re.accountNumber]}),i.jsxs("p",{children:["Atas Nama: ",(le=ko.find(ne=>ne.bank===u))==null?void 0:le.accountName]})]})})]}),l==="qris"&&i.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-md text-center",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Scan QRIS"}),i.jsx("div",{className:"bg-white p-3 inline-block mx-auto rounded-lg",children:i.jsx("img",{src:"https://jayaperkasacharcoal.co-id.id/qr-code.jpg",alt:"Kode QRIS",className:"w-48 h-48 mx-auto",onError:ne=>{const ce=ne.target;ce.src="https://jayaperkasacharcoal.co-id.id/qr-code.jpg"}})}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Scan kode QR menggunakan aplikasi DANA atau e-wallet lainnya"})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-bold mb-3",children:"Ringkasan Pesanan"}),i.jsx(Be,{children:i.jsxs(Ce,{className:"p-4",children:[i.jsx("div",{className:"space-y-3 mb-3",children:t.map(ne=>i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"font-medium text-sm",children:ne.name}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Qty: ",ne.quantity," x ",ye(ne.price)]})]}),i.jsx("div",{className:"font-medium text-right",children:ye(ne.price*ne.quantity)})]},ne.id))}),i.jsx(Zn,{className:"my-3"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Subtotal"}),i.jsx("span",{className:"font-medium",children:ye(o)})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Pengiriman"}),i.jsx("span",{className:"font-medium",children:ye(R)})]}),N?i.jsxs("div",{className:"flex justify-between items-center mt-2 p-2 bg-green-50 rounded-md border border-green-200",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(L4,{className:"h-4 w-4 text-green-600 mr-2"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:N.code}),i.jsx("p",{className:"text-xs text-gray-500",children:N.discount_type==="percentage"?`Diskon ${N.discount_value}%`:`Diskon ${ye(N.discount_value)}`})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsxs("span",{className:"text-sm font-medium text-green-600 mr-2",children:["-",ye(k)]}),i.jsx(z,{variant:"ghost",size:"icon",className:"h-6 w-6 rounded-full text-gray-500 hover:text-red-500 hover:bg-red-50",onClick:L,children:i.jsx(db,{className:"h-3 w-3"})})]})]}):i.jsxs("div",{className:"flex gap-2 mt-2",children:[i.jsxs("div",{className:"relative flex-grow",children:[i.jsx(Tk,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),i.jsx(he,{placeholder:"Masukkan kode voucher",className:"pl-8",value:C,onChange:ne=>E(ne.target.value),disabled:B})]}),i.jsx(z,{variant:"outline",size:"sm",onClick:Q,disabled:B||!C.trim(),className:"shrink-0",children:B?i.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}):"Terapkan"})]}),N&&i.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[i.jsx("span",{children:"Subtotal setelah diskon"}),i.jsx("span",{className:"font-medium",children:ye(D)})]}),i.jsx(Zn,{className:"my-2"}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-bold",children:"Total"}),i.jsx("span",{className:"font-bold",children:ye(M)})]})]})]})})]})]}),i.jsxs("div",{className:"fixed bottom-16 left-0 right-0 max-w-md mx-auto bg-background border-t p-4 z-20",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"font-bold",children:"Total:"}),i.jsx("span",{className:"font-bold text-xl",children:ye(M)})]}),i.jsx(z,{onClick:K,className:"w-full bg-flame-500 hover:bg-flame-600",disabled:b,children:b?"Memproses...":"Buat Pesanan"})]})]})})};var tg=t=>t.type==="checkbox",kc=t=>t instanceof Date,oa=t=>t==null;const Cz=t=>typeof t=="object";var zr=t=>!oa(t)&&!Array.isArray(t)&&Cz(t)&&!kc(t),jz=t=>zr(t)&&t.target?tg(t.target)?t.target.checked:t.target.value:t,x0e=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Ez=(t,e)=>t.has(x0e(e)),v0e=t=>{const e=t.constructor&&t.constructor.prototype;return zr(e)&&e.hasOwnProperty("isPrototypeOf")},uI=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ya(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(uI&&(t instanceof Blob||t instanceof FileList))&&(r||zr(t)))if(e=r?[]:{},!r&&!v0e(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=ya(t[n]));else return t;return e}var nw=t=>Array.isArray(t)?t.filter(Boolean):[],Ur=t=>t===void 0,Fe=(t,e,r)=>{if(!e||!zr(t))return r;const n=nw(e.split(/[,[\].]+?/)).reduce((a,s)=>oa(a)?a:a[s],t);return Ur(n)||n===t?Ur(t[e])?r:t[e]:n},es=t=>typeof t=="boolean",AI=t=>/^\w*$/.test(t),Sz=t=>nw(t.replace(/["|']|\]/g,"").split(/\.|\[/)),nr=(t,e,r)=>{let n=-1;const a=AI(e)?[e]:Sz(e),s=a.length,o=s-1;for(;++n<s;){const l=a[n];let c=r;if(n!==o){const u=t[l];c=zr(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__")return;t[l]=c,t=t[l]}return t};const Ov={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ns={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ti={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Nz=V.createContext(null),aw=()=>V.useContext(Nz),y0e=t=>{const{children:e,...r}=t;return V.createElement(Nz.Provider,{value:r},e)};var kz=(t,e,r,n=!0)=>{const a={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(a,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Ns.all&&(e._proxyFormState[o]=!n||Ns.all),r&&(r[o]=!0),t[o]}});return a},wa=t=>zr(t)&&!Object.keys(t).length,Tz=(t,e,r,n)=>{r(t);const{name:a,...s}=t;return wa(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!n||Ns.all))},Qf=t=>Array.isArray(t)?t:[t],Iz=(t,e,r)=>!t||!e||t===e||Qf(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function dI(t){const e=V.useRef(t);e.current=t,V.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function b0e(t){const e=aw(),{control:r=e.control,disabled:n,name:a,exact:s}=t||{},[o,l]=V.useState(r._formState),c=V.useRef(!0),u=V.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),A=V.useRef(a);return A.current=a,dI({disabled:n,next:d=>c.current&&Iz(A.current,d.name,s)&&Tz(d,u.current,r._updateFormState)&&l({...r._formState,...d}),subject:r._subjects.state}),V.useEffect(()=>(c.current=!0,u.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),kz(o,r,u.current,!1)}var oi=t=>typeof t=="string",Pz=(t,e,r,n,a)=>oi(t)?(n&&e.watch.add(t),Fe(r,t,a)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),Fe(r,s))):(n&&(e.watchAll=!0),r);function w0e(t){const e=aw(),{control:r=e.control,name:n,defaultValue:a,disabled:s,exact:o}=t||{},l=V.useRef(n);l.current=n,dI({disabled:s,subject:r._subjects.values,next:A=>{Iz(l.current,A.name,o)&&u(ya(Pz(l.current,r._names,A.values||r._formValues,!1,a)))}});const[c,u]=V.useState(r._getWatch(n,a));return V.useEffect(()=>r._removeUnmounted()),c}function _0e(t){const e=aw(),{name:r,disabled:n,control:a=e.control,shouldUnregister:s}=t,o=Ez(a._names.array,r),l=w0e({control:a,name:r,defaultValue:Fe(a._formValues,r,Fe(a._defaultValues,r,t.defaultValue)),exact:!0}),c=b0e({control:a,name:r,exact:!0}),u=V.useRef(a.register(r,{...t.rules,value:l,...es(t.disabled)?{disabled:t.disabled}:{}}));return V.useEffect(()=>{const A=a._options.shouldUnregister||s,d=(h,f)=>{const p=Fe(a._fields,h);p&&p._f&&(p._f.mount=f)};if(d(r,!0),A){const h=ya(Fe(a._options.defaultValues,r));nr(a._defaultValues,r,h),Ur(Fe(a._formValues,r))&&nr(a._formValues,r,h)}return()=>{(o?A&&!a._state.action:A)?a.unregister(r):d(r,!1)}},[r,a,o,s]),V.useEffect(()=>{Fe(a._fields,r)&&a._updateDisabledField({disabled:n,fields:a._fields,name:r,value:Fe(a._fields,r)._f.value})},[n,r,a]),{field:{name:r,value:l,...es(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:V.useCallback(A=>u.current.onChange({target:{value:jz(A),name:r},type:Ov.CHANGE}),[r]),onBlur:V.useCallback(()=>u.current.onBlur({target:{value:Fe(a._formValues,r),name:r},type:Ov.BLUR}),[r,a]),ref:V.useCallback(A=>{const d=Fe(a._fields,r);d&&A&&(d._f.ref={focus:()=>A.focus(),select:()=>A.select(),setCustomValidity:h=>A.setCustomValidity(h),reportValidity:()=>A.reportValidity()})},[a._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Fe(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!Fe(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Fe(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Fe(c.validatingFields,r)},error:{enumerable:!0,get:()=>Fe(c.errors,r)}})}}const B0e=t=>t.render(_0e(t));var Fz=(t,e,r,n,a)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:a||!0}}:{},VO=t=>({isOnSubmit:!t||t===Ns.onSubmit,isOnBlur:t===Ns.onBlur,isOnChange:t===Ns.onChange,isOnAll:t===Ns.all,isOnTouch:t===Ns.onTouched}),KO=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Lf=(t,e,r,n)=>{for(const a of r||Object.keys(t)){const s=Fe(t,a);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],a)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(Lf(l,e))break}else if(zr(l)&&Lf(l,e))break}}};var C0e=(t,e,r)=>{const n=Qf(Fe(t,r));return nr(n,"root",e[r]),nr(t,r,n),t},hI=t=>t.type==="file",Hi=t=>typeof t=="function",Rv=t=>{if(!uI)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Ax=t=>oi(t),fI=t=>t.type==="radio",Uv=t=>t instanceof RegExp;const qO={value:!1,isValid:!1},zO={value:!0,isValid:!0};var Dz=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ur(t[0].attributes.value)?Ur(t[0].value)||t[0].value===""?zO:{value:t[0].value,isValid:!0}:zO:qO}return qO};const GO={isValid:!1,value:null};var Oz=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,GO):GO;function WO(t,e,r="validate"){if(Ax(t)||Array.isArray(t)&&t.every(Ax)||es(t)&&!t)return{type:r,message:Ax(t)?t:"",ref:e}}var Wu=t=>zr(t)&&!Uv(t)?t:{value:t,message:""},XO=async(t,e,r,n,a)=>{const{ref:s,refs:o,required:l,maxLength:c,minLength:u,min:A,max:d,pattern:h,validate:f,name:p,valueAsNumber:g,mount:m,disabled:b}=t._f,y=Fe(e,p);if(!m||b)return{};const w=o?o[0]:s,x=I=>{n&&w.reportValidity&&(w.setCustomValidity(es(I)?"":I||""),w.reportValidity())},C={},E=fI(s),B=tg(s),j=E||B,N=(g||hI(s))&&Ur(s.value)&&Ur(y)||Rv(s)&&s.value===""||y===""||Array.isArray(y)&&!y.length,S=Fz.bind(null,p,r,C),k=(I,T,O,U=Ti.maxLength,H=Ti.minLength)=>{const R=I?T:O;C[p]={type:I?U:H,message:R,ref:s,...S(I?U:H,R)}};if(a?!Array.isArray(y)||!y.length:l&&(!j&&(N||oa(y))||es(y)&&!y||B&&!Dz(o).isValid||E&&!Oz(o).isValid)){const{value:I,message:T}=Ax(l)?{value:!!l,message:l}:Wu(l);if(I&&(C[p]={type:Ti.required,message:T,ref:w,...S(Ti.required,T)},!r))return x(T),C}if(!N&&(!oa(A)||!oa(d))){let I,T;const O=Wu(d),U=Wu(A);if(!oa(y)&&!isNaN(y)){const H=s.valueAsNumber||y&&+y;oa(O.value)||(I=H>O.value),oa(U.value)||(T=H<U.value)}else{const H=s.valueAsDate||new Date(y),R=Q=>new Date(new Date().toDateString()+" "+Q),D=s.type=="time",M=s.type=="week";oi(O.value)&&y&&(I=D?R(y)>R(O.value):M?y>O.value:H>new Date(O.value)),oi(U.value)&&y&&(T=D?R(y)<R(U.value):M?y<U.value:H<new Date(U.value))}if((I||T)&&(k(!!I,O.message,U.message,Ti.max,Ti.min),!r))return x(C[p].message),C}if((c||u)&&!N&&(oi(y)||a&&Array.isArray(y))){const I=Wu(c),T=Wu(u),O=!oa(I.value)&&y.length>+I.value,U=!oa(T.value)&&y.length<+T.value;if((O||U)&&(k(O,I.message,T.message),!r))return x(C[p].message),C}if(h&&!N&&oi(y)){const{value:I,message:T}=Wu(h);if(Uv(I)&&!y.match(I)&&(C[p]={type:Ti.pattern,message:T,ref:s,...S(Ti.pattern,T)},!r))return x(T),C}if(f){if(Hi(f)){const I=await f(y,e),T=WO(I,w);if(T&&(C[p]={...T,...S(Ti.validate,T.message)},!r))return x(T.message),C}else if(zr(f)){let I={};for(const T in f){if(!wa(I)&&!r)break;const O=WO(await f[T](y,e),w,T);O&&(I={...O,...S(T,O.message)},x(O.message),r&&(C[p]=I))}if(!wa(I)&&(C[p]={ref:w,...I},!r))return C}}return x(!0),C};function j0e(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Ur(t)?n++:t[e[n++]];return t}function E0e(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ur(t[e]))return!1;return!0}function tn(t,e){const r=Array.isArray(e)?e:AI(e)?[e]:Sz(e),n=r.length===1?t:j0e(t,r),a=r.length-1,s=r[a];return n&&delete n[s],a!==0&&(zr(n)&&wa(n)||Array.isArray(n)&&E0e(n))&&tn(t,r.slice(0,-1)),t}var n_=()=>{let t=[];return{get observers(){return t},next:a=>{for(const s of t)s.next&&s.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(s=>s!==a)}}),unsubscribe:()=>{t=[]}}},v2=t=>oa(t)||!Cz(t);function Vo(t,e){if(v2(t)||v2(e))return t===e;if(kc(t)&&kc(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const a of r){const s=t[a];if(!n.includes(a))return!1;if(a!=="ref"){const o=e[a];if(kc(s)&&kc(o)||zr(s)&&zr(o)||Array.isArray(s)&&Array.isArray(o)?!Vo(s,o):s!==o)return!1}}return!0}var Rz=t=>t.type==="select-multiple",S0e=t=>fI(t)||tg(t),a_=t=>Rv(t)&&t.isConnected,Uz=t=>{for(const e in t)if(Hi(t[e]))return!0;return!1};function Mv(t,e={}){const r=Array.isArray(t);if(zr(t)||r)for(const n in t)Array.isArray(t[n])||zr(t[n])&&!Uz(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Mv(t[n],e[n])):oa(t[n])||(e[n]=!0);return e}function Mz(t,e,r){const n=Array.isArray(t);if(zr(t)||n)for(const a in t)Array.isArray(t[a])||zr(t[a])&&!Uz(t[a])?Ur(e)||v2(r[a])?r[a]=Array.isArray(t[a])?Mv(t[a],[]):{...Mv(t[a])}:Mz(t[a],oa(e)?{}:e[a],r[a]):r[a]=!Vo(t[a],e[a]);return r}var Hh=(t,e)=>Mz(t,e,Mv(e)),Qz=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Ur(t)?t:e?t===""?NaN:t&&+t:r&&oi(t)?new Date(t):n?n(t):t;function s_(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return hI(e)?e.files:fI(e)?Oz(t.refs).value:Rz(e)?[...e.selectedOptions].map(({value:r})=>r):tg(e)?Dz(t.refs).value:Qz(Ur(e.value)?t.ref.value:e.value,t)}var N0e=(t,e,r,n)=>{const a={};for(const s of t){const o=Fe(e,s);o&&nr(a,s,o._f)}return{criteriaMode:r,names:[...t],fields:a,shouldUseNativeValidation:n}},$h=t=>Ur(t)?t:Uv(t)?t.source:zr(t)?Uv(t.value)?t.value.source:t.value:t;const YO="AsyncFunction";var k0e=t=>(!t||!t.validate)&&!!(Hi(t.validate)&&t.validate.constructor.name===YO||zr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===YO)),T0e=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function JO(t,e,r){const n=Fe(t,r);if(n||AI(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),o=Fe(e,s),l=Fe(t,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};a.pop()}return{name:r}}var I0e=(t,e,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(e||t):(r?n.isOnBlur:a.isOnBlur)?!t:(r?n.isOnChange:a.isOnChange)?t:!0,P0e=(t,e)=>!nw(Fe(t,e)).length&&tn(t,e);const F0e={mode:Ns.onSubmit,reValidateMode:Ns.onChange,shouldFocusError:!0};function D0e(t={}){let e={...F0e,...t},r={submitCount:0,isDirty:!1,isLoading:Hi(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},a=zr(e.defaultValues)||zr(e.values)?ya(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:ya(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const A={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:n_(),array:n_(),state:n_()},h=VO(e.mode),f=VO(e.reValidateMode),p=e.criteriaMode===Ns.all,g=X=>ee=>{clearTimeout(u),u=setTimeout(X,ee)},m=async X=>{if(!t.disabled&&(A.isValid||X)){const ee=e.resolver?wa((await j()).errors):await S(n,!0);ee!==r.isValid&&d.state.next({isValid:ee})}},b=(X,ee)=>{!t.disabled&&(A.isValidating||A.validatingFields)&&((X||Array.from(l.mount)).forEach(ie=>{ie&&(ee?nr(r.validatingFields,ie,ee):tn(r.validatingFields,ie))}),d.state.next({validatingFields:r.validatingFields,isValidating:!wa(r.validatingFields)}))},y=(X,ee=[],ie,ge,we=!0,xe=!0)=>{if(ge&&ie&&!t.disabled){if(o.action=!0,xe&&Array.isArray(Fe(n,X))){const Ve=ie(Fe(n,X),ge.argA,ge.argB);we&&nr(n,X,Ve)}if(xe&&Array.isArray(Fe(r.errors,X))){const Ve=ie(Fe(r.errors,X),ge.argA,ge.argB);we&&nr(r.errors,X,Ve),P0e(r.errors,X)}if(A.touchedFields&&xe&&Array.isArray(Fe(r.touchedFields,X))){const Ve=ie(Fe(r.touchedFields,X),ge.argA,ge.argB);we&&nr(r.touchedFields,X,Ve)}A.dirtyFields&&(r.dirtyFields=Hh(a,s)),d.state.next({name:X,isDirty:I(X,ee),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else nr(s,X,ee)},w=(X,ee)=>{nr(r.errors,X,ee),d.state.next({errors:r.errors})},x=X=>{r.errors=X,d.state.next({errors:r.errors,isValid:!1})},C=(X,ee,ie,ge)=>{const we=Fe(n,X);if(we){const xe=Fe(s,X,Ur(ie)?Fe(a,X):ie);Ur(xe)||ge&&ge.defaultChecked||ee?nr(s,X,ee?xe:s_(we._f)):U(X,xe),o.mount&&m()}},E=(X,ee,ie,ge,we)=>{let xe=!1,Ve=!1;const lt={name:X};if(!t.disabled){const nt=!!(Fe(n,X)&&Fe(n,X)._f&&Fe(n,X)._f.disabled);if(!ie||ge){A.isDirty&&(Ve=r.isDirty,r.isDirty=lt.isDirty=I(),xe=Ve!==lt.isDirty);const it=nt||Vo(Fe(a,X),ee);Ve=!!(!nt&&Fe(r.dirtyFields,X)),it||nt?tn(r.dirtyFields,X):nr(r.dirtyFields,X,!0),lt.dirtyFields=r.dirtyFields,xe=xe||A.dirtyFields&&Ve!==!it}if(ie){const it=Fe(r.touchedFields,X);it||(nr(r.touchedFields,X,ie),lt.touchedFields=r.touchedFields,xe=xe||A.touchedFields&&it!==ie)}xe&&we&&d.state.next(lt)}return xe?lt:{}},B=(X,ee,ie,ge)=>{const we=Fe(r.errors,X),xe=A.isValid&&es(ee)&&r.isValid!==ee;if(t.delayError&&ie?(c=g(()=>w(X,ie)),c(t.delayError)):(clearTimeout(u),c=null,ie?nr(r.errors,X,ie):tn(r.errors,X)),(ie?!Vo(we,ie):we)||!wa(ge)||xe){const Ve={...ge,...xe&&es(ee)?{isValid:ee}:{},errors:r.errors,name:X};r={...r,...Ve},d.state.next(Ve)}},j=async X=>{b(X,!0);const ee=await e.resolver(s,e.context,N0e(X||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return b(X),ee},N=async X=>{const{errors:ee}=await j(X);if(X)for(const ie of X){const ge=Fe(ee,ie);ge?nr(r.errors,ie,ge):tn(r.errors,ie)}else r.errors=ee;return ee},S=async(X,ee,ie={valid:!0})=>{for(const ge in X){const we=X[ge];if(we){const{_f:xe,...Ve}=we;if(xe){const lt=l.array.has(xe.name),nt=we._f&&k0e(we._f);nt&&A.validatingFields&&b([ge],!0);const it=await XO(we,s,p,e.shouldUseNativeValidation&&!ee,lt);if(nt&&A.validatingFields&&b([ge]),it[xe.name]&&(ie.valid=!1,ee))break;!ee&&(Fe(it,xe.name)?lt?C0e(r.errors,it,xe.name):nr(r.errors,xe.name,it[xe.name]):tn(r.errors,xe.name))}!wa(Ve)&&await S(Ve,ee,ie)}}return ie.valid},k=()=>{for(const X of l.unMount){const ee=Fe(n,X);ee&&(ee._f.refs?ee._f.refs.every(ie=>!a_(ie)):!a_(ee._f.ref))&&re(X)}l.unMount=new Set},I=(X,ee)=>!t.disabled&&(X&&ee&&nr(s,X,ee),!Vo(L(),a)),T=(X,ee,ie)=>Pz(X,l,{...o.mount?s:Ur(ee)?a:oi(X)?{[X]:ee}:ee},ie,ee),O=X=>nw(Fe(o.mount?s:a,X,t.shouldUnregister?Fe(a,X,[]):[])),U=(X,ee,ie={})=>{const ge=Fe(n,X);let we=ee;if(ge){const xe=ge._f;xe&&(!xe.disabled&&nr(s,X,Qz(ee,xe)),we=Rv(xe.ref)&&oa(ee)?"":ee,Rz(xe.ref)?[...xe.ref.options].forEach(Ve=>Ve.selected=we.includes(Ve.value)):xe.refs?tg(xe.ref)?xe.refs.length>1?xe.refs.forEach(Ve=>(!Ve.defaultChecked||!Ve.disabled)&&(Ve.checked=Array.isArray(we)?!!we.find(lt=>lt===Ve.value):we===Ve.value)):xe.refs[0]&&(xe.refs[0].checked=!!we):xe.refs.forEach(Ve=>Ve.checked=Ve.value===we):hI(xe.ref)?xe.ref.value="":(xe.ref.value=we,xe.ref.type||d.values.next({name:X,values:{...s}})))}(ie.shouldDirty||ie.shouldTouch)&&E(X,we,ie.shouldTouch,ie.shouldDirty,!0),ie.shouldValidate&&Q(X)},H=(X,ee,ie)=>{for(const ge in ee){const we=ee[ge],xe=`${X}.${ge}`,Ve=Fe(n,xe);(l.array.has(X)||zr(we)||Ve&&!Ve._f)&&!kc(we)?H(xe,we,ie):U(xe,we,ie)}},R=(X,ee,ie={})=>{const ge=Fe(n,X),we=l.array.has(X),xe=ya(ee);nr(s,X,xe),we?(d.array.next({name:X,values:{...s}}),(A.isDirty||A.dirtyFields)&&ie.shouldDirty&&d.state.next({name:X,dirtyFields:Hh(a,s),isDirty:I(X,xe)})):ge&&!ge._f&&!oa(xe)?H(X,xe,ie):U(X,xe,ie),KO(X,l)&&d.state.next({...r}),d.values.next({name:o.mount?X:void 0,values:{...s}})},D=async X=>{o.mount=!0;const ee=X.target;let ie=ee.name,ge=!0;const we=Fe(n,ie),xe=()=>ee.type?s_(we._f):jz(X),Ve=lt=>{ge=Number.isNaN(lt)||kc(lt)&&isNaN(lt.getTime())||Vo(lt,Fe(s,ie,lt))};if(we){let lt,nt;const it=xe(),oe=X.type===Ov.BLUR||X.type===Ov.FOCUS_OUT,Se=!T0e(we._f)&&!e.resolver&&!Fe(r.errors,ie)&&!we._f.deps||I0e(oe,Fe(r.touchedFields,ie),r.isSubmitted,f,h),tt=KO(ie,l,oe);nr(s,ie,it),oe?(we._f.onBlur&&we._f.onBlur(X),c&&c(0)):we._f.onChange&&we._f.onChange(X);const Ye=E(ie,it,oe,!1),gt=!wa(Ye)||tt;if(!oe&&d.values.next({name:ie,type:X.type,values:{...s}}),Se)return A.isValid&&(t.mode==="onBlur"?oe&&m():m()),gt&&d.state.next({name:ie,...tt?{}:Ye});if(!oe&&tt&&d.state.next({...r}),e.resolver){const{errors:ir}=await j([ie]);if(Ve(it),ge){const pa=JO(r.errors,n,ie),fr=JO(ir,n,pa.name||ie);lt=fr.error,ie=fr.name,nt=wa(ir)}}else b([ie],!0),lt=(await XO(we,s,p,e.shouldUseNativeValidation))[ie],b([ie]),Ve(it),ge&&(lt?nt=!1:A.isValid&&(nt=await S(n,!0)));ge&&(we._f.deps&&Q(we._f.deps),B(ie,nt,lt,Ye))}},M=(X,ee)=>{if(Fe(r.errors,ee)&&X.focus)return X.focus(),1},Q=async(X,ee={})=>{let ie,ge;const we=Qf(X);if(e.resolver){const xe=await N(Ur(X)?X:we);ie=wa(xe),ge=X?!we.some(Ve=>Fe(xe,Ve)):ie}else X?(ge=(await Promise.all(we.map(async xe=>{const Ve=Fe(n,xe);return await S(Ve&&Ve._f?{[xe]:Ve}:Ve)}))).every(Boolean),!(!ge&&!r.isValid)&&m()):ge=ie=await S(n);return d.state.next({...!oi(X)||A.isValid&&ie!==r.isValid?{}:{name:X},...e.resolver||!X?{isValid:ie}:{},errors:r.errors}),ee.shouldFocus&&!ge&&Lf(n,M,X?we:l.mount),ge},L=X=>{const ee={...o.mount?s:a};return Ur(X)?ee:oi(X)?Fe(ee,X):X.map(ie=>Fe(ee,ie))},K=(X,ee)=>({invalid:!!Fe((ee||r).errors,X),isDirty:!!Fe((ee||r).dirtyFields,X),error:Fe((ee||r).errors,X),isValidating:!!Fe(r.validatingFields,X),isTouched:!!Fe((ee||r).touchedFields,X)}),G=X=>{X&&Qf(X).forEach(ee=>tn(r.errors,ee)),d.state.next({errors:X?r.errors:{}})},q=(X,ee,ie)=>{const ge=(Fe(n,X,{_f:{}})._f||{}).ref,we=Fe(r.errors,X)||{},{ref:xe,message:Ve,type:lt,...nt}=we;nr(r.errors,X,{...nt,...ee,ref:ge}),d.state.next({name:X,errors:r.errors,isValid:!1}),ie&&ie.shouldFocus&&ge&&ge.focus&&ge.focus()},W=(X,ee)=>Hi(X)?d.values.subscribe({next:ie=>X(T(void 0,ee),ie)}):T(X,ee,!0),re=(X,ee={})=>{for(const ie of X?Qf(X):l.mount)l.mount.delete(ie),l.array.delete(ie),ee.keepValue||(tn(n,ie),tn(s,ie)),!ee.keepError&&tn(r.errors,ie),!ee.keepDirty&&tn(r.dirtyFields,ie),!ee.keepTouched&&tn(r.touchedFields,ie),!ee.keepIsValidating&&tn(r.validatingFields,ie),!e.shouldUnregister&&!ee.keepDefaultValue&&tn(a,ie);d.values.next({values:{...s}}),d.state.next({...r,...ee.keepDirty?{isDirty:I()}:{}}),!ee.keepIsValid&&m()},le=({disabled:X,name:ee,field:ie,fields:ge,value:we})=>{if(es(X)&&o.mount||X){const xe=X?void 0:Ur(we)?s_(ie?ie._f:Fe(ge,ee)._f):we;nr(s,ee,xe),E(ee,xe,!1,!1,!0)}},ne=(X,ee={})=>{let ie=Fe(n,X);const ge=es(ee.disabled)||es(t.disabled);return nr(n,X,{...ie||{},_f:{...ie&&ie._f?ie._f:{ref:{name:X}},name:X,mount:!0,...ee}}),l.mount.add(X),ie?le({field:ie,disabled:es(ee.disabled)?ee.disabled:t.disabled,name:X,value:ee.value}):C(X,!0,ee.value),{...ge?{disabled:ee.disabled||t.disabled}:{},...e.progressive?{required:!!ee.required,min:$h(ee.min),max:$h(ee.max),minLength:$h(ee.minLength),maxLength:$h(ee.maxLength),pattern:$h(ee.pattern)}:{},name:X,onChange:D,onBlur:D,ref:we=>{if(we){ne(X,ee),ie=Fe(n,X);const xe=Ur(we.value)&&we.querySelectorAll&&we.querySelectorAll("input,select,textarea")[0]||we,Ve=S0e(xe),lt=ie._f.refs||[];if(Ve?lt.find(nt=>nt===xe):xe===ie._f.ref)return;nr(n,X,{_f:{...ie._f,...Ve?{refs:[...lt.filter(a_),xe,...Array.isArray(Fe(a,X))?[{}]:[]],ref:{type:xe.type,name:X}}:{ref:xe}}}),C(X,!1,void 0,xe)}else ie=Fe(n,X,{}),ie._f&&(ie._f.mount=!1),(e.shouldUnregister||ee.shouldUnregister)&&!(Ez(l.array,X)&&o.action)&&l.unMount.add(X)}}},ce=()=>e.shouldFocusError&&Lf(n,M,l.mount),Ae=X=>{es(X)&&(d.state.next({disabled:X}),Lf(n,(ee,ie)=>{const ge=Fe(n,ie);ge&&(ee.disabled=ge._f.disabled||X,Array.isArray(ge._f.refs)&&ge._f.refs.forEach(we=>{we.disabled=ge._f.disabled||X}))},0,!1))},ve=(X,ee)=>async ie=>{let ge;ie&&(ie.preventDefault&&ie.preventDefault(),ie.persist&&ie.persist());let we=ya(s);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:xe,values:Ve}=await j();r.errors=xe,we=Ve}else await S(n);if(tn(r.errors,"root"),wa(r.errors)){d.state.next({errors:{}});try{await X(we,ie)}catch(xe){ge=xe}}else ee&&await ee({...r.errors},ie),ce(),setTimeout(ce);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:wa(r.errors)&&!ge,submitCount:r.submitCount+1,errors:r.errors}),ge)throw ge},Y=(X,ee={})=>{Fe(n,X)&&(Ur(ee.defaultValue)?R(X,ya(Fe(a,X))):(R(X,ee.defaultValue),nr(a,X,ya(ee.defaultValue))),ee.keepTouched||tn(r.touchedFields,X),ee.keepDirty||(tn(r.dirtyFields,X),r.isDirty=ee.defaultValue?I(X,ya(Fe(a,X))):I()),ee.keepError||(tn(r.errors,X),A.isValid&&m()),d.state.next({...r}))},pe=(X,ee={})=>{const ie=X?ya(X):a,ge=ya(ie),we=wa(X),xe=we?a:ge;if(ee.keepDefaultValues||(a=ie),!ee.keepValues){if(ee.keepDirtyValues){const Ve=new Set([...l.mount,...Object.keys(Hh(a,s))]);for(const lt of Array.from(Ve))Fe(r.dirtyFields,lt)?nr(xe,lt,Fe(s,lt)):R(lt,Fe(xe,lt))}else{if(uI&&Ur(X))for(const Ve of l.mount){const lt=Fe(n,Ve);if(lt&&lt._f){const nt=Array.isArray(lt._f.refs)?lt._f.refs[0]:lt._f.ref;if(Rv(nt)){const it=nt.closest("form");if(it){it.reset();break}}}}n={}}s=t.shouldUnregister?ee.keepDefaultValues?ya(a):{}:ya(xe),d.array.next({values:{...xe}}),d.values.next({values:{...xe}})}l={mount:ee.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!A.isValid||!!ee.keepIsValid||!!ee.keepDirtyValues,o.watch=!!t.shouldUnregister,d.state.next({submitCount:ee.keepSubmitCount?r.submitCount:0,isDirty:we?!1:ee.keepDirty?r.isDirty:!!(ee.keepDefaultValues&&!Vo(X,a)),isSubmitted:ee.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:we?{}:ee.keepDirtyValues?ee.keepDefaultValues&&s?Hh(a,s):r.dirtyFields:ee.keepDefaultValues&&X?Hh(a,X):ee.keepDirty?r.dirtyFields:{},touchedFields:ee.keepTouched?r.touchedFields:{},errors:ee.keepErrors?r.errors:{},isSubmitSuccessful:ee.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ee=(X,ee)=>pe(Hi(X)?X(s):X,ee);return{control:{register:ne,unregister:re,getFieldState:K,handleSubmit:ve,setError:q,_executeSchema:j,_getWatch:T,_getDirty:I,_updateValid:m,_removeUnmounted:k,_updateFieldArray:y,_updateDisabledField:le,_getFieldArray:O,_reset:pe,_resetDefaultValues:()=>Hi(e.defaultValues)&&e.defaultValues().then(X=>{Ee(X,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:X=>{r={...r,...X}},_disableForm:Ae,_subjects:d,_proxyFormState:A,_setErrors:x,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(X){o=X},get _defaultValues(){return a},get _names(){return l},set _names(X){l=X},get _formState(){return r},set _formState(X){r=X},get _options(){return e},set _options(X){e={...e,...X}}},trigger:Q,register:ne,handleSubmit:ve,watch:W,setValue:R,getValues:L,reset:Ee,resetField:Y,clearErrors:G,unregister:re,setError:q,setFocus:(X,ee={})=>{const ie=Fe(n,X),ge=ie&&ie._f;if(ge){const we=ge.refs?ge.refs[0]:ge.ref;we.focus&&(we.focus(),ee.shouldSelect&&we.select())}},getFieldState:K}}function ca(t={}){const e=V.useRef(),r=V.useRef(),[n,a]=V.useState({isDirty:!1,isValidating:!1,isLoading:Hi(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Hi(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...D0e(t),formState:n});const s=e.current.control;return s._options=t,dI({subject:s._subjects.state,next:o=>{Tz(o,s._proxyFormState,s._updateFormState,!0)&&a({...s._formState})}}),V.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),V.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),V.useEffect(()=>{t.values&&!Vo(t.values,r.current)?(s._reset(t.values,s._options.resetOptions),r.current=t.values,a(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),V.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),V.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),V.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),V.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[n]),e.current.formState=kz(n,s),e.current}const ea=y0e,Lz=v.createContext({}),Ke=({...t})=>i.jsx(Lz.Provider,{value:{name:t.name},children:i.jsx(B0e,{...t})}),sw=()=>{const t=v.useContext(Lz),e=v.useContext(Hz),{getFieldState:r,formState:n}=aw(),a=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...a}},Hz=v.createContext({}),Qe=v.forwardRef(({className:t,...e},r)=>{const n=v.useId();return i.jsx(Hz.Provider,{value:{id:n},children:i.jsx("div",{ref:r,className:fe("space-y-2",t),...e})})});Qe.displayName="FormItem";const Le=v.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:a}=sw();return i.jsx(Te,{ref:r,className:fe(n&&"text-destructive",t),htmlFor:a,...e})});Le.displayName="FormLabel";const He=v.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:s}=sw();return i.jsx(eo,{ref:e,id:n,"aria-describedby":r?`${a} ${s}`:`${a}`,"aria-invalid":!!r,...t})});He.displayName="FormControl";const dx=v.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=sw();return i.jsx("p",{ref:r,id:n,className:fe("text-sm text-muted-foreground",t),...e})});dx.displayName="FormDescription";const Ge=v.forwardRef(({className:t,children:e,...r},n)=>{const{error:a,formMessageId:s}=sw(),o=a?String(a==null?void 0:a.message):e;return o?i.jsx("p",{ref:n,id:s,className:fe("text-sm font-medium text-destructive",t),...r,children:o}):null});Ge.displayName="FormMessage";const ZO=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Fe(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},$z=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?ZO(n.ref,r,t):n.refs&&n.refs.forEach(a=>ZO(a,r,t))}},O0e=(t,e)=>{e.shouldUseNativeValidation&&$z(t,e);const r={};for(const n in t){const a=Fe(e.fields,n),s=Object.assign(t[n]||{},{ref:a&&a.ref});if(R0e(e.names||Object.keys(t),n)){const o=Object.assign({},Fe(r,n));nr(o,"root",s),nr(r,n,o)}else nr(r,n,s)}return r},R0e=(t,e)=>t.some(r=>r.startsWith(e+"."));var U0e=function(t,e){for(var r={};t.length;){var n=t[0],a=n.code,s=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:s,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(A){return A.errors.forEach(function(d){return t.push(d)})}),e){var c=r[o].types,u=c&&c[n.code];r[o]=Fz(o,e,r,a,u?[].concat(u,n.message):n.message)}t.shift()}return r},ua=function(t,e,r){return r===void 0&&(r={}),function(n,a,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return s.shouldUseNativeValidation&&$z({},s),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:O0e(U0e(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},zt;(function(t){t.assertEqual=a=>a;function e(a){}t.assertIs=e;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{const s={};for(const o of a)s[o]=o;return s},t.getValidEnumValues=a=>{const s=t.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of s)o[l]=a[l];return t.objectValues(o)},t.objectValues=a=>t.objectKeys(a).map(function(s){return a[s]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&s.push(o);return s},t.find=(a,s)=>{for(const o of a)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,s=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(zt||(zt={}));var y2;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(y2||(y2={}));const ze=zt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ko=t=>{switch(typeof t){case"undefined":return ze.undefined;case"string":return ze.string;case"number":return isNaN(t)?ze.nan:ze.number;case"boolean":return ze.boolean;case"function":return ze.function;case"bigint":return ze.bigint;case"symbol":return ze.symbol;case"object":return Array.isArray(t)?ze.array:t===null?ze.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ze.promise:typeof Map<"u"&&t instanceof Map?ze.map:typeof Set<"u"&&t instanceof Set?ze.set:typeof Date<"u"&&t instanceof Date?ze.date:ze.object;default:return ze.unknown}},Ne=zt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),M0e=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ka extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(s){return s.message},n={_errors:[]},a=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(e){if(!(e instanceof Ka))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,zt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(e(a))):n.push(e(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ka.create=t=>new Ka(t);const dd=(t,e)=>{let r;switch(t.code){case Ne.invalid_type:t.received===ze.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Ne.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,zt.jsonStringifyReplacer)}`;break;case Ne.unrecognized_keys:r=`Unrecognized key(s) in object: ${zt.joinValues(t.keys,", ")}`;break;case Ne.invalid_union:r="Invalid input";break;case Ne.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${zt.joinValues(t.options)}`;break;case Ne.invalid_enum_value:r=`Invalid enum value. Expected ${zt.joinValues(t.options)}, received '${t.received}'`;break;case Ne.invalid_arguments:r="Invalid function arguments";break;case Ne.invalid_return_type:r="Invalid function return type";break;case Ne.invalid_date:r="Invalid date";break;case Ne.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:zt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Ne.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Ne.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Ne.custom:r="Invalid input";break;case Ne.invalid_intersection_types:r="Intersection results could not be merged";break;case Ne.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Ne.not_finite:r="Number must be finite";break;default:r=e.defaultError,zt.assertNever(t)}return{message:r}};let Vz=dd;function Q0e(t){Vz=t}function Qv(){return Vz}const Lv=t=>{const{data:e,path:r,errorMaps:n,issueData:a}=t,s=[...r,...a.path||[]],o={...a,path:s};if(a.message!==void 0)return{...a,path:s,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...a,path:s,message:l}},L0e=[];function Me(t,e){const r=Qv(),n=Lv({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===dd?void 0:dd].filter(a=>!!a)});t.common.issues.push(n)}class ta{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const a of r){if(a.status==="aborted")return pt;a.status==="dirty"&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const a of r){const s=await a.key,o=await a.value;n.push({key:s,value:o})}return ta.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const a of r){const{key:s,value:o}=a;if(s.status==="aborted"||o.status==="aborted")return pt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}}const pt=Object.freeze({status:"aborted"}),vA=t=>({status:"dirty",value:t}),ha=t=>({status:"valid",value:t}),b2=t=>t.status==="aborted",w2=t=>t.status==="dirty",Sm=t=>t.status==="valid",Nm=t=>typeof Promise<"u"&&t instanceof Promise;function Hv(t,e,r,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Kz(t,e,r,n,a){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var st;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(st||(st={}));var mf,pf;class yi{constructor(e,r,n,a){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const eR=(t,e)=>{if(Sm(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ka(t.common.issues);return this._error=r,this._error}}};function Et(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:a}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(o,l)=>{var c,u;const{message:A}=t;return o.code==="invalid_enum_value"?{message:A??l.defaultError}:typeof l.data>"u"?{message:(c=A??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=A??r)!==null&&u!==void 0?u:l.defaultError}},description:a}}class Nt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ko(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Ko(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ta,ctx:{common:e.parent.common,data:e.data,parsedType:Ko(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Nm(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ko(e)},s=this._parseSync({data:e,path:a.path,parent:a});return eR(a,s)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ko(e)},a=this._parse({data:e,path:n.path,parent:n}),s=await(Nm(a)?a:Promise.resolve(a));return eR(n,s)}refine(e,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,s)=>{const o=e(a),l=()=>s.addIssue({code:Ne.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,a)=>e(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(e){return new Hs({schema:this,typeName:ht.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ai.create(this,this._def)}nullable(){return Pl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Rs.create(this,this._def)}promise(){return fd.create(this,this._def)}or(e){return Pm.create([this,e],this._def)}and(e){return Fm.create(this,e,this._def)}transform(e){return new Hs({...Et(this._def),schema:this,typeName:ht.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Mm({...Et(this._def),innerType:this,defaultValue:r,typeName:ht.ZodDefault})}brand(){return new mI({typeName:ht.ZodBranded,type:this,...Et(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Qm({...Et(this._def),innerType:this,catchValue:r,typeName:ht.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return rg.create(this,e)}readonly(){return Lm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const H0e=/^c[^\s-]{8,}$/i,$0e=/^[0-9a-z]+$/,V0e=/^[0-9A-HJKMNP-TV-Z]{26}$/,K0e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,q0e=/^[a-z0-9_-]{21}$/i,z0e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,G0e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,W0e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let i_;const X0e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Y0e=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,J0e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,qz="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Z0e=new RegExp(`^${qz}$`);function zz(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function exe(t){return new RegExp(`^${zz(t)}$`)}function Gz(t){let e=`${qz}T${zz(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function txe(t,e){return!!((e==="v4"||!e)&&X0e.test(t)||(e==="v6"||!e)&&Y0e.test(t))}class Is extends Nt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ze.string){const s=this._getOrReturnCtx(e);return Me(s,{code:Ne.invalid_type,expected:ze.string,received:s.parsedType}),pt}const n=new ta;let a;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(a=this._getOrReturnCtx(e,a),Me(a,{code:Ne.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(a=this._getOrReturnCtx(e,a),Me(a,{code:Ne.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,l=e.data.length<s.value;(o||l)&&(a=this._getOrReturnCtx(e,a),o?Me(a,{code:Ne.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&Me(a,{code:Ne.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")G0e.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"email",code:Ne.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")i_||(i_=new RegExp(W0e,"u")),i_.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"emoji",code:Ne.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")K0e.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"uuid",code:Ne.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")q0e.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"nanoid",code:Ne.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")H0e.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"cuid",code:Ne.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")$0e.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"cuid2",code:Ne.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")V0e.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"ulid",code:Ne.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),Me(a,{validation:"url",code:Ne.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"regex",code:Ne.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(e,a),Me(a,{code:Ne.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(a=this._getOrReturnCtx(e,a),Me(a,{code:Ne.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(a=this._getOrReturnCtx(e,a),Me(a,{code:Ne.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?Gz(s).test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{code:Ne.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?Z0e.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{code:Ne.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?exe(s).test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{code:Ne.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?z0e.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"duration",code:Ne.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?txe(e.data,s.version)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"ip",code:Ne.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?J0e.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"base64",code:Ne.invalid_string,message:s.message}),n.dirty()):zt.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(a=>e.test(a),{validation:r,code:Ne.invalid_string,...st.errToObj(n)})}_addCheck(e){return new Is({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...st.errToObj(e)})}url(e){return this._addCheck({kind:"url",...st.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...st.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...st.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...st.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...st.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...st.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...st.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...st.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...st.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...st.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...st.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...st.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...st.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...st.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...st.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...st.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...st.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...st.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...st.errToObj(r)})}nonempty(e){return this.min(1,st.errToObj(e))}trim(){return new Is({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Is({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Is({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Is.create=t=>{var e;return new Is({checks:[],typeName:ht.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Et(t)})};function rxe(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,a=r>n?r:n,s=parseInt(t.toFixed(a).replace(".","")),o=parseInt(e.toFixed(a).replace(".",""));return s%o/Math.pow(10,a)}class kl extends Nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ze.number){const s=this._getOrReturnCtx(e);return Me(s,{code:Ne.invalid_type,expected:ze.number,received:s.parsedType}),pt}let n;const a=new ta;for(const s of this._def.checks)s.kind==="int"?zt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Me(n,{code:Ne.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Me(n,{code:Ne.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Me(n,{code:Ne.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?rxe(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),Me(n,{code:Ne.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Me(n,{code:Ne.not_finite,message:s.message}),a.dirty()):zt.assertNever(s);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,st.toString(r))}gt(e,r){return this.setLimit("min",e,!1,st.toString(r))}lte(e,r){return this.setLimit("max",e,!0,st.toString(r))}lt(e,r){return this.setLimit("max",e,!1,st.toString(r))}setLimit(e,r,n,a){return new kl({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:st.toString(a)}]})}_addCheck(e){return new kl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:st.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:st.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:st.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:st.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:st.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:st.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:st.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:st.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:st.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&zt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}kl.create=t=>new kl({checks:[],typeName:ht.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Et(t)});class Tl extends Nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ze.bigint){const s=this._getOrReturnCtx(e);return Me(s,{code:Ne.invalid_type,expected:ze.bigint,received:s.parsedType}),pt}let n;const a=new ta;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Me(n,{code:Ne.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Me(n,{code:Ne.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Me(n,{code:Ne.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):zt.assertNever(s);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,st.toString(r))}gt(e,r){return this.setLimit("min",e,!1,st.toString(r))}lte(e,r){return this.setLimit("max",e,!0,st.toString(r))}lt(e,r){return this.setLimit("max",e,!1,st.toString(r))}setLimit(e,r,n,a){return new Tl({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:st.toString(a)}]})}_addCheck(e){return new Tl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:st.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:st.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:st.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:st.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:st.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Tl.create=t=>{var e;return new Tl({checks:[],typeName:ht.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Et(t)})};class km extends Nt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ze.boolean){const n=this._getOrReturnCtx(e);return Me(n,{code:Ne.invalid_type,expected:ze.boolean,received:n.parsedType}),pt}return ha(e.data)}}km.create=t=>new km({typeName:ht.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Et(t)});class uu extends Nt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ze.date){const s=this._getOrReturnCtx(e);return Me(s,{code:Ne.invalid_type,expected:ze.date,received:s.parsedType}),pt}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Me(s,{code:Ne.invalid_date}),pt}const n=new ta;let a;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(a=this._getOrReturnCtx(e,a),Me(a,{code:Ne.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(a=this._getOrReturnCtx(e,a),Me(a,{code:Ne.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):zt.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new uu({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:st.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:st.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}uu.create=t=>new uu({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ht.ZodDate,...Et(t)});class $v extends Nt{_parse(e){if(this._getType(e)!==ze.symbol){const n=this._getOrReturnCtx(e);return Me(n,{code:Ne.invalid_type,expected:ze.symbol,received:n.parsedType}),pt}return ha(e.data)}}$v.create=t=>new $v({typeName:ht.ZodSymbol,...Et(t)});class Tm extends Nt{_parse(e){if(this._getType(e)!==ze.undefined){const n=this._getOrReturnCtx(e);return Me(n,{code:Ne.invalid_type,expected:ze.undefined,received:n.parsedType}),pt}return ha(e.data)}}Tm.create=t=>new Tm({typeName:ht.ZodUndefined,...Et(t)});class Im extends Nt{_parse(e){if(this._getType(e)!==ze.null){const n=this._getOrReturnCtx(e);return Me(n,{code:Ne.invalid_type,expected:ze.null,received:n.parsedType}),pt}return ha(e.data)}}Im.create=t=>new Im({typeName:ht.ZodNull,...Et(t)});class hd extends Nt{constructor(){super(...arguments),this._any=!0}_parse(e){return ha(e.data)}}hd.create=t=>new hd({typeName:ht.ZodAny,...Et(t)});class Kc extends Nt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ha(e.data)}}Kc.create=t=>new Kc({typeName:ht.ZodUnknown,...Et(t)});class oo extends Nt{_parse(e){const r=this._getOrReturnCtx(e);return Me(r,{code:Ne.invalid_type,expected:ze.never,received:r.parsedType}),pt}}oo.create=t=>new oo({typeName:ht.ZodNever,...Et(t)});class Vv extends Nt{_parse(e){if(this._getType(e)!==ze.undefined){const n=this._getOrReturnCtx(e);return Me(n,{code:Ne.invalid_type,expected:ze.void,received:n.parsedType}),pt}return ha(e.data)}}Vv.create=t=>new Vv({typeName:ht.ZodVoid,...Et(t)});class Rs extends Nt{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),a=this._def;if(r.parsedType!==ze.array)return Me(r,{code:Ne.invalid_type,expected:ze.array,received:r.parsedType}),pt;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Me(r,{code:o?Ne.too_big:Ne.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Me(r,{code:Ne.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Me(r,{code:Ne.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new yi(r,o,r.path,l)))).then(o=>ta.mergeArray(n,o));const s=[...r.data].map((o,l)=>a.type._parseSync(new yi(r,o,r.path,l)));return ta.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new Rs({...this._def,minLength:{value:e,message:st.toString(r)}})}max(e,r){return new Rs({...this._def,maxLength:{value:e,message:st.toString(r)}})}length(e,r){return new Rs({...this._def,exactLength:{value:e,message:st.toString(r)}})}nonempty(e){return this.min(1,e)}}Rs.create=(t,e)=>new Rs({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ht.ZodArray,...Et(e)});function mA(t){if(t instanceof Fr){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Ai.create(mA(n))}return new Fr({...t._def,shape:()=>e})}else return t instanceof Rs?new Rs({...t._def,type:mA(t.element)}):t instanceof Ai?Ai.create(mA(t.unwrap())):t instanceof Pl?Pl.create(mA(t.unwrap())):t instanceof bi?bi.create(t.items.map(e=>mA(e))):t}class Fr extends Nt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=zt.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==ze.object){const u=this._getOrReturnCtx(e);return Me(u,{code:Ne.invalid_type,expected:ze.object,received:u.parsedType}),pt}const{status:n,ctx:a}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof oo&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const A=s[u],d=a.data[u];c.push({key:{status:"valid",value:u},value:A._parse(new yi(a,d,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof oo){const u=this._def.unknownKeys;if(u==="passthrough")for(const A of l)c.push({key:{status:"valid",value:A},value:{status:"valid",value:a.data[A]}});else if(u==="strict")l.length>0&&(Me(a,{code:Ne.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const A of l){const d=a.data[A];c.push({key:{status:"valid",value:A},value:u._parse(new yi(a,d,a.path,A)),alwaysSet:A in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const A of c){const d=await A.key,h=await A.value;u.push({key:d,value:h,alwaysSet:A.alwaysSet})}return u}).then(u=>ta.mergeObjectSync(n,u)):ta.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return st.errToObj,new Fr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,s,o,l;const c=(o=(s=(a=this._def).errorMap)===null||s===void 0?void 0:s.call(a,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=st.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Fr({...this._def,unknownKeys:"strip"})}passthrough(){return new Fr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Fr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Fr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ht.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Fr({...this._def,catchall:e})}pick(e){const r={};return zt.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Fr({...this._def,shape:()=>r})}omit(e){const r={};return zt.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Fr({...this._def,shape:()=>r})}deepPartial(){return mA(this)}partial(e){const r={};return zt.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];e&&!e[n]?r[n]=a:r[n]=a.optional()}),new Fr({...this._def,shape:()=>r})}required(e){const r={};return zt.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Ai;)s=s._def.innerType;r[n]=s}}),new Fr({...this._def,shape:()=>r})}keyof(){return Wz(zt.objectKeys(this.shape))}}Fr.create=(t,e)=>new Fr({shape:()=>t,unknownKeys:"strip",catchall:oo.create(),typeName:ht.ZodObject,...Et(e)});Fr.strictCreate=(t,e)=>new Fr({shape:()=>t,unknownKeys:"strict",catchall:oo.create(),typeName:ht.ZodObject,...Et(e)});Fr.lazycreate=(t,e)=>new Fr({shape:t,unknownKeys:"strip",catchall:oo.create(),typeName:ht.ZodObject,...Et(e)});class Pm extends Nt{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function a(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new Ka(l.ctx.common.issues));return Me(r,{code:Ne.invalid_union,unionErrors:o}),pt}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let s;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},A=c._parseSync({data:r.data,path:r.path,parent:u});if(A.status==="valid")return A;A.status==="dirty"&&!s&&(s={result:A,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new Ka(c));return Me(r,{code:Ne.invalid_union,unionErrors:l}),pt}}get options(){return this._def.options}}Pm.create=(t,e)=>new Pm({options:t,typeName:ht.ZodUnion,...Et(e)});const Mi=t=>t instanceof Om?Mi(t.schema):t instanceof Hs?Mi(t.innerType()):t instanceof Rm?[t.value]:t instanceof Il?t.options:t instanceof Um?zt.objectValues(t.enum):t instanceof Mm?Mi(t._def.innerType):t instanceof Tm?[void 0]:t instanceof Im?[null]:t instanceof Ai?[void 0,...Mi(t.unwrap())]:t instanceof Pl?[null,...Mi(t.unwrap())]:t instanceof mI||t instanceof Lm?Mi(t.unwrap()):t instanceof Qm?Mi(t._def.innerType):[];class iw extends Nt{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ze.object)return Me(r,{code:Ne.invalid_type,expected:ze.object,received:r.parsedType}),pt;const n=this.discriminator,a=r.data[n],s=this.optionsMap.get(a);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(Me(r,{code:Ne.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),pt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const a=new Map;for(const s of r){const o=Mi(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);a.set(l,s)}}return new iw({typeName:ht.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:a,...Et(n)})}}function _2(t,e){const r=Ko(t),n=Ko(e);if(t===e)return{valid:!0,data:t};if(r===ze.object&&n===ze.object){const a=zt.objectKeys(e),s=zt.objectKeys(t).filter(l=>a.indexOf(l)!==-1),o={...t,...e};for(const l of s){const c=_2(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===ze.array&&n===ze.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let s=0;s<t.length;s++){const o=t[s],l=e[s],c=_2(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===ze.date&&n===ze.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Fm extends Nt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=(s,o)=>{if(b2(s)||b2(o))return pt;const l=_2(s.value,o.value);return l.valid?((w2(s)||w2(o))&&r.dirty(),{status:r.value,value:l.data}):(Me(n,{code:Ne.invalid_intersection_types}),pt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>a(s,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Fm.create=(t,e,r)=>new Fm({left:t,right:e,typeName:ht.ZodIntersection,...Et(r)});class bi extends Nt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ze.array)return Me(n,{code:Ne.invalid_type,expected:ze.array,received:n.parsedType}),pt;if(n.data.length<this._def.items.length)return Me(n,{code:Ne.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),pt;!this._def.rest&&n.data.length>this._def.items.length&&(Me(n,{code:Ne.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new yi(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>ta.mergeArray(r,o)):ta.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new bi({...this._def,rest:e})}}bi.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new bi({items:t,typeName:ht.ZodTuple,rest:null,...Et(e)})};class Dm extends Nt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ze.object)return Me(n,{code:Ne.invalid_type,expected:ze.object,received:n.parsedType}),pt;const a=[],s=this._def.keyType,o=this._def.valueType;for(const l in n.data)a.push({key:s._parse(new yi(n,l,n.path,l)),value:o._parse(new yi(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?ta.mergeObjectAsync(r,a):ta.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Nt?new Dm({keyType:e,valueType:r,typeName:ht.ZodRecord,...Et(n)}):new Dm({keyType:Is.create(),valueType:e,typeName:ht.ZodRecord,...Et(r)})}}class Kv extends Nt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ze.map)return Me(n,{code:Ne.invalid_type,expected:ze.map,received:n.parsedType}),pt;const a=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new yi(n,l,n.path,[u,"key"])),value:s._parse(new yi(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,A=await c.value;if(u.status==="aborted"||A.status==="aborted")return pt;(u.status==="dirty"||A.status==="dirty")&&r.dirty(),l.set(u.value,A.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,A=c.value;if(u.status==="aborted"||A.status==="aborted")return pt;(u.status==="dirty"||A.status==="dirty")&&r.dirty(),l.set(u.value,A.value)}return{status:r.value,value:l}}}}Kv.create=(t,e,r)=>new Kv({valueType:e,keyType:t,typeName:ht.ZodMap,...Et(r)});class Au extends Nt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ze.set)return Me(n,{code:Ne.invalid_type,expected:ze.set,received:n.parsedType}),pt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Me(n,{code:Ne.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Me(n,{code:Ne.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const A of c){if(A.status==="aborted")return pt;A.status==="dirty"&&r.dirty(),u.add(A.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>s._parse(new yi(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,r){return new Au({...this._def,minSize:{value:e,message:st.toString(r)}})}max(e,r){return new Au({...this._def,maxSize:{value:e,message:st.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Au.create=(t,e)=>new Au({valueType:t,minSize:null,maxSize:null,typeName:ht.ZodSet,...Et(e)});class SA extends Nt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ze.function)return Me(r,{code:Ne.invalid_type,expected:ze.function,received:r.parsedType}),pt;function n(l,c){return Lv({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Qv(),dd].filter(u=>!!u),issueData:{code:Ne.invalid_arguments,argumentsError:c}})}function a(l,c){return Lv({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Qv(),dd].filter(u=>!!u),issueData:{code:Ne.invalid_return_type,returnTypeError:c}})}const s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof fd){const l=this;return ha(async function(...c){const u=new Ka([]),A=await l._def.args.parseAsync(c,s).catch(f=>{throw u.addIssue(n(c,f)),u}),d=await Reflect.apply(o,this,A);return await l._def.returns._def.type.parseAsync(d,s).catch(f=>{throw u.addIssue(a(d,f)),u})})}else{const l=this;return ha(function(...c){const u=l._def.args.safeParse(c,s);if(!u.success)throw new Ka([n(c,u.error)]);const A=Reflect.apply(o,this,u.data),d=l._def.returns.safeParse(A,s);if(!d.success)throw new Ka([a(A,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new SA({...this._def,args:bi.create(e).rest(Kc.create())})}returns(e){return new SA({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new SA({args:e||bi.create([]).rest(Kc.create()),returns:r||Kc.create(),typeName:ht.ZodFunction,...Et(n)})}}class Om extends Nt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Om.create=(t,e)=>new Om({getter:t,typeName:ht.ZodLazy,...Et(e)});class Rm extends Nt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Me(r,{received:r.data,code:Ne.invalid_literal,expected:this._def.value}),pt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Rm.create=(t,e)=>new Rm({value:t,typeName:ht.ZodLiteral,...Et(e)});function Wz(t,e){return new Il({values:t,typeName:ht.ZodEnum,...Et(e)})}class Il extends Nt{constructor(){super(...arguments),mf.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Me(r,{expected:zt.joinValues(n),received:r.parsedType,code:Ne.invalid_type}),pt}if(Hv(this,mf)||Kz(this,mf,new Set(this._def.values)),!Hv(this,mf).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Me(r,{received:r.data,code:Ne.invalid_enum_value,options:n}),pt}return ha(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Il.create(e,{...this._def,...r})}exclude(e,r=this._def){return Il.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}mf=new WeakMap;Il.create=Wz;class Um extends Nt{constructor(){super(...arguments),pf.set(this,void 0)}_parse(e){const r=zt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ze.string&&n.parsedType!==ze.number){const a=zt.objectValues(r);return Me(n,{expected:zt.joinValues(a),received:n.parsedType,code:Ne.invalid_type}),pt}if(Hv(this,pf)||Kz(this,pf,new Set(zt.getValidEnumValues(this._def.values))),!Hv(this,pf).has(e.data)){const a=zt.objectValues(r);return Me(n,{received:n.data,code:Ne.invalid_enum_value,options:a}),pt}return ha(e.data)}get enum(){return this._def.values}}pf=new WeakMap;Um.create=(t,e)=>new Um({values:t,typeName:ht.ZodNativeEnum,...Et(e)});class fd extends Nt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ze.promise&&r.common.async===!1)return Me(r,{code:Ne.invalid_type,expected:ze.promise,received:r.parsedType}),pt;const n=r.parsedType===ze.promise?r.data:Promise.resolve(r.data);return ha(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}fd.create=(t,e)=>new fd({type:t,typeName:ht.ZodPromise,...Et(e)});class Hs extends Nt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ht.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=this._def.effect||null,s={addIssue:o=>{Me(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){const o=a.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return pt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?pt:c.status==="dirty"||r.value==="dirty"?vA(c.value):c});{if(r.value==="aborted")return pt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?pt:l.status==="dirty"||r.value==="dirty"?vA(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?pt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?pt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Sm(o))return o;const l=a.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Sm(o)?Promise.resolve(a.transform(o.value,s)).then(l=>({status:r.value,value:l})):o);zt.assertNever(a)}}Hs.create=(t,e,r)=>new Hs({schema:t,typeName:ht.ZodEffects,effect:e,...Et(r)});Hs.createWithPreprocess=(t,e,r)=>new Hs({schema:e,effect:{type:"preprocess",transform:t},typeName:ht.ZodEffects,...Et(r)});class Ai extends Nt{_parse(e){return this._getType(e)===ze.undefined?ha(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ai.create=(t,e)=>new Ai({innerType:t,typeName:ht.ZodOptional,...Et(e)});class Pl extends Nt{_parse(e){return this._getType(e)===ze.null?ha(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Pl.create=(t,e)=>new Pl({innerType:t,typeName:ht.ZodNullable,...Et(e)});class Mm extends Nt{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===ze.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Mm.create=(t,e)=>new Mm({innerType:t,typeName:ht.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Et(e)});class Qm extends Nt{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Nm(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ka(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ka(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Qm.create=(t,e)=>new Qm({innerType:t,typeName:ht.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Et(e)});class qv extends Nt{_parse(e){if(this._getType(e)!==ze.nan){const n=this._getOrReturnCtx(e);return Me(n,{code:Ne.invalid_type,expected:ze.nan,received:n.parsedType}),pt}return{status:"valid",value:e.data}}}qv.create=t=>new qv({typeName:ht.ZodNaN,...Et(t)});const nxe=Symbol("zod_brand");class mI extends Nt{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class rg extends Nt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?pt:s.status==="dirty"?(r.dirty(),vA(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?pt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(e,r){return new rg({in:e,out:r,typeName:ht.ZodPipeline})}}class Lm extends Nt{_parse(e){const r=this._def.innerType._parse(e),n=a=>(Sm(a)&&(a.value=Object.freeze(a.value)),a);return Nm(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}Lm.create=(t,e)=>new Lm({innerType:t,typeName:ht.ZodReadonly,...Et(e)});function Xz(t,e={},r){return t?hd.create().superRefine((n,a)=>{var s,o;if(!t(n)){const l=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,c=(o=(s=l.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0,u=typeof l=="string"?{message:l}:l;a.addIssue({code:"custom",...u,fatal:c})}}):hd.create()}const axe={object:Fr.lazycreate};var ht;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ht||(ht={}));const sxe=(t,e={message:`Input not instance of ${t.name}`})=>Xz(r=>r instanceof t,e),ur=Is.create,di=kl.create,ixe=qv.create,oxe=Tl.create,fl=km.create,lxe=uu.create,cxe=$v.create,uxe=Tm.create,Axe=Im.create,dxe=hd.create,hxe=Kc.create,fxe=oo.create,mxe=Vv.create,pxe=Rs.create,Ks=Fr.create,gxe=Fr.strictCreate,xxe=Pm.create,vxe=iw.create,yxe=Fm.create,bxe=bi.create,wxe=Dm.create,_xe=Kv.create,Bxe=Au.create,Cxe=SA.create,jxe=Om.create,Yz=Rm.create,md=Il.create,Exe=Um.create,Sxe=fd.create,tR=Hs.create,Nxe=Ai.create,kxe=Pl.create,Txe=Hs.createWithPreprocess,Ixe=rg.create,Pxe=()=>ur().optional(),Fxe=()=>di().optional(),Dxe=()=>fl().optional(),Oxe={string:t=>Is.create({...t,coerce:!0}),number:t=>kl.create({...t,coerce:!0}),boolean:t=>km.create({...t,coerce:!0}),bigint:t=>Tl.create({...t,coerce:!0}),date:t=>uu.create({...t,coerce:!0})},Rxe=pt;var nn=Object.freeze({__proto__:null,defaultErrorMap:dd,setErrorMap:Q0e,getErrorMap:Qv,makeIssue:Lv,EMPTY_PATH:L0e,addIssueToContext:Me,ParseStatus:ta,INVALID:pt,DIRTY:vA,OK:ha,isAborted:b2,isDirty:w2,isValid:Sm,isAsync:Nm,get util(){return zt},get objectUtil(){return y2},ZodParsedType:ze,getParsedType:Ko,ZodType:Nt,datetimeRegex:Gz,ZodString:Is,ZodNumber:kl,ZodBigInt:Tl,ZodBoolean:km,ZodDate:uu,ZodSymbol:$v,ZodUndefined:Tm,ZodNull:Im,ZodAny:hd,ZodUnknown:Kc,ZodNever:oo,ZodVoid:Vv,ZodArray:Rs,ZodObject:Fr,ZodUnion:Pm,ZodDiscriminatedUnion:iw,ZodIntersection:Fm,ZodTuple:bi,ZodRecord:Dm,ZodMap:Kv,ZodSet:Au,ZodFunction:SA,ZodLazy:Om,ZodLiteral:Rm,ZodEnum:Il,ZodNativeEnum:Um,ZodPromise:fd,ZodEffects:Hs,ZodTransformer:Hs,ZodOptional:Ai,ZodNullable:Pl,ZodDefault:Mm,ZodCatch:Qm,ZodNaN:qv,BRAND:nxe,ZodBranded:mI,ZodPipeline:rg,ZodReadonly:Lm,custom:Xz,Schema:Nt,ZodSchema:Nt,late:axe,get ZodFirstPartyTypeKind(){return ht},coerce:Oxe,any:dxe,array:pxe,bigint:oxe,boolean:fl,date:lxe,discriminatedUnion:vxe,effect:tR,enum:md,function:Cxe,instanceof:sxe,intersection:yxe,lazy:jxe,literal:Yz,map:_xe,nan:ixe,nativeEnum:Exe,never:fxe,null:Axe,nullable:kxe,number:di,object:Ks,oboolean:Dxe,onumber:Fxe,optional:Nxe,ostring:Pxe,pipeline:Ixe,preprocess:Txe,promise:Sxe,record:wxe,set:Bxe,strictObject:gxe,string:ur,symbol:cxe,transformer:tR,tuple:bxe,undefined:uxe,union:xxe,unknown:hxe,void:mxe,NEVER:Rxe,ZodIssueCode:Ne,quotelessJson:M0e,ZodError:Ka});const Uxe=()=>{const t=Rt();return i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Akses Akun"}),i.jsx("p",{className:"text-muted-foreground",children:"Masuk untuk mengelola akun dan pesanan Anda"})]}),i.jsxs("div",{className:"w-full max-w-sm space-y-4",children:[i.jsx(z,{onClick:()=>t("/login"),className:"w-full bg-flame-500 hover:bg-flame-600",children:"Masuk"}),i.jsx(z,{onClick:()=>t("/register"),variant:"outline",className:"w-full",children:"Buat Akun"})]})]})},Mxe=Ks({name:ur().min(1,"Nama wajib diisi"),phone:ur().regex(/^(\+?62|0)[0-9]{9,13}$/,"Harus nomor telepon Indonesia yang valid (dimulai dengan +62 atau 0)").optional().or(Yz(""))}),Qxe=({profile:t,onUpdate:e,onCancel:r})=>{const[n,a]=v.useState(!1),s=ca({resolver:ua(Mxe),defaultValues:{name:(t==null?void 0:t.name)||"",phone:(t==null?void 0:t.phone)||""}}),o=async l=>{try{a(!0);const c={name:l.name,phone:l.phone===""?void 0:l.phone};await e(c)}catch(c){console.error("Error updating profile:",c)}finally{a(!1)}};return i.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[i.jsx("h3",{className:"text-md font-medium mb-4",children:"Edit Profil"}),i.jsx(ea,{...s,children:i.jsxs("form",{onSubmit:s.handleSubmit(o),className:"space-y-4",children:[i.jsx(Ke,{control:s.control,name:"name",render:({field:l})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Nama Lengkap"}),i.jsx(He,{children:i.jsx(he,{placeholder:"Masukkan nama lengkap",...l})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:s.control,name:"phone",render:({field:l})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Nomor Telepon"}),i.jsx(He,{children:i.jsx(he,{placeholder:"contoh: 081234567890",...l})}),i.jsx(Ge,{})]})}),i.jsxs("div",{className:"flex space-x-2 pt-2",children:[i.jsx(z,{type:"submit",className:"flex-1 bg-flame-500 hover:bg-flame-600",disabled:n,children:n?"Menyimpan...":"Simpan Perubahan"}),i.jsx(z,{type:"button",variant:"outline",className:"flex-1",onClick:r,disabled:n,children:"Batal"})]})]})})]})},Lxe=()=>{const{user:t,profile:e,logout:r,refreshProfile:n}=Hr(),{toast:a}=$s(),[s,o]=v.useState([]),[l,c]=v.useState(!0),[u,A]=v.useState(!1),d=Rt();v.useEffect(()=>{(async()=>{try{if(c(!0),t){const{data:g,error:m}=await Z.from("addresses").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});m?console.error("Error fetching addresses:",m):o(g||[])}}catch(g){console.error("Error fetching user data:",g)}finally{c(!1)}})()},[t]);const h=async p=>{try{if(!t)return;const{error:g}=await Z.from("profiles").update({name:p.name,phone:p.phone}).eq("id",t.id);if(g){console.error("Error updating profile:",g),a({variant:"destructive",title:"Gagal memperbarui profil",description:g.message});return}await n(),a({title:"Profil berhasil diperbarui",description:"Informasi profil Anda telah disimpan"}),A(!1)}catch(g){console.error("Error in profile update:",g),a({variant:"destructive",title:"Terjadi kesalahan",description:"Gagal memperbarui profil. Silakan coba lagi."})}},f=async()=>{try{await r(),a({title:"Berhasil keluar",description:"Anda telah keluar dari akun"}),d("/")}catch(p){console.error("Error logging out:",p),a({variant:"destructive",title:"Gagal keluar",description:"Terjadi kesalahan saat mencoba keluar. Silakan coba lagi."})}};return l?i.jsx("div",{className:"min-h-[60vh] flex flex-col items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground",children:"Tunggu Sebentar..."})}):i.jsxs("div",{className:"pb-16",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h1",{className:"text-xl font-bold",children:"Akun Saya"}),i.jsxs(z,{variant:"ghost",size:"sm",onClick:f,className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:[i.jsx(Sk,{className:"h-4 w-4 mr-1"}),"Keluar"]})]}),i.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"bg-slate-100 h-16 w-16 rounded-full flex items-center justify-center mr-4",children:i.jsx(YA,{className:"h-8 w-8 text-slate-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-semibold text-lg",children:(e==null?void 0:e.name)||"Pengguna"}),i.jsxs("p",{className:"text-slate-500 text-sm flex items-center",children:[i.jsx(JE,{className:"h-3 w-3 mr-1"}),e==null?void 0:e.email]}),(e==null?void 0:e.phone)&&i.jsxs("p",{className:"text-slate-500 text-sm flex items-center mt-1",children:[i.jsx(ZE,{className:"h-3 w-3 mr-1"}),e.phone]})]})]})}),i.jsxs(ja,{defaultValue:"profile",className:"w-full",children:[i.jsxs(da,{className:"grid w-full grid-cols-2",children:[i.jsx(kt,{value:"profile",children:"Informasi Pribadi"}),i.jsx(kt,{value:"addresses",children:"Alamat Saya"})]}),i.jsx(Yt,{value:"profile",className:"mt-4 space-y-4",children:u?i.jsx("div",{className:"p-5 rounded-lg bg-white shadow-sm",children:i.jsx(Qxe,{profile:e,onUpdate:h,onCancel:()=>A(!1)})}):i.jsxs("div",{className:"p-5 rounded-lg bg-white shadow-sm",children:[i.jsxs("h3",{className:"text-md font-medium mb-4 flex items-center",children:[i.jsx(YA,{className:"h-4 w-4 mr-2 text-slate-500"}),"Informasi Pribadi"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"pb-3 border-b border-slate-100",children:[i.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Nama Lengkap"}),i.jsx("p",{className:"font-medium",children:(e==null?void 0:e.name)||"-"})]}),i.jsxs("div",{className:"pb-3 border-b border-slate-100",children:[i.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Email"}),i.jsxs("p",{className:"font-medium flex items-center",children:[i.jsx(JE,{className:"h-4 w-4 mr-2 text-slate-400"}),(e==null?void 0:e.email)||"-"]})]}),i.jsxs("div",{className:"pb-3 border-b border-slate-100",children:[i.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Nomor Telepon"}),i.jsxs("p",{className:"font-medium flex items-center",children:[i.jsx(ZE,{className:"h-4 w-4 mr-2 text-slate-400"}),(e==null?void 0:e.phone)||"-"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Status Akun"}),i.jsxs("p",{className:"font-medium flex items-center",children:[i.jsx(a$,{className:"h-4 w-4 mr-2 text-green-500"}),"Terverifikasi"]})]})]}),i.jsx(z,{onClick:()=>A(!0),variant:"outline",className:"mt-6 w-full",children:"Edit Profil"})]})}),i.jsx(Yt,{value:"addresses",className:"mt-4",children:s.length===0?i.jsxs("div",{className:"text-center py-8 bg-white rounded-lg shadow-sm",children:[i.jsx(V4,{className:"w-12 h-12 text-slate-300 mx-auto mb-2"}),i.jsx("p",{className:"text-slate-500 mb-2",children:"Belum ada alamat tersimpan"}),i.jsx("p",{className:"text-sm text-slate-400 mb-4 max-w-xs mx-auto",children:"Tambahkan alamat untuk mempermudah proses checkout saat berbelanja"}),i.jsx(z,{onClick:()=>d("/address/new"),className:"bg-flame-500 hover:bg-flame-600",children:"Tambah Alamat"})]}):i.jsxs("div",{className:"space-y-4",children:[s.map(p=>i.jsxs("div",{className:"border rounded-lg p-3 bg-white",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:p.name}),p.isDefault&&i.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded-full",children:"Utama"})]}),i.jsx(mt,{to:`/address/${p.id}`,className:"text-sm text-flame-600 hover:text-flame-500",children:"Ubah"})]}),i.jsx("p",{className:"text-sm mt-1",children:p.street}),i.jsxs("p",{className:"text-sm",children:[p.city,", ",p.state," ",p.zip]})]},p.id)),i.jsx("div",{className:"flex justify-center mt-2",children:i.jsxs(z,{onClick:()=>d("/address/new"),variant:"outline",className:"w-full",children:[i.jsx(V4,{className:"h-4 w-4 mr-2"}),"Tambah Alamat Baru"]})})]})})]})]})},Hxe=()=>{const{user:t}=Hr();return i.jsx(Jt,{children:i.jsx("div",{className:"p-4",children:t?i.jsx(Lxe,{}):i.jsx(Uxe,{})})})};var pI="Checkbox",[$xe,eHe]=Ea(pI),[Vxe,Kxe]=$xe(pI),Jz=v.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:A,...d}=t,[h,f]=v.useState(null),p=bt(e,x=>f(x)),g=v.useRef(!1),m=h?A||!!h.closest("form"):!0,[b=!1,y]=As({prop:a,defaultProp:s,onChange:u}),w=v.useRef(b);return v.useEffect(()=>{const x=h==null?void 0:h.form;if(x){const C=()=>y(w.current);return x.addEventListener("reset",C),()=>x.removeEventListener("reset",C)}},[h,y]),i.jsxs(Vxe,{scope:r,state:b,disabled:l,children:[i.jsx(et.button,{type:"button",role:"checkbox","aria-checked":ml(b)?"mixed":b,"aria-required":o,"data-state":tG(b),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:p,onKeyDown:Oe(t.onKeyDown,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:Oe(t.onClick,x=>{y(C=>ml(C)?!0:!C),m&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})}),m&&i.jsx(qxe,{control:h,bubbles:!g.current,name:n,value:c,checked:b,required:o,disabled:l,form:A,style:{transform:"translateX(-100%)"},defaultChecked:ml(s)?!1:s})]})});Jz.displayName=pI;var Zz="CheckboxIndicator",eG=v.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...a}=t,s=Kxe(Zz,r);return i.jsx(fa,{present:n||ml(s.state)||s.state===!0,children:i.jsx(et.span,{"data-state":tG(s.state),"data-disabled":s.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...t.style}})})});eG.displayName=Zz;var qxe=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:a,...s}=t,o=v.useRef(null),l=Wp(r),c=Op(e);v.useEffect(()=>{const A=o.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&f){const p=new Event("click",{bubbles:n});A.indeterminate=ml(r),f.call(A,ml(r)?!1:r),A.dispatchEvent(p)}},[l,r,n]);const u=v.useRef(ml(r)?!1:r);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??u.current,...s,tabIndex:-1,ref:o,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ml(t){return t==="indeterminate"}function tG(t){return ml(t)?"indeterminate":t?"checked":"unchecked"}var rG=Jz,zxe=eG;const gI=v.forwardRef(({className:t,...e},r)=>i.jsx(rG,{ref:r,className:fe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:i.jsx(zxe,{className:fe("flex items-center justify-center text-current"),children:i.jsx(Ck,{className:"h-4 w-4"})})}));gI.displayName=rG.displayName;const Gxe=()=>{const{id:t}=Qp(),e=Rt(),{toast:r}=$s(),{user:n}=Hr(),a=t==="new",[s,o]=v.useState(""),[l,c]=v.useState(""),[u,A]=v.useState(""),[d,h]=v.useState(""),[f,p]=v.useState(""),[g,m]=v.useState(""),[b,y]=v.useState(!1),[w,x]=v.useState(!1);v.useEffect(()=>{(async()=>{if(!(a||!n))try{x(!0);const{data:j,error:N}=await Z.from("addresses").select("*").eq("id",t).eq("user_id",n.id).single();if(N)throw N;j&&(o(j.name),c(j.street),A(j.city),h(j.state),p(j.zip),m(j.country),y(j.is_default))}catch(j){r({title:"Error",description:j.message||"Tidak dapat memuat detail alamat",variant:"destructive"})}finally{x(!1)}})()},[t,n,a,r]);const C=async B=>{if(B.preventDefault(),!n){r({title:"Error",description:"Anda harus login untuk menyimpan alamat",variant:"destructive"});return}try{x(!0),b&&await Z.from("addresses").update({is_default:!1}).eq("user_id",n.id);const j={name:s,street:l,city:u,state:d,zip:f,country:g,is_default:b,user_id:n.id};if(a){const{error:N}=await Z.from("addresses").insert([j]);if(N)throw N;r({title:"Alamat Ditambahkan",description:"Alamat Anda telah berhasil disimpan"})}else{const{error:N}=await Z.from("addresses").update(j).eq("id",t).eq("user_id",n.id);if(N)throw N;r({title:"Alamat Diperbarui",description:"Alamat Anda telah berhasil diperbarui"})}e("/profile")}catch(j){r({title:"Error",description:j.message||"Tidak dapat menyimpan alamat",variant:"destructive"})}finally{x(!1)}},E=async()=>{if(!n||a||!t||t==="undefined"){r({title:"Konfirmasi penghapusan",description:"Apakah Anda yakin ingin menghapus alamat ini?",variant:"destructive"});return}try{x(!0);const{error:B}=await Z.from("addresses").delete().eq("id",t).eq("user_id",n.id);if(B)throw B;r({title:"Alamat Dihapus",description:"Alamat Anda telah berhasil dihapus"}),e("/profile")}catch(B){r({title:"Error",description:B.message||"Tidak dapat menghapus alamat",variant:"destructive"})}finally{x(!1)}};return i.jsx(Jt,{children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsxs("button",{onClick:()=>e("/profile"),className:"text-charcoal-600 flex items-center",children:[i.jsx(Ds,{className:"h-5 w-5 mr-1"}),i.jsx("span",{children:"Kembali"})]}),i.jsx("h1",{className:"text-xl font-bold text-center flex-1 pr-6",children:a?"Tambah Alamat Baru":"Edit Alamat"})]}),i.jsxs("form",{onSubmit:C,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"name",children:"Nama Alamat"}),i.jsx(he,{id:"name",type:"text",value:s,onChange:B=>o(B.target.value),placeholder:"Rumah, Kantor, dll.",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"street",children:"Alamat Jalan"}),i.jsx(he,{id:"street",type:"text",value:l,onChange:B=>c(B.target.value),placeholder:"Jl. Contoh No. 123",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"city",children:"Kota"}),i.jsx(he,{id:"city",type:"text",value:u,onChange:B=>A(B.target.value),placeholder:"Nama Kota",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"state",children:"Provinsi"}),i.jsx(he,{id:"state",type:"text",value:d,onChange:B=>h(B.target.value),placeholder:"Nama Provinsi",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"zip",children:"Kode Pos"}),i.jsx(he,{id:"zip",type:"text",value:f,onChange:B=>p(B.target.value),placeholder:"Kode Pos",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"country",children:"Catatan Detail Lokasi"}),i.jsx(he,{id:"country",type:"text",value:g,onChange:B=>m(B.target.value),placeholder:"Ceritakan Detail Lokasi Agar Lebih Mudah Ditemukan",required:!0})]}),i.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[i.jsx(gI,{id:"isDefault",checked:b,onCheckedChange:B=>y(B===!0)}),i.jsx(Te,{htmlFor:"isDefault",children:"Jadikan alamat utama"})]}),i.jsx("div",{className:"pt-4",children:i.jsx(z,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:w,children:w?"Menyimpan...":"Simpan Alamat"})}),!a&&i.jsx("div",{className:"pt-2",children:i.jsx(z,{type:"button",variant:"outline",className:"w-full text-destructive border-destructive",onClick:E,disabled:w,children:"Hapus Alamat"})})]})]})})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var B2=function(t,e){return B2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},B2(t,e)};function qs(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");B2(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var C2=function(){return C2=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},C2.apply(this,arguments)};function ia(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(t,[])).next())})}function Hn(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(A){return c([u,A])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(A){u=[6,A],a=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function c0(t,e,r){if(arguments.length===2)for(var n=0,a=e.length,s;n<a;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||e)}var lo=function(){function t(e,r,n,a){this.left=e,this.top=r,this.width=n,this.height=a}return t.prototype.add=function(e,r,n,a){return new t(this.left+e,this.top+r,this.width+n,this.height+a)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(a){return a.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),ow=function(t,e){return lo.fromClientRect(t,e.getBoundingClientRect())},Wxe=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),a=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new lo(0,0,n,a)},lw=function(t){for(var e=[],r=0,n=t.length;r<n;){var a=t.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((a&1023)<<10)+(s&1023)+65536):(e.push(a),r--)}else e.push(a)}return e},Vr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],a=-1,s="";++a<r;){var o=t[a];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(a+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},rR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xxe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var u0=0;u0<rR.length;u0++)Xxe[rR.charCodeAt(u0)]=u0;var nR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var A0=0;A0<nR.length;A0++)gf[nR.charCodeAt(A0)]=A0;var Yxe=function(t){var e=t.length*.75,r=t.length,n,a=0,s,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)s=gf[t.charCodeAt(n)],o=gf[t.charCodeAt(n+1)],l=gf[t.charCodeAt(n+2)],c=gf[t.charCodeAt(n+3)],A[a++]=s<<2|o>>4,A[a++]=(o&15)<<4|l>>2,A[a++]=(l&3)<<6|c&63;return u},Jxe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},Zxe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},qc=5,xI=11,o_=2,eve=xI-qc,nG=65536>>qc,tve=1<<qc,l_=tve-1,rve=1024>>qc,nve=nG+rve,ave=nve,sve=32,ive=ave+sve,ove=65536>>xI,lve=1<<eve,cve=lve-1,aR=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},uve=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},Ave=function(t,e){var r=Yxe(t),n=Array.isArray(r)?Zxe(r):new Uint32Array(r),a=Array.isArray(r)?Jxe(r):new Uint16Array(r),s=24,o=aR(a,s/2,n[4]/2),l=n[5]===2?aR(a,(s+n[4])/2):uve(n,Math.ceil((s+n[4])/4));return new dve(n[0],n[1],n[2],n[3],o,l)},dve=function(){function t(e,r,n,a,s,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=s,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>qc],r=(r<<o_)+(e&l_),this.data[r];if(e<=65535)return r=this.index[nG+(e-55296>>qc)],r=(r<<o_)+(e&l_),this.data[r];if(e<this.highStart)return r=ive-ove+(e>>xI),r=this.index[r],r+=e>>qc&cve,r=this.index[r],r=(r<<o_)+(e&l_),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),sR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hve=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var d0=0;d0<sR.length;d0++)hve[sR.charCodeAt(d0)]=d0;var fve="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",iR=50,mve=1,aG=2,sG=3,pve=4,gve=5,oR=7,iG=8,lR=9,al=10,j2=11,cR=12,E2=13,xve=14,xf=15,S2=16,h0=17,Vh=18,vve=19,uR=20,N2=21,Kh=22,c_=23,Xu=24,Ta=25,vf=26,yf=27,Yu=28,yve=29,jc=30,bve=31,f0=32,m0=33,k2=34,T2=35,I2=36,Hm=37,P2=38,hx=39,fx=40,u_=41,oG=42,wve=43,_ve=[9001,65288],lG="!",Dt="",p0="",F2=Ave(fve),Ii=[jc,I2],D2=[mve,aG,sG,gve],cG=[al,iG],AR=[yf,vf],Bve=D2.concat(cG),dR=[P2,hx,fx,k2,T2],Cve=[xf,E2],jve=function(t,e){e===void 0&&(e="strict");var r=[],n=[],a=[];return t.forEach(function(s,o){var l=F2.get(s);if(l>iR?(a.push(!0),l-=iR):a.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(o),r.push(S2);if(l===pve||l===j2){if(o===0)return n.push(o),r.push(jc);var c=r[o-1];return Bve.indexOf(c)===-1?(n.push(n[o-1]),r.push(c)):(n.push(o),r.push(jc))}if(n.push(o),l===bve)return r.push(e==="strict"?N2:Hm);if(l===oG||l===yve)return r.push(jc);if(l===wve)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(Hm):r.push(jc);r.push(l)}),[n,r,a]},A_=function(t,e,r,n){var a=n[r];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var s=r;s<=n.length;){s++;var o=n[s];if(o===e)return!0;if(o!==al)break}if(a===al)for(var s=r;s>0;){s--;var l=n[s];if(Array.isArray(t)?t.indexOf(l)!==-1:t===l)for(var c=r;c<=n.length;){c++;var o=n[c];if(o===e)return!0;if(o!==al)break}if(l!==al)break}return!1},hR=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===al)r--;else return n}return 0},Eve=function(t,e,r,n,a){if(r[n]===0)return Dt;var s=n-1;if(Array.isArray(a)&&a[s]===!0)return Dt;var o=s-1,l=s+1,c=e[s],u=o>=0?e[o]:0,A=e[l];if(c===aG&&A===sG)return Dt;if(D2.indexOf(c)!==-1)return lG;if(D2.indexOf(A)!==-1||cG.indexOf(A)!==-1)return Dt;if(hR(s,e)===iG)return p0;if(F2.get(t[s])===j2||(c===f0||c===m0)&&F2.get(t[l])===j2||c===oR||A===oR||c===lR||[al,E2,xf].indexOf(c)===-1&&A===lR||[h0,Vh,vve,Xu,Yu].indexOf(A)!==-1||hR(s,e)===Kh||A_(c_,Kh,s,e)||A_([h0,Vh],N2,s,e)||A_(cR,cR,s,e))return Dt;if(c===al)return p0;if(c===c_||A===c_)return Dt;if(A===S2||c===S2)return p0;if([E2,xf,N2].indexOf(A)!==-1||c===xve||u===I2&&Cve.indexOf(c)!==-1||c===Yu&&A===I2||A===uR||Ii.indexOf(A)!==-1&&c===Ta||Ii.indexOf(c)!==-1&&A===Ta||c===yf&&[Hm,f0,m0].indexOf(A)!==-1||[Hm,f0,m0].indexOf(c)!==-1&&A===vf||Ii.indexOf(c)!==-1&&AR.indexOf(A)!==-1||AR.indexOf(c)!==-1&&Ii.indexOf(A)!==-1||[yf,vf].indexOf(c)!==-1&&(A===Ta||[Kh,xf].indexOf(A)!==-1&&e[l+1]===Ta)||[Kh,xf].indexOf(c)!==-1&&A===Ta||c===Ta&&[Ta,Yu,Xu].indexOf(A)!==-1)return Dt;if([Ta,Yu,Xu,h0,Vh].indexOf(A)!==-1)for(var d=s;d>=0;){var h=e[d];if(h===Ta)return Dt;if([Yu,Xu].indexOf(h)!==-1)d--;else break}if([yf,vf].indexOf(A)!==-1)for(var d=[h0,Vh].indexOf(c)!==-1?o:s;d>=0;){var h=e[d];if(h===Ta)return Dt;if([Yu,Xu].indexOf(h)!==-1)d--;else break}if(P2===c&&[P2,hx,k2,T2].indexOf(A)!==-1||[hx,k2].indexOf(c)!==-1&&[hx,fx].indexOf(A)!==-1||[fx,T2].indexOf(c)!==-1&&A===fx||dR.indexOf(c)!==-1&&[uR,vf].indexOf(A)!==-1||dR.indexOf(A)!==-1&&c===yf||Ii.indexOf(c)!==-1&&Ii.indexOf(A)!==-1||c===Xu&&Ii.indexOf(A)!==-1||Ii.concat(Ta).indexOf(c)!==-1&&A===Kh&&_ve.indexOf(t[l])===-1||Ii.concat(Ta).indexOf(A)!==-1&&c===Vh)return Dt;if(c===u_&&A===u_){for(var f=r[s],p=1;f>0&&(f--,e[f]===u_);)p++;if(p%2!==0)return Dt}return c===f0&&A===m0?Dt:p0},Sve=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=jve(t,e.lineBreak),n=r[0],a=r[1],s=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(a=a.map(function(l){return[Ta,jc,oG].indexOf(l)!==-1?Hm:l}));var o=e.wordBreak==="keep-all"?s.map(function(l,c){return l&&t[c]>=19968&&t[c]<=40959}):void 0;return[n,a,o]},Nve=function(){function t(e,r,n,a){this.codePoints=e,this.required=r===lG,this.start=n,this.end=a}return t.prototype.slice=function(){return Vr.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),kve=function(t,e){var r=lw(t),n=Sve(r,e),a=n[0],s=n[1],o=n[2],l=r.length,c=0,u=0;return{next:function(){if(u>=l)return{done:!0,value:null};for(var A=Dt;u<l&&(A=Eve(r,s,a,++u,o))===Dt;);if(A!==Dt||u===l){var d=new Nve(r,A,c,u);return c=u,{value:d,done:!1}}return{done:!0,value:null}}}},Tve=1,Ive=2,ng=4,fR=8,zv=10,mR=47,Hf=92,Pve=9,Fve=32,g0=34,qh=61,Dve=35,Ove=36,Rve=37,x0=39,v0=40,zh=41,Uve=95,_a=45,Mve=33,Qve=60,Lve=62,Hve=64,$ve=91,Vve=93,Kve=61,qve=123,y0=63,zve=125,pR=124,Gve=126,Wve=128,gR=65533,d_=42,Tc=43,Xve=44,Yve=58,Jve=59,$m=46,Zve=0,eye=8,tye=11,rye=14,nye=31,aye=127,Ws=-1,uG=48,AG=97,dG=101,sye=102,iye=117,oye=122,hG=65,fG=69,mG=70,lye=85,cye=90,Kn=function(t){return t>=uG&&t<=57},uye=function(t){return t>=55296&&t<=57343},Ju=function(t){return Kn(t)||t>=hG&&t<=mG||t>=AG&&t<=sye},Aye=function(t){return t>=AG&&t<=oye},dye=function(t){return t>=hG&&t<=cye},hye=function(t){return Aye(t)||dye(t)},fye=function(t){return t>=Wve},b0=function(t){return t===zv||t===Pve||t===Fve},Gv=function(t){return hye(t)||fye(t)||t===Uve},xR=function(t){return Gv(t)||Kn(t)||t===_a},mye=function(t){return t>=Zve&&t<=eye||t===tye||t>=rye&&t<=nye||t===aye},Mo=function(t,e){return t!==Hf?!1:e!==zv},w0=function(t,e,r){return t===_a?Gv(e)||Mo(e,r):Gv(t)?!0:!!(t===Hf&&Mo(t,e))},h_=function(t,e,r){return t===Tc||t===_a?Kn(e)?!0:e===$m&&Kn(r):Kn(t===$m?e:t)},pye=function(t){var e=0,r=1;(t[e]===Tc||t[e]===_a)&&(t[e]===_a&&(r=-1),e++);for(var n=[];Kn(t[e]);)n.push(t[e++]);var a=n.length?parseInt(Vr.apply(void 0,n),10):0;t[e]===$m&&e++;for(var s=[];Kn(t[e]);)s.push(t[e++]);var o=s.length,l=o?parseInt(Vr.apply(void 0,s),10):0;(t[e]===fG||t[e]===dG)&&e++;var c=1;(t[e]===Tc||t[e]===_a)&&(t[e]===_a&&(c=-1),e++);for(var u=[];Kn(t[e]);)u.push(t[e++]);var A=u.length?parseInt(Vr.apply(void 0,u),10):0;return r*(a+l*Math.pow(10,-o))*Math.pow(10,c*A)},gye={type:2},xye={type:3},vye={type:4},yye={type:13},bye={type:8},wye={type:21},_ye={type:9},Bye={type:10},Cye={type:11},jye={type:12},Eye={type:14},_0={type:23},Sye={type:1},Nye={type:25},kye={type:24},Tye={type:26},Iye={type:27},Pye={type:28},Fye={type:29},Dye={type:31},O2={type:32},pG=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(lw(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==O2;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case g0:return this.consumeStringToken(g0);case Dve:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(xR(r)||Mo(n,a)){var s=w0(r,n,a)?Ive:Tve,o=this.consumeName();return{type:5,value:o,flags:s}}break;case Ove:if(this.peekCodePoint(0)===qh)return this.consumeCodePoint(),yye;break;case x0:return this.consumeStringToken(x0);case v0:return gye;case zh:return xye;case d_:if(this.peekCodePoint(0)===qh)return this.consumeCodePoint(),Eye;break;case Tc:if(h_(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Xve:return vye;case _a:var l=e,c=this.peekCodePoint(0),u=this.peekCodePoint(1);if(h_(l,c,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(w0(l,c,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(c===_a&&u===Lve)return this.consumeCodePoint(),this.consumeCodePoint(),kye;break;case $m:if(h_(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case mR:if(this.peekCodePoint(0)===d_)for(this.consumeCodePoint();;){var A=this.consumeCodePoint();if(A===d_&&(A=this.consumeCodePoint(),A===mR))return this.consumeToken();if(A===Ws)return this.consumeToken()}break;case Yve:return Tye;case Jve:return Iye;case Qve:if(this.peekCodePoint(0)===Mve&&this.peekCodePoint(1)===_a&&this.peekCodePoint(2)===_a)return this.consumeCodePoint(),this.consumeCodePoint(),Nye;break;case Hve:var d=this.peekCodePoint(0),h=this.peekCodePoint(1),f=this.peekCodePoint(2);if(w0(d,h,f)){var o=this.consumeName();return{type:7,value:o}}break;case $ve:return Pye;case Hf:if(Mo(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case Vve:return Fye;case Kve:if(this.peekCodePoint(0)===qh)return this.consumeCodePoint(),bye;break;case qve:return Cye;case zve:return jye;case iye:case lye:var p=this.peekCodePoint(0),g=this.peekCodePoint(1);return p===Tc&&(Ju(g)||g===y0)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case pR:if(this.peekCodePoint(0)===qh)return this.consumeCodePoint(),_ye;if(this.peekCodePoint(0)===pR)return this.consumeCodePoint(),wye;break;case Gve:if(this.peekCodePoint(0)===qh)return this.consumeCodePoint(),Bye;break;case Ws:return O2}return b0(e)?(this.consumeWhiteSpace(),Dye):Kn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Gv(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Vr(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();Ju(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===y0&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(Vr.apply(void 0,e.map(function(c){return c===y0?uG:c})),16),s=parseInt(Vr.apply(void 0,e.map(function(c){return c===y0?mG:c})),16);return{type:30,start:a,end:s}}var o=parseInt(Vr.apply(void 0,e),16);if(this.peekCodePoint(0)===_a&&Ju(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];Ju(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var s=parseInt(Vr.apply(void 0,l),16);return{type:30,start:o,end:s}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===v0?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===v0?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ws)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===x0||r===g0){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ws||this.peekCodePoint(0)===zh)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),_0)}for(;;){var a=this.consumeCodePoint();if(a===Ws||a===zh)return{type:22,value:Vr.apply(void 0,e)};if(b0(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ws||this.peekCodePoint(0)===zh?(this.consumeCodePoint(),{type:22,value:Vr.apply(void 0,e)}):(this.consumeBadUrlRemnants(),_0);if(a===g0||a===x0||a===v0||mye(a))return this.consumeBadUrlRemnants(),_0;if(a===Hf)if(Mo(a,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),_0;else e.push(a)}},t.prototype.consumeWhiteSpace=function(){for(;b0(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===zh||e===Ws)return;Mo(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var a=Math.min(r,e);n+=Vr.apply(void 0,this._value.splice(0,a)),e-=a}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var a=this._value[n];if(a===Ws||a===void 0||a===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(a===zv)return this._value.splice(0,n),Sye;if(a===Hf){var s=this._value[n+1];s!==Ws&&s!==void 0&&(s===zv?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Mo(a,s)&&(r+=this.consumeStringSlice(n),r+=Vr(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=ng,n=this.peekCodePoint(0);for((n===Tc||n===_a)&&e.push(this.consumeCodePoint());Kn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===$m&&Kn(a))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=fR;Kn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===fG||n===dG)&&((a===Tc||a===_a)&&Kn(s)||Kn(a)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=fR;Kn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[pye(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],a=this.peekCodePoint(0),s=this.peekCodePoint(1),o=this.peekCodePoint(2);if(w0(a,s,o)){var l=this.consumeName();return{type:15,number:r,flags:n,unit:l}}return a===Rve?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Ju(e)){for(var r=Vr(e);Ju(this.peekCodePoint(0))&&r.length<6;)r+=Vr(this.consumeCodePoint());b0(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||uye(n)||n>1114111?gR:n}return e===Ws?gR:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(xR(r))e+=Vr(r);else if(Mo(r,this.peekCodePoint(0)))e+=Vr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),gG=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new pG;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||Rye(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?O2:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),ag=function(t){return t.type===15},ih=function(t){return t.type===17},Ar=function(t){return t.type===20},Oye=function(t){return t.type===0},R2=function(t,e){return Ar(t)&&t.value===e},xG=function(t){return t.type!==31},pd=function(t){return t.type!==31&&t.type!==4},Bi=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},Rye=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},Fl=function(t){return t.type===17||t.type===15},Yr=function(t){return t.type===16||Fl(t)},vG=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Fn={type:17,number:0,flags:ng},vI={type:16,number:50,flags:ng},sl={type:16,number:100,flags:ng},bf=function(t,e,r){var n=t[0],a=t[1];return[Br(n,e),Br(typeof a<"u"?a:n,r)]},Br=function(t,e){if(t.type===16)return t.number/100*e;if(ag(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},yG="deg",bG="grad",wG="rad",_G="turn",cw={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case yG:return Math.PI*e.number/180;case bG:return Math.PI/200*e.number;case wG:return e.number;case _G:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},BG=function(t){return t.type===15&&(t.unit===yG||t.unit===bG||t.unit===wG||t.unit===_G)},CG=function(t){var e=t.filter(Ar).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Fn,Fn];case"to top":case"bottom":return ns(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Fn,sl];case"to right":case"left":return ns(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[sl,sl];case"to bottom":case"top":return ns(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[sl,Fn];case"to left":case"right":return ns(270)}return 0},ns=function(t){return Math.PI*t/180},pl={name:"color",parse:function(t,e){if(e.type===18){var r=Uye[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),a=e.value.substring(1,2),s=e.value.substring(2,3);return il(parseInt(n+n,16),parseInt(a+a,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),a=e.value.substring(1,2),s=e.value.substring(2,3),o=e.value.substring(3,4);return il(parseInt(n+n,16),parseInt(a+a,16),parseInt(s+s,16),parseInt(o+o,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),a=e.value.substring(2,4),s=e.value.substring(4,6);return il(parseInt(n,16),parseInt(a,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),a=e.value.substring(2,4),s=e.value.substring(4,6),o=e.value.substring(6,8);return il(parseInt(n,16),parseInt(a,16),parseInt(s,16),parseInt(o,16)/255)}}if(e.type===20){var l=Xi[e.value.toUpperCase()];if(typeof l<"u")return l}return Xi.TRANSPARENT}},gl=function(t){return(255&t)===0},dn=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,a=255&t>>24;return e<255?"rgba("+a+","+n+","+r+","+e/255+")":"rgb("+a+","+n+","+r+")"},il=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},vR=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},yR=function(t,e){var r=e.filter(pd);if(r.length===3){var n=r.map(vR),a=n[0],s=n[1],o=n[2];return il(a,s,o,1)}if(r.length===4){var l=r.map(vR),a=l[0],s=l[1],o=l[2],c=l[3];return il(a,s,o,c)}return 0};function f_(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var bR=function(t,e){var r=e.filter(pd),n=r[0],a=r[1],s=r[2],o=r[3],l=(n.type===17?ns(n.number):cw.parse(t,n))/(Math.PI*2),c=Yr(a)?a.number/100:0,u=Yr(s)?s.number/100:0,A=typeof o<"u"&&Yr(o)?Br(o,1):1;if(c===0)return il(u*255,u*255,u*255,1);var d=u<=.5?u*(c+1):u+c-u*c,h=u*2-d,f=f_(h,d,l+1/3),p=f_(h,d,l),g=f_(h,d,l-1/3);return il(f*255,p*255,g*255,A)},Uye={hsl:bR,hsla:bR,rgb:yR,rgba:yR},$f=function(t,e){return pl.parse(t,gG.create(e).parseComponentValue())},Xi={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Mye={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Ar(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Qye={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},uw=function(t,e){var r=pl.parse(t,e[0]),n=e[1];return n&&Yr(n)?{color:r,stop:n}:{color:r,stop:null}},wR=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=Fn),n.stop===null&&(n.stop=sl);for(var a=[],s=0,o=0;o<t.length;o++){var l=t[o].stop;if(l!==null){var c=Br(l,e);c>s?a.push(c):a.push(s),s=c}else a.push(null)}for(var u=null,o=0;o<a.length;o++){var A=a[o];if(A===null)u===null&&(u=o);else if(u!==null){for(var d=o-u,h=a[u-1],f=(A-h)/(d+1),p=1;p<=d;p++)a[u+p-1]=f*p;u=null}}return t.map(function(g,m){var b=g.color;return{color:b,stop:Math.max(Math.min(1,a[m]/e),0)}})},Lye=function(t,e,r){var n=e/2,a=r/2,s=Br(t[0],e)-n,o=a-Br(t[1],r);return(Math.atan2(o,s)+Math.PI*2)%(Math.PI*2)},Hye=function(t,e,r){var n=typeof t=="number"?t:Lye(t,e,r),a=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),s=e/2,o=r/2,l=a/2,c=Math.sin(n-Math.PI/2)*l,u=Math.cos(n-Math.PI/2)*l;return[a,s-u,s+u,o-c,o+c]},vs=function(t,e){return Math.sqrt(t*t+e*e)},_R=function(t,e,r,n,a){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(o,l){var c=l[0],u=l[1],A=vs(r-c,n-u);return(a?A<o.optimumDistance:A>o.optimumDistance)?{optimumCorner:l,optimumDistance:A}:o},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},$ye=function(t,e,r,n,a){var s=0,o=0;switch(t.size){case 0:t.shape===0?s=o=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-a)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),o=Math.min(Math.abs(r),Math.abs(r-a)));break;case 2:if(t.shape===0)s=o=Math.min(vs(e,r),vs(e,r-a),vs(e-n,r),vs(e-n,r-a));else if(t.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-a))/Math.min(Math.abs(e),Math.abs(e-n)),c=_R(n,a,e,r,!0),u=c[0],A=c[1];s=vs(u-e,(A-r)/l),o=l*s}break;case 1:t.shape===0?s=o=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-a)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),o=Math.max(Math.abs(r),Math.abs(r-a)));break;case 3:if(t.shape===0)s=o=Math.max(vs(e,r),vs(e,r-a),vs(e-n,r),vs(e-n,r-a));else if(t.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-a))/Math.max(Math.abs(e),Math.abs(e-n)),d=_R(n,a,e,r,!1),u=d[0],A=d[1];s=vs(u-e,(A-r)/l),o=l*s}break}return Array.isArray(t.size)&&(s=Br(t.size[0],n),o=t.size.length===2?Br(t.size[1],a):s),[s,o]},Vye=function(t,e){var r=ns(180),n=[];return Bi(e).forEach(function(a,s){if(s===0){var o=a[0];if(o.type===20&&o.value==="to"){r=CG(a);return}else if(BG(o)){r=cw.parse(t,o);return}}var l=uw(t,a);n.push(l)}),{angle:r,stops:n,type:1}},B0=function(t,e){var r=ns(180),n=[];return Bi(e).forEach(function(a,s){if(s===0){var o=a[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=CG(a);return}else if(BG(o)){r=(cw.parse(t,o)+ns(270))%ns(360);return}}var l=uw(t,a);n.push(l)}),{angle:r,stops:n,type:1}},Kye=function(t,e){var r=ns(180),n=[],a=1,s=0,o=3,l=[];return Bi(e).forEach(function(c,u){var A=c[0];if(u===0){if(Ar(A)&&A.value==="linear"){a=1;return}else if(Ar(A)&&A.value==="radial"){a=2;return}}if(A.type===18){if(A.name==="from"){var d=pl.parse(t,A.values[0]);n.push({stop:Fn,color:d})}else if(A.name==="to"){var d=pl.parse(t,A.values[0]);n.push({stop:sl,color:d})}else if(A.name==="color-stop"){var h=A.values.filter(pd);if(h.length===2){var d=pl.parse(t,h[1]),f=h[0];ih(f)&&n.push({stop:{type:16,number:f.number*100,flags:f.flags},color:d})}}}}),a===1?{angle:(r+ns(180))%ns(360),stops:n,type:a}:{size:o,shape:s,stops:n,position:l,type:a}},jG="closest-side",EG="farthest-side",SG="closest-corner",NG="farthest-corner",kG="circle",TG="ellipse",IG="cover",PG="contain",qye=function(t,e){var r=0,n=3,a=[],s=[];return Bi(e).forEach(function(o,l){var c=!0;if(l===0){var u=!1;c=o.reduce(function(d,h){if(u)if(Ar(h))switch(h.value){case"center":return s.push(vI),d;case"top":case"left":return s.push(Fn),d;case"right":case"bottom":return s.push(sl),d}else(Yr(h)||Fl(h))&&s.push(h);else if(Ar(h))switch(h.value){case kG:return r=0,!1;case TG:return r=1,!1;case"at":return u=!0,!1;case jG:return n=0,!1;case IG:case EG:return n=1,!1;case PG:case SG:return n=2,!1;case NG:return n=3,!1}else if(Fl(h)||Yr(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return d},c)}if(c){var A=uw(t,o);a.push(A)}}),{size:n,shape:r,stops:a,position:s,type:2}},C0=function(t,e){var r=0,n=3,a=[],s=[];return Bi(e).forEach(function(o,l){var c=!0;if(l===0?c=o.reduce(function(A,d){if(Ar(d))switch(d.value){case"center":return s.push(vI),!1;case"top":case"left":return s.push(Fn),!1;case"right":case"bottom":return s.push(sl),!1}else if(Yr(d)||Fl(d))return s.push(d),!1;return A},c):l===1&&(c=o.reduce(function(A,d){if(Ar(d))switch(d.value){case kG:return r=0,!1;case TG:return r=1,!1;case PG:case jG:return n=0,!1;case EG:return n=1,!1;case SG:return n=2,!1;case IG:case NG:return n=3,!1}else if(Fl(d)||Yr(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return A},c)),c){var u=uw(t,o);a.push(u)}}),{size:n,shape:r,stops:a,position:s,type:2}},zye=function(t){return t.type===1},Gye=function(t){return t.type===2},yI={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=FG[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function Wye(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!FG[t.name])}var FG={"linear-gradient":Vye,"-moz-linear-gradient":B0,"-ms-linear-gradient":B0,"-o-linear-gradient":B0,"-webkit-linear-gradient":B0,"radial-gradient":qye,"-moz-radial-gradient":C0,"-ms-radial-gradient":C0,"-o-radial-gradient":C0,"-webkit-radial-gradient":C0,"-webkit-gradient":Kye},Xye={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return pd(n)&&Wye(n)}).map(function(n){return yI.parse(t,n)})}},Yye={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Ar(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Jye={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Bi(e).map(function(r){return r.filter(Yr)}).map(vG)}},Zye={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Bi(e).map(function(r){return r.filter(Ar).map(function(n){return n.value}).join(" ")}).map(ebe)}},ebe=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},NA;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(NA||(NA={}));var tbe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Bi(e).map(function(r){return r.filter(rbe)})}},rbe=function(t){return Ar(t)||Yr(t)},Aw=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},nbe=Aw("top"),abe=Aw("right"),sbe=Aw("bottom"),ibe=Aw("left"),dw=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return vG(r.filter(Yr))}}},obe=dw("top-left"),lbe=dw("top-right"),cbe=dw("bottom-right"),ube=dw("bottom-left"),hw=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Abe=hw("top"),dbe=hw("right"),hbe=hw("bottom"),fbe=hw("left"),fw=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return ag(r)?r.number:0}}},mbe=fw("top"),pbe=fw("right"),gbe=fw("bottom"),xbe=fw("left"),vbe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ybe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},bbe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Ar).reduce(function(r,n){return r|wbe(n.value)},0)}},wbe=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},_be={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Bbe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Wv;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Wv||(Wv={}));var Cbe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Wv.STRICT;case"normal":default:return Wv.NORMAL}}},jbe={name:"line-height",initialValue:"normal",prefix:!1,type:4},BR=function(t,e){return Ar(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Yr(t)?Br(t,e):e},Ebe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:yI.parse(t,e)}},Sbe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},U2={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},mw=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},Nbe=mw("top"),kbe=mw("right"),Tbe=mw("bottom"),Ibe=mw("left"),Pbe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Ar).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Fbe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},pw=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Dbe=pw("top"),Obe=pw("right"),Rbe=pw("bottom"),Ube=pw("left"),Mbe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Qbe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Lbe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&R2(e[0],"none")?[]:Bi(e).map(function(r){for(var n={color:Xi.TRANSPARENT,offsetX:Fn,offsetY:Fn,blur:Fn},a=0,s=0;s<r.length;s++){var o=r[s];Fl(o)?(a===0?n.offsetX=o:a===1?n.offsetY=o:n.blur=o,a++):n.color=pl.parse(t,o)}return n})}},Hbe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},$be={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=qbe[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},Vbe=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},Kbe=function(t){var e=t.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=e[0],n=e[1];e[2],e[3];var a=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],l=e[13];return e[14],e[15],e.length===16?[r,n,a,s,o,l]:null},qbe={matrix:Vbe,matrix3d:Kbe},CR={type:16,number:50,flags:ng},zbe=[CR,CR],Gbe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(Yr);return r.length!==2?zbe:[r[0],r[1]]}},Wbe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Vf;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Vf||(Vf={}));var Xbe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Vf.BREAK_ALL;case"keep-all":return Vf.KEEP_ALL;case"normal":default:return Vf.NORMAL}}},Ybe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(ih(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},DG={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Jbe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return ih(e)?e.number:1}},Zbe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ewe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Ar).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},twe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(a){switch(a.type){case 20:case 0:r.push(a.value);break;case 17:r.push(a.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},rwe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},nwe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(ih(e))return e.number;if(Ar(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},awe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Ar).map(function(r){return r.value})}},swe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},an=function(t,e){return(t&e)!==0},iwe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},owe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],a=e.filter(xG),s=0;s<a.length;s++){var o=a[s],l=a[s+1];if(o.type===20){var c=l&&ih(l)?l.number:1;n.push({counter:o.value,increment:c})}}return n}},lwe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(xG),a=0;a<n.length;a++){var s=n[a],o=n[a+1];if(Ar(s)&&s.value!=="none"){var l=o&&ih(o)?o.number:0;r.push({counter:s.value,reset:l})}}return r}},cwe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(ag).map(function(r){return DG.parse(t,r)})}},uwe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],a=e.filter(Oye);if(a.length%2!==0)return null;for(var s=0;s<a.length;s+=2){var o=a[s].value,l=a[s+1].value;n.push({open:o,close:l})}return n}},jR=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},Awe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&R2(e[0],"none")?[]:Bi(e).map(function(r){for(var n={color:255,offsetX:Fn,offsetY:Fn,blur:Fn,spread:Fn,inset:!1},a=0,s=0;s<r.length;s++){var o=r[s];R2(o,"inset")?n.inset=!0:Fl(o)?(a===0?n.offsetX=o:a===1?n.offsetY=o:a===2?n.blur=o:n.spread=o,a++):n.color=pl.parse(t,o)}return n})}},dwe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(Ar).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},hwe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},fwe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return ag(e)?e.number:0}},mwe=function(){function t(e,r){var n,a;this.animationDuration=qe(e,cwe,r.animationDuration),this.backgroundClip=qe(e,Mye,r.backgroundClip),this.backgroundColor=qe(e,Qye,r.backgroundColor),this.backgroundImage=qe(e,Xye,r.backgroundImage),this.backgroundOrigin=qe(e,Yye,r.backgroundOrigin),this.backgroundPosition=qe(e,Jye,r.backgroundPosition),this.backgroundRepeat=qe(e,Zye,r.backgroundRepeat),this.backgroundSize=qe(e,tbe,r.backgroundSize),this.borderTopColor=qe(e,nbe,r.borderTopColor),this.borderRightColor=qe(e,abe,r.borderRightColor),this.borderBottomColor=qe(e,sbe,r.borderBottomColor),this.borderLeftColor=qe(e,ibe,r.borderLeftColor),this.borderTopLeftRadius=qe(e,obe,r.borderTopLeftRadius),this.borderTopRightRadius=qe(e,lbe,r.borderTopRightRadius),this.borderBottomRightRadius=qe(e,cbe,r.borderBottomRightRadius),this.borderBottomLeftRadius=qe(e,ube,r.borderBottomLeftRadius),this.borderTopStyle=qe(e,Abe,r.borderTopStyle),this.borderRightStyle=qe(e,dbe,r.borderRightStyle),this.borderBottomStyle=qe(e,hbe,r.borderBottomStyle),this.borderLeftStyle=qe(e,fbe,r.borderLeftStyle),this.borderTopWidth=qe(e,mbe,r.borderTopWidth),this.borderRightWidth=qe(e,pbe,r.borderRightWidth),this.borderBottomWidth=qe(e,gbe,r.borderBottomWidth),this.borderLeftWidth=qe(e,xbe,r.borderLeftWidth),this.boxShadow=qe(e,Awe,r.boxShadow),this.color=qe(e,vbe,r.color),this.direction=qe(e,ybe,r.direction),this.display=qe(e,bbe,r.display),this.float=qe(e,_be,r.cssFloat),this.fontFamily=qe(e,twe,r.fontFamily),this.fontSize=qe(e,rwe,r.fontSize),this.fontStyle=qe(e,swe,r.fontStyle),this.fontVariant=qe(e,awe,r.fontVariant),this.fontWeight=qe(e,nwe,r.fontWeight),this.letterSpacing=qe(e,Bbe,r.letterSpacing),this.lineBreak=qe(e,Cbe,r.lineBreak),this.lineHeight=qe(e,jbe,r.lineHeight),this.listStyleImage=qe(e,Ebe,r.listStyleImage),this.listStylePosition=qe(e,Sbe,r.listStylePosition),this.listStyleType=qe(e,U2,r.listStyleType),this.marginTop=qe(e,Nbe,r.marginTop),this.marginRight=qe(e,kbe,r.marginRight),this.marginBottom=qe(e,Tbe,r.marginBottom),this.marginLeft=qe(e,Ibe,r.marginLeft),this.opacity=qe(e,Jbe,r.opacity);var s=qe(e,Pbe,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=qe(e,Fbe,r.overflowWrap),this.paddingTop=qe(e,Dbe,r.paddingTop),this.paddingRight=qe(e,Obe,r.paddingRight),this.paddingBottom=qe(e,Rbe,r.paddingBottom),this.paddingLeft=qe(e,Ube,r.paddingLeft),this.paintOrder=qe(e,dwe,r.paintOrder),this.position=qe(e,Qbe,r.position),this.textAlign=qe(e,Mbe,r.textAlign),this.textDecorationColor=qe(e,Zbe,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=qe(e,ewe,(a=r.textDecorationLine)!==null&&a!==void 0?a:r.textDecoration),this.textShadow=qe(e,Lbe,r.textShadow),this.textTransform=qe(e,Hbe,r.textTransform),this.transform=qe(e,$be,r.transform),this.transformOrigin=qe(e,Gbe,r.transformOrigin),this.visibility=qe(e,Wbe,r.visibility),this.webkitTextStrokeColor=qe(e,hwe,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=qe(e,fwe,r.webkitTextStrokeWidth),this.wordBreak=qe(e,Xbe,r.wordBreak),this.zIndex=qe(e,Ybe,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return gl(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return an(this.display,4)||an(this.display,33554432)||an(this.display,268435456)||an(this.display,536870912)||an(this.display,67108864)||an(this.display,134217728)},t}(),pwe=function(){function t(e,r){this.content=qe(e,iwe,r.content),this.quotes=qe(e,uwe,r.quotes)}return t}(),ER=function(){function t(e,r){this.counterIncrement=qe(e,owe,r.counterIncrement),this.counterReset=qe(e,lwe,r.counterReset)}return t}(),qe=function(t,e,r){var n=new pG,a=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(a);var s=new gG(n.read());switch(e.type){case 2:var o=s.parseComponentValue();return e.parse(t,Ar(o)?o.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return cw.parse(t,s.parseComponentValue());case"color":return pl.parse(t,s.parseComponentValue());case"image":return yI.parse(t,s.parseComponentValue());case"length":var l=s.parseComponentValue();return Fl(l)?l:Fn;case"length-percentage":var c=s.parseComponentValue();return Yr(c)?c:Fn;case"time":return DG.parse(t,s.parseComponentValue())}break}},gwe="data-html2canvas-debug",xwe=function(t){var e=t.getAttribute(gwe);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},M2=function(t,e){var r=xwe(t);return r===1||e===r},Ci=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,M2(r,3))debugger;this.styles=new mwe(e,window.getComputedStyle(r,null)),H2(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=ow(this.context,r),M2(r,4)&&(this.flags|=16)}return t}(),vwe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",SR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var j0=0;j0<SR.length;j0++)wf[SR.charCodeAt(j0)]=j0;var ywe=function(t){var e=t.length*.75,r=t.length,n,a=0,s,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)s=wf[t.charCodeAt(n)],o=wf[t.charCodeAt(n+1)],l=wf[t.charCodeAt(n+2)],c=wf[t.charCodeAt(n+3)],A[a++]=s<<2|o>>4,A[a++]=(o&15)<<4|l>>2,A[a++]=(l&3)<<6|c&63;return u},bwe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},wwe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},zc=5,bI=11,m_=2,_we=bI-zc,OG=65536>>zc,Bwe=1<<zc,p_=Bwe-1,Cwe=1024>>zc,jwe=OG+Cwe,Ewe=jwe,Swe=32,Nwe=Ewe+Swe,kwe=65536>>bI,Twe=1<<_we,Iwe=Twe-1,NR=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},Pwe=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},Fwe=function(t,e){var r=ywe(t),n=Array.isArray(r)?wwe(r):new Uint32Array(r),a=Array.isArray(r)?bwe(r):new Uint16Array(r),s=24,o=NR(a,s/2,n[4]/2),l=n[5]===2?NR(a,(s+n[4])/2):Pwe(n,Math.ceil((s+n[4])/4));return new Dwe(n[0],n[1],n[2],n[3],o,l)},Dwe=function(){function t(e,r,n,a,s,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=s,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>zc],r=(r<<m_)+(e&p_),this.data[r];if(e<=65535)return r=this.index[OG+(e-55296>>zc)],r=(r<<m_)+(e&p_),this.data[r];if(e<this.highStart)return r=Nwe-kwe+(e>>bI),r=this.index[r],r+=e>>zc&Iwe,r=this.index[r],r=(r<<m_)+(e&p_),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),kR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Owe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var E0=0;E0<kR.length;E0++)Owe[kR.charCodeAt(E0)]=E0;var Rwe=1,g_=2,x_=3,TR=4,IR=5,Uwe=7,PR=8,v_=9,y_=10,FR=11,DR=12,OR=13,RR=14,b_=15,Mwe=function(t){for(var e=[],r=0,n=t.length;r<n;){var a=t.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((a&1023)<<10)+(s&1023)+65536):(e.push(a),r--)}else e.push(a)}return e},Qwe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],a=-1,s="";++a<r;){var o=t[a];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(a+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},Lwe=Fwe(vwe),Ya="",w_="",Hwe=function(t){return Lwe.get(t)},$we=function(t,e,r){var n=r-2,a=e[n],s=e[r-1],o=e[r];if(s===g_&&o===x_)return Ya;if(s===g_||s===x_||s===TR||o===g_||o===x_||o===TR)return w_;if(s===PR&&[PR,v_,FR,DR].indexOf(o)!==-1||(s===FR||s===v_)&&(o===v_||o===y_)||(s===DR||s===y_)&&o===y_||o===OR||o===IR||o===Uwe||s===Rwe)return Ya;if(s===OR&&o===RR){for(;a===IR;)a=e[--n];if(a===RR)return Ya}if(s===b_&&o===b_){for(var l=0;a===b_;)l++,a=e[--n];if(l%2===0)return Ya}return w_},Vwe=function(t){var e=Mwe(t),r=e.length,n=0,a=0,s=e.map(Hwe);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=Ya;n<r&&(o=$we(e,s,++n))===Ya;);if(o!==Ya||n===r){var l=Qwe.apply(null,e.slice(a,n));return a=n,{value:l,done:!1}}return{done:!0,value:null}}}},Kwe=function(t){for(var e=Vwe(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},qwe=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var a=r.getBoundingClientRect(),s=Math.round(a.height);if(t.body.removeChild(n),s===e)return!0}}return!1},zwe=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,a=lw(n.data).map(function(c){return Vr(c)}),s=0,o={},l=a.every(function(c,u){r.setStart(n,s),r.setEnd(n,s+c.length);var A=r.getBoundingClientRect();s+=c.length;var d=A.x>o.x||A.y>o.y;return o=A,u===0?!0:d});return t.body.removeChild(e),l},Gwe=function(){return typeof new Image().crossOrigin<"u"},Wwe=function(){return typeof new XMLHttpRequest().responseType=="string"},Xwe=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},UR=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},Ywe=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var a=new Image,s=e.toDataURL();a.src=s;var o=Q2(r,r,0,0,a);return n.fillStyle="red",n.fillRect(0,0,r,r),MR(o).then(function(l){n.drawImage(l,0,0);var c=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var u=t.createElement("div");return u.style.backgroundImage="url("+s+")",u.style.height=r+"px",UR(c)?MR(Q2(r,r,0,0,u)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),UR(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},Q2=function(t,e,r,n,a){var s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg"),l=document.createElementNS(s,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(a),o},MR=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},En={get SUPPORT_RANGE_BOUNDS(){var t=qwe(document);return Object.defineProperty(En,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=En.SUPPORT_RANGE_BOUNDS&&zwe(document);return Object.defineProperty(En,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=Xwe(document);return Object.defineProperty(En,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?Ywe(document):Promise.resolve(!1);return Object.defineProperty(En,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=Gwe();return Object.defineProperty(En,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=Wwe();return Object.defineProperty(En,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(En,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(En,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Kf=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),Jwe=function(t,e,r,n){var a=t1e(e,r),s=[],o=0;return a.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(En.SUPPORT_RANGE_BOUNDS){var c=QR(n,o,l.length).getClientRects();if(c.length>1){var u=wI(l),A=0;u.forEach(function(h){s.push(new Kf(h,lo.fromDOMRectList(t,QR(n,A+o,h.length).getClientRects()))),A+=h.length})}else s.push(new Kf(l,lo.fromDOMRectList(t,c)))}else{var d=n.splitText(l.length);s.push(new Kf(l,Zwe(t,n))),n=d}else En.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));o+=l.length}),s},Zwe=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var a=e.parentNode;if(a){a.replaceChild(n,e);var s=ow(t,n);return n.firstChild&&a.replaceChild(n.firstChild,n),s}}return lo.EMPTY},QR=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(t,e),a.setEnd(t,e+r),a},wI=function(t){if(En.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return Kwe(t)},e1e=function(t,e){if(En.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return n1e(t,e)},t1e=function(t,e){return e.letterSpacing!==0?wI(t):e1e(t,e)},r1e=[32,160,4961,65792,65793,4153,4241],n1e=function(t,e){for(var r=kve(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],a,s=function(){if(a.value){var o=a.value.slice(),l=lw(o),c="";l.forEach(function(u){r1e.indexOf(u)===-1?c+=Vr(u):(c.length&&n.push(c),n.push(Vr(u)),c="")}),c.length&&n.push(c)}};!(a=r.next()).done;)s();return n},a1e=function(){function t(e,r,n){this.text=s1e(r.data,n.textTransform),this.textBounds=Jwe(e,this.text,n,r)}return t}(),s1e=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(i1e,o1e);case 2:return t.toUpperCase();default:return t}},i1e=/(^|\s|:|-|\(|\))([a-z])/g,o1e=function(t,e,r){return t.length>0?e+r.toUpperCase():t},RG=function(t){qs(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return e}(Ci),UG=function(t){qs(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return e}(Ci),MG=function(t){qs(e,t);function e(r,n){var a=t.call(this,r,n)||this,s=new XMLSerializer,o=ow(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return e}(Ci),QG=function(t){qs(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.value=n.value,a}return e}(Ci),L2=function(t){qs(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return e}(Ci),l1e=[{type:15,flags:0,unit:"px",number:3}],c1e=[{type:16,flags:0,number:50}],u1e=function(t){return t.width>t.height?new lo(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new lo(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},A1e=function(t){var e=t.type===d1e?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},Xv="checkbox",Yv="radio",d1e="password",LR=707406591,_I=function(t){qs(e,t);function e(r,n){var a=t.call(this,r,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=A1e(n),(a.type===Xv||a.type===Yv)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=u1e(a.bounds)),a.type){case Xv:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=l1e;break;case Yv:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=c1e;break}return a}return e}(Ci),LG=function(t){qs(e,t);function e(r,n){var a=t.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return a.value=s&&s.text||"",a}return e}(Ci),HG=function(t){qs(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.value=n.value,a}return e}(Ci),$G=function(t){qs(e,t);function e(r,n){var a=t.call(this,r,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=KG(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?$f(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Xi.TRANSPARENT,o=n.contentWindow.document.body?$f(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):Xi.TRANSPARENT;a.backgroundColor=gl(s)?gl(o)?a.styles.backgroundColor:o:s}}catch{}return a}return e}(Ci),h1e=["OL","UL","MENU"],mx=function(t,e,r,n){for(var a=e.firstChild,s=void 0;a;a=s)if(s=a.nextSibling,qG(a)&&a.data.trim().length>0)r.textNodes.push(new a1e(t,a,r.styles));else if(yA(a))if(XG(a)&&a.assignedNodes)a.assignedNodes().forEach(function(l){return mx(t,l,r,n)});else{var o=VG(t,a);o.styles.isVisible()&&(f1e(a,o,n)?o.flags|=4:m1e(o.styles)&&(o.flags|=2),h1e.indexOf(a.tagName)!==-1&&(o.flags|=8),r.elements.push(o),a.slot,a.shadowRoot?mx(t,a.shadowRoot,o,n):!Jv(a)&&!zG(a)&&!Zv(a)&&mx(t,a,o,n))}},VG=function(t,e){return $2(e)?new RG(t,e):GG(e)?new UG(t,e):zG(e)?new MG(t,e):p1e(e)?new QG(t,e):g1e(e)?new L2(t,e):x1e(e)?new _I(t,e):Zv(e)?new LG(t,e):Jv(e)?new HG(t,e):WG(e)?new $G(t,e):new Ci(t,e)},KG=function(t,e){var r=VG(t,e);return r.flags|=4,mx(t,e,r,r),r},f1e=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||BI(t)&&r.styles.isTransparent()},m1e=function(t){return t.isPositioned()||t.isFloating()},qG=function(t){return t.nodeType===Node.TEXT_NODE},yA=function(t){return t.nodeType===Node.ELEMENT_NODE},H2=function(t){return yA(t)&&typeof t.style<"u"&&!px(t)},px=function(t){return typeof t.className=="object"},p1e=function(t){return t.tagName==="LI"},g1e=function(t){return t.tagName==="OL"},x1e=function(t){return t.tagName==="INPUT"},v1e=function(t){return t.tagName==="HTML"},zG=function(t){return t.tagName==="svg"},BI=function(t){return t.tagName==="BODY"},GG=function(t){return t.tagName==="CANVAS"},HR=function(t){return t.tagName==="VIDEO"},$2=function(t){return t.tagName==="IMG"},WG=function(t){return t.tagName==="IFRAME"},$R=function(t){return t.tagName==="STYLE"},y1e=function(t){return t.tagName==="SCRIPT"},Jv=function(t){return t.tagName==="TEXTAREA"},Zv=function(t){return t.tagName==="SELECT"},XG=function(t){return t.tagName==="SLOT"},VR=function(t){return t.tagName.indexOf("-")>0},b1e=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,a=e.counterReset,s=!0;n!==null&&n.forEach(function(l){var c=r.counters[l.counter];c&&l.increment!==0&&(s=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var o=[];return s&&a.forEach(function(l){var c=r.counters[l.counter];o.push(l.counter),c||(c=r.counters[l.counter]=[]),c.push(l.reset)}),o},t}(),KR={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},qR={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},w1e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},_1e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Zu=function(t,e,r,n,a,s){return t<e||t>r?Vm(t,a,s.length>0):n.integers.reduce(function(o,l,c){for(;t>=l;)t-=l,o+=n.values[c];return o},"")+s},YG=function(t,e,r,n){var a="";do r||t--,a=n(t)+a,t/=e;while(t*e>=e);return a},$r=function(t,e,r,n,a){var s=r-e+1;return(t<0?"-":"")+(YG(Math.abs(t),s,n,function(o){return Vr(Math.floor(o%s)+e)})+a)},oc=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return YG(Math.abs(t),n,!1,function(a){return e[Math.floor(a%n)]})+r},pA=1,Do=2,Oo=4,_f=8,Pi=function(t,e,r,n,a,s){if(t<-9999||t>9999)return Vm(t,4,a.length>0);var o=Math.abs(t),l=a;if(o===0)return e[0]+l;for(var c=0;o>0&&c<=4;c++){var u=o%10;u===0&&an(s,pA)&&l!==""?l=e[u]+l:u>1||u===1&&c===0||u===1&&c===1&&an(s,Do)||u===1&&c===1&&an(s,Oo)&&t>100||u===1&&c>1&&an(s,_f)?l=e[u]+(c>0?r[c-1]:"")+l:u===1&&c>0&&(l=r[c-1]+l),o=Math.floor(o/10)}return(t<0?n:"")+l},zR="",GR="",WR="",__="",Vm=function(t,e,r){var n=r?". ":"",a=r?"":"",s=r?", ":"",o=r?" ":"";switch(e){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var l=$r(t,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return oc(t,"",a);case 6:return Zu(t,1,3999,KR,3,n).toLowerCase();case 7:return Zu(t,1,3999,KR,3,n);case 8:return $r(t,945,969,!1,n);case 9:return $r(t,97,122,!1,n);case 10:return $r(t,65,90,!1,n);case 11:return $r(t,1632,1641,!0,n);case 12:case 49:return Zu(t,1,9999,qR,3,n);case 35:return Zu(t,1,9999,qR,3,n).toLowerCase();case 13:return $r(t,2534,2543,!0,n);case 14:case 30:return $r(t,6112,6121,!0,n);case 15:return oc(t,"",a);case 16:return oc(t,"",a);case 17:case 48:return Pi(t,"",zR,"",a,Do|Oo|_f);case 47:return Pi(t,"",GR,"",a,pA|Do|Oo|_f);case 42:return Pi(t,"",zR,"",a,Do|Oo|_f);case 41:return Pi(t,"",GR,"",a,pA|Do|Oo|_f);case 26:return Pi(t,"","",WR,a,0);case 25:return Pi(t,"","",WR,a,pA|Do|Oo);case 31:return Pi(t,"","",__,s,pA|Do|Oo);case 33:return Pi(t,"","",__,s,0);case 32:return Pi(t,"","",__,s,pA|Do|Oo);case 18:return $r(t,2406,2415,!0,n);case 20:return Zu(t,1,19999,_1e,3,n);case 21:return $r(t,2790,2799,!0,n);case 22:return $r(t,2662,2671,!0,n);case 22:return Zu(t,1,10999,w1e,3,n);case 23:return oc(t,"");case 24:return oc(t,"");case 27:return $r(t,3302,3311,!0,n);case 28:return oc(t,"",a);case 29:return oc(t,"",a);case 34:return $r(t,3792,3801,!0,n);case 37:return $r(t,6160,6169,!0,n);case 38:return $r(t,4160,4169,!0,n);case 39:return $r(t,2918,2927,!0,n);case 40:return $r(t,1776,1785,!0,n);case 43:return $r(t,3046,3055,!0,n);case 44:return $r(t,3174,3183,!0,n);case 45:return $r(t,3664,3673,!0,n);case 46:return $r(t,3872,3881,!0,n);case 3:default:return $r(t,48,57,!0,n)}},JG="data-html2canvas-ignore",XR=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new b1e,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,a=B1e(e,r);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,l=a.contentWindow,c=l.document,u=E1e(a).then(function(){return ia(n,void 0,void 0,function(){var A,d;return Hn(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(T1e),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),A=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,j1e(c)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof A=="function"?[2,Promise.resolve().then(function(){return A(c,d)}).then(function(){return a})]:[2,a]}})})});return c.open(),c.write(N1e(document.doctype)+"<html></html>"),k1e(this.referenceElement.ownerDocument,s,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),u},t.prototype.createElementClone=function(e){if(M2(e,2))debugger;if(GG(e))return this.createCanvasClone(e);if(HR(e))return this.createVideoClone(e);if($R(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return $2(r)&&($2(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),VR(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return B_(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,o){return o&&typeof o.cssText=="string"?s+o.cssText:s},""),a=e.cloneNode(!1);return a.textContent=n,a}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var a=e.cloneNode(!1);try{a.width=e.width,a.height=e.height;var s=e.getContext("2d"),o=a.getContext("2d");if(o)if(!this.options.allowTaint&&s)o.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var l=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(l){var c=l.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return a},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var a=e.ownerDocument.createElement("canvas");return a.width=e.offsetWidth,a.height=e.offsetHeight,a},t.prototype.appendChildNode=function(e,r,n){(!yA(r)||!y1e(r)&&!r.hasAttribute(JG)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!yA(r)||!$R(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var a=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(yA(s)&&XG(s)&&typeof s.assignedNodes=="function"){var o=s.assignedNodes();o.length&&o.forEach(function(l){return a.appendChildNode(r,l,n)})}else this.appendChildNode(r,s,n)},t.prototype.cloneNode=function(e,r){if(qG(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&yA(e)&&(H2(e)||px(e))){var a=this.createElementClone(e);a.style.transitionProperty="none";var s=n.getComputedStyle(e),o=n.getComputedStyle(e,":before"),l=n.getComputedStyle(e,":after");this.referenceElement===e&&H2(a)&&(this.clonedReferenceElement=a),BI(a)&&F1e(a);var c=this.counters.parse(new ER(this.context,s)),u=this.resolvePseudoContent(e,a,o,qf.BEFORE);VR(e)&&(r=!0),HR(e)||this.cloneChildNodes(e,a,r),u&&a.insertBefore(u,a.firstChild);var A=this.resolvePseudoContent(e,a,l,qf.AFTER);return A&&a.appendChild(A),this.counters.pop(c),(s&&(this.options.copyStyles||px(e))&&!WG(e)||r)&&B_(s,a),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([a,e.scrollLeft,e.scrollTop]),(Jv(e)||Zv(e))&&(Jv(a)||Zv(a))&&(a.value=e.value),a}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,a){var s=this;if(n){var o=n.content,l=r.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new ER(this.context,n));var c=new pwe(this.context,n),u=l.createElement("html2canvaspseudoelement");B_(n,u),c.content.forEach(function(d){if(d.type===0)u.appendChild(l.createTextNode(d.value));else if(d.type===22){var h=l.createElement("img");h.src=d.value,h.style.opacity="1",u.appendChild(h)}else if(d.type===18){if(d.name==="attr"){var f=d.values.filter(Ar);f.length&&u.appendChild(l.createTextNode(e.getAttribute(f[0].value)||""))}else if(d.name==="counter"){var p=d.values.filter(pd),g=p[0],m=p[1];if(g&&Ar(g)){var b=s.counters.getCounterValue(g.value),y=m&&Ar(m)?U2.parse(s.context,m.value):3;u.appendChild(l.createTextNode(Vm(b,y,!1)))}}else if(d.name==="counters"){var w=d.values.filter(pd),g=w[0],x=w[1],m=w[2];if(g&&Ar(g)){var C=s.counters.getCounterValues(g.value),E=m&&Ar(m)?U2.parse(s.context,m.value):3,B=x&&x.type===0?x.value:"",j=C.map(function(k){return Vm(k,E,!1)}).join(B);u.appendChild(l.createTextNode(j))}}}else if(d.type===20)switch(d.value){case"open-quote":u.appendChild(l.createTextNode(jR(c.quotes,s.quoteDepth++,!0)));break;case"close-quote":u.appendChild(l.createTextNode(jR(c.quotes,--s.quoteDepth,!1)));break;default:u.appendChild(l.createTextNode(d.value))}}),u.className=V2+" "+K2;var A=a===qf.BEFORE?" "+V2:" "+K2;return px(r)?r.className.baseValue+=A:r.className+=A,u}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),qf;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(qf||(qf={}));var B1e=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(JG,"true"),t.body.appendChild(r),r},C1e=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},j1e=function(t){return Promise.all([].slice.call(t.images,0).map(C1e))},E1e=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var a=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var s=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},S1e=["all","d","content"],B_=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);S1e.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},N1e=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},k1e=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},T1e=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},I1e=":before",P1e=":after",V2="___html2canvas___pseudoelement_before",K2="___html2canvas___pseudoelement_after",YR=`{
    content: "" !important;
    display: none !important;
}`,F1e=function(t){D1e(t,"."+V2+I1e+YR+`
         .`+K2+P1e+YR)},D1e=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},ZG=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),O1e=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(j_(e)||Q1e(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return ia(this,void 0,void 0,function(){var r,n,a,s,o=this;return Hn(this,function(l){switch(l.label){case 0:return r=ZG.isSameOrigin(e),n=!C_(e)&&this._options.useCORS===!0&&En.SUPPORT_CORS_IMAGES&&!r,a=!C_(e)&&!r&&!j_(e)&&typeof this._options.proxy=="string"&&En.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!C_(e)&&!j_(e)&&!a&&!n?[2]:(s=e,a?[4,this.proxy(s)]:[3,2]);case 1:s=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(c,u){var A=new Image;A.onload=function(){return c(A)},A.onerror=u,(L1e(s)||n)&&(A.crossOrigin="anonymous"),A.src=s,A.complete===!0&&setTimeout(function(){return c(A)},500),o._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=e.substring(0,256);return new Promise(function(s,o){var l=En.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")s(c.response);else{var d=new FileReader;d.addEventListener("load",function(){return s(d.result)},!1),d.addEventListener("error",function(h){return o(h)},!1),d.readAsDataURL(c.response)}else o("Failed to proxy resource "+a+" with status code "+c.status)},c.onerror=o;var u=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+u+"url="+encodeURIComponent(e)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),r._options.imageTimeout){var A=r._options.imageTimeout;c.timeout=A,c.ontimeout=function(){return o("Timed out ("+A+"ms) proxying "+a)}}c.send()})},t}(),R1e=/^data:image\/svg\+xml/i,U1e=/^data:image\/.*;base64,/i,M1e=/^data:image\/.*/i,Q1e=function(t){return En.SUPPORT_SVG_DRAWING||!H1e(t)},C_=function(t){return M1e.test(t)},L1e=function(t){return U1e.test(t)},j_=function(t){return t.substr(0,4)==="blob"},H1e=function(t){return t.substr(-3).toLowerCase()==="svg"||R1e.test(t)},Ue=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),eA=function(t,e,r){return new Ue(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},S0=function(){function t(e,r,n,a){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=a}return t.prototype.subdivide=function(e,r){var n=eA(this.start,this.startControl,e),a=eA(this.startControl,this.endControl,e),s=eA(this.endControl,this.end,e),o=eA(n,a,e),l=eA(a,s,e),c=eA(o,l,e);return r?new t(this.start,n,o,c):new t(c,l,s,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),ts=function(t){return t.type===1},$1e=function(){function t(e){var r=e.styles,n=e.bounds,a=bf(r.borderTopLeftRadius,n.width,n.height),s=a[0],o=a[1],l=bf(r.borderTopRightRadius,n.width,n.height),c=l[0],u=l[1],A=bf(r.borderBottomRightRadius,n.width,n.height),d=A[0],h=A[1],f=bf(r.borderBottomLeftRadius,n.width,n.height),p=f[0],g=f[1],m=[];m.push((s+c)/n.width),m.push((p+d)/n.width),m.push((o+g)/n.height),m.push((u+h)/n.height);var b=Math.max.apply(Math,m);b>1&&(s/=b,o/=b,c/=b,u/=b,d/=b,h/=b,p/=b,g/=b);var y=n.width-c,w=n.height-h,x=n.width-d,C=n.height-g,E=r.borderTopWidth,B=r.borderRightWidth,j=r.borderBottomWidth,N=r.borderLeftWidth,S=Br(r.paddingTop,e.bounds.width),k=Br(r.paddingRight,e.bounds.width),I=Br(r.paddingBottom,e.bounds.width),T=Br(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||o>0?kr(n.left+N/3,n.top+E/3,s-N/3,o-E/3,rr.TOP_LEFT):new Ue(n.left+N/3,n.top+E/3),this.topRightBorderDoubleOuterBox=s>0||o>0?kr(n.left+y,n.top+E/3,c-B/3,u-E/3,rr.TOP_RIGHT):new Ue(n.left+n.width-B/3,n.top+E/3),this.bottomRightBorderDoubleOuterBox=d>0||h>0?kr(n.left+x,n.top+w,d-B/3,h-j/3,rr.BOTTOM_RIGHT):new Ue(n.left+n.width-B/3,n.top+n.height-j/3),this.bottomLeftBorderDoubleOuterBox=p>0||g>0?kr(n.left+N/3,n.top+C,p-N/3,g-j/3,rr.BOTTOM_LEFT):new Ue(n.left+N/3,n.top+n.height-j/3),this.topLeftBorderDoubleInnerBox=s>0||o>0?kr(n.left+N*2/3,n.top+E*2/3,s-N*2/3,o-E*2/3,rr.TOP_LEFT):new Ue(n.left+N*2/3,n.top+E*2/3),this.topRightBorderDoubleInnerBox=s>0||o>0?kr(n.left+y,n.top+E*2/3,c-B*2/3,u-E*2/3,rr.TOP_RIGHT):new Ue(n.left+n.width-B*2/3,n.top+E*2/3),this.bottomRightBorderDoubleInnerBox=d>0||h>0?kr(n.left+x,n.top+w,d-B*2/3,h-j*2/3,rr.BOTTOM_RIGHT):new Ue(n.left+n.width-B*2/3,n.top+n.height-j*2/3),this.bottomLeftBorderDoubleInnerBox=p>0||g>0?kr(n.left+N*2/3,n.top+C,p-N*2/3,g-j*2/3,rr.BOTTOM_LEFT):new Ue(n.left+N*2/3,n.top+n.height-j*2/3),this.topLeftBorderStroke=s>0||o>0?kr(n.left+N/2,n.top+E/2,s-N/2,o-E/2,rr.TOP_LEFT):new Ue(n.left+N/2,n.top+E/2),this.topRightBorderStroke=s>0||o>0?kr(n.left+y,n.top+E/2,c-B/2,u-E/2,rr.TOP_RIGHT):new Ue(n.left+n.width-B/2,n.top+E/2),this.bottomRightBorderStroke=d>0||h>0?kr(n.left+x,n.top+w,d-B/2,h-j/2,rr.BOTTOM_RIGHT):new Ue(n.left+n.width-B/2,n.top+n.height-j/2),this.bottomLeftBorderStroke=p>0||g>0?kr(n.left+N/2,n.top+C,p-N/2,g-j/2,rr.BOTTOM_LEFT):new Ue(n.left+N/2,n.top+n.height-j/2),this.topLeftBorderBox=s>0||o>0?kr(n.left,n.top,s,o,rr.TOP_LEFT):new Ue(n.left,n.top),this.topRightBorderBox=c>0||u>0?kr(n.left+y,n.top,c,u,rr.TOP_RIGHT):new Ue(n.left+n.width,n.top),this.bottomRightBorderBox=d>0||h>0?kr(n.left+x,n.top+w,d,h,rr.BOTTOM_RIGHT):new Ue(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=p>0||g>0?kr(n.left,n.top+C,p,g,rr.BOTTOM_LEFT):new Ue(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||o>0?kr(n.left+N,n.top+E,Math.max(0,s-N),Math.max(0,o-E),rr.TOP_LEFT):new Ue(n.left+N,n.top+E),this.topRightPaddingBox=c>0||u>0?kr(n.left+Math.min(y,n.width-B),n.top+E,y>n.width+B?0:Math.max(0,c-B),Math.max(0,u-E),rr.TOP_RIGHT):new Ue(n.left+n.width-B,n.top+E),this.bottomRightPaddingBox=d>0||h>0?kr(n.left+Math.min(x,n.width-N),n.top+Math.min(w,n.height-j),Math.max(0,d-B),Math.max(0,h-j),rr.BOTTOM_RIGHT):new Ue(n.left+n.width-B,n.top+n.height-j),this.bottomLeftPaddingBox=p>0||g>0?kr(n.left+N,n.top+Math.min(C,n.height-j),Math.max(0,p-N),Math.max(0,g-j),rr.BOTTOM_LEFT):new Ue(n.left+N,n.top+n.height-j),this.topLeftContentBox=s>0||o>0?kr(n.left+N+T,n.top+E+S,Math.max(0,s-(N+T)),Math.max(0,o-(E+S)),rr.TOP_LEFT):new Ue(n.left+N+T,n.top+E+S),this.topRightContentBox=c>0||u>0?kr(n.left+Math.min(y,n.width+N+T),n.top+E+S,y>n.width+N+T?0:c-N+T,u-(E+S),rr.TOP_RIGHT):new Ue(n.left+n.width-(B+k),n.top+E+S),this.bottomRightContentBox=d>0||h>0?kr(n.left+Math.min(x,n.width-(N+T)),n.top+Math.min(w,n.height+E+S),Math.max(0,d-(B+k)),h-(j+I),rr.BOTTOM_RIGHT):new Ue(n.left+n.width-(B+k),n.top+n.height-(j+I)),this.bottomLeftContentBox=p>0||g>0?kr(n.left+N+T,n.top+C,Math.max(0,p-(N+T)),g-(j+I),rr.BOTTOM_LEFT):new Ue(n.left+N+T,n.top+n.height-(j+I))}return t}(),rr;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(rr||(rr={}));var kr=function(t,e,r,n,a){var s=4*((Math.sqrt(2)-1)/3),o=r*s,l=n*s,c=t+r,u=e+n;switch(a){case rr.TOP_LEFT:return new S0(new Ue(t,u),new Ue(t,u-l),new Ue(c-o,e),new Ue(c,e));case rr.TOP_RIGHT:return new S0(new Ue(t,e),new Ue(t+o,e),new Ue(c,u-l),new Ue(c,u));case rr.BOTTOM_RIGHT:return new S0(new Ue(c,e),new Ue(c,e+l),new Ue(t+o,u),new Ue(t,u));case rr.BOTTOM_LEFT:default:return new S0(new Ue(c,u),new Ue(c-o,u),new Ue(t,e+l),new Ue(t,e))}},ey=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},V1e=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},ty=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},K1e=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),N0=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),q1e=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),z1e=function(t){return t.type===0},eW=function(t){return t.type===1},G1e=function(t){return t.type===2},JR=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},W1e=function(t,e,r,n,a){return t.map(function(s,o){switch(o){case 0:return s.add(e,r);case 1:return s.add(e+n,r);case 2:return s.add(e+n,r+a);case 3:return s.add(e,r+a)}return s})},tW=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),rW=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new $1e(this.container),this.container.styles.opacity<1&&this.effects.push(new q1e(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new K1e(n,a,s))}if(this.container.styles.overflowX!==0){var o=ey(this.curves),l=ty(this.curves);JR(o,l)?this.effects.push(new N0(o,6)):(this.effects.push(new N0(o,2)),this.effects.push(new N0(l,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var s=n.effects.filter(function(c){return!eW(c)});if(r||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=ey(n.curves),l=ty(n.curves);JR(o,l)||a.unshift(new N0(l,6))}}else a.unshift.apply(a,s);n=n.parent}return a.filter(function(c){return an(c.target,e)})},t}(),q2=function(t,e,r,n){t.container.elements.forEach(function(a){var s=an(a.flags,4),o=an(a.flags,2),l=new rW(a,t);an(a.styles.display,2048)&&n.push(l);var c=an(a.flags,8)?[]:n;if(s||o){var u=s||a.styles.isPositioned()?r:e,A=new tW(l);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var d=a.styles.zIndex.order;if(d<0){var h=0;u.negativeZIndex.some(function(p,g){return d>p.element.container.styles.zIndex.order?(h=g,!1):h>0}),u.negativeZIndex.splice(h,0,A)}else if(d>0){var f=0;u.positiveZIndex.some(function(p,g){return d>=p.element.container.styles.zIndex.order?(f=g+1,!1):f>0}),u.positiveZIndex.splice(f,0,A)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(A)}else a.styles.isFloating()?u.nonPositionedFloats.push(A):u.nonPositionedInlineLevel.push(A);q2(l,A,s?A:r,c)}else a.styles.isInlineLevel()?e.inlineLevel.push(l):e.nonInlineLevel.push(l),q2(l,e,r,c);an(a.flags,8)&&nW(a,c)})},nW=function(t,e){for(var r=t instanceof L2?t.start:1,n=t instanceof L2?t.reversed:!1,a=0;a<e.length;a++){var s=e[a];s.container instanceof QG&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=Vm(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},X1e=function(t){var e=new rW(t,null),r=new tW(e),n=[];return q2(e,r,r,n),nW(e.container,n),r},ZR=function(t,e){switch(e){case 0:return as(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return as(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return as(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return as(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Y1e=function(t,e){switch(e){case 0:return as(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return as(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return as(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return as(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},J1e=function(t,e){switch(e){case 0:return as(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return as(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return as(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return as(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Z1e=function(t,e){switch(e){case 0:return k0(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return k0(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return k0(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return k0(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},k0=function(t,e){var r=[];return ts(t)?r.push(t.subdivide(.5,!1)):r.push(t),ts(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},as=function(t,e,r,n){var a=[];return ts(t)?a.push(t.subdivide(.5,!1)):a.push(t),ts(r)?a.push(r.subdivide(.5,!0)):a.push(r),ts(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),ts(e)?a.push(e.subdivide(.5,!1).reverse()):a.push(e),a},aW=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},ry=function(t){var e=t.styles,r=t.bounds,n=Br(e.paddingLeft,r.width),a=Br(e.paddingRight,r.width),s=Br(e.paddingTop,r.width),o=Br(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+a),-(e.borderTopWidth+e.borderBottomWidth+s+o))},e_e=function(t,e){return t===0?e.bounds:t===2?ry(e):aW(e)},t_e=function(t,e){return t===0?e.bounds:t===2?ry(e):aW(e)},E_=function(t,e,r){var n=e_e(gA(t.styles.backgroundOrigin,e),t),a=t_e(gA(t.styles.backgroundClip,e),t),s=r_e(gA(t.styles.backgroundSize,e),r,n),o=s[0],l=s[1],c=bf(gA(t.styles.backgroundPosition,e),n.width-o,n.height-l),u=n_e(gA(t.styles.backgroundRepeat,e),c,s,n,a),A=Math.round(n.left+c[0]),d=Math.round(n.top+c[1]);return[u,A,d,o,l]},tA=function(t){return Ar(t)&&t.value===NA.AUTO},T0=function(t){return typeof t=="number"},r_e=function(t,e,r){var n=e[0],a=e[1],s=e[2],o=t[0],l=t[1];if(!o)return[0,0];if(Yr(o)&&l&&Yr(l))return[Br(o,r.width),Br(l,r.height)];var c=T0(s);if(Ar(o)&&(o.value===NA.CONTAIN||o.value===NA.COVER)){if(T0(s)){var u=r.width/r.height;return u<s!=(o.value===NA.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var A=T0(n),d=T0(a),h=A||d;if(tA(o)&&(!l||tA(l))){if(A&&d)return[n,a];if(!c&&!h)return[r.width,r.height];if(h&&c){var f=A?n:a*s,p=d?a:n/s;return[f,p]}var g=A?n:r.width,m=d?a:r.height;return[g,m]}if(c){var b=0,y=0;return Yr(o)?b=Br(o,r.width):Yr(l)&&(y=Br(l,r.height)),tA(o)?b=y*s:(!l||tA(l))&&(y=b/s),[b,y]}var w=null,x=null;if(Yr(o)?w=Br(o,r.width):l&&Yr(l)&&(x=Br(l,r.height)),w!==null&&(!l||tA(l))&&(x=A&&d?w/n*a:r.height),x!==null&&tA(o)&&(w=A&&d?x/a*n:r.width),w!==null&&x!==null)return[w,x];throw new Error("Unable to calculate background-size for element")},gA=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},n_e=function(t,e,r,n,a){var s=e[0],o=e[1],l=r[0],c=r[1];switch(t){case 2:return[new Ue(Math.round(n.left),Math.round(n.top+o)),new Ue(Math.round(n.left+n.width),Math.round(n.top+o)),new Ue(Math.round(n.left+n.width),Math.round(c+n.top+o)),new Ue(Math.round(n.left),Math.round(c+n.top+o))];case 3:return[new Ue(Math.round(n.left+s),Math.round(n.top)),new Ue(Math.round(n.left+s+l),Math.round(n.top)),new Ue(Math.round(n.left+s+l),Math.round(n.height+n.top)),new Ue(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new Ue(Math.round(n.left+s),Math.round(n.top+o)),new Ue(Math.round(n.left+s+l),Math.round(n.top+o)),new Ue(Math.round(n.left+s+l),Math.round(n.top+o+c)),new Ue(Math.round(n.left+s),Math.round(n.top+o+c))];default:return[new Ue(Math.round(a.left),Math.round(a.top)),new Ue(Math.round(a.left+a.width),Math.round(a.top)),new Ue(Math.round(a.left+a.width),Math.round(a.height+a.top)),new Ue(Math.round(a.left),Math.round(a.height+a.top))]}},a_e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",eU="Hidden Text",s_e=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),a=this._document.createElement("img"),s=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),a.src=a_e,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(eU)),n.appendChild(s),n.appendChild(a);var l=a.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(eU)),n.style.lineHeight="normal",a.style.verticalAlign="super";var c=a.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:l,middle:c}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),sW=function(){function t(e,r){this.context=e,this.options=r}return t}(),i_e=1e4,o_e=function(t){qs(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new s_e(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(a){return n.applyEffect(a)})},e.prototype.applyEffect=function(r){this.ctx.save(),G1e(r)&&(this.ctx.globalAlpha=r.opacity),z1e(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),eW(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return ia(this,void 0,void 0,function(){var n;return Hn(this,function(a){switch(a.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return ia(this,void 0,void 0,function(){return Hn(this,function(n){switch(n.label){case 0:if(an(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,a){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+a);else{var o=wI(r.text);o.reduce(function(l,c){return s.ctx.fillText(c,l,r.bounds.top+a),l+s.ctx.measureText(c).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),a=d_e(r.fontFamily).join(", "),s=ag(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,a].join(" "),a,s]},e.prototype.renderTextNode=function(r,n){return ia(this,void 0,void 0,function(){var a,s,o,l,c,u,A,d,h=this;return Hn(this,function(f){return a=this.createFontStyle(n),s=a[0],o=a[1],l=a[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,l),u=c.baseline,A=c.middle,d=n.paintOrder,r.textBounds.forEach(function(p){d.forEach(function(g){switch(g){case 0:h.ctx.fillStyle=dn(n.color),h.renderTextWithLetterSpacing(p,n.letterSpacing,u);var m=n.textShadow;m.length&&p.text.trim().length&&(m.slice(0).reverse().forEach(function(b){h.ctx.shadowColor=dn(b.color),h.ctx.shadowOffsetX=b.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=b.offsetY.number*h.options.scale,h.ctx.shadowBlur=b.blur.number,h.renderTextWithLetterSpacing(p,n.letterSpacing,u)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),n.textDecorationLine.length&&(h.ctx.fillStyle=dn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(b){switch(b){case 1:h.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top+u),p.bounds.width,1);break;case 2:h.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top),p.bounds.width,1);break;case 3:h.ctx.fillRect(p.bounds.left,Math.ceil(p.bounds.top+A),p.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&p.text.trim().length&&(h.ctx.strokeStyle=dn(n.webkitTextStrokeColor),h.ctx.lineWidth=n.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(p.text,p.bounds.left,p.bounds.top+u)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,a){if(a&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=ry(r),o=ty(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return ia(this,void 0,void 0,function(){var n,a,s,o,l,c,y,y,u,A,d,h,x,f,p,C,g,m,b,y,w,x,C;return Hn(this,function(E){switch(E.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,a=r.curves,s=n.styles,o=0,l=n.textNodes,E.label=1;case 1:return o<l.length?(c=l[o],[4,this.renderTextNode(c,s)]):[3,4];case 2:E.sent(),E.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof RG))return[3,8];E.label=5;case 5:return E.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return y=E.sent(),this.renderReplacedElement(n,a,y),[3,8];case 7:return E.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof UG&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof MG))return[3,12];E.label=9;case 9:return E.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return y=E.sent(),this.renderReplacedElement(n,a,y),[3,12];case 11:return E.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof $G&&n.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:A=E.sent(),n.width&&n.height&&this.ctx.drawImage(A,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),E.label=14;case 14:if(n instanceof _I&&(d=Math.min(n.bounds.width,n.bounds.height),n.type===Xv?n.checked&&(this.ctx.save(),this.path([new Ue(n.bounds.left+d*.39363,n.bounds.top+d*.79),new Ue(n.bounds.left+d*.16,n.bounds.top+d*.5549),new Ue(n.bounds.left+d*.27347,n.bounds.top+d*.44071),new Ue(n.bounds.left+d*.39694,n.bounds.top+d*.5649),new Ue(n.bounds.left+d*.72983,n.bounds.top+d*.23),new Ue(n.bounds.left+d*.84,n.bounds.top+d*.34085),new Ue(n.bounds.left+d*.39363,n.bounds.top+d*.79)]),this.ctx.fillStyle=dn(LR),this.ctx.fill(),this.ctx.restore()):n.type===Yv&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+d/2,n.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=dn(LR),this.ctx.fill(),this.ctx.restore())),l_e(n)&&n.value.length){switch(h=this.createFontStyle(s),x=h[0],f=h[1],p=this.fontMetrics.getMetrics(x,f).baseline,this.ctx.font=x,this.ctx.fillStyle=dn(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=u_e(n.styles.textAlign),C=ry(n),g=0,n.styles.textAlign){case 1:g+=C.width/2;break;case 2:g+=C.width;break}m=C.add(g,0,0,-C.height/2+1),this.ctx.save(),this.path([new Ue(C.left,C.top),new Ue(C.left+C.width,C.top),new Ue(C.left+C.width,C.top+C.height),new Ue(C.left,C.top+C.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Kf(n.value,m),s.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!an(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(b=n.styles.listStyleImage,b.type!==0)return[3,18];y=void 0,w=b.url,E.label=15;case 15:return E.trys.push([15,17,,18]),[4,this.context.cache.match(w)];case 16:return y=E.sent(),this.ctx.drawImage(y,n.bounds.left-(y.width+10),n.bounds.top),[3,18];case 17:return E.sent(),this.context.logger.error("Error loading list-style-image "+w),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(x=this.createFontStyle(s)[0],this.ctx.font=x,this.ctx.fillStyle=dn(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",C=new lo(n.bounds.left,n.bounds.top+Br(n.styles.paddingTop,n.bounds.width),n.bounds.width,BR(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Kf(r.listValue,C),s.letterSpacing,BR(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),E.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return ia(this,void 0,void 0,function(){var n,a,b,s,o,b,l,c,b,u,A,b,d,h,b,f,p,b,g,m,b;return Hn(this,function(y){switch(y.label){case 0:if(an(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:y.sent(),n=0,a=r.negativeZIndex,y.label=2;case 2:return n<a.length?(b=a[n],[4,this.renderStack(b)]):[3,5];case 3:y.sent(),y.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:y.sent(),s=0,o=r.nonInlineLevel,y.label=7;case 7:return s<o.length?(b=o[s],[4,this.renderNode(b)]):[3,10];case 8:y.sent(),y.label=9;case 9:return s++,[3,7];case 10:l=0,c=r.nonPositionedFloats,y.label=11;case 11:return l<c.length?(b=c[l],[4,this.renderStack(b)]):[3,14];case 12:y.sent(),y.label=13;case 13:return l++,[3,11];case 14:u=0,A=r.nonPositionedInlineLevel,y.label=15;case 15:return u<A.length?(b=A[u],[4,this.renderStack(b)]):[3,18];case 16:y.sent(),y.label=17;case 17:return u++,[3,15];case 18:d=0,h=r.inlineLevel,y.label=19;case 19:return d<h.length?(b=h[d],[4,this.renderNode(b)]):[3,22];case 20:y.sent(),y.label=21;case 21:return d++,[3,19];case 22:f=0,p=r.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return f<p.length?(b=p[f],[4,this.renderStack(b)]):[3,26];case 24:y.sent(),y.label=25;case 25:return f++,[3,23];case 26:g=0,m=r.positiveZIndex,y.label=27;case 27:return g<m.length?(b=m[g],[4,this.renderStack(b)]):[3,30];case 28:y.sent(),y.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(a,s){var o=ts(a)?a.start:a;s===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),ts(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},e.prototype.renderRepeat=function(r,n,a,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(a,s),this.ctx.fill(),this.ctx.translate(-a,-s)},e.prototype.resizeImage=function(r,n,a){var s;if(r.width===n&&r.height===a)return r;var o=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,l=o.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,a);var c=l.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,n,a),l},e.prototype.renderBackgroundImage=function(r){return ia(this,void 0,void 0,function(){var n,a,s,o,l,c;return Hn(this,function(u){switch(u.label){case 0:n=r.styles.backgroundImage.length-1,a=function(A){var d,h,f,S,H,R,T,O,j,p,S,H,R,T,O,g,m,b,y,w,x,C,E,B,j,N,S,k,I,T,O,U,H,R,D,M,Q,L,K,G,q,W;return Hn(this,function(re){switch(re.label){case 0:if(A.type!==0)return[3,5];d=void 0,h=A.url,re.label=1;case 1:return re.trys.push([1,3,,4]),[4,s.context.cache.match(h)];case 2:return d=re.sent(),[3,4];case 3:return re.sent(),s.context.logger.error("Error loading background-image "+h),[3,4];case 4:return d&&(f=E_(r,n,[d.width,d.height,d.width/d.height]),S=f[0],H=f[1],R=f[2],T=f[3],O=f[4],j=s.ctx.createPattern(s.resizeImage(d,T,O),"repeat"),s.renderRepeat(S,j,H,R)),[3,6];case 5:zye(A)?(p=E_(r,n,[null,null,null]),S=p[0],H=p[1],R=p[2],T=p[3],O=p[4],g=Hye(A.angle,T,O),m=g[0],b=g[1],y=g[2],w=g[3],x=g[4],C=document.createElement("canvas"),C.width=T,C.height=O,E=C.getContext("2d"),B=E.createLinearGradient(b,w,y,x),wR(A.stops,m).forEach(function(le){return B.addColorStop(le.stop,dn(le.color))}),E.fillStyle=B,E.fillRect(0,0,T,O),T>0&&O>0&&(j=s.ctx.createPattern(C,"repeat"),s.renderRepeat(S,j,H,R))):Gye(A)&&(N=E_(r,n,[null,null,null]),S=N[0],k=N[1],I=N[2],T=N[3],O=N[4],U=A.position.length===0?[vI]:A.position,H=Br(U[0],T),R=Br(U[U.length-1],O),D=$ye(A,H,R,T,O),M=D[0],Q=D[1],M>0&&Q>0&&(L=s.ctx.createRadialGradient(k+H,I+R,0,k+H,I+R,M),wR(A.stops,M*2).forEach(function(le){return L.addColorStop(le.stop,dn(le.color))}),s.path(S),s.ctx.fillStyle=L,M!==Q?(K=r.bounds.left+.5*r.bounds.width,G=r.bounds.top+.5*r.bounds.height,q=Q/M,W=1/q,s.ctx.save(),s.ctx.translate(K,G),s.ctx.transform(1,0,0,q,0,0),s.ctx.translate(-K,-G),s.ctx.fillRect(k,W*(I-G)+G,T,O*W),s.ctx.restore()):s.ctx.fill())),re.label=6;case 6:return n--,[2]}})},s=this,o=0,l=r.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return o<l.length?(c=l[o],[5,a(c)]):[3,4];case 2:u.sent(),u.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,a){return ia(this,void 0,void 0,function(){return Hn(this,function(s){return this.path(ZR(a,n)),this.ctx.fillStyle=dn(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,a,s){return ia(this,void 0,void 0,function(){var o,l;return Hn(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(r,a,s)]:[3,2];case 1:return c.sent(),[2];case 2:return o=Y1e(s,a),this.path(o),this.ctx.fillStyle=dn(r),this.ctx.fill(),l=J1e(s,a),this.path(l),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return ia(this,void 0,void 0,function(){var n,a,s,o,l,c,u,A,d=this;return Hn(this,function(h){switch(h.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,a=!gl(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=c_e(gA(n.backgroundClip,0),r.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),gl(n.backgroundColor)||(this.ctx.fillStyle=dn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(f){d.ctx.save();var p=ey(r.curves),g=f.inset?0:i_e,m=W1e(p,-g+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(d.path(p),d.ctx.clip(),d.mask(m)):(d.mask(p),d.ctx.clip(),d.path(m)),d.ctx.shadowOffsetX=f.offsetX.number+g,d.ctx.shadowOffsetY=f.offsetY.number,d.ctx.shadowColor=dn(f.color),d.ctx.shadowBlur=f.blur.number,d.ctx.fillStyle=f.inset?dn(f.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),h.label=2;case 2:l=0,c=0,u=s,h.label=3;case 3:return c<u.length?(A=u[c],A.style!==0&&!gl(A.color)&&A.width>0?A.style!==2?[3,5]:[4,this.renderDashedDottedBorder(A.color,A.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return A.style!==3?[3,7]:[4,this.renderDashedDottedBorder(A.color,A.width,l,r.curves,3)];case 6:return h.sent(),[3,11];case 7:return A.style!==4?[3,9]:[4,this.renderDoubleBorder(A.color,A.width,l,r.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(A.color,l,r.curves)];case 10:h.sent(),h.label=11;case 11:l++,h.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,a,s,o){return ia(this,void 0,void 0,function(){var l,c,u,A,d,h,f,p,g,m,b,y,w,x,C,E,C,E;return Hn(this,function(B){return this.ctx.save(),l=Z1e(s,a),c=ZR(s,a),o===2&&(this.path(c),this.ctx.clip()),ts(c[0])?(u=c[0].start.x,A=c[0].start.y):(u=c[0].x,A=c[0].y),ts(c[1])?(d=c[1].end.x,h=c[1].end.y):(d=c[1].x,h=c[1].y),a===0||a===2?f=Math.abs(u-d):f=Math.abs(A-h),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(c.slice(0,2)),p=n<3?n*3:n*2,g=n<3?n*2:n,o===3&&(p=n,g=n),m=!0,f<=p*2?m=!1:f<=p*2+g?(b=f/(2*p+g),p*=b,g*=b):(y=Math.floor((f+g)/(p+g)),w=(f-y*p)/(y-1),x=(f-(y+1)*p)/y,g=x<=0||Math.abs(g-w)<Math.abs(g-x)?w:x),m&&(o===3?this.ctx.setLineDash([0,p+g]):this.ctx.setLineDash([p,g])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=dn(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(ts(c[0])&&(C=c[3],E=c[0],this.ctx.beginPath(),this.formatPath([new Ue(C.end.x,C.end.y),new Ue(E.start.x,E.start.y)]),this.ctx.stroke()),ts(c[1])&&(C=c[1],E=c[2],this.ctx.beginPath(),this.formatPath([new Ue(C.end.x,C.end.y),new Ue(E.start.x,E.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return ia(this,void 0,void 0,function(){var n;return Hn(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=dn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=X1e(r),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(sW),l_e=function(t){return t instanceof HG||t instanceof LG?!0:t instanceof _I&&t.type!==Yv&&t.type!==Xv},c_e=function(t,e){switch(t){case 0:return ey(e);case 2:return V1e(e);case 1:default:return ty(e)}},u_e=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},A_e=["-apple-system","system-ui"],d_e=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return A_e.indexOf(e)===-1}):t},h_e=function(t){qs(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return e.prototype.render=function(r){return ia(this,void 0,void 0,function(){var n,a;return Hn(this,function(s){switch(s.label){case 0:return n=Q2(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,f_e(n)];case 1:return a=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=dn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(sW),f_e=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},m_e=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,c0([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,c0([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,c0([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,c0([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),p_e=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new m_e({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new O1e(this,e)}return t.instanceCount=1,t}(),CI=function(t,e){return e===void 0&&(e={}),g_e(t,e)};typeof window<"u"&&ZG.setContext(window);var g_e=function(t,e){return ia(void 0,void 0,void 0,function(){var r,n,a,s,o,l,c,u,A,d,h,f,p,g,m,b,y,w,x,C,B,E,B,j,N,S,k,I,T,O,U,H,R,D,M,Q,L,K,G,q;return Hn(this,function(W){switch(W.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(j=e.allowTaint)!==null&&j!==void 0?j:!1,imageTimeout:(N=e.imageTimeout)!==null&&N!==void 0?N:15e3,proxy:e.proxy,useCORS:(S=e.useCORS)!==null&&S!==void 0?S:!1},s=C2({logging:(k=e.logging)!==null&&k!==void 0?k:!0,cache:e.cache},a),o={windowWidth:(I=e.windowWidth)!==null&&I!==void 0?I:n.innerWidth,windowHeight:(T=e.windowHeight)!==null&&T!==void 0?T:n.innerHeight,scrollX:(O=e.scrollX)!==null&&O!==void 0?O:n.pageXOffset,scrollY:(U=e.scrollY)!==null&&U!==void 0?U:n.pageYOffset},l=new lo(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new p_e(s,l),u=(H=e.foreignObjectRendering)!==null&&H!==void 0?H:!1,A={allowTaint:(R=e.allowTaint)!==null&&R!==void 0?R:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),d=new XR(c,t,A),h=d.clonedReferenceElement,h?[4,d.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=W.sent(),p=BI(h)||v1e(h)?Wxe(h.ownerDocument):ow(c,h),g=p.width,m=p.height,b=p.left,y=p.top,w=x_e(c,h,e.backgroundColor),x={canvas:e.canvas,backgroundColor:w,scale:(M=(D=e.scale)!==null&&D!==void 0?D:n.devicePixelRatio)!==null&&M!==void 0?M:1,x:((Q=e.x)!==null&&Q!==void 0?Q:0)+b,y:((L=e.y)!==null&&L!==void 0?L:0)+y,width:(K=e.width)!==null&&K!==void 0?K:Math.ceil(g),height:(G=e.height)!==null&&G!==void 0?G:Math.ceil(m)},u?(c.logger.debug("Document cloned, using foreign object rendering"),B=new h_e(c,x),[4,B.render(h)]):[3,3];case 2:return C=W.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+b+","+y+" with size "+g+"x"+m+" using computed rendering"),c.logger.debug("Starting DOM parsing"),E=KG(c,h),w===E.styles.backgroundColor&&(E.styles.backgroundColor=Xi.TRANSPARENT),c.logger.debug("Starting renderer for element at "+x.x+","+x.y+" with size "+x.width+"x"+x.height),B=new o_e(c,x),[4,B.render(E)];case 4:C=W.sent(),W.label=5;case 5:return(!((q=e.removeContainer)!==null&&q!==void 0)||q)&&(XR.destroy(f)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,C]}})})},x_e=function(t,e,r){var n=e.ownerDocument,a=n.documentElement?$f(t,getComputedStyle(n.documentElement).backgroundColor):Xi.TRANSPARENT,s=n.body?$f(t,getComputedStyle(n.body).backgroundColor):Xi.TRANSPARENT,o=typeof r=="string"?$f(t,r):r===null?Xi.TRANSPARENT:4294967295;return e===n.documentElement?gl(a)?gl(s)?o:s:a:o};const v_e=Vd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function jt({className:t,variant:e,...r}){return i.jsx("div",{className:fe(v_e({variant:e}),t),...r})}const vr=nI,ny=aI,y_e=sI,iW=v.forwardRef(({className:t,...e},r)=>i.jsx(Yp,{ref:r,className:fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));iW.displayName=Yp.displayName;const hr=v.forwardRef(({className:t,children:e,...r},n)=>{const a=`${r.id}-description`;return i.jsxs(y_e,{children:[i.jsx(iW,{}),i.jsx(Jp,{ref:n,"aria-describedby":a,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:i.jsxs(Cr,{children:[e,i.jsxs(ew,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(db,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})})]})});hr.displayName=Jp.displayName;const Cr=({className:t,...e})=>i.jsx("div",{className:fe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Cr.displayName="DialogHeader";const yn=({className:t,...e})=>i.jsx("div",{className:fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});yn.displayName="DialogFooter";const jr=v.forwardRef(({className:t,...e},r)=>i.jsx(Zp,{ref:r,className:fe("text-lg font-semibold leading-none tracking-tight",t),...e}));jr.displayName=Zp.displayName;const Rn=v.forwardRef(({className:t,...e},r)=>i.jsx(eg,{ref:r,className:fe("text-sm text-muted-foreground",t),...e}));Rn.displayName=eg.displayName;const tU=[{bank:"SeaBank",accountNumber:"901958730549",accountName:"Yoga Prasetya"},{bank:"DANA",accountNumber:"081394586882",accountName:"Yoga Prasetya"}],b_e=()=>{const{id:t}=Qp(),e=Rt(),{toast:r}=$s(),{user:n}=Hr(),a=v.useRef(null),[s,o]=v.useState(null),[l,c]=v.useState(null),[u,A]=v.useState(!0),[d,h]=v.useState(null),[f,p]=v.useState(!1),[g,m]=v.useState(null),[b,y]=v.useState(!1),[w,x]=v.useState(null);v.useEffect(()=>{const N=async()=>{if(!(!n||!t))try{A(!0);const{data:I,error:T}=await Z.from("orders").select(`
            *,
            order_items(*)
          `).eq("id",t).eq("user_id",n.id).single();if(T)throw T;let O=null;if(I.shipping_address_id&&I.shipping_address_id!=="undefined"){const{data:U,error:H}=await Z.from("addresses").select("*").eq("id",I.shipping_address_id).single();H||(O={id:U.id,name:U.name,street:U.street,city:U.city,state:U.state,zip:U.zip,country:U.country,isDefault:U.is_default,user_id:U.user_id,created_at:U.created_at})}if(I.shipping_method_id){const{data:U,error:H}=await Z.from("shipping_methods").select("*").eq("id",I.shipping_method_id).single();!H&&U&&m(U)}else{const{data:U,error:H}=await Z.from("shipping_methods").select("*").limit(1).single();!H&&U&&m(U)}if(I){const U=I.order_items.map(M=>({id:M.id,productId:M.product_id,productName:M.product_name,quantity:M.quantity,price:M.price}));let H=I.payment_method;k(H)||(H="bank-transfer");let R=I.status;S(R)||(R="pending");const D={id:I.id,userId:I.user_id,date:I.date,status:R,paymentMethod:H,total:I.total,trackingNumber:I.tracking_number||"",items:U,shippingAddressId:I.shipping_address_id,shippingMethodId:I.shipping_method_id,voucher_id:I.voucher_id,discount_amount:I.discount_amount||0};if(o(D),c(O),I.voucher_id){const{data:M,error:Q}=await Z.from("vouchers").select("*").eq("id",I.voucher_id).single();!Q&&M&&x({code:M.code,discount_type:M.discount_type})}if(D.paymentMethod==="bank-transfer"){const M=Math.floor(Math.random()*tU.length);h(tU[M])}}}catch(I){console.error("Error fetching order details:",I),r({title:"Error",description:"Gagal memuat detail pesanan",variant:"destructive"})}finally{A(!1)}},S=I=>["pending","processing","shipped","delivered","cancelled"].includes(I),k=I=>["bank-transfer","credit-card","cod","qris"].includes(I);N()},[t,n,r]);const C=N=>{switch(N){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-500";case"processing":return"bg-blue-100 text-blue-800 border-blue-500";case"shipped":return"bg-purple-100 text-purple-800 border-purple-500";case"delivered":return"bg-green-100 text-green-800 border-green-500";case"cancelled":return"bg-red-100 text-red-800 border-red-500";default:return"bg-gray-100 text-gray-800 border-gray-500"}},E=N=>{switch(N){case"pending":return"Menunggu Pembayaran";case"processing":return"Diproses";case"shipped":return"Dikirim";case"delivered":return"Terkirim";case"cancelled":return"Dibatalkan";default:return N.charAt(0).toUpperCase()+N.slice(1)}},B=async()=>{if(a.current)try{y(!0),f||(p(!0),await new Promise(U=>setTimeout(U,500)));const N=a.current,S=N.querySelector(".hidden-on-print");let k="";S&&(k=S.style.display,S.style.display="none"),await new Promise(U=>setTimeout(U,100));const I=await CI(N,{scale:2,backgroundColor:"#ffffff",logging:!1,useCORS:!0,allowTaint:!0});S&&(S.style.display=k);const T=I.toDataURL("image/png"),O=document.createElement("a");O.href=T,O.download=`Struk-Pesanan-${s==null?void 0:s.id.substring(0,8)}.png`,O.click(),r({title:"Struk Berhasil Disimpan",description:"Struk pesanan telah disimpan sebagai gambar",variant:"default"})}catch(N){console.error("Error saving receipt as image:",N),r({title:"Gagal Menyimpan Struk",description:"Terjadi kesalahan saat menyimpan struk sebagai gambar",variant:"destructive"})}finally{y(!1)}},j=()=>{a.current&&(p(!0),setTimeout(()=>{const N=a.current;if(!N)return;const S=window.open("","_blank");if(!S){r({title:"Gagal membuka jendela cetak",description:"Mohon izinkan popup untuk situs ini",variant:"destructive"});return}S.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Struk Pesanan #${s==null?void 0:s.id.substring(0,8)}</title>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1">
          <style>
            @page {
              size: 80mm 297mm; /* Standard thermal receipt size */
              margin: 0;
            }
            body {
              font-family: system-ui, -apple-system, sans-serif;
              font-size: 10px;
              line-height: 1.2;
              width: 76mm;
              margin: 2mm auto;
              padding: 0;
            }
            * {
              box-sizing: border-box;
            }
            .receipt-header { 
              text-align: center;
              margin-bottom: 8px;
            }
            .receipt-header h2 {
              font-size: 12px;
              margin: 0 0 4px 0;
            }
            .receipt-items {
              border-top: 1px dashed #ccc;
              border-bottom: 1px dashed #ccc;
              padding: 8px 0;
              margin: 8px 0;
            }
            .receipt-item {
              display: flex;
              justify-content: space-between;
              margin-bottom: 4px;
            }
            .receipt-total {
              font-weight: bold;
              display: flex;
              justify-content: space-between;
              margin-top: 8px;
            }
            .receipt-footer {
              text-align: center;
              margin-top: 12px;
              font-size: 9px;
            }
            .receipt-store-info {
              text-align: center;
              font-size: 9px;
              margin-bottom: 8px;
            }
            .receipt-border {
              border-top: 1px dashed #ccc;
              margin: 8px 0;
            }
            .receipt-payment-info {
              font-size: 9px;
              margin-top: 8px;
            }
            .receipt-customer-info {
              font-size: 9px;
              margin: 8px 0;
            }
            .receipt-barcode {
              text-align: center;
              margin-top: 12px;
              font-size: 9px;
              letter-spacing: 2px;
            }
            .receipt-thank-you {
              text-align: center;
              margin-top: 12px;
              font-weight: bold;
            }
            .print-button {
              display: block;
              width: 100%;
              background: #e63946;
              color: white;
              border: none;
              padding: 8px;
              font-size: 14px;
              font-weight: bold;
              border-radius: 4px;
              margin: 16px 0;
              cursor: pointer;
            }
            @media print {
              .print-button {
                display: none;
              }
            }
          </style>
        </head>
        <body>
          ${N.innerHTML}
          <button class="print-button" onclick="window.print(); setTimeout(() => window.close(), 500);">Cetak Struk</button>
        </body>
        </html>
      `),S.document.close(),S.focus()},500))};return u?i.jsx(Jt,{children:i.jsx("div",{className:"p-4 flex flex-col items-center justify-center min-h-[50vh]",children:i.jsx("p",{children:"Tunggu Sebentar..."})})}):s?i.jsxs(Jt,{children:[i.jsxs("div",{className:"flex items-center p-4 bg-background sticky top-0 z-10 border-b",children:[i.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/"),className:"mr-2",children:i.jsx(Ds,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold",children:"Detail Pesanan"})]}),i.jsxs("div",{className:"container max-w-md mx-auto p-4 pb-20",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID Pesanan: ",s.id.substring(0,8),"..."]}),i.jsx(jt,{className:C(s.status),children:E(s.status)})]}),i.jsxs("div",{className:"text-sm text-muted-foreground mb-4",children:["Pesanan dibuat pada ",new Date(s.date).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})]}),s.trackingNumber&&i.jsxs("div",{className:"bg-secondary p-3 rounded-md flex items-center mb-4",children:[i.jsx(tS,{className:"h-5 w-5 mr-2 text-flame-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Nomor Resi"}),i.jsx("p",{className:"text-xs",children:s.trackingNumber})]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("h2",{className:"font-semibold",children:"Daftar Pesanan"}),i.jsxs(z,{size:"sm",variant:"outline",className:"flex items-center gap-1",onClick:j,children:[i.jsx(eS,{className:"h-4 w-4"}),i.jsx("span",{children:"Cetak Struk"})]})]}),i.jsx("div",{className:"space-y-3",children:s.items.map(N=>i.jsx(Be,{className:"overflow-hidden shadow-sm",children:i.jsx(Ce,{className:"p-3",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"h-16 w-16 bg-charcoal-100 rounded flex-shrink-0 flex items-center justify-center",children:i.jsx(to,{className:"h-8 w-8 text-charcoal-400"})}),i.jsx("div",{className:"flex-grow",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{children:[i.jsx(mt,{to:`/product/${N.productId}`,children:i.jsx("h3",{className:"font-medium text-sm line-clamp-2",children:N.productName})}),i.jsx("div",{className:"flex justify-between items-center mt-1",children:i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Jumlah: ",N.quantity,"  ",ye(N.price)]})})]}),i.jsx("div",{className:"text-right",children:i.jsx("div",{className:"font-medium",children:ye(N.price*N.quantity)})})]})})]})})},N.id))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"font-semibold mb-3",children:"Ringkasan Pesanan"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Subtotal"}),i.jsx("span",{children:ye(s.items.reduce((N,S)=>N+S.price*S.quantity,0))})]}),s.discount_amount>0&&i.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[i.jsxs("span",{children:["Diskon Voucher ",w!=null&&w.code?`(${w.code})`:""]}),i.jsxs("span",{children:["-",ye(s.discount_amount)]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{children:["Pengiriman (",g==null?void 0:g.name,")"]}),i.jsx("span",{children:ye((g==null?void 0:g.cost)||0)})]}),i.jsx(Zn,{className:"my-2"}),i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("span",{children:"Total"}),i.jsx("span",{children:ye(s.total)})]})]})]}),l&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"font-semibold mb-3",children:"Alamat Pengiriman"}),i.jsx(Be,{children:i.jsxs(Ce,{className:"p-3",children:[i.jsx("p",{className:"font-medium",children:l.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:l.street}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.city,", ",l.state," ",l.zip]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:l.country})]})})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"font-semibold mb-3",children:"Metode Pembayaran"}),i.jsx(Be,{children:i.jsxs(Ce,{className:"p-3 flex items-center",children:[s.paymentMethod==="bank-transfer"&&i.jsxs(i.Fragment,{children:[i.jsx(zH,{className:"h-5 w-5 mr-3 text-flame-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Transfer Bank"}),d&&i.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.bank," - ",d.accountNumber]})]})]}),s.paymentMethod==="credit-card"&&i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"h-5 w-5 mr-3 text-flame-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[i.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",strokeWidth:"2"}),i.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10",strokeWidth:"2"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Kartu Kredit"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"**** **** **** 1234"})]})]}),s.paymentMethod==="cod"&&i.jsxs(i.Fragment,{children:[i.jsx(tS,{className:"h-5 w-5 mr-3 text-flame-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Bayar di Tempat (COD)"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Pembayaran saat barang diterima"})]})]}),s.paymentMethod==="qris"&&i.jsxs(i.Fragment,{children:[i.jsx(kk,{className:"h-5 w-5 mr-3 text-flame-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"QRIS"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Pembayaran menggunakan QRIS"})]})]})]})})]}),i.jsx("div",{className:"flex space-x-3 mb-6",children:i.jsxs(z,{onClick:()=>p(!0),className:"flex-1",children:[i.jsx(eS,{className:"mr-2 h-4 w-4"}),"Lihat Struk"]})}),i.jsx(vr,{open:f,onOpenChange:p,children:i.jsxs(hr,{className:"max-w-md",children:[i.jsx(Cr,{children:i.jsx(jr,{children:"Struk Pesanan"})}),i.jsxs("div",{ref:a,className:"receipt-container",children:[i.jsxs("div",{className:"receipt-header",children:[i.jsx("h2",{className:"receipt-title",children:"Struk Belanja"}),i.jsxs("div",{className:"receipt-store-info",children:[i.jsx("p",{className:"receipt-store-name",children:i.jsx("strong",{children:"Jaya Perkasa Charcoal"})}),i.jsx("p",{children:"Jl.legok conggeang kec.paseh , sumedang"}),i.jsx("p",{children:"Telp: 0813-9458-6882"})]}),i.jsx("div",{className:"receipt-border"}),i.jsx("p",{className:"mt-3 mb-1",children:i.jsxs("strong",{children:["Pesanan #",s.id.substring(0,8)]})}),i.jsx("p",{children:new Date(s.date).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),l&&i.jsxs("div",{className:"receipt-customer-info",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Dikirim Ke:"})," ",l.name]}),i.jsx("p",{children:l.street}),i.jsx("p",{children:`${l.city}, ${l.state} ${l.zip}`})]}),i.jsx("div",{className:"receipt-border"}),i.jsx("div",{className:"receipt-items",children:s.items.map((N,S)=>i.jsxs("div",{className:"receipt-item",children:[i.jsxs("div",{children:[i.jsx("p",{children:N.productName}),i.jsxs("p",{children:["Jml: ",N.quantity,"  ",ye(N.price)]})]}),i.jsx("span",{children:ye(N.quantity*N.price)})]},S))}),i.jsx("div",{className:"receipt-border"}),i.jsxs("div",{children:[i.jsxs("div",{className:"receipt-item",children:[i.jsx("span",{children:"Subtotal"}),i.jsx("span",{children:ye(s.items.reduce((N,S)=>N+S.price*S.quantity,0))})]}),s.discount_amount>0&&i.jsxs("div",{className:"receipt-item",style:{color:"#22c55e"},children:[i.jsxs("span",{children:["Diskon Voucher ",w!=null&&w.code?`(${w.code})`:""]}),i.jsxs("span",{children:["-",ye(s.discount_amount)]})]}),g&&i.jsxs("div",{className:"receipt-item",children:[i.jsxs("span",{children:["Pengiriman (",g.name,")"]}),i.jsx("span",{children:ye(g.cost)})]}),i.jsxs("div",{className:"receipt-total",children:[i.jsx("span",{children:"Total"}),i.jsx("span",{children:ye(s.total)})]})]}),i.jsxs("div",{className:"receipt-payment-info",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Metode Pembayaran:"})," ",s.paymentMethod==="bank-transfer"?"Transfer Bank":s.paymentMethod==="qris"?"QRIS":s.paymentMethod==="cod"?"Bayar di Tempat (COD)":"Pembayaran Standar"]}),s.paymentMethod==="bank-transfer"&&d&&i.jsxs("p",{children:["Bank: ",d.bank," - ",d.accountNumber]})]}),i.jsx("div",{className:"receipt-barcode",children:i.jsxs("p",{children:["*******",s.id.substring(0,8),"*******"]})}),i.jsx("div",{className:"receipt-thank-you",children:i.jsx("p",{children:"Jika ingin mendapatkan harga murah atau diskon segera hubungi admin"})}),i.jsxs("div",{className:"receipt-footer",children:[i.jsx("p",{children:"Layanan pelanggan: 0813-9458-6882"}),i.jsx("p",{children:"Jika Arang Belum Di Kirim Silahkan Chat Admin Dan Berikan Struk Bukti Pembayaran"}),i.jsx("p",{children:"Terima kasih"})]}),i.jsxs("div",{className:"mt-4 hidden-on-print space-y-2",children:[i.jsx(z,{onClick:()=>window.print(),className:"w-full",children:"Cetak Struk"}),i.jsx(z,{onClick:B,className:"w-full bg-green-600 hover:bg-green-700",disabled:b,children:b?i.jsxs(i.Fragment,{children:[i.jsx(er,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ll,{className:"mr-2 h-4 w-4"}),"Simpan Sebagai Gambar"]})})]})]})]})})]})]}):i.jsx(Jt,{children:i.jsxs("div",{className:"p-4 flex flex-col items-center justify-center min-h-[50vh]",children:[i.jsx("p",{className:"text-muted-foreground",children:"Pesanan tidak ditemukan"}),i.jsx(z,{onClick:()=>e("/"),className:"mt-4 bg-flame-500 hover:bg-flame-600",children:"Kembali ke Beranda"})]})})};function w_e(){const{user:t}=Hr(),[e,r]=v.useState([]),[n,a]=v.useState(!0);v.useEffect(()=>{async function c(){if(t){a(!0);try{const{data:u,error:A}=await Z.from("orders").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(A)throw A;r(u||[])}catch(u){console.error("Error fetching orders:",u)}finally{a(!1)}}}c()},[t]);const s=c=>new Date(c).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),o=c=>{switch(c.toLowerCase()){case"pending":return i.jsx(jt,{variant:"outline",className:"bg-amber-100 text-amber-800 hover:bg-amber-100",children:"Menunggu Pembayaran"});case"processing":return i.jsx(jt,{variant:"outline",className:"bg-blue-100 text-blue-800 hover:bg-blue-100",children:"Diproses"});case"shipped":return i.jsx(jt,{variant:"outline",className:"bg-indigo-100 text-indigo-800 hover:bg-indigo-100",children:"Dikirim"});case"delivered":return i.jsx(jt,{variant:"outline",className:"bg-green-100 text-green-800 hover:bg-green-100",children:"Diterima"});case"canceled":return i.jsx(jt,{variant:"outline",className:"bg-red-100 text-red-800 hover:bg-red-100",children:"Dibatalkan"});case"completed":return i.jsx(jt,{variant:"outline",className:"bg-emerald-100 text-emerald-800 hover:bg-emerald-100",children:"Selesai"});default:return i.jsx(jt,{variant:"outline",children:c})}},l=c=>{switch(c){case"bank-transfer":return"Transfer Bank";case"cash-on-delivery":return"Bayar di Tempat (COD)";case"e-wallet":return"E-Wallet";case"credit-card":return"Kartu Kredit";default:return c}};return i.jsxs(Jt,{children:[i.jsxs("div",{className:"p-4 flex items-center shadow-sm mb-2",children:[i.jsx(mt,{to:"/",className:"text-charcoal-600 mr-2",children:i.jsx(Ds,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-xl font-bold flex-1",children:"Daftar Pesanan"})]}),i.jsx("div",{className:"p-4",children:n?i.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[i.jsx(er,{className:"h-8 w-8 animate-spin text-flame-500 mb-2"}),i.jsx("p",{className:"text-muted-foreground",children:"Memuat daftar pesanan..."})]}):e.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[i.jsx(to,{className:"h-16 w-16 text-muted-foreground mb-4"}),i.jsx("h2",{className:"text-lg font-medium mb-2",children:"Belum Ada Pesanan"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Anda belum memiliki pesanan. Mulailah berbelanja untuk melihat pesanan Anda di sini."}),i.jsx(z,{asChild:!0,className:"bg-flame-500 hover:bg-flame-600",children:i.jsx(mt,{to:"/",children:"Mulai Belanja"})})]}):i.jsx("div",{className:"space-y-4",children:e.map(c=>i.jsx(mt,{to:`/order/${c.id}`,children:i.jsx(Be,{className:"hover:border-flame-200 transition-colors",children:i.jsxs(Ce,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(to,{className:"h-5 w-5 text-flame-500 mr-2"}),i.jsxs("span",{className:"font-medium",children:["#",c.id.substring(0,8)]})]}),o(c.status)]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"text-sm text-muted-foreground flex items-center",children:[i.jsx(GH,{className:"h-4 w-4 mr-1"}),"Tanggal"]}),i.jsx("div",{className:"text-sm",children:s(c.created_at)})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Metode Pembayaran"}),i.jsx("div",{className:"text-sm",children:l(c.payment_method)})]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:c.payment_status==="paid"?"Sudah Dibayar":"Menunggu Pembayaran"}),i.jsx("div",{className:"font-medium text-flame-700",children:ye(c.total)})]})]})})},c.id))})})]})}const __e=nn.object({email:nn.string().email({message:"Silakan masukkan alamat email yang valid"}),password:nn.string().min(1,{message:"Kata sandi wajib diisi"})}),B_e=nn.object({email:nn.string().email({message:"Silakan masukkan alamat email yang valid"})}),C_e=()=>{const t=Rt(),{toast:e}=$s(),[r,n]=v.useState(!1),[a,s]=v.useState(!1),[o,l]=v.useState(!1),c=ca({resolver:ua(__e),defaultValues:{email:"",password:""}}),u=ca({resolver:ua(B_e),defaultValues:{email:""}}),A=async h=>{s(!0);try{const{error:f}=await Z.auth.resetPasswordForEmail(h.email,{redirectTo:`${window.location.origin}/reset-password`});if(f)throw f;e({title:"Email reset password telah dikirim",description:"Silakan periksa email Anda untuk melanjutkan proses reset password."}),l(!1)}catch(f){e({title:"Gagal mengirimkan reset password",description:f.message||"Terjadi kesalahan. Silakan coba lagi.",variant:"destructive"})}finally{s(!1)}},d=async h=>{n(!0);try{const{error:f}=await Z.auth.signInWithPassword({email:h.email,password:h.password});if(f)throw f;e({title:"Login berhasil",description:"Anda telah berhasil masuk."}),t("/")}catch(f){console.error("Login error:",f),e({title:"Login gagal",description:f.message||"Silakan periksa kredensial Anda.",variant:"destructive"})}finally{n(!1)}};return i.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 bg-background",children:[i.jsxs("div",{className:"w-full max-w-md space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Selamat Datang Kembali"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Masuk ke akun Anda"})]}),i.jsx(ea,{...c,children:i.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-4",children:[i.jsx(Ke,{control:c.control,name:"email",render:({field:h})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Email"}),i.jsx(He,{children:i.jsx(he,{type:"email",placeholder:"namaemailmu@email.com",...h})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:c.control,name:"password",render:({field:h})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Kata Sandi"}),i.jsx(He,{children:i.jsx(he,{type:"password",placeholder:"",...h})}),i.jsx(Ge,{})]})}),i.jsx("div",{className:"text-right",children:i.jsx("button",{type:"button",onClick:()=>l(!0),className:"text-sm text-flame-500 hover:underline",children:"Lupa Password?"})}),i.jsx(z,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:r,children:r?i.jsxs(i.Fragment,{children:[i.jsx(er,{className:"mr-2 h-4 w-4 animate-spin"}),"Sedang masuk..."]}):"Masuk"})]})}),i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Belum memiliki akun?"," ",i.jsx(mt,{to:"/register",className:"text-flame-500 hover:underline",children:"Daftar"})]})})]}),i.jsx(vr,{open:o,onOpenChange:l,children:i.jsxs(hr,{className:"sm:max-w-md",children:[i.jsxs(Cr,{children:[i.jsx(jr,{children:"Reset Password"}),i.jsx(Rn,{children:"Masukkan alamat email Anda dan kami akan mengirimkan link untuk reset password."})]}),i.jsx(ea,{...u,children:i.jsxs("form",{onSubmit:u.handleSubmit(A),className:"space-y-4 py-4",children:[i.jsx(Ke,{control:u.control,name:"email",render:({field:h})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Email"}),i.jsx(He,{children:i.jsx(he,{type:"email",placeholder:"namaemailmu@email.com",autoComplete:"email",...h})}),i.jsx(Ge,{})]})}),i.jsxs(yn,{className:"sm:justify-between mt-4",children:[i.jsx(z,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Batal"}),i.jsx(z,{type:"submit",className:"bg-flame-500 hover:bg-flame-600",disabled:a,children:a?i.jsxs(i.Fragment,{children:[i.jsx(er,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Kirim Link Reset"})]})]})})]})})]})},oW=t=>{let e=t.replace(/\D/g,"");return e.startsWith("0")&&(e="62"+e.substring(1)),e.startsWith("62")||(e="62"+e),e},j_e=nn.object({name:nn.string().min(2,{message:"Nama harus minimal 2 karakter"}),email:nn.string().email({message:"Silakan masukkan alamat email yang valid"}),whatsapp:nn.string().min(10,{message:"Nomor WhatsApp tidak valid"}).max(15,{message:"Nomor WhatsApp tidak valid"}).regex(/^(62|0)[0-9]{9,13}$/,{message:"Format nomor WhatsApp harus diawali 62/0 (contoh: 6281234567890 atau 081234567890)"}),password:nn.string().min(8,{message:"Kata sandi harus minimal 8 karakter"}),confirmPassword:nn.string()}).refine(t=>t.password===t.confirmPassword,{message:"Kata sandi tidak cocok",path:["confirmPassword"]}),E_e=()=>{const t=Rt(),{toast:e}=$s(),{register:r}=Hr(),[n,a]=v.useState(!1),s=ca({resolver:ua(j_e),defaultValues:{name:"",email:"",whatsapp:"",password:"",confirmPassword:""}}),o=async l=>{var c;a(!0);try{const u=oW(l.whatsapp);await r(l.name,l.email,l.password);const{data:A,error:d}=await Z.auth.getSession();if(d)throw d;if((c=A==null?void 0:A.session)!=null&&c.user){const{error:h}=await Z.from("profiles").update({phone:u}).eq("id",A.session.user.id);h&&(console.error("Error saving WhatsApp number to profile:",h),e({variant:"destructive",title:"Terjadi kesalahan",description:"Gagal menyimpan nomor WhatsApp. Silakan update di halaman profil."}))}e({title:"Pendaftaran berhasil",description:"Akun Anda telah dibuat. Silakan periksa email Anda untuk verifikasi akun."}),t("/")}catch(u){console.error("Registration error:",u),e({title:"Pendaftaran gagal",description:u.message||"Terjadi kesalahan saat pendaftaran.",variant:"destructive"})}finally{a(!1)}};return i.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-background",children:i.jsxs("div",{className:"w-full max-w-md space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Buat Akun"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Daftar untuk mulai menggunakan layanan kami"})]}),i.jsx(ea,{...s,children:i.jsxs("form",{onSubmit:s.handleSubmit(o),className:"space-y-4",children:[i.jsx(Ke,{control:s.control,name:"name",render:({field:l})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Nama"}),i.jsx(He,{children:i.jsx(he,{placeholder:"Nama Anda",...l})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:s.control,name:"email",render:({field:l})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Email"}),i.jsx(He,{children:i.jsx(he,{type:"email",placeholder:"namaemailkamu@email.com",...l})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:s.control,name:"whatsapp",render:({field:l})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Nomor WhatsApp"}),i.jsx(He,{children:i.jsx(he,{type:"tel",placeholder:"6281234567890 atau 081234567890",...l})}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Format: Diawali dengan 62 atau 0, contoh: 6281234567890 atau 081234567890"}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:s.control,name:"password",render:({field:l})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Kata Sandi"}),i.jsx(He,{children:i.jsx(he,{type:"password",placeholder:"",...l})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:s.control,name:"confirmPassword",render:({field:l})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Konfirmasi Kata Sandi"}),i.jsx(He,{children:i.jsx(he,{type:"password",placeholder:"",...l})}),i.jsx(Ge,{})]})}),i.jsx(z,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:n,children:n?"Mendaftar...":"Daftar"})]})}),i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Sudah memiliki akun?"," ",i.jsx(mt,{to:"/login",className:"text-flame-500 hover:underline",children:"Masuk"})]})})]})})},S_e=nn.object({email:nn.string().email({message:"Please enter a valid email address"}),password:nn.string().min(1,{message:"Password is required"})}),N_e=()=>{const t=Rt(),{toast:e}=$s(),{user:r,profile:n}=Hr(),[a,s]=v.useState(!1);v.useEffect(()=>{r&&n&&(n.role==="admin"||n.role==="manager")&&t("/admin")},[r,n,t]);const o=ca({resolver:ua(S_e),defaultValues:{email:"",password:""}}),l=async c=>{s(!0);try{const{error:u}=await Z.auth.signInWithPassword({email:c.email,password:c.password});if(u)throw u;e({title:"Login successful",description:"You are now logged in."})}catch(u){console.error("Login error:",u),e({title:"Login failed",description:u.message||"Invalid email or password.",variant:"destructive"})}finally{s(!1)}};return i.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-background",children:i.jsxs("div",{className:"w-full max-w-md space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Admin Login"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Log in to access the admin panel"})]}),i.jsx(ea,{...o,children:i.jsxs("form",{onSubmit:o.handleSubmit(l),className:"space-y-4",children:[i.jsx(Ke,{control:o.control,name:"email",render:({field:c})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Email"}),i.jsx(He,{children:i.jsx(he,{type:"email",placeholder:"Your email",...c})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:o.control,name:"password",render:({field:c})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Password"}),i.jsx(He,{children:i.jsx(he,{type:"password",placeholder:"Your password",...c})}),i.jsx(Ge,{})]})}),i.jsx(z,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:a,children:a?"Logging in...":"Login"})]})})]})})},k_e=nn.object({name:nn.string().min(2,{message:"Name must be at least 2 characters"}),email:nn.string().email({message:"Please enter a valid email address"}),password:nn.string().min(8,{message:"Password must be at least 8 characters"}),role:nn.enum(["admin","manager"],{required_error:"Please select a role"})}),T_e=()=>{const t=Rt(),{toast:e}=$s(),[r,n]=v.useState(!1),a=ca({resolver:ua(k_e),defaultValues:{name:"",email:"",password:"",role:"manager"}}),s=async o=>{n(!0);try{const{error:l,data:c}=await Z.auth.signUp({email:o.email,password:o.password,options:{data:{name:o.name,role:o.role}}});if(l)throw l;if(c.user){const{error:u}=await Z.from("profiles").upsert({id:c.user.id,name:o.name,email:o.email,role:o.role});if(u)throw u}e({title:"Registration successful",description:"Your account has been created and you are now logged in."}),t("/admin")}catch(l){console.error("Registration error:",l),e({title:"Registration failed",description:l.message||"An error occurred during registration.",variant:"destructive"})}finally{n(!1)}};return i.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-background",children:i.jsxs("div",{className:"w-full max-w-md space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Admin Registration"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Create an admin or manager account"})]}),i.jsx(ea,{...a,children:i.jsxs("form",{onSubmit:a.handleSubmit(s),className:"space-y-4",children:[i.jsx(Ke,{control:a.control,name:"name",render:({field:o})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Name"}),i.jsx(He,{children:i.jsx(he,{placeholder:"Your name",...o})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:a.control,name:"email",render:({field:o})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Email"}),i.jsx(He,{children:i.jsx(he,{type:"email",placeholder:"Your email",...o})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:a.control,name:"password",render:({field:o})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Password"}),i.jsx(He,{children:i.jsx(he,{type:"password",placeholder:"Your password",...o})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:a.control,name:"role",render:({field:o})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Role"}),i.jsxs(In,{onValueChange:o.onChange,defaultValue:o.value,children:[i.jsx(He,{children:i.jsx(gn,{children:i.jsx(Pn,{placeholder:"Select a role"})})}),i.jsxs(xn,{children:[i.jsx(yt,{value:"admin",children:"Admin"}),i.jsx(yt,{value:"manager",children:"Manager"})]})]}),i.jsx(Ge,{})]})}),i.jsx(z,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:r,children:r?"Registering...":"Register"})]})}),i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",i.jsx(mt,{to:"/admin-login",className:"text-flame-500 hover:underline",children:"Login"})]})})]})})};function ar(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function co(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function I_e(t,e){const r=ar(t);return isNaN(e)?co(t,NaN):(r.setDate(r.getDate()+e),r)}const lW=6048e5,P_e=864e5,I0=43200,rU=1440;let F_e={};function sg(){return F_e}function du(t,e){var l,c,u,A;const r=sg(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((A=(u=r.locale)==null?void 0:u.options)==null?void 0:A.weekStartsOn)??0,a=ar(t),s=a.getDay(),o=(s<n?7:0)+s-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function ay(t){return du(t,{weekStartsOn:1})}function cW(t){const e=ar(t),r=e.getFullYear(),n=co(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=ay(n),s=co(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=ay(s);return e.getTime()>=a.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function sy(t){const e=ar(t);return e.setHours(0,0,0,0),e}function iy(t){const e=ar(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function D_e(t,e){const r=sy(t),n=sy(e),a=+r-iy(r),s=+n-iy(n);return Math.round((a-s)/P_e)}function O_e(t){const e=cW(t),r=co(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),ay(r)}function gx(t,e){const r=ar(t),n=ar(e),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function ig(t){return co(t,Date.now())}function uW(t,e){const r=sy(t),n=sy(e);return+r==+n}function R_e(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function U_e(t){if(!R_e(t)&&typeof t!="number")return!1;const e=ar(t);return!isNaN(Number(e))}function M_e(t,e){const r=ar(t),n=ar(e),a=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return a*12+s}function Q_e(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function L_e(t,e){return+ar(t)-+ar(e)}function H_e(t){const e=ar(t);return e.setHours(23,59,59,999),e}function $_e(t){const e=ar(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function V_e(t){const e=ar(t);return+H_e(e)==+$_e(e)}function K_e(t,e){const r=ar(t),n=ar(e),a=gx(r,n),s=Math.abs(M_e(r,n));let o;if(s<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*s);let l=gx(r,n)===-a;V_e(ar(t))&&s===1&&gx(t,n)===1&&(l=!1),o=a*(s-Number(l))}return o===0?0:o}function q_e(t,e,r){const n=L_e(t,e)/1e3;return Q_e(r==null?void 0:r.roundingMethod)(n)}function z_e(t){const e=ar(t),r=co(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const G_e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},W_e=(t,e,r)=>{let n;const a=G_e[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function kA(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const X_e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Y_e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},J_e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Z_e={date:kA({formats:X_e,defaultWidth:"full"}),time:kA({formats:Y_e,defaultWidth:"full"}),dateTime:kA({formats:J_e,defaultWidth:"full"})},eBe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tBe=(t,e,r,n)=>eBe[t];function ni(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return a[s]}}const rBe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nBe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},aBe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sBe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},iBe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oBe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lBe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},cBe={ordinalNumber:lBe,era:ni({values:rBe,defaultWidth:"wide"}),quarter:ni({values:nBe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ni({values:aBe,defaultWidth:"wide"}),day:ni({values:sBe,defaultWidth:"wide"}),dayPeriod:ni({values:iBe,defaultWidth:"wide",formattingValues:oBe,defaultFormattingWidth:"wide"})};function ai(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(a);if(!s)return null;const o=s[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?ABe(l,d=>d.test(o)):uBe(l,d=>d.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const A=e.slice(o.length);return{value:u,rest:A}}}function uBe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function ABe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function AW(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(a.length);return{value:o,rest:l}}}const dBe=/^(\d+)(th|st|nd|rd)?/i,hBe=/\d+/i,fBe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mBe={any:[/^b/i,/^(a|c)/i]},pBe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gBe={any:[/1/i,/2/i,/3/i,/4/i]},xBe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vBe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},yBe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bBe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wBe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_Be={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},BBe={ordinalNumber:AW({matchPattern:dBe,parsePattern:hBe,valueCallback:t=>parseInt(t,10)}),era:ai({matchPatterns:fBe,defaultMatchWidth:"wide",parsePatterns:mBe,defaultParseWidth:"any"}),quarter:ai({matchPatterns:pBe,defaultMatchWidth:"wide",parsePatterns:gBe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ai({matchPatterns:xBe,defaultMatchWidth:"wide",parsePatterns:vBe,defaultParseWidth:"any"}),day:ai({matchPatterns:yBe,defaultMatchWidth:"wide",parsePatterns:bBe,defaultParseWidth:"any"}),dayPeriod:ai({matchPatterns:wBe,defaultMatchWidth:"any",parsePatterns:_Be,defaultParseWidth:"any"})},dW={code:"en-US",formatDistance:W_e,formatLong:Z_e,formatRelative:tBe,localize:cBe,match:BBe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function CBe(t){const e=ar(t);return D_e(e,z_e(e))+1}function jBe(t){const e=ar(t),r=+ay(e)-+O_e(e);return Math.round(r/lW)+1}function hW(t,e){var A,d,h,f;const r=ar(t),n=r.getFullYear(),a=sg(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(A=e==null?void 0:e.locale)==null?void 0:A.options)==null?void 0:d.firstWeekContainsDate)??a.firstWeekContainsDate??((f=(h=a.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=co(t,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=du(o,e),c=co(t,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=du(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function EBe(t,e){var l,c,u,A;const r=sg(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((A=(u=r.locale)==null?void 0:u.options)==null?void 0:A.firstWeekContainsDate)??1,a=hW(t,e),s=co(t,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),du(s,e)}function SBe(t,e){const r=ar(t),n=+du(r,e)-+EBe(r,e);return Math.round(n/lW)+1}function or(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const To={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return or(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):or(r+1,2)},d(t,e){return or(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return or(t.getHours()%12||12,e.length)},H(t,e){return or(t.getHours(),e.length)},m(t,e){return or(t.getMinutes(),e.length)},s(t,e){return or(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return or(a,e.length)}},rA={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},nU={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return To.y(t,e)},Y:function(t,e,r,n){const a=hW(t,n),s=a>0?a:1-a;if(e==="YY"){const o=s%100;return or(o,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):or(s,e.length)},R:function(t,e){const r=cW(t);return or(r,e.length)},u:function(t,e){const r=t.getFullYear();return or(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return or(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return or(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return To.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return or(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=SBe(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):or(a,e.length)},I:function(t,e,r){const n=jBe(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):or(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):To.d(t,e)},D:function(t,e,r){const n=CBe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):or(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return or(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return or(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return or(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=rA.noon:n===0?a=rA.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=rA.evening:n>=12?a=rA.afternoon:n>=4?a=rA.morning:a=rA.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return To.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):To.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):or(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):or(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):To.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):To.s(t,e)},S:function(t,e){return To.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return sU(n);case"XXXX":case"XX":return gc(n);case"XXXXX":case"XXX":default:return gc(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return sU(n);case"xxxx":case"xx":return gc(n);case"xxxxx":case"xxx":default:return gc(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+aU(n,":");case"OOOO":default:return"GMT"+gc(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+aU(n,":");case"zzzz":default:return"GMT"+gc(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return or(n,e.length)},T:function(t,e,r){const n=t.getTime();return or(n,e.length)}};function aU(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+e+or(s,2)}function sU(t,e){return t%60===0?(t>0?"-":"+")+or(Math.abs(t)/60,2):gc(t,e)}function gc(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=or(Math.trunc(n/60),2),s=or(n%60,2);return r+a+e+s}const iU=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},fW=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},NBe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return iU(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",iU(n,e)).replace("{{time}}",fW(a,e))},kBe={p:fW,P:NBe},TBe=/^D+$/,IBe=/^Y+$/,PBe=["D","DD","YY","YYYY"];function FBe(t){return TBe.test(t)}function DBe(t){return IBe.test(t)}function OBe(t,e,r){const n=RBe(t,e,r);if(console.warn(n),PBe.includes(t))throw new RangeError(n)}function RBe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const UBe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,MBe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,QBe=/^'([^]*?)'?$/,LBe=/''/g,HBe=/[a-zA-Z]/;function vn(t,e,r){var A,d,h,f,p,g,m,b;const n=sg(),a=(r==null?void 0:r.locale)??n.locale??dW,s=(r==null?void 0:r.firstWeekContainsDate)??((d=(A=r==null?void 0:r.locale)==null?void 0:A.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(h=n.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((b=(m=n.locale)==null?void 0:m.options)==null?void 0:b.weekStartsOn)??0,l=ar(t);if(!U_e(l))throw new RangeError("Invalid time value");let c=e.match(MBe).map(y=>{const w=y[0];if(w==="p"||w==="P"){const x=kBe[w];return x(y,a.formatLong)}return y}).join("").match(UBe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:$Be(y)};if(nU[w])return{isToken:!0,value:y};if(w.match(HBe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&DBe(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&FBe(w))&&OBe(w,e,String(t));const x=nU[w[0]];return x(l,w,a.localize,u)}).join("")}function $Be(t){const e=t.match(QBe);return e?e[1].replace(LBe,"'"):t}function VBe(t,e,r){const n=sg(),a=(r==null?void 0:r.locale)??n.locale??dW,s=2520,o=gx(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=ar(e),u=ar(t)):(c=ar(t),u=ar(e));const A=q_e(u,c),d=(iy(u)-iy(c))/1e3,h=Math.round((A-d)/60);let f;if(h<2)return r!=null&&r.includeSeconds?A<5?a.formatDistance("lessThanXSeconds",5,l):A<10?a.formatDistance("lessThanXSeconds",10,l):A<20?a.formatDistance("lessThanXSeconds",20,l):A<40?a.formatDistance("halfAMinute",0,l):A<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<rU){const p=Math.round(h/60);return a.formatDistance("aboutXHours",p,l)}else{if(h<s)return a.formatDistance("xDays",1,l);if(h<I0){const p=Math.round(h/rU);return a.formatDistance("xDays",p,l)}else if(h<I0*2)return f=Math.round(h/I0),a.formatDistance("aboutXMonths",f,l)}if(f=K_e(u,c),f<12){const p=Math.round(h/I0);return a.formatDistance("xMonths",p,l)}else{const p=f%12,g=Math.trunc(f/12);return p<3?a.formatDistance("aboutXYears",g,l):p<9?a.formatDistance("overXYears",g,l):a.formatDistance("almostXYears",g+1,l)}}function KBe(t,e){return VBe(t,ig(t),e)}function qBe(t,e,r){const n=du(t,r),a=du(e,r);return+n==+a}function zBe(t,e){const r=ar(t),n=ar(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function GBe(t){return zBe(t,ig(t))}function WBe(t,e){return qBe(t,ig(t),e)}function XBe(t){return uW(t,ig(t))}function YBe(t,e){return I_e(t,-1)}function JBe(t){return uW(t,YBe(ig(t)))}const ZBe={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXWeeks:{one:"sekitar 1 minggu",other:"sekitar {{count}} minggu"},xWeeks:{one:"1 minggu",other:"{{count}} minggu"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}},eCe=(t,e,r)=>{let n;const a=ZBe[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dalam waktu "+n:n+" yang lalu":n},tCe={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"d/M/yyyy"},rCe={full:"HH.mm.ss",long:"HH.mm.ss",medium:"HH.mm",short:"HH.mm"},nCe={full:"{{date}} 'pukul' {{time}}",long:"{{date}} 'pukul' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},aCe={date:kA({formats:tCe,defaultWidth:"full"}),time:kA({formats:rCe,defaultWidth:"full"}),dateTime:kA({formats:nCe,defaultWidth:"full"})},sCe={lastWeek:"eeee 'lalu pukul' p",yesterday:"'Kemarin pukul' p",today:"'Hari ini pukul' p",tomorrow:"'Besok pukul' p",nextWeek:"eeee 'pukul' p",other:"P"},iCe=(t,e,r,n)=>sCe[t],oCe={narrow:["SM","M"],abbreviated:["SM","M"],wide:["Sebelum Masehi","Masehi"]},lCe={narrow:["1","2","3","4"],abbreviated:["K1","K2","K3","K4"],wide:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"]},cCe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],wide:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},uCe={narrow:["M","S","S","R","K","J","S"],short:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],abbreviated:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],wide:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},ACe={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},dCe={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},hCe=(t,e)=>"ke-"+Number(t),fCe={ordinalNumber:hCe,era:ni({values:oCe,defaultWidth:"wide"}),quarter:ni({values:lCe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ni({values:cCe,defaultWidth:"wide"}),day:ni({values:uCe,defaultWidth:"wide"}),dayPeriod:ni({values:ACe,defaultWidth:"wide",formattingValues:dCe,defaultFormattingWidth:"wide"})},mCe=/^ke-(\d+)?/i,pCe=/\d+/i,gCe={narrow:/^(sm|m)/i,abbreviated:/^(s\.?\s?m\.?|s\.?\s?e\.?\s?u\.?|m\.?|e\.?\s?u\.?)/i,wide:/^(sebelum masehi|sebelum era umum|masehi|era umum)/i},xCe={any:[/^s/i,/^(m|e)/i]},vCe={narrow:/^[1234]/i,abbreviated:/^K-?\s[1234]/i,wide:/^Kuartal ke-?\s?[1234]/i},yCe={any:[/1/i,/2/i,/3/i,/4/i]},bCe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|mei|jun|jul|agt|sep|okt|nov|des)/i,wide:/^(januari|februari|maret|april|mei|juni|juli|agustus|september|oktober|november|desember)/i},wCe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^ma/i,/^ap/i,/^me/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},_Ce={narrow:/^[srkjm]/i,short:/^(min|sen|sel|rab|kam|jum|sab)/i,abbreviated:/^(min|sen|sel|rab|kam|jum|sab)/i,wide:/^(minggu|senin|selasa|rabu|kamis|jumat|sabtu)/i},BCe={narrow:[/^m/i,/^s/i,/^s/i,/^r/i,/^k/i,/^j/i,/^s/i],any:[/^m/i,/^sen/i,/^sel/i,/^r/i,/^k/i,/^j/i,/^sa/i]},CCe={narrow:/^(a|p|tengah m|tengah h|(di(\swaktu)?) (pagi|siang|sore|malam))/i,any:/^([ap]\.?\s?m\.?|tengah malam|tengah hari|(di(\swaktu)?) (pagi|siang|sore|malam))/i},jCe={any:{am:/^a/i,pm:/^pm/i,midnight:/^tengah m/i,noon:/^tengah h/i,morning:/pagi/i,afternoon:/siang/i,evening:/sore/i,night:/malam/i}},ECe={ordinalNumber:AW({matchPattern:mCe,parsePattern:pCe,valueCallback:t=>parseInt(t,10)}),era:ai({matchPatterns:gCe,defaultMatchWidth:"wide",parsePatterns:xCe,defaultParseWidth:"any"}),quarter:ai({matchPatterns:vCe,defaultMatchWidth:"wide",parsePatterns:yCe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ai({matchPatterns:bCe,defaultMatchWidth:"wide",parsePatterns:wCe,defaultParseWidth:"any"}),day:ai({matchPatterns:_Ce,defaultMatchWidth:"wide",parsePatterns:BCe,defaultParseWidth:"any"}),dayPeriod:ai({matchPatterns:CCe,defaultMatchWidth:"any",parsePatterns:jCe,defaultParseWidth:"any"})},os={code:"id",formatDistance:eCe,formatLong:aCe,formatRelative:iCe,localize:fCe,match:ECe,options:{weekStartsOn:1,firstWeekContainsDate:1}};function SCe({content:t,timestamp:e,isAdmin:r,senderName:n,orderInfo:a}){const{profile:s}=Hr(),o=(s==null?void 0:s.role)==="admin"?r:!r;return i.jsx("div",{className:fe("flex mb-4",o?"justify-end":"justify-start"),children:i.jsxs("div",{className:fe("max-w-[75%] rounded-lg px-4 py-2 shadow-sm",o?"bg-flame-500 text-white rounded-br-none":"bg-white text-charcoal-800 border rounded-bl-none"),children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:fe("text-xs font-medium",o?"text-white/80":"text-charcoal-500"),children:n}),i.jsx("span",{className:fe("text-xs ml-2",o?"text-white/70":"text-charcoal-400"),children:KBe(new Date(e),{addSuffix:!0,locale:os})})]}),i.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:t}),a&&i.jsx("div",{className:"mt-2 pt-2 border-t border-white/20 text-xs",children:i.jsx("div",{className:fe("rounded-md p-2",o?"bg-white/10":"bg-flame-50"),children:i.jsxs("div",{className:fe("font-medium",o?"text-white":"text-flame-600"),children:[" Pesanan Disematkan: #",a.orderId.substring(0,8)]})})})]})})}const Dl=v.forwardRef(({className:t,...e},r)=>i.jsx("textarea",{className:fe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Dl.displayName="Textarea";var jI="Popover",[mW,tHe]=Ea(jI,[Wd]),og=Wd(),[NCe,Vl]=mW(jI),pW=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!1}=t,l=og(e),c=v.useRef(null),[u,A]=v.useState(!1),[d=!1,h]=As({prop:n,defaultProp:a,onChange:s});return i.jsx(Hk,{...l,children:i.jsx(NCe,{scope:e,contentId:ci(),triggerRef:c,open:d,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(f=>!f),[h]),hasCustomAnchor:u,onCustomAnchorAdd:v.useCallback(()=>A(!0),[]),onCustomAnchorRemove:v.useCallback(()=>A(!1),[]),modal:o,children:r})})};pW.displayName=jI;var gW="PopoverAnchor",kCe=v.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=Vl(gW,r),s=og(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return v.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(pb,{...s,...n,ref:e})});kCe.displayName=gW;var xW="PopoverTrigger",vW=v.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=Vl(xW,r),s=og(r),o=bt(e,a.triggerRef),l=i.jsx(et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":BW(a.open),...n,ref:o,onClick:Oe(t.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:i.jsx(pb,{asChild:!0,...s,children:l})});vW.displayName=xW;var EI="PopoverPortal",[TCe,ICe]=mW(EI,{forceMount:void 0}),yW=t=>{const{__scopePopover:e,forceMount:r,children:n,container:a}=t,s=Vl(EI,e);return i.jsx(TCe,{scope:e,forceMount:r,children:i.jsx(fa,{present:r||s.open,children:i.jsx(Ip,{asChild:!0,container:a,children:n})})})};yW.displayName=EI;var gd="PopoverContent",bW=v.forwardRef((t,e)=>{const r=ICe(gd,t.__scopePopover),{forceMount:n=r.forceMount,...a}=t,s=Vl(gd,t.__scopePopover);return i.jsx(fa,{present:n||s.open,children:s.modal?i.jsx(PCe,{...a,ref:e}):i.jsx(FCe,{...a,ref:e})})});bW.displayName=gd;var PCe=v.forwardRef((t,e)=>{const r=Vl(gd,t.__scopePopover),n=v.useRef(null),a=bt(e,n),s=v.useRef(!1);return v.useEffect(()=>{const o=n.current;if(o)return XT(o)},[]),i.jsx(Wb,{as:eo,allowPinchZoom:!0,children:i.jsx(wW,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Oe(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),s.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Oe(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Oe(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),FCe=v.forwardRef((t,e)=>{const r=Vl(gd,t.__scopePopover),n=v.useRef(!1),a=v.useRef(!1);return i.jsx(wW,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),wW=v.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:A,...d}=t,h=Vl(gd,r),f=og(r);return WT(),i.jsx(zb,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx($d,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:A,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:i.jsx($k,{"data-state":BW(h.open),role:"dialog",id:h.contentId,...f,...d,ref:e,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),_W="PopoverClose",DCe=v.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=Vl(_W,r);return i.jsx(et.button,{type:"button",...n,ref:e,onClick:Oe(t.onClick,()=>a.onOpenChange(!1))})});DCe.displayName=_W;var OCe="PopoverArrow",RCe=v.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=og(r);return i.jsx(Vk,{...a,...n,ref:e})});RCe.displayName=OCe;function BW(t){return t?"open":"closed"}var UCe=pW,MCe=vW,QCe=yW,CW=bW;const LCe=UCe,HCe=MCe,jW=v.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},a)=>i.jsx(QCe,{children:i.jsx(CW,{ref:a,align:e,sideOffset:r,className:fe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));jW.displayName=CW.displayName;function $Ce(t,e){return v.useReducer((r,n)=>e[r][n]??r,t)}var SI="ScrollArea",[EW,rHe]=Ea(SI),[VCe,hs]=EW(SI),SW=v.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:s=600,...o}=t,[l,c]=v.useState(null),[u,A]=v.useState(null),[d,h]=v.useState(null),[f,p]=v.useState(null),[g,m]=v.useState(null),[b,y]=v.useState(0),[w,x]=v.useState(0),[C,E]=v.useState(!1),[B,j]=v.useState(!1),N=bt(e,k=>c(k)),S=nh(a);return i.jsx(VCe,{scope:r,type:n,dir:S,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:A,content:d,onContentChange:h,scrollbarX:f,onScrollbarXChange:p,scrollbarXEnabled:C,onScrollbarXEnabledChange:E,scrollbarY:g,onScrollbarYChange:m,scrollbarYEnabled:B,onScrollbarYEnabledChange:j,onCornerWidthChange:y,onCornerHeightChange:x,children:i.jsx(et.div,{dir:S,...o,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});SW.displayName=SI;var NW="ScrollAreaViewport",kW=v.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,asChild:a,nonce:s,...o}=t,l=hs(NW,r),c=v.useRef(null),u=bt(e,c,l.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:s}),i.jsx(et.div,{"data-radix-scroll-area-viewport":"",...o,asChild:a,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:eje({asChild:a,children:n},A=>i.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:A}))})]})});kW.displayName=NW;var ji="ScrollAreaScrollbar",NI=v.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=hs(ji,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=a,l=t.orientation==="horizontal";return v.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),a.type==="hover"?i.jsx(KCe,{...n,ref:e,forceMount:r}):a.type==="scroll"?i.jsx(qCe,{...n,ref:e,forceMount:r}):a.type==="auto"?i.jsx(TW,{...n,ref:e,forceMount:r}):a.type==="always"?i.jsx(kI,{...n,ref:e}):null});NI.displayName=ji;var KCe=v.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=hs(ji,t.__scopeScrollArea),[s,o]=v.useState(!1);return v.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},A=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",A),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",A)}}},[a.scrollArea,a.scrollHideDelay]),i.jsx(fa,{present:r||s,children:i.jsx(TW,{"data-state":s?"visible":"hidden",...n,ref:e})})}),qCe=v.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=hs(ji,t.__scopeScrollArea),s=t.orientation==="horizontal",o=xw(()=>c("SCROLL_END"),100),[l,c]=$Ce("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),v.useEffect(()=>{const u=a.viewport,A=s?"scrollLeft":"scrollTop";if(u){let d=u[A];const h=()=>{const f=u[A];d!==f&&(c("SCROLL"),o()),d=f};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,s,c,o]),i.jsx(fa,{present:r||l!=="hidden",children:i.jsx(kI,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:Oe(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Oe(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),TW=v.forwardRef((t,e)=>{const r=hs(ji,t.__scopeScrollArea),{forceMount:n,...a}=t,[s,o]=v.useState(!1),l=t.orientation==="horizontal",c=xw(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,A=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:A)}},10);return xd(r.viewport,c),xd(r.content,c),i.jsx(fa,{present:n||s,children:i.jsx(kI,{"data-state":s?"visible":"hidden",...a,ref:e})})}),kI=v.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,a=hs(ji,t.__scopeScrollArea),s=v.useRef(null),o=v.useRef(0),[l,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=OW(l.viewport,l.content),A={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function d(h,f){return JCe(h,o.current,l,f)}return r==="horizontal"?i.jsx(zCe,{...A,ref:e,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollLeft,f=oU(h,l,a.dir);s.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=d(h,a.dir))}}):r==="vertical"?i.jsx(GCe,{...A,ref:e,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollTop,f=oU(h,l);s.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=d(h))}}):null}),zCe=v.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,s=hs(ji,t.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=bt(e,c,s.onScrollbarXChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(PW,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":gw(r)+"px",...t.style},onThumbPointerDown:A=>t.onThumbPointerDown(A.x),onDragScroll:A=>t.onDragScroll(A.x),onWheelScroll:(A,d)=>{if(s.viewport){const h=s.viewport.scrollLeft+A.deltaX;t.onWheelScroll(h),UW(h,d)&&A.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:ly(o.paddingLeft),paddingEnd:ly(o.paddingRight)}})}})}),GCe=v.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,s=hs(ji,t.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=bt(e,c,s.onScrollbarYChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(PW,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":gw(r)+"px",...t.style},onThumbPointerDown:A=>t.onThumbPointerDown(A.y),onDragScroll:A=>t.onDragScroll(A.y),onWheelScroll:(A,d)=>{if(s.viewport){const h=s.viewport.scrollTop+A.deltaY;t.onWheelScroll(h),UW(h,d)&&A.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:ly(o.paddingTop),paddingEnd:ly(o.paddingBottom)}})}})}),[WCe,IW]=EW(ji),PW=v.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:A,onResize:d,...h}=t,f=hs(ji,r),[p,g]=v.useState(null),m=bt(e,N=>g(N)),b=v.useRef(null),y=v.useRef(""),w=f.viewport,x=n.content-n.viewport,C=Qr(A),E=Qr(c),B=xw(d,10);function j(N){if(b.current){const S=N.clientX-b.current.left,k=N.clientY-b.current.top;u({x:S,y:k})}}return v.useEffect(()=>{const N=S=>{const k=S.target;(p==null?void 0:p.contains(k))&&C(S,x)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[w,p,x,C]),v.useEffect(E,[n,E]),xd(p,B),xd(f.content,B),i.jsx(WCe,{scope:r,scrollbar:p,hasThumb:a,onThumbChange:Qr(s),onThumbPointerUp:Qr(o),onThumbPositionChange:E,onThumbPointerDown:Qr(l),children:i.jsx(et.div,{...h,ref:m,style:{position:"absolute",...h.style},onPointerDown:Oe(t.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),b.current=p.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),j(N))}),onPointerMove:Oe(t.onPointerMove,j),onPointerUp:Oe(t.onPointerUp,N=>{const S=N.target;S.hasPointerCapture(N.pointerId)&&S.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=y.current,f.viewport&&(f.viewport.style.scrollBehavior=""),b.current=null})})})}),oy="ScrollAreaThumb",FW=v.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=IW(oy,t.__scopeScrollArea);return i.jsx(fa,{present:r||a.hasThumb,children:i.jsx(XCe,{ref:e,...n})})}),XCe=v.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...a}=t,s=hs(oy,r),o=IW(oy,r),{onThumbPositionChange:l}=o,c=bt(e,d=>o.onThumbChange(d)),u=v.useRef(),A=xw(()=>{u.current&&(u.current(),u.current=void 0)},100);return v.useEffect(()=>{const d=s.viewport;if(d){const h=()=>{if(A(),!u.current){const f=ZCe(d,l);u.current=f,l()}};return l(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[s.viewport,A,l]),i.jsx(et.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Oe(t.onPointerDownCapture,d=>{const f=d.target.getBoundingClientRect(),p=d.clientX-f.left,g=d.clientY-f.top;o.onThumbPointerDown({x:p,y:g})}),onPointerUp:Oe(t.onPointerUp,o.onThumbPointerUp)})});FW.displayName=oy;var TI="ScrollAreaCorner",DW=v.forwardRef((t,e)=>{const r=hs(TI,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(YCe,{...t,ref:e}):null});DW.displayName=TI;var YCe=v.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,a=hs(TI,r),[s,o]=v.useState(0),[l,c]=v.useState(0),u=!!(s&&l);return xd(a.scrollbarX,()=>{var d;const A=((d=a.scrollbarX)==null?void 0:d.offsetHeight)||0;a.onCornerHeightChange(A),c(A)}),xd(a.scrollbarY,()=>{var d;const A=((d=a.scrollbarY)==null?void 0:d.offsetWidth)||0;a.onCornerWidthChange(A),o(A)}),u?i.jsx(et.div,{...n,ref:e,style:{width:s,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function ly(t){return t?parseInt(t,10):0}function OW(t,e){const r=t/e;return isNaN(r)?0:r}function gw(t){const e=OW(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function JCe(t,e,r,n="ltr"){const a=gw(r),s=a/2,o=e||s,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,A=r.content-r.viewport,d=n==="ltr"?[0,A]:[A*-1,0];return RW([c,u],d)(t)}function oU(t,e,r="ltr"){const n=gw(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-a,o=e.content-e.viewport,l=s-n,c=r==="ltr"?[0,o]:[o*-1,0],u=jm(t,c);return RW([0,o],[0,l])(u)}function RW(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function UW(t,e){return t>0&&t<e}var ZCe=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function a(){const s={left:t.scrollLeft,top:t.scrollTop},o=r.left!==s.left,l=r.top!==s.top;(o||l)&&e(),r=s,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function xw(t,e){const r=Qr(t),n=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),v.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function xd(t,e){const r=Qr(e);on(()=>{let n=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(t),()=>{window.cancelAnimationFrame(n),a.unobserve(t)}}},[t,r])}function eje(t,e){const{asChild:r,children:n}=t;if(!r)return typeof e=="function"?e(n):e;const a=v.Children.only(n);return v.cloneElement(a,{children:typeof e=="function"?e(a.props.children):e})}var MW=SW,tje=kW,rje=DW;const hu=v.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(MW,{ref:n,className:fe("relative overflow-hidden",t),...r,children:[i.jsx(tje,{className:"h-full w-full rounded-[inherit]",children:e}),i.jsx(QW,{}),i.jsx(rje,{})]}));hu.displayName=MW.displayName;const QW=v.forwardRef(({className:t,orientation:e="vertical",...r},n)=>i.jsx(NI,{ref:n,orientation:e,className:fe("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:i.jsx(FW,{className:"relative flex-1 rounded-full bg-border"})}));QW.displayName=NI.displayName;function nje({onSendMessage:t,isLoading:e,userOrders:r,className:n,disabled:a}){const[s,o]=v.useState(""),[l,c]=v.useState(null),u=()=>{s.trim()&&!a&&(t(s.trim(),l),o(""),c(null))},A=d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),u())};return i.jsxs("div",{className:`border-t p-3 bg-background ${n} ${a?"opacity-50 pointer-events-none":""}`,children:[l&&i.jsxs("div",{className:"bg-flame-50 text-flame-600 rounded-md p-2 mb-2 text-xs flex justify-between items-center",children:[i.jsxs("span",{children:[" Pesanan #",l.substring(0,8)," disematkan"]}),i.jsx(z,{variant:"ghost",size:"sm",onClick:()=>c(null),className:"h-6 text-xs",disabled:a,children:"Hapus"})]}),i.jsxs("div",{className:"flex gap-2",children:[r&&r.length>0&&i.jsxs(LCe,{children:[i.jsx(HCe,{asChild:!0,children:i.jsx(z,{variant:"outline",size:"icon",className:"shrink-0","aria-label":"Sematkan Pesanan",disabled:a,children:i.jsx(fre,{className:"h-5 w-5"})})}),i.jsxs(jW,{className:"w-64 p-2",align:"start",side:"top",children:[i.jsx("h3",{className:"font-medium text-sm px-2 py-1",children:"Sematkan Pesanan"}),i.jsx(hu,{className:"h-64",children:i.jsx("div",{className:"space-y-1 mt-1",children:r.map(d=>i.jsx(z,{variant:"ghost",className:"w-full justify-start text-left p-2 h-auto",onClick:()=>c(d.id),children:i.jsxs("div",{className:"text-xs",children:[i.jsxs("div",{className:"font-medium",children:["Pesanan #",d.id.substring(0,8)]}),i.jsx("div",{className:"text-muted-foreground",children:new Date(d.date).toLocaleDateString()})]})},d.id))})})]})]}),i.jsx(Dl,{placeholder:"Ketik pesan...",value:s,onChange:d=>o(d.target.value),onKeyDown:A,className:"min-h-[44px] resize-none",rows:1,disabled:a}),i.jsx(z,{onClick:u,disabled:!s.trim()||e||a,size:"icon",className:"bg-flame-500 hover:bg-flame-600 shrink-0",children:i.jsx(r$,{className:"h-5 w-5"})})]})]})}function z2(t){const e=v.useRef(null);return v.useCallback(()=>{e.current||(e.current=new Audio(t)),e.current.play().catch(n=>{console.warn(`Could not play sound ${t}:`,n)})},[t])}const lU=QT(rh),aje=async t=>{if(t.sender_type!=="customer")return!1;try{const{data:e,error:r}=await Z.from("profiles").select("name, email").eq("id",t.sender_id).single();if(r)throw console.error("Error fetching customer data:",r),r;const{data:n,error:a}=await Z.from("chat_sessions").select("admin_id").eq("id",t.session_id).single();if(a)throw console.error("Error fetching session data:",a),a;const s={type:"chat",title:"Pesan Baru",message:`${(e==null?void 0:e.name)||"Pelanggan"}: ${t.content.substring(0,50)}${t.content.length>50?"...":""}`,sessionId:t.session_id,customerId:t.sender_id,customerName:(e==null?void 0:e.name)||"Pelanggan",timestamp:Date.now(),isRead:!1};if(n!=null&&n.admin_id){const{data:u,error:A}=await Z.from("profiles").select("id, fcm_token").eq("id",n.admin_id).single();if(A)throw console.error("Error fetching admin data:",A),A;if(u!=null&&u.fcm_token)return await yO(pO(lU,"notifications"),{...s,recipientId:u.id,fcmToken:u.fcm_token}),console.log("Chat notification sent to assigned admin",s),!0}const{data:o,error:l}=await Z.from("profiles").select("id, fcm_token").eq("role","admin");if(l)throw console.error("Error fetching admin users:",l),l;const c=[];for(const u of o||[])u.fcm_token&&c.push(yO(pO(lU,"notifications"),{...s,recipientId:u.id,fcmToken:u.fcm_token}));await Promise.all(c);try{const u=await Sme();if(u&&u.length>0){console.log(`Sending WhatsApp notifications to ${u.length} admins`);const d=`${window.location.origin}/admin/chat?session=${t.session_id}`,h=` Pesan baru dari ${s.customerName}:
"${t.content.substring(0,100)}${t.content.length>100?"...":""}"

Klik untuk melihat: ${d}`,f=u.map(p=>hK(p,h));await Promise.all(f),console.log("WhatsApp notifications sent to admins")}else console.log("No admin phone numbers found for WhatsApp notifications")}catch(u){console.error("Error sending WhatsApp notifications:",u)}return console.log("Chat notification sent to all admins",s),!0}catch(e){return console.error("Error sending chat notification:",e),!1}},cU=(t,e,r,n)=>{const a=t.sender_type==="admin";return{id:t.id,senderId:t.sender_id,senderName:a?r||"Dukungan":t.sender_id===e?n||"Anda":n||"Pelanggan",content:t.content,timestamp:t.created_at,isAdmin:a,orderInfo:t.order_info}};function LW({chatPartnerId:t,chatPartnerName:e="Dukungan",isAdmin:r=!1}){const{user:n,profile:a}=Hr(),s=Rt();eV();const o=v.useRef(null),[l,c]=v.useState([]),[u,A]=v.useState(null),[d,h]=v.useState(!0),[f,p]=v.useState(!1),[g,m]=v.useState(e),b=z2("/sounds/new_chat_message_sound.mp3"),{data:y}=qse({queryKey:["userOrders",n==null?void 0:n.id],queryFn:async()=>{if(!n)return[];const{data:C,error:E}=await Z.from("orders").select("id, total, date, status").eq("user_id",n.id).order("date",{ascending:!1});if(E)throw E;return C},enabled:!!n&&!r});v.useEffect(()=>{if(!n||!a){h(!1);return}(async()=>{h(!0);try{let E=null;if(r){if(!t){me({title:"Error",description:"Gagal membuat sesi chat admin",variant:"destructive"}),s("/admin/chats");return}const{data:B,error:j}=await Z.from("chat_sessions").select("*").eq("customer_id",t).in("status",["open","active","pending"]).order("created_at",{ascending:!1}).limit(1);if(j)throw j;if(B&&B.length>0){if(E=B[0],E.admin_id!==n.id&&E.status==="open"){const{data:N,error:S}=await Z.from("chat_sessions").update({admin_id:n.id,status:"active"}).eq("id",E.id).select().maybeSingle();if(S)throw S;if(!N)throw console.error("Failed to retrieve session after admin assignment update for session ID:",E.id),new Error("Failed to retrieve session after admin assignment.");E=N}}else{me({title:"Tidak ada sesi aktif",description:"Tidak ada sesi chat aktif dengan pelanggan ini. Mereka mungkin perlu memulai chat terlebih dahulu.",variant:"default"}),A(null),c([]),h(!1);return}}else{const{data:B,error:j}=await Z.from("chat_sessions").select("*").eq("customer_id",n.id).in("status",["open","active","pending"]).order("last_message_at",{ascending:!1,nullsFirst:!1}).limit(1);if(j)throw j;if(B&&B.length>0)E=B[0];else{const{data:N,error:S}=await Z.from("chat_sessions").insert({customer_id:n.id,status:"open",topic:"Pertanyaan Umum"}).select().maybeSingle();if(S)throw S;if(!N)throw console.error("Failed to create and retrieve new chat session for user:",n.id),new Error("Failed to create and retrieve chat session.");E=N}}A(E)}catch(E){console.error("Error managing session:",E),me({title:"Error Chat",description:`Gagal memuat atau membuat sesi chat: ${E.message}`,variant:"destructive"}),A(null)}finally{h(!1)}})()},[n,a,r,t,s]),v.useEffect(()=>{if(!u||!n||!a){c([]);return}(async()=>{try{const{data:E,error:B}=await Z.from("messages").select("*, sender_profile:sender_id(name, email)").eq("session_id",u.id).order("created_at",{ascending:!0});if(B)throw B;const j=r?g:a.name,N=r?a.name:"Dukungan",S=E.map(k=>cU(k,n.id,N||"Support",j||"Customer"));c(S)}catch(E){console.error("Error fetching messages:",E),me({title:"Error",description:"Gagal mengambil detail rekan chat",variant:"destructive"})}})()},[u,n,a,r,g]),v.useEffect(()=>{if(!u||!n||!a)return;const C=Z.channel(`messages_session_${u.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`session_id=eq.${u.id}`},E=>{const B=E.new;if(B.sender_id===n.id&&l.some(S=>S.id===B.id||S.content===B.content&&S.senderId===B.sender_id&&Math.abs(new Date(S.timestamp).getTime()-new Date(B.created_at).getTime())<2e3))return;const j=r?g:a.name,N=r?a.name:"Support";c(S=>S.some(k=>k.id===B.id)?S:[...S,cU(B,n.id,N||"Support",j||"Customer")]),B.sender_id!==n.id&&(!r&&B.sender_type==="admin"||r&&B.sender_type==="customer")&&(console.log("New message in ChatRoom, playing sound:",B),b())}).subscribe((E,B)=>{E==="SUBSCRIBED"&&console.log(`Subscribed to messages for session ${u.id}`),(E==="CHANNEL_ERROR"||E==="TIMED_OUT")&&(console.error(`Subscription error for session ${u.id}:`,B),me({title:"Realtime Error",description:"Chat connection issue. Please refresh.",variant:"destructive"}))});return()=>{Z.removeChannel(C)}},[u,n,a,r,g,l,b]),v.useEffect(()=>{o.current&&(o.current.scrollTop=o.current.scrollHeight)},[l]);const w=async(C,E=null)=>{if(!(!n||!a||!u||!C.trim())){p(!0);try{let B=null;if(E){const U=y==null?void 0:y.find(H=>H.id===E);U&&(B={orderId:U.id,orderTotal:U.total,orderStatus:U.status,orderDate:U.date})}const j=pn(),N=r?"admin":"customer",S=a.name||(r?"Admin":"User"),k={id:j,senderId:n.id,senderName:S,content:C,timestamp:new Date().toISOString(),isAdmin:r,orderInfo:B||null};c(U=>[...U,k]);const{data:I,error:T}=await Z.from("messages").insert({session_id:u.id,sender_id:n.id,sender_type:N,content:C.trim(),order_info:B}).select().single();if(T)throw c(U=>U.filter(H=>H.id!==j)),T;const O=I;c(U=>U.map(H=>H.id===j?{...H,id:O.id,timestamp:O.created_at}:H)),N==="customer"&&aje(O).then(U=>{U?console.log("Notificacin FCM enviada a los administradores"):console.warn("No se pudo enviar la notificacin FCM a los administradores")}).catch(U=>{console.error("Error al enviar notificacin FCM:",U)}),await Z.from("chat_sessions").update({last_message_at:O.created_at,status:"active"}).eq("id",u.id),A(U=>U?{...U,last_message_at:O.created_at,status:"active"}:null)}catch(B){console.error("Error sending message:",B),me({title:"Failed to send message",description:B.message,variant:"destructive"})}finally{p(!1)}}},x=r?g||"Customer":(a==null?void 0:a.role)==="admin"?e||"Support":"Customer Support";return!n||!a?i.jsxs("div",{className:"flex items-center justify-center h-screen",children:[i.jsx(er,{className:"animate-spin h-8 w-8 text-flame-500"}),i.jsx("p",{className:"ml-2",children:"Memuat pengguna..."})]}):d?i.jsxs("div",{className:"flex items-center justify-center h-screen",children:[i.jsx(er,{className:"animate-spin h-8 w-8 text-flame-500"}),i.jsx("p",{className:"ml-2",children:"Memuat sesi chat..."})]}):i.jsxs("div",{className:"flex flex-col h-full relative",children:[i.jsxs("div",{className:"fixed top-0 left-0 right-0 max-w-md mx-auto bg-white border-b p-3 flex items-center shadow-sm z-20",children:[i.jsx(z,{variant:"ghost",size:"icon",className:"mr-2",onClick:()=>s(r?"/admin/chats":"/"),children:i.jsx(Ds,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-charcoal-100 flex items-center justify-center mr-3",children:i.jsx(YA,{className:"h-5 w-5 text-charcoal-500"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:x}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[r&&u?`ID Sesi: ${u.id.substring(0,8)}`:"Kami biasanya merespon dalam 1 jam",!r&&u&&u.status!=="active"&&u.status!=="open"&&" (Menunggu dukungan...)",!r&&u&&(u.status==="open"||u.status==="pending")&&" (Menghubungkan ke dukungan...)"]})]})]})]}),i.jsx("div",{className:"h-16 pt-3"}),i.jsxs(hu,{ref:o,className:"flex-1 p-4 overflow-y-auto bg-charcoal-50",children:[!u&&!d&&!r&&i.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:i.jsx("p",{className:"text-muted-foreground",children:"Tidak dapat memulai atau memuat sesi chat. Silakan coba muat ulang halaman."})}),!u&&!d&&r&&i.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:i.jsx("p",{className:"text-muted-foreground",children:"Tidak ada sesi chat aktif dengan pelanggan ini. Mereka mungkin perlu memulai chat terlebih dahulu."})}),u&&l.length===0&&!d&&i.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:i.jsxs("div",{className:"mb-4 text-charcoal-400",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-flame-100 flex items-center justify-center mx-auto mb-4",children:i.jsx(YA,{className:"h-8 w-8 text-flame-500"})}),i.jsx("h3",{className:"font-medium text-charcoal-600 mb-1",children:r?`Chat dengan ${g}`:"Dukungan Pelanggan"}),i.jsx("p",{className:"text-sm text-charcoal-500",children:r?"Kirim pesan untuk mulai chat dengan pelanggan ini.":"Kirim pesan untuk mendapatkan bantuan dari tim dukungan kami."})]})}),u&&l.map(C=>i.jsx(SCe,{id:C.id,senderId:C.senderId,senderName:C.senderName,content:C.content,timestamp:C.timestamp,isAdmin:C.isAdmin,orderInfo:C.orderInfo},C.id))]}),i.jsx("div",{className:"fixed bottom-16 left-0 right-0 max-w-md mx-auto bg-background z-20 border-t",children:i.jsx(nje,{onSendMessage:w,isLoading:f||d,userOrders:r?void 0:y,disabled:!u||r&&!t||!d&&!u&&!r})}),i.jsx("div",{className:"h-24"})]})}function sje(){const{user:t}=Hr();return t?i.jsx(Jt,{children:i.jsx(LW,{})}):i.jsx(Av,{to:"/login",replace:!0})}const ije=6,HW=5,oje=3,lje=60,cje=(t=ije)=>Array.from({length:t},()=>Math.floor(Math.random()*10)).join(""),uje=async(t,e)=>{const r=oW(t);try{const n=`*Kode OTP untuk JPC*

Kode verifikasi Anda adalah: *${e}*

Kode ini berlaku selama ${HW} menit.
Jangan bagikan kode ini dengan siapapun.`,a=await hK(r,n);return console.log("WhatsApp OTP sent successfully:",a),a}catch(n){return console.error("Error sending WhatsApp OTP:",n),!1}},Aje=async(t,e)=>{try{const r=cje(),n=new Date;n.setMinutes(n.getMinutes()+HW);const{error:a}=await Z.from("otp_verification").insert({user_id:t,phone_number:e,otp_code:r,expires_at:n.toISOString(),attempts:0,is_verified:!1});return a?(console.error("Error storing OTP:",a),!1):await uje(e,r)}catch(r){return console.error("Error in createAndSendOTP:",r),!1}},dje=async(t,e)=>{try{const{data:r,error:n}=await Z.from("otp_verification").select("*").eq("user_id",t).eq("is_verified",!1).order("created_at",{ascending:!1}).limit(1).single();if(n||!r)return console.error("Error fetching OTP:",n),!1;const a=new Date,s=new Date(r.expires_at);if(a>s)return console.log("OTP has expired"),!1;if(r.attempts>=oje)return console.log("Max OTP attempts reached"),!1;const{error:o}=await Z.from("otp_verification").update({attempts:r.attempts+1}).eq("id",r.id);if(o&&console.error("Error updating OTP attempts:",o),r.otp_code!==e)return!1;const{error:l}=await Z.from("otp_verification").update({is_verified:!0}).eq("id",r.id);if(l)return console.error("Error marking OTP as verified:",l),!1;const{error:c}=await Z.from("profiles").update({is_phone_verified:!0,phone_verified_at:new Date().toISOString()}).eq("id",t);return c?(console.error("Error updating profile phone verification status:",c),!1):!0}catch(r){return console.error("Error in verifyOTP:",r),!1}},hje=async t=>{try{const{data:e,error:r}=await Z.from("otp_verification").select("created_at").eq("user_id",t).order("created_at",{ascending:!1}).limit(1).single();if(r||!e)return 0;const n=new Date(e.created_at),a=new Date(n.getTime()+lje*1e3),s=new Date;return s>a?0:Math.ceil((a.getTime()-s.getTime())/1e3)}catch(e){return console.error("Error in getResendCooldownRemaining:",e),0}},fje=({phoneNumber:t,onVerificationSuccess:e})=>{const{user:r}=Hr(),{toast:n}=$s(),[a,s]=v.useState(""),[o,l]=v.useState(!1),[c,u]=v.useState(0),[A,d]=v.useState("");v.useEffect(()=>{if(c>0){const g=setTimeout(()=>u(c-1),1e3);return()=>clearTimeout(g)}},[c]),v.useEffect(()=>{(async()=>{if(r){const m=await hje(r.id);m>0?u(m):h()}})()},[r]);const h=async()=>{if(r){l(!0),d("");try{await Aje(r.id,t)?(n({title:"Kode OTP Terkirim",description:`Kode verifikasi telah dikirim ke WhatsApp ${t}`}),u(60)):d("Gagal mengirim kode OTP. Silakan coba lagi.")}catch(g){console.error("Error sending OTP:",g),d("Terjadi kesalahan. Silakan coba lagi.")}finally{l(!1)}}},f=async()=>{if(!(!r||!a)){l(!0),d("");try{if(await dje(r.id,a))n({title:"Verifikasi Berhasil",description:"Nomor WhatsApp Anda telah diverifikasi."}),e();else{const m="Kode OTP tidak valid atau sudah kedaluwarsa";d(m),n({variant:"destructive",title:"Verifikasi Gagal",description:m})}}catch(g){console.error("Error verifying OTP:",g),d("Terjadi kesalahan. Silakan coba lagi.")}finally{l(!1)}}},p=()=>{c>0||h()};return i.jsxs(Be,{className:"w-full max-w-md mx-auto",children:[i.jsxs(ct,{children:[i.jsx(ut,{children:"Verifikasi WhatsApp"}),i.jsxs(cr,{children:["Masukkan kode 6 digit yang dikirim ke WhatsApp Anda ",t]})]}),i.jsx(Ce,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx(he,{type:"text",placeholder:"Masukkan kode OTP",value:a,onChange:g=>s(g.target.value.replace(/[^0-9]/g,"").substring(0,6)),className:"text-center text-lg tracking-wider",maxLength:6,inputMode:"numeric"}),A&&i.jsx("p",{className:"text-red-500 text-sm",children:A}),i.jsx("div",{className:"text-center text-sm",children:c>0?i.jsxs("p",{children:["Kirim ulang dalam ",c," detik"]}):i.jsx("button",{onClick:p,className:"text-primary hover:underline",disabled:o,children:"Kirim Ulang Kode"})})]})}),i.jsx(is,{children:i.jsx(z,{onClick:f,className:"w-full",disabled:a.length!==6||o,children:o?"Memverifikasi...":"Verifikasi"})})]})};function mje(){const{user:t,isPhoneVerified:e}=Hr(),r=Rt();ma();const[n,a]=v.useState(!0),[s,o]=v.useState(""),[l,c]=v.useState(!1),u=v.useRef(!1),A=v.useRef(!1);v.useEffect(()=>{A.current||(d(),A.current=!0);const f=()=>{document.visibilityState==="visible"&&l&&!u.current&&(u.current=!0,r("/"))};return document.addEventListener("visibilitychange",f),()=>{document.removeEventListener("visibilitychange",f)}},[l]);const d=async()=>{if(!t){a(!1);return}a(!0);try{if(e){c(!0),a(!1),u.current||(u.current=!0,setTimeout(()=>r("/"),100));return}const{data:f,error:p}=await Z.from("profiles").select("is_phone_verified, phone").eq("id",t.id).single();if(p){console.error("Error fetching profile:",p),a(!1);return}if(c((f==null?void 0:f.is_phone_verified)===!0),f!=null&&f.is_phone_verified&&!u.current){u.current=!0,setTimeout(()=>r("/"),100);return}if(!(f!=null&&f.phone)&&!u.current){u.current=!0,setTimeout(()=>r("/profile?redirect=verification"),100);return}o((f==null?void 0:f.phone)||"")}catch(f){console.error("Error checking verification status:",f)}finally{a(!1)}},h=()=>{c(!0),u.current||(u.current=!0,setTimeout(()=>{localStorage.setItem("whatsapp_verification_success","true"),r("/")},1500))};return n?i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[i.jsx(er,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("p",{className:"mt-4 text-lg",children:"Memeriksa status verifikasi..."})]}):l?i.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Verifikasi Berhasil!"}),i.jsx("p",{className:"mb-4",children:"Nomor WhatsApp Anda telah diverifikasi berhasil."}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Mengalihkan ke halaman utama..."})]})}):i.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Verifikasi WhatsApp"}),i.jsx("p",{className:"text-center mb-6 text-muted-foreground",children:"Untuk keamanan akun Anda, kami perlu memverifikasi nomor WhatsApp Anda sebelum Anda dapat menggunakan aplikasi."}),s?i.jsx(fje,{phoneNumber:s,onVerificationSuccess:h}):i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-red-500",children:"Verifikasi Berhasil."}),i.jsx("button",{onClick:()=>r("/profile?redirect=verification"),className:"mt-4 text-primary hover:underline",children:"Lanjutkan"})]})]})})}const J={activity:Ute,alertTriangle:Ab,arrowDownCircle:zte,arrowLeft:Ds,arrowRight:Mte,arrowUpCircle:Gte,barChart:WE,bell:Bk,chartBar:WE,arrowUpFromLine:Lte,filter:JH,gamepad:ore,lightbulb:Are,shield:a$,shopping:cb,sort:Hte,check:Ck,chevronDown:jk,chevronLeft:WH,chevronRight:XH,chevronsDown:qte,clock:XA,copy:Zte,creditCard:Ek,download:ll,droplet:tre,file:are,fileSearch:nre,filterX:sre,flame:ire,heart:lre,history:cre,home:ZH,inbox:ure,info:XE,layers:e$,link:dre,logOut:Sk,megaphone:rv,menu:hre,messageSquare:Nk,mail:JE,package:to,phone:ZE,plus:Kd,qrCode:kk,repeat:mre,refreshCw:em,undo:em,search:Ul,settings:n$,share:gre,shoppingCart:ub,smartphone:xre,spinner:er,ticket:Tk,trash:tm,truck:tS,tv:wre,users:Ik,wallet:Bre,wifi:Cre,zap:jre};function pje({transaction:t,onClose:e}){const[r,n]=v.useState(!1),[a,s]=v.useState(!1),[o,l]=v.useState(""),[c,u]=v.useState(!1),[A,d]=v.useState(!1),h=w=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(w),f=w=>{const x=new Date(w);return vn(x,"d MMMM yyyy, HH:mm",{locale:os})},p=()=>{switch(t.status){case"success":return i.jsx(jt,{className:"bg-green-100 text-green-800",children:"Berhasil"});case"pending":return i.jsx(jt,{className:"bg-yellow-100 text-yellow-800",children:"Dalam Proses"});case"failed":return i.jsx(jt,{className:"bg-red-100 text-red-800",children:"Gagal"});default:return i.jsx(jt,{children:"Unknown"})}},g=()=>{switch(t.type){case"payment":return"Pembayaran";case"topup":return"Top Up";case"transfer":return"Transfer";case"refund":return"Refund";default:return"Transaksi"}},m=()=>{switch(t.type){case"payment":return i.jsx(J.creditCard,{className:"h-5 w-5 text-blue-500"});case"topup":return i.jsx(J.plus,{className:"h-5 w-5 text-green-500"});case"transfer":return i.jsx(J.arrowRight,{className:"h-5 w-5 text-orange-500"});case"refund":return i.jsx(J.arrowRight,{className:"h-5 w-5 text-purple-500 rotate-180"});default:return i.jsx(J.activity,{className:"h-5 w-5"})}},b=()=>{const w=`
      ID Transaksi: ${t.id}
      Jenis: ${g()}
      Produk: ${t.productName}
      Total: ${h(t.totalAmount)}
      Status: ${t.status}
      Tanggal: ${f(t.createdAt)}
      ${t.refNumber?`No. Referensi: ${t.refNumber}`:""}
    `.trim();navigator.clipboard.writeText(w).then(()=>{d(!0),setTimeout(()=>d(!1),2e3)})},y=async()=>{o.trim()&&(u(!0),await new Promise(w=>setTimeout(w,1500)),u(!1),n(!1),l(""))};return i.jsxs(Be,{className:"border shadow-md max-w-md w-full mx-auto",children:[i.jsx(ct,{className:"pb-2",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[m(),i.jsxs("div",{children:[i.jsx(ut,{className:"text-lg",children:g()}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t.productName})]})]}),i.jsxs("div",{className:"flex flex-col items-end",children:[p(),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f(t.createdAt)})]})]})}),i.jsx(Ce,{className:"pb-0",children:i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Pembayaran"}),i.jsx("p",{className:"text-2xl font-bold",children:h(t.totalAmount)})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"ID Transaksi"}),i.jsx("p",{className:"text-sm font-medium",children:t.id})]}),t.invoiceNumber&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"No. Invoice"}),i.jsx("p",{className:"text-sm font-medium",children:t.invoiceNumber})]}),t.refNumber&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"No. Referensi"}),i.jsx("p",{className:"text-sm font-medium",children:t.refNumber})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Nominal"}),i.jsx("p",{className:"text-sm font-medium",children:h(t.amount)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Biaya Admin"}),i.jsx("p",{className:"text-sm font-medium",children:h(t.fee)})]}),t.paymentMethod&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Metode Pembayaran"}),i.jsx("p",{className:"text-sm font-medium",children:t.paymentMethod})]}),t.customerId&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"ID Pelanggan"}),i.jsx("p",{className:"text-sm font-medium",children:t.customerId})]}),t.customerName&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Nama Pelanggan"}),i.jsx("p",{className:"text-sm font-medium",children:t.customerName})]})]}),t.message&&i.jsxs(i.Fragment,{children:[i.jsx(Zn,{}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Pesan"}),i.jsx("p",{className:"text-sm",children:t.message})]})]})]})}),i.jsxs(is,{className:"flex flex-col gap-3 pt-6",children:[i.jsxs("div",{className:"flex gap-2 w-full",children:[i.jsxs(z,{variant:"outline",className:"flex-1",onClick:b,children:[A?i.jsx(J.activity,{className:"mr-2 h-4 w-4 text-green-500"}):i.jsx(J.file,{className:"mr-2 h-4 w-4"}),A?"Disalin!":"Salin"]}),i.jsxs(vr,{open:a,onOpenChange:s,children:[i.jsx(ny,{asChild:!0,children:i.jsxs(z,{variant:"outline",className:"flex-1",children:[i.jsx(J.arrowRight,{className:"mr-2 h-4 w-4"}),"Bagikan"]})}),i.jsxs(hr,{className:"sm:max-w-md",children:[i.jsxs(Cr,{children:[i.jsx(jr,{children:"Bagikan Bukti Transaksi"}),i.jsx(Rn,{children:"Bagikan bukti transaksi ini melalui:"})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-4 py-4",children:[i.jsxs(z,{variant:"outline",className:"flex flex-col items-center justify-center h-20",children:[i.jsx(J.smartphone,{className:"h-8 w-8 mb-1"}),i.jsx("span",{className:"text-xs",children:"WhatsApp"})]}),i.jsxs(z,{variant:"outline",className:"flex flex-col items-center justify-center h-20",children:[i.jsx(J.smartphone,{className:"h-8 w-8 mb-1"}),i.jsx("span",{className:"text-xs",children:"Email"})]}),i.jsxs(z,{variant:"outline",className:"flex flex-col items-center justify-center h-20",children:[i.jsx(J.download,{className:"h-8 w-8 mb-1"}),i.jsx("span",{className:"text-xs",children:"Simpan"})]}),i.jsxs(z,{variant:"outline",className:"flex flex-col items-center justify-center h-20",children:[i.jsx(J.activity,{className:"h-8 w-8 mb-1"}),i.jsx("span",{className:"text-xs",children:"Lainnya"})]})]}),i.jsx(yn,{className:"sm:justify-start",children:i.jsx(z,{type:"button",variant:"secondary",onClick:()=>s(!1),children:"Tutup"})})]})]})]}),i.jsxs("div",{className:"flex gap-2 w-full",children:[i.jsx(z,{variant:"outline",className:"flex-1",onClick:e,children:"Kembali"}),i.jsxs(vr,{open:r,onOpenChange:n,children:[i.jsx(ny,{asChild:!0,children:i.jsxs(z,{variant:"secondary",className:"flex-1 text-red-600 hover:text-red-700",children:[i.jsx(J.activity,{className:"mr-2 h-4 w-4"}),"Laporkan Masalah"]})}),i.jsxs(hr,{children:[i.jsxs(Cr,{children:[i.jsx(jr,{children:"Laporkan Masalah Transaksi"}),i.jsx(Rn,{children:"Jelaskan masalah yang Anda alami dengan transaksi ini."})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"report-reason",className:"block text-sm font-medium mb-2",children:"Alasan Laporan"}),i.jsxs("select",{id:"report-reason",className:"w-full p-2 border rounded-md",value:o,onChange:w=>l(w.target.value),children:[i.jsx("option",{value:"",children:"Pilih alasan"}),i.jsx("option",{value:"not-received",children:"Layanan tidak diterima"}),i.jsx("option",{value:"wrong-amount",children:"Jumlah salah"}),i.jsx("option",{value:"double-charge",children:"Tagihan ganda"}),i.jsx("option",{value:"unauthorized",children:"Transaksi tidak dikenal"}),i.jsx("option",{value:"other",children:"Lainnya"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"report-details",className:"block text-sm font-medium mb-2",children:"Detail Masalah"}),i.jsx("textarea",{id:"report-details",className:"w-full p-2 border rounded-md h-24",placeholder:"Jelaskan detail masalah yang Anda alami"})]})]}),i.jsxs(yn,{children:[i.jsx(z,{type:"button",variant:"ghost",onClick:()=>n(!1),children:"Batal"}),i.jsx(z,{type:"button",onClick:y,disabled:!o||c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(J.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengirim..."]}):"Kirim Laporan"})]})]})]})]})]})]})}const $W=({className:t,...e})=>i.jsx("nav",{role:"navigation","aria-label":"pagination",className:fe("mx-auto flex w-full justify-center",t),...e});$W.displayName="Pagination";const VW=v.forwardRef(({className:t,...e},r)=>i.jsx("ul",{ref:r,className:fe("flex flex-row items-center gap-1",t),...e}));VW.displayName="PaginationContent";const xx=v.forwardRef(({className:t,...e},r)=>i.jsx("li",{ref:r,className:fe("",t),...e}));xx.displayName="PaginationItem";const vw=({className:t,isActive:e,size:r="icon",...n})=>i.jsx("a",{"aria-current":e?"page":void 0,className:fe(bb({variant:e?"outline":"ghost",size:r}),t),...n});vw.displayName="PaginationLink";const KW=({className:t,...e})=>i.jsxs(vw,{"aria-label":"Go to previous page",size:"default",className:fe("gap-1 pl-2.5",t),...e,children:[i.jsx(WH,{className:"h-4 w-4"}),i.jsx("span",{children:"Previous"})]});KW.displayName="PaginationPrevious";const qW=({className:t,...e})=>i.jsxs(vw,{"aria-label":"Go to next page",size:"default",className:fe("gap-1 pr-2.5",t),...e,children:[i.jsx("span",{children:"Next"}),i.jsx(XH,{className:"h-4 w-4"})]});qW.displayName="PaginationNext";function Gh({className:t,...e}){return i.jsx("div",{className:fe("animate-pulse rounded-md bg-muted",t),...e})}const gje=[{id:"TRX-123456",type:"payment",productCategory:"Electricity",productName:"PLN Postpaid",customerId:"1234567890",customerName:"Budi Santoso",amount:15e4,fee:2500,totalAmount:152500,status:"success",createdAt:"2025-06-01T14:30:25",updatedAt:"2025-06-01T14:32:10",paymentMethod:"PPOB Wallet",invoiceNumber:"INV-20250601-001",refNumber:"REF-123456789"},{id:"TRX-123457",type:"topup",productName:"Wallet Top Up",amount:5e5,fee:0,totalAmount:5e5,status:"success",createdAt:"2025-06-02T10:15:30",updatedAt:"2025-06-02T10:16:45",paymentMethod:"Bank Transfer BCA",refNumber:"REF-987654321"},{id:"TRX-123458",type:"payment",productCategory:"Mobile Credit",productName:"Telkomsel Prepaid 50K",customerId:"081234567890",amount:5e4,fee:1e3,totalAmount:51e3,status:"success",createdAt:"2025-06-02T16:45:12",updatedAt:"2025-06-02T16:46:30",paymentMethod:"PPOB Wallet",invoiceNumber:"INV-20250602-002",refNumber:"REF-567891234"},{id:"TRX-123459",type:"payment",productCategory:"Water",productName:"PDAM",customerId:"9876543210",customerName:"Ani Wijaya",amount:75e3,fee:2e3,totalAmount:77e3,status:"pending",createdAt:"2025-06-03T09:20:05",updatedAt:"2025-06-03T09:20:05",paymentMethod:"PPOB Wallet",invoiceNumber:"INV-20250603-003",refNumber:"REF-345678912",message:"Pembayaran sedang diproses oleh PDAM."},{id:"TRX-123460",type:"payment",productCategory:"Internet",productName:"Indihome",customerId:"5432109876",customerName:"Dewi Sari",amount:35e4,fee:2500,totalAmount:352500,status:"failed",createdAt:"2025-06-03T11:30:20",updatedAt:"2025-06-03T11:35:40",paymentMethod:"PPOB Wallet",invoiceNumber:"INV-20250603-004",refNumber:"REF-234567891",message:"Pembayaran gagal: Saldo tidak mencukupi"},{id:"TRX-123461",type:"transfer",productName:"Transfer ke Bank BNI",customerId:"0987654321",customerName:"Rudi Hartono",amount:1e6,fee:6500,totalAmount:1006500,status:"success",createdAt:"2025-06-03T13:45:10",updatedAt:"2025-06-03T13:47:25",paymentMethod:"PPOB Wallet",refNumber:"REF-123498765"},{id:"TRX-123462",type:"refund",productName:"Refund Telkomsel Prepaid",amount:5e4,fee:0,totalAmount:5e4,status:"success",createdAt:"2025-06-03T15:20:30",updatedAt:"2025-06-03T15:22:15",refNumber:"REF-876543219",message:"Refund untuk transaksi gagal TRX-123463"}];function xje(){const t=Rt(),[e,r]=v.useState("all"),[n,a]=v.useState(!1),[s,o]=v.useState("all"),[l,c]=v.useState("all"),[u,A]=v.useState("all"),[d,h]=v.useState(1),[f,p]=v.useState(""),[g,m]=v.useState(!1),[b,y]=v.useState(!1),x=new URLSearchParams(window.location.search).get("filter");v.useEffect(()=>{x==="in"?c("topup"):x==="out"&&c("payment")},[x]);const[C,E]=v.useState(null),[B,j]=v.useState(!1),N=[{value:"all",label:"Semua Periode"},{value:"this_month",label:"Bulan Ini"},{value:"last_month",label:"Bulan Lalu"},{value:"last_3_months",label:"3 Bulan Terakhir"},{value:"last_6_months",label:"6 Bulan Terakhir"},{value:"custom",label:"Periode Tertentu"}],S=[{value:"all",label:"Semua Transaksi"},{value:"payment",label:"Pembayaran"},{value:"topup",label:"Top Up"},{value:"transfer",label:"Transfer"},{value:"refund",label:"Refund"}],k=[{value:"all",label:"Semua Status",color:"gray"},{value:"success",label:"Berhasil",color:"green"},{value:"pending",label:"Dalam Proses",color:"yellow"},{value:"failed",label:"Gagal",color:"red"}],I=gje.filter(K=>{if(!(f===""||K.id.toLowerCase().includes(f.toLowerCase())||K.productName.toLowerCase().includes(f.toLowerCase())||K.customerId&&K.customerId.toLowerCase().includes(f.toLowerCase())))return!1;let q=!0;if(s!=="all"){const le=new Date(K.createdAt),ne=new Date,ce=ne.getDate(),Ae=ne.getMonth(),ve=ne.getFullYear();if(s==="today")q=le.getDate()===ce&&le.getMonth()===Ae&&le.getFullYear()===ve;else if(s==="week"){const Y=new Date(ne);Y.setDate(ne.getDate()-ne.getDay()),Y.setHours(0,0,0,0),q=le>=Y}else s==="month"&&(q=le.getMonth()===Ae&&le.getFullYear()===ve)}return!q||!(l==="all"||K.type===l)||!(u==="all"||K.status===u)?!1:b?K.type==="topup"||K.type==="withdraw"||K.paymentMethod==="wallet"||K.productName.toLowerCase().includes("wallet")||K.description&&K.description.toLowerCase().includes("wallet"):!0}),T=5,O=Math.ceil(I.length/T),U=I.slice((d-1)*T,d*T),H=K=>{E(K),j(!0)},R=K=>{const G=k.find(q=>q.value===K);return G?i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium bg-${G.color}-100 text-${G.color}-800`,children:G.label}):null},D=K=>{switch(K){case"payment":return i.jsx(J.creditCard,{className:"h-5 w-5 text-blue-500"});case"topup":return i.jsx(J.plus,{className:"h-5 w-5 text-green-500"});case"transfer":return i.jsx(J.arrowRight,{className:"h-5 w-5 text-orange-500"});case"refund":return i.jsx(J.arrowRight,{className:"h-5 w-5 text-purple-500 rotate-180"});default:return i.jsx(J.activity,{className:"h-5 w-5"})}},M=()=>{m(!0),setTimeout(()=>{m(!1)},1e3)};v.useEffect(()=>{c(e==="in"?"topup":e==="out"?"payment":"all")},[e]);const Q=()=>{a(!1),m(!0)},L=K=>K.reduce((G,q)=>{const W=new Date(q.createdAt);let re;return XBe(W)?re="Hari Ini":JBe(W)?re="Kemarin":WBe(W)?re=vn(W,"EEEE",{locale:os}):GBe(W)?re=vn(W,"d MMMM",{locale:os}):re=vn(W,"d MMMM yyyy",{locale:os}),G[re]||(G[re]=[]),G[re].push(q),G},{});return i.jsxs(Jt,{children:[i.jsxs("div",{className:"bg-white sticky top-0 z-10 border-b border-gray-100",children:[i.jsxs("div",{className:"flex items-center px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob/wallet"),className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100",children:i.jsx(J.chevronLeft,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold ml-4 flex-1",children:"Riwayat Transaksi"}),i.jsx("button",{onClick:M,className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100",children:i.jsx(J.refreshCw,{className:"h-4 w-4"})}),i.jsxs(gi,{open:n,onOpenChange:a,children:[i.jsx(Dv,{asChild:!0,children:i.jsx("button",{className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100 ml-1",children:i.jsx(J.filter,{className:"h-4 w-4"})})}),i.jsxs(Ls,{side:"right",className:"w-[300px] sm:w-[400px]",children:[i.jsx(xi,{children:i.jsx(vi,{children:"Filter Transaksi"})}),i.jsxs("div",{className:"py-6 space-y-5",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Periode"}),i.jsxs(In,{value:s,onValueChange:o,children:[i.jsx(gn,{className:"w-full",children:i.jsx(Pn,{placeholder:"Pilih periode"})}),i.jsx(xn,{children:N.map(K=>i.jsx(yt,{value:K.value,children:K.label},K.value))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Jenis Transaksi"}),i.jsxs(In,{value:l,onValueChange:c,children:[i.jsx(gn,{className:"w-full",children:i.jsx(Pn,{placeholder:"Pilih jenis transaksi"})}),i.jsx(xn,{children:S.map(K=>i.jsx(yt,{value:K.value,children:K.label},K.value))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Status"}),i.jsxs(In,{value:u,onValueChange:A,children:[i.jsx(gn,{className:"w-full",children:i.jsx(Pn,{placeholder:"Pilih status"})}),i.jsx(xn,{children:k.map(K=>i.jsx(yt,{value:K.value,children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-2 h-2 rounded-full bg-${K.color}-500 mr-2`}),K.label]})},K.value))})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"walletOnly",checked:b,onChange:K=>y(K.target.checked),className:"rounded border-gray-300 text-primary focus:ring-primary"}),i.jsx("label",{htmlFor:"walletOnly",className:"text-sm font-medium",children:"Hanya transaksi dompet PPOB"})]})]}),i.jsx(io,{children:i.jsx(z,{onClick:Q,className:"w-full",children:"Terapkan Filter"})})]})]})]}),i.jsx(ja,{defaultValue:"all",value:e,onValueChange:K=>r(K),className:"w-full",children:i.jsxs(da,{className:"w-full grid grid-cols-3 h-12 bg-gray-100 p-1 rounded-none",children:[i.jsx(kt,{value:"all",className:"rounded-md data-[state=active]:bg-white",children:"Semua"}),i.jsxs(kt,{value:"in",className:"rounded-md data-[state=active]:bg-white",children:[i.jsx(J.arrowDownCircle,{className:"h-4 w-4 mr-1 text-green-500"}),"Masuk"]}),i.jsxs(kt,{value:"out",className:"rounded-md data-[state=active]:bg-white",children:[i.jsx(J.arrowUpCircle,{className:"h-4 w-4 mr-1 text-red-500"}),"Keluar"]})]})})]}),i.jsx("div",{className:"px-4 py-3 bg-white border-b border-gray-100",children:i.jsxs("div",{className:"relative",children:[i.jsx(J.search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(he,{value:f,onChange:K=>p(K.target.value),placeholder:"Cari transaksi...",className:"pl-10 pr-4 py-2 w-full bg-gray-50 border-gray-200"})]})}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-6",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Cari Transaksi"}),i.jsx(he,{placeholder:"Cari transaksi...",value:f,onChange:K=>p(K.target.value),className:"w-full"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Periode"}),i.jsxs(In,{value:s,onValueChange:o,children:[i.jsx(gn,{children:i.jsx(Pn,{placeholder:"Pilih periode"})}),i.jsxs(xn,{children:[i.jsx(yt,{value:"all",children:"Semua Waktu"}),i.jsx(yt,{value:"today",children:"Hari Ini"}),i.jsx(yt,{value:"week",children:"Minggu Ini"}),i.jsx(yt,{value:"month",children:"Bulan Ini"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Jenis Transaksi"}),i.jsxs(In,{value:l,onValueChange:c,children:[i.jsx(gn,{children:i.jsx(Pn,{placeholder:"Pilih jenis transaksi"})}),i.jsxs(xn,{children:[i.jsx(yt,{value:"all",children:"Semua Jenis"}),i.jsx(yt,{value:"payment",children:"Pembayaran"}),i.jsx(yt,{value:"topup",children:"Top Up"}),i.jsx(yt,{value:"transfer",children:"Transfer"}),i.jsx(yt,{value:"refund",children:"Refund"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Status"}),i.jsxs(In,{value:u,onValueChange:A,children:[i.jsx(gn,{children:i.jsx(Pn,{placeholder:"Pilih status"})}),i.jsx(xn,{children:k.map(K=>i.jsx(yt,{value:K.value,children:K.label},K.value))})]})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between mt-4 pb-2",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 overflow-x-auto",children:[i.jsxs(z,{variant:l==="all"?"default":"outline",size:"sm",onClick:()=>c("all"),className:"whitespace-nowrap",children:[i.jsx(J.activity,{className:"mr-2 h-4 w-4"}),"Semua"]}),i.jsxs(z,{variant:l==="topup"?"default":"outline",size:"sm",onClick:()=>c("topup"),className:"whitespace-nowrap",children:[i.jsx(J.arrowRight,{className:"mr-2 h-4 w-4 rotate-180"}),"Masuk"]}),i.jsxs(z,{variant:l==="payment"?"default":"outline",size:"sm",onClick:()=>c("payment"),className:"whitespace-nowrap",children:[i.jsx(J.arrowRight,{className:"mr-2 h-4 w-4"}),"Keluar"]}),i.jsxs(z,{variant:l==="transfer"?"default":"outline",size:"sm",onClick:()=>c("transfer"),className:"whitespace-nowrap",children:[i.jsx(J.repeat,{className:"mr-2 h-4 w-4"}),"Transfer"]}),i.jsxs(z,{variant:l==="refund"?"default":"outline",size:"sm",onClick:()=>c("refund"),className:"whitespace-nowrap",children:[i.jsx(J.undo,{className:"mr-2 h-4 w-4"}),"Refund"]})]}),i.jsxs(z,{variant:b?"default":"outline",size:"sm",onClick:()=>y(!b),title:b?"Semua Transaksi":"Hanya Transaksi Wallet",children:[i.jsx(J.wallet,{className:"mr-2 h-4 w-4"}),b?"Semua Transaksi":"Transaksi Wallet"]})]})]}),i.jsx(hu,{className:"flex-1 h-[calc(100vh-180px)]",children:g?i.jsx("div",{className:"p-4 space-y-4",children:[1,2,3,4,5].map(K=>i.jsx(Be,{className:"overflow-hidden",children:i.jsx(Ce,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Gh,{className:"h-10 w-10 rounded-full"}),i.jsxs("div",{className:"space-y-2 flex-1",children:[i.jsx(Gh,{className:"h-4 w-3/4"}),i.jsx(Gh,{className:"h-3 w-1/2"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx(Gh,{className:"h-4 w-20 ml-auto"}),i.jsx(Gh,{className:"h-3 w-16 mt-2 ml-auto"})]})]})})},K))}):U.length>0?i.jsx("div",{className:"divide-y divide-gray-100",children:Object.entries(L(U)).map(([K,G])=>i.jsxs("div",{className:"bg-white",children:[i.jsx("div",{className:"sticky top-0 bg-gray-50 px-4 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider",children:K}),i.jsx("div",{className:"divide-y divide-gray-100",children:G.map(q=>i.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors cursor-pointer active:bg-gray-100",onClick:()=>H(q),children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"flex-shrink-0 bg-blue-50 rounded-full p-2 mt-0.5",children:D(q.type)}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-gray-900",children:q.productName}),i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:q.id}),i.jsx("div",{className:"mt-1",children:R(q.status)})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:`font-medium ${q.type==="topup"||q.type==="refund"?"text-green-600":"text-red-600"}`,children:[q.type==="topup"||q.type==="refund"?"+":"-",ye(q.totalAmount)]}),i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:vn(new Date(q.createdAt),"HH:mm")})]})]})},q.id))})]},K))}):i.jsxs("div",{className:"py-12 flex flex-col items-center justify-center text-center px-4",children:[i.jsx("div",{className:"bg-gray-50 rounded-full p-4 mb-4",children:i.jsx(J.fileSearch,{className:"h-8 w-8 text-gray-400"})}),i.jsx("h3",{className:"font-medium text-gray-900",children:"Tidak ada transaksi"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1 max-w-xs",children:"Tidak ada transaksi yang sesuai dengan filter yang dipilih."}),i.jsxs(z,{variant:"outline",size:"sm",onClick:()=>{c("all"),A("all"),o("all"),p(""),y(!1),r("all")},className:"mt-4",children:[i.jsx(J.filterX,{className:"h-4 w-4 mr-2"}),"Reset Filter"]})]})}),U.length>0&&O>1&&i.jsx("div",{className:"py-4 border-t border-gray-100 bg-white sticky bottom-0 left-0 right-0 px-4",children:i.jsx($W,{children:i.jsxs(VW,{children:[i.jsx(xx,{children:i.jsx(KW,{onClick:()=>h(Math.max(1,d-1)),"aria-disabled":d===1,className:d===1?"pointer-events-none opacity-50":""})}),Array.from({length:Math.min(O,5)}).map((K,G)=>{let q=G+1;return O>5&&d>3&&(q=d-3+G,q>O)?null:i.jsx(xx,{children:i.jsx(vw,{onClick:()=>h(q),isActive:d===q,children:q})},G)}),i.jsx(xx,{children:i.jsx(qW,{onClick:()=>h(Math.min(O,d+1)),"aria-disabled":d===O,className:d===O?"pointer-events-none opacity-50":""})})]})})}),i.jsx(vr,{open:B,onOpenChange:j,children:i.jsx(hr,{className:"sm:max-w-md p-0",children:C&&i.jsx(pje,{transaction:C,onClose:()=>j(!1)})})})]})}var S_={exports:{}},N_,uU;function vje(){if(uU)return N_;uU=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return N_=t,N_}var k_,AU;function yje(){if(AU)return k_;AU=1;var t=vje();function e(){}function r(){}return r.resetWarningCache=e,k_=function(){function n(o,l,c,u,A,d){if(d!==t){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}n.isRequired=n;function a(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},k_}var dU;function II(){return dU||(dU=1,S_.exports=yje()()),S_.exports}var bje=II();const Xe=Wt(bje);var T_,hU;function wje(){if(hU)return T_;hU=1;function t(l){return l&&typeof l=="object"&&"default"in l?l.default:l}var e=Tp(),r=t(e);function n(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}function a(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,l.__proto__=c}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(l,c,u){if(typeof l!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof c!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof u<"u"&&typeof u!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function A(d){return d.displayName||d.name||"Component"}return function(h){if(typeof h!="function")throw new Error("Expected WrappedComponent to be a React component.");var f=[],p;function g(){p=l(f.map(function(b){return b.props})),m.canUseDOM?c(p):u&&(p=u(p))}var m=function(b){a(y,b);function y(){return b.apply(this,arguments)||this}y.peek=function(){return p},y.rewind=function(){if(y.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var C=p;return p=void 0,f=[],C};var w=y.prototype;return w.UNSAFE_componentWillMount=function(){f.push(this),g()},w.componentDidUpdate=function(){g()},w.componentWillUnmount=function(){var C=f.indexOf(this);f.splice(C,1),g()},w.render=function(){return r.createElement(h,this.props)},y}(e.PureComponent);return n(m,"displayName","SideEffect("+A(h)+")"),n(m,"canUseDOM",s),m}}return T_=o,T_}var _je=wje();const Bje=Wt(_je);var I_,fU;function Cje(){if(fU)return I_;fU=1;var t=typeof Element<"u",e=typeof Map=="function",r=typeof Set=="function",n=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function a(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var l,c,u;if(Array.isArray(s)){if(l=s.length,l!=o.length)return!1;for(c=l;c--!==0;)if(!a(s[c],o[c]))return!1;return!0}var A;if(e&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(A=s.entries();!(c=A.next()).done;)if(!o.has(c.value[0]))return!1;for(A=s.entries();!(c=A.next()).done;)if(!a(c.value[1],o.get(c.value[0])))return!1;return!0}if(r&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(A=s.entries();!(c=A.next()).done;)if(!o.has(c.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(l=s.length,l!=o.length)return!1;for(c=l;c--!==0;)if(s[c]!==o[c])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(u=Object.keys(s),l=u.length,l!==Object.keys(o).length)return!1;for(c=l;c--!==0;)if(!Object.prototype.hasOwnProperty.call(o,u[c]))return!1;if(t&&s instanceof Element)return!1;for(c=l;c--!==0;)if(!((u[c]==="_owner"||u[c]==="__v"||u[c]==="__o")&&s.$$typeof)&&!a(s[u[c]],o[u[c]]))return!1;return!0}return s!==s&&o!==o}return I_=function(o,l){try{return a(o,l)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},I_}var jje=Cje();const Eje=Wt(jje);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var P_,mU;function Sje(){if(mU)return P_;mU=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function n(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function a(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var o={},l=0;l<10;l++)o["_"+String.fromCharCode(l)]=l;var c=Object.getOwnPropertyNames(o).map(function(A){return o[A]});if(c.join("")!=="0123456789")return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach(function(A){u[A]=A}),Object.keys(Object.assign({},u)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return P_=a()?Object.assign:function(s,o){for(var l,c=n(s),u,A=1;A<arguments.length;A++){l=Object(arguments[A]);for(var d in l)e.call(l,d)&&(c[d]=l[d]);if(t){u=t(l);for(var h=0;h<u.length;h++)r.call(l,u[h])&&(c[u[h]]=l[u[h]])}}return c},P_}var Nje=Sje();const kje=Wt(Nje);var Gc={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},_t={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(_t).map(function(t){return _t[t]});var Tr={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},cy={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Km={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},Tje=Object.keys(cy).reduce(function(t,e){return t[cy[e]]=e,t},{}),Ije=[_t.NOSCRIPT,_t.SCRIPT,_t.STYLE],Ps="data-react-helmet",Pje=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fje=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Dje=function(){function t(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),va=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Oje=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},pU=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},Rje=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},G2=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Uje=function(e){var r=TA(e,_t.TITLE),n=TA(e,Km.TITLE_TEMPLATE);if(n&&r)return n.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var a=TA(e,Km.DEFAULT_TITLE);return r||a||void 0},Mje=function(e){return TA(e,Km.ON_CHANGE_CLIENT_STATE)||function(){}},F_=function(e,r){return r.filter(function(n){return typeof n[e]<"u"}).map(function(n){return n[e]}).reduce(function(n,a){return va({},n,a)},{})},Qje=function(e,r){return r.filter(function(n){return typeof n[_t.BASE]<"u"}).map(function(n){return n[_t.BASE]}).reverse().reduce(function(n,a){if(!n.length)for(var s=Object.keys(a),o=0;o<s.length;o++){var l=s[o],c=l.toLowerCase();if(e.indexOf(c)!==-1&&a[c])return n.concat(a)}return n},[])},Wh=function(e,r,n){var a={};return n.filter(function(s){return Array.isArray(s[e])?!0:(typeof s[e]<"u"&&Vje("Helmet: "+e+' should be of type "Array". Instead found type "'+Pje(s[e])+'"'),!1)}).map(function(s){return s[e]}).reverse().reduce(function(s,o){var l={};o.filter(function(h){for(var f=void 0,p=Object.keys(h),g=0;g<p.length;g++){var m=p[g],b=m.toLowerCase();r.indexOf(b)!==-1&&!(f===Tr.REL&&h[f].toLowerCase()==="canonical")&&!(b===Tr.REL&&h[b].toLowerCase()==="stylesheet")&&(f=b),r.indexOf(m)!==-1&&(m===Tr.INNER_HTML||m===Tr.CSS_TEXT||m===Tr.ITEM_PROP)&&(f=m)}if(!f||!h[f])return!1;var y=h[f].toLowerCase();return a[f]||(a[f]={}),l[f]||(l[f]={}),a[f][y]?!1:(l[f][y]=!0,!0)}).reverse().forEach(function(h){return s.push(h)});for(var c=Object.keys(l),u=0;u<c.length;u++){var A=c[u],d=kje({},a[A],l[A]);a[A]=d}return s},[]).reverse()},TA=function(e,r){for(var n=e.length-1;n>=0;n--){var a=e[n];if(a.hasOwnProperty(r))return a[r]}return null},Lje=function(e){return{baseTag:Qje([Tr.HREF,Tr.TARGET],e),bodyAttributes:F_(Gc.BODY,e),defer:TA(e,Km.DEFER),encode:TA(e,Km.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:F_(Gc.HTML,e),linkTags:Wh(_t.LINK,[Tr.REL,Tr.HREF],e),metaTags:Wh(_t.META,[Tr.NAME,Tr.CHARSET,Tr.HTTPEQUIV,Tr.PROPERTY,Tr.ITEM_PROP],e),noscriptTags:Wh(_t.NOSCRIPT,[Tr.INNER_HTML],e),onChangeClientState:Mje(e),scriptTags:Wh(_t.SCRIPT,[Tr.SRC,Tr.INNER_HTML],e),styleTags:Wh(_t.STYLE,[Tr.CSS_TEXT],e),title:Uje(e),titleAttributes:F_(Gc.TITLE,e)}},W2=function(){var t=Date.now();return function(e){var r=Date.now();r-t>16?(t=r,e(r)):setTimeout(function(){W2(e)},0)}}(),gU=function(e){return clearTimeout(e)},Hje=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||W2:global.requestAnimationFrame||W2,$je=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||gU:global.cancelAnimationFrame||gU,Vje=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Xh=null,Kje=function(e){Xh&&$je(Xh),e.defer?Xh=Hje(function(){xU(e,function(){Xh=null})}):(xU(e),Xh=null)},xU=function(e,r){var n=e.baseTag,a=e.bodyAttributes,s=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.onChangeClientState,A=e.scriptTags,d=e.styleTags,h=e.title,f=e.titleAttributes;X2(_t.BODY,a),X2(_t.HTML,s),qje(h,f);var p={baseTag:nA(_t.BASE,n),linkTags:nA(_t.LINK,o),metaTags:nA(_t.META,l),noscriptTags:nA(_t.NOSCRIPT,c),scriptTags:nA(_t.SCRIPT,A),styleTags:nA(_t.STYLE,d)},g={},m={};Object.keys(p).forEach(function(b){var y=p[b],w=y.newTags,x=y.oldTags;w.length&&(g[b]=w),x.length&&(m[b]=p[b].oldTags)}),r&&r(),u(e,g,m)},zW=function(e){return Array.isArray(e)?e.join(""):e},qje=function(e,r){typeof e<"u"&&document.title!==e&&(document.title=zW(e)),X2(_t.TITLE,r)},X2=function(e,r){var n=document.getElementsByTagName(e)[0];if(n){for(var a=n.getAttribute(Ps),s=a?a.split(","):[],o=[].concat(s),l=Object.keys(r),c=0;c<l.length;c++){var u=l[c],A=r[u]||"";n.getAttribute(u)!==A&&n.setAttribute(u,A),s.indexOf(u)===-1&&s.push(u);var d=o.indexOf(u);d!==-1&&o.splice(d,1)}for(var h=o.length-1;h>=0;h--)n.removeAttribute(o[h]);s.length===o.length?n.removeAttribute(Ps):n.getAttribute(Ps)!==l.join(",")&&n.setAttribute(Ps,l.join(","))}},nA=function(e,r){var n=document.head||document.querySelector(_t.HEAD),a=n.querySelectorAll(e+"["+Ps+"]"),s=Array.prototype.slice.call(a),o=[],l=void 0;return r&&r.length&&r.forEach(function(c){var u=document.createElement(e);for(var A in c)if(c.hasOwnProperty(A))if(A===Tr.INNER_HTML)u.innerHTML=c.innerHTML;else if(A===Tr.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var d=typeof c[A]>"u"?"":c[A];u.setAttribute(A,d)}u.setAttribute(Ps,"true"),s.some(function(h,f){return l=f,u.isEqualNode(h)})?s.splice(l,1):o.push(u)}),s.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return n.appendChild(c)}),{oldTags:s,newTags:o}},GW=function(e){return Object.keys(e).reduce(function(r,n){var a=typeof e[n]<"u"?n+'="'+e[n]+'"':""+n;return r?r+" "+a:a},"")},zje=function(e,r,n,a){var s=GW(n),o=zW(r);return s?"<"+e+" "+Ps+'="true" '+s+">"+G2(o,a)+"</"+e+">":"<"+e+" "+Ps+'="true">'+G2(o,a)+"</"+e+">"},Gje=function(e,r,n){return r.reduce(function(a,s){var o=Object.keys(s).filter(function(u){return!(u===Tr.INNER_HTML||u===Tr.CSS_TEXT)}).reduce(function(u,A){var d=typeof s[A]>"u"?A:A+'="'+G2(s[A],n)+'"';return u?u+" "+d:d},""),l=s.innerHTML||s.cssText||"",c=Ije.indexOf(e)===-1;return a+"<"+e+" "+Ps+'="true" '+o+(c?"/>":">"+l+"</"+e+">")},"")},WW=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(n,a){return n[cy[a]||a]=e[a],n},r)},Wje=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(n,a){return n[Tje[a]||a]=e[a],n},r)},Xje=function(e,r,n){var a,s=(a={key:r},a[Ps]=!0,a),o=WW(n,s);return[V.createElement(_t.TITLE,o,r)]},Yje=function(e,r){return r.map(function(n,a){var s,o=(s={key:a},s[Ps]=!0,s);return Object.keys(n).forEach(function(l){var c=cy[l]||l;if(c===Tr.INNER_HTML||c===Tr.CSS_TEXT){var u=n.innerHTML||n.cssText;o.dangerouslySetInnerHTML={__html:u}}else o[c]=n[l]}),V.createElement(e,o)})},Fi=function(e,r,n){switch(e){case _t.TITLE:return{toComponent:function(){return Xje(e,r.title,r.titleAttributes)},toString:function(){return zje(e,r.title,r.titleAttributes,n)}};case Gc.BODY:case Gc.HTML:return{toComponent:function(){return WW(r)},toString:function(){return GW(r)}};default:return{toComponent:function(){return Yje(e,r)},toString:function(){return Gje(e,r,n)}}}},XW=function(e){var r=e.baseTag,n=e.bodyAttributes,a=e.encode,s=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.scriptTags,A=e.styleTags,d=e.title,h=d===void 0?"":d,f=e.titleAttributes;return{base:Fi(_t.BASE,r,a),bodyAttributes:Fi(Gc.BODY,n,a),htmlAttributes:Fi(Gc.HTML,s,a),link:Fi(_t.LINK,o,a),meta:Fi(_t.META,l,a),noscript:Fi(_t.NOSCRIPT,c,a),script:Fi(_t.SCRIPT,u,a),style:Fi(_t.STYLE,A,a),title:Fi(_t.TITLE,{title:h,titleAttributes:f},a)}},Jje=function(e){var r,n;return n=r=function(a){Oje(s,a);function s(){return Fje(this,s),Rje(this,a.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(l){return!Eje(this.props,l)},s.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case _t.SCRIPT:case _t.NOSCRIPT:return{innerHTML:c};case _t.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,A=l.arrayTypeChildren,d=l.newChildProps,h=l.nestedChildren;return va({},A,(c={},c[u.type]=[].concat(A[u.type]||[],[va({},d,this.mapNestedChildrenToProps(u,h))]),c))},s.prototype.mapObjectTypeChildren=function(l){var c,u,A=l.child,d=l.newProps,h=l.newChildProps,f=l.nestedChildren;switch(A.type){case _t.TITLE:return va({},d,(c={},c[A.type]=f,c.titleAttributes=va({},h),c));case _t.BODY:return va({},d,{bodyAttributes:va({},h)});case _t.HTML:return va({},d,{htmlAttributes:va({},h)})}return va({},d,(u={},u[A.type]=va({},h),u))},s.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=va({},c);return Object.keys(l).forEach(function(A){var d;u=va({},u,(d={},d[A]=l[A],d))}),u},s.prototype.warnOnInvalidChildren=function(l,c){return!0},s.prototype.mapChildrenToProps=function(l,c){var u=this,A={};return V.Children.forEach(l,function(d){if(!(!d||!d.props)){var h=d.props,f=h.children,p=pU(h,["children"]),g=Wje(p);switch(u.warnOnInvalidChildren(d,f),d.type){case _t.LINK:case _t.META:case _t.NOSCRIPT:case _t.SCRIPT:case _t.STYLE:A=u.flattenArrayTypeChildren({child:d,arrayTypeChildren:A,newChildProps:g,nestedChildren:f});break;default:c=u.mapObjectTypeChildren({child:d,newProps:c,newChildProps:g,nestedChildren:f});break}}}),c=this.mapArrayTypeChildrenToProps(A,c),c},s.prototype.render=function(){var l=this.props,c=l.children,u=pU(l,["children"]),A=va({},u);return c&&(A=this.mapChildrenToProps(c,A)),V.createElement(e,A)},Dje(s,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),s}(V.Component),r.propTypes={base:Xe.object,bodyAttributes:Xe.object,children:Xe.oneOfType([Xe.arrayOf(Xe.node),Xe.node]),defaultTitle:Xe.string,defer:Xe.bool,encodeSpecialCharacters:Xe.bool,htmlAttributes:Xe.object,link:Xe.arrayOf(Xe.object),meta:Xe.arrayOf(Xe.object),noscript:Xe.arrayOf(Xe.object),onChangeClientState:Xe.func,script:Xe.arrayOf(Xe.object),style:Xe.arrayOf(Xe.object),title:Xe.string,titleAttributes:Xe.object,titleTemplate:Xe.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=e.peek,r.rewind=function(){var a=e.rewind();return a||(a=XW({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),a},n},Zje=function(){return null},eEe=Bje(Lje,Kje,XW)(Zje),Us=Jje(eEe);Us.renderStatic=Us.rewind;function tEe({children:t}){const{user:e}=Hr();return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("header",{className:"bg-white shadow-sm",children:i.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[i.jsx(mt,{to:"/",className:"text-xl font-bold text-primary",children:"JPC Digi"}),i.jsxs("nav",{className:"hidden md:flex space-x-6",children:[i.jsx(mt,{to:"/",className:"text-gray-700 hover:text-primary",children:"Beranda"}),i.jsx(mt,{to:"/search",className:"text-gray-700 hover:text-primary",children:"Produk"}),i.jsx(mt,{to:"/ppob",className:"text-gray-700 hover:text-primary",children:"PPOB"}),i.jsx(mt,{to:"/orders",className:"text-gray-700 hover:text-primary",children:"Pesanan"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(mt,{to:"/cart",className:"text-gray-700 hover:text-primary",children:[i.jsx("span",{className:"sr-only",children:"Keranjang"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})]}),i.jsxs(mt,{to:"/profile",className:"text-gray-700 hover:text-primary",children:[i.jsx("span",{className:"sr-only",children:"Profil"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})]})]})]})}),i.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-10",children:i.jsxs("div",{className:"grid grid-cols-5",children:[i.jsxs(mt,{to:"/",className:"flex flex-col items-center py-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),i.jsx("span",{className:"text-xs",children:"Beranda"})]}),i.jsxs(mt,{to:"/search",className:"flex flex-col items-center py-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i.jsx("span",{className:"text-xs",children:"Produk"})]}),i.jsxs(mt,{to:"/ppob",className:"flex flex-col items-center py-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{className:"text-xs",children:"PPOB"})]}),i.jsxs(mt,{to:"/cart",className:"flex flex-col items-center py-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),i.jsx("span",{className:"text-xs",children:"Keranjang"})]}),i.jsxs(mt,{to:"/profile",className:"flex flex-col items-center py-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),i.jsx("span",{className:"text-xs",children:"Profil"})]})]})}),i.jsx("main",{className:"pb-20 md:pb-0",children:t}),i.jsx("footer",{className:"bg-gray-800 text-gray-300 py-8 mt-12",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"JPC Digi"}),i.jsx("p",{className:"text-sm",children:"Platform digital terpercaya untuk kebutuhan belanja dan layanan PPOB Anda."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Hubungi Kami"}),i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsx("li",{children:"Email: support@jpcdigi.com"}),i.jsx("li",{children:"Telepon: (021) 1234-5678"}),i.jsx("li",{children:"WhatsApp: 0812-3456-7890"})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Ikuti Kami"}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs("a",{href:"#",className:"text-gray-300 hover:text-white",children:[i.jsx("span",{className:"sr-only",children:"Facebook"}),i.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),i.jsxs("a",{href:"#",className:"text-gray-300 hover:text-white",children:[i.jsx("span",{className:"sr-only",children:"Instagram"}),i.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),i.jsxs("a",{href:"#",className:"text-gray-300 hover:text-white",children:[i.jsx("span",{className:"sr-only",children:"Twitter"}),i.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]})]})]})]}),i.jsx("div",{className:"mt-8 border-t border-gray-700 pt-6 text-sm text-center",children:i.jsxs("p",{children:[" ",new Date().getFullYear()," JPC Digi. All rights reserved."]})})]})})]})}function rEe(){const[t,e]=v.useState("identity"),[r,n]=v.useState(!1),[a,s]=v.useState(!1),[o,l]=v.useState(null),[c,u]=v.useState(null),A=Rt(),[d,h]=v.useState({nik:"",fullName:"",birthPlace:"",birthDate:"",gender:"",address:"",rt:"",rw:"",village:"",district:"",city:"",province:"",religion:"",maritalStatus:"",occupation:""}),f=b=>{const{name:y,value:w}=b.target;h(x=>({...x,[y]:w}))},p=b=>{b.target.files&&b.target.files[0]&&(n(!0),setTimeout(()=>{const y=new FileReader;y.onload=w=>{w.target&&l(w.target.result)},y.readAsDataURL(b.target.files[0]),n(!1)},1500))},g=b=>{b.target.files&&b.target.files[0]&&(n(!0),setTimeout(()=>{const y=new FileReader;y.onload=w=>{w.target&&u(w.target.result)},y.readAsDataURL(b.target.files[0]),n(!1)},1500))},m=b=>{b.preventDefault(),s(!0),setTimeout(()=>{s(!1),A("/ppob")},2e3)};return i.jsxs(tEe,{children:[i.jsxs(Us,{children:[i.jsx("title",{children:"Verifikasi Identitas - JPC Digi"}),i.jsx("meta",{name:"description",content:"Verifikasi identitas untuk menggunakan layanan PPOB JPC Digi"})]}),i.jsx("div",{className:"container py-8",children:i.jsxs("div",{className:"max-w-3xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Verifikasi Identitas"}),i.jsx("p",{className:"text-muted-foreground",children:"Verifikasi identitas Anda untuk menggunakan layanan PPOB secara lengkap"})]}),i.jsxs("div",{className:"flex space-x-2 mt-4 sm:mt-0",children:[i.jsxs(z,{variant:"outline",onClick:()=>A("/ppob/wallet"),children:[i.jsx(J.wallet,{className:"mr-2 h-4 w-4"}),"Wallet Saya"]}),i.jsx(z,{variant:"outline",onClick:()=>A("/ppob"),children:"Kembali ke PPOB"})]})]}),i.jsxs(Be,{children:[i.jsxs(ct,{children:[i.jsx(ut,{children:"Lengkapi Verifikasi"}),i.jsx(cr,{children:"Verifikasi identitas sesuai dengan regulasi untuk keamanan transaksi"})]}),i.jsx(Ce,{children:i.jsxs(ja,{value:t,onValueChange:e,children:[i.jsxs(da,{className:"grid grid-cols-2 mb-6",children:[i.jsx(kt,{value:"identity",children:"Data Diri"}),i.jsx(kt,{value:"documents",children:"Dokumen"})]}),i.jsx(Yt,{value:"identity",children:i.jsxs("form",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"nik",children:"Nomor KTP (NIK)"}),i.jsx(he,{id:"nik",name:"nik",placeholder:"Masukkan 16 digit NIK",value:d.nik,onChange:f})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"fullName",children:"Nama Lengkap"}),i.jsx(he,{id:"fullName",name:"fullName",placeholder:"Sesuai KTP",value:d.fullName,onChange:f})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"birthPlace",children:"Tempat Lahir"}),i.jsx(he,{id:"birthPlace",name:"birthPlace",placeholder:"Kota kelahiran",value:d.birthPlace,onChange:f})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"birthDate",children:"Tanggal Lahir"}),i.jsx(he,{id:"birthDate",name:"birthDate",type:"date",value:d.birthDate,onChange:f})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"address",children:"Alamat"}),i.jsx(he,{id:"address",name:"address",placeholder:"Alamat lengkap sesuai KTP",value:d.address,onChange:f})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"rt",children:"RT"}),i.jsx(he,{id:"rt",name:"rt",placeholder:"RT",value:d.rt,onChange:f})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"rw",children:"RW"}),i.jsx(he,{id:"rw",name:"rw",placeholder:"RW",value:d.rw,onChange:f})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"village",children:"Kelurahan/Desa"}),i.jsx(he,{id:"village",name:"village",placeholder:"Kelurahan/Desa",value:d.village,onChange:f})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"district",children:"Kecamatan"}),i.jsx(he,{id:"district",name:"district",placeholder:"Kecamatan",value:d.district,onChange:f})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"city",children:"Kota/Kabupaten"}),i.jsx(he,{id:"city",name:"city",placeholder:"Kota/Kabupaten",value:d.city,onChange:f})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"province",children:"Provinsi"}),i.jsx(he,{id:"province",name:"province",placeholder:"Provinsi",value:d.province,onChange:f})]})]}),i.jsx(z,{type:"button",className:"w-full mt-4",onClick:()=>e("documents"),children:"Lanjutkan"})]})}),i.jsx(Yt,{value:"documents",children:i.jsxs("form",{onSubmit:m,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Foto KTP"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Unggah foto KTP yang jelas dan tidak terpotong"}),o?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:o,alt:"KTP",className:"w-full max-h-60 object-contain border rounded-md"}),i.jsx(z,{type:"button",variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>l(null),children:"Ganti"})]}):i.jsxs("div",{className:"border border-dashed rounded-md p-8 text-center",children:[i.jsx("input",{type:"file",id:"identity-upload",className:"hidden",accept:"image/*",onChange:p,disabled:r}),i.jsx("label",{htmlFor:"identity-upload",className:"cursor-pointer block",children:r?i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(J.spinner,{className:"h-8 w-8 animate-spin text-primary mb-2"}),i.jsx("p",{children:"Mengunggah..."})]}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mx-auto text-muted-foreground mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),i.jsx("p",{children:"Klik untuk mengunggah foto KTP"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Format: JPG, PNG, maksimal 5MB"})]})})]})]}),i.jsx(Zn,{className:"my-6"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Foto Selfie dengan KTP"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Unggah foto diri Anda sambil memegang KTP"}),c?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:c,alt:"Selfie dengan KTP",className:"w-full max-h-60 object-contain border rounded-md"}),i.jsx(z,{type:"button",variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>u(null),children:"Ganti"})]}):i.jsxs("div",{className:"border border-dashed rounded-md p-8 text-center",children:[i.jsx("input",{type:"file",id:"selfie-upload",className:"hidden",accept:"image/*",onChange:g,disabled:r}),i.jsx("label",{htmlFor:"selfie-upload",className:"cursor-pointer block",children:r?i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(J.spinner,{className:"h-8 w-8 animate-spin text-primary mb-2"}),i.jsx("p",{children:"Mengunggah..."})]}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mx-auto text-muted-foreground mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),i.jsx("p",{children:"Klik untuk mengunggah foto selfie dengan KTP"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Format: JPG, PNG, maksimal 5MB"})]})})]})]})]}),i.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-between gap-2",children:[i.jsx(z,{type:"button",variant:"outline",onClick:()=>e("identity"),children:"Kembali"}),i.jsx(z,{type:"submit",disabled:!o||!c||a,children:a?i.jsxs(i.Fragment,{children:[i.jsx(J.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Kirim Verifikasi"})]})]})})]})}),i.jsxs(is,{className:"flex flex-col text-xs text-muted-foreground border-t pt-4",children:[i.jsx("p",{children:"Data yang dikirimkan akan digunakan untuk keperluan verifikasi identitas sesuai regulasi."}),i.jsx("p",{children:"JPC Digi menjamin keamanan dan kerahasiaan data pribadi Anda."})]})]})]})})]})}var aA={},D_,vU;function YW(){return vU||(vU=1,D_={L:1,M:0,Q:3,H:2}),D_}var O_,yU;function JW(){return yU||(yU=1,O_={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),O_}var R_,bU;function nEe(){if(bU)return R_;bU=1;var t=JW();function e(r){this.mode=t.MODE_8BIT_BYTE,this.data=r}return e.prototype={getLength:function(r){return this.data.length},write:function(r){for(var n=0;n<this.data.length;n++)r.put(this.data.charCodeAt(n),8)}},R_=e,R_}var U_,wU;function aEe(){if(wU)return U_;wU=1;var t=YW();function e(r,n){this.totalCount=r,this.dataCount=n}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(r,n){var a=e.getRsBlockTable(r,n);if(a==null)throw new Error("bad rs block @ typeNumber:"+r+"/errorCorrectLevel:"+n);for(var s=a.length/3,o=new Array,l=0;l<s;l++)for(var c=a[l*3+0],u=a[l*3+1],A=a[l*3+2],d=0;d<c;d++)o.push(new e(u,A));return o},e.getRsBlockTable=function(r,n){switch(n){case t.L:return e.RS_BLOCK_TABLE[(r-1)*4+0];case t.M:return e.RS_BLOCK_TABLE[(r-1)*4+1];case t.Q:return e.RS_BLOCK_TABLE[(r-1)*4+2];case t.H:return e.RS_BLOCK_TABLE[(r-1)*4+3];default:return}},U_=e,U_}var M_,_U;function sEe(){if(_U)return M_;_U=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(e){var r=Math.floor(e/8);return(this.buffer[r]>>>7-e%8&1)==1},put:function(e,r){for(var n=0;n<r;n++)this.putBit((e>>>r-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),e&&(this.buffer[r]|=128>>>this.length%8),this.length++}},M_=t,M_}var Q_,BU;function ZW(){if(BU)return Q_;BU=1;for(var t={glog:function(r){if(r<1)throw new Error("glog("+r+")");return t.LOG_TABLE[r]},gexp:function(r){for(;r<0;)r+=255;for(;r>=256;)r-=255;return t.EXP_TABLE[r]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;e<255;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e;return Q_=t,Q_}var L_,CU;function eX(){if(CU)return L_;CU=1;var t=ZW();function e(r,n){if(r.length==null)throw new Error(r.length+"/"+n);for(var a=0;a<r.length&&r[a]==0;)a++;this.num=new Array(r.length-a+n);for(var s=0;s<r.length-a;s++)this.num[s]=r[s+a]}return e.prototype={get:function(r){return this.num[r]},getLength:function(){return this.num.length},multiply:function(r){for(var n=new Array(this.getLength()+r.getLength()-1),a=0;a<this.getLength();a++)for(var s=0;s<r.getLength();s++)n[a+s]^=t.gexp(t.glog(this.get(a))+t.glog(r.get(s)));return new e(n,0)},mod:function(r){if(this.getLength()-r.getLength()<0)return this;for(var n=t.glog(this.get(0))-t.glog(r.get(0)),a=new Array(this.getLength()),s=0;s<this.getLength();s++)a[s]=this.get(s);for(var s=0;s<r.getLength();s++)a[s]^=t.gexp(t.glog(r.get(s))+n);return new e(a,0).mod(r)}},L_=e,L_}var H_,jU;function iEe(){if(jU)return H_;jU=1;var t=JW(),e=eX(),r=ZW(),n={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},a={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(s){for(var o=s<<10;a.getBCHDigit(o)-a.getBCHDigit(a.G15)>=0;)o^=a.G15<<a.getBCHDigit(o)-a.getBCHDigit(a.G15);return(s<<10|o)^a.G15_MASK},getBCHTypeNumber:function(s){for(var o=s<<12;a.getBCHDigit(o)-a.getBCHDigit(a.G18)>=0;)o^=a.G18<<a.getBCHDigit(o)-a.getBCHDigit(a.G18);return s<<12|o},getBCHDigit:function(s){for(var o=0;s!=0;)o++,s>>>=1;return o},getPatternPosition:function(s){return a.PATTERN_POSITION_TABLE[s-1]},getMask:function(s,o,l){switch(s){case n.PATTERN000:return(o+l)%2==0;case n.PATTERN001:return o%2==0;case n.PATTERN010:return l%3==0;case n.PATTERN011:return(o+l)%3==0;case n.PATTERN100:return(Math.floor(o/2)+Math.floor(l/3))%2==0;case n.PATTERN101:return o*l%2+o*l%3==0;case n.PATTERN110:return(o*l%2+o*l%3)%2==0;case n.PATTERN111:return(o*l%3+(o+l)%2)%2==0;default:throw new Error("bad maskPattern:"+s)}},getErrorCorrectPolynomial:function(s){for(var o=new e([1],0),l=0;l<s;l++)o=o.multiply(new e([1,r.gexp(l)],0));return o},getLengthInBits:function(s,o){if(1<=o&&o<10)switch(s){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+s)}else if(o<27)switch(s){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+s)}else if(o<41)switch(s){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+s)}else throw new Error("type:"+o)},getLostPoint:function(s){for(var o=s.getModuleCount(),l=0,c=0;c<o;c++)for(var u=0;u<o;u++){for(var A=0,d=s.isDark(c,u),h=-1;h<=1;h++)if(!(c+h<0||o<=c+h))for(var f=-1;f<=1;f++)u+f<0||o<=u+f||h==0&&f==0||d==s.isDark(c+h,u+f)&&A++;A>5&&(l+=3+A-5)}for(var c=0;c<o-1;c++)for(var u=0;u<o-1;u++){var p=0;s.isDark(c,u)&&p++,s.isDark(c+1,u)&&p++,s.isDark(c,u+1)&&p++,s.isDark(c+1,u+1)&&p++,(p==0||p==4)&&(l+=3)}for(var c=0;c<o;c++)for(var u=0;u<o-6;u++)s.isDark(c,u)&&!s.isDark(c,u+1)&&s.isDark(c,u+2)&&s.isDark(c,u+3)&&s.isDark(c,u+4)&&!s.isDark(c,u+5)&&s.isDark(c,u+6)&&(l+=40);for(var u=0;u<o;u++)for(var c=0;c<o-6;c++)s.isDark(c,u)&&!s.isDark(c+1,u)&&s.isDark(c+2,u)&&s.isDark(c+3,u)&&s.isDark(c+4,u)&&!s.isDark(c+5,u)&&s.isDark(c+6,u)&&(l+=40);for(var g=0,u=0;u<o;u++)for(var c=0;c<o;c++)s.isDark(c,u)&&g++;var m=Math.abs(100*g/o/o-50)/5;return l+=m*10,l}};return H_=a,H_}var $_,EU;function oEe(){if(EU)return $_;EU=1;var t=nEe(),e=aEe(),r=sEe(),n=iEe(),a=eX();function s(l,c){this.typeNumber=l,this.errorCorrectLevel=c,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var o=s.prototype;return o.addData=function(l){var c=new t(l);this.dataList.push(c),this.dataCache=null},o.isDark=function(l,c){if(l<0||this.moduleCount<=l||c<0||this.moduleCount<=c)throw new Error(l+","+c);return this.modules[l][c]},o.getModuleCount=function(){return this.moduleCount},o.make=function(){if(this.typeNumber<1){var l=1;for(l=1;l<40;l++){for(var c=e.getRSBlocks(l,this.errorCorrectLevel),u=new r,A=0,d=0;d<c.length;d++)A+=c[d].dataCount;for(var d=0;d<this.dataList.length;d++){var h=this.dataList[d];u.put(h.mode,4),u.put(h.getLength(),n.getLengthInBits(h.mode,l)),h.write(u)}if(u.getLengthInBits()<=A*8)break}this.typeNumber=l}this.makeImpl(!1,this.getBestMaskPattern())},o.makeImpl=function(l,c){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var u=0;u<this.moduleCount;u++){this.modules[u]=new Array(this.moduleCount);for(var A=0;A<this.moduleCount;A++)this.modules[u][A]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(l,c),this.typeNumber>=7&&this.setupTypeNumber(l),this.dataCache==null&&(this.dataCache=s.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,c)},o.setupPositionProbePattern=function(l,c){for(var u=-1;u<=7;u++)if(!(l+u<=-1||this.moduleCount<=l+u))for(var A=-1;A<=7;A++)c+A<=-1||this.moduleCount<=c+A||(0<=u&&u<=6&&(A==0||A==6)||0<=A&&A<=6&&(u==0||u==6)||2<=u&&u<=4&&2<=A&&A<=4?this.modules[l+u][c+A]=!0:this.modules[l+u][c+A]=!1)},o.getBestMaskPattern=function(){for(var l=0,c=0,u=0;u<8;u++){this.makeImpl(!0,u);var A=n.getLostPoint(this);(u==0||l>A)&&(l=A,c=u)}return c},o.createMovieClip=function(l,c,u){var A=l.createEmptyMovieClip(c,u),d=1;this.make();for(var h=0;h<this.modules.length;h++)for(var f=h*d,p=0;p<this.modules[h].length;p++){var g=p*d,m=this.modules[h][p];m&&(A.beginFill(0,100),A.moveTo(g,f),A.lineTo(g+d,f),A.lineTo(g+d,f+d),A.lineTo(g,f+d),A.endFill())}return A},o.setupTimingPattern=function(){for(var l=8;l<this.moduleCount-8;l++)this.modules[l][6]==null&&(this.modules[l][6]=l%2==0);for(var c=8;c<this.moduleCount-8;c++)this.modules[6][c]==null&&(this.modules[6][c]=c%2==0)},o.setupPositionAdjustPattern=function(){for(var l=n.getPatternPosition(this.typeNumber),c=0;c<l.length;c++)for(var u=0;u<l.length;u++){var A=l[c],d=l[u];if(this.modules[A][d]==null)for(var h=-2;h<=2;h++)for(var f=-2;f<=2;f++)h==-2||h==2||f==-2||f==2||h==0&&f==0?this.modules[A+h][d+f]=!0:this.modules[A+h][d+f]=!1}},o.setupTypeNumber=function(l){for(var c=n.getBCHTypeNumber(this.typeNumber),u=0;u<18;u++){var A=!l&&(c>>u&1)==1;this.modules[Math.floor(u/3)][u%3+this.moduleCount-8-3]=A}for(var u=0;u<18;u++){var A=!l&&(c>>u&1)==1;this.modules[u%3+this.moduleCount-8-3][Math.floor(u/3)]=A}},o.setupTypeInfo=function(l,c){for(var u=this.errorCorrectLevel<<3|c,A=n.getBCHTypeInfo(u),d=0;d<15;d++){var h=!l&&(A>>d&1)==1;d<6?this.modules[d][8]=h:d<8?this.modules[d+1][8]=h:this.modules[this.moduleCount-15+d][8]=h}for(var d=0;d<15;d++){var h=!l&&(A>>d&1)==1;d<8?this.modules[8][this.moduleCount-d-1]=h:d<9?this.modules[8][15-d-1+1]=h:this.modules[8][15-d-1]=h}this.modules[this.moduleCount-8][8]=!l},o.mapData=function(l,c){for(var u=-1,A=this.moduleCount-1,d=7,h=0,f=this.moduleCount-1;f>0;f-=2)for(f==6&&f--;;){for(var p=0;p<2;p++)if(this.modules[A][f-p]==null){var g=!1;h<l.length&&(g=(l[h]>>>d&1)==1);var m=n.getMask(c,A,f-p);m&&(g=!g),this.modules[A][f-p]=g,d--,d==-1&&(h++,d=7)}if(A+=u,A<0||this.moduleCount<=A){A-=u,u=-u;break}}},s.PAD0=236,s.PAD1=17,s.createData=function(l,c,u){for(var A=e.getRSBlocks(l,c),d=new r,h=0;h<u.length;h++){var f=u[h];d.put(f.mode,4),d.put(f.getLength(),n.getLengthInBits(f.mode,l)),f.write(d)}for(var p=0,h=0;h<A.length;h++)p+=A[h].dataCount;if(d.getLengthInBits()>p*8)throw new Error("code length overflow. ("+d.getLengthInBits()+">"+p*8+")");for(d.getLengthInBits()+4<=p*8&&d.put(0,4);d.getLengthInBits()%8!=0;)d.putBit(!1);for(;!(d.getLengthInBits()>=p*8||(d.put(s.PAD0,8),d.getLengthInBits()>=p*8));)d.put(s.PAD1,8);return s.createBytes(d,A)},s.createBytes=function(l,c){for(var u=0,A=0,d=0,h=new Array(c.length),f=new Array(c.length),p=0;p<c.length;p++){var g=c[p].dataCount,m=c[p].totalCount-g;A=Math.max(A,g),d=Math.max(d,m),h[p]=new Array(g);for(var b=0;b<h[p].length;b++)h[p][b]=255&l.buffer[b+u];u+=g;var y=n.getErrorCorrectPolynomial(m),w=new a(h[p],y.getLength()-1),x=w.mod(y);f[p]=new Array(y.getLength()-1);for(var b=0;b<f[p].length;b++){var C=b+x.getLength()-f[p].length;f[p][b]=C>=0?x.get(C):0}}for(var E=0,b=0;b<c.length;b++)E+=c[b].totalCount;for(var B=new Array(E),j=0,b=0;b<A;b++)for(var p=0;p<c.length;p++)b<h[p].length&&(B[j++]=h[p][b]);for(var b=0;b<d;b++)for(var p=0;p<c.length;p++)b<f[p].length&&(B[j++]=f[p][b]);return B},$_=s,$_}var P0={},SU;function lEe(){if(SU)return P0;SU=1,Object.defineProperty(P0,"__esModule",{value:!0});var t=Object.assign||function(u){for(var A=1;A<arguments.length;A++){var d=arguments[A];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(u[h]=d[h])}return u},e=II(),r=s(e),n=Tp(),a=s(n);function s(u){return u&&u.__esModule?u:{default:u}}function o(u,A){var d={};for(var h in u)A.indexOf(h)>=0||Object.prototype.hasOwnProperty.call(u,h)&&(d[h]=u[h]);return d}var l={bgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,bgD:r.default.string.isRequired,fgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,fgD:r.default.string.isRequired,size:r.default.number.isRequired,title:r.default.string,viewBoxSize:r.default.number.isRequired,xmlns:r.default.string},c=(0,n.forwardRef)(function(u,A){var d=u.bgColor,h=u.bgD,f=u.fgD,p=u.fgColor,g=u.size,m=u.title,b=u.viewBoxSize,y=u.xmlns,w=y===void 0?"http://www.w3.org/2000/svg":y,x=o(u,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return a.default.createElement("svg",t({},x,{height:g,ref:A,viewBox:"0 0 "+b+" "+b,width:g,xmlns:w}),m?a.default.createElement("title",null,m):null,a.default.createElement("path",{d:h,fill:d}),a.default.createElement("path",{d:f,fill:p}))});return c.displayName="QRCodeSvg",c.propTypes=l,P0.default=c,P0}var NU;function cEe(){if(NU)return aA;NU=1,Object.defineProperty(aA,"__esModule",{value:!0}),aA.QRCode=void 0;var t=Object.assign||function(g){for(var m=1;m<arguments.length;m++){var b=arguments[m];for(var y in b)Object.prototype.hasOwnProperty.call(b,y)&&(g[y]=b[y])}return g},e=II(),r=d(e),n=YW(),a=d(n),s=oEe(),o=d(s),l=Tp(),c=d(l),u=lEe(),A=d(u);function d(g){return g&&g.__esModule?g:{default:g}}function h(g,m){var b={};for(var y in g)m.indexOf(y)>=0||Object.prototype.hasOwnProperty.call(g,y)&&(b[y]=g[y]);return b}var f={bgColor:r.default.oneOfType([r.default.object,r.default.string]),fgColor:r.default.oneOfType([r.default.object,r.default.string]),level:r.default.string,size:r.default.number,value:r.default.string.isRequired},p=(0,l.forwardRef)(function(g,m){var b=g.bgColor,y=b===void 0?"#FFFFFF":b,w=g.fgColor,x=w===void 0?"#000000":w,C=g.level,E=C===void 0?"L":C,B=g.size,j=B===void 0?256:B,N=g.value,S=h(g,["bgColor","fgColor","level","size","value"]),k=new o.default(-1,a.default[E]);k.addData(N),k.make();var I=k.modules;return c.default.createElement(A.default,t({},S,{bgColor:y,bgD:I.map(function(T,O){return T.map(function(U,H){return U?"":"M "+H+" "+O+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:x,fgD:I.map(function(T,O){return T.map(function(U,H){return U?"M "+H+" "+O+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:m,size:j,viewBoxSize:I.length}))});return aA.QRCode=p,p.displayName="QRCode",p.propTypes=f,aA.default=p,aA}var uEe=cEe();const tX=Wt(uEe),Gn=v.forwardRef(({className:t,...e},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:fe("w-full caption-bottom text-sm",t),...e})}));Gn.displayName="Table";const Wn=v.forwardRef(({className:t,...e},r)=>i.jsx("thead",{ref:r,className:fe("[&_tr]:border-b",t),...e}));Wn.displayName="TableHeader";const Xn=v.forwardRef(({className:t,...e},r)=>i.jsx("tbody",{ref:r,className:fe("[&_tr:last-child]:border-0",t),...e}));Xn.displayName="TableBody";const AEe=v.forwardRef(({className:t,...e},r)=>i.jsx("tfoot",{ref:r,className:fe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));AEe.displayName="TableFooter";const vt=v.forwardRef(({className:t,...e},r)=>i.jsx("tr",{ref:r,className:fe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));vt.displayName="TableRow";const Ie=v.forwardRef(({className:t,...e},r)=>i.jsx("th",{ref:r,className:fe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Ie.displayName="TableHead";const _e=v.forwardRef(({className:t,...e},r)=>i.jsx("td",{ref:r,className:fe("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));_e.displayName="TableCell";const dEe=v.forwardRef(({className:t,...e},r)=>i.jsx("caption",{ref:r,className:fe("mt-4 text-sm text-muted-foreground",t),...e}));dEe.displayName="TableCaption";const kU=[{id:"TRX-12345",type:"topup",amount:5e5,date:"2025-06-02T10:15:30",status:"success",description:"Top Up via BCA Virtual Account",source:"BCA Virtual Account",balance:5e5},{id:"TRX-12346",type:"payment",amount:-15e4,date:"2025-06-02T14:30:25",status:"success",description:"Pembayaran Tagihan PLN",source:"PLN Postpaid",balance:35e4},{id:"TRX-12347",type:"payment",amount:-5e4,date:"2025-06-02T16:45:12",status:"success",description:"Pembelian Pulsa Telkomsel",source:"Telkomsel Prepaid",balance:3e5},{id:"TRX-12348",type:"payment",amount:-75e3,date:"2025-06-02T18:20:05",status:"success",description:"Pembayaran PDAM",source:"PDAM",balance:225e3},{id:"TRX-12349",type:"topup",amount:2e5,date:"2025-06-03T09:10:45",status:"success",description:"Top Up via DANA",source:"DANA",balance:425e3},{id:"TRX-12350",type:"payment",amount:-1e5,date:"2025-06-03T11:30:20",status:"success",description:"Pembelian Token Listrik",source:"PLN Prepaid",balance:325e3},{id:"TRX-12351",type:"payment",amount:-25e3,date:"2025-06-03T13:45:10",status:"success",description:"Pembayaran Telkom IndiHome",source:"Telkom",balance:3e5},{id:"TRX-12352",type:"topup",amount:1e5,date:"2025-06-03T15:20:30",status:"pending",description:"Top Up via OVO",source:"OVO",balance:3e5},{id:"TRX-12353",type:"payment",amount:-8e4,date:"2025-06-03T16:50:15",status:"failed",description:"Pembelian Paket Data XL",source:"XL Data",balance:3e5}];function hEe({className:t}){const[e,r]=v.useState("all"),[n,a]=v.useState([]),[s,o]=v.useState([]),[l,c]=v.useState(!0),[u,A]=v.useState("this-month"),[d,h]=v.useState("");v.useEffect(()=>{(async()=>{c(!0),await new Promise(C=>setTimeout(C,1e3)),a(kU),o(kU),c(!1)})()},[]),v.useEffect(()=>{f()},[e,u,d,n]);const f=()=>{let x=[...n];e==="topup"?x=x.filter(I=>I.type==="topup"):e==="payment"&&(x=x.filter(I=>I.type==="payment"));const C=new Date,E=new Date(C.getFullYear(),C.getMonth(),C.getDate()),B=new Date(E);B.setDate(B.getDate()-1);const j=new Date(E);j.setDate(j.getDate()-E.getDay());const N=new Date(C.getFullYear(),C.getMonth(),1),S=new Date(C.getFullYear(),C.getMonth()-1,1),k=new Date(C.getFullYear(),C.getMonth(),0);switch(u){case"today":x=x.filter(I=>new Date(I.date)>=E);break;case"yesterday":x=x.filter(I=>{const T=new Date(I.date);return T>=B&&T<E});break;case"this-week":x=x.filter(I=>new Date(I.date)>=j);break;case"this-month":x=x.filter(I=>new Date(I.date)>=N);break;case"last-month":x=x.filter(I=>{const T=new Date(I.date);return T>=S&&T<=k});break}if(d.trim()!==""){const I=d.toLowerCase();x=x.filter(T=>T.id.toLowerCase().includes(I)||T.description.toLowerCase().includes(I)||T.source.toLowerCase().includes(I))}x.sort((I,T)=>new Date(T.date).getTime()-new Date(I.date).getTime()),o(x)},p=x=>{const C=new Date(x);return vn(C,"d MMMM yyyy, HH:mm",{locale:os})},g=x=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(Math.abs(x)),m=()=>s.filter(x=>x.amount>0&&x.status==="success").reduce((x,C)=>x+C.amount,0),b=()=>s.filter(x=>x.amount<0&&x.status==="success").reduce((x,C)=>x+Math.abs(C.amount),0),y=x=>{switch(x){case"topup":return i.jsx(J.plus,{className:"h-4 w-4 text-green-500"});case"payment":return i.jsx(J.creditCard,{className:"h-4 w-4 text-blue-500"});case"withdrawal":return i.jsx(J.arrowRight,{className:"h-4 w-4 text-orange-500"});case"refund":return i.jsx(J.arrowRight,{className:"h-4 w-4 text-purple-500 rotate-180"});default:return i.jsx(J.activity,{className:"h-4 w-4"})}},w=x=>{switch(x){case"success":return i.jsx(jt,{className:"bg-green-100 text-green-800 hover:bg-green-200",children:"Sukses"});case"pending":return i.jsx(jt,{className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200",children:"Pending"});case"failed":return i.jsx(jt,{className:"bg-red-100 text-red-800 hover:bg-red-200",children:"Gagal"});default:return i.jsx(jt,{children:"Unknown"})}};return i.jsxs(Be,{className:t,children:[i.jsxs(ct,{className:"pb-3",children:[i.jsx(ut,{children:"Mutasi Dompet PPOB"}),i.jsx(cr,{children:"Riwayat transaksi dompet PPOB Anda"})]}),i.jsxs(Ce,{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col space-y-3 sm:space-y-0 sm:flex-row sm:space-x-3 sm:items-center justify-between",children:[i.jsx(ja,{value:e,onValueChange:r,className:"w-full sm:w-auto",children:i.jsxs(da,{className:"grid grid-cols-3 w-full sm:w-auto",children:[i.jsx(kt,{value:"all",children:"Semua"}),i.jsx(kt,{value:"topup",children:"Top Up"}),i.jsx(kt,{value:"payment",children:"Pembayaran"})]})}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs(In,{value:u,onValueChange:A,children:[i.jsx(gn,{className:"w-full sm:w-[180px]",children:i.jsx(Pn,{placeholder:"Pilih Periode"})}),i.jsxs(xn,{children:[i.jsx(yt,{value:"all",children:"Semua Waktu"}),i.jsx(yt,{value:"today",children:"Hari Ini"}),i.jsx(yt,{value:"yesterday",children:"Kemarin"}),i.jsx(yt,{value:"this-week",children:"Minggu Ini"}),i.jsx(yt,{value:"this-month",children:"Bulan Ini"}),i.jsx(yt,{value:"last-month",children:"Bulan Lalu"})]})]}),i.jsx(he,{placeholder:"Cari transaksi...",value:d,onChange:x=>h(x.target.value),className:"w-full sm:w-[200px]"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[i.jsx(Be,{children:i.jsx(Ce,{className:"p-4",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Saldo Terakhir"}),i.jsx("p",{className:"text-2xl font-bold",children:n.length>0?g(n[0].balance):"Rp 0"})]})})}),i.jsx(Be,{children:i.jsx(Ce,{className:"p-4",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Pemasukan"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:g(m())})]})})}),i.jsx(Be,{children:i.jsx(Ce,{className:"p-4",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Pengeluaran"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:g(b())})]})})})]}),i.jsx(Zn,{}),l?i.jsx("div",{className:"flex justify-center items-center py-12",children:i.jsx(J.spinner,{className:"h-8 w-8 animate-spin text-primary"})}):s.length===0?i.jsx("div",{className:"text-center py-12 text-muted-foreground",children:i.jsx("p",{children:"Tidak ada transaksi ditemukan"})}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(Gn,{children:[i.jsx(Wn,{children:i.jsxs(vt,{children:[i.jsx(Ie,{children:"Tanggal"}),i.jsx(Ie,{children:"ID Transaksi"}),i.jsx(Ie,{children:"Keterangan"}),i.jsx(Ie,{children:"Jumlah"}),i.jsx(Ie,{children:"Status"}),i.jsx(Ie,{children:"Saldo"})]})}),i.jsx(Xn,{children:s.map(x=>i.jsxs(vt,{children:[i.jsx(_e,{className:"whitespace-nowrap",children:p(x.date)}),i.jsx(_e,{className:"font-medium",children:x.id}),i.jsx(_e,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[y(x.type),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:x.description}),i.jsx("p",{className:"text-xs text-muted-foreground",children:x.source})]})]})}),i.jsxs(_e,{className:x.amount>0?"text-green-600":"text-red-600",children:[x.amount>0?"+":"-",g(x.amount)]}),i.jsx(_e,{children:w(x.status)}),i.jsx(_e,{className:"font-medium",children:g(x.balance)})]},x.id))})]})})]}),i.jsxs(is,{className:"flex justify-between",children:[i.jsxs(z,{variant:"outline",children:[i.jsx(J.download,{className:"mr-2 h-4 w-4"}),"Unduh PDF"]}),i.jsxs(z,{variant:"outline",children:[i.jsx(J.download,{className:"mr-2 h-4 w-4"}),"Unduh CSV"]})]})]})}const fEe=()=>{const t=Rt(),[e,r]=v.useState("overview"),[n,a]=v.useState(75e4),[s,o]=v.useState(""),[l,c]=v.useState(""),[u,A]=v.useState(""),[d,h]=v.useState(""),[f,p]=v.useState("88750012345678"),[g,m]=v.useState(!1),[b,y]=v.useState(!1),[w,x]=v.useState(!1),[C,E]=v.useState(!1),[B,j]=v.useState(null),[N,S]=v.useState("transfer"),[k,I]=v.useState(!1),[T,O]=v.useState("all"),[U,H]=v.useState(null),R=L=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(L),D=L=>{L.preventDefault(),x(!0),j("topup"),setTimeout(()=>{const K=parseInt(s.replace(/\D/g,""));a(q=>q+K),x(!1),E(!0);const G=`TP${Date.now().toString().slice(-8)}`;H({id:G,amount:K,type:"topup",status:"success",timestamp:new Date}),setTimeout(()=>{m(!1),o(""),E(!1)},2e3)},1500)},M=L=>{L.preventDefault(),x(!0),j("withdraw"),setTimeout(()=>{const K=parseInt(l.replace(/\D/g,""));a(q=>q-K),x(!1),E(!0);const G=`WD${Date.now().toString().slice(-8)}`;H({id:G,amount:K,type:"withdraw",status:"success",timestamp:new Date}),setTimeout(()=>{y(!1),c(""),A(""),h(""),E(!1)},2e3)},1500)},Q=(L,K)=>{const G=L.target.value.replace(/\D/g,"");if(G===""){K("");return}K(new Intl.NumberFormat("id-ID").format(parseInt(G)))};return i.jsxs(Jt,{title:"PPOB Wallet",subtitle:"Kelola saldo PPOB Anda",withBackButton:!0,onBackButtonClick:()=>t("/ppob"),children:[i.jsx("div",{className:"container max-w-md mx-auto px-4 py-6",children:i.jsxs(ja,{defaultValue:"overview",value:e,onValueChange:r,className:"w-full",children:[i.jsxs(da,{className:"grid w-full grid-cols-2",children:[i.jsx(kt,{value:"overview",children:"Saldo"}),i.jsx(kt,{value:"history",children:"Riwayat"})]}),i.jsxs(Yt,{value:"overview",className:"space-y-4",children:[i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mt-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-lg font-medium",children:"Saldo PPOB Wallet"}),i.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>r("history"),children:[i.jsx(J.history,{className:"h-4 w-4 mr-1"}),"Riwayat"]})]}),i.jsx(Be,{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white mb-6",children:i.jsx(Ce,{className:"p-6",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium text-blue-100",children:"Saldo Tersedia"}),i.jsx("h3",{className:"text-3xl font-bold",children:R(n)}),i.jsxs("p",{className:"text-xs text-blue-100",children:["Terakhir diperbarui: ",new Date().toLocaleString("id-ID")]})]})})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs(z,{className:"h-auto py-4 flex flex-col items-center",onClick:()=>m(!0),children:[i.jsx(J.plus,{className:"h-6 w-6 mb-1"}),i.jsx("span",{children:"Top Up"})]}),i.jsxs(z,{variant:"outline",className:"h-auto py-4 flex flex-col items-center",onClick:()=>y(!0),children:[i.jsx(J.arrowRight,{className:"h-6 w-6 mb-1"}),i.jsx("span",{children:"Tarik Dana"})]})]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Transaksi Terakhir"}),U?i.jsx(Be,{className:"border",children:i.jsx(Ce,{className:"p-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx(jt,{variant:U.type==="topup"?"success":"destructive",children:U.type==="topup"?"Top Up":"Tarik Dana"}),i.jsxs("p",{className:"text-sm font-semibold mt-1",children:[U.type==="topup"?"+":"-",R(U.amount)]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:U.timestamp.toLocaleString("id-ID")})]}),i.jsx(jt,{variant:U.status==="success"?"outline":"secondary",children:U.status==="success"?"Berhasil":U.status==="pending"?"Diproses":"Gagal"})]})})}):i.jsx("div",{className:"text-center py-6 text-muted-foreground",children:i.jsx("p",{children:"Belum ada transaksi"})}),i.jsx("div",{className:"mt-4",children:i.jsxs(z,{variant:"outline",className:"w-full",onClick:()=>t("/ppob/history?wallet=true"),children:["Lihat Semua Transaksi",i.jsx(J.arrowRight,{className:"h-4 w-4 ml-2"})]})})]})]}),i.jsx(Yt,{value:"history",className:"space-y-4",children:i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Riwayat Transaksi"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[i.jsxs(Be,{className:"bg-blue-50",children:[i.jsx(ct,{className:"pb-2",children:i.jsxs(ut,{className:"text-sm font-medium flex items-center",children:[i.jsx(J.arrowDownCircle,{className:"h-4 w-4 mr-2 text-green-600"}),"Uang Masuk"]})}),i.jsx(Ce,{children:i.jsxs(z,{variant:"ghost",className:"p-0 h-auto font-bold text-green-600 hover:text-green-700 hover:bg-transparent",onClick:()=>t("/ppob/history?filter=in"),children:["Lihat",i.jsx(J.chevronRight,{className:"h-4 w-4 ml-1"})]})})]}),i.jsxs(Be,{className:"bg-blue-50",children:[i.jsx(ct,{className:"pb-2",children:i.jsxs(ut,{className:"text-sm font-medium flex items-center",children:[i.jsx(J.arrowUpCircle,{className:"h-4 w-4 mr-2 text-red-600"}),"Uang Keluar"]})}),i.jsx(Ce,{children:i.jsxs(z,{variant:"ghost",className:"p-0 h-auto font-bold text-red-600 hover:text-red-700 hover:bg-transparent",onClick:()=>t("/ppob/history?filter=out"),children:["Lihat",i.jsx(J.chevronRight,{className:"h-4 w-4 ml-1"})]})})]})]}),i.jsx("div",{className:"space-y-2",children:i.jsx(hEe,{})}),i.jsxs("div",{className:"mt-4 text-center",children:[i.jsxs(z,{variant:"outline",onClick:()=>t("/ppob/history?wallet=true"),children:[i.jsx(J.wallet,{className:"mr-2 h-4 w-4"}),"Lihat Transaksi Wallet"]}),i.jsxs(z,{variant:"link",onClick:()=>t("/ppob/history"),children:[i.jsx(J.history,{className:"mr-2 h-4 w-4"}),"Semua Transaksi"]})]})]})})]})}),i.jsx(vr,{open:g,onOpenChange:m,children:i.jsxs(hr,{className:"sm:max-w-md",children:[i.jsxs(Cr,{children:[i.jsx(jr,{children:"Top Up Saldo"}),i.jsx(Rn,{children:"Tambah saldo PPOB Wallet Anda dengan mudah."})]}),C&&B==="topup"?i.jsxs("div",{className:"py-6 text-center space-y-4",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(J.check,{className:"h-8 w-8 text-green-600"})})}),i.jsx("h3",{className:"font-bold text-lg",children:"Top Up Berhasil!"}),i.jsxs("p",{className:"text-muted-foreground",children:["Saldo Anda telah bertambah",U&&i.jsx("span",{className:"block font-semibold mt-1 text-green-600",children:R(U.amount)})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:U&&i.jsxs(i.Fragment,{children:["ID Transaksi: ",U.id,i.jsx("br",{}),"Waktu: ",U.timestamp.toLocaleString("id-ID")]})})]}):i.jsxs("form",{onSubmit:D,children:[i.jsxs(ja,{defaultValue:"transfer",className:"w-full",onValueChange:L=>S(L),children:[i.jsxs(da,{className:"grid w-full grid-cols-2",children:[i.jsx(kt,{value:"transfer",children:"Transfer Bank"}),i.jsx(kt,{value:"qrcode",children:"QR Code"})]}),i.jsxs(Yt,{value:"transfer",className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"amount",children:"Jumlah"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"Rp"}),i.jsx(he,{id:"amount",placeholder:"0",className:"pl-9",value:s,onChange:L=>Q(L,o),required:!0})]}),i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsx("p",{className:"text-muted-foreground",children:"Min: Rp10.000"}),i.jsx("p",{className:"text-muted-foreground",children:"Maks: Rp10.000.000"})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:[1e5,2e5,5e5,1e6].map(L=>i.jsx(z,{type:"button",variant:"outline",size:"sm",className:"flex-1 min-w-[80px]",onClick:()=>o(new Intl.NumberFormat("id-ID").format(L)),children:R(L)},L))})]}),i.jsxs("div",{className:"space-y-2 mt-4",children:[i.jsx(Te,{children:"Metode Pembayaran"}),i.jsx(Be,{children:i.jsx(Ce,{className:"p-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(J.creditCard,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Virtual Account"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:f})]})]}),i.jsx(z,{type:"button",variant:"ghost",size:"icon",onClick:()=>{navigator.clipboard.writeText(f),alert("Nomor Virtual Account disalin!")},children:i.jsx(J.copy,{className:"h-4 w-4"})})]})})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Transfer ke nomor virtual account di atas untuk melakukan top up. Saldo akan bertambah otomatis setelah transfer berhasil."})]})]}),i.jsxs(Yt,{value:"qrcode",className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"qr-amount",children:"Jumlah"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"Rp"}),i.jsx(he,{id:"qr-amount",placeholder:"0",className:"pl-9",value:s,onChange:L=>Q(L,o),required:!0})]}),i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsx("p",{className:"text-muted-foreground",children:"Min: Rp10.000"}),i.jsx("p",{className:"text-muted-foreground",children:"Maks: Rp10.000.000"})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:[1e5,2e5,5e5,1e6].map(L=>i.jsx(z,{type:"button",variant:"outline",size:"sm",className:"flex-1 min-w-[80px]",onClick:()=>o(new Intl.NumberFormat("id-ID").format(L)),children:R(L)},L))})]}),i.jsx("div",{className:"flex justify-center mt-4",children:k?i.jsxs("div",{className:"p-4 border-2 border-dashed border-muted-foreground/50 rounded-lg",children:[i.jsx("div",{className:"bg-white p-2 rounded-md",children:i.jsx(tX,{value:`JPC:TOPUP:${s.replace(/\D/g,"")}:${Date.now()}`,size:180})}),i.jsx(z,{type:"button",variant:"link",className:"mt-2 text-xs",onClick:()=>I(!1),children:"Ubah Nominal"})]}):i.jsxs(z,{type:"button",variant:"outline",onClick:()=>{const L=parseInt(s.replace(/\D/g,""))||0;if(L<1e4){alert("Minimal top up adalah Rp10.000");return}if(L>1e7){alert("Maksimal top up adalah Rp10.000.000");return}I(!0)},disabled:!s,className:"w-full py-8",children:[i.jsx(J.qrCode,{className:"mr-2 h-5 w-5"}),"Generate QR Code"]})}),k&&i.jsx("p",{className:"text-sm text-center text-muted-foreground",children:"Scan QR code ini dengan aplikasi e-wallet atau mobile banking Anda untuk melakukan pembayaran."})]})]}),i.jsxs(yn,{className:"mt-4",children:[i.jsx(z,{type:"button",variant:"outline",onClick:()=>{m(!1),I(!1),o("")},disabled:w,children:"Batal"}),N==="transfer"?i.jsx(z,{type:"submit",disabled:!s||w||parseInt(s.replace(/\D/g,""))<1e4,children:w?i.jsxs(i.Fragment,{children:[i.jsx(J.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Konfirmasi Top Up"}):i.jsx(z,{type:"button",onClick:()=>{x(!0),j("topup"),setTimeout(()=>{const L=parseInt(s.replace(/\D/g,""));a(G=>G+L),x(!1),E(!0);const K=`TP${Date.now().toString().slice(-8)}`;H({id:K,amount:L,type:"topup",status:"success",timestamp:new Date}),setTimeout(()=>{m(!1),o(""),I(!1),E(!1)},2e3)},1500)},disabled:!s||!k||w,children:w?i.jsxs(i.Fragment,{children:[i.jsx(J.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Saya Sudah Bayar"})]})]})]})}),i.jsx(vr,{open:b,onOpenChange:y,children:i.jsxs(hr,{className:"sm:max-w-md",children:[i.jsxs(Cr,{children:[i.jsx(jr,{children:"Tarik Dana"}),i.jsx(Rn,{children:"Tarik dana dari PPOB Wallet Anda ke rekening bank yang terdaftar."})]}),C&&B==="withdraw"?i.jsxs("div",{className:"py-6 text-center space-y-4",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(J.check,{className:"h-8 w-8 text-green-600"})})}),i.jsx("h3",{className:"font-bold text-lg",children:"Penarikan Berhasil!"}),i.jsxs("p",{className:"text-muted-foreground",children:["Dana akan masuk ke rekening bank Anda dalam 1x24 jam kerja",U&&i.jsx("span",{className:"block font-semibold mt-1 text-red-600",children:R(U.amount)})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:U&&i.jsxs(i.Fragment,{children:["ID Transaksi: ",U.id,i.jsx("br",{}),"Waktu: ",U.timestamp.toLocaleString("id-ID")]})})]}):i.jsxs("form",{onSubmit:M,children:[i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"withdraw-amount",children:"Jumlah"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"Rp"}),i.jsx(he,{id:"withdraw-amount",placeholder:"0",className:"pl-9",value:l,onChange:L=>Q(L,c),required:!0})]}),i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsx("p",{className:"text-muted-foreground",children:"Min: Rp50.000"}),i.jsx("p",{className:"text-muted-foreground",children:"Maks: Rp5.000.000"})]}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Saldo tersedia: ",R(n)]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"withdraw-bank",children:"Bank Tujuan"}),i.jsxs(In,{value:u,onValueChange:A,required:!0,children:[i.jsx(gn,{id:"withdraw-bank",children:i.jsx(Pn,{placeholder:"Pilih bank tujuan"})}),i.jsxs(xn,{children:[i.jsx(yt,{value:"bca",children:"Bank BCA"}),i.jsx(yt,{value:"bni",children:"Bank BNI"}),i.jsx(yt,{value:"mandiri",children:"Bank Mandiri"}),i.jsx(yt,{value:"bri",children:"Bank BRI"}),i.jsx(yt,{value:"permata",children:"Bank Permata"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"account-number",children:"Nomor Rekening"}),i.jsx(he,{id:"account-number",placeholder:"Contoh: 1234567890",value:d,onChange:L=>h(L.target.value.replace(/\D/g,"")),required:!0})]})]}),i.jsxs(yn,{children:[i.jsx(z,{type:"button",variant:"outline",onClick:()=>y(!1),disabled:w,children:"Batal"}),i.jsx(z,{type:"submit",disabled:!l||!u||!d||w||parseInt(l.replace(/\D/g,""))<5e4||parseInt(l.replace(/\D/g,""))>n,children:w?i.jsxs(i.Fragment,{children:[i.jsx(J.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Tarik Dana"})]})]})]})})]})},mEe=[{id:"notif-1",title:"Pembayaran Berhasil",message:"Pembayaran tagihan PLN sebesar Rp 250.000 telah berhasil.",date:"2025-06-02T14:35:00",type:"success",read:!1},{id:"notif-2",title:"Promo Spesial",message:"Dapatkan cashback 10% untuk pembelian pulsa min. Rp 50.000.",date:"2025-06-02T10:15:00",type:"promo",read:!1},{id:"notif-3",title:"Pembayaran Tertunda",message:"Pembayaran BPJS Kesehatan sedang diproses.",date:"2025-06-01T18:22:00",type:"pending",read:!0},{id:"notif-4",title:"Transaksi Gagal",message:"Pembelian token listrik gagal. Saldo tidak mencukupi.",date:"2025-06-01T13:45:00",type:"error",read:!0},{id:"notif-5",title:"Top Up Berhasil",message:"Top up saldo PPOB Wallet sebesar Rp 500.000 berhasil.",date:"2025-05-31T09:10:00",type:"success",read:!0}];function pEe({onClose:t}){const[e,r]=v.useState([]),[n,a]=v.useState(!0);v.useEffect(()=>{(async()=>{a(!0),await new Promise(d=>setTimeout(d,1e3)),r(mEe),a(!1)})()},[]);const s=e.filter(A=>!A.read).length,o=()=>{r(e.map(A=>({...A,read:!0})))},l=A=>{r(e.map(d=>d.id===A?{...d,read:!0}:d))},c=A=>{const d=new Date(A),f=Math.abs(new Date().getTime()-d.getTime()),p=Math.floor(f/(1e3*60*60*24));return p===0?`Hari ini, ${d.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}`:p===1?"Kemarin":p<7?d.toLocaleDateString("id-ID",{weekday:"long"}):d.toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})},u=A=>{switch(A){case"success":return i.jsx(J.check,{className:"h-4 w-4 text-green-500"});case"error":return i.jsx(J.flame,{className:"h-4 w-4 text-red-500"});case"pending":return i.jsx(J.clock,{className:"h-4 w-4 text-yellow-500"});case"promo":return i.jsx(J.ticket,{className:"h-4 w-4 text-purple-500"});default:return i.jsx(J.bell,{className:"h-4 w-4"})}};return i.jsxs(Be,{className:"w-full max-w-md mx-auto border shadow-md",children:[i.jsxs(ct,{className:"pb-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(ut,{className:"text-xl",children:"Notifikasi"}),s>0&&i.jsx(z,{variant:"ghost",size:"sm",onClick:o,className:"text-xs",children:"Tandai Semua Dibaca"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(jt,{variant:"outline",className:"text-xs",children:["Semua (",e.length,")"]}),s>0&&i.jsxs(jt,{className:"text-xs bg-primary",children:["Belum Dibaca (",s,")"]})]})]}),i.jsx(Ce,{className:"px-0",children:n?i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx(J.spinner,{className:"h-8 w-8 animate-spin text-primary"})}):e.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:i.jsx("p",{children:"Tidak ada notifikasi"})}):i.jsx("div",{className:"divide-y",children:e.map(A=>i.jsx("div",{className:fe("px-4 py-3 hover:bg-muted/50 cursor-pointer transition-colors",!A.read&&"bg-muted/30"),onClick:()=>l(A.id),children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"mt-1",children:u(A.type)}),i.jsxs("div",{className:"flex-1 space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:fe("text-sm font-medium",!A.read&&"font-semibold"),children:A.title}),i.jsx("span",{className:"text-xs text-muted-foreground",children:c(A.date)})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:A.message}),!A.read&&i.jsx(jt,{className:"mt-1 bg-primary/20 text-primary hover:bg-primary/30 text-xs",variant:"secondary",children:"Baru"})]})]})},A.id))})})]})}function V_(){const t=Rt(),[e,r]=v.useState(null),[n,a]=v.useState(0),[s,o]=v.useState(0),[l,c]=v.useState(new Date),[u,A]=v.useState(!0);return v.useEffect(()=>{(async()=>{A(!0);try{const{data:{session:f},error:p}=await Z.auth.getSession();if(p)throw p;if(f!=null&&f.user){const{data:g,error:m}=await Z.from("profiles").select("*").eq("id",f.user.id).single();if(m)throw m;r(g),g&&typeof g.balance=="number"&&a(g.balance);const{count:b,error:y}=await Z.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",f.user.id).eq("read_status",!1);if(y)throw y;b!==null&&o(b)}else t("/login")}catch(f){console.error("Error fetching data:",f)}finally{A(!1)}})();const h=setInterval(()=>{c(new Date)},6e4);return()=>{clearInterval(h)}},[t]),i.jsxs(Jt,{children:[i.jsxs(Us,{children:[i.jsx("title",{children:"JPC Digi - Layanan PPOB"}),i.jsx("style",{children:`
            @keyframes gradientShift {
              0% { background-position: 0% 50%; }
              50% { background-position: 100% 50%; }
              100% { background-position: 0% 50%; }
            }
            @keyframes float {
              0% { transform: translateY(0px); }
              50% { transform: translateY(-10px); }
              100% { transform: translateY(0px); }
            }
            @keyframes pulse {
              0% { transform: scale(1); }
              50% { transform: scale(1.1); }
              100% { transform: scale(1); }
            }
            @keyframes sparkle {
              0% { opacity: 0.2; }
              50% { opacity: 1; }
              100% { opacity: 0.2; }
            }
            .gradient-bg {
              background-size: 200% 200%;
              animation: gradientShift 8s ease infinite;
            }
            .float {
              animation: float 4s ease-in-out infinite;
            }
            .pulse {
              animation: pulse 2s ease-in-out infinite;
            }
            .sparkle {
              animation: sparkle 1.5s ease-in-out infinite;
            }
          `})]}),i.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-500 to-purple-500 text-white",style:{animation:"gradientShift 8s ease infinite"},children:[i.jsx("div",{className:"flex justify-between items-center p-2 text-xs",children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(J.users,{className:"h-3 w-3 mr-1"})," ",e!=null&&e.name?e.name.split(" ")[0]:"Guest",i.jsx("div",{className:"flex items-center gap-0.5 bg-white/20 px-1 rounded"})]})}),i.jsxs("div",{className:"flex justify-between items-center p-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"h-12 w-12 rounded-full bg-white flex items-center justify-center shadow-lg pulse",children:i.jsx(J.wallet,{className:"h-7 w-7 text-indigo-600"})}),i.jsx("div",{className:"absolute -top-1 -right-1 h-4 w-4 bg-green-400 rounded-full border border-white pulse"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-sm opacity-80 font-medium",children:["Saldo ",e!=null&&e.name?e.name.split(" ")[0]:""]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-2xl font-bold sparkle",children:ye(n)}),i.jsx("div",{children:i.jsx(z,{variant:"ghost",size:"sm",className:"p-0 h-6 text-white hover:bg-white/20 rounded-full",children:i.jsx(J.refreshCw,{className:"h-3 w-3"})})})]})]})]}),i.jsxs(vr,{children:[i.jsx(ny,{asChild:!0,children:i.jsxs(z,{variant:"ghost",size:"icon",className:"relative text-white",children:[i.jsx(J.bell,{className:"h-6 w-6"}),s>0&&i.jsx(jt,{className:"absolute -top-1 -right-1 h-4 w-4 p-0 flex items-center justify-center text-xs bg-red-500",children:s})]})}),i.jsxs(hr,{className:"max-w-md p-0",children:[i.jsx(Cr,{className:"sr-only",children:i.jsx(jr,{children:"Notifikasi"})}),i.jsx(pEe,{onClose:()=>o(0)})]})]})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-x-2 sm:gap-x-4 px-4 mt-6 pb-6",style:{perspective:"1000px"},children:[i.jsx("div",{children:i.jsxs(z,{variant:"ghost",className:"flex flex-col items-center h-auto py-2 text-white",onClick:()=>t("/ppob/scan"),children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-indigo-400 to-indigo-600 flex items-center justify-center mb-2 shadow-lg float",children:i.jsx(J.qrCode,{className:"h-8 w-8"})}),i.jsx("span",{className:"text-sm font-medium",children:"Pindai"})]})}),i.jsxs(z,{variant:"ghost",className:"flex flex-col items-center h-auto py-2 text-white",onClick:()=>t("/ppob/topup"),children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center mb-2 shadow-lg float",style:{animationDelay:"0.2s"},children:i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx("div",{className:"h-8 w-8 rounded-full border-2 border-white"}),i.jsx(J.plus,{className:"h-5 w-5 absolute pulse"})]})}),i.jsx("span",{className:"text-sm font-medium",children:"Isi Saldo"})]}),i.jsxs(z,{variant:"ghost",className:"flex flex-col items-center h-auto py-2 text-white",onClick:()=>t("/ppob/send"),children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center mb-2 shadow-lg float",style:{animationDelay:"0.4s"},children:i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx("div",{className:"h-8 w-8 rounded-full border-2 border-white"}),i.jsx(J.arrowUpCircle,{className:"h-5 w-5 absolute pulse"})]})}),i.jsx("span",{className:"text-sm font-medium",children:"Kirim"})]}),i.jsxs(z,{variant:"ghost",className:"flex flex-col items-center h-auto py-2 text-white",onClick:()=>t("/ppob/request"),children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-pink-400 to-pink-600 flex items-center justify-center mb-2 shadow-lg float",style:{animationDelay:"0.6s"},children:i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx("div",{className:"h-8 w-8 rounded-full border-2 border-white"}),i.jsx(J.arrowDownCircle,{className:"h-5 w-5 absolute pulse"})]})}),i.jsx("span",{className:"text-sm font-medium",children:"Minta"})]})]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-t-3xl -mt-4 mb-16 shadow-lg",style:{borderTop:"3px solid rgba(129, 140, 248, 0.5)"},children:[i.jsx("div",{className:"mt-2 mb-6",children:i.jsx("div",{className:"relative bg-white rounded-xl overflow-hidden border border-gray-100 shadow-sm",children:i.jsxs("div",{className:"flex p-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-md overflow-hidden mr-3",children:i.jsx("div",{className:"bg-gradient-to-br from-orange-400 to-red-600 text-white h-full w-full flex items-center justify-center font-bold pulse",children:""})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-bold text-black",children:"Arang Oven"}),i.jsx("p",{className:"text-sm text-orange-500",children:"Mulai Rp6.000"})]}),i.jsx(z,{className:"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white text-xs rounded-md h-8 shadow-md",size:"sm",children:"Beli"})]})})}),i.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-4 sm:gap-6 mb-8",style:{perspective:"1000px"},children:[i.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/ewallet"),children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:i.jsx(J.wallet,{className:"h-7 w-7 text-green-600 pulse"})}),i.jsx("span",{className:"text-xs font-medium",children:"e-Wallet"})]}),i.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/pulsa-data"),children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-red-100 to-red-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:i.jsx(J.smartphone,{className:"h-7 w-7 text-red-600 pulse",style:{animationDelay:"0.2s"}})}),i.jsx("span",{className:"text-xs font-medium",children:"Pulsa & Data"})]}),i.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/electricity"),children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-amber-100 to-amber-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:i.jsx(J.zap,{className:"h-7 w-7 text-amber-600 pulse",style:{animationDelay:"0.4s"}})}),i.jsx("span",{className:"text-xs font-medium",children:"Listrik"})]}),i.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/games"),children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:i.jsx(J.gamepad,{className:"h-7 w-7 text-blue-600 pulse",style:{animationDelay:"0.6s"}})}),i.jsx("span",{className:"text-xs font-medium",children:"Games"})]}),i.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/all"),children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:i.jsx(J.menu,{className:"h-7 w-7 text-purple-600 pulse",style:{animationDelay:"0.8s"}})}),i.jsx("span",{className:"text-xs font-medium",children:"Lihat Semua"})]})]})]}),i.jsxs("div",{className:"bg-white px-4 py-2 mb-4",children:[i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx("div",{className:"w-8 h-8 bg-primary rounded-md flex items-center justify-center mr-2",children:i.jsx(J.messageSquare,{className:"h-5 w-5 text-white"})}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-sm font-medium",children:"berbagi kabar terbaru "})}),i.jsx("div",{className:"text-xs text-gray-500",children:vn(new Date,"HH:mm",{locale:os})})]}),i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx("div",{className:"w-8 h-8 bg-primary rounded-md flex items-center justify-center mr-2",children:i.jsx(J.messageSquare,{className:"h-5 w-5 text-white"})}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-sm font-medium",children:"berbagi kabar terbaru "})}),i.jsx("div",{className:"text-xs text-gray-500",children:"02/06"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-primary rounded-md flex items-center justify-center mr-2",children:i.jsx(J.messageSquare,{className:"h-5 w-5 text-white"})}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-sm font-medium",children:"berbagi kabar terbaru "})}),i.jsx("div",{className:"text-xs text-gray-500",children:"01/06"})]})]}),i.jsx("div",{className:"px-4 mb-4",children:i.jsx("div",{className:"bg-primary rounded-xl overflow-hidden",children:i.jsx("img",{src:"https://placehold.co/600x200/0088FF/FFFFFF?text=Layanan+Prioritas",alt:"Banner promo",className:"w-full h-32 object-cover"})})}),i.jsxs("div",{className:"bg-white mx-4 rounded-xl border border-gray-200 p-4 mb-20",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(J.check,{className:"h-5 w-5 text-primary mr-2"}),i.jsx("span",{className:"font-semibold text-gray-600",children:"PROTECTION"})]}),i.jsx(z,{variant:"outline",className:"h-8 border-primary text-primary text-xs",children:"PELAJARI"})]}),i.jsxs("div",{className:"flex border-t border-gray-100 pt-3",children:[i.jsxs("div",{className:"flex-1 flex flex-col items-center border-r border-gray-100",children:[i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx(J.shield,{className:"h-5 w-5 text-primary mr-1"}),i.jsx("span",{className:"text-xl font-bold",children:"7"})]}),i.jsx("span",{className:"text-xs text-gray-600",children:"Aktivitas Terlindungi"})]}),i.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx(J.lightbulb,{className:"h-5 w-5 text-amber-500 mr-1"}),i.jsx("span",{className:"text-xl font-bold",children:"2"})]}),i.jsx("span",{className:"text-xs text-gray-600",children:"Rekomendasi Keamanan"})]})]})]}),i.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 flex justify-around py-2",children:[i.jsxs(z,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1",onClick:()=>t("/ppob/dashboard"),children:[i.jsx(J.home,{className:"h-6 w-6"}),i.jsx("span",{className:"text-xs",children:"Beranda"})]}),i.jsxs(z,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1",onClick:()=>t("/ppob/activity"),children:[i.jsx(J.activity,{className:"h-6 w-6"}),i.jsx("span",{className:"text-xs",children:"Aktivitas"})]}),i.jsxs(z,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1 relative",onClick:()=>t("/ppob/scan"),children:[i.jsx("div",{className:"h-14 w-14 rounded-full bg-primary flex items-center justify-center absolute -top-7",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("span",{className:"text-white text-xs font-bold",children:"PAY"}),i.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[i.jsx("div",{className:"h-2 w-2 bg-white rounded"}),i.jsx("div",{className:"h-2 w-2 bg-white rounded"}),i.jsx("div",{className:"h-2 w-2 bg-white rounded"}),i.jsx("div",{className:"h-2 w-2 bg-white rounded"})]})]})}),i.jsx("div",{className:"h-6"}),i.jsx("span",{className:"text-xs"})]}),i.jsxs(z,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1",onClick:()=>t("/ppob/topup"),children:[i.jsx(J.inbox,{className:"h-6 w-6"}),i.jsx("span",{className:"text-xs",children:"Dompet"})]}),i.jsxs(z,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1",onClick:()=>t("/profile"),children:[i.jsx(J.users,{className:"h-6 w-6"}),i.jsx("span",{className:"text-xs",children:"Saya"})]})]})]})}function gEe({transaction:t,onClose:e}){const r=l=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(l),n=l=>{const c=new Date(l);return vn(c,"dd MMM yyyy  HH:mm",{locale:os})},a=()=>{const l=vn(new Date(t.date),"yyyyMMdd"),c=Math.floor(Math.random()*1e11).toString().padStart(12,"0");return`${l}${c}`},s=()=>{const l=vn(new Date(t.date),"yyyyMMdd"),c=t.type==="topup"?"DANAID":"DANAPY",u=Math.floor(Math.random()*1e10).toString().padStart(10,"0");return`${l}${c}J${l.slice(-2)}${u}`},o=()=>`   ${Math.floor(Math.random()*1e4).toString().padStart(4,"0")}`;return i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"flex-1 overflow-auto pb-16",children:[i.jsxs("div",{className:"bg-white p-4 flex flex-col items-center",children:[i.jsx("div",{className:"w-16 h-16 mb-2",children:i.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(J.wallet,{className:"h-8 w-8 text-blue-500"})})}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm text-gray-500",children:n(t.date)}),i.jsxs("p",{className:"text-lg font-bold mt-1",children:["ID JPC ",t.id]})]}),i.jsxs("div",{className:"flex items-center mt-2 bg-green-50 text-green-600 px-3 py-1 rounded-full",children:[i.jsx(J.check,{className:"h-4 w-4 mr-1"}),i.jsx("span",{className:"text-sm font-medium",children:"Transaksi berhasil!"})]})]}),i.jsx(Be,{className:"mx-4 my-4 shadow-sm",children:i.jsxs(Ce,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:t.type==="topup"?i.jsx(J.arrowDownCircle,{className:"h-6 w-6 text-green-500"}):t.type==="withdrawal"?i.jsx(J.arrowUpCircle,{className:"h-6 w-6 text-red-500"}):i.jsx(J.creditCard,{className:"h-6 w-6 text-blue-500"})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"font-medium",children:t.type==="topup"?"Top Up":t.type==="send"?"Transfer":t.type}),i.jsx("p",{className:"text-sm text-gray-500",children:n(t.date)})]})]}),i.jsxs(jt,{className:`flex items-center gap-1 px-2 py-1 ${t.status==="success"?"bg-green-100 text-green-600":t.status==="pending"?"bg-yellow-100 text-yellow-600":"bg-red-100 text-red-600"}`,children:[t.status==="success"?i.jsx(J.check,{className:"h-4 w-4"}):t.status==="pending"?i.jsx(J.clock,{className:"h-4 w-4"}):i.jsx(J.activity,{className:"h-4 w-4"}),t.status==="success"?"Berhasil":t.status==="pending"?"Menunggu":"Gagal"]})]}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Jumlah"}),i.jsx("p",{className:"text-xl font-bold",children:r(t.amount)})]})]})}),t.type==="send"&&t.recipient&&i.jsx(Be,{className:"mx-4 my-4 shadow-sm",children:i.jsxs(Ce,{className:"p-4",children:[i.jsx("h3",{className:"font-bold mb-4",children:"Detail Penerima"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Nama"}),i.jsx("span",{className:"font-medium",children:t.recipient.name})]}),t.recipient.bankAccount&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Akun Bank"}),i.jsx("span",{children:t.recipient.bankAccount})]}),t.recipient.bankName&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Bank"}),i.jsx("span",{children:t.recipient.bankName})]})]})]})}),i.jsx(Be,{className:"mx-4 my-4 shadow-sm",children:i.jsxs(Ce,{className:"p-4",children:[i.jsx("h3",{className:"font-bold mb-4",children:"Detail Transaksi"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("span",{className:"text-gray-500",children:"ID Transaksi"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-right",children:a()}),i.jsx(z,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 ml-1",children:i.jsx(J.copy,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"ID Order Merchant"}),i.jsx("span",{children:t.merchantOrderId||o()})]}),i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("span",{className:"text-gray-500",children:"External Serial Number"}),i.jsx("div",{className:"text-right",children:i.jsx("span",{children:t.externalSerialNumber||s()})})]})]})]})})]}),i.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t",children:i.jsxs(z,{className:"w-full",size:"lg",children:[i.jsx(J.messageSquare,{className:"mr-2 h-5 w-5"}),"BUTUH BANTUAN?"]})})]})}const TU=[{id:"TRX-20250601-001",type:"send",amount:95e4,date:"2025-06-01T23:57:00",recipient:{name:"YOGA PRASETYA",bankAccount:"****0549",bankName:"Seabank Indonesia"},status:"success",description:"Kirim ke YOGA PRASETYA"},{id:"TRX-20250601-002",type:"topup",amount:25e4,date:"2025-06-01T23:38:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250601-003",type:"topup",amount:2e5,date:"2025-06-01T15:59:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250601-004",type:"topup",amount:5e5,date:"2025-06-01T15:58:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250528-001",type:"send",amount:2099e3,date:"2025-05-28T20:47:00",recipient:{name:"YOGA PRASETYA",bankAccount:"****0549",bankName:"Seabank Indonesia"},status:"success",description:"Kirim ke YOGA PRASETYA"},{id:"TRX-20250528-002",type:"topup",amount:2e5,date:"2025-05-28T20:28:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250528-003",type:"topup",amount:9e5,date:"2025-05-28T20:27:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250528-004",type:"topup",amount:9e5,date:"2025-05-28T20:26:00",status:"success",description:"Isi Saldo"}];function xEe(){Rt();const[t,e]=v.useState(""),[r,n]=v.useState([]),[a,s]=v.useState([]),[o,l]=v.useState(!0),[c,u]=v.useState(null),[A,d]=v.useState(!1),h=V.useMemo(()=>{const p={};return a.forEach(g=>{const m=new Date(g.date),b=`${m.getFullYear()}-${m.getMonth()}`;p[b]||(p[b]=[]),p[b].push(g)}),Object.entries(p).map(([g,m])=>{const[b,y]=g.split("-").map(Number),w=new Date(b,y),x=m.filter(C=>C.type==="send"||C.type==="payment"||C.type==="withdrawal").reduce((C,E)=>C+E.amount,0);return{monthName:vn(w,"MMMM yyyy",{locale:os}),transactions:m,totalOut:x}}).sort((g,m)=>{const b=new Date(g.transactions[0].date);return new Date(m.transactions[0].date).getTime()-b.getTime()})},[a]);v.useEffect(()=>{(async()=>{l(!0),await new Promise(g=>setTimeout(g,1e3)),n(TU),s(TU),l(!1)})()},[]),v.useEffect(()=>{if(t.trim()==="")s(r);else{const p=t.toLowerCase(),g=r.filter(m=>{var b;return m.id.toLowerCase().includes(p)||m.description.toLowerCase().includes(p)||((b=m.recipient)==null?void 0:b.name)&&m.recipient.name.toLowerCase().includes(p)});s(g)}},[t,r]);const f=p=>{const g=new Date(p);return vn(g,"dd MMM yyyy  HH:mm",{locale:os})};return i.jsxs(Jt,{children:[i.jsx(Us,{children:i.jsx("title",{children:"Aktivitas Transaksi - JPC Digi"})}),i.jsxs("div",{className:"bg-primary text-white p-4",children:[i.jsx("h1",{className:"text-xl font-bold mb-4",children:"Aktivitas"}),i.jsxs("div",{className:"relative mb-2",children:[i.jsx(he,{className:"bg-white pl-10",placeholder:"Cari kirim uang...",value:t,onChange:p=>e(p.target.value)}),i.jsx(J.search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsxs("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex space-x-1",children:[i.jsx(z,{variant:"ghost",size:"icon",className:"h-6 w-6 text-gray-400",children:i.jsx(J.sort,{className:"h-4 w-4"})}),i.jsx(z,{variant:"ghost",size:"icon",className:"h-6 w-6 text-gray-400",children:i.jsx(J.filter,{className:"h-4 w-4"})})]})]})]}),i.jsx("div",{className:"p-0",children:o?i.jsx("div",{className:"flex justify-center items-center py-20",children:i.jsx(J.spinner,{className:"h-8 w-8 animate-spin text-primary"})}):a.length===0?i.jsx("div",{className:"text-center py-12 text-muted-foreground",children:i.jsx("p",{children:"Tidak ada transaksi ditemukan"})}):i.jsx("div",{children:h.map((p,g)=>i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between items-center px-4 py-2 bg-gray-50",children:[i.jsx("h2",{className:"font-medium",children:p.monthName}),i.jsxs("div",{className:"text-right",children:[i.jsxs("span",{className:"text-red-500",children:["-",ye(p.totalOut)]}),i.jsx(J.chevronRight,{className:"inline-block ml-1 h-4 w-4 text-primary"})]})]}),i.jsx("div",{children:p.transactions.map(m=>{const b=m.type==="send"||m.type==="payment"||m.type==="withdrawal";return i.jsx("div",{className:"p-4 border-b cursor-pointer hover:bg-gray-50",onClick:()=>{u(m),d(!0)},children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"mr-3",children:m.type==="send"?i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(J.arrowUpFromLine,{className:"h-5 w-5 text-blue-500"})}):m.type==="topup"?i.jsx("div",{className:"h-10 w-10 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(J.plus,{className:"h-5 w-5 text-green-500"})}):i.jsx("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center",children:i.jsx(J.shopping,{className:"h-5 w-5 text-red-500"})})}),i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:m.description}),i.jsx("p",{className:"text-sm text-gray-500",children:f(m.date)})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:`font-medium ${b?"text-red-500":"text-green-500"}`,children:[b?"-":"+",ye(m.amount)]}),i.jsx("div",{className:"mt-1",children:i.jsx(z,{variant:"ghost",size:"sm",className:"h-6 p-0",children:i.jsx(J.trash,{className:"h-4 w-4 text-gray-400"})})})]})]})})]})},m.id)})})]},g))})}),i.jsx(vr,{open:A,onOpenChange:p=>d(p),children:i.jsxs(hr,{className:"max-w-md p-0 h-[85vh] overflow-y-auto",children:[i.jsx(Cr,{className:"sr-only",children:i.jsx(jr,{children:"Detail Transaksi"})}),c&&i.jsx(gEe,{transaction:c,onClose:()=>d(!1)})]})})]})}const vx={digiflazz:{useTestMode:!1},app:{transactionPrefix:"JPC-DIGI"}},sA="http://202.10.44.157:5173/netlify/functions/digiflazz-proxy",vEe=vx.app.transactionPrefix,Y2=()=>{const t=new Date().getTime(),e=Math.floor(Math.random()*1e3);return`${vEe}-${t}-${e}`};class yEe{async checkBalance(){try{return(await Ro.post(`${sA}/v1/cek-saldo`,{cmd:"deposit"})).data.data.deposit}catch(e){throw console.error("Error checking balance:",e),new Error("Failed to check balance")}}async getPriceList(e){try{let n=(await Ro.post(`${sA}/v1/price-list`,{cmd:"prepaid"})).data.data;return e&&(n=n.filter(a=>a.category.toLowerCase()===e.toLowerCase())),n}catch(r){throw console.error("Error fetching price list:",r),new Error("Failed to fetch price list")}}getOperatorFromPhoneNumber(e){const n=e.replace(/\D/g,"").substring(0,4);return["0811","0812","0813","0821","0822","0823"].includes(n)?"Telkomsel":["0817","0818","0819","0859","0877","0878"].includes(n)?"XL Axiata":["0851","0852","0853","0815","0816"].includes(n)?"Indosat Ooredoo":["0881","0882","0883","0884","0885","0886","0887","0888","0889"].includes(n)?"Smartfren":["0896","0897","0898","0899"].includes(n)?"Tri Indonesia":"Unknown"}async topupPrepaid(e,r,n=!1){try{const a=Y2(),s={buyer_sku_code:r,customer_no:e,ref_id:a,testing:n};return(await Ro.post(`${sA}/v1/transaction`,s)).data}catch(a){throw console.error("Error processing prepaid transaction:",a),new Error("Failed to process prepaid transaction")}}async inquiryPostpaid(e,r,n=!1){try{const a=Y2(),s={commands:"inq-pasca",customer_no:e,buyer_sku_code:r,ref_id:a,testing:n};return(await Ro.post(`${sA}/v1/transaction`,s)).data}catch(a){throw console.error("Error processing postpaid inquiry:",a),new Error("Failed to process postpaid inquiry")}}async payPostpaid(e,r,n,a=!1){try{const s={commands:"pay-pasca",customer_no:e,buyer_sku_code:r,ref_id:n,testing:a};return(await Ro.post(`${sA}/v1/transaction`,s)).data}catch(s){throw console.error("Error processing postpaid payment:",s),new Error("Failed to process postpaid payment")}}async checkTransactionStatus(e,r=!0){try{const n={ref_id:e,commands:"status-pasca"};return(await Ro.post(`${sA}/v1/transaction`,n)).data}catch(n){throw console.error("Error checking transaction status:",n),new Error("Failed to check transaction status")}}}const lc=new yEe;function bEe(){const[t,e]=v.useState([]),[r,n]=v.useState(!1),[a,s]=v.useState(null),[o,l]=v.useState(0),[c,u]=v.useState(null),A=v.useCallback(async y=>{try{n(!0),s(null);const w=await lc.getPriceList(y);return e(w),w}catch(w){const x=w instanceof Error?w.message:"Failed to fetch products";return s(x),[]}finally{n(!1)}},[]),d=v.useCallback(async()=>{try{n(!0),s(null);const y=await lc.checkBalance();return l(y),y}catch(y){const w=y instanceof Error?y.message:"Failed to fetch balance";return s(w),0}finally{n(!1)}},[]),h=v.useCallback(async(y,w,x=vx.digiflazz.useTestMode)=>{try{n(!0),s(null);const C=await lc.topupPrepaid(y,w,x);return u(C),C}catch(C){const E=C instanceof Error?C.message:"Failed to process transaction";throw s(E),new Error(E)}finally{n(!1)}},[]),f=v.useCallback(async(y,w,x=vx.digiflazz.useTestMode)=>{try{n(!0),s(null);const C=await lc.inquiryPostpaid(y,w,x);return u(C),C}catch(C){const E=C instanceof Error?C.message:"Failed to process inquiry";throw s(E),new Error(E)}finally{n(!1)}},[]),p=v.useCallback(async(y,w,x,C=vx.digiflazz.useTestMode)=>{try{n(!0),s(null);const E=await lc.payPostpaid(y,w,x,C);return u(E),E}catch(E){const B=E instanceof Error?E.message:"Failed to process payment";throw s(B),new Error(B)}finally{n(!1)}},[]),g=v.useCallback(async(y,w=!0)=>{try{n(!0),s(null);const x=await lc.checkTransactionStatus(y,w);return u(x),x}catch(x){const C=x instanceof Error?x.message:"Failed to check transaction status";throw s(C),new Error(C)}finally{n(!1)}},[]),m=v.useCallback(y=>lc.getOperatorFromPhoneNumber(y),[]),b=v.useCallback(()=>Y2(),[]);return{products:t,loading:r,error:a,balance:o,currentTransaction:c,fetchProducts:A,fetchBalance:d,processPrepaidTransaction:h,processPostpaidInquiry:f,processPostpaidPayment:p,checkTransactionStatus:g,getOperatorFromPhoneNumber:m,getNewRefId:b}}const rX=v.createContext({transactionHistory:[],addTransaction:()=>{},clearTransactions:()=>{},getTransactionById:()=>{}}),wEe=({children:t})=>{const[e,r]=v.useState([]),n=o=>{r(l=>[o,...l]);try{const l=localStorage.getItem("jpcDigi_transactions"),c=l?JSON.parse(l):[];c.unshift(o),c.length>100&&c.pop(),localStorage.setItem("jpcDigi_transactions",JSON.stringify(c))}catch(l){console.error("Error storing transaction in localStorage:",l)}},a=()=>{r([]),localStorage.removeItem("jpcDigi_transactions")},s=o=>e.find(l=>l.id===o);return V.useEffect(()=>{try{const o=localStorage.getItem("jpcDigi_transactions");o&&r(JSON.parse(o))}catch(o){console.error("Error loading transactions from localStorage:",o)}},[]),i.jsx(rX.Provider,{value:{transactionHistory:e,addTransaction:n,clearTransactions:a,getTransactionById:s},children:t})},_Ee=()=>v.useContext(rX),BEe=t=>{const e=t.product_name.match(/\d+/g),r=e?parseInt(e[0])>=1e3?`${Math.floor(parseInt(e[0])/1e3)}Rb`:e[0]:"",n=t.desc.match(/(\d+)\s*hari/i),a=n?`Masa Aktif ${n[0]}`:"Masa Aktif Sesuai Provider",s=Math.ceil(t.price*1.05),o=t.price<s;return{id:t.buyer_sku_code,nominal:r,description:t.product_name,price:t.price,originalPrice:o?s:void 0,validity:a,isPopular:t.stock>1e3||t.product_name.toLowerCase().includes("popular")}},IU=[];function CEe(){const t=Rt(),e=ma(),[r,n]=v.useState(""),[a,s]=v.useState(["0813 9458 6882","0822 6015 2977"]),[o,l]=v.useState("pulsa"),[c,u]=v.useState(null),[A,d]=v.useState(!1),[h,f]=v.useState(!1),[p,g]=v.useState(!1),[m,b]=v.useState("Telkomsel"),[y,w]=v.useState(IU),[x,C]=v.useState(IU),[E,B]=v.useState(null),j=bEe(),{addTransaction:N}=_Ee(),S=()=>i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white p-6 rounded-lg flex flex-col items-center",children:[i.jsx(er,{className:"h-8 w-8 animate-spin text-primary mb-2"}),i.jsx("p",{children:"Memproses pembayaran..."})]})}),k=R=>{const D=R.replace(/\D/g,"");let M="";for(let Q=0;Q<D.length;Q++)(Q===4||Q===8)&&(M+=" "),M+=D[Q];return M},I=R=>{const D=k(R.target.value);n(D);const M=D.replace(/\s/g,"").substring(0,4);["0811","0812","0813","0821","0822","0823"].includes(M)?b("Telkomsel"):["0817","0818","0819","0859","0877","0878"].includes(M)?b("XL Axiata"):["0851","0852","0853","0815","0816"].includes(M)?b("Indosat Ooredoo"):["0881","0882","0883","0884","0885","0886","0887","0888","0889"].includes(M)?b("Smartfren"):["0896","0897","0898","0899"].includes(M)?b("Tri Indonesia"):b("Unknown")},T=R=>{n(R)},O=R=>{u(R),d(!0)},U=async()=>{try{f(!0),B(null);const R=o==="pulsa"?"Pulsa":"Data",M=(await j.fetchProducts(R)).filter(Q=>{const L=r.replace(/\D/g,"");return m==="Telkomsel"?Q.brand.toLowerCase().includes("telkomsel"):m==="XL Axiata"?Q.brand.toLowerCase().includes("xl"):m==="Indosat Ooredoo"?Q.brand.toLowerCase().includes("indosat"):m==="Smartfren"?Q.brand.toLowerCase().includes("smartfren"):m==="Tri Indonesia"?Q.brand.toLowerCase().includes("tri")||Q.brand.toLowerCase().includes("3"):!0}).map(BEe);M.sort((Q,L)=>Q.price-L.price),o==="pulsa"?w(M):C(M)}catch(R){B(R instanceof Error?R.message:"Failed to fetch products"),me({variant:"destructive",title:"Error",description:"Failed to load products. Please try again."})}finally{f(!1)}},H=async()=>{var R;if(!(!c||!r))try{f(!0),B(null);const D=r.replace(/\D/g,""),M=await j.processPrepaidTransaction(D,c.id,!0);if(M&&M.data&&M.data.status==="success")N({id:M.data.ref_id||`tx-${Date.now()}`,type:"PPOB",subtype:o==="pulsa"?"Pulsa":"Data",amount:c.price,date:new Date().toISOString(),description:`${c.description} ${r}`,status:"success"}),g(!0),me({title:"Pembayaran Berhasil",description:`Pembelian ${c.description} untuk nomor ${r} telah berhasil.`});else throw new Error(((R=M.data)==null?void 0:R.message)||"Transaction failed")}catch(D){B(D instanceof Error?D.message:"Failed to process payment"),me({variant:"destructive",title:"Pembayaran Gagal",description:D instanceof Error?D.message:"Gagal memproses pembayaran. Silakan coba lagi."}),d(!1)}finally{f(!1)}};return v.useEffect(()=>{const D=new URLSearchParams(e.search).get("tab");if((D==="pulsa"||D==="data")&&l(D),r){const M=r.replace(/\s/g,"").substring(0,4);["0811","0812","0813","0821","0822","0823"].includes(M)?b("Telkomsel"):["0817","0818","0819","0859","0877","0878"].includes(M)?b("XL Axiata"):["0851","0852","0853","0815","0816"].includes(M)?b("Indosat Ooredoo"):["0881","0882","0883","0884","0885","0886","0887","0888","0889"].includes(M)?b("Smartfren"):["0896","0897","0898","0899"].includes(M)?b("Tri Indonesia"):b("Unknown")}},[e.search,r]),v.useEffect(()=>{r&&r.length>=4&&U()},[r,o]),v.useEffect(()=>{const R=new URLSearchParams(e.search);R.set("tab",o),t(`${e.pathname}?${R.toString()}`,{replace:!0})},[o,t,e.pathname,e.search]),i.jsxs(Jt,{children:[i.jsx(Us,{children:i.jsx("title",{children:"Pulsa & Data - JPC Digi"})}),i.jsxs("div",{className:"w-full max-w-xl mx-auto space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-primary text-white",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:()=>t("/ppob/dashboard"),className:"mr-3",children:i.jsx(J.chevronLeft,{className:"h-6 w-6"})}),i.jsx("h1",{className:"text-lg font-semibold",children:"Pulsa & Paket Data"})]}),i.jsx("button",{children:i.jsx(J.file,{className:"h-5 w-5"})})]}),i.jsxs("div",{className:"p-4 bg-white",children:[i.jsxs("div",{className:"bg-white rounded-lg mb-4",children:[i.jsxs("div",{className:"border-b border-gray-100 py-2 px-1",children:[i.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"NOMOR HP"}),i.jsx(he,{type:"tel",value:r,onChange:I,placeholder:"Masukkan nomor handphone",className:"border-none text-lg px-0 focus-visible:ring-0"})]}),r&&i.jsxs("div",{className:"py-2 px-1 flex items-center",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center mr-2",children:i.jsx(J.smartphone,{className:"h-4 w-4 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Provider"}),i.jsx("p",{className:"font-medium",children:m})]})]}),a.length>0&&i.jsxs("div",{className:"pt-2 pb-3",children:[i.jsx("p",{className:"text-sm text-gray-500 mb-2 px-1",children:"Nomor Tersimpan"}),i.jsx("div",{className:"flex flex-wrap gap-2 px-1",children:a.map((R,D)=>i.jsx("button",{onClick:()=>T(R),className:"px-3 py-1.5 bg-gray-100 rounded-lg text-sm hover:bg-gray-200 transition-colors",children:R},D))})]})]}),i.jsxs("div",{className:"flex space-x-4 mb-4",children:[i.jsx("button",{onClick:()=>l("pulsa"),className:`px-4 py-2 text-sm font-medium rounded-lg ${o==="pulsa"?"bg-primary text-white":"bg-gray-100 text-gray-700"}`,children:"Pulsa"}),i.jsx("button",{onClick:()=>l("data"),className:`px-4 py-2 text-sm font-medium rounded-lg ${o==="data"?"bg-primary text-white":"bg-gray-100 text-gray-700"}`,children:"Paket Data"})]}),j.loading?i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx(er,{className:"h-8 w-8 animate-spin text-primary"})}):E?i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[i.jsx(J.alertTriangle,{className:"h-8 w-8 text-destructive mb-2"}),i.jsx("h3",{className:"font-medium",children:"Error"}),i.jsx("p",{className:"text-sm text-gray-500",children:E}),i.jsx(z,{onClick:U,variant:"outline",size:"sm",className:"mt-4",children:"Try Again"})]}):i.jsx(i.Fragment,{children:o==="pulsa"?i.jsx("div",{className:"grid grid-cols-2 gap-4",children:y.length===0&&!j.loading?i.jsx("div",{className:"col-span-2 text-center p-4",children:i.jsx("p",{className:"text-gray-500",children:"Masukkan nomor HP untuk melihat pilihan pulsa"})}):y.map(R=>i.jsx(Be,{className:`cursor-pointer hover:border-primary transition-colors ${R.isPopular?"border-amber-400":""}`,onClick:()=>O(R),children:i.jsxs(Ce,{className:"p-4",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("div",{className:"font-semibold text-xl",children:R.nominal}),R.isPopular&&i.jsx("div",{className:"bg-amber-100 text-amber-800 text-xs px-2 py-0.5 rounded-full",children:"Popular"})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:R.description}),i.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:R.validity}),i.jsxs("div",{className:"mt-3",children:[R.originalPrice&&i.jsx("span",{className:"text-xs text-gray-400 line-through mr-2",children:ye(R.originalPrice)}),i.jsx("span",{className:"text-primary font-medium",children:ye(R.price)})]})]})},R.id))}):i.jsx("div",{className:"space-y-4",children:x.length===0&&!j.loading?i.jsx("div",{className:"text-center p-4",children:i.jsx("p",{className:"text-gray-500",children:"Masukkan nomor HP untuk melihat pilihan paket data"})}):x.map(R=>i.jsx(Be,{className:"cursor-pointer hover:border-primary transition-colors",onClick:()=>O(R),children:i.jsx(Ce,{className:"p-4",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:R.description}),i.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:R.validity})]}),i.jsx("div",{className:"text-primary font-medium",children:ye(R.price)})]})})},R.id))})})]})]}),i.jsx(vr,{open:A,onOpenChange:d,children:i.jsx(hr,{className:"sm:max-w-md",children:p?i.jsxs("div",{className:"flex flex-col items-center justify-center py-6 space-y-4",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(J.check,{className:"h-8 w-8 text-green-600"})}),i.jsx("h2",{className:"text-xl font-semibold text-center",children:"Pembayaran Berhasil!"}),i.jsxs("p",{className:"text-center text-gray-500",children:["Pembelian ",c==null?void 0:c.description," untuk nomor ",r," telah berhasil."]}),i.jsx(z,{className:"mt-4 w-full",onClick:()=>{d(!1),g(!1)},children:"Kembali"})]}):i.jsxs(i.Fragment,{children:[i.jsxs(Cr,{children:[i.jsx(jr,{children:"Konfirmasi Pembayaran"}),i.jsx(Rn,{children:"Pastikan nomor handphone dan produk yang dipilih sudah benar."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Nomor Handphone"}),i.jsx("span",{className:"font-medium",children:r})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Provider"}),i.jsx("span",{children:m})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Produk"}),i.jsx("span",{children:c==null?void 0:c.description})]})]}),i.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("span",{children:"Total Harga"}),i.jsx("span",{className:"text-amber-500",children:ye(c==null?void 0:c.price)})]})})]}),i.jsxs(yn,{className:"sm:justify-between",children:[i.jsx(z,{type:"button",variant:"outline",onClick:()=>d(!1),disabled:h,children:"Batal"}),i.jsx(z,{type:"button",onClick:H,disabled:h,children:h?i.jsxs(i.Fragment,{children:[i.jsx(J.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Bayar Sekarang"})]})]})})}),h&&i.jsx(S,{})]})}const PU=[{id:"acc1",name:"Yoga Prasetya",bank:"Seabank Indonesia",accountNumber:"1234567890",isRecent:!0},{id:"acc2",name:"Budi Santoso",bank:"Bank BCA",accountNumber:"9876543210",isRecent:!1},{id:"acc3",name:"Siti Nurhaliza",bank:"Bank Mandiri",accountNumber:"5678901234",isRecent:!0}],jEe=["Bank BCA","Bank Mandiri","Bank BNI","Bank BRI","Bank CIMB Niaga","Bank Permata","Bank Danamon","Seabank Indonesia","Bank Syariah Indonesia","Bank Jago"];function EEe(){const t=Rt(),[e,r]=v.useState("transfer"),[n,a]=v.useState(""),[s,o]=v.useState(""),[l,c]=v.useState(""),[u,A]=v.useState(""),[d,h]=v.useState(!1),[f,p]=v.useState(!1),[g,m]=v.useState(!1),b=B=>{const j=B.target.value.replace(/\D/g,"");a(j)},y=B=>{o(B.accountNumber),c(B.bank),A(B.name)},w=()=>{if(!n||parseInt(n)<1e4){alert("Minimal transfer Rp 10.000");return}if(!s||!l){alert("Mohon lengkapi data rekening tujuan");return}h(!0)},x=()=>{h(!1),m(!0),setTimeout(()=>{m(!1),p(!0)},2e3)},C=()=>n?ye(parseInt(n)):"",E=()=>{p(!1),t("/ppob/activity")};return i.jsxs(Jt,{children:[i.jsx(Us,{children:i.jsx("title",{children:"Kirim Uang - JPC Digi"})}),i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx("div",{className:"bg-primary text-white p-4",children:i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(z,{variant:"ghost",size:"icon",className:"text-white mr-2 p-0",onClick:()=>t("/ppob"),children:i.jsx(J.chevronLeft,{className:"h-6 w-6"})}),i.jsx("h1",{className:"text-xl font-bold",children:"Kirim Uang"})]})}),i.jsxs(ja,{defaultValue:"transfer",className:"w-full",onValueChange:r,children:[i.jsx("div",{className:"px-4 pt-2",children:i.jsxs(da,{className:"grid w-full grid-cols-2",children:[i.jsx(kt,{value:"transfer",children:"Transfer Bank"}),i.jsx(kt,{value:"ewallet",children:"E-Wallet"})]})}),i.jsx(Yt,{value:"transfer",className:"p-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"amount",children:"Jumlah"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"Rp"}),i.jsx(he,{id:"amount",type:"text",className:"pl-10",value:n,onChange:b,placeholder:"0"})]}),i.jsx("p",{className:"text-xs text-gray-500",children:"Minimal Rp 10.000"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"bank",children:"Bank Tujuan"}),i.jsxs(In,{value:l,onValueChange:c,children:[i.jsx(gn,{id:"bank",children:i.jsx(Pn,{placeholder:"Pilih bank"})}),i.jsx(xn,{children:jEe.map(B=>i.jsx(yt,{value:B,children:B},B))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"accountNumber",children:"Nomor Rekening"}),i.jsx(he,{id:"accountNumber",value:s,onChange:B=>o(B.target.value),placeholder:"Masukkan nomor rekening"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"recipientName",children:"Nama Penerima"}),i.jsx(he,{id:"recipientName",value:u,onChange:B=>A(B.target.value),placeholder:"Nama akan terisi otomatis",disabled:!s||s.length<8})]}),PU.length>0&&i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Rekening Tersimpan"}),i.jsx("div",{className:"space-y-2",children:PU.map(B=>i.jsxs("div",{className:"border rounded-lg p-3 flex justify-between items-center cursor-pointer hover:bg-gray-50",onClick:()=>y(B),children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:B.name}),i.jsxs("p",{className:"text-sm text-gray-500",children:[B.bank,"  ",B.accountNumber]})]}),B.isRecent&&i.jsx(jt,{variant:"outline",className:"text-xs",children:"Baru"})]},B.id))})]})]})}),i.jsx(Yt,{value:"ewallet",className:"p-4",children:i.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-gray-500",children:[i.jsx(J.wallet,{className:"h-12 w-12 mb-2 opacity-40"}),i.jsx("p",{children:"Fitur E-Wallet sedang dalam pengembangan"})]})})]}),i.jsx("div",{className:"mt-auto p-4 border-t",children:i.jsx(z,{className:"w-full",size:"lg",disabled:!n||!s||!l||e!=="transfer",onClick:w,children:"Lanjutkan"})})]}),i.jsx(vr,{open:d,onOpenChange:h,children:i.jsxs(hr,{className:"sm:max-w-md",children:[i.jsx(Cr,{children:i.jsx(jr,{children:"Konfirmasi Transfer"})}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:i.jsx("p",{className:"text-center text-2xl font-bold",children:C()})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-gray-500",children:"Bank"}),i.jsx("p",{className:"font-medium",children:l})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-gray-500",children:"Nomor Rekening"}),i.jsx("p",{className:"font-medium",children:s})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-gray-500",children:"Nama Penerima"}),i.jsx("p",{className:"font-medium",children:u})]}),i.jsx(Zn,{}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-gray-500",children:"Biaya Admin"}),i.jsx("p",{className:"font-medium",children:"Gratis"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"font-medium",children:"Total"}),i.jsx("p",{className:"font-bold",children:C()})]})]})]}),i.jsxs(yn,{children:[i.jsx(z,{variant:"outline",onClick:()=>h(!1),children:"Batal"}),i.jsx(z,{onClick:x,children:"Konfirmasi"})]})]})}),g&&i.jsx(vr,{open:!0,children:i.jsxs(hr,{className:"sm:max-w-md",children:[i.jsx(Cr,{children:i.jsx(jr,{children:"Memproses Transaksi"})}),i.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[i.jsx(J.spinner,{className:"h-12 w-12 animate-spin text-primary mb-4"}),i.jsx("p",{children:"Mohon tunggu, transaksi sedang diproses..."})]})]})}),i.jsx(vr,{open:f,onOpenChange:p,children:i.jsxs(hr,{className:"sm:max-w-md",children:[i.jsx(Cr,{children:i.jsx(jr,{children:"Transfer Berhasil"})}),i.jsx("div",{className:"space-y-4 py-4",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center mb-4",children:i.jsx(J.check,{className:"h-8 w-8 text-green-500"})}),i.jsx("p",{className:"text-center text-2xl font-bold",children:C()}),i.jsx("p",{className:"text-gray-500",children:"berhasil ditransfer ke"}),i.jsx("p",{className:"font-medium",children:u}),i.jsxs("p",{className:"text-sm text-gray-500",children:[l,"  ",s]})]})}),i.jsx(yn,{children:i.jsx(z,{className:"w-full",onClick:E,children:"Selesai"})})]})})]})}var PI="Avatar",[SEe,nHe]=Ea(PI),[NEe,nX]=SEe(PI),aX=v.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[a,s]=v.useState("idle");return i.jsx(NEe,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:s,children:i.jsx(et.span,{...n,ref:e})})});aX.displayName=PI;var sX="AvatarImage",iX=v.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...s}=t,o=nX(sX,r),l=kEe(n,s.referrerPolicy),c=Qr(u=>{a(u),o.onImageLoadingStatusChange(u)});return on(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(et.img,{...s,ref:e,src:n}):null});iX.displayName=sX;var oX="AvatarFallback",lX=v.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...a}=t,s=nX(oX,r),[o,l]=v.useState(n===void 0);return v.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&s.imageLoadingStatus!=="loaded"?i.jsx(et.span,{...a,ref:e}):null});lX.displayName=oX;function kEe(t,e){const[r,n]=v.useState("idle");return on(()=>{if(!t){n("error");return}let a=!0;const s=new window.Image,o=l=>()=>{a&&n(l)};return n("loading"),s.onload=o("loaded"),s.onerror=o("error"),s.src=t,e&&(s.referrerPolicy=e),()=>{a=!1}},[t,e]),r}var cX=aX,uX=iX,AX=lX;const Ol=v.forwardRef(({className:t,...e},r)=>i.jsx(cX,{ref:r,className:fe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Ol.displayName=cX.displayName;const vd=v.forwardRef(({className:t,...e},r)=>i.jsx(uX,{ref:r,className:fe("aspect-square h-full w-full",t),...e}));vd.displayName=uX.displayName;const Rl=v.forwardRef(({className:t,...e},r)=>i.jsx(AX,{ref:r,className:fe("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Rl.displayName=AX.displayName;const TEe=()=>{const t=Rt(),[e,r]=v.useState(""),[n,a]=v.useState(""),[s,o]=v.useState(""),[l,c]=v.useState("contacts"),[u,A]=v.useState(!1),[d,h]=v.useState(!1),[f,p]=v.useState(""),[g,m]=v.useState(!1),[b,y]=v.useState(""),w=[{id:"1",name:"Ahmad Firdaus",phone:"081234567890",image:"/placeholder.svg"},{id:"2",name:"Budi Santoso",phone:"081298765432",image:"/placeholder.svg"},{id:"3",name:"Citra Dewi",phone:"081345678901",image:"/placeholder.svg"},{id:"4",name:"Doni Prasetya",phone:"081456789012",image:"/placeholder.svg"}],x=E=>{const B=E.target.value.replace(/\D/g,"");if(B===""){r("");return}r(new Intl.NumberFormat("id-ID").format(parseInt(B)))},C=E=>{E.preventDefault(),A(!0),setTimeout(()=>{const B=`REQ${Date.now().toString().slice(-8)}`;p(B),y(`https://jpcdigi.com/ppob/pay-request/${B}`),A(!1),h(!0),setTimeout(()=>{(l==="link"||l==="qr")&&m(!0)},1500)},1500)};return i.jsxs(Jt,{children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 border-b border-gray-100",children:[i.jsx("button",{onClick:()=>t("/ppob/dashboard"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(J.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"Minta Dana"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Minta dana dari pengguna lain"})]}),i.jsx("div",{className:"ml-auto rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(J.file,{className:"h-5 w-5"})})]})}),i.jsxs("div",{className:"container max-w-md mx-auto px-4 py-6",children:[d?i.jsx(Be,{className:"border-none shadow-sm mb-6",children:i.jsxs(Ce,{className:"p-6 text-center",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(J.check,{className:"h-8 w-8 text-green-600"})})}),i.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Permintaan Terkirim!"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Permintaan dana telah dikirim dan menunggu pembayaran"}),i.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg mb-4",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Jumlah"}),i.jsxs("span",{className:"font-semibold",children:["Rp ",e]})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Tujuan"}),i.jsx("span",{className:"font-semibold",children:n||"Link Pembayaran"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"ID Permintaan"}),i.jsx("span",{className:"font-semibold",children:f})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(z,{variant:"outline",className:"w-full flex justify-center items-center",onClick:()=>t("/ppob/history"),children:[i.jsx(J.arrowLeft,{className:"mr-2 h-4 w-4"}),"Kembali ke Beranda"]}),i.jsxs(z,{className:"w-full flex justify-center items-center",onClick:()=>m(!0),children:[i.jsx(J.share,{className:"mr-2 h-4 w-4"}),"Bagikan Link Permintaan"]})]})]})}):i.jsxs(i.Fragment,{children:[i.jsx(Be,{className:"border-none shadow-sm mb-6",children:i.jsx(Ce,{className:"pt-6",children:i.jsx("form",{onSubmit:C,children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white rounded-xl shadow-sm p-5 mb-2",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Te,{htmlFor:"amount",className:"text-muted-foreground text-xs font-medium",children:"JUMLAH YANG DIMINTA"}),i.jsx("div",{className:"relative mt-3 mb-2",children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("span",{className:"text-3xl font-bold text-primary mr-1",children:"Rp"}),i.jsx(he,{id:"amount",placeholder:"0",className:"text-3xl font-bold text-center border-none shadow-none focus-visible:ring-0 w-[60%] h-14 bg-transparent px-0",value:e,onChange:x,required:!0})]})}),i.jsxs("div",{className:"flex justify-between text-xs mx-4",children:[i.jsx(jt,{variant:"outline",className:"text-primary border-primary/20 bg-primary/5",children:"Min: Rp10.000"}),i.jsx(jt,{variant:"outline",className:"text-primary border-primary/20 bg-primary/5",children:"Maks: Rp10.000.000"})]})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"notes",children:"Catatan (Opsional)"}),i.jsx(he,{id:"notes",placeholder:"Contoh: Bayar makan siang",value:s,onChange:E=>o(E.target.value)})]})]})})})}),i.jsxs(ja,{value:l,onValueChange:E=>c(E),className:"w-full",children:[i.jsxs(da,{className:"grid w-full grid-cols-3",children:[i.jsx(kt,{value:"contacts",children:"Kontak"}),i.jsx(kt,{value:"link",children:"Link"}),i.jsx(kt,{value:"qr",children:"QR Code"})]}),i.jsxs(Yt,{value:"contacts",className:"space-y-4 pt-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(Te,{htmlFor:"phone",className:"font-medium",children:"Nomor Telepon"}),i.jsx("span",{className:"text-xs text-primary",children:"Semua Kontak"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:i.jsx(J.phone,{className:"h-4 w-4 text-muted-foreground"})}),i.jsx(he,{id:"phone",placeholder:"Contoh: 081234567890",className:"pl-9 bg-muted/30",value:n,onChange:E=>a(E.target.value.replace(/\D/g,"")),required:!0})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Nomor telepon penerima permintaan dana"})]}),i.jsxs("div",{className:"bg-muted/20 rounded-lg p-3 mb-4",children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Nomor Tersimpan"}),i.jsx("div",{className:"grid grid-cols-1 gap-2",children:w.map(E=>i.jsxs("div",{onClick:()=>a(E.phone),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted cursor-pointer",children:[i.jsxs(Ol,{className:"h-10 w-10 border",children:[i.jsx(vd,{src:E.image,alt:E.name}),i.jsx(Rl,{children:E.name.substring(0,2)})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:E.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:E.phone})]}),i.jsx("div",{className:"w-5 h-5 rounded-full border border-primary flex items-center justify-center",children:n===E.phone&&i.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"})})]},E.id))})]}),i.jsx(z,{className:"w-full bg-primary hover:bg-primary/90",disabled:!e||!n||u,onClick:C,children:u?i.jsxs(i.Fragment,{children:[i.jsx(J.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Kirim Permintaan"})]}),i.jsx(Yt,{value:"link",className:"space-y-4 pt-4",children:i.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg text-center space-y-2",children:[i.jsx(J.link,{className:"h-12 w-12 mx-auto text-primary/50"}),i.jsx("h3",{className:"font-medium",children:"Bagikan Link Permintaan"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Buat link yang dapat dibagikan untuk menerima pembayaran"}),i.jsx(z,{className:"w-full",disabled:!e||u,onClick:C,children:u?i.jsxs(i.Fragment,{children:[i.jsx(J.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Buat Link Pembayaran"})]})}),i.jsx(Yt,{value:"qr",className:"space-y-4 pt-4",children:i.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg text-center space-y-2",children:[i.jsx(J.qrCode,{className:"h-12 w-12 mx-auto text-primary/50"}),i.jsx("h3",{className:"font-medium",children:"Buat QR Code Pembayaran"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Buat kode QR yang dapat dipindai untuk menerima pembayaran"}),i.jsx(z,{className:"w-full",disabled:!e||u,onClick:C,children:u?i.jsxs(i.Fragment,{children:[i.jsx(J.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Buat QR Code Pembayaran"})]})})]})]}),i.jsx(vr,{open:g,onOpenChange:m,children:i.jsxs(hr,{className:"sm:max-w-md",children:[i.jsxs(Cr,{children:[i.jsx(jr,{children:"Bagikan Permintaan"}),i.jsx(Rn,{children:"Bagikan link atau QR code permintaan dana kepada orang lain"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[l==="qr"?i.jsx("div",{className:"flex justify-center",children:i.jsxs("div",{className:"p-4 border-2 border-dashed border-muted-foreground/50 rounded-lg bg-white",children:[i.jsx(tX,{value:b,size:180}),i.jsxs("p",{className:"text-xs text-center mt-2",children:["Rp ",e]})]})}):i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{children:"Link Permintaan"}),i.jsxs("div",{className:"flex",children:[i.jsx(he,{value:b,readOnly:!0,className:"rounded-r-none"}),i.jsx(z,{className:"rounded-l-none",type:"button",onClick:()=>{navigator.clipboard.writeText(b),alert("Link permintaan disalin!")},children:i.jsx(J.copy,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{children:"Bagikan ke"}),i.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{icon:"messageSquare",name:"WhatsApp",color:"text-green-600"},{icon:"mail",name:"Email",color:"text-blue-600"},{icon:"wifi",name:"Facebook",color:"text-blue-800"},{icon:"copy",name:"Salin",color:"text-gray-600"}].map((E,B)=>{const j=J[E.icon];return i.jsxs(z,{variant:"outline",className:"h-auto py-3 flex flex-col items-center",children:[i.jsx(j,{className:`h-5 w-5 mb-1 ${E.color}`}),i.jsx("span",{className:"text-xs",children:E.name})]},B)})})]})]}),i.jsx(yn,{children:i.jsx(z,{variant:"outline",onClick:()=>{m(!1),t("/ppob/history")},children:"Selesai"})})]})})]})]})},IEe=[{id:1,amount:5e4},{id:2,amount:1e5},{id:3,amount:15e4},{id:4,amount:2e5},{id:5,amount:5e5},{id:6,amount:1e6}],FU=[{id:"bca",name:"BCA",logo:"/logos/bca.png",fallback:"BC"},{id:"mandiri",name:"Mandiri",logo:"/logos/mandiri.png",fallback:"MD"},{id:"bni",name:"BNI",logo:"/logos/bni.png",fallback:"BN"},{id:"bri",name:"BRI",logo:"/logos/bri.png",fallback:"BR"},{id:"gopay",name:"GoPay",logo:"/logos/gopay.png",fallback:"GP"},{id:"ovo",name:"OVO",logo:"/logos/ovo.png",fallback:"OV"}],PEe=()=>{var m;const t=Rt(),[e,r]=v.useState(""),[n,a]=v.useState(""),[s,o]=v.useState(""),[l,c]=v.useState(!1),[u,A]=v.useState(!1),[d,h]=v.useState(""),f=b=>{r(b.toString()),a(new Intl.NumberFormat("id-ID").format(b))},p=b=>{const y=b.target.value.replace(/\D/g,"");if(y===""){r(""),a("");return}r(y),a(new Intl.NumberFormat("id-ID").format(parseInt(y)))},g=()=>{!e||!s||(c(!0),setTimeout(()=>{const b=`TX${Date.now().toString().slice(-8)}`;h(b),c(!1),A(!0)},1500))};return i.jsxs(Jt,{children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 border-b border-gray-100",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(J.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"Top Up Saldo"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Isi Ulang Saldo Anda"})]}),i.jsx("div",{className:"ml-auto rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(J.file,{className:"h-5 w-5"})})]})}),i.jsxs("div",{className:"container max-w-md mx-auto px-4 py-6",children:[i.jsx(Be,{className:"border-none shadow-sm mb-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:i.jsx(Ce,{className:"p-4",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-xs opacity-80 mb-1",children:"Saldo Anda"}),i.jsx("span",{className:"text-2xl font-bold",children:"Rp2.500.000"})]})})}),i.jsxs(ja,{defaultValue:"amount",className:"mb-6",children:[i.jsxs(da,{className:"grid grid-cols-2 mb-4",children:[i.jsx(kt,{value:"amount",children:"Nominal"}),i.jsx(kt,{value:"payment",children:"Metode Pembayaran"})]}),i.jsx(Yt,{value:"amount",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white rounded-xl shadow-sm p-5 mb-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Te,{htmlFor:"customAmount",className:"text-muted-foreground text-xs font-medium",children:"JUMLAH TOP UP"}),i.jsx("div",{className:"relative mt-3 mb-2",children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("span",{className:"text-3xl font-bold text-primary mr-1",children:"Rp"}),i.jsx(he,{id:"customAmount",placeholder:"0",className:"text-3xl font-bold text-center border-none shadow-none focus-visible:ring-0 w-[60%] h-14 bg-transparent px-0",value:n,onChange:p})]})}),i.jsxs("div",{className:"flex justify-between text-xs mx-4",children:[i.jsx(jt,{variant:"outline",className:"text-primary border-primary/20 bg-primary/5",children:"Min: Rp10.000"}),i.jsx(jt,{variant:"outline",className:"text-primary border-primary/20 bg-primary/5",children:"Maks: Rp10.000.000"})]})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{className:"text-sm font-medium",children:"Pilih Nominal"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:IEe.map(b=>i.jsx(z,{type:"button",variant:e===b.amount.toString()?"default":"outline",className:fe("h-12 font-medium",e===b.amount.toString()?"bg-primary text-white":"border-gray-200 text-gray-700"),onClick:()=>f(b.amount),children:ye(b.amount)},b.id))})]}),i.jsx(z,{className:"w-full mt-4",size:"lg",disabled:!e,onClick:()=>{var b;(b=document.querySelector('[data-value="payment"]'))==null||b.dispatchEvent(new MouseEvent("click",{bubbles:!0}))},children:"Lanjutkan"})]})}),i.jsx(Yt,{value:"payment",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx(Be,{className:"border-none shadow-sm bg-muted/20 mb-4",children:i.jsx(Ce,{className:"p-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Jumlah Top Up"}),i.jsx("p",{className:"font-bold text-lg",children:ye(parseInt(e||"0"))})]}),i.jsx(z,{variant:"ghost",size:"sm",onClick:()=>{var b;(b=document.querySelector('[data-value="amount"]'))==null||b.dispatchEvent(new MouseEvent("click",{bubbles:!0}))},children:"Ubah"})]})})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{className:"text-sm font-medium",children:"Pilih Metode Pembayaran"}),i.jsx("div",{className:"grid gap-2",children:FU.map(b=>i.jsxs("div",{className:fe("flex items-center gap-3 p-3 rounded-lg border cursor-pointer",s===b.id?"border-primary bg-primary/5":"border-gray-200"),onClick:()=>o(b.id),children:[i.jsxs(Ol,{className:"h-10 w-10 border",children:[i.jsx(vd,{src:b.logo,alt:b.name}),i.jsx(Rl,{children:b.fallback})]}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-sm font-medium",children:b.name})}),i.jsx("div",{className:"w-5 h-5 rounded-full border border-primary flex items-center justify-center",children:s===b.id&&i.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"})})]},b.id))})]}),i.jsx(z,{className:"w-full mt-4",size:"lg",disabled:!s||!e||l,onClick:g,children:l?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(er,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Memproses..."})]}):`Bayar ${ye(parseInt(e||"0"))}`})]})})]}),i.jsx(vr,{open:u,onOpenChange:A,children:i.jsxs(hr,{className:"sm:max-w-md",children:[i.jsxs(Cr,{children:[i.jsx(jr,{className:"text-center",children:"Top Up Berhasil!"}),i.jsx(Rn,{className:"text-center",children:"Saldo Anda berhasil ditambahkan"})]}),i.jsx("div",{className:"flex justify-center py-6",children:i.jsx("div",{className:"h-20 w-20 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(J.check,{className:"h-10 w-10 text-green-600"})})}),i.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg mb-4",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Jumlah"}),i.jsx("span",{className:"font-semibold",children:ye(parseInt(e||"0"))})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Metode"}),i.jsx("span",{className:"font-semibold",children:((m=FU.find(b=>b.id===s))==null?void 0:m.name)||""})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"ID Transaksi"}),i.jsx("span",{className:"font-semibold",children:d})]})]}),i.jsx(yn,{children:i.jsx(z,{className:"w-full",onClick:()=>{A(!1),t("/ppob")},children:"Kembali ke Beranda"})})]})})]})]})},FEe=[{value:"20000",label:"Token 20rb",price:22500,desc:"Token Listrik 20.000 VA"},{value:"50000",label:"Token 50rb",price:51500,desc:"Token Listrik 50.000 VA"},{value:"100000",label:"Token 100rb",price:101500,desc:"Token Listrik 100.000 VA"},{value:"200000",label:"Token 200rb",price:201500,desc:"Token Listrik 200.000 VA"},{value:"500000",label:"Token 500rb",price:501500,desc:"Token Listrik 500.000 VA"},{value:"1000000",label:"Token 1jt",price:1001500,desc:"Token Listrik 1.000.000 VA"}],DU=[{id:"1",name:"Rumah Utama",number:"12345678901",address:"Jl. Kemang Raya No. 10"},{id:"2",name:"Apartemen",number:"23456789012",address:"Apartemen Sudirman Park Tower A/12"}],DEe=()=>{const t=Rt(),[e,r]=v.useState(""),[n,a]=v.useState(null),[s,o]=v.useState(null),[l,c]=v.useState(!1),[u,A]=v.useState(!1),[d,h]=v.useState(!1),[f,p]=v.useState(""),[g,m]=v.useState(""),b=()=>{!e||e.length<10||(c(!0),setTimeout(()=>{a({name:"Aga Tampan",address:"Jl. Gatot Subroto No. 12, Jakarta Selatan"}),c(!1)},1e3))},y=()=>{!e||!s||(A(!0),setTimeout(()=>{const w=Array(20).fill(0).map(()=>Math.floor(Math.random()*10)).join("");m(w);const x=`TX${Date.now().toString().slice(-8)}`;p(x),A(!1),h(!0)},1500))};return i.jsxs(Jt,{children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 border-b border-gray-100",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(J.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"Token Listrik"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Beli token listrik prabayar"})]}),i.jsx("div",{className:"ml-auto rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(J.file,{className:"h-5 w-5"})})]})}),i.jsx("div",{className:"container max-w-md mx-auto px-4 py-6",children:i.jsx(Be,{className:"border-none shadow-sm mb-6",children:i.jsx(Ce,{className:"pt-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(Te,{htmlFor:"meterNumber",className:"font-medium",children:"ID Pelanggan / Nomor Meter"}),n&&i.jsx(z,{variant:"ghost",size:"sm",className:"text-primary h-8 px-2",onClick:()=>{r(""),a(null),o(null)},children:"Ubah"})]}),n?i.jsx("div",{className:"bg-muted/20 p-4 rounded-lg",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(J.users,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:n.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:e}),i.jsx("p",{className:"text-xs text-muted-foreground",children:n.address})]})]})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:i.jsx(J.zap,{className:"h-4 w-4 text-muted-foreground"})}),i.jsx(he,{id:"meterNumber",placeholder:"Contoh: 12345678901",className:"pl-9 bg-muted/30",value:e,onChange:w=>r(w.target.value.replace(/\D/g,"")),disabled:l})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Masukkan nomor meter atau ID pelanggan PLN"}),DU.length>0&&i.jsxs("div",{className:"mt-4 bg-muted/20 rounded-lg p-3",children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Meter Tersimpan"}),i.jsx("div",{className:"grid grid-cols-1 gap-2",children:DU.map(w=>i.jsxs("div",{onClick:()=>r(w.number),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted cursor-pointer",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(J.zap,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:w.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:w.number})]}),i.jsx("div",{className:"w-5 h-5 rounded-full border border-primary flex items-center justify-center",children:e===w.number&&i.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"})})]},w.id))})]}),i.jsx("div",{className:"mt-4",children:i.jsx(z,{className:"w-full",disabled:e.length<10||l,onClick:b,children:l?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(er,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Memeriksa..."})]}):"Periksa Nomor Meter"})})]})]}),n&&i.jsxs("div",{className:"border-t pt-4 mt-4",children:[i.jsx("div",{className:"mb-3",children:i.jsx(Te,{className:"text-sm font-medium",children:"Pilih Nominal"})}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:FEe.map(w=>i.jsxs("div",{className:fe("border rounded-lg p-3 cursor-pointer transition-colors",s===w.value?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/50"),onClick:()=>o(w.value),children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("span",{className:"font-semibold",children:w.label}),s===w.value&&i.jsx("div",{className:"w-5 h-5 rounded-full bg-primary flex items-center justify-center",children:i.jsx(J.check,{className:"h-3 w-3 text-white"})})]}),i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:w.desc}),i.jsx("p",{className:"text-sm font-medium text-primary",children:ye(w.price)})]},w.value))}),i.jsx(z,{className:"w-full mt-6",size:"lg",disabled:!s||u,onClick:y,children:u?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(er,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Memproses..."})]}):"Beli Token"})]})]})})})}),i.jsx(vr,{open:d,onOpenChange:h,children:i.jsxs(hr,{className:"sm:max-w-md",children:[i.jsxs(Cr,{children:[i.jsx(jr,{className:"text-center",children:"Pembelian Berhasil!"}),i.jsx(Rn,{className:"text-center",children:"Token listrik berhasil dibeli"})]}),i.jsx("div",{className:"flex justify-center py-4",children:i.jsx("div",{className:"h-20 w-20 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(J.check,{className:"h-10 w-10 text-green-600"})})}),i.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg mb-4",children:[i.jsxs("div",{className:"flex flex-col items-center mb-4 bg-primary/10 p-3 rounded-lg",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Token Anda"}),i.jsx("p",{className:"font-mono text-xl font-bold tracking-wider",children:g})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Nomor Meter"}),i.jsx("span",{className:"font-semibold",children:e})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Nama"}),i.jsx("span",{className:"font-semibold",children:n==null?void 0:n.name})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Nominal"}),i.jsx("span",{className:"font-semibold",children:ye(parseInt(s||"0"))})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Admin"}),i.jsx("span",{className:"font-semibold",children:"Rp1.500"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"ID Transaksi"}),i.jsx("span",{className:"font-semibold",children:f})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(z,{variant:"outline",className:"flex-1",onClick:()=>{navigator.clipboard.writeText(g),alert("Token berhasil disalin!")},children:[i.jsx(J.copy,{className:"mr-2 h-4 w-4"}),"Salin Token"]}),i.jsx(z,{className:"flex-1",onClick:()=>{h(!1),t("/ppob")},children:"Selesai"})]})]})})]})},OU=[{id:"gopay",name:"GoPay",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/86/Gopay_logo.svg/180px-Gopay_logo.svg.png",color:"bg-blue-500",textColor:"text-blue-600",bgColor:"bg-blue-50"},{id:"ovo",name:"OVO",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/eb/Logo_ovo_purple.svg/180px-Logo_ovo_purple.svg.png",color:"bg-purple-500",textColor:"text-purple-600",bgColor:"bg-purple-50"},{id:"dana",name:"DANA",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/Logo_dana_blue.svg/180px-Logo_dana_blue.svg.png",color:"bg-blue-400",textColor:"text-blue-500",bgColor:"bg-blue-50"},{id:"linkaja",name:"LinkAja",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/85/LinkAja.svg/180px-LinkAja.svg.png",color:"bg-red-500",textColor:"text-red-600",bgColor:"bg-red-50"},{id:"shopeepay",name:"ShopeePay",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/ShopeePay_logo.svg/180px-ShopeePay_logo.svg.png",color:"bg-orange-500",textColor:"text-orange-600",bgColor:"bg-orange-50"}],K_=[{walletId:"dana",accountNumber:"081234567890",name:"Budi Santoso"},{walletId:"gopay",accountNumber:"081387654321",name:"Siti Rahayu"},{walletId:"ovo",accountNumber:"081598765432",name:"Ahmad Hidayat"}],OEe=()=>{var T,O,U,H,R,D;const t=Rt(),[e,r]=v.useState("transfer"),[n]=v.useState(75e4),[a,s]=v.useState(null),[o,l]=v.useState(""),[c,u]=v.useState(""),[A,d]=v.useState(!1),[h,f]=v.useState(!1),[p,g]=v.useState(""),[m,b]=v.useState(!1),[y,w]=v.useState(!1),[x,C]=v.useState(""),E=M=>{const Q=M.replace(/\D/g,"");return Q.length<=4?Q:Q.length<=7?`${Q.slice(0,4)}-${Q.slice(4)}`:Q.length<=10?`${Q.slice(0,4)}-${Q.slice(4,7)}-${Q.slice(7)}`:`${Q.slice(0,4)}-${Q.slice(4,7)}-${Q.slice(7,10)}-${Q.slice(10,13)}`},B=M=>{const Q=M.target.value.replace(/\D/g,"");l(Q),f(!1)},j=M=>{const Q=M.target.value.replace(/\D/g,"");u(Q)},N=()=>{o.length<10||!a||(d(!0),setTimeout(()=>{var M;g(((M=K_.find(Q=>Q.accountNumber.endsWith(o.slice(-8))&&Q.walletId===a))==null?void 0:M.name)||"User "+a.toUpperCase()),f(!0),d(!1)},1e3))},S=()=>{!h||!c||parseInt(c)<=0||(b(!0),setTimeout(()=>{const M=`EW${Date.now().toString().slice(-8)}`;C(M),b(!1),w(!0)},1500))},k=()=>{s(null),l(""),u(""),f(!1),g(""),w(!1)},I=M=>OU.find(Q=>Q.id===M);return i.jsxs(Jt,{children:[i.jsxs("div",{className:"bg-gradient-to-b from-indigo-600 to-indigo-800 text-white",children:[i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white/20",children:i.jsx(J.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"e-Wallet"}),i.jsx("p",{className:"text-xs text-white/70",children:"Transfer ke e-wallet lainnya"})]})]}),i.jsx("div",{className:"p-4",children:i.jsx(Be,{className:"bg-white/10 border-0 backdrop-blur-sm text-white",children:i.jsxs(Ce,{className:"p-4",children:[i.jsx("p",{className:"text-sm text-white/80",children:"Saldo Tersedia"}),i.jsx("h2",{className:"text-2xl font-bold",children:ye(n)}),i.jsx("p",{className:"text-xs text-white/70 mt-1",children:i.jsxs("span",{className:"inline-flex items-center",children:[i.jsx(J.clock,{className:"h-3 w-3 mr-1"}),"Terakhir diperbarui: ",new Date().toLocaleTimeString("id-ID")]})})]})})})]}),i.jsx("div",{className:"container max-w-md mx-auto px-4 py-6",children:i.jsxs(ja,{defaultValue:"transfer",className:"w-full",onValueChange:r,children:[i.jsxs(da,{className:"grid grid-cols-2 mb-4",children:[i.jsx(kt,{value:"transfer",children:"Transfer"}),i.jsx(kt,{value:"history",children:"Riwayat"})]}),i.jsx(Yt,{value:"transfer",className:"space-y-4",children:y?i.jsx(Be,{className:"border-none shadow-sm",children:i.jsxs(Ce,{className:"pt-6 px-6 pb-6 flex flex-col items-center",children:[i.jsx("div",{className:"h-20 w-20 rounded-full bg-green-100 flex items-center justify-center mb-4",children:i.jsx(J.check,{className:"h-10 w-10 text-green-600"})}),i.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Transfer Berhasil!"}),i.jsxs("p",{className:"text-sm text-muted-foreground mb-6",children:["Dana telah berhasil ditransfer ke ",(R=I(a))==null?void 0:R.name]}),i.jsxs("div",{className:"w-full bg-muted/30 p-4 rounded-lg space-y-3 mb-6",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Jumlah"}),i.jsx("span",{className:"text-sm font-medium",children:ye(parseInt(c))})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Penerima"}),i.jsx("span",{className:"text-sm font-medium",children:p})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"E-Wallet"}),i.jsx("span",{className:"text-sm font-medium",children:(D=I(a))==null?void 0:D.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Nomor Telepon"}),i.jsx("span",{className:"text-sm font-medium",children:E(o)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"ID Transaksi"}),i.jsx("span",{className:"text-sm font-medium",children:x})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Waktu"}),i.jsx("span",{className:"text-sm font-medium",children:new Date().toLocaleString("id-ID")})]})]}),i.jsxs("div",{className:"flex gap-3 w-full",children:[i.jsxs(z,{variant:"outline",className:"flex-1",onClick:k,children:[i.jsx(J.arrowRight,{className:"mr-2 h-4 w-4"}),"Transfer Lagi"]}),i.jsx(z,{className:"flex-1",onClick:()=>t("/ppob"),children:"Selesai"})]})]})}):i.jsx(i.Fragment,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Te,{className:"text-sm font-medium mb-2 block",children:"Pilih E-Wallet"}),i.jsx("div",{className:"grid grid-cols-3 gap-3",children:OU.map(M=>i.jsxs("div",{className:`border rounded-lg p-3 flex flex-col items-center cursor-pointer transition-all ${a===M.id?`border-2 border-primary ${M.bgColor}`:"border-gray-200 hover:border-gray-300"}`,onClick:()=>s(M.id),children:[i.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-1 ${a===M.id?M.bgColor:"bg-gray-100"}`,children:[a===M.id&&i.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-primary rounded-full flex items-center justify-center",children:i.jsx(J.check,{className:"h-3 w-3 text-white"})}),i.jsx("img",{src:M.logo,alt:M.name,className:"w-6 h-6 object-contain"})]}),i.jsx("span",{className:"text-xs font-medium",children:M.name})]},M.id))})]}),a&&i.jsx(Be,{className:"border-none shadow-sm",children:i.jsx(Ce,{className:"p-4 space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"phoneNumber",children:"Nomor Telepon"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:i.jsx(J.phone,{className:"h-4 w-4 text-muted-foreground"})}),i.jsx(he,{id:"phoneNumber",className:"pl-9",placeholder:"Contoh: 081234567890",value:E(o),onChange:B,disabled:h||A})]}),K_.length>0&&!h&&i.jsxs("div",{className:"mt-4",children:[i.jsx(Te,{className:"text-sm mb-2 block",children:"Tujuan Tersimpan"}),i.jsx("div",{className:"space-y-2",children:K_.filter(M=>M.walletId===a).map((M,Q)=>{var L,K,G,q;return i.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted cursor-pointer",onClick:()=>{l(M.accountNumber),N()},children:[i.jsx(Ol,{className:"h-9 w-9",children:i.jsx(Rl,{className:`${(L=I(M.walletId))==null?void 0:L.textColor} ${(K=I(M.walletId))==null?void 0:K.bgColor}`,children:M.name.substring(0,2).toUpperCase()})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:M.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:E(M.accountNumber)})]}),i.jsx(jt,{variant:"outline",className:`ml-auto ${(G=I(M.walletId))==null?void 0:G.textColor}`,children:(q=I(M.walletId))==null?void 0:q.name})]},Q)})})]}),!h&&o.length>=10&&i.jsx(z,{className:"w-full mt-2",onClick:N,disabled:A,children:A?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(er,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Memeriksa..."})]}):"Verifikasi Nomor"}),h&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-3 bg-muted/40 rounded-lg flex items-center gap-3 mt-2",children:[i.jsx(Ol,{className:"h-10 w-10",children:i.jsx(Rl,{className:`${(T=I(a))==null?void 0:T.textColor} ${(O=I(a))==null?void 0:O.bgColor}`,children:p.substring(0,2).toUpperCase()})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:p}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:E(o)}),i.jsx(jt,{variant:"outline",className:`${(U=I(a))==null?void 0:U.textColor} text-xs`,children:(H=I(a))==null?void 0:H.name})]})]}),i.jsx(z,{variant:"ghost",size:"sm",className:"ml-auto h-8 px-2",onClick:()=>{f(!1),l("")},children:"Ubah"})]}),i.jsxs("div",{className:"space-y-2 mt-4",children:[i.jsx(Te,{htmlFor:"amount",children:"Nominal Transfer"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 font-medium",children:"Rp"}),i.jsx(he,{id:"amount",className:"pl-9",placeholder:"0",value:c?parseInt(c).toLocaleString("id-ID"):"",onChange:j})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:[5e4,1e5,2e5,5e5].map(M=>i.jsx(z,{type:"button",variant:"outline",className:"flex-1 min-w-20",onClick:()=>u(M.toString()),children:ye(M)},M))})]}),i.jsx(z,{className:"w-full mt-4",size:"lg",disabled:!c||parseInt(c)<=0||parseInt(c)>n||m,onClick:S,children:m?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(er,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Memproses..."})]}):"Transfer Sekarang"}),parseInt(c)>n&&i.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Saldo Anda tidak mencukupi untuk melakukan transfer ini."})]})]})})})]})})}),i.jsx(Yt,{value:"history",className:"space-y-4",children:i.jsx(Be,{className:"border-none shadow-sm",children:i.jsxs(Ce,{className:"p-4",children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Riwayat Transfer E-Wallet"}),i.jsx("div",{className:"space-y-3",children:[{id:"EW20250603001",wallet:"dana",name:"Budi Santoso",phone:"081234567890",amount:1e5,date:new Date(2025,5,2)},{id:"EW20250602002",wallet:"gopay",name:"Siti Rahayu",phone:"081387654321",amount:5e4,date:new Date(2025,5,1)},{id:"EW20250601003",wallet:"ovo",name:"Ahmad Hidayat",phone:"081598765432",amount:75e3,date:new Date(2025,5,1)}].map((M,Q)=>{var L,K,G,q,W;return i.jsxs("div",{className:"border rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${(L=I(M.wallet))==null?void 0:L.bgColor}`,children:i.jsx("img",{src:(K=I(M.wallet))==null?void 0:K.logo,alt:(G=I(M.wallet))==null?void 0:G.name,className:"w-6 h-6 object-contain"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm font-medium",children:M.name}),i.jsxs("p",{className:"text-sm font-semibold text-red-600",children:["-",ye(M.amount)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:E(M.phone)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:M.date.toLocaleDateString("id-ID")})]})]})]}),i.jsxs("div",{className:"mt-2 pt-2 border-t flex justify-between items-center",children:[i.jsxs("span",{className:"text-xs text-muted-foreground",children:["ID: ",M.id]}),i.jsx(jt,{variant:"outline",className:(q=I(M.wallet))==null?void 0:q.textColor,children:(W=I(M.wallet))==null?void 0:W.name})]})]},Q)})})]})})})]})})]})},RU=[{id:"ml",name:"Mobile Legends",image:"https://play-lh.googleusercontent.com/ha7AWuJ9nlt3X5OgDI-HZkrZf0TjyuO6j6WnVcjbPHbhTVK9KTbdcKBQUDpzJqdJjA",publisher:"Moonton",category:"MOBA",items:[{id:"ml-1",name:"86 Diamonds",price:22e3,originalPrice:25e3,discount:!0},{id:"ml-2",name:"172 Diamonds",price:45e3,originalPrice:5e4,discount:!0},{id:"ml-3",name:"257 Diamonds",price:67e3,originalPrice:75e3,discount:!0},{id:"ml-4",name:"344 Diamonds",price:89e3,originalPrice:1e5,discount:!0},{id:"ml-5",name:"429 Diamonds",price:112e3,originalPrice:125e3,discount:!0},{id:"ml-6",name:"514 Diamonds",price:134e3,originalPrice:15e4,discount:!0},{id:"ml-7",name:"706 Diamonds",price:179e3,originalPrice:2e5,discount:!0},{id:"ml-8",name:"878 Diamonds",price:223e3,originalPrice:25e4,discount:!0},{id:"ml-9",name:"963 Diamonds",price:245e3,originalPrice:275e3,discount:!0},{id:"ml-10",name:"1050 Diamonds",price:268e3,originalPrice:3e5,discount:!0},{id:"ml-11",name:"Weekly Diamond Pass",price:28500,originalPrice:3e4,discount:!0},{id:"ml-12",name:"Starlight Member",price:149e3,originalPrice:149e3,discount:!1}]},{id:"ff",name:"Free Fire",image:"https://play-lh.googleusercontent.com/WWcssdzTZvx7Fc84lfMpZRvTUjqxUcKn3ANF5_XYOegQjbUQQdTmMvB8BtY_8VGcJQ",publisher:"Garena",category:"Battle Royale",items:[{id:"ff-1",name:"100 Diamonds",price:15e3,originalPrice:16e3,discount:!0},{id:"ff-2",name:"210 Diamonds",price:3e4,originalPrice:32e3,discount:!0},{id:"ff-3",name:"310 Diamonds",price:45e3,originalPrice:48e3,discount:!0},{id:"ff-4",name:"520 Diamonds",price:75e3,originalPrice:8e4,discount:!0},{id:"ff-5",name:"1060 Diamonds",price:15e4,originalPrice:16e4,discount:!0},{id:"ff-6",name:"2180 Diamonds",price:3e5,originalPrice:32e4,discount:!0},{id:"ff-7",name:"5600 Diamonds",price:75e4,originalPrice:8e5,discount:!0},{id:"ff-8",name:"Weekly Member",price:28500,originalPrice:3e4,discount:!0},{id:"ff-9",name:"Monthly Member",price:85e3,originalPrice:9e4,discount:!0}]},{id:"pubg",name:"PUBG Mobile",image:"https://play-lh.googleusercontent.com/JRd05pyBH41qjgsJuWduRJpDeZG0Hnb0yjf2nWqO7VaGKL10-G5UIygxED-WNOc3pg",publisher:"Tencent Games",category:"Battle Royale",items:[{id:"pubg-1",name:"60 UC",price:16e3,originalPrice:18e3,discount:!0},{id:"pubg-2",name:"300 UC",price:75e3,originalPrice:8e4,discount:!0},{id:"pubg-3",name:"600 UC",price:15e4,originalPrice:16e4,discount:!0},{id:"pubg-4",name:"1500 UC",price:375e3,originalPrice:4e5,discount:!0},{id:"pubg-5",name:"3000 UC",price:75e4,originalPrice:8e5,discount:!0},{id:"pubg-6",name:"6000 UC",price:149e4,originalPrice:16e5,discount:!0},{id:"pubg-7",name:"Royale Pass",price:14e4,originalPrice:15e4,discount:!0}]},{id:"genshin",name:"Genshin Impact",image:"https://play-lh.googleusercontent.com/So91qs_eRRvalz7JtGXvUJ7Nsg-A5Q3LL4_ifmEXNsj28Tj0R7jzMCjzqKYzWrEJC6Y",publisher:"miHoYo",category:"RPG",items:[{id:"gi-1",name:"60 Genesis Crystals",price:16e3,originalPrice:18e3,discount:!0},{id:"gi-2",name:"300+30 Genesis Crystals",price:8e4,originalPrice:85e3,discount:!0},{id:"gi-3",name:"980+110 Genesis Crystals",price:25e4,originalPrice:27e4,discount:!0},{id:"gi-4",name:"1980+260 Genesis Crystals",price:48e4,originalPrice:5e5,discount:!0},{id:"gi-5",name:"3280+600 Genesis Crystals",price:8e5,originalPrice:85e4,discount:!0},{id:"gi-6",name:"Blessing of the Welkin Moon",price:75e3,originalPrice:8e4,discount:!0},{id:"gi-7",name:"Battle Pass",price:14e4,originalPrice:15e4,discount:!0}]},{id:"valorant",name:"Valorant",image:"https://play-lh.googleusercontent.com/fzkfPfJPxX0zlNzPYrIMW63AuFWjaCFzzoF-EZzN8_5y8lye0hnHJmBJpz9gy7ICt4Q",publisher:"Riot Games",category:"FPS",items:[{id:"val-1",name:"420 Points",price:5e4,originalPrice:55e3,discount:!0},{id:"val-2",name:"700 Points",price:8e4,originalPrice:85e3,discount:!0},{id:"val-3",name:"1375 Points",price:15e4,originalPrice:16e4,discount:!0},{id:"val-4",name:"2400 Points",price:25e4,originalPrice:265e3,discount:!0},{id:"val-5",name:"4000 Points",price:4e5,originalPrice:425e3,discount:!0},{id:"val-6",name:"8150 Points",price:8e5,originalPrice:85e4,discount:!0}]},{id:"codm",name:"Call of Duty Mobile",image:"https://play-lh.googleusercontent.com/aUALUc_yfJwV1mZuUHgRyXYXcXUwUfZBZkoXtYzVOoOOFHDlYZhZ8dywSBRWrtBY-8w",publisher:"Activision",category:"FPS",items:[{id:"codm-1",name:"26 CP",price:5e3,originalPrice:5500,discount:!0},{id:"codm-2",name:"53 CP",price:1e4,originalPrice:11e3,discount:!0},{id:"codm-3",name:"106 CP",price:2e4,originalPrice:22e3,discount:!0},{id:"codm-4",name:"264 CP",price:5e4,originalPrice:55e3,discount:!0},{id:"codm-5",name:"528 CP",price:1e5,originalPrice:11e4,discount:!0},{id:"codm-6",name:"1056 CP",price:2e5,originalPrice:22e4,discount:!0},{id:"codm-7",name:"2640 CP",price:5e5,originalPrice:55e4,discount:!0},{id:"codm-8",name:"5280 CP",price:1e6,originalPrice:11e5,discount:!0}]}],REe=[{id:"all",name:"Semua"},{id:"moba",name:"MOBA"},{id:"battle-royale",name:"Battle Royale"},{id:"rpg",name:"RPG"},{id:"fps",name:"FPS"},{id:"strategy",name:"Strategy"},{id:"casual",name:"Casual"}],UEe=()=>{const t=Rt(),[e,r]=v.useState(null),[n,a]=v.useState(""),[s,o]=v.useState(null),[l,c]=v.useState("popular"),[u,A]=v.useState("all"),[d,h]=v.useState(""),[f,p]=v.useState(!1),[g,m]=v.useState(!1),[b,y]=v.useState(!1),[w,x]=v.useState(""),C=e?RU.find(k=>k.id===e):null,E=RU.filter(k=>{const I=d===""||k.name.toLowerCase().includes(d.toLowerCase())||k.publisher.toLowerCase().includes(d.toLowerCase()),T=u==="all"||k.category.toLowerCase()===u.toLowerCase();return I&&T}),B=k=>{r(k),a(""),o(null)},j=k=>{o(k),m(!0)},N=()=>{!s||!C||!n||(p(!0),setTimeout(()=>{const k=`GM${Date.now().toString().slice(-8)}`;x(k),p(!1),m(!1),y(!0)},2e3))},S=()=>i.jsxs("div",{className:"flex justify-center items-center py-4",children:[i.jsx(J.spinner,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("span",{className:"ml-2 text-sm font-medium",children:"Memproses..."})]});return i.jsxs(Jt,{children:[i.jsx("div",{className:"bg-gradient-to-b from-purple-600 to-purple-800 text-white",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white/20",children:i.jsx(J.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"Top Up Games"}),i.jsx("p",{className:"text-xs text-white/70",children:"Isi ulang kredit game favoritmu"})]})]})}),i.jsxs("div",{className:"container max-w-md mx-auto px-4 py-6",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(J.search,{className:"h-4 w-4 text-muted-foreground"})}),i.jsx(he,{type:"text",placeholder:"Cari game...",value:d,onChange:k=>h(k.target.value),className:"pl-10"})]}),e?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("button",{onClick:()=>r(null),className:"rounded-full w-8 h-8 flex items-center justify-center bg-muted",children:i.jsx(J.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden bg-muted",children:i.jsx("img",{src:C==null?void 0:C.image,alt:C==null?void 0:C.name,className:"object-cover w-full h-full"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-semibold",children:C==null?void 0:C.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:C==null?void 0:C.publisher})]})]})]}),i.jsx(Be,{className:"mb-4",children:i.jsxs(Ce,{className:"p-4 space-y-3",children:[i.jsx(Te,{htmlFor:"userId",children:"User ID"}),i.jsx(he,{id:"userId",placeholder:"Masukkan User ID",value:n,onChange:k=>a(k.target.value)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Pastikan User ID yang kamu masukkan sudah benar"})]})}),i.jsx("h3",{className:"font-semibold mb-3",children:"Pilih Nominal"}),i.jsx("div",{className:"grid grid-cols-2 gap-3 mb-6",children:C==null?void 0:C.items.map(k=>i.jsx(Be,{className:`overflow-hidden cursor-pointer hover:shadow-md transition-shadow ${(s==null?void 0:s.id)===k.id?"border-primary border-2":""}`,onClick:()=>j(k),children:i.jsxs(Ce,{className:"p-3",children:[i.jsx("h4",{className:"font-medium text-sm",children:k.name}),i.jsxs("div",{className:"mt-1",children:[i.jsx("p",{className:"font-semibold text-primary",children:ye(k.price)}),k.discount&&i.jsx("p",{className:"text-xs text-muted-foreground line-through",children:ye(k.originalPrice)})]}),k.discount&&i.jsxs(jt,{className:"mt-1 bg-green-100 text-green-700 hover:bg-green-100 text-xs",variant:"secondary",children:["Hemat ",ye(k.originalPrice-k.price)]})]})},k.id))})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-4 overflow-x-auto hide-scrollbar",children:i.jsx("div",{className:"flex space-x-2 pb-2",children:REe.map(k=>i.jsx(z,{variant:u===k.id?"default":"outline",size:"sm",onClick:()=>A(k.id),className:"whitespace-nowrap",children:k.name},k.id))})}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Game Populer"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:E.map(k=>i.jsx(Be,{className:"overflow-hidden cursor-pointer hover:shadow-md transition-shadow",onClick:()=>B(k.id),children:i.jsxs(Ce,{className:"p-3",children:[i.jsx("div",{className:"aspect-square rounded-lg overflow-hidden mb-2 bg-muted flex items-center justify-center",children:i.jsx("img",{src:k.image,alt:k.name,className:"object-cover w-full h-full"})}),i.jsx("h3",{className:"font-medium text-sm truncate",children:k.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:k.publisher}),i.jsx(jt,{variant:"outline",className:"mt-1 text-xs",children:k.category})]})},k.id))})]})]})]}),i.jsx(vr,{open:g,onOpenChange:m,children:i.jsxs(hr,{className:"sm:max-w-md",children:[i.jsx(Cr,{children:i.jsx(jr,{children:"Konfirmasi Pembayaran"})}),i.jsx("div",{className:"space-y-4 py-2",children:i.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsxs(Ol,{className:"h-10 w-10 rounded-lg",children:[i.jsx(vd,{src:C==null?void 0:C.image}),i.jsx(Rl,{className:"rounded-lg bg-primary/20",children:C==null?void 0:C.name.substring(0,2).toUpperCase()})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:C==null?void 0:C.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["User ID: ",n]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Item"}),i.jsx("span",{className:"text-sm font-medium",children:s==null?void 0:s.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Harga"}),i.jsx("span",{className:"text-sm font-medium",children:s?ye(s.price):"-"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Biaya Admin"}),i.jsx("span",{className:"text-sm font-medium",children:"Rp 0"})]}),i.jsx("div",{className:"pt-2 border-t mt-2",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"Total"}),i.jsx("span",{className:"text-sm font-bold text-primary",children:s?ye(s.price):"-"})]})})]})]})}),i.jsx(yn,{className:"flex flex-col gap-2",children:f?i.jsx(S,{}):i.jsxs(i.Fragment,{children:[i.jsx(z,{className:"w-full",onClick:N,disabled:!n||!s,children:"Bayar Sekarang"}),i.jsx(z,{variant:"outline",className:"w-full",onClick:()=>m(!1),children:"Batal"})]})})]})}),i.jsx(vr,{open:b,onOpenChange:y,children:i.jsx(hr,{className:"sm:max-w-md",children:i.jsxs("div",{className:"flex flex-col items-center text-center py-4",children:[i.jsx("div",{className:"h-20 w-20 rounded-full bg-green-100 flex items-center justify-center mb-4",children:i.jsx(J.check,{className:"h-10 w-10 text-green-600"})}),i.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Pembayaran Berhasil!"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Item game telah berhasil dibeli"}),i.jsxs("div",{className:"w-full bg-muted/30 p-4 rounded-lg space-y-3 mb-6 text-left",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Game"}),i.jsx("span",{className:"text-sm font-medium",children:C==null?void 0:C.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"User ID"}),i.jsx("span",{className:"text-sm font-medium",children:n})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Item"}),i.jsx("span",{className:"text-sm font-medium",children:s==null?void 0:s.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Jumlah"}),i.jsx("span",{className:"text-sm font-medium",children:s?ye(s.price):"-"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"ID Transaksi"}),i.jsx("span",{className:"text-sm font-medium",children:w})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Waktu"}),i.jsx("span",{className:"text-sm font-medium",children:new Date().toLocaleString("id-ID")})]})]}),i.jsxs("div",{className:"flex gap-3 w-full",children:[i.jsxs(z,{variant:"outline",className:"flex-1",onClick:()=>{y(!1),r(null)},children:[i.jsx(J.arrowRight,{className:"mr-2 h-4 w-4"}),"Top Up Lagi"]}),i.jsx(z,{className:"flex-1",onClick:()=>t("/ppob"),children:"Selesai"})]})]})})})]})},dX=async()=>{try{const{data:t,error:e}=await Z.from("ppob_services").select("*").order("created_at",{ascending:!0});if(e)throw e;return t||[]}catch(t){return console.error("Error fetching PPOB services:",t),[]}},UU={"Top Up":{bg:"#E3F2FD",icon:"#1976D2"},Tagihan:{bg:"#FFF3E0",icon:"#F57C00"},Investasi:{bg:"#E8F5E9",icon:"#388E3C"},Lainnya:{bg:"#F5F5F5",icon:"#757575"}},MEe=()=>{const t=Rt(),[e,r]=v.useState(!1),[n,a]=v.useState([]),[s,o]=v.useState(!0),[l,c]=v.useState(null);v.useEffect(()=>{r(!0),(async()=>{o(!0);try{const f=await dX();a(f),c(null)}catch(f){console.error("Error fetching PPOB services:",f),c("Failed to load services. Please try again later.")}finally{o(!1)}})()},[]);const u=n.reduce((h,f)=>{const p=f.category||"Lainnya";return h[p]||(h[p]=[]),h[p].push(f),h},{}),A=(h,f)=>{switch(h){case"wallet":return i.jsx(J.wallet,{className:f});case"smartphone":return i.jsx(J.smartphone,{className:f});case"wifi":return i.jsx(J.wifi,{className:f});case"globe":return i.jsx(J.package,{className:f});case"zap":return i.jsx(J.zap,{className:f});case"creditCard":return i.jsx(J.creditCard,{className:f});case"tv":return i.jsx(J.tv,{className:f});case"shield":return i.jsx(J.shield,{className:f});case"droplet":return i.jsx(J.droplet,{className:f});case"calculator":return i.jsx(J.barChart,{className:f});case"home":return i.jsx(J.home,{className:f});case"phone":return i.jsx(J.phone,{className:f});case"receipt":return i.jsx(J.file,{className:f});case"graduationCap":return i.jsx(J.file,{className:f});case"heart":return i.jsx(J.heart,{className:f});case"gift":return i.jsx(J.package,{className:f});case"banknote":return i.jsx(J.creditCard,{className:f});case"plus":return i.jsx(J.plus,{className:f});case"users":return i.jsx(J.users,{className:f});default:return i.jsx(J.bell,{className:f})}},d=h=>{t(h)};return s?i.jsxs(Jt,{children:[i.jsx(Us,{children:i.jsx("style",{children:`
              @keyframes fadeIn {
                from { opacity: 0; transform: translateY(10px); }
                to { opacity: 1; transform: translateY(0); }
              }
              @keyframes bounce {
                0%, 100% { transform: translateY(0); }
                50% { transform: translateY(-5px); }
              }
              @keyframes pulse {
                0% { transform: scale(1); }
                50% { transform: scale(1.05); }
                100% { transform: scale(1); }
              }
              .animate-item {
                animation: fadeIn 0.5s ease forwards;
                opacity: 0;
              }
              .service-icon:hover {
                animation: bounce 0.6s ease infinite;
              }
              .pulse-effect {
                animation: pulse 2s infinite ease-in-out;
              }
              .baru-badge {
                animation: pulse 1.5s infinite;
              }
            `})}),i.jsx("div",{className:"bg-white sticky top-0 z-10 border-b border-gray-100 shadow-sm",children:i.jsxs("div",{className:"flex items-center px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100 transition-all duration-200",children:i.jsx(J.chevronLeft,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold ml-4",children:"Semua Layanan "})]})}),i.jsx("div",{className:"pb-6 bg-gray-50 min-h-screen",children:i.jsx("div",{className:"flex justify-center items-center h-24",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]}):l?i.jsxs(Jt,{children:[i.jsx(Us,{children:i.jsx("style",{children:`
              @keyframes fadeIn {
                from { opacity: 0; transform: translateY(10px); }
                to { opacity: 1; transform: translateY(0); }
              }
              @keyframes bounce {
                0%, 100% { transform: translateY(0); }
                50% { transform: translateY(-5px); }
              }
              @keyframes pulse {
                0% { transform: scale(1); }
                50% { transform: scale(1.05); }
                100% { transform: scale(1); }
              }
              .animate-item {
                animation: fadeIn 0.5s ease forwards;
                opacity: 0;
              }
              .service-icon:hover {
                animation: bounce 0.6s ease infinite;
              }
              .pulse-effect {
                animation: pulse 2s infinite ease-in-out;
              }
              .baru-badge {
                animation: pulse 1.5s infinite;
              }
            `})}),i.jsx("div",{className:"bg-white sticky top-0 z-10 border-b border-gray-100 shadow-sm",children:i.jsxs("div",{className:"flex items-center px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100 transition-all duration-200",children:i.jsx(J.chevronLeft,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold ml-4",children:"Semua Layanan "})]})}),i.jsx("div",{className:"pb-6 bg-gray-50 min-h-screen",children:i.jsx("div",{className:"text-center text-red-500",children:l})})]}):i.jsxs(Jt,{children:[i.jsx(Us,{children:i.jsx("style",{children:`
            @keyframes fadeIn {
              from { opacity: 0; transform: translateY(10px); }
              to { opacity: 1; transform: translateY(0); }
            }
            @keyframes bounce {
              0%, 100% { transform: translateY(0); }
              50% { transform: translateY(-5px); }
            }
            @keyframes pulse {
              0% { transform: scale(1); }
              50% { transform: scale(1.05); }
              100% { transform: scale(1); }
            }
            .animate-item {
              animation: fadeIn 0.5s ease forwards;
              opacity: 0;
            }
            .service-icon:hover {
              animation: bounce 0.6s ease infinite;
            }
            .pulse-effect {
              animation: pulse 2s infinite ease-in-out;
            }
            .baru-badge {
              animation: pulse 1.5s infinite;
            }
          `})}),i.jsx("div",{className:"bg-white sticky top-0 z-10 border-b border-gray-100 shadow-sm",children:i.jsxs("div",{className:"flex items-center px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100 transition-all duration-200",children:i.jsx(J.chevronLeft,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold ml-4",children:"Semua Layanan "})]})}),i.jsx("div",{className:"pb-6 bg-gray-50 min-h-screen",children:Object.entries(u).map(([h,f])=>i.jsxs("div",{className:"mt-4 px-4",children:[i.jsx("h2",{className:"text-lg font-semibold mb-3",children:h}),i.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:i.jsx("div",{className:"grid grid-cols-4 gap-y-6",children:f.map((p,g)=>{var m,b;return i.jsxs("div",{className:fe("flex flex-col items-center relative animate-item",e?"":"opacity-0"),onClick:()=>d(p.route||"/ppob/generic"),style:{animationDelay:`${g*.07}s`},children:[i.jsxs("div",{className:fe("w-14 h-14 rounded-xl flex items-center justify-center mb-2 relative service-icon shadow-sm",p.color||((m=UU[h])==null?void 0:m.bg)||"#F5F5F5",p.is_new&&"pulse-effect"),children:[i.jsx("div",{className:p.icon_color||((b=UU[h])==null?void 0:b.icon)||"#757575",children:A(p.icon||"Box","h-6 w-6")}),p.is_new&&i.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[9px] px-1 rounded-full",children:"Baru"})]}),i.jsx("span",{className:"text-xs font-medium text-center max-w-[80px] leading-tight",children:p.name})]},p.id)})})})]},h))})]})},QEe=()=>{const t=Rt();return i.jsxs(Jt,{children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-600 to-blue-800 text-white",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white/20",children:i.jsx(J.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"Test Page"}),i.jsx("p",{className:"text-xs text-white/70",children:"Testing icon rendering"})]})]})}),i.jsxs("div",{className:"container max-w-md mx-auto px-4 py-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Available Icons"}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center mb-1",children:i.jsx(J.wallet,{className:"h-6 w-6 text-blue-600"})}),i.jsx("span",{className:"text-xs",children:"wallet"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-100 flex items-center justify-center mb-1",children:i.jsx(J.smartphone,{className:"h-6 w-6 text-green-600"})}),i.jsx("span",{className:"text-xs",children:"smartphone"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-100 flex items-center justify-center mb-1",children:i.jsx(J.zap,{className:"h-6 w-6 text-amber-600"})}),i.jsx("span",{className:"text-xs",children:"zap"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center mb-1",children:i.jsx(J.gamepad,{className:"h-6 w-6 text-blue-600"})}),i.jsx("span",{className:"text-xs",children:"gamepad"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-100 flex items-center justify-center mb-1",children:i.jsx(J.tv,{className:"h-6 w-6 text-red-600"})}),i.jsx("span",{className:"text-xs",children:"tv"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-100 flex items-center justify-center mb-1",children:i.jsx(J.shoppingCart,{className:"h-6 w-6 text-red-600"})}),i.jsx("span",{className:"text-xs",children:"shoppingCart"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center mb-1",children:i.jsx(J.menu,{className:"h-6 w-6 text-gray-600"})}),i.jsx("span",{className:"text-xs",children:"menu"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center mb-1",children:i.jsx(J.arrowRight,{className:"h-6 w-6 text-blue-600"})}),i.jsx("span",{className:"text-xs",children:"arrowRight"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-yellow-100 flex items-center justify-center mb-1",children:i.jsx(J.arrowRight,{className:"h-6 w-6 rotate-180 text-yellow-600"})}),i.jsx("span",{className:"text-xs",children:"arrowLeft (rotated)"})]})]}),i.jsx("div",{className:"mt-8",children:i.jsx(z,{onClick:()=>t("/ppob"),className:"w-full",children:"Back to Dashboard"})})]})]})},Xs=()=>{const t=Rt(),e=ma(),n=(e.pathname.split("/").pop()||"").split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ");return i.jsxs(Jt,{children:[i.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white shadow-sm sticky top-0 z-10",children:[i.jsx("button",{onClick:()=>t("/ppob/all"),className:"flex items-center justify-center w-10 h-10",children:i.jsx(J.arrowLeft,{className:"w-6 h-6"})}),i.jsx("h1",{className:"text-lg font-medium",children:n}),i.jsx("button",{className:"flex items-center justify-center w-10 h-10",children:i.jsx(J.bell,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex flex-col items-center justify-center p-6 mt-10",children:[i.jsx("div",{className:"w-20 h-20 flex items-center justify-center rounded-full bg-blue-100 mb-4",children:i.jsx(J.settings,{className:"w-10 h-10 text-blue-500"})}),i.jsxs("h2",{className:"text-xl font-semibold mb-2",children:["Layanan ",n]}),i.jsxs("p",{className:"text-gray-500 text-center mb-8",children:["Halaman ini sedang dalam pengembangan. Fitur ",n," akan segera tersedia."]}),i.jsx("button",{onClick:()=>t("/ppob/all"),className:"px-6 py-3 bg-primary text-white rounded-lg font-medium shadow-sm",children:"Kembali ke Layanan"})]})]})},LEe=[{id:"charcoal-fund-1",name:"JPC Arang Premium",type:"Arang Kayu Keras",riskLevel:"Sedang",returnRate:"9-12% p.a.",minAmount:1e6,manager:"JPC Asset Management",isPromoted:!0,description:"Investasi pada produksi arang kayu berkualitas tinggi untuk kuliner dan BBQ"},{id:"charcoal-fund-2",name:"JPC Arang Ekspor",type:"Arang Ekspor",riskLevel:"Sedang-Tinggi",returnRate:"10-14% p.a.",minAmount:2e6,manager:"JPC Asset Management",isPromoted:!1,description:"Fokus pada perusahaan ekspor arang kayu ke pasar internasional"},{id:"charcoal-fund-3",name:"JPC Arang Briket",type:"Briket Arang",riskLevel:"Tinggi",returnRate:"12-18% p.a.",minAmount:5e6,manager:"JPC Asset Management",isPromoted:!0,description:"Mengembangkan teknologi briket arang untuk efisiensi dan keberlanjutan"},{id:"charcoal-fund-4",name:"JPC Arang Berkelanjutan",type:"Arang Ramah Lingkungan",riskLevel:"Sedang",returnRate:"8-11% p.a.",minAmount:15e5,manager:"JPC Asset Management",isPromoted:!1,description:"Investasi pada perusahaan arang dengan praktik penanaman kembali dan keberlanjutan"}],HEe=[{id:"charcoal-bond-1",name:"Obligasi JPC Arang A",issuer:"JPC Arang Indonesia",minAmount:2e6,interestRate:8.5,period:"3 tahun",isPromoted:!0,description:"Obligasi korporasi untuk pengembangan fasilitas produksi arang kayu"},{id:"charcoal-bond-2",name:"Obligasi JPC Arang B",issuer:"JPC Arang Indonesia",minAmount:5e6,interestRate:9.25,period:"5 tahun",isPromoted:!1,description:"Pendanaan untuk modernisasi teknologi pembuatan arang berkualitas tinggi"},{id:"charcoal-bond-3",name:"Sukuk JPC Arang",issuer:"JPC Arang Syariah",minAmount:1e6,interestRate:7.5,period:"2 tahun",isPromoted:!0,description:"Instrumen keuangan syariah berbasis aset produksi arang kayu"},{id:"charcoal-bond-4",name:"Green Bond JPC Arang",issuer:"JPC Arang Indonesia",minAmount:3e6,interestRate:8,period:"4 tahun",isPromoted:!1,description:"Obligasi untuk pengembangan arang yang ramah lingkungan dan berkelanjutan"}],cc=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),$Ee=()=>{var g;const t=Rt(),[e,r]=v.useState("charcoalFund"),[n,a]=v.useState(null),[s,o]=v.useState(""),[l,c]=v.useState(!1),[u,A]=v.useState(!1),d=m=>{a(m)},h=m=>{const b=m.target.value.replace(/[^0-9]/g,"");o(b)},f=()=>{c(!1),A(!0)},p=()=>{a(null),o(""),A(!1)};return i.jsxs(Jt,{children:[i.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white shadow-sm sticky top-0 z-10",children:[i.jsx("button",{onClick:()=>t("/ppob/all"),className:"flex items-center justify-center w-10 h-10",children:i.jsx(J.arrowLeft,{className:"w-6 h-6"})}),i.jsx("h1",{className:"text-lg font-medium",children:"Investasi"}),i.jsx("button",{className:"flex items-center justify-center w-10 h-10",children:i.jsx(J.bell,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"mb-6 bg-gradient-to-r from-amber-800 to-stone-900 rounded-xl p-4 text-white",children:[i.jsx("h2",{className:"text-xl font-bold mb-1",children:"Investasi Arang Kayu JPC"}),i.jsx("p",{className:"text-sm mb-3",children:"Dapatkan keuntungan dari industri arang kayu premium dengan produk investasi kami"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(J.flame,{className:"w-5 h-5 text-amber-500"}),i.jsx("span",{className:"text-xs font-medium",children:"Potensi imbal hasil hingga 18% per tahun"})]})]}),i.jsxs(ja,{defaultValue:"charcoalFund",className:"w-full mb-4",onValueChange:r,children:[i.jsxs(da,{className:"grid w-full grid-cols-2",children:[i.jsx(kt,{value:"charcoalFund",children:"Dana Arang"}),i.jsx(kt,{value:"charcoalBond",children:"Obligasi Arang"})]}),i.jsx(Yt,{value:"charcoalFund",children:i.jsxs("div",{className:"grid gap-4 mt-4",children:[i.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Dana Arang adalah produk investasi yang berfokus pada sektor arang kayu premium dengan potensi pertumbuhan tinggi."}),i.jsx(hu,{className:"h-[450px] pr-3",children:LEe.map(m=>i.jsxs(Be,{className:`mb-4 relative ${(n==null?void 0:n.id)===m.id?"border-2 border-primary":""}`,onClick:()=>d(m),children:[i.jsx(ct,{className:"pb-2",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx(ut,{className:"text-base",children:m.name}),i.jsx(cr,{children:m.manager})]}),m.isPromoted&&i.jsx(jt,{className:"bg-amber-500",children:"Rekomendasi"})]})}),i.jsx(Ce,{className:"pb-2",children:i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Bunga"}),i.jsx("p",{className:"font-semibold text-green-600",children:m.returnRate})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Tingkat Risiko"}),i.jsx("p",{className:"font-semibold",children:m.riskLevel})]}),i.jsxs("div",{className:"col-span-2 mt-2",children:[i.jsx("p",{className:"text-gray-500",children:"Minimal Penempatan"}),i.jsx("p",{className:"font-semibold",children:cc(m.minAmount)})]})]})}),i.jsx(is,{children:i.jsx(z,{variant:"outline",className:"w-full",onClick:b=>{b.stopPropagation(),d(m),c(!0)},children:"Pilih Dana Arang"})})]},m.id))})]})}),i.jsx(Yt,{value:"charcoalBond",children:i.jsxs("div",{className:"grid gap-4 mt-4",children:[i.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Obligasi Arang adalah obligasi yang diterbitkan oleh perusahaan arang kayu dengan imbal hasil yang menarik."}),i.jsx(hu,{className:"h-[450px] pr-3",children:HEe.map(m=>i.jsxs(Be,{className:`mb-4 relative ${(n==null?void 0:n.id)===m.id?"border-2 border-primary":""}`,onClick:()=>d(m),children:[i.jsx(ct,{className:"pb-2",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx(ut,{className:"text-base",children:m.name}),i.jsx(cr,{children:m.issuer})]}),m.isPromoted&&i.jsx(jt,{className:"bg-amber-500",children:"Rekomendasi"})]})}),i.jsx(Ce,{className:"pb-2",children:i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Bunga"}),i.jsxs("p",{className:"font-semibold text-green-600",children:[m.interestRate,"% p.a."]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Jangka Waktu"}),i.jsx("p",{className:"font-semibold",children:m.period})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Penerbit"}),i.jsx("p",{className:"font-semibold",children:m.issuer})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Minimal Investasi"}),i.jsx("p",{className:"font-semibold",children:cc(m.minAmount)})]})]})}),i.jsx(is,{children:i.jsx(z,{variant:"outline",className:"w-full",onClick:b=>{b.stopPropagation(),d(m),c(!0)},children:"Pilih Obligasi Arang"})})]},m.id))})]})})]})]}),i.jsx(vr,{open:l,onOpenChange:c,children:i.jsxs(hr,{className:"max-w-md p-6",children:[i.jsxs(Cr,{children:[i.jsx(jr,{className:"text-center text-xl",children:"Konfirmasi Investasi"}),i.jsxs(Rn,{className:"text-center",children:[e==="deposito"?"Deposito":"Reksadana"," - ",n==null?void 0:n.name]})]}),i.jsxs("div",{className:"space-y-4 py-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"amount",children:"Jumlah Investasi"}),i.jsx(he,{id:"amount",placeholder:`Min. ${cc((n==null?void 0:n.minAmount)||0)}`,value:s?cc(parseInt(s)):"",onChange:h,className:"text-right"}),parseInt(s)<((n==null?void 0:n.minAmount)||0)&&s!==""&&i.jsxs("p",{className:"text-red-500 text-xs",children:["Jumlah investasi minimal ",cc((n==null?void 0:n.minAmount)||0)]})]}),e==="charcoalFund"&&i.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Jenis"}),i.jsx("span",{className:"font-semibold",children:n==null?void 0:n.type})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Tingkat Risiko"}),i.jsx("span",{className:"font-semibold",children:n==null?void 0:n.riskLevel})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Imbal Hasil"}),i.jsx("span",{className:"font-semibold text-green-600",children:n==null?void 0:n.returnRate})]}),s&&parseInt(s)>=((n==null?void 0:n.minAmount)||0)&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Estimasi Bunga"}),i.jsx("span",{className:"font-semibold text-green-600",children:e==="charcoalFund"?n==null?void 0:n.returnRate:cc(parseInt(s)*((n==null?void 0:n.interestRate)/100)*parseInt(((g=n==null?void 0:n.period)==null?void 0:g.split(" ")[0])||"1"))})]})]}),e==="charcoalBond"&&i.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Bunga"}),i.jsxs("span",{className:"font-semibold",children:[n==null?void 0:n.interestRate,"% p.a."]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Jangka Waktu"}),i.jsx("span",{className:"font-semibold",children:n==null?void 0:n.period})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Penerbit"}),i.jsx("span",{className:"font-semibold",children:n==null?void 0:n.issuer})]})]})]}),i.jsxs(yn,{className:"flex-col gap-2 sm:flex-col",children:[i.jsx(z,{className:"w-full",onClick:f,disabled:!s||parseInt(s)<((n==null?void 0:n.minAmount)||0),children:"Konfirmasi Investasi"}),i.jsx(z,{variant:"outline",className:"w-full",onClick:()=>c(!1),children:"Batal"})]})]})}),i.jsx(vr,{open:u,onOpenChange:A,children:i.jsx(hr,{className:"max-w-md p-6",children:i.jsxs("div",{className:"flex flex-col items-center text-center py-4",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center mb-4",children:i.jsx(J.check,{className:"h-8 w-8 text-green-600"})}),i.jsx(jr,{className:"text-xl mb-2",children:"Investasi Berhasil!"}),i.jsxs(Rn,{children:["Investasi ",e==="charcoalFund"?"Dana Arang":"Obligasi Arang"," ",n==null?void 0:n.name," sebesar ",cc(parseInt(s))," telah berhasil dilakukan."]}),i.jsxs("div",{className:"mt-6 w-full space-y-3",children:[i.jsx(z,{className:"w-full",onClick:()=>t("/ppob/activity"),children:"Lihat Transaksi"}),i.jsx(z,{variant:"outline",className:"w-full",onClick:p,children:"Investasi Lainnya"})]})]})})})]})};function VEe({children:t}){const{user:e,profile:r}=Hr(),{toast:n}=$s(),a=Rt(),[s,o]=v.useState(null),[l,c]=v.useState([]);return v.useEffect(()=>{(async()=>{try{if(!e||!r||r.role!=="admin"){console.log("Not an admin user, skipping notification setup");return}if(!AK()){console.log("This browser does not support notifications"),o(!1);return}try{if(Notification.permission==="granted")o(!0);else if(Notification.permission==="denied"){o(!1);return}}catch(d){console.error("Error accessing Notification API:",d),o(!1);return}const A=await l2(e.id);A?(console.log("FCM Token registered:",A),o(!0)):(console.log("Failed to get FCM token"),o(!1))}catch(A){console.error("Error setting up notifications:",A),o(!1)}})()},[e,r]),v.useEffect(()=>{if(!e||!s)return;const u=uK(rh),A=bme(u,d=>{console.log("Foreground message received:",d);const h=d.data;h&&h.type==="order"&&(c(p=>[h,...p]),n({title:h.title||"Pesanan Baru",description:h.message||"Ada pesanan baru dari pelanggan",variant:"default",action:i.jsx("button",{onClick:()=>a(`/admin/orders/${h.orderId}`),className:"px-3 py-2 bg-flame-500 text-white rounded-md text-xs",children:"Lihat"})}),new Audio("/sounds/new_order_sound.mp3").play().catch(p=>console.log("Error playing notification sound:",p)))});return()=>A()},[e,s,n,a]),i.jsx(i.Fragment,{children:t})}function On({children:t}){const e=ma(),{user:r,profile:n,logout:a}=Hr(),s=z2("/sounds/new_order_sound.mp3"),o=z2("/sounds/new_chat_message_sound.mp3");if(v.useEffect(()=>{if(!r||!n||n.role!=="admin"&&n.role!=="manager")return;const c=Z.channel("admin-new-orders").on("postgres_changes",{event:"INSERT",schema:"public",table:"orders"},u=>{console.log("New order received in AdminLayout:",u.new),s()}).subscribe((u,A)=>{u==="SUBSCRIBED"&&console.log("Subscribed to new orders in AdminLayout"),A&&console.error("Error subscribing to orders in AdminLayout:",A)});return()=>{Z.removeChannel(c)}},[r,n,s]),v.useEffect(()=>{if(!r||!n||n.role!=="admin"&&n.role!=="manager")return;const c=Z.channel("admin-new-chat-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},async u=>{const A=u.new;if(A.sender_type==="customer"&&A.session_id){const{data:d,error:h}=await Z.from("chat_sessions").select("admin_id, customer_id").eq("id",A.session_id).single();if(h){console.error("Error fetching session for new message notification:",h);return}const f=e.pathname===`/admin/chat/${d==null?void 0:d.customer_id}`;d&&(d.admin_id===r.id||d.admin_id===null)&&!f&&(console.log("New chat message for admin received in AdminLayout:",u.new),o())}}).subscribe((u,A)=>{u==="SUBSCRIBED"&&console.log("Subscribed to new chat messages in AdminLayout"),A&&console.error("Error subscribing to messages in AdminLayout:",A)});return()=>{Z.removeChannel(c)}},[r,n,o,e.pathname]),!r||!n||n.role!=="admin"&&n.role!=="manager")return i.jsx(Av,{to:"/admin-login",replace:!0});const l=[{icon:i.jsx(YH,{}),label:"Dashboard",path:"/admin"},{icon:i.jsx($te,{}),label:"Inventaris",path:"/admin/inventory"},{icon:i.jsx(to,{}),label:"Pengiriman",path:"/admin/shipping"},{icon:i.jsx(Nk,{}),label:"Chat",path:"/admin/chats"},{icon:i.jsx(Ik,{}),label:"Pengguna",path:"/admin/users"},{icon:i.jsx(cb,{}),label:"Pesanan",path:"/admin/orders"},{icon:i.jsx(Tk,{}),label:"Voucher",path:"/admin/vouchers"},{icon:i.jsx(rv,{}),label:"Broadcast",path:"/admin/broadcast"},{icon:i.jsx(WE,{}),label:"Analitik",path:"/admin/analytics"},{icon:i.jsx(n$,{}),label:"Pengaturan",path:"/admin/settings"},{icon:i.jsx(Ek,{}),label:"PPOB",path:"/admin/ppob"}];return i.jsx(VEe,{children:i.jsxs("div",{className:"flex h-screen bg-gray-100",children:[i.jsxs("div",{className:"hidden md:flex flex-col w-64 bg-white border-r",children:[i.jsx("div",{className:"flex items-center justify-center h-16 border-b",children:i.jsx("h2",{className:"text-xl font-semibold text-flame-500",children:"Panel Admin"})}),i.jsx("div",{className:"flex flex-col flex-1 overflow-y-auto",children:i.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:l.map(c=>i.jsxs(mt,{to:c.path,className:fe("flex items-center px-4 py-3 text-gray-600 hover:bg-gray-100 rounded-md",e.pathname===c.path&&"bg-flame-50 text-flame-600"),children:[i.jsx("span",{className:"mr-3",children:c.icon}),c.label]},c.path))})}),i.jsx("div",{className:"p-4 border-t",children:i.jsxs("button",{onClick:()=>a(),className:"flex w-full items-center px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-md",children:[i.jsx(Sk,{className:"mr-3"}),"Keluar"]})})]}),i.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-10 bg-white border-t overflow-x-auto",children:i.jsxs("div",{className:"flex min-w-full",children:[i.jsxs("div",{className:"grid grid-cols-4 w-full",children:[i.jsxs(mt,{to:l[0].path,className:fe("flex flex-col items-center py-2 px-1",e.pathname===l[0].path&&"text-flame-600"),children:[l[0].icon,i.jsx("span",{className:"text-xs mt-1",children:l[0].label})]},l[0].path),i.jsxs(mt,{to:l[1].path,className:fe("flex flex-col items-center py-2 px-1",e.pathname===l[1].path&&"text-flame-600"),children:[l[1].icon,i.jsx("span",{className:"text-xs mt-1",children:l[1].label})]},l[1].path),i.jsxs(mt,{to:l[2].path,className:fe("flex flex-col items-center py-2 px-1",e.pathname===l[2].path&&"text-flame-600"),children:[l[2].icon,i.jsx("span",{className:"text-xs mt-1",children:l[2].label})]},l[2].path),i.jsxs(mt,{to:l[3].path,className:fe("flex flex-col items-center py-2 px-1",e.pathname===l[3].path&&"text-flame-600"),children:[l[3].icon,i.jsx("span",{className:"text-xs mt-1",children:l[3].label})]},l[3].path)]}),i.jsxs("div",{className:"grid grid-cols-4 w-full",children:[i.jsxs(mt,{to:l[4].path,className:fe("flex flex-col items-center py-2 px-1",e.pathname===l[4].path&&"text-flame-600"),children:[l[4].icon,i.jsx("span",{className:"text-xs mt-1",children:l[4].label})]},l[4].path),i.jsxs(mt,{to:l[5].path,className:fe("flex flex-col items-center py-2 px-1",e.pathname===l[5].path&&"text-flame-600"),children:[l[5].icon,i.jsx("span",{className:"text-xs mt-1",children:l[5].label})]},l[5].path),i.jsxs(mt,{to:l[6].path,className:fe("flex flex-col items-center py-2 px-1",e.pathname===l[6].path&&"text-flame-600"),children:[l[6].icon,i.jsx("span",{className:"text-xs mt-1",children:l[6].label})]},l[6].path),i.jsxs(mt,{to:l[7].path,className:fe("flex flex-col items-center py-2 px-1",e.pathname===l[7].path&&"text-flame-600"),children:[l[7].icon,i.jsx("span",{className:"text-xs mt-1",children:l[7].label})]},l[7].path)]})]})}),i.jsx("div",{className:"flex flex-col flex-1 overflow-hidden",children:i.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-100 p-4 pb-16 md:pb-4",children:t})})]})})}var q_,MU;function Sa(){if(MU)return q_;MU=1;var t=Array.isArray;return q_=t,q_}var z_,QU;function hX(){if(QU)return z_;QU=1;var t=typeof Ec=="object"&&Ec&&Ec.Object===Object&&Ec;return z_=t,z_}var G_,LU;function Ei(){if(LU)return G_;LU=1;var t=hX(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return G_=r,G_}var W_,HU;function lg(){if(HU)return W_;HU=1;var t=Ei(),e=t.Symbol;return W_=e,W_}var X_,$U;function KEe(){if($U)return X_;$U=1;var t=lg(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function s(o){var l=r.call(o,a),c=o[a];try{o[a]=void 0;var u=!0}catch{}var A=n.call(o);return u&&(l?o[a]=c:delete o[a]),A}return X_=s,X_}var Y_,VU;function qEe(){if(VU)return Y_;VU=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Y_=r,Y_}var J_,KU;function xo(){if(KU)return J_;KU=1;var t=lg(),e=KEe(),r=qEe(),n="[object Null]",a="[object Undefined]",s=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?a:n:s&&s in Object(l)?e(l):r(l)}return J_=o,J_}var Z_,qU;function vo(){if(qU)return Z_;qU=1;function t(e){return e!=null&&typeof e=="object"}return Z_=t,Z_}var eB,zU;function oh(){if(zU)return eB;zU=1;var t=xo(),e=vo(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return eB=n,eB}var tB,GU;function FI(){if(GU)return tB;GU=1;var t=Sa(),e=oh(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,o){if(t(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return tB=a,tB}var rB,WU;function Kl(){if(WU)return rB;WU=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return rB=t,rB}var nB,XU;function DI(){if(XU)return nB;XU=1;var t=xo(),e=Kl(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",s="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==n||c==a||c==r||c==s}return nB=o,nB}var aB,YU;function zEe(){if(YU)return aB;YU=1;var t=Ei(),e=t["__core-js_shared__"];return aB=e,aB}var sB,JU;function GEe(){if(JU)return sB;JU=1;var t=zEe(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return sB=r,sB}var iB,ZU;function fX(){if(ZU)return iB;ZU=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return iB=r,iB}var oB,eM;function WEe(){if(eM)return oB;eM=1;var t=DI(),e=GEe(),r=Kl(),n=fX(),a=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,A=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(h){if(!r(h)||e(h))return!1;var f=t(h)?A:s;return f.test(n(h))}return oB=d,oB}var lB,tM;function XEe(){if(tM)return lB;tM=1;function t(e,r){return e==null?void 0:e[r]}return lB=t,lB}var cB,rM;function bu(){if(rM)return cB;rM=1;var t=WEe(),e=XEe();function r(n,a){var s=e(n,a);return t(s)?s:void 0}return cB=r,cB}var uB,nM;function yw(){if(nM)return uB;nM=1;var t=bu(),e=t(Object,"create");return uB=e,uB}var AB,aM;function YEe(){if(aM)return AB;aM=1;var t=yw();function e(){this.__data__=t?t(null):{},this.size=0}return AB=e,AB}var dB,sM;function JEe(){if(sM)return dB;sM=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return dB=t,dB}var hB,iM;function ZEe(){if(iM)return hB;iM=1;var t=yw(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(s){var o=this.__data__;if(t){var l=o[s];return l===e?void 0:l}return n.call(o,s)?o[s]:void 0}return hB=a,hB}var fB,oM;function eSe(){if(oM)return fB;oM=1;var t=yw(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var s=this.__data__;return t?s[a]!==void 0:r.call(s,a)}return fB=n,fB}var mB,lM;function tSe(){if(lM)return mB;lM=1;var t=yw(),e="__lodash_hash_undefined__";function r(n,a){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&a===void 0?e:a,this}return mB=r,mB}var pB,cM;function rSe(){if(cM)return pB;cM=1;var t=YEe(),e=JEe(),r=ZEe(),n=eSe(),a=tSe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,pB=s,pB}var gB,uM;function nSe(){if(uM)return gB;uM=1;function t(){this.__data__=[],this.size=0}return gB=t,gB}var xB,AM;function OI(){if(AM)return xB;AM=1;function t(e,r){return e===r||e!==e&&r!==r}return xB=t,xB}var vB,dM;function bw(){if(dM)return vB;dM=1;var t=OI();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return vB=e,vB}var yB,hM;function aSe(){if(hM)return yB;hM=1;var t=bw(),e=Array.prototype,r=e.splice;function n(a){var s=this.__data__,o=t(s,a);if(o<0)return!1;var l=s.length-1;return o==l?s.pop():r.call(s,o,1),--this.size,!0}return yB=n,yB}var bB,fM;function sSe(){if(fM)return bB;fM=1;var t=bw();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return bB=e,bB}var wB,mM;function iSe(){if(mM)return wB;mM=1;var t=bw();function e(r){return t(this.__data__,r)>-1}return wB=e,wB}var _B,pM;function oSe(){if(pM)return _B;pM=1;var t=bw();function e(r,n){var a=this.__data__,s=t(a,r);return s<0?(++this.size,a.push([r,n])):a[s][1]=n,this}return _B=e,_B}var BB,gM;function ww(){if(gM)return BB;gM=1;var t=nSe(),e=aSe(),r=sSe(),n=iSe(),a=oSe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,BB=s,BB}var CB,xM;function RI(){if(xM)return CB;xM=1;var t=bu(),e=Ei(),r=t(e,"Map");return CB=r,CB}var jB,vM;function lSe(){if(vM)return jB;vM=1;var t=rSe(),e=ww(),r=RI();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return jB=n,jB}var EB,yM;function cSe(){if(yM)return EB;yM=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return EB=t,EB}var SB,bM;function _w(){if(bM)return SB;bM=1;var t=cSe();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return SB=e,SB}var NB,wM;function uSe(){if(wM)return NB;wM=1;var t=_w();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return NB=e,NB}var kB,_M;function ASe(){if(_M)return kB;_M=1;var t=_w();function e(r){return t(this,r).get(r)}return kB=e,kB}var TB,BM;function dSe(){if(BM)return TB;BM=1;var t=_w();function e(r){return t(this,r).has(r)}return TB=e,TB}var IB,CM;function hSe(){if(CM)return IB;CM=1;var t=_w();function e(r,n){var a=t(this,r),s=a.size;return a.set(r,n),this.size+=a.size==s?0:1,this}return IB=e,IB}var PB,jM;function UI(){if(jM)return PB;jM=1;var t=lSe(),e=uSe(),r=ASe(),n=dSe(),a=hSe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,PB=s,PB}var FB,EM;function mX(){if(EM)return FB;EM=1;var t=UI(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var s=function(){var o=arguments,l=a?a.apply(this,o):o[0],c=s.cache;if(c.has(l))return c.get(l);var u=n.apply(this,o);return s.cache=c.set(l,u)||c,u};return s.cache=new(r.Cache||t),s}return r.Cache=t,FB=r,FB}var DB,SM;function fSe(){if(SM)return DB;SM=1;var t=mX(),e=500;function r(n){var a=t(n,function(o){return s.size===e&&s.clear(),o}),s=a.cache;return a}return DB=r,DB}var OB,NM;function mSe(){if(NM)return OB;NM=1;var t=fSe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var s=[];return a.charCodeAt(0)===46&&s.push(""),a.replace(e,function(o,l,c,u){s.push(c?u.replace(r,"$1"):l||o)}),s});return OB=n,OB}var RB,kM;function MI(){if(kM)return RB;kM=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,s=Array(a);++n<a;)s[n]=r(e[n],n,e);return s}return RB=t,RB}var UB,TM;function pSe(){if(TM)return UB;TM=1;var t=lg(),e=MI(),r=Sa(),n=oh(),a=t?t.prototype:void 0,s=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return s?s.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return UB=o,UB}var MB,IM;function pX(){if(IM)return MB;IM=1;var t=pSe();function e(r){return r==null?"":t(r)}return MB=e,MB}var QB,PM;function gX(){if(PM)return QB;PM=1;var t=Sa(),e=FI(),r=mSe(),n=pX();function a(s,o){return t(s)?s:e(s,o)?[s]:r(n(s))}return QB=a,QB}var LB,FM;function Bw(){if(FM)return LB;FM=1;var t=oh();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return LB=e,LB}var HB,DM;function QI(){if(DM)return HB;DM=1;var t=gX(),e=Bw();function r(n,a){a=t(a,n);for(var s=0,o=a.length;n!=null&&s<o;)n=n[e(a[s++])];return s&&s==o?n:void 0}return HB=r,HB}var $B,OM;function xX(){if(OM)return $B;OM=1;var t=QI();function e(r,n,a){var s=r==null?void 0:t(r,n);return s===void 0?a:s}return $B=e,$B}var gSe=xX();const ls=Wt(gSe);var VB,RM;function xSe(){if(RM)return VB;RM=1;function t(e){return e==null}return VB=t,VB}var vSe=xSe();const Ot=Wt(vSe);var KB,UM;function ySe(){if(UM)return KB;UM=1;var t=xo(),e=Sa(),r=vo(),n="[object String]";function a(s){return typeof s=="string"||!e(s)&&r(s)&&t(s)==n}return KB=a,KB}var bSe=ySe();const cg=Wt(bSe);var wSe=DI();const Pt=Wt(wSe);var _Se=Kl();const lh=Wt(_Se);var qB={exports:{}},tr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MM;function BSe(){if(MM)return tr;MM=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),p;p=Symbol.for("react.module.reference");function g(m){if(typeof m=="object"&&m!==null){var b=m.$$typeof;switch(b){case t:switch(m=m.type,m){case r:case a:case n:case u:case A:return m;default:switch(m=m&&m.$$typeof,m){case l:case o:case c:case h:case d:case s:return m;default:return b}}case e:return b}}}return tr.ContextConsumer=o,tr.ContextProvider=s,tr.Element=t,tr.ForwardRef=c,tr.Fragment=r,tr.Lazy=h,tr.Memo=d,tr.Portal=e,tr.Profiler=a,tr.StrictMode=n,tr.Suspense=u,tr.SuspenseList=A,tr.isAsyncMode=function(){return!1},tr.isConcurrentMode=function(){return!1},tr.isContextConsumer=function(m){return g(m)===o},tr.isContextProvider=function(m){return g(m)===s},tr.isElement=function(m){return typeof m=="object"&&m!==null&&m.$$typeof===t},tr.isForwardRef=function(m){return g(m)===c},tr.isFragment=function(m){return g(m)===r},tr.isLazy=function(m){return g(m)===h},tr.isMemo=function(m){return g(m)===d},tr.isPortal=function(m){return g(m)===e},tr.isProfiler=function(m){return g(m)===a},tr.isStrictMode=function(m){return g(m)===n},tr.isSuspense=function(m){return g(m)===u},tr.isSuspenseList=function(m){return g(m)===A},tr.isValidElementType=function(m){return typeof m=="string"||typeof m=="function"||m===r||m===a||m===n||m===u||m===A||m===f||typeof m=="object"&&m!==null&&(m.$$typeof===h||m.$$typeof===d||m.$$typeof===s||m.$$typeof===o||m.$$typeof===c||m.$$typeof===p||m.getModuleId!==void 0)},tr.typeOf=g,tr}var QM;function CSe(){return QM||(QM=1,qB.exports=BSe()),qB.exports}var vX=CSe(),zB,LM;function yX(){if(LM)return zB;LM=1;var t=xo(),e=vo(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return zB=n,zB}var GB,HM;function jSe(){if(HM)return GB;HM=1;var t=yX();function e(r){return t(r)&&r!=+r}return GB=e,GB}var ESe=jSe();const ug=Wt(ESe);var SSe=yX();const NSe=Wt(SSe);var Fs=function(e){return e===0?0:e>0?1:-1},Ic=function(e){return cg(e)&&e.indexOf("%")===e.length-1},De=function(e){return NSe(e)&&!ug(e)},sn=function(e){return De(e)||cg(e)},kSe=0,Ag=function(e){var r=++kSe;return"".concat(e||"").concat(r)},fu=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!De(e)&&!cg(e))return n;var s;if(Ic(e)){var o=e.indexOf("%");s=r*parseFloat(e.slice(0,o))/100}else s=+e;return ug(s)&&(s=n),a&&s>r&&(s=r),s},qo=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},TSe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},Ss=function(e,r){return De(e)&&De(r)?function(n){return e+n*(r-e)}:function(){return r}};function uy(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):ls(n,e))===r})}function IA(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function J2(t){"@babel/helpers - typeof";return J2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J2(t)}var ISe=["viewBox","children"],PSe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$M=["points","pathLength"],WB={svg:ISe,polygon:$M,polyline:$M},LI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ay=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),!lh(n))return null;var a={};return Object.keys(n).forEach(function(s){LI.includes(s)&&(a[s]=r||function(o){return n[s](n,o)})}),a},FSe=function(e,r,n){return function(a){return e(r,n,a),null}},dy=function(e,r,n){if(!lh(e)||J2(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(s){var o=e[s];LI.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=FSe(o,r,n))}),a},DSe=["children"],OSe=["children"];function VM(t,e){if(t==null)return{};var r=RSe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Z2(t){"@babel/helpers - typeof";return Z2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z2(t)}var KM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Yi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},qM=null,XB=null,HI=function t(e){if(e===qM&&Array.isArray(XB))return XB;var r=[];return v.Children.forEach(e,function(n){Ot(n)||(vX.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),XB=r,qM=e,r};function cs(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Yi(a)}):n=[Yi(e)],HI(t).forEach(function(a){var s=ls(a,"type.displayName")||ls(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Oa(t,e){var r=cs(t,e);return r&&r[0]}var zM=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!De(n)||n<=0||!De(a)||a<=0)},USe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],MSe=function(e){return e&&e.type&&cg(e.type)&&USe.indexOf(e.type)>=0},QSe=function(e){return e&&Z2(e)==="object"&&"clipDot"in e},LSe=function(e,r,n,a){var s,o=(s=WB==null?void 0:WB[a])!==null&&s!==void 0?s:[];return!Pt(e)&&(a&&o.includes(r)||PSe.includes(r))||n&&LI.includes(r)},Ht=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(v.isValidElement(e)&&(a=e.props),!lh(a))return null;var s={};return Object.keys(a).forEach(function(o){var l;LSe((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=a[o])}),s},eN=function t(e,r){if(e===r)return!0;var n=v.Children.count(e);if(n!==v.Children.count(r))return!1;if(n===0)return!0;if(n===1)return GM(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=e[a],o=r[a];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!GM(s,o))return!1}return!0},GM=function(e,r){if(Ot(e)&&Ot(r))return!0;if(!Ot(e)&&!Ot(r)){var n=e.props||{},a=n.children,s=VM(n,DSe),o=r.props||{},l=o.children,c=VM(o,OSe);return a&&l?IA(s,c)&&eN(a,l):!a&&!l?IA(s,c):!1}return!1},WM=function(e,r){var n=[],a={};return HI(e).forEach(function(s,o){if(MSe(s))n.push(s);else if(s){var l=Yi(s.type),c=r[l]||{},u=c.handler,A=c.once;if(u&&(!A||!a[l])){var d=u(s,l,o);n.push(d),a[l]=!0}}}),n},HSe=function(e){var r=e&&e.type;return r&&KM[r]?KM[r]:null},$Se=function(e,r){return HI(r).indexOf(e)},VSe=["children","width","height","viewBox","className","style","title","desc"];function tN(){return tN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tN.apply(this,arguments)}function KSe(t,e){if(t==null)return{};var r=qSe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rN(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,s=t.className,o=t.style,l=t.title,c=t.desc,u=KSe(t,VSe),A=a||{width:r,height:n,x:0,y:0},d=Gt("recharts-surface",s);return V.createElement("svg",tN({},Ht(u,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(A.x," ").concat(A.y," ").concat(A.width," ").concat(A.height)}),V.createElement("title",null,l),V.createElement("desc",null,c),e)}var zSe=["children","className"];function nN(){return nN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nN.apply(this,arguments)}function GSe(t,e){if(t==null)return{};var r=WSe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function WSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Kr=V.forwardRef(function(t,e){var r=t.children,n=t.className,a=GSe(t,zSe),s=Gt("recharts-layer",n);return V.createElement("g",nN({className:s},Ht(a,!0),{ref:e}),r)}),Ji=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]},YB,XM;function XSe(){if(XM)return YB;XM=1;function t(e,r,n){var a=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(s);++a<s;)o[a]=e[a+r];return o}return YB=t,YB}var JB,YM;function YSe(){if(YM)return JB;YM=1;var t=XSe();function e(r,n,a){var s=r.length;return a=a===void 0?s:a,!n&&a>=s?r:t(r,n,a)}return JB=e,JB}var ZB,JM;function bX(){if(JM)return ZB;JM=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+a+s+"]");function c(u){return l.test(u)}return ZB=c,ZB}var eC,ZM;function JSe(){if(ZM)return eC;ZM=1;function t(e){return e.split("")}return eC=t,eC}var tC,e5;function ZSe(){if(e5)return tC;e5=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,s="\\ufe0e\\ufe0f",o="["+t+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",A="[^"+t+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",f="\\u200d",p=u+"?",g="["+s+"]?",m="(?:"+f+"(?:"+[A,d,h].join("|")+")"+g+p+")*",b=g+p+m,y="(?:"+[A+l+"?",l,d,h,o].join("|")+")",w=RegExp(c+"(?="+c+")|"+y+b,"g");function x(C){return C.match(w)||[]}return tC=x,tC}var rC,t5;function e2e(){if(t5)return rC;t5=1;var t=JSe(),e=bX(),r=ZSe();function n(a){return e(a)?r(a):t(a)}return rC=n,rC}var nC,r5;function t2e(){if(r5)return nC;r5=1;var t=YSe(),e=bX(),r=e2e(),n=pX();function a(s){return function(o){o=n(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),u=l?t(l,1).join(""):o.slice(1);return c[s]()+u}}return nC=a,nC}var aC,n5;function r2e(){if(n5)return aC;n5=1;var t=t2e(),e=t("toUpperCase");return aC=e,aC}var n2e=r2e();const Cw=Wt(n2e);function _r(t){return function(){return t}}const wX=Math.cos,hy=Math.sin,zs=Math.sqrt,fy=Math.PI,jw=2*fy,aN=Math.PI,sN=2*aN,xc=1e-6,a2e=sN-xc;function _X(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function s2e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return _X;const r=10**e;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class i2e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?_X:s2e(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,s,o){this._append`C${+e},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(e,r,n,a,s){if(e=+e,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-e,u=a-r,A=o-e,d=l-r,h=A*A+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>xc)if(!(Math.abs(d*c-u*A)>xc)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let f=n-o,p=a-l,g=c*c+u*u,m=f*f+p*p,b=Math.sqrt(g),y=Math.sqrt(h),w=s*Math.tan((aN-Math.acos((g+h-m)/(2*b*y)))/2),x=w/y,C=w/b;Math.abs(x-1)>xc&&this._append`L${e+x*A},${r+x*d}`,this._append`A${s},${s},0,0,${+(d*f>A*p)},${this._x1=e+C*c},${this._y1=r+C*u}`}}arc(e,r,n,a,s,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,A=r+c,d=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${u},${A}`:(Math.abs(this._x1-u)>xc||Math.abs(this._y1-A)>xc)&&this._append`L${u},${A}`,n&&(h<0&&(h=h%sN+sN),h>a2e?this._append`A${n},${n},0,1,${d},${e-l},${r-c}A${n},${n},0,1,${d},${this._x1=u},${this._y1=A}`:h>xc&&this._append`A${n},${n},0,${+(h>=aN)},${d},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function $I(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new i2e(e)}function VI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function BX(t){this._context=t}BX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ew(t){return new BX(t)}function CX(t){return t[0]}function jX(t){return t[1]}function EX(t,e){var r=_r(!0),n=null,a=Ew,s=null,o=$I(l);t=typeof t=="function"?t:t===void 0?CX:_r(t),e=typeof e=="function"?e:e===void 0?jX:_r(e);function l(c){var u,A=(c=VI(c)).length,d,h=!1,f;for(n==null&&(s=a(f=o())),u=0;u<=A;++u)!(u<A&&r(d=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(d,u,c),+e(d,u,c));if(f)return s=null,f+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:_r(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:_r(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:_r(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function F0(t,e,r){var n=null,a=_r(!0),s=null,o=Ew,l=null,c=$I(u);t=typeof t=="function"?t:t===void 0?CX:_r(+t),e=typeof e=="function"?e:_r(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?jX:_r(+r);function u(d){var h,f,p,g=(d=VI(d)).length,m,b=!1,y,w=new Array(g),x=new Array(g);for(s==null&&(l=o(y=c())),h=0;h<=g;++h){if(!(h<g&&a(m=d[h],h,d))===b)if(b=!b)f=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=f;--p)l.point(w[p],x[p]);l.lineEnd(),l.areaEnd()}b&&(w[h]=+t(m,h,d),x[h]=+e(m,h,d),l.point(n?+n(m,h,d):w[h],r?+r(m,h,d):x[h]))}if(y)return l=null,y+""||null}function A(){return EX().defined(a).curve(o).context(s)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:_r(+d),n=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:_r(+d),u):t},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:_r(+d),u):n},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:_r(+d),r=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:_r(+d),u):e},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:_r(+d),u):r},u.lineX0=u.lineY0=function(){return A().x(t).y(e)},u.lineY1=function(){return A().x(t).y(r)},u.lineX1=function(){return A().x(n).y(e)},u.defined=function(d){return arguments.length?(a=typeof d=="function"?d:_r(!!d),u):a},u.curve=function(d){return arguments.length?(o=d,s!=null&&(l=o(s)),u):o},u.context=function(d){return arguments.length?(d==null?s=l=null:l=o(s=d),u):s},u}class SX{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function o2e(t){return new SX(t,!0)}function l2e(t){return new SX(t,!1)}const KI={draw(t,e){const r=zs(e/fy);t.moveTo(r,0),t.arc(0,0,r,0,jw)}},c2e={draw(t,e){const r=zs(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},NX=zs(1/3),u2e=NX*2,A2e={draw(t,e){const r=zs(e/u2e),n=r*NX;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},d2e={draw(t,e){const r=zs(e),n=-r/2;t.rect(n,n,r,r)}},h2e=.8908130915292852,kX=hy(fy/10)/hy(7*fy/10),f2e=hy(jw/10)*kX,m2e=-wX(jw/10)*kX,p2e={draw(t,e){const r=zs(e*h2e),n=f2e*r,a=m2e*r;t.moveTo(0,-r),t.lineTo(n,a);for(let s=1;s<5;++s){const o=jw*s/5,l=wX(o),c=hy(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},sC=zs(3),g2e={draw(t,e){const r=-zs(e/(sC*3));t.moveTo(0,r*2),t.lineTo(-sC*r,-r),t.lineTo(sC*r,-r),t.closePath()}},Ga=-.5,Wa=zs(3)/2,iN=1/zs(12),x2e=(iN/2+1)*3,v2e={draw(t,e){const r=zs(e/x2e),n=r/2,a=r*iN,s=n,o=r*iN+r,l=-s,c=o;t.moveTo(n,a),t.lineTo(s,o),t.lineTo(l,c),t.lineTo(Ga*n-Wa*a,Wa*n+Ga*a),t.lineTo(Ga*s-Wa*o,Wa*s+Ga*o),t.lineTo(Ga*l-Wa*c,Wa*l+Ga*c),t.lineTo(Ga*n+Wa*a,Ga*a-Wa*n),t.lineTo(Ga*s+Wa*o,Ga*o-Wa*s),t.lineTo(Ga*l+Wa*c,Ga*c-Wa*l),t.closePath()}};function y2e(t,e){let r=null,n=$I(a);t=typeof t=="function"?t:_r(t||KI),e=typeof e=="function"?e:_r(e===void 0?64:+e);function a(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:_r(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:_r(+s),a):e},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function my(){}function py(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function TX(t){this._context=t}TX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:py(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:py(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function b2e(t){return new TX(t)}function IX(t){this._context=t}IX.prototype={areaStart:my,areaEnd:my,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:py(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function w2e(t){return new IX(t)}function PX(t){this._context=t}PX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:py(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _2e(t){return new PX(t)}function FX(t){this._context=t}FX.prototype={areaStart:my,areaEnd:my,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function B2e(t){return new FX(t)}function a5(t){return t<0?-1:1}function s5(t,e,r){var n=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(n||a<0&&-0),o=(r-t._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(a5(s)+a5(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function i5(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function iC(t,e,r){var n=t._x0,a=t._y0,s=t._x1,o=t._y1,l=(s-n)/3;t._context.bezierCurveTo(n+l,a+l*e,s-l,o-l*r,s,o)}function gy(t){this._context=t}gy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:iC(this,this._t0,i5(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,iC(this,i5(this,r=s5(this,t,e)),r);break;default:iC(this,this._t0,r=s5(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function DX(t){this._context=new OX(t)}(DX.prototype=Object.create(gy.prototype)).point=function(t,e){gy.prototype.point.call(this,e,t)};function OX(t){this._context=t}OX.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,s){this._context.bezierCurveTo(e,t,n,r,s,a)}};function C2e(t){return new gy(t)}function j2e(t){return new DX(t)}function RX(t){this._context=t}RX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=o5(t),a=o5(e),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function o5(t){var e,r=t.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/s[e-1],s[e]-=n,o[e]-=n*o[e-1];for(a[r-1]=o[r-1]/s[r-1],e=r-2;e>=0;--e)a[e]=(o[e]-a[e+1])/s[e];for(s[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function E2e(t){return new RX(t)}function Sw(t,e){this._context=t,this._t=e}Sw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function S2e(t){return new Sw(t,.5)}function N2e(t){return new Sw(t,0)}function k2e(t){return new Sw(t,1)}function yd(t,e){if((o=t.length)>1)for(var r=1,n,a,s=t[e[0]],o,l=s.length;r<o;++r)for(a=s,s=t[e[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function oN(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function T2e(t,e){return t[e]}function I2e(t){const e=[];return e.key=t,e}function P2e(){var t=_r([]),e=oN,r=yd,n=T2e;function a(s){var o=Array.from(t.apply(this,arguments),I2e),l,c=o.length,u=-1,A;for(const d of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(d,o[l].key,u,s)]).data=d;for(l=0,A=VI(e(o));l<c;++l)o[A[l]].index=l;return r(o,A),o}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:_r(Array.from(s)),a):t},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:_r(+s),a):n},a.order=function(s){return arguments.length?(e=s==null?oN:typeof s=="function"?s:_r(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(r=s??yd,a):r},a}function F2e(t,e){if((n=t.length)>0){for(var r,n,a=0,s=t[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=t[r][a][1]||0;if(o)for(r=0;r<n;++r)t[r][a][1]/=o}yd(t,e)}}function D2e(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}yd(t,e)}}function O2e(t,e){if(!(!((o=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var A=t[e[l]],d=A[n][1]||0,h=A[n-1][1]||0,f=(d-h)/2,p=0;p<l;++p){var g=t[e[p]],m=g[n][1]||0,b=g[n-1][1]||0;f+=m-b}c+=d,u+=f*d}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,yd(t,e)}}function qm(t){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(t)}var R2e=["type","size","sizeType"];function lN(){return lN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lN.apply(this,arguments)}function l5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function c5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l5(Object(r),!0).forEach(function(n){U2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U2e(t,e,r){return e=M2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M2e(t){var e=Q2e(t,"string");return qm(e)=="symbol"?e:e+""}function Q2e(t,e){if(qm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L2e(t,e){if(t==null)return{};var r=H2e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function H2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var UX={symbolCircle:KI,symbolCross:c2e,symbolDiamond:A2e,symbolSquare:d2e,symbolStar:p2e,symbolTriangle:g2e,symbolWye:v2e},$2e=Math.PI/180,V2e=function(e){var r="symbol".concat(Cw(e));return UX[r]||KI},K2e=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*$2e;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},q2e=function(e,r){UX["symbol".concat(Cw(e))]=r},qI=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,s=a===void 0?64:a,o=e.sizeType,l=o===void 0?"area":o,c=L2e(e,R2e),u=c5(c5({},c),{},{type:n,size:s,sizeType:l}),A=function(){var m=V2e(n),b=y2e().type(m).size(K2e(s,l,n));return b()},d=u.className,h=u.cx,f=u.cy,p=Ht(u,!0);return h===+h&&f===+f&&s===+s?V.createElement("path",lN({},p,{className:Gt("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(f,")"),d:A()})):null};qI.registerSymbol=q2e;function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function cN(){return cN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cN.apply(this,arguments)}function u5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function z2e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u5(Object(r),!0).forEach(function(n){zm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W2e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QX(n.key),n)}}function X2e(t,e,r){return e&&W2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y2e(t,e,r){return e=xy(e),J2e(t,MX()?Reflect.construct(e,r||[],xy(t).constructor):e.apply(t,r))}function J2e(t,e){if(e&&(bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z2e(t)}function Z2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MX=function(){return!!t})()}function xy(t){return xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xy(t)}function eNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uN(t,e)}function uN(t,e){return uN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uN(t,e)}function zm(t,e,r){return e=QX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QX(t){var e=tNe(t,"string");return bd(e)=="symbol"?e:e+""}function tNe(t,e){if(bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xa=32,zI=function(t){function e(){return G2e(this,e),Y2e(this,e,arguments)}return eNe(e,t),X2e(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=Xa/2,o=Xa/6,l=Xa/3,c=n.inactive?a:n.color;if(n.type==="plainline")return V.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Xa,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return V.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Xa,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return V.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Xa/8,"h").concat(Xa,"v").concat(Xa*3/4,"h").concat(-Xa,"z"),className:"recharts-legend-icon"});if(V.isValidElement(n.legendIcon)){var u=z2e({},n);return delete u.legendIcon,V.cloneElement(n.legendIcon,u)}return V.createElement(qI,{fill:c,cx:s,cy:s,size:Xa,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,A={x:0,y:0,width:Xa,height:Xa},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(f,p){var g=f.formatter||c,m=Gt(zm(zm({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",f.inactive));if(f.type==="none")return null;var b=Pt(f.value)?null:f.value;Ji(!Pt(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=f.inactive?u:f.color;return V.createElement("li",cN({className:m,style:d,key:"legend-item-".concat(p)},dy(n.props,f,p)),V.createElement(rN,{width:o,height:o,viewBox:A,style:h},n.renderIcon(f)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g?g(b,f,p):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);zm(zI,"displayName","Legend");zm(zI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var oC,A5;function rNe(){if(A5)return oC;A5=1;var t=ww();function e(){this.__data__=new t,this.size=0}return oC=e,oC}var lC,d5;function nNe(){if(d5)return lC;d5=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return lC=t,lC}var cC,h5;function aNe(){if(h5)return cC;h5=1;function t(e){return this.__data__.get(e)}return cC=t,cC}var uC,f5;function sNe(){if(f5)return uC;f5=1;function t(e){return this.__data__.has(e)}return uC=t,uC}var AC,m5;function iNe(){if(m5)return AC;m5=1;var t=ww(),e=RI(),r=UI(),n=200;function a(s,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([s,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(s,o),this.size=l.size,this}return AC=a,AC}var dC,p5;function LX(){if(p5)return dC;p5=1;var t=ww(),e=rNe(),r=nNe(),n=aNe(),a=sNe(),s=iNe();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=s,dC=o,dC}var hC,g5;function oNe(){if(g5)return hC;g5=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return hC=e,hC}var fC,x5;function lNe(){if(x5)return fC;x5=1;function t(e){return this.__data__.has(e)}return fC=t,fC}var mC,v5;function HX(){if(v5)return mC;v5=1;var t=UI(),e=oNe(),r=lNe();function n(a){var s=-1,o=a==null?0:a.length;for(this.__data__=new t;++s<o;)this.add(a[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,mC=n,mC}var pC,y5;function $X(){if(y5)return pC;y5=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return pC=t,pC}var gC,b5;function VX(){if(b5)return gC;b5=1;function t(e,r){return e.has(r)}return gC=t,gC}var xC,w5;function KX(){if(w5)return xC;w5=1;var t=HX(),e=$X(),r=VX(),n=1,a=2;function s(o,l,c,u,A,d){var h=c&n,f=o.length,p=l.length;if(f!=p&&!(h&&p>f))return!1;var g=d.get(o),m=d.get(l);if(g&&m)return g==l&&m==o;var b=-1,y=!0,w=c&a?new t:void 0;for(d.set(o,l),d.set(l,o);++b<f;){var x=o[b],C=l[b];if(u)var E=h?u(C,x,b,l,o,d):u(x,C,b,o,l,d);if(E!==void 0){if(E)continue;y=!1;break}if(w){if(!e(l,function(B,j){if(!r(w,j)&&(x===B||A(x,B,c,u,d)))return w.push(j)})){y=!1;break}}else if(!(x===C||A(x,C,c,u,d))){y=!1;break}}return d.delete(o),d.delete(l),y}return xC=s,xC}var vC,_5;function cNe(){if(_5)return vC;_5=1;var t=Ei(),e=t.Uint8Array;return vC=e,vC}var yC,B5;function uNe(){if(B5)return yC;B5=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,s){n[++r]=[s,a]}),n}return yC=t,yC}var bC,C5;function GI(){if(C5)return bC;C5=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return bC=t,bC}var wC,j5;function ANe(){if(j5)return wC;j5=1;var t=lg(),e=cNe(),r=OI(),n=KX(),a=uNe(),s=GI(),o=1,l=2,c="[object Boolean]",u="[object Date]",A="[object Error]",d="[object Map]",h="[object Number]",f="[object RegExp]",p="[object Set]",g="[object String]",m="[object Symbol]",b="[object ArrayBuffer]",y="[object DataView]",w=t?t.prototype:void 0,x=w?w.valueOf:void 0;function C(E,B,j,N,S,k,I){switch(j){case y:if(E.byteLength!=B.byteLength||E.byteOffset!=B.byteOffset)return!1;E=E.buffer,B=B.buffer;case b:return!(E.byteLength!=B.byteLength||!k(new e(E),new e(B)));case c:case u:case h:return r(+E,+B);case A:return E.name==B.name&&E.message==B.message;case f:case g:return E==B+"";case d:var T=a;case p:var O=N&o;if(T||(T=s),E.size!=B.size&&!O)return!1;var U=I.get(E);if(U)return U==B;N|=l,I.set(E,B);var H=n(T(E),T(B),N,S,k,I);return I.delete(E),H;case m:if(x)return x.call(E)==x.call(B)}return!1}return wC=C,wC}var _C,E5;function qX(){if(E5)return _C;E5=1;function t(e,r){for(var n=-1,a=r.length,s=e.length;++n<a;)e[s+n]=r[n];return e}return _C=t,_C}var BC,S5;function dNe(){if(S5)return BC;S5=1;var t=qX(),e=Sa();function r(n,a,s){var o=a(n);return e(n)?o:t(o,s(n))}return BC=r,BC}var CC,N5;function hNe(){if(N5)return CC;N5=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,s=0,o=[];++n<a;){var l=e[n];r(l,n,e)&&(o[s++]=l)}return o}return CC=t,CC}var jC,k5;function fNe(){if(k5)return jC;k5=1;function t(){return[]}return jC=t,jC}var EC,T5;function mNe(){if(T5)return EC;T5=1;var t=hNe(),e=fNe(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(o){return o==null?[]:(o=Object(o),t(a(o),function(l){return n.call(o,l)}))}:e;return EC=s,EC}var SC,I5;function pNe(){if(I5)return SC;I5=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return SC=t,SC}var NC,P5;function gNe(){if(P5)return NC;P5=1;var t=xo(),e=vo(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return NC=n,NC}var kC,F5;function WI(){if(F5)return kC;F5=1;var t=gNe(),e=vo(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(o){return e(o)&&n.call(o,"callee")&&!a.call(o,"callee")};return kC=s,kC}var Bf={exports:{}},TC,D5;function xNe(){if(D5)return TC;D5=1;function t(){return!1}return TC=t,TC}Bf.exports;var O5;function zX(){return O5||(O5=1,function(t,e){var r=Ei(),n=xNe(),a=e&&!e.nodeType&&e,s=a&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u}(Bf,Bf.exports)),Bf.exports}var IC,R5;function XI(){if(R5)return IC;R5=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var s=typeof n;return a=a??t,!!a&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return IC=r,IC}var PC,U5;function YI(){if(U5)return PC;U5=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return PC=e,PC}var FC,M5;function vNe(){if(M5)return FC;M5=1;var t=xo(),e=YI(),r=vo(),n="[object Arguments]",a="[object Array]",s="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",A="[object Number]",d="[object Object]",h="[object RegExp]",f="[object Set]",p="[object String]",g="[object WeakMap]",m="[object ArrayBuffer]",b="[object DataView]",y="[object Float32Array]",w="[object Float64Array]",x="[object Int8Array]",C="[object Int16Array]",E="[object Int32Array]",B="[object Uint8Array]",j="[object Uint8ClampedArray]",N="[object Uint16Array]",S="[object Uint32Array]",k={};k[y]=k[w]=k[x]=k[C]=k[E]=k[B]=k[j]=k[N]=k[S]=!0,k[n]=k[a]=k[m]=k[s]=k[b]=k[o]=k[l]=k[c]=k[u]=k[A]=k[d]=k[h]=k[f]=k[p]=k[g]=!1;function I(T){return r(T)&&e(T.length)&&!!k[t(T)]}return FC=I,FC}var DC,Q5;function GX(){if(Q5)return DC;Q5=1;function t(e){return function(r){return e(r)}}return DC=t,DC}var Cf={exports:{}};Cf.exports;var L5;function yNe(){return L5||(L5=1,function(t,e){var r=hX(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===n,o=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l}(Cf,Cf.exports)),Cf.exports}var OC,H5;function WX(){if(H5)return OC;H5=1;var t=vNe(),e=GX(),r=yNe(),n=r&&r.isTypedArray,a=n?e(n):t;return OC=a,OC}var RC,$5;function bNe(){if($5)return RC;$5=1;var t=pNe(),e=WI(),r=Sa(),n=zX(),a=XI(),s=WX(),o=Object.prototype,l=o.hasOwnProperty;function c(u,A){var d=r(u),h=!d&&e(u),f=!d&&!h&&n(u),p=!d&&!h&&!f&&s(u),g=d||h||f||p,m=g?t(u.length,String):[],b=m.length;for(var y in u)(A||l.call(u,y))&&!(g&&(y=="length"||f&&(y=="offset"||y=="parent")||p&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||a(y,b)))&&m.push(y);return m}return RC=c,RC}var UC,V5;function wNe(){if(V5)return UC;V5=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return UC=e,UC}var MC,K5;function XX(){if(K5)return MC;K5=1;function t(e,r){return function(n){return e(r(n))}}return MC=t,MC}var QC,q5;function _Ne(){if(q5)return QC;q5=1;var t=XX(),e=t(Object.keys,Object);return QC=e,QC}var LC,z5;function BNe(){if(z5)return LC;z5=1;var t=wNe(),e=_Ne(),r=Object.prototype,n=r.hasOwnProperty;function a(s){if(!t(s))return e(s);var o=[];for(var l in Object(s))n.call(s,l)&&l!="constructor"&&o.push(l);return o}return LC=a,LC}var HC,G5;function dg(){if(G5)return HC;G5=1;var t=DI(),e=YI();function r(n){return n!=null&&e(n.length)&&!t(n)}return HC=r,HC}var $C,W5;function Nw(){if(W5)return $C;W5=1;var t=bNe(),e=BNe(),r=dg();function n(a){return r(a)?t(a):e(a)}return $C=n,$C}var VC,X5;function CNe(){if(X5)return VC;X5=1;var t=dNe(),e=mNe(),r=Nw();function n(a){return t(a,r,e)}return VC=n,VC}var KC,Y5;function jNe(){if(Y5)return KC;Y5=1;var t=CNe(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(s,o,l,c,u,A){var d=l&e,h=t(s),f=h.length,p=t(o),g=p.length;if(f!=g&&!d)return!1;for(var m=f;m--;){var b=h[m];if(!(d?b in o:n.call(o,b)))return!1}var y=A.get(s),w=A.get(o);if(y&&w)return y==o&&w==s;var x=!0;A.set(s,o),A.set(o,s);for(var C=d;++m<f;){b=h[m];var E=s[b],B=o[b];if(c)var j=d?c(B,E,b,o,s,A):c(E,B,b,s,o,A);if(!(j===void 0?E===B||u(E,B,l,c,A):j)){x=!1;break}C||(C=b=="constructor")}if(x&&!C){var N=s.constructor,S=o.constructor;N!=S&&"constructor"in s&&"constructor"in o&&!(typeof N=="function"&&N instanceof N&&typeof S=="function"&&S instanceof S)&&(x=!1)}return A.delete(s),A.delete(o),x}return KC=a,KC}var qC,J5;function ENe(){if(J5)return qC;J5=1;var t=bu(),e=Ei(),r=t(e,"DataView");return qC=r,qC}var zC,Z5;function SNe(){if(Z5)return zC;Z5=1;var t=bu(),e=Ei(),r=t(e,"Promise");return zC=r,zC}var GC,eQ;function YX(){if(eQ)return GC;eQ=1;var t=bu(),e=Ei(),r=t(e,"Set");return GC=r,GC}var WC,tQ;function NNe(){if(tQ)return WC;tQ=1;var t=bu(),e=Ei(),r=t(e,"WeakMap");return WC=r,WC}var XC,rQ;function kNe(){if(rQ)return XC;rQ=1;var t=ENe(),e=RI(),r=SNe(),n=YX(),a=NNe(),s=xo(),o=fX(),l="[object Map]",c="[object Object]",u="[object Promise]",A="[object Set]",d="[object WeakMap]",h="[object DataView]",f=o(t),p=o(e),g=o(r),m=o(n),b=o(a),y=s;return(t&&y(new t(new ArrayBuffer(1)))!=h||e&&y(new e)!=l||r&&y(r.resolve())!=u||n&&y(new n)!=A||a&&y(new a)!=d)&&(y=function(w){var x=s(w),C=x==c?w.constructor:void 0,E=C?o(C):"";if(E)switch(E){case f:return h;case p:return l;case g:return u;case m:return A;case b:return d}return x}),XC=y,XC}var YC,nQ;function TNe(){if(nQ)return YC;nQ=1;var t=LX(),e=KX(),r=ANe(),n=jNe(),a=kNe(),s=Sa(),o=zX(),l=WX(),c=1,u="[object Arguments]",A="[object Array]",d="[object Object]",h=Object.prototype,f=h.hasOwnProperty;function p(g,m,b,y,w,x){var C=s(g),E=s(m),B=C?A:a(g),j=E?A:a(m);B=B==u?d:B,j=j==u?d:j;var N=B==d,S=j==d,k=B==j;if(k&&o(g)){if(!o(m))return!1;C=!0,N=!1}if(k&&!N)return x||(x=new t),C||l(g)?e(g,m,b,y,w,x):r(g,m,B,b,y,w,x);if(!(b&c)){var I=N&&f.call(g,"__wrapped__"),T=S&&f.call(m,"__wrapped__");if(I||T){var O=I?g.value():g,U=T?m.value():m;return x||(x=new t),w(O,U,b,y,x)}}return k?(x||(x=new t),n(g,m,b,y,w,x)):!1}return YC=p,YC}var JC,aQ;function JI(){if(aQ)return JC;aQ=1;var t=TNe(),e=vo();function r(n,a,s,o,l){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,s,o,r,l)}return JC=r,JC}var ZC,sQ;function INe(){if(sQ)return ZC;sQ=1;var t=LX(),e=JI(),r=1,n=2;function a(s,o,l,c){var u=l.length,A=u,d=!c;if(s==null)return!A;for(s=Object(s);u--;){var h=l[u];if(d&&h[2]?h[1]!==s[h[0]]:!(h[0]in s))return!1}for(;++u<A;){h=l[u];var f=h[0],p=s[f],g=h[1];if(d&&h[2]){if(p===void 0&&!(f in s))return!1}else{var m=new t;if(c)var b=c(p,g,f,s,o,m);if(!(b===void 0?e(g,p,r|n,c,m):b))return!1}}return!0}return ZC=a,ZC}var ej,iQ;function JX(){if(iQ)return ej;iQ=1;var t=Kl();function e(r){return r===r&&!t(r)}return ej=e,ej}var tj,oQ;function PNe(){if(oQ)return tj;oQ=1;var t=JX(),e=Nw();function r(n){for(var a=e(n),s=a.length;s--;){var o=a[s],l=n[o];a[s]=[o,l,t(l)]}return a}return tj=r,tj}var rj,lQ;function ZX(){if(lQ)return rj;lQ=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return rj=t,rj}var nj,cQ;function FNe(){if(cQ)return nj;cQ=1;var t=INe(),e=PNe(),r=ZX();function n(a){var s=e(a);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===a||t(o,a,s)}}return nj=n,nj}var aj,uQ;function DNe(){if(uQ)return aj;uQ=1;function t(e,r){return e!=null&&r in Object(e)}return aj=t,aj}var sj,AQ;function ONe(){if(AQ)return sj;AQ=1;var t=gX(),e=WI(),r=Sa(),n=XI(),a=YI(),s=Bw();function o(l,c,u){c=t(c,l);for(var A=-1,d=c.length,h=!1;++A<d;){var f=s(c[A]);if(!(h=l!=null&&u(l,f)))break;l=l[f]}return h||++A!=d?h:(d=l==null?0:l.length,!!d&&a(d)&&n(f,d)&&(r(l)||e(l)))}return sj=o,sj}var ij,dQ;function RNe(){if(dQ)return ij;dQ=1;var t=DNe(),e=ONe();function r(n,a){return n!=null&&e(n,a,t)}return ij=r,ij}var oj,hQ;function UNe(){if(hQ)return oj;hQ=1;var t=JI(),e=xX(),r=RNe(),n=FI(),a=JX(),s=ZX(),o=Bw(),l=1,c=2;function u(A,d){return n(A)&&a(d)?s(o(A),d):function(h){var f=e(h,A);return f===void 0&&f===d?r(h,A):t(d,f,l|c)}}return oj=u,oj}var lj,fQ;function ch(){if(fQ)return lj;fQ=1;function t(e){return e}return lj=t,lj}var cj,mQ;function MNe(){if(mQ)return cj;mQ=1;function t(e){return function(r){return r==null?void 0:r[e]}}return cj=t,cj}var uj,pQ;function QNe(){if(pQ)return uj;pQ=1;var t=QI();function e(r){return function(n){return t(n,r)}}return uj=e,uj}var Aj,gQ;function LNe(){if(gQ)return Aj;gQ=1;var t=MNe(),e=QNe(),r=FI(),n=Bw();function a(s){return r(s)?t(n(s)):e(s)}return Aj=a,Aj}var dj,xQ;function ql(){if(xQ)return dj;xQ=1;var t=FNe(),e=UNe(),r=ch(),n=Sa(),a=LNe();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):a(o)}return dj=s,dj}var hj,vQ;function eY(){if(vQ)return hj;vQ=1;function t(e,r,n,a){for(var s=e.length,o=n+(a?1:-1);a?o--:++o<s;)if(r(e[o],o,e))return o;return-1}return hj=t,hj}var fj,yQ;function HNe(){if(yQ)return fj;yQ=1;function t(e){return e!==e}return fj=t,fj}var mj,bQ;function $Ne(){if(bQ)return mj;bQ=1;function t(e,r,n){for(var a=n-1,s=e.length;++a<s;)if(e[a]===r)return a;return-1}return mj=t,mj}var pj,wQ;function VNe(){if(wQ)return pj;wQ=1;var t=eY(),e=HNe(),r=$Ne();function n(a,s,o){return s===s?r(a,s,o):t(a,e,o)}return pj=n,pj}var gj,_Q;function KNe(){if(_Q)return gj;_Q=1;var t=VNe();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return gj=e,gj}var xj,BQ;function qNe(){if(BQ)return xj;BQ=1;function t(e,r,n){for(var a=-1,s=e==null?0:e.length;++a<s;)if(n(r,e[a]))return!0;return!1}return xj=t,xj}var vj,CQ;function zNe(){if(CQ)return vj;CQ=1;function t(){}return vj=t,vj}var yj,jQ;function GNe(){if(jQ)return yj;jQ=1;var t=YX(),e=zNe(),r=GI(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(s){return new t(s)}:e;return yj=a,yj}var bj,EQ;function WNe(){if(EQ)return bj;EQ=1;var t=HX(),e=KNe(),r=qNe(),n=VX(),a=GNe(),s=GI(),o=200;function l(c,u,A){var d=-1,h=e,f=c.length,p=!0,g=[],m=g;if(A)p=!1,h=r;else if(f>=o){var b=u?null:a(c);if(b)return s(b);p=!1,h=n,m=new t}else m=u?[]:g;e:for(;++d<f;){var y=c[d],w=u?u(y):y;if(y=A||y!==0?y:0,p&&w===w){for(var x=m.length;x--;)if(m[x]===w)continue e;u&&m.push(w),g.push(y)}else h(m,w,A)||(m!==g&&m.push(w),g.push(y))}return g}return bj=l,bj}var wj,SQ;function XNe(){if(SQ)return wj;SQ=1;var t=ql(),e=WNe();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return wj=r,wj}var YNe=XNe();const NQ=Wt(YNe);function tY(t,e,r){return e===!0?NQ(t,r):Pt(e)?NQ(t,e):t}function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}var JNe=["ref"];function kQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Di(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kQ(Object(r),!0).forEach(function(n){kw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nY(n.key),n)}}function eke(t,e,r){return e&&TQ(t.prototype,e),r&&TQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tke(t,e,r){return e=vy(e),rke(t,rY()?Reflect.construct(e,r||[],vy(t).constructor):e.apply(t,r))}function rke(t,e){if(e&&(wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nke(t)}function nke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rY=function(){return!!t})()}function vy(t){return vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vy(t)}function ake(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AN(t,e)}function AN(t,e){return AN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AN(t,e)}function kw(t,e,r){return e=nY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nY(t){var e=ske(t,"string");return wd(e)=="symbol"?e:e+""}function ske(t,e){if(wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ike(t,e){if(t==null)return{};var r=oke(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lke(t){return t.value}function cke(t,e){if(V.isValidElement(t))return V.cloneElement(t,e);if(typeof t=="function")return V.createElement(t,e);e.ref;var r=ike(e,JNe);return V.createElement(zI,r)}var IQ=1,PA=function(t){function e(){var r;ZNe(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=tke(this,e,[].concat(a)),kw(r,"lastBoundingBox",{width:-1,height:-1}),r}return ake(e,t),eke(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>IQ||Math.abs(a.height-this.lastBoundingBox.height)>IQ)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Di({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,A=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var f=this.getBBoxSnapshot();d={left:((u||0)-f.width)/2}}else d=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var p=this.getBBoxSnapshot();h={top:((A||0)-p.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Di(Di({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,A=a.payload,d=Di(Di({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return V.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(f){n.wrapperNode=f}},cke(s,Di(Di({},this.props),{},{payload:tY(A,u,lke)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Di(Di({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&De(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(v.PureComponent);kw(PA,"displayName","Legend");kw(PA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var _j,PQ;function uke(){if(PQ)return _j;PQ=1;var t=lg(),e=WI(),r=Sa(),n=t?t.isConcatSpreadable:void 0;function a(s){return r(s)||e(s)||!!(n&&s&&s[n])}return _j=a,_j}var Bj,FQ;function aY(){if(FQ)return Bj;FQ=1;var t=qX(),e=uke();function r(n,a,s,o,l){var c=-1,u=n.length;for(s||(s=e),l||(l=[]);++c<u;){var A=n[c];a>0&&s(A)?a>1?r(A,a-1,s,o,l):t(l,A):o||(l[l.length]=A)}return l}return Bj=r,Bj}var Cj,DQ;function Ake(){if(DQ)return Cj;DQ=1;function t(e){return function(r,n,a){for(var s=-1,o=Object(r),l=a(r),c=l.length;c--;){var u=l[e?c:++s];if(n(o[u],u,o)===!1)break}return r}}return Cj=t,Cj}var jj,OQ;function dke(){if(OQ)return jj;OQ=1;var t=Ake(),e=t();return jj=e,jj}var Ej,RQ;function sY(){if(RQ)return Ej;RQ=1;var t=dke(),e=Nw();function r(n,a){return n&&t(n,a,e)}return Ej=r,Ej}var Sj,UQ;function hke(){if(UQ)return Sj;UQ=1;var t=dg();function e(r,n){return function(a,s){if(a==null)return a;if(!t(a))return r(a,s);for(var o=a.length,l=n?o:-1,c=Object(a);(n?l--:++l<o)&&s(c[l],l,c)!==!1;);return a}}return Sj=e,Sj}var Nj,MQ;function ZI(){if(MQ)return Nj;MQ=1;var t=sY(),e=hke(),r=e(t);return Nj=r,Nj}var kj,QQ;function iY(){if(QQ)return kj;QQ=1;var t=ZI(),e=dg();function r(n,a){var s=-1,o=e(n)?Array(n.length):[];return t(n,function(l,c,u){o[++s]=a(l,c,u)}),o}return kj=r,kj}var Tj,LQ;function fke(){if(LQ)return Tj;LQ=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return Tj=t,Tj}var Ij,HQ;function mke(){if(HQ)return Ij;HQ=1;var t=oh();function e(r,n){if(r!==n){var a=r!==void 0,s=r===null,o=r===r,l=t(r),c=n!==void 0,u=n===null,A=n===n,d=t(n);if(!u&&!d&&!l&&r>n||l&&c&&A&&!u&&!d||s&&c&&A||!a&&A||!o)return 1;if(!s&&!l&&!d&&r<n||d&&a&&o&&!s&&!l||u&&a&&o||!c&&o||!A)return-1}return 0}return Ij=e,Ij}var Pj,$Q;function pke(){if($Q)return Pj;$Q=1;var t=mke();function e(r,n,a){for(var s=-1,o=r.criteria,l=n.criteria,c=o.length,u=a.length;++s<c;){var A=t(o[s],l[s]);if(A){if(s>=u)return A;var d=a[s];return A*(d=="desc"?-1:1)}}return r.index-n.index}return Pj=e,Pj}var Fj,VQ;function gke(){if(VQ)return Fj;VQ=1;var t=MI(),e=QI(),r=ql(),n=iY(),a=fke(),s=GX(),o=pke(),l=ch(),c=Sa();function u(A,d,h){d.length?d=t(d,function(g){return c(g)?function(m){return e(m,g.length===1?g[0]:g)}:g}):d=[l];var f=-1;d=t(d,s(r));var p=n(A,function(g,m,b){var y=t(d,function(w){return w(g)});return{criteria:y,index:++f,value:g}});return a(p,function(g,m){return o(g,m,h)})}return Fj=u,Fj}var Dj,KQ;function xke(){if(KQ)return Dj;KQ=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Dj=t,Dj}var Oj,qQ;function vke(){if(qQ)return Oj;qQ=1;var t=xke(),e=Math.max;function r(n,a,s){return a=e(a===void 0?n.length-1:a,0),function(){for(var o=arguments,l=-1,c=e(o.length-a,0),u=Array(c);++l<c;)u[l]=o[a+l];l=-1;for(var A=Array(a+1);++l<a;)A[l]=o[l];return A[a]=s(u),t(n,this,A)}}return Oj=r,Oj}var Rj,zQ;function yke(){if(zQ)return Rj;zQ=1;function t(e){return function(){return e}}return Rj=t,Rj}var Uj,GQ;function oY(){if(GQ)return Uj;GQ=1;var t=bu(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Uj=e,Uj}var Mj,WQ;function bke(){if(WQ)return Mj;WQ=1;var t=yke(),e=oY(),r=ch(),n=e?function(a,s){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:r;return Mj=n,Mj}var Qj,XQ;function wke(){if(XQ)return Qj;XQ=1;var t=800,e=16,r=Date.now;function n(a){var s=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++s>=t)return arguments[0]}else s=0;return a.apply(void 0,arguments)}}return Qj=n,Qj}var Lj,YQ;function _ke(){if(YQ)return Lj;YQ=1;var t=bke(),e=wke(),r=e(t);return Lj=r,Lj}var Hj,JQ;function Bke(){if(JQ)return Hj;JQ=1;var t=ch(),e=vke(),r=_ke();function n(a,s){return r(e(a,s,t),a+"")}return Hj=n,Hj}var $j,ZQ;function Tw(){if(ZQ)return $j;ZQ=1;var t=OI(),e=dg(),r=XI(),n=Kl();function a(s,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],s):!1}return $j=a,$j}var Vj,e3;function Cke(){if(e3)return Vj;e3=1;var t=aY(),e=gke(),r=Bke(),n=Tw(),a=r(function(s,o){if(s==null)return[];var l=o.length;return l>1&&n(s,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return Vj=a,Vj}var jke=Cke();const eP=Wt(jke);function Gm(t){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gm(t)}function dN(){return dN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dN.apply(this,arguments)}function Eke(t,e){return Tke(t)||kke(t,e)||Nke(t,e)||Ske()}function Ske(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nke(t,e){if(t){if(typeof t=="string")return t3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t3(t,e)}}function t3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kke(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Tke(t){if(Array.isArray(t))return t}function r3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Kj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r3(Object(r),!0).forEach(function(n){Ike(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ike(t,e,r){return e=Pke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pke(t){var e=Fke(t,"string");return Gm(e)=="symbol"?e:e+""}function Fke(t,e){if(Gm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dke(t){return Array.isArray(t)&&sn(t[0])&&sn(t[1])?t.join(" ~ "):t}var Oke=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,s=a===void 0?{}:a,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,A=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,p=e.labelClassName,g=e.label,m=e.labelFormatter,b=e.accessibilityLayer,y=b===void 0?!1:b,w=function(){if(A&&A.length){var I={padding:0,margin:0},T=(h?eP(A,h):A).map(function(O,U){if(O.type==="none")return null;var H=Kj({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},l),R=O.formatter||d||Dke,D=O.value,M=O.name,Q=D,L=M;if(R&&Q!=null&&L!=null){var K=R(D,M,O,U,A);if(Array.isArray(K)){var G=Eke(K,2);Q=G[0],L=G[1]}else Q=K}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:H},sn(L)?V.createElement("span",{className:"recharts-tooltip-item-name"},L):null,sn(L)?V.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,V.createElement("span",{className:"recharts-tooltip-item-value"},Q),V.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:I},T)}return null},x=Kj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),C=Kj({margin:0},u),E=!Ot(g),B=E?g:"",j=Gt("recharts-default-tooltip",f),N=Gt("recharts-tooltip-label",p);E&&m&&A!==void 0&&A!==null&&(B=m(g,A));var S=y?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",dN({className:j,style:x},S),V.createElement("p",{className:N,style:C},V.isValidElement(B)?B:"".concat(B)),w())};function Wm(t){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(t)}function D0(t,e,r){return e=Rke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rke(t){var e=Uke(t,"string");return Wm(e)=="symbol"?e:e+""}function Uke(t,e){if(Wm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yh="recharts-tooltip-wrapper",Mke={visibility:"hidden"};function Qke(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Gt(Yh,D0(D0(D0(D0({},"".concat(Yh,"-right"),De(r)&&e&&De(e.x)&&r>=e.x),"".concat(Yh,"-left"),De(r)&&e&&De(e.x)&&r<e.x),"".concat(Yh,"-bottom"),De(n)&&e&&De(e.y)&&n>=e.y),"".concat(Yh,"-top"),De(n)&&e&&De(e.y)&&n<e.y))}function n3(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,s=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&De(s[n]))return s[n];var A=r[n]-l-a,d=r[n]+a;if(e[n])return o[n]?A:d;if(o[n]){var h=A,f=c[n];return h<f?Math.max(d,c[n]):Math.max(A,c[n])}var p=d+l,g=c[n]+u;return p>g?Math.max(A,c[n]):Math.max(d,c[n])}function Lke(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Hke(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,A,d;return o.height>0&&o.width>0&&r?(A=n3({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),d=n3({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Lke({translateX:A,translateY:d,useTranslate3d:l})):u=Mke,{cssProperties:u,cssClasses:Qke({translateX:A,translateY:d,coordinate:r})}}function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function a3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function s3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a3(Object(r),!0).forEach(function(n){fN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cY(n.key),n)}}function Kke(t,e,r){return e&&Vke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qke(t,e,r){return e=yy(e),zke(t,lY()?Reflect.construct(e,r||[],yy(t).constructor):e.apply(t,r))}function zke(t,e){if(e&&(_d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gke(t)}function Gke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lY=function(){return!!t})()}function yy(t){return yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yy(t)}function Wke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hN(t,e)}function hN(t,e){return hN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hN(t,e)}function fN(t,e,r){return e=cY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cY(t){var e=Xke(t,"string");return _d(e)=="symbol"?e:e+""}function Xke(t,e){if(_d(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var i3=1,Yke=function(t){function e(){var r;$ke(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=qke(this,e,[].concat(a)),fN(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),fN(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,A;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(A=r.props.coordinate)===null||A===void 0?void 0:A.y)!==null&&u!==void 0?u:0}})}}),r}return Wke(e,t),Kke(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>i3||Math.abs(n.height-this.state.lastBoundingBox.height)>i3)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,A=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,f=a.offset,p=a.position,g=a.reverseDirection,m=a.useTranslate3d,b=a.viewBox,y=a.wrapperStyle,w=Hke({allowEscapeViewBox:o,coordinate:A,offsetTopLeft:f,position:p,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:m,viewBox:b}),x=w.cssClasses,C=w.cssProperties,E=s3(s3({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},y);return V.createElement("div",{tabIndex:-1,className:x,style:E,ref:function(j){n.wrapperNode=j}},u)}}])}(v.PureComponent),Jke=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},uh={isSsr:Jke()};function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function o3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function l3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o3(Object(r),!0).forEach(function(n){tP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AY(n.key),n)}}function tTe(t,e,r){return e&&eTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rTe(t,e,r){return e=by(e),nTe(t,uY()?Reflect.construct(e,r||[],by(t).constructor):e.apply(t,r))}function nTe(t,e){if(e&&(Bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aTe(t)}function aTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uY=function(){return!!t})()}function by(t){return by=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},by(t)}function sTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mN(t,e)}function mN(t,e){return mN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mN(t,e)}function tP(t,e,r){return e=AY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AY(t){var e=iTe(t,"string");return Bd(e)=="symbol"?e:e+""}function iTe(t,e){if(Bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function oTe(t){return t.dataKey}function lTe(t,e){return V.isValidElement(t)?V.cloneElement(t,e):typeof t=="function"?V.createElement(t,e):V.createElement(Oke,e)}var Bs=function(t){function e(){return Zke(this,e),rTe(this,e,arguments)}return sTe(e,t),tTe(e,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,A=a.coordinate,d=a.filterNull,h=a.isAnimationActive,f=a.offset,p=a.payload,g=a.payloadUniqBy,m=a.position,b=a.reverseDirection,y=a.useTranslate3d,w=a.viewBox,x=a.wrapperStyle,C=p??[];d&&C.length&&(C=tY(p.filter(function(B){return B.value!=null&&(B.hide!==!0||n.props.includeHidden)}),g,oTe));var E=C.length>0;return V.createElement(Yke,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:A,hasPayload:E,offset:f,position:m,reverseDirection:b,useTranslate3d:y,viewBox:w,wrapperStyle:x},lTe(u,l3(l3({},this.props),{},{payload:C})))}}])}(v.PureComponent);tP(Bs,"displayName","Tooltip");tP(Bs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!uh.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var qj,c3;function cTe(){if(c3)return qj;c3=1;var t=Ei(),e=function(){return t.Date.now()};return qj=e,qj}var zj,u3;function uTe(){if(u3)return zj;u3=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return zj=e,zj}var Gj,A3;function ATe(){if(A3)return Gj;A3=1;var t=uTe(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Gj=r,Gj}var Wj,d3;function dY(){if(d3)return Wj;d3=1;var t=ATe(),e=Kl(),r=oh(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var A=typeof u.valueOf=="function"?u.valueOf():u;u=e(A)?A+"":A}if(typeof u!="string")return u===0?u:+u;u=t(u);var d=s.test(u);return d||o.test(u)?l(u.slice(2),d?2:8):a.test(u)?n:+u}return Wj=c,Wj}var Xj,h3;function dTe(){if(h3)return Xj;h3=1;var t=Kl(),e=cTe(),r=dY(),n="Expected a function",a=Math.max,s=Math.min;function o(l,c,u){var A,d,h,f,p,g,m=0,b=!1,y=!1,w=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(u)&&(b=!!u.leading,y="maxWait"in u,h=y?a(r(u.maxWait)||0,c):h,w="trailing"in u?!!u.trailing:w);function x(T){var O=A,U=d;return A=d=void 0,m=T,f=l.apply(U,O),f}function C(T){return m=T,p=setTimeout(j,c),b?x(T):f}function E(T){var O=T-g,U=T-m,H=c-O;return y?s(H,h-U):H}function B(T){var O=T-g,U=T-m;return g===void 0||O>=c||O<0||y&&U>=h}function j(){var T=e();if(B(T))return N(T);p=setTimeout(j,E(T))}function N(T){return p=void 0,w&&A?x(T):(A=d=void 0,f)}function S(){p!==void 0&&clearTimeout(p),m=0,A=g=d=p=void 0}function k(){return p===void 0?f:N(e())}function I(){var T=e(),O=B(T);if(A=arguments,d=this,g=T,O){if(p===void 0)return C(g);if(y)return clearTimeout(p),p=setTimeout(j,c),x(g)}return p===void 0&&(p=setTimeout(j,c)),f}return I.cancel=S,I.flush=k,I}return Xj=o,Xj}var Yj,f3;function hTe(){if(f3)return Yj;f3=1;var t=dTe(),e=Kl(),r="Expected a function";function n(a,s,o){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(a,s,{leading:l,maxWait:s,trailing:c})}return Yj=n,Yj}var fTe=hTe();const hY=Wt(fTe);function Xm(t){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xm(t)}function m3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function O0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m3(Object(r),!0).forEach(function(n){mTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mTe(t,e,r){return e=pTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pTe(t){var e=gTe(t,"string");return Xm(e)=="symbol"?e:e+""}function gTe(t,e){if(Xm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xTe(t,e){return wTe(t)||bTe(t,e)||yTe(t,e)||vTe()}function vTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yTe(t,e){if(t){if(typeof t=="string")return p3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p3(t,e)}}function p3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function wTe(t){if(Array.isArray(t))return t}var _Te=v.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=t.width,o=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,A=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,f=t.children,p=t.debounce,g=p===void 0?0:p,m=t.id,b=t.className,y=t.onResize,w=t.style,x=w===void 0?{}:w,C=v.useRef(null),E=v.useRef();E.current=y,v.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var B=v.useState({containerWidth:a.width,containerHeight:a.height}),j=xTe(B,2),N=j[0],S=j[1],k=v.useCallback(function(T,O){S(function(U){var H=Math.round(T),R=Math.round(O);return U.containerWidth===H&&U.containerHeight===R?U:{containerWidth:H,containerHeight:R}})},[]);v.useEffect(function(){var T=function(M){var Q,L=M[0].contentRect,K=L.width,G=L.height;k(K,G),(Q=E.current)===null||Q===void 0||Q.call(E,K,G)};g>0&&(T=hY(T,g,{trailing:!0,leading:!1}));var O=new ResizeObserver(T),U=C.current.getBoundingClientRect(),H=U.width,R=U.height;return k(H,R),O.observe(C.current),function(){O.disconnect()}},[k,g]);var I=v.useMemo(function(){var T=N.containerWidth,O=N.containerHeight;if(T<0||O<0)return null;Ji(Ic(o)||Ic(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ji(!r||r>0,"The aspect(%s) must be greater than zero.",r);var U=Ic(o)?T:o,H=Ic(c)?O:c;r&&r>0&&(U?H=U/r:H&&(U=H*r),h&&H>h&&(H=h)),Ji(U>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,H,o,c,A,d,r);var R=!Array.isArray(f)&&Yi(f.type).endsWith("Chart");return V.Children.map(f,function(D){return vX.isElement(D)?v.cloneElement(D,O0({width:U,height:H},R?{style:O0({height:"100%",width:"100%",maxHeight:H,maxWidth:U},D.props.style)}:{})):D})},[r,f,c,h,d,A,N,o]);return V.createElement("div",{id:m?"".concat(m):void 0,className:Gt("recharts-responsive-container",b),style:O0(O0({},x),{},{width:o,height:c,minWidth:A,minHeight:d,maxHeight:h}),ref:C},I)}),fY=function(e){return null};fY.displayName="Cell";function Ym(t){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ym(t)}function g3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g3(Object(r),!0).forEach(function(n){BTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BTe(t,e,r){return e=CTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CTe(t){var e=jTe(t,"string");return Ym(e)=="symbol"?e:e+""}function jTe(t,e){if(Ym(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iA={widthCache:{},cacheCount:0},ETe=2e3,STe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},x3="recharts_measurement_span";function NTe(t){var e=pN({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var zf=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||uh.isSsr)return{width:0,height:0};var n=NTe(r),a=JSON.stringify({text:e,copyStyle:n});if(iA.widthCache[a])return iA.widthCache[a];try{var s=document.getElementById(x3);s||(s=document.createElement("span"),s.setAttribute("id",x3),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=pN(pN({},STe),n);Object.assign(s.style,o),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return iA.widthCache[a]=c,++iA.cacheCount>ETe&&(iA.cacheCount=0,iA.widthCache={}),c}catch{return{width:0,height:0}}},kTe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Jm(t){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jm(t)}function wy(t,e){return FTe(t)||PTe(t,e)||ITe(t,e)||TTe()}function TTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ITe(t,e){if(t){if(typeof t=="string")return v3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v3(t,e)}}function v3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function FTe(t){if(Array.isArray(t))return t}function DTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RTe(n.key),n)}}function OTe(t,e,r){return e&&y3(t.prototype,e),r&&y3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function RTe(t){var e=UTe(t,"string");return Jm(e)=="symbol"?e:e+""}function UTe(t,e){if(Jm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var b3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,w3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MTe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,QTe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mY={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},LTe=Object.keys(mY),bA="NaN";function HTe(t,e){return t*mY[e]}var R0=function(){function t(e,r){DTe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!MTe.test(r)&&(this.num=NaN,this.unit=""),LTe.includes(r)&&(this.num=HTe(e,r),this.unit="px")}return OTe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=QTe.exec(r))!==null&&n!==void 0?n:[],s=wy(a,3),o=s[1],l=s[2];return new t(parseFloat(o),l??"")}}])}();function pY(t){if(t.includes(bA))return bA;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=b3.exec(e))!==null&&r!==void 0?r:[],a=wy(n,4),s=a[1],o=a[2],l=a[3],c=R0.parse(s??""),u=R0.parse(l??""),A=o==="*"?c.multiply(u):c.divide(u);if(A.isNaN())return bA;e=e.replace(b3,A.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=w3.exec(e))!==null&&d!==void 0?d:[],f=wy(h,4),p=f[1],g=f[2],m=f[3],b=R0.parse(p??""),y=R0.parse(m??""),w=g==="+"?b.add(y):b.subtract(y);if(w.isNaN())return bA;e=e.replace(w3,w.toString())}return e}var _3=/\(([^()]*)\)/;function $Te(t){for(var e=t;e.includes("(");){var r=_3.exec(e),n=wy(r,2),a=n[1];e=e.replace(_3,pY(a))}return e}function VTe(t){var e=t.replace(/\s+/g,"");return e=$Te(e),e=pY(e),e}function KTe(t){try{return VTe(t)}catch{return bA}}function Jj(t){var e=KTe(t.slice(5,-1));return e===bA?"":e}var qTe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],zTe=["dx","dy","angle","className","breakAll"];function gN(){return gN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gN.apply(this,arguments)}function B3(t,e){if(t==null)return{};var r=GTe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function GTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function C3(t,e){return JTe(t)||YTe(t,e)||XTe(t,e)||WTe()}function WTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XTe(t,e){if(t){if(typeof t=="string")return j3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j3(t,e)}}function j3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function YTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function JTe(t){if(Array.isArray(t))return t}var gY=/[ \f\n\r\t\v\u2028\u2029]+/,xY=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var s=[];Ot(r)||(n?s=r.toString().split(""):s=r.toString().split(gY));var o=s.map(function(c){return{word:c,width:zf(c,a).width}}),l=n?0:zf("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},ZTe=function(e,r,n,a,s){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,A=De(o),d=l,h=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(H,R){var D=R.word,M=R.width,Q=H[H.length-1];if(Q&&(a==null||s||Q.width+M+n<Number(a)))Q.words.push(D),Q.width+=M+n;else{var L={words:[D],width:M};H.push(L)}return H},[])},f=h(r),p=function(U){return U.reduce(function(H,R){return H.width>R.width?H:R})};if(!A)return f;for(var g="",m=function(U){var H=d.slice(0,U),R=xY({breakAll:u,style:c,children:H+g}).wordsWithComputedWidth,D=h(R),M=D.length>o||p(D).width>Number(a);return[M,D]},b=0,y=d.length-1,w=0,x;b<=y&&w<=d.length-1;){var C=Math.floor((b+y)/2),E=C-1,B=m(E),j=C3(B,2),N=j[0],S=j[1],k=m(C),I=C3(k,1),T=I[0];if(!N&&!T&&(b=C+1),N&&T&&(y=C-1),!N&&T){x=S;break}w++}return x||f},E3=function(e){var r=Ot(e)?[]:e.toString().split(gY);return[{words:r}]},eIe=function(e){var r=e.width,n=e.scaleToFit,a=e.children,s=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!uh.isSsr){var c,u,A=xY({breakAll:o,children:a,style:s});if(A){var d=A.wordsWithComputedWidth,h=A.spaceWidth;c=d,u=h}else return E3(a);return ZTe({breakAll:o,children:a,maxLines:l,style:s},c,u,r,n)}return E3(a)},S3="#808080",_y=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,A=e.scaleToFit,d=A===void 0?!1:A,h=e.textAnchor,f=h===void 0?"start":h,p=e.verticalAnchor,g=p===void 0?"end":p,m=e.fill,b=m===void 0?S3:m,y=B3(e,qTe),w=v.useMemo(function(){return eIe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:d,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,d,y.style,y.width]),x=y.dx,C=y.dy,E=y.angle,B=y.className,j=y.breakAll,N=B3(y,zTe);if(!sn(n)||!sn(s))return null;var S=n+(De(x)?x:0),k=s+(De(C)?C:0),I;switch(g){case"start":I=Jj("calc(".concat(u,")"));break;case"middle":I=Jj("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:I=Jj("calc(".concat(w.length-1," * -").concat(l,")"));break}var T=[];if(d){var O=w[0].width,U=y.width;T.push("scale(".concat((De(U)?U/O:1)/O,")"))}return E&&T.push("rotate(".concat(E,", ").concat(S,", ").concat(k,")")),T.length&&(N.transform=T.join(" ")),V.createElement("text",gN({},Ht(N,!0),{x:S,y:k,className:Gt("recharts-text",B),textAnchor:f,fill:b.includes("url")?S3:b}),w.map(function(H,R){var D=H.words.join(j?"":" ");return V.createElement("tspan",{x:S,dy:R===0?I:l,key:"".concat(D,"-").concat(R)},D)}))};function xl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tIe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rP(t){let e,r,n;t.length!==2?(e=xl,r=(l,c)=>xl(t(l),c),n=(l,c)=>t(l)-c):(e=t===xl||t===tIe?t:rIe,r=t,n=t);function a(l,c,u=0,A=l.length){if(u<A){if(e(c,c)!==0)return A;do{const d=u+A>>>1;r(l[d],c)<0?u=d+1:A=d}while(u<A)}return u}function s(l,c,u=0,A=l.length){if(u<A){if(e(c,c)!==0)return A;do{const d=u+A>>>1;r(l[d],c)<=0?u=d+1:A=d}while(u<A)}return u}function o(l,c,u=0,A=l.length){const d=a(l,c,u,A-1);return d>u&&n(l[d-1],c)>-n(l[d],c)?d-1:d}return{left:a,center:o,right:s}}function rIe(){return 0}function vY(t){return t===null?NaN:+t}function*nIe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const aIe=rP(xl),hg=aIe.right;rP(vY).center;class N3 extends Map{constructor(e,r=oIe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(k3(this,e))}has(e){return super.has(k3(this,e))}set(e,r){return super.set(sIe(this,e),r)}delete(e){return super.delete(iIe(this,e))}}function k3({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function sIe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function iIe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function oIe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function lIe(t=xl){if(t===xl)return yY;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function yY(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const cIe=Math.sqrt(50),uIe=Math.sqrt(10),AIe=Math.sqrt(2);function By(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=cIe?10:s>=uIe?5:s>=AIe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?By(t,e,r*2):[l,c,u]}function xN(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,s,o]=n?By(e,t,r):By(t,e,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function vN(t,e,r){return e=+e,t=+t,r=+r,By(t,e,r)[2]}function yN(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?vN(e,t,r):vN(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function T3(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function I3(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function bY(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?yY:lIe(a);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,A=Math.log(c),d=.5*Math.exp(2*A/3),h=.5*Math.sqrt(A*d*(c-d)/c)*(u-c/2<0?-1:1),f=Math.max(r,Math.floor(e-u*d/c+h)),p=Math.min(n,Math.floor(e+(c-u)*d/c+h));bY(t,e,f,p,a)}const s=t[e];let o=r,l=n;for(Jh(t,r,e),a(t[n],s)>0&&Jh(t,r,n);o<l;){for(Jh(t,o,l),++o,--l;a(t[o],s)<0;)++o;for(;a(t[l],s)>0;)--l}a(t[r],s)===0?Jh(t,r,l):(++l,Jh(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Jh(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function dIe(t,e,r){if(t=Float64Array.from(nIe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return I3(t);if(e>=1)return T3(t);var n,a=(n-1)*e,s=Math.floor(a),o=T3(bY(t,s).subarray(0,s+1)),l=I3(t.subarray(s+1));return o+(l-o)*(a-s)}}function hIe(t,e,r=vY){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,s=Math.floor(a),o=+r(t[s],s,t),l=+r(t[s+1],s+1,t);return o+(l-o)*(a-s)}}function fIe(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(a);++n<a;)s[n]=t+n*r;return s}function fs(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function yo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const bN=Symbol("implicit");function nP(){var t=new N3,e=[],r=[],n=bN;function a(s){let o=t.get(s);if(o===void 0){if(n!==bN)return n;t.set(s,o=e.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new N3;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return nP(e,r).unknown(n)},fs.apply(a,arguments),a}function Zm(){var t=nP().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,s,o,l=!1,c=0,u=0,A=.5;delete t.unknown;function d(){var h=e().length,f=a<n,p=f?a:n,g=f?n:a;s=(g-p)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),p+=(g-p-s*(h-c))*A,o=s*(1-c),l&&(p=Math.round(p),o=Math.round(o));var m=fIe(h).map(function(b){return p+s*b});return r(f?m.reverse():m)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},t.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,d()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(h){return arguments.length?(l=!!h,d()):l},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),d()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(A=Math.max(0,Math.min(1,h)),d()):A},t.copy=function(){return Zm(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(A)},fs.apply(d(),arguments)}function wY(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return wY(e())},t}function Gf(){return wY(Zm.apply(null,arguments).paddingInner(1))}function aP(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function _Y(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function fg(){}var ep=.7,Cy=1/ep,FA="\\s*([+-]?\\d+)\\s*",tp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mIe=/^#([0-9a-f]{3,8})$/,pIe=new RegExp(`^rgb\\(${FA},${FA},${FA}\\)$`),gIe=new RegExp(`^rgb\\(${hi},${hi},${hi}\\)$`),xIe=new RegExp(`^rgba\\(${FA},${FA},${FA},${tp}\\)$`),vIe=new RegExp(`^rgba\\(${hi},${hi},${hi},${tp}\\)$`),yIe=new RegExp(`^hsl\\(${tp},${hi},${hi}\\)$`),bIe=new RegExp(`^hsla\\(${tp},${hi},${hi},${tp}\\)$`),P3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};aP(fg,rp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:F3,formatHex:F3,formatHex8:wIe,formatHsl:_Ie,formatRgb:D3,toString:D3});function F3(){return this.rgb().formatHex()}function wIe(){return this.rgb().formatHex8()}function _Ie(){return BY(this).formatHsl()}function D3(){return this.rgb().formatRgb()}function rp(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=mIe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?O3(e):r===3?new Ba(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?U0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?U0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=pIe.exec(t))?new Ba(e[1],e[2],e[3],1):(e=gIe.exec(t))?new Ba(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=xIe.exec(t))?U0(e[1],e[2],e[3],e[4]):(e=vIe.exec(t))?U0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=yIe.exec(t))?M3(e[1],e[2]/100,e[3]/100,1):(e=bIe.exec(t))?M3(e[1],e[2]/100,e[3]/100,e[4]):P3.hasOwnProperty(t)?O3(P3[t]):t==="transparent"?new Ba(NaN,NaN,NaN,0):null}function O3(t){return new Ba(t>>16&255,t>>8&255,t&255,1)}function U0(t,e,r,n){return n<=0&&(t=e=r=NaN),new Ba(t,e,r,n)}function BIe(t){return t instanceof fg||(t=rp(t)),t?(t=t.rgb(),new Ba(t.r,t.g,t.b,t.opacity)):new Ba}function wN(t,e,r,n){return arguments.length===1?BIe(t):new Ba(t,e,r,n??1)}function Ba(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}aP(Ba,wN,_Y(fg,{brighter(t){return t=t==null?Cy:Math.pow(Cy,t),new Ba(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ep:Math.pow(ep,t),new Ba(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ba(Wc(this.r),Wc(this.g),Wc(this.b),jy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:R3,formatHex:R3,formatHex8:CIe,formatRgb:U3,toString:U3}));function R3(){return`#${Pc(this.r)}${Pc(this.g)}${Pc(this.b)}`}function CIe(){return`#${Pc(this.r)}${Pc(this.g)}${Pc(this.b)}${Pc((isNaN(this.opacity)?1:this.opacity)*255)}`}function U3(){const t=jy(this.opacity);return`${t===1?"rgb(":"rgba("}${Wc(this.r)}, ${Wc(this.g)}, ${Wc(this.b)}${t===1?")":`, ${t})`}`}function jy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Wc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Pc(t){return t=Wc(t),(t<16?"0":"")+t.toString(16)}function M3(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ks(t,e,r,n)}function BY(t){if(t instanceof ks)return new ks(t.h,t.s,t.l,t.opacity);if(t instanceof fg||(t=rp(t)),!t)return new ks;if(t instanceof ks)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),s=Math.max(e,r,n),o=NaN,l=s-a,c=(s+a)/2;return l?(e===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new ks(o,l,c,t.opacity)}function jIe(t,e,r,n){return arguments.length===1?BY(t):new ks(t,e,r,n??1)}function ks(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}aP(ks,jIe,_Y(fg,{brighter(t){return t=t==null?Cy:Math.pow(Cy,t),new ks(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ep:Math.pow(ep,t),new ks(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new Ba(Zj(t>=240?t-240:t+120,a,n),Zj(t,a,n),Zj(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new ks(Q3(this.h),M0(this.s),M0(this.l),jy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=jy(this.opacity);return`${t===1?"hsl(":"hsla("}${Q3(this.h)}, ${M0(this.s)*100}%, ${M0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Q3(t){return t=(t||0)%360,t<0?t+360:t}function M0(t){return Math.max(0,Math.min(1,t||0))}function Zj(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const sP=t=>()=>t;function EIe(t,e){return function(r){return t+r*e}}function SIe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function NIe(t){return(t=+t)==1?CY:function(e,r){return r-e?SIe(e,r,t):sP(isNaN(e)?r:e)}}function CY(t,e){var r=e-t;return r?EIe(t,r):sP(isNaN(t)?e:t)}const L3=function t(e){var r=NIe(e);function n(a,s){var o=r((a=wN(a)).r,(s=wN(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=CY(a.opacity,s.opacity);return function(A){return a.r=o(A),a.g=l(A),a.b=c(A),a.opacity=u(A),a+""}}return n.gamma=t,n}(1);function kIe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=t[a]*(1-s)+e[a]*s;return n}}function TIe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function IIe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=Ah(t[o],e[o]);for(;o<r;++o)s[o]=e[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function PIe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Ey(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function FIe(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Ah(t[a],e[a]):n[a]=e[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var _N=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eE=new RegExp(_N.source,"g");function DIe(t){return function(){return t}}function OIe(t){return function(e){return t(e)+""}}function RIe(t,e){var r=_N.lastIndex=eE.lastIndex=0,n,a,s,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=_N.exec(t))&&(a=eE.exec(e));)(s=a.index)>r&&(s=e.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Ey(n,a)})),r=eE.lastIndex;return r<e.length&&(s=e.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?OIe(c[0].x):DIe(e):(e=c.length,function(u){for(var A=0,d;A<e;++A)l[(d=c[A]).i]=d.x(u);return l.join("")})}function Ah(t,e){var r=typeof e,n;return e==null||r==="boolean"?sP(e):(r==="number"?Ey:r==="string"?(n=rp(e))?(e=n,L3):RIe:e instanceof rp?L3:e instanceof Date?PIe:TIe(e)?kIe:Array.isArray(e)?IIe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?FIe:Ey)(t,e)}function iP(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function UIe(t,e){e===void 0&&(e=t,t=Ah);for(var r=0,n=e.length-1,a=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(a,a=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function MIe(t){return function(){return t}}function Sy(t){return+t}var H3=[0,1];function la(t){return t}function BN(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:MIe(isNaN(e)?NaN:.5)}function QIe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function LIe(t,e,r){var n=t[0],a=t[1],s=e[0],o=e[1];return a<n?(n=BN(a,n),s=r(o,s)):(n=BN(n,a),s=r(s,o)),function(l){return s(n(l))}}function HIe(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),s=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)a[o]=BN(t[o],t[o+1]),s[o]=r(e[o],e[o+1]);return function(l){var c=hg(t,l,1,n)-1;return s[c](a[c](l))}}function mg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Iw(){var t=H3,e=H3,r=Ah,n,a,s,o=la,l,c,u;function A(){var h=Math.min(t.length,e.length);return o!==la&&(o=QIe(t[0],t[h-1])),l=h>2?HIe:LIe,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?s:(c||(c=l(t.map(n),e,r)))(n(o(h)))}return d.invert=function(h){return o(a((u||(u=l(e,t.map(n),Ey)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Sy),A()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),A()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),r=iP,A()},d.clamp=function(h){return arguments.length?(o=h?!0:la,A()):o!==la},d.interpolate=function(h){return arguments.length?(r=h,A()):r},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,f){return n=h,a=f,A()}}function oP(){return Iw()(la,la)}function $Ie(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ny(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Cd(t){return t=Ny(Math.abs(t)),t?t[1]:NaN}function VIe(t,e){return function(r,n){for(var a=r.length,s=[],o=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return s.reverse().join(e)}}function KIe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var qIe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function np(t){if(!(e=qIe.exec(t)))throw new Error("invalid format: "+t);var e;return new lP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}np.prototype=lP.prototype;function lP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}lP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zIe(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var jY;function GIe(t,e){var r=Ny(t,e);if(!r)return t+"";var n=r[0],a=r[1],s=a-(jY=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Ny(t,Math.max(0,e+s-1))[0]}function $3(t,e){var r=Ny(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const V3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:$Ie,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>$3(t*100,e),r:$3,s:GIe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function K3(t){return t}var q3=Array.prototype.map,z3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function WIe(t){var e=t.grouping===void 0||t.thousands===void 0?K3:VIe(q3.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?K3:KIe(q3.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(d){d=np(d);var h=d.fill,f=d.align,p=d.sign,g=d.symbol,m=d.zero,b=d.width,y=d.comma,w=d.precision,x=d.trim,C=d.type;C==="n"?(y=!0,C="g"):V3[C]||(w===void 0&&(w=12),x=!0,C="g"),(m||h==="0"&&f==="=")&&(m=!0,h="0",f="=");var E=g==="$"?r:g==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",B=g==="$"?n:/[%p]/.test(C)?o:"",j=V3[C],N=/[defgprs%]/.test(C);w=w===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function S(k){var I=E,T=B,O,U,H;if(C==="c")T=j(k)+T,k="";else{k=+k;var R=k<0||1/k<0;if(k=isNaN(k)?c:j(Math.abs(k),w),x&&(k=zIe(k)),R&&+k==0&&p!=="+"&&(R=!1),I=(R?p==="("?p:l:p==="-"||p==="("?"":p)+I,T=(C==="s"?z3[8+jY/3]:"")+T+(R&&p==="("?")":""),N){for(O=-1,U=k.length;++O<U;)if(H=k.charCodeAt(O),48>H||H>57){T=(H===46?a+k.slice(O+1):k.slice(O))+T,k=k.slice(0,O);break}}}y&&!m&&(k=e(k,1/0));var D=I.length+k.length+T.length,M=D<b?new Array(b-D+1).join(h):"";switch(y&&m&&(k=e(M+k,M.length?b-T.length:1/0),M=""),f){case"<":k=I+k+T+M;break;case"=":k=I+M+k+T;break;case"^":k=M.slice(0,D=M.length>>1)+I+k+T+M.slice(D);break;default:k=M+I+k+T;break}return s(k)}return S.toString=function(){return d+""},S}function A(d,h){var f=u((d=np(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(Cd(h)/3)))*3,g=Math.pow(10,-p),m=z3[8+p/3];return function(b){return f(g*b)+m}}return{format:u,formatPrefix:A}}var Q0,cP,EY;XIe({thousands:",",grouping:[3],currency:["$",""]});function XIe(t){return Q0=WIe(t),cP=Q0.format,EY=Q0.formatPrefix,Q0}function YIe(t){return Math.max(0,-Cd(Math.abs(t)))}function JIe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Cd(e)/3)))*3-Cd(Math.abs(t)))}function ZIe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Cd(e)-Cd(t))+1}function SY(t,e,r,n){var a=yN(t,e,r),s;switch(n=np(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=JIe(a,o))&&(n.precision=s),EY(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=ZIe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=YIe(a))&&(n.precision=s-(n.type==="%")*2);break}}return cP(n)}function zl(t){var e=t.domain;return t.ticks=function(r){var n=e();return xN(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return SY(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,s=n.length-1,o=n[a],l=n[s],c,u,A=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);A-- >0;){if(u=vN(o,l,r),u===c)return n[a]=o,n[s]=l,e(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function ky(){var t=oP();return t.copy=function(){return mg(t,ky())},fs.apply(t,arguments),zl(t)}function NY(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Sy),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return NY(t).unknown(e)},t=arguments.length?Array.from(t,Sy):[0,1],zl(r)}function kY(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],s=t[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),t[r]=e.floor(a),t[n]=e.ceil(s),t}function G3(t){return Math.log(t)}function W3(t){return Math.exp(t)}function ePe(t){return-Math.log(-t)}function tPe(t){return-Math.exp(-t)}function rPe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function nPe(t){return t===10?rPe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function aPe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function X3(t){return(e,r)=>-t(-e,r)}function uP(t){const e=t(G3,W3),r=e.domain;let n=10,a,s;function o(){return a=aPe(n),s=nPe(n),r()[0]<0?(a=X3(a),s=X3(s),t(ePe,tPe)):t(G3,W3),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let u=c[0],A=c[c.length-1];const d=A<u;d&&([u,A]=[A,u]);let h=a(u),f=a(A),p,g;const m=l==null?10:+l;let b=[];if(!(n%1)&&f-h<m){if(h=Math.floor(h),f=Math.ceil(f),u>0){for(;h<=f;++h)for(p=1;p<n;++p)if(g=h<0?p/s(-h):p*s(h),!(g<u)){if(g>A)break;b.push(g)}}else for(;h<=f;++h)for(p=n-1;p>=1;--p)if(g=h>0?p/s(-h):p*s(h),!(g<u)){if(g>A)break;b.push(g)}b.length*2<m&&(b=xN(u,A,m))}else b=xN(h,f,Math.min(f-h,m)).map(s);return d?b.reverse():b},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=np(c)).precision==null&&(c.trim=!0),c=cP(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return A=>{let d=A/s(Math.round(a(A)));return d*n<n-.5&&(d*=n),d<=u?c(A):""}},e.nice=()=>r(kY(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),e}function TY(){const t=uP(Iw()).domain([1,10]);return t.copy=()=>mg(t,TY()).base(t.base()),fs.apply(t,arguments),t}function Y3(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function J3(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function AP(t){var e=1,r=t(Y3(e),J3(e));return r.constant=function(n){return arguments.length?t(Y3(e=+n),J3(e)):e},zl(r)}function IY(){var t=AP(Iw());return t.copy=function(){return mg(t,IY()).constant(t.constant())},fs.apply(t,arguments)}function Z3(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function sPe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function iPe(t){return t<0?-t*t:t*t}function dP(t){var e=t(la,la),r=1;function n(){return r===1?t(la,la):r===.5?t(sPe,iPe):t(Z3(r),Z3(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},zl(e)}function hP(){var t=dP(Iw());return t.copy=function(){return mg(t,hP()).exponent(t.exponent())},fs.apply(t,arguments),t}function oPe(){return hP.apply(null,arguments).exponent(.5)}function e6(t){return Math.sign(t)*t*t}function lPe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function PY(){var t=oP(),e=[0,1],r=!1,n;function a(s){var o=lPe(t(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return t.invert(e6(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,Sy)).map(e6)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return PY(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},fs.apply(a,arguments),zl(a)}function FY(){var t=[],e=[],r=[],n;function a(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=hIe(t,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:e[hg(r,o)]}return s.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(xl),a()},s.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return FY().domain(t).range(e).unknown(n)},fs.apply(s,arguments)}function DY(){var t=0,e=1,r=1,n=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[hg(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return DY().domain([t,e]).range(a).unknown(s)},fs.apply(zl(o),arguments)}function OY(){var t=[.5],e=[0,1],r,n=1;function a(s){return s!=null&&s<=s?e[hg(t,s,0,n)]:r}return a.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return OY().domain(t).range(e).unknown(r)},fs.apply(a,arguments)}const tE=new Date,rE=new Date;function cn(t,e,r,n){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<o);return c},a.filter=s=>cn(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!s(o););else for(;--l>=0;)for(;e(o,1),!s(o););}),r&&(a.count=(s,o)=>(tE.setTime(+s),rE.setTime(+o),t(tE),t(rE),Math.floor(r(tE,rE))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const Ty=cn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ty.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?cn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Ty);Ty.range;const $i=1e3,ss=$i*60,Vi=ss*60,uo=Vi*24,fP=uo*7,t6=uo*30,nE=uo*365,Fc=cn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*$i)},(t,e)=>(e-t)/$i,t=>t.getUTCSeconds());Fc.range;const mP=cn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$i)},(t,e)=>{t.setTime(+t+e*ss)},(t,e)=>(e-t)/ss,t=>t.getMinutes());mP.range;const pP=cn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ss)},(t,e)=>(e-t)/ss,t=>t.getUTCMinutes());pP.range;const gP=cn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$i-t.getMinutes()*ss)},(t,e)=>{t.setTime(+t+e*Vi)},(t,e)=>(e-t)/Vi,t=>t.getHours());gP.range;const xP=cn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Vi)},(t,e)=>(e-t)/Vi,t=>t.getUTCHours());xP.range;const pg=cn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ss)/uo,t=>t.getDate()-1);pg.range;const Pw=cn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/uo,t=>t.getUTCDate()-1);Pw.range;const RY=cn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/uo,t=>Math.floor(t/uo));RY.range;function wu(t){return cn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*ss)/fP)}const Fw=wu(0),Iy=wu(1),cPe=wu(2),uPe=wu(3),jd=wu(4),APe=wu(5),dPe=wu(6);Fw.range;Iy.range;cPe.range;uPe.range;jd.range;APe.range;dPe.range;function _u(t){return cn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/fP)}const Dw=_u(0),Py=_u(1),hPe=_u(2),fPe=_u(3),Ed=_u(4),mPe=_u(5),pPe=_u(6);Dw.range;Py.range;hPe.range;fPe.range;Ed.range;mPe.range;pPe.range;const vP=cn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());vP.range;const yP=cn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());yP.range;const Ao=cn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ao.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:cn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Ao.range;const ho=cn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ho.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:cn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ho.range;function UY(t,e,r,n,a,s){const o=[[Fc,1,$i],[Fc,5,5*$i],[Fc,15,15*$i],[Fc,30,30*$i],[s,1,ss],[s,5,5*ss],[s,15,15*ss],[s,30,30*ss],[a,1,Vi],[a,3,3*Vi],[a,6,6*Vi],[a,12,12*Vi],[n,1,uo],[n,2,2*uo],[r,1,fP],[e,1,t6],[e,3,3*t6],[t,1,nE]];function l(u,A,d){const h=A<u;h&&([u,A]=[A,u]);const f=d&&typeof d.range=="function"?d:c(u,A,d),p=f?f.range(u,+A+1):[];return h?p.reverse():p}function c(u,A,d){const h=Math.abs(A-u)/d,f=rP(([,,m])=>m).right(o,h);if(f===o.length)return t.every(yN(u/nE,A/nE,d));if(f===0)return Ty.every(Math.max(yN(u,A,d),1));const[p,g]=o[h/o[f-1][2]<o[f][2]/h?f-1:f];return p.every(g)}return[l,c]}const[gPe,xPe]=UY(ho,yP,Dw,RY,xP,pP),[vPe,yPe]=UY(Ao,vP,Fw,pg,gP,mP);function aE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function sE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Zh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function bPe(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,s=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=ef(a),A=tf(a),d=ef(s),h=tf(s),f=ef(o),p=tf(o),g=ef(l),m=tf(l),b=ef(c),y=tf(c),w={a:R,A:D,b:M,B:Q,c:null,d:o6,e:o6,f:VPe,g:e4e,G:r4e,H:LPe,I:HPe,j:$Pe,L:MY,m:KPe,M:qPe,p:L,q:K,Q:u6,s:A6,S:zPe,u:GPe,U:WPe,V:XPe,w:YPe,W:JPe,x:null,X:null,y:ZPe,Y:t4e,Z:n4e,"%":c6},x={a:G,A:q,b:W,B:re,c:null,d:l6,e:l6,f:o4e,g:g4e,G:v4e,H:a4e,I:s4e,j:i4e,L:LY,m:l4e,M:c4e,p:le,q:ne,Q:u6,s:A6,S:u4e,u:A4e,U:d4e,V:h4e,w:f4e,W:m4e,x:null,X:null,y:p4e,Y:x4e,Z:y4e,"%":c6},C={a:S,A:k,b:I,B:T,c:O,d:s6,e:s6,f:RPe,g:a6,G:n6,H:i6,I:i6,j:PPe,L:OPe,m:IPe,M:FPe,p:N,q:TPe,Q:MPe,s:QPe,S:DPe,u:jPe,U:EPe,V:SPe,w:CPe,W:NPe,x:U,X:H,y:a6,Y:n6,Z:kPe,"%":UPe};w.x=E(r,w),w.X=E(n,w),w.c=E(e,w),x.x=E(r,x),x.X=E(n,x),x.c=E(e,x);function E(ce,Ae){return function(ve){var Y=[],pe=-1,Ee=0,Re=ce.length,$e,wt,X;for(ve instanceof Date||(ve=new Date(+ve));++pe<Re;)ce.charCodeAt(pe)===37&&(Y.push(ce.slice(Ee,pe)),(wt=r6[$e=ce.charAt(++pe)])!=null?$e=ce.charAt(++pe):wt=$e==="e"?" ":"0",(X=Ae[$e])&&($e=X(ve,wt)),Y.push($e),Ee=pe+1);return Y.push(ce.slice(Ee,pe)),Y.join("")}}function B(ce,Ae){return function(ve){var Y=Zh(1900,void 0,1),pe=j(Y,ce,ve+="",0),Ee,Re;if(pe!=ve.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(Ae&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Ee=sE(Zh(Y.y,0,1)),Re=Ee.getUTCDay(),Ee=Re>4||Re===0?Py.ceil(Ee):Py(Ee),Ee=Pw.offset(Ee,(Y.V-1)*7),Y.y=Ee.getUTCFullYear(),Y.m=Ee.getUTCMonth(),Y.d=Ee.getUTCDate()+(Y.w+6)%7):(Ee=aE(Zh(Y.y,0,1)),Re=Ee.getDay(),Ee=Re>4||Re===0?Iy.ceil(Ee):Iy(Ee),Ee=pg.offset(Ee,(Y.V-1)*7),Y.y=Ee.getFullYear(),Y.m=Ee.getMonth(),Y.d=Ee.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Re="Z"in Y?sE(Zh(Y.y,0,1)).getUTCDay():aE(Zh(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Re+5)%7:Y.w+Y.U*7-(Re+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,sE(Y)):aE(Y)}}function j(ce,Ae,ve,Y){for(var pe=0,Ee=Ae.length,Re=ve.length,$e,wt;pe<Ee;){if(Y>=Re)return-1;if($e=Ae.charCodeAt(pe++),$e===37){if($e=Ae.charAt(pe++),wt=C[$e in r6?Ae.charAt(pe++):$e],!wt||(Y=wt(ce,ve,Y))<0)return-1}else if($e!=ve.charCodeAt(Y++))return-1}return Y}function N(ce,Ae,ve){var Y=u.exec(Ae.slice(ve));return Y?(ce.p=A.get(Y[0].toLowerCase()),ve+Y[0].length):-1}function S(ce,Ae,ve){var Y=f.exec(Ae.slice(ve));return Y?(ce.w=p.get(Y[0].toLowerCase()),ve+Y[0].length):-1}function k(ce,Ae,ve){var Y=d.exec(Ae.slice(ve));return Y?(ce.w=h.get(Y[0].toLowerCase()),ve+Y[0].length):-1}function I(ce,Ae,ve){var Y=b.exec(Ae.slice(ve));return Y?(ce.m=y.get(Y[0].toLowerCase()),ve+Y[0].length):-1}function T(ce,Ae,ve){var Y=g.exec(Ae.slice(ve));return Y?(ce.m=m.get(Y[0].toLowerCase()),ve+Y[0].length):-1}function O(ce,Ae,ve){return j(ce,e,Ae,ve)}function U(ce,Ae,ve){return j(ce,r,Ae,ve)}function H(ce,Ae,ve){return j(ce,n,Ae,ve)}function R(ce){return o[ce.getDay()]}function D(ce){return s[ce.getDay()]}function M(ce){return c[ce.getMonth()]}function Q(ce){return l[ce.getMonth()]}function L(ce){return a[+(ce.getHours()>=12)]}function K(ce){return 1+~~(ce.getMonth()/3)}function G(ce){return o[ce.getUTCDay()]}function q(ce){return s[ce.getUTCDay()]}function W(ce){return c[ce.getUTCMonth()]}function re(ce){return l[ce.getUTCMonth()]}function le(ce){return a[+(ce.getUTCHours()>=12)]}function ne(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var Ae=E(ce+="",w);return Ae.toString=function(){return ce},Ae},parse:function(ce){var Ae=B(ce+="",!1);return Ae.toString=function(){return ce},Ae},utcFormat:function(ce){var Ae=E(ce+="",x);return Ae.toString=function(){return ce},Ae},utcParse:function(ce){var Ae=B(ce+="",!0);return Ae.toString=function(){return ce},Ae}}}var r6={"-":"",_:" ",0:"0"},bn=/^\s*\d+/,wPe=/^%/,_Pe=/[\\^$*+?|[\]().{}]/g;function Zt(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(e)+a:a)}function BPe(t){return t.replace(_Pe,"\\$&")}function ef(t){return new RegExp("^(?:"+t.map(BPe).join("|")+")","i")}function tf(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function CPe(t,e,r){var n=bn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function jPe(t,e,r){var n=bn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function EPe(t,e,r){var n=bn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function SPe(t,e,r){var n=bn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function NPe(t,e,r){var n=bn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function n6(t,e,r){var n=bn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function a6(t,e,r){var n=bn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function kPe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function TPe(t,e,r){var n=bn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function IPe(t,e,r){var n=bn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function s6(t,e,r){var n=bn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function PPe(t,e,r){var n=bn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function i6(t,e,r){var n=bn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function FPe(t,e,r){var n=bn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function DPe(t,e,r){var n=bn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function OPe(t,e,r){var n=bn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function RPe(t,e,r){var n=bn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function UPe(t,e,r){var n=wPe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function MPe(t,e,r){var n=bn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function QPe(t,e,r){var n=bn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function o6(t,e){return Zt(t.getDate(),e,2)}function LPe(t,e){return Zt(t.getHours(),e,2)}function HPe(t,e){return Zt(t.getHours()%12||12,e,2)}function $Pe(t,e){return Zt(1+pg.count(Ao(t),t),e,3)}function MY(t,e){return Zt(t.getMilliseconds(),e,3)}function VPe(t,e){return MY(t,e)+"000"}function KPe(t,e){return Zt(t.getMonth()+1,e,2)}function qPe(t,e){return Zt(t.getMinutes(),e,2)}function zPe(t,e){return Zt(t.getSeconds(),e,2)}function GPe(t){var e=t.getDay();return e===0?7:e}function WPe(t,e){return Zt(Fw.count(Ao(t)-1,t),e,2)}function QY(t){var e=t.getDay();return e>=4||e===0?jd(t):jd.ceil(t)}function XPe(t,e){return t=QY(t),Zt(jd.count(Ao(t),t)+(Ao(t).getDay()===4),e,2)}function YPe(t){return t.getDay()}function JPe(t,e){return Zt(Iy.count(Ao(t)-1,t),e,2)}function ZPe(t,e){return Zt(t.getFullYear()%100,e,2)}function e4e(t,e){return t=QY(t),Zt(t.getFullYear()%100,e,2)}function t4e(t,e){return Zt(t.getFullYear()%1e4,e,4)}function r4e(t,e){var r=t.getDay();return t=r>=4||r===0?jd(t):jd.ceil(t),Zt(t.getFullYear()%1e4,e,4)}function n4e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Zt(e/60|0,"0",2)+Zt(e%60,"0",2)}function l6(t,e){return Zt(t.getUTCDate(),e,2)}function a4e(t,e){return Zt(t.getUTCHours(),e,2)}function s4e(t,e){return Zt(t.getUTCHours()%12||12,e,2)}function i4e(t,e){return Zt(1+Pw.count(ho(t),t),e,3)}function LY(t,e){return Zt(t.getUTCMilliseconds(),e,3)}function o4e(t,e){return LY(t,e)+"000"}function l4e(t,e){return Zt(t.getUTCMonth()+1,e,2)}function c4e(t,e){return Zt(t.getUTCMinutes(),e,2)}function u4e(t,e){return Zt(t.getUTCSeconds(),e,2)}function A4e(t){var e=t.getUTCDay();return e===0?7:e}function d4e(t,e){return Zt(Dw.count(ho(t)-1,t),e,2)}function HY(t){var e=t.getUTCDay();return e>=4||e===0?Ed(t):Ed.ceil(t)}function h4e(t,e){return t=HY(t),Zt(Ed.count(ho(t),t)+(ho(t).getUTCDay()===4),e,2)}function f4e(t){return t.getUTCDay()}function m4e(t,e){return Zt(Py.count(ho(t)-1,t),e,2)}function p4e(t,e){return Zt(t.getUTCFullYear()%100,e,2)}function g4e(t,e){return t=HY(t),Zt(t.getUTCFullYear()%100,e,2)}function x4e(t,e){return Zt(t.getUTCFullYear()%1e4,e,4)}function v4e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Ed(t):Ed.ceil(t),Zt(t.getUTCFullYear()%1e4,e,4)}function y4e(){return"+0000"}function c6(){return"%"}function u6(t){return+t}function A6(t){return Math.floor(+t/1e3)}var oA,$Y,VY;b4e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function b4e(t){return oA=bPe(t),$Y=oA.format,oA.parse,VY=oA.utcFormat,oA.utcParse,oA}function w4e(t){return new Date(t)}function _4e(t){return t instanceof Date?+t:+new Date(+t)}function bP(t,e,r,n,a,s,o,l,c,u){var A=oP(),d=A.invert,h=A.domain,f=u(".%L"),p=u(":%S"),g=u("%I:%M"),m=u("%I %p"),b=u("%a %d"),y=u("%b %d"),w=u("%B"),x=u("%Y");function C(E){return(c(E)<E?f:l(E)<E?p:o(E)<E?g:s(E)<E?m:n(E)<E?a(E)<E?b:y:r(E)<E?w:x)(E)}return A.invert=function(E){return new Date(d(E))},A.domain=function(E){return arguments.length?h(Array.from(E,_4e)):h().map(w4e)},A.ticks=function(E){var B=h();return t(B[0],B[B.length-1],E??10)},A.tickFormat=function(E,B){return B==null?C:u(B)},A.nice=function(E){var B=h();return(!E||typeof E.range!="function")&&(E=e(B[0],B[B.length-1],E??10)),E?h(kY(B,E)):A},A.copy=function(){return mg(A,bP(t,e,r,n,a,s,o,l,c,u))},A}function B4e(){return fs.apply(bP(vPe,yPe,Ao,vP,Fw,pg,gP,mP,Fc,$Y).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function C4e(){return fs.apply(bP(gPe,xPe,ho,yP,Dw,Pw,xP,pP,Fc,VY).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ow(){var t=0,e=1,r,n,a,s,o=la,l=!1,c;function u(d){return d==null||isNaN(d=+d)?c:o(a===0?.5:(d=(s(d)-r)*a,l?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,r=s(t=+t),n=s(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(d){return arguments.length?(l=!!d,u):l},u.interpolator=function(d){return arguments.length?(o=d,u):o};function A(d){return function(h){var f,p;return arguments.length?([f,p]=h,o=d(f,p),u):[o(0),o(1)]}}return u.range=A(Ah),u.rangeRound=A(iP),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return s=d,r=d(t),n=d(e),a=r===n?0:1/(n-r),u}}function Gl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function KY(){var t=zl(Ow()(la));return t.copy=function(){return Gl(t,KY())},yo.apply(t,arguments)}function qY(){var t=uP(Ow()).domain([1,10]);return t.copy=function(){return Gl(t,qY()).base(t.base())},yo.apply(t,arguments)}function zY(){var t=AP(Ow());return t.copy=function(){return Gl(t,zY()).constant(t.constant())},yo.apply(t,arguments)}function wP(){var t=dP(Ow());return t.copy=function(){return Gl(t,wP()).exponent(t.exponent())},yo.apply(t,arguments)}function j4e(){return wP.apply(null,arguments).exponent(.5)}function GY(){var t=[],e=la;function r(n){if(n!=null&&!isNaN(n=+n))return e((hg(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(xl),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>dIe(t,s/n))},r.copy=function(){return GY(e).domain(t)},yo.apply(r,arguments)}function Rw(){var t=0,e=.5,r=1,n=1,a,s,o,l,c,u=la,A,d=!1,h;function f(g){return isNaN(g=+g)?h:(g=.5+((g=+A(g))-s)*(n*g<n*s?l:c),u(d?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([t,e,r]=g,a=A(t=+t),s=A(e=+e),o=A(r=+r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,f):[t,e,r]},f.clamp=function(g){return arguments.length?(d=!!g,f):d},f.interpolator=function(g){return arguments.length?(u=g,f):u};function p(g){return function(m){var b,y,w;return arguments.length?([b,y,w]=m,u=UIe(g,[b,y,w]),f):[u(0),u(.5),u(1)]}}return f.range=p(Ah),f.rangeRound=p(iP),f.unknown=function(g){return arguments.length?(h=g,f):h},function(g){return A=g,a=g(t),s=g(e),o=g(r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,f}}function WY(){var t=zl(Rw()(la));return t.copy=function(){return Gl(t,WY())},yo.apply(t,arguments)}function XY(){var t=uP(Rw()).domain([.1,1,10]);return t.copy=function(){return Gl(t,XY()).base(t.base())},yo.apply(t,arguments)}function YY(){var t=AP(Rw());return t.copy=function(){return Gl(t,YY()).constant(t.constant())},yo.apply(t,arguments)}function _P(){var t=dP(Rw());return t.copy=function(){return Gl(t,_P()).exponent(t.exponent())},yo.apply(t,arguments)}function E4e(){return _P.apply(null,arguments).exponent(.5)}const d6=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Zm,scaleDiverging:WY,scaleDivergingLog:XY,scaleDivergingPow:_P,scaleDivergingSqrt:E4e,scaleDivergingSymlog:YY,scaleIdentity:NY,scaleImplicit:bN,scaleLinear:ky,scaleLog:TY,scaleOrdinal:nP,scalePoint:Gf,scalePow:hP,scaleQuantile:FY,scaleQuantize:DY,scaleRadial:PY,scaleSequential:KY,scaleSequentialLog:qY,scaleSequentialPow:wP,scaleSequentialQuantile:GY,scaleSequentialSqrt:j4e,scaleSequentialSymlog:zY,scaleSqrt:oPe,scaleSymlog:IY,scaleThreshold:OY,scaleTime:B4e,scaleUtc:C4e,tickFormat:SY},Symbol.toStringTag,{value:"Module"}));var iE,h6;function JY(){if(h6)return iE;h6=1;var t=oh();function e(r,n,a){for(var s=-1,o=r.length;++s<o;){var l=r[s],c=n(l);if(c!=null&&(u===void 0?c===c&&!t(c):a(c,u)))var u=c,A=l}return A}return iE=e,iE}var oE,f6;function S4e(){if(f6)return oE;f6=1;function t(e,r){return e>r}return oE=t,oE}var lE,m6;function N4e(){if(m6)return lE;m6=1;var t=JY(),e=S4e(),r=ch();function n(a){return a&&a.length?t(a,r,e):void 0}return lE=n,lE}var k4e=N4e();const Uw=Wt(k4e);var cE,p6;function T4e(){if(p6)return cE;p6=1;function t(e,r){return e<r}return cE=t,cE}var uE,g6;function I4e(){if(g6)return uE;g6=1;var t=JY(),e=T4e(),r=ch();function n(a){return a&&a.length?t(a,r,e):void 0}return uE=n,uE}var P4e=I4e();const Mw=Wt(P4e);var AE,x6;function F4e(){if(x6)return AE;x6=1;var t=MI(),e=ql(),r=iY(),n=Sa();function a(s,o){var l=n(s)?t:r;return l(s,e(o,3))}return AE=a,AE}var dE,v6;function D4e(){if(v6)return dE;v6=1;var t=aY(),e=F4e();function r(n,a){return t(e(n,a),1)}return dE=r,dE}var O4e=D4e();const R4e=Wt(O4e);var hE,y6;function U4e(){if(y6)return hE;y6=1;var t=JI();function e(r,n){return t(r,n)}return hE=e,hE}var M4e=U4e();const Qw=Wt(M4e);var dh=1e9,Q4e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},CP,Ir=!0,ds="[DecimalError] ",Xc=ds+"Invalid argument: ",BP=ds+"Exponent out of range: ",hh=Math.floor,vc=Math.pow,L4e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ha,mn=1e7,Nr=7,ZY=9007199254740991,Fy=hh(ZY/Nr),We={};We.absoluteValue=We.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};We.comparedTo=We.cmp=function(t){var e,r,n,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};We.decimalPlaces=We.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Nr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};We.dividedBy=We.div=function(t){return Zi(this,new this.constructor(t))};We.dividedToIntegerBy=We.idiv=function(t){var e=this,r=e.constructor;return gr(Zi(e,new r(t),0,1),r.precision)};We.equals=We.eq=function(t){return!this.cmp(t)};We.exponent=function(){return Jr(this)};We.greaterThan=We.gt=function(t){return this.cmp(t)>0};We.greaterThanOrEqualTo=We.gte=function(t){return this.cmp(t)>=0};We.isInteger=We.isint=function(){return this.e>this.d.length-2};We.isNegative=We.isneg=function(){return this.s<0};We.isPositive=We.ispos=function(){return this.s>0};We.isZero=function(){return this.s===0};We.lessThan=We.lt=function(t){return this.cmp(t)<0};We.lessThanOrEqualTo=We.lte=function(t){return this.cmp(t)<1};We.logarithm=We.log=function(t){var e,r=this,n=r.constructor,a=n.precision,s=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Ha))throw Error(ds+"NaN");if(r.s<1)throw Error(ds+(r.s?"NaN":"-Infinity"));return r.eq(Ha)?new n(0):(Ir=!1,e=Zi(ap(r,s),ap(t,s),s),Ir=!0,gr(e,a))};We.minus=We.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?rJ(e,t):eJ(e,(t.s=-t.s,t))};We.modulo=We.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(ds+"NaN");return r.s?(Ir=!1,e=Zi(r,t,0,1).times(t),Ir=!0,r.minus(e)):gr(new n(r),a)};We.naturalExponential=We.exp=function(){return tJ(this)};We.naturalLogarithm=We.ln=function(){return ap(this)};We.negated=We.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};We.plus=We.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?eJ(e,t):rJ(e,(t.s=-t.s,t))};We.precision=We.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Xc+t);if(e=Jr(a)+1,n=a.d.length-1,r=n*Nr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};We.squareRoot=We.sqrt=function(){var t,e,r,n,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ds+"NaN")}for(t=Jr(l),Ir=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=li(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=hh((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(s=n,n=s.plus(Zi(l,s,o+2)).times(.5),li(s.d).slice(0,o)===(e=li(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(gr(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;o+=4}return Ir=!0,gr(n,r)};We.times=We.mul=function(t){var e,r,n,a,s,o,l,c,u,A=this,d=A.constructor,h=A.d,f=(t=new d(t)).d;if(!A.s||!t.s)return new d(0);for(t.s*=A.s,r=A.e+t.e,c=h.length,u=f.length,c<u&&(s=h,h=f,f=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=s[a]+f[n]*h[a-n-1]+e,s[a--]=l%mn|0,e=l/mn|0;s[a]=(s[a]+e)%mn|0}for(;!s[--o];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Ir?gr(t,d.precision):t};We.toDecimalPlaces=We.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(wi(t,0,dh),e===void 0?e=n.rounding:wi(e,0,8),gr(r,t+Jr(r)+1,e))};We.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=mu(n,!0):(wi(t,0,dh),e===void 0?e=a.rounding:wi(e,0,8),n=gr(new a(n),t+1,e),r=mu(n,!0,t+1)),r};We.toFixed=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?mu(a):(wi(t,0,dh),e===void 0?e=s.rounding:wi(e,0,8),n=gr(new s(a),t+Jr(a)+1,e),r=mu(n.abs(),!1,t+Jr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};We.toInteger=We.toint=function(){var t=this,e=t.constructor;return gr(new e(t),Jr(t)+1,e.rounding)};We.toNumber=function(){return+this};We.toPower=We.pow=function(t){var e,r,n,a,s,o,l=this,c=l.constructor,u=12,A=+(t=new c(t));if(!t.s)return new c(Ha);if(l=new c(l),!l.s){if(t.s<1)throw Error(ds+"Infinity");return l}if(l.eq(Ha))return l;if(n=c.precision,t.eq(Ha))return gr(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,s=l.s,o){if((r=A<0?-A:A)<=ZY){for(a=new c(Ha),e=Math.ceil(n/Nr+4),Ir=!1;r%2&&(a=a.times(l),w6(a.d,e)),r=hh(r/2),r!==0;)l=l.times(l),w6(l.d,e);return Ir=!0,t.s<0?new c(Ha).div(a):gr(a,n)}}else if(s<0)throw Error(ds+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Ir=!1,a=t.times(ap(l,n+u)),Ir=!0,a=tJ(a),a.s=s,a};We.toPrecision=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?(r=Jr(a),n=mu(a,r<=s.toExpNeg||r>=s.toExpPos)):(wi(t,1,dh),e===void 0?e=s.rounding:wi(e,0,8),a=gr(new s(a),t,e),r=Jr(a),n=mu(a,t<=r||r<=s.toExpNeg,t)),n};We.toSignificantDigits=We.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(wi(t,1,dh),e===void 0?e=n.rounding:wi(e,0,8)),gr(new n(r),t,e)};We.toString=We.valueOf=We.val=We.toJSON=We[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Jr(t),r=t.constructor;return mu(t,e<=r.toExpNeg||e>=r.toExpPos)};function eJ(t,e){var r,n,a,s,o,l,c,u,A=t.constructor,d=A.precision;if(!t.s||!e.s)return e.s||(e=new A(t)),Ir?gr(e,d):e;if(c=t.d,u=e.d,o=t.e,a=e.e,c=c.slice(),s=o-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(d/Nr),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/mn|0,c[s]%=mn;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,Ir?gr(e,d):e}function wi(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Xc+t)}function li(t){var e,r,n,a=t.length-1,s="",o=t[0];if(a>0){for(s+=o,e=1;e<a;e++)n=t[e]+"",r=Nr-n.length,r&&(s+=Qo(r)),s+=n;o=t[e],n=o+"",r=Nr-n.length,r&&(s+=Qo(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Zi=function(){function t(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%mn|0,o=s/mn|0;return o&&n.unshift(o),n}function e(n,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*mn+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,c,u,A,d,h,f,p,g,m,b,y,w,x,C,E,B,j,N=n.constructor,S=n.s==a.s?1:-1,k=n.d,I=a.d;if(!n.s)return new N(n);if(!a.s)throw Error(ds+"Division by zero");for(c=n.e-a.e,B=I.length,C=k.length,f=new N(S),p=f.d=[],u=0;I[u]==(k[u]||0);)++u;if(I[u]>(k[u]||0)&&--c,s==null?y=s=N.precision:o?y=s+(Jr(n)-Jr(a))+1:y=s,y<0)return new N(0);if(y=y/Nr+2|0,u=0,B==1)for(A=0,I=I[0],y++;(u<C||A)&&y--;u++)w=A*mn+(k[u]||0),p[u]=w/I|0,A=w%I|0;else{for(A=mn/(I[0]+1)|0,A>1&&(I=t(I,A),k=t(k,A),B=I.length,C=k.length),x=B,g=k.slice(0,B),m=g.length;m<B;)g[m++]=0;j=I.slice(),j.unshift(0),E=I[0],I[1]>=mn/2&&++E;do A=0,l=e(I,g,B,m),l<0?(b=g[0],B!=m&&(b=b*mn+(g[1]||0)),A=b/E|0,A>1?(A>=mn&&(A=mn-1),d=t(I,A),h=d.length,m=g.length,l=e(d,g,h,m),l==1&&(A--,r(d,B<h?j:I,h))):(A==0&&(l=A=1),d=I.slice()),h=d.length,h<m&&d.unshift(0),r(g,d,m),l==-1&&(m=g.length,l=e(I,g,B,m),l<1&&(A++,r(g,B<m?j:I,m))),m=g.length):l===0&&(A++,g=[0]),p[u++]=A,l&&g[0]?g[m++]=k[x]||0:(g=[k[x]],m=1);while((x++<C||g[0]!==void 0)&&y--)}return p[0]||p.shift(),f.e=c,gr(f,o?s+Jr(f)+1:s)}}();function tJ(t,e){var r,n,a,s,o,l,c=0,u=0,A=t.constructor,d=A.precision;if(Jr(t)>16)throw Error(BP+Jr(t));if(!t.s)return new A(Ha);for(Ir=!1,l=d,o=new A(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(vc(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new A(Ha),A.precision=l;;){if(a=gr(a.times(t),l),r=r.times(++c),o=s.plus(Zi(a,r,l)),li(o.d).slice(0,l)===li(s.d).slice(0,l)){for(;u--;)s=gr(s.times(s),l);return A.precision=d,e==null?(Ir=!0,gr(s,d)):s}s=o}}function Jr(t){for(var e=t.e*Nr,r=t.d[0];r>=10;r/=10)e++;return e}function fE(t,e,r){if(e>t.LN10.sd())throw Ir=!0,r&&(t.precision=r),Error(ds+"LN10 precision limit exceeded");return gr(new t(t.LN10),e)}function Qo(t){for(var e="";t--;)e+="0";return e}function ap(t,e){var r,n,a,s,o,l,c,u,A,d=1,h=10,f=t,p=f.d,g=f.constructor,m=g.precision;if(f.s<1)throw Error(ds+(f.s?"NaN":"-Infinity"));if(f.eq(Ha))return new g(0);if(e==null?(Ir=!1,u=m):u=e,f.eq(10))return e==null&&(Ir=!0),fE(g,u);if(u+=h,g.precision=u,r=li(p),n=r.charAt(0),s=Jr(f),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(t),r=li(f.d),n=r.charAt(0),d++;s=Jr(f),n>1?(f=new g("0."+r),s++):f=new g(n+"."+r.slice(1))}else return c=fE(g,u+2,m).times(s+""),f=ap(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=m,e==null?(Ir=!0,gr(f,m)):f;for(l=o=f=Zi(f.minus(Ha),f.plus(Ha),u),A=gr(f.times(f),u),a=3;;){if(o=gr(o.times(A),u),c=l.plus(Zi(o,new g(a),u)),li(c.d).slice(0,u)===li(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(fE(g,u+2,m).times(s+""))),l=Zi(l,new g(d),u),g.precision=m,e==null?(Ir=!0,gr(l,m)):l;l=c,a+=2}}function b6(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=hh(r/Nr),t.d=[],n=(r+1)%Nr,r<0&&(n+=Nr),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=Nr;n<a;)t.d.push(+e.slice(n,n+=Nr));e=e.slice(n),n=Nr-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Ir&&(t.e>Fy||t.e<-Fy))throw Error(BP+r)}else t.s=0,t.e=0,t.d=[0];return t}function gr(t,e,r){var n,a,s,o,l,c,u,A,d=t.d;for(o=1,s=d[0];s>=10;s/=10)o++;if(n=e-o,n<0)n+=Nr,a=e,u=d[A=0];else{if(A=Math.ceil((n+1)/Nr),s=d.length,A>=s)return t;for(u=s=d[A],o=1;s>=10;s/=10)o++;n%=Nr,a=n-Nr+o}if(r!==void 0&&(s=vc(10,o-a-1),l=u/s%10|0,c=e<0||d[A+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/vc(10,o-a):0:d[A-1])%10&1||r==(t.s<0?8:7))),e<1||!d[0])return c?(s=Jr(t),d.length=1,e=e-s-1,d[0]=vc(10,(Nr-e%Nr)%Nr),t.e=hh(-e/Nr)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(n==0?(d.length=A,s=1,A--):(d.length=A+1,s=vc(10,Nr-n),d[A]=a>0?(u/vc(10,o-a)%vc(10,a)|0)*s:0),c)for(;;)if(A==0){(d[0]+=s)==mn&&(d[0]=1,++t.e);break}else{if(d[A]+=s,d[A]!=mn)break;d[A--]=0,s=1}for(n=d.length;d[--n]===0;)d.pop();if(Ir&&(t.e>Fy||t.e<-Fy))throw Error(BP+Jr(t));return t}function rJ(t,e){var r,n,a,s,o,l,c,u,A,d,h=t.constructor,f=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Ir?gr(e,f):e;if(c=t.d,d=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(A=o<0,A?(r=c,o=-o,l=d.length):(r=d,n=u,l=c.length),a=Math.max(Math.ceil(f/Nr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=d.length,A=a<l,A&&(l=a),a=0;a<l;a++)if(c[a]!=d[a]){A=c[a]<d[a];break}o=0}for(A&&(r=c,c=d,d=r,e.s=-e.s),l=c.length,a=d.length-l;a>0;--a)c[l++]=0;for(a=d.length;a>o;){if(c[--a]<d[a]){for(s=a;s&&c[--s]===0;)c[s]=mn-1;--c[s],c[a]+=mn}c[a]-=d[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Ir?gr(e,f):e):new h(0)}function mu(t,e,r){var n,a=Jr(t),s=li(t.d),o=s.length;return e?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Qo(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Qo(-a-1)+s,r&&(n=r-o)>0&&(s+=Qo(n))):a>=o?(s+=Qo(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+Qo(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=Qo(n))),t.s<0?"-"+s:s}function w6(t,e){if(t.length>e)return t.length=e,!0}function nJ(t){var e,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Xc+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return b6(o,s.toString())}else if(typeof s!="string")throw Error(Xc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,L4e.test(s))b6(o,s);else throw Error(Xc+s)}if(a.prototype=We,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=nJ,a.config=a.set=H4e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function H4e(t){if(!t||typeof t!="object")throw Error(ds+"Object expected");var e,r,n,a=["precision",1,dh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(hh(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Xc+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Xc+r+": "+n);return this}var CP=nJ(Q4e);Ha=new CP(1);const lr=CP;function $4e(t){return z4e(t)||q4e(t)||K4e(t)||V4e()}function V4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K4e(t,e){if(t){if(typeof t=="string")return CN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CN(t,e)}}function q4e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function z4e(t){if(Array.isArray(t))return CN(t)}function CN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var G4e=function(e){return e},aJ={},sJ=function(e){return e===aJ},_6=function(e){return function r(){return arguments.length===0||arguments.length===1&&sJ(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},W4e=function t(e,r){return e===1?r:_6(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(function(l){return l!==aJ}).length;return o>=e?r.apply(void 0,a):t(e-o,_6(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var A=a.map(function(d){return sJ(d)?c.shift():d});return r.apply(void 0,$4e(A).concat(c))}))})},Lw=function(e){return W4e(e.length,e)},jN=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},X4e=Lw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Y4e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return G4e;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},EN=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},iJ=function(e){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=e.apply(void 0,s)),n}};function J4e(t){var e;return t===0?e=1:e=Math.floor(new lr(t).abs().log(10).toNumber())+1,e}function Z4e(t,e,r){for(var n=new lr(t),a=0,s=[];n.lt(e)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var eFe=Lw(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),tFe=Lw(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),rFe=Lw(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Hw={rangeStep:Z4e,getDigitCount:J4e,interpolateNumber:eFe,uninterpolateNumber:tFe,uninterpolateTruncation:rFe};function SN(t){return sFe(t)||aFe(t)||oJ(t)||nFe()}function nFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aFe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function sFe(t){if(Array.isArray(t))return NN(t)}function sp(t,e){return lFe(t)||oFe(t,e)||oJ(t,e)||iFe()}function iFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oJ(t,e){if(t){if(typeof t=="string")return NN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NN(t,e)}}function NN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oFe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,s=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw s}}return r}}function lFe(t){if(Array.isArray(t))return t}function lJ(t){var e=sp(t,2),r=e[0],n=e[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function cJ(t,e,r){if(t.lte(0))return new lr(0);var n=Hw.getDigitCount(t.toNumber()),a=new lr(10).pow(n),s=t.div(a),o=n!==1?.05:.1,l=new lr(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return e?c:new lr(Math.ceil(c))}function cFe(t,e,r){var n=1,a=new lr(t);if(!a.isint()&&r){var s=Math.abs(t);s<1?(n=new lr(10).pow(Hw.getDigitCount(t)-1),a=new lr(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new lr(Math.floor(t)))}else t===0?a=new lr(Math.floor((e-1)/2)):r||(a=new lr(Math.floor(t)));var o=Math.floor((e-1)/2),l=Y4e(X4e(function(c){return a.add(new lr(c-o).mul(n)).toNumber()}),jN);return l(0,e)}function uJ(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new lr(0),tickMin:new lr(0),tickMax:new lr(0)};var s=cJ(new lr(e).sub(t).div(r-1),n,a),o;t<=0&&e>=0?o=new lr(0):(o=new lr(t).add(e).div(2),o=o.sub(new lr(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new lr(e).sub(o).div(s).toNumber()),u=l+c+1;return u>r?uJ(t,e,r,n,a+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:s,tickMin:o.sub(new lr(l).mul(s)),tickMax:o.add(new lr(c).mul(s))})}function uFe(t){var e=sp(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=lJ([r,n]),c=sp(l,2),u=c[0],A=c[1];if(u===-1/0||A===1/0){var d=A===1/0?[u].concat(SN(jN(0,a-1).map(function(){return 1/0}))):[].concat(SN(jN(0,a-1).map(function(){return-1/0})),[A]);return r>n?EN(d):d}if(u===A)return cFe(u,a,s);var h=uJ(u,A,o,s),f=h.step,p=h.tickMin,g=h.tickMax,m=Hw.rangeStep(p,g.add(new lr(.1).mul(f)),f);return r>n?EN(m):m}function AFe(t,e){var r=sp(t,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=lJ([n,a]),l=sp(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var A=Math.max(e,2),d=cJ(new lr(u).sub(c).div(A-1),s,0),h=[].concat(SN(Hw.rangeStep(new lr(c),new lr(u).sub(new lr(.99).mul(d)),d)),[u]);return n>a?EN(h):h}var dFe=iJ(uFe),hFe=iJ(AFe),fFe="Invariant failed";function pu(t,e){throw new Error(fFe)}var mFe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function Dy(){return Dy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dy.apply(this,arguments)}function pFe(t,e){return yFe(t)||vFe(t,e)||xFe(t,e)||gFe()}function gFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xFe(t,e){if(t){if(typeof t=="string")return B6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B6(t,e)}}function B6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vFe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function yFe(t){if(Array.isArray(t))return t}function bFe(t,e){if(t==null)return{};var r=wFe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _Fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hJ(n.key),n)}}function CFe(t,e,r){return e&&BFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jFe(t,e,r){return e=Oy(e),EFe(t,AJ()?Reflect.construct(e,r||[],Oy(t).constructor):e.apply(t,r))}function EFe(t,e){if(e&&(Sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SFe(t)}function SFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AJ=function(){return!!t})()}function Oy(t){return Oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oy(t)}function NFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kN(t,e)}function kN(t,e){return kN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kN(t,e)}function dJ(t,e,r){return e=hJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hJ(t){var e=kFe(t,"string");return Sd(e)=="symbol"?e:e+""}function kFe(t,e){if(Sd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gg=function(t){function e(){return _Fe(this,e),jFe(this,e,arguments)}return NFe(e,t),CFe(e,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,A=n.xAxis,d=n.yAxis,h=bFe(n,mFe),f=Ht(h,!1);this.props.direction==="x"&&A.type!=="number"&&pu();var p=c.map(function(g){var m=u(g,l),b=m.x,y=m.y,w=m.value,x=m.errorVal;if(!x)return null;var C=[],E,B;if(Array.isArray(x)){var j=pFe(x,2);E=j[0],B=j[1]}else E=B=x;if(s==="vertical"){var N=A.scale,S=y+a,k=S+o,I=S-o,T=N(w-E),O=N(w+B);C.push({x1:O,y1:k,x2:O,y2:I}),C.push({x1:T,y1:S,x2:O,y2:S}),C.push({x1:T,y1:k,x2:T,y2:I})}else if(s==="horizontal"){var U=d.scale,H=b+a,R=H-o,D=H+o,M=U(w-E),Q=U(w+B);C.push({x1:R,y1:Q,x2:D,y2:Q}),C.push({x1:H,y1:M,x2:H,y2:Q}),C.push({x1:R,y1:M,x2:D,y2:M})}return V.createElement(Kr,Dy({className:"recharts-errorBar",key:"bar-".concat(C.map(function(L){return"".concat(L.x1,"-").concat(L.x2,"-").concat(L.y1,"-").concat(L.y2)}))},f),C.map(function(L){return V.createElement("line",Dy({},L,{key:"line-".concat(L.x1,"-").concat(L.x2,"-").concat(L.y1,"-").concat(L.y2)}))}))});return V.createElement(Kr,{className:"recharts-errorBars"},p)}}])}(V.Component);dJ(gg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});dJ(gg,"displayName","ErrorBar");function ip(t){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ip(t)}function C6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function uc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C6(Object(r),!0).forEach(function(n){TFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TFe(t,e,r){return e=IFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IFe(t){var e=PFe(t,"string");return ip(e)=="symbol"?e:e+""}function PFe(t,e){if(ip(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fJ=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,s=e.legendContent,o=Oa(r,PA);if(!o)return null;var l=PA.defaultProps,c=l!==void 0?uc(uc({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(A,d){var h=d.item,f=d.props,p=f.sectors||f.data||[];return A.concat(p.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(A){var d=A.item,h=d.type.defaultProps,f=h!==void 0?uc(uc({},h),d.props):{},p=f.dataKey,g=f.name,m=f.legendType,b=f.hide;return{inactive:b,dataKey:p,type:c.iconType||m||"square",color:jP(d),value:g||p,payload:f}}),uc(uc(uc({},c),PA.getWithHeight(o,a)),{},{payload:u,item:o})};function op(t){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(t)}function j6(t){return RFe(t)||OFe(t)||DFe(t)||FFe()}function FFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DFe(t,e){if(t){if(typeof t=="string")return TN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TN(t,e)}}function OFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RFe(t){if(Array.isArray(t))return TN(t)}function TN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function E6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Mr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E6(Object(r),!0).forEach(function(n){DA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DA(t,e,r){return e=UFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UFe(t){var e=MFe(t,"string");return op(e)=="symbol"?e:e+""}function MFe(t,e){if(op(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function za(t,e,r){return Ot(t)||Ot(e)?r:sn(e)?ls(t,e,r):Pt(e)?e(t):r}function Wf(t,e,r,n){var a=R4e(t,function(l){return za(l,e)});if(r==="number"){var s=a.filter(function(l){return De(l)||parseFloat(l)});return s.length?[Mw(s),Uw(s)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Ot(l)}):a;return o.map(function(l){return sn(l)||l instanceof Date?l:""})}var QFe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var A=u>0?a[u-1].coordinate:a[l-1].coordinate,d=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,f=void 0;if(Fs(d-A)!==Fs(h-d)){var p=[];if(Fs(h-d)===Fs(c[1]-c[0])){f=h;var g=d+c[1]-c[0];p[0]=Math.min(g,(g+A)/2),p[1]=Math.max(g,(g+A)/2)}else{f=A;var m=h+c[1]-c[0];p[0]=Math.min(d,(m+d)/2),p[1]=Math.max(d,(m+d)/2)}var b=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(e>b[0]&&e<=b[1]||e>=p[0]&&e<=p[1]){o=a[u].index;break}}else{var y=Math.min(A,h),w=Math.max(A,h);if(e>(y+d)/2&&e<=(w+d)/2){o=a[u].index;break}}}else for(var x=0;x<l;x++)if(x===0&&e<=(n[x].coordinate+n[x+1].coordinate)/2||x>0&&x<l-1&&e>(n[x].coordinate+n[x-1].coordinate)/2&&e<=(n[x].coordinate+n[x+1].coordinate)/2||x===l-1&&e>(n[x].coordinate+n[x-1].coordinate)/2){o=n[x].index;break}return o},jP=function(e){var r,n=e,a=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Mr(Mr({},e.type.defaultProps),e.props):e.props,o=s.stroke,l=s.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},LFe=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var A=s[l[c]].stackGroups,d=Object.keys(A),h=0,f=d.length;h<f;h++){var p=A[d[h]],g=p.items,m=p.cateAxisId,b=g.filter(function(B){return Yi(B.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].type.defaultProps,w=y!==void 0?Mr(Mr({},y),b[0].props):b[0].props,x=w.barSize,C=w[m];o[C]||(o[C]=[]);var E=Ot(x)?r:x;o[C].push({item:b[0],stackList:b.slice(1),barSize:Ot(E)?void 0:fu(E,n,0)})}}return o},HFe=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=fu(r,a,0,!0),A,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,f=a/c,p=o.reduce(function(x,C){return x+C.barSize||0},0);p+=(c-1)*u,p>=a&&(p-=(c-1)*u,u=0),p>=a&&f>0&&(h=!0,f*=.9,p=c*f);var g=(a-p)/2>>0,m={offset:g-u,size:0};A=o.reduce(function(x,C){var E={item:C.item,position:{offset:m.offset+m.size+u,size:h?f:C.barSize}},B=[].concat(j6(x),[E]);return m=B[B.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(j){B.push({item:j,position:m})}),B},d)}else{var b=fu(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var y=(a-2*b-(c-1)*u)/c;y>1&&(y>>=0);var w=l===+l?Math.min(y,l):y;A=o.reduce(function(x,C,E){var B=[].concat(j6(x),[{item:C.item,position:{offset:b+(y+u)*E+(y-w)/2,size:w}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(j){B.push({item:j,position:B[B.length-1].position})}),B},d)}return A},$Fe=function(e,r,n,a){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=fJ({children:s,legendWidth:c});if(u){var A=a||{},d=A.width,h=A.height,f=u.align,p=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&p==="middle")&&f!=="center"&&De(e[f]))return Mr(Mr({},e),{},DA({},f,e[f]+(d||0)));if((g==="horizontal"||g==="vertical"&&f==="center")&&p!=="middle"&&De(e[p]))return Mr(Mr({},e),{},DA({},p,e[p]+(h||0)))}return e},VFe=function(e,r,n){return Ot(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},mJ=function(e,r,n,a,s){var o=r.props.children,l=cs(o,gg).filter(function(u){return VFe(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,A){var d=za(A,n);if(Ot(d))return u;var h=Array.isArray(d)?[Mw(d),Uw(d)]:[d,d],f=c.reduce(function(p,g){var m=za(A,g,0),b=h[0]-Math.abs(Array.isArray(m)?m[0]:m),y=h[1]+Math.abs(Array.isArray(m)?m[1]:m);return[Math.min(b,p[0]),Math.max(y,p[1])]},[1/0,-1/0]);return[Math.min(f[0],u[0]),Math.max(f[1],u[1])]},[1/0,-1/0])}return null},KFe=function(e,r,n,a,s){var o=r.map(function(l){return mJ(e,l,n,s,a)}).filter(function(l){return!Ot(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},pJ=function(e,r,n,a,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&mJ(e,c,u,a)||Wf(e,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var A=0,d=u.length;A<d;A++)l[u[A]]||(l[u[A]]=!0,c.push(u[A]));return c},[])},gJ=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},xJ=function(e,r,n,a){if(a)return e.map(function(c){return c.coordinate});var s,o,l=e.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},Ki=function(e,r,n){if(!e)return null;var a=e.scale,s=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Fs(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var A=(e.ticks||e.niceTicks).map(function(d){var h=s?s.indexOf(d):d;return{coordinate:a(h)+u,value:d,offset:u}});return A.filter(function(d){return!ug(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:a(d)+u,value:d,index:h,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(d){return{coordinate:a(d)+u,value:d,offset:u}}):a.domain().map(function(d,h){return{coordinate:a(d)+u,value:s?s[d]:d,index:h,offset:u}})},mE=new WeakMap,L0=function(e,r){if(typeof r!="function")return e;mE.has(e)||mE.set(e,new WeakMap);var n=mE.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},qFe=function(e,r,n){var a=e.scale,s=e.type,o=e.layout,l=e.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Zm(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:ky(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Gf(),realScaleType:"point"}:s==="category"?{scale:Zm(),realScaleType:"band"}:{scale:ky(),realScaleType:"linear"};if(cg(a)){var c="scale".concat(Cw(a));return{scale:(d6[c]||Gf)(),realScaleType:d6[c]?c:"point"}}return Pt(a)?{scale:a}:{scale:Gf(),realScaleType:"point"}},S6=1e-4,zFe=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),s=Math.min(a[0],a[1])-S6,o=Math.max(a[0],a[1])+S6,l=e(r[0]),c=e(r[n-1]);(l<s||l>o||c<s||c>o)&&e.domain([r[0],r[n-1]])}},GFe=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},WFe=function(e,r){if(!r||r.length!==2||!De(r[0])||!De(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!De(e[0])||e[0]<n)&&(s[0]=n),(!De(e[1])||e[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},XFe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,o=0,l=0;l<r;++l){var c=ug(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},YFe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,o=0;o<r;++o){var l=ug(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},JFe={sign:XFe,expand:F2e,none:yd,silhouette:D2e,wiggle:O2e,positive:YFe},ZFe=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),s=JFe[n],o=P2e().keys(a).value(function(l,c){return+za(l,c,0)}).order(oN).offset(s);return o(e)},eDe=function(e,r,n,a,s,o){if(!e)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(d,h){var f,p=(f=h.type)!==null&&f!==void 0&&f.defaultProps?Mr(Mr({},h.type.defaultProps),h.props):h.props,g=p.stackId,m=p.hide;if(m)return d;var b=p[n],y=d[b]||{hasStack:!1,stackGroups:{}};if(sn(g)){var w=y.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),y.hasStack=!0,y.stackGroups[g]=w}else y.stackGroups[Ag("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Mr(Mr({},d),{},DA({},b,y))},c),A={};return Object.keys(u).reduce(function(d,h){var f=u[h];if(f.hasStack){var p={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(g,m){var b=f.stackGroups[m];return Mr(Mr({},g),{},DA({},m,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:ZFe(e,b.items,s)}))},p)}return Mr(Mr({},d),{},DA({},h,f))},A)},tDe=function(e,r){var n=r.realScaleType,a=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var A=dFe(u,s,l);return e.domain([Mw(A),Uw(A)]),{niceTicks:A}}if(s&&a==="number"){var d=e.domain(),h=hFe(d,s,l);return{niceTicks:h}}return null};function N6(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ot(a[e.dataKey])){var l=uy(r,"value",a[e.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=za(a,Ot(o)?e.dataKey:o);return Ot(c)?null:e.scale(c)}var k6=function(e){var r=e.axis,n=e.ticks,a=e.offset,s=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=za(o,r.dataKey,r.domain[l]);return Ot(c)?null:r.scale(c)-s/2+a},rDe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},nDe=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Mr(Mr({},e.type.defaultProps),e.props):e.props,s=a.stackId;if(sn(s)){var o=r[s];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},aDe=function(e){return e.reduce(function(r,n){return[Mw(n.concat([r[0]]).filter(De)),Uw(n.concat([r[1]]).filter(De))]},[1/0,-1/0])},vJ=function(e,r,n){return Object.keys(e).reduce(function(a,s){var o=e[s],l=o.stackedData,c=l.reduce(function(u,A){var d=aDe(A.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},T6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,I6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IN=function(e,r,n){if(Pt(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(De(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(T6.test(e[0])){var s=+T6.exec(e[0])[1];a[0]=r[0]-s}else Pt(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(De(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(I6.test(e[1])){var o=+I6.exec(e[1])[1];a[1]=r[1]+o}else Pt(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},Ry=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var s=eP(r,function(d){return d.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],A=s[l-1];o=Math.min((u.coordinate||0)-(A.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},P6=function(e,r,n){return!e||!e.length||Qw(e,ls(n,"type.defaultProps.domain"))?r:e},yJ=function(e,r){var n=e.type.defaultProps?Mr(Mr({},e.type.defaultProps),e.props):e.props,a=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,A=n.hide;return Mr(Mr({},Ht(e,!1)),{},{dataKey:a,unit:o,formatter:l,name:s||a,color:jP(e),value:za(r,a),type:c,payload:r,chartType:u,hide:A})};function lp(t){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lp(t)}function F6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function D6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F6(Object(r),!0).forEach(function(n){sDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sDe(t,e,r){return e=iDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iDe(t){var e=oDe(t,"string");return lp(e)=="symbol"?e:e+""}function oDe(t,e){if(lp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uy=Math.PI/180,lDe=function(e){return e*180/Math.PI},Dn=function(e,r,n,a){return{x:e+Math.cos(-Uy*a)*n,y:r+Math.sin(-Uy*a)*n}},cDe=function(e,r){var n=e.x,a=e.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-o,2))},uDe=function(e,r){var n=e.x,a=e.y,s=r.cx,o=r.cy,l=cDe({x:n,y:a},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:lDe(u),angleInRadian:u}},ADe=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:r-o*360,endAngle:n-o*360}},dDe=function(e,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(s,o);return e+l*360},O6=function(e,r){var n=e.x,a=e.y,s=uDe({x:n,y:a},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var A=ADe(r),d=A.startAngle,h=A.endAngle,f=l,p;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;p=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;p=f>=h&&f<=d}return p?D6(D6({},r),{},{radius:o,angle:dDe(f,r)}):null};function cp(t){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp(t)}var hDe=["offset"];function fDe(t){return xDe(t)||gDe(t)||pDe(t)||mDe()}function mDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pDe(t,e){if(t){if(typeof t=="string")return PN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PN(t,e)}}function gDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xDe(t){if(Array.isArray(t))return PN(t)}function PN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vDe(t,e){if(t==null)return{};var r=yDe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function R6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function en(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R6(Object(r),!0).forEach(function(n){bDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bDe(t,e,r){return e=wDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wDe(t){var e=_De(t,"string");return cp(e)=="symbol"?e:e+""}function _De(t,e){if(cp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function up(){return up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},up.apply(this,arguments)}var BDe=function(e){var r=e.value,n=e.formatter,a=Ot(e.children)?r:e.children;return Pt(n)?n(a):a},CDe=function(e,r){var n=Fs(r-e),a=Math.min(Math.abs(r-e),360);return n*a},jDe=function(e,r,n){var a=e.position,s=e.viewBox,o=e.offset,l=e.className,c=s,u=c.cx,A=c.cy,d=c.innerRadius,h=c.outerRadius,f=c.startAngle,p=c.endAngle,g=c.clockWise,m=(d+h)/2,b=CDe(f,p),y=b>=0?1:-1,w,x;a==="insideStart"?(w=f+y*o,x=g):a==="insideEnd"?(w=p-y*o,x=!g):a==="end"&&(w=p+y*o,x=g),x=b<=0?x:!x;var C=Dn(u,A,m,w),E=Dn(u,A,m,w+(x?1:-1)*359),B="M".concat(C.x,",").concat(C.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(x?0:1,`,
    `).concat(E.x,",").concat(E.y),j=Ot(e.id)?Ag("recharts-radial-line-"):e.id;return V.createElement("text",up({},n,{dominantBaseline:"central",className:Gt("recharts-radial-bar-label",l)}),V.createElement("defs",null,V.createElement("path",{id:j,d:B})),V.createElement("textPath",{xlinkHref:"#".concat(j)},r))},EDe=function(e){var r=e.viewBox,n=e.offset,a=e.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,A=s.startAngle,d=s.endAngle,h=(A+d)/2;if(a==="outside"){var f=Dn(o,l,u+n,h),p=f.x,g=f.y;return{x:p,y:g,textAnchor:p>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var m=(c+u)/2,b=Dn(o,l,m,h),y=b.x,w=b.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},SDe=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,s=e.position,o=r,l=o.x,c=o.y,u=o.width,A=o.height,d=A>=0?1:-1,h=d*a,f=d>0?"end":"start",p=d>0?"start":"end",g=u>=0?1:-1,m=g*a,b=g>0?"end":"start",y=g>0?"start":"end";if(s==="top"){var w={x:l+u/2,y:c-d*a,textAnchor:"middle",verticalAnchor:f};return en(en({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var x={x:l+u/2,y:c+A+h,textAnchor:"middle",verticalAnchor:p};return en(en({},x),n?{height:Math.max(n.y+n.height-(c+A),0),width:u}:{})}if(s==="left"){var C={x:l-m,y:c+A/2,textAnchor:b,verticalAnchor:"middle"};return en(en({},C),n?{width:Math.max(C.x-n.x,0),height:A}:{})}if(s==="right"){var E={x:l+u+m,y:c+A/2,textAnchor:y,verticalAnchor:"middle"};return en(en({},E),n?{width:Math.max(n.x+n.width-E.x,0),height:A}:{})}var B=n?{width:u,height:A}:{};return s==="insideLeft"?en({x:l+m,y:c+A/2,textAnchor:y,verticalAnchor:"middle"},B):s==="insideRight"?en({x:l+u-m,y:c+A/2,textAnchor:b,verticalAnchor:"middle"},B):s==="insideTop"?en({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:p},B):s==="insideBottom"?en({x:l+u/2,y:c+A-h,textAnchor:"middle",verticalAnchor:f},B):s==="insideTopLeft"?en({x:l+m,y:c+h,textAnchor:y,verticalAnchor:p},B):s==="insideTopRight"?en({x:l+u-m,y:c+h,textAnchor:b,verticalAnchor:p},B):s==="insideBottomLeft"?en({x:l+m,y:c+A-h,textAnchor:y,verticalAnchor:f},B):s==="insideBottomRight"?en({x:l+u-m,y:c+A-h,textAnchor:b,verticalAnchor:f},B):lh(s)&&(De(s.x)||Ic(s.x))&&(De(s.y)||Ic(s.y))?en({x:l+fu(s.x,u),y:c+fu(s.y,A),textAnchor:"end",verticalAnchor:"end"},B):en({x:l+u/2,y:c+A/2,textAnchor:"middle",verticalAnchor:"middle"},B)},NDe=function(e){return"cx"in e&&De(e.cx)};function qn(t){var e=t.offset,r=e===void 0?5:e,n=vDe(t,hDe),a=en({offset:r},n),s=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,A=a.className,d=A===void 0?"":A,h=a.textBreakAll;if(!s||Ot(l)&&Ot(c)&&!v.isValidElement(u)&&!Pt(u))return null;if(v.isValidElement(u))return v.cloneElement(u,a);var f;if(Pt(u)){if(f=v.createElement(u,a),v.isValidElement(f))return f}else f=BDe(a);var p=NDe(s),g=Ht(a,!0);if(p&&(o==="insideStart"||o==="insideEnd"||o==="end"))return jDe(a,f,g);var m=p?EDe(a):SDe(a);return V.createElement(_y,up({className:Gt("recharts-label",d)},g,m,{breakAll:h}),f)}qn.displayName="Label";var bJ=function(e){var r=e.cx,n=e.cy,a=e.angle,s=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,A=e.outerRadius,d=e.x,h=e.y,f=e.top,p=e.left,g=e.width,m=e.height,b=e.clockWise,y=e.labelViewBox;if(y)return y;if(De(g)&&De(m)){if(De(d)&&De(h))return{x:d,y:h,width:g,height:m};if(De(f)&&De(p))return{x:f,y:p,width:g,height:m}}return De(d)&&De(h)?{x:d,y:h,width:0,height:0}:De(r)&&De(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:A||c||l||0,clockWise:b}:e.viewBox?e.viewBox:{}},kDe=function(e,r){return e?e===!0?V.createElement(qn,{key:"label-implicit",viewBox:r}):sn(e)?V.createElement(qn,{key:"label-implicit",viewBox:r,value:e}):v.isValidElement(e)?e.type===qn?v.cloneElement(e,{key:"label-implicit",viewBox:r}):V.createElement(qn,{key:"label-implicit",content:e,viewBox:r}):Pt(e)?V.createElement(qn,{key:"label-implicit",content:e,viewBox:r}):lh(e)?V.createElement(qn,up({viewBox:r},e,{key:"label-implicit"})):null:null},TDe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=bJ(e),o=cs(a,qn).map(function(c,u){return v.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=kDe(e.label,r||s);return[l].concat(fDe(o))};qn.parseViewBox=bJ;qn.renderCallByParent=TDe;var pE,U6;function IDe(){if(U6)return pE;U6=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return pE=t,pE}var PDe=IDe();const FDe=Wt(PDe);function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}var DDe=["valueAccessor"],ODe=["data","dataKey","clockWise","id","textBreakAll"];function RDe(t){return LDe(t)||QDe(t)||MDe(t)||UDe()}function UDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MDe(t,e){if(t){if(typeof t=="string")return FN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FN(t,e)}}function QDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LDe(t){if(Array.isArray(t))return FN(t)}function FN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function My(){return My=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},My.apply(this,arguments)}function M6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Q6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M6(Object(r),!0).forEach(function(n){HDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HDe(t,e,r){return e=$De(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $De(t){var e=VDe(t,"string");return Ap(e)=="symbol"?e:e+""}function VDe(t,e){if(Ap(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L6(t,e){if(t==null)return{};var r=KDe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function KDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var qDe=function(e){return Array.isArray(e.value)?FDe(e.value):e.value};function vl(t){var e=t.valueAccessor,r=e===void 0?qDe:e,n=L6(t,DDe),a=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=L6(n,ODe);return!a||!a.length?null:V.createElement(Kr,{className:"recharts-label-list"},a.map(function(A,d){var h=Ot(s)?r(A,d):za(A&&A.payload,s),f=Ot(l)?{}:{id:"".concat(l,"-").concat(d)};return V.createElement(qn,My({},Ht(A,!0),u,f,{parentViewBox:A.parentViewBox,value:h,textBreakAll:c,viewBox:qn.parseViewBox(Ot(o)?A:Q6(Q6({},A),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}vl.displayName="LabelList";function zDe(t,e){return t?t===!0?V.createElement(vl,{key:"labelList-implicit",data:e}):V.isValidElement(t)||Pt(t)?V.createElement(vl,{key:"labelList-implicit",data:e,content:t}):lh(t)?V.createElement(vl,My({data:e},t,{key:"labelList-implicit"})):null:null}function GDe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=cs(n,vl).map(function(o,l){return v.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var s=zDe(t.label,e);return[s].concat(RDe(a))}vl.renderCallByParent=GDe;function dp(t){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(t)}function DN(){return DN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DN.apply(this,arguments)}function H6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H6(Object(r),!0).forEach(function(n){WDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WDe(t,e,r){return e=XDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XDe(t){var e=YDe(t,"string");return dp(e)=="symbol"?e:e+""}function YDe(t,e){if(dp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JDe=function(e,r){var n=Fs(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},H0=function(e){var r=e.cx,n=e.cy,a=e.radius,s=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,A=c*(l?1:-1)+a,d=Math.asin(c/A)/Uy,h=u?s:s+o*d,f=Dn(r,n,A,h),p=Dn(r,n,a,h),g=u?s-o*d:s,m=Dn(r,n,A*Math.cos(d*Uy),g);return{center:f,circleTangency:p,lineTangency:m,theta:d}},wJ=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,o=e.startAngle,l=e.endAngle,c=JDe(o,l),u=o+c,A=Dn(r,n,s,o),d=Dn(r,n,s,u),h="M ".concat(A.x,",").concat(A.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var f=Dn(r,n,a,o),p=Dn(r,n,a,u);h+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},ZDe=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,A=e.endAngle,d=Fs(A-u),h=H0({cx:r,cy:n,radius:s,angle:u,sign:d,cornerRadius:o,cornerIsExternal:c}),f=h.circleTangency,p=h.lineTangency,g=h.theta,m=H0({cx:r,cy:n,radius:s,angle:A,sign:-d,cornerRadius:o,cornerIsExternal:c}),b=m.circleTangency,y=m.lineTangency,w=m.theta,x=c?Math.abs(u-A):Math.abs(u-A)-g-w;if(x<0)return l?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):wJ({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:A});var C="M ".concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(x>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var E=H0({cx:r,cy:n,radius:a,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),B=E.circleTangency,j=E.lineTangency,N=E.theta,S=H0({cx:r,cy:n,radius:a,angle:A,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=S.circleTangency,I=S.lineTangency,T=S.theta,O=c?Math.abs(u-A):Math.abs(u-A)-N-T;if(O<0&&o===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(O>180),",").concat(+(d>0),",").concat(B.x,",").concat(B.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},eOe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_J=function(e){var r=$6($6({},eOe),e),n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,A=r.startAngle,d=r.endAngle,h=r.className;if(o<s||A===d)return null;var f=Gt("recharts-sector",h),p=o-s,g=fu(l,p,0,!0),m;return g>0&&Math.abs(A-d)<360?m=ZDe({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(g,p/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:A,endAngle:d}):m=wJ({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:A,endAngle:d}),V.createElement("path",DN({},Ht(r,!0),{className:f,d:m,role:"img"}))};function hp(t){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(t)}function ON(){return ON=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ON.apply(this,arguments)}function V6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function K6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V6(Object(r),!0).forEach(function(n){tOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tOe(t,e,r){return e=rOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rOe(t){var e=nOe(t,"string");return hp(e)=="symbol"?e:e+""}function nOe(t,e){if(hp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var q6={curveBasisClosed:w2e,curveBasisOpen:_2e,curveBasis:b2e,curveBumpX:o2e,curveBumpY:l2e,curveLinearClosed:B2e,curveLinear:Ew,curveMonotoneX:C2e,curveMonotoneY:j2e,curveNatural:E2e,curveStep:S2e,curveStepAfter:k2e,curveStepBefore:N2e},$0=function(e){return e.x===+e.x&&e.y===+e.y},rf=function(e){return e.x},nf=function(e){return e.y},aOe=function(e,r){if(Pt(e))return e;var n="curve".concat(Cw(e));return(n==="curveMonotone"||n==="curveBump")&&r?q6["".concat(n).concat(r==="vertical"?"Y":"X")]:q6[n]||Ew},sOe=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,s=a===void 0?[]:a,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,A=aOe(n,l),d=u?s.filter(function(g){return $0(g)}):s,h;if(Array.isArray(o)){var f=u?o.filter(function(g){return $0(g)}):o,p=d.map(function(g,m){return K6(K6({},g),{},{base:f[m]})});return l==="vertical"?h=F0().y(nf).x1(rf).x0(function(g){return g.base.x}):h=F0().x(rf).y1(nf).y0(function(g){return g.base.y}),h.defined($0).curve(A),h(p)}return l==="vertical"&&De(o)?h=F0().y(nf).x1(rf).x0(o):De(o)?h=F0().x(rf).y1(nf).y0(o):h=EX().x(rf).y(nf),h.defined($0).curve(A),h(d)},RN=function(e){var r=e.className,n=e.points,a=e.path,s=e.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?sOe(e):a;return V.createElement("path",ON({},Ht(e,!1),Ay(e),{className:Gt("recharts-curve",r),d:o,ref:s}))},iOe=Object.getOwnPropertyNames,oOe=Object.getOwnPropertySymbols,lOe=Object.prototype.hasOwnProperty;function z6(t,e){return function(n,a,s){return t(n,a,s)&&e(n,a,s)}}function V0(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var s=a.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=t(r,n,a);return s.delete(r),s.delete(n),c}}function G6(t){return iOe(t).concat(oOe(t))}var BJ=Object.hasOwn||function(t,e){return lOe.call(t,e)};function fh(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var CJ="_owner",W6=Object.getOwnPropertyDescriptor,X6=Object.keys;function cOe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function uOe(t,e){return fh(t.getTime(),e.getTime())}function Y6(t,e,r){if(t.size!==e.size)return!1;for(var n={},a=t.entries(),s=0,o,l;(o=a.next())&&!o.done;){for(var c=e.entries(),u=!1,A=0;(l=c.next())&&!l.done;){var d=o.value,h=d[0],f=d[1],p=l.value,g=p[0],m=p[1];!u&&!n[A]&&(u=r.equals(h,g,s,A,t,e,r)&&r.equals(f,m,h,g,t,e,r))&&(n[A]=!0),A++}if(!u)return!1;s++}return!0}function AOe(t,e,r){var n=X6(t),a=n.length;if(X6(e).length!==a)return!1;for(var s;a-- >0;)if(s=n[a],s===CJ&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!BJ(e,s)||!r.equals(t[s],e[s],s,s,t,e,r))return!1;return!0}function af(t,e,r){var n=G6(t),a=n.length;if(G6(e).length!==a)return!1;for(var s,o,l;a-- >0;)if(s=n[a],s===CJ&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!BJ(e,s)||!r.equals(t[s],e[s],s,s,t,e,r)||(o=W6(t,s),l=W6(e,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function dOe(t,e){return fh(t.valueOf(),e.valueOf())}function hOe(t,e){return t.source===e.source&&t.flags===e.flags}function J6(t,e,r){if(t.size!==e.size)return!1;for(var n={},a=t.values(),s,o;(s=a.next())&&!s.done;){for(var l=e.values(),c=!1,u=0;(o=l.next())&&!o.done;)!c&&!n[u]&&(c=r.equals(s.value,o.value,s.value,o.value,t,e,r))&&(n[u]=!0),u++;if(!c)return!1}return!0}function fOe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}var mOe="[object Arguments]",pOe="[object Boolean]",gOe="[object Date]",xOe="[object Map]",vOe="[object Number]",yOe="[object Object]",bOe="[object RegExp]",wOe="[object Set]",_Oe="[object String]",BOe=Array.isArray,Z6=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,e8=Object.assign,COe=Object.prototype.toString.call.bind(Object.prototype.toString);function jOe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areMapsEqual,a=t.areObjectsEqual,s=t.arePrimitiveWrappersEqual,o=t.areRegExpsEqual,l=t.areSetsEqual,c=t.areTypedArraysEqual;return function(A,d,h){if(A===d)return!0;if(A==null||d==null||typeof A!="object"||typeof d!="object")return A!==A&&d!==d;var f=A.constructor;if(f!==d.constructor)return!1;if(f===Object)return a(A,d,h);if(BOe(A))return e(A,d,h);if(Z6!=null&&Z6(A))return c(A,d,h);if(f===Date)return r(A,d,h);if(f===RegExp)return o(A,d,h);if(f===Map)return n(A,d,h);if(f===Set)return l(A,d,h);var p=COe(A);return p===gOe?r(A,d,h):p===bOe?o(A,d,h):p===xOe?n(A,d,h):p===wOe?l(A,d,h):p===yOe?typeof A.then!="function"&&typeof d.then!="function"&&a(A,d,h):p===mOe?a(A,d,h):p===pOe||p===vOe||p===_Oe?s(A,d,h):!1}}function EOe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?af:cOe,areDatesEqual:uOe,areMapsEqual:n?z6(Y6,af):Y6,areObjectsEqual:n?af:AOe,arePrimitiveWrappersEqual:dOe,areRegExpsEqual:hOe,areSetsEqual:n?z6(J6,af):J6,areTypedArraysEqual:n?af:fOe};if(r&&(a=e8({},a,r(a))),e){var s=V0(a.areArraysEqual),o=V0(a.areMapsEqual),l=V0(a.areObjectsEqual),c=V0(a.areSetsEqual);a=e8({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function SOe(t){return function(e,r,n,a,s,o,l){return t(e,r,l)}}function NOe(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,s=t.strict;if(n)return function(c,u){var A=n(),d=A.cache,h=d===void 0?e?new WeakMap:void 0:d,f=A.meta;return r(c,u,{cache:h,equals:a,meta:f,strict:s})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var kOe=Wl();Wl({strict:!0});Wl({circular:!0});Wl({circular:!0,strict:!0});Wl({createInternalComparator:function(){return fh}});Wl({strict:!0,createInternalComparator:function(){return fh}});Wl({circular:!0,createInternalComparator:function(){return fh}});Wl({circular:!0,createInternalComparator:function(){return fh},strict:!0});function Wl(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,s=t.strict,o=s===void 0?!1:s,l=EOe(t),c=jOe(l),u=n?n(c):SOe(c);return NOe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function TOe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function t8(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>e?(t(s),r=-1):TOe(a)};requestAnimationFrame(n)}function UN(t){"@babel/helpers - typeof";return UN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UN(t)}function IOe(t){return OOe(t)||DOe(t)||FOe(t)||POe()}function POe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FOe(t,e){if(t){if(typeof t=="string")return r8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r8(t,e)}}function r8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OOe(t){if(Array.isArray(t))return t}function ROe(){var t={},e=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=IOe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){t8(a.bind(null,u),c);return}a(c),t8(a.bind(null,u));return}UN(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}function n8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function a8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n8(Object(r),!0).forEach(function(n){jJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jJ(t,e,r){return e=UOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UOe(t){var e=MOe(t,"string");return fp(e)==="symbol"?e:String(e)}function MOe(t,e){if(fp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QOe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},LOe=function(e){return e},HOe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Xf=function(e,r){return Object.keys(r).reduce(function(n,a){return a8(a8({},n),{},jJ({},a,e(a,r[a])))},{})},s8=function(e,r,n){return e.map(function(a){return"".concat(HOe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function $Oe(t,e){return qOe(t)||KOe(t,e)||EJ(t,e)||VOe()}function VOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KOe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function qOe(t){if(Array.isArray(t))return t}function zOe(t){return XOe(t)||WOe(t)||EJ(t)||GOe()}function GOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EJ(t,e){if(t){if(typeof t=="string")return MN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MN(t,e)}}function WOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XOe(t){if(Array.isArray(t))return MN(t)}function MN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Qy=1e-4,SJ=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},NJ=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},i8=function(e,r){return function(n){var a=SJ(e,r);return NJ(a,n)}},YOe=function(e,r){return function(n){var a=SJ(e,r),s=[].concat(zOe(a.map(function(o,l){return o*l}).slice(1)),[0]);return NJ(s,n)}},o8=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(m){return parseFloat(m)}),A=$Oe(u,4);a=A[0],s=A[1],o=A[2],l=A[3]}}}var d=i8(a,o),h=i8(s,l),f=YOe(a,o),p=function(b){return b>1?1:b<0?0:b},g=function(b){for(var y=b>1?1:b,w=y,x=0;x<8;++x){var C=d(w)-y,E=f(w);if(Math.abs(C-y)<Qy||E<Qy)return h(w);w=p(w-C/E)}return h(w)};return g.isStepper=!1,g},JOe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,s=a===void 0?8:a,o=e.dt,l=o===void 0?17:o,c=function(A,d,h){var f=-(A-d)*n,p=h*s,g=h+(f-p)*l/1e3,m=h*l/1e3+A;return Math.abs(m-d)<Qy&&Math.abs(g)<Qy?[d,0]:[m,g]};return c.isStepper=!0,c.dt=l,c},ZOe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return o8(a);case"spring":return JOe();default:if(a.split("(")[0]==="cubic-bezier")return o8(a)}return typeof a=="function"?a:null};function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}function l8(t){return rRe(t)||tRe(t)||kJ(t)||eRe()}function eRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tRe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rRe(t){if(Array.isArray(t))return LN(t)}function c8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c8(Object(r),!0).forEach(function(n){QN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QN(t,e,r){return e=nRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nRe(t){var e=aRe(t,"string");return mp(e)==="symbol"?e:String(e)}function aRe(t,e){if(mp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sRe(t,e){return lRe(t)||oRe(t,e)||kJ(t,e)||iRe()}function iRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kJ(t,e){if(t){if(typeof t=="string")return LN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LN(t,e)}}function LN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function lRe(t){if(Array.isArray(t))return t}var Ly=function(e,r,n){return e+(r-e)*n},HN=function(e){var r=e.from,n=e.to;return r!==n},cRe=function t(e,r,n){var a=Xf(function(s,o){if(HN(o)){var l=e(o.from,o.to,o.velocity),c=sRe(l,2),u=c[0],A=c[1];return jn(jn({},o),{},{from:u,velocity:A})}return o},r);return n<1?Xf(function(s,o){return HN(o)?jn(jn({},o),{},{velocity:Ly(o.velocity,a[s].velocity,n),from:Ly(o.from,a[s].from,n)}):o},r):t(e,a,n-1)};const uRe=function(t,e,r,n,a){var s=QOe(t,e),o=s.reduce(function(m,b){return jn(jn({},m),{},QN({},b,[t[b],e[b]]))},{}),l=s.reduce(function(m,b){return jn(jn({},m),{},QN({},b,{from:t[b],velocity:0,to:e[b]}))},{}),c=-1,u,A,d=function(){return null},h=function(){return Xf(function(b,y){return y.from},l)},f=function(){return!Object.values(l).filter(HN).length},p=function(b){u||(u=b);var y=b-u,w=y/r.dt;l=cRe(r,l,w),a(jn(jn(jn({},t),e),h())),u=b,f()||(c=requestAnimationFrame(d))},g=function(b){A||(A=b);var y=(b-A)/n,w=Xf(function(C,E){return Ly.apply(void 0,l8(E).concat([r(y)]))},o);if(a(jn(jn(jn({},t),e),w)),y<1)c=requestAnimationFrame(d);else{var x=Xf(function(C,E){return Ly.apply(void 0,l8(E).concat([r(1)]))},o);a(jn(jn(jn({},t),e),x))}};return d=r.isStepper?p:g,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}var ARe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function dRe(t,e){if(t==null)return{};var r=hRe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hRe(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function gE(t){return gRe(t)||pRe(t)||mRe(t)||fRe()}function fRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mRe(t,e){if(t){if(typeof t=="string")return $N(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $N(t,e)}}function pRe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gRe(t){if(Array.isArray(t))return $N(t)}function $N(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u8(Object(r),!0).forEach(function(n){jf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jf(t,e,r){return e=TJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vRe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TJ(n.key),n)}}function yRe(t,e,r){return e&&vRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TJ(t){var e=bRe(t,"string");return Nd(e)==="symbol"?e:String(e)}function bRe(t,e){if(Nd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VN(t,e)}function VN(t,e){return VN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},VN(t,e)}function _Re(t){var e=BRe();return function(){var n=Hy(t),a;if(e){var s=Hy(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return KN(this,a)}}function KN(t,e){if(e&&(Nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qN(t)}function qN(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BRe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hy(t){return Hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hy(t)}var fo=function(t){wRe(r,t);var e=_Re(r);function r(n,a){var s;xRe(this,r),s=e.call(this,n,a);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,A=o.to,d=o.steps,h=o.children,f=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(qN(s)),s.changeStyle=s.changeStyle.bind(qN(s)),!l||f<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:A}),KN(s);if(d&&d.length)s.state={style:d[0].style};else if(u){if(typeof h=="function")return s.state={style:u},KN(s);s.state={style:c?jf({},c,u):u}}else s.state={style:{}};return s}return yRe(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,A=s.to,d=s.from,h=this.state.style;if(l){if(!o){var f={style:c?jf({},c,A):A};this.state&&h&&(c&&h[c]!==A||!c&&h!==A)&&this.setState(f);return}if(!(kOe(a.to,A)&&a.canBegin&&a.isActive)){var p=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=p||u?d:a.to;if(this.state&&h){var m={style:c?jf({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(m)}this.runAnimation(gs(gs({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,l=a.to,c=a.duration,u=a.easing,A=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,f=uRe(o,l,ZOe(u),c,this.changeStyle),p=function(){s.stopJSAnimation=f()};this.manager.start([h,A,p,c,d])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],A=u.style,d=u.duration,h=d===void 0?0:d,f=function(g,m,b){if(b===0)return g;var y=m.duration,w=m.easing,x=w===void 0?"ease":w,C=m.style,E=m.properties,B=m.onAnimationEnd,j=b>0?o[b-1]:m,N=E||Object.keys(C);if(typeof x=="function"||x==="spring")return[].concat(gE(g),[s.runJSAnimation.bind(s,{from:j.style,to:C,duration:y,easing:x}),y]);var S=s8(N,y,x),k=gs(gs(gs({},j.style),C),{},{transition:S});return[].concat(gE(g),[k,y,B]).filter(LOe)};return this.manager.start([c].concat(gE(o.reduce(f,[A,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=ROe());var s=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,A=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,f=a.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof u=="function"||typeof f=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var g=l?jf({},l,c):c,m=s8(Object.keys(g),o,u);p.start([A,s,gs(gs({},g),{},{transition:m}),o,d])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=dRe(a,ARe),u=v.Children.count(s),A=this.state.style;if(typeof s=="function")return s(A);if(!l||u===0||o<=0)return s;var d=function(f){var p=f.props,g=p.style,m=g===void 0?{}:g,b=p.className,y=v.cloneElement(f,gs(gs({},c),{},{style:gs(gs({},m),A),className:b}));return y};return u===1?d(v.Children.only(s)):V.createElement("div",null,v.Children.map(s,function(h){return d(h)}))}}]),r}(v.PureComponent);fo.displayName="Animate";fo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};fo.propTypes={from:Xe.oneOfType([Xe.object,Xe.string]),to:Xe.oneOfType([Xe.object,Xe.string]),attributeName:Xe.string,duration:Xe.number,begin:Xe.number,easing:Xe.oneOfType([Xe.string,Xe.func]),steps:Xe.arrayOf(Xe.shape({duration:Xe.number.isRequired,style:Xe.object.isRequired,easing:Xe.oneOfType([Xe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Xe.func]),properties:Xe.arrayOf("string"),onAnimationEnd:Xe.func})),children:Xe.oneOfType([Xe.node,Xe.func]),isActive:Xe.bool,canBegin:Xe.bool,onAnimationEnd:Xe.func,shouldReAnimate:Xe.bool,onAnimationStart:Xe.func,onAnimationReStart:Xe.func};Xe.object,Xe.object,Xe.object,Xe.element;Xe.object,Xe.object,Xe.object,Xe.oneOfType([Xe.array,Xe.element]),Xe.any;function pp(t){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(t)}function $y(){return $y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$y.apply(this,arguments)}function CRe(t,e){return NRe(t)||SRe(t,e)||ERe(t,e)||jRe()}function jRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ERe(t,e){if(t){if(typeof t=="string")return A8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A8(t,e)}}function A8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function SRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function NRe(t){if(Array.isArray(t))return t}function d8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function h8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d8(Object(r),!0).forEach(function(n){kRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kRe(t,e,r){return e=TRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TRe(t){var e=IRe(t,"string");return pp(e)=="symbol"?e:e+""}function IRe(t,e){if(pp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f8=function(e,r,n,a,s){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,A;if(o>0&&s instanceof Array){for(var d=[0,0,0,0],h=0,f=4;h<f;h++)d[h]=s[h]>o?o:s[h];A="M".concat(e,",").concat(r+l*d[0]),d[0]>0&&(A+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+c*d[0],",").concat(r)),A+="L ".concat(e+n-c*d[1],",").concat(r),d[1]>0&&(A+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*d[1])),A+="L ".concat(e+n,",").concat(r+a-l*d[2]),d[2]>0&&(A+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+n-c*d[2],",").concat(r+a)),A+="L ".concat(e+c*d[3],",").concat(r+a),d[3]>0&&(A+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-l*d[3])),A+="Z"}else if(o>0&&s===+s&&s>0){var p=Math.min(o,s);A="M ".concat(e,",").concat(r+l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+c*p,",").concat(r,`
            L `).concat(e+n-c*p,",").concat(r,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*p,`
            L `).concat(e+n,",").concat(r+a-l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+n-c*p,",").concat(r+a,`
            L `).concat(e+c*p,",").concat(r+a,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e,",").concat(r+a-l*p," Z")}else A="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return A},PRe=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),A=Math.max(s,s+l),d=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=A&&a>=d&&a<=h}return!1},FRe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},EP=function(e){var r=h8(h8({},FRe),e),n=v.useRef(),a=v.useState(-1),s=CRe(a,2),o=s[0],l=s[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&l(x)}catch{}},[]);var c=r.x,u=r.y,A=r.width,d=r.height,h=r.radius,f=r.className,p=r.animationEasing,g=r.animationDuration,m=r.animationBegin,b=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||A!==+A||d!==+d||A===0||d===0)return null;var w=Gt("recharts-rectangle",f);return y?V.createElement(fo,{canBegin:o>0,from:{width:A,height:d,x:c,y:u},to:{width:A,height:d,x:c,y:u},duration:g,animationEasing:p,isActive:y},function(x){var C=x.width,E=x.height,B=x.x,j=x.y;return V.createElement(fo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:g,isActive:b,easing:p},V.createElement("path",$y({},Ht(r,!0),{className:w,d:f8(B,j,C,E,h),ref:n})))}):V.createElement("path",$y({},Ht(r,!0),{className:w,d:f8(c,u,A,d,h)}))};function zN(){return zN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zN.apply(this,arguments)}var SP=function(e){var r=e.cx,n=e.cy,a=e.r,s=e.className,o=Gt("recharts-dot",s);return r===+r&&n===+n&&a===+a?V.createElement("circle",zN({},Ht(e,!1),Ay(e),{className:o,cx:r,cy:n,r:a})):null};function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}var DRe=["x","y","top","left","width","height","className"];function GN(){return GN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GN.apply(this,arguments)}function m8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ORe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m8(Object(r),!0).forEach(function(n){RRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RRe(t,e,r){return e=URe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function URe(t){var e=MRe(t,"string");return gp(e)=="symbol"?e:e+""}function MRe(t,e){if(gp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QRe(t,e){if(t==null)return{};var r=LRe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function LRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var HRe=function(e,r,n,a,s,o){return"M".concat(e,",").concat(s,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},$Re=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,A=e.width,d=A===void 0?0:A,h=e.height,f=h===void 0?0:h,p=e.className,g=QRe(e,DRe),m=ORe({x:n,y:s,top:l,left:u,width:d,height:f},g);return!De(n)||!De(s)||!De(d)||!De(f)||!De(l)||!De(u)?null:V.createElement("path",GN({},Ht(m,!0),{className:Gt("recharts-cross",p),d:HRe(n,s,d,f,l,u)}))},xE,p8;function VRe(){if(p8)return xE;p8=1;var t=XX(),e=t(Object.getPrototypeOf,Object);return xE=e,xE}var vE,g8;function KRe(){if(g8)return vE;g8=1;var t=xo(),e=VRe(),r=vo(),n="[object Object]",a=Function.prototype,s=Object.prototype,o=a.toString,l=s.hasOwnProperty,c=o.call(Object);function u(A){if(!r(A)||t(A)!=n)return!1;var d=e(A);if(d===null)return!0;var h=l.call(d,"constructor")&&d.constructor;return typeof h=="function"&&h instanceof h&&o.call(h)==c}return vE=u,vE}var qRe=KRe();const zRe=Wt(qRe);var yE,x8;function GRe(){if(x8)return yE;x8=1;var t=xo(),e=vo(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return yE=n,yE}var WRe=GRe();const XRe=Wt(WRe);function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function Vy(){return Vy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vy.apply(this,arguments)}function YRe(t,e){return tUe(t)||eUe(t,e)||ZRe(t,e)||JRe()}function JRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZRe(t,e){if(t){if(typeof t=="string")return v8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v8(t,e)}}function v8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eUe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function tUe(t){if(Array.isArray(t))return t}function y8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function b8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y8(Object(r),!0).forEach(function(n){rUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rUe(t,e,r){return e=nUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nUe(t){var e=aUe(t,"string");return xp(e)=="symbol"?e:e+""}function aUe(t,e){if(xp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var w8=function(e,r,n,a,s){var o=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+s),l+="L ".concat(e+n-o/2-a,",").concat(r+s),l+="L ".concat(e,",").concat(r," Z"),l},sUe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iUe=function(e){var r=b8(b8({},sUe),e),n=v.useRef(),a=v.useState(-1),s=YRe(a,2),o=s[0],l=s[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,A=r.upperWidth,d=r.lowerWidth,h=r.height,f=r.className,p=r.animationEasing,g=r.animationDuration,m=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||A!==+A||d!==+d||h!==+h||A===0&&d===0||h===0)return null;var y=Gt("recharts-trapezoid",f);return b?V.createElement(fo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:A,lowerWidth:d,height:h,x:c,y:u},duration:g,animationEasing:p,isActive:b},function(w){var x=w.upperWidth,C=w.lowerWidth,E=w.height,B=w.x,j=w.y;return V.createElement(fo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:g,easing:p},V.createElement("path",Vy({},Ht(r,!0),{className:y,d:w8(B,j,x,C,E),ref:n})))}):V.createElement("g",null,V.createElement("path",Vy({},Ht(r,!0),{className:y,d:w8(c,u,A,d,h)})))},oUe=["option","shapeType","propTransformer","activeClassName","isActive"];function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}function lUe(t,e){if(t==null)return{};var r=cUe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ky(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_8(Object(r),!0).forEach(function(n){uUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uUe(t,e,r){return e=AUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AUe(t){var e=dUe(t,"string");return vp(e)=="symbol"?e:e+""}function dUe(t,e){if(vp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hUe(t,e){return Ky(Ky({},e),t)}function fUe(t,e){return t==="symbols"}function B8(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return V.createElement(EP,r);case"trapezoid":return V.createElement(iUe,r);case"sector":return V.createElement(_J,r);case"symbols":if(fUe(e))return V.createElement(qI,r);break;default:return null}}function mUe(t){return v.isValidElement(t)?t.props:t}function pUe(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?hUe:n,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,l=t.isActive,c=lUe(t,oUe),u;if(v.isValidElement(e))u=v.cloneElement(e,Ky(Ky({},c),mUe(e)));else if(Pt(e))u=e(c);else if(zRe(e)&&!XRe(e)){var A=a(e,c);u=V.createElement(B8,{shapeType:r,elementProps:A})}else{var d=c;u=V.createElement(B8,{shapeType:r,elementProps:d})}return l?V.createElement(Kr,{className:o},u):u}function $w(t,e){return e!=null&&"trapezoids"in t.props}function Vw(t,e){return e!=null&&"sectors"in t.props}function yp(t,e){return e!=null&&"points"in t.props}function gUe(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&s}function xUe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function vUe(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function yUe(t,e){var r;return $w(t,e)?r=gUe:Vw(t,e)?r=xUe:yp(t,e)&&(r=vUe),r}function bUe(t,e){var r;return $w(t,e)?r="trapezoids":Vw(t,e)?r="sectors":yp(t,e)&&(r="points"),r}function wUe(t,e){if($w(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Vw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return yp(t,e)?e.payload:{}}function _Ue(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=bUe(r,e),s=wUe(r,e),o=n.filter(function(c,u){var A=Qw(s,c),d=r.props[a].filter(function(p){var g=yUe(r,e);return g(p,e)}),h=r.props[a].indexOf(d[d.length-1]),f=u===h;return A&&f}),l=n.indexOf(o[o.length-1]);return l}var bE,C8;function BUe(){if(C8)return bE;C8=1;var t=Math.ceil,e=Math.max;function r(n,a,s,o){for(var l=-1,c=e(t((a-n)/(s||1)),0),u=Array(c);c--;)u[o?c:++l]=n,n+=s;return u}return bE=r,bE}var wE,j8;function IJ(){if(j8)return wE;j8=1;var t=dY(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var s=a<0?-1:1;return s*r}return a===a?a:0}return wE=n,wE}var _E,E8;function CUe(){if(E8)return _E;E8=1;var t=BUe(),e=Tw(),r=IJ();function n(a){return function(s,o,l){return l&&typeof l!="number"&&e(s,o,l)&&(o=l=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),l=l===void 0?s<o?1:-1:r(l),t(s,o,l,a)}}return _E=n,_E}var BE,S8;function jUe(){if(S8)return BE;S8=1;var t=CUe(),e=t();return BE=e,BE}var EUe=jUe();const qy=Wt(EUe);function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function N8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function k8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N8(Object(r),!0).forEach(function(n){PJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PJ(t,e,r){return e=SUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SUe(t){var e=NUe(t,"string");return bp(e)=="symbol"?e:e+""}function NUe(t,e){if(bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kUe=["Webkit","Moz","O","ms"],TUe=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),a=kUe.reduce(function(s,o){return k8(k8({},s),{},PJ({},o+n,r))},{});return a[e]=r,a};function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function zy(){return zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zy.apply(this,arguments)}function T8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function CE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T8(Object(r),!0).forEach(function(n){Pa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DJ(n.key),n)}}function PUe(t,e,r){return e&&I8(t.prototype,e),r&&I8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function FUe(t,e,r){return e=Gy(e),DUe(t,FJ()?Reflect.construct(e,r||[],Gy(t).constructor):e.apply(t,r))}function DUe(t,e){if(e&&(kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OUe(t)}function OUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FJ=function(){return!!t})()}function Gy(t){return Gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gy(t)}function RUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WN(t,e)}function WN(t,e){return WN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},WN(t,e)}function Pa(t,e,r){return e=DJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DJ(t){var e=UUe(t,"string");return kd(e)=="symbol"?e:e+""}function UUe(t,e){if(kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var MUe=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,s=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Gf().domain(qy(0,c)).range([s,s+o-l]),A=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:A}},P8=function(e){return e.changedTouches&&!!e.changedTouches.length},Td=function(t){function e(r){var n;return IUe(this,e),n=FUe(this,e,[r]),Pa(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Pa(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Pa(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),Pa(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Pa(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Pa(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Pa(n,"handleSlideDragStart",function(a){var s=P8(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return RUe(e,t),PUe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,A=u.length-1,d=Math.min(a,s),h=Math.max(a,s),f=e.getIndexInRange(o,d),p=e.getIndexInRange(o,h);return{startIndex:f-f%c,endIndex:p===A?A:p-p%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,o=a.tickFormatter,l=a.dataKey,c=za(s[n],l,n);return Pt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,A=c.width,d=c.travellerWidth,h=c.startIndex,f=c.endIndex,p=c.onChange,g=n.pageX-s;g>0?g=Math.min(g,u+A-d-l,u+A-d-o):g<0&&(g=Math.max(g,u-o,u-l));var m=this.getIndex({startX:o+g,endX:l+g});(m.startIndex!==h||m.endIndex!==f)&&p&&p(m),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=P8(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],A=this.props,d=A.x,h=A.width,f=A.travellerWidth,p=A.onChange,g=A.gap,m=A.data,b={startX:this.state.startX,endX:this.state.endX},y=n.pageX-s;y>0?y=Math.min(y,d+h-f-u):y<0&&(y=Math.max(y,d-u)),b[o]=u+y;var w=this.getIndex(b),x=w.startIndex,C=w.endIndex,E=function(){var j=m.length-1;return o==="startX"&&(l>c?x%g===0:C%g===0)||l<c&&C===j||o==="endX"&&(l>c?C%g===0:x%g===0)||l>c&&C===j};this.setState(Pa(Pa({},o,u+y),"brushMoveStartX",n.pageX),function(){p&&E()&&p(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,A=this.state[a],d=l.indexOf(A);if(d!==-1){var h=d+n;if(!(h===-1||h>=l.length)){var f=l[h];a==="startX"&&f>=u||a==="endX"&&f<=c||this.setState(Pa({},a,f),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return V.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,A=n.padding,d=v.Children.only(u);return d?V.cloneElement(d,{x:a,y:s,width:o,height:l,margin:A,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,o,l=this,c=this.props,u=c.y,A=c.travellerWidth,d=c.height,h=c.traveller,f=c.ariaLabel,p=c.data,g=c.startIndex,m=c.endIndex,b=Math.max(n,this.props.x),y=CE(CE({},Ht(this.props,!1)),{},{x:b,y:u,width:A,height:d}),w=f||"Min value: ".concat((s=p[g])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=p[m])===null||o===void 0?void 0:o.name);return V.createElement(Kr,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,A=Math.min(n,a)+u,d=Math.max(Math.abs(a-n)-u,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:A,y:o,width:d,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,A=this.state,d=A.startX,h=A.endX,f=5,p={pointerEvents:"none",fill:u};return V.createElement(Kr,{className:"recharts-brush-texts"},V.createElement(_y,zy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-f,y:o+l/2},p),this.getTextOfTick(a)),V.createElement(_y,zy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+c+f,y:o+l/2},p),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,A=n.height,d=n.alwaysShowText,h=this.state,f=h.startX,p=h.endX,g=h.isTextActive,m=h.isSlideMoving,b=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!De(l)||!De(c)||!De(u)||!De(A)||u<=0||A<=0)return null;var w=Gt("recharts-brush",s),x=V.Children.count(o)===1,C=TUe("userSelect","none");return V.createElement(Kr,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),x&&this.renderPanorama(),this.renderSlide(f,p),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(p,"endX"),(g||m||b||y||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:a,y:s,width:o,height:l,fill:c,stroke:"none"}),V.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return V.isValidElement(n)?s=V.cloneElement(n,a):Pt(n)?s=n(a):s=e.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,A=n.startIndex,d=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return CE({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?MUe({data:s,width:o,x:l,travellerWidth:c,startIndex:A,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(f){return a.scale(f)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(v.PureComponent);Pa(Td,"displayName","Brush");Pa(Td,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var jE,F8;function QUe(){if(F8)return jE;F8=1;var t=ZI();function e(r,n){var a;return t(r,function(s,o,l){return a=n(s,o,l),!a}),!!a}return jE=e,jE}var EE,D8;function LUe(){if(D8)return EE;D8=1;var t=$X(),e=ql(),r=QUe(),n=Sa(),a=Tw();function s(o,l,c){var u=n(o)?t:r;return c&&a(o,l,c)&&(l=void 0),u(o,e(l,3))}return EE=s,EE}var HUe=LUe();const $Ue=Wt(HUe);var fi=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},SE,O8;function VUe(){if(O8)return SE;O8=1;var t=oY();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return SE=e,SE}var NE,R8;function KUe(){if(R8)return NE;R8=1;var t=VUe(),e=sY(),r=ql();function n(a,s){var o={};return s=r(s,3),e(a,function(l,c,u){t(o,c,s(l,c,u))}),o}return NE=n,NE}var qUe=KUe();const zUe=Wt(qUe);var kE,U8;function GUe(){if(U8)return kE;U8=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return kE=t,kE}var TE,M8;function WUe(){if(M8)return TE;M8=1;var t=ZI();function e(r,n){var a=!0;return t(r,function(s,o,l){return a=!!n(s,o,l),a}),a}return TE=e,TE}var IE,Q8;function XUe(){if(Q8)return IE;Q8=1;var t=GUe(),e=WUe(),r=ql(),n=Sa(),a=Tw();function s(o,l,c){var u=n(o)?t:e;return c&&a(o,l,c)&&(l=void 0),u(o,r(l,3))}return IE=s,IE}var YUe=XUe();const OJ=Wt(YUe);var JUe=["x","y"];function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function XN(){return XN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XN.apply(this,arguments)}function L8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function sf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L8(Object(r),!0).forEach(function(n){ZUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZUe(t,e,r){return e=eMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eMe(t){var e=tMe(t,"string");return wp(e)=="symbol"?e:e+""}function tMe(t,e){if(wp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rMe(t,e){if(t==null)return{};var r=nMe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nMe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function aMe(t,e){var r=t.x,n=t.y,a=rMe(t,JUe),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||a.height),A=parseInt(u,10),d="".concat(e.width||a.width),h=parseInt(d,10);return sf(sf(sf(sf(sf({},e),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:A,width:h,name:e.name,radius:e.radius})}function H8(t){return V.createElement(pUe,XN({shapeType:"rectangle",propTransformer:aMe,activeClassName:"recharts-active-bar"},t))}var sMe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var s=typeof n=="number";return s?e(n,a):(s||pu(),r)}},iMe=["value","background"],RJ;function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function oMe(t,e){if(t==null)return{};var r=lMe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lMe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Wy(){return Wy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wy.apply(this,arguments)}function $8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Wr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$8(Object(r),!0).forEach(function(n){ol(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MJ(n.key),n)}}function uMe(t,e,r){return e&&V8(t.prototype,e),r&&V8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function AMe(t,e,r){return e=Xy(e),dMe(t,UJ()?Reflect.construct(e,r||[],Xy(t).constructor):e.apply(t,r))}function dMe(t,e){if(e&&(Id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hMe(t)}function hMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UJ=function(){return!!t})()}function Xy(t){return Xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xy(t)}function fMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YN(t,e)}function YN(t,e){return YN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},YN(t,e)}function ol(t,e,r){return e=MJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MJ(t){var e=mMe(t,"string");return Id(e)=="symbol"?e:e+""}function mMe(t,e){if(Id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bu=function(t){function e(){var r;cMe(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=AMe(this,e,[].concat(a)),ol(r,"state",{isAnimationFinished:!1}),ol(r,"id",Ag("recharts-bar-")),ol(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ol(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return fMe(e,t),uMe(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,A=Ht(this.props,!1);return n&&n.map(function(d,h){var f=h===c,p=f?u:o,g=Wr(Wr(Wr({},A),d),{},{isActive:f,option:p,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return V.createElement(Kr,Wy({className:"recharts-bar-rectangle"},dy(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value)}),V.createElement(H8,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,A=a.animationEasing,d=a.animationId,h=this.state.prevData;return V.createElement(fo,{begin:c,duration:u,isActive:l,easing:A,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var p=f.t,g=s.map(function(m,b){var y=h&&h[b];if(y){var w=Ss(y.x,m.x),x=Ss(y.y,m.y),C=Ss(y.width,m.width),E=Ss(y.height,m.height);return Wr(Wr({},m),{},{x:w(p),y:x(p),width:C(p),height:E(p)})}if(o==="horizontal"){var B=Ss(0,m.height),j=B(p);return Wr(Wr({},m),{},{y:m.y+m.height-j,height:j})}var N=Ss(0,m.width),S=N(p);return Wr(Wr({},m),{},{width:S})});return V.createElement(Kr,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!Qw(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,o=a.dataKey,l=a.activeIndex,c=Ht(this.props.background,!1);return s.map(function(u,A){u.value;var d=u.background,h=oMe(u,iMe);if(!d)return null;var f=Wr(Wr(Wr(Wr(Wr({},h),{},{fill:"#eee"},d),c),dy(n.props,u,A)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:A,className:"recharts-bar-background-rectangle"});return V.createElement(H8,Wy({key:"background-bar-".concat(A),option:n.props.background,isActive:A===l},f))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,A=s.children,d=cs(A,gg);if(!d)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,f=function(m,b){var y=Array.isArray(m.value)?m.value[1]:m.value;return{x:m.x,y:m.y,value:y,errorVal:za(m,b)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return V.createElement(Kr,p,d.map(function(g){return V.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:f})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,A=n.top,d=n.width,h=n.height,f=n.isAnimationActive,p=n.background,g=n.id;if(a||!s||!s.length)return null;var m=this.state.isAnimationFinished,b=Gt("recharts-bar",o),y=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,x=y||w,C=Ot(g)?this.id:g;return V.createElement(Kr,{className:b},y||w?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(C)},V.createElement("rect",{x:y?u:u-d/2,y:w?A:A-h/2,width:y?d:d*2,height:w?h:h*2}))):null,V.createElement(Kr,{className:"recharts-bar-rectangles",clipPath:x?"url(#clipPath-".concat(C,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(x,C),(!f||m)&&vl.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(v.PureComponent);RJ=Bu;ol(Bu,"displayName","Bar");ol(Bu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!uh.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ol(Bu,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,s=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,A=t.dataStartIndex,d=t.displayedData,h=t.offset,f=GFe(n,r);if(!f)return null;var p=e.layout,g=r.type.defaultProps,m=g!==void 0?Wr(Wr({},g),r.props):r.props,b=m.dataKey,y=m.children,w=m.minPointSize,x=p==="horizontal"?o:s,C=u?x.scale.domain():null,E=rDe({numericAxis:x}),B=cs(y,fY),j=d.map(function(N,S){var k,I,T,O,U,H;u?k=WFe(u[A+S],C):(k=za(N,b),Array.isArray(k)||(k=[E,k]));var R=sMe(w,RJ.defaultProps.minPointSize)(k[1],S);if(p==="horizontal"){var D,M=[o.scale(k[0]),o.scale(k[1])],Q=M[0],L=M[1];I=k6({axis:s,ticks:l,bandSize:a,offset:f.offset,entry:N,index:S}),T=(D=L??Q)!==null&&D!==void 0?D:void 0,O=f.size;var K=Q-L;if(U=Number.isNaN(K)?0:K,H={x:I,y:o.y,width:O,height:o.height},Math.abs(R)>0&&Math.abs(U)<Math.abs(R)){var G=Fs(U||R)*(Math.abs(R)-Math.abs(U));T-=G,U+=G}}else{var q=[s.scale(k[0]),s.scale(k[1])],W=q[0],re=q[1];if(I=W,T=k6({axis:o,ticks:c,bandSize:a,offset:f.offset,entry:N,index:S}),O=re-W,U=f.size,H={x:s.x,y:T,width:s.width,height:U},Math.abs(R)>0&&Math.abs(O)<Math.abs(R)){var le=Fs(O||R)*(Math.abs(R)-Math.abs(O));O+=le}}return Wr(Wr(Wr({},N),{},{x:I,y:T,width:O,height:U,value:u?k:k[1],payload:N,background:H},B&&B[S]&&B[S].props),{},{tooltipPayload:[yJ(r,N)],tooltipPosition:{x:I+O/2,y:T+U/2}})});return Wr({data:j,layout:p},h)});function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function pMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QJ(n.key),n)}}function gMe(t,e,r){return e&&K8(t.prototype,e),r&&K8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function q8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Cs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q8(Object(r),!0).forEach(function(n){Kw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kw(t,e,r){return e=QJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QJ(t){var e=xMe(t,"string");return _p(e)=="symbol"?e:e+""}function xMe(t,e){if(_p(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LJ=function(e,r,n,a,s){var o=e.width,l=e.height,c=e.layout,u=e.children,A=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Oa(u,Bu);return A.reduce(function(f,p){var g=r[p],m=g.orientation,b=g.domain,y=g.padding,w=y===void 0?{}:y,x=g.mirror,C=g.reversed,E="".concat(m).concat(x?"Mirror":""),B,j,N,S,k;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var I=b[1]-b[0],T=1/0,O=g.categoricalDomain.sort();if(O.forEach(function(q,W){W>0&&(T=Math.min((q||0)-(O[W-1]||0),T))}),Number.isFinite(T)){var U=T/I,H=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(B=U*H/2),g.padding==="no-gap"){var R=fu(e.barCategoryGap,U*H),D=U*H/2;B=D-R-(D-R)/H*R}}}a==="xAxis"?j=[n.left+(w.left||0)+(B||0),n.left+n.width-(w.right||0)-(B||0)]:a==="yAxis"?j=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(B||0),n.top+n.height-(w.bottom||0)-(B||0)]:j=g.range,C&&(j=[j[1],j[0]]);var M=qFe(g,s,h),Q=M.scale,L=M.realScaleType;Q.domain(b).range(j),zFe(Q);var K=tDe(Q,Cs(Cs({},g),{},{realScaleType:L}));a==="xAxis"?(k=m==="top"&&!x||m==="bottom"&&x,N=n.left,S=d[E]-k*g.height):a==="yAxis"&&(k=m==="left"&&!x||m==="right"&&x,N=d[E]-k*g.width,S=n.top);var G=Cs(Cs(Cs({},g),K),{},{realScaleType:L,x:N,y:S,scale:Q,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return G.bandSize=Ry(G,K),!g.hide&&a==="xAxis"?d[E]+=(k?-1:1)*G.height:g.hide||(d[E]+=(k?-1:1)*G.width),Cs(Cs({},f),{},Kw({},p,G))},{})},HJ=function(e,r){var n=e.x,a=e.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(a,o),width:Math.abs(s-n),height:Math.abs(o-a)}},vMe=function(e){var r=e.x1,n=e.y1,a=e.x2,s=e.y2;return HJ({x:r,y:n},{x:a,y:s})},$J=function(){function t(e){pMe(this,t),this.scale=e}return gMe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();Kw($J,"EPS",1e-4);var NP=function(e){var r=Object.keys(e).reduce(function(n,a){return Cs(Cs({},n),{},Kw({},a,$J.create(e[a])))},{});return Cs(Cs({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return zUe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return OJ(a,function(s,o){return r[o].isInRange(s)})}})};function yMe(t){return(t%180+180)%180}var bMe=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=yMe(a),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},PE,z8;function wMe(){if(z8)return PE;z8=1;var t=ql(),e=dg(),r=Nw();function n(a){return function(s,o,l){var c=Object(s);if(!e(s)){var u=t(o,3);s=r(s),o=function(d){return u(c[d],d,c)}}var A=a(s,o,l);return A>-1?c[u?s[A]:A]:void 0}}return PE=n,PE}var FE,G8;function _Me(){if(G8)return FE;G8=1;var t=IJ();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return FE=e,FE}var DE,W8;function BMe(){if(W8)return DE;W8=1;var t=eY(),e=ql(),r=_Me(),n=Math.max;function a(s,o,l){var c=s==null?0:s.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),t(s,e(o,3),u)}return DE=a,DE}var OE,X8;function CMe(){if(X8)return OE;X8=1;var t=wMe(),e=BMe(),r=t(e);return OE=r,OE}var jMe=CMe();const EMe=Wt(jMe);var SMe=mX();const NMe=Wt(SMe);var kMe=NMe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),kP=v.createContext(void 0),TP=v.createContext(void 0),VJ=v.createContext(void 0),KJ=v.createContext({}),qJ=v.createContext(void 0),zJ=v.createContext(0),GJ=v.createContext(0),Y8=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,A=kMe(s);return V.createElement(kP.Provider,{value:n},V.createElement(TP.Provider,{value:a},V.createElement(KJ.Provider,{value:s},V.createElement(VJ.Provider,{value:A},V.createElement(qJ.Provider,{value:o},V.createElement(zJ.Provider,{value:u},V.createElement(GJ.Provider,{value:c},l)))))))},TMe=function(){return v.useContext(qJ)},WJ=function(e){var r=v.useContext(kP);r==null&&pu();var n=r[e];return n==null&&pu(),n},IMe=function(){var e=v.useContext(kP);return qo(e)},PMe=function(){var e=v.useContext(TP),r=EMe(e,function(n){return OJ(n.domain,Number.isFinite)});return r||qo(e)},XJ=function(e){var r=v.useContext(TP);r==null&&pu();var n=r[e];return n==null&&pu(),n},FMe=function(){var e=v.useContext(VJ);return e},DMe=function(){return v.useContext(KJ)},IP=function(){return v.useContext(GJ)},PP=function(){return v.useContext(zJ)};function Pd(t){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(t)}function OMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JJ(n.key),n)}}function UMe(t,e,r){return e&&RMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MMe(t,e,r){return e=Yy(e),QMe(t,YJ()?Reflect.construct(e,r||[],Yy(t).constructor):e.apply(t,r))}function QMe(t,e){if(e&&(Pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LMe(t)}function LMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YJ=function(){return!!t})()}function Yy(t){return Yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yy(t)}function HMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JN(t,e)}function JN(t,e){return JN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},JN(t,e)}function J8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Z8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J8(Object(r),!0).forEach(function(n){FP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FP(t,e,r){return e=JJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JJ(t){var e=$Me(t,"string");return Pd(e)=="symbol"?e:e+""}function $Me(t,e){if(Pd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function VMe(t,e){return GMe(t)||zMe(t,e)||qMe(t,e)||KMe()}function KMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qMe(t,e){if(t){if(typeof t=="string")return eL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eL(t,e)}}function eL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function GMe(t){if(Array.isArray(t))return t}function ZN(){return ZN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ZN.apply(this,arguments)}var WMe=function(e,r){var n;return V.isValidElement(e)?n=V.cloneElement(e,r):Pt(e)?n=e(r):n=V.createElement("line",ZN({},r,{className:"recharts-reference-line-line"})),n},XMe=function(e,r,n,a,s,o,l,c,u){var A=s.x,d=s.y,h=s.width,f=s.height;if(n){var p=u.y,g=e.y.apply(p,{position:o});if(fi(u,"discard")&&!e.y.isInRange(g))return null;var m=[{x:A+h,y:g},{x:A,y:g}];return c==="left"?m.reverse():m}if(r){var b=u.x,y=e.x.apply(b,{position:o});if(fi(u,"discard")&&!e.x.isInRange(y))return null;var w=[{x:y,y:d+f},{x:y,y:d}];return l==="top"?w.reverse():w}if(a){var x=u.segment,C=x.map(function(E){return e.apply(E,{position:o})});return fi(u,"discard")&&$Ue(C,function(E){return!e.isInRange(E)})?null:C}return null};function YMe(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,s=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=TMe(),A=WJ(a),d=XJ(s),h=FMe();if(!u||!h)return null;Ji(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=NP({x:A.scale,y:d.scale}),p=sn(e),g=sn(r),m=n&&n.length===2,b=XMe(f,p,g,m,h,t.position,A.orientation,d.orientation,t);if(!b)return null;var y=VMe(b,2),w=y[0],x=w.x,C=w.y,E=y[1],B=E.x,j=E.y,N=fi(t,"hidden")?"url(#".concat(u,")"):void 0,S=Z8(Z8({clipPath:N},Ht(t,!0)),{},{x1:x,y1:C,x2:B,y2:j});return V.createElement(Kr,{className:Gt("recharts-reference-line",l)},WMe(o,S),qn.renderCallByParent(t,vMe({x1:x,y1:C,x2:B,y2:j})))}var DP=function(t){function e(){return OMe(this,e),MMe(this,e,arguments)}return HMe(e,t),UMe(e,[{key:"render",value:function(){return V.createElement(YMe,this.props)}}])}(V.Component);FP(DP,"displayName","ReferenceLine");FP(DP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ek(){return ek=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ek.apply(this,arguments)}function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function tL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tL(Object(r),!0).forEach(function(n){qw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eZ(n.key),n)}}function e5e(t,e,r){return e&&ZMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function t5e(t,e,r){return e=Jy(e),r5e(t,ZJ()?Reflect.construct(e,r||[],Jy(t).constructor):e.apply(t,r))}function r5e(t,e){if(e&&(Fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n5e(t)}function n5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZJ=function(){return!!t})()}function Jy(t){return Jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jy(t)}function a5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tk(t,e)}function tk(t,e){return tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tk(t,e)}function qw(t,e,r){return e=eZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eZ(t){var e=s5e(t,"string");return Fd(e)=="symbol"?e:e+""}function s5e(t,e){if(Fd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var i5e=function(e){var r=e.x,n=e.y,a=e.xAxis,s=e.yAxis,o=NP({x:a.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return fi(e,"discard")&&!o.isInRange(l)?null:l},zw=function(t){function e(){return JMe(this,e),t5e(this,e,arguments)}return a5e(e,t),e5e(e,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=sn(a),A=sn(s);if(Ji(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!A)return null;var d=i5e(this.props);if(!d)return null;var h=d.x,f=d.y,p=this.props,g=p.shape,m=p.className,b=fi(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=rL(rL({clipPath:b},Ht(this.props,!0)),{},{cx:h,cy:f});return V.createElement(Kr,{className:Gt("recharts-reference-dot",m)},e.renderDot(g,y),qn.renderCallByParent(this.props,{x:h-o,y:f-o,width:2*o,height:2*o}))}}])}(V.Component);qw(zw,"displayName","ReferenceDot");qw(zw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});qw(zw,"renderDot",function(t,e){var r;return V.isValidElement(t)?r=V.cloneElement(t,e):Pt(t)?r=t(e):r=V.createElement(SP,ek({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function rk(){return rk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rk.apply(this,arguments)}function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function nL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function aL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nL(Object(r),!0).forEach(function(n){Gw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l5e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rZ(n.key),n)}}function c5e(t,e,r){return e&&l5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function u5e(t,e,r){return e=Zy(e),A5e(t,tZ()?Reflect.construct(e,r||[],Zy(t).constructor):e.apply(t,r))}function A5e(t,e){if(e&&(Dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d5e(t)}function d5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tZ=function(){return!!t})()}function Zy(t){return Zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zy(t)}function h5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nk(t,e)}function nk(t,e){return nk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nk(t,e)}function Gw(t,e,r){return e=rZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rZ(t){var e=f5e(t,"string");return Dd(e)=="symbol"?e:e+""}function f5e(t,e){if(Dd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var m5e=function(e,r,n,a,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,A=s.xAxis,d=s.yAxis;if(!A||!d)return null;var h=NP({x:A.scale,y:d.scale}),f={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},p={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return fi(s,"discard")&&(!h.isInRange(f)||!h.isInRange(p))?null:HJ(f,p)},Ww=function(t){function e(){return o5e(this,e),u5e(this,e,arguments)}return h5e(e,t),c5e(e,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,A=n.clipPathId;Ji(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=sn(a),h=sn(s),f=sn(o),p=sn(l),g=this.props.shape;if(!d&&!h&&!f&&!p&&!g)return null;var m=m5e(d,h,f,p,this.props);if(!m&&!g)return null;var b=fi(this.props,"hidden")?"url(#".concat(A,")"):void 0;return V.createElement(Kr,{className:Gt("recharts-reference-area",c)},e.renderRect(g,aL(aL({clipPath:b},Ht(this.props,!0)),m)),qn.renderCallByParent(this.props,m))}}])}(V.Component);Gw(Ww,"displayName","ReferenceArea");Gw(Ww,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Gw(Ww,"renderRect",function(t,e){var r;return V.isValidElement(t)?r=V.cloneElement(t,e):Pt(t)?r=t(e):r=V.createElement(EP,rk({},e,{className:"recharts-reference-area-rect"})),r});function nZ(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function p5e(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return bMe(n,r)}function g5e(t,e,r){var n=r==="width",a=t.x,s=t.y,o=t.width,l=t.height;return e===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function eb(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-a)<=0}function x5e(t,e){return nZ(t,e+1)}function v5e(t,e,r,n,a){for(var s=(n||[]).slice(),o=e.start,l=e.end,c=0,u=1,A=o,d=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:nZ(n,u)};var g=c,m,b=function(){return m===void 0&&(m=r(p,g)),m},y=p.coordinate,w=c===0||eb(t,y,b,A,l);w||(c=0,A=o,u+=1),w&&(A=y+t*(b()/2+a),c+=u)},h;u<=s.length;)if(h=d(),h)return h.v;return[]}function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function sL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $n(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sL(Object(r),!0).forEach(function(n){y5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y5e(t,e,r){return e=b5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b5e(t){var e=w5e(t,"string");return Bp(e)=="symbol"?e:e+""}function w5e(t,e){if(Bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _5e(t,e,r,n,a){for(var s=(n||[]).slice(),o=s.length,l=e.start,c=e.end,u=function(h){var f=s[h],p,g=function(){return p===void 0&&(p=r(f,h)),p};if(h===o-1){var m=t*(f.coordinate+t*g()/2-c);s[h]=f=$n($n({},f),{},{tickCoord:m>0?f.coordinate-m*t:f.coordinate})}else s[h]=f=$n($n({},f),{},{tickCoord:f.coordinate});var b=eb(t,f.tickCoord,g,l,c);b&&(c=f.tickCoord-t*(g()/2+a),s[h]=$n($n({},f),{},{isShow:!0}))},A=o-1;A>=0;A--)u(A);return s}function B5e(t,e,r,n,a,s){var o=(n||[]).slice(),l=o.length,c=e.start,u=e.end;if(s){var A=n[l-1],d=r(A,l-1),h=t*(A.coordinate+t*d/2-u);o[l-1]=A=$n($n({},A),{},{tickCoord:h>0?A.coordinate-h*t:A.coordinate});var f=eb(t,A.tickCoord,function(){return d},c,u);f&&(u=A.tickCoord-t*(d/2+a),o[l-1]=$n($n({},A),{},{isShow:!0}))}for(var p=s?l-1:l,g=function(y){var w=o[y],x,C=function(){return x===void 0&&(x=r(w,y)),x};if(y===0){var E=t*(w.coordinate-t*C()/2-c);o[y]=w=$n($n({},w),{},{tickCoord:E<0?w.coordinate-E*t:w.coordinate})}else o[y]=w=$n($n({},w),{},{tickCoord:w.coordinate});var B=eb(t,w.tickCoord,C,c,u);B&&(c=w.tickCoord+t*(C()/2+a),o[y]=$n($n({},w),{},{isShow:!0}))},m=0;m<p;m++)g(m);return o}function OP(t,e,r){var n=t.tick,a=t.ticks,s=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,A=t.unit,d=t.angle;if(!a||!a.length||!n)return[];if(De(c)||uh.isSsr)return x5e(a,typeof c=="number"&&De(c)?c:0);var h=[],f=l==="top"||l==="bottom"?"width":"height",p=A&&f==="width"?zf(A,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(w,x){var C=Pt(u)?u(w.value,x):w.value;return f==="width"?p5e(zf(C,{fontSize:e,letterSpacing:r}),p,d):zf(C,{fontSize:e,letterSpacing:r})[f]},m=a.length>=2?Fs(a[1].coordinate-a[0].coordinate):1,b=g5e(s,m,f);return c==="equidistantPreserveStart"?v5e(m,b,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=B5e(m,b,g,a,o,c==="preserveStartEnd"):h=_5e(m,b,g,a,o),h.filter(function(y){return y.isShow}))}var C5e=["viewBox"],j5e=["viewBox"],E5e=["ticks"];function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function wA(){return wA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wA.apply(this,arguments)}function iL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ra(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iL(Object(r),!0).forEach(function(n){RP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RE(t,e){if(t==null)return{};var r=S5e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function S5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function N5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sZ(n.key),n)}}function k5e(t,e,r){return e&&oL(t.prototype,e),r&&oL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function T5e(t,e,r){return e=tb(e),I5e(t,aZ()?Reflect.construct(e,r||[],tb(t).constructor):e.apply(t,r))}function I5e(t,e){if(e&&(Od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P5e(t)}function P5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aZ=function(){return!!t})()}function tb(t){return tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tb(t)}function F5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ak(t,e)}function ak(t,e){return ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ak(t,e)}function RP(t,e,r){return e=sZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sZ(t){var e=D5e(t,"string");return Od(e)=="symbol"?e:e+""}function D5e(t,e){if(Od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mh=function(t){function e(r){var n;return N5e(this,e),n=T5e(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return F5e(e,t),k5e(e,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,o=RE(n,C5e),l=this.props,c=l.viewBox,u=RE(l,j5e);return!IA(s,c)||!IA(o,u)||!IA(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,A=a.tickSize,d=a.mirror,h=a.tickMargin,f,p,g,m,b,y,w=d?-1:1,x=n.tickSize||A,C=De(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":f=p=n.coordinate,m=o+ +!d*c,g=m-w*x,y=g-w*h,b=C;break;case"left":g=m=n.coordinate,p=s+ +!d*l,f=p-w*x,b=f-w*h,y=C;break;case"right":g=m=n.coordinate,p=s+ +d*l,f=p+w*x,b=f+w*h,y=C;break;default:f=p=n.coordinate,m=o+ +d*c,g=m+w*x,y=g+w*h,b=C;break}return{line:{x1:f,y1:g,x2:p,y2:m},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,A=n.axisLine,d=ra(ra(ra({},Ht(this.props,!1)),Ht(A,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);d=ra(ra({},d),{},{x1:a,y1:s+h*l,x2:a+o,y2:s+h*l})}else{var f=+(c==="left"&&!u||c==="right"&&u);d=ra(ra({},d),{},{x1:a+f*o,y1:s,x2:a+f*o,y2:s+l})}return V.createElement("line",wA({},d,{className:Gt("recharts-cartesian-axis-line",ls(A,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,A=l.tick,d=l.tickFormatter,h=l.unit,f=OP(ra(ra({},this.props),{},{ticks:n}),a,s),p=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),m=Ht(this.props,!1),b=Ht(A,!1),y=ra(ra({},m),{},{fill:"none"},Ht(c,!1)),w=f.map(function(x,C){var E=o.getTickLineCoord(x),B=E.line,j=E.tick,N=ra(ra(ra(ra({textAnchor:p,verticalAnchor:g},m),{},{stroke:"none",fill:u},b),j),{},{index:C,payload:x,visibleTicksCount:f.length,tickFormatter:d});return V.createElement(Kr,wA({className:"recharts-cartesian-axis-tick",key:"tick-".concat(x.value,"-").concat(x.coordinate,"-").concat(x.tickCoord)},dy(o.props,x,C)),c&&V.createElement("line",wA({},y,B,{className:Gt("recharts-cartesian-axis-tick-line",ls(c,"className"))})),A&&e.renderTickItem(A,N,"".concat(Pt(d)?d(x.value,C):x.value).concat(h||"")))});return V.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,A=a.hide;if(A)return null;var d=this.props,h=d.ticks,f=RE(d,E5e),p=h;return Pt(c)&&(p=h&&h.length>0?c(this.props):c(f)),o<=0||l<=0||!p||!p.length?null:V.createElement(Kr,{className:Gt("recharts-cartesian-axis",u),ref:function(m){n.layerReference=m}},s&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),qn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var o;return V.isValidElement(n)?o=V.cloneElement(n,a):Pt(n)?o=n(a):o=V.createElement(_y,wA({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(v.Component);RP(mh,"displayName","CartesianAxis");RP(mh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var O5e=["x1","y1","x2","y2","key"],R5e=["offset"];function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function lL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lL(Object(r),!0).forEach(function(n){U5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U5e(t,e,r){return e=M5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M5e(t){var e=Q5e(t,"string");return gu(e)=="symbol"?e:e+""}function Q5e(t,e){if(gu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dc.apply(this,arguments)}function cL(t,e){if(t==null)return{};var r=L5e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function L5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var H5e=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,s=e.y,o=e.width,l=e.height,c=e.ry;return V.createElement("rect",{x:a,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function iZ(t,e){var r;if(V.isValidElement(t))r=V.cloneElement(t,e);else if(Pt(t))r=t(e);else{var n=e.x1,a=e.y1,s=e.x2,o=e.y2,l=e.key,c=cL(e,O5e),u=Ht(c,!1);u.offset;var A=cL(u,R5e);r=V.createElement("line",Dc({},A,{x1:n,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function $5e(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,s=t.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=zn(zn({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return iZ(a,u)});return V.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function V5e(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,s=t.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=zn(zn({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return iZ(a,u)});return V.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function K5e(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,s=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var A=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,f){return h-f});a!==A[0]&&A.unshift(0);var d=A.map(function(h,f){var p=!A[f+1],g=p?a+o-h:A[f+1]-h;if(g<=0)return null;var m=f%e.length;return V.createElement("rect",{key:"react-".concat(f),y:h,x:n,height:g,width:s,stroke:"none",fill:e[m],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function q5e(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,s=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var A=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,f){return h-f});s!==A[0]&&A.unshift(0);var d=A.map(function(h,f){var p=!A[f+1],g=p?s+l-h:A[f+1]-h;if(g<=0)return null;var m=f%n.length;return V.createElement("rect",{key:"react-".concat(f),x:h,y:o,width:g,height:c,stroke:"none",fill:n[m],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var z5e=function(e,r){var n=e.xAxis,a=e.width,s=e.height,o=e.offset;return xJ(OP(zn(zn(zn({},mh.defaultProps),n),{},{ticks:Ki(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,r)},G5e=function(e,r){var n=e.yAxis,a=e.width,s=e.height,o=e.offset;return xJ(OP(zn(zn(zn({},mh.defaultProps),n),{},{ticks:Ki(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,r)},lA={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function UP(t){var e,r,n,a,s,o,l=IP(),c=PP(),u=DMe(),A=zn(zn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:lA.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:lA.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:lA.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:lA.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:lA.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:lA.verticalFill,x:De(t.x)?t.x:u.left,y:De(t.y)?t.y:u.top,width:De(t.width)?t.width:u.width,height:De(t.height)?t.height:u.height}),d=A.x,h=A.y,f=A.width,p=A.height,g=A.syncWithTicks,m=A.horizontalValues,b=A.verticalValues,y=IMe(),w=PMe();if(!De(f)||f<=0||!De(p)||p<=0||!De(d)||d!==+d||!De(h)||h!==+h)return null;var x=A.verticalCoordinatesGenerator||z5e,C=A.horizontalCoordinatesGenerator||G5e,E=A.horizontalPoints,B=A.verticalPoints;if((!E||!E.length)&&Pt(C)){var j=m&&m.length,N=C({yAxis:w?zn(zn({},w),{},{ticks:j?m:w.ticks}):void 0,width:l,height:c,offset:u},j?!0:g);Ji(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(gu(N),"]")),Array.isArray(N)&&(E=N)}if((!B||!B.length)&&Pt(x)){var S=b&&b.length,k=x({xAxis:y?zn(zn({},y),{},{ticks:S?b:y.ticks}):void 0,width:l,height:c,offset:u},S?!0:g);Ji(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(gu(k),"]")),Array.isArray(k)&&(B=k)}return V.createElement("g",{className:"recharts-cartesian-grid"},V.createElement(H5e,{fill:A.fill,fillOpacity:A.fillOpacity,x:A.x,y:A.y,width:A.width,height:A.height,ry:A.ry}),V.createElement($5e,Dc({},A,{offset:u,horizontalPoints:E,xAxis:y,yAxis:w})),V.createElement(V5e,Dc({},A,{offset:u,verticalPoints:B,xAxis:y,yAxis:w})),V.createElement(K5e,Dc({},A,{horizontalPoints:E})),V.createElement(q5e,Dc({},A,{verticalPoints:B})))}UP.displayName="CartesianGrid";var W5e=["type","layout","connectNulls","ref"],X5e=["key"];function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function uL(t,e){if(t==null)return{};var r=Y5e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Y5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Yf(){return Yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yf.apply(this,arguments)}function AL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ia(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AL(Object(r),!0).forEach(function(n){js(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cA(t){return tQe(t)||eQe(t)||Z5e(t)||J5e()}function J5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z5e(t,e){if(t){if(typeof t=="string")return sk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sk(t,e)}}function eQe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tQe(t){if(Array.isArray(t))return sk(t)}function sk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lZ(n.key),n)}}function nQe(t,e,r){return e&&dL(t.prototype,e),r&&dL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function aQe(t,e,r){return e=rb(e),sQe(t,oZ()?Reflect.construct(e,r||[],rb(t).constructor):e.apply(t,r))}function sQe(t,e){if(e&&(Rd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iQe(t)}function iQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oZ=function(){return!!t})()}function rb(t){return rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rb(t)}function oQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ik(t,e)}function ik(t,e){return ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ik(t,e)}function js(t,e,r){return e=lZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lZ(t){var e=lQe(t,"string");return Rd(e)=="symbol"?e:e+""}function lQe(t,e){if(Rd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xg=function(t){function e(){var r;rQe(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=aQe(this,e,[].concat(a)),js(r,"state",{isAnimationFinished:!0,totalLength:0}),js(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),js(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(b,y){return b+y});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var A=Math.floor(o/u),d=o%u,h=l-o,f=[],p=0,g=0;p<c.length;g+=c[p],++p)if(g+c[p]>d){f=[].concat(cA(c.slice(0,p)),[d-g]);break}var m=f.length%2===0?[0,h]:[h];return[].concat(cA(e.repeat(c,A)),cA(f),m).map(function(b){return"".concat(b,"px")}).join(", ")}),js(r,"id",Ag("recharts-line-")),js(r,"pathRef",function(o){r.mainCurve=o}),js(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),js(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return oQe(e,t),nQe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,A=s.children,d=cs(A,gg);if(!d)return null;var h=function(g,m){return{x:g.x,y:g.y,value:g.value,errorVal:za(g.payload,m)}},f={clipPath:n?"url(#clipPath-".concat(a,")"):null};return V.createElement(Kr,f,d.map(function(p){return V.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,A=l.dataKey,d=Ht(this.props,!1),h=Ht(c,!0),f=u.map(function(g,m){var b=Ia(Ia(Ia({key:"dot-".concat(m),r:3},d),h),{},{value:g.value,dataKey:A,cx:g.x,cy:g.y,index:m,payload:g.payload});return e.renderDotItem(c,b)}),p={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return V.createElement(Kr,Yf({className:"recharts-line-dots",key:"dots"},p),f)}},{key:"renderCurveStatically",value:function(n,a,s,o){var l=this.props,c=l.type,u=l.layout,A=l.connectNulls;l.ref;var d=uL(l,W5e),h=Ia(Ia(Ia({},Ht(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:A});return V.createElement(RN,Yf({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,A=o.animationBegin,d=o.animationDuration,h=o.animationEasing,f=o.animationId,p=o.animateNewValues,g=o.width,m=o.height,b=this.state,y=b.prevPoints,w=b.totalLength;return V.createElement(fo,{begin:A,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var C=x.t;if(y){var E=y.length/l.length,B=l.map(function(I,T){var O=Math.floor(T*E);if(y[O]){var U=y[O],H=Ss(U.x,I.x),R=Ss(U.y,I.y);return Ia(Ia({},I),{},{x:H(C),y:R(C)})}if(p){var D=Ss(g*2,I.x),M=Ss(m/2,I.y);return Ia(Ia({},I),{},{x:D(C),y:M(C)})}return Ia(Ia({},I),{},{x:I.x,y:I.y})});return s.renderCurveStatically(B,n,a)}var j=Ss(0,w),N=j(C),S;if(c){var k="".concat(c).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});S=s.getStrokeDasharray(N,w,k)}else S=s.generateSimpleStrokeDasharray(w,N);return s.renderCurveStatically(l,n,a,{strokeDasharray:S})})}},{key:"renderCurve",value:function(n,a){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,A=c.totalLength;return l&&o&&o.length&&(!u&&A>0||!Qw(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,A=a.yAxis,d=a.top,h=a.left,f=a.width,p=a.height,g=a.isAnimationActive,m=a.id;if(s||!l||!l.length)return null;var b=this.state.isAnimationFinished,y=l.length===1,w=Gt("recharts-line",c),x=u&&u.allowDataOverflow,C=A&&A.allowDataOverflow,E=x||C,B=Ot(m)?this.id:m,j=(n=Ht(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},N=j.r,S=N===void 0?3:N,k=j.strokeWidth,I=k===void 0?2:k,T=QSe(o)?o:{},O=T.clipDot,U=O===void 0?!0:O,H=S*2+I;return V.createElement(Kr,{className:w},x||C?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(B)},V.createElement("rect",{x:x?h:h-f/2,y:C?d:d-p/2,width:x?f:f*2,height:C?p:p*2})),!U&&V.createElement("clipPath",{id:"clipPath-dots-".concat(B)},V.createElement("rect",{x:h-H/2,y:d-H/2,width:f+H,height:p+H}))):null,!y&&this.renderCurve(E,B),this.renderErrorBar(E,B),(y||o)&&this.renderDots(E,U,B),(!g||b)&&vl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(cA(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(cA(o),cA(s));return o}},{key:"renderDotItem",value:function(n,a){var s;if(V.isValidElement(n))s=V.cloneElement(n,a);else if(Pt(n))s=n(a);else{var o=a.key,l=uL(a,X5e),c=Gt("recharts-line-dot",typeof n!="boolean"?n.className:"");s=V.createElement(SP,Yf({key:o},l,{className:c}))}return s}}])}(v.PureComponent);js(xg,"displayName","Line");js(xg,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!uh.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});js(xg,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,A=e.layout,d=c.map(function(h,f){var p=za(h,o);return A==="horizontal"?{x:N6({axis:r,ticks:a,bandSize:l,entry:h,index:f}),y:Ot(p)?null:n.scale(p),value:p,payload:h}:{x:Ot(p)?null:r.scale(p),y:N6({axis:n,ticks:s,bandSize:l,entry:h,index:f}),value:p,payload:h}});return Ia({points:d,layout:A},u)});function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}function cQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uQe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AZ(n.key),n)}}function AQe(t,e,r){return e&&uQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dQe(t,e,r){return e=nb(e),hQe(t,cZ()?Reflect.construct(e,r||[],nb(t).constructor):e.apply(t,r))}function hQe(t,e){if(e&&(Ud(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fQe(t)}function fQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cZ=function(){return!!t})()}function nb(t){return nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nb(t)}function mQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ok(t,e)}function ok(t,e){return ok=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ok(t,e)}function uZ(t,e,r){return e=AZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AZ(t){var e=pQe(t,"string");return Ud(e)=="symbol"?e:e+""}function pQe(t,e){if(Ud(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lk(){return lk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lk.apply(this,arguments)}function gQe(t){var e=t.xAxisId,r=IP(),n=PP(),a=WJ(e);return a==null?null:V.createElement(mh,lk({},a,{className:Gt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Ki(o,!0)}}))}var ph=function(t){function e(){return cQe(this,e),dQe(this,e,arguments)}return mQe(e,t),AQe(e,[{key:"render",value:function(){return V.createElement(gQe,this.props)}}])}(V.Component);uZ(ph,"displayName","XAxis");uZ(ph,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function xQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vQe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fZ(n.key),n)}}function yQe(t,e,r){return e&&vQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bQe(t,e,r){return e=ab(e),wQe(t,dZ()?Reflect.construct(e,r||[],ab(t).constructor):e.apply(t,r))}function wQe(t,e){if(e&&(Md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Qe(t)}function _Qe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dZ=function(){return!!t})()}function ab(t){return ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ab(t)}function BQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ck(t,e)}function ck(t,e){return ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ck(t,e)}function hZ(t,e,r){return e=fZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fZ(t){var e=CQe(t,"string");return Md(e)=="symbol"?e:e+""}function CQe(t,e){if(Md(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function uk(){return uk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uk.apply(this,arguments)}var jQe=function(e){var r=e.yAxisId,n=IP(),a=PP(),s=XJ(r);return s==null?null:V.createElement(mh,uk({},s,{className:Gt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Ki(l,!0)}}))},gh=function(t){function e(){return xQe(this,e),bQe(this,e,arguments)}return BQe(e,t),yQe(e,[{key:"render",value:function(){return V.createElement(jQe,this.props)}}])}(V.Component);hZ(gh,"displayName","YAxis");hZ(gh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function hL(t){return kQe(t)||NQe(t)||SQe(t)||EQe()}function EQe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SQe(t,e){if(t){if(typeof t=="string")return Ak(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ak(t,e)}}function NQe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kQe(t){if(Array.isArray(t))return Ak(t)}function Ak(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var dk=function(e,r,n,a,s){var o=cs(e,DP),l=cs(e,zw),c=[].concat(hL(o),hL(l)),u=cs(e,Ww),A="".concat(a,"Id"),d=a[0],h=r;if(c.length&&(h=c.reduce(function(g,m){if(m.props[A]===n&&fi(m.props,"extendDomain")&&De(m.props[d])){var b=m.props[d];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},h)),u.length){var f="".concat(d,"1"),p="".concat(d,"2");h=u.reduce(function(g,m){if(m.props[A]===n&&fi(m.props,"extendDomain")&&De(m.props[f])&&De(m.props[p])){var b=m.props[f],y=m.props[p];return[Math.min(g[0],b,y),Math.max(g[1],b,y)]}return g},h)}return s&&s.length&&(h=s.reduce(function(g,m){return De(m)?[Math.min(g[0],m),Math.max(g[1],m)]:g},h)),h},UE={exports:{}},fL;function TQe(){return fL||(fL=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,A){this.fn=c,this.context=u,this.once=A||!1}function s(c,u,A,d,h){if(typeof A!="function")throw new TypeError("The listener must be a function");var f=new a(A,d||c,h),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],f]:c._events[p].push(f):(c._events[p]=f,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],A,d;if(this._eventsCount===0)return u;for(d in A=this._events)e.call(A,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(A)):u},l.prototype.listeners=function(u){var A=r?r+u:u,d=this._events[A];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,p=new Array(f);h<f;h++)p[h]=d[h].fn;return p},l.prototype.listenerCount=function(u){var A=r?r+u:u,d=this._events[A];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,A,d,h,f,p){var g=r?r+u:u;if(!this._events[g])return!1;var m=this._events[g],b=arguments.length,y,w;if(m.fn){switch(m.once&&this.removeListener(u,m.fn,void 0,!0),b){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,A),!0;case 3:return m.fn.call(m.context,A,d),!0;case 4:return m.fn.call(m.context,A,d,h),!0;case 5:return m.fn.call(m.context,A,d,h,f),!0;case 6:return m.fn.call(m.context,A,d,h,f,p),!0}for(w=1,y=new Array(b-1);w<b;w++)y[w-1]=arguments[w];m.fn.apply(m.context,y)}else{var x=m.length,C;for(w=0;w<x;w++)switch(m[w].once&&this.removeListener(u,m[w].fn,void 0,!0),b){case 1:m[w].fn.call(m[w].context);break;case 2:m[w].fn.call(m[w].context,A);break;case 3:m[w].fn.call(m[w].context,A,d);break;case 4:m[w].fn.call(m[w].context,A,d,h);break;default:if(!y)for(C=1,y=new Array(b-1);C<b;C++)y[C-1]=arguments[C];m[w].fn.apply(m[w].context,y)}}return!0},l.prototype.on=function(u,A,d){return s(this,u,A,d,!1)},l.prototype.once=function(u,A,d){return s(this,u,A,d,!0)},l.prototype.removeListener=function(u,A,d,h){var f=r?r+u:u;if(!this._events[f])return this;if(!A)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===A&&(!h||p.once)&&(!d||p.context===d)&&o(this,f);else{for(var g=0,m=[],b=p.length;g<b;g++)(p[g].fn!==A||h&&!p[g].once||d&&p[g].context!==d)&&m.push(p[g]);m.length?this._events[f]=m.length===1?m[0]:m:o(this,f)}return this},l.prototype.removeAllListeners=function(u){var A;return u?(A=r?r+u:u,this._events[A]&&o(this,A)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l}(UE)),UE.exports}var IQe=TQe();const PQe=Wt(IQe);var ME=new PQe,QE="recharts.syncMouseEvents";function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}function FQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DQe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mZ(n.key),n)}}function OQe(t,e,r){return e&&DQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LE(t,e,r){return e=mZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mZ(t){var e=RQe(t,"string");return Cp(e)=="symbol"?e:e+""}function RQe(t,e){if(Cp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var UQe=function(){function t(){FQe(this,t),LE(this,"activeIndex",0),LE(this,"coordinateList",[]),LE(this,"layout","horizontal")}return OQe(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,A=r.offset,d=A===void 0?null:A,h=r.mouseHandlerCallback,f=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,A=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=s+c+u,h=o+this.offset.top+l/2+A;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function MQe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&De(n)&&De(a))return!0}return!1}function QQe(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function pZ(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,s=t.endAngle,o=Dn(e,r,n,a),l=Dn(e,r,n,s);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:s}}function LQe(t,e,r){var n,a,s,o;if(t==="horizontal")n=e.x,s=n,a=r.top,o=r.top+r.height;else if(t==="vertical")a=e.y,o=a,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,A=e.outerRadius,d=e.angle,h=Dn(l,c,u,d),f=Dn(l,c,A,d);n=h.x,a=h.y,s=f.x,o=f.y}else return pZ(e);return[{x:n,y:a},{x:s,y:o}]}function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}function mL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function K0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mL(Object(r),!0).forEach(function(n){HQe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HQe(t,e,r){return e=$Qe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Qe(t){var e=VQe(t,"string");return jp(e)=="symbol"?e:e+""}function VQe(t,e){if(jp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KQe(t){var e,r,n=t.element,a=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,A=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,f=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!f||!s||!o||h!=="ScatterChart"&&a!=="axis")return null;var p,g=RN;if(h==="ScatterChart")p=o,g=$Re;else if(h==="BarChart")p=QQe(d,o,c,A),g=EP;else if(d==="radial"){var m=pZ(o),b=m.cx,y=m.cy,w=m.radius,x=m.startAngle,C=m.endAngle;p={cx:b,cy:y,startAngle:x,endAngle:C,innerRadius:w,outerRadius:w},g=_J}else p={points:LQe(d,o,c)},g=RN;var E=K0(K0(K0(K0({stroke:"#ccc",pointerEvents:"none"},c),p),Ht(f,!1)),{},{payload:l,payloadIndex:u,className:Gt("recharts-tooltip-cursor",f.className)});return v.isValidElement(f)?v.cloneElement(f,E):v.createElement(g,E)}var qQe=["item"],zQe=["children","className","width","height","style","compact","title","desc"];function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function Jf(){return Jf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jf.apply(this,arguments)}function pL(t,e){return XQe(t)||WQe(t,e)||xZ(t,e)||GQe()}function GQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WQe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function XQe(t){if(Array.isArray(t))return t}function gL(t,e){if(t==null)return{};var r=YQe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function YQe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function JQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZQe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vZ(n.key),n)}}function e3e(t,e,r){return e&&ZQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function t3e(t,e,r){return e=sb(e),r3e(t,gZ()?Reflect.construct(e,r||[],sb(t).constructor):e.apply(t,r))}function r3e(t,e){if(e&&(Qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n3e(t)}function n3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gZ=function(){return!!t})()}function sb(t){return sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sb(t)}function a3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hk(t,e)}function hk(t,e){return hk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hk(t,e)}function Ld(t){return o3e(t)||i3e(t)||xZ(t)||s3e()}function s3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xZ(t,e){if(t){if(typeof t=="string")return fk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fk(t,e)}}function i3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function o3e(t){if(Array.isArray(t))return fk(t)}function fk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function de(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xL(Object(r),!0).forEach(function(n){ft(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ft(t,e,r){return e=vZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vZ(t){var e=l3e(t,"string");return Qd(e)=="symbol"?e:e+""}function l3e(t,e){if(Qd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var c3e={xAxis:["bottom","top"],yAxis:["left","right"]},u3e={width:"100%",height:"100%"},yZ={x:0,y:0};function q0(t){return t}var A3e=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},d3e=function(e,r,n,a){var s=r.find(function(A){return A&&A.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,l=a.radius;return de(de(de({},a),Dn(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=a.angle;return de(de(de({},a),Dn(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return yZ},Xw=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Ld(l),Ld(u)):l},[]);return o.length>0?o:e&&e.length&&De(a)&&De(s)?e.slice(a,s+1):[]};function bZ(t){return t==="number"?[0,"auto"]:void 0}var mk=function(e,r,n,a){var s=e.graphicalItems,o=e.tooltipAxis,l=Xw(r,e);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var A,d=(A=u.props.data)!==null&&A!==void 0?A:r;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var f=d===void 0?l:d;h=uy(f,o.dataKey,a)}else h=d&&d[n]||l[n];return h?[].concat(Ld(c),[yJ(u,h)]):c},[])},vL=function(e,r,n,a){var s=a||{x:e.chartX,y:e.chartY},o=A3e(s,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,A=QFe(o,l,u,c);if(A>=0&&u){var d=u[A]&&u[A].value,h=mk(e,r,A,d),f=d3e(n,l,A,s);return{activeTooltipIndex:A,activeLabel:d,activePayload:h,activeCoordinate:f}}return null},h3e=function(e,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,A=e.layout,d=e.children,h=e.stackOffset,f=gJ(A,s);return n.reduce(function(p,g){var m,b=g.type.defaultProps!==void 0?de(de({},g.type.defaultProps),g.props):g.props,y=b.type,w=b.dataKey,x=b.allowDataOverflow,C=b.allowDuplicatedCategory,E=b.scale,B=b.ticks,j=b.includeHidden,N=b[o];if(p[N])return p;var S=Xw(e.data,{graphicalItems:a.filter(function(K){var G,q=o in K.props?K.props[o]:(G=K.type.defaultProps)===null||G===void 0?void 0:G[o];return q===N}),dataStartIndex:c,dataEndIndex:u}),k=S.length,I,T,O;MQe(b.domain,x,y)&&(I=IN(b.domain,null,x),f&&(y==="number"||E!=="auto")&&(O=Wf(S,w,"category")));var U=bZ(y);if(!I||I.length===0){var H,R=(H=b.domain)!==null&&H!==void 0?H:U;if(w){if(I=Wf(S,w,y),y==="category"&&f){var D=TSe(I);C&&D?(T=I,I=qy(0,k)):C||(I=P6(R,I,g).reduce(function(K,G){return K.indexOf(G)>=0?K:[].concat(Ld(K),[G])},[]))}else if(y==="category")C?I=I.filter(function(K){return K!==""&&!Ot(K)}):I=P6(R,I,g).reduce(function(K,G){return K.indexOf(G)>=0||G===""||Ot(G)?K:[].concat(Ld(K),[G])},[]);else if(y==="number"){var M=KFe(S,a.filter(function(K){var G,q,W=o in K.props?K.props[o]:(G=K.type.defaultProps)===null||G===void 0?void 0:G[o],re="hide"in K.props?K.props.hide:(q=K.type.defaultProps)===null||q===void 0?void 0:q.hide;return W===N&&(j||!re)}),w,s,A);M&&(I=M)}f&&(y==="number"||E!=="auto")&&(O=Wf(S,w,"category"))}else f?I=qy(0,k):l&&l[N]&&l[N].hasStack&&y==="number"?I=h==="expand"?[0,1]:vJ(l[N].stackGroups,c,u):I=pJ(S,a.filter(function(K){var G=o in K.props?K.props[o]:K.type.defaultProps[o],q="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return G===N&&(j||!q)}),y,A,!0);if(y==="number")I=dk(d,I,N,s,B),R&&(I=IN(R,I,x));else if(y==="category"&&R){var Q=R,L=I.every(function(K){return Q.indexOf(K)>=0});L&&(I=Q)}}return de(de({},p),{},ft({},N,de(de({},b),{},{axisType:s,domain:I,categoricalDomain:O,duplicateDomain:T,originalDomain:(m=b.domain)!==null&&m!==void 0?m:U,isCategorical:f,layout:A})))},{})},f3e=function(e,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,A=e.layout,d=e.children,h=Xw(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),f=h.length,p=gJ(A,s),g=-1;return n.reduce(function(m,b){var y=b.type.defaultProps!==void 0?de(de({},b.type.defaultProps),b.props):b.props,w=y[o],x=bZ("number");if(!m[w]){g++;var C;return p?C=qy(0,f):l&&l[w]&&l[w].hasStack?(C=vJ(l[w].stackGroups,c,u),C=dk(d,C,w,s)):(C=IN(x,pJ(h,n.filter(function(E){var B,j,N=o in E.props?E.props[o]:(B=E.type.defaultProps)===null||B===void 0?void 0:B[o],S="hide"in E.props?E.props.hide:(j=E.type.defaultProps)===null||j===void 0?void 0:j.hide;return N===w&&!S}),"number",A),a.defaultProps.allowDataOverflow),C=dk(d,C,w,s)),de(de({},m),{},ft({},w,de(de({axisType:s},a.defaultProps),{},{hide:!0,orientation:ls(c3e,"".concat(s,".").concat(g%2),null),domain:C,originalDomain:x,isCategorical:p,layout:A})))}return m},{})},m3e=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,A=e.children,d="".concat(a,"Id"),h=cs(A,s),f={};return h&&h.length?f=h3e(e,{axes:h,graphicalItems:o,axisType:a,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(f=f3e(e,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),f},p3e=function(e){var r=qo(e),n=Ki(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:eP(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Ry(r,n)}},yL=function(e){var r=e.children,n=e.defaultShowTooltip,a=Oa(r,Td),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},g3e=function(e){return!e||!e.length?!1:e.some(function(r){var n=Yi(r&&r.type);return n&&n.indexOf("Bar")>=0})},bL=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},x3e=function(e,r){var n=e.props,a=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,A=n.height,d=n.children,h=n.margin||{},f=Oa(d,Td),p=Oa(d,PA),g=Object.keys(c).reduce(function(C,E){var B=c[E],j=B.orientation;return!B.mirror&&!B.hide?de(de({},C),{},ft({},j,C[j]+B.width)):C},{left:h.left||0,right:h.right||0}),m=Object.keys(o).reduce(function(C,E){var B=o[E],j=B.orientation;return!B.mirror&&!B.hide?de(de({},C),{},ft({},j,ls(C,"".concat(j))+B.height)):C},{top:h.top||0,bottom:h.bottom||0}),b=de(de({},m),g),y=b.bottom;f&&(b.bottom+=f.props.height||Td.defaultProps.height),p&&r&&(b=$Fe(b,a,n,r));var w=u-b.left-b.right,x=A-b.top-b.bottom;return de(de({brushBottom:y},b),{},{width:Math.max(w,0),height:Math.max(x,0)})},v3e=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},wZ=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,s=a===void 0?"axis":a,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,A=e.formatAxisMap,d=e.defaultProps,h=function(m,b){var y=b.graphicalItems,w=b.stackGroups,x=b.offset,C=b.updateId,E=b.dataStartIndex,B=b.dataEndIndex,j=m.barSize,N=m.layout,S=m.barGap,k=m.barCategoryGap,I=m.maxBarSize,T=bL(N),O=T.numericAxisName,U=T.cateAxisName,H=g3e(y),R=[];return y.forEach(function(D,M){var Q=Xw(m.data,{graphicalItems:[D],dataStartIndex:E,dataEndIndex:B}),L=D.type.defaultProps!==void 0?de(de({},D.type.defaultProps),D.props):D.props,K=L.dataKey,G=L.maxBarSize,q=L["".concat(O,"Id")],W=L["".concat(U,"Id")],re={},le=c.reduce(function(ie,ge){var we=b["".concat(ge.axisType,"Map")],xe=L["".concat(ge.axisType,"Id")];we&&we[xe]||ge.axisType==="zAxis"||pu();var Ve=we[xe];return de(de({},ie),{},ft(ft({},ge.axisType,Ve),"".concat(ge.axisType,"Ticks"),Ki(Ve)))},re),ne=le[U],ce=le["".concat(U,"Ticks")],Ae=w&&w[q]&&w[q].hasStack&&nDe(D,w[q].stackGroups),ve=Yi(D.type).indexOf("Bar")>=0,Y=Ry(ne,ce),pe=[],Ee=H&&LFe({barSize:j,stackGroups:w,totalSize:v3e(le,U)});if(ve){var Re,$e,wt=Ot(G)?I:G,X=(Re=($e=Ry(ne,ce,!0))!==null&&$e!==void 0?$e:wt)!==null&&Re!==void 0?Re:0;pe=HFe({barGap:S,barCategoryGap:k,bandSize:X!==Y?X:Y,sizeList:Ee[W],maxBarSize:wt}),X!==Y&&(pe=pe.map(function(ie){return de(de({},ie),{},{position:de(de({},ie.position),{},{offset:ie.position.offset-X/2})})}))}var ee=D&&D.type&&D.type.getComposedData;ee&&R.push({props:de(de({},ee(de(de({},le),{},{displayedData:Q,props:m,dataKey:K,item:D,bandSize:Y,barPosition:pe,offset:x,stackedData:Ae,layout:N,dataStartIndex:E,dataEndIndex:B}))),{},ft(ft(ft({key:D.key||"item-".concat(M)},O,le[O]),U,le[U]),"animationId",C)),childIndex:$Se(D,m.children),item:D})}),R},f=function(m,b){var y=m.props,w=m.dataStartIndex,x=m.dataEndIndex,C=m.updateId;if(!zM({props:y}))return null;var E=y.children,B=y.layout,j=y.stackOffset,N=y.data,S=y.reverseStackOrder,k=bL(B),I=k.numericAxisName,T=k.cateAxisName,O=cs(E,n),U=eDe(N,O,"".concat(I,"Id"),"".concat(T,"Id"),j,S),H=c.reduce(function(L,K){var G="".concat(K.axisType,"Map");return de(de({},L),{},ft({},G,m3e(y,de(de({},K),{},{graphicalItems:O,stackGroups:K.axisType===I&&U,dataStartIndex:w,dataEndIndex:x}))))},{}),R=x3e(de(de({},H),{},{props:y,graphicalItems:O}),b==null?void 0:b.legendBBox);Object.keys(H).forEach(function(L){H[L]=A(y,H[L],R,L.replace("Map",""),r)});var D=H["".concat(T,"Map")],M=p3e(D),Q=h(y,de(de({},H),{},{dataStartIndex:w,dataEndIndex:x,updateId:C,graphicalItems:O,stackGroups:U,offset:R}));return de(de({formattedGraphicalItems:Q,graphicalItems:O,offset:R,stackGroups:U},M),H)},p=function(g){function m(b){var y,w,x;return JQe(this,m),x=t3e(this,m,[b]),ft(x,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ft(x,"accessibilityManager",new UQe),ft(x,"handleLegendBBoxUpdate",function(C){if(C){var E=x.state,B=E.dataStartIndex,j=E.dataEndIndex,N=E.updateId;x.setState(de({legendBBox:C},f({props:x.props,dataStartIndex:B,dataEndIndex:j,updateId:N},de(de({},x.state),{},{legendBBox:C}))))}}),ft(x,"handleReceiveSyncEvent",function(C,E,B){if(x.props.syncId===C){if(B===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(E)}}),ft(x,"handleBrushChange",function(C){var E=C.startIndex,B=C.endIndex;if(E!==x.state.dataStartIndex||B!==x.state.dataEndIndex){var j=x.state.updateId;x.setState(function(){return de({dataStartIndex:E,dataEndIndex:B},f({props:x.props,dataStartIndex:E,dataEndIndex:B,updateId:j},x.state))}),x.triggerSyncEvent({dataStartIndex:E,dataEndIndex:B})}}),ft(x,"handleMouseEnter",function(C){var E=x.getMouseInfo(C);if(E){var B=de(de({},E),{},{isTooltipActive:!0});x.setState(B),x.triggerSyncEvent(B);var j=x.props.onMouseEnter;Pt(j)&&j(B,C)}}),ft(x,"triggeredAfterMouseMove",function(C){var E=x.getMouseInfo(C),B=E?de(de({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(B),x.triggerSyncEvent(B);var j=x.props.onMouseMove;Pt(j)&&j(B,C)}),ft(x,"handleItemMouseEnter",function(C){x.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),ft(x,"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),ft(x,"handleMouseMove",function(C){C.persist(),x.throttleTriggeredAfterMouseMove(C)}),ft(x,"handleMouseLeave",function(C){x.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};x.setState(E),x.triggerSyncEvent(E);var B=x.props.onMouseLeave;Pt(B)&&B(E,C)}),ft(x,"handleOuterEvent",function(C){var E=HSe(C),B=ls(x.props,"".concat(E));if(E&&Pt(B)){var j,N;/.*touch.*/i.test(E)?N=x.getMouseInfo(C.changedTouches[0]):N=x.getMouseInfo(C),B((j=N)!==null&&j!==void 0?j:{},C)}}),ft(x,"handleClick",function(C){var E=x.getMouseInfo(C);if(E){var B=de(de({},E),{},{isTooltipActive:!0});x.setState(B),x.triggerSyncEvent(B);var j=x.props.onClick;Pt(j)&&j(B,C)}}),ft(x,"handleMouseDown",function(C){var E=x.props.onMouseDown;if(Pt(E)){var B=x.getMouseInfo(C);E(B,C)}}),ft(x,"handleMouseUp",function(C){var E=x.props.onMouseUp;if(Pt(E)){var B=x.getMouseInfo(C);E(B,C)}}),ft(x,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),ft(x,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&x.handleMouseDown(C.changedTouches[0])}),ft(x,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&x.handleMouseUp(C.changedTouches[0])}),ft(x,"triggerSyncEvent",function(C){x.props.syncId!==void 0&&ME.emit(QE,x.props.syncId,C,x.eventEmitterSymbol)}),ft(x,"applySyncEvent",function(C){var E=x.props,B=E.layout,j=E.syncMethod,N=x.state.updateId,S=C.dataStartIndex,k=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)x.setState(de({dataStartIndex:S,dataEndIndex:k},f({props:x.props,dataStartIndex:S,dataEndIndex:k,updateId:N},x.state)));else if(C.activeTooltipIndex!==void 0){var I=C.chartX,T=C.chartY,O=C.activeTooltipIndex,U=x.state,H=U.offset,R=U.tooltipTicks;if(!H)return;if(typeof j=="function")O=j(R,C);else if(j==="value"){O=-1;for(var D=0;D<R.length;D++)if(R[D].value===C.activeLabel){O=D;break}}var M=de(de({},H),{},{x:H.left,y:H.top}),Q=Math.min(I,M.x+M.width),L=Math.min(T,M.y+M.height),K=R[O]&&R[O].value,G=mk(x.state,x.props.data,O),q=R[O]?{x:B==="horizontal"?R[O].coordinate:Q,y:B==="horizontal"?L:R[O].coordinate}:yZ;x.setState(de(de({},C),{},{activeLabel:K,activeCoordinate:q,activePayload:G,activeTooltipIndex:O}))}else x.setState(C)}),ft(x,"renderCursor",function(C){var E,B=x.state,j=B.isTooltipActive,N=B.activeCoordinate,S=B.activePayload,k=B.offset,I=B.activeTooltipIndex,T=B.tooltipAxisBandSize,O=x.getTooltipEventType(),U=(E=C.props.active)!==null&&E!==void 0?E:j,H=x.props.layout,R=C.key||"_recharts-cursor";return V.createElement(KQe,{key:R,activeCoordinate:N,activePayload:S,activeTooltipIndex:I,chartName:r,element:C,isActive:U,layout:H,offset:k,tooltipAxisBandSize:T,tooltipEventType:O})}),ft(x,"renderPolarAxis",function(C,E,B){var j=ls(C,"type.axisType"),N=ls(x.state,"".concat(j,"Map")),S=C.type.defaultProps,k=S!==void 0?de(de({},S),C.props):C.props,I=N&&N[k["".concat(j,"Id")]];return v.cloneElement(C,de(de({},I),{},{className:Gt(j,I.className),key:C.key||"".concat(E,"-").concat(B),ticks:Ki(I,!0)}))}),ft(x,"renderPolarGrid",function(C){var E=C.props,B=E.radialLines,j=E.polarAngles,N=E.polarRadius,S=x.state,k=S.radiusAxisMap,I=S.angleAxisMap,T=qo(k),O=qo(I),U=O.cx,H=O.cy,R=O.innerRadius,D=O.outerRadius;return v.cloneElement(C,{polarAngles:Array.isArray(j)?j:Ki(O,!0).map(function(M){return M.coordinate}),polarRadius:Array.isArray(N)?N:Ki(T,!0).map(function(M){return M.coordinate}),cx:U,cy:H,innerRadius:R,outerRadius:D,key:C.key||"polar-grid",radialLines:B})}),ft(x,"renderLegend",function(){var C=x.state.formattedGraphicalItems,E=x.props,B=E.children,j=E.width,N=E.height,S=x.props.margin||{},k=j-(S.left||0)-(S.right||0),I=fJ({children:B,formattedGraphicalItems:C,legendWidth:k,legendContent:u});if(!I)return null;var T=I.item,O=gL(I,qQe);return v.cloneElement(T,de(de({},O),{},{chartWidth:j,chartHeight:N,margin:S,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),ft(x,"renderTooltip",function(){var C,E=x.props,B=E.children,j=E.accessibilityLayer,N=Oa(B,Bs);if(!N)return null;var S=x.state,k=S.isTooltipActive,I=S.activeCoordinate,T=S.activePayload,O=S.activeLabel,U=S.offset,H=(C=N.props.active)!==null&&C!==void 0?C:k;return v.cloneElement(N,{viewBox:de(de({},U),{},{x:U.left,y:U.top}),active:H,label:O,payload:H?T:[],coordinate:I,accessibilityLayer:j})}),ft(x,"renderBrush",function(C){var E=x.props,B=E.margin,j=E.data,N=x.state,S=N.offset,k=N.dataStartIndex,I=N.dataEndIndex,T=N.updateId;return v.cloneElement(C,{key:C.key||"_recharts-brush",onChange:L0(x.handleBrushChange,C.props.onChange),data:j,x:De(C.props.x)?C.props.x:S.left,y:De(C.props.y)?C.props.y:S.top+S.height+S.brushBottom-(B.bottom||0),width:De(C.props.width)?C.props.width:S.width,startIndex:k,endIndex:I,updateId:"brush-".concat(T)})}),ft(x,"renderReferenceElement",function(C,E,B){if(!C)return null;var j=x,N=j.clipPathId,S=x.state,k=S.xAxisMap,I=S.yAxisMap,T=S.offset,O=C.type.defaultProps||{},U=C.props,H=U.xAxisId,R=H===void 0?O.xAxisId:H,D=U.yAxisId,M=D===void 0?O.yAxisId:D;return v.cloneElement(C,{key:C.key||"".concat(E,"-").concat(B),xAxis:k[R],yAxis:I[M],viewBox:{x:T.left,y:T.top,width:T.width,height:T.height},clipPathId:N})}),ft(x,"renderActivePoints",function(C){var E=C.item,B=C.activePoint,j=C.basePoint,N=C.childIndex,S=C.isRange,k=[],I=E.props.key,T=E.item.type.defaultProps!==void 0?de(de({},E.item.type.defaultProps),E.item.props):E.item.props,O=T.activeDot,U=T.dataKey,H=de(de({index:N,dataKey:U,cx:B.x,cy:B.y,r:4,fill:jP(E.item),strokeWidth:2,stroke:"#fff",payload:B.payload,value:B.value},Ht(O,!1)),Ay(O));return k.push(m.renderActiveDot(O,H,"".concat(I,"-activePoint-").concat(N))),j?k.push(m.renderActiveDot(O,de(de({},H),{},{cx:j.x,cy:j.y}),"".concat(I,"-basePoint-").concat(N))):S&&k.push(null),k}),ft(x,"renderGraphicChild",function(C,E,B){var j=x.filterFormatItem(C,E,B);if(!j)return null;var N=x.getTooltipEventType(),S=x.state,k=S.isTooltipActive,I=S.tooltipAxis,T=S.activeTooltipIndex,O=S.activeLabel,U=x.props.children,H=Oa(U,Bs),R=j.props,D=R.points,M=R.isRange,Q=R.baseLine,L=j.item.type.defaultProps!==void 0?de(de({},j.item.type.defaultProps),j.item.props):j.item.props,K=L.activeDot,G=L.hide,q=L.activeBar,W=L.activeShape,re=!!(!G&&k&&H&&(K||q||W)),le={};N!=="axis"&&H&&H.props.trigger==="click"?le={onClick:L0(x.handleItemMouseEnter,C.props.onClick)}:N!=="axis"&&(le={onMouseLeave:L0(x.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:L0(x.handleItemMouseEnter,C.props.onMouseEnter)});var ne=v.cloneElement(C,de(de({},j.props),le));function ce(ge){return typeof I.dataKey=="function"?I.dataKey(ge.payload):null}if(re)if(T>=0){var Ae,ve;if(I.dataKey&&!I.allowDuplicatedCategory){var Y=typeof I.dataKey=="function"?ce:"payload.".concat(I.dataKey.toString());Ae=uy(D,Y,O),ve=M&&Q&&uy(Q,Y,O)}else Ae=D==null?void 0:D[T],ve=M&&Q&&Q[T];if(W||q){var pe=C.props.activeIndex!==void 0?C.props.activeIndex:T;return[v.cloneElement(C,de(de(de({},j.props),le),{},{activeIndex:pe})),null,null]}if(!Ot(Ae))return[ne].concat(Ld(x.renderActivePoints({item:j,activePoint:Ae,basePoint:ve,childIndex:T,isRange:M})))}else{var Ee,Re=(Ee=x.getItemByXY(x.state.activeCoordinate))!==null&&Ee!==void 0?Ee:{graphicalItem:ne},$e=Re.graphicalItem,wt=$e.item,X=wt===void 0?C:wt,ee=$e.childIndex,ie=de(de(de({},j.props),le),{},{activeIndex:ee});return[v.cloneElement(X,ie),null,null]}return M?[ne,null,null]:[ne,null]}),ft(x,"renderCustomized",function(C,E,B){return v.cloneElement(C,de(de({key:"recharts-customized-".concat(B)},x.props),x.state))}),ft(x,"renderMap",{CartesianGrid:{handler:q0,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:q0},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:q0},YAxis:{handler:q0},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((y=b.id)!==null&&y!==void 0?y:Ag("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=hY(x.triggeredAfterMouseMove,(w=b.throttleDelay)!==null&&w!==void 0?w:1e3/60),x.state={},x}return a3e(m,g),e3e(m,[{key:"componentDidMount",value:function(){var y,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,w=y.children,x=y.data,C=y.height,E=y.layout,B=Oa(w,Bs);if(B){var j=B.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,S=mk(this.state,x,j,N),k=this.state.tooltipTicks[j].coordinate,I=(this.state.offset.top+C)/2,T=E==="horizontal",O=T?{x:k,y:I}:{y:k,x:I},U=this.state.formattedGraphicalItems.find(function(R){var D=R.item;return D.type.name==="Scatter"});U&&(O=de(de({},O),U.props.points[j].tooltipPosition),S=U.props.points[j].tooltipPayload);var H={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:N,activePayload:S,activeCoordinate:O};this.setState(H),this.renderCursor(B),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var x,C;this.accessibilityManager.setDetails({offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(y){eN([Oa(y.children,Bs)],[Oa(this.props.children,Bs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=Oa(this.props.children,Bs);if(y&&typeof y.props.shared=="boolean"){var w=y.props.shared?"axis":"item";return l.indexOf(w)>=0?w:s}return s}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var w=this.container,x=w.getBoundingClientRect(),C=kTe(x),E={chartX:Math.round(y.pageX-C.left),chartY:Math.round(y.pageY-C.top)},B=x.width/w.offsetWidth||1,j=this.inRange(E.chartX,E.chartY,B);if(!j)return null;var N=this.state,S=N.xAxisMap,k=N.yAxisMap,I=this.getTooltipEventType();if(I!=="axis"&&S&&k){var T=qo(S).scale,O=qo(k).scale,U=T&&T.invert?T.invert(E.chartX):null,H=O&&O.invert?O.invert(E.chartY):null;return de(de({},E),{},{xValue:U,yValue:H})}var R=vL(this.state,this.props.data,this.props.layout,j);return R?de(de({},E),R):null}},{key:"inRange",value:function(y,w){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,E=y/x,B=w/x;if(C==="horizontal"||C==="vertical"){var j=this.state.offset,N=E>=j.left&&E<=j.left+j.width&&B>=j.top&&B<=j.top+j.height;return N?{x:E,y:B}:null}var S=this.state,k=S.angleAxisMap,I=S.radiusAxisMap;if(k&&I){var T=qo(k);return O6({x:E,y:B},T)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,w=this.getTooltipEventType(),x=Oa(y,Bs),C={};x&&w==="axis"&&(x.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var E=Ay(this.props,this.handleOuterEvent);return de(de({},E),C)}},{key:"addListener",value:function(){ME.on(QE,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ME.removeListener(QE,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,w,x){for(var C=this.state.formattedGraphicalItems,E=0,B=C.length;E<B;E++){var j=C[E];if(j.item===y||j.props.key===y.key||w===Yi(j.item.type)&&x===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,w=this.state.offset,x=w.left,C=w.top,E=w.height,B=w.width;return V.createElement("defs",null,V.createElement("clipPath",{id:y},V.createElement("rect",{x,y:C,height:E,width:B})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(w,x){var C=pL(x,2),E=C[0],B=C[1];return de(de({},w),{},ft({},E,B.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(w,x){var C=pL(x,2),E=C[0],B=C[1];return de(de({},w),{},ft({},E,B.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(y){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(y){var w=this.state,x=w.formattedGraphicalItems,C=w.activeItem;if(x&&x.length)for(var E=0,B=x.length;E<B;E++){var j=x[E],N=j.props,S=j.item,k=S.type.defaultProps!==void 0?de(de({},S.type.defaultProps),S.props):S.props,I=Yi(S.type);if(I==="Bar"){var T=(N.data||[]).find(function(R){return PRe(y,R)});if(T)return{graphicalItem:j,payload:T}}else if(I==="RadialBar"){var O=(N.data||[]).find(function(R){return O6(y,R)});if(O)return{graphicalItem:j,payload:O}}else if($w(j,C)||Vw(j,C)||yp(j,C)){var U=_Ue({graphicalItem:j,activeTooltipItem:C,itemData:k.data}),H=k.activeIndex===void 0?U:k.activeIndex;return{graphicalItem:de(de({},j),{},{childIndex:H}),payload:yp(j,C)?k.data[U]:j.props.data[U]}}}return null}},{key:"render",value:function(){var y=this;if(!zM(this))return null;var w=this.props,x=w.children,C=w.className,E=w.width,B=w.height,j=w.style,N=w.compact,S=w.title,k=w.desc,I=gL(w,zQe),T=Ht(I,!1);if(N)return V.createElement(Y8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(rN,Jf({},T,{width:E,height:B,title:S,desc:k}),this.renderClipPath(),WM(x,this.renderMap)));if(this.props.accessibilityLayer){var O,U;T.tabIndex=(O=this.props.tabIndex)!==null&&O!==void 0?O:0,T.role=(U=this.props.role)!==null&&U!==void 0?U:"application",T.onKeyDown=function(R){y.accessibilityManager.keyboardEvent(R)},T.onFocus=function(){y.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return V.createElement(Y8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",Jf({className:Gt("recharts-wrapper",C),style:de({position:"relative",cursor:"default",width:E,height:B},j)},H,{ref:function(D){y.container=D}}),V.createElement(rN,Jf({},T,{width:E,height:B,title:S,desc:k,style:u3e}),this.renderClipPath(),WM(x,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);return ft(p,"displayName",r),ft(p,"defaultProps",de({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),ft(p,"getDerivedStateFromProps",function(g,m){var b=g.dataKey,y=g.data,w=g.children,x=g.width,C=g.height,E=g.layout,B=g.stackOffset,j=g.margin,N=m.dataStartIndex,S=m.dataEndIndex;if(m.updateId===void 0){var k=yL(g);return de(de(de({},k),{},{updateId:0},f(de(de({props:g},k),{},{updateId:0}),m)),{},{prevDataKey:b,prevData:y,prevWidth:x,prevHeight:C,prevLayout:E,prevStackOffset:B,prevMargin:j,prevChildren:w})}if(b!==m.prevDataKey||y!==m.prevData||x!==m.prevWidth||C!==m.prevHeight||E!==m.prevLayout||B!==m.prevStackOffset||!IA(j,m.prevMargin)){var I=yL(g),T={chartX:m.chartX,chartY:m.chartY,isTooltipActive:m.isTooltipActive},O=de(de({},vL(m,y,E)),{},{updateId:m.updateId+1}),U=de(de(de({},I),T),O);return de(de(de({},U),f(de({props:g},U),m)),{},{prevDataKey:b,prevData:y,prevWidth:x,prevHeight:C,prevLayout:E,prevStackOffset:B,prevMargin:j,prevChildren:w})}if(!eN(w,m.prevChildren)){var H,R,D,M,Q=Oa(w,Td),L=Q&&(H=(R=Q.props)===null||R===void 0?void 0:R.startIndex)!==null&&H!==void 0?H:N,K=Q&&(D=(M=Q.props)===null||M===void 0?void 0:M.endIndex)!==null&&D!==void 0?D:S,G=L!==N||K!==S,q=!Ot(y),W=q&&!G?m.updateId:m.updateId+1;return de(de({updateId:W},f(de(de({props:g},m),{},{updateId:W,dataStartIndex:L,dataEndIndex:K}),m)),{},{prevChildren:w,dataStartIndex:L,dataEndIndex:K})}return null}),ft(p,"renderActiveDot",function(g,m,b){var y;return v.isValidElement(g)?y=v.cloneElement(g,m):Pt(g)?y=g(m):y=V.createElement(SP,m),V.createElement(Kr,{className:"recharts-active-dot",key:b},y)}),function(m){return V.createElement(p,m)}},y3e=wZ({chartName:"LineChart",GraphicalChild:xg,axisComponents:[{axisType:"xAxis",AxisComp:ph},{axisType:"yAxis",AxisComp:gh}],formatAxisMap:LJ}),b3e=wZ({chartName:"BarChart",GraphicalChild:Bu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ph},{axisType:"yAxis",AxisComp:gh}],formatAxisMap:LJ});const w3e={light:"",dark:".dark"},_Z=v.createContext(null);function BZ(){const t=v.useContext(_Z);if(!t)throw new Error("useChart must be used within a <ChartContainer />");return t}const MP=v.forwardRef(({id:t,className:e,children:r,config:n,...a},s)=>{const o=v.useId(),l=`chart-${t||o.replace(/:/g,"")}`;return i.jsx(_Z.Provider,{value:{config:n},children:i.jsxs("div",{"data-chart":l,ref:s,className:fe("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",e),...a,children:[i.jsx(_3e,{id:l,config:n}),i.jsx(_Te,{children:r})]})})});MP.displayName="Chart";const _3e=({id:t,config:e})=>{const r=Object.entries(e).filter(([n,a])=>a.theme||a.color);return r.length?i.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(w3e).map(([n,a])=>`
${a} [data-chart=${t}] {
${r.map(([s,o])=>{var c;const l=((c=o.theme)==null?void 0:c[n])||o.color;return l?`  --color-${s}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},B3e=v.forwardRef(({active:t,payload:e,className:r,indicator:n="dot",hideLabel:a=!1,hideIndicator:s=!1,label:o,labelFormatter:l,labelClassName:c,formatter:u,color:A,nameKey:d,labelKey:h},f)=>{const{config:p}=BZ(),g=v.useMemo(()=>{var C;if(a||!(e!=null&&e.length))return null;const[b]=e,y=`${h||b.dataKey||b.name||"value"}`,w=pk(p,b,y),x=!h&&typeof o=="string"?((C=p[o])==null?void 0:C.label)||o:w==null?void 0:w.label;return l?i.jsx("div",{className:fe("font-medium",c),children:l(x,e)}):x?i.jsx("div",{className:fe("font-medium",c),children:x}):null},[o,l,e,a,c,p,h]);if(!t||!(e!=null&&e.length))return null;const m=e.length===1&&n!=="dot";return i.jsxs("div",{ref:f,className:fe("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[m?null:g,i.jsx("div",{className:"grid gap-1.5",children:e.map((b,y)=>{const w=`${d||b.name||b.dataKey||"value"}`,x=pk(p,b,w),C=A||b.payload.fill||b.color;return i.jsx("div",{className:fe("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(b==null?void 0:b.value)!==void 0&&b.name?u(b.value,b.name,b,y,b.payload):i.jsxs(i.Fragment,{children:[x!=null&&x.icon?i.jsx(x.icon,{}):!s&&i.jsx("div",{className:fe("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":m&&n==="dashed"}),style:{"--color-bg":C,"--color-border":C}}),i.jsxs("div",{className:fe("flex flex-1 justify-between leading-none",m?"items-end":"items-center"),children:[i.jsxs("div",{className:"grid gap-1.5",children:[m?g:null,i.jsx("span",{className:"text-muted-foreground",children:(x==null?void 0:x.label)||b.name})]}),b.value&&i.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:b.value.toLocaleString()})]})]})},b.dataKey)})})]})});B3e.displayName="ChartTooltip";const C3e=v.forwardRef(({className:t,hideIcon:e=!1,payload:r,verticalAlign:n="bottom",nameKey:a},s)=>{const{config:o}=BZ();return r!=null&&r.length?i.jsx("div",{ref:s,className:fe("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",t),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,u=pk(o,l,c);return i.jsxs("div",{className:fe("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!e?i.jsx(u.icon,{}):i.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});C3e.displayName="ChartLegend";function pk(t,e,r){if(typeof e!="object"||e===null)return;const n="payload"in e&&typeof e.payload=="object"&&e.payload!==null?e.payload:void 0;let a=r;return r in e&&typeof e[r]=="string"?a=e[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in t?t[a]:t[r]}function CZ({data:t,index:e,categories:r,colors:n=["#FF7E47"],valueFormatter:a=o=>`${o}`,yAxisWidth:s=40}){return i.jsx(MP,{config:{[r[0]]:{color:n[0]}},children:i.jsxs(b3e,{data:t,margin:{top:20,right:20,bottom:20,left:20},children:[i.jsx(UP,{strokeDasharray:"3 3",vertical:!1}),i.jsx(ph,{dataKey:e}),i.jsx(gh,{width:s,tickFormatter:a}),i.jsx(Bs,{content:({active:o,payload:l})=>o&&l&&l.length?i.jsx("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:i.jsx("div",{className:"grid grid-cols-2 gap-2",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-[0.70rem] uppercase text-muted-foreground",children:l[0].payload[e]}),i.jsx("span",{className:"font-bold text-muted-foreground",children:a(Number(l[0].value))})]})})}):null}),r.map((o,l)=>i.jsx(Bu,{dataKey:o,fill:n[l]||n[0],radius:[4,4,0,0]},o))]})})}function j3e({data:t,index:e,categories:r,colors:n=["#FF7E47"],valueFormatter:a=o=>`${o}`,yAxisWidth:s=40}){return i.jsx(MP,{config:{[r[0]]:{color:n[0]}},children:i.jsxs(y3e,{data:t,margin:{top:20,right:20,bottom:20,left:20},children:[i.jsx(UP,{strokeDasharray:"3 3",vertical:!1}),i.jsx(ph,{dataKey:e}),i.jsx(gh,{width:s,tickFormatter:a}),i.jsx(Bs,{content:({active:o,payload:l})=>o&&l&&l.length?i.jsx("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:i.jsx("div",{className:"grid grid-cols-2 gap-2",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-[0.70rem] uppercase text-muted-foreground",children:l[0].payload[e]}),i.jsx("span",{className:"font-bold text-muted-foreground",children:a(Number(l[0].value))})]})})}):null}),r.map((o,l)=>i.jsx(xg,{type:"monotone",dataKey:o,stroke:n[l]||n[0],strokeWidth:2,dot:{r:4},activeDot:{r:6}},o))]})})}function wL(){var c,u;const[t,e]=v.useState({totalProducts:0,totalOrders:0,totalUsers:0,totalShippingMethods:0}),[r,n]=v.useState(null),[a,s]=v.useState({totalSales:0,totalPurchaseCost:0,profit:0,profitMargin:0}),[o,l]=v.useState([{name:"Jan",total:0},{name:"Feb",total:0},{name:"Mar",total:0},{name:"Apr",total:0},{name:"May",total:0},{name:"Jun",total:0}]);return v.useEffect(()=>{(async()=>{const[d,h,f,p,g,m]=await Promise.all([Z.from("products").select("id",{count:"exact",head:!0}),Z.from("orders").select("id",{count:"exact",head:!0}),Z.from("profiles").select("id",{count:"exact",head:!0}),Z.from("shipping_methods").select("id",{count:"exact",head:!0}),Z.from("coal_inventory_summary").select("*").maybeSingle(),Z.from("coal_inventory_transactions").select("*")]);e({totalProducts:d.count||0,totalOrders:h.count||0,totalUsers:f.count||0,totalShippingMethods:p.count||0}),g.data&&n(g.data);const{data:b}=await Z.from("orders").select("date, total, status").neq("status","canceled").order("date",{ascending:!1}).limit(100);if(b){const y=b.reduce((B,j)=>B+Number(j.total),0),w=[0,0,0,0,0,0];b.forEach(B=>{const N=new Date(B.date).getMonth();N<6&&(w[N]+=Number(B.total))}),l([{name:"Jan",total:w[0]},{name:"Feb",total:w[1]},{name:"Mar",total:w[2]},{name:"Apr",total:w[3]},{name:"Mei",total:w[4]},{name:"Jun",total:w[5]}]);let x=0;m.data&&(x=m.data.filter(j=>j.transaction_type==="incoming"&&j.vehicle_info!=="cancelled_order_return").reduce((j,N)=>{const S=(N.price_per_kg||0)*N.quantity_kg;return j+S},0));const C=y-x,E=y>0?C/y*100:0;s({totalSales:y,totalPurchaseCost:x,profit:C,profitMargin:E})}})()},[]),i.jsxs(On,{children:[i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Dasbor Admin"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[i.jsxs(Be,{children:[i.jsxs(ct,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(ut,{className:"text-sm font-medium",children:"Produk"}),i.jsx(to,{className:"h-4 w-4 text-gray-500"})]}),i.jsxs(Ce,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.totalProducts}),i.jsx("p",{className:"text-xs text-gray-500",children:"Total produk"})]})]}),i.jsxs(Be,{children:[i.jsxs(ct,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(ut,{className:"text-sm font-medium",children:"Pesanan"}),i.jsx(cb,{className:"h-4 w-4 text-gray-500"})]}),i.jsxs(Ce,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.totalOrders}),i.jsx("p",{className:"text-xs text-gray-500",children:"Total pesanan"})]})]}),i.jsxs(Be,{children:[i.jsxs(ct,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(ut,{className:"text-sm font-medium",children:"Pengguna"}),i.jsx(Ik,{className:"h-4 w-4 text-gray-500"})]}),i.jsxs(Ce,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.totalUsers}),i.jsx("p",{className:"text-xs text-gray-500",children:"Pengguna terdaftar"})]})]}),i.jsxs(Be,{children:[i.jsxs(ct,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(ut,{className:"text-sm font-medium",children:"Metode Pengiriman"}),i.jsx(Vte,{className:"h-4 w-4 text-gray-500"})]}),i.jsxs(Ce,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.totalShippingMethods}),i.jsx("p",{className:"text-xs text-gray-500",children:"Opsi pengiriman tersedia"})]})]})]}),i.jsxs(Be,{className:"mb-8",children:[i.jsxs(ct,{children:[i.jsx(ut,{className:"flex justify-between items-center",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(ere,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:"Ringkasan Keuangan"})]})}),i.jsx(cr,{children:"Analisis penghasilan, biaya, dan keuntungan dari penjualan arang"})]}),i.jsx(Ce,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[i.jsx(Be,{children:i.jsx(Ce,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total Penjualan"}),i.jsx("h3",{className:"text-xl font-bold text-green-600",children:ye(a.totalSales)})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(K4,{className:"h-6 w-6 text-green-600"})})]})})}),i.jsx(Be,{children:i.jsx(Ce,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Biaya Pembelian"}),i.jsx("h3",{className:"text-xl font-bold text-red-600",children:ye(a.totalPurchaseCost)})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-red-100 flex items-center justify-center",children:i.jsx(bre,{className:"h-6 w-6 text-red-600"})})]})})}),i.jsx(Be,{children:i.jsx(Ce,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:a.profit>=0?"Keuntungan":"Kerugian"}),i.jsx("h3",{className:"text-xl font-bold",style:{color:a.profit>=0?"#047857":"#dc2626"},children:ye(Math.abs(a.profit))})]}),i.jsx("div",{className:"h-12 w-12 rounded-full",style:{backgroundColor:a.profit>=0?"#DCFCE7":"#FEE2E2"},children:a.profit>=0?i.jsx(K4,{className:"h-6 w-6 text-green-600"}):i.jsx(Ab,{className:"h-6 w-6 text-red-600"})})]})})}),i.jsx(Be,{children:i.jsx(Ce,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Margin"}),i.jsxs("h3",{className:"text-xl font-bold",style:{color:a.profit>=0?"#047857":"#dc2626"},children:[a.profitMargin.toFixed(2),"%"]})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx($4,{className:"h-6 w-6 text-blue-600"})})]})})})]})})]}),i.jsxs(Be,{className:"mb-8",children:[i.jsxs(ct,{children:[i.jsxs(ut,{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(q4,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:"Manajemen Stok Arang"})]}),i.jsx(mt,{to:"/admin/coal-inventory",children:i.jsxs(z,{className:"bg-flame-500 hover:bg-flame-600",children:[i.jsx(e$,{className:"h-4 w-4 mr-2"}),"Kelola Stok Arang"]})})]}),i.jsx(cr,{children:"Lihat ringkasan stok arang dan catat transaksi masuk/keluar"})]}),i.jsxs(Ce,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[i.jsx(Be,{children:i.jsx(Ce,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Stok Saat Ini"}),i.jsxs("h3",{className:"text-2xl font-bold",children:[((c=r==null?void 0:r.current_stock_kg)==null?void 0:c.toLocaleString("id-ID"))||"0"," kg"]})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(q4,{className:"h-6 w-6 text-green-600"})})]})})}),i.jsx(Be,{children:i.jsx(Ce,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total Pemasukan"}),i.jsxs("h3",{className:"text-2xl font-bold",children:[((u=r==null?void 0:r.total_incoming_kg)==null?void 0:u.toLocaleString("id-ID"))||"0"," kg"]})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(Qte,{className:"h-6 w-6 text-blue-600"})})]})})}),i.jsx(Be,{children:i.jsx(Ce,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Nilai Stok"}),i.jsx("h3",{className:"text-xl font-bold",children:r?ye(r.stock_value):"Rp 0"})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center",children:i.jsx($4,{className:"h-6 w-6 text-yellow-600"})})]})})})]}),i.jsx("div",{className:"flex justify-center mt-4",children:i.jsx(mt,{to:"/admin/coal-inventory",children:i.jsx(z,{variant:"outline",className:"w-full max-w-md",children:"Lihat Detail Transaksi Stok Arang"})})})]})]}),i.jsxs(Be,{className:"mb-8",children:[i.jsx(ct,{children:i.jsx(ut,{children:"Ringkasan Penjualan"})}),i.jsx(Ce,{children:i.jsx("div",{className:"h-80",children:i.jsx(CZ,{data:o,index:"name",categories:["total"],colors:["#FF7E47"],yAxisWidth:60,valueFormatter:A=>ye(A)})})})]})]})}var E3e="AspectRatio",jZ=v.forwardRef((t,e)=>{const{ratio:r=1/1,style:n,...a}=t;return i.jsx("div",{style:{position:"relative",width:"100%",paddingBottom:`${100/r}%`},"data-radix-aspect-ratio-wrapper":"",children:i.jsx(et.div,{...a,ref:e,style:{...n,position:"absolute",top:0,right:0,bottom:0,left:0}})})});jZ.displayName=E3e;var S3e=jZ;const N3e=S3e,k3e=Ks({quantity:di().int(),type:md(["restock","sale","return","adjustment"]),notes:ur().optional()}),T3e=Ks({name:ur().min(1,"Nama wajib diisi"),type:ur().min(1,"Tipe wajib diisi"),price:di().min(0,"Harga harus berupa angka positif"),description:ur().optional(),origin:ur().optional(),seller:ur().optional(),in_stock:fl().default(!0),featured:fl().default(!1),discount:di().min(0).max(100).optional()});function I3e(){const[t,e]=v.useState([]),[r,n]=v.useState(""),[a,s]=v.useState(!0),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[A,d]=v.useState(!1),[h,f]=v.useState(null),[p,g]=v.useState(1),[m,b]=v.useState(10),[y,w]=v.useState(0),[x,C]=v.useState(!1),E=ca({resolver:ua(k3e),defaultValues:{quantity:0,type:"restock",notes:""}}),B=ca({resolver:ua(T3e),defaultValues:{name:"",type:"",price:0,description:"",origin:"",seller:"",in_stock:!0,featured:!1,discount:0}});v.useEffect(()=>{j()},[p,r]);const j=async()=>{s(!0);try{let Q=Z.from("products").select("*",{count:"exact"});r&&(Q=Q.ilike("name",`%${r}%`));const{data:L,error:K,count:G}=await Q.order("created_at",{ascending:!1}).range((p-1)*m,p*m-1);if(K)throw K;e(L),w(G||0)}catch(Q){console.error("Error fetching products:",Q),me({title:"Error memuat produk",description:Q.message||"Silakan coba lagi nanti.",variant:"destructive"})}finally{s(!1)}},N=Q=>{f(Q),l(!0),E.reset({quantity:0,type:"restock",notes:""})},S=()=>{f(null),u(!0),B.reset({name:"",type:"",price:0,description:"",origin:"",seller:"",in_stock:!0,featured:!1,discount:0})},k=Q=>{f(Q),d(!0),B.reset({name:Q.name,type:Q.type,price:Q.price,description:Q.description||"",origin:Q.origin||"",seller:Q.seller||"",in_stock:Q.in_stock||!1,featured:Q.featured||!1,discount:Q.discount||0})},I=Q=>{f(Q),C(!0)},T=async()=>{if(h)try{const{error:Q}=await Z.from("products").delete().eq("id",h.id);if(Q)throw Q;me({title:"Produk dihapus",description:"Produk telah dihapus berhasil."}),C(!1),j()}catch(Q){console.error("Error deleting product:",Q),me({title:"Error menghapus produk",description:Q.message||"Silakan coba lagi nanti.",variant:"destructive"})}},O=async Q=>{if(h)try{const L={id:"",product_id:h.id,quantity:Q.quantity,transaction_type:Q.type,notes:Q.notes||void 0,created_by:null},{error:K}=await Z.from("inventory_transactions").insert(L);if(K)throw K;Q.type==="restock"&&Q.quantity>0&&!h.in_stock&&await Z.from("products").update({in_stock:!0}).eq("id",h.id),me({title:"Inventaris diperbarui",description:`${Q.quantity} unit ${Q.type==="restock"?"ditambahkan ke":"disesuaikan di"} inventaris.`}),l(!1),j()}catch(L){console.error("Error memperbarui inventaris:",L),me({title:"Error memperbarui inventaris",description:L.message||"Silakan coba lagi nanti.",variant:"destructive"})}},U=async Q=>{try{if(A&&h){const{error:L}=await Z.from("products").update({name:Q.name,type:Q.type,price:Q.price,description:Q.description||null,origin:Q.origin||null,seller:Q.seller||null,in_stock:Q.in_stock,featured:Q.featured,discount:Q.discount||null,updated_at:new Date().toISOString()}).eq("id",h.id);if(L)throw L;me({title:"Produk diperbarui",description:"Produk telah diperbarui berhasil."})}else{const{error:L}=await Z.from("products").insert({name:Q.name,type:Q.type,price:Q.price,description:Q.description||null,origin:Q.origin||null,seller:Q.seller||null,in_stock:Q.in_stock,featured:Q.featured,discount:Q.discount||null,images:[]});if(L)throw L;me({title:"Produk ditambahkan",description:"Produk baru telah ditambahkan berhasil."})}u(!1),d(!1),j()}catch(L){console.error("Error menyimpan produk:",L),me({title:"Error menyimpan produk",description:L.message||"Silakan coba lagi nanti.",variant:"destructive"})}},H=r?t.filter(Q=>Q.name.toLowerCase().includes(r.toLowerCase())||Q.type.toLowerCase().includes(r.toLowerCase())):t,R=Math.ceil(y/m),D=p>1,M=p<R;return i.jsxs(On,{children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Manajemen Inventaris"}),i.jsxs(z,{onClick:S,children:[i.jsx(Kd,{className:"h-4 w-4 mr-2"}),"Tambah Produk"]})]}),i.jsx("div",{className:"mb-6 flex items-center gap-4",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Ul,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(he,{placeholder:"Cari produk...",className:"pl-10",value:r,onChange:Q=>n(Q.target.value)})]})}),i.jsx("div",{className:"bg-white rounded-md shadow overflow-hidden",children:i.jsxs(Gn,{children:[i.jsx(Wn,{children:i.jsxs(vt,{children:[i.jsx(Ie,{className:"w-[80px]",children:"Gambar"}),i.jsx(Ie,{children:"Produk"}),i.jsx(Ie,{children:"Tipe"}),i.jsx(Ie,{className:"text-right",children:"Harga"}),i.jsx(Ie,{className:"text-center",children:"Stok"}),i.jsx(Ie,{className:"text-right",children:"Aksi"})]})}),i.jsx(Xn,{children:a?i.jsx(vt,{children:i.jsx(_e,{colSpan:6,className:"text-center py-8",children:"Memuat produk..."})}):H.length===0?i.jsx(vt,{children:i.jsx(_e,{colSpan:6,className:"text-center py-8",children:"Tidak ada produk ditemukan."})}):H.map(Q=>{var L;return i.jsxs(vt,{children:[i.jsx(_e,{children:i.jsx("div",{className:"w-12 h-12 relative rounded overflow-hidden",children:i.jsx(N3e,{ratio:1/1,children:i.jsx("img",{src:((L=Q.images)==null?void 0:L[0])||"/placeholder.svg",alt:Q.name,className:"object-cover"})})})}),i.jsx(_e,{className:"font-medium",children:Q.name}),i.jsx(_e,{children:Q.type}),i.jsx(_e,{className:"text-right",children:ye(Q.price)}),i.jsx(_e,{className:"text-center",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${Q.in_stock?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:Q.in_stock?"Tersedia":"Stok habis"})}),i.jsxs(_e,{className:"text-right",children:[i.jsxs(z,{variant:"outline",size:"sm",onClick:()=>N(Q),className:"mr-2",children:[i.jsx(to,{className:"h-4 w-4 mr-1"})," Kelola Stok"]}),i.jsxs(z,{variant:"outline",size:"sm",onClick:()=>k(Q),className:"mr-2",children:[i.jsx(Fp,{className:"h-4 w-4"})," Edit"]}),i.jsxs(z,{variant:"outline",size:"sm",onClick:()=>I(Q),children:[i.jsx(tm,{className:"h-4 w-4"})," Hapus"]})]})]},Q.id)})})]})}),R>1&&i.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[i.jsxs("div",{className:"text-sm text-gray-500",children:["Halaman ",p," dari ",R]}),i.jsxs("div",{className:"space-x-2",children:[i.jsx(z,{variant:"outline",size:"sm",onClick:()=>g(Q=>Math.max(Q-1,1)),disabled:!D,children:"Sebelumnya"}),i.jsx(z,{variant:"outline",size:"sm",onClick:()=>g(Q=>Math.min(Q+1,R)),disabled:!M,children:"Berikutnya"})]})]}),i.jsx(gi,{open:o,onOpenChange:l,children:i.jsxs(Ls,{children:[i.jsxs(xi,{children:[i.jsx(vi,{children:"Perbarui Inventaris"}),i.jsxs(Em,{children:["Perbarui inventaris untuk ",h==null?void 0:h.name]})]}),i.jsx(ea,{...E,children:i.jsxs("form",{onSubmit:E.handleSubmit(O),className:"space-y-6 py-6",children:[i.jsx(Ke,{control:E.control,name:"quantity",render:({field:Q})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Jumlah"}),i.jsx(He,{children:i.jsx(he,{type:"number",...Q,onChange:L=>Q.onChange(parseInt(L.target.value)||0)})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:E.control,name:"type",render:({field:Q})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Tipe Transaksi"}),i.jsx(He,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...Q,children:[i.jsx("option",{value:"restock",children:"Pengisian Stok"}),i.jsx("option",{value:"sale",children:"Penjualan"}),i.jsx("option",{value:"return",children:"Pengembalian"}),i.jsx("option",{value:"adjustment",children:"Penyesuaian"})]})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:E.control,name:"notes",render:({field:Q})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Catatan"}),i.jsx(He,{children:i.jsx(he,{...Q,value:Q.value||""})}),i.jsx(Ge,{})]})}),i.jsxs(io,{children:[i.jsx(z,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Batal"}),i.jsx(z,{type:"submit",children:"Simpan Perubahan"})]})]})})]})}),i.jsx(gi,{open:c||A,onOpenChange:Q=>{Q||(u(!1),d(!1))},children:i.jsxs(Ls,{children:[i.jsx(xi,{children:i.jsx(vi,{children:A?"Edit Produk":"Tambah Produk"})}),i.jsx(ea,{...B,children:i.jsxs("form",{onSubmit:B.handleSubmit(U),className:"space-y-6 py-6",children:[i.jsx(Ke,{control:B.control,name:"name",render:({field:Q})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Nama Produk"}),i.jsx(He,{children:i.jsx(he,{...Q})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:B.control,name:"type",render:({field:Q})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Tipe Produk"}),i.jsx(He,{children:i.jsx(he,{...Q})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:B.control,name:"price",render:({field:Q})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Harga"}),i.jsx(He,{children:i.jsx(he,{type:"number",step:"0.01",...Q,onChange:L=>Q.onChange(parseFloat(L.target.value)||0)})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:B.control,name:"description",render:({field:Q})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Deskripsi"}),i.jsx(He,{children:i.jsx(Dl,{...Q,value:Q.value||""})}),i.jsx(Ge,{})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(Ke,{control:B.control,name:"origin",render:({field:Q})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Asal"}),i.jsx(He,{children:i.jsx(he,{...Q,value:Q.value||""})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:B.control,name:"seller",render:({field:Q})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Penjual"}),i.jsx(He,{children:i.jsx(he,{...Q,value:Q.value||""})}),i.jsx(Ge,{})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(Ke,{control:B.control,name:"in_stock",render:({field:Q})=>i.jsxs(Qe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsx("div",{className:"space-y-0.5",children:i.jsx(Le,{children:"Tersedia"})}),i.jsx(He,{children:i.jsx("input",{type:"checkbox",checked:Q.value,onChange:L=>Q.onChange(L.target.checked),className:"h-4 w-4"})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:B.control,name:"featured",render:({field:Q})=>i.jsxs(Qe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsx("div",{className:"space-y-0.5",children:i.jsx(Le,{children:"Unggulan"})}),i.jsx(He,{children:i.jsx("input",{type:"checkbox",checked:Q.value,onChange:L=>Q.onChange(L.target.checked),className:"h-4 w-4"})}),i.jsx(Ge,{})]})})]}),i.jsx(Ke,{control:B.control,name:"discount",render:({field:Q})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Diskon (%)"}),i.jsx(He,{children:i.jsx(he,{type:"number",min:"0",max:"100",...Q,onChange:L=>Q.onChange(parseInt(L.target.value)||0),value:Q.value||0})}),i.jsx(Ge,{})]})}),i.jsxs(io,{children:[i.jsx(z,{type:"button",variant:"outline",onClick:()=>{u(!1),d(!1)},children:"Cancel"}),i.jsx(z,{type:"submit",children:"Simpan Produk"})]})]})})]})}),i.jsx(vr,{open:x,onOpenChange:C,children:i.jsxs(hr,{children:[i.jsxs(Cr,{children:[i.jsx(jr,{children:"Konfirmasi Penghapusan"}),i.jsxs(Rn,{children:["Apakah Anda yakin ingin menghapus ",h==null?void 0:h.name,"? Tindakan ini tidak dapat dibatalkan."]})]}),i.jsxs(yn,{children:[i.jsx(z,{variant:"outline",onClick:()=>C(!1),children:"Batal"}),i.jsx(z,{variant:"destructive",onClick:T,children:"Hapus"})]})]})})]})}const P3e=Ks({transaction_date:ur().nonempty("Tanggal transaksi wajib diisi"),transaction_type:md(["incoming","outgoing"]),quantity_kg:di().positive("Jumlah harus lebih dari 0"),source_destination:ur().nonempty("Sumber/tujuan wajib diisi"),vehicle_info:ur().optional(),driver_name:ur().optional(),price_per_kg:di().optional(),quality_grade:md(["premium","standard","economy"]),moisture_content:di().min(0).max(100).optional(),notes:ur().optional(),document_reference:ur().optional()}),F3e={total_incoming_kg:0,total_outgoing_kg:0,current_stock_kg:0,average_price_per_kg:0,last_transaction_date:new Date().toISOString(),stock_value:0,premium_stock_kg:0,standard_stock_kg:0,economy_stock_kg:0};function D3e(){const{user:t,profile:e}=Hr(),[r,n]=v.useState(F3e),[a,s]=v.useState([]),[o,l]=v.useState(!1),[c,u]=v.useState(!0),[A,d]=v.useState(""),[h,f]=v.useState("all"),[p,g]=v.useState(1),[m]=v.useState(10),[b,y]=v.useState(null),[w,x]=v.useState(!1),[C,E]=v.useState(!1),B=ca({resolver:ua(P3e),defaultValues:{transaction_date:vn(new Date,"yyyy-MM-dd"),transaction_type:"incoming",quantity_kg:0,source_destination:"",vehicle_info:"",driver_name:"",price_per_kg:0,quality_grade:"standard",moisture_content:0,notes:"",document_reference:""}}),j=async()=>{try{u(!0);const{data:W,error:re}=await Cc.getTransactions(100,0);if(re)throw re;W&&s(W);const{data:le,error:ne}=await Cc.getSummary();if(ne)throw ne;le&&n(le)}catch(W){console.error("Error fetching transactions:",W),me({title:"Error",description:"Gagal mengambil data transaksi stok arang",variant:"destructive"})}finally{u(!1)}};v.useEffect(()=>{j()},[]);const N=async W=>{try{if(u(!0),!(t!=null&&t.id))throw new Error("User ID tidak ditemukan. Silahkan login ulang.");const re={...W,created_by:t.id,created_at:new Date().toISOString(),total_amount:W.price_per_kg?W.price_per_kg*W.quantity_kg:void 0};console.log("Mengirim data transaksi:",re);const{data:le,error:ne}=await Cc.addTransaction(re);if(ne)throw console.error("Error dari service:",ne),ne;if(!le)throw new Error("Tidak ada data yang dikembalikan setelah menambahkan transaksi");me({title:"Berhasil",description:"Transaksi berhasil ditambahkan",variant:"default"}),B.reset(),l(!1),j()}catch(re){console.error("Error adding transaction:",re),me({title:"Error",description:(re==null?void 0:re.message)||(re==null?void 0:re.error_description)||"Gagal menambahkan transaksi. Silahkan cek konsol untuk detail lebih lanjut.",variant:"destructive"})}finally{u(!1)}},S=async W=>{if(b)try{u(!0);const re={...W,total_amount:W.price_per_kg?W.price_per_kg*W.quantity_kg:void 0},{error:le}=await Cc.updateTransaction(b.id,re);if(le)throw le;me({title:"Berhasil",description:"Transaksi berhasil diperbarui",variant:"default"}),B.reset(),x(!1),y(null),j()}catch(re){console.error("Error updating transaction:",re),me({title:"Error",description:"Gagal memperbarui transaksi",variant:"destructive"})}finally{u(!1)}},k=async()=>{if(b)try{u(!0);const{error:W}=await Cc.deleteTransaction(b.id);if(W)throw W;me({title:"Berhasil",description:"Transaksi berhasil dihapus",variant:"default"}),E(!1),y(null),j()}catch(W){console.error("Error deleting transaction:",W),me({title:"Error",description:"Gagal menghapus transaksi",variant:"destructive"})}finally{u(!1)}},I=W=>{y(W),B.reset({transaction_date:W.transaction_date.substring(0,10),transaction_type:W.transaction_type,quantity_kg:W.quantity_kg,source_destination:W.source_destination,vehicle_info:W.vehicle_info||"",driver_name:W.driver_name||"",price_per_kg:W.price_per_kg||0,quality_grade:W.quality_grade||"standard",moisture_content:W.moisture_content||0,notes:W.notes||"",document_reference:W.document_reference||""}),x(!0)},T=W=>{y(W),E(!0)},O=a.filter(W=>{var re,le;return A===""?!0:W.source_destination.toLowerCase().includes(A.toLowerCase())||((re=W.document_reference)==null?void 0:re.toLowerCase().includes(A.toLowerCase()))||((le=W.driver_name)==null?void 0:le.toLowerCase().includes(A.toLowerCase()))}).filter(W=>h==="all"?!0:W.transaction_type===h).sort((W,re)=>new Date(re.transaction_date).getTime()-new Date(W.transaction_date).getTime()),U=O.length,H=Math.ceil(U/m),R=(p-1)*m,D=Math.min(R+m,U),M=O.slice(R,D),Q=p>1,L=p<H,K=()=>{l(!0),B.reset({transaction_date:vn(new Date,"yyyy-MM-dd"),transaction_type:"incoming",quantity_kg:0,source_destination:"",vehicle_info:"",driver_name:"",price_per_kg:0,quality_grade:"standard",moisture_content:0,notes:"",document_reference:""})},G=async W=>{try{w&&b?await S(W):await N(W)}catch(re){console.error("Error submitting transaction:",re)}},q=()=>i.jsx(vr,{open:C,onOpenChange:E,children:i.jsxs(hr,{children:[i.jsxs(Cr,{children:[i.jsx(jr,{children:"Konfirmasi Hapus Transaksi"}),i.jsx(Rn,{children:"Apakah Anda yakin ingin menghapus transaksi ini? Tindakan ini tidak dapat dibatalkan."})]}),i.jsxs(yn,{className:"flex space-x-2 justify-end",children:[i.jsx(z,{variant:"outline",onClick:()=>E(!1),children:"Batal"}),i.jsx(z,{variant:"destructive",onClick:k,disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(er,{className:"mr-2 h-4 w-4 animate-spin"}),"Menghapus..."]}):"Hapus Transaksi"})]})]})});return i.jsx(On,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Manajemen Stok Arang"}),i.jsxs(z,{onClick:K,children:[i.jsx(Kd,{className:"h-4 w-4 mr-2"})," Catat Transaksi Baru"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs(Be,{children:[i.jsxs(ct,{className:"pb-2",children:[i.jsx(ut,{className:"text-xl",children:"Stok Arang Saat Ini"}),i.jsx(cr,{children:"Total seluruh jenis arang"})]}),i.jsxs(Ce,{children:[i.jsxs("div",{className:"text-3xl font-bold",children:[r.current_stock_kg.toLocaleString()," kg"]}),i.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Nilai stok: ",ye(r.stock_value)]})]})]}),i.jsxs(Be,{children:[i.jsxs(ct,{className:"pb-2",children:[i.jsx(ut,{className:"text-xl",children:"Rekapitulasi Arang"}),i.jsx(cr,{children:"Detail berdasarkan kualitas"})]}),i.jsxs(Ce,{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-medium",children:"Premium:"}),i.jsxs("span",{className:"font-bold",children:[r.premium_stock_kg.toLocaleString()," kg"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-medium",children:"Standar:"}),i.jsxs("span",{className:"font-bold",children:[r.standard_stock_kg.toLocaleString()," kg"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-medium",children:"Ekonomis:"}),i.jsxs("span",{className:"font-bold",children:[r.economy_stock_kg.toLocaleString()," kg"]})]})]})]}),i.jsxs(Be,{children:[i.jsxs(ct,{className:"pb-2",children:[i.jsx(ut,{className:"text-xl",children:"Aktivitas Transaksi"}),i.jsx(cr,{children:"Ringkasan aktivitas stok"})]}),i.jsxs(Ce,{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx(M4,{className:"h-4 w-4 text-green-500 mr-1"})," Pemasukan:"]}),i.jsxs("span",{className:"font-bold",children:[r.total_incoming_kg.toLocaleString()," kg"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx(Q4,{className:"h-4 w-4 text-red-500 mr-1"})," Pengeluaran:"]}),i.jsxs("span",{className:"font-bold",children:[r.total_outgoing_kg.toLocaleString()," kg"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-medium",children:"Transaksi terakhir:"}),i.jsx("span",{className:"font-bold",children:vn(new Date(r.last_transaction_date),"dd MMM yyyy",{locale:os})})]})]})]})]}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[i.jsxs("div",{className:"relative w-full md:w-64",children:[i.jsx(Ul,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),i.jsx(he,{placeholder:"Cari transaksi...",className:"pl-8",value:A,onChange:W=>d(W.target.value)})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(z,{variant:h==="all"?"default":"outline",size:"sm",onClick:()=>f("all"),children:"Semua"}),i.jsxs(z,{variant:h==="incoming"?"default":"outline",size:"sm",onClick:()=>f("incoming"),className:"flex items-center",children:[i.jsx(M4,{className:"h-4 w-4 mr-1"})," Pemasukan"]}),i.jsxs(z,{variant:h==="outgoing"?"default":"outline",size:"sm",onClick:()=>f("outgoing"),className:"flex items-center",children:[i.jsx(Q4,{className:"h-4 w-4 mr-1"})," Pengeluaran"]})]})]}),i.jsx("div",{className:"bg-white rounded-md shadow overflow-hidden",children:i.jsxs(Gn,{children:[i.jsx(Wn,{children:i.jsxs(vt,{children:[i.jsx(Ie,{children:"Tanggal"}),i.jsx(Ie,{children:"Tipe"}),i.jsx(Ie,{children:"Jumlah (kg)"}),i.jsx(Ie,{children:"Kualitas"}),i.jsx(Ie,{children:"Sumber/Tujuan"}),i.jsx(Ie,{children:"Kendaraan"}),i.jsx(Ie,{className:"text-right",children:"Nilai"}),i.jsx(Ie,{className:"text-right",children:"Aksi"})]})}),i.jsx(Xn,{children:c?i.jsx(vt,{children:i.jsx(_e,{colSpan:7,className:"text-center py-8",children:"Memuat transaksi..."})}):M.length===0?i.jsx(vt,{children:i.jsx(_e,{colSpan:7,className:"text-center py-8",children:"Tidak ada transaksi ditemukan."})}):M.map(W=>i.jsxs(vt,{children:[i.jsx(_e,{children:vn(new Date(W.transaction_date),"dd MMM yyyy",{locale:os})}),i.jsx(_e,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${W.transaction_type==="incoming"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:W.transaction_type==="incoming"?"Pemasukan":"Pengeluaran"})}),i.jsx(_e,{className:"font-medium",children:W.quantity_kg.toLocaleString()}),i.jsx(_e,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${W.quality_grade==="premium"?"bg-blue-100 text-blue-800":W.quality_grade==="standard"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:W.quality_grade==="premium"?"Premium":W.quality_grade==="standard"?"Standar":"Ekonomis"})}),i.jsx(_e,{children:W.source_destination}),i.jsx(_e,{children:W.vehicle_info||"-"}),i.jsx(_e,{className:"text-right",children:W.total_amount?ye(W.total_amount):"-"}),i.jsx(_e,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(z,{variant:"ghost",size:"sm",onClick:()=>I(W),children:i.jsx(Fp,{className:"h-4 w-4"})}),i.jsx(z,{variant:"ghost",size:"sm",onClick:()=>T(W),className:"text-red-500 hover:text-red-700",children:i.jsx(s$,{className:"h-4 w-4"})})]})})]},W.id))})]})}),H>1&&i.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[i.jsxs("div",{className:"text-sm text-gray-500",children:["Halaman ",p," dari ",H]}),i.jsxs("div",{className:"space-x-2",children:[i.jsx(z,{variant:"outline",size:"sm",onClick:()=>g(W=>Math.max(W-1,1)),disabled:!Q,children:"Sebelumnya"}),i.jsx(z,{variant:"outline",size:"sm",onClick:()=>g(W=>Math.min(W+1,H)),disabled:!L,children:"Berikutnya"})]})]}),i.jsx(gi,{open:o,onOpenChange:l,children:i.jsxs(Ls,{className:"sm:max-w-md",children:[i.jsxs(xi,{children:[i.jsx(vi,{children:"Catat Transaksi Arang"}),i.jsx(Em,{children:"Catat pemasukan atau pengeluaran stok arang"})]}),i.jsx(ea,{...B,children:i.jsxs("form",{onSubmit:B.handleSubmit(G),className:"space-y-4 py-4",children:[i.jsx(Ke,{control:B.control,name:"transaction_date",render:({field:W})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Tanggal Transaksi"}),i.jsx(He,{children:i.jsx(he,{type:"date",...W})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:B.control,name:"transaction_type",render:({field:W})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Tipe Transaksi"}),i.jsx(He,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...W,children:[i.jsx("option",{value:"incoming",children:"Pemasukan Arang"}),i.jsx("option",{value:"outgoing",children:"Pengeluaran Arang"})]})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:B.control,name:"quantity_kg",render:({field:W})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Jumlah (kg)"}),i.jsx(He,{children:i.jsx(he,{type:"number",...W,onChange:re=>W.onChange(parseInt(re.target.value)||0)})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:B.control,name:"quality_grade",render:({field:W})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Kualitas Arang"}),i.jsx(He,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...W,children:[i.jsx("option",{value:"premium",children:"Premium"}),i.jsx("option",{value:"standard",children:"Standar"}),i.jsx("option",{value:"economy",children:"Ekonomis"})]})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:B.control,name:"source_destination",render:({field:W})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:B.watch("transaction_type")==="incoming"?"Sumber":"Tujuan"}),i.jsx(He,{children:i.jsx(he,{...W})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:B.control,name:"vehicle_info",render:({field:W})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Informasi Kendaraan"}),i.jsx(He,{children:i.jsx(he,{...W})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:B.control,name:"driver_name",render:({field:W})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Nama Supir"}),i.jsx(He,{children:i.jsx(he,{...W})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:B.control,name:"price_per_kg",render:({field:W})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Harga per kg (Rp)"}),i.jsx(He,{children:i.jsx(he,{type:"number",...W,onChange:re=>W.onChange(parseInt(re.target.value)||0)})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:B.control,name:"moisture_content",render:({field:W})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Kadar Air (%)"}),i.jsx(He,{children:i.jsx(he,{type:"number",...W,onChange:re=>W.onChange(parseInt(re.target.value)||0)})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:B.control,name:"document_reference",render:({field:W})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Referensi Dokumen"}),i.jsx(He,{children:i.jsx(he,{...W})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:B.control,name:"notes",render:({field:W})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Catatan"}),i.jsx(He,{children:i.jsx(Dl,{rows:3,...W})}),i.jsx(Ge,{})]})}),i.jsx(io,{className:"pt-4",children:i.jsx(z,{type:"submit",disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(er,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):"Simpan Transaksi"})})]})})]})}),i.jsx(gi,{open:w,onOpenChange:x,children:i.jsxs(Ls,{className:"sm:max-w-md",children:[i.jsxs(xi,{children:[i.jsx(vi,{children:"Edit Transaksi Arang"}),i.jsx(Em,{children:"Perbarui informasi transaksi arang"})]}),i.jsx(ea,{...B,children:i.jsxs("form",{onSubmit:B.handleSubmit(G),className:"space-y-4 py-4",children:[i.jsx(Ke,{control:B.control,name:"transaction_date",render:({field:W})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Tanggal Transaksi"}),i.jsx(He,{children:i.jsx(he,{type:"date",...W})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:B.control,name:"transaction_type",render:({field:W})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Tipe Transaksi"}),i.jsx(He,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...W,children:[i.jsx("option",{value:"incoming",children:"Pemasukan Arang"}),i.jsx("option",{value:"outgoing",children:"Pengeluaran Arang"})]})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:B.control,name:"quantity_kg",render:({field:W})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Jumlah (kg)"}),i.jsx(He,{children:i.jsx(he,{type:"number",...W,onChange:re=>W.onChange(parseInt(re.target.value)||0)})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:B.control,name:"quality_grade",render:({field:W})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Kualitas Arang"}),i.jsx(He,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...W,children:[i.jsx("option",{value:"premium",children:"Premium"}),i.jsx("option",{value:"standard",children:"Standar"}),i.jsx("option",{value:"economy",children:"Ekonomis"})]})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:B.control,name:"source_destination",render:({field:W})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:B.watch("transaction_type")==="incoming"?"Sumber":"Tujuan"}),i.jsx(He,{children:i.jsx(he,{...W})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:B.control,name:"vehicle_info",render:({field:W})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Informasi Kendaraan"}),i.jsx(He,{children:i.jsx(he,{...W})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:B.control,name:"driver_name",render:({field:W})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Nama Supir"}),i.jsx(He,{children:i.jsx(he,{...W})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:B.control,name:"price_per_kg",render:({field:W})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Harga per kg (Rp)"}),i.jsx(He,{children:i.jsx(he,{type:"number",...W,onChange:re=>W.onChange(parseInt(re.target.value)||0)})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:B.control,name:"moisture_content",render:({field:W})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Kadar Air (%)"}),i.jsx(He,{children:i.jsx(he,{type:"number",...W,onChange:re=>W.onChange(parseInt(re.target.value)||0)})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:B.control,name:"document_reference",render:({field:W})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Referensi Dokumen"}),i.jsx(He,{children:i.jsx(he,{...W})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:B.control,name:"notes",render:({field:W})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Catatan"}),i.jsx(He,{children:i.jsx(Dl,{rows:3,...W})}),i.jsx(Ge,{})]})}),i.jsx(io,{className:"pt-4",children:i.jsx(z,{type:"submit",disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(er,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):"Perbarui Transaksi"})})]})})]})}),q()]})})}const O3e=Ks({name:ur().min(1,{message:"Nama wajib diisi"}),carrier:ur().min(1,{message:"Kurir wajib diisi"}),cost:di().min(0,{message:"Biaya harus berupa angka positif"}),estimated_days:di().int().min(1,{message:"Estimasi Jam minimal 1"}),active:fl().default(!0)});function R3e(){const[t,e]=v.useState([]),[r,n]=v.useState(!0),[a,s]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(null),[A,d]=v.useState(!1),[h,f]=v.useState(null),p=ca({resolver:ua(O3e),defaultValues:{name:"",carrier:"",cost:0,estimated_days:1,active:!0}});v.useEffect(()=>{g()},[]);const g=async()=>{n(!0);try{const{data:x,error:C}=await Z.from("shipping_methods").select("*").order("name");if(C)throw C;e(x||[])}catch(x){console.error("Error fetching shipping methods:",x),me({title:"Error memuat metode pengiriman",description:x.message||"Silakan coba lagi nanti",variant:"destructive"})}finally{n(!1)}},m=x=>{x?(u(x),s(!0),l(!1),p.reset({name:x.name,carrier:x.carrier,cost:x.cost,estimated_days:x.estimated_days,active:x.active!==void 0?x.active:!0})):(u(null),l(!0),s(!1),p.reset({name:"",carrier:"",cost:0,estimated_days:1,active:!0}))},b=async x=>{try{if(a&&c){const{error:C}=await Z.from("shipping_methods").update({name:x.name,carrier:x.carrier,cost:x.cost,estimated_days:x.estimated_days,active:x.active}).eq("id",c.id);if(C)throw C;me({title:"Metode pengiriman diperbarui",description:`${x.name} telah diperbarui berhasil.`})}else if(o){const{error:C}=await Z.from("shipping_methods").insert({name:x.name,carrier:x.carrier,cost:x.cost,estimated_days:x.estimated_days,active:x.active});if(C)throw C;me({title:"Metode pengiriman ditambahkan",description:`${x.name} telah ditambahkan berhasil.`})}s(!1),l(!1),g()}catch(C){console.error("Error saving shipping method:",C),me({title:"Error menyimpan metode pengiriman",description:C.message||"Silakan coba lagi nanti",variant:"destructive"})}},y=x=>{f(x),d(!0)},w=async()=>{if(h)try{const{error:x}=await Z.from("shipping_methods").delete().eq("id",h.id);if(x)throw x;me({title:"Metode pengiriman dihapus",description:"Metode pengiriman telah dihapus berhasil."}),d(!1),g()}catch(x){console.error("Error deleting shipping method:",x),me({title:"Error menghapus metode pengiriman",description:x.message||"Silakan coba lagi nanti",variant:"destructive"})}};return i.jsxs(On,{children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Metode Pengiriman"}),i.jsxs(z,{onClick:()=>m(),children:[i.jsx(Kd,{className:"h-4 w-4 mr-2"}),"Tambah Metode"]})]}),i.jsx(Be,{children:i.jsx(Ce,{className:"p-0",children:i.jsxs(Gn,{children:[i.jsx(Wn,{children:i.jsxs(vt,{children:[i.jsx(Ie,{children:"Nama"}),i.jsx(Ie,{children:"Kurir"}),i.jsx(Ie,{children:"Estimasi Jam"}),i.jsx(Ie,{className:"text-right",children:"Biaya"}),i.jsx(Ie,{className:"text-right",children:"Aksi"})]})}),i.jsx(Xn,{children:r?i.jsx(vt,{children:i.jsx(_e,{colSpan:5,className:"text-center py-8",children:"Memuat metode pengiriman..."})}):t.length===0?i.jsx(vt,{children:i.jsx(_e,{colSpan:5,className:"text-center py-8",children:"Tidak ada metode pengiriman ditemukan."})}):t.map(x=>i.jsxs(vt,{children:[i.jsx(_e,{className:"font-medium",children:x.name}),i.jsx(_e,{children:x.carrier}),i.jsxs(_e,{className:"text-center",children:[x.estimated_days," Jam"]}),i.jsx(_e,{className:"text-right",children:ye(x.cost)}),i.jsxs(_e,{className:"text-right space-x-2",children:[i.jsx(z,{variant:"outline",size:"sm",onClick:()=>m(x),children:i.jsx(Fp,{className:"h-4 w-4"})}),i.jsx(z,{variant:"outline",size:"sm",onClick:()=>y(x),children:i.jsx(tm,{className:"h-4 w-4"})})]})]},x.id))})]})})}),i.jsx(gi,{open:a||o,onOpenChange:x=>{x||(s(!1),l(!1))},children:i.jsxs(Ls,{children:[i.jsx(xi,{children:i.jsx(vi,{children:a?"Edit Metode Pengiriman":"Tambah Metode Pengiriman"})}),i.jsx(ea,{...p,children:i.jsxs("form",{onSubmit:p.handleSubmit(b),className:"space-y-6 py-6",children:[i.jsx(Ke,{control:p.control,name:"name",render:({field:x})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Nama"}),i.jsx(He,{children:i.jsx(he,{...x})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:p.control,name:"carrier",render:({field:x})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Kurir"}),i.jsx(He,{children:i.jsx(he,{...x})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:p.control,name:"cost",render:({field:x})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Biaya (Rp)"}),i.jsx(He,{children:i.jsx(he,{type:"number",step:"0.01",...x,onChange:C=>x.onChange(parseFloat(C.target.value)||0)})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:p.control,name:"estimated_days",render:({field:x})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Estimasi Jam"}),i.jsx(He,{children:i.jsx(he,{type:"number",...x,onChange:C=>x.onChange(parseInt(C.target.value)||1)})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:p.control,name:"active",render:({field:x})=>i.jsxs(Qe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsx("div",{className:"space-y-0.5",children:i.jsx(Le,{children:"Aktif"})}),i.jsx(He,{children:i.jsx("input",{type:"checkbox",checked:x.value,onChange:C=>x.onChange(C.target.checked),className:"h-4 w-4"})}),i.jsx(Ge,{})]})}),i.jsxs(io,{children:[i.jsx(z,{type:"button",variant:"outline",onClick:()=>{s(!1),l(!1)},children:"Batal"}),i.jsx(z,{type:"submit",children:"Simpan Metode"})]})]})})]})}),i.jsx(vr,{open:A,onOpenChange:d,children:i.jsxs(hr,{children:[i.jsxs(Cr,{children:[i.jsx(jr,{children:"Konfirmasi Penghapusan"}),i.jsx(Rn,{children:"Apakah Anda yakin ingin menghapus metode pengiriman ini? Tindakan ini tidak dapat dibatalkan."})]}),i.jsxs(yn,{children:[i.jsx(z,{variant:"outline",onClick:()=>d(!1),children:"Batal"}),i.jsx(z,{variant:"destructive",onClick:w,children:"Hapus"})]})]})})]})}const U3e=Ks({name:ur().optional(),role:md(["customer","manager","admin"])});function M3e(){const[t,e]=v.useState([]),[r,n]=v.useState(""),[a,s]=v.useState(!0),[o,l]=v.useState(!1),[c,u]=v.useState(null),[A,d]=v.useState(1),[h,f]=v.useState(10),[p,g]=v.useState(0),m=ca({resolver:ua(U3e),defaultValues:{name:"",role:"customer"}});v.useEffect(()=>{b()},[A,r]);const b=async()=>{s(!0);try{let B=Z.from("profiles").select("*",{count:"exact"});r&&(B=B.or(`name.ilike.%${r}%,email.ilike.%${r}%`));const{data:j,error:N,count:S}=await B.order("created_at",{ascending:!1}).range((A-1)*h,A*h-1);if(N)throw N;e(j),g(S||0)}catch(B){console.error("Error fetching users:",B),me({title:"Error memuat pengguna",description:B.message||"Silakan coba lagi nanti.",variant:"destructive"})}finally{s(!1)}},y=B=>{u(B),m.reset({name:B.name||"",role:B.role||"customer"}),l(!0)},w=async B=>{if(c)try{const{error:j}=await Z.from("profiles").update({name:B.name,role:B.role}).eq("id",c.id);if(j)throw j;me({title:"Pengguna diperbarui",description:"Profil pengguna telah berhasil diperbarui."}),l(!1),b()}catch(j){console.error("Error updating user:",j),me({title:"Error memperbarui pengguna",description:j.message||"Silakan coba lagi nanti.",variant:"destructive"})}},x=Math.ceil(p/h),C=A>1,E=A<x;return i.jsxs(On,{children:[i.jsx("div",{className:"flex justify-between items-center mb-6",children:i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Manajemen Pengguna"})}),i.jsx("div",{className:"mb-6 flex items-center gap-4",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Ul,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(he,{placeholder:"Cari pengguna...",className:"pl-10",value:r,onChange:B=>n(B.target.value)})]})}),i.jsx(Be,{children:i.jsx(Ce,{className:"p-0",children:i.jsxs(Gn,{children:[i.jsx(Wn,{children:i.jsxs(vt,{children:[i.jsx(Ie,{children:"Nama"}),i.jsx(Ie,{children:"Email"}),i.jsx(Ie,{children:"Peran"}),i.jsx(Ie,{children:"Bergabung"}),i.jsx(Ie,{className:"text-right",children:"Aksi"})]})}),i.jsx(Xn,{children:a?i.jsx(vt,{children:i.jsx(_e,{colSpan:5,className:"text-center py-8",children:"Memuat pengguna..."})}):t.length===0?i.jsx(vt,{children:i.jsx(_e,{colSpan:5,className:"text-center py-8",children:"Tidak ada pengguna ditemukan."})}):t.map(B=>i.jsxs(vt,{children:[i.jsx(_e,{className:"font-medium",children:B.name||"N/A"}),i.jsx(_e,{children:B.email||"N/A"}),i.jsx(_e,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${B.role==="admin"?"bg-purple-100 text-purple-800":B.role==="manager"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:B.role||"customer"})}),i.jsx(_e,{children:B.created_at?new Date(B.created_at).toLocaleDateString():"N/A"}),i.jsx(_e,{className:"text-right",children:i.jsxs(z,{variant:"outline",size:"sm",onClick:()=>y(B),children:[i.jsx(_re,{className:"h-4 w-4 mr-2"}),"Kelola"]})})]},B.id))})]})})}),x>1&&i.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[i.jsxs("div",{className:"text-sm text-gray-500",children:["Halaman ",A," dari ",x]}),i.jsxs("div",{className:"space-x-2",children:[i.jsx(z,{variant:"outline",size:"sm",onClick:()=>d(B=>Math.max(B-1,1)),disabled:!C,children:"Sebelumnya"}),i.jsx(z,{variant:"outline",size:"sm",onClick:()=>d(B=>Math.min(B+1,x)),disabled:!E,children:"Selanjutnya"})]})]}),i.jsx(gi,{open:o,onOpenChange:l,children:i.jsxs(Ls,{children:[i.jsx(xi,{children:i.jsx(vi,{children:"Edit Pengguna"})}),i.jsx(ea,{...m,children:i.jsxs("form",{onSubmit:m.handleSubmit(w),className:"space-y-6 py-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("p",{className:"text-sm text-gray-500",children:["ID Pengguna: ",c==null?void 0:c.id]}),i.jsxs("p",{className:"text-sm font-medium",children:["Email: ",(c==null?void 0:c.email)||"Tidak Ada"]})]}),i.jsx(Ke,{control:m.control,name:"name",render:({field:B})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Nama"}),i.jsx(He,{children:i.jsx(he,{...B,value:B.value||""})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:m.control,name:"role",render:({field:B})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Peran"}),i.jsx(He,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...B,children:[i.jsx("option",{value:"customer",children:"Pelanggan"}),i.jsx("option",{value:"manager",children:"Manajer"}),i.jsx("option",{value:"admin",children:"Admin"})]})}),i.jsx(Ge,{})]})}),i.jsxs(io,{children:[i.jsx(z,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Batal"}),i.jsx(z,{type:"submit",children:"Simpan Perubahan"})]})]})})]})})]})}const Q3e=Ks({status:md(["pending","processing","shipped","delivered","canceled"]),tracking_number:ur().optional()}),ka={receipt:{fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",lineHeight:"1.4",color:"#333",padding:"1rem",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},receiptHeader:{textAlign:"center",marginBottom:"1rem"},receiptTitle:{fontSize:"1.25rem",fontWeight:"bold",marginBottom:"0.5rem"},receiptStoreInfo:{fontSize:"0.875rem",color:"#555",marginBottom:"0.5rem"},receiptBorder:{borderTop:"1px dashed #ccc",margin:"0.5rem 0"},receiptItem:{display:"flex",justifyContent:"space-between",marginBottom:"0.25rem"},receiptBarcode:{textAlign:"center",margin:"1rem 0",fontSize:"0.875rem",letterSpacing:"2px"},receiptThankYou:{textAlign:"center",margin:"1rem 0",fontWeight:"bold"},receiptFooter:{textAlign:"center",fontSize:"0.75rem",color:"#777",marginTop:"1rem"}};function L3e(){var ve;const[t,e]=v.useState([]),[r,n]=v.useState(""),[a,s]=v.useState(!0),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[A,d]=v.useState(null),[h,f]=v.useState(1),[p,g]=v.useState(10),[m,b]=v.useState(0),[y,w]=v.useState(!1),[x,C]=v.useState(!1),[E,B]=v.useState(null),[j,N]=v.useState(null),[S,k]=v.useState(null),[I,T]=v.useState(null),[O,U]=v.useState(null),H=v.useRef(null),R=ca({resolver:ua(Q3e),defaultValues:{status:"pending",tracking_number:""}});v.useEffect(()=>{D()},[h,r]);const D=async()=>{s(!0);try{let Y=Z.from("orders").select("*",{count:"exact"});r&&(Y=Y.ilike("id",`%${r}%`));const{data:pe,error:Ee,count:Re}=await Y.order("date",{ascending:!1}).range((h-1)*p,h*p-1);if(Ee)throw Ee;console.log("Fetched orders:",pe),e(pe),b(Re||0)}catch(Y){console.error("Error fetching orders:",Y),me({title:"Error memuat pesanan",description:Y.message||"Silakan coba lagi nanti.",variant:"destructive"})}finally{s(!1)}},M=Y=>{console.log("Editing order:",Y),d(Y),R.reset({status:Y.status,tracking_number:Y.trackingNumber||""}),l(!0)},Q=async Y=>{if(A){u(!0);try{console.log("Updating order with values:",Y);const{error:pe}=await Z.from("orders").update({status:Y.status,tracking_number:Y.tracking_number||null}).eq("id",A.id);if(pe)throw pe;me({title:"Pesanan diperbarui",description:"Status pesanan telah berhasil diperbarui."}),l(!1),D()}catch(pe){console.error("Error updating order:",pe),me({title:"Error memperbarui pesanan",description:pe.message||"Silakan coba lagi nanti.",variant:"destructive"})}finally{u(!1)}}},L=Y=>{switch(Y){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"canceled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},K=Y=>{switch(Y){case"pending":return"Menunggu";case"processing":return"Diproses";case"shipped":return"Dikirim";case"delivered":return"Diterima";case"canceled":return"Dibatalkan";default:return Y.charAt(0).toUpperCase()+Y.slice(1)}},G=Math.ceil(m/p),q=h>1,W=h<G,re=Rt(),le=Y=>{re(`/admin/orders/${Y}`)},ne=async Y=>{B(Y);try{const{data:pe,error:Ee}=await Z.from("profiles").select("*").eq("id",Y.user_id).single();if(Ee?console.warn("Error fetching customer:",Ee):N(pe),Y.shipping_address_id){const{data:Re,error:$e}=await Z.from("addresses").select("*").eq("id",Y.shipping_address_id).single();!$e&&Re&&k({id:Re.id,name:Re.name,street:Re.street,city:Re.city,state:Re.state,zip:Re.zip,country:Re.country,isDefault:Re.is_default||!1,user_id:Re.user_id,created_at:Re.created_at})}if(Y.shipping_method_id){const{data:Re,error:$e}=await Z.from("shipping_methods").select("*").eq("id",Y.shipping_method_id).single();!$e&&Re&&T(Re)}if(!Y.items||Y.items.length===0){const{data:Re,error:$e}=await Z.from("order_items").select("*").eq("order_id",Y.id);!$e&&Re&&(Y.items=Re.map(wt=>({id:wt.id,productId:wt.product_id,productName:wt.product_name,quantity:wt.quantity,price:wt.price})),B({...Y}))}if(U(null),Y.voucher_id){const{data:Re,error:$e}=await Z.from("vouchers").select("*").eq("id",Y.voucher_id).single();!$e&&Re&&U({code:Re.code,discount_type:Re.discount_type})}w(!0)}catch(pe){console.error("Error fetching order details:",pe),me({title:"Error",description:"Terjadi kesalahan saat memuat struk pesanan",variant:"destructive"})}},ce=async()=>{if(!(!H.current||!E))try{C(!0);const Y=H.current,Ee=(await CI(Y,{scale:2,backgroundColor:"#ffffff",logging:!1,useCORS:!0,allowTaint:!0})).toDataURL("image/png"),Re=document.createElement("a");Re.href=Ee,Re.download=`Struk-Pesanan-${E.id.substring(0,8)}.png`,Re.click(),me({title:"Struk Berhasil Disimpan",description:"Struk pesanan telah disimpan sebagai gambar",variant:"default"})}catch(Y){console.error("Error saving receipt as image:",Y),me({title:"Gagal Menyimpan Struk",description:"Terjadi kesalahan saat menyimpan struk sebagai gambar",variant:"destructive"})}finally{C(!1)}},Ae=()=>{H.current&&window.print()};return i.jsxs(On,{children:[i.jsx("div",{className:"flex justify-between items-center mb-6",children:i.jsx("h1",{className:"text-xl font-bold mb-4",children:"Manajemen Pesanan"})}),i.jsx("div",{className:"mb-6 flex items-center gap-4",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Ul,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(he,{placeholder:"Cari pesanan...",className:"pl-10",value:r,onChange:Y=>n(Y.target.value)})]})}),i.jsx(Be,{children:i.jsx(Ce,{className:"p-0",children:i.jsxs(Gn,{children:[i.jsx(Wn,{children:i.jsxs(vt,{children:[i.jsx(Ie,{children:"ID Pesanan"}),i.jsx(Ie,{children:"Tanggal"}),i.jsx(Ie,{className:"text-center",children:"Status"}),i.jsx(Ie,{className:"text-right",children:"Diskon"}),i.jsx(Ie,{className:"text-right",children:"Total"}),i.jsx(Ie,{className:"text-right",children:"Aksi"})]})}),i.jsx(Xn,{children:a?i.jsx(vt,{children:i.jsx(_e,{colSpan:6,className:"text-center py-8",children:i.jsxs("div",{className:"flex justify-center items-center",children:[i.jsx(YE,{className:"h-6 w-6 animate-spin mr-2"}),"Memuat pesanan..."]})})}):t.length===0?i.jsx(vt,{children:i.jsx(_e,{colSpan:5,className:"text-center py-8",children:"Tidak ada pesanan ditemukan."})}):t.map(Y=>i.jsxs(vt,{children:[i.jsxs(_e,{className:"font-medium",children:[Y.id.substring(0,8),"..."]}),i.jsx(_e,{children:new Date(Y.date).toLocaleDateString()}),i.jsx(_e,{className:"text-center",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${L(Y.status)}`,children:K(Y.status)})}),i.jsx(_e,{className:"text-right",children:Y.discount_amount>0?i.jsxs("span",{className:"text-green-600",children:["-",ye(Y.discount_amount)]}):"-"}),i.jsx(_e,{className:"text-right",children:ye(Y.total)}),i.jsxs(_e,{className:"text-right",children:[i.jsxs(z,{size:"sm",variant:"outline",className:"mr-2",onClick:()=>M(Y),children:[i.jsx(Fp,{className:"h-4 w-4 mr-1"}),"Edit"]}),i.jsxs(z,{size:"sm",variant:"outline",className:"mr-2",onClick:()=>ne(Y),children:[i.jsx(eS,{className:"h-4 w-4 mr-1"}),"Struk"]}),i.jsxs(z,{size:"sm",variant:"default",onClick:()=>le(Y.id),children:[i.jsx(rre,{className:"h-4 w-4 mr-1"}),"Lihat"]})]})]},Y.id))})]})})}),G>1&&i.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[i.jsxs("div",{className:"text-sm text-gray-500",children:["Halaman ",h," dari ",G]}),i.jsxs("div",{className:"space-x-2",children:[i.jsx(z,{variant:"outline",size:"sm",onClick:()=>f(Y=>Math.max(Y-1,1)),disabled:!q,children:"Sebelumnya"}),i.jsx(z,{variant:"outline",size:"sm",onClick:()=>f(Y=>Math.min(Y+1,G)),disabled:!W,children:"Berikutnya"})]})]}),i.jsx(gi,{open:o,onOpenChange:l,children:i.jsxs(Ls,{children:[i.jsx(xi,{children:i.jsx(vi,{children:"Perbarui Status Pesanan"})}),i.jsx(ea,{...R,children:i.jsxs("form",{onSubmit:R.handleSubmit(Q),className:"space-y-6 py-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("p",{className:"text-sm text-gray-500",children:["ID Pesanan: ",A==null?void 0:A.id]}),i.jsxs("p",{className:"text-sm font-medium",children:["Total: ",ye(A==null?void 0:A.total)]}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Tanggal: ",A!=null&&A.date?new Date(A.date).toLocaleDateString("id-ID"):"Tidak Ada"]})]}),i.jsx(Ke,{control:R.control,name:"status",render:({field:Y})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Status"}),i.jsx(He,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...Y,children:[i.jsx("option",{value:"pending",children:"Menunggu"}),i.jsx("option",{value:"processing",children:"Diproses"}),i.jsx("option",{value:"shipped",children:"Dikirim"}),i.jsx("option",{value:"delivered",children:"Diterima"}),i.jsx("option",{value:"canceled",children:"Dibatalkan"})]})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:R.control,name:"tracking_number",render:({field:Y})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Nomor Resi"}),i.jsx(He,{children:i.jsx(he,{...Y,value:Y.value||""})}),i.jsx(Ge,{})]})}),i.jsxs(io,{children:[i.jsx(z,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Batal"}),i.jsx(z,{type:"submit",disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(YE,{className:"h-4 w-4 mr-2 animate-spin"}),"Menyimpan..."]}):"Simpan Perubahan"})]})]})})]})}),E&&i.jsx(vr,{open:y,onOpenChange:w,children:i.jsxs(hr,{className:"max-w-md",children:[i.jsx(Cr,{children:i.jsx(jr,{className:"text-center",children:"Struk Pesanan"})}),i.jsxs("div",{ref:H,style:ka.receipt,children:[i.jsxs("div",{style:ka.receiptHeader,children:[i.jsx("h2",{style:ka.receiptTitle,children:"Struk Belanja"}),i.jsxs("div",{style:ka.receiptStoreInfo,children:[i.jsx("p",{children:i.jsx("strong",{children:"Jaya Perkasa Charcoal"})}),i.jsx("p",{children:"Jl.legok conggeang kec.paseh , sumedang"}),i.jsx("p",{children:"Telp: 0813-9458-6882"})]}),i.jsx("div",{style:ka.receiptBorder}),i.jsx("p",{className:"mt-3 mb-1",children:i.jsxs("strong",{children:["Pesanan #",E.id.substring(0,8)]})}),i.jsx("p",{children:new Date(E.date).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),j&&i.jsxs("div",{style:ka.receiptStoreInfo,children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Pelanggan:"})," ",j.name||"Tidak Ada"]}),i.jsx("p",{children:j.email||"Tidak Ada"}),i.jsx("p",{children:j.phone||"Tidak Ada"})]}),S&&i.jsxs("div",{style:ka.receiptStoreInfo,children:[i.jsx("p",{children:i.jsx("strong",{children:"Dikirim Ke:"})}),i.jsx("p",{children:S.name}),i.jsx("p",{children:S.street}),i.jsx("p",{children:`${S.city}, ${S.state} ${S.zip}`})]}),i.jsx("div",{style:ka.receiptBorder}),i.jsx("div",{style:{margin:"0.5rem 0"},children:E.items&&E.items.map((Y,pe)=>i.jsxs("div",{style:ka.receiptItem,children:[i.jsxs("div",{children:[i.jsx("p",{children:Y.productName}),i.jsxs("p",{children:["Jml: ",Y.quantity," Kg  ",ye(Y.price)]})]}),i.jsx("span",{children:ye(Y.price*Y.quantity)})]},pe))}),i.jsxs("div",{className:"mt-3 text-sm",children:[i.jsxs("div",{className:"flex justify-between py-1",children:[i.jsx("span",{children:"Subtotal"}),i.jsx("span",{children:ye(((ve=E.items)==null?void 0:ve.reduce((Y,pe)=>Y+pe.price*pe.quantity,0))||0)})]}),E.discount_amount>0&&i.jsxs("div",{className:"flex justify-between py-1 text-green-600",children:[i.jsxs("span",{children:["Diskon Voucher ",O!=null&&O.code?`(${O.code})`:""]}),i.jsxs("span",{children:["-",ye(E.discount_amount)]})]}),I&&i.jsxs("div",{className:"flex justify-between py-1",children:[i.jsxs("span",{children:["Pengiriman (",I.name,")"]}),i.jsx("span",{children:ye(I.cost)})]}),i.jsxs("div",{className:"flex justify-between py-1 font-semibold",children:[i.jsx("span",{children:"Total Yang Harus Di Bayar"}),i.jsx("span",{children:ye(E.total)})]})]}),i.jsx("div",{style:ka.receiptStoreInfo,children:i.jsxs("p",{children:[i.jsx("strong",{children:"Metode Pembayaran:"})," ",E.paymentMethod==="bank-transfer"?"Transfer Bank":E.paymentMethod==="qris"?"QRIS":E.paymentMethod==="cod"?"Bayar di Tempat (COD)":"Pembayaran Standar"]})}),i.jsx("div",{style:ka.receiptBarcode,children:i.jsxs("p",{children:["*******",E.id.substring(0,8),"*******"]})}),i.jsx("div",{style:ka.receiptThankYou,children:i.jsx("p",{children:"Silahkan Segera Melakukan Pembayaran Agar Pengiriman Segera Di Proses"})}),i.jsxs("div",{style:ka.receiptFooter,children:[i.jsx("p",{children:"Layanan pelanggan: 0813-9458-6882"}),i.jsx("p",{children:"Jika Arang Belum Di Kirim Silahkan Chat Admin Dan Berikan Struk Bukti Pembayaran"}),i.jsx("p",{children:"Terima kasih"})]}),i.jsxs("div",{className:"flex gap-2 mt-6",children:[i.jsx(z,{onClick:()=>w(!1),variant:"outline",className:"flex-1",children:"Tutup"}),i.jsxs(z,{onClick:Ae,className:"flex-1",children:[i.jsx(W0,{className:"mr-2 h-4 w-4"}),"Cetak"]}),i.jsx(z,{onClick:ce,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",disabled:x,children:x?i.jsxs(i.Fragment,{children:[i.jsx(er,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ll,{className:"mr-2 h-4 w-4"}),"Simpan"]})})]})]})]})})]})}const H3e={async getCategories(){try{const{data:t,error:e}=await Z.from("expense_categories").select("*").order("name");return{data:t,error:e}}catch(t){return console.error("Error fetching expense categories:",t),{data:null,error:t}}},async addCategory(t){try{t.id||(t.id=pn()),t.created_at||(t.created_at=new Date().toISOString());const{data:e,error:r}=await Z.from("expense_categories").insert(t).select().single();return{data:e,error:r}}catch(e){return console.error("Error adding expense category:",e),{data:null,error:e}}},async getExpenses(t=100,e=0,r){try{let n=Z.from("company_expenses").select(`
          *,
          expense_categories!inner (
            name
          )
        `).order("date",{ascending:!1}).range(e,e+t-1);r&&(r.category_id&&(n=n.eq("category_id",r.category_id)),r.from_date&&(n=n.gte("date",r.from_date)),r.to_date&&(n=n.lte("date",r.to_date)),r.status&&(n=n.eq("status",r.status)),r.search&&(n=n.or(`description.ilike.%${r.search}%,paid_by.ilike.%${r.search}%`)));const{data:a,error:s}=await n;return{data:a==null?void 0:a.map(l=>{var c;return{...l,category_name:(c=l.expense_categories)==null?void 0:c.name}}),error:s}}catch(n){return console.error("Error fetching company expenses:",n),{data:null,error:n}}},async addExpense(t){var e;try{const r=["date","amount","description","category_id","created_by"];for(const o of r)if(!t[o])throw new Error(`Field ${o} wajib diisi`);t.id||(t.id=pn()),t.created_at||(t.created_at=new Date().toISOString()),t.status||(t.status="pending");const{data:n,error:a}=await Z.from("company_expenses").insert(t).select(`
          *,
          expense_categories!inner (
            name
          )
        `).single();if(a)throw a;return{data:{...n,category_name:(e=n.expense_categories)==null?void 0:e.name},error:null}}catch(r){return console.error("Error adding company expense:",r),{data:null,error:r}}},async updateExpense(t,e){var r;try{e.updated_at=new Date().toISOString();const{data:n,error:a}=await Z.from("company_expenses").update(e).eq("id",t).select(`
          *,
          expense_categories!inner (
            name
          )
        `).single();if(a)throw a;return{data:{...n,category_name:(r=n.expense_categories)==null?void 0:r.name},error:null}}catch(n){return console.error("Error updating company expense:",n),{data:null,error:n}}},async deleteExpense(t){try{const{error:e}=await Z.from("company_expenses").delete().eq("id",t);if(e)throw e;return{data:null,error:null}}catch(e){return console.error("Error deleting company expense:",e),{data:null,error:e}}},async getMonthlyExpenses(){try{const t=new Date;t.setFullYear(t.getFullYear()-1);const{data:e,error:r}=await Z.from("company_expenses").select("date, amount").gte("date",t.toISOString().split("T")[0]).order("date");if(r)throw r;const n={};return e==null||e.forEach(s=>{const o=new Date(s.date),l=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}`;n[l]||(n[l]=0),n[l]+=s.amount}),{data:Object.entries(n).map(([s,o])=>({month:s,total:o})),error:null}}catch(t){return console.error("Error fetching monthly expenses:",t),{data:null,error:t}}},async getExpensesByCategory(t,e){try{let r=Z.from("company_expenses").select(`
          amount,
          expense_categories!inner (
            id,
            name
          )
        `);t&&(r=r.gte("date",t)),e&&(r=r.lte("date",e));const{data:n,error:a}=await r;if(a)throw a;const s={};return n==null||n.forEach(l=>{const c=typeof l.expense_categories=="object"&&!Array.isArray(l.expense_categories)?l.expense_categories.id:l.category_id,u=typeof l.expense_categories=="object"&&!Array.isArray(l.expense_categories)?l.expense_categories.name:"Uncategorized";s[c]||(s[c]={id:c,name:u,total:0}),s[c].total+=l.amount}),{data:Object.values(s).map(l=>({category:l.name,total:l.total})),error:null}}catch(r){return console.error("Error fetching expenses by category:",r),{data:null,error:r}}},async getTotalExpenses(t,e){try{let r=Z.from("company_expenses").select("amount");t&&(r=r.gte("date",t)),e&&(r=r.lte("date",e));const{data:n,error:a}=await r;if(a)throw a;return{data:(n==null?void 0:n.reduce((o,l)=>o+l.amount,0))||0,error:null}}catch(r){return console.error("Error fetching total expenses:",r),{data:null,error:r}}},async reduceCostFromCancelledOrder(t,e,r){try{const{data:n}=await Z.from("company_expenses").select("*").eq("description",`Order #${t.substring(0,8)}`).single();if(!n)return console.log(`No expenses found for order ${t}`),!0;const a={id:pn(),date:new Date().toISOString().split("T")[0],amount:-Math.abs(r),description:`Pembatalan Order #${t.substring(0,8)}`,category_id:n.category_id,paid_by:"System",payment_method:"Adjustment",status:"approved",created_by:e,created_at:new Date().toISOString(),document_reference:t,notes:`Pengurangan biaya otomatis untuk pesanan #${t.substring(0,8)} yang dibatalkan`},{error:s}=await Z.from("company_expenses").insert(a);return s?(console.error("Error reducing expense for cancelled order:",s),!1):!0}catch(n){return console.error("Error in reduceCostFromCancelledOrder:",n),!1}}};var QP="Switch",[$3e,aHe]=Ea(QP),[V3e,K3e]=$3e(QP),EZ=v.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:A,...d}=t,[h,f]=v.useState(null),p=bt(e,w=>f(w)),g=v.useRef(!1),m=h?A||!!h.closest("form"):!0,[b=!1,y]=As({prop:a,defaultProp:s,onChange:u});return i.jsxs(V3e,{scope:r,checked:b,disabled:l,children:[i.jsx(et.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":kZ(b),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:p,onClick:Oe(t.onClick,w=>{y(x=>!x),m&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),m&&i.jsx(q3e,{control:h,bubbles:!g.current,name:n,value:c,checked:b,required:o,disabled:l,form:A,style:{transform:"translateX(-100%)"}})]})});EZ.displayName=QP;var SZ="SwitchThumb",NZ=v.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,a=K3e(SZ,r);return i.jsx(et.span,{"data-state":kZ(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:e})});NZ.displayName=SZ;var q3e=t=>{const{control:e,checked:r,bubbles:n=!0,...a}=t,s=v.useRef(null),o=Wp(r),l=Op(e);return v.useEffect(()=>{const c=s.current,u=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&d){const h=new Event("click",{bubbles:n});d.call(c,r),c.dispatchEvent(h)}},[o,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:s,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function kZ(t){return t?"checked":"unchecked"}var TZ=EZ,z3e=NZ;const us=v.forwardRef(({className:t,...e},r)=>i.jsx(TZ,{className:fe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:i.jsx(z3e,{className:fe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));us.displayName=TZ.displayName;const G3e=t=>{switch(t.toLowerCase()){case"pending":return"Menunggu Pembayaran";case"paid":return"Pembayaran Diterima";case"processing":return"Sedang Diproses";case"shipped":return"Sedang Dikirim";case"delivered":return"Telah Diterima";case"completed":return"Selesai";case"cancelled":return"Dibatalkan";case"refunded":return"Dana Dikembalikan";default:return t}},W3e=(t,e,r,n)=>{const a=t.substring(0,8),s=G3e(e);let o=`*UPDATE STATUS PESANAN*
`;switch(o+=`

`,o+=`Halo${n?" "+n:""},

`,o+=`Pesanan #${a} Anda ${r?`(${r})`:""} telah diperbarui.

`,o+=`*Status Saat Ini: ${s}*

`,e.toLowerCase()){case"pending":o+=`Silakan segera lakukan pembayaran agar pesanan Anda dapat diproses.
`,o+=`Jika sudah melakukan pembayaran, mohon kirimkan bukti pembayaran kepada kami.
`;break;case"paid":o+=`Terima kasih atas pembayaran Anda! Pesanan Anda akan segera kami proses.
`;break;case"processing":o+=`Pesanan Anda sedang kami proses. Kami akan segera mempersiapkan pengiriman.
`;break;case"shipped":o+=`Pesanan Anda telah dikirim! Anda akan menerima update pengiriman selanjutnya.
`,o+=`Mohon siapkan penerimaan barang di alamat pengiriman yang telah ditentukan.
`;break;case"delivered":o+=`Pesanan Anda telah sampai di tujuan. Silakan konfirmasi penerimaan barang.
`,o+=`Jika ada pertanyaan atau masalah dengan pesanan, segera hubungi kami.
`;break;case"completed":o+=`Terima kasih telah berbelanja di Jaya Perkasa Charcoal! Kami harap Anda puas dengan produk kami.
`,o+=`Silakan berikan ulasan untuk pesanan Anda melalui aplikasi kami.
`;break;case"cancelled":o+=`Pesanan Anda telah dibatalkan. Jika Anda memiliki pertanyaan atau ingin membuat pesanan baru, silakan hubungi kami.
`;break;case"refunded":o+=`Dana untuk pesanan Anda telah dikembalikan. Proses pengembalian dana membutuhkan waktu 1-3 hari kerja tergantung bank Anda.
`;break}return o+=`
Untuk informasi lebih lanjut atau bantuan, silakan hubungi layanan pelanggan kami:
`,o+=`Telp/WA: 0813-9458-6882

`,o+=`Terima kasih telah berbelanja di
*JAYA PERKASA CHARCOAL*`,o},X3e=async(t,e)=>{try{const{data:r,error:n}=await Z.from("orders").select("user_id, created_at").eq("id",t).single();if(n||!r)return console.error("Error fetching order data:",n),!1;const{data:a,error:s}=await Z.from("profiles").select("name, phone, email").eq("id",r.user_id).single();if(s||!a||!a.phone)return console.error("Error fetching customer data or no phone number:",s),!1;const o=r.created_at?new Date(r.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}):void 0,l=W3e(t,e,o,a.name);return console.log(`Sending order status update (${e}) WhatsApp to customer:`,a.phone),await Gp(a.phone,l)}catch(r){return console.error("Error sending status update via WhatsApp:",r),!1}};class _L{static async updateOrderStatus(e,r,n=!0){try{const{data:a,error:s}=await Z.from("orders").update({status:r,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(s)return console.error("Error updating order status:",s),{success:!1,message:"Gagal mengupdate status pesanan",error:s};if(console.log(`Order ${e} status updated to ${r}`),n)try{const o=await X3e(e,r);console.log(`WhatsApp notification for order ${e} status update: ${o?"sent":"failed"}`)}catch(o){console.error("Error sending WhatsApp notification:",o)}return{success:!0,message:`Status pesanan berhasil diupdate menjadi ${r}`}}catch(a){return console.error("Unexpected error updating order status:",a),{success:!1,message:"Terjadi kesalahan saat mengupdate status pesanan",error:a}}}static async getOrderStatusHistory(e){try{const{data:r,error:n}=await Z.from("order_status_history").select("*").eq("order_id",e).order("created_at",{ascending:!1});return n?(console.error("Error fetching order status history:",n),{success:!1,data:null,error:n}):{success:!0,data:r,error:null}}catch(r){return console.error("Unexpected error fetching status history:",r),{success:!1,data:null,error:r}}}static async recordStatusChange(e,r,n,a,s){try{const{error:o}=await Z.from("order_status_history").insert({order_id:e,old_status:r,new_status:n,admin_id:a,notes:s||null,created_at:new Date().toISOString()});o&&console.error("Error recording status change history:",o)}catch(o){console.error("Unexpected error recording status change:",o)}}}const Y3e=(t=!0)=>({updateStatus:async(r,n,a,s,o)=>{const{sendWhatsApp:l=!0,notes:c}=o||{};try{const u=await _L.updateOrderStatus(r,a,l);return u.success?(await _L.recordStatusChange(r,n,a,s,c),t&&me({title:"Status Pesanan Diperbarui",description:`Pesanan #${r.substring(0,8)} telah diubah menjadi ${a}`}),{success:!0,data:u}):(t&&me({title:"Gagal Memperbarui Status",description:u.message,variant:"destructive"}),{success:!1,error:u.error})}catch(u){return console.error("Error in updateStatus hook:",u),t&&me({title:"Terjadi Kesalahan",description:"Gagal memperbarui status pesanan",variant:"destructive"}),{success:!1,error:u}}}}),J3e=Vd("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),IZ=v.forwardRef(({className:t,variant:e,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:fe(J3e({variant:e}),t),...r}));IZ.displayName="Alert";const PZ=v.forwardRef(({className:t,...e},r)=>i.jsx("h5",{ref:r,className:fe("mb-1 font-medium leading-none tracking-tight",t),...e}));PZ.displayName="AlertTitle";const FZ=v.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:fe("text-sm [&_p]:leading-relaxed",t),...e}));FZ.displayName="AlertDescription";const HE=[{value:"pending",label:"Menunggu Pembayaran"},{value:"paid",label:"Pembayaran Diterima"},{value:"processing",label:"Sedang Diproses"},{value:"shipped",label:"Sedang Dikirim"},{value:"delivered",label:"Telah Diterima"},{value:"completed",label:"Selesai"},{value:"cancelled",label:"Dibatalkan"},{value:"refunded",label:"Dana Dikembalikan"}],Z3e=t=>{switch(t){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"paid":return"bg-green-100 text-green-800 border-green-300";case"processing":return"bg-blue-100 text-blue-800 border-blue-300";case"shipped":return"bg-purple-100 text-purple-800 border-purple-300";case"delivered":return"bg-indigo-100 text-indigo-800 border-indigo-300";case"completed":return"bg-green-100 text-green-800 border-green-300";case"cancelled":return"bg-red-100 text-red-800 border-red-300";case"refunded":return"bg-orange-100 text-orange-800 border-orange-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}};function e6e({orderId:t,currentStatus:e,adminId:r,onStatusUpdated:n}){var b;const[a,s]=v.useState(e),[o,l]=v.useState(!0),[c,u]=v.useState(""),[A,d]=v.useState(!1),[h,f]=v.useState(null),{updateStatus:p}=Y3e(),g=y=>{s(y),f(null)},m=async()=>{var y,w;if(!r){f({type:"error",message:"ID Admin tidak ditemukan. Silakan login kembali."});return}if(a===e){f({type:"error",message:"Status yang dipilih sama dengan status saat ini."});return}d(!0),f(null);try{const x=await p(t,e,a,r,{notes:c.trim()||void 0,sendWhatsApp:o});x.success?(f({type:"success",message:`Status pesanan berhasil diperbarui menjadi ${((y=HE.find(C=>C.value===a))==null?void 0:y.label)||a}${o?" dan notifikasi WhatsApp telah dikirim ke pelanggan":""}.`}),n&&n(a)):f({type:"error",message:`Gagal memperbarui status: ${((w=x.error)==null?void 0:w.message)||"Terjadi kesalahan."}`})}catch(x){f({type:"error",message:`Error: ${x.message||"Terjadi kesalahan yang tidak diketahui."}`})}finally{d(!1)}};return i.jsxs(Be,{className:"w-full shadow-sm",children:[i.jsxs(ct,{children:[i.jsx(ut,{className:"text-lg",children:"Update Status Pesanan"}),i.jsx(cr,{children:"Perbarui status pesanan dan kirim notifikasi WhatsApp ke pelanggan"})]}),i.jsxs(Ce,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Te,{htmlFor:"current-status",className:"text-sm font-medium mb-1 block",children:"Status Saat Ini"}),i.jsx("div",{id:"current-status",className:`px-3 py-2 rounded-md border text-sm ${Z3e(e)}`,children:((b=HE.find(y=>y.value===e))==null?void 0:b.label)||e})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx(Te,{htmlFor:"new-status",className:"text-sm font-medium",children:"Status Baru"}),i.jsxs(In,{value:a,onValueChange:g,disabled:A,children:[i.jsx(gn,{id:"new-status",className:"w-full",children:i.jsx(Pn,{placeholder:"Pilih status baru"})}),i.jsx(xn,{children:HE.map(y=>i.jsx(yt,{value:y.value,disabled:y.value===e,children:y.label},y.value))})]})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx(Te,{htmlFor:"status-notes",className:"text-sm font-medium",children:"Catatan (Opsional)"}),i.jsx(Dl,{id:"status-notes",placeholder:"Tambahkan catatan tentang perubahan status ini",value:c,onChange:y=>u(y.target.value),disabled:A,className:"resize-none",rows:2})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(us,{id:"send-whatsapp",checked:o,onCheckedChange:l,disabled:A}),i.jsx(Te,{htmlFor:"send-whatsapp",className:"cursor-pointer",children:"Kirim notifikasi WhatsApp ke pelanggan"})]}),h&&i.jsxs(IZ,{variant:h.type==="success"?"default":"destructive",className:h.type==="success"?"bg-green-50 border-green-200":"",children:[h.type==="success"?i.jsx(Xte,{className:"h-4 w-4"}):i.jsx(Zf,{className:"h-4 w-4"}),i.jsx(PZ,{children:h.type==="success"?"Berhasil":"Terjadi Kesalahan"}),i.jsx(FZ,{children:h.message})]})]}),i.jsx(is,{children:i.jsx(z,{onClick:m,disabled:A||a===e,className:"w-full",children:A?i.jsxs(i.Fragment,{children:[i.jsx(er,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):i.jsxs(i.Fragment,{children:[i.jsx(r$,{className:"mr-2 h-4 w-4"}),"Update Status & Kirim Notifikasi"]})})})]})}function t6e(){const{id:t}=Qp(),e=Rt(),r=v.useRef(null),[n,a]=v.useState(null),[s,o]=v.useState(null),[l,c]=v.useState(null),[u,A]=v.useState(null),[d,h]=v.useState(!0),[f,p]=v.useState(!1),[g,m]=v.useState(null),[b,y]=v.useState(!1),[w,x]=v.useState(""),[C,E]=v.useState(!1),[B,j]=v.useState(!1),[N,S]=v.useState(null);v.useEffect(()=>{if(!t)return;k(),(async()=>{const{data:{session:D}}=await Z.auth.getSession();D!=null&&D.user&&x(D.user.id)})()},[t]);const k=async()=>{try{h(!0);const{data:R,error:D}=await Z.from("orders").select(`
          *,
          order_items(*)
        `).eq("id",t).single();if(D)throw D;const{data:M,error:Q}=await Z.from("profiles").select("*").eq("id",R.user_id).single();if(Q?console.warn("Error fetching customer:",Q):o(M),R.shipping_address_id){const{data:re,error:le}=await Z.from("addresses").select("*").eq("id",R.shipping_address_id).single();!le&&re&&c({id:re.id,name:re.name,street:re.street,city:re.city,state:re.state,zip:re.zip,country:re.country,isDefault:re.is_default||!1,user_id:re.user_id,created_at:re.created_at})}if(R.shipping_method_id){const{data:re,error:le}=await Z.from("shipping_methods").select("*").eq("id",R.shipping_method_id).single();!le&&re&&A(re)}if(R.payment_details&&R.payment_details.includes("notes:"))try{const re=R.payment_details.match(/notes:(.*)/);re&&re[1]&&m(re[1].trim())}catch(re){console.error("Error parsing notes:",re)}const L=re=>["pending","processing","shipped","delivered","canceled"].includes(re),K=re=>re===null||["pending","assigned","picked_up","delivered","failed"].includes(re),G=R.status,q=R.delivery_status,W={id:R.id,date:R.date,status:L(G)?G:"pending",total:R.total,paymentMethod:R.payment_method,trackingNumber:R.tracking_number,shipping_address_id:R.shipping_address_id,shipping_method_id:R.shipping_method_id,user_id:R.user_id,delivery_status:K(q)?q:"pending",courier_id:R.courier_id,voucher_id:R.voucher_id,discount_amount:R.discount_amount||0,items:R.order_items.map(re=>({id:re.id,productId:re.product_id,productName:re.product_name,quantity:re.quantity,price:re.price,order_id:re.order_id}))};if(R.voucher_id){const{data:re,error:le}=await Z.from("vouchers").select("*").eq("id",R.voucher_id).single();!le&&re&&S({code:re.code,discount_type:re.discount_type})}a(W)}catch(R){console.error("Error fetching order:",R),me({title:"Error memuat pesanan",description:R.message||"Silakan coba lagi nanti.",variant:"destructive"}),e("/admin/orders")}finally{h(!1)}},I=async()=>{if(r.current)try{y(!0),f||(p(!0),await new Promise(L=>setTimeout(L,500)));const R=r.current,M=(await CI(R,{scale:2,backgroundColor:"#ffffff",logging:!1,useCORS:!0,allowTaint:!0})).toDataURL("image/png"),Q=document.createElement("a");Q.href=M,Q.download=`Struk-Pesanan-${n==null?void 0:n.id.substring(0,8)}.png`,Q.click(),me({title:"Struk Berhasil Disimpan",description:"Struk pesanan telah disimpan sebagai gambar",variant:"default"})}catch(R){console.error("Error saving receipt as image:",R),me({title:"Gagal Menyimpan Struk",description:"Terjadi kesalahan saat menyimpan struk sebagai gambar",variant:"destructive"})}finally{y(!1)}},T=()=>{r.current&&(p(!0),setTimeout(()=>{const R=r.current;if(!R)return;const D=window.open("","_blank");if(!D){me({title:"Gagal membuka jendela cetak",description:"Mohon izinkan popup untuk situs ini",variant:"destructive"});return}const M=R.innerHTML;D.document.write(`
        <style>
          @media print {
            body {
              font-family: system-ui, sans-serif;
              padding: 20px;
              max-width: 300px;
              margin: 0 auto;
            }
            .receipt-header { 
              text-align: center;
              margin-bottom: 10px;
            }
            .receipt-items {
              border-top: 1px dashed #ccc;
              border-bottom: 1px dashed #ccc;
              padding: 10px 0;
              margin: 10px 0;
            }
            .receipt-item {
              display: flex;
              justify-content: space-between;
              margin-bottom: 5px;
            }
            .receipt-total {
              font-weight: bold;
              display: flex;
              justify-content: space-between;
              margin-top: 10px;
            }
            .receipt-footer {
              text-align: center;
              margin-top: 20px;
              font-size: 12px;
            }
            .receipt-logo {
              max-width: 100px;
              margin: 0 auto 10px;
              display: block;
            }
            .receipt-store-info {
              text-align: center;
              font-size: 12px;
              margin-bottom: 15px;
            }
            .receipt-border {
              border-top: 1px dashed #ccc;
              margin: 10px 0;
            }
            .receipt-payment-info {
              font-size: 12px;
              margin-top: 10px;
            }
            .receipt-customer-info {
              font-size: 12px;
              margin-top: 10px;
              margin-bottom: 10px;
            }
            .receipt-barcode {
              text-align: center;
              margin-top: 15px;
              font-size: 10px;
            }
            .receipt-thank-you {
              text-align: center;
              margin-top: 15px;
              font-weight: bold;
            }
          }
        </style>
        ${M}
      `),D.print(),p(!1)},500))},O=async()=>{if(!(!n||!t))try{j(!0);const{error:R}=await Z.from("orders").update({status:"canceled"}).eq("id",t);if(R)throw R;const D=await Z.auth.getUser().then(({data:M})=>{var Q;return((Q=M.user)==null?void 0:Q.id)||"system"});if(n.items&&n.items.length>0){await Cc.restoreStockFromCancelledOrder(n.id,n.items.map(Q=>({productName:Q.productName,quantity:Q.quantity})),D);const M=n.total||n.items.reduce((Q,L)=>Q+L.price*L.quantity,0);await H3e.reduceCostFromCancelledOrder(n.id,D,M)}a({...n,status:"canceled"}),me({title:"Pesanan Dibatalkan",description:"Pesanan telah berhasil dibatalkan dan stok telah dikembalikan."})}catch(R){console.error("Error canceling order:",R),me({title:"Gagal Membatalkan Pesanan",description:R.message||"Terjadi kesalahan saat membatalkan pesanan.",variant:"destructive"})}finally{j(!1),E(!1)}},U=R=>{switch(R){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"canceled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},H=R=>{if(!R)return"";switch(R){case"pending":return"Menunggu";case"processing":return"Diproses";case"shipped":return"Dikirim";case"delivered":return"Diterima";case"canceled":return"Dibatalkan";default:return R.charAt(0).toUpperCase()+R.slice(1)}};return d?i.jsx(On,{children:i.jsxs("div",{className:"flex justify-center items-center h-64",children:[i.jsx(YE,{className:"h-8 w-8 animate-spin text-gray-500"}),i.jsx("span",{className:"ml-2 text-lg text-gray-500",children:"Memuat detail pesanan..."})]})}):n?i.jsxs(On,{children:[i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsxs(z,{variant:"outline",size:"sm",onClick:()=>e("/admin/orders"),children:[i.jsx(Ds,{className:"h-4 w-4 mr-2"}),"Kembali ke Pesanan"]}),i.jsxs(z,{variant:"outline",onClick:T,className:"ml-2",children:[i.jsx(W0,{className:"mr-2 h-4 w-4"}),"Cetak Struk"]}),i.jsxs(z,{variant:"outline",onClick:I,className:"ml-2 bg-green-600 hover:bg-green-700 text-white",disabled:b,children:[b?i.jsx(er,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(ll,{className:"mr-2 h-4 w-4"}),"Simpan Struk"]}),i.jsxs("h1",{className:"text-2xl font-bold",children:["Pesanan #",t]})]}),i.jsxs("div",{className:"flex items-center",children:[n&&n.status!=="canceled"&&i.jsxs(z,{variant:"destructive",onClick:()=>E(!0),className:"mr-2",disabled:n.status==="delivered",children:[i.jsx(H4,{className:"h-4 w-4 mr-2"}),"Batalkan Pesanan"]}),i.jsxs(z,{onClick:T,className:"bg-flame-500 hover:bg-flame-600",children:[i.jsx(W0,{className:"h-4 w-4 mr-2"}),"Cetak Struk"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[i.jsxs(Be,{children:[i.jsxs(ct,{children:[i.jsx(ut,{className:"text-lg",children:"Status Pesanan"}),i.jsx(cr,{children:"Perbarui status pesanan dan kirim notifikasi WhatsApp ke pelanggan"})]}),i.jsx(Ce,{children:i.jsx(e6e,{orderId:n.id,currentStatus:n.status,adminId:w,onStatusUpdated:R=>{a({...n,status:R})}})})]}),i.jsxs(Be,{className:"md:col-span-2",children:[i.jsxs(ct,{children:[i.jsx(ut,{className:"text-lg flex items-center",children:"Ringkasan Pesanan"}),i.jsxs(cr,{children:["ID Pesanan: ",n==null?void 0:n.id,n&&i.jsx(jt,{className:`ml-2 ${U(n.status)}`,children:H(n.status)})]}),i.jsxs(cr,{children:["Tanggal: ",n?new Date(n.date).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):""]}),(n==null?void 0:n.trackingNumber)&&i.jsxs(cr,{children:["Nomor Resi: ",n.trackingNumber]})]}),i.jsxs(Ce,{children:[i.jsxs("div",{className:"space-y-1 mb-6",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Daftar Pesanan"}),i.jsxs(Gn,{children:[i.jsx(Wn,{children:i.jsxs(vt,{children:[i.jsx(Ie,{children:"Produk"}),i.jsx(Ie,{children:"Jumlah"}),i.jsx(Ie,{className:"text-right",children:"Harga"}),i.jsx(Ie,{className:"text-right",children:"Subtotal"})]})}),i.jsxs(Xn,{children:[(n==null?void 0:n.items)&&n.items.map(R=>i.jsxs(vt,{children:[i.jsx(_e,{children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 bg-charcoal-100 rounded flex-shrink-0 flex items-center justify-center",children:i.jsx(to,{className:"h-5 w-5 text-charcoal-400"})}),i.jsx("span",{children:R.productName})]})}),i.jsx(_e,{children:R.quantity}),i.jsx(_e,{className:"text-right",children:ye(R.price)}),i.jsx(_e,{className:"text-right",children:ye(R.quantity*R.price)})]},R.id)),i.jsxs(vt,{children:[i.jsx(_e,{colSpan:2}),i.jsx(_e,{className:"font-medium text-right",children:"Subtotal:"}),i.jsx(_e,{className:"font-medium text-right",children:n?ye(n.items.reduce((R,D)=>R+D.price*D.quantity,0)):""})]}),(n==null?void 0:n.discount_amount)>0&&i.jsxs(vt,{children:[i.jsx(_e,{colSpan:2}),i.jsx(_e,{className:"font-medium text-right text-green-600",children:"Diskon Voucher:"}),i.jsxs(_e,{className:"font-medium text-right text-green-600",children:["-",ye(n.discount_amount)]})]}),u&&i.jsxs(vt,{children:[i.jsx(_e,{colSpan:2}),i.jsxs(_e,{className:"font-medium text-right",children:["Pengiriman (",u.name,"):"]}),i.jsx(_e,{className:"font-medium text-right",children:ye(u.cost)})]}),i.jsxs(vt,{children:[i.jsx(_e,{colSpan:2}),i.jsx(_e,{className:"font-bold text-right",children:"Total:"}),i.jsx(_e,{className:"font-bold text-right",children:n?ye(n.total):""})]})]})]})]}),g&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Catatan Pelanggan"}),i.jsx("div",{className:"text-sm text-gray-500 italic",children:g})]})]})]}),i.jsxs(Be,{children:[i.jsx(ct,{children:i.jsx(ut,{className:"text-lg",children:"Informasi Pelanggan"})}),i.jsx(Ce,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Pelanggan"}),i.jsx("p",{children:(s==null?void 0:s.name)||"N/A"}),i.jsx("p",{children:(s==null?void 0:s.email)||"N/A"}),i.jsx("p",{children:(s==null?void 0:s.phone)||"N/A"})]}),i.jsx(Zn,{}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Alamat Pengiriman"}),l?i.jsxs(i.Fragment,{children:[i.jsx("p",{children:l.name}),i.jsx("p",{children:l.street}),i.jsx("p",{children:`${l.city}, ${l.state} ${l.zip}`}),i.jsx("p",{children:l.country})]}):i.jsx("p",{className:"text-muted-foreground",children:"Tidak ada alamat yang diberikan"})]}),i.jsx(Zn,{}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Metode Pembayaran"}),i.jsx("p",{children:n.paymentMethod==="bank-transfer"?"Transfer Bank":n.paymentMethod==="qris"?"QRIS":n.paymentMethod==="cod"?"Bayar di Tempat":n.paymentMethod||"Pembayaran Standar"})]}),u&&i.jsxs(i.Fragment,{children:[i.jsx(Zn,{}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Metode Pengiriman"}),i.jsxs("p",{children:[u.name," - ",u.carrier]}),i.jsxs("p",{children:["Perkiraan waktu pengiriman: ",u.estimated_days," Jam"]}),i.jsx("p",{className:"font-medium",children:ye(u.cost)})]})]})]})})]})]})]}),i.jsx(vr,{open:C,onOpenChange:E,children:i.jsxs(hr,{className:"max-w-md",children:[i.jsxs(Cr,{children:[i.jsx(jr,{className:"text-center",children:"Konfirmasi Pembatalan"}),i.jsxs(Rn,{className:"text-center pt-4",children:["Apakah Anda yakin ingin membatalkan pesanan ini?",i.jsxs("div",{className:"mt-2 p-3 bg-red-50 text-red-700 rounded-md flex items-center",children:[i.jsx(Ab,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:"Stok arang akan dikembalikan secara otomatis."})]})]})]}),i.jsxs(yn,{className:"flex flex-row justify-between mt-4",children:[i.jsx(z,{variant:"outline",onClick:()=>E(!1),disabled:B,children:"Batal"}),i.jsx(z,{variant:"destructive",onClick:O,disabled:B,children:B?i.jsxs(i.Fragment,{children:[i.jsx(er,{className:"h-4 w-4 mr-2 animate-spin"}),"Membatalkan..."]}):i.jsxs(i.Fragment,{children:[i.jsx(H4,{className:"h-4 w-4 mr-2"}),"Ya, Batalkan Pesanan"]})})]})]})}),i.jsx(vr,{open:f,onOpenChange:p,children:i.jsxs(hr,{className:"max-w-md",children:[i.jsx(Cr,{children:i.jsx(jr,{className:"text-center",children:"Struk Pesanan"})}),i.jsxs("div",{ref:r,className:"p-4",children:[i.jsxs("div",{className:"receipt-header",children:[i.jsx("h2",{className:"text-xl font-bold mb-1",children:"Struk Belanja"}),i.jsxs("div",{className:"receipt-store-info",children:[i.jsx("p",{children:i.jsx("strong",{children:"Jaya Perkasa Charcoal"})}),i.jsx("p",{children:"Jl.legok conggeang kec.paseh , sumedang"}),i.jsx("p",{children:"Telp: 0813-9458-6882"})]}),i.jsx("div",{className:"receipt-border"}),i.jsx("p",{className:"mt-3 mb-1",children:i.jsxs("strong",{children:["ID Pesanan #",n.id.substring(0,8)]})}),i.jsx("p",{children:new Date(n.date).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),s&&i.jsxs("div",{className:"receipt-customer-info",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Pelanggan:"})," ",s.name||"Tidak Ada"]}),i.jsx("p",{children:s.email||"Tidak Ada"}),i.jsx("p",{children:s.phone||"Tidak Ada"})]}),l&&i.jsxs("div",{className:"receipt-customer-info",children:[i.jsx("p",{children:i.jsx("strong",{children:"Alamat Pengiriman:"})}),i.jsx("p",{children:l.name}),i.jsx("p",{children:l.street}),i.jsx("p",{children:`${l.city}, ${l.state} ${l.zip}`})]}),i.jsxs("table",{className:"w-full mt-4 mb-3",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left",children:"Item"}),i.jsx("th",{className:"text-center",children:"Jml"}),i.jsx("th",{className:"text-right",children:"Harga"}),i.jsx("th",{className:"text-right",children:"Total"})]})}),i.jsx("tbody",{children:n.items.map(R=>i.jsxs("tr",{children:[i.jsx("td",{className:"text-left",children:R.productName}),i.jsxs("td",{className:"text-center",children:[R.quantity,"x"]}),i.jsx("td",{className:"text-right",children:ye(R.price)}),i.jsx("td",{className:"text-right",children:ye(R.price*R.quantity)})]},R.id))})]}),i.jsx("div",{className:"receipt-border"}),i.jsxs("div",{className:"receipt-totals",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Subtotal:"}),i.jsx("span",{children:ye(n.items.reduce((R,D)=>R+D.price*D.quantity,0))})]}),n.discount_amount>0&&i.jsxs("div",{className:"flex justify-between text-green-600",children:[i.jsxs("span",{children:["Diskon Voucher ",N!=null&&N.code?`(${N.code})`:"",":"]}),i.jsxs("span",{children:["-",ye(n.discount_amount)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Subtotal sebelum diskon:"}),i.jsx("span",{children:ye(n.items.reduce((R,D)=>R+D.price*D.quantity,0)+n.discount_amount)})]}),u&&i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:["Pengiriman (",u.name,"):"]}),i.jsx("span",{children:ye(u.cost)})]}),i.jsxs("div",{className:"flex justify-between font-bold mt-2",children:[i.jsx("span",{children:"Total:"}),i.jsx("span",{children:ye(n.total)})]})]}),i.jsx("div",{className:"receipt-payment-info",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Metode Pembayaran:"})," ",n.paymentMethod==="bank-transfer"?"Transfer Bank":n.paymentMethod==="qris"?"QRIS":n.paymentMethod==="cod"?"Bayar di Tempat":"Pembayaran Standar"]})}),i.jsx("div",{className:"receipt-barcode",children:i.jsxs("p",{children:["*******",n.id.substring(0,8),"*******"]})}),i.jsx("div",{className:"receipt-thank-you",children:i.jsx("p",{children:"Terima kasih atas pembelian Anda!"})}),i.jsxs("div",{className:"receipt-footer",children:[i.jsx("p",{children:"Untuk layanan pelanggan: support@example.com"}),i.jsx("p",{children:"Simpan struk ini untuk pengembalian atau penukaran"}),i.jsx("p",{children:"Pengembalian diterima dalam 24 jam setelah pembelian"})]}),i.jsxs("div",{className:"flex gap-2 mt-6",children:[i.jsx(z,{onClick:()=>p(!1),variant:"outline",className:"flex-1",children:"Tutup"}),i.jsxs(z,{onClick:()=>window.print(),className:"flex-1",children:[i.jsx(W0,{className:"mr-2 h-4 w-4"}),"Cetak"]}),i.jsx(z,{onClick:I,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",disabled:b,children:b?i.jsxs(i.Fragment,{children:[i.jsx(er,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ll,{className:"mr-2 h-4 w-4"}),"Simpan"]})})]})]})]})})]}):i.jsx(On,{children:i.jsx("div",{className:"p-4",children:i.jsx(Be,{className:"w-full",children:i.jsx(Ce,{className:"pt-6",children:i.jsxs("div",{className:"flex flex-col items-center justify-center p-6",children:[i.jsx("p",{className:"text-muted-foreground mb-4",children:"Pesanan tidak ditemukan"}),i.jsx(z,{onClick:()=>e("/admin/orders"),className:"bg-flame-500 hover:bg-flame-600",children:"Kembali ke Pesanan"})]})})})})})}function r6e(){const[t,e]=v.useState("month"),[r,n]=v.useState(!0),[a,s]=v.useState({totalSales:0,orderCount:0,averageOrderValue:0,topProducts:[],recentOrders:[]}),[o,l]=v.useState([]),[c,u]=v.useState([]),[A,d]=v.useState([]),[h,f]=v.useState(!1);v.useEffect(()=>{g()},[t]);const p=m=>{f(!0);try{let b="",y="";m==="orders"?(b=`ID Pesanan,Tanggal,Status,Total
`,A.forEach(E=>{b+=`"${E.id}","${new Date(E.date).toLocaleDateString()}","${E.status}","${E.total}"
`}),y="pesanan_export.csv"):m==="products"?(b=`Produk,Jumlah Terjual
`,c.forEach(E=>{b+=`"${E.name}","${E.total}"
`}),y="produk_terlaris_export.csv"):(b=`Tanggal,Total Penjualan
`,o.forEach(E=>{b+=`"${E.date}","${E.total}"
`}),y="penjualan_harian_export.csv");const w=new Blob([b],{type:"text/csv;charset=utf-8;"}),x=URL.createObjectURL(w),C=document.createElement("a");C.href=x,C.setAttribute("download",y),document.body.appendChild(C),C.click(),document.body.removeChild(C)}catch(b){console.error("Error exporting data:",b)}finally{f(!1)}},g=async()=>{n(!0);try{const m=new Date;let b=new Date;t==="week"?b.setDate(m.getDate()-7):t==="month"?b.setMonth(m.getMonth()-1):b.setFullYear(m.getFullYear()-1);const y=b.toISOString(),{data:w,error:x}=await Z.from("orders").select("*").gte("date",y).order("date",{ascending:!1});if(x)throw x;const C=(w==null?void 0:w.reduce((D,M)=>D+Number(M.total),0))||0,E=(w==null?void 0:w.length)||0,B=E>0?C/E:0,j=(w==null?void 0:w.slice(0,5))||[],{data:N,error:S}=await Z.from("order_items").select("product_id, product_name, quantity").in("order_id",(w==null?void 0:w.map(D=>D.id))||[]);if(S)throw S;const k=new Map;N==null||N.forEach(D=>{const M=k.get(D.product_id);M?M.quantity+=D.quantity:k.set(D.product_id,{productId:D.product_id,productName:D.product_name,quantity:D.quantity})});const I=Array.from(k.values()).sort((D,M)=>M.quantity-D.quantity).slice(0,5),T=new Map;w==null||w.forEach(D=>{const M=new Date(D.date).toLocaleDateString(),Q=T.get(M)||0;T.set(M,Q+Number(D.total))});const O=Array.from(T.entries()).map(([D,M])=>({date:D,total:M})).sort((D,M)=>new Date(D.date).getTime()-new Date(M.date).getTime());d(w||[]);const{data:U}=await Z.from("products").select("id, name").in("id",I.map(D=>D.productId)||[]),H=new Map;U==null||U.forEach(D=>H.set(D.id,D.name));const R=I.map(D=>({name:D.productName.length>15?D.productName.substring(0,15)+"...":D.productName,total:D.quantity}));s({totalSales:C,orderCount:E,averageOrderValue:B,topProducts:I,recentOrders:j}),l(O),u(R)}catch(m){console.error("Error fetching analytics data:",m)}finally{n(!1)}};return i.jsxs(On,{children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Dasbor Analitik"}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("select",{value:t,onChange:m=>e(m.target.value),className:"px-3 py-2 border rounded-md",children:[i.jsx("option",{value:"week",children:"7 Hari Terakhir"}),i.jsx("option",{value:"month",children:"30 Hari Terakhir"}),i.jsx("option",{value:"year",children:"Tahun Terakhir"})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs(Be,{children:[i.jsx(ct,{className:"pb-2",children:i.jsx(ut,{className:"text-sm font-medium",children:"Total Penjualan"})}),i.jsx(Ce,{children:i.jsx("div",{className:"text-2xl font-bold",children:ye(a.totalSales)})})]}),i.jsxs(Be,{children:[i.jsx(ct,{className:"pb-2",children:i.jsx(ut,{className:"text-sm font-medium",children:"Pesanan"})}),i.jsxs(Ce,{children:[i.jsx("p",{className:"text-xs text-gray-500",children:"Pengguna dengan pesanan"}),i.jsx("div",{className:"text-2xl font-bold",children:a.orderCount})]})]}),i.jsxs(Be,{children:[i.jsx(ct,{className:"pb-2",children:i.jsx(ut,{className:"text-sm font-medium",children:"Nilai Pesanan Rata-rata"})}),i.jsx(Ce,{children:i.jsx("div",{className:"text-2xl font-bold",children:ye(a.averageOrderValue)})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(Be,{children:[i.jsxs(ct,{className:"flex flex-row items-center justify-between",children:[i.jsx(ut,{children:"Penjualan Bulanan"}),i.jsxs(z,{size:"sm",variant:"outline",className:"h-8 gap-1",onClick:()=>p("sales"),disabled:h||r,children:[i.jsx(ll,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]}),i.jsx(Ce,{children:i.jsx("div",{className:"h-80",children:r?i.jsx("div",{className:"h-full flex items-center justify-center",children:"Loading..."}):i.jsx(j3e,{data:o,index:"date",categories:["total"],colors:["#FF7E47"],valueFormatter:m=>ye(m),yAxisWidth:60})})})]}),i.jsxs(Be,{children:[i.jsxs(ct,{className:"flex flex-row items-center justify-between",children:[i.jsx(ut,{children:"Produk Terlaris"}),i.jsxs(z,{size:"sm",variant:"outline",className:"h-8 gap-1",onClick:()=>p("products"),disabled:h||r,children:[i.jsx(ll,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]}),i.jsx(Ce,{children:i.jsx("div",{className:"h-80",children:r?i.jsx("div",{className:"h-full flex items-center justify-center",children:"Loading..."}):i.jsx(CZ,{data:c,index:"name",categories:["total"],colors:["#FF7E47"],valueFormatter:m=>`${m} units`,yAxisWidth:60})})})]})]}),i.jsxs(Be,{children:[i.jsxs(ct,{className:"flex flex-row items-center justify-between",children:[i.jsx(ut,{children:"Pesanan Terbaru"}),i.jsxs(z,{size:"sm",variant:"outline",className:"h-8 gap-1",onClick:()=>p("orders"),disabled:h||r,children:[i.jsx(ll,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]}),i.jsx(Ce,{children:i.jsxs(Gn,{children:[i.jsx(Wn,{children:i.jsxs(vt,{children:[i.jsx(Ie,{className:"w-[100px]",children:"ID Pesanan"}),i.jsx(Ie,{children:"Pelanggan"}),i.jsx(Ie,{children:"Tanggal"}),i.jsx(Ie,{children:"Status"}),i.jsx(Ie,{className:"text-right",children:"Jumlah"})]})}),i.jsx(Xn,{children:r?i.jsx(vt,{children:i.jsx(_e,{colSpan:5,className:"text-center py-4",children:"Loading..."})}):a.recentOrders.length===0?i.jsx(vt,{children:i.jsx(_e,{colSpan:4,className:"text-center py-4",children:"No orders found."})}):a.recentOrders.map(m=>i.jsxs(vt,{children:[i.jsxs(_e,{className:"font-medium",children:[m.id.substring(0,8),"..."]}),i.jsx(_e,{children:new Date(m.date).toLocaleDateString()}),i.jsx(_e,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${m.status==="pending"?"bg-yellow-100 text-yellow-800":m.status==="processing"?"bg-blue-100 text-blue-800":m.status==="shipped"?"bg-purple-100 text-purple-800":m.status==="delivered"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.status.charAt(0).toUpperCase()+m.status.slice(1)})}),i.jsx(_e,{className:"text-right",children:ye(m.total)})]},m.id))})]})})]})]})}function n6e(){const[t,e]=v.useState(!1),[r,n]=v.useState(""),[a,s]=v.useState(75e4),[o,l]=v.useState(!0),[c,u]=v.useState([]),[A,d]=v.useState(null);v.useEffect(()=>{(()=>{if(!("Notification"in window)){d(null);return}d(Notification.permission)})()},[]),v.useEffect(()=>{(async()=>{const{data:g}=await Z.from("products").select("id, name, price").limit(5);g&&g.length>0?u(g):u([{id:pn(),name:"Coal Type A Premium",price:25e4},{id:pn(),name:"Coal Type B Standard",price:18e4},{id:pn(),name:"Coal Type C Economy",price:12e4}])})()},[]);const h=async()=>{if(!("Notification"in window))return me({title:"Error",description:"Browser Anda tidak mendukung notifikasi",variant:"destructive"}),!1;try{const p=await Notification.requestPermission();return d(p),p==="granted"?(me({title:"Sukses",description:"Izin notifikasi diberikan"}),!0):(me({title:"Peringatan",description:"Izin notifikasi ditolak. Notifikasi tidak akan ditampilkan.",variant:"destructive"}),!1)}catch(p){return console.error("Error requesting notification permission:",p),me({title:"Error",description:"Gagal meminta izin notifikasi",variant:"destructive"}),!1}},f=async()=>{if(e(!0),!("Notification"in window)){me({title:"Error",description:"Browser Anda tidak mendukung notifikasi",variant:"destructive"}),e(!1);return}if(A!=="granted"&&!await h()){me({title:"Peringatan",description:"Anda harus mengizinkan notifikasi untuk menguji fitur ini",variant:"destructive"}),e(!1);return}try{let p,g,m=[];if(o){const b=pn(),y=r||pn(),w=pn();g={id:y,full_name:"Pelanggan Test",email:"test@example.com",phone:"081234567890"},p={id:b,user_id:y,total:a,status:"pending",payment_method:"bank-transfer",shipping_address_id:w,date:new Date().toISOString(),payment_details:"SeaBank"};for(const x of c.slice(0,3)){const C=Math.floor(Math.random()*3)+1;m.push({product_name:x.name,quantity:C,price:x.price})}console.log("Using dummy order data for testing:",{order:p,customer:g,items:m})}else{if(!r)throw new Error("Silahkan masukkan ID pelanggan untuk menggunakan data nyata");const{data:b,error:y}=await Z.from("profiles").select("id, full_name, email, phone").eq("id",r).single();if(y||!b)throw new Error('Pelanggan tidak ditemukan. Gunakan opsi "Gunakan Data Dummy" untuk testing.');g=b;let w;const{data:x,error:C}=await Z.from("addresses").select("id").eq("user_id",r).limit(1).single();C?(w=pn(),console.log("Using dummy address ID:",w)):w=x.id;const{data:E,error:B}=await Z.from("orders").insert({user_id:r,total:a,status:"pending",payment_method:"bank-transfer",shipping_address_id:w,date:new Date().toISOString(),payment_details:"SeaBank"}).select().single();if(B)throw B;p=E;for(const j of c.slice(0,3)){const N=Math.floor(Math.random()*3)+1,{error:S}=await Z.from("order_items").insert({order_id:p.id,product_id:j.id,product_name:j.name,quantity:N,price:j.price});S?console.error("Error inserting order item:",S):m.push({product_name:j.name,quantity:N,price:j.price})}}await fK({...p,_customerData:g,_orderItems:m}),me({title:"Sukses",description:`Notifikasi order berhasil dikirim ke admin. Order ID: ${p.id}`}),console.log("Test order created:",{order:p,customer:g,items:m})}catch(p){console.error("Error creating test order:",p),me({title:"Error",description:p instanceof Error?p.message:"Gagal membuat order test",variant:"destructive"})}finally{e(!1)}};return i.jsxs(Be,{className:"w-full",children:[i.jsx(ct,{children:i.jsx(ut,{children:"Test Notifikasi Order"})}),i.jsx(Ce,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between space-x-2 rounded-lg border p-3 mb-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Te,{children:"Status Izin Notifikasi"}),i.jsx("p",{className:"text-sm",children:"Notification"in window?A==="granted"?i.jsx("span",{className:"text-green-500",children:"Izin diberikan"}):A==="denied"?i.jsx("span",{className:"text-red-500",children:"Izin ditolak (buka pengaturan browser untuk mengizinkan)"}):i.jsx("span",{className:"text-amber-500",children:"Izin belum diminta"}):i.jsx("span",{className:"text-red-500",children:"Browser tidak mendukung notifikasi"})})]}),"Notification"in window&&A!=="granted"&&A!=="denied"&&i.jsx(z,{variant:"outline",size:"sm",onClick:h,disabled:t,children:"Minta Izin"})]}),i.jsxs("div",{className:"flex items-center justify-between space-x-2 rounded-lg border p-3 mb-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Te,{children:"Gunakan Data Dummy"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Aktifkan untuk menggunakan data dummy tanpa perlu data pelanggan nyata"})]}),i.jsx(us,{checked:o,onCheckedChange:l})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"customerId",children:o?"ID Pelanggan (Opsional)":"ID Pelanggan"}),i.jsx(he,{id:"customerId",placeholder:o?"Opsional - akan dibuat otomatis jika kosong":"Masukkan ID pelanggan",value:r,onChange:p=>n(p.target.value),disabled:t}),!o&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"ID pelanggan wajib diisi jika tidak menggunakan data dummy"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"orderTotal",children:"Total Order (Rp)"}),i.jsx(he,{id:"orderTotal",type:"number",value:a,onChange:p=>s(Number(p.target.value)),min:1e4,disabled:t})]}),i.jsx(z,{onClick:f,disabled:t,className:"w-full",children:t?i.jsxs(i.Fragment,{children:[i.jsx(er,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Kirim Notifikasi Order"}),i.jsx("p",{className:"text-xs text-center text-muted-foreground mt-2",children:"Notifikasi akan muncul di notification bar browser jika izin notifikasi telah diberikan"})]})})]})}const a6e={monday:"Senin",tuesday:"Selasa",wednesday:"Rabu",thursday:"Kamis",friday:"Jumat",saturday:"Sabtu",sunday:"Minggu"};function s6e(){const[t,e]=v.useState(null),[r,n]=v.useState(!0),[a,s]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(null),[A,d]=v.useState(""),[h,f]=v.useState(""),[p,g]=v.useState(!1),m=async()=>{n(!0);try{const j=await dc.getBusinessHours();e(j),g(!1);const N=await dc.getCurrentStatus();u(N),f(new Date().toLocaleString("id-ID",{dateStyle:"medium",timeStyle:"short",timeZone:"Asia/Jakarta"}))}catch(j){console.error("Error fetching business hours:",j),me({title:"Error",description:"Gagal mengambil data jam kerja",variant:"destructive"})}finally{n(!1)}};v.useEffect(()=>{m();const j=Z.channel("business-hours-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"settings",filter:"key=eq.business_hours"},N=>{console.debug("Business hours diubah:",N),!a&&!p&&(m(),me({title:"Info",description:"Pengaturan jam kerja telah diperbarui oleh admin lain"}))}).subscribe();return()=>{Z.removeChannel(j)}},[a,p]);const b=j=>{t&&(e({...t,isEnabled:j}),g(!0))},y=(j,N)=>{if(!t)return;const S=[...t.workingDays];S[j]={...S[j],isActive:N},e({...t,workingDays:S}),g(!0)},w=(j,N,S)=>{if(!t)return;const k=[...t.workingDays];k[j]={...k[j],[N]:S},e({...t,workingDays:k}),g(!0)},x=j=>{if(!j.openTime||!j.closeTime)return!1;const[N,S]=j.openTime.split(":").map(Number),[k,I]=j.closeTime.split(":").map(Number),T=N*60+S;return k*60+I<T},C=j=>{t&&(e({...t,offWorkMessage:j}),g(!0))},E=async()=>{if(confirm("Anda yakin ingin mengembalikan pengaturan jam kerja ke default?")){l(!0);try{const j=await dc.resetToDefault();j.success?(me({title:"Berhasil",description:j.message}),await m()):me({title:"Error",description:j.message,variant:"destructive"})}catch(j){console.error("Error resetting business hours:",j),me({title:"Error",description:"Gagal mereset pengaturan jam kerja",variant:"destructive"})}finally{l(!1)}}},B=async()=>{if(t){s(!0);try{const j=await dc.updateBusinessHours(t);if(j.success){me({title:"Berhasil",description:j.message});const N=await dc.getCurrentStatus();u(N),g(!1),f(new Date().toLocaleString("id-ID",{dateStyle:"medium",timeStyle:"short",timeZone:"Asia/Jakarta"}))}else me({title:"Warning",description:j.message,variant:"destructive"})}catch(j){console.error("Error saving business hours:",j),me({title:"Error",description:"Gagal menyimpan pengaturan jam kerja: "+(j instanceof Error?j.message:"Unknown error"),variant:"destructive"})}finally{s(!1)}}};return r?i.jsxs(Be,{children:[i.jsxs(ct,{children:[i.jsxs(ut,{className:"flex items-center",children:[i.jsx(XA,{className:"mr-2 h-5 w-5"}),"Pengaturan Jam Kerja"]}),i.jsx(cr,{children:"Memuat data dari database..."})]}),i.jsx(Ce,{children:i.jsx("div",{className:"flex justify-center items-center p-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-gray-900"})})})]}):i.jsxs(Be,{children:[i.jsxs(ct,{children:[i.jsxs(ut,{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(XA,{className:"mr-2 h-5 w-5"}),"Pengaturan Jam Kerja"]}),p&&i.jsxs(jt,{variant:"outline",className:"ml-2 text-amber-500 border-amber-500",children:[i.jsx(Zf,{className:"h-3 w-3 mr-1"})," Belum Disimpan"]})]}),i.jsx(cr,{children:h?`Terakhir diperbarui: ${h}`:"Data dari database Supabase"})]}),i.jsx(Ce,{children:i.jsxs("div",{className:"space-y-6",children:[c&&i.jsxs("div",{className:"mb-4 p-3 rounded bg-gray-100 dark:bg-gray-800",children:[i.jsx("h3",{className:"text-sm font-medium mb-1",children:"Status Saat Ini:"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(jt,{className:c.isOpen?"bg-green-500":"bg-red-500",children:c.isOpen?"BUKA":"TUTUP"}),i.jsx("span",{className:"ml-2 text-sm",children:c.message})]}),i.jsx("div",{className:"mt-2 text-xs text-gray-500",children:i.jsxs(z,{variant:"outline",size:"sm",onClick:m,className:"h-7 text-xs",children:[i.jsx(em,{className:"h-3 w-3 mr-1"})," Refresh Status"]})})]}),i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(us,{id:"business-hours-toggle",checked:t.isEnabled,onCheckedChange:b}),i.jsx(Te,{htmlFor:"business-hours-toggle",className:"font-medium",children:"Aktifkan sistem jam kerja"})]}),c&&i.jsx(jt,{variant:c.isOpen?"outline":"destructive",className:"ml-auto",children:c.isOpen?"Buka":"Tutup"})]}),i.jsx("div",{className:"bg-slate-50 border border-slate-100 rounded-md p-4 mb-6",children:i.jsxs("div",{className:"flex items-start text-sm text-slate-600",children:[i.jsx(XE,{className:"h-5 w-5 mr-2 text-blue-500 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"mb-1",children:i.jsx("strong",{children:"Tentang Fitur Jam Kerja:"})}),i.jsx("p",{children:"Saat aktif, sistem ini akan membatasi akses pelanggan ke aplikasi hanya pada jam operasional yang ditentukan."}),i.jsx("p",{children:"Di luar jam tersebut, pelanggan akan melihat pesan yang Anda tentukan dan tidak dapat mengakses aplikasi."}),i.jsxs("p",{className:"mt-1",children:[i.jsx("strong",{children:"Jam Operasional Melewati Tengah Malam:"})," Jika toko Anda buka melewati tengah malam (misalnya 20:00 - 02:00), atur jam buka lebih besar dari jam tutup."]})]})]})}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-4",children:"Jadwal Jam Kerja"}),i.jsx("div",{className:"space-y-4",children:t.workingDays.map((j,N)=>i.jsxs("div",{className:"flex items-center space-x-4 p-3 border rounded-md bg-white",children:[i.jsxs("div",{className:"flex items-center space-x-2 w-28",children:[i.jsx(us,{id:`day-${j.day}`,checked:j.isActive,onCheckedChange:S=>y(N,S)}),i.jsx(Te,{htmlFor:`day-${j.day}`,className:j.isActive?"":"text-gray-400",children:a6e[j.day]})]}),i.jsxs("div",{className:`flex-1 flex items-center space-x-2 ${j.isActive?"":"opacity-50"}`,children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Te,{htmlFor:`open-${j.day}`,className:"mr-2 text-sm whitespace-nowrap",children:"Buka:"}),i.jsx(he,{id:`open-${j.day}`,type:"time",value:j.openTime,onChange:S=>w(N,"openTime",S.target.value),disabled:!j.isActive,className:"w-28","aria-label":"Jam buka"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Te,{htmlFor:`close-${j.day}`,className:"mx-2 text-sm whitespace-nowrap",children:"Tutup:"}),i.jsx(he,{id:`close-${j.day}`,type:"time",value:j.closeTime,onChange:S=>w(N,"closeTime",S.target.value),disabled:!j.isActive,className:"w-28","aria-label":"Jam tutup"}),j.isActive&&x(j)&&i.jsx("span",{className:"text-xs text-amber-600 ml-2",children:i.jsx(H$,{children:i.jsxs(Ase,{children:[i.jsx(dse,{children:i.jsx(XE,{className:"h-4 w-4 inline"})}),i.jsx($$,{children:i.jsx("p",{children:"Jam tutup lebih awal dari jam buka. Ini akan dianggap sebagai jam kerja yang melewati tengah malam."})})]})})})]})]})]},j.day))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx(Te,{htmlFor:"off-work-message",className:"font-medium block mb-2",children:"Pesan Di Luar Jam Kerja"}),i.jsx(Dl,{id:"off-work-message",value:t.offWorkMessage,onChange:j=>C(j.target.value),placeholder:"Masukkan pesan yang akan ditampilkan ketika aplikasi di luar jam kerja",className:"min-h-[100px]"})]}),i.jsxs("div",{className:"bg-slate-50 border border-slate-100 rounded-md p-4 mb-6",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Uji Pengaturan Jam Kerja"}),i.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Masukkan waktu untuk menguji apakah toko akan terbuka atau tertutup pada waktu tersebut."}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(he,{type:"time",value:A,onChange:j=>d(j.target.value),className:"w-40",placeholder:"HH:MM"}),i.jsx(z,{variant:"outline",onClick:()=>{if(A&&t){const[j,N]=A.split(":").map(Number),S=new Date;S.setHours(j,N,0);const k=Date.now;Date.now=()=>S.getTime();const I=Date;Date=class extends I{constructor(){return super(),arguments.length===0?S:new I(...arguments)}},dc.getCurrentStatus().then(T=>{Date.now=k,Date=I,me({title:T.isOpen?"Toko Terbuka":"Toko Tertutup",description:T.isOpen?`Pada pukul ${A}, toko akan terbuka.`:`Pada pukul ${A}, toko akan tertutup. Pesan: ${T.message}`,variant:T.isOpen?"default":"destructive"})})}else me({title:"Waktu tidak valid",description:"Masukkan waktu yang valid untuk pengujian",variant:"destructive"})},children:"Uji Waktu"})]})]}),i.jsxs("div",{className:"flex justify-between items-center mt-6",children:[i.jsx(z,{type:"button",variant:"outline",disabled:o||a,onClick:E,className:"flex items-center",children:o?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin h-4 w-4 mr-1 border-2 border-gray-300 rounded-full"}),"Reset..."]}):i.jsxs(i.Fragment,{children:[i.jsx(em,{className:"h-4 w-4 mr-1"}),"Reset ke Default"]})}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(z,{type:"button",variant:"secondary",disabled:!p||a,onClick:m,children:"Batalkan Perubahan"}),i.jsx(z,{type:"button",disabled:a||!p,onClick:B,className:"flex items-center",children:a?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin h-4 w-4 mr-1 border-2 border-white rounded-full"}),"Menyimpan..."]}):i.jsxs(i.Fragment,{children:[i.jsx(pre,{className:"h-4 w-4 mr-1"}),"Simpan ke Database"]})})]})]})]})}),i.jsxs(is,{className:"border-t p-4 text-xs text-gray-500 flex justify-between items-center",children:[i.jsxs("div",{children:["Data disimpan di tabel ",i.jsx("code",{children:"settings"})," di Supabase"]}),i.jsx("div",{className:"flex items-center",children:p?i.jsxs(jt,{variant:"outline",className:"text-amber-500 border-amber-500",children:[i.jsx(Zf,{className:"h-3 w-3 mr-1"})," Ada perubahan belum disimpan"]}):i.jsxs(jt,{variant:"outline",className:"text-green-500 border-green-500",children:[i.jsx(Wte,{className:"h-3 w-3 mr-1"})," Tersimpan"]})})]})]})}const i6e=Ks({name:ur().min(1,"Nama wajib diisi"),email:ur().email("Alamat email tidak valid"),currentPassword:ur().optional(),newPassword:ur().min(6,"Kata sandi minimal 6 karakter").optional(),confirmPassword:ur().optional()}).refine(t=>!(t.newPassword&&t.newPassword!==t.confirmPassword),{message:"Kata sandi tidak cocok",path:["confirmPassword"]}),o6e=Ks({storeName:ur().min(1,"Nama toko wajib diisi"),contactEmail:ur().email("Alamat email tidak valid"),currency:ur().min(1,"Mata uang wajib diisi")}),l6e=Ks({enableOrderNotifications:fl().default(!0),enableChatNotifications:fl().default(!0),enableSoundNotifications:fl().default(!0)});function c6e(){const{user:t,profile:e,refreshProfile:r}=Hr(),[n,a]=v.useState(!1),[s,o]=v.useState(!1),[l,c]=v.useState(!1),[u,A]=v.useState(null),[d,h]=v.useState({storeName:"Toko E-commerce Saya",contactEmail:"contact@example.com",currency:"IDR"}),f=ca({resolver:ua(i6e),defaultValues:{name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",currentPassword:"",newPassword:"",confirmPassword:""}}),p=ca({resolver:ua(o6e),defaultValues:{storeName:d.storeName,contactEmail:d.contactEmail,currency:d.currency}}),g=ca({resolver:ua(l6e),defaultValues:{enableOrderNotifications:!0,enableChatNotifications:!0,enableSoundNotifications:!0}});v.useEffect(()=>{e&&f.reset({name:e.name||"",email:e.email||"",currentPassword:"",newPassword:"",confirmPassword:""})},[e]),v.useEffect(()=>{b(),y(),m()},[]);const m=()=>{typeof Notification<"u"&&A(Notification.permission)},b=async()=>{try{const S=localStorage.getItem("storeSettings");if(S){const k=JSON.parse(S);h(k),p.reset({storeName:k.storeName,contactEmail:k.contactEmail,currency:k.currency})}}catch(S){console.error("Error fetching store settings:",S)}},y=async()=>{try{const S=localStorage.getItem("notificationSettings");if(S){const k=JSON.parse(S);g.reset({enableOrderNotifications:k.enableOrderNotifications,enableChatNotifications:k.enableChatNotifications,enableSoundNotifications:k.enableSoundNotifications})}}catch(S){console.error("Error fetching notification settings:",S)}},w=async S=>{if(t){a(!0);try{const{error:k}=await Z.from("profiles").update({name:S.name}).eq("id",t.id);if(k)throw k;if(S.email&&S.email!==t.email){const{error:I}=await Z.auth.updateUser({email:S.email});if(I)throw I}if(S.newPassword){if(S.newPassword!==S.confirmPassword){me({title:"Error",description:"Kata sandi tidak cocok",variant:"destructive"});return}const{error:I}=await Z.auth.updateUser({password:S.newPassword});if(I)throw I}me({title:"Profil diperbarui",description:"Profil Anda telah berhasil diperbarui"}),f.reset({name:S.name,email:S.email,currentPassword:"",newPassword:"",confirmPassword:""}),await r()}catch(k){console.error("Error updating settings:",k),me({title:"Error memperbarui profil",description:k.message||"Terjadi kesalahan saat memperbarui profil Anda",variant:"destructive"})}finally{a(!1)}}},x=async S=>{o(!0);try{const k={storeName:S.storeName,contactEmail:S.contactEmail,currency:S.currency};localStorage.setItem("storeSettings",JSON.stringify(k)),h(k),me({title:"Pengaturan toko diperbarui",description:"Pengaturan toko Anda telah berhasil diperbarui"})}catch(k){console.error("Error updating store settings:",k),me({title:"Error memperbarui pengaturan toko",description:"Terjadi kesalahan saat memperbarui pengaturan toko Anda",variant:"destructive"})}finally{o(!1)}},C=async()=>{try{me({title:"Pemeliharaan database",description:"Vakum database berhasil diselesaikan"}),setTimeout(()=>{me({title:"Pemeliharaan database",description:"Vakum database berhasil diselesaikan"})},2e3)}catch(S){me({title:"Error running vacuum operation",description:S.message||"Terjadi kesalahan saat menjalankan operasi vakum",variant:"destructive"})}},E=async()=>{try{me({title:"Menghapus log lama",description:"Log lama berhasil dihapus"}),setTimeout(()=>{me({title:"Menghapus log lama",description:"Log lama berhasil dihapus"})},2e3)}catch(S){me({title:"Error menghapus log lama",description:S.message||"Terjadi kesalahan saat menghapus log lama",variant:"destructive"})}},B=async()=>{c(!0);try{if(!t)return;const S=await Notification.requestPermission();if(A(S),S==="granted")if(await l2(t.id))me({title:"Notifikasi diaktifkan",description:"Anda akan menerima notifikasi pesanan baru"});else throw new Error("Gagal mendapatkan token notifikasi");else me({title:"Izin notifikasi ditolak",description:"Anda tidak akan menerima notifikasi. Ubah pengaturan browser untuk mengizinkan notifikasi.",variant:"destructive"})}catch(S){console.error("Error requesting notification permission:",S),me({title:"Error mengaktifkan notifikasi",description:S.message||"Terjadi kesalahan saat mengaktifkan notifikasi",variant:"destructive"})}finally{c(!1)}},j=async S=>{c(!0);try{localStorage.setItem("notificationSettings",JSON.stringify(S)),S.enableOrderNotifications&&u==="granted"&&t&&await l2(t.id),me({title:"Pengaturan notifikasi diperbarui",description:"Preferensi notifikasi Anda telah berhasil diperbarui"})}catch(k){console.error("Error updating notification settings:",k),me({title:"Error memperbarui pengaturan notifikasi",description:k.message||"Terjadi kesalahan saat memperbarui pengaturan notifikasi",variant:"destructive"})}finally{c(!1)}},N=async()=>{try{if(Notification.permission!=="granted"){me({title:"Izin notifikasi tidak diberikan",description:"Harap berikan izin notifikasi terlebih dahulu",variant:"destructive"});return}const S=new Notification("Notifikasi Uji Coba",{body:"Ini adalah notifikasi uji coba. Jika Anda melihat ini, berarti notifikasi berfungsi dengan baik!",icon:"/logo192.png"});me({title:"Notifikasi uji coba dikirim",description:"Periksa notifikasi browser Anda"}),new Audio("/sounds/new_order_sound.mp3").play().catch(I=>console.log("Error playing notification sound:",I))}catch(S){console.error("Error testing notification:",S),me({title:"Error mengirim notifikasi uji coba",description:S.message||"Terjadi kesalahan saat mengirim notifikasi uji coba",variant:"destructive"})}};return i.jsxs(On,{children:[i.jsx("div",{className:"mb-6",children:i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Pengaturan"})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs(Be,{children:[i.jsx(ct,{children:i.jsx(ut,{children:"Pengaturan Profil"})}),i.jsx(Ce,{children:i.jsx(ea,{...f,children:i.jsxs("form",{onSubmit:f.handleSubmit(w),className:"space-y-6",children:[i.jsx(Ke,{control:f.control,name:"name",render:({field:S})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Nama"}),i.jsx(He,{children:i.jsx(he,{...S})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:f.control,name:"email",render:({field:S})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Email"}),i.jsx(He,{children:i.jsx(he,{type:"email",...S})}),i.jsx(Ge,{})]})}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx("h3",{className:"text-lg font-medium mb-4",children:"Ubah Kata Sandi"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(Ke,{control:f.control,name:"currentPassword",render:({field:S})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Kata Sandi Saat Ini"}),i.jsx(He,{children:i.jsx(he,{type:"password",...S})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:f.control,name:"newPassword",render:({field:S})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Kata Sandi Baru"}),i.jsx(He,{children:i.jsx(he,{type:"password",...S})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:f.control,name:"confirmPassword",render:({field:S})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Konfirmasi Kata Sandi"}),i.jsx(He,{children:i.jsx(he,{type:"password",...S})}),i.jsx(Ge,{})]})})]})]}),i.jsx(z,{type:"submit",disabled:n,children:n?"Menyimpan...":"Simpan Perubahan"})]})})})]}),i.jsxs("div",{className:"space-y-8",children:[i.jsxs(Be,{children:[i.jsx(ct,{children:i.jsx(ut,{children:"Pengaturan Toko"})}),i.jsx(Ce,{children:i.jsx(ea,{...p,children:i.jsxs("form",{onSubmit:p.handleSubmit(x),className:"space-y-4",children:[i.jsx(Ke,{control:p.control,name:"storeName",render:({field:S})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Nama Toko"}),i.jsx(He,{children:i.jsx(he,{...S})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:p.control,name:"contactEmail",render:({field:S})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Email Kontak"}),i.jsx(He,{children:i.jsx(he,{type:"email",...S})}),i.jsx(Ge,{})]})}),i.jsx(Ke,{control:p.control,name:"currency",render:({field:S})=>i.jsxs(Qe,{children:[i.jsx(Le,{children:"Mata Uang"}),i.jsx(He,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...S,children:[i.jsx("option",{value:"IDR",children:"IDR (Rp)"}),i.jsx("option",{value:"USD",children:"USD ($)"}),i.jsx("option",{value:"EUR",children:"EUR ()"}),i.jsx("option",{value:"GBP",children:"GBP ()"})]})}),i.jsx(Ge,{})]})}),i.jsx(z,{type:"submit",disabled:s,children:s?"Menyimpan...":"Simpan Pengaturan Toko"})]})})})]}),i.jsxs(Be,{children:[i.jsx(ct,{children:i.jsx(ut,{children:"Pemeliharaan Database"})}),i.jsxs(Ce,{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Jalankan operasi pemeliharaan pada database Anda. Operasi ini dapat membantu meningkatkan kinerja dan integritas data."}),i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx(z,{variant:"outline",onClick:C,children:"Jalankan Vakum Database"}),i.jsx(z,{variant:"outline",onClick:E,children:"Bersihkan Log Lama"})]})]})]}),i.jsxs(Be,{children:[i.jsx(ct,{children:i.jsxs(ut,{className:"flex items-center gap-2",children:[i.jsx(Bk,{className:"h-5 w-5"}),i.jsx("span",{children:"Pengaturan Notifikasi"})]})}),i.jsx(Ce,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"pb-4 border-b",children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Izin Notifikasi Browser"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["Status izin: ",i.jsx("span",{className:`font-medium ${u==="granted"?"text-green-600":"text-orange-600"}`,children:u==="granted"?"Diizinkan":u==="denied"?"Ditolak (ubah di pengaturan browser)":"Belum diminta"})]}),u==="denied"&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-500 mt-1",children:[i.jsx(Ab,{className:"h-4 w-4"}),i.jsx("span",{children:"Anda telah menolak izin notifikasi. Harap ubah di pengaturan browser Anda."})]})]}),i.jsx(z,{variant:"outline",disabled:u==="denied"||l,onClick:B,children:l?"Mengizinkan...":"Izinkan Notifikasi"})]})]}),i.jsx(ea,{...g,children:i.jsxs("form",{onSubmit:g.handleSubmit(j),className:"space-y-4",children:[i.jsx(Ke,{control:g.control,name:"enableOrderNotifications",render:({field:S})=>i.jsxs(Qe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Le,{children:"Notifikasi Pesanan Baru"}),i.jsx(dx,{children:"Terima notifikasi saat ada pesanan baru dari pelanggan"})]}),i.jsx(He,{children:i.jsx(us,{checked:S.value,onCheckedChange:S.onChange,disabled:u!=="granted"})})]})}),i.jsx(Ke,{control:g.control,name:"enableChatNotifications",render:({field:S})=>i.jsxs(Qe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Le,{children:"Notifikasi Pesan Chat"}),i.jsx(dx,{children:"Terima notifikasi saat ada pesan baru dari pelanggan"})]}),i.jsx(He,{children:i.jsx(us,{checked:S.value,onCheckedChange:S.onChange,disabled:u!=="granted"})})]})}),i.jsx(Ke,{control:g.control,name:"enableSoundNotifications",render:({field:S})=>i.jsxs(Qe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Le,{children:"Notifikasi Suara"}),i.jsx(dx,{children:"Putar suara saat menerima notifikasi baru"})]}),i.jsx(He,{children:i.jsx(us,{checked:S.value,onCheckedChange:S.onChange})})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(z,{type:"submit",disabled:l||u!=="granted",children:l?"Menyimpan...":"Simpan Pengaturan"}),i.jsx(z,{type:"button",variant:"outline",onClick:N,disabled:u!=="granted",children:"Uji Notifikasi"})]})]})})]})})]}),i.jsxs(Be,{className:"mb-8",children:[i.jsx(ct,{children:i.jsxs(ut,{className:"flex items-center",children:[i.jsx(XA,{className:"mr-2 h-5 w-5"}),"Pengaturan Jam Kerja"]})}),i.jsx(Ce,{children:i.jsx("div",{className:"space-y-6",children:i.jsx(s6e,{})})})]}),i.jsxs(Be,{className:"mb-8",children:[i.jsx(ct,{children:i.jsx(ut,{children:"Test Notifikasi Real-time"})}),i.jsx(Ce,{children:i.jsx("div",{className:"space-y-6",children:i.jsx(n6e,{})})})]})]})]})]})}function u6e(){const[t,e]=v.useState([]),[r,n]=v.useState([]),[a,s]=v.useState(""),[o,l]=v.useState(!0),[c,u]=v.useState(0),{user:A}=Hr(),d=v.useRef(null),h=()=>{d.current&&d.current.unsubscribe();const m=Z.channel("public:messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},b=>{console.log("Pesan baru diterima:",b),b.new&&b.new.sender_id!==(A==null?void 0:A.id)&&(b.new.read===!1||b.new.read===null||b.new.read===void 0)&&(u(x=>x+1),me({title:"Pesan Baru Diterima",description:`Ada pesan baru dari pelanggan: ${b.new.content.substring(0,30)}${b.new.content.length>30?"...":""}`,variant:"default"}),new Audio("/notification.mp3").play().catch(x=>console.log("Error playing notification sound:",x))),f()}).subscribe();return d.current=m,()=>{m.unsubscribe()}};v.useEffect(()=>{if(A)return h()},[A]),v.useEffect(()=>{A&&f()},[A]);const f=async()=>{var m,b,y;try{l(!0);const{data:w,error:x}=await Z.from("profiles").select("*").eq("role","customer");if(x)throw x;const C=[];for(const B of w||[]){const{data:j,error:N}=await Z.from("profiles").select("*").eq("id",B.id).single();N&&console.error("Error fetching customer details:",N);const{data:S,error:k}=await Z.from("messages").select(`
            *,
            profiles:sender_id(name, email)
          `).or(`sender_id.eq.${B.id},receiver_id.eq.${B.id}`).order("created_at",{ascending:!1}),I=S?S.filter(W=>W.sender_id===B.id&&W.read===!1).length:0;I>0&&console.log(`${I} pesan belum dibaca dari pelanggan:`,B.name),k&&console.error("Error fetching messages for user:",k);const T=`admin_chat_${B.id}`,O=localStorage.getItem(T);let U="",H="",R=null,D=null;if(O)try{const W=JSON.parse(O);W.length>0&&(R=W[W.length-1])}catch(W){console.error("Error parsing stored messages",W)}if(S&&S.length>0){const W=S[0],re=((m=W.profiles)==null?void 0:m.name)||B.name;D={content:W.content,timestamp:W.created_at,sender_id:W.sender_id,senderName:re},console.log(`${S.length} pesan ditemukan untuk pelanggan:`,B.name),S.forEach((le,ne)=>{console.log(`Pesan #${ne+1}:`,{content:le.content,timestamp:new Date(le.created_at).toLocaleString("id-ID"),isFromCustomer:le.sender_id===B.id})})}let M=!1;if(R&&D){const W=new Date(R.timestamp).getTime(),re=new Date(D.timestamp).getTime();W>re?(U=R.content,H=R.timestamp,M=R.sender!=="admin"):(U=D.content,H=D.timestamp,M=D.sender_id===B.id)}else R?(U=R.content,H=R.timestamp,M=R.sender!=="admin"):D&&(U=D.content,H=D.timestamp,M=D.sender_id===B.id);let Q,L="",K="",G=!1,q=null;if(S&&S.length>0){console.log(`Semua pesan untuk ${B.name}:`,S.length,"pesan ditemukan");const W=S.filter(le=>le.sender_id===B.id&&(le.read===!1||le.read===null||le.read===void 0));W.length>0&&(console.log("Pesan belum dibaca ditemukan:",W.length,"pesan"),console.log("Sample pesan belum dibaca:",W[0]));const re=S.filter(le=>le.sender_id===B.id);if(re.length>0&&console.log(`Pesan dari pelanggan ${B.name}:`,re.length,"pesan"),W.length>0)q=W[0],Q=((b=q.profiles)==null?void 0:b.name)||(j==null?void 0:j.name)||B.name||B.email||"Pelanggan",L=q.content,K=q.id,G=!0,M=!0;else if(re.length>0)q=re[0],Q=((y=q.profiles)==null?void 0:y.name)||(j==null?void 0:j.name)||B.name||B.email||"Pelanggan",L=q.content,K=q.id,G=!1,M=!0;else{const le=S[0];Q="Admin",L=le.content,K=le.id,G=!1,M=!1}}else{if(j){console.log("Detail customer ditemukan:",j),Q=j.name||B.name||B.email||"Pelanggan";const{data:W}=await Z.from("messages").select("content, created_at").eq("sender_id",B.id).order("created_at",{ascending:!1}).limit(1);W&&W.length>0?(L=W[0].content,console.log("Pesan terbaru ditemukan:",L)):L=j.last_seen?`Terakhir aktif: ${new Date(j.last_seen).toLocaleString("id-ID")}`:"Belum ada riwayat pesan"}else Q=B.name||B.email||"Pelanggan",L="Pelanggan baru mendaftar";M=!0,G=!1}C.push({id:B.id,name:B.name||B.email||"Pelanggan Tidak Dikenal",lastMessage:L||U,lastTimestamp:H,unread:G,messageId:K,isFromCustomer:M,senderName:Q})}let E=0;for(const B of C)if(B.lastTimestamp&&B.isFromCustomer){const j=new Date(B.lastTimestamp).getTime();E=Math.max(E,j)}console.log("Timestamp pesan terbaru dari pelanggan:",new Date(E).toLocaleString("id-ID"));for(const B of C)if(B.lastTimestamp&&B.isFromCustomer){const j=new Date(B.lastTimestamp).getTime();j===E&&(B.isLatestCustomerMessage=!0,console.log("Pelanggan dengan pesan terbaru:",B.name,"pada",new Date(j).toLocaleString("id-ID")))}C.sort((B,j)=>{if(B.isLatestCustomerMessage&&!j.isLatestCustomerMessage)return-1;if(!B.isLatestCustomerMessage&&j.isLatestCustomerMessage)return 1;if(!B.lastTimestamp&&!j.lastTimestamp)return B.isFromCustomer&&!j.isFromCustomer?-1:!B.isFromCustomer&&j.isFromCustomer?1:0;if(!B.lastTimestamp)return 1;if(!j.lastTimestamp)return-1;const N=new Date(B.lastTimestamp).getTime(),S=new Date(j.lastTimestamp).getTime();return N!==S?S-N:B.isFromCustomer&&!j.isFromCustomer?-1:!B.isFromCustomer&&j.isFromCustomer?1:B.unread&&!j.unread?-1:!B.unread&&j.unread?1:B.name.localeCompare(j.name)}),console.log("Daftar chat yang sudah diurutkan:",C.map(B=>({name:B.name,timestamp:B.lastTimestamp?new Date(B.lastTimestamp).toLocaleString("id-ID"):"tidak ada",isFromCustomer:B.isFromCustomer,unread:B.unread}))),e(C)}catch(w){console.error("Error fetching chat users:",w)}finally{l(!1)}},p=async m=>{if(m.unread&&m.messageId){console.log("Menandai pesan sebagai sudah dibaca:",m.messageId);try{const{error:b}=await Z.from("messages").update({read:!0}).eq("id",m.messageId);if(b)throw b;u(y=>Math.max(0,y-1)),f(),console.log("Pesan berhasil ditandai sebagai dibaca")}catch(b){console.error("Error menandai pesan sebagai dibaca:",b),console.log("Mencoba fallback untuk database lama..."),me({title:"Perhatian",description:"Perlu update skema database untuk fitur 'sudah dibaca'",variant:"default"})}}};v.useEffect(()=>{const m=a?t.filter(b=>b.name.toLowerCase().includes(a.toLowerCase())):t;n(m)},[a,t,c]);const g=m=>{if(!m)return"";const b=new Date(m),w=new Date().getTime()-b.getTime(),x=60*1e3,C=60*x,E=24*C,B=7*E,j=30*E;return w<x?"Baru saja":w<C?`${Math.floor(w/x)} menit yang lalu`:w<E?`${Math.floor(w/C)} jam yang lalu`:w<B?`${Math.floor(w/E)} hari yang lalu`:w<j?`${Math.floor(w/B)} minggu yang lalu`:b.toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})};return i.jsx(On,{children:i.jsx("div",{className:"p-4 max-w-4xl mx-auto",children:i.jsxs(Be,{children:[i.jsx(ct,{children:i.jsx("div",{className:"flex justify-between items-center",children:i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ut,{children:"Obrolan Pelanggan"}),c>0&&i.jsxs("div",{className:"bg-orange-500 text-white px-2 py-1 rounded-full text-xs font-bold flex items-center animate-pulse",children:[i.jsx(Bk,{className:"h-3 w-3 mr-1"}),c," baru"]})]}),i.jsx(cr,{children:"Kelola percakapan dukungan pelanggan secara realtime"})]})})}),i.jsxs(Ce,{children:[i.jsxs("div",{className:"relative mb-6",children:[i.jsx(Ul,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),i.jsx(he,{placeholder:"Cari pelanggan...",className:"pl-10",value:a,onChange:m=>s(m.target.value)})]}),i.jsxs("div",{className:"space-y-1",children:[c>0&&i.jsx(z,{variant:"ghost",onClick:async()=>{try{const{data:m,error:b}=await Z.from("messages").select("id").eq("receiver_id",A==null?void 0:A.id).is("read",null);if(b)throw b;const{error:y}=await Z.from("messages").update({read:!0}).eq("read",!1).eq("receiver_id",A==null?void 0:A.id);if(y)throw y;if(m&&m.length>0){const{error:w}=await Z.from("messages").update({read:!0}).is("read",null).eq("receiver_id",A==null?void 0:A.id);if(w)throw w}u(0),f(),me({title:"Berhasil",description:"Semua pesan telah ditandai sebagai dibaca",variant:"default"})}catch(m){console.error("Error menandai semua pesan sebagai dibaca:",m),me({title:"Error",description:"Gagal menandai pesan sebagai dibaca",variant:"destructive"})}},className:"w-full text-center text-sm text-flame-500 hover:bg-orange-50 mb-2",children:"Tandai semua sebagai telah dibaca"}),o?i.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Memuat obrolan pelanggan..."}):r.length===0?i.jsx("p",{className:"text-center text-muted-foreground py-4",children:a?"Tidak ada pelanggan yang sesuai dengan pencarian":"Belum ada obrolan pelanggan"}):r.map(m=>i.jsx(mt,{to:`/admin/chat/${m.id}`,className:"block",onClick:()=>p(m),children:i.jsx(z,{variant:m.isFromCustomer?"default":"ghost",className:`w-full justify-start px-3 py-6 h-auto ${m.isFromCustomer?"bg-orange-100 border-2 border-orange-400 shadow-md hover:bg-orange-200":"hover:bg-gray-100"}`,children:i.jsxs("div",{className:"flex items-center w-full",children:[i.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center mr-3 shrink-0 ${m.isFromCustomer?"bg-orange-400":"bg-charcoal-100"}`,children:i.jsx(YA,{className:`h-5 w-5 ${m.isFromCustomer?"text-white":"text-charcoal-500"}`})}),i.jsxs("div",{className:"flex-grow min-w-0",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:`truncate ${m.isFromCustomer?"font-bold text-orange-600":"font-medium"}`,children:m.name}),m.lastTimestamp&&i.jsx("span",{className:"text-xs text-muted-foreground ml-2 shrink-0",children:g(m.lastTimestamp)})]}),i.jsx("div",{className:"flex items-center",children:i.jsxs("div",{className:"flex items-center",children:[m.unread&&i.jsx("div",{className:"flex items-center bg-orange-500 text-white text-xs px-2 py-0.5 rounded-full mr-2 animate-pulse shadow-md",children:i.jsx("span",{children:"BARU"})}),i.jsx("p",{className:`text-sm truncate ${m.isFromCustomer?"text-orange-700 font-semibold":"text-muted-foreground"}`,children:i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"font-semibold",children:m.senderName||(m.isFromCustomer?m.name:"Admin")}),": ",m.lastMessage||"Memuat data pesan..."]})})]})})]})]})})},m.id))]})]})]})})})}function A6e(){const{customerId:t}=Qp(),e=Rt(),{user:r,profile:n}=Hr(),[a,s]=v.useState(""),[o,l]=v.useState(!0);return v.useEffect(()=>{(async()=>{if(!t){e("/admin/chats");return}try{l(!0);const{data:u,error:A}=await Z.from("profiles").select("name, email").eq("id",t).single();if(A)throw A;s(u.name||u.email||"Pelanggan")}catch(u){console.error("Error fetching customer info:",u),e("/admin/chats")}finally{l(!1)}})()},[t,e]),!r||!n||n.role!=="admin"?i.jsx(On,{children:i.jsx("div",{className:"flex items-center justify-center h-80",children:i.jsx("p",{className:"text-muted-foreground",children:"Akses tidak diizinkan"})})}):o||!t?i.jsx(On,{children:i.jsx("div",{className:"flex items-center justify-center h-80",children:i.jsx(er,{className:"animate-spin h-8 w-8 text-flame-500"})})}):i.jsx(On,{children:i.jsx("div",{className:"h-[calc(100vh-64px)]",children:i.jsx(LW,{chatPartnerId:t,chatPartnerName:a,isAdmin:!0})})})}var DZ="AlertDialog",[d6e,sHe]=Ea(DZ,[Cq]),bo=Cq(),OZ=t=>{const{__scopeAlertDialog:e,...r}=t,n=bo(e);return i.jsx(nI,{...n,...r,modal:!0})};OZ.displayName=DZ;var h6e="AlertDialogTrigger",RZ=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=bo(r);return i.jsx(aI,{...a,...n,ref:e})});RZ.displayName=h6e;var f6e="AlertDialogPortal",UZ=t=>{const{__scopeAlertDialog:e,...r}=t,n=bo(e);return i.jsx(sI,{...n,...r})};UZ.displayName=f6e;var m6e="AlertDialogOverlay",MZ=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=bo(r);return i.jsx(Yp,{...a,...n,ref:e})});MZ.displayName=m6e;var OA="AlertDialogContent",[p6e,g6e]=d6e(OA),QZ=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...a}=t,s=bo(r),o=v.useRef(null),l=bt(e,o),c=v.useRef(null);return i.jsx(jge,{contentName:OA,titleName:LZ,docsSlug:"alert-dialog",children:i.jsx(p6e,{scope:r,cancelRef:c,children:i.jsxs(Jp,{role:"alertdialog",...s,...a,ref:l,onOpenAutoFocus:Oe(a.onOpenAutoFocus,u=>{var A;u.preventDefault(),(A=c.current)==null||A.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(yk,{children:n}),i.jsx(v6e,{contentRef:o})]})})})});QZ.displayName=OA;var LZ="AlertDialogTitle",HZ=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=bo(r);return i.jsx(Zp,{...a,...n,ref:e})});HZ.displayName=LZ;var $Z="AlertDialogDescription",VZ=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=bo(r);return i.jsx(eg,{...a,...n,ref:e})});VZ.displayName=$Z;var x6e="AlertDialogAction",KZ=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=bo(r);return i.jsx(ew,{...a,...n,ref:e})});KZ.displayName=x6e;var qZ="AlertDialogCancel",zZ=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:a}=g6e(qZ,r),s=bo(r),o=bt(e,a);return i.jsx(ew,{...s,...n,ref:o})});zZ.displayName=qZ;var v6e=({contentRef:t})=>{const e=`\`${OA}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${OA}\` by passing a \`${$Z}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${OA}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},y6e=OZ,b6e=RZ,w6e=UZ,GZ=MZ,WZ=QZ,XZ=KZ,YZ=zZ,JZ=HZ,ZZ=VZ;const _6e=y6e,B6e=b6e,C6e=w6e,eee=v.forwardRef(({className:t,...e},r)=>i.jsx(GZ,{className:fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));eee.displayName=GZ.displayName;const tee=v.forwardRef(({className:t,...e},r)=>i.jsxs(C6e,{children:[i.jsx(eee,{}),i.jsx(WZ,{ref:r,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));tee.displayName=WZ.displayName;const ree=({className:t,...e})=>i.jsx("div",{className:fe("flex flex-col space-y-2 text-center sm:text-left",t),...e});ree.displayName="AlertDialogHeader";const nee=({className:t,...e})=>i.jsx("div",{className:fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});nee.displayName="AlertDialogFooter";const aee=v.forwardRef(({className:t,...e},r)=>i.jsx(JZ,{ref:r,className:fe("text-lg font-semibold",t),...e}));aee.displayName=JZ.displayName;const see=v.forwardRef(({className:t,...e},r)=>i.jsx(ZZ,{ref:r,className:fe("text-sm text-muted-foreground",t),...e}));see.displayName=ZZ.displayName;const iee=v.forwardRef(({className:t,...e},r)=>i.jsx(XZ,{ref:r,className:fe(bb(),t),...e}));iee.displayName=XZ.displayName;const oee=v.forwardRef(({className:t,...e},r)=>i.jsx(YZ,{ref:r,className:fe(bb({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));oee.displayName=YZ.displayName;const j6e=async()=>{try{console.log("Mulai menambahkan voucher awal...");const{data:t,error:e}=await Z.from("vouchers").select("id").limit(1);e&&await lee();const r=[{code:"WELCOME10",discount_type:"percentage",discount_value:10,min_purchase:1e5,max_discount:5e4,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+3)).toISOString(),usage_limit:100,usage_count:0,is_active:!0,description:"Diskon 10% untuk pelanggan baru dengan minimum pembelian Rp 100.000"},{code:"LIBURAN25",discount_type:"percentage",discount_value:25,min_purchase:2e5,max_discount:1e5,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString(),usage_limit:50,usage_count:0,is_active:!0,description:"Diskon liburan 25% dengan minimum pembelian Rp 200.000"},{code:"HEMAT50K",discount_type:"fixed",discount_value:5e4,min_purchase:25e4,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+2)).toISOString(),usage_limit:30,usage_count:0,is_active:!0,description:"Potongan langsung Rp 50.000 dengan minimum pembelian Rp 250.000"}];for(const n of r){const{data:a}=await Z.from("vouchers").select("id").eq("code",n.code).maybeSingle();if(a)console.log(`Voucher ${n.code} sudah ada, melewati...`);else{const{data:s,error:o}=await Z.from("vouchers").insert([n]);o?console.error(`Gagal menambahkan voucher ${n.code}:`,o):console.log(`Berhasil menambahkan voucher ${n.code}`)}}console.log("Selesai menambahkan voucher awal")}catch(t){console.error("Gagal menambahkan voucher awal:",t)}},lee=async()=>{try{console.log("Membuat tabel vouchers dengan metode sederhana...");const{error:t}=await Z.from("vouchers").insert({id:pn(),code:"WELCOME10",discount_type:"percentage",discount_value:10,min_purchase:1e5,max_discount:5e4,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+3)).toISOString(),usage_limit:100,usage_count:0,is_active:!0,created_at:new Date().toISOString(),description:"Diskon 10% untuk pelanggan baru dengan minimum pembelian Rp 100.000"});if(t){console.error("Gagal membuat tabel dengan insert langsung:",t),console.log("Mencoba membuat tabel dengan metode REST API...");const n="https://vpztrjwitxvldrdhndlr.supabase.co/rest/v1/rpc/create_vouchers_table",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZwenRyandpdHh2bGRyZGhuZGxyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4MTE3NzIsImV4cCI6MjA2MzM4Nzc3Mn0._NFTwCpQGgMThUeh1sew8y5ulRXSGmwHLmXRQx544PM",s=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json",apikey:a,Authorization:`Bearer ${a}`}});s.ok?console.log("Tabel berhasil dibuat dengan metode REST API"):(console.error("REST API call failed:",await s.text()),console.log("Metode REST API gagal, mencoba metode terakhir - disable RLS dan insert"),await E6e())}else console.log("Berhasil menambahkan voucher pertama, tabel telah dibuat atau sudah ada");const{data:e,error:r}=await Z.from("vouchers").select("id").limit(1);r?console.error("Tabel masih belum dapat diakses:",r):console.log("Tabel vouchers berhasil dibuat dan dapat diakses",e)}catch(t){console.error("Gagal membuat tabel vouchers:",t)}},E6e=async()=>{try{console.log("Mencoba membuat voucher dengan login admin...");const{error:t}=await Z.from("vouchers").insert({id:pn(),code:"SIMPLETEST",discount_type:"fixed",discount_value:2e4,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString(),is_active:!0,created_at:new Date().toISOString(),description:"Voucher test sistem"});t?(console.error("Gagal dengan semua metode:",t),console.log("Solusi: Hubungi admin database untuk membuat tabel vouchers secara manual")):console.log("Berhasil membuat voucher dengan metode terakhir")}catch(t){console.error("Error pada metode terakhir:",t)}},S6e=async()=>{try{console.log("Mengecek keberadaan tabel vouchers...");const{data:t,error:e}=await Z.from("vouchers").select("count(*)",{count:"exact",head:!0});if(e){if(e.code==="PGRST116"||e.message&&e.message.includes("relation")&&e.message.includes("does not exist")){console.log("Tabel vouchers belum ada, mencoba membuat tabel..."),await lee();const r=await Z.from("vouchers").select("count(*)",{count:"exact",head:!0});return r.error?(console.error("Gagal membuat tabel vouchers:",r.error),!1):(console.log("Tabel vouchers berhasil dibuat!"),!0)}return console.error("Error saat mengecek tabel vouchers:",e),!1}return console.log("Tabel vouchers ditemukan"),!0}catch(t){return console.error("Gagal mengecek tabel vouchers:",t),!1}};function N6e(){const{toast:t}=$s(),[e,r]=v.useState([]),[n,a]=v.useState(!0),[s,o]=v.useState(""),[l,c]=v.useState(!1),[u,A]=v.useState(!1),[d,h]=v.useState(!0),[f,p]=v.useState({code:"",discount_type:"percentage",discount_value:0,min_purchase:void 0,max_discount:void 0,start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],usage_limit:void 0,is_active:!0,description:""}),[g,m]=v.useState(!1),[b,y]=v.useState(!1),[w,x]=v.useState(null);v.useEffect(()=>{E(),C()},[s,l]);const C=async()=>{const D=await S6e();h(D)},E=async()=>{a(!0);try{const{data:D,error:M}=await $o.getVouchers(100,0,{search:s||void 0,is_active:l?!0:void 0});if(M)throw M;r(D||[])}catch(D){console.error("Error fetching vouchers:",D),h(!1),t({title:"Gagal Memuat Data",description:"Terjadi kesalahan saat memuat daftar voucher",variant:"destructive"})}finally{a(!1)}},B=D=>{const{name:M,value:Q,type:L}=D.target;p(L==="number"?{...f,[M]:Q===""?void 0:parseFloat(Q)}:{...f,[M]:Q})},j=(D,M)=>{p({...f,[D]:M})},N=(D,M)=>{p({...f,[D]:M})},S=()=>{I(),m(!1),y(!0)},k=D=>{p({...D,start_date:new Date(D.start_date).toISOString().split("T")[0],end_date:new Date(D.end_date).toISOString().split("T")[0]}),m(!0),y(!0)},I=()=>{p({code:"",discount_type:"percentage",discount_value:0,min_purchase:void 0,max_discount:void 0,start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],usage_limit:void 0,is_active:!0,description:""})},T=async D=>{D.preventDefault();try{if(g&&f.id){const{data:M,error:Q}=await $o.updateVoucher(f.id,f);if(Q)throw Q;t({title:"Voucher Diperbarui",description:`Voucher dengan kode ${f.code} berhasil diperbarui`,variant:"default"})}else{const{data:M,error:Q}=await $o.addVoucher(f);if(Q)throw Q;t({title:"Voucher Ditambahkan",description:`Voucher baru dengan kode ${f.code} berhasil ditambahkan`,variant:"default"})}y(!1),E()}catch(M){console.error("Error saving voucher:",M),t({title:"Gagal Menyimpan",description:M.message||"Terjadi kesalahan saat menyimpan voucher",variant:"destructive"})}},O=async()=>{if(w)try{const{error:D}=await $o.deleteVoucher(w);if(D)throw D;t({title:"Voucher Dihapus",description:"Voucher berhasil dihapus dari sistem",variant:"default"}),E(),x(null)}catch(D){console.error("Error deleting voucher:",D),t({title:"Gagal Menghapus",description:D.message||"Terjadi kesalahan saat menghapus voucher",variant:"destructive"})}},U=async(D,M)=>{try{const{error:Q}=await $o.toggleVoucherStatus(D,!M);if(Q)throw Q;t({title:`Voucher ${M?"Dinonaktifkan":"Diaktifkan"}`,description:`Status voucher berhasil diubah menjadi ${M?"tidak aktif":"aktif"}`,variant:"default"}),E()}catch(Q){console.error("Error toggling voucher status:",Q),t({title:"Gagal Mengubah Status",description:Q.message||"Terjadi kesalahan saat mengubah status voucher",variant:"destructive"})}},H=D=>{if(!D.is_active)return i.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-800 rounded-full",children:"Tidak Aktif"});const M=new Date,Q=new Date(D.start_date),L=new Date(D.end_date);return M<Q?i.jsx("span",{className:"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full",children:"Belum Mulai"}):M>L?i.jsx("span",{className:"px-2 py-1 text-xs bg-red-100 text-red-800 rounded-full",children:"Kadaluarsa"}):D.usage_limit&&D.usage_count>=D.usage_limit?i.jsx("span",{className:"px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Habis"}):i.jsx("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:"Aktif"})},R=async()=>{A(!0);try{await j6e(),t({title:"Berhasil",description:"Data voucher contoh berhasil ditambahkan ke database",variant:"default"}),E(),C()}catch(D){console.error("Error initializing data:",D),t({title:"Gagal Menginisialisasi Data",description:"Terjadi kesalahan saat menambahkan data contoh",variant:"destructive"})}finally{A(!1)}};return i.jsx(On,{children:i.jsxs("div",{className:"container mx-auto py-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Manajemen Voucher"}),i.jsxs("div",{className:"flex gap-2",children:[!d&&i.jsxs(z,{onClick:R,disabled:u,variant:"outline",children:[i.jsx(YH,{className:"mr-2 h-4 w-4"}),u?"Menginisialisasi...":"Inisialisasi Data"]}),i.jsxs(vr,{open:b,onOpenChange:y,children:[i.jsx(ny,{asChild:!0,children:i.jsxs(z,{onClick:S,children:[i.jsx(Yte,{className:"mr-2 h-4 w-4"}),"Tambah Voucher"]})}),i.jsxs(hr,{className:"sm:max-w-[550px]",children:[i.jsxs(Cr,{children:[i.jsx(jr,{children:g?"Edit Voucher":"Tambah Voucher Baru"}),i.jsx(Rn,{children:g?"Perbarui informasi voucher yang sudah ada":"Isi formulir berikut untuk menambahkan voucher baru"})]}),i.jsxs("form",{onSubmit:T,children:[i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"code",className:"text-right",children:"Kode Voucher*"}),i.jsx(he,{id:"code",name:"code",value:f.code,onChange:B,className:"col-span-3",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"discount_type",className:"text-right",children:"Tipe Diskon*"}),i.jsxs(In,{name:"discount_type",value:f.discount_type,onValueChange:D=>j("discount_type",D),children:[i.jsx(gn,{className:"col-span-3",children:i.jsx(Pn,{placeholder:"Pilih tipe diskon"})}),i.jsxs(xn,{children:[i.jsx(yt,{value:"percentage",children:"Persentase (%)"}),i.jsx(yt,{value:"fixed",children:"Nominal Tetap (Rp)"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"discount_value",className:"text-right",children:"Nilai Diskon*"}),i.jsxs("div",{className:"col-span-3 flex items-center",children:[i.jsx(he,{id:"discount_value",name:"discount_value",type:"number",min:0,value:f.discount_value||"",onChange:B,required:!0}),i.jsx("span",{className:"ml-2",children:f.discount_type==="percentage"?"%":"Rupiah"})]})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"min_purchase",className:"text-right",children:"Min. Pembelian"}),i.jsx(he,{id:"min_purchase",name:"min_purchase",type:"number",min:0,value:f.min_purchase||"",onChange:B,className:"col-span-3",placeholder:"Opsional"})]}),f.discount_type==="percentage"&&i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"max_discount",className:"text-right",children:"Maks. Diskon"}),i.jsx(he,{id:"max_discount",name:"max_discount",type:"number",min:0,value:f.max_discount||"",onChange:B,className:"col-span-3",placeholder:"Opsional"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"start_date",className:"text-right",children:"Tanggal Mulai*"}),i.jsx(he,{id:"start_date",name:"start_date",type:"date",value:f.start_date,onChange:B,className:"col-span-3",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"end_date",className:"text-right",children:"Tanggal Berakhir*"}),i.jsx(he,{id:"end_date",name:"end_date",type:"date",value:f.end_date,onChange:B,className:"col-span-3",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"usage_limit",className:"text-right",children:"Batas Penggunaan"}),i.jsx(he,{id:"usage_limit",name:"usage_limit",type:"number",min:0,value:f.usage_limit||"",onChange:B,className:"col-span-3",placeholder:"Opsional"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"description",className:"text-right",children:"Deskripsi"}),i.jsx(he,{id:"description",name:"description",value:f.description||"",onChange:B,className:"col-span-3",placeholder:"Opsional"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"is_active",className:"text-right",children:"Status Aktif"}),i.jsxs("div",{className:"flex items-center space-x-2 col-span-3",children:[i.jsx(us,{id:"is_active",checked:f.is_active,onCheckedChange:D=>N("is_active",D)}),i.jsx(Te,{htmlFor:"is_active",children:f.is_active?"Aktif":"Tidak Aktif"})]})]})]}),i.jsxs(yn,{children:[i.jsx(z,{type:"button",variant:"outline",onClick:()=>y(!1),children:"Batal"}),i.jsx(z,{type:"submit",children:g?"Perbarui Voucher":"Tambah Voucher"})]})]})]})]})]})]}),i.jsxs(Be,{children:[i.jsxs(ct,{children:[i.jsxs(ut,{className:"flex items-center",children:[i.jsx(yre,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:"Daftar Voucher"})]}),i.jsx(cr,{children:"Kelola voucher diskon untuk pelanggan"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Ul,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),i.jsx(he,{placeholder:"Cari kode atau deskripsi voucher...",className:"pl-8",value:s,onChange:D=>o(D.target.value)})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(us,{id:"active-filter",checked:l,onCheckedChange:c}),i.jsx(Te,{htmlFor:"active-filter",children:"Hanya Tampilkan Voucher Aktif"})]})]})]}),i.jsx(Ce,{children:n?i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-flame-500"})}):e.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[i.jsx(Zf,{className:"h-12 w-12 text-gray-400 mb-2"}),i.jsx("h3",{className:"text-lg font-medium",children:"Tidak Ada Voucher"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1 max-w-md",children:s||l?"Tidak ada voucher yang sesuai dengan filter yang dipilih":"Belum ada voucher yang ditambahkan. Klik tombol 'Tambah Voucher' untuk mulai membuat voucher"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(Gn,{children:[i.jsx(Wn,{children:i.jsxs(vt,{children:[i.jsx(Ie,{className:"w-[120px]",children:"Kode"}),i.jsx(Ie,{children:"Diskon"}),i.jsx(Ie,{children:"Periode"}),i.jsx(Ie,{children:"Batasan"}),i.jsx(Ie,{className:"text-center",children:"Status"}),i.jsx(Ie,{className:"text-center",children:"Penggunaan"}),i.jsx(Ie,{className:"text-right",children:"Aksi"})]})}),i.jsx(Xn,{children:e.map(D=>i.jsxs(vt,{children:[i.jsxs(_e,{className:"font-medium",children:[D.code,D.description&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:D.description})]}),i.jsxs(_e,{children:[D.discount_type==="percentage"?`${D.discount_value}%`:ye(D.discount_value),D.discount_type==="percentage"&&D.max_discount&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maks: ",ye(D.max_discount)]})]}),i.jsx(_e,{children:i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{children:vn(new Date(D.start_date),"dd/MM/yyyy")}),i.jsx("span",{children:" - "}),i.jsx("span",{children:vn(new Date(D.end_date),"dd/MM/yyyy")})]})}),i.jsxs(_e,{children:[D.min_purchase&&i.jsxs("div",{className:"text-sm",children:["Min: ",ye(D.min_purchase)]}),D.usage_limit&&i.jsxs("div",{className:"text-sm",children:["Maks: ",D.usage_limit," kali"]}),!D.min_purchase&&!D.usage_limit&&i.jsx("span",{className:"text-sm text-gray-500",children:"-"})]}),i.jsx(_e,{className:"text-center",children:H(D)}),i.jsxs(_e,{className:"text-center",children:[D.usage_count||0,D.usage_limit&&i.jsxs("span",{children:[" / ",D.usage_limit]})]}),i.jsx(_e,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end items-center space-x-2",children:[i.jsx(z,{variant:"outline",size:"sm",onClick:()=>U(D.id,D.is_active),children:D.is_active?"Nonaktifkan":"Aktifkan"}),i.jsx(z,{variant:"outline",size:"icon",onClick:()=>k(D),children:i.jsx(Fp,{className:"h-4 w-4"})}),i.jsxs(_6e,{children:[i.jsx(B6e,{asChild:!0,children:i.jsx(z,{variant:"outline",size:"icon",className:"text-red-500 border-red-200 hover:bg-red-50",onClick:()=>x(D.id),children:i.jsx(s$,{className:"h-4 w-4"})})}),i.jsxs(tee,{children:[i.jsxs(ree,{children:[i.jsx(aee,{children:"Hapus Voucher"}),i.jsxs(see,{children:["Apakah Anda yakin ingin menghapus voucher dengan kode ",i.jsx("strong",{children:D.code}),"? Tindakan ini tidak dapat dibatalkan."]})]}),i.jsxs(nee,{children:[i.jsx(oee,{onClick:()=>x(null),children:"Batal"}),i.jsx(iee,{onClick:O,className:"bg-red-500 hover:bg-red-600",children:"Hapus"})]})]})]})]})})]},D.id))})]})})})]})]})})}class BL{static async getRecipients(e){let r=Z.from("profiles").select("id, phone, name");if(e.recipientType==="selected"&&e.selectedIds&&e.selectedIds.length>0)r=r.in("id",e.selectedIds);else if(e.recipientType==="filtered"&&e.filterOptions){const{lastOrderDays:s,minOrderCount:o,minTotalSpent:l,lastActive:c}=e.filterOptions;if(c){const u=new Date;u.setDate(u.getDate()-c),r=r.gte("last_seen",u.toISOString())}}r=r.not("phone","is",null);const{data:n,error:a}=await r;return a?(console.error("Error fetching recipients:",a),[]):n.map(s=>({id:s.id,phone:s.phone,name:s.name}))}static async sendBroadcast(e){try{const r=await this.getRecipients(e);if(r.length===0)return{success:!1,totalRecipients:0,sentCount:0,failedCount:0};console.log(`Preparing to send broadcast to ${r.length} recipients`);const{data:n,error:a}=await Z.from("broadcasts").insert({message_template:e.message,recipient_count:r.length,recipient_type:e.recipientType,scheduled_time:e.scheduleTime?e.scheduleTime.toISOString():null,created_at:new Date().toISOString(),status:e.scheduleTime?"scheduled":"sending"}).select().single();if(a)return console.error("Error creating broadcast record:",a),{success:!1,totalRecipients:r.length,sentCount:0,failedCount:r.length};const s=n.id;if(e.scheduleTime&&e.scheduleTime>new Date)return await this.saveBroadcastRecipients(s,r),{success:!0,totalRecipients:r.length,sentCount:0,failedCount:0,broadcastId:s};const o=await this.sendMessagesToRecipients(s,r,e);return{success:o.failedCount<r.length,totalRecipients:r.length,sentCount:o.sentCount,failedCount:o.failedCount,failedRecipients:o.failedRecipients,broadcastId:s}}catch(r){return console.error("Error in sendBroadcast:",r),{success:!1,totalRecipients:0,sentCount:0,failedCount:0}}}static async saveBroadcastRecipients(e,r){const n=r.map(s=>({broadcast_id:e,user_id:s.id,phone:s.phone,name:s.name||null,status:"pending",created_at:new Date().toISOString()})),{error:a}=await Z.from("broadcast_recipients").insert(n);a&&console.error("Error saving broadcast recipients:",a)}static async sendMessagesToRecipients(e,r,n){let a=0,s=0;const o=[],l=5,c=[];for(let u=0;u<r.length;u+=l)c.push(r.slice(u,u+l));for(let u of c){const A=u.map(async d=>{try{let h=n.message;n.includeName&&d.name?h=h.replace("{name}",d.name):h=h.replace("{name}","Pelanggan");const f=await Gp(d.phone,h);return await this.recordMessageSent(e,d.id,f?"sent":"failed"),f?(a++,{success:!0,recipient:d}):(s++,o.push({id:d.id,phone:d.phone,error:"Failed to send"}),{success:!1,recipient:d,error:"Failed to send"})}catch(h){return s++,o.push({id:d.id,phone:d.phone,error:String(h)}),await this.recordMessageSent(e,d.id,"failed",String(h)),{success:!1,recipient:d,error:h}}});await Promise.all(A),c.indexOf(u)<c.length-1&&await new Promise(d=>setTimeout(d,2e3))}return await Z.from("broadcasts").update({sent_count:a,failed_count:s,status:"completed",completed_at:new Date().toISOString()}).eq("id",e),{sentCount:a,failedCount:s,failedRecipients:o}}static async recordMessageSent(e,r,n,a){try{await Z.from("broadcast_messages").insert({broadcast_id:e,user_id:r,status:n,error:a||null,sent_at:n==="sent"?new Date().toISOString():null,created_at:new Date().toISOString()})}catch(s){console.error("Error recording message status:",s)}}static async getBroadcastHistory(e=20,r=1){const{data:n,error:a}=await Z.from("broadcasts").select("*").order("created_at",{ascending:!1}).range((r-1)*e,r*e-1);return a?(console.error("Error fetching broadcast history:",a),[]):n}static async getBroadcastDetails(e){const{data:r,error:n}=await Z.from("broadcasts").select(`
        *,
        broadcast_messages:broadcast_messages(
          user_id,
          status,
          sent_at,
          error
        )
      `).eq("id",e).single();return n?(console.error("Error fetching broadcast details:",n),null):r}}function k6e(){const[t,e]=v.useState("new"),[r,n]=v.useState([]),[a,s]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState([]),[A,d]=v.useState(1),[h,f]=v.useState("all"),[p,g]=v.useState([]),[m,b]=v.useState(""),[y,w]=v.useState(!0),[x,C]=v.useState(!1),[E,B]=v.useState(""),[j,N]=v.useState(""),[S,k]=v.useState(void 0),[I,T]=v.useState(void 0),[O,U]=v.useState(void 0),H=[{name:"Diskon",content:`Halo {name},

JPC Apps memberikan DISKON SPESIAL 20% untuk semua produk arang premium kami hingga akhir bulan ini!

Kunjungi website kami sekarang untuk melihat koleksi terbaik kami.

Salam,
Tim JPC Apps`},{name:"Produk Baru",content:`Halo {name},

Kabar gembira! JPC Apps baru saja meluncurkan produk arang premium terbaru dengan kualitas terbaik dan harga kompetitif.

Kunjungi website kami untuk menjadi yang pertama mencobanya!

Salam,
Tim JPC Apps`},{name:"Pengingat",content:`Halo {name},

Sudah lama tidak melihat Anda berbelanja di JPC Apps. Kami merindukan Anda!

Dapatkan DISKON 10% untuk pembelian berikutnya dengan menggunakan kode: COMEBACK10

Salam,
Tim JPC Apps`}];v.useEffect(()=>{t==="new"?R():t==="history"&&D()},[t,A]);const R=async()=>{s(!0);try{const{data:q,error:W}=await Z.from("profiles").select("id, name, phone, email, created_at").not("phone","is",null).order("created_at",{ascending:!1});if(W)throw W;n(q||[])}catch(q){console.error("Error fetching customers:",q),me({title:"Gagal mengambil data pelanggan",description:"Terjadi kesalahan saat mengambil data pelanggan",variant:"destructive"})}finally{s(!1)}},D=async()=>{s(!0);try{const q=await BL.getBroadcastHistory(10,A);u(q)}catch(q){console.error("Error fetching broadcast history:",q),me({title:"Gagal mengambil riwayat broadcast",description:"Terjadi kesalahan saat mengambil riwayat broadcast",variant:"destructive"})}finally{s(!1)}},M=q=>{g(W=>W.includes(q)?W.filter(re=>re!==q):[...W,q])},Q=()=>{g(r.map(q=>q.id))},L=()=>{g([])},K=async()=>{if(!m.trim()){me({title:"Pesan tidak boleh kosong",description:"Silakan masukkan pesan yang akan dikirim",variant:"destructive"});return}if(h==="selected"&&p.length===0){me({title:"Tidak ada penerima yang dipilih",description:"Silakan pilih setidaknya satu pelanggan",variant:"destructive"});return}if(window.confirm(`Anda akan mengirim pesan broadcast ke ${h==="all"?"semua pelanggan":h==="selected"?`${p.length} pelanggan terpilih`:"pelanggan yang difilter"}. Lanjutkan?`)){l(!0);try{const q={recipientType:h,message:m,includeName:y};if(h==="selected"?q.selectedIds=p:h==="filtered"&&(q.filterOptions={lastOrderDays:S,minOrderCount:I,minTotalSpent:O}),x&&E&&j){const re=new Date(`${E}T${j}`);if(re>new Date)q.scheduleTime=re;else{me({title:"Waktu jadwal tidak valid",description:"Waktu jadwal harus di masa depan",variant:"destructive"}),l(!1);return}}const W=await BL.sendBroadcast(q);W.success?(me({title:"Broadcast berhasil",description:x?`Broadcast dijadwalkan untuk ${W.totalRecipients} penerima`:`Pesan berhasil dikirim ke ${W.sentCount} dari ${W.totalRecipients} penerima`}),b(""),g([]),f("all"),C(!1),B(""),N(""),e("history"),D()):me({title:"Broadcast gagal",description:`Pesan gagal dikirim. Hanya ${W.sentCount} dari ${W.totalRecipients} pesan yang terkirim.`,variant:"destructive"})}catch(q){console.error("Error sending broadcast:",q),me({title:"Broadcast gagal",description:"Terjadi kesalahan saat mengirim broadcast",variant:"destructive"})}finally{l(!1)}}},G=q=>{b(q)};return i.jsx(On,{children:i.jsxs("div",{className:"container py-6",children:[i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Broadcast WhatsApp"}),i.jsxs(ja,{defaultValue:"new",value:t,onValueChange:e,children:[i.jsxs(da,{className:"mb-4",children:[i.jsxs(kt,{value:"new",children:[i.jsx(rv,{className:"h-4 w-4 mr-2"}),"Broadcast Baru"]}),i.jsxs(kt,{value:"history",children:[i.jsx(XA,{className:"h-4 w-4 mr-2"}),"Riwayat Broadcast"]})]}),i.jsx(Yt,{value:"new",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs(Be,{className:"md:col-span-2",children:[i.jsxs(ct,{children:[i.jsx(ut,{children:"Pesan Broadcast"}),i.jsx(cr,{children:"Buat pesan broadcast untuk dikirim ke pelanggan"})]}),i.jsxs(Ce,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"message-type",children:"Jenis Penerima"}),i.jsxs(In,{value:h,onValueChange:q=>f(q),children:[i.jsx(gn,{children:i.jsx(Pn,{placeholder:"Pilih jenis penerima"})}),i.jsxs(xn,{children:[i.jsx(yt,{value:"all",children:"Semua Pelanggan"}),i.jsx(yt,{value:"selected",children:"Pelanggan Terpilih"}),i.jsx(yt,{value:"filtered",children:"Filter Pelanggan"})]})]})]}),h==="filtered"&&i.jsxs(Be,{className:"border-dashed",children:[i.jsx(ct,{className:"p-4 pb-2",children:i.jsx(ut,{className:"text-base",children:"Filter Pelanggan"})}),i.jsxs(Ce,{className:"p-4 pt-0 space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(Te,{htmlFor:"last-order-days",children:"Pesanan dalam X hari terakhir"}),i.jsx(he,{id:"last-order-days",type:"number",placeholder:"hari",min:"1",value:S||"",onChange:q=>k(q.target.value?parseInt(q.target.value):void 0)})]}),i.jsxs("div",{children:[i.jsx(Te,{htmlFor:"min-order-count",children:"Minimal jumlah pesanan"}),i.jsx(he,{id:"min-order-count",type:"number",placeholder:"jumlah",min:"1",value:I||"",onChange:q=>T(q.target.value?parseInt(q.target.value):void 0)})]})]}),i.jsxs("div",{children:[i.jsx(Te,{htmlFor:"min-total-spent",children:"Minimal total pembelian (Rp)"}),i.jsx(he,{id:"min-total-spent",type:"number",placeholder:"dalam Rupiah",min:"10000",step:"10000",value:O||"",onChange:q=>U(q.target.value?parseInt(q.target.value):void 0)})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(Te,{htmlFor:"message",children:"Pesan"}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Gunakan ","{name}"," untuk menyertakan nama pelanggan"]})]}),i.jsx(Dl,{id:"message",placeholder:"Ketik pesan Anda di sini...",rows:8,value:m,onChange:q=>b(q.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{children:"Template Pesan"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:H.map((q,W)=>i.jsx(z,{variant:"outline",size:"sm",onClick:()=>G(q.content),children:q.name},W))})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(us,{id:"include-name",checked:y,onCheckedChange:w}),i.jsx(Te,{htmlFor:"include-name",children:"Sertakan nama pelanggan dalam pesan"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(us,{id:"schedule",checked:x,onCheckedChange:C}),i.jsx(Te,{htmlFor:"schedule",children:"Jadwalkan pengiriman"})]}),x&&i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(Te,{htmlFor:"schedule-date",children:"Tanggal"}),i.jsx(he,{id:"schedule-date",type:"date",value:E,onChange:q=>B(q.target.value),min:new Date().toISOString().split("T")[0]})]}),i.jsxs("div",{children:[i.jsx(Te,{htmlFor:"schedule-time",children:"Waktu"}),i.jsx(he,{id:"schedule-time",type:"time",value:j,onChange:q=>N(q.target.value)})]})]})]}),i.jsxs(is,{className:"flex justify-between",children:[i.jsx(z,{variant:"outline",onClick:()=>b(""),children:"Reset"}),i.jsx(z,{onClick:K,disabled:o||!m.trim()||h==="selected"&&p.length===0,children:o?i.jsxs(i.Fragment,{children:[i.jsx(er,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengirim..."]}):x?i.jsxs(i.Fragment,{children:[i.jsx(GH,{className:"mr-2 h-4 w-4"}),"Jadwalkan"]}):i.jsxs(i.Fragment,{children:[i.jsx(rv,{className:"mr-2 h-4 w-4"}),"Kirim Broadcast"]})})]})]}),h==="selected"&&i.jsxs(Be,{children:[i.jsxs(ct,{children:[i.jsx(ut,{children:"Pilih Pelanggan"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(z,{variant:"outline",size:"sm",onClick:Q,children:"Pilih Semua"}),i.jsx(z,{variant:"outline",size:"sm",onClick:L,children:"Reset"})]})]}),i.jsx(Ce,{children:a?i.jsx("div",{className:"flex items-center justify-center py-6",children:i.jsx(er,{className:"h-6 w-6 animate-spin"})}):i.jsx(hu,{className:"h-[400px]",children:i.jsx("div",{className:"space-y-2",children:r.map(q=>i.jsxs("div",{className:`p-2 rounded-md flex items-center space-x-2 ${p.includes(q.id)?"bg-muted/80":"hover:bg-muted/50"}`,onClick:()=>M(q.id),children:[i.jsx(gI,{checked:p.includes(q.id),onCheckedChange:()=>M(q.id)}),i.jsxs("div",{className:"flex-1 truncate",children:[i.jsx("div",{className:"font-medium truncate",children:q.name||"Tanpa Nama"}),i.jsx("div",{className:"text-sm text-muted-foreground truncate",children:q.phone})]})]},q.id))})})}),i.jsx(is,{children:i.jsxs("div",{className:"w-full text-center",children:[p.length," pelanggan dipilih"]})})]})]})}),i.jsx(Yt,{value:"history",children:i.jsxs(Be,{children:[i.jsxs(ct,{children:[i.jsx(ut,{children:"Riwayat Broadcast"}),i.jsx(cr,{children:"Histori pesan broadcast yang telah dikirim"})]}),i.jsx(Ce,{children:a?i.jsx("div",{className:"flex items-center justify-center py-6",children:i.jsx(er,{className:"h-6 w-6 animate-spin"})}):c.length>0?i.jsxs(Gn,{children:[i.jsx(Wn,{children:i.jsxs(vt,{children:[i.jsx(Ie,{children:"Tanggal"}),i.jsx(Ie,{children:"Pesan"}),i.jsx(Ie,{children:"Penerima"}),i.jsx(Ie,{children:"Status"}),i.jsx(Ie,{children:"Aksi"})]})}),i.jsx(Xn,{children:c.map(q=>i.jsxs(vt,{children:[i.jsx(_e,{children:new Date(q.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),i.jsx(_e,{className:"max-w-[200px] truncate",children:q.message_template}),i.jsxs(_e,{children:[q.recipient_count," penerima"]}),i.jsx(_e,{children:i.jsx(jt,{className:q.status==="completed"?"bg-green-100 text-green-800":q.status==="sending"?"bg-blue-100 text-blue-800":q.status==="scheduled"?"bg-purple-100 text-purple-800":"bg-red-100 text-red-800",children:q.status==="completed"?"Selesai":q.status==="sending"?"Mengirim":q.status==="scheduled"?"Terjadwal":"Gagal"})}),i.jsx(_e,{children:i.jsx(z,{variant:"ghost",size:"sm",children:"Detail"})})]},q.id))})]}):i.jsx("div",{className:"text-center py-6",children:i.jsx("p",{className:"text-muted-foreground",children:"Tidak ada riwayat broadcast"})})}),c.length>0&&i.jsxs(is,{className:"flex justify-between",children:[i.jsx(z,{variant:"outline",onClick:()=>d(Math.max(1,A-1)),disabled:A===1,children:"Sebelumnya"}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Halaman ",A]}),i.jsx(z,{variant:"outline",onClick:()=>d(A+1),disabled:c.length<10,children:"Selanjutnya"})]})]})})]})]})})}const T6e=({item:t,onSave:e,onCancel:r})=>{const[n,a]=v.useState({name:(t==null?void 0:t.name)||"",category:(t==null?void 0:t.category)||"",description:(t==null?void 0:t.description)||""}),s=l=>{const{name:c,value:u}=l.target;a(A=>({...A,[c]:u}))},o=l=>{l.preventDefault(),e(n)};return i.jsxs("form",{onSubmit:o,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nama Layanan"}),i.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:s,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan nama layanan"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Kategori"}),i.jsx("input",{type:"text",id:"category",name:"category",value:n.category,onChange:s,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan kategori layanan"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Deskripsi"}),i.jsx("textarea",{id:"description",name:"description",value:n.description,onChange:s,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan deskripsi layanan"})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[i.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Batal"}),i.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Simpan"})]})]})},I6e=({item:t,onSave:e,onCancel:r})=>{const[n,a]=v.useState({name:(t==null?void 0:t.name)||"",sku:(t==null?void 0:t.sku)||"",price:(t==null?void 0:t.price)||0,service_id:(t==null?void 0:t.service_id)||"",description:(t==null?void 0:t.description)||""}),s=l=>{const{name:c,value:u}=l.target;a(A=>({...A,[c]:c==="price"?Number(u):u}))},o=l=>{l.preventDefault(),e(n)};return i.jsxs("form",{onSubmit:o,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nama Produk"}),i.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:s,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan nama produk"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"sku",className:"block text-sm font-medium text-gray-700",children:"SKU"}),i.jsx("input",{type:"text",id:"sku",name:"sku",value:n.sku,onChange:s,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan SKU produk"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Harga (Rp)"}),i.jsx("input",{type:"number",id:"price",name:"price",value:n.price,onChange:s,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan harga produk"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"service_id",className:"block text-sm font-medium text-gray-700",children:"ID Layanan"}),i.jsx("input",{type:"text",id:"service_id",name:"service_id",value:n.service_id,onChange:s,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan ID layanan terkait"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Deskripsi"}),i.jsx("textarea",{id:"description",name:"description",value:n.description,onChange:s,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan deskripsi produk"})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[i.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Batal"}),i.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Simpan"})]})]})},P6e=({item:t,onSave:e,onCancel:r})=>{const[n,a]=v.useState({username:(t==null?void 0:t.username)||"",api_key:(t==null?void 0:t.api_key)||"",webhook_url:(t==null?void 0:t.webhook_url)||""}),s=l=>{const{name:c,value:u}=l.target;a(A=>({...A,[c]:u}))},o=l=>{l.preventDefault(),e(n)};return i.jsxs("form",{onSubmit:o,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username Digiflazz"}),i.jsx("input",{type:"text",id:"username",name:"username",value:n.username,onChange:s,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan username Digiflazz"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"api_key",className:"block text-sm font-medium text-gray-700",children:"API Key Digiflazz"}),i.jsx("input",{type:"password",id:"api_key",name:"api_key",value:n.api_key,onChange:s,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan API Key Digiflazz"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"webhook_url",className:"block text-sm font-medium text-gray-700",children:"Webhook URL (Opsional)"}),i.jsx("input",{type:"text",id:"webhook_url",name:"webhook_url",value:n.webhook_url,onChange:s,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan URL webhook untuk notifikasi"})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[i.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Batal"}),i.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Simpan"})]})]})},F6e=({item:t,onSave:e,onCancel:r})=>{const[n,a]=v.useState({status:(t==null?void 0:t.status)||"",message:(t==null?void 0:t.message)||"",sn:(t==null?void 0:t.sn)||"",price:(t==null?void 0:t.price)||0,buyer_last_balance:(t==null?void 0:t.buyer_last_balance)||0}),s=l=>{const{name:c,value:u}=l.target;a(A=>({...A,[c]:c==="price"||c==="buyer_last_balance"?Number(u):u}))},o=l=>{l.preventDefault(),e(n)};return i.jsxs("form",{onSubmit:o,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status"}),i.jsx("input",{type:"text",id:"status",name:"status",value:n.status,onChange:s,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan status transaksi"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"Pesan"}),i.jsx("input",{type:"text",id:"message",name:"message",value:n.message,onChange:s,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan pesan transaksi"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"sn",className:"block text-sm font-medium text-gray-700",children:"Serial Number (SN)"}),i.jsx("input",{type:"text",id:"sn",name:"sn",value:n.sn,onChange:s,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan serial number"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Harga (Rp)"}),i.jsx("input",{type:"number",id:"price",name:"price",value:n.price,onChange:s,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan harga"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"buyer_last_balance",className:"block text-sm font-medium text-gray-700",children:"Saldo Terakhir Pembeli (Rp)"}),i.jsx("input",{type:"number",id:"buyer_last_balance",name:"buyer_last_balance",value:n.buyer_last_balance,onChange:s,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan saldo terakhir pembeli"})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[i.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Batal"}),i.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Simpan"})]})]})},D6e=({isOpen:t,onClose:e,formType:r,selectedItem:n,onSave:a})=>{if(!t)return null;const s=()=>{if(n)switch(r){case"service":return"Edit Layanan PPOB";case"product":return"Edit Produk PPOB";case"digiflazz":return"Edit Konfigurasi Digiflazz";case"transaction":return"Edit Transaksi PPOB";default:return"Edit Item"}else switch(r){case"service":return"Tambah Layanan PPOB";case"product":return"Tambah Produk PPOB";case"digiflazz":return"Tambah Konfigurasi Digiflazz";case"transaction":return"Tambah Transaksi PPOB";default:return"Tambah Item"}},o=c=>{a(c,r)},l=()=>{switch(r){case"service":return i.jsx(T6e,{item:n,onSave:o,onCancel:e});case"product":return i.jsx(I6e,{item:n,onSave:o,onCancel:e});case"digiflazz":return i.jsx(P6e,{item:n,onSave:o,onCancel:e});case"transaction":return i.jsx(F6e,{item:n,onSave:o,onCancel:e});default:return i.jsx("div",{children:"Form tidak ditemukan"})}};return i.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:i.jsxs("div",{className:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[i.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:e}),i.jsx("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle",children:""}),i.jsx("div",{className:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle",children:i.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[i.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:s()}),i.jsx("div",{className:"mt-4",children:l()})]})})]})})};function O6e({children:t}){const[e,r]=v.useState(!1),n=ma(),a=[{name:"Dashboard",href:"/admin",icon:i.jsx(J.home,{className:"h-5 w-5"})},{name:"Inventaris",href:"/admin/inventory",icon:i.jsx(J.package,{className:"h-5 w-5"})},{name:"Inventaris Batubara",href:"/admin/coal-inventory",icon:i.jsx(J.layers,{className:"h-5 w-5"})},{name:"Pengiriman",href:"/admin/shipping",icon:i.jsx(J.truck,{className:"h-5 w-5"})},{name:"Pengguna",href:"/admin/users",icon:i.jsx(J.users,{className:"h-5 w-5"})},{name:"Pesanan",href:"/admin/orders",icon:i.jsx(J.shoppingCart,{className:"h-5 w-5"})},{name:"PPOB",href:"/admin/ppob",icon:i.jsx(J.creditCard,{className:"h-5 w-5"})},{name:"Voucher",href:"/admin/vouchers",icon:i.jsx(J.ticket,{className:"h-5 w-5"})},{name:"Broadcast",href:"/admin/broadcast",icon:i.jsx(J.megaphone,{className:"h-5 w-5"})},{name:"Analitik",href:"/admin/analytics",icon:i.jsx(J.barChart,{className:"h-5 w-5"})},{name:"Pengaturan",href:"/admin/settings",icon:i.jsx(J.settings,{className:"h-5 w-5"})},{name:"Chat",href:"/admin/chats",icon:i.jsx(J.messageSquare,{className:"h-5 w-5"})}],s=o=>o==="/admin"&&n.pathname==="/admin"?!0:n.pathname.startsWith(o)&&o!=="/admin";return i.jsxs("div",{className:"flex h-screen overflow-hidden",children:[i.jsx("aside",{className:"hidden md:flex md:w-64 md:flex-col",children:i.jsxs("div",{className:"flex flex-col flex-grow pt-5 overflow-y-auto border-r bg-white",children:[i.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:i.jsxs(mt,{to:"/admin",className:"flex items-center",children:[i.jsx("img",{className:"h-8 w-auto",src:"/logo.svg",alt:"JPC Digi Logo"}),i.jsx("span",{className:"ml-2 text-xl font-bold",children:"JPC Digi Admin"})]})}),i.jsx("div",{className:"mt-6 px-3 flex-grow flex flex-col",children:i.jsx("nav",{className:"flex-1 space-y-1",children:a.map(o=>i.jsxs(mt,{to:o.href,className:fe("group flex items-center px-3 py-2 text-sm font-medium rounded-md",s(o.href)?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"),children:[o.icon,i.jsx("span",{className:"ml-3",children:o.name})]},o.name))})}),i.jsx("div",{className:"p-3 mt-auto border-t",children:i.jsxs("div",{className:"flex items-center",children:[i.jsxs(Ol,{children:[i.jsx(vd,{src:"/avatars/admin.png",alt:"Admin"}),i.jsx(Rl,{children:"AD"})]}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium",children:"Admin JPC"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"admin@jpcdigi.com"})]})]})})]})}),i.jsx("div",{className:"md:hidden",children:i.jsxs(gi,{open:e,onOpenChange:r,children:[i.jsx(Dv,{asChild:!0,children:i.jsxs(z,{variant:"ghost",size:"icon",className:"absolute top-4 left-4 z-50",children:[i.jsx(J.menu,{className:"h-6 w-6"}),i.jsx("span",{className:"sr-only",children:"Toggle menu"})]})}),i.jsx(Ls,{side:"left",className:"p-0",children:i.jsxs("div",{className:"flex flex-col h-full pt-5",children:[i.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:i.jsxs(mt,{to:"/admin",className:"flex items-center",onClick:()=>r(!1),children:[i.jsx("img",{className:"h-8 w-auto",src:"/logo.svg",alt:"JPC Digi Logo"}),i.jsx("span",{className:"ml-2 text-xl font-bold",children:"JPC Digi Admin"})]})}),i.jsx("div",{className:"mt-6 px-3 flex-grow flex flex-col",children:i.jsx("nav",{className:"flex-1 space-y-1",children:a.map(o=>i.jsxs(mt,{to:o.href,className:fe("group flex items-center px-3 py-2 text-sm font-medium rounded-md",s(o.href)?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"),onClick:()=>r(!1),children:[o.icon,i.jsx("span",{className:"ml-3",children:o.name})]},o.name))})}),i.jsx("div",{className:"p-3 mt-auto border-t",children:i.jsxs("div",{className:"flex items-center",children:[i.jsxs(Ol,{children:[i.jsx(vd,{src:"/avatars/admin.png",alt:"Admin"}),i.jsx(Rl,{children:"AD"})]}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium",children:"Admin JPC"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"admin@jpcdigi.com"})]})]})})]})})]})}),i.jsxs("div",{className:"flex flex-col flex-1 w-full overflow-hidden",children:[i.jsx("header",{className:"bg-white shadow-sm z-10",children:i.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"py-4 md:py-6 flex items-center justify-between",children:[i.jsx("div",{className:"md:hidden",children:i.jsx("h1",{className:"text-lg font-medium",children:"JPC Digi Admin"})}),i.jsxs("div",{className:"flex items-center ml-auto",children:[i.jsxs(z,{variant:"outline",size:"sm",className:"mr-2",children:[i.jsx(J.bell,{className:"h-4 w-4 mr-2"}),i.jsx("span",{className:"sr-only md:not-sr-only md:inline-block",children:"Notifikasi"})]}),i.jsxs(z,{variant:"destructive",size:"sm",children:[i.jsx(J.logOut,{className:"h-4 w-4 mr-2"}),i.jsx("span",{className:"sr-only md:not-sr-only md:inline-block",children:"Logout"})]})]})]})})}),i.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50",children:t})]})]})}var yx={exports:{}};function R6e(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var bx={exports:{}};const U6e={},M6e=Object.freeze(Object.defineProperty({__proto__:null,default:U6e},Symbol.toStringTag,{value:"Module"})),Q6e=xH(M6e);var L6e=bx.exports,CL;function $t(){return CL||(CL=1,function(t,e){(function(r,n){t.exports=n()})(L6e,function(){var r=r||function(n,a){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof Ec<"u"&&Ec.crypto&&(s=Ec.crypto),!s&&typeof R6e=="function")try{s=Q6e}catch{}var o=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},l=Object.create||function(){function y(){}return function(w){var x;return y.prototype=w,x=new y,y.prototype=null,x}}(),c={},u=c.lib={},A=u.Base=function(){return{extend:function(y){var w=l(this);return y&&w.mixIn(y),(!w.hasOwnProperty("init")||this.init===w.init)&&(w.init=function(){w.$super.init.apply(this,arguments)}),w.init.prototype=w,w.$super=this,w},create:function(){var y=this.extend();return y.init.apply(y,arguments),y},init:function(){},mixIn:function(y){for(var w in y)y.hasOwnProperty(w)&&(this[w]=y[w]);y.hasOwnProperty("toString")&&(this.toString=y.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),d=u.WordArray=A.extend({init:function(y,w){y=this.words=y||[],w!=a?this.sigBytes=w:this.sigBytes=y.length*4},toString:function(y){return(y||f).stringify(this)},concat:function(y){var w=this.words,x=y.words,C=this.sigBytes,E=y.sigBytes;if(this.clamp(),C%4)for(var B=0;B<E;B++){var j=x[B>>>2]>>>24-B%4*8&255;w[C+B>>>2]|=j<<24-(C+B)%4*8}else for(var N=0;N<E;N+=4)w[C+N>>>2]=x[N>>>2];return this.sigBytes+=E,this},clamp:function(){var y=this.words,w=this.sigBytes;y[w>>>2]&=4294967295<<32-w%4*8,y.length=n.ceil(w/4)},clone:function(){var y=A.clone.call(this);return y.words=this.words.slice(0),y},random:function(y){for(var w=[],x=0;x<y;x+=4)w.push(o());return new d.init(w,y)}}),h=c.enc={},f=h.Hex={stringify:function(y){for(var w=y.words,x=y.sigBytes,C=[],E=0;E<x;E++){var B=w[E>>>2]>>>24-E%4*8&255;C.push((B>>>4).toString(16)),C.push((B&15).toString(16))}return C.join("")},parse:function(y){for(var w=y.length,x=[],C=0;C<w;C+=2)x[C>>>3]|=parseInt(y.substr(C,2),16)<<24-C%8*4;return new d.init(x,w/2)}},p=h.Latin1={stringify:function(y){for(var w=y.words,x=y.sigBytes,C=[],E=0;E<x;E++){var B=w[E>>>2]>>>24-E%4*8&255;C.push(String.fromCharCode(B))}return C.join("")},parse:function(y){for(var w=y.length,x=[],C=0;C<w;C++)x[C>>>2]|=(y.charCodeAt(C)&255)<<24-C%4*8;return new d.init(x,w)}},g=h.Utf8={stringify:function(y){try{return decodeURIComponent(escape(p.stringify(y)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(y){return p.parse(unescape(encodeURIComponent(y)))}},m=u.BufferedBlockAlgorithm=A.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(y){typeof y=="string"&&(y=g.parse(y)),this._data.concat(y),this._nDataBytes+=y.sigBytes},_process:function(y){var w,x=this._data,C=x.words,E=x.sigBytes,B=this.blockSize,j=B*4,N=E/j;y?N=n.ceil(N):N=n.max((N|0)-this._minBufferSize,0);var S=N*B,k=n.min(S*4,E);if(S){for(var I=0;I<S;I+=B)this._doProcessBlock(C,I);w=C.splice(0,S),x.sigBytes-=k}return new d.init(w,k)},clone:function(){var y=A.clone.call(this);return y._data=this._data.clone(),y},_minBufferSize:0});u.Hasher=m.extend({cfg:A.extend(),init:function(y){this.cfg=this.cfg.extend(y),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(y){return this._append(y),this._process(),this},finalize:function(y){y&&this._append(y);var w=this._doFinalize();return w},blockSize:16,_createHelper:function(y){return function(w,x){return new y.init(x).finalize(w)}},_createHmacHelper:function(y){return function(w,x){return new b.HMAC.init(y,x).finalize(w)}}});var b=c.algo={};return c}(Math);return r})}(bx)),bx.exports}var wx={exports:{}},H6e=wx.exports,jL;function Yw(){return jL||(jL=1,function(t,e){(function(r,n){t.exports=n($t())})(H6e,function(r){return function(n){var a=r,s=a.lib,o=s.Base,l=s.WordArray,c=a.x64={};c.Word=o.extend({init:function(u,A){this.high=u,this.low=A}}),c.WordArray=o.extend({init:function(u,A){u=this.words=u||[],A!=n?this.sigBytes=A:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,A=u.length,d=[],h=0;h<A;h++){var f=u[h];d.push(f.high),d.push(f.low)}return l.create(d,this.sigBytes)},clone:function(){for(var u=o.clone.call(this),A=u.words=this.words.slice(0),d=A.length,h=0;h<d;h++)A[h]=A[h].clone();return u}})}(),r})}(wx)),wx.exports}var _x={exports:{}},$6e=_x.exports,EL;function V6e(){return EL||(EL=1,function(t,e){(function(r,n){t.exports=n($t())})($6e,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,a=n.lib,s=a.WordArray,o=s.init,l=s.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var u=c.byteLength,A=[],d=0;d<u;d++)A[d>>>2]|=c[d]<<24-d%4*8;o.call(this,A,u)}else o.apply(this,arguments)};l.prototype=s}}(),r.lib.WordArray})}(_x)),_x.exports}var Bx={exports:{}},K6e=Bx.exports,SL;function q6e(){return SL||(SL=1,function(t,e){(function(r,n){t.exports=n($t())})(K6e,function(r){return function(){var n=r,a=n.lib,s=a.WordArray,o=n.enc;o.Utf16=o.Utf16BE={stringify:function(c){for(var u=c.words,A=c.sigBytes,d=[],h=0;h<A;h+=2){var f=u[h>>>2]>>>16-h%4*8&65535;d.push(String.fromCharCode(f))}return d.join("")},parse:function(c){for(var u=c.length,A=[],d=0;d<u;d++)A[d>>>1]|=c.charCodeAt(d)<<16-d%2*16;return s.create(A,u*2)}},o.Utf16LE={stringify:function(c){for(var u=c.words,A=c.sigBytes,d=[],h=0;h<A;h+=2){var f=l(u[h>>>2]>>>16-h%4*8&65535);d.push(String.fromCharCode(f))}return d.join("")},parse:function(c){for(var u=c.length,A=[],d=0;d<u;d++)A[d>>>1]|=l(c.charCodeAt(d)<<16-d%2*16);return s.create(A,u*2)}};function l(c){return c<<8&4278255360|c>>>8&16711935}}(),r.enc.Utf16})}(Bx)),Bx.exports}var Cx={exports:{}},z6e=Cx.exports,NL;function Cu(){return NL||(NL=1,function(t,e){(function(r,n){t.exports=n($t())})(z6e,function(r){return function(){var n=r,a=n.lib,s=a.WordArray,o=n.enc;o.Base64={stringify:function(c){var u=c.words,A=c.sigBytes,d=this._map;c.clamp();for(var h=[],f=0;f<A;f+=3)for(var p=u[f>>>2]>>>24-f%4*8&255,g=u[f+1>>>2]>>>24-(f+1)%4*8&255,m=u[f+2>>>2]>>>24-(f+2)%4*8&255,b=p<<16|g<<8|m,y=0;y<4&&f+y*.75<A;y++)h.push(d.charAt(b>>>6*(3-y)&63));var w=d.charAt(64);if(w)for(;h.length%4;)h.push(w);return h.join("")},parse:function(c){var u=c.length,A=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var h=0;h<A.length;h++)d[A.charCodeAt(h)]=h}var f=A.charAt(64);if(f){var p=c.indexOf(f);p!==-1&&(u=p)}return l(c,u,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function l(c,u,A){for(var d=[],h=0,f=0;f<u;f++)if(f%4){var p=A[c.charCodeAt(f-1)]<<f%4*2,g=A[c.charCodeAt(f)]>>>6-f%4*2,m=p|g;d[h>>>2]|=m<<24-h%4*8,h++}return s.create(d,h)}}(),r.enc.Base64})}(Cx)),Cx.exports}var jx={exports:{}},G6e=jx.exports,kL;function W6e(){return kL||(kL=1,function(t,e){(function(r,n){t.exports=n($t())})(G6e,function(r){return function(){var n=r,a=n.lib,s=a.WordArray,o=n.enc;o.Base64url={stringify:function(c,u){u===void 0&&(u=!0);var A=c.words,d=c.sigBytes,h=u?this._safe_map:this._map;c.clamp();for(var f=[],p=0;p<d;p+=3)for(var g=A[p>>>2]>>>24-p%4*8&255,m=A[p+1>>>2]>>>24-(p+1)%4*8&255,b=A[p+2>>>2]>>>24-(p+2)%4*8&255,y=g<<16|m<<8|b,w=0;w<4&&p+w*.75<d;w++)f.push(h.charAt(y>>>6*(3-w)&63));var x=h.charAt(64);if(x)for(;f.length%4;)f.push(x);return f.join("")},parse:function(c,u){u===void 0&&(u=!0);var A=c.length,d=u?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var f=0;f<d.length;f++)h[d.charCodeAt(f)]=f}var p=d.charAt(64);if(p){var g=c.indexOf(p);g!==-1&&(A=g)}return l(c,A,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function l(c,u,A){for(var d=[],h=0,f=0;f<u;f++)if(f%4){var p=A[c.charCodeAt(f-1)]<<f%4*2,g=A[c.charCodeAt(f)]>>>6-f%4*2,m=p|g;d[h>>>2]|=m<<24-h%4*8,h++}return s.create(d,h)}}(),r.enc.Base64url})}(jx)),jx.exports}var Ex={exports:{}},X6e=Ex.exports,TL;function ju(){return TL||(TL=1,function(t,e){(function(r,n){t.exports=n($t())})(X6e,function(r){return function(n){var a=r,s=a.lib,o=s.WordArray,l=s.Hasher,c=a.algo,u=[];(function(){for(var g=0;g<64;g++)u[g]=n.abs(n.sin(g+1))*4294967296|0})();var A=c.MD5=l.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(g,m){for(var b=0;b<16;b++){var y=m+b,w=g[y];g[y]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}var x=this._hash.words,C=g[m+0],E=g[m+1],B=g[m+2],j=g[m+3],N=g[m+4],S=g[m+5],k=g[m+6],I=g[m+7],T=g[m+8],O=g[m+9],U=g[m+10],H=g[m+11],R=g[m+12],D=g[m+13],M=g[m+14],Q=g[m+15],L=x[0],K=x[1],G=x[2],q=x[3];L=d(L,K,G,q,C,7,u[0]),q=d(q,L,K,G,E,12,u[1]),G=d(G,q,L,K,B,17,u[2]),K=d(K,G,q,L,j,22,u[3]),L=d(L,K,G,q,N,7,u[4]),q=d(q,L,K,G,S,12,u[5]),G=d(G,q,L,K,k,17,u[6]),K=d(K,G,q,L,I,22,u[7]),L=d(L,K,G,q,T,7,u[8]),q=d(q,L,K,G,O,12,u[9]),G=d(G,q,L,K,U,17,u[10]),K=d(K,G,q,L,H,22,u[11]),L=d(L,K,G,q,R,7,u[12]),q=d(q,L,K,G,D,12,u[13]),G=d(G,q,L,K,M,17,u[14]),K=d(K,G,q,L,Q,22,u[15]),L=h(L,K,G,q,E,5,u[16]),q=h(q,L,K,G,k,9,u[17]),G=h(G,q,L,K,H,14,u[18]),K=h(K,G,q,L,C,20,u[19]),L=h(L,K,G,q,S,5,u[20]),q=h(q,L,K,G,U,9,u[21]),G=h(G,q,L,K,Q,14,u[22]),K=h(K,G,q,L,N,20,u[23]),L=h(L,K,G,q,O,5,u[24]),q=h(q,L,K,G,M,9,u[25]),G=h(G,q,L,K,j,14,u[26]),K=h(K,G,q,L,T,20,u[27]),L=h(L,K,G,q,D,5,u[28]),q=h(q,L,K,G,B,9,u[29]),G=h(G,q,L,K,I,14,u[30]),K=h(K,G,q,L,R,20,u[31]),L=f(L,K,G,q,S,4,u[32]),q=f(q,L,K,G,T,11,u[33]),G=f(G,q,L,K,H,16,u[34]),K=f(K,G,q,L,M,23,u[35]),L=f(L,K,G,q,E,4,u[36]),q=f(q,L,K,G,N,11,u[37]),G=f(G,q,L,K,I,16,u[38]),K=f(K,G,q,L,U,23,u[39]),L=f(L,K,G,q,D,4,u[40]),q=f(q,L,K,G,C,11,u[41]),G=f(G,q,L,K,j,16,u[42]),K=f(K,G,q,L,k,23,u[43]),L=f(L,K,G,q,O,4,u[44]),q=f(q,L,K,G,R,11,u[45]),G=f(G,q,L,K,Q,16,u[46]),K=f(K,G,q,L,B,23,u[47]),L=p(L,K,G,q,C,6,u[48]),q=p(q,L,K,G,I,10,u[49]),G=p(G,q,L,K,M,15,u[50]),K=p(K,G,q,L,S,21,u[51]),L=p(L,K,G,q,R,6,u[52]),q=p(q,L,K,G,j,10,u[53]),G=p(G,q,L,K,U,15,u[54]),K=p(K,G,q,L,E,21,u[55]),L=p(L,K,G,q,T,6,u[56]),q=p(q,L,K,G,Q,10,u[57]),G=p(G,q,L,K,k,15,u[58]),K=p(K,G,q,L,D,21,u[59]),L=p(L,K,G,q,N,6,u[60]),q=p(q,L,K,G,H,10,u[61]),G=p(G,q,L,K,B,15,u[62]),K=p(K,G,q,L,O,21,u[63]),x[0]=x[0]+L|0,x[1]=x[1]+K|0,x[2]=x[2]+G|0,x[3]=x[3]+q|0},_doFinalize:function(){var g=this._data,m=g.words,b=this._nDataBytes*8,y=g.sigBytes*8;m[y>>>5]|=128<<24-y%32;var w=n.floor(b/4294967296),x=b;m[(y+64>>>9<<4)+15]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,m[(y+64>>>9<<4)+14]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,g.sigBytes=(m.length+1)*4,this._process();for(var C=this._hash,E=C.words,B=0;B<4;B++){var j=E[B];E[B]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360}return C},clone:function(){var g=l.clone.call(this);return g._hash=this._hash.clone(),g}});function d(g,m,b,y,w,x,C){var E=g+(m&b|~m&y)+w+C;return(E<<x|E>>>32-x)+m}function h(g,m,b,y,w,x,C){var E=g+(m&y|b&~y)+w+C;return(E<<x|E>>>32-x)+m}function f(g,m,b,y,w,x,C){var E=g+(m^b^y)+w+C;return(E<<x|E>>>32-x)+m}function p(g,m,b,y,w,x,C){var E=g+(b^(m|~y))+w+C;return(E<<x|E>>>32-x)+m}a.MD5=l._createHelper(A),a.HmacMD5=l._createHmacHelper(A)}(Math),r.MD5})}(Ex)),Ex.exports}var Sx={exports:{}},Y6e=Sx.exports,IL;function cee(){return IL||(IL=1,function(t,e){(function(r,n){t.exports=n($t())})(Y6e,function(r){return function(){var n=r,a=n.lib,s=a.WordArray,o=a.Hasher,l=n.algo,c=[],u=l.SHA1=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(A,d){for(var h=this._hash.words,f=h[0],p=h[1],g=h[2],m=h[3],b=h[4],y=0;y<80;y++){if(y<16)c[y]=A[d+y]|0;else{var w=c[y-3]^c[y-8]^c[y-14]^c[y-16];c[y]=w<<1|w>>>31}var x=(f<<5|f>>>27)+b+c[y];y<20?x+=(p&g|~p&m)+1518500249:y<40?x+=(p^g^m)+1859775393:y<60?x+=(p&g|p&m|g&m)-1894007588:x+=(p^g^m)-899497514,b=m,m=g,g=p<<30|p>>>2,p=f,f=x}h[0]=h[0]+f|0,h[1]=h[1]+p|0,h[2]=h[2]+g|0,h[3]=h[3]+m|0,h[4]=h[4]+b|0},_doFinalize:function(){var A=this._data,d=A.words,h=this._nDataBytes*8,f=A.sigBytes*8;return d[f>>>5]|=128<<24-f%32,d[(f+64>>>9<<4)+14]=Math.floor(h/4294967296),d[(f+64>>>9<<4)+15]=h,A.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var A=o.clone.call(this);return A._hash=this._hash.clone(),A}});n.SHA1=o._createHelper(u),n.HmacSHA1=o._createHmacHelper(u)}(),r.SHA1})}(Sx)),Sx.exports}var Nx={exports:{}},J6e=Nx.exports,PL;function LP(){return PL||(PL=1,function(t,e){(function(r,n){t.exports=n($t())})(J6e,function(r){return function(n){var a=r,s=a.lib,o=s.WordArray,l=s.Hasher,c=a.algo,u=[],A=[];(function(){function f(b){for(var y=n.sqrt(b),w=2;w<=y;w++)if(!(b%w))return!1;return!0}function p(b){return(b-(b|0))*4294967296|0}for(var g=2,m=0;m<64;)f(g)&&(m<8&&(u[m]=p(n.pow(g,1/2))),A[m]=p(n.pow(g,1/3)),m++),g++})();var d=[],h=c.SHA256=l.extend({_doReset:function(){this._hash=new o.init(u.slice(0))},_doProcessBlock:function(f,p){for(var g=this._hash.words,m=g[0],b=g[1],y=g[2],w=g[3],x=g[4],C=g[5],E=g[6],B=g[7],j=0;j<64;j++){if(j<16)d[j]=f[p+j]|0;else{var N=d[j-15],S=(N<<25|N>>>7)^(N<<14|N>>>18)^N>>>3,k=d[j-2],I=(k<<15|k>>>17)^(k<<13|k>>>19)^k>>>10;d[j]=S+d[j-7]+I+d[j-16]}var T=x&C^~x&E,O=m&b^m&y^b&y,U=(m<<30|m>>>2)^(m<<19|m>>>13)^(m<<10|m>>>22),H=(x<<26|x>>>6)^(x<<21|x>>>11)^(x<<7|x>>>25),R=B+H+T+A[j]+d[j],D=U+O;B=E,E=C,C=x,x=w+R|0,w=y,y=b,b=m,m=R+D|0}g[0]=g[0]+m|0,g[1]=g[1]+b|0,g[2]=g[2]+y|0,g[3]=g[3]+w|0,g[4]=g[4]+x|0,g[5]=g[5]+C|0,g[6]=g[6]+E|0,g[7]=g[7]+B|0},_doFinalize:function(){var f=this._data,p=f.words,g=this._nDataBytes*8,m=f.sigBytes*8;return p[m>>>5]|=128<<24-m%32,p[(m+64>>>9<<4)+14]=n.floor(g/4294967296),p[(m+64>>>9<<4)+15]=g,f.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var f=l.clone.call(this);return f._hash=this._hash.clone(),f}});a.SHA256=l._createHelper(h),a.HmacSHA256=l._createHmacHelper(h)}(Math),r.SHA256})}(Nx)),Nx.exports}var kx={exports:{}},Z6e=kx.exports,FL;function e8e(){return FL||(FL=1,function(t,e){(function(r,n,a){t.exports=n($t(),LP())})(Z6e,function(r){return function(){var n=r,a=n.lib,s=a.WordArray,o=n.algo,l=o.SHA256,c=o.SHA224=l.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=l._doFinalize.call(this);return u.sigBytes-=4,u}});n.SHA224=l._createHelper(c),n.HmacSHA224=l._createHmacHelper(c)}(),r.SHA224})}(kx)),kx.exports}var Tx={exports:{}},t8e=Tx.exports,DL;function uee(){return DL||(DL=1,function(t,e){(function(r,n,a){t.exports=n($t(),Yw())})(t8e,function(r){return function(){var n=r,a=n.lib,s=a.Hasher,o=n.x64,l=o.Word,c=o.WordArray,u=n.algo;function A(){return l.create.apply(l,arguments)}var d=[A(1116352408,3609767458),A(1899447441,602891725),A(3049323471,3964484399),A(3921009573,2173295548),A(961987163,4081628472),A(1508970993,3053834265),A(2453635748,2937671579),A(2870763221,3664609560),A(3624381080,2734883394),A(310598401,1164996542),A(607225278,1323610764),A(1426881987,3590304994),A(1925078388,4068182383),A(2162078206,991336113),A(2614888103,633803317),A(3248222580,3479774868),A(3835390401,2666613458),A(4022224774,944711139),A(264347078,2341262773),A(604807628,2007800933),A(770255983,1495990901),A(1249150122,1856431235),A(1555081692,3175218132),A(1996064986,2198950837),A(2554220882,3999719339),A(2821834349,766784016),A(2952996808,2566594879),A(3210313671,3203337956),A(3336571891,1034457026),A(3584528711,2466948901),A(113926993,3758326383),A(338241895,168717936),A(666307205,1188179964),A(773529912,1546045734),A(1294757372,1522805485),A(1396182291,2643833823),A(1695183700,2343527390),A(1986661051,1014477480),A(2177026350,1206759142),A(2456956037,344077627),A(2730485921,1290863460),A(2820302411,3158454273),A(3259730800,3505952657),A(3345764771,106217008),A(3516065817,3606008344),A(3600352804,1432725776),A(4094571909,1467031594),A(275423344,851169720),A(430227734,3100823752),A(506948616,1363258195),A(659060556,3750685593),A(883997877,3785050280),A(958139571,3318307427),A(1322822218,3812723403),A(1537002063,2003034995),A(1747873779,3602036899),A(1955562222,1575990012),A(2024104815,1125592928),A(2227730452,2716904306),A(2361852424,442776044),A(2428436474,593698344),A(2756734187,3733110249),A(3204031479,2999351573),A(3329325298,3815920427),A(3391569614,3928383900),A(3515267271,566280711),A(3940187606,3454069534),A(4118630271,4000239992),A(116418474,1914138554),A(174292421,2731055270),A(289380356,3203993006),A(460393269,320620315),A(685471733,587496836),A(852142971,1086792851),A(1017036298,365543100),A(1126000580,2618297676),A(1288033470,3409855158),A(1501505948,4234509866),A(1607167915,987167468),A(1816402316,1246189591)],h=[];(function(){for(var p=0;p<80;p++)h[p]=A()})();var f=u.SHA512=s.extend({_doReset:function(){this._hash=new c.init([new l.init(1779033703,4089235720),new l.init(3144134277,2227873595),new l.init(1013904242,4271175723),new l.init(2773480762,1595750129),new l.init(1359893119,2917565137),new l.init(2600822924,725511199),new l.init(528734635,4215389547),new l.init(1541459225,327033209)])},_doProcessBlock:function(p,g){for(var m=this._hash.words,b=m[0],y=m[1],w=m[2],x=m[3],C=m[4],E=m[5],B=m[6],j=m[7],N=b.high,S=b.low,k=y.high,I=y.low,T=w.high,O=w.low,U=x.high,H=x.low,R=C.high,D=C.low,M=E.high,Q=E.low,L=B.high,K=B.low,G=j.high,q=j.low,W=N,re=S,le=k,ne=I,ce=T,Ae=O,ve=U,Y=H,pe=R,Ee=D,Re=M,$e=Q,wt=L,X=K,ee=G,ie=q,ge=0;ge<80;ge++){var we,xe,Ve=h[ge];if(ge<16)xe=Ve.high=p[g+ge*2]|0,we=Ve.low=p[g+ge*2+1]|0;else{var lt=h[ge-15],nt=lt.high,it=lt.low,oe=(nt>>>1|it<<31)^(nt>>>8|it<<24)^nt>>>7,Se=(it>>>1|nt<<31)^(it>>>8|nt<<24)^(it>>>7|nt<<25),tt=h[ge-2],Ye=tt.high,gt=tt.low,ir=(Ye>>>19|gt<<13)^(Ye<<3|gt>>>29)^Ye>>>6,pa=(gt>>>19|Ye<<13)^(gt<<3|Ye>>>29)^(gt>>>6|Ye<<26),fr=h[ge-7],br=fr.high,Jl=fr.low,At=h[ge-16],Vt=At.high,Ft=At.low;we=Se+Jl,xe=oe+br+(we>>>0<Se>>>0?1:0),we=we+pa,xe=xe+ir+(we>>>0<pa>>>0?1:0),we=we+Ft,xe=xe+Vt+(we>>>0<Ft>>>0?1:0),Ve.high=xe,Ve.low=we}var Pr=pe&Re^~pe&wt,un=Ee&$e^~Ee&X,Gs=W&le^W&ce^le&ce,ms=re&ne^re&Ae^ne&Ae,yg=(W>>>28|re<<4)^(W<<30|re>>>2)^(W<<25|re>>>7),Zl=(re>>>28|W<<4)^(re<<30|W>>>2)^(re<<25|W>>>7),bg=(pe>>>14|Ee<<18)^(pe>>>18|Ee<<14)^(pe<<23|Ee>>>9),ec=(Ee>>>14|pe<<18)^(Ee>>>18|pe<<14)^(Ee<<23|pe>>>9),xh=d[ge],_n=xh.high,vh=xh.low,Zr=ie+ec,ga=ee+bg+(Zr>>>0<ie>>>0?1:0),Zr=Zr+un,ga=ga+Pr+(Zr>>>0<un>>>0?1:0),Zr=Zr+vh,ga=ga+_n+(Zr>>>0<vh>>>0?1:0),Zr=Zr+we,ga=ga+xe+(Zr>>>0<we>>>0?1:0),wg=Zl+ms,Zw=yg+Gs+(wg>>>0<Zl>>>0?1:0);ee=wt,ie=X,wt=Re,X=$e,Re=pe,$e=Ee,Ee=Y+Zr|0,pe=ve+ga+(Ee>>>0<Y>>>0?1:0)|0,ve=ce,Y=Ae,ce=le,Ae=ne,le=W,ne=re,re=Zr+wg|0,W=ga+Zw+(re>>>0<Zr>>>0?1:0)|0}S=b.low=S+re,b.high=N+W+(S>>>0<re>>>0?1:0),I=y.low=I+ne,y.high=k+le+(I>>>0<ne>>>0?1:0),O=w.low=O+Ae,w.high=T+ce+(O>>>0<Ae>>>0?1:0),H=x.low=H+Y,x.high=U+ve+(H>>>0<Y>>>0?1:0),D=C.low=D+Ee,C.high=R+pe+(D>>>0<Ee>>>0?1:0),Q=E.low=Q+$e,E.high=M+Re+(Q>>>0<$e>>>0?1:0),K=B.low=K+X,B.high=L+wt+(K>>>0<X>>>0?1:0),q=j.low=q+ie,j.high=G+ee+(q>>>0<ie>>>0?1:0)},_doFinalize:function(){var p=this._data,g=p.words,m=this._nDataBytes*8,b=p.sigBytes*8;g[b>>>5]|=128<<24-b%32,g[(b+128>>>10<<5)+30]=Math.floor(m/4294967296),g[(b+128>>>10<<5)+31]=m,p.sigBytes=g.length*4,this._process();var y=this._hash.toX32();return y},clone:function(){var p=s.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});n.SHA512=s._createHelper(f),n.HmacSHA512=s._createHmacHelper(f)}(),r.SHA512})}(Tx)),Tx.exports}var Ix={exports:{}},r8e=Ix.exports,OL;function n8e(){return OL||(OL=1,function(t,e){(function(r,n,a){t.exports=n($t(),Yw(),uee())})(r8e,function(r){return function(){var n=r,a=n.x64,s=a.Word,o=a.WordArray,l=n.algo,c=l.SHA512,u=l.SHA384=c.extend({_doReset:function(){this._hash=new o.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var A=c._doFinalize.call(this);return A.sigBytes-=16,A}});n.SHA384=c._createHelper(u),n.HmacSHA384=c._createHmacHelper(u)}(),r.SHA384})}(Ix)),Ix.exports}var Px={exports:{}},a8e=Px.exports,RL;function s8e(){return RL||(RL=1,function(t,e){(function(r,n,a){t.exports=n($t(),Yw())})(a8e,function(r){return function(n){var a=r,s=a.lib,o=s.WordArray,l=s.Hasher,c=a.x64,u=c.Word,A=a.algo,d=[],h=[],f=[];(function(){for(var m=1,b=0,y=0;y<24;y++){d[m+5*b]=(y+1)*(y+2)/2%64;var w=b%5,x=(2*m+3*b)%5;m=w,b=x}for(var m=0;m<5;m++)for(var b=0;b<5;b++)h[m+5*b]=b+(2*m+3*b)%5*5;for(var C=1,E=0;E<24;E++){for(var B=0,j=0,N=0;N<7;N++){if(C&1){var S=(1<<N)-1;S<32?j^=1<<S:B^=1<<S-32}C&128?C=C<<1^113:C<<=1}f[E]=u.create(B,j)}})();var p=[];(function(){for(var m=0;m<25;m++)p[m]=u.create()})();var g=A.SHA3=l.extend({cfg:l.cfg.extend({outputLength:512}),_doReset:function(){for(var m=this._state=[],b=0;b<25;b++)m[b]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(m,b){for(var y=this._state,w=this.blockSize/2,x=0;x<w;x++){var C=m[b+2*x],E=m[b+2*x+1];C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360;var B=y[x];B.high^=E,B.low^=C}for(var j=0;j<24;j++){for(var N=0;N<5;N++){for(var S=0,k=0,I=0;I<5;I++){var B=y[N+5*I];S^=B.high,k^=B.low}var T=p[N];T.high=S,T.low=k}for(var N=0;N<5;N++)for(var O=p[(N+4)%5],U=p[(N+1)%5],H=U.high,R=U.low,S=O.high^(H<<1|R>>>31),k=O.low^(R<<1|H>>>31),I=0;I<5;I++){var B=y[N+5*I];B.high^=S,B.low^=k}for(var D=1;D<25;D++){var S,k,B=y[D],M=B.high,Q=B.low,L=d[D];L<32?(S=M<<L|Q>>>32-L,k=Q<<L|M>>>32-L):(S=Q<<L-32|M>>>64-L,k=M<<L-32|Q>>>64-L);var K=p[h[D]];K.high=S,K.low=k}var G=p[0],q=y[0];G.high=q.high,G.low=q.low;for(var N=0;N<5;N++)for(var I=0;I<5;I++){var D=N+5*I,B=y[D],W=p[D],re=p[(N+1)%5+5*I],le=p[(N+2)%5+5*I];B.high=W.high^~re.high&le.high,B.low=W.low^~re.low&le.low}var B=y[0],ne=f[j];B.high^=ne.high,B.low^=ne.low}},_doFinalize:function(){var m=this._data,b=m.words;this._nDataBytes*8;var y=m.sigBytes*8,w=this.blockSize*32;b[y>>>5]|=1<<24-y%32,b[(n.ceil((y+1)/w)*w>>>5)-1]|=128,m.sigBytes=b.length*4,this._process();for(var x=this._state,C=this.cfg.outputLength/8,E=C/8,B=[],j=0;j<E;j++){var N=x[j],S=N.high,k=N.low;S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,B.push(k),B.push(S)}return new o.init(B,C)},clone:function(){for(var m=l.clone.call(this),b=m._state=this._state.slice(0),y=0;y<25;y++)b[y]=b[y].clone();return m}});a.SHA3=l._createHelper(g),a.HmacSHA3=l._createHmacHelper(g)}(Math),r.SHA3})}(Px)),Px.exports}var Fx={exports:{}},i8e=Fx.exports,UL;function o8e(){return UL||(UL=1,function(t,e){(function(r,n){t.exports=n($t())})(i8e,function(r){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var a=r,s=a.lib,o=s.WordArray,l=s.Hasher,c=a.algo,u=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),A=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),d=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),f=o.create([0,1518500249,1859775393,2400959708,2840853838]),p=o.create([1352829926,1548603684,1836072691,2053994217,0]),g=c.RIPEMD160=l.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(E,B){for(var j=0;j<16;j++){var N=B+j,S=E[N];E[N]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}var k=this._hash.words,I=f.words,T=p.words,O=u.words,U=A.words,H=d.words,R=h.words,D,M,Q,L,K,G,q,W,re,le;G=D=k[0],q=M=k[1],W=Q=k[2],re=L=k[3],le=K=k[4];for(var ne,j=0;j<80;j+=1)ne=D+E[B+O[j]]|0,j<16?ne+=m(M,Q,L)+I[0]:j<32?ne+=b(M,Q,L)+I[1]:j<48?ne+=y(M,Q,L)+I[2]:j<64?ne+=w(M,Q,L)+I[3]:ne+=x(M,Q,L)+I[4],ne=ne|0,ne=C(ne,H[j]),ne=ne+K|0,D=K,K=L,L=C(Q,10),Q=M,M=ne,ne=G+E[B+U[j]]|0,j<16?ne+=x(q,W,re)+T[0]:j<32?ne+=w(q,W,re)+T[1]:j<48?ne+=y(q,W,re)+T[2]:j<64?ne+=b(q,W,re)+T[3]:ne+=m(q,W,re)+T[4],ne=ne|0,ne=C(ne,R[j]),ne=ne+le|0,G=le,le=re,re=C(W,10),W=q,q=ne;ne=k[1]+Q+re|0,k[1]=k[2]+L+le|0,k[2]=k[3]+K+G|0,k[3]=k[4]+D+q|0,k[4]=k[0]+M+W|0,k[0]=ne},_doFinalize:function(){var E=this._data,B=E.words,j=this._nDataBytes*8,N=E.sigBytes*8;B[N>>>5]|=128<<24-N%32,B[(N+64>>>9<<4)+14]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,E.sigBytes=(B.length+1)*4,this._process();for(var S=this._hash,k=S.words,I=0;I<5;I++){var T=k[I];k[I]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}return S},clone:function(){var E=l.clone.call(this);return E._hash=this._hash.clone(),E}});function m(E,B,j){return E^B^j}function b(E,B,j){return E&B|~E&j}function y(E,B,j){return(E|~B)^j}function w(E,B,j){return E&j|B&~j}function x(E,B,j){return E^(B|~j)}function C(E,B){return E<<B|E>>>32-B}a.RIPEMD160=l._createHelper(g),a.HmacRIPEMD160=l._createHmacHelper(g)}(),r.RIPEMD160})}(Fx)),Fx.exports}var Dx={exports:{}},l8e=Dx.exports,ML;function HP(){return ML||(ML=1,function(t,e){(function(r,n){t.exports=n($t())})(l8e,function(r){(function(){var n=r,a=n.lib,s=a.Base,o=n.enc,l=o.Utf8,c=n.algo;c.HMAC=s.extend({init:function(u,A){u=this._hasher=new u.init,typeof A=="string"&&(A=l.parse(A));var d=u.blockSize,h=d*4;A.sigBytes>h&&(A=u.finalize(A)),A.clamp();for(var f=this._oKey=A.clone(),p=this._iKey=A.clone(),g=f.words,m=p.words,b=0;b<d;b++)g[b]^=1549556828,m[b]^=909522486;f.sigBytes=p.sigBytes=h,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var A=this._hasher,d=A.finalize(u);A.reset();var h=A.finalize(this._oKey.clone().concat(d));return h}})})()})}(Dx)),Dx.exports}var Ox={exports:{}},c8e=Ox.exports,QL;function u8e(){return QL||(QL=1,function(t,e){(function(r,n,a){t.exports=n($t(),LP(),HP())})(c8e,function(r){return function(){var n=r,a=n.lib,s=a.Base,o=a.WordArray,l=n.algo,c=l.SHA256,u=l.HMAC,A=l.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:c,iterations:25e4}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,h){for(var f=this.cfg,p=u.create(f.hasher,d),g=o.create(),m=o.create([1]),b=g.words,y=m.words,w=f.keySize,x=f.iterations;b.length<w;){var C=p.update(h).finalize(m);p.reset();for(var E=C.words,B=E.length,j=C,N=1;N<x;N++){j=p.finalize(j),p.reset();for(var S=j.words,k=0;k<B;k++)E[k]^=S[k]}g.concat(C),y[0]++}return g.sigBytes=w*4,g}});n.PBKDF2=function(d,h,f){return A.create(f).compute(d,h)}}(),r.PBKDF2})}(Ox)),Ox.exports}var Rx={exports:{}},A8e=Rx.exports,LL;function Xl(){return LL||(LL=1,function(t,e){(function(r,n,a){t.exports=n($t(),cee(),HP())})(A8e,function(r){return function(){var n=r,a=n.lib,s=a.Base,o=a.WordArray,l=n.algo,c=l.MD5,u=l.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:c,iterations:1}),init:function(A){this.cfg=this.cfg.extend(A)},compute:function(A,d){for(var h,f=this.cfg,p=f.hasher.create(),g=o.create(),m=g.words,b=f.keySize,y=f.iterations;m.length<b;){h&&p.update(h),h=p.update(A).finalize(d),p.reset();for(var w=1;w<y;w++)h=p.finalize(h),p.reset();g.concat(h)}return g.sigBytes=b*4,g}});n.EvpKDF=function(A,d,h){return u.create(h).compute(A,d)}}(),r.EvpKDF})}(Rx)),Rx.exports}var Ux={exports:{}},d8e=Ux.exports,HL;function wn(){return HL||(HL=1,function(t,e){(function(r,n,a){t.exports=n($t(),Xl())})(d8e,function(r){r.lib.Cipher||function(n){var a=r,s=a.lib,o=s.Base,l=s.WordArray,c=s.BufferedBlockAlgorithm,u=a.enc;u.Utf8;var A=u.Base64,d=a.algo,h=d.EvpKDF,f=s.Cipher=c.extend({cfg:o.extend(),createEncryptor:function(S,k){return this.create(this._ENC_XFORM_MODE,S,k)},createDecryptor:function(S,k){return this.create(this._DEC_XFORM_MODE,S,k)},init:function(S,k,I){this.cfg=this.cfg.extend(I),this._xformMode=S,this._key=k,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(S){return this._append(S),this._process()},finalize:function(S){S&&this._append(S);var k=this._doFinalize();return k},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function S(k){return typeof k=="string"?N:E}return function(k){return{encrypt:function(I,T,O){return S(T).encrypt(k,I,T,O)},decrypt:function(I,T,O){return S(T).decrypt(k,I,T,O)}}}}()});s.StreamCipher=f.extend({_doFinalize:function(){var S=this._process(!0);return S},blockSize:1});var p=a.mode={},g=s.BlockCipherMode=o.extend({createEncryptor:function(S,k){return this.Encryptor.create(S,k)},createDecryptor:function(S,k){return this.Decryptor.create(S,k)},init:function(S,k){this._cipher=S,this._iv=k}}),m=p.CBC=function(){var S=g.extend();S.Encryptor=S.extend({processBlock:function(I,T){var O=this._cipher,U=O.blockSize;k.call(this,I,T,U),O.encryptBlock(I,T),this._prevBlock=I.slice(T,T+U)}}),S.Decryptor=S.extend({processBlock:function(I,T){var O=this._cipher,U=O.blockSize,H=I.slice(T,T+U);O.decryptBlock(I,T),k.call(this,I,T,U),this._prevBlock=H}});function k(I,T,O){var U,H=this._iv;H?(U=H,this._iv=n):U=this._prevBlock;for(var R=0;R<O;R++)I[T+R]^=U[R]}return S}(),b=a.pad={},y=b.Pkcs7={pad:function(S,k){for(var I=k*4,T=I-S.sigBytes%I,O=T<<24|T<<16|T<<8|T,U=[],H=0;H<T;H+=4)U.push(O);var R=l.create(U,T);S.concat(R)},unpad:function(S){var k=S.words[S.sigBytes-1>>>2]&255;S.sigBytes-=k}};s.BlockCipher=f.extend({cfg:f.cfg.extend({mode:m,padding:y}),reset:function(){var S;f.reset.call(this);var k=this.cfg,I=k.iv,T=k.mode;this._xformMode==this._ENC_XFORM_MODE?S=T.createEncryptor:(S=T.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==S?this._mode.init(this,I&&I.words):(this._mode=S.call(T,this,I&&I.words),this._mode.__creator=S)},_doProcessBlock:function(S,k){this._mode.processBlock(S,k)},_doFinalize:function(){var S,k=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(k.pad(this._data,this.blockSize),S=this._process(!0)):(S=this._process(!0),k.unpad(S)),S},blockSize:128/32});var w=s.CipherParams=o.extend({init:function(S){this.mixIn(S)},toString:function(S){return(S||this.formatter).stringify(this)}}),x=a.format={},C=x.OpenSSL={stringify:function(S){var k,I=S.ciphertext,T=S.salt;return T?k=l.create([1398893684,1701076831]).concat(T).concat(I):k=I,k.toString(A)},parse:function(S){var k,I=A.parse(S),T=I.words;return T[0]==1398893684&&T[1]==1701076831&&(k=l.create(T.slice(2,4)),T.splice(0,4),I.sigBytes-=16),w.create({ciphertext:I,salt:k})}},E=s.SerializableCipher=o.extend({cfg:o.extend({format:C}),encrypt:function(S,k,I,T){T=this.cfg.extend(T);var O=S.createEncryptor(I,T),U=O.finalize(k),H=O.cfg;return w.create({ciphertext:U,key:I,iv:H.iv,algorithm:S,mode:H.mode,padding:H.padding,blockSize:S.blockSize,formatter:T.format})},decrypt:function(S,k,I,T){T=this.cfg.extend(T),k=this._parse(k,T.format);var O=S.createDecryptor(I,T).finalize(k.ciphertext);return O},_parse:function(S,k){return typeof S=="string"?k.parse(S,this):S}}),B=a.kdf={},j=B.OpenSSL={execute:function(S,k,I,T,O){if(T||(T=l.random(64/8)),O)var U=h.create({keySize:k+I,hasher:O}).compute(S,T);else var U=h.create({keySize:k+I}).compute(S,T);var H=l.create(U.words.slice(k),I*4);return U.sigBytes=k*4,w.create({key:U,iv:H,salt:T})}},N=s.PasswordBasedCipher=E.extend({cfg:E.cfg.extend({kdf:j}),encrypt:function(S,k,I,T){T=this.cfg.extend(T);var O=T.kdf.execute(I,S.keySize,S.ivSize,T.salt,T.hasher);T.iv=O.iv;var U=E.encrypt.call(this,S,k,O.key,T);return U.mixIn(O),U},decrypt:function(S,k,I,T){T=this.cfg.extend(T),k=this._parse(k,T.format);var O=T.kdf.execute(I,S.keySize,S.ivSize,k.salt,T.hasher);T.iv=O.iv;var U=E.decrypt.call(this,S,k,O.key,T);return U}})}()})}(Ux)),Ux.exports}var Mx={exports:{}},h8e=Mx.exports,$L;function f8e(){return $L||($L=1,function(t,e){(function(r,n,a){t.exports=n($t(),wn())})(h8e,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(s,o){var l=this._cipher,c=l.blockSize;a.call(this,s,o,c,l),this._prevBlock=s.slice(o,o+c)}}),n.Decryptor=n.extend({processBlock:function(s,o){var l=this._cipher,c=l.blockSize,u=s.slice(o,o+c);a.call(this,s,o,c,l),this._prevBlock=u}});function a(s,o,l,c){var u,A=this._iv;A?(u=A.slice(0),this._iv=void 0):u=this._prevBlock,c.encryptBlock(u,0);for(var d=0;d<l;d++)s[o+d]^=u[d]}return n}(),r.mode.CFB})}(Mx)),Mx.exports}var Qx={exports:{}},m8e=Qx.exports,VL;function p8e(){return VL||(VL=1,function(t,e){(function(r,n,a){t.exports=n($t(),wn())})(m8e,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),a=n.Encryptor=n.extend({processBlock:function(s,o){var l=this._cipher,c=l.blockSize,u=this._iv,A=this._counter;u&&(A=this._counter=u.slice(0),this._iv=void 0);var d=A.slice(0);l.encryptBlock(d,0),A[c-1]=A[c-1]+1|0;for(var h=0;h<c;h++)s[o+h]^=d[h]}});return n.Decryptor=a,n}(),r.mode.CTR})}(Qx)),Qx.exports}var Lx={exports:{}},g8e=Lx.exports,KL;function x8e(){return KL||(KL=1,function(t,e){(function(r,n,a){t.exports=n($t(),wn())})(g8e,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function a(l){if((l>>24&255)===255){var c=l>>16&255,u=l>>8&255,A=l&255;c===255?(c=0,u===255?(u=0,A===255?A=0:++A):++u):++c,l=0,l+=c<<16,l+=u<<8,l+=A}else l+=1<<24;return l}function s(l){return(l[0]=a(l[0]))===0&&(l[1]=a(l[1])),l}var o=n.Encryptor=n.extend({processBlock:function(l,c){var u=this._cipher,A=u.blockSize,d=this._iv,h=this._counter;d&&(h=this._counter=d.slice(0),this._iv=void 0),s(h);var f=h.slice(0);u.encryptBlock(f,0);for(var p=0;p<A;p++)l[c+p]^=f[p]}});return n.Decryptor=o,n}(),r.mode.CTRGladman})}(Lx)),Lx.exports}var Hx={exports:{}},v8e=Hx.exports,qL;function y8e(){return qL||(qL=1,function(t,e){(function(r,n,a){t.exports=n($t(),wn())})(v8e,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),a=n.Encryptor=n.extend({processBlock:function(s,o){var l=this._cipher,c=l.blockSize,u=this._iv,A=this._keystream;u&&(A=this._keystream=u.slice(0),this._iv=void 0),l.encryptBlock(A,0);for(var d=0;d<c;d++)s[o+d]^=A[d]}});return n.Decryptor=a,n}(),r.mode.OFB})}(Hx)),Hx.exports}var $x={exports:{}},b8e=$x.exports,zL;function w8e(){return zL||(zL=1,function(t,e){(function(r,n,a){t.exports=n($t(),wn())})(b8e,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(a,s){this._cipher.encryptBlock(a,s)}}),n.Decryptor=n.extend({processBlock:function(a,s){this._cipher.decryptBlock(a,s)}}),n}(),r.mode.ECB})}($x)),$x.exports}var Vx={exports:{}},_8e=Vx.exports,GL;function B8e(){return GL||(GL=1,function(t,e){(function(r,n,a){t.exports=n($t(),wn())})(_8e,function(r){return r.pad.AnsiX923={pad:function(n,a){var s=n.sigBytes,o=a*4,l=o-s%o,c=s+l-1;n.clamp(),n.words[c>>>2]|=l<<24-c%4*8,n.sigBytes+=l},unpad:function(n){var a=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=a}},r.pad.Ansix923})}(Vx)),Vx.exports}var Kx={exports:{}},C8e=Kx.exports,WL;function j8e(){return WL||(WL=1,function(t,e){(function(r,n,a){t.exports=n($t(),wn())})(C8e,function(r){return r.pad.Iso10126={pad:function(n,a){var s=a*4,o=s-n.sigBytes%s;n.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(n){var a=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=a}},r.pad.Iso10126})}(Kx)),Kx.exports}var qx={exports:{}},E8e=qx.exports,XL;function S8e(){return XL||(XL=1,function(t,e){(function(r,n,a){t.exports=n($t(),wn())})(E8e,function(r){return r.pad.Iso97971={pad:function(n,a){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,a)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(qx)),qx.exports}var zx={exports:{}},N8e=zx.exports,YL;function k8e(){return YL||(YL=1,function(t,e){(function(r,n,a){t.exports=n($t(),wn())})(N8e,function(r){return r.pad.ZeroPadding={pad:function(n,a){var s=a*4;n.clamp(),n.sigBytes+=s-(n.sigBytes%s||s)},unpad:function(n){for(var a=n.words,s=n.sigBytes-1,s=n.sigBytes-1;s>=0;s--)if(a[s>>>2]>>>24-s%4*8&255){n.sigBytes=s+1;break}}},r.pad.ZeroPadding})}(zx)),zx.exports}var Gx={exports:{}},T8e=Gx.exports,JL;function I8e(){return JL||(JL=1,function(t,e){(function(r,n,a){t.exports=n($t(),wn())})(T8e,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(Gx)),Gx.exports}var Wx={exports:{}},P8e=Wx.exports,ZL;function F8e(){return ZL||(ZL=1,function(t,e){(function(r,n,a){t.exports=n($t(),wn())})(P8e,function(r){return function(n){var a=r,s=a.lib,o=s.CipherParams,l=a.enc,c=l.Hex,u=a.format;u.Hex={stringify:function(A){return A.ciphertext.toString(c)},parse:function(A){var d=c.parse(A);return o.create({ciphertext:d})}}}(),r.format.Hex})}(Wx)),Wx.exports}var Xx={exports:{}},D8e=Xx.exports,eH;function O8e(){return eH||(eH=1,function(t,e){(function(r,n,a){t.exports=n($t(),Cu(),ju(),Xl(),wn())})(D8e,function(r){return function(){var n=r,a=n.lib,s=a.BlockCipher,o=n.algo,l=[],c=[],u=[],A=[],d=[],h=[],f=[],p=[],g=[],m=[];(function(){for(var w=[],x=0;x<256;x++)x<128?w[x]=x<<1:w[x]=x<<1^283;for(var C=0,E=0,x=0;x<256;x++){var B=E^E<<1^E<<2^E<<3^E<<4;B=B>>>8^B&255^99,l[C]=B,c[B]=C;var j=w[C],N=w[j],S=w[N],k=w[B]*257^B*16843008;u[C]=k<<24|k>>>8,A[C]=k<<16|k>>>16,d[C]=k<<8|k>>>24,h[C]=k;var k=S*16843009^N*65537^j*257^C*16843008;f[B]=k<<24|k>>>8,p[B]=k<<16|k>>>16,g[B]=k<<8|k>>>24,m[B]=k,C?(C=j^w[w[w[S^j]]],E^=w[w[E]]):C=E=1}})();var b=[0,1,2,4,8,16,32,64,128,27,54],y=o.AES=s.extend({_doReset:function(){var w;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var x=this._keyPriorReset=this._key,C=x.words,E=x.sigBytes/4,B=this._nRounds=E+6,j=(B+1)*4,N=this._keySchedule=[],S=0;S<j;S++)S<E?N[S]=C[S]:(w=N[S-1],S%E?E>6&&S%E==4&&(w=l[w>>>24]<<24|l[w>>>16&255]<<16|l[w>>>8&255]<<8|l[w&255]):(w=w<<8|w>>>24,w=l[w>>>24]<<24|l[w>>>16&255]<<16|l[w>>>8&255]<<8|l[w&255],w^=b[S/E|0]<<24),N[S]=N[S-E]^w);for(var k=this._invKeySchedule=[],I=0;I<j;I++){var S=j-I;if(I%4)var w=N[S];else var w=N[S-4];I<4||S<=4?k[I]=w:k[I]=f[l[w>>>24]]^p[l[w>>>16&255]]^g[l[w>>>8&255]]^m[l[w&255]]}}},encryptBlock:function(w,x){this._doCryptBlock(w,x,this._keySchedule,u,A,d,h,l)},decryptBlock:function(w,x){var C=w[x+1];w[x+1]=w[x+3],w[x+3]=C,this._doCryptBlock(w,x,this._invKeySchedule,f,p,g,m,c);var C=w[x+1];w[x+1]=w[x+3],w[x+3]=C},_doCryptBlock:function(w,x,C,E,B,j,N,S){for(var k=this._nRounds,I=w[x]^C[0],T=w[x+1]^C[1],O=w[x+2]^C[2],U=w[x+3]^C[3],H=4,R=1;R<k;R++){var D=E[I>>>24]^B[T>>>16&255]^j[O>>>8&255]^N[U&255]^C[H++],M=E[T>>>24]^B[O>>>16&255]^j[U>>>8&255]^N[I&255]^C[H++],Q=E[O>>>24]^B[U>>>16&255]^j[I>>>8&255]^N[T&255]^C[H++],L=E[U>>>24]^B[I>>>16&255]^j[T>>>8&255]^N[O&255]^C[H++];I=D,T=M,O=Q,U=L}var D=(S[I>>>24]<<24|S[T>>>16&255]<<16|S[O>>>8&255]<<8|S[U&255])^C[H++],M=(S[T>>>24]<<24|S[O>>>16&255]<<16|S[U>>>8&255]<<8|S[I&255])^C[H++],Q=(S[O>>>24]<<24|S[U>>>16&255]<<16|S[I>>>8&255]<<8|S[T&255])^C[H++],L=(S[U>>>24]<<24|S[I>>>16&255]<<16|S[T>>>8&255]<<8|S[O&255])^C[H++];w[x]=D,w[x+1]=M,w[x+2]=Q,w[x+3]=L},keySize:256/32});n.AES=s._createHelper(y)}(),r.AES})}(Xx)),Xx.exports}var Yx={exports:{}},R8e=Yx.exports,tH;function U8e(){return tH||(tH=1,function(t,e){(function(r,n,a){t.exports=n($t(),Cu(),ju(),Xl(),wn())})(R8e,function(r){return function(){var n=r,a=n.lib,s=a.WordArray,o=a.BlockCipher,l=n.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],A=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=l.DES=o.extend({_doReset:function(){for(var b=this._key,y=b.words,w=[],x=0;x<56;x++){var C=c[x]-1;w[x]=y[C>>>5]>>>31-C%32&1}for(var E=this._subKeys=[],B=0;B<16;B++){for(var j=E[B]=[],N=A[B],x=0;x<24;x++)j[x/6|0]|=w[(u[x]-1+N)%28]<<31-x%6,j[4+(x/6|0)]|=w[28+(u[x+24]-1+N)%28]<<31-x%6;j[0]=j[0]<<1|j[0]>>>31;for(var x=1;x<7;x++)j[x]=j[x]>>>(x-1)*4+3;j[7]=j[7]<<5|j[7]>>>27}for(var S=this._invSubKeys=[],x=0;x<16;x++)S[x]=E[15-x]},encryptBlock:function(b,y){this._doCryptBlock(b,y,this._subKeys)},decryptBlock:function(b,y){this._doCryptBlock(b,y,this._invSubKeys)},_doCryptBlock:function(b,y,w){this._lBlock=b[y],this._rBlock=b[y+1],p.call(this,4,252645135),p.call(this,16,65535),g.call(this,2,858993459),g.call(this,8,16711935),p.call(this,1,1431655765);for(var x=0;x<16;x++){for(var C=w[x],E=this._lBlock,B=this._rBlock,j=0,N=0;N<8;N++)j|=d[N][((B^C[N])&h[N])>>>0];this._lBlock=B,this._rBlock=E^j}var S=this._lBlock;this._lBlock=this._rBlock,this._rBlock=S,p.call(this,1,1431655765),g.call(this,8,16711935),g.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),b[y]=this._lBlock,b[y+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(b,y){var w=(this._lBlock>>>b^this._rBlock)&y;this._rBlock^=w,this._lBlock^=w<<b}function g(b,y){var w=(this._rBlock>>>b^this._lBlock)&y;this._lBlock^=w,this._rBlock^=w<<b}n.DES=o._createHelper(f);var m=l.TripleDES=o.extend({_doReset:function(){var b=this._key,y=b.words;if(y.length!==2&&y.length!==4&&y.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var w=y.slice(0,2),x=y.length<4?y.slice(0,2):y.slice(2,4),C=y.length<6?y.slice(0,2):y.slice(4,6);this._des1=f.createEncryptor(s.create(w)),this._des2=f.createEncryptor(s.create(x)),this._des3=f.createEncryptor(s.create(C))},encryptBlock:function(b,y){this._des1.encryptBlock(b,y),this._des2.decryptBlock(b,y),this._des3.encryptBlock(b,y)},decryptBlock:function(b,y){this._des3.decryptBlock(b,y),this._des2.encryptBlock(b,y),this._des1.decryptBlock(b,y)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=o._createHelper(m)}(),r.TripleDES})}(Yx)),Yx.exports}var Jx={exports:{}},M8e=Jx.exports,rH;function Q8e(){return rH||(rH=1,function(t,e){(function(r,n,a){t.exports=n($t(),Cu(),ju(),Xl(),wn())})(M8e,function(r){return function(){var n=r,a=n.lib,s=a.StreamCipher,o=n.algo,l=o.RC4=s.extend({_doReset:function(){for(var A=this._key,d=A.words,h=A.sigBytes,f=this._S=[],p=0;p<256;p++)f[p]=p;for(var p=0,g=0;p<256;p++){var m=p%h,b=d[m>>>2]>>>24-m%4*8&255;g=(g+f[p]+b)%256;var y=f[p];f[p]=f[g],f[g]=y}this._i=this._j=0},_doProcessBlock:function(A,d){A[d]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var A=this._S,d=this._i,h=this._j,f=0,p=0;p<4;p++){d=(d+1)%256,h=(h+A[d])%256;var g=A[d];A[d]=A[h],A[h]=g,f|=A[(A[d]+A[h])%256]<<24-p*8}return this._i=d,this._j=h,f}n.RC4=s._createHelper(l);var u=o.RC4Drop=l.extend({cfg:l.cfg.extend({drop:192}),_doReset:function(){l._doReset.call(this);for(var A=this.cfg.drop;A>0;A--)c.call(this)}});n.RC4Drop=s._createHelper(u)}(),r.RC4})}(Jx)),Jx.exports}var Zx={exports:{}},L8e=Zx.exports,nH;function H8e(){return nH||(nH=1,function(t,e){(function(r,n,a){t.exports=n($t(),Cu(),ju(),Xl(),wn())})(L8e,function(r){return function(){var n=r,a=n.lib,s=a.StreamCipher,o=n.algo,l=[],c=[],u=[],A=o.Rabbit=s.extend({_doReset:function(){for(var h=this._key.words,f=this.cfg.iv,p=0;p<4;p++)h[p]=(h[p]<<8|h[p]>>>24)&16711935|(h[p]<<24|h[p]>>>8)&4278255360;var g=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],m=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var p=0;p<4;p++)d.call(this);for(var p=0;p<8;p++)m[p]^=g[p+4&7];if(f){var b=f.words,y=b[0],w=b[1],x=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,C=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,E=x>>>16|C&4294901760,B=C<<16|x&65535;m[0]^=x,m[1]^=E,m[2]^=C,m[3]^=B,m[4]^=x,m[5]^=E,m[6]^=C,m[7]^=B;for(var p=0;p<4;p++)d.call(this)}},_doProcessBlock:function(h,f){var p=this._X;d.call(this),l[0]=p[0]^p[5]>>>16^p[3]<<16,l[1]=p[2]^p[7]>>>16^p[5]<<16,l[2]=p[4]^p[1]>>>16^p[7]<<16,l[3]=p[6]^p[3]>>>16^p[1]<<16;for(var g=0;g<4;g++)l[g]=(l[g]<<8|l[g]>>>24)&16711935|(l[g]<<24|l[g]>>>8)&4278255360,h[f+g]^=l[g]},blockSize:128/32,ivSize:64/32});function d(){for(var h=this._X,f=this._C,p=0;p<8;p++)c[p]=f[p];f[0]=f[0]+1295307597+this._b|0,f[1]=f[1]+3545052371+(f[0]>>>0<c[0]>>>0?1:0)|0,f[2]=f[2]+886263092+(f[1]>>>0<c[1]>>>0?1:0)|0,f[3]=f[3]+1295307597+(f[2]>>>0<c[2]>>>0?1:0)|0,f[4]=f[4]+3545052371+(f[3]>>>0<c[3]>>>0?1:0)|0,f[5]=f[5]+886263092+(f[4]>>>0<c[4]>>>0?1:0)|0,f[6]=f[6]+1295307597+(f[5]>>>0<c[5]>>>0?1:0)|0,f[7]=f[7]+3545052371+(f[6]>>>0<c[6]>>>0?1:0)|0,this._b=f[7]>>>0<c[7]>>>0?1:0;for(var p=0;p<8;p++){var g=h[p]+f[p],m=g&65535,b=g>>>16,y=((m*m>>>17)+m*b>>>15)+b*b,w=((g&4294901760)*g|0)+((g&65535)*g|0);u[p]=y^w}h[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,h[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,h[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,h[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,h[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,h[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,h[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,h[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}n.Rabbit=s._createHelper(A)}(),r.Rabbit})}(Zx)),Zx.exports}var ev={exports:{}},$8e=ev.exports,aH;function V8e(){return aH||(aH=1,function(t,e){(function(r,n,a){t.exports=n($t(),Cu(),ju(),Xl(),wn())})($8e,function(r){return function(){var n=r,a=n.lib,s=a.StreamCipher,o=n.algo,l=[],c=[],u=[],A=o.RabbitLegacy=s.extend({_doReset:function(){var h=this._key.words,f=this.cfg.iv,p=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],g=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var m=0;m<4;m++)d.call(this);for(var m=0;m<8;m++)g[m]^=p[m+4&7];if(f){var b=f.words,y=b[0],w=b[1],x=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,C=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,E=x>>>16|C&4294901760,B=C<<16|x&65535;g[0]^=x,g[1]^=E,g[2]^=C,g[3]^=B,g[4]^=x,g[5]^=E,g[6]^=C,g[7]^=B;for(var m=0;m<4;m++)d.call(this)}},_doProcessBlock:function(h,f){var p=this._X;d.call(this),l[0]=p[0]^p[5]>>>16^p[3]<<16,l[1]=p[2]^p[7]>>>16^p[5]<<16,l[2]=p[4]^p[1]>>>16^p[7]<<16,l[3]=p[6]^p[3]>>>16^p[1]<<16;for(var g=0;g<4;g++)l[g]=(l[g]<<8|l[g]>>>24)&16711935|(l[g]<<24|l[g]>>>8)&4278255360,h[f+g]^=l[g]},blockSize:128/32,ivSize:64/32});function d(){for(var h=this._X,f=this._C,p=0;p<8;p++)c[p]=f[p];f[0]=f[0]+1295307597+this._b|0,f[1]=f[1]+3545052371+(f[0]>>>0<c[0]>>>0?1:0)|0,f[2]=f[2]+886263092+(f[1]>>>0<c[1]>>>0?1:0)|0,f[3]=f[3]+1295307597+(f[2]>>>0<c[2]>>>0?1:0)|0,f[4]=f[4]+3545052371+(f[3]>>>0<c[3]>>>0?1:0)|0,f[5]=f[5]+886263092+(f[4]>>>0<c[4]>>>0?1:0)|0,f[6]=f[6]+1295307597+(f[5]>>>0<c[5]>>>0?1:0)|0,f[7]=f[7]+3545052371+(f[6]>>>0<c[6]>>>0?1:0)|0,this._b=f[7]>>>0<c[7]>>>0?1:0;for(var p=0;p<8;p++){var g=h[p]+f[p],m=g&65535,b=g>>>16,y=((m*m>>>17)+m*b>>>15)+b*b,w=((g&4294901760)*g|0)+((g&65535)*g|0);u[p]=y^w}h[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,h[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,h[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,h[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,h[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,h[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,h[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,h[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}n.RabbitLegacy=s._createHelper(A)}(),r.RabbitLegacy})}(ev)),ev.exports}var tv={exports:{}},K8e=tv.exports,sH;function q8e(){return sH||(sH=1,function(t,e){(function(r,n,a){t.exports=n($t(),Cu(),ju(),Xl(),wn())})(K8e,function(r){return function(){var n=r,a=n.lib,s=a.BlockCipher,o=n.algo;const l=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var A={pbox:[],sbox:[]};function d(m,b){let y=b>>24&255,w=b>>16&255,x=b>>8&255,C=b&255,E=m.sbox[0][y]+m.sbox[1][w];return E=E^m.sbox[2][x],E=E+m.sbox[3][C],E}function h(m,b,y){let w=b,x=y,C;for(let E=0;E<l;++E)w=w^m.pbox[E],x=d(m,w)^x,C=w,w=x,x=C;return C=w,w=x,x=C,x=x^m.pbox[l],w=w^m.pbox[l+1],{left:w,right:x}}function f(m,b,y){let w=b,x=y,C;for(let E=l+1;E>1;--E)w=w^m.pbox[E],x=d(m,w)^x,C=w,w=x,x=C;return C=w,w=x,x=C,x=x^m.pbox[1],w=w^m.pbox[0],{left:w,right:x}}function p(m,b,y){for(let B=0;B<4;B++){m.sbox[B]=[];for(let j=0;j<256;j++)m.sbox[B][j]=u[B][j]}let w=0;for(let B=0;B<l+2;B++)m.pbox[B]=c[B]^b[w],w++,w>=y&&(w=0);let x=0,C=0,E=0;for(let B=0;B<l+2;B+=2)E=h(m,x,C),x=E.left,C=E.right,m.pbox[B]=x,m.pbox[B+1]=C;for(let B=0;B<4;B++)for(let j=0;j<256;j+=2)E=h(m,x,C),x=E.left,C=E.right,m.sbox[B][j]=x,m.sbox[B][j+1]=C;return!0}var g=o.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var m=this._keyPriorReset=this._key,b=m.words,y=m.sigBytes/4;p(A,b,y)}},encryptBlock:function(m,b){var y=h(A,m[b],m[b+1]);m[b]=y.left,m[b+1]=y.right},decryptBlock:function(m,b){var y=f(A,m[b],m[b+1]);m[b]=y.left,m[b+1]=y.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=s._createHelper(g)}(),r.Blowfish})}(tv)),tv.exports}var z8e=yx.exports,iH;function G8e(){return iH||(iH=1,function(t,e){(function(r,n,a){t.exports=n($t(),Yw(),V6e(),q6e(),Cu(),W6e(),ju(),cee(),LP(),e8e(),uee(),n8e(),s8e(),o8e(),HP(),u8e(),Xl(),wn(),f8e(),p8e(),x8e(),y8e(),w8e(),B8e(),j8e(),S8e(),k8e(),I8e(),F8e(),O8e(),U8e(),Q8e(),H8e(),V8e(),q8e())})(z8e,function(r){return r})}(yx)),yx.exports}var W8e=G8e();const of=Wt(W8e);let X8e={data:""},Y8e=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||X8e,J8e=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Z8e=/\/\*[^]*?\*\/|  +/g,oH=/\n+/g,zo=(t,e)=>{let r="",n="",a="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?r=s+" "+o+";":n+=s[1]=="f"?zo(o,s):s+"{"+zo(o,s[1]=="k"?"":e)+"}":typeof o=="object"?n+=zo(o,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=zo.p?zo.p(s,o):s+":"+o+";")}return r+(e&&a?e+"{"+a+"}":a)+n},Oi={},Aee=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+Aee(t[r]);return e}return t},eLe=(t,e,r,n,a)=>{let s=Aee(t),o=Oi[s]||(Oi[s]=(c=>{let u=0,A=11;for(;u<c.length;)A=101*A+c.charCodeAt(u++)>>>0;return"go"+A})(s));if(!Oi[o]){let c=s!==t?t:(u=>{let A,d,h=[{}];for(;A=J8e.exec(u.replace(Z8e,""));)A[4]?h.shift():A[3]?(d=A[3].replace(oH," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][A[1]]=A[2].replace(oH," ").trim();return h[0]})(t);Oi[o]=zo(a?{["@keyframes "+o]:c}:c,r?"":"."+o)}let l=r&&Oi.g?Oi.g:null;return r&&(Oi.g=Oi[o]),((c,u,A,d)=>{d?u.data=u.data.replace(d,c):u.data.indexOf(c)===-1&&(u.data=A?c+u.data:u.data+c)})(Oi[o],e,n,l),o},tLe=(t,e,r)=>t.reduce((n,a,s)=>{let o=e[s];if(o&&o.call){let l=o(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":zo(l,""):l===!1?"":l}return n+a+(o??"")},"");function Jw(t){let e=this||{},r=t.call?t(e.p):t;return eLe(r.unshift?r.raw?tLe(r,[].slice.call(arguments,1),e.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):r,Y8e(e.target),e.g,e.o,e.k)}let dee,gk,xk;Jw.bind({g:1});let mo=Jw.bind({k:1});function rLe(t,e,r,n){zo.p=e,dee=t,gk=r,xk=n}function Yl(t,e){let r=this||{};return function(){let n=arguments;function a(s,o){let l=Object.assign({},s),c=l.className||a.className;r.p=Object.assign({theme:gk&&gk()},l),r.o=/ *go\d+/.test(c),l.className=Jw.apply(r,n)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),xk&&u[0]&&xk(l),dee(u,l)}return a}}var nLe=t=>typeof t=="function",vk=(t,e)=>nLe(t)?t(e):t,aLe=(()=>{let t=0;return()=>(++t).toString()})(),sLe=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),iLe=20,hee=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,iLe)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:r}=e;return hee(t,{type:t.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},oLe=[],$E={toasts:[],pausedAt:void 0},$P=t=>{$E=hee($E,t),oLe.forEach(e=>{e($E)})},lLe=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||aLe()}),vg=t=>(e,r)=>{let n=lLe(e,t,r);return $P({type:2,toast:n}),n.id},Ma=(t,e)=>vg("blank")(t,e);Ma.error=vg("error");Ma.success=vg("success");Ma.loading=vg("loading");Ma.custom=vg("custom");Ma.dismiss=t=>{$P({type:3,toastId:t})};Ma.remove=t=>$P({type:4,toastId:t});Ma.promise=(t,e,r)=>{let n=Ma.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let s=e.success?vk(e.success,a):void 0;return s?Ma.success(s,{id:n,...r,...r==null?void 0:r.success}):Ma.dismiss(n),a}).catch(a=>{let s=e.error?vk(e.error,a):void 0;s?Ma.error(s,{id:n,...r,...r==null?void 0:r.error}):Ma.dismiss(n)}),t};var cLe=mo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,uLe=mo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ALe=mo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,dLe=Yl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${cLe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${uLe} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ALe} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,hLe=mo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,fLe=Yl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${hLe} 1s linear infinite;
`,mLe=mo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,pLe=mo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,gLe=Yl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mLe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${pLe} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,xLe=Yl("div")`
  position: absolute;
`,vLe=Yl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,yLe=mo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,bLe=Yl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${yLe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,wLe=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?v.createElement(bLe,null,e):e:r==="blank"?null:v.createElement(vLe,null,v.createElement(fLe,{...n}),r!=="loading"&&v.createElement(xLe,null,r==="error"?v.createElement(dLe,{...n}):v.createElement(gLe,{...n})))},_Le=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,BLe=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,CLe="0%{opacity:0;} 100%{opacity:1;}",jLe="0%{opacity:1;} 100%{opacity:0;}",ELe=Yl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,SLe=Yl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,NLe=(t,e)=>{let r=t.includes("top")?1:-1,[n,a]=sLe()?[CLe,jLe]:[_Le(r),BLe(r)];return{animation:e?`${mo(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${mo(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};v.memo(({toast:t,position:e,style:r,children:n})=>{let a=t.height?NLe(t.position||e||"top-center",t.visible):{opacity:0},s=v.createElement(wLe,{toast:t}),o=v.createElement(SLe,{...t.ariaProps},vk(t.message,t));return v.createElement(ELe,{className:t.className,style:{...a,...r,...t.style}},typeof n=="function"?n({icon:s,message:o}):v.createElement(v.Fragment,null,s,o))});rLe(v.createElement);Jw`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var lf=Ma;function kLe(){const[t,e]=v.useState("dashboard"),[r,n]=v.useState(!1),[a,s]=v.useState(!0),[o,l]=v.useState([]),[c,u]=v.useState([]),[A,d]=v.useState([]),[h,f]=v.useState([]),[p,g]=v.useState([]),[m,b]=v.useState([]),[y,w]=v.useState([]),[x,C]=v.useState(null),[E,B]=v.useState(!1),[j,N]=v.useState(!1),[S,k]=v.useState(null),[I,T]=v.useState("service"),[O,U]=v.useState(null),[H,R]=v.useState(""),[D,M]=v.useState(""),[Q,L]=v.useState(null),[K,G]=v.useState(!1),[q,W]=v.useState([]),[re,le]=v.useState(null),[ne,ce]=v.useState(!1);v.useEffect(()=>{(async()=>{s(!0);try{const Se=await dX();l(Se||[]);const tt=await Z.from("ppob_products").select("*");u(tt.data||[]);const Ye=await Z.from("ppob_transactions").select("*").order("transaction_date",{ascending:!1});g(Ye.data||[]);const{data:gt,error:ir}=await Z.from("digiflazz_config").select("*").single();ir?(console.error("Error loading Digiflazz config:",ir),C({id:"",api_key:"",username:"",mode:"development"})):C(gt||{id:"",api_key:"",username:"",mode:"development"})}catch(Se){console.error("Error loading data:",Se),alert("Failed to load data")}finally{s(!1)}})()},[]),v.useEffect(()=>{t==="digiflazz"&&x&&x.api_key&&x.username&&(async()=>{s(!0);try{const tt=await fetch("/digiflazz-proxy/v1/price-list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:x.username,apiKey:x.api_key})});if(!tt.ok)throw new Error(`HTTP error! Status: ${tt.status}`);const Ye=await tt.json();if(console.log("Digiflazz API Response:",Ye),Ye&&Array.isArray(Ye.data)){d(Ye.data);const gt=[...new Set(Ye.data.map(ir=>ir.category))];f(gt.map(ir=>({id:ir,name:ir})))}else console.error("Unexpected data structure from Digiflazz API",Ye),d([]),f([])}catch(Se){console.error("Error fetching Digiflazz products:",Se),d([]),f([]),alert("Failed to fetch products from Digiflazz API")}finally{s(!1)}})()},[t,x]),v.useEffect(()=>{t==="transactions"&&x&&x.api_key&&x.username&&(Ae(),ve())},[t,x]),v.useEffect(()=>{(async()=>{if(Z){s(!0);try{const{data:Se,error:tt}=await Z.from("transaksi_digiflazz").select("*").order("updated_at",{ascending:!1}).limit(50);if(tt)throw tt;W(Se||[])}catch(Se){console.error("Error fetching transaction history:",Se),W([])}finally{s(!1)}}})()},[Z]),v.useEffect(()=>{if(!Z)return;const oe=Z.channel("transactions").on("postgres_changes",{event:"INSERT",schema:"public",table:"transaksi_digiflazz"},Se=>{console.log("New transaction received:",Se),W(tt=>[Se.new,...tt]),lf({title:"Transaksi Baru",description:`Transaksi baru dengan ID ${Se.new.ref_id} telah diterima.`})}).subscribe();return le(oe),()=>{oe&&(oe.unsubscribe(),le(null))}},[Z,lf]);const Ae=async()=>{s(!0);try{const oe="/digiflazz-proxy/v1/transaction-history",Se=`${x.username}${x.api_key}history`,tt=of.MD5(Se).toString(),Ye=await fetch(oe,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:x.username,sign:tt})});if(Ye.ok){const gt=await Ye.json();console.log("Digiflazz Transaction History Response:",gt),gt&&Array.isArray(gt.data)?b(gt.data):(console.error("Unexpected transaction data structure from Digiflazz API",gt),b([]))}else if(Ye.status===404)console.log("Transaction history endpoint not found. This feature may not be implemented in the proxy yet."),b([]);else throw new Error(`HTTP error! Status: ${Ye.status}`)}catch(oe){console.error("Error fetching Digiflazz transactions:",oe),b([]),alert("Failed to fetch transactions from Digiflazz API")}finally{s(!1)}},ve=async()=>{if(Z){ce(!0);try{const{data:oe,error:Se}=await Z.from("transaksi_digiflazz").select("*").order("updated_at",{ascending:!1});if(Se)throw Se;w(oe||[])}catch(oe){console.error("Error fetching Supabase transactions:",oe),lf.error("Gagal memuat transaksi dari Supabase")}finally{ce(!1)}}},Y=async oe=>{if(Z)try{const{id:Se,updated_at:tt,...Ye}=oe,{data:gt,error:ir}=await Z.from("transaksi_digiflazz").upsert([Ye],{onConflict:"ref_id"});if(ir)throw ir;lf.success("Transaksi berhasil disimpan ke Supabase")}catch(Se){console.error("Error saving transaction to Supabase:",Se),lf.error("Gagal menyimpan transaksi ke Supabase")}},pe=oe=>{k(null),T(oe),B(!0)},Ee=oe=>{if(k(oe),"category"in oe){const Se=oe;T("service"),U(Se.id)}else if("price"in oe&&!("ref_id"in oe)){const Se=oe;T("product"),R(Se.id)}else"ref_id"in oe?T("transaction"):T("digiflazz");B(!0)},Re=async oe=>{N(!0);try{const Se=oe.id;if(!Se)return;const tt="category"in oe?"ppob_services":"ppob_products",{error:Ye}=await Z.from(tt).delete().eq("id",Se);if(Ye)throw Ye;"category"in oe?l(o.filter(gt=>gt.id!==Se)):u(c.filter(gt=>gt.id!==Se)),alert("Deleted successfully")}catch(Se){console.error("Error deleting item:",Se),alert("Failed to delete item")}finally{N(!1)}},$e=async(oe,Se)=>{s(!0);try{if(Se==="transaction")if(S&&S.id)await ie(S.id,oe);else{const{error:tt}=await Z.from("transaksi_digiflazz").insert([oe]);if(tt)throw tt;alert("Transaksi berhasil ditambahkan ke database."),ve()}else{if(S){const tt=Se==="service"?"ppob_services":Se==="product"?"ppob_products":"digiflazz_config",Ye=Se==="digiflazz"?"user_id":"id",gt=Se==="digiflazz"?null:S.id,{error:ir}=await Z.from(tt).update(oe).eq(Ye,gt);if(ir)throw ir;alert(`${Se.charAt(0).toUpperCase()+Se.slice(1)} berhasil diperbarui.`)}else{const tt=Se==="service"?"ppob_services":Se==="product"?"ppob_products":"digiflazz_config";Se==="digiflazz"&&(oe.user_id=null);const{error:Ye}=await Z.from(tt).insert([oe]);if(Ye)throw Ye;alert(`${Se.charAt(0).toUpperCase()+Se.slice(1)} berhasil ditambahkan.`)}Se==="service"?Ve():Se==="product"?lt():nt()}}catch(tt){console.error(`Error saving ${Se}:`,tt),alert(`Gagal menyimpan ${Se}.`)}finally{s(!1),B(!1)}},wt=async()=>{if(!O){alert("Please select a service first");return}if(!H){alert("Please select a product");return}if(!D.trim()){alert("Please enter a customer number");return}s(!0);try{console.log("Selected Product for Purchase:",H);const oe=(x==null?void 0:x.username)||"",Se=(x==null?void 0:x.api_key)||"",tt=`${Date.now()}-${Math.floor(Math.random()*1e3)}`,Ye=`${oe}${Se}${tt}`,gt=of.MD5(Ye).toString(),ir=typeof H=="string"?H:H.buyer_sku_code,pa={username:oe,buyer_sku_code:ir||"",customer_no:D,ref_id:tt,sign:gt};console.log("Test Purchase Request Body:",pa);const fr=await fetch("/digiflazz-proxy/v1/transaction",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(pa)});if(fr.ok){const br=await fr.json();console.log("Test Purchase Response:",br),alert(`Pembelian berhasil!: ${JSON.stringify(br)}`),await Y({...br.data,ref_id:tt}),M("")}else{const br=await fr.text();console.error("Test purchase failed:",br),br.includes("IP tidak diizinkan")?alert("Transaksi gagal: IP tidak diizinkan. Harap whitelist IP Anda di Digiflazz."):br.includes("Produk sedang Gangguan")||br.includes("Produk sedang tidak tersedia")||br.includes("Non Aktif")?alert("Transaksi gagal: Produk sedang tidak tersedia atau non-aktif. Silakan coba produk lain."):alert(`Test purchase failed: ${br}`)}}catch(oe){console.error("Error during test purchase:",oe),alert("An error occurred during test purchase")}finally{s(!1)}},X=async()=>{s(!0);try{const oe=`${x.username}${x.api_key}depo`,Se=of.MD5(oe).toString(),tt=await fetch("/digiflazz-proxy/v1/cek-saldo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:x.username,sign:Se})}),Ye=await tt.text();if(console.log("Balance Check Response:",tt.status,Ye),!tt.ok)throw Ye.includes("IP Anda tidak kami kenali")?new Error("IP Anda tidak dikenali oleh Digiflazz. Harap whitelist IP Anda di pengaturan Digiflazz."):new Error(`HTTP error! Status: ${tt.status}, Details: ${Ye}`);const gt=JSON.parse(Ye);gt&&gt.data?alert(`Saldo Digiflazz: Rp ${gt.data.deposit.toLocaleString("id-ID")}`):alert("Gagal memeriksa saldo. Tidak ada data yang dikembalikan.")}catch(oe){console.error("Error checking balance:",oe),alert(`Gagal memeriksa saldo: ${oe.message}`)}finally{s(!1)}},ee=async oe=>{N(!0);try{const{error:Se}=await Z.from("transaksi_digiflazz").delete().eq("id",oe);if(Se)throw Se;alert("Transaksi berhasil dihapus dari database."),ve()}catch(Se){console.error("Error deleting transaction:",Se),alert("Gagal menghapus transaksi dari database.")}finally{N(!1)}},ie=async(oe,Se)=>{try{const{data:tt,error:Ye}=await Z.from("transaksi_digiflazz").update(Se).eq("id",oe).select();if(Ye)throw Ye;return alert("Transaksi berhasil diperbarui di database."),ve(),tt}catch(tt){return console.error("Error updating transaction:",tt),alert("Gagal memperbarui transaksi di database."),null}},ge=oe=>{k(oe),T("transaction"),B(!0)},we=async()=>{if(!D){alert("Silakan masukkan nomor pelanggan PLN terlebih dahulu.");return}G(!0);try{const oe=`${x.username}${x.api_key}${D}`,Se=of.MD5(oe).toString(),tt=await fetch("/digiflazz-proxy/v1/inquiry-pln",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:x.username,customer_no:D,sign:Se})});if(!tt.ok){const gt=await tt.text();throw console.error("PLN ID Validation Error:",tt.status,gt),L({status:"Gagal",message:`HTTP error! Status: ${tt.status}`,details:gt}),alert(`Validasi gagal! Status: ${tt.status}. Detail: ${gt}`),new Error(`HTTP error! Status: ${tt.status}, Details: ${gt}`)}const Ye=await tt.json();Ye&&Ye.data?(L(Ye.data),console.log("PLN Validation Full Response:",Ye),alert(`Status validasi: ${Ye.data.status}, Nama: ${Ye.data.name||"N/A"}, No. Pelanggan: ${Ye.data.customer_no||"N/A"}, No. Meter: ${Ye.data.meter_no||"N/A"}, ID Pelanggan: ${Ye.data.subscriber_id||"N/A"}, Daya: ${Ye.data.segment_power||"N/A"}`)):(L({status:"Gagal",message:"Tidak ada data yang dikembalikan dari Digiflazz API."}),alert("Validasi gagal. Tidak ada data yang dikembalikan."))}catch(oe){console.error("Error validating PLN ID:",oe),L({status:"Gagal",message:oe.message}),alert("Gagal memvalidasi nomor pelanggan PLN.")}finally{G(!1)}},xe=()=>{const[oe,Se]=v.useState(""),[tt,Ye]=v.useState(""),[gt,ir]=v.useState(!1),pa=async()=>{ir(!0),Ye("");try{if(!x)throw new Error("Digiflazz configuration not loaded");let fr=oe.split("/").pop();if((!fr||fr.length<5)&&(fr=prompt("Please enter your Digiflazz Webhook ID (from Atur Koneksi > API > Webhook):")||""),!fr)throw new Error("Webhook ID is required for testing");const br=`TEST-${Date.now()}`,Jl=`${x.username}${x.api_key}${br}`,At=of.MD5(Jl).toString(),Vt=await fetch("/api/test-webhook-proxy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:x.username,ref_id:br,sign:At,webhook_url:oe,webhook_id:fr,use_ping_endpoint:!0})}),Ft=await Vt.text();let Pr;try{Pr=Ft?JSON.parse(Ft):{message:"No response content from proxy"}}catch{Pr={error:"Invalid JSON response from proxy",rawResponse:Ft}}Vt.ok?Ye(`Webhook test successful: ${JSON.stringify(Pr)}`):Ye(`Webhook test failed: ${Pr.error||Vt.statusText}`)}catch(fr){Ye(`Error testing webhook: ${fr.message}`)}finally{ir(!1)}};return i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Webhook Management"}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"webhookUrl",className:"block text-sm font-medium text-gray-700",children:"Webhook URL"}),i.jsx("input",{type:"text",id:"webhookUrl",value:oe,onChange:fr=>Se(fr.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Enter your webhook URL"})]}),i.jsx("button",{onClick:pa,disabled:gt||!oe,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-gray-400 disabled:cursor-not-allowed",children:gt?"Testing...":"Test Webhook"}),tt&&i.jsx("div",{className:"mt-4 p-3 border rounded-md bg-gray-50",children:i.jsx("p",{className:"text-sm text-gray-700",children:tt})})]})]})},Ve=async()=>{console.log("Fetching services")},lt=async()=>{console.log("Fetching products")},nt=async()=>{console.log("Loading Digiflazz config")},it=()=>i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Riwayat Transaksi"}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Riwayat Transaksi dari Database Supabase"}),ne?i.jsx("div",{className:"text-center py-10",children:"Memuat data transaksi..."}):y.length===0?i.jsx("div",{className:"text-center py-10 text-gray-500",children:"Tidak ada data transaksi di database Supabase"}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ref ID"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nomor Pelanggan"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kode SKU Pembeli"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pesan"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"RC"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SN"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Harga"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Saldo Terakhir Pembeli"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tele"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"WA"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tanggal Update"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(oe=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:oe.ref_id||"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:oe.customer_no||"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:oe.buyer_sku_code||"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:oe.status||"-"}),i.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:oe.message||"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:oe.rc||"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:oe.sn||"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:oe.price?"Rp "+oe.price.toLocaleString():"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:oe.buyer_last_saldo?"Rp "+oe.buyer_last_saldo.toLocaleString():"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:oe.tele||"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:oe.wa||"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:oe.updated_at?new Date(oe.updated_at).toLocaleString():"-"}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[i.jsx("button",{onClick:()=>ge(oe),className:"text-indigo-600 hover:text-indigo-900 mr-2",children:"Edit"}),i.jsx("button",{onClick:()=>ee(oe.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},oe.id))})]})})]})]});return i.jsxs(O6e,{children:[i.jsxs(Us,{children:[i.jsx("title",{children:"Admin PPOB - JPC Digi"}),i.jsx("meta",{name:"description",content:"Panel admin untuk pengelolaan layanan PPOB JPC Digi"})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Admin PPOB"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(z,{variant:"outline",size:"sm",children:[i.jsx(J.download,{className:"mr-2 h-4 w-4"}),"Export"]}),i.jsxs(z,{size:"sm",onClick:()=>pe(t==="services"?"service":"product"),children:[i.jsx(J.plus,{className:"mr-2 h-4 w-4"}),"Tambah ",t==="services"?"Layanan":"Produk"]}),i.jsx(z,{onClick:X,disabled:a||!x,className:"bg-green-600 hover:bg-green-700",children:a?"Memeriksa...":"Cek Saldo Digiflazz"}),i.jsx(z,{onClick:wt,disabled:a||!x||!O||!H||!D,className:"bg-blue-600 hover:bg-blue-700",children:a?"Membeli...":"Tes Pembelian"})]})]}),i.jsxs(ja,{value:t,onValueChange:e,className:"space-y-4",children:[i.jsxs(da,{className:"grid w-full grid-cols-6",children:[i.jsx(kt,{value:"dashboard",children:"Dashboard"}),i.jsx(kt,{value:"services",children:"Layanan"}),i.jsx(kt,{value:"products",children:"Produk"}),i.jsx(kt,{value:"transactions",children:"Transaksi"}),i.jsx(kt,{value:"digiflazz",children:"Digiflazz API"}),i.jsx(kt,{value:"test-purchase",children:"Tes Pembelian"}),i.jsx(kt,{value:"webhook",children:"Webhook Management"})]}),i.jsxs(Yt,{value:"dashboard",className:"space-y-4",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"}),i.jsxs(Be,{children:[i.jsxs(ct,{children:[i.jsx(ut,{children:"Transaksi Terbaru"}),i.jsx(cr,{children:"Daftar 5 transaksi terbaru di sistem"})]}),i.jsx(Ce,{children:a?i.jsx("div",{className:"py-8 flex justify-center",children:"Memuat data..."}):i.jsxs(Gn,{children:[i.jsx(Wn,{children:i.jsxs(vt,{children:[i.jsx(Ie,{children:"ID"}),i.jsx(Ie,{children:"Pelanggan"}),i.jsx(Ie,{children:"Produk"}),i.jsx(Ie,{children:"Jumlah"}),i.jsx(Ie,{children:"Status"}),i.jsx(Ie,{children:"Tanggal"})]})}),i.jsx(Xn,{children:p.slice(0,5).map(oe=>{var Se;return i.jsxs(vt,{children:[i.jsx(_e,{className:"font-medium",children:oe.id||"N/A"}),i.jsx(_e,{children:oe.customer_name||"N/A"}),i.jsx(_e,{children:oe.product_name||"N/A"}),i.jsxs(_e,{children:["Rp ",((Se=oe.amount)==null?void 0:Se.toLocaleString())||"0"]}),i.jsx(_e,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${oe.status==="Sukses"?"bg-green-100 text-green-800":oe.status==="Gagal"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:oe.status||"Pending"})}),i.jsx(_e,{children:oe.transaction_date?new Date(oe.transaction_date).toLocaleString():"N/A"})]},oe.id||"temp-"+Math.random().toString())})})]})})]}),i.jsxs(Be,{children:[i.jsxs(ct,{children:[i.jsx(ut,{children:"Verifikasi Pengguna Terbaru"}),i.jsx(cr,{children:"Permintaan verifikasi pengguna yang membutuhkan review"})]}),i.jsx(Ce,{children:i.jsxs(Gn,{children:[i.jsx(Wn,{children:i.jsxs(vt,{children:[i.jsx(Ie,{children:"ID"}),i.jsx(Ie,{children:"Pengguna"}),i.jsx(Ie,{children:"Dokumen"}),i.jsx(Ie,{children:"Tanggal Pengajuan"}),i.jsx(Ie,{children:"Status"}),i.jsx(Ie,{children:"Aksi"})]})}),i.jsx(Xn,{})]})})]})]}),i.jsx(Yt,{value:"transactions",className:"space-y-4",children:i.jsx(it,{})}),i.jsx(Yt,{value:"digiflazz",className:"space-y-4",children:i.jsxs(Be,{children:[i.jsxs(ct,{children:[i.jsx(ut,{children:"Konfigurasi Digiflazz API"}),i.jsx(cr,{children:"Atur kredensial API Digiflazz untuk integrasi PPOB"})]}),i.jsx(Ce,{children:a?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):i.jsxs("div",{className:"space-y-4",children:[x?i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"border rounded-md p-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Username"}),i.jsx("p",{className:"font-medium",children:x.username})]}),i.jsxs("div",{className:"border rounded-md p-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"API Key"}),i.jsx("p",{className:"font-medium",children:x.api_key?x.api_key.slice(0,4)+"****":"Not set"})]}),i.jsxs("div",{className:"border rounded-md p-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Mode"}),i.jsx("p",{className:"font-medium",children:x.mode})]})]}):i.jsx("p",{className:"text-center text-muted-foreground",children:"Konfigurasi Digiflazz belum diatur. Klik tombol di bawah untuk menambahkan konfigurasi."}),i.jsx(z,{onClick:()=>Ee(x||{}),children:x?"Edit Konfigurasi":"Tambah Konfigurasi"})]})})]})}),i.jsx(Yt,{value:"products",className:"space-y-4",children:i.jsxs(Be,{children:[i.jsxs(ct,{children:[i.jsx(ut,{children:"Produk PPOB"}),i.jsx(cr,{children:"Daftar produk PPOB dari database dan API Digiflazz"})]}),i.jsxs(Ce,{children:[i.jsx("div",{className:"mb-4",children:i.jsx(z,{onClick:()=>pe("product"),children:"Tambah Produk"})}),a?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Produk Database"}),i.jsxs(Gn,{children:[i.jsx(Wn,{children:i.jsxs(vt,{children:[i.jsx(Ie,{children:"Nama"}),i.jsx(Ie,{children:"Harga"}),i.jsx(Ie,{children:"Deskripsi"}),i.jsx(Ie,{children:"Layanan"}),i.jsx(Ie,{children:"Aksi"})]})}),i.jsx(Xn,{children:c.map(oe=>{var Se;return i.jsxs(vt,{children:[i.jsx(_e,{className:"font-medium",children:oe.name}),i.jsxs(_e,{children:["Rp ",(Se=oe.price)==null?void 0:Se.toLocaleString()]}),i.jsx(_e,{children:oe.description||"-"}),i.jsx(_e,{children:oe.service_id}),i.jsx(_e,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(z,{variant:"outline",size:"sm",onClick:()=>Ee(oe),children:"Edit"}),i.jsx(z,{variant:"destructive",size:"sm",onClick:()=>Re(oe),disabled:j,children:"Hapus"})]})})]},oe.id)})})]}),x&&x.api_key&&i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Produk dari Digiflazz API"}),A.length>0?i.jsxs(Gn,{children:[i.jsx(Wn,{children:i.jsxs(vt,{children:[i.jsx(Ie,{children:"Nama Produk"}),i.jsx(Ie,{children:"Harga"}),i.jsx(Ie,{children:"Kategori"}),i.jsx(Ie,{children:"Brand"}),i.jsx(Ie,{children:"Status"})]})}),i.jsx(Xn,{children:A.map(oe=>{var Se;return i.jsxs(vt,{children:[i.jsx(_e,{className:"font-medium",children:oe.product_name}),i.jsxs(_e,{children:["Rp ",(Se=oe.price)==null?void 0:Se.toLocaleString()]}),i.jsx(_e,{children:oe.category}),i.jsx(_e,{children:oe.brand}),i.jsx(_e,{children:oe.status==="active"?"Aktif":"Tidak Aktif"})]},oe.product_id||oe.buyer_sku_code)})})]}):i.jsx("p",{className:"text-muted-foreground",children:"Tidak ada data produk dari Digiflazz API."})]})]})]})]})}),i.jsx(Yt,{value:"services",className:"space-y-4",children:i.jsxs(Be,{children:[i.jsxs(ct,{children:[i.jsx(ut,{children:"Daftar Layanan"}),i.jsx(cr,{children:"Kelola layanan PPOB"})]}),i.jsxs(Ce,{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[i.jsx(he,{placeholder:"Cari nama layanan...",className:"max-w-sm"}),i.jsxs(In,{defaultValue:"all",children:[i.jsx(gn,{className:"w-[180px]",children:i.jsx(Pn,{placeholder:"Kategori"})}),i.jsxs(xn,{children:[i.jsx(yt,{value:"all",children:"Semua Kategori"}),i.jsx(yt,{value:"topup",children:"Top Up"}),i.jsx(yt,{value:"tagihan",children:"Tagihan"}),i.jsx(yt,{value:"investasi",children:"Investasi"}),i.jsx(yt,{value:"lainnya",children:"Lainnya"})]})]})]}),i.jsxs(z,{variant:"outline",children:[i.jsx(J.filterX,{className:"mr-2 h-4 w-4"}),"Reset Filter"]})]}),a?i.jsx("div",{className:"py-8 flex justify-center",children:"Memuat data..."}):i.jsxs(Gn,{children:[i.jsx(Wn,{children:i.jsxs(vt,{children:[i.jsx(Ie,{children:"ID"}),i.jsx(Ie,{children:"Nama Layanan"}),i.jsx(Ie,{children:"Kategori"}),i.jsx(Ie,{children:"Route"}),i.jsx(Ie,{children:"Status"}),i.jsx(Ie,{children:"Aksi"})]})}),i.jsx(Xn,{children:o.map(oe=>i.jsxs(vt,{children:[i.jsx(_e,{className:"font-medium",children:oe.id||"N/A"}),i.jsx(_e,{children:oe.name||"N/A"}),i.jsx(_e,{children:oe.category||"N/A"}),i.jsx(_e,{children:oe.route||"N/A"}),i.jsx(_e,{children:i.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:"Aktif"})}),i.jsx(_e,{children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(z,{variant:"ghost",size:"sm",onClick:()=>Ee(oe),children:"Edit"}),i.jsx(z,{variant:"ghost",size:"sm",className:"text-red-500",disabled:j,onClick:()=>Re(oe),children:"Nonaktifkan"})]})})]},oe.id||"temp-"+Math.random().toString()))})]})]})]})}),i.jsx(Yt,{value:"test-purchase",className:"space-y-4",children:i.jsxs(Be,{children:[i.jsxs(ct,{children:[i.jsx(ut,{children:"Tes Pembelian Produk Digiflazz"}),i.jsx(cr,{children:"Form untuk menguji pembelian produk seperti cek nama token, dll."})]}),i.jsx(Ce,{children:i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"service-select",className:"block text-sm font-medium mb-1",children:"Layanan"}),i.jsxs(In,{defaultValue:O,onValueChange:U,children:[i.jsx(gn,{id:"service-select",className:"w-full rounded-md border-gray-300 dark:border-gray-700",children:i.jsx(Pn,{placeholder:"Pilih Layanan"})}),i.jsx(xn,{children:h.map(oe=>i.jsx(yt,{value:oe.id,children:oe.name},oe.id))})]})]}),O&&i.jsxs("div",{children:[i.jsx("label",{htmlFor:"product-select",className:"block text-sm font-medium mb-1",children:"Produk (SKU)"}),i.jsxs(In,{defaultValue:H,onValueChange:R,children:[i.jsx(gn,{id:"product-select",className:"w-full rounded-md border-gray-300 dark:border-gray-700",children:i.jsx(Pn,{placeholder:"Pilih Produk"})}),i.jsx(xn,{children:(()=>{const oe=A.filter(Se=>(console.log("Filtering products for category:",O),console.log("Product details:",Se),Se.category===O));return oe.length===0?i.jsxs("div",{className:"p-2 text-gray-500",children:["Tidak ada produk yang sesuai dengan layanan ",O,"."]}):oe.map(Se=>i.jsx(yt,{value:Se.buyer_sku_code,children:Se.product_name},Se.buyer_sku_code))})()})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Produk difilter berdasarkan kategori Digiflazz."})]}),O&&i.jsxs("div",{children:[i.jsx("label",{htmlFor:"customerNo",className:"block text-sm font-medium mb-1",children:"Nomor Pelanggan"}),i.jsxs("div",{className:"flex space-x-2 mt-1",children:[i.jsx("input",{type:"text",id:"customerNo",value:D,onChange:oe=>M(oe.target.value),placeholder:"Masukkan nomor pelanggan",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),i.jsx("button",{onClick:we,disabled:K||!D,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:K?"Memvalidasi...":"Cek ID PLN"})]}),Q&&i.jsxs("div",{className:"mt-2 p-3 border border-green-300 bg-green-50 rounded-md text-sm",children:[i.jsx("p",{className:"font-medium text-green-800",children:"Hasil Validasi ID PLN:"}),i.jsxs("ul",{className:"list-disc list-inside text-green-700 mt-1",children:[i.jsxs("li",{children:["Status: ",Q.status]}),i.jsxs("li",{children:["Nama: ",Q.name||"N/A"]}),i.jsxs("li",{children:["No. Pelanggan: ",Q.customer_no]}),i.jsxs("li",{children:["No. Meter: ",Q.meter_no||"N/A"]}),i.jsxs("li",{children:["ID Pelanggan: ",Q.subscriber_id||"N/A"]}),i.jsxs("li",{children:["Daya: ",Q.segment_power||"N/A"]})]})]})]}),i.jsx("div",{children:i.jsx(z,{onClick:wt,disabled:a||!O||!H||!D,className:"w-full mt-2 bg-green-600 hover:bg-green-700 text-white",children:a?"Loading...":"Test Pembelian"})})]})})]})}),i.jsx(Yt,{value:"webhook",className:"space-y-4",children:i.jsx(xe,{})})]})]}),i.jsx(D6e,{isOpen:E,onClose:()=>B(!1),formType:I,selectedItem:S,onSave:$e})]})}const TLe=new Sse;function Tt({element:t,requiresVerification:e=!0}){const{user:r,isLoading:n,isPhoneVerified:a}=Hr(),s=ma(),o=s.pathname==="/verify-whatsapp",l=s.pathname==="/login",c=s.pathname==="/register",[u,A]=v.useState(null);return v.useEffect(()=>{let d=!0;const h=()=>n?i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):!r&&!l&&!c?i.jsx(Av,{to:"/login",state:{from:s},replace:!0}):e&&!a&&!o&&r?i.jsx(Av,{to:"/verify-whatsapp",state:{from:s},replace:!0}):t,f=setTimeout(()=>{d&&A(h())},10);return()=>{d=!1,clearTimeout(f)}},[r,n,a,s.pathname,e,t,l,c,o]),i.jsx(i.Fragment,{children:u})}function ILe(){const[t,e]=v.useState(!1);return v.useEffect(()=>{const r=()=>{const a=window.location.pathname;e(a.startsWith("/admin")||a==="/admin-login"||a==="/admin-register")};r();const n=()=>{r()};return window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)}},[]),i.jsx(Ise,{client:TLe,children:i.jsxs(H$,{children:[i.jsx(lne,{}),i.jsx(Rne,{}),i.jsx(Ime,{children:i.jsx(Pme,{children:i.jsxs(Yle,{children:[i.jsx(Fme,{}),!t&&i.jsx(Zoe,{}),i.jsxs($le,{children:[i.jsx(at,{path:"/",element:i.jsx(Tt,{element:i.jsx(wL,{})})}),i.jsx(at,{path:"/search",element:i.jsx(Tt,{element:i.jsx(Dge,{})})}),i.jsx(at,{path:"/product/:id",element:i.jsx(Tt,{element:i.jsx(Yge,{})})}),i.jsx(at,{path:"/cart",element:i.jsx(Tt,{element:i.jsx(Jge,{})})}),i.jsx(at,{path:"/checkout",element:i.jsx(Tt,{element:i.jsx(g0e,{})})}),i.jsx(at,{path:"/profile",element:i.jsx(Tt,{element:i.jsx(Hxe,{})})}),i.jsx(at,{path:"/address/:id?",element:i.jsx(Tt,{element:i.jsx(Gxe,{})})}),i.jsx(at,{path:"/orders",element:i.jsx(Tt,{element:i.jsx(w_e,{})})}),i.jsx(at,{path:"/order/:id",element:i.jsx(Tt,{element:i.jsx(b_e,{})})}),i.jsx(at,{path:"/chat",element:i.jsx(Tt,{element:i.jsx(sje,{})})}),i.jsx(at,{path:"/ppob",element:i.jsx(Tt,{element:i.jsx(V_,{})})}),i.jsx(at,{path:"/ppob/dashboard",element:i.jsx(Tt,{element:i.jsx(V_,{})})}),i.jsx(at,{path:"/ppob/history",element:i.jsx(Tt,{element:i.jsx(xje,{})})}),i.jsx(at,{path:"/ppob/activity",element:i.jsx(Tt,{element:i.jsx(xEe,{})})}),i.jsx(at,{path:"/ppob/verification",element:i.jsx(Tt,{element:i.jsx(rEe,{})})}),i.jsx(at,{path:"/ppob/wallet",element:i.jsx(Tt,{element:i.jsx(fEe,{})})}),i.jsx(at,{path:"/ppob/pulsa-data",element:i.jsx(Tt,{element:i.jsx(CEe,{})})}),i.jsx(at,{path:"/ppob/send",element:i.jsx(Tt,{element:i.jsx(EEe,{})})}),i.jsx(at,{path:"/ppob/request",element:i.jsx(Tt,{element:i.jsx(TEe,{})})}),i.jsx(at,{path:"/ppob/topup",element:i.jsx(Tt,{element:i.jsx(PEe,{})})}),i.jsx(at,{path:"/ppob/video",element:i.jsx(Tt,{element:i.jsx(V_,{})})}),i.jsx(at,{path:"/ppob/games",element:i.jsx(Tt,{element:i.jsx(UEe,{})})}),i.jsx(at,{path:"/ppob/all",element:i.jsx(Tt,{element:i.jsx(MEe,{})})}),i.jsx(at,{path:"/ppob/test",element:i.jsx(Tt,{element:i.jsx(QEe,{})})}),i.jsx(at,{path:"/ppob/electricity",element:i.jsx(Tt,{element:i.jsx(DEe,{})})}),i.jsx(at,{path:"/ppob/ewallet",element:i.jsx(Tt,{element:i.jsx(OEe,{})})}),i.jsx(at,{path:"/ppob/kredit",element:i.jsx(Tt,{element:i.jsx(Xs,{})})}),i.jsx(at,{path:"/ppob/tv-internet",element:i.jsx(Tt,{element:i.jsx(Xs,{})})}),i.jsx(at,{path:"/ppob/bpjs",element:i.jsx(Tt,{element:i.jsx(Xs,{})})}),i.jsx(at,{path:"/ppob/pdam",element:i.jsx(Tt,{element:i.jsx(Xs,{})})}),i.jsx(at,{path:"/ppob/pbb",element:i.jsx(Tt,{element:i.jsx(Xs,{})})}),i.jsx(at,{path:"/ppob/telkom",element:i.jsx(Tt,{element:i.jsx(Xs,{})})}),i.jsx(at,{path:"/ppob/pascabayar",element:i.jsx(Tt,{element:i.jsx(Xs,{})})}),i.jsx(at,{path:"/ppob/donasi-zakat",element:i.jsx(Tt,{element:i.jsx(Xs,{})})}),i.jsx(at,{path:"/ppob/investasi",element:i.jsx(Tt,{element:i.jsx($Ee,{})})}),i.jsx(at,{path:"/ppob/undang-teman",element:i.jsx(Tt,{element:i.jsx(Xs,{})})}),i.jsx(at,{path:"/ppob/scan",element:i.jsx(Tt,{element:i.jsx(Xs,{})})}),i.jsx(at,{path:"/verify-whatsapp",element:i.jsx(mje,{})}),i.jsx(at,{path:"/login",element:i.jsx(C_e,{})}),i.jsx(at,{path:"/register",element:i.jsx(E_e,{})}),i.jsx(at,{path:"/admin-login",element:i.jsx(N_e,{})}),i.jsx(at,{path:"/admin-register",element:i.jsx(T_e,{})}),i.jsx(at,{path:"/admin",element:i.jsx(wL,{})}),i.jsx(at,{path:"/admin/inventory",element:i.jsx(I3e,{})}),i.jsx(at,{path:"/admin/coal-inventory",element:i.jsx(D3e,{})}),i.jsx(at,{path:"/admin/shipping",element:i.jsx(R3e,{})}),i.jsx(at,{path:"/admin/users",element:i.jsx(M3e,{})}),i.jsx(at,{path:"/admin/orders",element:i.jsx(L3e,{})}),i.jsx(at,{path:"/admin/orders/:id",element:i.jsx(t6e,{})}),i.jsx(at,{path:"/admin/vouchers",element:i.jsx(N6e,{})}),i.jsx(at,{path:"/admin/broadcast",element:i.jsx(k6e,{})}),i.jsx(at,{path:"/admin/analytics",element:i.jsx(r6e,{})}),i.jsx(at,{path:"/admin/settings",element:i.jsx(c6e,{})}),i.jsx(at,{path:"/admin/chats",element:i.jsx(u6e,{})}),i.jsx(at,{path:"/admin/chat/:customerId",element:i.jsx(A6e,{})}),i.jsx(at,{path:"/admin/ppob",element:i.jsx(kLe,{})}),i.jsx(at,{path:"*",element:i.jsx(Dme,{})})]})]})})})]})})}Lee.createRoot(document.getElementById("root")).render(i.jsx(wEe,{children:i.jsx(ILe,{})}));
