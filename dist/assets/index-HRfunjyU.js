const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-CmxgrN_y.js","assets/react-DeqkGhWy.js"])))=>i.map(i=>d[i]);
var RY=Object.defineProperty;var y2=t=>{throw TypeError(t)};var UY=(t,e,r)=>e in t?RY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var hh=(t,e,r)=>UY(t,typeof e!="symbol"?e+"":e,r),iw=(t,e,r)=>e.has(t)||y2("Cannot "+r);var Y=(t,e,r)=>(iw(t,e,"read from private field"),r?r.call(t):e.get(t)),ht=(t,e,r)=>e.has(t)?y2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Ge=(t,e,r,n)=>(iw(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),It=(t,e,r)=>(iw(t,e,"access private method"),r);var pg=(t,e,r,n)=>({set _(a){Ge(t,e,a,r)},get _(){return Y(t,e,n)}});import{r as fp,a as j3,g as Lt,b as MY,c as gg}from"./react-DeqkGhWy.js";import{a as So}from"./vendor-xsH4HHeE.js";function QY(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var ow={exports:{}},fh={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x2;function LY(){if(x2)return fh;x2=1;var t=fp(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var A,d={},h=null,f=null;u!==void 0&&(h=""+u),c.key!==void 0&&(h=""+c.key),c.ref!==void 0&&(f=c.ref);for(A in c)n.call(c,A)&&!s.hasOwnProperty(A)&&(d[A]=c[A]);if(l&&l.defaultProps)for(A in c=l.defaultProps,c)d[A]===void 0&&(d[A]=c[A]);return{$$typeof:e,type:l,key:h,ref:f,props:d,_owner:a.current}}return fh.Fragment=r,fh.jsx=o,fh.jsxs=o,fh}var b2;function HY(){return b2||(b2=1,ow.exports=LY()),ow.exports}var i=HY(),vg={},w2;function $Y(){if(w2)return vg;w2=1;var t=j3();return vg.createRoot=t.createRoot,vg.hydrateRoot=t.hydrateRoot,vg}var VY=$Y(),v=fp();const $=Lt(v),_3=QY({__proto__:null,default:$},[v]),KY=1,qY=1e6;let lw=0;function GY(){return lw=(lw+1)%Number.MAX_SAFE_INTEGER,lw.toString()}const cw=new Map,j2=t=>{if(cw.has(t))return;const e=setTimeout(()=>{cw.delete(t),uf({type:"REMOVE_TOAST",toastId:t})},qY);cw.set(t,e)},zY=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,KY)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?j2(r):t.toasts.forEach(n=>{j2(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Bv=[];let Ev={toasts:[]};function uf(t){Ev=zY(Ev,t),Bv.forEach(e=>{e(Ev)})}function he({...t}){const e=GY(),r=a=>uf({type:"UPDATE_TOAST",toast:{...a,id:e}}),n=()=>uf({type:"DISMISS_TOAST",toastId:e});return uf({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:a=>{a||n()}}}),{id:e,dismiss:n,update:r}}function Ns(){const[t,e]=v.useState(Ev);return v.useEffect(()=>(Bv.push(e),()=>{const r=Bv.indexOf(e);r>-1&&Bv.splice(r,1)}),[t]),{...t,toast:he,dismiss:r=>uf({type:"DISMISS_TOAST",toastId:r})}}var Bd=j3();const C3=Lt(Bd);function Oe(t,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t==null||t(a),r===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function WY(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function B3(...t){return e=>t.forEach(r=>WY(r,e))}function pt(...t){return v.useCallback(B3(...t),t)}function XY(t,e=[]){let r=[];function n(s,o){const l=v.createContext(o),c=r.length;r=[...r,o];function u(d){const{scope:h,children:f,...p}=d,g=(h==null?void 0:h[t][c])||l,m=v.useMemo(()=>p,Object.values(p));return i.jsx(g.Provider,{value:m,children:f})}function A(d,h){const f=(h==null?void 0:h[t][c])||l,p=v.useContext(f);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,A]}const a=()=>{const s=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[n,JY(a,...e)]}function JY(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...l,...d}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var $i=v.forwardRef((t,e)=>{const{children:r,...n}=t,a=v.Children.toArray(r),s=a.find(YY);if(s){const o=s.props.children,l=a.map(c=>c===s?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:c);return i.jsx(RB,{...n,ref:e,children:v.isValidElement(o)?v.cloneElement(o,void 0,l):null})}return i.jsx(RB,{...n,ref:e,children:r})});$i.displayName="Slot";var RB=v.forwardRef((t,e)=>{const{children:r,...n}=t;if(v.isValidElement(r)){const a=eZ(r);return v.cloneElement(r,{...ZY(n,r.props),ref:e?B3(e,a):a})}return v.Children.count(r)>1?v.Children.only(null):null});RB.displayName="SlotClone";var cT=({children:t})=>i.jsx(i.Fragment,{children:t});function YY(t){return v.isValidElement(t)&&t.type===cT}function ZY(t,e){const r={...e};for(const n in e){const a=t[n],s=e[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{s(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...t,...r}}function eZ(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function r0(t){const e=t+"CollectionProvider",[r,n]=XY(e),[a,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=f=>{const{scope:p,children:g}=f,m=$.useRef(null),x=$.useRef(new Map).current;return i.jsx(a,{scope:p,itemMap:x,collectionRef:m,children:g})};o.displayName=e;const l=t+"CollectionSlot",c=$.forwardRef((f,p)=>{const{scope:g,children:m}=f,x=s(l,g),b=pt(p,x.collectionRef);return i.jsx($i,{ref:b,children:m})});c.displayName=l;const u=t+"CollectionItemSlot",A="data-radix-collection-item",d=$.forwardRef((f,p)=>{const{scope:g,children:m,...x}=f,b=$.useRef(null),_=pt(p,b),w=s(u,g);return $.useEffect(()=>(w.itemMap.set(b,{ref:b,...x}),()=>void w.itemMap.delete(b))),i.jsx($i,{[A]:"",ref:_,children:m})});d.displayName=u;function h(f){const p=s(t+"CollectionConsumer",f);return $.useCallback(()=>{const m=p.collectionRef.current;if(!m)return[];const x=Array.from(m.querySelectorAll(`[${A}]`));return Array.from(p.itemMap.values()).sort((w,C)=>x.indexOf(w.ref.current)-x.indexOf(C.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:o,Slot:c,ItemSlot:d},h,n]}function tZ(t,e){const r=v.createContext(e),n=s=>{const{children:o,...l}=s,c=v.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function a(s){const o=v.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,a]}function fa(t,e=[]){let r=[];function n(s,o){const l=v.createContext(o),c=r.length;r=[...r,o];const u=d=>{var x;const{scope:h,children:f,...p}=d,g=((x=h==null?void 0:h[t])==null?void 0:x[c])||l,m=v.useMemo(()=>p,Object.values(p));return i.jsx(g.Provider,{value:m,children:f})};u.displayName=s+"Provider";function A(d,h){var g;const f=((g=h==null?void 0:h[t])==null?void 0:g[c])||l,p=v.useContext(f);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[u,A]}const a=()=>{const s=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[n,rZ(a,...e)]}function rZ(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...l,...d}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var nZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Je=nZ.reduce((t,e)=>{const r=v.forwardRef((n,a)=>{const{asChild:s,...o}=n,l=s?$i:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function E3(t,e){t&&Bd.flushSync(()=>t.dispatchEvent(e))}function Tr(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function aZ(t,e=globalThis==null?void 0:globalThis.document){const r=Tr(t);v.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var sZ="DismissableLayer",UB="dismissableLayer.update",iZ="dismissableLayer.pointerDownOutside",oZ="dismissableLayer.focusOutside",_2,S3=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ed=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,u=v.useContext(S3),[A,d]=v.useState(null),h=(A==null?void 0:A.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=v.useState({}),p=pt(e,j=>d(j)),g=Array.from(u.layers),[m]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(m),b=A?g.indexOf(A):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,w=b>=x,C=cZ(j=>{const B=j.target,S=[...u.branches].some(N=>N.contains(B));!w||S||(a==null||a(j),o==null||o(j),j.defaultPrevented||l==null||l())},h),E=uZ(j=>{const B=j.target;[...u.branches].some(N=>N.contains(B))||(s==null||s(j),o==null||o(j),j.defaultPrevented||l==null||l())},h);return aZ(j=>{b===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},h),v.useEffect(()=>{if(A)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(_2=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(A)),u.layers.add(A),C2(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=_2)}},[A,h,r,u]),v.useEffect(()=>()=>{A&&(u.layers.delete(A),u.layersWithOutsidePointerEventsDisabled.delete(A),C2())},[A,u]),v.useEffect(()=>{const j=()=>f({});return document.addEventListener(UB,j),()=>document.removeEventListener(UB,j)},[]),i.jsx(Je.div,{...c,ref:p,style:{pointerEvents:_?w?"auto":"none":void 0,...t.style},onFocusCapture:Oe(t.onFocusCapture,E.onFocusCapture),onBlurCapture:Oe(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Oe(t.onPointerDownCapture,C.onPointerDownCapture)})});Ed.displayName=sZ;var lZ="DismissableLayerBranch",N3=v.forwardRef((t,e)=>{const r=v.useContext(S3),n=v.useRef(null),a=pt(e,n);return v.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),i.jsx(Je.div,{...t,ref:a})});N3.displayName=lZ;function cZ(t,e=globalThis==null?void 0:globalThis.document){const r=Tr(t),n=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){T3(iZ,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=c,e.addEventListener("click",a.current,{once:!0})):c()}else e.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",a.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function uZ(t,e=globalThis==null?void 0:globalThis.document){const r=Tr(t),n=v.useRef(!1);return v.useEffect(()=>{const a=s=>{s.target&&!n.current&&T3(oZ,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function C2(){const t=new CustomEvent(UB);document.dispatchEvent(t)}function T3(t,e,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?E3(a,s):a.dispatchEvent(s)}var AZ=Ed,dZ=N3,Wr=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},hZ="Portal",mp=v.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[a,s]=v.useState(!1);Wr(()=>s(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?C3.createPortal(i.jsx(Je.div,{...n,ref:e}),o):null});mp.displayName=hZ;function fZ(t,e){return v.useReducer((r,n)=>e[r][n]??r,t)}var ra=t=>{const{present:e,children:r}=t,n=mZ(e),a=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),s=pt(n.ref,pZ(a));return typeof r=="function"||n.isPresent?v.cloneElement(a,{ref:s}):null};ra.displayName="Presence";function mZ(t){const[e,r]=v.useState(),n=v.useRef({}),a=v.useRef(t),s=v.useRef("none"),o=t?"mounted":"unmounted",[l,c]=fZ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=yg(n.current);s.current=l==="mounted"?u:"none"},[l]),Wr(()=>{const u=n.current,A=a.current;if(A!==t){const h=s.current,f=yg(u);t?c("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(A&&h!==f?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,c]),Wr(()=>{if(e){let u;const A=e.ownerDocument.defaultView??window,d=f=>{const g=yg(n.current).includes(f.animationName);if(f.target===e&&g&&(c("ANIMATION_END"),!a.current)){const m=e.style.animationFillMode;e.style.animationFillMode="forwards",u=A.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=m)})}},h=f=>{f.target===e&&(s.current=yg(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{A.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function yg(t){return(t==null?void 0:t.animationName)||"none"}function pZ(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Ya({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,a]=gZ({defaultProp:e,onChange:r}),s=t!==void 0,o=s?t:n,l=Tr(r),c=v.useCallback(u=>{if(s){const d=typeof u=="function"?u(t):u;d!==t&&l(d)}else a(u)},[s,t,a,l]);return[o,c]}function gZ({defaultProp:t,onChange:e}){const r=v.useState(t),[n]=r,a=v.useRef(n),s=Tr(e);return v.useEffect(()=>{a.current!==n&&(s(n),a.current=n)},[n,a,s]),r}var vZ="VisuallyHidden",pp=v.forwardRef((t,e)=>i.jsx(Je.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));pp.displayName=vZ;var yZ=pp,uT="ToastProvider",[AT,xZ,bZ]=r0("Toast"),[k3,LLe]=fa("Toast",[bZ]),[wZ,n0]=k3(uT),I3=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:s=50,children:o}=t,[l,c]=v.useState(null),[u,A]=v.useState(0),d=v.useRef(!1),h=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${uT}\`. Expected non-empty \`string\`.`),i.jsx(AT.Provider,{scope:e,children:i.jsx(wZ,{scope:e,label:r,duration:n,swipeDirection:a,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>A(f=>f+1),[]),onToastRemove:v.useCallback(()=>A(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};I3.displayName=uT;var P3="ToastViewport",jZ=["F8"],MB="toast.viewportPause",QB="toast.viewportResume",O3=v.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=jZ,label:a="Notifications ({hotkey})",...s}=t,o=n0(P3,r),l=xZ(r),c=v.useRef(null),u=v.useRef(null),A=v.useRef(null),d=v.useRef(null),h=pt(e,d,o.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=o.toastCount>0;v.useEffect(()=>{const m=x=>{var _;n.length!==0&&n.every(w=>x[w]||x.code===w)&&((_=d.current)==null||_.focus())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[n]),v.useEffect(()=>{const m=c.current,x=d.current;if(p&&m&&x){const b=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(MB);x.dispatchEvent(E),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(QB);x.dispatchEvent(E),o.isClosePausedRef.current=!1}},w=E=>{!m.contains(E.relatedTarget)&&_()},C=()=>{m.contains(document.activeElement)||_()};return m.addEventListener("focusin",b),m.addEventListener("focusout",w),m.addEventListener("pointermove",b),m.addEventListener("pointerleave",C),window.addEventListener("blur",b),window.addEventListener("focus",_),()=>{m.removeEventListener("focusin",b),m.removeEventListener("focusout",w),m.removeEventListener("pointermove",b),m.removeEventListener("pointerleave",C),window.removeEventListener("blur",b),window.removeEventListener("focus",_)}}},[p,o.isClosePausedRef]);const g=v.useCallback(({tabbingDirection:m})=>{const b=l().map(_=>{const w=_.ref.current,C=[w,...DZ(w)];return m==="forwards"?C:C.reverse()});return(m==="forwards"?b.reverse():b).flat()},[l]);return v.useEffect(()=>{const m=d.current;if(m){const x=b=>{var C,E,j;const _=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!_){const B=document.activeElement,S=b.shiftKey;if(b.target===m&&S){(C=u.current)==null||C.focus();return}const P=g({tabbingDirection:S?"backwards":"forwards"}),T=P.findIndex(U=>U===B);uw(P.slice(T+1))?b.preventDefault():S?(E=u.current)==null||E.focus():(j=A.current)==null||j.focus()}};return m.addEventListener("keydown",x),()=>m.removeEventListener("keydown",x)}},[l,g]),i.jsxs(dZ,{ref:c,role:"region","aria-label":a.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&i.jsx(LB,{ref:u,onFocusFromOutsideViewport:()=>{const m=g({tabbingDirection:"forwards"});uw(m)}}),i.jsx(AT.Slot,{scope:r,children:i.jsx(Je.ol,{tabIndex:-1,...s,ref:h})}),p&&i.jsx(LB,{ref:A,onFocusFromOutsideViewport:()=>{const m=g({tabbingDirection:"backwards"});uw(m)}})]})});O3.displayName=P3;var F3="ToastFocusProxy",LB=v.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=t,s=n0(F3,r);return i.jsx(pp,{"aria-hidden":!0,tabIndex:0,...a,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&n()}})});LB.displayName=F3;var a0="Toast",_Z="toast.swipeStart",CZ="toast.swipeMove",BZ="toast.swipeCancel",EZ="toast.swipeEnd",D3=v.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:s,...o}=t,[l=!0,c]=Ya({prop:n,defaultProp:a,onChange:s});return i.jsx(ra,{present:r||l,children:i.jsx(TZ,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Tr(t.onPause),onResume:Tr(t.onResume),onSwipeStart:Oe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Oe(t.onSwipeMove,u=>{const{x:A,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${A}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Oe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Oe(t.onSwipeEnd,u=>{const{x:A,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${A}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});D3.displayName=a0;var[SZ,NZ]=k3(a0,{onClose(){}}),TZ=v.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:s,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:A,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:f,...p}=t,g=n0(a0,r),[m,x]=v.useState(null),b=pt(e,U=>x(U)),_=v.useRef(null),w=v.useRef(null),C=a||g.duration,E=v.useRef(0),j=v.useRef(C),B=v.useRef(0),{onToastAdd:S,onToastRemove:N}=g,I=Tr(()=>{var M;(m==null?void 0:m.contains(document.activeElement))&&((M=g.viewport)==null||M.focus()),o()}),P=v.useCallback(U=>{!U||U===1/0||(window.clearTimeout(B.current),E.current=new Date().getTime(),B.current=window.setTimeout(I,U))},[I]);v.useEffect(()=>{const U=g.viewport;if(U){const M=()=>{P(j.current),u==null||u()},R=()=>{const F=new Date().getTime()-E.current;j.current=j.current-F,window.clearTimeout(B.current),c==null||c()};return U.addEventListener(MB,R),U.addEventListener(QB,M),()=>{U.removeEventListener(MB,R),U.removeEventListener(QB,M)}}},[g.viewport,C,c,u,P]),v.useEffect(()=>{s&&!g.isClosePausedRef.current&&P(C)},[s,C,g.isClosePausedRef,P]),v.useEffect(()=>(S(),()=>N()),[S,N]);const T=v.useMemo(()=>m?$3(m):null,[m]);return g.viewport?i.jsxs(i.Fragment,{children:[T&&i.jsx(kZ,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:T}),i.jsx(SZ,{scope:r,onClose:I,children:Bd.createPortal(i.jsx(AT.ItemSlot,{scope:r,children:i.jsx(AZ,{asChild:!0,onEscapeKeyDown:Oe(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||I(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Je.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...p,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Oe(t.onKeyDown,U=>{U.key==="Escape"&&(l==null||l(U.nativeEvent),U.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:Oe(t.onPointerDown,U=>{U.button===0&&(_.current={x:U.clientX,y:U.clientY})}),onPointerMove:Oe(t.onPointerMove,U=>{if(!_.current)return;const M=U.clientX-_.current.x,R=U.clientY-_.current.y,F=!!w.current,D=["left","right"].includes(g.swipeDirection),Q=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,H=D?Q(0,M):0,G=D?0:Q(0,R),X=U.pointerType==="touch"?10:2,te={x:H,y:G},Z={originalEvent:U,delta:te};F?(w.current=te,xg(CZ,d,Z,{discrete:!1})):B2(te,g.swipeDirection,X)?(w.current=te,xg(_Z,A,Z,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(M)>X||Math.abs(R)>X)&&(_.current=null)}),onPointerUp:Oe(t.onPointerUp,U=>{const M=w.current,R=U.target;if(R.hasPointerCapture(U.pointerId)&&R.releasePointerCapture(U.pointerId),w.current=null,_.current=null,M){const F=U.currentTarget,D={originalEvent:U,delta:M};B2(M,g.swipeDirection,g.swipeThreshold)?xg(EZ,f,D,{discrete:!0}):xg(BZ,h,D,{discrete:!0}),F.addEventListener("click",Q=>Q.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),kZ=t=>{const{__scopeToast:e,children:r,...n}=t,a=n0(a0,e),[s,o]=v.useState(!1),[l,c]=v.useState(!1);return OZ(()=>o(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(mp,{asChild:!0,children:i.jsx(pp,{...n,children:s&&i.jsxs(i.Fragment,{children:[a.label," ",r]})})})},IZ="ToastTitle",R3=v.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return i.jsx(Je.div,{...n,ref:e})});R3.displayName=IZ;var PZ="ToastDescription",U3=v.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return i.jsx(Je.div,{...n,ref:e})});U3.displayName=PZ;var M3="ToastAction",Q3=v.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?i.jsx(H3,{altText:r,asChild:!0,children:i.jsx(dT,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${M3}\`. Expected non-empty \`string\`.`),null)});Q3.displayName=M3;var L3="ToastClose",dT=v.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,a=NZ(L3,r);return i.jsx(H3,{asChild:!0,children:i.jsx(Je.button,{type:"button",...n,ref:e,onClick:Oe(t.onClick,a.onClose)})})});dT.displayName=L3;var H3=v.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...a}=t;return i.jsx(Je.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:e})});function $3(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),FZ(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!a)if(s){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...$3(n))}}),e}function xg(t,e,r,{discrete:n}){const a=r.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?E3(a,s):a.dispatchEvent(s)}var B2=(t,e,r=0)=>{const n=Math.abs(t.x),a=Math.abs(t.y),s=n>a;return e==="left"||e==="right"?s&&n>r:!s&&a>r};function OZ(t=()=>{}){const e=Tr(t);Wr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function FZ(t){return t.nodeType===t.ELEMENT_NODE}function DZ(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function uw(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var RZ=I3,V3=O3,K3=D3,q3=R3,G3=U3,z3=Q3,W3=dT;function X3(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=X3(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Qt(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=X3(t))&&(n&&(n+=" "),n+=e);return n}const E2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,S2=Qt,Sd=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return S2(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=e,o=Object.keys(a).map(u=>{const A=r==null?void 0:r[u],d=s==null?void 0:s[u];if(A===null)return null;const h=E2(A)||E2(d);return a[u][h]}),l=r&&Object.entries(r).reduce((u,A)=>{let[d,h]=A;return h===void 0||(u[d]=h),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,A)=>{let{class:d,className:h,...f}=A;return Object.entries(f).every(p=>{let[g,m]=p;return Array.isArray(m)?m.includes({...s,...l}[g]):{...s,...l}[g]===m})?[...u,d,h]:u},[]);return S2(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UZ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),J3=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QZ=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...MZ,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:J3("lucide",a),...l},[...o.map(([u,A])=>v.createElement(u,A)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(t,e)=>{const r=v.forwardRef(({className:n,...a},s)=>v.createElement(QZ,{ref:s,iconNode:e,className:J3(`lucide-${UZ(t)}`,n),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LZ=we("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=we("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=we("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HZ=we("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=we("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=we("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KZ=we("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=we("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=we("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=we("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=we("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=we("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=we("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=we("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GZ=we("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=we("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=we("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=we("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zZ=we("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WZ=we("ChevronsDown",[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=we("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XZ=we("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JZ=we("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YZ=we("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZZ=we("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eee=we("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tee=we("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=we("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ree=we("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=we("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=we("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nee=we("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=we("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=we("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=we("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=we("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=we("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lee=we("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=we("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cee=we("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uee=we("Gamepad",[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aee=we("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=we("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=we("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=we("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=we("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=we("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=we("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=we("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=we("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=we("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=we("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=we("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=we("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=we("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=we("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=we("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=we("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gee=we("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=we("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=we("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=we("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=we("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=we("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=we("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=we("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=we("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=we("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xee=we("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=we("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=we("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=we("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bee=we("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=we("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wee=we("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jee=we("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=we("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=we("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ee=we("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=we("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=we("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=we("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cee=we("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bee=we("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eee=we("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=we("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const See=we("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nee=we("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),wT="-",Tee=t=>{const e=Iee(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(wT);return l[0]===""&&l.length!==1&&l.shift(),A6(l,e)||kee(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},A6=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),a=n?A6(t.slice(1),n):void 0;if(a)return a;if(e.validators.length===0)return;const s=t.join(wT);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},R2=/^\[(.+)\]$/,kee=t=>{if(R2.test(t)){const e=R2.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Iee=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Oee(Object.entries(t.classGroups),r).forEach(([s,o])=>{WB(o,n,s,e)}),n},WB=(t,e,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const s=a===""?e:U2(e,a);s.classGroupId=r;return}if(typeof a=="function"){if(Pee(a)){WB(a(n),e,r,n);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,o])=>{WB(o,U2(e,s),r,n)})})},U2=(t,e)=>{let r=t;return e.split(wT).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Pee=t=>t.isThemeGetter,Oee=(t,e)=>e?t.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[r,a]}):t,Fee=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const a=(s,o)=>{r.set(s,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return a(s,o),o},set(s,o){r.has(s)?r.set(s,o):a(s,o)}}},d6="!",Dee=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,a=e[0],s=e.length,o=l=>{const c=[];let u=0,A=0,d;for(let m=0;m<l.length;m++){let x=l[m];if(u===0){if(x===a&&(n||l.slice(m,m+s)===e)){c.push(l.slice(A,m)),A=m+s;continue}if(x==="/"){d=m;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(A),f=h.startsWith(d6),p=f?h.substring(1):h,g=d&&d>A?d-A:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},Ree=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},Uee=t=>({cache:Fee(t.cacheSize),parseClassName:Dee(t),...Tee(t)}),Mee=/\s+/,Qee=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=e,s=[],o=t.trim().split(Mee);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:A,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=r(u);let p=!!f,g=n(p?h.substring(0,f):h);if(!g){if(!p){l=u+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=u+(l.length>0?" "+l:l);continue}p=!1}const m=Ree(A).join(":"),x=d?m+d6:m,b=x+g;if(s.includes(b))continue;s.push(b);const _=a(g,p);for(let w=0;w<_.length;++w){const C=_[w];s.push(x+C)}l=u+(l.length>0?" "+l:l)}return l};function Lee(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=h6(e))&&(n&&(n+=" "),n+=r);return n}const h6=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=h6(t[n]))&&(r&&(r+=" "),r+=e);return r};function Hee(t,...e){let r,n,a,s=o;function o(c){const u=e.reduce((A,d)=>d(A),t());return r=Uee(u),n=r.cache.get,a=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const A=Qee(c,r);return a(c,A),A}return function(){return s(Lee.apply(null,arguments))}}const yr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},f6=/^\[(?:([a-z-]+):)?(.+)\]$/i,$ee=/^\d+\/\d+$/,Vee=new Set(["px","full","screen"]),Kee=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Gee=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zee=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Wee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bi=t=>iA(t)||Vee.has(t)||$ee.test(t),mo=t=>Td(t,"length",nte),iA=t=>!!t&&!Number.isNaN(Number(t)),Aw=t=>Td(t,"number",iA),mh=t=>!!t&&Number.isInteger(Number(t)),Xee=t=>t.endsWith("%")&&iA(t.slice(0,-1)),bt=t=>f6.test(t),po=t=>Kee.test(t),Jee=new Set(["length","size","percentage"]),Yee=t=>Td(t,Jee,m6),Zee=t=>Td(t,"position",m6),ete=new Set(["image","url"]),tte=t=>Td(t,ete,ste),rte=t=>Td(t,"",ate),ph=()=>!0,Td=(t,e,r)=>{const n=f6.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},nte=t=>qee.test(t)&&!Gee.test(t),m6=()=>!1,ate=t=>zee.test(t),ste=t=>Wee.test(t),ite=()=>{const t=yr("colors"),e=yr("spacing"),r=yr("blur"),n=yr("brightness"),a=yr("borderColor"),s=yr("borderRadius"),o=yr("borderSpacing"),l=yr("borderWidth"),c=yr("contrast"),u=yr("grayscale"),A=yr("hueRotate"),d=yr("invert"),h=yr("gap"),f=yr("gradientColorStops"),p=yr("gradientColorStopPositions"),g=yr("inset"),m=yr("margin"),x=yr("opacity"),b=yr("padding"),_=yr("saturate"),w=yr("scale"),C=yr("sepia"),E=yr("skew"),j=yr("space"),B=yr("translate"),S=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",bt,e],P=()=>[bt,e],T=()=>["",bi,mo],U=()=>["auto",iA,bt],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",bt],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[iA,bt];return{cacheSize:500,separator:":",theme:{colors:[ph],spacing:[bi,mo],blur:["none","",po,bt],brightness:G(),borderColor:[t],borderRadius:["none","","full",po,bt],borderSpacing:P(),borderWidth:T(),contrast:G(),grayscale:Q(),hueRotate:G(),invert:Q(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[Xee,mo],inset:I(),margin:I(),opacity:G(),padding:P(),saturate:G(),scale:G(),sepia:Q(),skew:G(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",bt]}],container:["container"],columns:[{columns:[po]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),bt]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",mh,bt]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",bt]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",mh,bt]}],"grid-cols":[{"grid-cols":[ph]}],"col-start-end":[{col:["auto",{span:["full",mh,bt]},bt]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[ph]}],"row-start-end":[{row:["auto",{span:[mh,bt]},bt]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",bt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",bt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",bt,e]}],"min-w":[{"min-w":[bt,e,"min","max","fit"]}],"max-w":[{"max-w":[bt,e,"none","full","min","max","fit","prose",{screen:[po]},po]}],h:[{h:[bt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[bt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[bt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[bt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",po,mo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Aw]}],"font-family":[{font:[ph]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",bt]}],"line-clamp":[{"line-clamp":["none",iA,Aw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",bi,bt]}],"list-image":[{"list-image":["none",bt]}],"list-style-type":[{list:["none","disc","decimal",bt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",bi,mo]}],"underline-offset":[{"underline-offset":["auto",bi,bt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",bt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",bt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),Zee]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Yee]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},tte]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:R()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[bi,bt]}],"outline-w":[{outline:[bi,mo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[bi,mo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",po,rte]}],"shadow-color":[{shadow:[ph]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",po,bt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[A]}],invert:[{invert:[d]}],saturate:[{saturate:[_]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[A]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",bt]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",bt]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",bt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[mh,bt]}],"translate-x":[{"translate-x":[B]}],"translate-y":[{"translate-y":[B]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",bt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",bt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",bt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[bi,mo,Aw]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ote=Hee(ite);function de(...t){return ote(Qt(t))}function pe(t){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t).replace(/^IDR\s*/,"Rp")}const lte=RZ,p6=v.forwardRef(({className:t,...e},r)=>i.jsx(V3,{ref:r,className:de("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));p6.displayName=V3.displayName;const cte=Sd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),g6=v.forwardRef(({className:t,variant:e,...r},n)=>i.jsx(K3,{ref:n,className:de(cte({variant:e}),t),...r}));g6.displayName=K3.displayName;const ute=v.forwardRef(({className:t,...e},r)=>i.jsx(z3,{ref:r,className:de("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));ute.displayName=z3.displayName;const v6=v.forwardRef(({className:t,...e},r)=>i.jsx(W3,{ref:r,className:de("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:i.jsx(l0,{className:"h-4 w-4"})}));v6.displayName=W3.displayName;const y6=v.forwardRef(({className:t,...e},r)=>i.jsx(q3,{ref:r,className:de("text-sm font-semibold",t),...e}));y6.displayName=q3.displayName;const x6=v.forwardRef(({className:t,...e},r)=>i.jsx(G3,{ref:r,className:de("text-sm opacity-90",t),...e}));x6.displayName=G3.displayName;function Ate(){const{toasts:t}=Ns();return i.jsxs(lte,{children:[t.map(function({id:e,title:r,description:n,action:a,...s}){return i.jsxs(g6,{...s,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(y6,{children:r}),n&&i.jsx(x6,{children:n})]}),a,i.jsx(v6,{})]},e)}),i.jsx(p6,{})]})}var M2=["light","dark"],dte="(prefers-color-scheme: dark)",hte=v.createContext(void 0),fte={setTheme:t=>{},themes:[]},mte=()=>{var t;return(t=v.useContext(hte))!=null?t:fte};v.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:o,attrs:l,nonce:c})=>{let u=s==="system",A=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(p=>`'${p}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=a?M2.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(p,g=!1,m=!0)=>{let x=o?o[p]:p,b=g?p+"|| ''":`'${x}'`,_="";return a&&m&&!g&&M2.includes(p)&&(_+=`d.style.colorScheme = '${p}';`),r==="class"?g||x?_+=`c.add(${b})`:_+="null":x&&(_+=`d[s](n,${b})`),_},f=t?`!function(){${A}${h(t)}}()`:n?`!function(){try{${A}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${dte}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${A}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${d}}catch(t){}}();`;return v.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:f}})});var pte=t=>{switch(t){case"success":return yte;case"info":return bte;case"warning":return xte;case"error":return wte;default:return null}},gte=Array(12).fill(0),vte=({visible:t})=>$.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},$.createElement("div",{className:"sonner-spinner"},gte.map((e,r)=>$.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),yte=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),xte=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),bte=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),wte=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),jte=()=>{let[t,e]=$.useState(document.hidden);return $.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},XB=1,_te=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;let{message:n,...a}=e,s=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:XB++,o=this.toasts.find(c=>c.id===s),l=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...e,id:s,title:n}),{...c,...e,id:s,dismissible:l,title:n}):c):this.addToast({title:n,...a,dismissible:l,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:e,dismiss:!0})),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let a=e instanceof Promise?e:e(),s=n!==void 0;return a.then(async o=>{if(Bte(o)&&!o.ok){s=!1;let l=typeof r.error=="function"?await r.error(`HTTP error! status: ${o.status}`):r.error,c=typeof r.description=="function"?await r.description(`HTTP error! status: ${o.status}`):r.description;this.create({id:n,type:"error",message:l,description:c})}else if(r.success!==void 0){s=!1;let l=typeof r.success=="function"?await r.success(o):r.success,c=typeof r.description=="function"?await r.description(o):r.description;this.create({id:n,type:"success",message:l,description:c})}}).catch(async o=>{if(r.error!==void 0){s=!1;let l=typeof r.error=="function"?await r.error(o):r.error,c=typeof r.description=="function"?await r.description(o):r.description;this.create({id:n,type:"error",message:l,description:c})}}).finally(()=>{var o;s&&(this.dismiss(n),n=void 0),(o=r.finally)==null||o.call(r)}),n},this.custom=(e,r)=>{let n=(r==null?void 0:r.id)||XB++;return this.create({jsx:e(n),id:n,...r}),n},this.subscribers=[],this.toasts=[]}},ja=new _te,Cte=(t,e)=>{let r=(e==null?void 0:e.id)||XB++;return ja.addToast({title:t,...e,id:r}),r},Bte=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Ete=Cte,Ste=()=>ja.toasts;Object.assign(Ete,{success:ja.success,info:ja.info,warning:ja.warning,error:ja.error,custom:ja.custom,message:ja.message,promise:ja.promise,dismiss:ja.dismiss,loading:ja.loading},{getHistory:Ste});function Nte(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Nte(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function bg(t){return t.label!==void 0}var Tte=3,kte="32px",Ite=4e3,Pte=356,Ote=14,Fte=20,Dte=200;function Rte(...t){return t.filter(Boolean).join(" ")}var Ute=t=>{var e,r,n,a,s,o,l,c,u,A;let{invert:d,toast:h,unstyled:f,interacting:p,setHeights:g,visibleToasts:m,heights:x,index:b,toasts:_,expanded:w,removeToast:C,defaultRichColors:E,closeButton:j,style:B,cancelButtonStyle:S,actionButtonStyle:N,className:I="",descriptionClassName:P="",duration:T,position:U,gap:M,loadingIcon:R,expandByDefault:F,classNames:D,icons:Q,closeButtonAriaLabel:H="Close toast",pauseWhenPageIsHidden:G,cn:X}=t,[te,Z]=$.useState(!1),[q,se]=$.useState(!1),[Ae,oe]=$.useState(!1),[ce,fe]=$.useState(!1),[je,z]=$.useState(0),[ve,Ie]=$.useState(0),qe=$.useRef(null),Xe=$.useRef(null),Bt=b===0,K=b+1<=m,ee=h.type,ae=h.dismissible!==!1,_e=h.className||"",Ee=h.descriptionClassName||"",ye=$.useMemo(()=>x.findIndex(ft=>ft.toastId===h.id)||0,[x,h.id]),We=$.useMemo(()=>{var ft;return(ft=h.closeButton)!=null?ft:j},[h.closeButton,j]),At=$.useMemo(()=>h.duration||T||Ite,[h.duration,T]),rt=$.useRef(0),dt=$.useRef(0),$n=$.useRef(0),rs=$.useRef(null),[gi,Ql]=U.split("-"),Os=$.useMemo(()=>x.reduce((ft,tr,Yt)=>Yt>=ye?ft:ft+tr.height,0),[x,ye]),co=jte(),uu=h.invert||d,Fs=ee==="loading";dt.current=$.useMemo(()=>ye*M+Os,[ye,Os]),$.useEffect(()=>{Z(!0)},[]),$.useLayoutEffect(()=>{if(!te)return;let ft=Xe.current,tr=ft.style.height;ft.style.height="auto";let Yt=ft.getBoundingClientRect().height;ft.style.height=tr,Ie(Yt),g(Cn=>Cn.find(aa=>aa.toastId===h.id)?Cn.map(aa=>aa.toastId===h.id?{...aa,height:Yt}:aa):[{toastId:h.id,height:Yt,position:h.position},...Cn])},[te,h.title,h.description,g,h.id]);let Ds=$.useCallback(()=>{se(!0),z(dt.current),g(ft=>ft.filter(tr=>tr.toastId!==h.id)),setTimeout(()=>{C(h)},Dte)},[h,C,g,dt]);$.useEffect(()=>{if(h.promise&&ee==="loading"||h.duration===1/0||h.type==="loading")return;let ft,tr=At;return w||p||G&&co?(()=>{if($n.current<rt.current){let Yt=new Date().getTime()-rt.current;tr=tr-Yt}$n.current=new Date().getTime()})():tr!==1/0&&(rt.current=new Date().getTime(),ft=setTimeout(()=>{var Yt;(Yt=h.onAutoClose)==null||Yt.call(h,h),Ds()},tr)),()=>clearTimeout(ft)},[w,p,F,h,At,Ds,h.promise,ee,G,co]),$.useEffect(()=>{let ft=Xe.current;if(ft){let tr=ft.getBoundingClientRect().height;return Ie(tr),g(Yt=>[{toastId:h.id,height:tr,position:h.position},...Yt]),()=>g(Yt=>Yt.filter(Cn=>Cn.toastId!==h.id))}},[g,h.id]),$.useEffect(()=>{h.delete&&Ds()},[Ds,h.delete]);function Gb(){return Q!=null&&Q.loading?$.createElement("div",{className:"sonner-loader","data-visible":ee==="loading"},Q.loading):R?$.createElement("div",{className:"sonner-loader","data-visible":ee==="loading"},R):$.createElement(vte,{visible:ee==="loading"})}return $.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Xe,className:X(I,_e,D==null?void 0:D.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,D==null?void 0:D.default,D==null?void 0:D[ee],(r=h==null?void 0:h.classNames)==null?void 0:r[ee]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:E,"data-styled":!(h.jsx||h.unstyled||f),"data-mounted":te,"data-promise":!!h.promise,"data-removed":q,"data-visible":K,"data-y-position":gi,"data-x-position":Ql,"data-index":b,"data-front":Bt,"data-swiping":Ae,"data-dismissible":ae,"data-type":ee,"data-invert":uu,"data-swipe-out":ce,"data-expanded":!!(w||F&&te),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${q?je:dt.current}px`,"--initial-height":F?"auto":`${ve}px`,...B,...h.style},onPointerDown:ft=>{Fs||!ae||(qe.current=new Date,z(dt.current),ft.target.setPointerCapture(ft.pointerId),ft.target.tagName!=="BUTTON"&&(oe(!0),rs.current={x:ft.clientX,y:ft.clientY}))},onPointerUp:()=>{var ft,tr,Yt,Cn;if(ce||!ae)return;rs.current=null;let aa=Number(((ft=Xe.current)==null?void 0:ft.style.getPropertyValue("--swipe-amount").replace("px",""))||0),uo=new Date().getTime()-((tr=qe.current)==null?void 0:tr.getTime()),vi=Math.abs(aa)/uo;if(Math.abs(aa)>=Fte||vi>.11){z(dt.current),(Yt=h.onDismiss)==null||Yt.call(h,h),Ds(),fe(!0);return}(Cn=Xe.current)==null||Cn.style.setProperty("--swipe-amount","0px"),oe(!1)},onPointerMove:ft=>{var tr;if(!rs.current||!ae)return;let Yt=ft.clientY-rs.current.y,Cn=ft.clientX-rs.current.x,aa=(gi==="top"?Math.min:Math.max)(0,Yt),uo=ft.pointerType==="touch"?10:2;Math.abs(aa)>uo?(tr=Xe.current)==null||tr.style.setProperty("--swipe-amount",`${Yt}px`):Math.abs(Cn)>uo&&(rs.current=null)}},We&&!h.jsx?$.createElement("button",{"aria-label":H,"data-disabled":Fs,"data-close-button":!0,onClick:Fs||!ae?()=>{}:()=>{var ft;Ds(),(ft=h.onDismiss)==null||ft.call(h,h)},className:X(D==null?void 0:D.closeButton,(a=h==null?void 0:h.classNames)==null?void 0:a.closeButton)},$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||$.isValidElement(h.title)?h.jsx||h.title:$.createElement($.Fragment,null,ee||h.icon||h.promise?$.createElement("div",{"data-icon":"",className:X(D==null?void 0:D.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Gb():null,h.type!=="loading"?h.icon||(Q==null?void 0:Q[ee])||pte(ee):null):null,$.createElement("div",{"data-content":"",className:X(D==null?void 0:D.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},$.createElement("div",{"data-title":"",className:X(D==null?void 0:D.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?$.createElement("div",{"data-description":"",className:X(P,Ee,D==null?void 0:D.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),$.isValidElement(h.cancel)?h.cancel:h.cancel&&bg(h.cancel)?$.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||S,onClick:ft=>{var tr,Yt;bg(h.cancel)&&ae&&((Yt=(tr=h.cancel).onClick)==null||Yt.call(tr,ft),Ds())},className:X(D==null?void 0:D.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,$.isValidElement(h.action)?h.action:h.action&&bg(h.action)?$.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||N,onClick:ft=>{var tr,Yt;bg(h.action)&&(ft.defaultPrevented||((Yt=(tr=h.action).onClick)==null||Yt.call(tr,ft),Ds()))},className:X(D==null?void 0:D.actionButton,(A=h==null?void 0:h.classNames)==null?void 0:A.actionButton)},h.action.label):null))};function Q2(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var Mte=t=>{let{invert:e,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:a,closeButton:s,className:o,offset:l,theme:c="light",richColors:u,duration:A,style:d,visibleToasts:h=Tte,toastOptions:f,dir:p=Q2(),gap:g=Ote,loadingIcon:m,icons:x,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:_,cn:w=Rte}=t,[C,E]=$.useState([]),j=$.useMemo(()=>Array.from(new Set([r].concat(C.filter(G=>G.position).map(G=>G.position)))),[C,r]),[B,S]=$.useState([]),[N,I]=$.useState(!1),[P,T]=$.useState(!1),[U,M]=$.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),R=$.useRef(null),F=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=$.useRef(null),Q=$.useRef(!1),H=$.useCallback(G=>{var X;(X=C.find(te=>te.id===G.id))!=null&&X.delete||ja.dismiss(G.id),E(te=>te.filter(({id:Z})=>Z!==G.id))},[C]);return $.useEffect(()=>ja.subscribe(G=>{if(G.dismiss){E(X=>X.map(te=>te.id===G.id?{...te,delete:!0}:te));return}setTimeout(()=>{C3.flushSync(()=>{E(X=>{let te=X.findIndex(Z=>Z.id===G.id);return te!==-1?[...X.slice(0,te),{...X[te],...G},...X.slice(te+1)]:[G,...X]})})})}),[]),$.useEffect(()=>{if(c!=="system"){M(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:G})=>{M(G?"dark":"light")})},[c]),$.useEffect(()=>{C.length<=1&&I(!1)},[C]),$.useEffect(()=>{let G=X=>{var te,Z;n.every(q=>X[q]||X.code===q)&&(I(!0),(te=R.current)==null||te.focus()),X.code==="Escape"&&(document.activeElement===R.current||(Z=R.current)!=null&&Z.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[n]),$.useEffect(()=>{if(R.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,Q.current=!1)}},[R.current]),C.length?$.createElement("section",{"aria-label":`${b} ${F}`,tabIndex:-1},j.map((G,X)=>{var te;let[Z,q]=G.split("-");return $.createElement("ol",{key:G,dir:p==="auto"?Q2():p,tabIndex:-1,ref:R,className:o,"data-sonner-toaster":!0,"data-theme":U,"data-y-position":Z,"data-x-position":q,style:{"--front-toast-height":`${((te=B[0])==null?void 0:te.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||kte,"--width":`${Pte}px`,"--gap":`${g}px`,...d},onBlur:se=>{Q.current&&!se.currentTarget.contains(se.relatedTarget)&&(Q.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||Q.current||(Q.current=!0,D.current=se.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{P||I(!1)},onPointerDown:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||T(!0)},onPointerUp:()=>T(!1)},C.filter(se=>!se.position&&X===0||se.position===G).map((se,Ae)=>{var oe,ce;return $.createElement(Ute,{key:se.id,icons:x,index:Ae,toast:se,defaultRichColors:u,duration:(oe=f==null?void 0:f.duration)!=null?oe:A,className:f==null?void 0:f.className,descriptionClassName:f==null?void 0:f.descriptionClassName,invert:e,visibleToasts:h,closeButton:(ce=f==null?void 0:f.closeButton)!=null?ce:s,interacting:P,position:G,style:f==null?void 0:f.style,unstyled:f==null?void 0:f.unstyled,classNames:f==null?void 0:f.classNames,cancelButtonStyle:f==null?void 0:f.cancelButtonStyle,actionButtonStyle:f==null?void 0:f.actionButtonStyle,removeToast:H,toasts:C.filter(fe=>fe.position==se.position),heights:B.filter(fe=>fe.position==se.position),setHeights:S,expandByDefault:a,gap:g,loadingIcon:m,expanded:N,pauseWhenPageIsHidden:_,cn:w})}))})):null};const Qte=({...t})=>{const{theme:e="system"}=mte();return i.jsx(Mte,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Lte=_3.useId||(()=>{}),Hte=0;function Ys(t){const[e,r]=v.useState(Lte());return Wr(()=>{r(n=>n??String(Hte++))},[t]),e?`radix-${e}`:""}const $te=["top","right","bottom","left"],ul=Math.min,Ba=Math.max,ey=Math.round,wg=Math.floor,Al=t=>({x:t,y:t}),Vte={left:"right",right:"left",bottom:"top",top:"bottom"},Kte={start:"end",end:"start"};function JB(t,e,r){return Ba(t,ul(e,r))}function Ki(t,e){return typeof t=="function"?t(e):t}function qi(t){return t.split("-")[0]}function kd(t){return t.split("-")[1]}function jT(t){return t==="x"?"y":"x"}function _T(t){return t==="y"?"height":"width"}function dl(t){return["top","bottom"].includes(qi(t))?"y":"x"}function CT(t){return jT(dl(t))}function qte(t,e,r){r===void 0&&(r=!1);const n=kd(t),a=CT(t),s=_T(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=ty(o)),[o,ty(o)]}function Gte(t){const e=ty(t);return[YB(t),e,YB(e)]}function YB(t){return t.replace(/start|end/g,e=>Kte[e])}function zte(t,e,r){const n=["left","right"],a=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?a:n:e?n:a;case"left":case"right":return e?s:o;default:return[]}}function Wte(t,e,r,n){const a=kd(t);let s=zte(qi(t),r==="start",n);return a&&(s=s.map(o=>o+"-"+a),e&&(s=s.concat(s.map(YB)))),s}function ty(t){return t.replace(/left|right|bottom|top/g,e=>Vte[e])}function Xte(t){return{top:0,right:0,bottom:0,left:0,...t}}function b6(t){return typeof t!="number"?Xte(t):{top:t,right:t,bottom:t,left:t}}function ry(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function L2(t,e,r){let{reference:n,floating:a}=t;const s=dl(e),o=CT(e),l=_T(o),c=qi(e),u=s==="y",A=n.x+n.width/2-a.width/2,d=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let f;switch(c){case"top":f={x:A,y:n.y-a.height};break;case"bottom":f={x:A,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:d};break;case"left":f={x:n.x-a.width,y:d};break;default:f={x:n.x,y:n.y}}switch(kd(e)){case"start":f[o]-=h*(r&&u?-1:1);break;case"end":f[o]+=h*(r&&u?-1:1);break}return f}const Jte=async(t,e,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:a}),{x:A,y:d}=L2(u,n,c),h=n,f={},p=0;for(let g=0;g<l.length;g++){const{name:m,fn:x}=l[g],{x:b,y:_,data:w,reset:C}=await x({x:A,y:d,initialPlacement:n,placement:h,strategy:a,middlewareData:f,rects:u,platform:o,elements:{reference:t,floating:e}});A=b??A,d=_??d,f={...f,[m]:{...f[m],...w}},C&&p<=50&&(p++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:a}):C.rects),{x:A,y:d}=L2(u,h,c)),g=-1)}return{x:A,y:d,placement:h,strategy:a,middlewareData:f}};async function Mf(t,e){var r;e===void 0&&(e={});const{x:n,y:a,platform:s,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:A="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Ki(e,t),p=b6(f),m=l[h?d==="floating"?"reference":"floating":d],x=ry(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(m)))==null||r?m:m.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:A,strategy:c})),b=d==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),w=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},C=ry(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:_,strategy:c}):b);return{top:(x.top-C.top+p.top)/w.y,bottom:(C.bottom-x.bottom+p.bottom)/w.y,left:(x.left-C.left+p.left)/w.x,right:(C.right-x.right+p.right)/w.x}}const Yte=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:a,rects:s,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:A=0}=Ki(t,e)||{};if(u==null)return{};const d=b6(A),h={x:r,y:n},f=CT(a),p=_T(f),g=await o.getDimensions(u),m=f==="y",x=m?"top":"left",b=m?"bottom":"right",_=m?"clientHeight":"clientWidth",w=s.reference[p]+s.reference[f]-h[f]-s.floating[p],C=h[f]-s.reference[f],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let j=E?E[_]:0;(!j||!await(o.isElement==null?void 0:o.isElement(E)))&&(j=l.floating[_]||s.floating[p]);const B=w/2-C/2,S=j/2-g[p]/2-1,N=ul(d[x],S),I=ul(d[b],S),P=N,T=j-g[p]-I,U=j/2-g[p]/2+B,M=JB(P,U,T),R=!c.arrow&&kd(a)!=null&&U!==M&&s.reference[p]/2-(U<P?N:I)-g[p]/2<0,F=R?U<P?U-P:U-T:0;return{[f]:h[f]+F,data:{[f]:M,centerOffset:U-M-F,...R&&{alignmentOffset:F}},reset:R}}}),Zte=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:a,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:A=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...m}=Ki(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const x=qi(a),b=dl(l),_=qi(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=h||(_||!g?[ty(l)]:Gte(l)),E=p!=="none";!h&&E&&C.push(...Wte(l,g,p,w));const j=[l,...C],B=await Mf(e,m),S=[];let N=((n=s.flip)==null?void 0:n.overflows)||[];if(A&&S.push(B[x]),d){const U=qte(a,o,w);S.push(B[U[0]],B[U[1]])}if(N=[...N,{placement:a,overflows:S}],!S.every(U=>U<=0)){var I,P;const U=(((I=s.flip)==null?void 0:I.index)||0)+1,M=j[U];if(M)return{data:{index:U,overflows:N},reset:{placement:M}};let R=(P=N.filter(F=>F.overflows[0]<=0).sort((F,D)=>F.overflows[1]-D.overflows[1])[0])==null?void 0:P.placement;if(!R)switch(f){case"bestFit":{var T;const F=(T=N.filter(D=>{if(E){const Q=dl(D.placement);return Q===b||Q==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(Q=>Q>0).reduce((Q,H)=>Q+H,0)]).sort((D,Q)=>D[1]-Q[1])[0])==null?void 0:T[0];F&&(R=F);break}case"initialPlacement":R=l;break}if(a!==R)return{reset:{placement:R}}}return{}}}};function H2(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function $2(t){return $te.some(e=>t[e]>=0)}const ere=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...a}=Ki(t,e);switch(n){case"referenceHidden":{const s=await Mf(e,{...a,elementContext:"reference"}),o=H2(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:$2(o)}}}case"escaped":{const s=await Mf(e,{...a,altBoundary:!0}),o=H2(s,r.floating);return{data:{escapedOffsets:o,escaped:$2(o)}}}default:return{}}}}};async function tre(t,e){const{placement:r,platform:n,elements:a}=t,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=qi(r),l=kd(r),c=dl(r)==="y",u=["left","top"].includes(o)?-1:1,A=s&&c?-1:1,d=Ki(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof p=="number"&&(f=l==="end"?p*-1:p),c?{x:f*A,y:h*u}:{x:h*u,y:f*A}}const rre=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:a,y:s,placement:o,middlewareData:l}=e,c=await tre(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:o}}}}},nre=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:a}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:m=>{let{x,y:b}=m;return{x,y:b}}},...c}=Ki(t,e),u={x:r,y:n},A=await Mf(e,c),d=dl(qi(a)),h=jT(d);let f=u[h],p=u[d];if(s){const m=h==="y"?"top":"left",x=h==="y"?"bottom":"right",b=f+A[m],_=f-A[x];f=JB(b,f,_)}if(o){const m=d==="y"?"top":"left",x=d==="y"?"bottom":"right",b=p+A[m],_=p-A[x];p=JB(b,p,_)}const g=l.fn({...e,[h]:f,[d]:p});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:s,[d]:o}}}}}},are=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:a,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ki(t,e),A={x:r,y:n},d=dl(a),h=jT(d);let f=A[h],p=A[d];const g=Ki(l,e),m=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const _=h==="y"?"height":"width",w=s.reference[h]-s.floating[_]+m.mainAxis,C=s.reference[h]+s.reference[_]-m.mainAxis;f<w?f=w:f>C&&(f=C)}if(u){var x,b;const _=h==="y"?"width":"height",w=["top","left"].includes(qi(a)),C=s.reference[d]-s.floating[_]+(w&&((x=o.offset)==null?void 0:x[d])||0)+(w?0:m.crossAxis),E=s.reference[d]+s.reference[_]+(w?0:((b=o.offset)==null?void 0:b[d])||0)-(w?m.crossAxis:0);p<C?p=C:p>E&&(p=E)}return{[h]:f,[d]:p}}}},sre=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:a,rects:s,platform:o,elements:l}=e,{apply:c=()=>{},...u}=Ki(t,e),A=await Mf(e,u),d=qi(a),h=kd(a),f=dl(a)==="y",{width:p,height:g}=s.floating;let m,x;d==="top"||d==="bottom"?(m=d,x=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=d,m=h==="end"?"top":"bottom");const b=g-A.top-A.bottom,_=p-A.left-A.right,w=ul(g-A[m],b),C=ul(p-A[x],_),E=!e.middlewareData.shift;let j=w,B=C;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(B=_),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(j=b),E&&!h){const N=Ba(A.left,0),I=Ba(A.right,0),P=Ba(A.top,0),T=Ba(A.bottom,0);f?B=p-2*(N!==0||I!==0?N+I:Ba(A.left,A.right)):j=g-2*(P!==0||T!==0?P+T:Ba(A.top,A.bottom))}await c({...e,availableWidth:B,availableHeight:j});const S=await o.getDimensions(l.floating);return p!==S.width||g!==S.height?{reset:{rects:!0}}:{}}}};function c0(){return typeof window<"u"}function Id(t){return w6(t)?(t.nodeName||"").toLowerCase():"#document"}function ka(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function di(t){var e;return(e=(w6(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function w6(t){return c0()?t instanceof Node||t instanceof ka(t).Node:!1}function Cs(t){return c0()?t instanceof Element||t instanceof ka(t).Element:!1}function ai(t){return c0()?t instanceof HTMLElement||t instanceof ka(t).HTMLElement:!1}function V2(t){return!c0()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ka(t).ShadowRoot}function vp(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=Bs(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(a)}function ire(t){return["table","td","th"].includes(Id(t))}function u0(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function BT(t){const e=ET(),r=Cs(t)?Bs(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function ore(t){let e=hl(t);for(;ai(e)&&!FA(e);){if(BT(e))return e;if(u0(e))return null;e=hl(e)}return null}function ET(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function FA(t){return["html","body","#document"].includes(Id(t))}function Bs(t){return ka(t).getComputedStyle(t)}function A0(t){return Cs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function hl(t){if(Id(t)==="html")return t;const e=t.assignedSlot||t.parentNode||V2(t)&&t.host||di(t);return V2(e)?e.host:e}function j6(t){const e=hl(t);return FA(e)?t.ownerDocument?t.ownerDocument.body:t.body:ai(e)&&vp(e)?e:j6(e)}function Qf(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=j6(t),s=a===((n=t.ownerDocument)==null?void 0:n.body),o=ka(a);if(s){const l=ZB(o);return e.concat(o,o.visualViewport||[],vp(a)?a:[],l&&r?Qf(l):[])}return e.concat(a,Qf(a,[],r))}function ZB(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function _6(t){const e=Bs(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=ai(t),s=a?t.offsetWidth:r,o=a?t.offsetHeight:n,l=ey(r)!==s||ey(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function ST(t){return Cs(t)?t:t.contextElement}function oA(t){const e=ST(t);if(!ai(e))return Al(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:s}=_6(e);let o=(s?ey(r.width):r.width)/n,l=(s?ey(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const lre=Al(0);function C6(t){const e=ka(t);return!ET()||!e.visualViewport?lre:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function cre(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==ka(t)?!1:e}function Dc(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),s=ST(t);let o=Al(1);e&&(n?Cs(n)&&(o=oA(n)):o=oA(t));const l=cre(s,r,n)?C6(s):Al(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,A=a.width/o.x,d=a.height/o.y;if(s){const h=ka(s),f=n&&Cs(n)?ka(n):n;let p=h,g=ZB(p);for(;g&&n&&f!==p;){const m=oA(g),x=g.getBoundingClientRect(),b=Bs(g),_=x.left+(g.clientLeft+parseFloat(b.paddingLeft))*m.x,w=x.top+(g.clientTop+parseFloat(b.paddingTop))*m.y;c*=m.x,u*=m.y,A*=m.x,d*=m.y,c+=_,u+=w,p=ka(g),g=ZB(p)}}return ry({width:A,height:d,x:c,y:u})}function ure(t){let{elements:e,rect:r,offsetParent:n,strategy:a}=t;const s=a==="fixed",o=di(n),l=e?u0(e.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=Al(1);const A=Al(0),d=ai(n);if((d||!d&&!s)&&((Id(n)!=="body"||vp(o))&&(c=A0(n)),ai(n))){const h=Dc(n);u=oA(n),A.x=h.x+n.clientLeft,A.y=h.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+A.x,y:r.y*u.y-c.scrollTop*u.y+A.y}}function Are(t){return Array.from(t.getClientRects())}function eE(t,e){const r=A0(t).scrollLeft;return e?e.left+r:Dc(di(t)).left+r}function dre(t){const e=di(t),r=A0(t),n=t.ownerDocument.body,a=Ba(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Ba(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+eE(t);const l=-r.scrollTop;return Bs(n).direction==="rtl"&&(o+=Ba(e.clientWidth,n.clientWidth)-a),{width:a,height:s,x:o,y:l}}function hre(t,e){const r=ka(t),n=di(t),a=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){s=a.width,o=a.height;const u=ET();(!u||u&&e==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:s,height:o,x:l,y:c}}function fre(t,e){const r=Dc(t,!0,e==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,s=ai(t)?oA(t):Al(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:o,height:l,x:c,y:u}}function K2(t,e,r){let n;if(e==="viewport")n=hre(t,r);else if(e==="document")n=dre(di(t));else if(Cs(e))n=fre(e,r);else{const a=C6(t);n={...e,x:e.x-a.x,y:e.y-a.y}}return ry(n)}function B6(t,e){const r=hl(t);return r===e||!Cs(r)||FA(r)?!1:Bs(r).position==="fixed"||B6(r,e)}function mre(t,e){const r=e.get(t);if(r)return r;let n=Qf(t,[],!1).filter(l=>Cs(l)&&Id(l)!=="body"),a=null;const s=Bs(t).position==="fixed";let o=s?hl(t):t;for(;Cs(o)&&!FA(o);){const l=Bs(o),c=BT(o);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||vp(o)&&!c&&B6(t,o))?n=n.filter(A=>A!==o):a=l,o=hl(o)}return e.set(t,n),n}function pre(t){let{element:e,boundary:r,rootBoundary:n,strategy:a}=t;const o=[...r==="clippingAncestors"?u0(e)?[]:mre(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,A)=>{const d=K2(e,A,a);return u.top=Ba(d.top,u.top),u.right=ul(d.right,u.right),u.bottom=ul(d.bottom,u.bottom),u.left=Ba(d.left,u.left),u},K2(e,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function gre(t){const{width:e,height:r}=_6(t);return{width:e,height:r}}function vre(t,e,r){const n=ai(e),a=di(e),s=r==="fixed",o=Dc(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=Al(0);if(n||!n&&!s)if((Id(e)!=="body"||vp(a))&&(l=A0(e)),n){const f=Dc(e,!0,s,e);c.x=f.x+e.clientLeft,c.y=f.y+e.clientTop}else a&&(c.x=eE(a));let u=0,A=0;if(a&&!n&&!s){const f=a.getBoundingClientRect();A=f.top+l.scrollTop,u=f.left+l.scrollLeft-eE(a,f)}const d=o.left+l.scrollLeft-c.x-u,h=o.top+l.scrollTop-c.y-A;return{x:d,y:h,width:o.width,height:o.height}}function dw(t){return Bs(t).position==="static"}function q2(t,e){if(!ai(t)||Bs(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return di(t)===r&&(r=r.ownerDocument.body),r}function E6(t,e){const r=ka(t);if(u0(t))return r;if(!ai(t)){let a=hl(t);for(;a&&!FA(a);){if(Cs(a)&&!dw(a))return a;a=hl(a)}return r}let n=q2(t,e);for(;n&&ire(n)&&dw(n);)n=q2(n,e);return n&&FA(n)&&dw(n)&&!BT(n)?r:n||ore(t)||r}const yre=async function(t){const e=this.getOffsetParent||E6,r=this.getDimensions,n=await r(t.floating);return{reference:vre(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function xre(t){return Bs(t).direction==="rtl"}const bre={convertOffsetParentRelativeRectToViewportRelativeRect:ure,getDocumentElement:di,getClippingRect:pre,getOffsetParent:E6,getElementRects:yre,getClientRects:Are,getDimensions:gre,getScale:oA,isElement:Cs,isRTL:xre};function wre(t,e){let r=null,n;const a=di(t);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const{left:u,top:A,width:d,height:h}=t.getBoundingClientRect();if(l||e(),!d||!h)return;const f=wg(A),p=wg(a.clientWidth-(u+d)),g=wg(a.clientHeight-(A+h)),m=wg(u),b={rootMargin:-f+"px "+-p+"px "+-g+"px "+-m+"px",threshold:Ba(0,ul(1,c))||1};let _=!0;function w(C){const E=C[0].intersectionRatio;if(E!==c){if(!_)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}_=!1}try{r=new IntersectionObserver(w,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(w,b)}r.observe(t)}return o(!0),s}function jre(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=ST(t),A=a||s?[...u?Qf(u):[],...Qf(e)]:[];A.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),s&&x.addEventListener("resize",r)});const d=u&&l?wre(u,r):null;let h=-1,f=null;o&&(f=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=f)==null||_.observe(e)})),r()}),u&&!c&&f.observe(u),f.observe(e));let p,g=c?Dc(t):null;c&&m();function m(){const x=Dc(t);g&&(x.x!==g.x||x.y!==g.y||x.width!==g.width||x.height!==g.height)&&r(),g=x,p=requestAnimationFrame(m)}return r(),()=>{var x;A.forEach(b=>{a&&b.removeEventListener("scroll",r),s&&b.removeEventListener("resize",r)}),d==null||d(),(x=f)==null||x.disconnect(),f=null,c&&cancelAnimationFrame(p)}}const _re=rre,Cre=nre,Bre=Zte,Ere=sre,Sre=ere,G2=Yte,Nre=are,Tre=(t,e,r)=>{const n=new Map,a={platform:bre,...r},s={...a.platform,_c:n};return Jte(t,e,{...a,platform:s})};var Nv=typeof document<"u"?v.useLayoutEffect:v.useEffect;function ny(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!ny(t[n],e[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&t.$$typeof)&&!ny(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function S6(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function z2(t,e){const r=S6(t);return Math.round(e*r)/r}function hw(t){const e=v.useRef(t);return Nv(()=>{e.current=t}),e}function kre(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[A,d]=v.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,f]=v.useState(n);ny(h,n)||f(n);const[p,g]=v.useState(null),[m,x]=v.useState(null),b=v.useCallback(D=>{D!==E.current&&(E.current=D,g(D))},[]),_=v.useCallback(D=>{D!==j.current&&(j.current=D,x(D))},[]),w=s||p,C=o||m,E=v.useRef(null),j=v.useRef(null),B=v.useRef(A),S=c!=null,N=hw(c),I=hw(a),P=hw(u),T=v.useCallback(()=>{if(!E.current||!j.current)return;const D={placement:e,strategy:r,middleware:h};I.current&&(D.platform=I.current),Tre(E.current,j.current,D).then(Q=>{const H={...Q,isPositioned:P.current!==!1};U.current&&!ny(B.current,H)&&(B.current=H,Bd.flushSync(()=>{d(H)}))})},[h,e,r,I,P]);Nv(()=>{u===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,d(D=>({...D,isPositioned:!1})))},[u]);const U=v.useRef(!1);Nv(()=>(U.current=!0,()=>{U.current=!1}),[]),Nv(()=>{if(w&&(E.current=w),C&&(j.current=C),w&&C){if(N.current)return N.current(w,C,T);T()}},[w,C,T,N,S]);const M=v.useMemo(()=>({reference:E,floating:j,setReference:b,setFloating:_}),[b,_]),R=v.useMemo(()=>({reference:w,floating:C}),[w,C]),F=v.useMemo(()=>{const D={position:r,left:0,top:0};if(!R.floating)return D;const Q=z2(R.floating,A.x),H=z2(R.floating,A.y);return l?{...D,transform:"translate("+Q+"px, "+H+"px)",...S6(R.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Q,top:H}},[r,l,R.floating,A.x,A.y]);return v.useMemo(()=>({...A,update:T,refs:M,elements:R,floatingStyles:F}),[A,T,M,R,F])}const Ire=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?G2({element:n.current,padding:a}).fn(r):{}:n?G2({element:n,padding:a}).fn(r):{}}}},Pre=(t,e)=>({..._re(t),options:[t,e]}),Ore=(t,e)=>({...Cre(t),options:[t,e]}),Fre=(t,e)=>({...Nre(t),options:[t,e]}),Dre=(t,e)=>({...Bre(t),options:[t,e]}),Rre=(t,e)=>({...Ere(t),options:[t,e]}),Ure=(t,e)=>({...Sre(t),options:[t,e]}),Mre=(t,e)=>({...Ire(t),options:[t,e]});var Qre="Arrow",N6=v.forwardRef((t,e)=>{const{children:r,width:n=10,height:a=5,...s}=t;return i.jsx(Je.svg,{...s,ref:e,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});N6.displayName=Qre;var Lre=N6;function Hre(t,e=[]){let r=[];function n(s,o){const l=v.createContext(o),c=r.length;r=[...r,o];function u(d){const{scope:h,children:f,...p}=d,g=(h==null?void 0:h[t][c])||l,m=v.useMemo(()=>p,Object.values(p));return i.jsx(g.Provider,{value:m,children:f})}function A(d,h){const f=(h==null?void 0:h[t][c])||l,p=v.useContext(f);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,A]}const a=()=>{const s=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[n,$re(a,...e)]}function $re(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...l,...d}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function yp(t){const[e,r]=v.useState(void 0);return Wr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var NT="Popper",[T6,Pd]=Hre(NT),[Vre,k6]=T6(NT),I6=t=>{const{__scopePopper:e,children:r}=t,[n,a]=v.useState(null);return i.jsx(Vre,{scope:e,anchor:n,onAnchorChange:a,children:r})};I6.displayName=NT;var P6="PopperAnchor",O6=v.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...a}=t,s=k6(P6,r),o=v.useRef(null),l=pt(e,o);return v.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(Je.div,{...a,ref:l})});O6.displayName=P6;var TT="PopperContent",[Kre,qre]=T6(TT),F6=v.forwardRef((t,e)=>{var Ae,oe,ce,fe,je,z;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:A=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:p,...g}=t,m=k6(TT,r),[x,b]=v.useState(null),_=pt(e,ve=>b(ve)),[w,C]=v.useState(null),E=yp(w),j=(E==null?void 0:E.width)??0,B=(E==null?void 0:E.height)??0,S=n+(s!=="center"?"-"+s:""),N=typeof A=="number"?A:{top:0,right:0,bottom:0,left:0,...A},I=Array.isArray(u)?u:[u],P=I.length>0,T={padding:N,boundary:I.filter(zre),altBoundary:P},{refs:U,floatingStyles:M,placement:R,isPositioned:F,middlewareData:D}=kre({strategy:"fixed",placement:S,whileElementsMounted:(...ve)=>jre(...ve,{animationFrame:f==="always"}),elements:{reference:m.anchor},middleware:[Pre({mainAxis:a+B,alignmentAxis:o}),c&&Ore({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?Fre():void 0,...T}),c&&Dre({...T}),Rre({...T,apply:({elements:ve,rects:Ie,availableWidth:qe,availableHeight:Xe})=>{const{width:Bt,height:K}=Ie.reference,ee=ve.floating.style;ee.setProperty("--radix-popper-available-width",`${qe}px`),ee.setProperty("--radix-popper-available-height",`${Xe}px`),ee.setProperty("--radix-popper-anchor-width",`${Bt}px`),ee.setProperty("--radix-popper-anchor-height",`${K}px`)}}),w&&Mre({element:w,padding:l}),Wre({arrowWidth:j,arrowHeight:B}),h&&Ure({strategy:"referenceHidden",...T})]}),[Q,H]=U6(R),G=Tr(p);Wr(()=>{F&&(G==null||G())},[F,G]);const X=(Ae=D.arrow)==null?void 0:Ae.x,te=(oe=D.arrow)==null?void 0:oe.y,Z=((ce=D.arrow)==null?void 0:ce.centerOffset)!==0,[q,se]=v.useState();return Wr(()=>{x&&se(window.getComputedStyle(x).zIndex)},[x]),i.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:F?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(fe=D.transformOrigin)==null?void 0:fe.x,(je=D.transformOrigin)==null?void 0:je.y].join(" "),...((z=D.hide)==null?void 0:z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:i.jsx(Kre,{scope:r,placedSide:Q,onArrowChange:C,arrowX:X,arrowY:te,shouldHideArrow:Z,children:i.jsx(Je.div,{"data-side":Q,"data-align":H,...g,ref:_,style:{...g.style,animation:F?void 0:"none"}})})})});F6.displayName=TT;var D6="PopperArrow",Gre={top:"bottom",right:"left",bottom:"top",left:"right"},R6=v.forwardRef(function(e,r){const{__scopePopper:n,...a}=e,s=qre(D6,n),o=Gre[s.placedSide];return i.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:i.jsx(Lre,{...a,ref:r,style:{...a.style,display:"block"}})})});R6.displayName=D6;function zre(t){return t!==null}var Wre=t=>({name:"transformOrigin",options:t,fn(e){var m,x,b;const{placement:r,rects:n,middlewareData:a}=e,o=((m=a.arrow)==null?void 0:m.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,A]=U6(r),d={start:"0%",center:"50%",end:"100%"}[A],h=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,f=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let p="",g="";return u==="bottom"?(p=o?d:`${h}px`,g=`${-c}px`):u==="top"?(p=o?d:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(p=`${-c}px`,g=o?d:`${f}px`):u==="left"&&(p=`${n.floating.width+c}px`,g=o?d:`${f}px`),{data:{x:p,y:g}}}});function U6(t){const[e,r="center"]=t.split("-");return[e,r]}var kT=I6,d0=O6,IT=F6,PT=R6,[h0,$Le]=fa("Tooltip",[Pd]),f0=Pd(),M6="TooltipProvider",Xre=700,tE="tooltip.open",[Jre,OT]=h0(M6),Q6=t=>{const{__scopeTooltip:e,delayDuration:r=Xre,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:s}=t,[o,l]=v.useState(!0),c=v.useRef(!1),u=v.useRef(0);return v.useEffect(()=>{const A=u.current;return()=>window.clearTimeout(A)},[]),i.jsx(Jre,{scope:e,isOpenDelayed:o,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:v.useCallback(A=>{c.current=A},[]),disableHoverableContent:a,children:s})};Q6.displayName=M6;var m0="Tooltip",[Yre,p0]=h0(m0),L6=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:a=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=t,c=OT(m0,t.__scopeTooltip),u=f0(e),[A,d]=v.useState(null),h=Ys(),f=v.useRef(0),p=o??c.disableHoverableContent,g=l??c.delayDuration,m=v.useRef(!1),[x=!1,b]=Ya({prop:n,defaultProp:a,onChange:j=>{j?(c.onOpen(),document.dispatchEvent(new CustomEvent(tE))):c.onClose(),s==null||s(j)}}),_=v.useMemo(()=>x?m.current?"delayed-open":"instant-open":"closed",[x]),w=v.useCallback(()=>{window.clearTimeout(f.current),f.current=0,m.current=!1,b(!0)},[b]),C=v.useCallback(()=>{window.clearTimeout(f.current),f.current=0,b(!1)},[b]),E=v.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{m.current=!0,b(!0),f.current=0},g)},[g,b]);return v.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),i.jsx(kT,{...u,children:i.jsx(Yre,{scope:e,contentId:h,open:x,stateAttribute:_,trigger:A,onTriggerChange:d,onTriggerEnter:v.useCallback(()=>{c.isOpenDelayed?E():w()},[c.isOpenDelayed,E,w]),onTriggerLeave:v.useCallback(()=>{p?C():(window.clearTimeout(f.current),f.current=0)},[C,p]),onOpen:w,onClose:C,disableHoverableContent:p,children:r})})};L6.displayName=m0;var rE="TooltipTrigger",H6=v.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=p0(rE,r),s=OT(rE,r),o=f0(r),l=v.useRef(null),c=pt(e,l,a.onTriggerChange),u=v.useRef(!1),A=v.useRef(!1),d=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),i.jsx(d0,{asChild:!0,...o,children:i.jsx(Je.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Oe(t.onPointerMove,h=>{h.pointerType!=="touch"&&!A.current&&!s.isPointerInTransitRef.current&&(a.onTriggerEnter(),A.current=!0)}),onPointerLeave:Oe(t.onPointerLeave,()=>{a.onTriggerLeave(),A.current=!1}),onPointerDown:Oe(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Oe(t.onFocus,()=>{u.current||a.onOpen()}),onBlur:Oe(t.onBlur,a.onClose),onClick:Oe(t.onClick,a.onClose)})})});H6.displayName=rE;var Zre="TooltipPortal",[VLe,ene]=h0(Zre,{forceMount:void 0}),DA="TooltipContent",$6=v.forwardRef((t,e)=>{const r=ene(DA,t.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...s}=t,o=p0(DA,t.__scopeTooltip);return i.jsx(ra,{present:n||o.open,children:o.disableHoverableContent?i.jsx(V6,{side:a,...s,ref:e}):i.jsx(tne,{side:a,...s,ref:e})})}),tne=v.forwardRef((t,e)=>{const r=p0(DA,t.__scopeTooltip),n=OT(DA,t.__scopeTooltip),a=v.useRef(null),s=pt(e,a),[o,l]=v.useState(null),{trigger:c,onClose:u}=r,A=a.current,{onPointerInTransitChange:d}=n,h=v.useCallback(()=>{l(null),d(!1)},[d]),f=v.useCallback((p,g)=>{const m=p.currentTarget,x={x:p.clientX,y:p.clientY},b=sne(x,m.getBoundingClientRect()),_=ine(x,b),w=one(g.getBoundingClientRect()),C=cne([..._,...w]);l(C),d(!0)},[d]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(c&&A){const p=m=>f(m,A),g=m=>f(m,c);return c.addEventListener("pointerleave",p),A.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",p),A.removeEventListener("pointerleave",g)}}},[c,A,f,h]),v.useEffect(()=>{if(o){const p=g=>{const m=g.target,x={x:g.clientX,y:g.clientY},b=(c==null?void 0:c.contains(m))||(A==null?void 0:A.contains(m)),_=!lne(x,o);b?h():_&&(h(),u())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[c,A,o,u,h]),i.jsx(V6,{...t,ref:s})}),[rne,nne]=h0(m0,{isInside:!1}),V6=v.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=t,c=p0(DA,r),u=f0(r),{onClose:A}=c;return v.useEffect(()=>(document.addEventListener(tE,A),()=>document.removeEventListener(tE,A)),[A]),v.useEffect(()=>{if(c.trigger){const d=h=>{const f=h.target;f!=null&&f.contains(c.trigger)&&A()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,A]),i.jsx(Ed,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:A,children:i.jsxs(IT,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(cT,{children:n}),i.jsx(rne,{scope:r,isInside:!0,children:i.jsx(yZ,{id:c.contentId,role:"tooltip",children:a||n})})]})})});$6.displayName=DA;var K6="TooltipArrow",ane=v.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=f0(r);return nne(K6,r).isInside?null:i.jsx(PT,{...a,...n,ref:e})});ane.displayName=K6;function sne(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),a=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,a,s)){case s:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function ine(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function one(t){const{top:e,right:r,bottom:n,left:a}=t;return[{x:a,y:e},{x:r,y:e},{x:r,y:n},{x:a,y:n}]}function lne(t,e){const{x:r,y:n}=t;let a=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s].x,c=e[s].y,u=e[o].x,A=e[o].y;c>n!=A>n&&r<(u-l)*(n-c)/(A-c)+l&&(a=!a)}return a}function cne(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),une(e)}function une(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const a=t[n];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))e.pop();else break}e.push(a)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const a=t[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Ane=Q6,dne=L6,hne=H6,q6=$6;const G6=Ane,fne=dne,mne=hne,z6=v.forwardRef(({className:t,sideOffset:e=4,...r},n)=>i.jsx(q6,{ref:n,sideOffset:e,className:de("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));z6.displayName=q6.displayName;var xp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Rc=typeof window>"u"||"Deno"in globalThis;function Qa(){}function pne(t,e){return typeof t=="function"?t(e):t}function nE(t){return typeof t=="number"&&t>=0&&t!==1/0}function W6(t,e){return Math.max(t+(e||0)-Date.now(),0)}function lA(t,e){return typeof t=="function"?t(e):t}function hs(t,e){return typeof t=="function"?t(e):t}function W2(t,e){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==FT(o,e.options))return!1}else if(!Hf(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||a&&a!==e.state.fetchStatus||s&&!s(e))}function X2(t,e){const{exact:r,status:n,predicate:a,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Lf(e.options.mutationKey)!==Lf(s))return!1}else if(!Hf(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||a&&!a(e))}function FT(t,e){return((e==null?void 0:e.queryKeyHashFn)||Lf)(t)}function Lf(t){return JSON.stringify(t,(e,r)=>sE(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Hf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Hf(t[r],e[r])):!1}function X6(t,e){if(t===e)return t;const r=J2(t)&&J2(e);if(r||sE(t)&&sE(e)){const n=r?t:Object.keys(t),a=n.length,s=r?e:Object.keys(e),o=s.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const A=r?u:s[u];(!r&&n.includes(A)||r)&&t[A]===void 0&&e[A]===void 0?(l[A]=void 0,c++):(l[A]=X6(t[A],e[A]),l[A]===t[A]&&t[A]!==void 0&&c++)}return a===o&&c===a?t:l}return e}function aE(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function J2(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function sE(t){if(!Y2(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Y2(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Y2(t){return Object.prototype.toString.call(t)==="[object Object]"}function gne(t){return new Promise(e=>{setTimeout(e,t)})}function iE(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?X6(t,e):e}function vne(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function yne(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var DT=Symbol();function J6(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===DT?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var bc,Uo,xA,f3,xne=(f3=class extends xp{constructor(){super();ht(this,bc);ht(this,Uo);ht(this,xA);Ge(this,xA,e=>{if(!Rc&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Y(this,Uo)||this.setEventListener(Y(this,xA))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,Uo))==null||e.call(this),Ge(this,Uo,void 0))}setEventListener(e){var r;Ge(this,xA,e),(r=Y(this,Uo))==null||r.call(this),Ge(this,Uo,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){Y(this,bc)!==e&&(Ge(this,bc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof Y(this,bc)=="boolean"?Y(this,bc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},bc=new WeakMap,Uo=new WeakMap,xA=new WeakMap,f3),RT=new xne,bA,Mo,wA,m3,bne=(m3=class extends xp{constructor(){super();ht(this,bA,!0);ht(this,Mo);ht(this,wA);Ge(this,wA,e=>{if(!Rc&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Y(this,Mo)||this.setEventListener(Y(this,wA))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,Mo))==null||e.call(this),Ge(this,Mo,void 0))}setEventListener(e){var r;Ge(this,wA,e),(r=Y(this,Mo))==null||r.call(this),Ge(this,Mo,e(this.setOnline.bind(this)))}setOnline(e){Y(this,bA)!==e&&(Ge(this,bA,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return Y(this,bA)}},bA=new WeakMap,Mo=new WeakMap,wA=new WeakMap,m3),ay=new bne;function oE(){let t,e;const r=new Promise((a,s)=>{t=a,e=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),t(a)},r.reject=a=>{n({status:"rejected",reason:a}),e(a)},r}function wne(t){return Math.min(1e3*2**t,3e4)}function Y6(t){return(t??"online")==="online"?ay.isOnline():!0}var Z6=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function fw(t){return t instanceof Z6}function e$(t){let e=!1,r=0,n=!1,a;const s=oE(),o=g=>{var m;n||(h(new Z6(g)),(m=t.abort)==null||m.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>RT.isFocused()&&(t.networkMode==="always"||ay.isOnline())&&t.canRun(),A=()=>Y6(t.networkMode)&&t.canRun(),d=g=>{var m;n||(n=!0,(m=t.onSuccess)==null||m.call(t,g),a==null||a(),s.resolve(g))},h=g=>{var m;n||(n=!0,(m=t.onError)==null||m.call(t,g),a==null||a(),s.reject(g))},f=()=>new Promise(g=>{var m;a=x=>{(n||u())&&g(x)},(m=t.onPause)==null||m.call(t)}).then(()=>{var g;a=void 0,n||(g=t.onContinue)==null||g.call(t)}),p=()=>{if(n)return;let g;const m=r===0?t.initialPromise:void 0;try{g=m??t.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(d).catch(x=>{var E;if(n)return;const b=t.retry??(Rc?0:3),_=t.retryDelay??wne,w=typeof _=="function"?_(r,x):_,C=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,x);if(e||!C){h(x);return}r++,(E=t.onFail)==null||E.call(t,r,x),gne(w).then(()=>u()?void 0:f()).then(()=>{e?h(x):p()})})};return{promise:s,cancel:o,continue:()=>(a==null||a(),s),cancelRetry:l,continueRetry:c,canStart:A,start:()=>(A()?p():f().then(p),s)}}function jne(){let t=[],e=0,r=l=>{l()},n=l=>{l()},a=l=>setTimeout(l,0);const s=l=>{e?t.push(l):a(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var fn=jne(),wc,p3,t$=(p3=class{constructor(){ht(this,wc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),nE(this.gcTime)&&Ge(this,wc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Rc?1/0:5*60*1e3))}clearGcTimeout(){Y(this,wc)&&(clearTimeout(Y(this,wc)),Ge(this,wc,void 0))}},wc=new WeakMap,p3),jA,_A,Ma,Nn,up,jc,os,Ei,g3,_ne=(g3=class extends t${constructor(r){super();ht(this,os);ht(this,jA);ht(this,_A);ht(this,Ma);ht(this,Nn);ht(this,up);ht(this,jc);Ge(this,jc,!1),Ge(this,up,r.defaultOptions),this.setOptions(r.options),this.observers=[],Ge(this,Ma,r.cache),this.queryKey=r.queryKey,this.queryHash=r.queryHash,Ge(this,jA,Cne(this.options)),this.state=r.state??Y(this,jA),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=Y(this,Nn))==null?void 0:r.promise}setOptions(r){this.options={...Y(this,up),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,Ma).remove(this)}setData(r,n){const a=iE(this.state.data,r,this.options);return It(this,os,Ei).call(this,{data:a,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),a}setState(r,n){It(this,os,Ei).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var a,s;const n=(a=Y(this,Nn))==null?void 0:a.promise;return(s=Y(this,Nn))==null||s.cancel(r),n?n.then(Qa).catch(Qa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,jA))}isActive(){return this.observers.some(r=>hs(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===DT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(r=0){return this.state.isInvalidated||this.state.data===void 0||!W6(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(a=>a.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=Y(this,Nn))==null||n.continue()}onOnline(){var n;const r=this.observers.find(a=>a.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=Y(this,Nn))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),Y(this,Ma).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(Y(this,Nn)&&(Y(this,jc)?Y(this,Nn).cancel({revert:!0}):Y(this,Nn).cancelRetry()),this.scheduleGc()),Y(this,Ma).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||It(this,os,Ei).call(this,{type:"invalidate"})}fetch(r,n){var u,A,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Y(this,Nn))return Y(this,Nn).continueRetry(),Y(this,Nn).promise}if(r&&this.setOptions(r),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const a=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Ge(this,jc,!0),a.signal)})},o=()=>{const h=J6(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return s(f),Ge(this,jc,!1),this.options.persister?this.options.persister(h,f,this):h(f)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(l),(u=this.options.behavior)==null||u.onFetch(l,this),Ge(this,_A,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((A=l.fetchOptions)==null?void 0:A.meta))&&It(this,os,Ei).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta});const c=h=>{var f,p,g,m;fw(h)&&h.silent||It(this,os,Ei).call(this,{type:"error",error:h}),fw(h)||((p=(f=Y(this,Ma).config).onError)==null||p.call(f,h,this),(m=(g=Y(this,Ma).config).onSettled)==null||m.call(g,this.state.data,h,this)),this.scheduleGc()};return Ge(this,Nn,e$({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:a.abort.bind(a),onSuccess:h=>{var f,p,g,m;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){c(x);return}(p=(f=Y(this,Ma).config).onSuccess)==null||p.call(f,h,this),(m=(g=Y(this,Ma).config).onSettled)==null||m.call(g,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,f)=>{It(this,os,Ei).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{It(this,os,Ei).call(this,{type:"pause"})},onContinue:()=>{It(this,os,Ei).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),Y(this,Nn).start()}},jA=new WeakMap,_A=new WeakMap,Ma=new WeakMap,Nn=new WeakMap,up=new WeakMap,jc=new WeakMap,os=new WeakSet,Ei=function(r){const n=a=>{switch(r.type){case"failed":return{...a,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...r$(a.data,this.options),fetchMeta:r.meta??null};case"success":return{...a,data:r.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=r.error;return fw(s)&&s.revert&&Y(this,_A)?{...Y(this,_A),fetchStatus:"idle"}:{...a,error:s,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...r.state}}};this.state=n(this.state),fn.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),Y(this,Ma).notify({query:this,type:"updated",action:r})})},g3);function r$(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Y6(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Cne(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ls,v3,Bne=(v3=class extends xp{constructor(e={}){super();ht(this,Ls);this.config=e,Ge(this,Ls,new Map)}build(e,r,n){const a=r.queryKey,s=r.queryHash??FT(a,r);let o=this.get(s);return o||(o=new _ne({cache:this,queryKey:a,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(a)}),this.add(o)),o}add(e){Y(this,Ls).has(e.queryHash)||(Y(this,Ls).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=Y(this,Ls).get(e.queryHash);r&&(e.destroy(),r===e&&Y(this,Ls).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){fn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,Ls).get(e)}getAll(){return[...Y(this,Ls).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>W2(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>W2(e,n)):r}notify(e){fn.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){fn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){fn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ls=new WeakMap,v3),Hs,qn,_c,$s,wo,y3,Ene=(y3=class extends t${constructor(r){super();ht(this,$s);ht(this,Hs);ht(this,qn);ht(this,_c);this.mutationId=r.mutationId,Ge(this,qn,r.mutationCache),Ge(this,Hs,[]),this.state=r.state||Sne(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){Y(this,Hs).includes(r)||(Y(this,Hs).push(r),this.clearGcTimeout(),Y(this,qn).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){Ge(this,Hs,Y(this,Hs).filter(n=>n!==r)),this.scheduleGc(),Y(this,qn).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){Y(this,Hs).length||(this.state.status==="pending"?this.scheduleGc():Y(this,qn).remove(this))}continue(){var r;return((r=Y(this,_c))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var s,o,l,c,u,A,d,h,f,p,g,m,x,b,_,w,C,E,j,B;Ge(this,_c,e$({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(S,N)=>{It(this,$s,wo).call(this,{type:"failed",failureCount:S,error:N})},onPause:()=>{It(this,$s,wo).call(this,{type:"pause"})},onContinue:()=>{It(this,$s,wo).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,qn).canRun(this)}));const n=this.state.status==="pending",a=!Y(this,_c).canStart();try{if(!n){It(this,$s,wo).call(this,{type:"pending",variables:r,isPaused:a}),await((o=(s=Y(this,qn).config).onMutate)==null?void 0:o.call(s,r,this));const N=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,r));N!==this.state.context&&It(this,$s,wo).call(this,{type:"pending",context:N,variables:r,isPaused:a})}const S=await Y(this,_c).start();return await((A=(u=Y(this,qn).config).onSuccess)==null?void 0:A.call(u,S,r,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,S,r,this.state.context)),await((p=(f=Y(this,qn).config).onSettled)==null?void 0:p.call(f,S,null,this.state.variables,this.state.context,this)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,S,null,r,this.state.context)),It(this,$s,wo).call(this,{type:"success",data:S}),S}catch(S){try{throw await((b=(x=Y(this,qn).config).onError)==null?void 0:b.call(x,S,r,this.state.context,this)),await((w=(_=this.options).onError)==null?void 0:w.call(_,S,r,this.state.context)),await((E=(C=Y(this,qn).config).onSettled)==null?void 0:E.call(C,void 0,S,this.state.variables,this.state.context,this)),await((B=(j=this.options).onSettled)==null?void 0:B.call(j,void 0,S,r,this.state.context)),S}finally{It(this,$s,wo).call(this,{type:"error",error:S})}}finally{Y(this,qn).runNext(this)}}},Hs=new WeakMap,qn=new WeakMap,_c=new WeakMap,$s=new WeakSet,wo=function(r){const n=a=>{switch(r.type){case"failed":return{...a,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...a,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:r.error,failureCount:a.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),fn.batch(()=>{Y(this,Hs).forEach(a=>{a.onMutationUpdate(r)}),Y(this,qn).notify({mutation:this,type:"updated",action:r})})},y3);function Sne(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wa,Ap,x3,Nne=(x3=class extends xp{constructor(e={}){super();ht(this,wa);ht(this,Ap);this.config=e,Ge(this,wa,new Map),Ge(this,Ap,Date.now())}build(e,r,n){const a=new Ene({mutationCache:this,mutationId:++pg(this,Ap)._,options:e.defaultMutationOptions(r),state:n});return this.add(a),a}add(e){const r=jg(e),n=Y(this,wa).get(r)??[];n.push(e),Y(this,wa).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=jg(e);if(Y(this,wa).has(r)){const a=(n=Y(this,wa).get(r))==null?void 0:n.filter(s=>s!==e);a&&(a.length===0?Y(this,wa).delete(r):Y(this,wa).set(r,a))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=Y(this,wa).get(jg(e)))==null?void 0:n.find(a=>a.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=Y(this,wa).get(jg(e)))==null?void 0:n.find(a=>a!==e&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){fn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...Y(this,wa).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>X2(r,n))}findAll(e={}){return this.getAll().filter(r=>X2(e,r))}notify(e){fn.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return fn.batch(()=>Promise.all(e.map(r=>r.continue().catch(Qa))))}},wa=new WeakMap,Ap=new WeakMap,x3);function jg(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Z2(t){return{onFetch:(e,r)=>{var A,d,h,f,p;const n=e.options,a=(h=(d=(A=e.fetchOptions)==null?void 0:A.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,s=((f=e.state.data)==null?void 0:f.pages)||[],o=((p=e.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const m=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},x=J6(e.options,e.fetchOptions),b=async(_,w,C)=>{if(g)return Promise.reject();if(w==null&&_.pages.length)return Promise.resolve(_);const E={queryKey:e.queryKey,pageParam:w,direction:C?"backward":"forward",meta:e.options.meta};m(E);const j=await x(E),{maxPages:B}=e.options,S=C?yne:vne;return{pages:S(_.pages,j,B),pageParams:S(_.pageParams,w,B)}};if(a&&s.length){const _=a==="backward",w=_?Tne:eO,C={pages:s,pageParams:o},E=w(n,C);l=await b(C,E,_)}else{const _=t??s.length;do{const w=c===0?o[0]??n.initialPageParam:eO(n,l);if(c>0&&w==null)break;l=await b(l,w),c++}while(c<_)}return l};e.options.persister?e.fetchFn=()=>{var g,m;return(m=(g=e.options).persister)==null?void 0:m.call(g,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function eO(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Tne(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Er,Qo,Lo,CA,BA,Ho,EA,SA,b3,kne=(b3=class{constructor(t={}){ht(this,Er);ht(this,Qo);ht(this,Lo);ht(this,CA);ht(this,BA);ht(this,Ho);ht(this,EA);ht(this,SA);Ge(this,Er,t.queryCache||new Bne),Ge(this,Qo,t.mutationCache||new Nne),Ge(this,Lo,t.defaultOptions||{}),Ge(this,CA,new Map),Ge(this,BA,new Map),Ge(this,Ho,0)}mount(){pg(this,Ho)._++,Y(this,Ho)===1&&(Ge(this,EA,RT.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,Er).onFocus())})),Ge(this,SA,ay.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,Er).onOnline())})))}unmount(){var t,e;pg(this,Ho)._--,Y(this,Ho)===0&&((t=Y(this,EA))==null||t.call(this),Ge(this,EA,void 0),(e=Y(this,SA))==null||e.call(this),Ge(this,SA,void 0))}isFetching(t){return Y(this,Er).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Y(this,Qo).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=Y(this,Er).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=Y(this,Er).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(lA(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return Y(this,Er).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),a=Y(this,Er).get(n.queryHash),s=a==null?void 0:a.state.data,o=pne(e,s);if(o!==void 0)return Y(this,Er).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return fn.batch(()=>Y(this,Er).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=Y(this,Er).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=Y(this,Er);fn.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=Y(this,Er),n={type:"active",...t};return fn.batch(()=>(r.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=fn.batch(()=>Y(this,Er).findAll(t).map(a=>a.cancel(r)));return Promise.all(n).then(Qa).catch(Qa)}invalidateQueries(t={},e={}){return fn.batch(()=>{if(Y(this,Er).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=fn.batch(()=>Y(this,Er).findAll(t).filter(a=>!a.isDisabled()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(Qa)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Qa)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=Y(this,Er).build(this,e);return r.isStaleByTime(lA(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Qa).catch(Qa)}fetchInfiniteQuery(t){return t.behavior=Z2(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Qa).catch(Qa)}ensureInfiniteQueryData(t){return t.behavior=Z2(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ay.isOnline()?Y(this,Qo).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,Er)}getMutationCache(){return Y(this,Qo)}getDefaultOptions(){return Y(this,Lo)}setDefaultOptions(t){Ge(this,Lo,t)}setQueryDefaults(t,e){Y(this,CA).set(Lf(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Y(this,CA).values()];let r={};return e.forEach(n=>{Hf(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){Y(this,BA).set(Lf(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Y(this,BA).values()];let r={};return e.forEach(n=>{Hf(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Y(this,Lo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=FT(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===DT&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Y(this,Lo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Y(this,Er).clear(),Y(this,Qo).clear()}},Er=new WeakMap,Qo=new WeakMap,Lo=new WeakMap,CA=new WeakMap,BA=new WeakMap,Ho=new WeakMap,EA=new WeakMap,SA=new WeakMap,b3),la,Pt,dp,Gn,Cc,NA,$o,Vs,hp,TA,kA,Bc,Ec,Vo,IA,Jt,Kh,lE,cE,uE,AE,dE,hE,fE,n$,w3,Ine=(w3=class extends xp{constructor(e,r){super();ht(this,Jt);ht(this,la);ht(this,Pt);ht(this,dp);ht(this,Gn);ht(this,Cc);ht(this,NA);ht(this,$o);ht(this,Vs);ht(this,hp);ht(this,TA);ht(this,kA);ht(this,Bc);ht(this,Ec);ht(this,Vo);ht(this,IA,new Set);this.options=r,Ge(this,la,e),Ge(this,Vs,null),Ge(this,$o,oE()),this.options.experimental_prefetchInRender||Y(this,$o).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,Pt).addObserver(this),tO(Y(this,Pt),this.options)?It(this,Jt,Kh).call(this):this.updateResult(),It(this,Jt,AE).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return mE(Y(this,Pt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return mE(Y(this,Pt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,It(this,Jt,dE).call(this),It(this,Jt,hE).call(this),Y(this,Pt).removeObserver(this)}setOptions(e,r){const n=this.options,a=Y(this,Pt);if(this.options=Y(this,la).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof hs(this.options.enabled,Y(this,Pt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");It(this,Jt,fE).call(this),Y(this,Pt).setOptions(this.options),n._defaulted&&!aE(this.options,n)&&Y(this,la).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,Pt),observer:this});const s=this.hasListeners();s&&rO(Y(this,Pt),a,this.options,n)&&It(this,Jt,Kh).call(this),this.updateResult(r),s&&(Y(this,Pt)!==a||hs(this.options.enabled,Y(this,Pt))!==hs(n.enabled,Y(this,Pt))||lA(this.options.staleTime,Y(this,Pt))!==lA(n.staleTime,Y(this,Pt)))&&It(this,Jt,lE).call(this);const o=It(this,Jt,cE).call(this);s&&(Y(this,Pt)!==a||hs(this.options.enabled,Y(this,Pt))!==hs(n.enabled,Y(this,Pt))||o!==Y(this,Vo))&&It(this,Jt,uE).call(this,o)}getOptimisticResult(e){const r=Y(this,la).getQueryCache().build(Y(this,la),e),n=this.createResult(r,e);return One(this,n)&&(Ge(this,Gn,n),Ge(this,NA,this.options),Ge(this,Cc,Y(this,Pt).state)),n}getCurrentResult(){return Y(this,Gn)}trackResult(e,r){const n={};return Object.keys(e).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),e[a])})}),n}trackProp(e){Y(this,IA).add(e)}getCurrentQuery(){return Y(this,Pt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=Y(this,la).defaultQueryOptions(e),n=Y(this,la).getQueryCache().build(Y(this,la),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return It(this,Jt,Kh).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,Gn)))}createResult(e,r){var B;const n=Y(this,Pt),a=this.options,s=Y(this,Gn),o=Y(this,Cc),l=Y(this,NA),u=e!==n?e.state:Y(this,dp),{state:A}=e;let d={...A},h=!1,f;if(r._optimisticResults){const S=this.hasListeners(),N=!S&&tO(e,r),I=S&&rO(e,n,r,a);(N||I)&&(d={...d,...r$(A.data,e.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:m}=d;if(r.select&&d.data!==void 0)if(s&&d.data===(o==null?void 0:o.data)&&r.select===Y(this,hp))f=Y(this,TA);else try{Ge(this,hp,r.select),f=r.select(d.data),f=iE(s==null?void 0:s.data,f,r),Ge(this,TA,f),Ge(this,Vs,null)}catch(S){Ge(this,Vs,S)}else f=d.data;if(r.placeholderData!==void 0&&f===void 0&&m==="pending"){let S;if(s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))S=s.data;else if(S=typeof r.placeholderData=="function"?r.placeholderData((B=Y(this,kA))==null?void 0:B.state.data,Y(this,kA)):r.placeholderData,r.select&&S!==void 0)try{S=r.select(S),Ge(this,Vs,null)}catch(N){Ge(this,Vs,N)}S!==void 0&&(m="success",f=iE(s==null?void 0:s.data,S,r),h=!0)}Y(this,Vs)&&(p=Y(this,Vs),f=Y(this,TA),g=Date.now(),m="error");const x=d.fetchStatus==="fetching",b=m==="pending",_=m==="error",w=b&&x,C=f!==void 0,j={status:m,fetchStatus:d.fetchStatus,isPending:b,isSuccess:m==="success",isError:_,isInitialLoading:w,isLoading:w,data:f,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!b,isLoadingError:_&&!C,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&C,isStale:UT(e,r),refetch:this.refetch,promise:Y(this,$o)};if(this.options.experimental_prefetchInRender){const S=P=>{j.status==="error"?P.reject(j.error):j.data!==void 0&&P.resolve(j.data)},N=()=>{const P=Ge(this,$o,j.promise=oE());S(P)},I=Y(this,$o);switch(I.status){case"pending":e.queryHash===n.queryHash&&S(I);break;case"fulfilled":(j.status==="error"||j.data!==I.value)&&N();break;case"rejected":(j.status!=="error"||j.error!==I.reason)&&N();break}}return j}updateResult(e){const r=Y(this,Gn),n=this.createResult(Y(this,Pt),this.options);if(Ge(this,Cc,Y(this,Pt).state),Ge(this,NA,this.options),Y(this,Cc).data!==void 0&&Ge(this,kA,Y(this,Pt)),aE(n,r))return;Ge(this,Gn,n);const a={},s=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!Y(this,IA).size)return!0;const c=new Set(l??Y(this,IA));return this.options.throwOnError&&c.add("error"),Object.keys(Y(this,Gn)).some(u=>{const A=u;return Y(this,Gn)[A]!==r[A]&&c.has(A)})};(e==null?void 0:e.listeners)!==!1&&s()&&(a.listeners=!0),It(this,Jt,n$).call(this,{...a,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&It(this,Jt,AE).call(this)}},la=new WeakMap,Pt=new WeakMap,dp=new WeakMap,Gn=new WeakMap,Cc=new WeakMap,NA=new WeakMap,$o=new WeakMap,Vs=new WeakMap,hp=new WeakMap,TA=new WeakMap,kA=new WeakMap,Bc=new WeakMap,Ec=new WeakMap,Vo=new WeakMap,IA=new WeakMap,Jt=new WeakSet,Kh=function(e){It(this,Jt,fE).call(this);let r=Y(this,Pt).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Qa)),r},lE=function(){It(this,Jt,dE).call(this);const e=lA(this.options.staleTime,Y(this,Pt));if(Rc||Y(this,Gn).isStale||!nE(e))return;const n=W6(Y(this,Gn).dataUpdatedAt,e)+1;Ge(this,Bc,setTimeout(()=>{Y(this,Gn).isStale||this.updateResult()},n))},cE=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,Pt)):this.options.refetchInterval)??!1},uE=function(e){It(this,Jt,hE).call(this),Ge(this,Vo,e),!(Rc||hs(this.options.enabled,Y(this,Pt))===!1||!nE(Y(this,Vo))||Y(this,Vo)===0)&&Ge(this,Ec,setInterval(()=>{(this.options.refetchIntervalInBackground||RT.isFocused())&&It(this,Jt,Kh).call(this)},Y(this,Vo)))},AE=function(){It(this,Jt,lE).call(this),It(this,Jt,uE).call(this,It(this,Jt,cE).call(this))},dE=function(){Y(this,Bc)&&(clearTimeout(Y(this,Bc)),Ge(this,Bc,void 0))},hE=function(){Y(this,Ec)&&(clearInterval(Y(this,Ec)),Ge(this,Ec,void 0))},fE=function(){const e=Y(this,la).getQueryCache().build(Y(this,la),this.options);if(e===Y(this,Pt))return;const r=Y(this,Pt);Ge(this,Pt,e),Ge(this,dp,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},n$=function(e){fn.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(Y(this,Gn))}),Y(this,la).getQueryCache().notify({query:Y(this,Pt),type:"observerResultsUpdated"})})},w3);function Pne(t,e){return hs(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function tO(t,e){return Pne(t,e)||t.state.data!==void 0&&mE(t,e,e.refetchOnMount)}function mE(t,e,r){if(hs(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&UT(t,e)}return!1}function rO(t,e,r,n){return(t!==e||hs(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&UT(t,r)}function UT(t,e){return hs(e.enabled,t)!==!1&&t.isStaleByTime(lA(e.staleTime,t))}function One(t,e){return!aE(t.getCurrentResult(),e)}var a$=v.createContext(void 0),s$=t=>{const e=v.useContext(a$);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Fne=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(a$.Provider,{value:t,children:e})),i$=v.createContext(!1),Dne=()=>v.useContext(i$);i$.Provider;function Rne(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Une=v.createContext(Rne()),Mne=()=>v.useContext(Une);function Qne(t,e){return typeof t=="function"?t(...e):!!t}function Lne(){}var Hne=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},$ne=t=>{v.useEffect(()=>{t.clearReset()},[t])},Vne=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&Qne(r,[t.error,n]),Kne=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},qne=(t,e)=>t.isLoading&&t.isFetching&&!e,Gne=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,nO=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function zne(t,e,r){var A,d,h,f,p;const n=s$(),a=Dne(),s=Mne(),o=n.defaultQueryOptions(t);(d=(A=n.getDefaultOptions().queries)==null?void 0:A._experimental_beforeQuery)==null||d.call(A,o),o._optimisticResults=a?"isRestoring":"optimistic",Kne(o),Hne(o,s),$ne(s);const l=!n.getQueryCache().get(o.queryHash),[c]=v.useState(()=>new e(n,o)),u=c.getOptimisticResult(o);if(v.useSyncExternalStore(v.useCallback(g=>{const m=a?()=>{}:c.subscribe(fn.batchCalls(g));return c.updateResult(),m},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),v.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),Gne(o,u))throw nO(o,c,s);if(Vne({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((f=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||f.call(h,o,u),o.experimental_prefetchInRender&&!Rc&&qne(u,a)){const g=l?nO(o,c,s):(p=n.getQueryCache().get(o.queryHash))==null?void 0:p.promise;g==null||g.catch(Lne).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Wne(t,e){return zne(t,Ine)}const Xne="modulepreload",Jne=function(t){return"/"+t},aO={},RA=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(A=>Promise.resolve(A).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=o(r.map(u=>{if(u=Jne(u),u in aO)return;aO[u]=!0;const A=u.endsWith(".css"),d=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=A?"stylesheet":Xne,A||(h.as="script"),h.crossOrigin="",h.href=u,c&&h.setAttribute("nonce",c),document.head.appendChild(h),A)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},Yne=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>RA(async()=>{const{default:n}=await Promise.resolve().then(()=>Od);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class MT extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Zne extends MT{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class eae extends MT{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class tae extends MT{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var pE;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(pE||(pE={}));var rae=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class nae{constructor(e,{headers:r={},customFetch:n,region:a=pE.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=Yne(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return rae(this,void 0,void 0,function*(){try{const{headers:a,method:s,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const A=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(p=>{throw new Zne(p)}),d=A.headers.get("x-relay-error");if(d&&d==="true")throw new eae(A);if(!A.ok)throw new tae(A);let h=((n=A.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield A.json():h==="application/octet-stream"?f=yield A.blob():h==="text/event-stream"?f=A:h==="multipart/form-data"?f=yield A.formData():f=yield A.text(),{data:f,error:null}}catch(a){return{data:null,error:a}}})}}var Yr={},mu={},pu={},gu={},vu={},yu={},aae=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},UA=aae();const sae=UA.fetch,o$=UA.fetch.bind(UA),l$=UA.Headers,iae=UA.Request,oae=UA.Response,Od=Object.freeze(Object.defineProperty({__proto__:null,Headers:l$,Request:iae,Response:oae,default:o$,fetch:sae},Symbol.toStringTag,{value:"Module"})),lae=MY(Od);var _g={},sO;function c$(){if(sO)return _g;sO=1,Object.defineProperty(_g,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return _g.default=t,_g}var iO;function u$(){if(iO)return yu;iO=1;var t=yu&&yu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(yu,"__esModule",{value:!0});const e=t(lae),r=t(c$());class n{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=Object.assign({},this.headers),this.headers[s]=o,this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var A,d,h;let f=null,p=null,g=null,m=u.status,x=u.statusText;if(u.ok){if(this.method!=="HEAD"){const C=await u.text();C===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=C:p=JSON.parse(C))}const _=(A=this.headers.Prefer)===null||A===void 0?void 0:A.match(/count=(exact|planned|estimated)/),w=(d=u.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");_&&w&&w.length>1&&(g=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,g=null,m=406,x="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const _=await u.text();try{f=JSON.parse(_),Array.isArray(f)&&u.status===404&&(p=[],f=null,m=200,x="OK")}catch{u.status===404&&_===""?(m=204,x="No Content"):f={message:_}}if(f&&this.isMaybeSingle&&(!((h=f==null?void 0:f.details)===null||h===void 0)&&h.includes("0 rows"))&&(f=null,m=200,x="OK"),f&&this.shouldThrowOnError)throw new r.default(f)}return{error:f,data:p,count:g,status:m,statusText:x}});return this.shouldThrowOnError||(c=c.catch(u=>{var A,d,h;return{error:{message:`${(A=u==null?void 0:u.name)!==null&&A!==void 0?A:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(d=u==null?void 0:u.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),c.then(s,o)}returns(){return this}overrideTypes(){return this}}return yu.default=n,yu}var oO;function A$(){if(oO)return vu;oO=1;var t=vu&&vu.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(vu,"__esModule",{value:!0});const e=t(u$());class r extends e.default{select(a){let s=!1;const o=(a??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:s=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",A=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${A?`${A},`:""}${a}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,s,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${s-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:s=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var A;const d=[a?"analyze":null,s?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(A=this.headers.Accept)!==null&&A!==void 0?A:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${h}"; options=${d};`,u==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return vu.default=r,vu}var lO;function QT(){if(lO)return gu;lO=1;var t=gu&&gu.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(gu,"__esModule",{value:!0});const e=t(A$());class r extends e.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}in(a,s){const o=Array.from(new Set(s)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${c}fts${u}.${s}`),this}match(a){return Object.entries(a).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(a,s,o){return this.url.searchParams.append(a,`not.${s}.${o}`),this}or(a,{foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,s,o){return this.url.searchParams.append(a,`${s}.${o}`),this}}return gu.default=r,gu}var cO;function d$(){if(cO)return pu;cO=1;var t=pu&&pu.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(pu,"__esModule",{value:!0});const e=t(QT());class r{constructor(a,{headers:s={},schema:o,fetch:l}){this.url=a,this.headers=s,this.schema=o,this.fetch=l}select(a,{head:s=!1,count:o}={}){const l=s?"HEAD":"GET";let c=!1;const u=(a??"*").split("").map(A=>/\s/.test(A)&&!c?"":(A==='"'&&(c=!c),A)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:s,defaultToNull:o=!0}={}){const l="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(a)){const u=a.reduce((A,d)=>A.concat(Object.keys(d)),[]);if(u.length>0){const A=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",A.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:s,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){const u="POST",A=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&A.push(this.headers.Prefer),l&&A.push(`count=${l}`),c||A.push("missing=default"),this.headers.Prefer=A.join(","),Array.isArray(a)){const d=a.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(d.length>0){const h=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:s}={}){const o="PATCH",l=[];return this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),this.headers.Prefer=l.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const s="DELETE",o=[];return a&&o.push(`count=${a}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return pu.default=r,pu}var gh={},vh={},uO;function cae(){return uO||(uO=1,Object.defineProperty(vh,"__esModule",{value:!0}),vh.version=void 0,vh.version="0.0.0-automated"),vh}var AO;function uae(){if(AO)return gh;AO=1,Object.defineProperty(gh,"__esModule",{value:!0}),gh.DEFAULT_HEADERS=void 0;const t=cae();return gh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},gh}var dO;function Aae(){if(dO)return mu;dO=1;var t=mu&&mu.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(mu,"__esModule",{value:!0});const e=t(d$()),r=t(QT()),n=uae();class a{constructor(o,{headers:l={},schema:c,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),l),this.schemaName=c,this.fetch=u}from(o){const l=new URL(`${this.url}/${o}`);return new e.default(l,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new a(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:c=!1,get:u=!1,count:A}={}){let d;const h=new URL(`${this.url}/rpc/${o}`);let f;c||u?(d=c?"HEAD":"GET",Object.entries(l).filter(([g,m])=>m!==void 0).map(([g,m])=>[g,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([g,m])=>{h.searchParams.append(g,m)})):(d="POST",f=l);const p=Object.assign({},this.headers);return A&&(p.Prefer=`count=${A}`),new r.default({method:d,url:h,headers:p,schema:this.schemaName,body:f,fetch:this.fetch,allowEmpty:!1})}}return mu.default=a,mu}var hO;function dae(){if(hO)return Yr;hO=1;var t=Yr&&Yr.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.PostgrestError=Yr.PostgrestBuilder=Yr.PostgrestTransformBuilder=Yr.PostgrestFilterBuilder=Yr.PostgrestQueryBuilder=Yr.PostgrestClient=void 0;const e=t(Aae());Yr.PostgrestClient=e.default;const r=t(d$());Yr.PostgrestQueryBuilder=r.default;const n=t(QT());Yr.PostgrestFilterBuilder=n.default;const a=t(A$());Yr.PostgrestTransformBuilder=a.default;const s=t(u$());Yr.PostgrestBuilder=s.default;const o=t(c$());return Yr.PostgrestError=o.default,Yr.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:s.default,PostgrestError:o.default},Yr}var hae=dae();const fae=Lt(hae),{PostgrestClient:mae,PostgrestQueryBuilder:GLe,PostgrestFilterBuilder:zLe,PostgrestTransformBuilder:WLe,PostgrestBuilder:XLe,PostgrestError:JLe}=fae,pae="2.11.2",gae={"X-Client-Info":`realtime-js/${pae}`},vae="1.0.0",h$=1e4,yae=1e3;var cA;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(cA||(cA={}));var xa;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(xa||(xa={}));var ls;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ls||(ls={}));var gE;(function(t){t.websocket="websocket"})(gE||(gE={}));var ic;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ic||(ic={}));class xae{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+a));o=o+a;const c=n.decode(e.slice(o,o+s));o=o+s;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class f${constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var mr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(mr||(mr={}));const fO=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,o)=>(s[o]=bae(o,t,e,a),s),{})},bae=(t,e,r,n)=>{const a=e.find(l=>l.name===t),s=a==null?void 0:a.type,o=r[t];return s&&!n.includes(s)?m$(s,o):vE(o)},m$=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Cae(e,r)}switch(t){case mr.bool:return wae(e);case mr.float4:case mr.float8:case mr.int2:case mr.int4:case mr.int8:case mr.numeric:case mr.oid:return jae(e);case mr.json:case mr.jsonb:return _ae(e);case mr.timestamp:return Bae(e);case mr.abstime:case mr.date:case mr.daterange:case mr.int4range:case mr.int8range:case mr.money:case mr.reltime:case mr.text:case mr.time:case mr.timestamptz:case mr.timetz:case mr.tsrange:case mr.tstzrange:return vE(e);default:return vE(e)}},vE=t=>t,wae=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},jae=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},_ae=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Cae=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const o=t.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>m$(e,l))}return t},Bae=t=>typeof t=="string"?t.replace(" ","T"):t,p$=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class mw{constructor(e,r,n={},a=h$){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var mO;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(mO||(mO={}));class Af{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Af.syncState(this.state,a,s,o),this.pendingDiffs.forEach(c=>{this.state=Af.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Af.syncDiff(this.state,a,s,o),l())}),this.onJoin((a,s,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:o})}),this.onLeave((a,s,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const s=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(s,(u,A)=>{o[u]||(c[u]=A)}),this.map(o,(u,A)=>{const d=s[u];if(d){const h=A.map(m=>m.presence_ref),f=d.map(m=>m.presence_ref),p=A.filter(m=>f.indexOf(m.presence_ref)<0),g=d.filter(m=>h.indexOf(m.presence_ref)<0);p.length>0&&(l[u]=p),g.length>0&&(c[u]=g)}else l[u]=A}),this.syncDiff(s,{joins:l,leaves:c},n,a)}static syncDiff(e,r,n,a){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(l,c)=>{var u;const A=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),A.length>0){const d=e[l].map(f=>f.presence_ref),h=A.filter(f=>d.indexOf(f.presence_ref)<0);e[l].unshift(...h)}n(l,A,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const A=c.map(d=>d.presence_ref);u=u.filter(d=>A.indexOf(d.presence_ref)<0),e[l]=u,a(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pO;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(pO||(pO={}));var gO;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(gO||(gO={}));var Ni;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ni||(Ni={}));class LT{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=xa.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new mw(this,ls.join,this.params,this.timeout),this.rejoinTimer=new f$(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xa.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xa.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=xa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xa.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ls.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Af(this),this.broadcastEndpointURL=p$(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:l}}=this.params;this._onError(A=>e==null?void 0:e(Ni.CHANNEL_ERROR,A)),this._onClose(()=>e==null?void 0:e(Ni.CLOSED));const c={},u={broadcast:s,presence:o,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(A=>A.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:A})=>{var d;if(this.socket.setAuth(),A===void 0){e==null||e(Ni.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,p=[];for(let g=0;g<f;g++){const m=h[g],{filter:{event:x,schema:b,table:_,filter:w}}=m,C=A&&A[g];if(C&&C.event===x&&C.schema===b&&C.table===_&&C.filter===w)p.push(Object.assign(Object.assign({},m),{id:C.id}));else{this.unsubscribe(),e==null||e(Ni.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(Ni.SUBSCRIBED);return}}).receive("error",A=>{e==null||e(Ni.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ni.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=xa.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ls.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new mw(this,ls.leave,{},e);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(e,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new mw(this,e,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,s;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:A}=ls;if(n&&[l,c,u,A].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(f=>{var p,g,m;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((m=(g=f.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===o}).map(f=>f.callback(h,n)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var p,g,m,x,b,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const w=f.id,C=(p=f.filter)===null||p===void 0?void 0:p.event;return w&&((g=r.ids)===null||g===void 0?void 0:g.includes(w))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((m=r.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const w=(b=(x=f==null?void 0:f.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return w==="*"||w===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:g,table:m,commit_timestamp:x,type:b,errors:_}=p;h=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:x,eventType:b,new:{},old:{},errors:_}),this._getPayloadRecords(p))}f.callback(h,n)})}_isClosed(){return this.state===xa.closed}_isJoined(){return this.state===xa.joined}_isJoining(){return this.state===xa.joining}_isLeaving(){return this.state===xa.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&LT.isEqual(a.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ls.close,{},e)}_onError(e){this._on(ls.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xa.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=fO(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=fO(e.columns,e.old_record)),r}}const Eae=()=>{},Sae=typeof WebSocket<"u",Nae=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Tae{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=gae,this.params={},this.timeout=h$,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Eae,this.conn=null,this.sendBuffer=[],this.serializer=new xae,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...l)=>RA(async()=>{const{default:c}=await Promise.resolve().then(()=>Od);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${gE.websocket}`,this.httpEndpoint=p$(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,o)=>o(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new f$(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Sae){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new kae(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),RA(async()=>{const{default:e}=await import("./browser-CmxgrN_y.js").then(r=>r.b);return{default:e}},__vite__mapDeps([0,1])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:vae}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case cA.connecting:return ic.Connecting;case cA.open:return ic.Open;case cA.closing:return ic.Closing;default:return ic.Closed}}isConnected(){return this.connectionState()===ic.Open}channel(e,r={config:{}}){const n=new LT(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:a,ref:s}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(ls.access_token,{access_token:r})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(yae,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:a,payload:s,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${a} ${o&&"("+o+")"||""}`,s),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,s,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ls.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Nae],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class kae{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=cA.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class HT extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function en(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Iae extends HT{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class yE extends HT{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Pae=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const g$=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>RA(async()=>{const{default:n}=await Promise.resolve().then(()=>Od);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Oae=()=>Pae(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield RA(()=>Promise.resolve().then(()=>Od),void 0)).Response:Response}),xE=t=>{if(Array.isArray(t))return t.map(r=>xE(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[a]=xE(n)}),e};var nu=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const pw=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Fae=(t,e,r)=>nu(void 0,void 0,void 0,function*(){const n=yield Oae();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{e(new Iae(pw(a),t.status||500))}).catch(a=>{e(new yE(pw(a),a))}):e(new yE(pw(t),t))}),Dae=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function bp(t,e,r,n,a,s){return nu(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,Dae(e,n,a,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Fae(c,l,n))})})}function sy(t,e,r,n){return nu(this,void 0,void 0,function*(){return bp(t,"GET",e,r,n)})}function No(t,e,r,n,a){return nu(this,void 0,void 0,function*(){return bp(t,"POST",e,n,a,r)})}function Rae(t,e,r,n,a){return nu(this,void 0,void 0,function*(){return bp(t,"PUT",e,n,a,r)})}function Uae(t,e,r,n){return nu(this,void 0,void 0,function*(){return bp(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function v$(t,e,r,n,a){return nu(this,void 0,void 0,function*(){return bp(t,"DELETE",e,n,a,r)})}var sa=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Mae={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vO={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Qae{constructor(e,r={},n,a){this.url=e,this.headers=r,this.bucketId=n,this.fetch=g$(a)}uploadOrUpdate(e,r,n,a){return sa(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},vO),a);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),A=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${A}`,Object.assign({method:e,body:s,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(en(s))return{data:null,error:s};throw s}})}upload(e,r,n){return sa(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return sa(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:vO.upsert},a),A=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,A["cache-control"]=`max-age=${u.cacheControl}`,A["content-type"]=u.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:A}),h=yield d.json();return d.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(en(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return sa(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const s=yield No(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new HT("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(en(n))return{data:null,error:n};throw n}})}update(e,r,n){return sa(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return sa(this,void 0,void 0,function*(){try{return{data:yield No(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(en(a))return{data:null,error:a};throw a}})}copy(e,r,n){return sa(this,void 0,void 0,function*(){try{return{data:{path:(yield No(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(en(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return sa(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),s=yield No(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(a){if(en(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return sa(this,void 0,void 0,function*(){try{const a=yield No(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(a){if(en(a))return{data:null,error:a};throw a}})}download(e,r){return sa(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield sy(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(en(l))return{data:null,error:l};throw l}})}info(e){return sa(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield sy(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:xE(n),error:null}}catch(n){if(en(n))return{data:null,error:n};throw n}})}exists(e){return sa(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Uae(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(en(n)&&n instanceof yE){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return sa(this,void 0,void 0,function*(){try{return{data:yield v$(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(en(r))return{data:null,error:r};throw r}})}list(e,r,n){return sa(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Mae),r),{prefix:e||""});return{data:yield No(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(en(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Lae="2.7.1",Hae={"X-Client-Info":`storage-js/${Lae}`};var xu=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class $ae{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},Hae),r),this.fetch=g$(n)}listBuckets(){return xu(this,void 0,void 0,function*(){try{return{data:yield sy(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(en(e))return{data:null,error:e};throw e}})}getBucket(e){return xu(this,void 0,void 0,function*(){try{return{data:yield sy(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(en(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return xu(this,void 0,void 0,function*(){try{return{data:yield No(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(en(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return xu(this,void 0,void 0,function*(){try{return{data:yield Rae(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(en(n))return{data:null,error:n};throw n}})}emptyBucket(e){return xu(this,void 0,void 0,function*(){try{return{data:yield No(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(en(r))return{data:null,error:r};throw r}})}deleteBucket(e){return xu(this,void 0,void 0,function*(){try{return{data:yield v$(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(en(r))return{data:null,error:r};throw r}})}}class Vae extends $ae{constructor(e,r={},n){super(e,r,n)}from(e){return new Qae(this.url,this.headers,e,this.fetch)}}const Kae="2.49.7";let qh="";typeof Deno<"u"?qh="deno":typeof document<"u"?qh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qh="react-native":qh="node";const qae={"X-Client-Info":`supabase-js-${qh}/${Kae}`},Gae={headers:qae},zae={schema:"public"},Wae={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Xae={};var Jae=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Yae=t=>{let e;return t?e=t:typeof fetch>"u"?e=o$:e=fetch,(...r)=>e(...r)},Zae=()=>typeof Headers>"u"?l$:Headers,ese=(t,e,r)=>{const n=Yae(r),a=Zae();return(s,o)=>Jae(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},o),{headers:u}))})};var tse=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function rse(t){return t.replace(/\/$/,"")}function nse(t,e){var r,n;const{db:a,auth:s,realtime:o,global:l}=t,{db:c,auth:u,realtime:A,global:d}=e,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},A),o),global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>tse(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const y$="2.69.1",Gu=30*1e3,bE=3,gw=bE*Gu,ase="http://localhost:9999",sse="supabase.auth.token",ise={"X-Client-Info":`gotrue-js/${y$}`},wE="X-Supabase-Api-Version",x$={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ose=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lse=6e5;class $T extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function wt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class cse extends $T{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function use(t){return wt(t)&&t.name==="AuthApiError"}class b$ extends $T{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Nl extends $T{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class jo extends Nl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ase(t){return wt(t)&&t.name==="AuthSessionMissingError"}class vw extends Nl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cg extends Nl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Bg extends Nl{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dse(t){return wt(t)&&t.name==="AuthImplicitGrantRedirectError"}class yO extends Nl{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jE extends Nl{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function yw(t){return wt(t)&&t.name==="AuthRetryableFetchError"}class xO extends Nl{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class df extends Nl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const bO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wO=` 	
\r=`.split(""),hse=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<wO.length;e+=1)t[wO[e].charCodeAt(0)]=-2;for(let e=0;e<bO.length;e+=1)t[bO[e].charCodeAt(0)]=e;return t})();function w$(t,e,r){const n=hse[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function jO(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=o=>{pse(o,n,r)};for(let o=0;o<t.length;o+=1)w$(t.charCodeAt(o),a,s);return e.join("")}function fse(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function mse(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}fse(n,e)}}function pse(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function gse(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)w$(t.charCodeAt(a),r,n);return new Uint8Array(e)}function vse(t){const e=[];return mse(t,r=>e.push(r)),new Uint8Array(e)}function yse(t){return Math.round(Date.now()/1e3)+t}function xse(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ms=()=>typeof window<"u"&&typeof document<"u",Vl={tested:!1,writable:!1},hf=()=>{if(!Ms())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vl.tested)return Vl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Vl.tested=!0,Vl.writable=!0}catch{Vl.tested=!0,Vl.writable=!1}return Vl.writable};function bse(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{e[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const j$=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>RA(async()=>{const{default:n}=await Promise.resolve().then(()=>Od);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},wse=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",_$=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Eg=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Sg=async(t,e)=>{await t.removeItem(e)};let C$=class B${constructor(){this.promise=new B$.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}};C$.promiseConstructor=Promise;function xw(t){const e=t.split(".");if(e.length!==3)throw new df("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!ose.test(e[n]))throw new df("JWT not in base64url format");return{header:JSON.parse(jO(e[0])),payload:JSON.parse(jO(e[1])),signature:gse(e[2]),raw:{header:e[0],payload:e[1]}}}async function jse(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function _se(t,e){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){a(o);return}}})()})}function Cse(t){return("0"+t.toString(16)).substr(-2)}function Bse(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,Cse).join("")}async function Ese(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function Sse(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Ese(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bu(t,e,r=!1){const n=Bse();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await _$(t,`${e}-code-verifier`,a);const s=await Sse(n);return[s,n===s?"plain":"s256"]}const Nse=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Tse(t){const e=t.headers.get(wE);if(!e||!e.match(Nse))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function kse(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Ise(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Pse=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const Jl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ose=[502,503,504];async function _O(t){var e;if(!wse(t))throw new jE(Jl(t),0);if(Ose.includes(t.status))throw new jE(Jl(t),t.status);let r;try{r=await t.json()}catch(s){throw new b$(Jl(s),s)}let n;const a=Tse(t);if(a&&a.getTime()>=x$["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new xO(Jl(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new jo}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new xO(Jl(r),t.status,r.weak_password.reasons);throw new cse(Jl(r),t.status||500,n)}const Fse=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function St(t,e,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[wE]||(s[wE]=x$["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Dse(t,e,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Dse(t,e,r,n,a,s){const o=Fse(e,n,a,s);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new jE(Jl(c),0)}if(l.ok||await _O(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await _O(c)}}function _o(t){var e;let r=null;Qse(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=yse(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function CO(t){const e=_o(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Io(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Rse(t){return{data:t,error:null}}function Use(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=t,o=Pse(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Mse(t){return t}function Qse(t){return t.access_token&&t.refresh_token&&t.expires_in}var Lse=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class Hse{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=j$(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await St(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await St(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Io})}catch(n){if(wt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Lse(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await St(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Use,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(wt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await St(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Io})}catch(r){if(wt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,s,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},A=await St(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:Mse});if(A.error)throw A.error;const d=await A.json(),h=(o=A.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=A.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);u[`${m}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(wt(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await St(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Io})}catch(r){if(wt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await St(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Io})}catch(n){if(wt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await St(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Io})}catch(n){if(wt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await St(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(wt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await St(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(wt(r))return{data:null,error:r};throw r}}}const $se={getItem:t=>hf()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{hf()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{hf()&&globalThis.localStorage.removeItem(t)}};function BO(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function Vse(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const wu={debug:!!(globalThis&&hf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class E$ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Kse extends E${}async function qse(t,e,r){wu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),wu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){wu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{wu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw wu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Kse(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(wu.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Vse();const Gse={url:ase,storageKey:sse,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ise,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function EO(t,e,r){return await r()}class $f{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=$f.nextInstanceID,$f.nextInstanceID+=1,this.instanceID>0&&Ms()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Gse),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Hse({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=j$(a.fetch),this.lock=a.lock||EO,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ms()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=qse:this.lock=EO,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:hf()?this.storage=$se:(this.memoryStorage={},this.storage=BO(this.memoryStorage)):(this.memoryStorage={},this.storage=BO(this.memoryStorage)),Ms()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${y$}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=bse(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ms()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),dse(s)){const c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return wt(r)?{error:r}:{error:new b$("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const s=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:_o}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(wt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,n,a;try{let s;if("email"in e){const{email:A,password:d,options:h}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await bu(this.storage,this.storageKey)),s=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:A,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:p},xform:_o})}else if("phone"in e){const{phone:A,password:d,options:h}=e;s=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:A,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:_o})}else throw new Cg("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(wt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:o,options:l}=e;r=await St(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:CO})}else if("phone"in e){const{phone:s,password:o,options:l}=e;r=await St(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:CO})}else throw new Cg("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new vw}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(wt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,a,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await Eg(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:o}=await St(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:_o});if(await Sg(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new vw}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:o})}catch(s){if(wt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:s,nonce:o}=e,l=await St(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:_o}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new vw}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(wt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,a,s,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,A=null;this.flowType==="pkce"&&([u,A]=await bu(this.storage,this.storageKey));const{error:d}=await St(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:A},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:A}=await St(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:A}}throw new Cg("You must provide either an email or phone number.")}catch(l){if(wt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let a,s;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await St(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:_o});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(wt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,n,a;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await bu(this.storage,this.storageKey)),await St(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:Rse})}catch(s){if(wt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new jo;const{error:a}=await St(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(wt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:s}=e,{error:o}=await St(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:a,options:s}=e,{data:o,error:l}=await St(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Cg("You must provide either an email or phone number and a type")}catch(r){if(wt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Eg(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<gw:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,A)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,A))})}return{data:{session:e},error:null}}const{session:a,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await St(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Io}):await this._useSession(async r=>{var n,a,s;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jo}:await St(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:Io})})}catch(r){if(wt(r))return Ase(r)&&(await this._removeSession(),await Sg(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new jo;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await bu(this.storage,this.storageKey));const{data:u,error:A}=await St(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Io});if(A)throw A;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(wt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new jo;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:o}=xw(e.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(wt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new jo;const{session:a,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(wt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ms())throw new Bg("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Bg(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new yO("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new yO("No code detected.");const{data:b,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!s||!l||!o||!u)throw new Bg("No session defined in URL");const A=Math.round(Date.now()/1e3),d=parseInt(l);let h=A+d;c&&(h=parseInt(c));const f=h-A;f*1e3<=Gu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const p=h-d;A-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,A):A-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,A);const{data:g,error:m}=await this._getUser(s);if(m)throw m;const x={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(n){if(wt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Eg(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{error:s};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(use(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Sg(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=xse(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await bu(this.storage,this.storageKey,!0));try{return await St(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(wt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(wt(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var o,l,c,u,A;const{data:d,error:h}=s;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await St(this.fetch,"GET",f,{headers:this.headers,jwt:(A=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&A!==void 0?A:void 0})});if(a)throw a;return Ms()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(wt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:s,error:o}=r;if(o)throw o;return await St(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(wt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await _se(async a=>(a>0&&await jse(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await St(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_o})),(a,s)=>{const o=200*Math.pow(2,a);return s&&yw(s)&&Date.now()+o-n<Gu})}catch(n){if(this._debug(r,"error",n),wt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ms()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Eg(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<gw;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${gw}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),yw(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new jo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new C$;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new jo;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(a,"error",s),wt(s)){const o={session:null,error:s};return yw(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){s.push(c)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await _$(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Sg(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ms()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Gu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/Gu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Gu}ms, refresh threshold is ${bE} ticks`),a<=bE&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof E$)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ms()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await bu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await St(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(wt(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:s,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await St(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(wt(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const{data:o,error:l}=await St(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(wt(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await St(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(wt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:a},error:s}=e;if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=xw(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const A=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:A},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n||(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+lse>Date.now()))return n;const{data:a,error:s}=await St(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!a.keys||a.keys.length===0)throw new df("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(o=>o.kid===e),!n)throw new df("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};n=f.session.access_token}const{header:a,payload:s,signature:o,raw:{header:l,payload:c}}=xw(n);if(kse(s.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:s,header:a,signature:o},error:null}}const u=Ise(a.alg),A=await this.fetchJwk(a.kid,r),d=await crypto.subtle.importKey("jwk",A,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,vse(`${l}.${c}`)))throw new df("Invalid JWT signature");return{data:{claims:s,header:a,signature:o},error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}}}$f.nextInstanceID=0;const zse=$f;class Wse extends zse{constructor(e){super(e)}}var Xse=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Jse{constructor(e,r,n){var a,s,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=rse(e),c=new URL(l);this.realtimeUrl=new URL("/realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("/auth/v1",c),this.storageUrl=new URL("/storage/v1",c),this.functionsUrl=new URL("/functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,A={db:zae,realtime:Xae,auth:Object.assign(Object.assign({},Wae),{storageKey:u}),global:Gae},d=nse(n??{},A);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=ese(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new mae(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new nae(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Vae(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Xse(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:s,flowType:o,lock:l,debug:c},u,A){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Wse({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,flowType:o,lock:l,debug:c,fetch:A,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Tae(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Yse=(t,e,r)=>new Jse(t,e,r),Zse="https://vpztrjwitxvldrdhndlr.supabase.co",eie="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZwenRyandpdHh2bGRyZGhuZGxyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4MTE3NzIsImV4cCI6MjA2MzM4Nzc3Mn0._NFTwCpQGgMThUeh1sew8y5ulRXSGmwHLmXRQx544PM",J=Yse(Zse,eie,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storageKey:"jpc-digi-auth"}});J.auth.onAuthStateChange((t,e)=>{t==="TOKEN_REFRESHED"&&!e&&(console.log("Token refresh failed, redirecting to login"),J.auth.signOut().catch(r=>console.error("Error signing out:",r)),window.location.pathname.includes("/login")||setTimeout(()=>{window.location.href="/login"},500))});const Kl={isEnabled:!1,workingDays:[{day:"monday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"tuesday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"wednesday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"thursday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"friday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"saturday",isActive:!0,openTime:"08:00",closeTime:"15:00"},{day:"sunday",isActive:!1,openTime:"08:00",closeTime:"15:00"}],offWorkMessage:"Maaf, kami sedang tutup. Silakan kembali pada jam operasional kami."};class tie{constructor(){hh(this,"settings",null);hh(this,"lastFetchTime",0);hh(this,"CACHE_DURATION_MS",5*60*1e3);hh(this,"LOCAL_STORAGE_KEY","business_hours_settings")}async getBusinessHours(){const e=Date.now();if(this.settings&&e-this.lastFetchTime<this.CACHE_DURATION_MS)return console.debug("Menggunakan cache untuk pengaturan jam kerja"),this.settings;try{console.debug("Mengambil pengaturan jam kerja dari Supabase");const{data:r,error:n}=await J.from("settings").select("value").eq("key","business_hours").maybeSingle();if(n){console.debug("Supabase error, coba gunakan localStorage:",n);const a=this.getFromLocalStorage();return a?(this.settings=a,this.lastFetchTime=e,a):(this.settings=Kl,this.lastFetchTime=e,Kl)}if(r&&r.value){const a=r.value;return this.settings=a,this.lastFetchTime=e,this.saveToLocalStorage(a),a}return this.settings=Kl,this.lastFetchTime=e,Kl}catch{return console.debug("Error fetching from Supabase, using default settings"),this.settings=Kl,this.lastFetchTime=e,Kl}}async updateBusinessHours(e){try{console.debug("Menyimpan pengaturan jam kerja ke Supabase");const{error:r}=await J.from("settings").upsert({key:"business_hours",value:e,updated_at:new Date().toISOString()},{onConflict:"key"});return r?(console.error("Error updating business hours in Supabase:",r),this.saveToLocalStorage(e),{success:!1,message:`Gagal menyimpan ke database: ${r.message}. Data disimpan lokal sebagai cadangan.`}):(this.settings=e,this.lastFetchTime=Date.now(),this.saveToLocalStorage(e),console.debug("Business hours saved to Supabase successfully"),{success:!0,message:"Pengaturan jam kerja berhasil disimpan ke database."})}catch(r){return console.error("Exception updating business hours:",r),this.saveToLocalStorage(e),this.settings=e,this.lastFetchTime=Date.now(),{success:!1,message:`Terjadi kesalahan: ${r instanceof Error?r.message:"Unknown error"}. Data disimpan lokal.`}}}async isWithinBusinessHours(e){const r=await this.getBusinessHours();if(!r||!r.isEnabled)return console.debug("Jam kerja dinonaktifkan, status: BUKA"),!0;const n=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],a=e||new Date,s=new Intl.DateTimeFormat("id-ID",{timeZone:"Asia/Jakarta",hour:"numeric",minute:"numeric",hour12:!1,weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(a);console.debug(`Waktu Jakarta (WIB): ${s}`);const o={Minggu:"sunday",Senin:"monday",Selasa:"tuesday",Rabu:"wednesday",Kamis:"thursday",Jumat:"friday",Sabtu:"saturday"},l=s.split(",")[0],c=o[l]||n[a.getDay()],u=s.match(/(\d{1,2})\.(\d{2})/);let A=a.getHours(),d=a.getMinutes();u&&u.length>=3&&(A=parseInt(u[1],10),d=parseInt(u[2],10)),(isNaN(A)||isNaN(d))&&(A=(a.getUTCHours()+7)%24,d=a.getUTCMinutes()),console.debug(`Waktu saat ini: ${c} ${A}:${d.toString().padStart(2,"0")}`);const h=r.workingDays.find(C=>C.day===c);if(!h||!h.isActive)return console.debug(`Hari ${c} tidak aktif, status: TUTUP`),!1;const[f,p]=h.openTime.split(":").map(Number),[g,m]=h.closeTime.split(":").map(Number),x=A*60+d,b=f*60+p,_=g*60+m;console.debug(`Jam buka: ${f}:${p.toString().padStart(2,"0")} (${b} menit)`),console.debug(`Jam tutup: ${g}:${m.toString().padStart(2,"0")} (${_} menit)`),console.debug(`Waktu saat ini: ${A}:${d.toString().padStart(2,"0")} (${x} menit)`);let w=!1;return _<b?(w=x>=b||x<=_,console.debug(`Mode operasi: MELEWATI TENGAH MALAM, status: ${w?"BUKA":"TUTUP"}`)):(w=x>=b&&x<=_,console.debug(`Mode operasi: NORMAL, status: ${w?"BUKA":"TUTUP"}`)),w}async getCurrentStatus(e){try{const r=await this.getBusinessHours();if(!r||!r.isEnabled)return{isOpen:!0,message:""};if(await this.isWithinBusinessHours(e))return{isOpen:!0,message:""};{const a=new Date,s=new Date(a);s.setDate(s.getDate()+1);const o=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],l={sunday:"Minggu",monday:"Senin",tuesday:"Selasa",wednesday:"Rabu",thursday:"Kamis",friday:"Jumat",saturday:"Sabtu"},c=o[a.getDay()],u=o[s.getDay()],A=r.workingDays.find(f=>f.day===c),d=r.workingDays.find(f=>f.day===u);let h=r.offWorkMessage;if(A&&A.isActive){const[f,p]=A.openTime.split(":").map(Number),g=a.getHours(),m=a.getMinutes(),x=g*60+m,b=f*60+p;x<b&&(h+=` Kami akan buka hari ini pukul ${this.formatTimeIndonesia(A.openTime)}.`)}else if(d&&d.isActive)h+=` Kami akan buka besok (${l[u]}) pukul ${this.formatTimeIndonesia(d.openTime)}.`;else{let f=this.findNextOpenDay(r.workingDays,o.indexOf(c));if(f){const p=this.getIndonesianDayName(f.day),g=this.formatTimeIndonesia(f.openTime);h+=` Kami akan buka kembali pada hari ${p} pukul ${g} WIB.`}}return{isOpen:!1,message:h}}}catch(r){return console.debug("Error getting current status, defaulting to open",r),{isOpen:!0,message:""}}}formatTimeIndonesia(e){const[r,n]=e.split(":").map(Number);return`${r.toString().padStart(2,"0")}.${n.toString().padStart(2,"0")}`}getIndonesianDayName(e){return{sunday:"Minggu",monday:"Senin",tuesday:"Selasa",wednesday:"Rabu",thursday:"Kamis",friday:"Jumat",saturday:"Sabtu"}[e]||e}findNextOpenDay(e,r){for(let n=r+1;n<e.length+r;n++){const a=n%e.length;if(e[a].isActive)return e[a]}return null}saveToLocalStorage(e){try{localStorage.setItem(this.LOCAL_STORAGE_KEY,JSON.stringify(e)),console.debug("Pengaturan jam kerja disimpan ke localStorage")}catch(r){console.debug("Error saving business hours to localStorage:",r)}}getFromLocalStorage(){try{const e=localStorage.getItem(this.LOCAL_STORAGE_KEY);if(e){const r=JSON.parse(e);return console.debug("Berhasil mengambil pengaturan jam kerja dari localStorage"),r}return console.debug("Tidak ada data jam kerja di localStorage"),null}catch(e){return console.debug("Error reading business hours from localStorage:",e),null}}async resetToDefault(){try{return console.debug("Reset pengaturan jam kerja ke default"),await this.updateBusinessHours(Kl)}catch(e){return console.error("Error resetting business hours:",e),{success:!1,message:`Gagal reset pengaturan: ${e instanceof Error?e.message:"Unknown error"}`}}}}const Yl=new tie,g0=Sd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),V=v.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...a},s)=>{const o=n?$i:"button";return i.jsx(o,{className:de(g0({variant:e,size:r,className:t})),ref:s,...a})});V.displayName="Button";function rie(){const[t,e]=v.useState(!1),[r,n]=v.useState(""),[a,s]=v.useState(!0),[o,l]=v.useState(""),[c,u]=v.useState(0),[A,d]=v.useState(""),h=v.useCallback(async()=>{s(!0),d("");try{const f=new Date,p=`${f.getHours()}:${f.getMinutes().toString().padStart(2,"0")}`;l(p),console.debug(`[BusinessHoursOverlay] Memeriksa jam kerja pada ${p}`);const g=await Yl.getCurrentStatus();console.debug(`[BusinessHoursOverlay] Status toko: ${g.isOpen?"BUKA":"TUTUP"}`),console.debug(`[BusinessHoursOverlay] Pesan: ${g.message}`),e(!g.isOpen),n(g.message),u(m=>m+1)}catch(f){console.error("[BusinessHoursOverlay] Error checking business hours:",f),d("Terjadi kesalahan saat memeriksa jam kerja"),e(!1)}finally{s(!1)}},[]);return v.useEffect(()=>{h();const f=setInterval(h,6e4);return()=>clearInterval(f)},[h]),a||!t?null:i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full p-6 text-center",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center mb-6",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-amber-100 flex items-center justify-center mb-4",children:i.jsx(PA,{className:"h-10 w-10 text-amber-600"})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Di Luar Jam Operasional"})]}),i.jsx("div",{className:"bg-amber-50 border border-amber-100 rounded-md p-4 mb-6",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(Df,{className:"h-5 w-5 text-amber-600 mt-0.5 mr-2"}),i.jsx("p",{className:"text-gray-700",children:r})]})}),A&&i.jsx("div",{className:"bg-red-50 border border-red-100 rounded-md p-3 mb-4 text-left",children:i.jsx("p",{className:"text-red-600 text-sm",children:A})}),i.jsxs("div",{className:"flex flex-col space-y-4",children:[i.jsxs(V,{variant:"outline",onClick:h,className:"w-full flex items-center justify-center",disabled:a,children:[i.jsx(Rf,{className:"h-4 w-4 mr-2"}),a?"Memuat...":"Periksa Kembali"]}),i.jsx(V,{variant:"default",onClick:()=>window.location.reload(),className:"w-full",children:"Muat Ulang Halaman"}),i.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Terakhir diperiksa: ",o," (",c,"x)"]})]})]})})}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vf(){return Vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vf.apply(this,arguments)}var Ko;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ko||(Ko={}));const SO="popstate";function nie(t){t===void 0&&(t={});function e(n,a){let{pathname:s,search:o,hash:l}=n.location;return _E("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:iy(a)}return sie(e,r,null,t)}function Dr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function S$(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aie(){return Math.random().toString(36).substr(2,8)}function NO(t,e){return{usr:t.state,key:t.key,idx:e}}function _E(t,e,r,n){return r===void 0&&(r=null),Vf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fd(e):e,{state:r,key:e&&e.key||n||aie()})}function iy(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Fd(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function sie(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l=Ko.Pop,c=null,u=A();u==null&&(u=0,o.replaceState(Vf({},o.state,{idx:u}),""));function A(){return(o.state||{idx:null}).idx}function d(){l=Ko.Pop;let m=A(),x=m==null?null:m-u;u=m,c&&c({action:l,location:g.location,delta:x})}function h(m,x){l=Ko.Push;let b=_E(g.location,m,x);u=A()+1;let _=NO(b,u),w=g.createHref(b);try{o.pushState(_,"",w)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(w)}s&&c&&c({action:l,location:g.location,delta:1})}function f(m,x){l=Ko.Replace;let b=_E(g.location,m,x);u=A();let _=NO(b,u),w=g.createHref(b);o.replaceState(_,"",w),s&&c&&c({action:l,location:g.location,delta:0})}function p(m){let x=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof m=="string"?m:iy(m);return b=b.replace(/ $/,"%20"),Dr(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let g={get action(){return l},get location(){return t(a,o)},listen(m){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(SO,d),c=m,()=>{a.removeEventListener(SO,d),c=null}},createHref(m){return e(a,m)},createURL:p,encodeLocation(m){let x=p(m);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:f,go(m){return o.go(m)}};return g}var TO;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(TO||(TO={}));function iie(t,e,r){return r===void 0&&(r="/"),oie(t,e,r)}function oie(t,e,r,n){let a=typeof e=="string"?Fd(e):e,s=VT(a.pathname||"/",r);if(s==null)return null;let o=N$(t);lie(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=xie(s);l=gie(o[c],u)}return l}function N$(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Dr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Zo([n,c.relativePath]),A=r.concat(c);s.children&&s.children.length>0&&(Dr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),N$(s.children,e,A,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:mie(u,s.index),routesMeta:A})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of T$(s.path))a(s,o,c)}),e}function T$(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=T$(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function lie(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:pie(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const cie=/^:[\w-]+$/,uie=3,Aie=2,die=1,hie=10,fie=-2,kO=t=>t==="*";function mie(t,e){let r=t.split("/"),n=r.length;return r.some(kO)&&(n+=fie),e&&(n+=Aie),r.filter(a=>!kO(a)).reduce((a,s)=>a+(cie.test(s)?uie:s===""?die:hie),n)}function pie(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function gie(t,e,r){let{routesMeta:n}=t,a={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,A=s==="/"?e:e.slice(s.length)||"/",d=vie({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},A),h=c.route;if(!d)return null;Object.assign(a,d.params),o.push({params:a,pathname:Zo([s,d.pathname]),pathnameBase:_ie(Zo([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Zo([s,d.pathnameBase]))}return o}function vie(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=yie(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,A,d)=>{let{paramName:h,isOptional:f}=A;if(h==="*"){let g=l[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[d];return f&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function yie(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),S$(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function xie(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return S$(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function VT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function bie(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?Fd(t):t;return{pathname:r?r.startsWith("/")?r:wie(r,e):e,search:Cie(n),hash:Bie(a)}}function wie(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function bw(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jie(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function KT(t,e){let r=jie(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function qT(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=Fd(t):(a=Vf({},t),Dr(!a.pathname||!a.pathname.includes("?"),bw("?","pathname","search",a)),Dr(!a.pathname||!a.pathname.includes("#"),bw("#","pathname","hash",a)),Dr(!a.search||!a.search.includes("#"),bw("#","search","hash",a)));let s=t===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;a.pathname=h.join("/")}l=d>=0?e[d]:"/"}let c=bie(a,l),u=o&&o!=="/"&&o.endsWith("/"),A=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||A)&&(c.pathname+="/"),c}const Zo=t=>t.join("/").replace(/\/\/+/g,"/"),_ie=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Cie=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Bie=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Eie(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const k$=["post","put","patch","delete"];new Set(k$);const Sie=["get",...k$];new Set(Sie);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kf(){return Kf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kf.apply(this,arguments)}const GT=v.createContext(null),Nie=v.createContext(null),Tl=v.createContext(null),v0=v.createContext(null),no=v.createContext({outlet:null,matches:[],isDataRoute:!1}),I$=v.createContext(null);function Tie(t,e){let{relative:r}=e===void 0?{}:e;Dd()||Dr(!1);let{basename:n,navigator:a}=v.useContext(Tl),{hash:s,pathname:o,search:l}=O$(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Zo([n,o])),a.createHref({pathname:c,search:l,hash:s})}function Dd(){return v.useContext(v0)!=null}function na(){return Dd()||Dr(!1),v.useContext(v0).location}function P$(t){v.useContext(Tl).static||v.useLayoutEffect(t)}function kt(){let{isDataRoute:t}=v.useContext(no);return t?$ie():kie()}function kie(){Dd()||Dr(!1);let t=v.useContext(GT),{basename:e,future:r,navigator:n}=v.useContext(Tl),{matches:a}=v.useContext(no),{pathname:s}=na(),o=JSON.stringify(KT(a,r.v7_relativeSplatPath)),l=v.useRef(!1);return P$(()=>{l.current=!0}),v.useCallback(function(u,A){if(A===void 0&&(A={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=qT(u,JSON.parse(o),s,A.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Zo([e,d.pathname])),(A.replace?n.replace:n.push)(d,A.state,A)},[e,n,o,s,t])}function wp(){let{matches:t}=v.useContext(no),e=t[t.length-1];return e?e.params:{}}function O$(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=v.useContext(Tl),{matches:a}=v.useContext(no),{pathname:s}=na(),o=JSON.stringify(KT(a,n.v7_relativeSplatPath));return v.useMemo(()=>qT(t,JSON.parse(o),s,r==="path"),[t,o,s,r])}function Iie(t,e){return Pie(t,e)}function Pie(t,e,r,n){Dd()||Dr(!1);let{navigator:a}=v.useContext(Tl),{matches:s}=v.useContext(no),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=na(),A;if(e){var d;let m=typeof e=="string"?Fd(e):e;c==="/"||(d=m.pathname)!=null&&d.startsWith(c)||Dr(!1),A=m}else A=u;let h=A.pathname||"/",f=h;if(c!=="/"){let m=c.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(m.length).join("/")}let p=iie(t,{pathname:f}),g=Uie(p&&p.map(m=>Object.assign({},m,{params:Object.assign({},l,m.params),pathname:Zo([c,a.encodeLocation?a.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?c:Zo([c,a.encodeLocation?a.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),s,r,n);return e&&g?v.createElement(v0.Provider,{value:{location:Kf({pathname:"/",search:"",hash:"",state:null,key:"default"},A),navigationType:Ko.Pop}},g):g}function Oie(){let t=Hie(),e=Eie(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),r?v.createElement("pre",{style:a},r):null,null)}const Fie=v.createElement(Oie,null);class Die extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?v.createElement(no.Provider,{value:this.props.routeContext},v.createElement(I$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Rie(t){let{routeContext:e,match:r,children:n}=t,a=v.useContext(GT);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(no.Provider,{value:e},n)}function Uie(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let A=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);A>=0||Dr(!1),o=o.slice(0,Math.min(o.length,A+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let A=0;A<o.length;A++){let d=o[A];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=A),d.route.id){let{loaderData:h,errors:f}=r,p=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((A,d,h)=>{let f,p=!1,g=null,m=null;r&&(f=l&&d.route.id?l[d.route.id]:void 0,g=d.route.errorElement||Fie,c&&(u<0&&h===0?(Vie("route-fallback"),p=!0,m=null):u===h&&(p=!0,m=d.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,h+1)),b=()=>{let _;return f?_=g:p?_=m:d.route.Component?_=v.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=A,v.createElement(Rie,{match:d,routeContext:{outlet:A,matches:x,isDataRoute:r!=null},children:_})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?v.createElement(Die,{location:r.location,revalidation:r.revalidation,component:g,error:f,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var F$=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(F$||{}),D$=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(D$||{});function Mie(t){let e=v.useContext(GT);return e||Dr(!1),e}function Qie(t){let e=v.useContext(Nie);return e||Dr(!1),e}function Lie(t){let e=v.useContext(no);return e||Dr(!1),e}function R$(t){let e=Lie(),r=e.matches[e.matches.length-1];return r.route.id||Dr(!1),r.route.id}function Hie(){var t;let e=v.useContext(I$),r=Qie(),n=R$();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function $ie(){let{router:t}=Mie(F$.UseNavigateStable),e=R$(D$.UseNavigateStable),r=v.useRef(!1);return P$(()=>{r.current=!0}),v.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Kf({fromRouteId:e},s)))},[t,e])}const IO={};function Vie(t,e,r){IO[t]||(IO[t]=!0)}function oy(t){let{to:e,replace:r,state:n,relative:a}=t;Dd()||Dr(!1);let{future:s,static:o}=v.useContext(Tl),{matches:l}=v.useContext(no),{pathname:c}=na(),u=kt(),A=qT(e,KT(l,s.v7_relativeSplatPath),c,a==="path"),d=JSON.stringify(A);return v.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:a}),[u,d,a,r,n]),null}function Ze(t){Dr(!1)}function Kie(t){let{basename:e="/",children:r=null,location:n,navigationType:a=Ko.Pop,navigator:s,static:o=!1,future:l}=t;Dd()&&Dr(!1);let c=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:s,static:o,future:Kf({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=Fd(n));let{pathname:A="/",search:d="",hash:h="",state:f=null,key:p="default"}=n,g=v.useMemo(()=>{let m=VT(A,c);return m==null?null:{location:{pathname:m,search:d,hash:h,state:f,key:p},navigationType:a}},[c,A,d,h,f,p,a]);return g==null?null:v.createElement(Tl.Provider,{value:u},v.createElement(v0.Provider,{children:r,value:g}))}function qie(t){let{children:e,location:r}=t;return Iie(CE(e),r)}new Promise(()=>{});function CE(t,e){e===void 0&&(e=[]);let r=[];return v.Children.forEach(t,(n,a)=>{if(!v.isValidElement(n))return;let s=[...e,a];if(n.type===v.Fragment){r.push.apply(r,CE(n.props.children,s));return}n.type!==Ze&&Dr(!1),!n.props.index||!n.props.children||Dr(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=CE(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function BE(){return BE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BE.apply(this,arguments)}function Gie(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function zie(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Wie(t,e){return t.button===0&&(!e||e==="_self")&&!zie(t)}function EE(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Xie(t,e){let r=EE(t);return e&&e.forEach((n,a)=>{r.has(a)||e.getAll(a).forEach(s=>{r.append(a,s)})}),r}const Jie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Yie="6";try{window.__reactRouterVersion=Yie}catch{}const Zie="startTransition",PO=_3[Zie];function eoe(t){let{basename:e,children:r,future:n,window:a}=t,s=v.useRef();s.current==null&&(s.current=nie({window:a,v5Compat:!0}));let o=s.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},A=v.useCallback(d=>{u&&PO?PO(()=>c(d)):c(d)},[c,u]);return v.useLayoutEffect(()=>o.listen(A),[o,A]),v.createElement(Kie,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const toe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",roe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ct=v.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:A,viewTransition:d}=e,h=Gie(e,Jie),{basename:f}=v.useContext(Tl),p,g=!1;if(typeof u=="string"&&roe.test(u)&&(p=u,toe))try{let _=new URL(window.location.href),w=u.startsWith("//")?new URL(_.protocol+u):new URL(u),C=VT(w.pathname,f);w.origin===_.origin&&C!=null?u=C+w.search+w.hash:g=!0}catch{}let m=Tie(u,{relative:a}),x=noe(u,{replace:o,state:l,target:c,preventScrollReset:A,relative:a,viewTransition:d});function b(_){n&&n(_),_.defaultPrevented||x(_)}return v.createElement("a",BE({},h,{href:p||m,onClick:g||s?n:b,ref:r,target:c}))});var OO;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(OO||(OO={}));var FO;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(FO||(FO={}));function noe(t,e){let{target:r,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,c=kt(),u=na(),A=O$(t,{relative:o});return v.useCallback(d=>{if(Wie(d,r)){d.preventDefault();let h=n!==void 0?n:iy(u)===iy(A);c(t,{replace:h,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,A,n,a,r,t,s,o,l])}function aoe(t){let e=v.useRef(EE(t)),r=v.useRef(!1),n=na(),a=v.useMemo(()=>Xie(n.search,r.current?null:e.current),[n.search]),s=kt(),o=v.useCallback((l,c)=>{const u=EE(typeof l=="function"?l(a):l);r.current=!0,s("?"+u,c)},[s,a]);return[a,o]}const soe=()=>{};var DO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},ioe=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const a=t[r++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const s=t[r++];e[n++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=t[r++],o=t[r++],l=t[r++],c=((a&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const s=t[r++],o=t[r++];e[n++]=String.fromCharCode((a&15)<<12|(s&63)<<6|o&63)}}return e.join("")},M$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<t.length;a+=3){const s=t[a],o=a+1<t.length,l=o?t[a+1]:0,c=a+2<t.length,u=c?t[a+2]:0,A=s>>2,d=(s&3)<<4|l>>4;let h=(l&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),n.push(r[A],r[d],r[h],r[f])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(U$(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ioe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<t.length;){const s=r[t.charAt(a++)],l=a<t.length?r[t.charAt(a)]:0;++a;const u=a<t.length?r[t.charAt(a)]:64;++a;const d=a<t.length?r[t.charAt(a)]:64;if(++a,s==null||l==null||u==null||d==null)throw new ooe;const h=s<<2|l>>4;if(n.push(h),u!==64){const f=l<<4&240|u>>2;if(n.push(f),d!==64){const p=u<<6&192|d;n.push(p)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ooe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const loe=function(t){const e=U$(t);return M$.encodeByteArray(e,!0)},ly=function(t){return loe(t).replace(/\./g,"")},coe=function(t){try{return M$.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uoe=()=>Q$().__FIREBASE_DEFAULTS__,Aoe=()=>{if(typeof process>"u"||typeof DO>"u")return;const t=DO.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},doe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&coe(t[1]);return e&&JSON.parse(e)},zT=()=>{try{return soe()||uoe()||Aoe()||doe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hoe=t=>{var e,r;return(r=(e=zT())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},foe=t=>{const e=hoe(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},L$=()=>{var t;return(t=zT())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class moe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(t){return t.endsWith(".cloudworkstations.dev")}async function poe(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function goe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",a=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ly(JSON.stringify(r)),ly(JSON.stringify(o)),""].join(".")}const ff={};function voe(){const t={prod:[],emulator:[]};for(const e of Object.keys(ff))ff[e]?t.emulator.push(e):t.prod.push(e);return t}function yoe(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let RO=!1;function xoe(t,e){if(typeof window>"u"||typeof document>"u"||!WT(window.location.host)||ff[t]===e||ff[t]||RO)return;ff[t]=e;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",s=voe().prod.length>0;function o(){const h=document.getElementById(n);h&&h.remove()}function l(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,f){h.setAttribute("width","24"),h.setAttribute("id",f),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{RO=!0,o()},h}function A(h,f){h.setAttribute("id",f),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=yoe(n),f=r("text"),p=document.getElementById(f)||document.createElement("span"),g=r("learnmore"),m=document.getElementById(g)||document.createElement("a"),x=r("preprendIcon"),b=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const _=h.element;l(_),A(m,g);const w=u();c(b,x),_.append(b,p,m,w),document.body.appendChild(_)}s?(p.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function H$(){var t;const e=(t=zT())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $$(){return!H$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V$(){return!H$()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function XT(){try{return typeof indexedDB=="object"}catch{return!1}}function K$(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var s;e(((s=a.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}function boe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const woe="FirebaseError";class au extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=woe,Object.setPrototypeOf(this,au.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,y0.prototype.create)}}class y0{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},a=`${this.service}/${e}`,s=this.errors[e],o=s?joe(s,n):"Error",l=`${this.serviceName}: ${o} (${a}).`;return new au(a,l,n)}}function joe(t,e){return t.replace(_oe,(r,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const _oe=/\{\$([^}]+)}/g;function uy(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const a of r){if(!n.includes(a))return!1;const s=t[a],o=e[a];if(UO(s)&&UO(o)){if(!uy(s,o))return!1}else if(s!==o)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function UO(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(t){return t&&t._delegate?t._delegate:t}class Gi{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Coe{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new moe;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(a)return null;throw s}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Eoe(e))try{this.getOrInitializeService({instanceIdentifier:Zl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:a});n.resolve(s)}catch{}}}}clearInstance(e=Zl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zl){return this.instances.has(e)}getOptions(e=Zl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);n===l&&o.resolve(a)}return a}onInit(e,r){var n;const a=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(a,s);const o=this.instances.get(a);return o&&e(o,a),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Boe(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Zl){return this.component?this.component.multipleInstances?e:Zl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Boe(t){return t===Zl?void 0:t}function Eoe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Soe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Coe(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ut||(Ut={}));const Noe={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},Toe=Ut.INFO,koe={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},Ioe=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),a=koe[e];if(a)console[a](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let q$=class{constructor(e){this.name=e,this._logLevel=Toe,this._logHandler=Ioe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Noe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}};const Poe=(t,e)=>e.some(r=>t instanceof r);let MO,QO;function Ooe(){return MO||(MO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Foe(){return QO||(QO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G$=new WeakMap,SE=new WeakMap,z$=new WeakMap,ww=new WeakMap,JT=new WeakMap;function Doe(t){const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{r(Fi(t.result)),a()},o=()=>{n(t.error),a()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&G$.set(r,t)}).catch(()=>{}),JT.set(e,t),e}function Roe(t){if(SE.has(t))return;const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{r(),a()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});SE.set(t,e)}let NE={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return SE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||z$.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Fi(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Uoe(t){NE=t(NE)}function Moe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(jw(this),e,...r);return z$.set(n,e.sort?e.sort():[e]),Fi(n)}:Foe().includes(t)?function(...e){return t.apply(jw(this),e),Fi(G$.get(this))}:function(...e){return Fi(t.apply(jw(this),e))}}function Qoe(t){return typeof t=="function"?Moe(t):(t instanceof IDBTransaction&&Roe(t),Poe(t,Ooe())?new Proxy(t,NE):t)}function Fi(t){if(t instanceof IDBRequest)return Doe(t);if(ww.has(t))return ww.get(t);const e=Qoe(t);return e!==t&&(ww.set(t,e),JT.set(e,t)),e}const jw=t=>JT.get(t);function x0(t,e,{blocked:r,upgrade:n,blocking:a,terminated:s}={}){const o=indexedDB.open(t,e),l=Fi(o);return n&&o.addEventListener("upgradeneeded",c=>{n(Fi(o.result),c.oldVersion,c.newVersion,Fi(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),a&&c.addEventListener("versionchange",u=>a(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}function _w(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",n=>e(n.oldVersion,n)),Fi(r).then(()=>{})}const Loe=["get","getKey","getAll","getAllKeys","count"],Hoe=["put","add","delete","clear"],Cw=new Map;function LO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cw.get(e))return Cw.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,a=Hoe.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||Loe.includes(r)))return;const s=async function(o,...l){const c=this.transaction(o,a?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),a&&c.done]))[0]};return Cw.set(e,s),s}Uoe(t=>({...t,get:(e,r,n)=>LO(e,r)||t.get(e,r,n),has:(e,r)=>!!LO(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $oe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Voe(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Voe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const TE="@firebase/app",HO="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new q$("@firebase/app"),Koe="@firebase/app-compat",qoe="@firebase/analytics-compat",Goe="@firebase/analytics",zoe="@firebase/app-check-compat",Woe="@firebase/app-check",Xoe="@firebase/auth",Joe="@firebase/auth-compat",Yoe="@firebase/database",Zoe="@firebase/data-connect",ele="@firebase/database-compat",tle="@firebase/functions",rle="@firebase/functions-compat",nle="@firebase/installations",ale="@firebase/installations-compat",sle="@firebase/messaging",ile="@firebase/messaging-compat",ole="@firebase/performance",lle="@firebase/performance-compat",cle="@firebase/remote-config",ule="@firebase/remote-config-compat",Ale="@firebase/storage",dle="@firebase/storage-compat",hle="@firebase/firestore",fle="@firebase/ai",mle="@firebase/firestore-compat",ple="firebase",gle="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="[DEFAULT]",vle={[TE]:"fire-core",[Koe]:"fire-core-compat",[Goe]:"fire-analytics",[qoe]:"fire-analytics-compat",[Woe]:"fire-app-check",[zoe]:"fire-app-check-compat",[Xoe]:"fire-auth",[Joe]:"fire-auth-compat",[Yoe]:"fire-rtdb",[Zoe]:"fire-data-connect",[ele]:"fire-rtdb-compat",[tle]:"fire-fn",[rle]:"fire-fn-compat",[nle]:"fire-iid",[ale]:"fire-iid-compat",[sle]:"fire-fcm",[ile]:"fire-fcm-compat",[ole]:"fire-perf",[lle]:"fire-perf-compat",[cle]:"fire-rc",[ule]:"fire-rc-compat",[Ale]:"fire-gcs",[dle]:"fire-gcs-compat",[hle]:"fire-fst",[mle]:"fire-fst-compat",[fle]:"fire-vertex","fire-js":"fire-js",[ple]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=new Map,yle=new Map,IE=new Map;function $O(t,e){try{t.container.addComponent(e)}catch(r){zi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function ml(t){const e=t.name;if(IE.has(e))return zi.debug(`There were multiple attempts to register component ${e}.`),!1;IE.set(e,t);for(const r of Ay.values())$O(r,t);for(const r of yle.values())$O(r,t);return!0}function b0(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function xle(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ble={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},el=new y0("app","Firebase",ble);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wle{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw el.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jle=gle;function W$(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:kE,automaticDataCollectionEnabled:!0},e),a=n.name;if(typeof a!="string"||!a)throw el.create("bad-app-name",{appName:String(a)});if(r||(r=L$()),!r)throw el.create("no-options");const s=Ay.get(a);if(s){if(uy(r,s.options)&&uy(n,s.config))return s;throw el.create("duplicate-app",{appName:a})}const o=new Soe(a);for(const c of IE.values())o.addComponent(c);const l=new wle(r,n,o);return Ay.set(a,l),l}function X$(t=kE){const e=Ay.get(t);if(!e&&t===kE&&L$())return W$();if(!e)throw el.create("no-app",{appName:t});return e}function Zs(t,e,r){var n;let a=(n=vle[t])!==null&&n!==void 0?n:t;r&&(a+=`-${r}`);const s=a.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${a}" with version "${e}":`];s&&l.push(`library name "${a}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zi.warn(l.join(" "));return}ml(new Gi(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _le="firebase-heartbeat-database",Cle=1,qf="firebase-heartbeat-store";let Bw=null;function J$(){return Bw||(Bw=x0(_le,Cle,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qf)}catch(r){console.warn(r)}}}}).catch(t=>{throw el.create("idb-open",{originalErrorMessage:t.message})})),Bw}async function Ble(t){try{const r=(await J$()).transaction(qf),n=await r.objectStore(qf).get(Y$(t));return await r.done,n}catch(e){if(e instanceof au)zi.warn(e.message);else{const r=el.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zi.warn(r.message)}}}async function VO(t,e){try{const n=(await J$()).transaction(qf,"readwrite");await n.objectStore(qf).put(e,Y$(t)),await n.done}catch(r){if(r instanceof au)zi.warn(r.message);else{const n=el.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});zi.warn(n.message)}}}function Y$(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ele=1024,Sle=30;class Nle{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new kle(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=KO();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>Sle){const o=Ile(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){zi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=KO(),{heartbeatsToSend:n,unsentEntries:a}=Tle(this._heartbeatsCache.heartbeats),s=ly(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return zi.warn(r),""}}}function KO(){return new Date().toISOString().substring(0,10)}function Tle(t,e=Ele){const r=[];let n=t.slice();for(const a of t){const s=r.find(o=>o.agent===a.agent);if(s){if(s.dates.push(a.date),qO(r)>e){s.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),qO(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class kle{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XT()?K$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Ble(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return VO(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return VO(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function qO(t){return ly(JSON.stringify({version:2,heartbeats:t})).length}function Ile(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ple(t){ml(new Gi("platform-logger",e=>new $oe(e),"PRIVATE")),ml(new Gi("heartbeat",e=>new Nle(e),"PRIVATE")),Zs(TE,HO,t),Zs(TE,HO,"esm2017"),Zs("fire-js","")}Ple("");var Ole="firebase",Fle="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zs(Ole,Fle,"app");var GO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,B){function S(){}S.prototype=B.prototype,j.D=B.prototype,j.prototype=new S,j.prototype.constructor=j,j.C=function(N,I,P){for(var T=Array(arguments.length-2),U=2;U<arguments.length;U++)T[U-2]=arguments[U];return B.prototype[I].apply(N,T)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(j,B,S){S||(S=0);var N=Array(16);if(typeof B=="string")for(var I=0;16>I;++I)N[I]=B.charCodeAt(S++)|B.charCodeAt(S++)<<8|B.charCodeAt(S++)<<16|B.charCodeAt(S++)<<24;else for(I=0;16>I;++I)N[I]=B[S++]|B[S++]<<8|B[S++]<<16|B[S++]<<24;B=j.g[0],S=j.g[1],I=j.g[2];var P=j.g[3],T=B+(P^S&(I^P))+N[0]+3614090360&4294967295;B=S+(T<<7&4294967295|T>>>25),T=P+(I^B&(S^I))+N[1]+3905402710&4294967295,P=B+(T<<12&4294967295|T>>>20),T=I+(S^P&(B^S))+N[2]+606105819&4294967295,I=P+(T<<17&4294967295|T>>>15),T=S+(B^I&(P^B))+N[3]+3250441966&4294967295,S=I+(T<<22&4294967295|T>>>10),T=B+(P^S&(I^P))+N[4]+4118548399&4294967295,B=S+(T<<7&4294967295|T>>>25),T=P+(I^B&(S^I))+N[5]+1200080426&4294967295,P=B+(T<<12&4294967295|T>>>20),T=I+(S^P&(B^S))+N[6]+2821735955&4294967295,I=P+(T<<17&4294967295|T>>>15),T=S+(B^I&(P^B))+N[7]+4249261313&4294967295,S=I+(T<<22&4294967295|T>>>10),T=B+(P^S&(I^P))+N[8]+1770035416&4294967295,B=S+(T<<7&4294967295|T>>>25),T=P+(I^B&(S^I))+N[9]+2336552879&4294967295,P=B+(T<<12&4294967295|T>>>20),T=I+(S^P&(B^S))+N[10]+4294925233&4294967295,I=P+(T<<17&4294967295|T>>>15),T=S+(B^I&(P^B))+N[11]+2304563134&4294967295,S=I+(T<<22&4294967295|T>>>10),T=B+(P^S&(I^P))+N[12]+1804603682&4294967295,B=S+(T<<7&4294967295|T>>>25),T=P+(I^B&(S^I))+N[13]+4254626195&4294967295,P=B+(T<<12&4294967295|T>>>20),T=I+(S^P&(B^S))+N[14]+2792965006&4294967295,I=P+(T<<17&4294967295|T>>>15),T=S+(B^I&(P^B))+N[15]+1236535329&4294967295,S=I+(T<<22&4294967295|T>>>10),T=B+(I^P&(S^I))+N[1]+4129170786&4294967295,B=S+(T<<5&4294967295|T>>>27),T=P+(S^I&(B^S))+N[6]+3225465664&4294967295,P=B+(T<<9&4294967295|T>>>23),T=I+(B^S&(P^B))+N[11]+643717713&4294967295,I=P+(T<<14&4294967295|T>>>18),T=S+(P^B&(I^P))+N[0]+3921069994&4294967295,S=I+(T<<20&4294967295|T>>>12),T=B+(I^P&(S^I))+N[5]+3593408605&4294967295,B=S+(T<<5&4294967295|T>>>27),T=P+(S^I&(B^S))+N[10]+38016083&4294967295,P=B+(T<<9&4294967295|T>>>23),T=I+(B^S&(P^B))+N[15]+3634488961&4294967295,I=P+(T<<14&4294967295|T>>>18),T=S+(P^B&(I^P))+N[4]+3889429448&4294967295,S=I+(T<<20&4294967295|T>>>12),T=B+(I^P&(S^I))+N[9]+568446438&4294967295,B=S+(T<<5&4294967295|T>>>27),T=P+(S^I&(B^S))+N[14]+3275163606&4294967295,P=B+(T<<9&4294967295|T>>>23),T=I+(B^S&(P^B))+N[3]+4107603335&4294967295,I=P+(T<<14&4294967295|T>>>18),T=S+(P^B&(I^P))+N[8]+1163531501&4294967295,S=I+(T<<20&4294967295|T>>>12),T=B+(I^P&(S^I))+N[13]+2850285829&4294967295,B=S+(T<<5&4294967295|T>>>27),T=P+(S^I&(B^S))+N[2]+4243563512&4294967295,P=B+(T<<9&4294967295|T>>>23),T=I+(B^S&(P^B))+N[7]+1735328473&4294967295,I=P+(T<<14&4294967295|T>>>18),T=S+(P^B&(I^P))+N[12]+2368359562&4294967295,S=I+(T<<20&4294967295|T>>>12),T=B+(S^I^P)+N[5]+4294588738&4294967295,B=S+(T<<4&4294967295|T>>>28),T=P+(B^S^I)+N[8]+2272392833&4294967295,P=B+(T<<11&4294967295|T>>>21),T=I+(P^B^S)+N[11]+1839030562&4294967295,I=P+(T<<16&4294967295|T>>>16),T=S+(I^P^B)+N[14]+4259657740&4294967295,S=I+(T<<23&4294967295|T>>>9),T=B+(S^I^P)+N[1]+2763975236&4294967295,B=S+(T<<4&4294967295|T>>>28),T=P+(B^S^I)+N[4]+1272893353&4294967295,P=B+(T<<11&4294967295|T>>>21),T=I+(P^B^S)+N[7]+4139469664&4294967295,I=P+(T<<16&4294967295|T>>>16),T=S+(I^P^B)+N[10]+3200236656&4294967295,S=I+(T<<23&4294967295|T>>>9),T=B+(S^I^P)+N[13]+681279174&4294967295,B=S+(T<<4&4294967295|T>>>28),T=P+(B^S^I)+N[0]+3936430074&4294967295,P=B+(T<<11&4294967295|T>>>21),T=I+(P^B^S)+N[3]+3572445317&4294967295,I=P+(T<<16&4294967295|T>>>16),T=S+(I^P^B)+N[6]+76029189&4294967295,S=I+(T<<23&4294967295|T>>>9),T=B+(S^I^P)+N[9]+3654602809&4294967295,B=S+(T<<4&4294967295|T>>>28),T=P+(B^S^I)+N[12]+3873151461&4294967295,P=B+(T<<11&4294967295|T>>>21),T=I+(P^B^S)+N[15]+530742520&4294967295,I=P+(T<<16&4294967295|T>>>16),T=S+(I^P^B)+N[2]+3299628645&4294967295,S=I+(T<<23&4294967295|T>>>9),T=B+(I^(S|~P))+N[0]+4096336452&4294967295,B=S+(T<<6&4294967295|T>>>26),T=P+(S^(B|~I))+N[7]+1126891415&4294967295,P=B+(T<<10&4294967295|T>>>22),T=I+(B^(P|~S))+N[14]+2878612391&4294967295,I=P+(T<<15&4294967295|T>>>17),T=S+(P^(I|~B))+N[5]+4237533241&4294967295,S=I+(T<<21&4294967295|T>>>11),T=B+(I^(S|~P))+N[12]+1700485571&4294967295,B=S+(T<<6&4294967295|T>>>26),T=P+(S^(B|~I))+N[3]+2399980690&4294967295,P=B+(T<<10&4294967295|T>>>22),T=I+(B^(P|~S))+N[10]+4293915773&4294967295,I=P+(T<<15&4294967295|T>>>17),T=S+(P^(I|~B))+N[1]+2240044497&4294967295,S=I+(T<<21&4294967295|T>>>11),T=B+(I^(S|~P))+N[8]+1873313359&4294967295,B=S+(T<<6&4294967295|T>>>26),T=P+(S^(B|~I))+N[15]+4264355552&4294967295,P=B+(T<<10&4294967295|T>>>22),T=I+(B^(P|~S))+N[6]+2734768916&4294967295,I=P+(T<<15&4294967295|T>>>17),T=S+(P^(I|~B))+N[13]+1309151649&4294967295,S=I+(T<<21&4294967295|T>>>11),T=B+(I^(S|~P))+N[4]+4149444226&4294967295,B=S+(T<<6&4294967295|T>>>26),T=P+(S^(B|~I))+N[11]+3174756917&4294967295,P=B+(T<<10&4294967295|T>>>22),T=I+(B^(P|~S))+N[2]+718787259&4294967295,I=P+(T<<15&4294967295|T>>>17),T=S+(P^(I|~B))+N[9]+3951481745&4294967295,j.g[0]=j.g[0]+B&4294967295,j.g[1]=j.g[1]+(I+(T<<21&4294967295|T>>>11))&4294967295,j.g[2]=j.g[2]+I&4294967295,j.g[3]=j.g[3]+P&4294967295}n.prototype.u=function(j,B){B===void 0&&(B=j.length);for(var S=B-this.blockSize,N=this.B,I=this.h,P=0;P<B;){if(I==0)for(;P<=S;)a(this,j,P),P+=this.blockSize;if(typeof j=="string"){for(;P<B;)if(N[I++]=j.charCodeAt(P++),I==this.blockSize){a(this,N),I=0;break}}else for(;P<B;)if(N[I++]=j[P++],I==this.blockSize){a(this,N),I=0;break}}this.h=I,this.o+=B},n.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var B=1;B<j.length-8;++B)j[B]=0;var S=8*this.o;for(B=j.length-8;B<j.length;++B)j[B]=S&255,S/=256;for(this.u(j),j=Array(16),B=S=0;4>B;++B)for(var N=0;32>N;N+=8)j[S++]=this.g[B]>>>N&255;return j};function s(j,B){var S=l;return Object.prototype.hasOwnProperty.call(S,j)?S[j]:S[j]=B(j)}function o(j,B){this.h=B;for(var S=[],N=!0,I=j.length-1;0<=I;I--){var P=j[I]|0;N&&P==B||(S[I]=P,N=!1)}this.g=S}var l={};function c(j){return-128<=j&&128>j?s(j,function(B){return new o([B|0],0>B?-1:0)}):new o([j|0],0>j?-1:0)}function u(j){if(isNaN(j)||!isFinite(j))return d;if(0>j)return m(u(-j));for(var B=[],S=1,N=0;j>=S;N++)B[N]=j/S|0,S*=4294967296;return new o(B,0)}function A(j,B){if(j.length==0)throw Error("number format error: empty string");if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(j.charAt(0)=="-")return m(A(j.substring(1),B));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=u(Math.pow(B,8)),N=d,I=0;I<j.length;I+=8){var P=Math.min(8,j.length-I),T=parseInt(j.substring(I,I+P),B);8>P?(P=u(Math.pow(B,P)),N=N.j(P).add(u(T))):(N=N.j(S),N=N.add(u(T)))}return N}var d=c(0),h=c(1),f=c(16777216);t=o.prototype,t.m=function(){if(g(this))return-m(this).m();for(var j=0,B=1,S=0;S<this.g.length;S++){var N=this.i(S);j+=(0<=N?N:4294967296+N)*B,B*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(p(this))return"0";if(g(this))return"-"+m(this).toString(j);for(var B=u(Math.pow(j,6)),S=this,N="";;){var I=w(S,B).g;S=x(S,I.j(B));var P=((0<S.g.length?S.g[0]:S.h)>>>0).toString(j);if(S=I,p(S))return P+N;for(;6>P.length;)P="0"+P;N=P+N}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function p(j){if(j.h!=0)return!1;for(var B=0;B<j.g.length;B++)if(j.g[B]!=0)return!1;return!0}function g(j){return j.h==-1}t.l=function(j){return j=x(this,j),g(j)?-1:p(j)?0:1};function m(j){for(var B=j.g.length,S=[],N=0;N<B;N++)S[N]=~j.g[N];return new o(S,~j.h).add(h)}t.abs=function(){return g(this)?m(this):this},t.add=function(j){for(var B=Math.max(this.g.length,j.g.length),S=[],N=0,I=0;I<=B;I++){var P=N+(this.i(I)&65535)+(j.i(I)&65535),T=(P>>>16)+(this.i(I)>>>16)+(j.i(I)>>>16);N=T>>>16,P&=65535,T&=65535,S[I]=T<<16|P}return new o(S,S[S.length-1]&-2147483648?-1:0)};function x(j,B){return j.add(m(B))}t.j=function(j){if(p(this)||p(j))return d;if(g(this))return g(j)?m(this).j(m(j)):m(m(this).j(j));if(g(j))return m(this.j(m(j)));if(0>this.l(f)&&0>j.l(f))return u(this.m()*j.m());for(var B=this.g.length+j.g.length,S=[],N=0;N<2*B;N++)S[N]=0;for(N=0;N<this.g.length;N++)for(var I=0;I<j.g.length;I++){var P=this.i(N)>>>16,T=this.i(N)&65535,U=j.i(I)>>>16,M=j.i(I)&65535;S[2*N+2*I]+=T*M,b(S,2*N+2*I),S[2*N+2*I+1]+=P*M,b(S,2*N+2*I+1),S[2*N+2*I+1]+=T*U,b(S,2*N+2*I+1),S[2*N+2*I+2]+=P*U,b(S,2*N+2*I+2)}for(N=0;N<B;N++)S[N]=S[2*N+1]<<16|S[2*N];for(N=B;N<2*B;N++)S[N]=0;return new o(S,0)};function b(j,B){for(;(j[B]&65535)!=j[B];)j[B+1]+=j[B]>>>16,j[B]&=65535,B++}function _(j,B){this.g=j,this.h=B}function w(j,B){if(p(B))throw Error("division by zero");if(p(j))return new _(d,d);if(g(j))return B=w(m(j),B),new _(m(B.g),m(B.h));if(g(B))return B=w(j,m(B)),new _(m(B.g),B.h);if(30<j.g.length){if(g(j)||g(B))throw Error("slowDivide_ only works with positive integers.");for(var S=h,N=B;0>=N.l(j);)S=C(S),N=C(N);var I=E(S,1),P=E(N,1);for(N=E(N,2),S=E(S,2);!p(N);){var T=P.add(N);0>=T.l(j)&&(I=I.add(S),P=T),N=E(N,1),S=E(S,1)}return B=x(j,I.j(B)),new _(I,B)}for(I=d;0<=j.l(B);){for(S=Math.max(1,Math.floor(j.m()/B.m())),N=Math.ceil(Math.log(S)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),P=u(S),T=P.j(B);g(T)||0<T.l(j);)S-=N,P=u(S),T=P.j(B);p(P)&&(P=h),I=I.add(P),j=x(j,T)}return new _(I,j)}t.A=function(j){return w(this,j).h},t.and=function(j){for(var B=Math.max(this.g.length,j.g.length),S=[],N=0;N<B;N++)S[N]=this.i(N)&j.i(N);return new o(S,this.h&j.h)},t.or=function(j){for(var B=Math.max(this.g.length,j.g.length),S=[],N=0;N<B;N++)S[N]=this.i(N)|j.i(N);return new o(S,this.h|j.h)},t.xor=function(j){for(var B=Math.max(this.g.length,j.g.length),S=[],N=0;N<B;N++)S[N]=this.i(N)^j.i(N);return new o(S,this.h^j.h)};function C(j){for(var B=j.g.length+1,S=[],N=0;N<B;N++)S[N]=j.i(N)<<1|j.i(N-1)>>>31;return new o(S,j.h)}function E(j,B){var S=B>>5;B%=32;for(var N=j.g.length-S,I=[],P=0;P<N;P++)I[P]=0<B?j.i(P+S)>>>B|j.i(P+S+1)<<32-B:j.i(P+S);return new o(I,j.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=A,YT=o}).apply(typeof GO<"u"?GO:typeof self<"u"?self:typeof window<"u"?window:{});var Ng=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Z$,Gh,eV,Tv,PE,tV,rV,nV;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,k,O){return y==Array.prototype||y==Object.prototype||(y[k]=O.value),y};function r(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ng=="object"&&Ng];for(var k=0;k<y.length;++k){var O=y[k];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var n=r(this);function a(y,k){if(k)e:{var O=n;y=y.split(".");for(var L=0;L<y.length-1;L++){var re=y[L];if(!(re in O))break e;O=O[re]}y=y[y.length-1],L=O[y],k=k(L),k!=L&&k!=null&&e(O,y,{configurable:!0,writable:!0,value:k})}}function s(y,k){y instanceof String&&(y+="");var O=0,L=!1,re={next:function(){if(!L&&O<y.length){var ie=O++;return{value:k(ie,y[ie]),done:!1}}return L=!0,{done:!0,value:void 0}}};return re[Symbol.iterator]=function(){return re},re}a("Array.prototype.values",function(y){return y||function(){return s(this,function(k,O){return O})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(y){var k=typeof y;return k=k!="object"?k:y?Array.isArray(y)?"array":k:"null",k=="array"||k=="object"&&typeof y.length=="number"}function u(y){var k=typeof y;return k=="object"&&y!=null||k=="function"}function A(y,k,O){return y.call.apply(y.bind,arguments)}function d(y,k,O){if(!y)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var re=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(re,L),y.apply(k,re)}}return function(){return y.apply(k,arguments)}}function h(y,k,O){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:d,h.apply(null,arguments)}function f(y,k){var O=Array.prototype.slice.call(arguments,1);return function(){var L=O.slice();return L.push.apply(L,arguments),y.apply(this,L)}}function p(y,k){function O(){}O.prototype=k.prototype,y.aa=k.prototype,y.prototype=new O,y.prototype.constructor=y,y.Qb=function(L,re,ie){for(var Te=Array(arguments.length-2),lr=2;lr<arguments.length;lr++)Te[lr-2]=arguments[lr];return k.prototype[re].apply(L,Te)}}function g(y){const k=y.length;if(0<k){const O=Array(k);for(let L=0;L<k;L++)O[L]=y[L];return O}return[]}function m(y,k){for(let O=1;O<arguments.length;O++){const L=arguments[O];if(c(L)){const re=y.length||0,ie=L.length||0;y.length=re+ie;for(let Te=0;Te<ie;Te++)y[re+Te]=L[Te]}else y.push(L)}}class x{constructor(k,O){this.i=k,this.j=O,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function b(y){return/^[\s\xa0]*$/.test(y)}function _(){var y=l.navigator;return y&&(y=y.userAgent)?y:""}function w(y){return w[" "](y),y}w[" "]=function(){};var C=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function E(y,k,O){for(const L in y)k.call(O,y[L],L,y)}function j(y,k){for(const O in y)k.call(void 0,y[O],O,y)}function B(y){const k={};for(const O in y)k[O]=y[O];return k}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(y,k){let O,L;for(let re=1;re<arguments.length;re++){L=arguments[re];for(O in L)y[O]=L[O];for(let ie=0;ie<S.length;ie++)O=S[ie],Object.prototype.hasOwnProperty.call(L,O)&&(y[O]=L[O])}}function I(y){var k=1;y=y.split(":");const O=[];for(;0<k&&y.length;)O.push(y.shift()),k--;return y.length&&O.push(y.join(":")),O}function P(y){l.setTimeout(()=>{throw y},0)}function T(){var y=Q;let k=null;return y.g&&(k=y.g,y.g=y.g.next,y.g||(y.h=null),k.next=null),k}class U{constructor(){this.h=this.g=null}add(k,O){const L=M.get();L.set(k,O),this.h?this.h.next=L:this.g=L,this.h=L}}var M=new x(()=>new R,y=>y.reset());class R{constructor(){this.next=this.g=this.h=null}set(k,O){this.h=k,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let F,D=!1,Q=new U,H=()=>{const y=l.Promise.resolve(void 0);F=()=>{y.then(G)}};var G=()=>{for(var y;y=T();){try{y.h.call(y.g)}catch(O){P(O)}var k=M;k.j(y),100>k.h&&(k.h++,y.next=k.g,k.g=y)}D=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(y,k){this.type=y,this.g=this.target=k,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var y=!1,k=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const O=()=>{};l.addEventListener("test",O,k),l.removeEventListener("test",O,k)}catch{}return y}();function q(y,k){if(te.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var O=this.type=y.type,L=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=k,k=y.relatedTarget){if(C){e:{try{w(k.nodeName);var re=!0;break e}catch{}re=!1}re||(k=null)}}else O=="mouseover"?k=y.fromElement:O=="mouseout"&&(k=y.toElement);this.relatedTarget=k,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:se[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&q.aa.h.call(this)}}p(q,te);var se={2:"touch",3:"pen",4:"mouse"};q.prototype.h=function(){q.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Ae="closure_listenable_"+(1e6*Math.random()|0),oe=0;function ce(y,k,O,L,re){this.listener=y,this.proxy=null,this.src=k,this.type=O,this.capture=!!L,this.ha=re,this.key=++oe,this.da=this.fa=!1}function fe(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function je(y){this.src=y,this.g={},this.h=0}je.prototype.add=function(y,k,O,L,re){var ie=y.toString();y=this.g[ie],y||(y=this.g[ie]=[],this.h++);var Te=ve(y,k,L,re);return-1<Te?(k=y[Te],O||(k.fa=!1)):(k=new ce(k,this.src,ie,!!L,re),k.fa=O,y.push(k)),k};function z(y,k){var O=k.type;if(O in y.g){var L=y.g[O],re=Array.prototype.indexOf.call(L,k,void 0),ie;(ie=0<=re)&&Array.prototype.splice.call(L,re,1),ie&&(fe(k),y.g[O].length==0&&(delete y.g[O],y.h--))}}function ve(y,k,O,L){for(var re=0;re<y.length;++re){var ie=y[re];if(!ie.da&&ie.listener==k&&ie.capture==!!O&&ie.ha==L)return re}return-1}var Ie="closure_lm_"+(1e6*Math.random()|0),qe={};function Xe(y,k,O,L,re){if(Array.isArray(k)){for(var ie=0;ie<k.length;ie++)Xe(y,k[ie],O,L,re);return null}return O=At(O),y&&y[Ae]?y.K(k,O,u(L)?!!L.capture:!1,re):Bt(y,k,O,!1,L,re)}function Bt(y,k,O,L,re,ie){if(!k)throw Error("Invalid event type");var Te=u(re)?!!re.capture:!!re,lr=ye(y);if(lr||(y[Ie]=lr=new je(y)),O=lr.add(k,O,L,Te,ie),O.proxy)return O;if(L=K(),O.proxy=L,L.src=y,L.listener=O,y.addEventListener)Z||(re=Te),re===void 0&&(re=!1),y.addEventListener(k.toString(),L,re);else if(y.attachEvent)y.attachEvent(_e(k.toString()),L);else if(y.addListener&&y.removeListener)y.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return O}function K(){function y(O){return k.call(y.src,y.listener,O)}const k=Ee;return y}function ee(y,k,O,L,re){if(Array.isArray(k))for(var ie=0;ie<k.length;ie++)ee(y,k[ie],O,L,re);else L=u(L)?!!L.capture:!!L,O=At(O),y&&y[Ae]?(y=y.i,k=String(k).toString(),k in y.g&&(ie=y.g[k],O=ve(ie,O,L,re),-1<O&&(fe(ie[O]),Array.prototype.splice.call(ie,O,1),ie.length==0&&(delete y.g[k],y.h--)))):y&&(y=ye(y))&&(k=y.g[k.toString()],y=-1,k&&(y=ve(k,O,L,re)),(O=-1<y?k[y]:null)&&ae(O))}function ae(y){if(typeof y!="number"&&y&&!y.da){var k=y.src;if(k&&k[Ae])z(k.i,y);else{var O=y.type,L=y.proxy;k.removeEventListener?k.removeEventListener(O,L,y.capture):k.detachEvent?k.detachEvent(_e(O),L):k.addListener&&k.removeListener&&k.removeListener(L),(O=ye(k))?(z(O,y),O.h==0&&(O.src=null,k[Ie]=null)):fe(y)}}}function _e(y){return y in qe?qe[y]:qe[y]="on"+y}function Ee(y,k){if(y.da)y=!0;else{k=new q(k,this);var O=y.listener,L=y.ha||y.src;y.fa&&ae(y),y=O.call(L,k)}return y}function ye(y){return y=y[Ie],y instanceof je?y:null}var We="__closure_events_fn_"+(1e9*Math.random()>>>0);function At(y){return typeof y=="function"?y:(y[We]||(y[We]=function(k){return y.handleEvent(k)}),y[We])}function rt(){X.call(this),this.i=new je(this),this.M=this,this.F=null}p(rt,X),rt.prototype[Ae]=!0,rt.prototype.removeEventListener=function(y,k,O,L){ee(this,y,k,O,L)};function dt(y,k){var O,L=y.F;if(L)for(O=[];L;L=L.F)O.push(L);if(y=y.M,L=k.type||k,typeof k=="string")k=new te(k,y);else if(k instanceof te)k.target=k.target||y;else{var re=k;k=new te(L,y),N(k,re)}if(re=!0,O)for(var ie=O.length-1;0<=ie;ie--){var Te=k.g=O[ie];re=$n(Te,L,!0,k)&&re}if(Te=k.g=y,re=$n(Te,L,!0,k)&&re,re=$n(Te,L,!1,k)&&re,O)for(ie=0;ie<O.length;ie++)Te=k.g=O[ie],re=$n(Te,L,!1,k)&&re}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var y=this.i,k;for(k in y.g){for(var O=y.g[k],L=0;L<O.length;L++)fe(O[L]);delete y.g[k],y.h--}}this.F=null},rt.prototype.K=function(y,k,O,L){return this.i.add(String(y),k,!1,O,L)},rt.prototype.L=function(y,k,O,L){return this.i.add(String(y),k,!0,O,L)};function $n(y,k,O,L){if(k=y.i.g[String(k)],!k)return!0;k=k.concat();for(var re=!0,ie=0;ie<k.length;++ie){var Te=k[ie];if(Te&&!Te.da&&Te.capture==O){var lr=Te.listener,ln=Te.ha||Te.src;Te.fa&&z(y.i,Te),re=lr.call(ln,L)!==!1&&re}}return re&&!L.defaultPrevented}function rs(y,k,O){if(typeof y=="function")O&&(y=h(y,O));else if(y&&typeof y.handleEvent=="function")y=h(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:l.setTimeout(y,k||0)}function gi(y){y.g=rs(()=>{y.g=null,y.i&&(y.i=!1,gi(y))},y.l);const k=y.h;y.h=null,y.m.apply(null,k)}class Ql extends X{constructor(k,O){super(),this.m=k,this.l=O,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:gi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Os(y){X.call(this),this.h=y,this.g={}}p(Os,X);var co=[];function uu(y){E(y.g,function(k,O){this.g.hasOwnProperty(O)&&ae(k)},y),y.g={}}Os.prototype.N=function(){Os.aa.N.call(this),uu(this)},Os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fs=l.JSON.stringify,Ds=l.JSON.parse,Gb=class{stringify(y){return l.JSON.stringify(y,void 0)}parse(y){return l.JSON.parse(y,void 0)}};function ft(){}ft.prototype.h=null;function tr(y){return y.h||(y.h=y.i())}function Yt(){}var Cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function aa(){te.call(this,"d")}p(aa,te);function uo(){te.call(this,"c")}p(uo,te);var vi={},TP=null;function tg(){return TP=TP||new rt}vi.La="serverreachability";function kP(y){te.call(this,vi.La,y)}p(kP,te);function rh(y){const k=tg();dt(k,new kP(k))}vi.STAT_EVENT="statevent";function IP(y,k){te.call(this,vi.STAT_EVENT,y),this.stat=k}p(IP,te);function Vn(y){const k=tg();dt(k,new IP(k,y))}vi.Ma="timingevent";function PP(y,k){te.call(this,vi.Ma,y),this.size=k}p(PP,te);function nh(y,k){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){y()},k)}function ah(){this.g=!0}ah.prototype.xa=function(){this.g=!1};function fY(y,k,O,L,re,ie){y.info(function(){if(y.g)if(ie)for(var Te="",lr=ie.split("&"),ln=0;ln<lr.length;ln++){var Ht=lr[ln].split("=");if(1<Ht.length){var Bn=Ht[0];Ht=Ht[1];var En=Bn.split("_");Te=2<=En.length&&En[1]=="type"?Te+(Bn+"="+Ht+"&"):Te+(Bn+"=redacted&")}}else Te=null;else Te=ie;return"XMLHTTP REQ ("+L+") [attempt "+re+"]: "+k+`
`+O+`
`+Te})}function mY(y,k,O,L,re,ie,Te){y.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+re+"]: "+k+`
`+O+`
`+ie+" "+Te})}function Au(y,k,O,L){y.info(function(){return"XMLHTTP TEXT ("+k+"): "+gY(y,O)+(L?" "+L:"")})}function pY(y,k){y.info(function(){return"TIMEOUT: "+k})}ah.prototype.info=function(){};function gY(y,k){if(!y.g)return k;if(!k)return null;try{var O=JSON.parse(k);if(O){for(y=0;y<O.length;y++)if(Array.isArray(O[y])){var L=O[y];if(!(2>L.length)){var re=L[1];if(Array.isArray(re)&&!(1>re.length)){var ie=re[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var Te=1;Te<re.length;Te++)re[Te]=""}}}}return Fs(O)}catch{return k}}var rg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},OP={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zb;function ng(){}p(ng,ft),ng.prototype.g=function(){return new XMLHttpRequest},ng.prototype.i=function(){return{}},zb=new ng;function Ao(y,k,O,L){this.j=y,this.i=k,this.l=O,this.R=L||1,this.U=new Os(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new FP}function FP(){this.i=null,this.g="",this.h=!1}var DP={},Wb={};function Xb(y,k,O){y.L=1,y.v=og(yi(k)),y.m=O,y.P=!0,RP(y,null)}function RP(y,k){y.F=Date.now(),ag(y),y.A=yi(y.v);var O=y.A,L=y.R;Array.isArray(L)||(L=[String(L)]),JP(O.i,"t",L),y.C=0,O=y.j.J,y.h=new FP,y.g=m2(y.j,O?k:null,!y.m),0<y.O&&(y.M=new Ql(h(y.Y,y,y.g),y.O)),k=y.U,O=y.g,L=y.ca;var re="readystatechange";Array.isArray(re)||(re&&(co[0]=re.toString()),re=co);for(var ie=0;ie<re.length;ie++){var Te=Xe(O,re[ie],L||k.handleEvent,!1,k.h||k);if(!Te)break;k.g[Te.key]=Te}k=y.H?B(y.H):{},y.m?(y.u||(y.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,k)):(y.u="GET",y.g.ea(y.A,y.u,null,k)),rh(),fY(y.i,y.u,y.A,y.l,y.R,y.m)}Ao.prototype.ca=function(y){y=y.target;const k=this.M;k&&xi(y)==3?k.j():this.Y(y)},Ao.prototype.Y=function(y){try{if(y==this.g)e:{const En=xi(this.g);var k=this.g.Ba();const fu=this.g.Z();if(!(3>En)&&(En!=3||this.g&&(this.h.h||this.g.oa()||a2(this.g)))){this.J||En!=4||k==7||(k==8||0>=fu?rh(3):rh(2)),Jb(this);var O=this.g.Z();this.X=O;t:if(UP(this)){var L=a2(this.g);y="";var re=L.length,ie=xi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ll(this),sh(this);var Te="";break t}this.h.i=new l.TextDecoder}for(k=0;k<re;k++)this.h.h=!0,y+=this.h.i.decode(L[k],{stream:!(ie&&k==re-1)});L.length=0,this.h.g+=y,this.C=0,Te=this.h.g}else Te=this.g.oa();if(this.o=O==200,mY(this.i,this.u,this.A,this.l,this.R,En,O),this.o){if(this.T&&!this.K){t:{if(this.g){var lr,ln=this.g;if((lr=ln.g?ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(lr)){var Ht=lr;break t}}Ht=null}if(O=Ht)Au(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yb(this,O);else{this.o=!1,this.s=3,Vn(12),Ll(this),sh(this);break e}}if(this.P){O=!0;let ns;for(;!this.J&&this.C<Te.length;)if(ns=vY(this,Te),ns==Wb){En==4&&(this.s=4,Vn(14),O=!1),Au(this.i,this.l,null,"[Incomplete Response]");break}else if(ns==DP){this.s=4,Vn(15),Au(this.i,this.l,Te,"[Invalid Chunk]"),O=!1;break}else Au(this.i,this.l,ns,null),Yb(this,ns);if(UP(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),En!=4||Te.length!=0||this.h.h||(this.s=1,Vn(16),O=!1),this.o=this.o&&O,!O)Au(this.i,this.l,Te,"[Invalid Chunked Response]"),Ll(this),sh(this);else if(0<Te.length&&!this.W){this.W=!0;var Bn=this.j;Bn.g==this&&Bn.ba&&!Bn.M&&(Bn.j.info("Great, no buffering proxy detected. Bytes received: "+Te.length),aw(Bn),Bn.M=!0,Vn(11))}}else Au(this.i,this.l,Te,null),Yb(this,Te);En==4&&Ll(this),this.o&&!this.J&&(En==4?A2(this.j,this):(this.o=!1,ag(this)))}else FY(this.g),O==400&&0<Te.indexOf("Unknown SID")?(this.s=3,Vn(12)):(this.s=0,Vn(13)),Ll(this),sh(this)}}}catch{}finally{}};function UP(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function vY(y,k){var O=y.C,L=k.indexOf(`
`,O);return L==-1?Wb:(O=Number(k.substring(O,L)),isNaN(O)?DP:(L+=1,L+O>k.length?Wb:(k=k.slice(L,L+O),y.C=L+O,k)))}Ao.prototype.cancel=function(){this.J=!0,Ll(this)};function ag(y){y.S=Date.now()+y.I,MP(y,y.I)}function MP(y,k){if(y.B!=null)throw Error("WatchDog timer not null");y.B=nh(h(y.ba,y),k)}function Jb(y){y.B&&(l.clearTimeout(y.B),y.B=null)}Ao.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(pY(this.i,this.A),this.L!=2&&(rh(),Vn(17)),Ll(this),this.s=2,sh(this)):MP(this,this.S-y)};function sh(y){y.j.G==0||y.J||A2(y.j,y)}function Ll(y){Jb(y);var k=y.M;k&&typeof k.ma=="function"&&k.ma(),y.M=null,uu(y.U),y.g&&(k=y.g,y.g=null,k.abort(),k.ma())}function Yb(y,k){try{var O=y.j;if(O.G!=0&&(O.g==y||Zb(O.h,y))){if(!y.K&&Zb(O.h,y)&&O.G==3){try{var L=O.Da.g.parse(k)}catch{L=null}if(Array.isArray(L)&&L.length==3){var re=L;if(re[0]==0){e:if(!O.u){if(O.g)if(O.g.F+3e3<y.F)hg(O),Ag(O);else break e;nw(O),Vn(18)}}else O.za=re[1],0<O.za-O.T&&37500>re[2]&&O.F&&O.v==0&&!O.C&&(O.C=nh(h(O.Za,O),6e3));if(1>=HP(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else $l(O,11)}else if((y.K||O.g==y)&&hg(O),!b(k))for(re=O.Da.g.parse(k),k=0;k<re.length;k++){let Ht=re[k];if(O.T=Ht[0],Ht=Ht[1],O.G==2)if(Ht[0]=="c"){O.K=Ht[1],O.ia=Ht[2];const Bn=Ht[3];Bn!=null&&(O.la=Bn,O.j.info("VER="+O.la));const En=Ht[4];En!=null&&(O.Aa=En,O.j.info("SVER="+O.Aa));const fu=Ht[5];fu!=null&&typeof fu=="number"&&0<fu&&(L=1.5*fu,O.L=L,O.j.info("backChannelRequestTimeoutMs_="+L)),L=O;const ns=y.g;if(ns){const mg=ns.g?ns.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mg){var ie=L.h;ie.g||mg.indexOf("spdy")==-1&&mg.indexOf("quic")==-1&&mg.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(ew(ie,ie.h),ie.h=null))}if(L.D){const sw=ns.g?ns.g.getResponseHeader("X-HTTP-Session-Id"):null;sw&&(L.ya=sw,vr(L.I,L.D,sw))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-y.F,O.j.info("Handshake RTT: "+O.R+"ms")),L=O;var Te=y;if(L.qa=f2(L,L.J?L.ia:null,L.W),Te.K){$P(L.h,Te);var lr=Te,ln=L.L;ln&&(lr.I=ln),lr.B&&(Jb(lr),ag(lr)),L.g=Te}else c2(L);0<O.i.length&&dg(O)}else Ht[0]!="stop"&&Ht[0]!="close"||$l(O,7);else O.G==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?$l(O,7):rw(O):Ht[0]!="noop"&&O.l&&O.l.ta(Ht),O.v=0)}}rh(4)}catch{}}var yY=class{constructor(y,k){this.g=y,this.map=k}};function QP(y){this.l=y||10,l.PerformanceNavigationTiming?(y=l.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function LP(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function HP(y){return y.h?1:y.g?y.g.size:0}function Zb(y,k){return y.h?y.h==k:y.g?y.g.has(k):!1}function ew(y,k){y.g?y.g.add(k):y.h=k}function $P(y,k){y.h&&y.h==k?y.h=null:y.g&&y.g.has(k)&&y.g.delete(k)}QP.prototype.cancel=function(){if(this.i=VP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function VP(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let k=y.i;for(const O of y.g.values())k=k.concat(O.D);return k}return g(y.i)}function xY(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(c(y)){for(var k=[],O=y.length,L=0;L<O;L++)k.push(y[L]);return k}k=[],O=0;for(L in y)k[O++]=y[L];return k}function bY(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(c(y)||typeof y=="string"){var k=[];y=y.length;for(var O=0;O<y;O++)k.push(O);return k}k=[],O=0;for(const L in y)k[O++]=L;return k}}}function KP(y,k){if(y.forEach&&typeof y.forEach=="function")y.forEach(k,void 0);else if(c(y)||typeof y=="string")Array.prototype.forEach.call(y,k,void 0);else for(var O=bY(y),L=xY(y),re=L.length,ie=0;ie<re;ie++)k.call(void 0,L[ie],O&&O[ie],y)}var qP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wY(y,k){if(y){y=y.split("&");for(var O=0;O<y.length;O++){var L=y[O].indexOf("="),re=null;if(0<=L){var ie=y[O].substring(0,L);re=y[O].substring(L+1)}else ie=y[O];k(ie,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function Hl(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof Hl){this.h=y.h,sg(this,y.j),this.o=y.o,this.g=y.g,ig(this,y.s),this.l=y.l;var k=y.i,O=new lh;O.i=k.i,k.g&&(O.g=new Map(k.g),O.h=k.h),GP(this,O),this.m=y.m}else y&&(k=String(y).match(qP))?(this.h=!1,sg(this,k[1]||"",!0),this.o=ih(k[2]||""),this.g=ih(k[3]||"",!0),ig(this,k[4]),this.l=ih(k[5]||"",!0),GP(this,k[6]||"",!0),this.m=ih(k[7]||"")):(this.h=!1,this.i=new lh(null,this.h))}Hl.prototype.toString=function(){var y=[],k=this.j;k&&y.push(oh(k,zP,!0),":");var O=this.g;return(O||k=="file")&&(y.push("//"),(k=this.o)&&y.push(oh(k,zP,!0),"@"),y.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.s,O!=null&&y.push(":",String(O))),(O=this.l)&&(this.g&&O.charAt(0)!="/"&&y.push("/"),y.push(oh(O,O.charAt(0)=="/"?CY:_Y,!0))),(O=this.i.toString())&&y.push("?",O),(O=this.m)&&y.push("#",oh(O,EY)),y.join("")};function yi(y){return new Hl(y)}function sg(y,k,O){y.j=O?ih(k,!0):k,y.j&&(y.j=y.j.replace(/:$/,""))}function ig(y,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);y.s=k}else y.s=null}function GP(y,k,O){k instanceof lh?(y.i=k,SY(y.i,y.h)):(O||(k=oh(k,BY)),y.i=new lh(k,y.h))}function vr(y,k,O){y.i.set(k,O)}function og(y){return vr(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function ih(y,k){return y?k?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function oh(y,k,O){return typeof y=="string"?(y=encodeURI(y).replace(k,jY),O&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function jY(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var zP=/[#\/\?@]/g,_Y=/[#\?:]/g,CY=/[#\?]/g,BY=/[#\?@]/g,EY=/#/g;function lh(y,k){this.h=this.g=null,this.i=y||null,this.j=!!k}function ho(y){y.g||(y.g=new Map,y.h=0,y.i&&wY(y.i,function(k,O){y.add(decodeURIComponent(k.replace(/\+/g," ")),O)}))}t=lh.prototype,t.add=function(y,k){ho(this),this.i=null,y=du(this,y);var O=this.g.get(y);return O||this.g.set(y,O=[]),O.push(k),this.h+=1,this};function WP(y,k){ho(y),k=du(y,k),y.g.has(k)&&(y.i=null,y.h-=y.g.get(k).length,y.g.delete(k))}function XP(y,k){return ho(y),k=du(y,k),y.g.has(k)}t.forEach=function(y,k){ho(this),this.g.forEach(function(O,L){O.forEach(function(re){y.call(k,re,L,this)},this)},this)},t.na=function(){ho(this);const y=Array.from(this.g.values()),k=Array.from(this.g.keys()),O=[];for(let L=0;L<k.length;L++){const re=y[L];for(let ie=0;ie<re.length;ie++)O.push(k[L])}return O},t.V=function(y){ho(this);let k=[];if(typeof y=="string")XP(this,y)&&(k=k.concat(this.g.get(du(this,y))));else{y=Array.from(this.g.values());for(let O=0;O<y.length;O++)k=k.concat(y[O])}return k},t.set=function(y,k){return ho(this),this.i=null,y=du(this,y),XP(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[k]),this.h+=1,this},t.get=function(y,k){return y?(y=this.V(y),0<y.length?String(y[0]):k):k};function JP(y,k,O){WP(y,k),0<O.length&&(y.i=null,y.g.set(du(y,k),g(O)),y.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],k=Array.from(this.g.keys());for(var O=0;O<k.length;O++){var L=k[O];const ie=encodeURIComponent(String(L)),Te=this.V(L);for(L=0;L<Te.length;L++){var re=ie;Te[L]!==""&&(re+="="+encodeURIComponent(String(Te[L]))),y.push(re)}}return this.i=y.join("&")};function du(y,k){return k=String(k),y.j&&(k=k.toLowerCase()),k}function SY(y,k){k&&!y.j&&(ho(y),y.i=null,y.g.forEach(function(O,L){var re=L.toLowerCase();L!=re&&(WP(this,L),JP(this,re,O))},y)),y.j=k}function NY(y,k){const O=new ah;if(l.Image){const L=new Image;L.onload=f(fo,O,"TestLoadImage: loaded",!0,k,L),L.onerror=f(fo,O,"TestLoadImage: error",!1,k,L),L.onabort=f(fo,O,"TestLoadImage: abort",!1,k,L),L.ontimeout=f(fo,O,"TestLoadImage: timeout",!1,k,L),l.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=y}else k(!1)}function TY(y,k){const O=new ah,L=new AbortController,re=setTimeout(()=>{L.abort(),fo(O,"TestPingServer: timeout",!1,k)},1e4);fetch(y,{signal:L.signal}).then(ie=>{clearTimeout(re),ie.ok?fo(O,"TestPingServer: ok",!0,k):fo(O,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(re),fo(O,"TestPingServer: error",!1,k)})}function fo(y,k,O,L,re){try{re&&(re.onload=null,re.onerror=null,re.onabort=null,re.ontimeout=null),L(O)}catch{}}function kY(){this.g=new Gb}function IY(y,k,O){const L=O||"";try{KP(y,function(re,ie){let Te=re;u(re)&&(Te=Fs(re)),k.push(L+ie+"="+encodeURIComponent(Te))})}catch(re){throw k.push(L+"type="+encodeURIComponent("_badmap")),re}}function lg(y){this.l=y.Ub||null,this.j=y.eb||!1}p(lg,ft),lg.prototype.g=function(){return new cg(this.l,this.j)},lg.prototype.i=function(y){return function(){return y}}({});function cg(y,k){rt.call(this),this.D=y,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(cg,rt),t=cg.prototype,t.open=function(y,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=k,this.readyState=1,uh(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(k.body=y),(this.D||l).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ch(this)),this.readyState=0},t.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,uh(this)),this.g&&(this.readyState=3,uh(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;YP(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function YP(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}t.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var k=y.value?y.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!y.done}))&&(this.response=this.responseText+=k)}y.done?ch(this):uh(this),this.readyState==3&&YP(this)}},t.Ra=function(y){this.g&&(this.response=this.responseText=y,ch(this))},t.Qa=function(y){this.g&&(this.response=y,ch(this))},t.ga=function(){this.g&&ch(this)};function ch(y){y.readyState=4,y.l=null,y.j=null,y.v=null,uh(y)}t.setRequestHeader=function(y,k){this.u.append(y,k)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],k=this.h.entries();for(var O=k.next();!O.done;)O=O.value,y.push(O[0]+": "+O[1]),O=k.next();return y.join(`\r
`)};function uh(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(cg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function ZP(y){let k="";return E(y,function(O,L){k+=L,k+=":",k+=O,k+=`\r
`}),k}function tw(y,k,O){e:{for(L in O){var L=!1;break e}L=!0}L||(O=ZP(O),typeof y=="string"?O!=null&&encodeURIComponent(String(O)):vr(y,k,O))}function Br(y){rt.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(Br,rt);var PY=/^https?$/i,OY=["POST","PUT"];t=Br.prototype,t.Ha=function(y){this.J=y},t.ea=function(y,k,O,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);k=k?k.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zb.g(),this.v=this.o?tr(this.o):tr(zb),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(k,String(y),!0),this.B=!1}catch(ie){e2(this,ie);return}if(y=O||"",O=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var re in L)O.set(re,L[re]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const ie of L.keys())O.set(ie,L.get(ie));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(O.keys()).find(ie=>ie.toLowerCase()=="content-type"),re=l.FormData&&y instanceof l.FormData,!(0<=Array.prototype.indexOf.call(OY,k,void 0))||L||re||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,Te]of O)this.g.setRequestHeader(ie,Te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{n2(this),this.u=!0,this.g.send(y),this.u=!1}catch(ie){e2(this,ie)}};function e2(y,k){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=k,y.m=5,t2(y),ug(y)}function t2(y){y.A||(y.A=!0,dt(y,"complete"),dt(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,dt(this,"complete"),dt(this,"abort"),ug(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ug(this,!0)),Br.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?r2(this):this.bb())},t.bb=function(){r2(this)};function r2(y){if(y.h&&typeof o<"u"&&(!y.v[1]||xi(y)!=4||y.Z()!=2)){if(y.u&&xi(y)==4)rs(y.Ea,0,y);else if(dt(y,"readystatechange"),xi(y)==4){y.h=!1;try{const Te=y.Z();e:switch(Te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var O;if(!(O=k)){var L;if(L=Te===0){var re=String(y.D).match(qP)[1]||null;!re&&l.self&&l.self.location&&(re=l.self.location.protocol.slice(0,-1)),L=!PY.test(re?re.toLowerCase():"")}O=L}if(O)dt(y,"complete"),dt(y,"success");else{y.m=6;try{var ie=2<xi(y)?y.g.statusText:""}catch{ie=""}y.l=ie+" ["+y.Z()+"]",t2(y)}}finally{ug(y)}}}}function ug(y,k){if(y.g){n2(y);const O=y.g,L=y.v[0]?()=>{}:null;y.g=null,y.v=null,k||dt(y,"ready");try{O.onreadystatechange=L}catch{}}}function n2(y){y.I&&(l.clearTimeout(y.I),y.I=null)}t.isActive=function(){return!!this.g};function xi(y){return y.g?y.g.readyState:0}t.Z=function(){try{return 2<xi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(y){if(this.g){var k=this.g.responseText;return y&&k.indexOf(y)==0&&(k=k.substring(y.length)),Ds(k)}};function a2(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function FY(y){const k={};y=(y.g&&2<=xi(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<y.length;L++){if(b(y[L]))continue;var O=I(y[L]);const re=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const ie=k[re]||[];k[re]=ie,ie.push(O)}j(k,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ah(y,k,O){return O&&O.internalChannelParams&&O.internalChannelParams[y]||k}function s2(y){this.Aa=0,this.i=[],this.j=new ah,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ah("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ah("baseRetryDelayMs",5e3,y),this.cb=Ah("retryDelaySeedMs",1e4,y),this.Wa=Ah("forwardChannelMaxRetries",2,y),this.wa=Ah("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new QP(y&&y.concurrentRequestLimit),this.Da=new kY,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=s2.prototype,t.la=8,t.G=1,t.connect=function(y,k,O,L){Vn(0),this.W=y,this.H=k||{},O&&L!==void 0&&(this.H.OSID=O,this.H.OAID=L),this.F=this.X,this.I=f2(this,null,this.W),dg(this)};function rw(y){if(i2(y),y.G==3){var k=y.U++,O=yi(y.I);if(vr(O,"SID",y.K),vr(O,"RID",k),vr(O,"TYPE","terminate"),dh(y,O),k=new Ao(y,y.j,k),k.L=2,k.v=og(yi(O)),O=!1,l.navigator&&l.navigator.sendBeacon)try{O=l.navigator.sendBeacon(k.v.toString(),"")}catch{}!O&&l.Image&&(new Image().src=k.v,O=!0),O||(k.g=m2(k.j,null),k.g.ea(k.v)),k.F=Date.now(),ag(k)}h2(y)}function Ag(y){y.g&&(aw(y),y.g.cancel(),y.g=null)}function i2(y){Ag(y),y.u&&(l.clearTimeout(y.u),y.u=null),hg(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&l.clearTimeout(y.s),y.s=null)}function dg(y){if(!LP(y.h)&&!y.s){y.s=!0;var k=y.Ga;F||H(),D||(F(),D=!0),Q.add(k,y),y.B=0}}function DY(y,k){return HP(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=k.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=nh(h(y.Ga,y,k),d2(y,y.B)),y.B++,!0)}t.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const re=new Ao(this,this.j,y);let ie=this.o;if(this.S&&(ie?(ie=B(ie),N(ie,this.S)):ie=this.S),this.m!==null||this.O||(re.H=ie,ie=null),this.P)e:{for(var k=0,O=0;O<this.i.length;O++){t:{var L=this.i[O];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(k+=L,4096<k){k=O;break e}if(k===4096||O===this.i.length-1){k=O+1;break e}}k=1e3}else k=1e3;k=l2(this,re,k),O=yi(this.I),vr(O,"RID",y),vr(O,"CVER",22),this.D&&vr(O,"X-HTTP-Session-Id",this.D),dh(this,O),ie&&(this.O?k="headers="+encodeURIComponent(String(ZP(ie)))+"&"+k:this.m&&tw(O,this.m,ie)),ew(this.h,re),this.Ua&&vr(O,"TYPE","init"),this.P?(vr(O,"$req",k),vr(O,"SID","null"),re.T=!0,Xb(re,O,null)):Xb(re,O,k),this.G=2}}else this.G==3&&(y?o2(this,y):this.i.length==0||LP(this.h)||o2(this))};function o2(y,k){var O;k?O=k.l:O=y.U++;const L=yi(y.I);vr(L,"SID",y.K),vr(L,"RID",O),vr(L,"AID",y.T),dh(y,L),y.m&&y.o&&tw(L,y.m,y.o),O=new Ao(y,y.j,O,y.B+1),y.m===null&&(O.H=y.o),k&&(y.i=k.D.concat(y.i)),k=l2(y,O,1e3),O.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),ew(y.h,O),Xb(O,L,k)}function dh(y,k){y.H&&E(y.H,function(O,L){vr(k,L,O)}),y.l&&KP({},function(O,L){vr(k,L,O)})}function l2(y,k,O){O=Math.min(y.i.length,O);var L=y.l?h(y.l.Na,y.l,y):null;e:{var re=y.i;let ie=-1;for(;;){const Te=["count="+O];ie==-1?0<O?(ie=re[0].g,Te.push("ofs="+ie)):ie=0:Te.push("ofs="+ie);let lr=!0;for(let ln=0;ln<O;ln++){let Ht=re[ln].g;const Bn=re[ln].map;if(Ht-=ie,0>Ht)ie=Math.max(0,re[ln].g-100),lr=!1;else try{IY(Bn,Te,"req"+Ht+"_")}catch{L&&L(Bn)}}if(lr){L=Te.join("&");break e}}}return y=y.i.splice(0,O),k.D=y,L}function c2(y){if(!y.g&&!y.u){y.Y=1;var k=y.Fa;F||H(),D||(F(),D=!0),Q.add(k,y),y.v=0}}function nw(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=nh(h(y.Fa,y),d2(y,y.v)),y.v++,!0)}t.Fa=function(){if(this.u=null,u2(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=nh(h(this.ab,this),y)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vn(10),Ag(this),u2(this))};function aw(y){y.A!=null&&(l.clearTimeout(y.A),y.A=null)}function u2(y){y.g=new Ao(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var k=yi(y.qa);vr(k,"RID","rpc"),vr(k,"SID",y.K),vr(k,"AID",y.T),vr(k,"CI",y.F?"0":"1"),!y.F&&y.ja&&vr(k,"TO",y.ja),vr(k,"TYPE","xmlhttp"),dh(y,k),y.m&&y.o&&tw(k,y.m,y.o),y.L&&(y.g.I=y.L);var O=y.g;y=y.ia,O.L=1,O.v=og(yi(k)),O.m=null,O.P=!0,RP(O,y)}t.Za=function(){this.C!=null&&(this.C=null,Ag(this),nw(this),Vn(19))};function hg(y){y.C!=null&&(l.clearTimeout(y.C),y.C=null)}function A2(y,k){var O=null;if(y.g==k){hg(y),aw(y),y.g=null;var L=2}else if(Zb(y.h,k))O=k.D,$P(y.h,k),L=1;else return;if(y.G!=0){if(k.o)if(L==1){O=k.m?k.m.length:0,k=Date.now()-k.F;var re=y.B;L=tg(),dt(L,new PP(L,O)),dg(y)}else c2(y);else if(re=k.s,re==3||re==0&&0<k.X||!(L==1&&DY(y,k)||L==2&&nw(y)))switch(O&&0<O.length&&(k=y.h,k.i=k.i.concat(O)),re){case 1:$l(y,5);break;case 4:$l(y,10);break;case 3:$l(y,6);break;default:$l(y,2)}}}function d2(y,k){let O=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(O*=2),O*k}function $l(y,k){if(y.j.info("Error code "+k),k==2){var O=h(y.fb,y),L=y.Xa;const re=!L;L=new Hl(L||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||sg(L,"https"),og(L),re?NY(L.toString(),O):TY(L.toString(),O)}else Vn(2);y.G=0,y.l&&y.l.sa(k),h2(y),i2(y)}t.fb=function(y){y?(this.j.info("Successfully pinged google.com"),Vn(2)):(this.j.info("Failed to ping google.com"),Vn(1))};function h2(y){if(y.G=0,y.ka=[],y.l){const k=VP(y.h);(k.length!=0||y.i.length!=0)&&(m(y.ka,k),m(y.ka,y.i),y.h.i.length=0,g(y.i),y.i.length=0),y.l.ra()}}function f2(y,k,O){var L=O instanceof Hl?yi(O):new Hl(O);if(L.g!="")k&&(L.g=k+"."+L.g),ig(L,L.s);else{var re=l.location;L=re.protocol,k=k?k+"."+re.hostname:re.hostname,re=+re.port;var ie=new Hl(null);L&&sg(ie,L),k&&(ie.g=k),re&&ig(ie,re),O&&(ie.l=O),L=ie}return O=y.D,k=y.ya,O&&k&&vr(L,O,k),vr(L,"VER",y.la),dh(y,L),L}function m2(y,k,O){if(k&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=y.Ca&&!y.pa?new Br(new lg({eb:O})):new Br(y.pa),k.Ha(y.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function p2(){}t=p2.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function fg(){}fg.prototype.g=function(y,k){return new pa(y,k)};function pa(y,k){rt.call(this),this.g=new s2(k),this.l=y,this.h=k&&k.messageUrlParams||null,y=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(y?y["X-WebChannel-Content-Type"]=k.messageContentType:y={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(y?y["X-WebChannel-Client-Profile"]=k.va:y={"X-WebChannel-Client-Profile":k.va}),this.g.S=y,(y=k&&k.Sb)&&!b(y)&&(this.g.m=y),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!b(k)&&(this.g.D=k,y=this.h,y!==null&&k in y&&(y=this.h,k in y&&delete y[k])),this.j=new hu(this)}p(pa,rt),pa.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pa.prototype.close=function(){rw(this.g)},pa.prototype.o=function(y){var k=this.g;if(typeof y=="string"){var O={};O.__data__=y,y=O}else this.u&&(O={},O.__data__=Fs(y),y=O);k.i.push(new yY(k.Ya++,y)),k.G==3&&dg(k)},pa.prototype.N=function(){this.g.l=null,delete this.j,rw(this.g),delete this.g,pa.aa.N.call(this)};function g2(y){aa.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var k=y.__sm__;if(k){e:{for(const O in k){y=O;break e}y=void 0}(this.i=y)&&(y=this.i,k=k!==null&&y in k?k[y]:void 0),this.data=k}else this.data=y}p(g2,aa);function v2(){uo.call(this),this.status=1}p(v2,uo);function hu(y){this.g=y}p(hu,p2),hu.prototype.ua=function(){dt(this.g,"a")},hu.prototype.ta=function(y){dt(this.g,new g2(y))},hu.prototype.sa=function(y){dt(this.g,new v2)},hu.prototype.ra=function(){dt(this.g,"b")},fg.prototype.createWebChannel=fg.prototype.g,pa.prototype.send=pa.prototype.o,pa.prototype.open=pa.prototype.m,pa.prototype.close=pa.prototype.close,nV=function(){return new fg},rV=function(){return tg()},tV=vi,PE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rg.NO_ERROR=0,rg.TIMEOUT=8,rg.HTTP_ERROR=6,Tv=rg,OP.COMPLETE="complete",eV=OP,Yt.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",rt.prototype.listen=rt.prototype.K,Gh=Yt,Br.prototype.listenOnce=Br.prototype.L,Br.prototype.getLastError=Br.prototype.Ka,Br.prototype.getLastErrorCode=Br.prototype.Ba,Br.prototype.getStatus=Br.prototype.Z,Br.prototype.getResponseJson=Br.prototype.Oa,Br.prototype.getResponseText=Br.prototype.oa,Br.prototype.send=Br.prototype.ea,Br.prototype.setWithCredentials=Br.prototype.Ha,Z$=Br}).apply(typeof Ng<"u"?Ng:typeof self<"u"?self:typeof window<"u"?window:{});const zO="@firebase/firestore",WO="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new q$("@firebase/firestore");function zu(){return Uc.logLevel}function Se(t,...e){if(Uc.logLevel<=Ut.DEBUG){const r=e.map(ZT);Uc.debug(`Firestore (${Rd}): ${t}`,...r)}}function Ea(t,...e){if(Uc.logLevel<=Ut.ERROR){const r=e.map(ZT);Uc.error(`Firestore (${Rd}): ${t}`,...r)}}function jp(t,...e){if(Uc.logLevel<=Ut.WARN){const r=e.map(ZT);Uc.warn(`Firestore (${Rd}): ${t}`,...r)}}function ZT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,aV(t,n,r)}function aV(t,e,r){let n=`FIRESTORE (${Rd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Ea(n),new Error(n)}function st(t,e,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,t||aV(e,a,n)}function fr(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ye extends au{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dle{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(dn.UNAUTHENTICATED))}shutdown(){}}class Rle{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Ule{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){st(this.o===void 0,42304);let n=this.i;const a=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let s=new tl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new tl,e.enqueueRetryable(()=>a(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await a(this.currentUser)})},l=c=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new tl)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(st(typeof n.accessToken=="string",31837,{l:n}),new sV(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class Mle{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Qle{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Mle(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class XO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lle{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xle(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){st(this.o===void 0,3512);const n=s=>{s.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Se("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const a=s=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>a(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new XO(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(st(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new XO(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hle(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $le(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=Hle(40);for(let s=0;s<a.length;++s)n.length<20&&a[s]<r&&(n+=e.charAt(a[s]%62))}return n}}function vt(t,e){return t<e?-1:t>e?1:0}function OE(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),a=e.codePointAt(r);if(n!==a){if(n<128&&a<128)return vt(n,a);{const s=$le(),o=Vle(s.encode(JO(t,r)),s.encode(JO(e,r)));return o!==0?o:vt(n,a)}}r+=n>65535?2:1}return vt(t.length,e.length)}function JO(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Vle(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return vt(t[r],e[r]);return vt(t.length,e.length)}function MA(t,e,r){return t.length===e.length&&t.every((n,a)=>r(n,e[a]))}function oV(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=-62135596800,ZO=1e6;class kr{static now(){return kr.fromMillis(Date.now())}static fromDate(e){return kr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*ZO);return new kr(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ye(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ye(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<YO)throw new Ye(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ye(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ZO}_compareTo(e){return this.seconds===e.seconds?vt(this.nanoseconds,e.nanoseconds):vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-YO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{static fromTimestamp(e){return new Ot(e)}static min(){return new Ot(new kr(0,0))}static max(){return new Ot(new kr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF="__name__";class Qs{constructor(e,r,n){r===void 0?r=0:r>e.length&&tt(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&tt(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Qs.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Qs?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let a=0;a<n;a++){const s=Qs.compareSegments(e.get(a),r.get(a));if(s!==0)return s}return vt(e.length,r.length)}static compareSegments(e,r){const n=Qs.isNumericId(e),a=Qs.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?Qs.extractNumericId(e).compare(Qs.extractNumericId(r)):OE(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return YT.fromString(e.substring(4,e.length-2))}}class cr extends Qs{construct(e,r,n){return new cr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ye(ge.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new cr(r)}static emptyPath(){return new cr([])}}const Kle=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cr extends Qs{construct(e,r,n){return new Cr(e,r,n)}static isValidIdentifier(e){return Kle.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eF}static keyField(){return new Cr([eF])}static fromServerFormat(e){const r=[];let n="",a=0;const s=()=>{if(n.length===0)throw new Ye(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;a<e.length;){const l=e[a];if(l==="\\"){if(a+1===e.length)throw new Ye(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[a+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ye(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,a+=2}else l==="`"?(o=!o,a++):l!=="."||o?(n+=l,a++):(s(),a++)}if(s(),o)throw new Ye(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cr(r)}static emptyPath(){return new Cr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.path=e}static fromPath(e){return new ze(cr.fromString(e))}static fromName(e){return new ze(cr.fromString(e).popFirst(5))}static empty(){return new ze(cr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&cr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return cr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new cr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf=-1;class dy{constructor(e,r,n,a){this.indexId=e,this.collectionGroup=r,this.fields=n,this.indexState=a}}function FE(t){return t.fields.find(e=>e.kind===2)}function ec(t){return t.fields.filter(e=>e.kind!==2)}dy.UNKNOWN_ID=-1;class kv{constructor(e,r){this.fieldPath=e,this.kind=r}}class zf{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new zf(0,Pa.min())}}function qle(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,a=Ot.fromTimestamp(n===1e9?new kr(r+1,0):new kr(r,n));return new Pa(a,ze.empty(),e)}function lV(t){return new Pa(t.readTime,t.key,Gf)}class Pa{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Pa(Ot.min(),ze.empty(),Gf)}static max(){return new Pa(Ot.max(),ze.empty(),Gf)}}function ek(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=ze.comparator(t.documentKey,e.documentKey),r!==0?r:vt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w0(t){if(t.code!==ge.FAILED_PRECONDITION||t.message!==cV)throw t;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ne((n,a)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,a)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,a)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ne?r:ne.resolve(r)}catch(r){return ne.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ne.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ne.reject(r)}static resolve(e){return new ne((r,n)=>{r(e)})}static reject(e){return new ne((r,n)=>{n(e)})}static waitFor(e){return new ne((r,n)=>{let a=0,s=0,o=!1;e.forEach(l=>{++a,l.next(()=>{++s,o&&s===a&&r()},c=>n(c))}),o=!0,s===a&&r()})}static or(e){let r=ne.resolve(!1);for(const n of e)r=r.next(a=>a?ne.resolve(a):n());return r}static forEach(e,r){const n=[];return e.forEach((a,s)=>{n.push(r.call(this,a,s))}),this.waitFor(n)}static mapArray(e,r){return new ne((n,a)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const u=c;r(e[u]).next(A=>{o[u]=A,++l,l===s&&n(o)},A=>a(A))}})}static doWhile(e,r){return new ne((n,a)=>{const s=()=>{e()===!0?r().next(()=>{s()},a):n()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="SimpleDb";class j0{static open(e,r,n,a){try{return new j0(r,e.transaction(a,n))}catch(s){throw new mf(r,s)}}constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.S=new tl,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{r.error?this.S.reject(new mf(e,r.error)):this.S.resolve()},this.transaction.onerror=n=>{const a=tk(n.target.error);this.S.reject(new mf(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(Se(Ca,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const r=this.transaction.objectStore(e);return new zle(r)}}class rl{static delete(e){return Se(Ca,"Removing database:",e),oc(Q$().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!XT())return!1;if(rl.F())return!0;const e=cy(),r=rl.M(e),n=0<r&&r<10,a=AV(e),s=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||s)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,r){return e.store(r)}static M(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,r,n){this.name=e,this.version=r,this.B=n,this.L=null,rl.M(cy())===12.2&&Ea("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(Se(Ca,"Opening database:",this.name),this.db=await new Promise((r,n)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=s=>{const o=s.target.result;r(o)},a.onblocked=()=>{n(new mf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=s=>{const o=s.target.error;o.name==="VersionError"?n(new Ye(ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?n(new Ye(ge.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):n(new mf(e,o))},a.onupgradeneeded=s=>{Se(Ca,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;if(this.L!==null&&this.L!==s.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${s.oldVersion}, event.newVersion=${s.newVersion}, db.version=${o.version}`);this.B.q(o,a.transaction,s.oldVersion,this.version).next(()=>{Se(Ca,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",r=>{const n=r.target;this.L=n.version},{passive:!0})),this.$&&(this.db.onversionchange=r=>this.$(r)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,n,a){const s=r==="readonly";let o=0;for(;;){++o;try{this.db=await this.k(e);const l=j0.open(this.db,e,s?"readonly":"readwrite",n),c=a(l).next(u=>(l.v(),u)).catch(u=>(l.abort(u),ne.reject(u))).toPromise();return c.catch(()=>{}),await l.D,c}catch(l){const c=l,u=c.name!=="FirebaseError"&&o<3;if(Se(Ca,"Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function AV(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class Gle{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return oc(this.K.delete())}}class mf extends Ye{constructor(e,r){super(ge.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function su(t){return t.name==="IndexedDbTransactionError"}class zle{constructor(e){this.store=e}put(e,r){let n;return r!==void 0?(Se(Ca,"PUT",this.store.name,e,r),n=this.store.put(r,e)):(Se(Ca,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),oc(n)}add(e){return Se(Ca,"ADD",this.store.name,e,e),oc(this.store.add(e))}get(e){return oc(this.store.get(e)).next(r=>(r===void 0&&(r=null),Se(Ca,"GET",this.store.name,e,r),r))}delete(e){return Se(Ca,"DELETE",this.store.name,e),oc(this.store.delete(e))}count(){return Se(Ca,"COUNT",this.store.name),oc(this.store.count())}J(e,r){const n=this.options(e,r),a=n.index?this.store.index(n.index):this.store;if(typeof a.getAll=="function"){const s=a.getAll(n.range);return new ne((o,l)=>{s.onerror=c=>{l(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{const s=this.cursor(n),o=[];return this.Y(s,(l,c)=>{o.push(c)}).next(()=>o)}}Z(e,r){const n=this.store.getAll(e,r===null?void 0:r);return new ne((a,s)=>{n.onerror=o=>{s(o.target.error)},n.onsuccess=o=>{a(o.target.result)}})}X(e,r){Se(Ca,"DELETE ALL",this.store.name);const n=this.options(e,r);n.ee=!1;const a=this.cursor(n);return this.Y(a,(s,o,l)=>l.delete())}te(e,r){let n;r?n=e:(n={},r=e);const a=this.cursor(n);return this.Y(a,r)}ne(e){const r=this.cursor({});return new ne((n,a)=>{r.onerror=s=>{const o=tk(s.target.error);a(o)},r.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(l=>{l?o.continue():n()}):n()}})}Y(e,r){const n=[];return new ne((a,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const l=o.target.result;if(!l)return void a();const c=new Gle(l),u=r(l.primaryKey,l.value,c);if(u instanceof ne){const A=u.catch(d=>(c.done(),ne.reject(d)));n.push(A)}c.isDone?a():c.j===null?l.continue():l.continue(c.j)}}).next(()=>ne.waitFor(n))}options(e,r){let n;return e!==void 0&&(typeof e=="string"?n=e:r=e),{index:n,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const n=this.store.index(e.index);return e.ee?n.openKeyCursor(e.range,r):n.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function oc(t){return new ne((e,r)=>{t.onsuccess=n=>{const a=n.target.result;e(a)},t.onerror=n=>{const a=tk(n.target.error);r(a)}})}let tF=!1;function tk(t){const e=rl.M(cy());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const n=new Ye("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return tF||(tF=!0,setTimeout(()=>{throw n},0)),n}}return t}const pf="IndexBackfiller";class Wle{constructor(e,r){this.asyncQueue=e,this.re=r,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(e){Se(pf,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const r=await this.re.se();Se(pf,`Documents written: ${r}`)}catch(r){su(r)?Se(pf,"Ignoring IndexedDB error during index backfill: ",r):await w0(r)}await this.ie(6e4)})}}class Xle{constructor(e,r){this.localStore=e,this.persistence=r}async se(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>this.oe(r,e))}oe(e,r){const n=new Set;let a=r,s=!0;return ne.doWhile(()=>s===!0&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!n.has(o))return Se(pf,`Processing collection: ${o}`),this._e(e,o,a).next(l=>{a-=l,n.add(o)});s=!1})).next(()=>r-a)}_e(e,r,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(a=>this.localStore.localDocuments.getNextDocuments(e,r,a,n).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ae(a,s)).next(l=>(Se(pf,`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,r,l))).next(()=>o.size)}))}ae(e,r){let n=e;return r.changes.forEach((a,s)=>{const o=lV(s);ek(o,n)>0&&(n=o)}),new Pa(n.readTime,n.documentKey,Math.max(r.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}gs.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=-1;function _0(t){return t==null}function Wf(t){return t===0&&1/t==-1/0}function Jle(t){return typeof t=="number"&&Number.isInteger(t)&&!Wf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="";function Un(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=rF(e)),e=Yle(t.get(r),e);return rF(e)}function Yle(t,e){let r=e;const n=t.length;for(let a=0;a<n;a++){const s=t.charAt(a);switch(s){case"\0":r+="";break;case hy:r+="";break;default:r+=s}}return r}function rF(t){return t+hy+""}function zs(t){const e=t.length;if(st(e>=2,64408,{path:t}),e===2)return st(t.charAt(0)===hy&&t.charAt(1)==="",56145,{path:t}),cr.emptyPath();const r=e-2,n=[];let a="";for(let s=0;s<e;){const o=t.indexOf(hy,s);switch((o<0||o>r)&&tt(50515,{path:t}),t.charAt(o+1)){case"":const l=t.substring(s,o);let c;a.length===0?c=l:(a+=l,c=a,a=""),n.push(c);break;case"":a+=t.substring(s,o),a+="\0";break;case"":a+=t.substring(s,o+1);break;default:tt(61167,{path:t})}s=o+2}return new cr(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc="remoteDocuments",_p="owner",ju="owner",Xf="mutationQueues",Zle="userId",cs="mutations",nF="batchId",hc="userMutationsIndex",aF=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t,e){return[t,Un(e)]}function dV(t,e,r){return[t,Un(e),r]}const ece={},QA="documentMutations",fy="remoteDocumentsV14",tce=["prefixPath","collectionGroup","readTime","documentId"],Pv="documentKeyIndex",rce=["prefixPath","collectionGroup","documentId"],hV="collectionGroupIndex",nce=["collectionGroup","readTime","prefixPath","documentId"],Jf="remoteDocumentGlobal",DE="remoteDocumentGlobalKey",LA="targets",fV="queryTargetsIndex",ace=["canonicalId","targetId"],HA="targetDocuments",sce=["targetId","path"],rk="documentTargetsIndex",ice=["path","targetId"],my="targetGlobalKey",Nc="targetGlobal",Yf="collectionParents",oce=["collectionId","parent"],$A="clientMetadata",lce="clientId",C0="bundles",cce="bundleId",B0="namedQueries",uce="name",nk="indexConfiguration",Ace="indexId",RE="collectionGroupIndex",dce="collectionGroup",gf="indexState",hce=["indexId","uid"],mV="sequenceNumberIndex",fce=["uid","sequenceNumber"],vf="indexEntries",mce=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],pV="documentKeyIndex",pce=["indexId","uid","orderedDocumentKey"],E0="documentOverlays",gce=["userId","collectionPath","documentId"],UE="collectionPathOverlayIndex",vce=["userId","collectionPath","largestBatchId"],gV="collectionGroupOverlayIndex",yce=["userId","collectionGroup","largestBatchId"],ak="globals",xce="name",vV=[Xf,cs,QA,tc,LA,_p,Nc,HA,$A,Jf,Yf,C0,B0],bce=[...vV,E0],yV=[Xf,cs,QA,fy,LA,_p,Nc,HA,$A,Jf,Yf,C0,B0,E0],xV=yV,sk=[...xV,nk,gf,vf],wce=sk,bV=[...sk,ak],jce=bV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME extends uV{constructor(e,r){super(),this.he=e,this.currentSequenceNumber=r}}function Xr(t,e){const r=fr(t);return rl.N(r.he,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Ud(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function wV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,r){this.comparator=e,this.root=r||hn.EMPTY}insert(e,r){return new Zn(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new Zn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tg(this.root,e,this.comparator,!0)}}class Tg{constructor(e,r,n,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&a&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,r,n,a,s){this.key=e,this.value=r,this.color=n??hn.RED,this.left=a??hn.EMPTY,this.right=s??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,a,s){return new hn(e??this.key,r??this.value,n??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let a=this;const s=n(e,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(e,r,n),null):s===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,a=this;if(r(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(e,a.key)===0){if(a.right.isEmpty())return hn.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw tt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw tt(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw tt(57766)}get value(){throw tt(16141)}get color(){throw tt(16727)}get left(){throw tt(29726)}get right(){throw tt(36894)}copy(e,r,n,a,s){return this}insert(e,r,n){return new hn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.comparator=e,this.data=new Zn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;r(a.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new iF(this.data.getIterator())}getIteratorFrom(e){return new iF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Ar)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,s=n.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Ar(this.comparator);return r.data=e,r}}class iF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _u(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this.fields=e,e.sort(Cr.comparator)}static empty(){return new $a([])}unionWith(e){let r=new Ar(Cr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new $a(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return MA(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ce extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new _ce("Invalid base64 string: "+s):s}}(e);return new da(r)}static fromUint8Array(e){const r=function(a){let s="";for(let o=0;o<a.length;++o)s+=String.fromCharCode(a[o]);return s}(e);return new da(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}da.EMPTY_BYTE_STRING=new da("");const Cce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pl(t){if(st(!!t,39018),typeof t=="string"){let e=0;const r=Cce.exec(t);if(st(!!r,46558,{timestamp:t}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Qr(t.seconds),nanos:Qr(t.nanos)}}function Qr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mc(t){return typeof t=="string"?da.fromBase64String(t):da.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV="server_timestamp",_V="__type__",CV="__previous_value__",BV="__local_write_time__";function ik(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[_V])===null||r===void 0?void 0:r.stringValue)===jV}function ok(t){const e=t.mapValue.fields[CV];return ik(e)?ok(e):e}function py(t){const e=pl(t.mapValue.fields[BV].timestampValue);return new kr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bce{constructor(e,r,n,a,s,o,l,c,u,A){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=A}}const gy="(default)";class VA{constructor(e,r){this.projectId=e,this.database=r||gy}static empty(){return new VA("","")}get isDefaultDatabase(){return this.database===gy}isEqual(e){return e instanceof VA&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="__type__",EV="__max__",qo={mapValue:{fields:{__type__:{stringValue:EV}}}},ck="__vector__",Zf="value",Ov={nullValue:"NULL_VALUE"};function Qc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ik(t)?4:SV(t)?9007199254740991:S0(t)?10:11:tt(28295,{value:t})}function si(t,e){if(t===e)return!0;const r=Qc(t);if(r!==Qc(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return py(t).isEqual(py(e));case 3:return function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const o=pl(a.timestampValue),l=pl(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,s){return Mc(a.bytesValue).isEqual(Mc(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,s){return Qr(a.geoPointValue.latitude)===Qr(s.geoPointValue.latitude)&&Qr(a.geoPointValue.longitude)===Qr(s.geoPointValue.longitude)}(t,e);case 2:return function(a,s){if("integerValue"in a&&"integerValue"in s)return Qr(a.integerValue)===Qr(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const o=Qr(a.doubleValue),l=Qr(s.doubleValue);return o===l?Wf(o)===Wf(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return MA(t.arrayValue.values||[],e.arrayValue.values||[],si);case 10:case 11:return function(a,s){const o=a.mapValue.fields||{},l=s.mapValue.fields||{};if(sF(o)!==sF(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!si(o[c],l[c])))return!1;return!0}(t,e);default:return tt(52216,{left:t})}}function em(t,e){return(t.values||[]).find(r=>si(r,e))!==void 0}function gl(t,e){if(t===e)return 0;const r=Qc(t),n=Qc(e);if(r!==n)return vt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return vt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Qr(s.integerValue||s.doubleValue),c=Qr(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return oF(t.timestampValue,e.timestampValue);case 4:return oF(py(t),py(e));case 5:return OE(t.stringValue,e.stringValue);case 6:return function(s,o){const l=Mc(s),c=Mc(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const A=vt(l[u],c[u]);if(A!==0)return A}return vt(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=vt(Qr(s.latitude),Qr(o.latitude));return l!==0?l:vt(Qr(s.longitude),Qr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return lF(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,c,u,A;const d=s.fields||{},h=o.fields||{},f=(l=d[Zf])===null||l===void 0?void 0:l.arrayValue,p=(c=h[Zf])===null||c===void 0?void 0:c.arrayValue,g=vt(((u=f==null?void 0:f.values)===null||u===void 0?void 0:u.length)||0,((A=p==null?void 0:p.values)===null||A===void 0?void 0:A.length)||0);return g!==0?g:lF(f,p)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===qo.mapValue&&o===qo.mapValue)return 0;if(s===qo.mapValue)return 1;if(o===qo.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),u=o.fields||{},A=Object.keys(u);c.sort(),A.sort();for(let d=0;d<c.length&&d<A.length;++d){const h=OE(c[d],A[d]);if(h!==0)return h;const f=gl(l[c[d]],u[A[d]]);if(f!==0)return f}return vt(c.length,A.length)}(t.mapValue,e.mapValue);default:throw tt(23264,{Pe:r})}}function oF(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return vt(t,e);const r=pl(t),n=pl(e),a=vt(r.seconds,n.seconds);return a!==0?a:vt(r.nanos,n.nanos)}function lF(t,e){const r=t.values||[],n=e.values||[];for(let a=0;a<r.length&&a<n.length;++a){const s=gl(r[a],n[a]);if(s)return s}return vt(r.length,n.length)}function KA(t){return QE(t)}function QE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=pl(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Mc(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return ze.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",a=!0;for(const s of r.values||[])a?a=!1:n+=",",n+=QE(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",s=!0;for(const o of n)s?s=!1:a+=",",a+=`${o}:${QE(r.fields[o])}`;return a+"}"}(t.mapValue):tt(61005,{value:t})}function Fv(t){switch(Qc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ok(t);return e?16+Fv(e):16;case 5:return 2*t.stringValue.length;case 6:return Mc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,s)=>a+Fv(s),0)}(t.arrayValue);case 10:case 11:return function(n){let a=0;return Ud(n.fields,(s,o)=>{a+=s.length+Fv(o)}),a}(t.mapValue);default:throw tt(13486,{value:t})}}function uk(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function LE(t){return!!t&&"integerValue"in t}function tm(t){return!!t&&"arrayValue"in t}function cF(t){return!!t&&"nullValue"in t}function uF(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dv(t){return!!t&&"mapValue"in t}function S0(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[lk])===null||r===void 0?void 0:r.stringValue)===ck}function yf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ud(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=yf(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=yf(t.arrayValue.values[r]);return e}return Object.assign({},t)}function SV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===EV}const NV={mapValue:{fields:{[lk]:{stringValue:ck},[Zf]:{arrayValue:{}}}}};function Ece(t){return"nullValue"in t?Ov:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?uk(VA.empty(),ze.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?S0(t)?NV:{mapValue:{}}:tt(35942,{value:t})}function Sce(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?uk(VA.empty(),ze.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?NV:"mapValue"in t?S0(t)?{mapValue:{}}:qo:tt(61959,{value:t})}function AF(t,e){const r=gl(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function dF(t,e){const r=gl(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.value=e}static empty(){return new Sa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Dv(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=yf(r)}setAll(e){let r=Cr.emptyPath(),n={},a=[];e.forEach((o,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,a),n={},a=[],r=l.popLast()}o?n[l.lastSegment()]=yf(o):a.push(l.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,a)}delete(e){const r=this.field(e.popLast());Dv(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=r.mapValue.fields[e.get(n)];Dv(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(e,r,n){Ud(r,(a,s)=>e[a]=s);for(const a of n)delete e[a]}clone(){return new Sa(yf(this.value))}}function TV(t){const e=[];return Ud(t.fields,(r,n)=>{const a=new Cr([r]);if(Dv(n)){const s=TV(n.mapValue).fields;if(s.length===0)e.push(a);else for(const o of s)e.push(a.child(o))}else e.push(a)}),new $a(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,r,n,a,s,o,l){this.key=e,this.documentType=r,this.version=n,this.readTime=a,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new mn(e,0,Ot.min(),Ot.min(),Ot.min(),Sa.empty(),0)}static newFoundDocument(e,r,n,a){return new mn(e,1,r,Ot.min(),n,a,0)}static newNoDocument(e,r){return new mn(e,2,r,Ot.min(),Ot.min(),Sa.empty(),0)}static newUnknownDocument(e,r){return new mn(e,3,r,Ot.min(),Ot.min(),Sa.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,r){this.position=e,this.inclusive=r}}function hF(t,e,r){let n=0;for(let a=0;a<t.position.length;a++){const s=e[a],o=t.position[a];if(s.field.isKeyField()?n=ze.comparator(ze.fromName(o.referenceValue),r.key):n=gl(o,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function fF(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!si(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,r="asc"){this.field=e,this.dir=r}}function Nce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{}class Ft extends kV{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Tce(e,r,n):r==="array-contains"?new Pce(e,n):r==="in"?new RV(e,n):r==="not-in"?new Oce(e,n):r==="array-contains-any"?new Fce(e,n):new Ft(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new kce(e,n):new Ice(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(gl(r,this.value)):r!==null&&Qc(this.value)===Qc(r)&&this.matchesComparison(gl(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends kV{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new ir(e,r)}matches(e){return GA(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function GA(t){return t.op==="and"}function HE(t){return t.op==="or"}function Ak(t){return IV(t)&&GA(t)}function IV(t){for(const e of t.filters)if(e instanceof ir)return!1;return!0}function $E(t){if(t instanceof Ft)return t.field.canonicalString()+t.op.toString()+KA(t.value);if(Ak(t))return t.filters.map(e=>$E(e)).join(",");{const e=t.filters.map(r=>$E(r)).join(",");return`${t.op}(${e})`}}function PV(t,e){return t instanceof Ft?function(n,a){return a instanceof Ft&&n.op===a.op&&n.field.isEqual(a.field)&&si(n.value,a.value)}(t,e):t instanceof ir?function(n,a){return a instanceof ir&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((s,o,l)=>s&&PV(o,a.filters[l]),!0):!1}(t,e):void tt(19439)}function OV(t,e){const r=t.filters.concat(e);return ir.create(r,t.op)}function FV(t){return t instanceof Ft?function(r){return`${r.field.canonicalString()} ${r.op} ${KA(r.value)}`}(t):t instanceof ir?function(r){return r.op.toString()+" {"+r.getFilters().map(FV).join(" ,")+"}"}(t):"Filter"}class Tce extends Ft{constructor(e,r,n){super(e,r,n),this.key=ze.fromName(n.referenceValue)}matches(e){const r=ze.comparator(e.key,this.key);return this.matchesComparison(r)}}class kce extends Ft{constructor(e,r){super(e,"in",r),this.keys=DV("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Ice extends Ft{constructor(e,r){super(e,"not-in",r),this.keys=DV("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function DV(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>ze.fromName(n.referenceValue))}class Pce extends Ft{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return tm(r)&&em(r.arrayValue,this.value)}}class RV extends Ft{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&em(this.value.arrayValue,r)}}class Oce extends Ft{constructor(e,r){super(e,"not-in",r)}matches(e){if(em(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!em(this.value.arrayValue,r)}}class Fce extends Ft{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!tm(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>em(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dce{constructor(e,r=null,n=[],a=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=s,this.startAt=o,this.endAt=l,this.Ie=null}}function VE(t,e=null,r=[],n=[],a=null,s=null,o=null){return new Dce(t,e,r,n,a,s,o)}function Lc(t){const e=fr(t);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>$E(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),_0(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>KA(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>KA(n)).join(",")),e.Ie=r}return e.Ie}function Cp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Nce(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!PV(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fF(t.startAt,e.startAt)&&fF(t.endAt,e.endAt)}function Rce(t){return ze.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function yy(t,e){return t.filters.filter(r=>r instanceof Ft&&r.field.isEqual(e))}function mF(t,e,r){let n=Ov,a=!0;for(const s of yy(t,e)){let o=Ov,l=!0;switch(s.op){case"<":case"<=":o=Ece(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,l=!1;break;case"!=":case"not-in":o=Ov}AF({value:n,inclusive:a},{value:o,inclusive:l})<0&&(n=o,a=l)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=r.position[s];AF({value:n,inclusive:a},{value:o,inclusive:r.inclusive})<0&&(n=o,a=r.inclusive);break}}return{value:n,inclusive:a}}function pF(t,e,r){let n=qo,a=!0;for(const s of yy(t,e)){let o=qo,l=!0;switch(s.op){case">=":case">":o=Sce(s.value),l=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,l=!1;break;case"!=":case"not-in":o=qo}dF({value:n,inclusive:a},{value:o,inclusive:l})>0&&(n=o,a=l)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=r.position[s];dF({value:n,inclusive:a},{value:o,inclusive:r.inclusive})>0&&(n=o,a=r.inclusive);break}}return{value:n,inclusive:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,r=null,n=[],a=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Uce(t,e,r,n,a,s,o,l){return new N0(t,e,r,n,a,s,o,l)}function UV(t){return new N0(t)}function gF(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Mce(t){return t.collectionGroup!==null}function xf(t){const e=fr(t);if(e.Ee===null){e.Ee=[];const r=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Ar(Cr.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new vy(s,n))}),r.has(Cr.keyField().canonicalString())||e.Ee.push(new vy(Cr.keyField(),n))}return e.Ee}function Di(t){const e=fr(t);return e.de||(e.de=Qce(e,xf(t))),e.de}function Qce(t,e){if(t.limitType==="F")return VE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const s=a.dir==="desc"?"asc":"desc";return new vy(a.field,s)});const r=t.endAt?new qA(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new qA(t.startAt.position,t.startAt.inclusive):null;return VE(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function KE(t,e,r){return new N0(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function MV(t,e){return Cp(Di(t),Di(e))&&t.limitType===e.limitType}function QV(t){return`${Lc(Di(t))}|lt:${t.limitType}`}function yh(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>FV(a)).join(", ")}]`),_0(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>KA(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>KA(a)).join(",")),`Target(${n})`}(Di(t))}; limitType=${t.limitType})`}function T0(t,e){return e.isFoundDocument()&&function(n,a){const s=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):ze.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,a){for(const s of xf(n))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,a){for(const s of n.filters)if(!s.matches(a))return!1;return!0}(t,e)&&function(n,a){return!(n.startAt&&!function(o,l,c){const u=hF(o,l,c);return o.inclusive?u<=0:u<0}(n.startAt,xf(n),a)||n.endAt&&!function(o,l,c){const u=hF(o,l,c);return o.inclusive?u>=0:u>0}(n.endAt,xf(n),a))}(t,e)}function Lce(t){return(e,r)=>{let n=!1;for(const a of xf(t)){const s=Hce(a,e,r);if(s!==0)return s;n=n||a.field.isKeyField()}return 0}}function Hce(t,e,r){const n=t.field.isKeyField()?ze.comparator(e.key,r.key):function(s,o,l){const c=o.data.field(s),u=l.data.field(s);return c!==null&&u!==null?gl(c,u):tt(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return tt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[a,s]of n)if(this.equalsFn(a,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return void(a[s]=[e,r]);a.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ud(this.inner,(r,n)=>{for(const[a,s]of n)e(a,s)})}isEmpty(){return wV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ce=new Zn(ze.comparator);function Go(){return $ce}const LV=new Zn(ze.comparator);function kg(...t){let e=LV;for(const r of t)e=e.insert(r.key,r);return e}function HV(t){let e=LV;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Ws(){return bf()}function $V(){return bf()}function bf(){return new ao(t=>t.toString(),(t,e)=>t.isEqual(e))}const Vce=new Zn(ze.comparator),Kce=new Ar(ze.comparator);function Kr(...t){let e=Kce;for(const r of t)e=e.add(r);return e}const qce=new Ar(vt);function Gce(){return qce}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wf(e)?"-0":e}}function VV(t){return{integerValue:""+t}}function zce(t,e){return Jle(e)?VV(e):dk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(){this._=void 0}}function Wce(t,e,r){return t instanceof rm?function(a,s){const o={fields:{[_V]:{stringValue:jV},[BV]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&ik(s)&&(s=ok(s)),s&&(o.fields[CV]=s),{mapValue:o}}(r,e):t instanceof zA?qV(t,e):t instanceof WA?GV(t,e):function(a,s){const o=KV(a,s),l=vF(o)+vF(a.Re);return LE(o)&&LE(a.Re)?VV(l):dk(a.serializer,l)}(t,e)}function Xce(t,e,r){return t instanceof zA?qV(t,e):t instanceof WA?GV(t,e):r}function KV(t,e){return t instanceof nm?function(n){return LE(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class rm extends k0{}class zA extends k0{constructor(e){super(),this.elements=e}}function qV(t,e){const r=zV(e);for(const n of t.elements)r.some(a=>si(a,n))||r.push(n);return{arrayValue:{values:r}}}class WA extends k0{constructor(e){super(),this.elements=e}}function GV(t,e){let r=zV(e);for(const n of t.elements)r=r.filter(a=>!si(a,n));return{arrayValue:{values:r}}}class nm extends k0{constructor(e,r){super(),this.serializer=e,this.Re=r}}function vF(t){return Qr(t.integerValue||t.doubleValue)}function zV(t){return tm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jce{constructor(e,r){this.field=e,this.transform=r}}function Yce(t,e){return t.field.isEqual(e.field)&&function(n,a){return n instanceof zA&&a instanceof zA||n instanceof WA&&a instanceof WA?MA(n.elements,a.elements,si):n instanceof nm&&a instanceof nm?si(n.Re,a.Re):n instanceof rm&&a instanceof rm}(t.transform,e.transform)}class Zce{constructor(e,r){this.version=e,this.transformResults=r}}class Ta{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Ta}static exists(e){return new Ta(void 0,e)}static updateTime(e){return new Ta(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class I0{}function WV(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hk(t.key,Ta.none()):new Md(t.key,t.data,Ta.none());{const r=t.data,n=Sa.empty();let a=new Ar(Cr.comparator);for(let s of e.fields)if(!a.has(s)){let o=r.field(s);o===null&&s.length>1&&(s=s.popLast(),o=r.field(s)),o===null?n.delete(s):n.set(s,o),a=a.add(s)}return new kl(t.key,n,new $a(a.toArray()),Ta.none())}}function eue(t,e,r){t instanceof Md?function(a,s,o){const l=a.value.clone(),c=xF(a.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):t instanceof kl?function(a,s,o){if(!Rv(a.precondition,s))return void s.convertToUnknownDocument(o.version);const l=xF(a.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(XV(a)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,r):function(a,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function wf(t,e,r,n){return t instanceof Md?function(s,o,l,c){if(!Rv(s.precondition,o))return l;const u=s.value.clone(),A=bF(s.fieldTransforms,c,o);return u.setAll(A),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof kl?function(s,o,l,c){if(!Rv(s.precondition,o))return l;const u=bF(s.fieldTransforms,c,o),A=o.data;return A.setAll(XV(s)),A.setAll(u),o.convertToFoundDocument(o.version,A).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,r,n):function(s,o,l){return Rv(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,r)}function tue(t,e){let r=null;for(const n of t.fieldTransforms){const a=e.data.field(n.field),s=KV(n.transform,a||null);s!=null&&(r===null&&(r=Sa.empty()),r.set(n.field,s))}return r||null}function yF(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&MA(n,a,(s,o)=>Yce(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Md extends I0{constructor(e,r,n,a=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class kl extends I0{constructor(e,r,n,a,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function XV(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function xF(t,e,r){const n=new Map;st(t.length===r.length,32656,{Ve:r.length,me:t.length});for(let a=0;a<r.length;a++){const s=t[a],o=s.transform,l=e.data.field(s.field);n.set(s.field,Xce(o,l,r[a]))}return n}function bF(t,e,r){const n=new Map;for(const a of t){const s=a.transform,o=r.data.field(a.field);n.set(a.field,Wce(s,o,e))}return n}class hk extends I0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JV extends I0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,r,n,a){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(e.key)&&eue(s,e,n[a])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=wf(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=wf(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=$V();return this.mutations.forEach(a=>{const s=e.get(a.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=r.has(a.key)?null:l;const c=WV(o,l);c!==null&&n.set(a.key,c),o.isValidDocument()||o.convertToNoDocument(Ot.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Kr())}isEqual(e){return this.batchId===e.batchId&&MA(this.mutations,e.mutations,(r,n)=>yF(r,n))&&MA(this.baseMutations,e.baseMutations,(r,n)=>yF(r,n))}}class mk{constructor(e,r,n,a){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(e,r,n){st(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let a=function(){return Vce}();const s=e.mutations;for(let o=0;o<s.length;o++)a=a.insert(s[o].key,n[o].version);return new mk(e,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pk=class{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ur,Rt;function rue(t){switch(t){case ge.OK:return tt(64938);case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0;default:return tt(15467,{code:t})}}function nue(t){if(t===void 0)return Ea("GRPC error has no .code"),ge.UNKNOWN;switch(t){case Ur.OK:return ge.OK;case Ur.CANCELLED:return ge.CANCELLED;case Ur.UNKNOWN:return ge.UNKNOWN;case Ur.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case Ur.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case Ur.INTERNAL:return ge.INTERNAL;case Ur.UNAVAILABLE:return ge.UNAVAILABLE;case Ur.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case Ur.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case Ur.NOT_FOUND:return ge.NOT_FOUND;case Ur.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case Ur.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case Ur.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case Ur.ABORTED:return ge.ABORTED;case Ur.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case Ur.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case Ur.DATA_LOSS:return ge.DATA_LOSS;default:return tt(39323,{code:t})}}(Rt=Ur||(Ur={}))[Rt.OK=0]="OK",Rt[Rt.CANCELLED=1]="CANCELLED",Rt[Rt.UNKNOWN=2]="UNKNOWN",Rt[Rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rt[Rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rt[Rt.NOT_FOUND=5]="NOT_FOUND",Rt[Rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rt[Rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rt[Rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rt[Rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rt[Rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rt[Rt.ABORTED=10]="ABORTED",Rt[Rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rt[Rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rt[Rt.INTERNAL=13]="INTERNAL",Rt[Rt.UNAVAILABLE=14]="UNAVAILABLE",Rt[Rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new YT([4294967295,4294967295],0);const aue={asc:"ASCENDING",desc:"DESCENDING"},sue={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iue={and:"AND",or:"OR"};class oue{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function lue(t,e){return t.useProto3Json||_0(e)?e:{value:e}}function am(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cue(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uue(t,e){return am(t,e.toTimestamp())}function ws(t){return st(!!t,49232),Ot.fromTimestamp(function(r){const n=pl(r);return new kr(n.seconds,n.nanos)}(t))}function gk(t,e){return qE(t,e).canonicalString()}function qE(t,e){const r=function(a){return new cr(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?r:r.child(e)}function YV(t){const e=cr.fromString(t);return st(xue(e),10190,{key:e.toString()}),e}function xy(t,e){return gk(t.databaseId,e.path)}function Uv(t,e){const r=YV(e);if(r.get(1)!==t.databaseId.projectId)throw new Ye(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ye(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new ze(t8(r))}function ZV(t,e){return gk(t.databaseId,e)}function e8(t){const e=YV(t);return e.length===4?cr.emptyPath():t8(e)}function Aue(t){return new cr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function t8(t){return st(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function wF(t,e,r){return{name:xy(t,e),fields:r.value.mapValue.fields}}function due(t,e,r){const n=Uv(t,e.name),a=ws(e.updateTime),s=e.createTime?ws(e.createTime):Ot.min(),o=new Sa({mapValue:{fields:e.fields}}),l=mn.newFoundDocument(n,a,s,o);return r&&l.setHasCommittedMutations(),r?l.setHasCommittedMutations():l}function by(t,e){let r;if(e instanceof Md)r={update:wF(t,e.key,e.value)};else if(e instanceof hk)r={delete:xy(t,e.key)};else if(e instanceof kl)r={update:wF(t,e.key,e.data),updateMask:yue(e.fieldMask)};else{if(!(e instanceof JV))return tt(16599,{ft:e.type});r={verify:xy(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,o){const l=o.transform;if(l instanceof rm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof zA)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof WA)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof nm)return{fieldPath:o.field.canonicalString(),increment:l.Re};throw tt(20930,{transform:o.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(a,s){return s.updateTime!==void 0?{updateTime:uue(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:tt(27497)}(t,e.precondition)),r}function GE(t,e){const r=e.currentDocument?function(s){return s.updateTime!==void 0?Ta.updateTime(ws(s.updateTime)):s.exists!==void 0?Ta.exists(s.exists):Ta.none()}(e.currentDocument):Ta.none(),n=e.updateTransforms?e.updateTransforms.map(a=>function(o,l){let c=null;if("setToServerValue"in l)st(l.setToServerValue==="REQUEST_TIME",16630,{proto:l}),c=new rm;else if("appendMissingElements"in l){const A=l.appendMissingElements.values||[];c=new zA(A)}else if("removeAllFromArray"in l){const A=l.removeAllFromArray.values||[];c=new WA(A)}else"increment"in l?c=new nm(o,l.increment):tt(16584,{proto:l});const u=Cr.fromServerFormat(l.fieldPath);return new Jce(u,c)}(t,a)):[];if(e.update){e.update.name;const a=Uv(t,e.update.name),s=new Sa({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(c){const u=c.fieldPaths||[];return new $a(u.map(A=>Cr.fromServerFormat(A)))}(e.updateMask);return new kl(a,s,o,r,n)}return new Md(a,s,r,n)}if(e.delete){const a=Uv(t,e.delete);return new hk(a,r)}if(e.verify){const a=Uv(t,e.verify);return new JV(a,r)}return tt(1463,{proto:e})}function hue(t,e){return t&&t.length>0?(st(e!==void 0,14353),t.map(r=>function(a,s){let o=a.updateTime?ws(a.updateTime):ws(s);return o.isEqual(Ot.min())&&(o=ws(s)),new Zce(o,a.transformResults||[])}(r,e))):[]}function fue(t,e){return{documents:[ZV(t,e.path)]}}function mue(t,e){const r={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=ZV(t,a);const s=function(u){if(u.length!==0)return a8(ir.create(u,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(A=>function(h){return{field:Wu(h.field),direction:pue(h.dir)}}(A))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const l=lue(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:r,parent:a}}function r8(t){let e=e8(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){st(n===1,65062);const A=r.from[0];A.allDescendants?a=A.collectionId:e=e.child(A.collectionId)}let s=[];r.where&&(s=function(d){const h=n8(d);return h instanceof ir&&Ak(h)?h.getFilters():[h]}(r.where));let o=[];r.orderBy&&(o=function(d){return d.map(h=>function(p){return new vy(Xu(p.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h))}(r.orderBy));let l=null;r.limit&&(l=function(d){let h;return h=typeof d=="object"?d.value:d,_0(h)?null:h}(r.limit));let c=null;r.startAt&&(c=function(d){const h=!!d.before,f=d.values||[];return new qA(f,h)}(r.startAt));let u=null;return r.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new qA(f,h)}(r.endAt)),Uce(e,a,o,s,l,"F",c,u)}function n8(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Xu(r.unaryFilter.field);return Ft.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=Xu(r.unaryFilter.field);return Ft.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Xu(r.unaryFilter.field);return Ft.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xu(r.unaryFilter.field);return Ft.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return tt(61313);default:return tt(60726)}}(t):t.fieldFilter!==void 0?function(r){return Ft.create(Xu(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return tt(58110);default:return tt(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return ir.create(r.compositeFilter.filters.map(n=>n8(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return tt(1026)}}(r.compositeFilter.op))}(t):tt(30097,{filter:t})}function pue(t){return aue[t]}function gue(t){return sue[t]}function vue(t){return iue[t]}function Wu(t){return{fieldPath:t.canonicalString()}}function Xu(t){return Cr.fromServerFormat(t.fieldPath)}function a8(t){return t instanceof Ft?function(r){if(r.op==="=="){if(uF(r.value))return{unaryFilter:{field:Wu(r.field),op:"IS_NAN"}};if(cF(r.value))return{unaryFilter:{field:Wu(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(uF(r.value))return{unaryFilter:{field:Wu(r.field),op:"IS_NOT_NAN"}};if(cF(r.value))return{unaryFilter:{field:Wu(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wu(r.field),op:gue(r.op),value:r.value}}}(t):t instanceof ir?function(r){const n=r.getFilters().map(a=>a8(a));return n.length===1?n[0]:{compositeFilter:{op:vue(r.op),filters:n}}}(t):tt(54877,{filter:t})}function yue(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function xue(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,r,n,a,s=Ot.min(),o=Ot.min(),l=da.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new tA(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new tA(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tA(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tA(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e){this.wt=e}}function bue(t,e){let r;if(e.document)r=due(t.wt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=ze.fromSegments(e.noDocument.path),a=$c(e.noDocument.readTime);r=mn.newNoDocument(n,a),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return tt(56709);{const n=ze.fromSegments(e.unknownDocument.path),a=$c(e.unknownDocument.version);r=mn.newUnknownDocument(n,a)}}return e.readTime&&r.setReadTime(function(a){const s=new kr(a[0],a[1]);return Ot.fromTimestamp(s)}(e.readTime)),r}function jF(t,e){const r=e.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:wy(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=function(s,o){return{name:xy(s,o.key),fields:o.data.value.mapValue.fields,updateTime:am(s,o.version.toTimestamp()),createTime:am(s,o.createTime.toTimestamp())}}(t.wt,e);else if(e.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:Hc(e.version)};else{if(!e.isUnknownDocument())return tt(57904,{document:e});n.unknownDocument={path:r.path.toArray(),version:Hc(e.version)}}return n}function wy(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Hc(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function $c(t){const e=new kr(t.seconds,t.nanoseconds);return Ot.fromTimestamp(e)}function lc(t,e){const r=(e.baseMutations||[]).map(s=>GE(t.wt,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const l=e.mutations[s+1];o.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const n=e.mutations.map(s=>GE(t.wt,s)),a=kr.fromMillis(e.localWriteTimeMs);return new fk(e.batchId,a,r,n)}function zh(t){const e=$c(t.readTime),r=t.lastLimboFreeSnapshotVersion!==void 0?$c(t.lastLimboFreeSnapshotVersion):Ot.min();let n;return n=function(s){return s.documents!==void 0}(t.query)?function(s){const o=s.documents.length;return st(o===1,1966,{count:o}),Di(UV(e8(s.documents[0])))}(t.query):function(s){return Di(r8(s))}(t.query),new tA(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,r,da.fromBase64String(t.resumeToken))}function i8(t,e){const r=Hc(e.snapshotVersion),n=Hc(e.lastLimboFreeSnapshotVersion);let a;a=Rce(e.target)?fue(t.wt,e.target):mue(t.wt,e.target).gt;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Lc(e.target),readTime:r,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:a}}function o8(t){const e=r8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?KE(e,e.limit,"L"):e}function Ew(t,e){return new pk(e.largestBatchId,GE(t.wt,e.overlayMutation))}function _F(t,e){const r=e.path.lastSegment();return[t,Un(e.path.popLast()),r]}function CF(t,e,r,n){return{indexId:t,uid:e,sequenceNumber:r,readTime:Hc(n.readTime),documentKey:Un(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wue{getBundleMetadata(e,r){return BF(e).get(r).next(n=>{if(n)return function(s){return{id:s.bundleId,createTime:$c(s.createTime),version:s.version}}(n)})}saveBundleMetadata(e,r){return BF(e).put(function(a){return{bundleId:a.id,createTime:Hc(ws(a.createTime)),version:a.version}}(r))}getNamedQuery(e,r){return EF(e).get(r).next(n=>{if(n)return function(s){return{name:s.name,query:o8(s.bundledQuery),readTime:$c(s.readTime)}}(n)})}saveNamedQuery(e,r){return EF(e).put(function(a){return{name:a.name,readTime:Hc(ws(a.readTime)),bundledQuery:a.bundledQuery}}(r))}}function BF(t){return Xr(t,C0)}function EF(t){return Xr(t,B0)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,r){this.serializer=e,this.userId=r}static St(e,r){const n=r.uid||"";return new P0(e,n)}getOverlay(e,r){return xh(e).get(_F(this.userId,r)).next(n=>n?Ew(this.serializer,n):null)}getOverlays(e,r){const n=Ws();return ne.forEach(r,a=>this.getOverlay(e,a).next(s=>{s!==null&&n.set(a,s)})).next(()=>n)}saveOverlays(e,r,n){const a=[];return n.forEach((s,o)=>{const l=new pk(r,o);a.push(this.bt(e,l))}),ne.waitFor(a)}removeOverlaysForBatchId(e,r,n){const a=new Set;r.forEach(o=>a.add(Un(o.getCollectionPath())));const s=[];return a.forEach(o=>{const l=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,n+1],!1,!0);s.push(xh(e).X(UE,l))}),ne.waitFor(s)}getOverlaysForCollection(e,r,n){const a=Ws(),s=Un(r),o=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,Number.POSITIVE_INFINITY],!0);return xh(e).J(UE,o).next(l=>{for(const c of l){const u=Ew(this.serializer,c);a.set(u.getKey(),u)}return a})}getOverlaysForCollectionGroup(e,r,n,a){const s=Ws();let o;const l=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return xh(e).te({index:gV,range:l},(c,u,A)=>{const d=Ew(this.serializer,u);s.size()<a||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):A.done()}).next(()=>s)}bt(e,r){return xh(e).put(function(a,s,o){const[l,c,u]=_F(s,o.mutation.key);return{userId:s,collectionPath:c,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:by(a.wt,o.mutation)}}(this.serializer,this.userId,r))}}function xh(t){return Xr(t,E0)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jue{Dt(e){return Xr(e,ak)}getSessionToken(e){return this.Dt(e).get("sessionToken").next(r=>{const n=r==null?void 0:r.value;return n?da.fromUint8Array(n):da.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Dt(e).put({name:"sessionToken",value:r.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(){}vt(e,r){this.Ct(e,r),r.Ft()}Ct(e,r){if("nullValue"in e)this.Mt(r,5);else if("booleanValue"in e)this.Mt(r,10),r.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(r,15),r.xt(Qr(e.integerValue));else if("doubleValue"in e){const n=Qr(e.doubleValue);isNaN(n)?this.Mt(r,13):(this.Mt(r,15),Wf(n)?r.xt(0):r.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(r,20),typeof n=="string"&&(n=pl(n)),r.Ot(`${n.seconds||""}`),r.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,r),this.Bt(r);else if("bytesValue"in e)this.Mt(r,30),r.Lt(Mc(e.bytesValue)),this.Bt(r);else if("referenceValue"in e)this.kt(e.referenceValue,r);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(r,45),r.xt(n.latitude||0),r.xt(n.longitude||0)}else"mapValue"in e?SV(e)?this.Mt(r,Number.MAX_SAFE_INTEGER):S0(e)?this.qt(e.mapValue,r):(this.Qt(e.mapValue,r),this.Bt(r)):"arrayValue"in e?(this.$t(e.arrayValue,r),this.Bt(r)):tt(19022,{Ut:e})}Nt(e,r){this.Mt(r,25),this.Kt(e,r)}Kt(e,r){r.Ot(e)}Qt(e,r){const n=e.fields||{};this.Mt(r,55);for(const a of Object.keys(n))this.Nt(a,r),this.Ct(n[a],r)}qt(e,r){var n,a;const s=e.fields||{};this.Mt(r,53);const o=Zf,l=((a=(n=s[o].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.length)||0;this.Mt(r,15),r.xt(Qr(l)),this.Nt(o,r),this.Ct(s[o],r)}$t(e,r){const n=e.values||[];this.Mt(r,50);for(const a of n)this.Ct(a,r)}kt(e,r){this.Mt(r,37),ze.fromName(e).path.forEach(n=>{this.Mt(r,60),this.Kt(n,r)})}Mt(e,r){e.xt(r)}Bt(e){e.xt(2)}}cc.Wt=new cc;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=255;function _ue(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function SF(t){const e=64-function(n){let a=0;for(let s=0;s<8;++s){const o=_ue(255&n[s]);if(a+=o,o!==8)break}return a}(t);return Math.ceil(e/8)}class Cue{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.zt(n.value),n=r.next();this.jt()}Ht(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Jt(n.value),n=r.next();this.Yt()}Zt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.zt(n);else if(n<2048)this.zt(960|n>>>6),this.zt(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.zt(480|n>>>12),this.zt(128|63&n>>>6),this.zt(128|63&n);else{const a=r.codePointAt(0);this.zt(240|a>>>18),this.zt(128|63&a>>>12),this.zt(128|63&a>>>6),this.zt(128|63&a)}}this.jt()}Xt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Jt(n);else if(n<2048)this.Jt(960|n>>>6),this.Jt(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Jt(480|n>>>12),this.Jt(128|63&n>>>6),this.Jt(128|63&n);else{const a=r.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Yt()}en(e){const r=this.tn(e),n=SF(r);this.nn(1+n),this.buffer[this.position++]=255&n;for(let a=r.length-n;a<r.length;++a)this.buffer[this.position++]=255&r[a]}rn(e){const r=this.tn(e),n=SF(r);this.nn(1+n),this.buffer[this.position++]=~(255&n);for(let a=r.length-n;a<r.length;++a)this.buffer[this.position++]=~(255&r[a])}sn(){this._n(Cu),this._n(255)}an(){this.un(Cu),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const r=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),n=!!(128&r[0]);r[0]^=n?255:128;for(let a=1;a<r.length;++a)r[a]^=n?255:0;return r}zt(e){const r=255&e;r===0?(this._n(0),this._n(255)):r===Cu?(this._n(Cu),this._n(0)):this._n(r)}Jt(e){const r=255&e;r===0?(this.un(0),this.un(255)):r===Cu?(this.un(Cu),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const r=e+this.position;if(r<=this.buffer.length)return;let n=2*this.buffer.length;n<r&&(n=r);const a=new Uint8Array(n);a.set(this.buffer),this.buffer=a}}class Bue{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class Eue{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class bh{constructor(){this.ln=new Cue,this.hn=new Bue(this.ln),this.Pn=new Eue(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return e===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,r,n,a){this.In=e,this.En=r,this.dn=n,this.An=a}Rn(){const e=this.An.length,r=e===0||this.An[e-1]===255?e+1:e,n=new Uint8Array(r);return n.set(this.An,0),r!==e?n.set([0],this.An.length):++n[n.length-1],new uc(this.In,this.En,this.dn,n)}Vn(e,r,n){return{indexId:this.In,uid:e,arrayValue:Mv(this.dn),directionalValue:Mv(this.An),orderedDocumentKey:Mv(r),documentKey:n.path.toArray()}}mn(e,r,n){const a=this.Vn(e,r,n);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function go(t,e){let r=t.In-e.In;return r!==0?r:(r=NF(t.dn,e.dn),r!==0?r:(r=NF(t.An,e.An),r!==0?r:ze.comparator(t.En,e.En)))}function NF(t,e){for(let r=0;r<t.length&&r<e.length;++r){const n=t[r]-e[r];if(n!==0)return n}return t.length-e.length}function Mv(t){return V$()?function(r){let n="";for(let a=0;a<r.length;a++)n+=String.fromCharCode(r[a]);return n}(t):t}function TF(t){return typeof t!="string"?t:function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(t)}class kF{constructor(e){this.fn=new Ar((r,n)=>Cr.comparator(r.field,n.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.gn=e.orderBy,this.pn=[];for(const r of e.filters){const n=r;n.isInequality()?this.fn=this.fn.add(n):this.pn.push(n)}}get yn(){return this.fn.size>1}wn(e){if(st(e.collectionGroup===this.collectionId,49279),this.yn)return!1;const r=FE(e);if(r!==void 0&&!this.Sn(r))return!1;const n=ec(e);let a=new Set,s=0,o=0;for(;s<n.length&&this.Sn(n[s]);++s)a=a.add(n[s].fieldPath.canonicalString());if(s===n.length)return!0;if(this.fn.size>0){const l=this.fn.getIterator().getNext();if(!a.has(l.field.canonicalString())){const c=n[s];if(!this.bn(l,c)||!this.Dn(this.gn[o++],c))return!1}++s}for(;s<n.length;++s){const l=n[s];if(o>=this.gn.length||!this.Dn(this.gn[o++],l))return!1}return!0}vn(){if(this.yn)return null;let e=new Ar(Cr.comparator);const r=[];for(const n of this.pn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")r.push(new kv(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),r.push(new kv(n.field,0))}for(const n of this.gn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),r.push(new kv(n.field,n.dir==="asc"?0:1)));return new dy(dy.UNKNOWN_ID,this.collectionId,r,zf.empty())}Sn(e){for(const r of this.pn)if(this.bn(r,e))return!0;return!1}bn(e,r){if(e===void 0||!e.field.isEqual(r.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return r.kind===2===n}Dn(e,r){return!!e.field.isEqual(r.fieldPath)&&(r.kind===0&&e.dir==="asc"||r.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(t){var e,r;if(st(t instanceof Ft||t instanceof ir,20012),t instanceof Ft){if(t instanceof RV){const a=((r=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||r===void 0?void 0:r.map(s=>Ft.create(t.field,"==",s)))||[];return ir.create(a,"or")}return t}const n=t.filters.map(a=>l8(a));return ir.create(n,t.op)}function Sue(t){if(t.getFilters().length===0)return[];const e=XE(l8(t));return st(c8(e),7391),zE(e)||WE(e)?[e]:e.getFilters()}function zE(t){return t instanceof Ft}function WE(t){return t instanceof ir&&Ak(t)}function c8(t){return zE(t)||WE(t)||function(r){if(r instanceof ir&&HE(r)){for(const n of r.getFilters())if(!zE(n)&&!WE(n))return!1;return!0}return!1}(t)}function XE(t){if(st(t instanceof Ft||t instanceof ir,34018),t instanceof Ft)return t;if(t.filters.length===1)return XE(t.filters[0]);const e=t.filters.map(n=>XE(n));let r=ir.create(e,t.op);return r=jy(r),c8(r)?r:(st(r instanceof ir,64498),st(GA(r),40251),st(r.filters.length>1,57927),r.filters.reduce((n,a)=>vk(n,a)))}function vk(t,e){let r;return st(t instanceof Ft||t instanceof ir,38388),st(e instanceof Ft||e instanceof ir,25473),r=t instanceof Ft?e instanceof Ft?function(a,s){return ir.create([a,s],"and")}(t,e):IF(t,e):e instanceof Ft?IF(e,t):function(a,s){if(st(a.filters.length>0&&s.filters.length>0,48005),GA(a)&&GA(s))return OV(a,s.getFilters());const o=HE(a)?a:s,l=HE(a)?s:a,c=o.filters.map(u=>vk(u,l));return ir.create(c,"or")}(t,e),jy(r)}function IF(t,e){if(GA(e))return OV(e,t.getFilters());{const r=e.filters.map(n=>vk(t,n));return ir.create(r,"or")}}function jy(t){if(st(t instanceof Ft||t instanceof ir,11850),t instanceof Ft)return t;const e=t.getFilters();if(e.length===1)return jy(e[0]);if(IV(t))return t;const r=e.map(a=>jy(a)),n=[];return r.forEach(a=>{a instanceof Ft?n.push(a):a instanceof ir&&(a.op===t.op?n.push(...a.filters):n.push(a))}),n.length===1?n[0]:ir.create(n,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nue{constructor(){this.Cn=new yk}addToCollectionParentIndex(e,r){return this.Cn.add(r),ne.resolve()}getCollectionParents(e,r){return ne.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return ne.resolve()}deleteFieldIndex(e,r){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,r){return ne.resolve()}getDocumentsMatchingTarget(e,r){return ne.resolve(null)}getIndexType(e,r){return ne.resolve(0)}getFieldIndexes(e,r){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,r){return ne.resolve(Pa.min())}getMinOffsetFromCollectionGroup(e,r){return ne.resolve(Pa.min())}updateCollectionGroup(e,r,n){return ne.resolve()}updateIndexEntries(e,r){return ne.resolve()}}class yk{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r]||new Ar(cr.comparator),s=!a.has(n);return this.index[r]=a.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(e){return(this.index[e]||new Ar(cr.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF="IndexedDbIndexManager",Ig=new Uint8Array(0);class Tue{constructor(e,r){this.databaseId=r,this.Fn=new yk,this.Mn=new ao(n=>Lc(n),(n,a)=>Cp(n,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.Fn.has(r)){const n=r.lastSegment(),a=r.popLast();e.addOnCommittedListener(()=>{this.Fn.add(r)});const s={collectionId:n,parent:Un(a)};return OF(e).put(s)}return ne.resolve()}getCollectionParents(e,r){const n=[],a=IDBKeyRange.bound([r,""],[oV(r),""],!1,!0);return OF(e).J(a).next(s=>{for(const o of s){if(o.collectionId!==r)break;n.push(zs(o.parent))}return n})}addFieldIndex(e,r){const n=wh(e),a=function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(r);delete a.indexId;const s=n.add(a);if(r.indexState){const o=Eu(e);return s.next(l=>{o.put(CF(l,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return s.next()}deleteFieldIndex(e,r){const n=wh(e),a=Eu(e),s=Bu(e);return n.delete(r.indexId).next(()=>a.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=wh(e),n=Bu(e),a=Eu(e);return r.X().next(()=>n.X()).next(()=>a.X())}createTargetIndexes(e,r){return ne.forEach(this.xn(r),n=>this.getIndexType(e,n).next(a=>{if(a===0||a===1){const s=new kF(n).vn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,r){const n=Bu(e);let a=!0;const s=new Map;return ne.forEach(this.xn(r),o=>this.On(e,o).next(l=>{a&&(a=!!l),s.set(o,l)})).next(()=>{if(a){let o=Kr();const l=[];return ne.forEach(s,(c,u)=>{Se(PF,`Using index ${function(_){return`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(w=>`${w.fieldPath}:${w.kind}`).join(",")}`}(c)} to execute ${Lc(r)}`);const A=function(_,w){const C=FE(w);if(C===void 0)return null;for(const E of yy(_,C.fieldPath))switch(E.op){case"array-contains-any":return E.value.arrayValue.values||[];case"array-contains":return[E.value]}return null}(u,c),d=function(_,w){const C=new Map;for(const E of ec(w))for(const j of yy(_,E.fieldPath))switch(j.op){case"==":case"in":C.set(E.fieldPath.canonicalString(),j.value);break;case"not-in":case"!=":return C.set(E.fieldPath.canonicalString(),j.value),Array.from(C.values())}return null}(u,c),h=function(_,w){const C=[];let E=!0;for(const j of ec(w)){const B=j.kind===0?mF(_,j.fieldPath,_.startAt):pF(_,j.fieldPath,_.startAt);C.push(B.value),E&&(E=B.inclusive)}return new qA(C,E)}(u,c),f=function(_,w){const C=[];let E=!0;for(const j of ec(w)){const B=j.kind===0?pF(_,j.fieldPath,_.endAt):mF(_,j.fieldPath,_.endAt);C.push(B.value),E&&(E=B.inclusive)}return new qA(C,E)}(u,c),p=this.Nn(c,u,h),g=this.Nn(c,u,f),m=this.Bn(c,u,d),x=this.Ln(c.indexId,A,p,h.inclusive,g,f.inclusive,m);return ne.forEach(x,b=>n.Z(b,r.limit).next(_=>{_.forEach(w=>{const C=ze.fromSegments(w.documentKey);o.has(C)||(o=o.add(C),l.push(C))})}))}).next(()=>l)}return ne.resolve(null)})}xn(e){let r=this.Mn.get(e);return r||(e.filters.length===0?r=[e]:r=Sue(ir.create(e.filters,"and")).map(n=>VE(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt)),this.Mn.set(e,r),r)}Ln(e,r,n,a,s,o,l){const c=(r!=null?r.length:1)*Math.max(n.length,s.length),u=c/(r!=null?r.length:1),A=[];for(let d=0;d<c;++d){const h=r?this.kn(r[d/u]):Ig,f=this.qn(e,h,n[d%u],a),p=this.Qn(e,h,s[d%u],o),g=l.map(m=>this.qn(e,h,m,!0));A.push(...this.createRange(f,p,g))}return A}qn(e,r,n,a){const s=new uc(e,ze.empty(),r,n);return a?s:s.Rn()}Qn(e,r,n,a){const s=new uc(e,ze.empty(),r,n);return a?s.Rn():s}On(e,r){const n=new kF(r),a=r.collectionGroup!=null?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,a).next(s=>{let o=null;for(const l of s)n.wn(l)&&(!o||l.fields.length>o.fields.length)&&(o=l);return o})}getIndexType(e,r){let n=2;const a=this.xn(r);return ne.forEach(a,s=>this.On(e,s).next(o=>{o?n!==0&&o.fields.length<function(c){let u=new Ar(Cr.comparator),A=!1;for(const d of c.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?A=!0:u=u.add(h.field));for(const d of c.orderBy)d.field.isKeyField()||(u=u.add(d.field));return u.size+(A?1:0)}(s)&&(n=1):n=0})).next(()=>function(o){return o.limit!==null}(r)&&a.length>1&&n===2?1:n)}$n(e,r){const n=new bh;for(const a of ec(e)){const s=r.data.field(a.fieldPath);if(s==null)return null;const o=n.Tn(a.kind);cc.Wt.vt(s,o)}return n.cn()}kn(e){const r=new bh;return cc.Wt.vt(e,r.Tn(0)),r.cn()}Un(e,r){const n=new bh;return cc.Wt.vt(uk(this.databaseId,r),n.Tn(function(s){const o=ec(s);return o.length===0?0:o[o.length-1].kind}(e))),n.cn()}Bn(e,r,n){if(n===null)return[];let a=[];a.push(new bh);let s=0;for(const o of ec(e)){const l=n[s++];for(const c of a)if(this.Kn(r,o.fieldPath)&&tm(l))a=this.Wn(a,o,l);else{const u=c.Tn(o.kind);cc.Wt.vt(l,u)}}return this.Gn(a)}Nn(e,r,n){return this.Bn(e,r,n.position)}Gn(e){const r=[];for(let n=0;n<e.length;++n)r[n]=e[n].cn();return r}Wn(e,r,n){const a=[...e],s=[];for(const o of n.arrayValue.values||[])for(const l of a){const c=new bh;c.seed(l.cn()),cc.Wt.vt(o,c.Tn(r.kind)),s.push(c)}return s}Kn(e,r){return!!e.filters.find(n=>n instanceof Ft&&n.field.isEqual(r)&&(n.op==="in"||n.op==="not-in"))}getFieldIndexes(e,r){const n=wh(e),a=Eu(e);return(r?n.J(RE,IDBKeyRange.bound(r,r)):n.J()).next(s=>{const o=[];return ne.forEach(s,l=>a.get([l.indexId,this.uid]).next(c=>{o.push(function(A,d){const h=d?new zf(d.sequenceNumber,new Pa($c(d.readTime),new ze(zs(d.documentKey)),d.largestBatchId)):zf.empty(),f=A.fields.map(([p,g])=>new kv(Cr.fromServerFormat(p),g));return new dy(A.indexId,A.collectionGroup,f,h)}(l,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>r.length===0?null:(r.sort((n,a)=>{const s=n.indexState.sequenceNumber-a.indexState.sequenceNumber;return s!==0?s:vt(n.collectionGroup,a.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,n){const a=wh(e),s=Eu(e);return this.zn(e).next(o=>a.J(RE,IDBKeyRange.bound(r,r)).next(l=>ne.forEach(l,c=>s.put(CF(c.indexId,this.uid,o,n)))))}updateIndexEntries(e,r){const n=new Map;return ne.forEach(r,(a,s)=>{const o=n.get(a.collectionGroup);return(o?ne.resolve(o):this.getFieldIndexes(e,a.collectionGroup)).next(l=>(n.set(a.collectionGroup,l),ne.forEach(l,c=>this.jn(e,a,c).next(u=>{const A=this.Hn(s,c);return u.isEqual(A)?ne.resolve():this.Jn(e,s,c,u,A)}))))})}Yn(e,r,n,a){return Bu(e).put(a.Vn(this.uid,this.Un(n,r.key),r.key))}Zn(e,r,n,a){return Bu(e).delete(a.mn(this.uid,this.Un(n,r.key),r.key))}jn(e,r,n){const a=Bu(e);let s=new Ar(go);return a.te({index:pV,range:IDBKeyRange.only([n.indexId,this.uid,Mv(this.Un(n,r))])},(o,l)=>{s=s.add(new uc(n.indexId,r,TF(l.arrayValue),TF(l.directionalValue)))}).next(()=>s)}Hn(e,r){let n=new Ar(go);const a=this.$n(r,e);if(a==null)return n;const s=FE(r);if(s!=null){const o=e.data.field(s.fieldPath);if(tm(o))for(const l of o.arrayValue.values||[])n=n.add(new uc(r.indexId,e.key,this.kn(l),a))}else n=n.add(new uc(r.indexId,e.key,Ig,a));return n}Jn(e,r,n,a,s){Se(PF,"Updating index entries for document '%s'",r.key);const o=[];return function(c,u,A,d,h){const f=c.getIterator(),p=u.getIterator();let g=_u(f),m=_u(p);for(;g||m;){let x=!1,b=!1;if(g&&m){const _=A(g,m);_<0?b=!0:_>0&&(x=!0)}else g!=null?b=!0:x=!0;x?(d(m),m=_u(p)):b?(h(g),g=_u(f)):(g=_u(f),m=_u(p))}}(a,s,go,l=>{o.push(this.Yn(e,r,n,l))},l=>{o.push(this.Zn(e,r,n,l))}),ne.waitFor(o)}zn(e){let r=1;return Eu(e).te({index:mV,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,a,s)=>{s.done(),r=a.sequenceNumber+1}).next(()=>r)}createRange(e,r,n){n=n.sort((o,l)=>go(o,l)).filter((o,l,c)=>!l||go(o,c[l-1])!==0);const a=[];a.push(e);for(const o of n){const l=go(o,e),c=go(o,r);if(l===0)a[0]=e.Rn();else if(l>0&&c<0)a.push(o),a.push(o.Rn());else if(c>0)break}a.push(r);const s=[];for(let o=0;o<a.length;o+=2){if(this.Xn(a[o],a[o+1]))return[];const l=a[o].mn(this.uid,Ig,ze.empty()),c=a[o+1].mn(this.uid,Ig,ze.empty());s.push(IDBKeyRange.bound(l,c))}return s}Xn(e,r){return go(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(FF)}getMinOffset(e,r){return ne.mapArray(this.xn(r),n=>this.On(e,n).next(a=>a||tt(44426))).next(FF)}}function OF(t){return Xr(t,Yf)}function Bu(t){return Xr(t,vf)}function wh(t){return Xr(t,nk)}function Eu(t){return Xr(t,gf)}function FF(t){st(t.length!==0,28825);let e=t[0].indexState.offset,r=e.largestBatchId;for(let n=1;n<t.length;n++){const a=t[n].indexState.offset;ek(a,e)<0&&(e=a),r<a.largestBatchId&&(r=a.largestBatchId)}return new Pa(e.readTime,e.documentKey,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},u8=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A8(t,e,r){const n=t.store(cs),a=t.store(QA),s=[],o=IDBKeyRange.only(r.batchId);let l=0;const c=n.te({range:o},(A,d,h)=>(l++,h.delete()));s.push(c.next(()=>{st(l===1,47070,{batchId:r.batchId})}));const u=[];for(const A of r.mutations){const d=dV(e,A.key.path,r.batchId);s.push(a.delete(d)),u.push(A.key)}return ne.waitFor(s).next(()=>u)}function _y(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw tt(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(u8,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class O0{constructor(e,r,n,a){this.userId=e,this.serializer=r,this.indexManager=n,this.referenceDelegate=a,this.er={}}static St(e,r,n,a){st(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new O0(s,r,n,a)}checkEmpty(e){let r=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vo(e).te({index:hc,range:n},(a,s,o)=>{r=!1,o.done()}).next(()=>r)}addMutationBatch(e,r,n,a){const s=Ju(e),o=vo(e);return o.add({}).next(l=>{st(typeof l=="number",49019);const c=new fk(l,r,n,a),u=function(f,p,g){const m=g.baseMutations.map(b=>by(f.wt,b)),x=g.mutations.map(b=>by(f.wt,b));return{userId:p,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:m,mutations:x}}(this.serializer,this.userId,c),A=[];let d=new Ar((h,f)=>vt(h.canonicalString(),f.canonicalString()));for(const h of a){const f=dV(this.userId,h.key.path,l);d=d.add(h.key.path.popLast()),A.push(o.put(u)),A.push(s.put(f,ece))}return d.forEach(h=>{A.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.er[l]=c.keys()}),ne.waitFor(A).next(()=>c)})}lookupMutationBatch(e,r){return vo(e).get(r).next(n=>n?(st(n.userId===this.userId,48,"Unexpected user for mutation batch",{userId:n.userId,batchId:r}),lc(this.serializer,n)):null)}tr(e,r){return this.er[r]?ne.resolve(this.er[r]):this.lookupMutationBatch(e,r).next(n=>{if(n){const a=n.keys();return this.er[r]=a,a}return null})}getNextMutationBatchAfterBatchId(e,r){const n=r+1,a=IDBKeyRange.lowerBound([this.userId,n]);let s=null;return vo(e).te({index:hc,range:a},(o,l,c)=>{l.userId===this.userId&&(st(l.batchId>=n,47524,{nr:n}),s=lc(this.serializer,l)),c.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=Sc;return vo(e).te({index:hc,range:r,reverse:!0},(a,s,o)=>{n=s.batchId,o.done()}).next(()=>n)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,Sc],[this.userId,Number.POSITIVE_INFINITY]);return vo(e).J(hc,r).next(n=>n.map(a=>lc(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,r){const n=Iv(this.userId,r.path),a=IDBKeyRange.lowerBound(n),s=[];return Ju(e).te({range:a},(o,l,c)=>{const[u,A,d]=o,h=zs(A);if(u===this.userId&&r.path.isEqual(h))return vo(e).get(d).next(f=>{if(!f)throw tt(61480,{rr:o,batchId:d});st(f.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:f.userId,batchId:d}),s.push(lc(this.serializer,f))});c.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Ar(vt);const a=[];return r.forEach(s=>{const o=Iv(this.userId,s.path),l=IDBKeyRange.lowerBound(o),c=Ju(e).te({range:l},(u,A,d)=>{const[h,f,p]=u,g=zs(f);h===this.userId&&s.path.isEqual(g)?n=n.add(p):d.done()});a.push(c)}),ne.waitFor(a).next(()=>this.ir(e,n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,a=n.length+1,s=Iv(this.userId,n),o=IDBKeyRange.lowerBound(s);let l=new Ar(vt);return Ju(e).te({range:o},(c,u,A)=>{const[d,h,f]=c,p=zs(h);d===this.userId&&n.isPrefixOf(p)?p.length===a&&(l=l.add(f)):A.done()}).next(()=>this.ir(e,l))}ir(e,r){const n=[],a=[];return r.forEach(s=>{a.push(vo(e).get(s).next(o=>{if(o===null)throw tt(35274,{batchId:s});st(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:s}),n.push(lc(this.serializer,o))}))}),ne.waitFor(a).next(()=>n)}removeMutationBatch(e,r){return A8(e.he,this.userId,r).next(n=>(e.addOnCommittedListener(()=>{this.sr(r.batchId)}),ne.forEach(n,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}sr(e){delete this.er[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return ne.resolve();const n=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),a=[];return Ju(e).te({range:n},(s,o,l)=>{if(s[0]===this.userId){const c=zs(s[1]);a.push(c)}else l.done()}).next(()=>{st(a.length===0,56720,{_r:a.map(s=>s.canonicalString())})})})}containsKey(e,r){return d8(e,this.userId,r)}ar(e){return h8(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:Sc,lastStreamToken:""})}}function d8(t,e,r){const n=Iv(e,r.path),a=n[1],s=IDBKeyRange.lowerBound(n);let o=!1;return Ju(t).te({range:s,ee:!0},(l,c,u)=>{const[A,d,h]=l;A===e&&d===a&&(o=!0),u.done()}).next(()=>o)}function vo(t){return Xr(t,cs)}function Ju(t){return Xr(t,QA)}function h8(t){return Xr(t,Xf)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Vc(0)}static lr(){return new Vc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kue{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.hr(e).next(r=>{const n=new Vc(r.highestTargetId);return r.highestTargetId=n.next(),this.Pr(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.hr(e).next(r=>Ot.fromTimestamp(new kr(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.hr(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,n){return this.hr(e).next(a=>(a.highestListenSequenceNumber=r,n&&(a.lastRemoteSnapshotVersion=n.toTimestamp()),r>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=r),this.Pr(e,a)))}addTargetData(e,r){return this.Tr(e,r).next(()=>this.hr(e).next(n=>(n.targetCount+=1,this.Ir(r,n),this.Pr(e,n))))}updateTargetData(e,r){return this.Tr(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Su(e).delete(r.targetId)).next(()=>this.hr(e)).next(n=>(st(n.targetCount>0,8065),n.targetCount-=1,this.Pr(e,n)))}removeTargets(e,r,n){let a=0;const s=[];return Su(e).te((o,l)=>{const c=zh(l);c.sequenceNumber<=r&&n.get(c.targetId)===null&&(a++,s.push(this.removeTargetData(e,c)))}).next(()=>ne.waitFor(s)).next(()=>a)}forEachTarget(e,r){return Su(e).te((n,a)=>{const s=zh(a);r(s)})}hr(e){return RF(e).get(my).next(r=>(st(r!==null,2888),r))}Pr(e,r){return RF(e).put(my,r)}Tr(e,r){return Su(e).put(i8(this.serializer,r))}Ir(e,r){let n=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,n=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.hr(e).next(r=>r.targetCount)}getTargetData(e,r){const n=Lc(r),a=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let s=null;return Su(e).te({range:a,index:fV},(o,l,c)=>{const u=zh(l);Cp(r,u.target)&&(s=u,c.done())}).next(()=>s)}addMatchingKeys(e,r,n){const a=[],s=Po(e);return r.forEach(o=>{const l=Un(o.path);a.push(s.put({targetId:n,path:l})),a.push(this.referenceDelegate.addReference(e,n,o))}),ne.waitFor(a)}removeMatchingKeys(e,r,n){const a=Po(e);return ne.forEach(r,s=>{const o=Un(s.path);return ne.waitFor([a.delete([n,o]),this.referenceDelegate.removeReference(e,n,s)])})}removeMatchingKeysForTargetId(e,r){const n=Po(e),a=IDBKeyRange.bound([r],[r+1],!1,!0);return n.delete(a)}getMatchingKeysForTargetId(e,r){const n=IDBKeyRange.bound([r],[r+1],!1,!0),a=Po(e);let s=Kr();return a.te({range:n,ee:!0},(o,l,c)=>{const u=zs(o[1]),A=new ze(u);s=s.add(A)}).next(()=>s)}containsKey(e,r){const n=Un(r.path),a=IDBKeyRange.bound([n],[oV(n)],!1,!0);let s=0;return Po(e).te({index:rk,ee:!0,range:a},([o,l],c,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}Rt(e,r){return Su(e).get(r).next(n=>n?zh(n):null)}}function Su(t){return Xr(t,LA)}function RF(t){return Xr(t,Nc)}function Po(t){return Xr(t,HA)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF="LruGarbageCollector",Iue=1048576;function MF([t,e],[r,n]){const a=vt(t,r);return a===0?vt(e,n):a}class Pue{constructor(e){this.Er=e,this.buffer=new Ar(MF),this.dr=0}Ar(){return++this.dr}Rr(e){const r=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();MF(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class f8{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Se(UF,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){su(r)?Se(UF,"Ignoring IndexedDB error during garbage collection: ",r):await w0(r)}await this.mr(3e5)})}}class Oue{constructor(e,r){this.gr=e,this.params=r}calculateTargetCount(e,r){return this.gr.pr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return ne.resolve(gs.le);const n=new Pue(r);return this.gr.forEachTarget(e,a=>n.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>n.Rr(a))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.gr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.gr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(DF)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DF):this.wr(e,r))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,r){let n,a,s,o,l,c,u;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),a=this.params.maximumSequenceNumbersToCollect):a=d,o=Date.now(),this.nthSequenceNumber(e,a))).next(d=>(n=d,l=Date.now(),this.removeTargets(e,n,r))).next(d=>(s=d,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(d=>(u=Date.now(),zu()<=Ut.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-A}ms
	Determined least recently used ${a} in `+(l-o)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${d} documents in `+(u-c)+`ms
Total Duration: ${u-A}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:d})))}}function m8(t,e){return new Oue(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fue{constructor(e,r){this.db=e,this.garbageCollector=m8(this,r)}pr(e){const r=this.Sr(e);return this.db.getTargetCache().getTargetCount(e).next(n=>r.next(a=>n+a))}Sr(e){let r=0;return this.yr(e,n=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}yr(e,r){return this.br(e,(n,a)=>r(a))}addReference(e,r,n){return Pg(e,n)}removeReference(e,r,n){return Pg(e,n)}removeTargets(e,r,n){return this.db.getTargetCache().removeTargets(e,r,n)}markPotentiallyOrphaned(e,r){return Pg(e,r)}Dr(e,r){return function(a,s){let o=!1;return h8(a).ne(l=>d8(a,l,s).next(c=>(c&&(o=!0),ne.resolve(!c)))).next(()=>o)}(e,r)}removeOrphanedDocuments(e,r){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let s=0;return this.br(e,(o,l)=>{if(l<=r){const c=this.Dr(e,o).next(u=>{if(!u)return s++,n.getEntry(e,o).next(()=>(n.removeEntry(o,Ot.min()),Po(e).delete(function(d){return[0,Un(d.path)]}(o))))});a.push(c)}}).next(()=>ne.waitFor(a)).next(()=>n.apply(e)).next(()=>s)}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,r){return Pg(e,r)}br(e,r){const n=Po(e);let a,s=gs.le;return n.te({index:rk},([o,l],{path:c,sequenceNumber:u})=>{o===0?(s!==gs.le&&r(new ze(zs(a)),s),s=u,a=c):s=gs.le}).next(()=>{s!==gs.le&&r(new ze(zs(a)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Pg(t,e){return Po(t).put(function(n,a){return{targetId:0,path:Un(n.path),sequenceNumber:a}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(){this.changes=new ao(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ne.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Due{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,n){return ql(e).put(n)}removeEntry(e,r,n){return ql(e).delete(function(s,o){const l=s.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],wy(o),l[l.length-1]]}(r,n))}updateMetadata(e,r){return this.getMetadata(e).next(n=>(n.byteSize+=r,this.vr(e,n)))}getEntry(e,r){let n=mn.newInvalidDocument(r);return ql(e).te({index:Pv,range:IDBKeyRange.only(jh(r))},(a,s)=>{n=this.Cr(r,s)}).next(()=>n)}Fr(e,r){let n={size:0,document:mn.newInvalidDocument(r)};return ql(e).te({index:Pv,range:IDBKeyRange.only(jh(r))},(a,s)=>{n={document:this.Cr(r,s),size:_y(s)}}).next(()=>n)}getEntries(e,r){let n=Go();return this.Mr(e,r,(a,s)=>{const o=this.Cr(a,s);n=n.insert(a,o)}).next(()=>n)}Or(e,r){let n=Go(),a=new Zn(ze.comparator);return this.Mr(e,r,(s,o)=>{const l=this.Cr(s,o);n=n.insert(s,l),a=a.insert(s,_y(o))}).next(()=>({documents:n,Nr:a}))}Mr(e,r,n){if(r.isEmpty())return ne.resolve();let a=new Ar(HF);r.forEach(c=>a=a.add(c));const s=IDBKeyRange.bound(jh(a.first()),jh(a.last())),o=a.getIterator();let l=o.getNext();return ql(e).te({index:Pv,range:s},(c,u,A)=>{const d=ze.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;l&&HF(l,d)<0;)n(l,null),l=o.getNext();l&&l.isEqual(d)&&(n(l,u),l=o.hasNext()?o.getNext():null),l?A.H(jh(l)):A.done()}).next(()=>{for(;l;)n(l,null),l=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,r,n,a,s){const o=r.path,l=[o.popLast().toArray(),o.lastSegment(),wy(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ql(e).J(IDBKeyRange.bound(l,c,!0)).next(u=>{s==null||s.incrementDocumentReadCount(u.length);let A=Go();for(const d of u){const h=this.Cr(ze.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(T0(r,h)||a.has(h.key))&&(A=A.insert(h.key,h))}return A})}getAllFromCollectionGroup(e,r,n,a){let s=Go();const o=LF(r,n),l=LF(r,Pa.max());return ql(e).te({index:hV,range:IDBKeyRange.bound(o,l,!0)},(c,u,A)=>{const d=this.Cr(ze.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(d.key,d),s.size===a&&A.done()}).next(()=>s)}newChangeBuffer(e){return new Rue(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return QF(e).get(DE).next(r=>(st(!!r,20021),r))}vr(e,r){return QF(e).put(DE,r)}Cr(e,r){if(r){const n=bue(this.serializer,r);if(!(n.isNoDocument()&&n.version.isEqual(Ot.min())))return n}return mn.newInvalidDocument(e)}}function g8(t){return new Due(t)}class Rue extends p8{constructor(e,r){super(),this.Br=e,this.trackRemovals=r,this.Lr=new ao(n=>n.toString(),(n,a)=>n.isEqual(a))}applyChanges(e){const r=[];let n=0,a=new Ar((s,o)=>vt(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const l=this.Lr.get(s);if(r.push(this.Br.removeEntry(e,s,l.readTime)),o.isValidDocument()){const c=jF(this.Br.serializer,o);a=a.add(s.path.popLast());const u=_y(c);n+=u-l.size,r.push(this.Br.addEntry(e,s,c))}else if(n-=l.size,this.trackRemovals){const c=jF(this.Br.serializer,o.convertToNoDocument(Ot.min()));r.push(this.Br.addEntry(e,s,c))}}),a.forEach(s=>{r.push(this.Br.indexManager.addToCollectionParentIndex(e,s))}),r.push(this.Br.updateMetadata(e,n)),ne.waitFor(r)}getFromCache(e,r){return this.Br.Fr(e,r).next(n=>(this.Lr.set(r,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(e,r){return this.Br.Or(e,r).next(({documents:n,Nr:a})=>(a.forEach((s,o)=>{this.Lr.set(s,{size:o,readTime:n.get(s).readTime})}),n))}}function QF(t){return Xr(t,Jf)}function ql(t){return Xr(t,fy)}function jh(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function LF(t,e){const r=e.documentKey.path.toArray();return[t,wy(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function HF(t,e){const r=t.path.toArray(),n=e.path.toArray();let a=0;for(let s=0;s<r.length-2&&s<n.length-2;++s)if(a=vt(r[s],n[s]),a)return a;return a=vt(r.length,n.length),a||(a=vt(r[r.length-2],n[n.length-2]),a||vt(r[r.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uue{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e,r,n,a){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(e,r))).next(a=>(n!==null&&wf(n.mutation,a,$a.empty(),kr.now()),a))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Kr()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Kr()){const a=Ws();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,n).next(s=>{let o=kg();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=Ws();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Kr()))}populateOverlays(e,r,n){const a=[];return n.forEach(s=>{r.has(s)||a.push(s)}),this.documentOverlayCache.getOverlays(e,a).next(s=>{s.forEach((o,l)=>{r.set(o,l)})})}computeViews(e,r,n,a){let s=Go();const o=bf(),l=function(){return bf()}();return r.forEach((c,u)=>{const A=n.get(u.key);a.has(u.key)&&(A===void 0||A.mutation instanceof kl)?s=s.insert(u.key,u):A!==void 0?(o.set(u.key,A.mutation.getFieldMask()),wf(A.mutation,u,A.mutation.getFieldMask(),kr.now())):o.set(u.key,$a.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,A)=>o.set(u,A)),r.forEach((u,A)=>{var d;return l.set(u,new Uue(A,(d=o.get(u))!==null&&d!==void 0?d:null))}),l))}recalculateAndSaveOverlays(e,r){const n=bf();let a=new Zn((o,l)=>o-l),s=Kr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=r.get(c);if(u===null)return;let A=n.get(c)||$a.empty();A=l.applyToLocalView(u,A),n.set(c,A);const d=(a.get(l.batchId)||Kr()).add(c);a=a.insert(l.batchId,d)})}).next(()=>{const o=[],l=a.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,A=c.value,d=$V();A.forEach(h=>{if(!s.has(h)){const f=WV(r.get(h),n.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return ne.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,a){return function(o){return ze.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):Mce(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,a):this.getDocumentsMatchingCollectionQuery(e,r,n,a)}getNextDocuments(e,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,a).next(s=>{const o=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,a-s.size):ne.resolve(Ws());let l=Gf,c=s;return o.next(u=>ne.forEach(u,(A,d)=>(l<d.largestBatchId&&(l=d.largestBatchId),s.get(A)?ne.resolve():this.remoteDocumentCache.getEntry(e,A).next(h=>{c=c.insert(A,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Kr())).next(A=>({batchId:l,changes:HV(A)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ze(r)).next(n=>{let a=kg();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(e,r,n,a){const s=r.collectionGroup;let o=kg();return this.indexManager.getCollectionParents(e,s).next(l=>ne.forEach(l,c=>{const u=function(d,h){return new N0(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,n,a).next(A=>{A.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,a){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,a))).next(o=>{s.forEach((c,u)=>{const A=u.getKey();o.get(A)===null&&(o=o.insert(A,mn.newInvalidDocument(A)))});let l=kg();return o.forEach((c,u)=>{const A=s.get(c);A!==void 0&&wf(A.mutation,u,$a.empty(),kr.now()),T0(r,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mue{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,r){return ne.resolve(this.kr.get(r))}saveBundleMetadata(e,r){return this.kr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:ws(a.createTime)}}(r)),ne.resolve()}getNamedQuery(e,r){return ne.resolve(this.qr.get(r))}saveNamedQuery(e,r){return this.qr.set(r.name,function(a){return{name:a.name,query:o8(a.bundledQuery),readTime:ws(a.readTime)}}(r)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Que{constructor(){this.overlays=new Zn(ze.comparator),this.Qr=new Map}getOverlay(e,r){return ne.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Ws();return ne.forEach(r,a=>this.getOverlay(e,a).next(s=>{s!==null&&n.set(a,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((a,s)=>{this.bt(e,r,s)}),ne.resolve()}removeOverlaysForBatchId(e,r,n){const a=this.Qr.get(n);return a!==void 0&&(a.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(n)),ne.resolve()}getOverlaysForCollection(e,r,n){const a=Ws(),s=r.length+1,o=new ze(r.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>n&&a.set(c.getKey(),c)}return ne.resolve(a)}getOverlaysForCollectionGroup(e,r,n,a){let s=new Zn((u,A)=>u-A);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let A=s.get(u.largestBatchId);A===null&&(A=Ws(),s=s.insert(u.largestBatchId,A)),A.set(u.getKey(),u)}}const l=Ws(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,A)=>l.set(u,A)),!(l.size()>=a)););return ne.resolve(l)}bt(e,r,n){const a=this.overlays.get(n.key);if(a!==null){const o=this.Qr.get(a.largestBatchId).delete(n.key);this.Qr.set(a.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new pk(r,n));let s=this.Qr.get(r);s===void 0&&(s=Kr(),this.Qr.set(r,s)),this.Qr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lue{constructor(){this.sessionToken=da.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(){this.$r=new Ar(tn.Ur),this.Kr=new Ar(tn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,r){const n=new tn(e,r);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.zr(new tn(e,r))}jr(e,r){e.forEach(n=>this.removeReference(n,r))}Hr(e){const r=new ze(new cr([])),n=new tn(r,e),a=new tn(r,e+1),s=[];return this.Kr.forEachInRange([n,a],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const r=new ze(new cr([])),n=new tn(r,e),a=new tn(r,e+1);let s=Kr();return this.Kr.forEachInRange([n,a],o=>{s=s.add(o.key)}),s}containsKey(e){const r=new tn(e,0),n=this.$r.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class tn{constructor(e,r){this.key=e,this.Zr=r}static Ur(e,r){return ze.comparator(e.key,r.key)||vt(e.Zr,r.Zr)}static Wr(e,r){return vt(e.Zr,r.Zr)||ze.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hue{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.nr=1,this.Xr=new Ar(tn.Ur)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,a){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new fk(s,r,n,a);this.mutationQueue.push(o);for(const l of a)this.Xr=this.Xr.add(new tn(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ne.resolve(o)}lookupMutationBatch(e,r){return ne.resolve(this.ei(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,a=this.ti(n),s=a<0?0:a;return ne.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Sc:this.nr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new tn(r,0),a=new tn(r,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([n,a],o=>{const l=this.ei(o.Zr);s.push(l)}),ne.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Ar(vt);return r.forEach(a=>{const s=new tn(a,0),o=new tn(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],l=>{n=n.add(l.Zr)})}),ne.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,a=n.length+1;let s=n;ze.isDocumentKey(s)||(s=s.child(""));const o=new tn(new ze(s),0);let l=new Ar(vt);return this.Xr.forEachWhile(c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===a&&(l=l.add(c.Zr)),!0)},o),ne.resolve(this.ni(l))}ni(e){const r=[];return e.forEach(n=>{const a=this.ei(n);a!==null&&r.push(a)}),r}removeMutationBatch(e,r){st(this.ri(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Xr;return ne.forEach(r.mutations,a=>{const s=new tn(a.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=n})}sr(e){}containsKey(e,r){const n=new tn(r,0),a=this.Xr.firstAfterOrEqual(n);return ne.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ri(e,r){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const r=this.ti(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ue{constructor(e){this.ii=e,this.docs=function(){return new Zn(ze.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,a=this.docs.get(n),s=a?a.size:0,o=this.ii(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ne.resolve(n?n.document.mutableCopy():mn.newInvalidDocument(r))}getEntries(e,r){let n=Go();return r.forEach(a=>{const s=this.docs.get(a);n=n.insert(a,s?s.document.mutableCopy():mn.newInvalidDocument(a))}),ne.resolve(n)}getDocumentsMatchingQuery(e,r,n,a){let s=Go();const o=r.path,l=new ze(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:A}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||ek(lV(A),n)<=0||(a.has(A.key)||T0(r,A))&&(s=s.insert(A.key,A.mutableCopy()))}return ne.resolve(s)}getAllFromCollectionGroup(e,r,n,a){tt(9500)}si(e,r){return ne.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new Vue(this)}getSize(e){return ne.resolve(this.size)}}class Vue extends p8{constructor(e){super(),this.Br=e}applyChanges(e){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.Br.addEntry(e,a)):this.Br.removeEntry(n)}),ne.waitFor(r)}getFromCache(e,r){return this.Br.getEntry(e,r)}getAllFromCache(e,r){return this.Br.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kue{constructor(e){this.persistence=e,this.oi=new ao(r=>Lc(r),Cp),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this._i=0,this.ai=new xk,this.targetCount=0,this.ui=Vc.cr()}forEachTarget(e,r){return this.oi.forEach((n,a)=>r(a)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this._i&&(this._i=r),ne.resolve()}Tr(e){this.oi.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ui=new Vc(r),this.highestTargetId=r),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,r){return this.Tr(r),this.targetCount+=1,ne.resolve()}updateTargetData(e,r){return this.Tr(r),ne.resolve()}removeTargetData(e,r){return this.oi.delete(r.target),this.ai.Hr(r.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,r,n){let a=0;const s=[];return this.oi.forEach((o,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),a++)}),ne.waitFor(s).next(()=>a)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,r){const n=this.oi.get(r)||null;return ne.resolve(n)}addMatchingKeys(e,r,n){return this.ai.Gr(r,n),ne.resolve()}removeMatchingKeys(e,r,n){this.ai.jr(r,n);const a=this.persistence.referenceDelegate,s=[];return a&&r.forEach(o=>{s.push(a.markPotentiallyOrphaned(e,o))}),ne.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.ai.Hr(r),ne.resolve()}getMatchingKeysForTargetId(e,r){const n=this.ai.Yr(r);return ne.resolve(n)}containsKey(e,r){return ne.resolve(this.ai.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,r){this.ci={},this.overlays={},this.li=new gs(0),this.hi=!1,this.hi=!0,this.Pi=new Lue,this.referenceDelegate=e(this),this.Ti=new Kue(this),this.indexManager=new Nue,this.remoteDocumentCache=function(a){return new $ue(a)}(n=>this.referenceDelegate.Ii(n)),this.serializer=new s8(r),this.Ei=new Mue(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Que,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ci[e.toKey()];return n||(n=new Hue(r,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,r,n){Se("MemoryPersistence","Starting transaction:",e);const a=new que(this.li.next());return this.referenceDelegate.di(),n(a).next(s=>this.referenceDelegate.Ai(a).next(()=>s)).toPromise().then(s=>(a.raiseOnCommittedEvent(),s))}Ri(e,r){return ne.or(Object.values(this.ci).map(n=>()=>n.containsKey(e,r)))}}class que extends uV{constructor(e){super(),this.currentSequenceNumber=e}}class F0{constructor(e){this.persistence=e,this.Vi=new xk,this.mi=null}static fi(e){return new F0(e)}get gi(){if(this.mi)return this.mi;throw tt(60996)}addReference(e,r,n){return this.Vi.addReference(n,r),this.gi.delete(n.toString()),ne.resolve()}removeReference(e,r,n){return this.Vi.removeReference(n,r),this.gi.add(n.toString()),ne.resolve()}markPotentiallyOrphaned(e,r){return this.gi.add(r.toString()),ne.resolve()}removeTarget(e,r){this.Vi.Hr(r.targetId).forEach(a=>this.gi.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(a=>{a.forEach(s=>this.gi.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}di(){this.mi=new Set}Ai(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.gi,n=>{const a=ze.fromPath(n);return this.pi(e,a).next(s=>{s||r.removeEntry(a,Ot.min())})}).next(()=>(this.mi=null,r.apply(e)))}updateLimboDocument(e,r){return this.pi(e,r).next(n=>{n?this.gi.delete(r.toString()):this.gi.add(r.toString())})}Ii(e){return 0}pi(e,r){return ne.or([()=>ne.resolve(this.Vi.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ri(e,r)])}}class Cy{constructor(e,r){this.persistence=e,this.yi=new ao(n=>Un(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=m8(this,r)}static fi(e,r){return new Cy(e,r)}di(){}Ai(e){return ne.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}pr(e){const r=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(a=>n+a))}Sr(e){let r=0;return this.yr(e,n=>{r++}).next(()=>r)}yr(e,r){return ne.forEach(this.yi,(n,a)=>this.Dr(e,n,a).next(s=>s?ne.resolve():r(a)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.si(e,o=>this.Dr(e,o,r).next(l=>{l||(n++,s.removeEntry(o,Ot.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.yi.set(r,e.currentSequenceNumber),ne.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.yi.set(n,e.currentSequenceNumber),ne.resolve()}removeReference(e,r,n){return this.yi.set(n,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,r){return this.yi.set(r,e.currentSequenceNumber),ne.resolve()}Ii(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Fv(e.data.value)),r}Dr(e,r,n){return ne.or([()=>this.persistence.Ri(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const a=this.yi.get(r);return ne.resolve(a!==void 0&&a>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gue{constructor(e){this.serializer=e}q(e,r,n,a){const s=new j0("createOrUpgrade",r);n<1&&a>=1&&(function(c){c.createObjectStore(_p)}(e),function(c){c.createObjectStore(Xf,{keyPath:Zle}),c.createObjectStore(cs,{keyPath:nF,autoIncrement:!0}).createIndex(hc,aF,{unique:!0}),c.createObjectStore(QA)}(e),$F(e),function(c){c.createObjectStore(tc)}(e));let o=ne.resolve();return n<3&&a>=3&&(n!==0&&(function(c){c.deleteObjectStore(HA),c.deleteObjectStore(LA),c.deleteObjectStore(Nc)}(e),$F(e)),o=o.next(()=>function(c){const u=c.store(Nc),A={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ot.min().toTimestamp(),targetCount:0};return u.put(my,A)}(s))),n<4&&a>=4&&(n!==0&&(o=o.next(()=>function(c,u){return u.store(cs).J().next(d=>{c.deleteObjectStore(cs),c.createObjectStore(cs,{keyPath:nF,autoIncrement:!0}).createIndex(hc,aF,{unique:!0});const h=u.store(cs),f=d.map(p=>h.put(p));return ne.waitFor(f)})}(e,s))),o=o.next(()=>{(function(c){c.createObjectStore($A,{keyPath:lce})})(e)})),n<5&&a>=5&&(o=o.next(()=>this.wi(s))),n<6&&a>=6&&(o=o.next(()=>(function(c){c.createObjectStore(Jf)}(e),this.Si(s)))),n<7&&a>=7&&(o=o.next(()=>this.bi(s))),n<8&&a>=8&&(o=o.next(()=>this.Di(e,s))),n<9&&a>=9&&(o=o.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),n<10&&a>=10&&(o=o.next(()=>this.Ci(s))),n<11&&a>=11&&(o=o.next(()=>{(function(c){c.createObjectStore(C0,{keyPath:cce})})(e),function(c){c.createObjectStore(B0,{keyPath:uce})}(e)})),n<12&&a>=12&&(o=o.next(()=>{(function(c){const u=c.createObjectStore(E0,{keyPath:gce});u.createIndex(UE,vce,{unique:!1}),u.createIndex(gV,yce,{unique:!1})})(e)})),n<13&&a>=13&&(o=o.next(()=>function(c){const u=c.createObjectStore(fy,{keyPath:tce});u.createIndex(Pv,rce),u.createIndex(hV,nce)}(e)).next(()=>this.Fi(e,s)).next(()=>e.deleteObjectStore(tc))),n<14&&a>=14&&(o=o.next(()=>this.Mi(e,s))),n<15&&a>=15&&(o=o.next(()=>function(c){c.createObjectStore(nk,{keyPath:Ace,autoIncrement:!0}).createIndex(RE,dce,{unique:!1}),c.createObjectStore(gf,{keyPath:hce}).createIndex(mV,fce,{unique:!1}),c.createObjectStore(vf,{keyPath:mce}).createIndex(pV,pce,{unique:!1})}(e))),n<16&&a>=16&&(o=o.next(()=>{r.objectStore(gf).clear()}).next(()=>{r.objectStore(vf).clear()})),n<17&&a>=17&&(o=o.next(()=>{(function(c){c.createObjectStore(ak,{keyPath:xce})})(e)})),n<18&&a>=18&&V$()&&(o=o.next(()=>{r.objectStore(gf).clear()}).next(()=>{r.objectStore(vf).clear()})),o}Si(e){let r=0;return e.store(tc).te((n,a)=>{r+=_y(a)}).next(()=>{const n={byteSize:r};return e.store(Jf).put(DE,n)})}wi(e){const r=e.store(Xf),n=e.store(cs);return r.J().next(a=>ne.forEach(a,s=>{const o=IDBKeyRange.bound([s.userId,Sc],[s.userId,s.lastAcknowledgedBatchId]);return n.J(hc,o).next(l=>ne.forEach(l,c=>{st(c.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const u=lc(this.serializer,c);return A8(e,s.userId,u).next(()=>{})}))}))}bi(e){const r=e.store(HA),n=e.store(tc);return e.store(Nc).get(my).next(a=>{const s=[];return n.te((o,l)=>{const c=new cr(o),u=function(d){return[0,Un(d)]}(c);s.push(r.get(u).next(A=>A?ne.resolve():(d=>r.put({targetId:0,path:Un(d),sequenceNumber:a.highestListenSequenceNumber}))(c)))}).next(()=>ne.waitFor(s))})}Di(e,r){e.createObjectStore(Yf,{keyPath:oce});const n=r.store(Yf),a=new yk,s=o=>{if(a.add(o)){const l=o.lastSegment(),c=o.popLast();return n.put({collectionId:l,parent:Un(c)})}};return r.store(tc).te({ee:!0},(o,l)=>{const c=new cr(o);return s(c.popLast())}).next(()=>r.store(QA).te({ee:!0},([o,l,c],u)=>{const A=zs(l);return s(A.popLast())}))}Ci(e){const r=e.store(LA);return r.te((n,a)=>{const s=zh(a),o=i8(this.serializer,s);return r.put(o)})}Fi(e,r){const n=r.store(tc),a=[];return n.te((s,o)=>{const l=r.store(fy),c=function(d){return d.document?new ze(cr.fromString(d.document.name).popFirst(5)):d.noDocument?ze.fromSegments(d.noDocument.path):d.unknownDocument?ze.fromSegments(d.unknownDocument.path):tt(36783)}(o).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};a.push(l.put(u))}).next(()=>ne.waitFor(a))}Mi(e,r){const n=r.store(cs),a=g8(this.serializer),s=new bk(F0.fi,this.serializer.wt);return n.J().next(o=>{const l=new Map;return o.forEach(c=>{var u;let A=(u=l.get(c.userId))!==null&&u!==void 0?u:Kr();lc(this.serializer,c).keys().forEach(d=>A=A.add(d)),l.set(c.userId,A)}),ne.forEach(l,(c,u)=>{const A=new dn(u),d=P0.St(this.serializer,A),h=s.getIndexManager(A),f=O0.St(A,this.serializer,h,s.referenceDelegate);return new v8(a,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new ME(r,gs.le),c).next()})})}}function $F(t){t.createObjectStore(HA,{keyPath:sce}).createIndex(rk,ice,{unique:!0}),t.createObjectStore(LA,{keyPath:"targetId"}).createIndex(fV,ace,{unique:!0}),t.createObjectStore(Nc)}const yo="IndexedDbPersistence",Sw=18e5,Nw=5e3,Tw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",zue="main";class wk{constructor(e,r,n,a,s,o,l,c,u,A,d=18){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=n,this.xi=s,this.window=o,this.document=l,this.Oi=u,this.Ni=A,this.Bi=d,this.li=null,this.hi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Li=null,this.inForeground=!1,this.ki=null,this.qi=null,this.Qi=Number.NEGATIVE_INFINITY,this.$i=h=>Promise.resolve(),!wk.C())throw new Ye(ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Fue(this,a),this.Ui=r+zue,this.serializer=new s8(c),this.Ki=new rl(this.Ui,this.Bi,new Gue(this.serializer)),this.Pi=new jue,this.Ti=new kue(this.referenceDelegate,this.serializer),this.remoteDocumentCache=g8(this.serializer),this.Ei=new wue,this.window&&this.window.localStorage?this.Wi=this.window.localStorage:(this.Wi=null,A===!1&&Ea(yo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Gi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ye(ge.FAILED_PRECONDITION,Tw);return this.zi(),this.ji(),this.Hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ti.getHighestSequenceNumber(e))}).then(e=>{this.li=new gs(e,this.Oi)}).then(()=>{this.hi=!0}).catch(e=>(this.Ki&&this.Ki.close(),Promise.reject(e)))}Ji(e){return this.$i=async r=>{if(this.started)return e(r)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ki.U(async r=>{r.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.xi.enqueueAndForget(async()=>{this.started&&await this.Gi()}))}Gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Og(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Yi(e).next(r=>{r||(this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)))})}).next(()=>this.Zi(e)).next(r=>this.isPrimary&&!r?this.Xi(e).next(()=>!1):!!r&&this.es(e).next(()=>!0))).catch(e=>{if(su(e))return Se(yo,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Se(yo,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.xi.enqueueRetryable(()=>this.$i(e)),this.isPrimary=e})}Yi(e){return _h(e).get(ju).next(r=>ne.resolve(this.ts(r)))}ns(e){return Og(e).delete(this.clientId)}async rs(){if(this.isPrimary&&!this.ss(this.Qi,Sw)){this.Qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const n=Xr(r,$A);return n.J().next(a=>{const s=this._s(a,Sw),o=a.filter(l=>s.indexOf(l)===-1);return ne.forEach(o,l=>n.delete(l.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Wi)for(const r of e)this.Wi.removeItem(this.us(r.clientId))}}Hi(){this.qi=this.xi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Gi().then(()=>this.rs()).then(()=>this.Hi()))}ts(e){return!!e&&e.ownerId===this.clientId}Zi(e){return this.Ni?ne.resolve(!0):_h(e).get(ju).next(r=>{if(r!==null&&this.ss(r.leaseTimestampMs,Nw)&&!this.cs(r.ownerId)){if(this.ts(r)&&this.networkEnabled)return!0;if(!this.ts(r)){if(!r.allowTabSynchronization)throw new Ye(ge.FAILED_PRECONDITION,Tw);return!1}}return!(!this.networkEnabled||!this.inForeground)||Og(e).J().next(n=>this._s(n,Nw).find(a=>{if(this.clientId!==a.clientId){const s=!this.networkEnabled&&a.networkEnabled,o=!this.inForeground&&a.inForeground,l=this.networkEnabled===a.networkEnabled;if(s||o&&l)return!0}return!1})===void 0)}).next(r=>(this.isPrimary!==r&&Se(yo,`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}async shutdown(){this.hi=!1,this.ls(),this.qi&&(this.qi.cancel(),this.qi=null),this.hs(),this.Ps(),await this.Ki.runTransaction("shutdown","readwrite",[_p,$A],e=>{const r=new ME(e,gs.le);return this.Xi(r).next(()=>this.ns(r))}),this.Ki.close(),this.Ts()}_s(e,r){return e.filter(n=>this.ss(n.updateTimeMs,r)&&!this.cs(n.clientId))}Is(){return this.runTransaction("getActiveClients","readonly",e=>Og(e).J().next(r=>this._s(r,Sw).map(n=>n.clientId)))}get started(){return this.hi}getGlobalsCache(){return this.Pi}getMutationQueue(e,r){return O0.St(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Tue(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return P0.St(this.serializer,e)}getBundleCache(){return this.Ei}runTransaction(e,r,n){Se(yo,"Starting transaction:",e);const a=r==="readonly"?"readonly":"readwrite",s=function(c){return c===18?jce:c===17?bV:c===16?wce:c===15?sk:c===14?xV:c===13?yV:c===12?bce:c===11?vV:void tt(60245)}(this.Bi);let o;return this.Ki.runTransaction(e,a,s,l=>(o=new ME(l,this.li?this.li.next():gs.le),r==="readwrite-primary"?this.Yi(o).next(c=>!!c||this.Zi(o)).next(c=>{if(!c)throw Ea(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)),new Ye(ge.FAILED_PRECONDITION,cV);return n(o)}).next(c=>this.es(o).next(()=>c)):this.Es(o).next(()=>n(o)))).then(l=>(o.raiseOnCommittedEvent(),l))}Es(e){return _h(e).get(ju).next(r=>{if(r!==null&&this.ss(r.leaseTimestampMs,Nw)&&!this.cs(r.ownerId)&&!this.ts(r)&&!(this.Ni||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Ye(ge.FAILED_PRECONDITION,Tw)})}es(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _h(e).put(ju,r)}static C(){return rl.C()}Xi(e){const r=_h(e);return r.get(ju).next(n=>this.ts(n)?(Se(yo,"Releasing primary lease."),r.delete(ju)):ne.resolve())}ss(e,r){const n=Date.now();return!(e<n-r)&&(!(e>n)||(Ea(`Detected an update time that is in the future: ${e} > ${n}`),!1))}zi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ki=()=>{this.xi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Gi()))},this.document.addEventListener("visibilitychange",this.ki),this.inForeground=this.document.visibilityState==="visible")}hs(){this.ki&&(this.document.removeEventListener("visibilitychange",this.ki),this.ki=null)}ji(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Li=()=>{this.ls();const r=/(?:Version|Mobile)\/1[456]/;$$()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.xi.enterRestrictedMode(!0),this.xi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Li))}Ps(){this.Li&&(this.window.removeEventListener("pagehide",this.Li),this.Li=null)}cs(e){var r;try{const n=((r=this.Wi)===null||r===void 0?void 0:r.getItem(this.us(e)))!==null;return Se(yo,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Ea(yo,"Failed to get zombied client id.",n),!1}}ls(){if(this.Wi)try{this.Wi.setItem(this.us(this.clientId),String(Date.now()))}catch(e){Ea("Failed to set zombie client id.",e)}}Ts(){if(this.Wi)try{this.Wi.removeItem(this.us(this.clientId))}catch{}}us(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function _h(t){return Xr(t,_p)}function Og(t){return Xr(t,$A)}function Wue(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,r,n,a){this.targetId=e,this.fromCache=r,this.ds=n,this.As=a}static Rs(e,r){let n=Kr(),a=Kr();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new jk(e,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xue{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return $$()?8:AV(cy())>0?6:4}()}initialize(e,r){this.ys=e,this.indexManager=r,this.Vs=!0}getDocumentsMatchingQuery(e,r,n,a){const s={result:null};return this.ws(e,r).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ss(e,r,a,n).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Xue;return this.bs(e,r,o).next(l=>{if(s.result=l,this.fs)return this.Ds(e,r,o,l.size)})}).next(()=>s.result)}Ds(e,r,n,a){return n.documentReadCount<this.gs?(zu()<=Ut.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",yh(r),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ne.resolve()):(zu()<=Ut.DEBUG&&Se("QueryEngine","Query:",yh(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ps*a?(zu()<=Ut.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",yh(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(r))):ne.resolve())}ws(e,r){if(gF(r))return ne.resolve(null);let n=Di(r);return this.indexManager.getIndexType(e,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=KE(r,null,"F"),n=Di(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const o=Kr(...s);return this.ys.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,n).next(c=>{const u=this.vs(r,l);return this.Cs(r,u,o,c.readTime)?this.ws(e,KE(r,null,"F")):this.Fs(e,u,r,c)}))})))}Ss(e,r,n,a){return gF(r)||a.isEqual(Ot.min())?ne.resolve(null):this.ys.getDocuments(e,n).next(s=>{const o=this.vs(r,s);return this.Cs(r,o,n,a)?ne.resolve(null):(zu()<=Ut.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),yh(r)),this.Fs(e,o,r,qle(a,Gf)).next(l=>l))})}vs(e,r){let n=new Ar(Lce(e));return r.forEach((a,s)=>{T0(e,s)&&(n=n.add(s))}),n}Cs(e,r,n,a){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}bs(e,r,n){return zu()<=Ut.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",yh(r)),this.ys.getDocumentsMatchingQuery(e,r,Pa.min(),n)}Fs(e,r,n,a){return this.ys.getDocumentsMatchingQuery(e,n,a).next(s=>(r.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jue="LocalStore";class Yue{constructor(e,r,n,a){this.persistence=e,this.Ms=r,this.serializer=a,this.xs=new Zn(vt),this.Os=new ao(s=>Lc(s),Cp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v8(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.xs))}}function x8(t,e,r,n){return new Yue(t,e,r,n)}async function b8(t,e){const r=fr(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(s=>(a=s,r.Ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const o=[],l=[];let c=Kr();for(const u of a){o.push(u.batchId);for(const A of u.mutations)c=c.add(A.key)}for(const u of s){l.push(u.batchId);for(const A of u.mutations)c=c.add(A.key)}return r.localDocuments.getDocuments(n,c).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:l}))})})}function Zue(t,e){const r=fr(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=e.batch.keys(),s=r.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,A){const d=u.batch,h=d.keys();let f=ne.resolve();return h.forEach(p=>{f=f.next(()=>A.getEntry(c,p)).next(g=>{const m=u.docVersions.get(p);st(m!==null,48541),g.version.compareTo(m)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),A.addEntry(g)))})}),f.next(()=>l.mutationQueue.removeMutationBatch(c,d))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let c=Kr();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,a))})}function eAe(t){const e=fr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ti.getLastRemoteSnapshotVersion(r))}function tAe(t,e){const r=fr(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=Sc),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}class VF{constructor(){this.activeTargetIds=Gce()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class w8{constructor(){this.xo=new VF,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,r,n){this.Oo[e]=r}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new VF,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rAe{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF="ConnectivityMonitor";class qF{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Se(KF,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Se(KF,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fg=null;function JE(){return Fg===null?Fg=function(){return 268435456+Math.round(2147483648*Math.random())}():Fg++,"0x"+Fg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="RestConnection",nAe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aAe{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=r+"://"+e.host,this.Wo=`projects/${n}/databases/${a}`,this.Go=this.databaseId.database===gy?`project_id=${n}`:`project_id=${n}&database_id=${a}`}zo(e,r,n,a,s){const o=JE(),l=this.jo(e,r.toUriEncodedString());Se(kw,`Sending RPC '${e}' ${o}:`,l,n);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,a,s);const{host:u}=new URL(l),A=WT(u);return this.Jo(e,l,c,n,A).then(d=>(Se(kw,`Received RPC '${e}' ${o}: `,d),d),d=>{throw jp(kw,`RPC '${e}' ${o} failed with error: `,d,"url: ",l,"request:",n),d})}Yo(e,r,n,a,s,o){return this.zo(e,r,n,a,s)}Ho(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,s)=>e[s]=a),n&&n.headers.forEach((a,s)=>e[s]=a)}jo(e,r){const n=nAe[e];return`${this.Ko}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sAe{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="WebChannelConnection";class iAe extends aAe{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,a,s){const o=JE();return new Promise((l,c)=>{const u=new Z$;u.setWithCredentials(!0),u.listenOnce(eV.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Tv.NO_ERROR:const d=u.getResponseJson();Se(Sn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),l(d);break;case Tv.TIMEOUT:Se(Sn,`RPC '${e}' ${o} timed out`),c(new Ye(ge.DEADLINE_EXCEEDED,"Request time out"));break;case Tv.HTTP_ERROR:const h=u.getStatus();if(Se(Sn,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let f=u.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(x){const b=x.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(b)>=0?b:ge.UNKNOWN}(p.status);c(new Ye(g,p.message))}else c(new Ye(ge.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Ye(ge.UNAVAILABLE,"Connection failed."));break;default:tt(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Se(Sn,`RPC '${e}' ${o} completed.`)}});const A=JSON.stringify(a);Se(Sn,`RPC '${e}' ${o} sending request:`,a),u.send(r,"POST",A,n,15)})}T_(e,r,n){const a=JE(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=nV(),l=rV(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const A=s.join("");Se(Sn,`Creating RPC '${e}' stream ${a}: ${A}`,c);const d=o.createWebChannel(A,c);let h=!1,f=!1;const p=new sAe({Zo:m=>{f?Se(Sn,`Not sending because RPC '${e}' stream ${a} is closed:`,m):(h||(Se(Sn,`Opening RPC '${e}' stream ${a} transport.`),d.open(),h=!0),Se(Sn,`RPC '${e}' stream ${a} sending:`,m),d.send(m))},Xo:()=>d.close()}),g=(m,x,b)=>{m.listen(x,_=>{try{b(_)}catch(w){setTimeout(()=>{throw w},0)}})};return g(d,Gh.EventType.OPEN,()=>{f||(Se(Sn,`RPC '${e}' stream ${a} transport opened.`),p.__())}),g(d,Gh.EventType.CLOSE,()=>{f||(f=!0,Se(Sn,`RPC '${e}' stream ${a} transport closed`),p.u_())}),g(d,Gh.EventType.ERROR,m=>{f||(f=!0,jp(Sn,`RPC '${e}' stream ${a} transport errored. Name:`,m.name,"Message:",m.message),p.u_(new Ye(ge.UNAVAILABLE,"The operation could not be completed")))}),g(d,Gh.EventType.MESSAGE,m=>{var x;if(!f){const b=m.data[0];st(!!b,16349);const _=b,w=(_==null?void 0:_.error)||((x=_[0])===null||x===void 0?void 0:x.error);if(w){Se(Sn,`RPC '${e}' stream ${a} received error:`,w);const C=w.status;let E=function(S){const N=Ur[S];if(N!==void 0)return nue(N)}(C),j=w.message;E===void 0&&(E=ge.INTERNAL,j="Unknown error status: "+C+" with message "+w.message),f=!0,p.u_(new Ye(E,j)),d.close()}else Se(Sn,`RPC '${e}' stream ${a} received:`,b),p.c_(b)}}),g(l,tV.STAT_EVENT,m=>{m.stat===PE.PROXY?Se(Sn,`RPC '${e}' stream ${a} detected buffering proxy`):m.stat===PE.NOPROXY&&Se(Sn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{p.a_()},0),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oAe(){return typeof window<"u"?window:null}function Qv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t){return new oue(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(e,r,n=1e3,a=1.5,s=6e4){this.xi=e,this.timerId=r,this.I_=n,this.E_=a,this.d_=s,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const r=Math.floor(this.A_+this.g_()),n=Math.max(0,Date.now()-this.V_),a=Math.max(0,r-n);a>0&&Se("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.A_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF="PersistentStream";class lAe{constructor(e,r,n,a,s,o,l,c){this.xi=e,this.y_=n,this.w_=a,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new j8(e,r)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,r){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():r&&r.code===ge.RESOURCE_EXHAUSTED?(Ea(r.toString()),Ea("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):r&&r.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(r)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),r=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.S_===r&&this.K_(n,a)},n=>{e(()=>{const a=new Ye(ge.UNKNOWN,"Fetching auth token failed: "+n.message);return this.W_(a)})})}K_(e,r){const n=this.U_(this.S_);this.stream=this.G_(e,r),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{n(()=>this.W_(a))}),this.stream.onMessage(a=>{n(()=>++this.v_==1?this.z_(a):this.onNext(a))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return Se(GF,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return r=>{this.xi.enqueueAndForget(()=>this.S_===e?r():(Se(GF,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cAe extends lAe{constructor(e,r,n,a,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,o),this.serializer=s}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,r){return this.connection.T_("Write",e,r)}z_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const r=hue(e.writeResults,e.commitTime),n=ws(e.commitTime);return this.listener.ea(n,r)}ta(){const e={};e.database=Aue(this.serializer),this.L_(e)}Z_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>by(this.serializer,n))};this.L_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uAe{}class AAe extends uAe{constructor(e,r,n,a){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.na=!1}ra(){if(this.na)throw new Ye(ge.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,r,n,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(e,qE(r,n),a,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ye(ge.UNKNOWN,s.toString())})}Yo(e,r,n,a,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Yo(e,qE(r,n),a,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ye(ge.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class dAe{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Ea(r),this.oa=!1):Se("OnlineStateTracker",r)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="RemoteStore";class hAe{constructor(e,r,n,a,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=s,this.Ea.No(o=>{n.enqueueAndForget(async()=>{Sp(this)&&(Se(Bp,"Restarting streams for network reachability change."),await async function(c){const u=fr(c);u.Ta.add(4),await Ep(u),u.da.set("Unknown"),u.Ta.delete(4),await R0(u)}(this))})}),this.da=new dAe(n,a)}}async function R0(t){if(Sp(t))for(const e of t.Ia)await e(!0)}async function Ep(t){for(const e of t.Ia)await e(!1)}function Sp(t){return fr(t).Ta.size===0}async function _8(t,e,r){if(!su(e))throw e;t.Ta.add(1),await Ep(t),t.da.set("Offline"),r||(r=()=>eAe(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Se(Bp,"Retrying IndexedDB access"),await r(),t.Ta.delete(1),await R0(t)})}function C8(t,e){return e().catch(r=>_8(t,r,e))}async function Np(t){const e=fr(t),r=vl(e);let n=e.ha.length>0?e.ha[e.ha.length-1].batchId:Sc;for(;fAe(e);)try{const a=await tAe(e.localStore,n);if(a===null){e.ha.length===0&&r.N_();break}n=a.batchId,mAe(e,a)}catch(a){await _8(e,a)}B8(e)&&E8(e)}function fAe(t){return Sp(t)&&t.ha.length<10}function mAe(t,e){t.ha.push(e);const r=vl(t);r.M_()&&r.Y_&&r.Z_(e.mutations)}function B8(t){return Sp(t)&&!vl(t).F_()&&t.ha.length>0}function E8(t){vl(t).start()}async function pAe(t){vl(t).ta()}async function gAe(t){const e=vl(t);for(const r of t.ha)e.Z_(r.mutations)}async function vAe(t,e,r){const n=t.ha.shift(),a=mk.from(n,e,r);await C8(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Np(t)}async function yAe(t,e){e&&vl(t).Y_&&await async function(n,a){if(function(o){return rue(o)&&o!==ge.ABORTED}(a.code)){const s=n.ha.shift();vl(n).O_(),await C8(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,a)),await Np(n)}}(t,e),B8(t)&&E8(t)}async function zF(t,e){const r=fr(t);r.asyncQueue.verifyOperationInProgress(),Se(Bp,"RemoteStore received new credentials");const n=Sp(r);r.Ta.add(3),await Ep(r),n&&r.da.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ta.delete(3),await R0(r)}async function xAe(t,e){const r=fr(t);e?(r.Ta.delete(2),await R0(r)):e||(r.Ta.add(2),await Ep(r),r.da.set("Unknown"))}function vl(t){return t.Va||(t.Va=function(r,n,a){const s=fr(r);return s.ra(),new cAe(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:pAe.bind(null,t),i_:yAe.bind(null,t),X_:gAe.bind(null,t),ea:vAe.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await Np(t)):(await t.Va.stop(),t.ha.length>0&&(Se(Bp,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,r,n,a,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=s,this.deferred=new tl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,a,s){const o=Date.now()+n,l=new _k(e,r,o,a,s);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ye(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S8(t,e){if(Ea("AsyncQueue",`${e}: ${t}`),su(t))return new Ye(ge.UNAVAILABLE,`${e}: ${t}`);throw t}class bAe{constructor(){this.queries=WF(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(r,n){const a=fr(r),s=a.queries;a.queries=WF(),s.forEach((o,l)=>{for(const c of l.ya)c.onError(n)})})(this,new Ye(ge.ABORTED,"Firestore shutting down"))}}function WF(){return new ao(t=>QV(t),MV)}function wAe(t){t.ba.forEach(e=>{e.next()})}var XF,JF;(JF=XF||(XF={})).Ca="default",JF.Cache="cache";const jAe="SyncEngine";class _Ae{constructor(e,r,n,a,s,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new ao(l=>QV(l),MV),this.cu=new Map,this.lu=new Set,this.hu=new Zn(ze.comparator),this.Pu=new Map,this.Tu=new xk,this.Iu={},this.Eu=new Map,this.du=Vc.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function CAe(t,e,r){const n=k8(t);try{const a=await function(o,l){const c=fr(o),u=kr.now(),A=l.reduce((f,p)=>f.add(p.key),Kr());let d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Go(),g=Kr();return c.Bs.getEntries(f,A).next(m=>{p=m,p.forEach((x,b)=>{b.isValidDocument()||(g=g.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,p)).next(m=>{d=m;const x=[];for(const b of l){const _=tue(b,d.get(b.key).overlayedDocument);_!=null&&x.push(new kl(b.key,_,TV(_.value.mapValue),Ta.exists(!0)))}return c.mutationQueue.addMutationBatch(f,u,x,l)}).next(m=>{h=m;const x=m.applyToLocalDocumentSet(d,g);return c.documentOverlayCache.saveOverlays(f,m.batchId,x)})}).then(()=>({batchId:h.batchId,changes:HV(d)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),function(o,l,c){let u=o.Iu[o.currentUser.toKey()];u||(u=new Zn(vt)),u=u.insert(l,c),o.Iu[o.currentUser.toKey()]=u}(n,a.batchId,r),await U0(n,a.changes),await Np(n.remoteStore)}catch(a){const s=S8(a,"Failed to persist write");r.reject(s)}}function YF(t,e,r){const n=fr(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.uu.forEach((s,o)=>{const l=o.view.Da(e);l.snapshot&&a.push(l.snapshot)}),function(o,l){const c=fr(o);c.onlineState=l;let u=!1;c.queries.forEach((A,d)=>{for(const h of d.ya)h.Da(l)&&(u=!0)}),u&&wAe(c)}(n.eventManager,e),a.length&&n.au.j_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function BAe(t,e){const r=fr(t),n=e.batch.batchId;try{const a=await Zue(r.localStore,e);T8(r,n,null),N8(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await U0(r,a)}catch(a){await w0(a)}}async function EAe(t,e,r){const n=fr(t);try{const a=await function(o,l){const c=fr(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let A;return c.mutationQueue.lookupMutationBatch(u,l).next(d=>(st(d!==null,37113),A=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,A,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,A)).next(()=>c.localDocuments.getDocuments(u,A))})}(n.localStore,e);T8(n,e,r),N8(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await U0(n,a)}catch(a){await w0(a)}}function N8(t,e){(t.Eu.get(e)||[]).forEach(r=>{r.resolve()}),t.Eu.delete(e)}function T8(t,e,r){const n=fr(t);let a=n.Iu[n.currentUser.toKey()];if(a){const s=a.get(e);s&&(r?s.reject(r):s.resolve(),a=a.remove(e)),n.Iu[n.currentUser.toKey()]=a}}async function U0(t,e,r){const n=fr(t),a=[],s=[],o=[];n.uu.isEmpty()||(n.uu.forEach((l,c)=>{o.push(n.Ru(c,e,r).then(u=>{var A;if((u||r)&&n.isPrimaryClient){const d=u?!u.fromCache:(A=void 0)===null||A===void 0?void 0:A.current;n.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(u){a.push(u);const d=jk.Rs(c.targetId,u);s.push(d)}}))}),await Promise.all(o),n.au.j_(a),await async function(c,u){const A=fr(c);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>ne.forEach(u,h=>ne.forEach(h.ds,f=>A.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>ne.forEach(h.As,f=>A.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!su(d))throw d;Se(Jue,"Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=A.xs.get(h),p=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(p);A.xs=A.xs.insert(h,g)}}}(n.localStore,s))}async function SAe(t,e){const r=fr(t);if(!r.currentUser.isEqual(e)){Se(jAe,"User change. New user:",e.toKey());const n=await b8(r.localStore,e);r.currentUser=e,function(s,o){s.Eu.forEach(l=>{l.forEach(c=>{c.reject(new Ye(ge.CANCELLED,o))})}),s.Eu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await U0(r,n.ks)}}function k8(t){const e=fr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BAe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EAe.bind(null,e),e}class sm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=D0(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,r){return null}bu(e,r){return null}wu(e){return x8(this.persistence,new y8,e.initialUser,this.serializer)}yu(e){return new bk(F0.fi,this.serializer)}pu(e){return new w8}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sm.provider={build:()=>new sm};class NAe extends sm{constructor(e){super(),this.cacheSizeBytes=e}Su(e,r){st(this.persistence.referenceDelegate instanceof Cy,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new f8(n,e.asyncQueue,r)}yu(e){const r=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new bk(n=>Cy.fi(n,r),this.serializer)}}class TAe extends sm{constructor(e,r,n){super(),this.Du=e,this.cacheSizeBytes=r,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Du.initialize(this,e),await k8(this.Du.syncEngine),await Np(this.Du.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}wu(e){return x8(this.persistence,new y8,e.initialUser,this.serializer)}Su(e,r){const n=this.persistence.referenceDelegate.garbageCollector;return new f8(n,e.asyncQueue,r)}bu(e,r){const n=new Xle(r,this.persistence);return new Wle(e.asyncQueue,n)}yu(e){const r=Wue(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new wk(this.synchronizeTabs,r,e.clientId,n,e.asyncQueue,oAe(),Qv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}pu(e){return new w8}}class By{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>YF(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=SAe.bind(null,this.syncEngine),await xAe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bAe}()}createDatastore(e){const r=D0(e.databaseInfo.databaseId),n=function(s){return new iAe(s)}(e.databaseInfo);return function(s,o,l,c){return new AAe(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,a,s,o,l){return new hAe(n,a,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,r=>YF(this.syncEngine,r,0),function(){return qF.C()?new qF:new rAe}())}createSyncEngine(e,r){return function(a,s,o,l,c,u,A){const d=new _Ae(a,s,o,l,c,u);return A&&(d.Au=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(a){const s=fr(a);Se(Bp,"RemoteStore shutting down."),s.Ta.add(5),await Ep(s),s.Ea.shutdown(),s.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}By.provider={build:()=>new By};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="FirestoreClient";class kAe{constructor(e,r,n,a,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=dn.UNAUTHENTICATED,this.clientId=iV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async o=>{Se(yl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Se(yl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=S8(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Iw(t,e){t.asyncQueue.verifyOperationInProgress(),Se(yl,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async a=>{n.isEqual(a)||(await b8(e.localStore,a),n=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ZF(t,e){t.asyncQueue.verifyOperationInProgress();const r=await IAe(t);Se(yl,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>zF(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,a)=>zF(e.remoteStore,a)),t._onlineComponents=e}async function IAe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se(yl,"Using user provided OfflineComponentProvider");try{await Iw(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(a){return a.name==="FirebaseError"?a.code===ge.FAILED_PRECONDITION||a.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;jp("Error using user provided cache. Falling back to memory cache: "+r),await Iw(t,new sm)}}else Se(yl,"Using default OfflineComponentProvider"),await Iw(t,new NAe(void 0));return t._offlineComponents}async function PAe(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se(yl,"Using user provided OnlineComponentProvider"),await ZF(t,t._uninitializedComponentsProvider._online)):(Se(yl,"Using default OnlineComponentProvider"),await ZF(t,new By))),t._onlineComponents}function OAe(t){return PAe(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I8(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(t,e,r){if(!r)throw new Ye(ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function FAe(t,e,r,n){if(e===!0&&n===!0)throw new Ye(ge.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function tD(t){if(!ze.isDocumentKey(t))throw new Ye(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rD(t){if(ze.isDocumentKey(t))throw new Ye(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ck(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":tt(12329,{type:typeof t})}function Bk(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ye(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Ck(t);throw new Ye(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8="firestore.googleapis.com",nD=!0;class aD{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ye(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=O8,this.ssl=nD}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:nD;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=u8;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Iue)throw new Ye(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FAe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=I8((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ye(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ye(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ye(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class M0{constructor(e,r,n,a){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aD({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ye(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ye(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aD(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Dle;switch(n.type){case"firstParty":return new Qle(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ye(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=eD.get(r);n&&(Se("ComponentProvider","Removing Datastore"),eD.delete(r),n.terminate())}(this),Promise.resolve()}}function DAe(t,e,r,n={}){var a;t=Bk(t,M0);const s=WT(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${r}`;s&&(poe(`https://${c}`),xoe("Firestore",!0)),o.host!==O8&&o.host!==c&&jp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:c,ssl:s,emulatorOptions:n});if(!uy(u,l)&&(t._setSettings(u),n.mockUserToken)){let A,d;if(typeof n.mockUserToken=="string")A=n.mockUserToken,d=dn.MOCK_USER;else{A=goe(n.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Ye(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new dn(h)}t._authCredentials=new Rle(new sV(A,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ek(this.firestore,e,this._query)}}class Ri{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ri(this.firestore,e,this._key)}}class nl extends Ek{constructor(e,r,n){super(e,r,UV(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ri(this.firestore,null,new ze(e))}withConverter(e){return new nl(this.firestore,e,this._path)}}function sD(t,e,...r){if(t=fl(t),P8("collection","path",e),t instanceof M0){const n=cr.fromString(e,...r);return rD(n),new nl(t,null,n)}{if(!(t instanceof Ri||t instanceof nl))throw new Ye(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(cr.fromString(e,...r));return rD(n),new nl(t.firestore,null,n)}}function RAe(t,e,...r){if(t=fl(t),arguments.length===1&&(e=iV.newId()),P8("doc","path",e),t instanceof M0){const n=cr.fromString(e,...r);return tD(n),new Ri(t,null,new ze(n))}{if(!(t instanceof Ri||t instanceof nl))throw new Ye(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(cr.fromString(e,...r));return tD(n),new Ri(t.firestore,t instanceof nl?t.converter:null,new ze(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="AsyncQueue";class oD{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new j8(this,"async_queue_retry"),this.ec=()=>{const n=Qv();n&&Se(iD,"Visibility state changed to "+n.visibilityState),this.C_.p_()},this.tc=e;const r=Qv();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const r=Qv();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const r=new tl;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!su(e))throw e;Se(iD,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const r=this.tc.then(()=>(this.Yu=!0,e().catch(n=>{throw this.Ju=n,this.Yu=!1,Ea("INTERNAL UNHANDLED ERROR: ",lD(n)),n}).then(n=>(this.Yu=!1,n))));return this.tc=r,r}enqueueAfterDelay(e,r,n){this.nc(),this.Xu.indexOf(e)>-1&&(r=0);const a=_k.createAndSchedule(this,e,r,n,s=>this.oc(s));return this.Hu.push(a),a}nc(){this.Ju&&tt(47125,{_c:lD(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const r of this.Hu)if(r.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Hu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const r=this.Hu.indexOf(e);this.Hu.splice(r,1)}}function lD(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Sk extends M0{constructor(e,r,n,a){super(e,r,n,a),this.type="firestore",this._queue=new oD,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new oD(e),this._firestoreClient=void 0,await e}}}function Nk(t,e){const r=typeof t=="object"?t:X$(),n=typeof t=="string"?t:gy,a=b0(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const s=foe("firestore");s&&DAe(a,...s)}return a}function UAe(t){if(t._terminated)throw new Ye(ge.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||F8(t),t._firestoreClient}function F8(t){var e,r,n;const a=t._freezeSettings(),s=function(l,c,u,A){return new Bce(l,c,u,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,I8(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new kAe(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}function MAe(t,e){jp("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings();return QAe(t,By.provider,{build:n=>new TAe(n,r.cacheSizeBytes,void 0)}),Promise.resolve()}function QAe(t,e,r){if((t=Bk(t,Sk))._firestoreClient||t._terminated)throw new Ye(ge.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new Ye(ge.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:r},F8(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e){this._byteString=e}static fromBase64String(e){try{return new im(da.fromBase64String(e))}catch(r){throw new Ye(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new im(da.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ye(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ye(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ye(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return vt(this._lat,e._lat)||vt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,a){if(n.length!==a.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==a[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LAe=/^__.*__$/;class HAe{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new kl(e,this.data,this.fieldMask,r,this.fieldTransforms):new Md(e,this.data,r,this.fieldTransforms)}}function Q8(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt(40011,{hc:t})}}class Tk{constructor(e,r,n,a,s,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,s===void 0&&this.Pc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Tk(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.Tc({path:n,Ec:!1});return a.dc(e),a}Ac(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.Tc({path:n,Ec:!1});return a.Pc(),a}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Ey(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(Q8(this.hc)&&LAe.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class $Ae{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||D0(e)}gc(e,r,n,a=!1){return new Tk({hc:e,methodName:r,fc:n,path:Cr.emptyPath(),Ec:!1,mc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function VAe(t){const e=t._freezeSettings(),r=D0(t._databaseId);return new $Ae(t._databaseId,!!e.ignoreUndefinedProperties,r)}function KAe(t,e,r,n,a,s={}){const o=t.gc(s.merge||s.mergeFields?2:0,e,r,a);V8("Data must be an object, but it was:",o,n);const l=H8(n,o);let c,u;if(s.merge)c=new $a(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const A=[];for(const d of s.mergeFields){const h=qAe(e,d,r);if(!o.contains(h))throw new Ye(ge.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);WAe(A,h)||A.push(h)}c=new $a(A),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new HAe(new Sa(l),c,u)}function L8(t,e){if($8(t=fl(t)))return V8("Unsupported field value:",e,t),H8(t,e);if(t instanceof R8)return function(n,a){if(!Q8(a.hc))throw a.Vc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Vc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(a);s&&a.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(n,a){const s=[];let o=0;for(const l of n){let c=L8(l,a.Rc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(n,a){if((n=fl(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return zce(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=kr.fromDate(n);return{timestampValue:am(a.serializer,s)}}if(n instanceof kr){const s=new kr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:am(a.serializer,s)}}if(n instanceof U8)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof im)return{bytesValue:cue(a.serializer,n._byteString)};if(n instanceof Ri){const s=a.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw a.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:gk(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof M8)return function(o,l){return{mapValue:{fields:{[lk]:{stringValue:ck},[Zf]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Vc("VectorValues must only contain numeric values.");return dk(l.serializer,u)})}}}}}}(n,a);throw a.Vc(`Unsupported field value: ${Ck(n)}`)}(t,e)}function H8(t,e){const r={};return wV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ud(t,(n,a)=>{const s=L8(a,e.Ic(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function $8(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof kr||t instanceof U8||t instanceof im||t instanceof Ri||t instanceof R8||t instanceof M8)}function V8(t,e,r){if(!$8(r)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(r)){const n=Ck(r);throw n==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+n)}}function qAe(t,e,r){if((e=fl(e))instanceof D8)return e._internalPath;if(typeof e=="string")return zAe(t,e);throw Ey("Field path arguments must be of type string or ",t,!1,void 0,r)}const GAe=new RegExp("[~\\*/\\[\\]]");function zAe(t,e,r){if(e.search(GAe)>=0)throw Ey(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new D8(...e.split("."))._internalPath}catch{throw Ey(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Ey(t,e,r,n,a){const s=n&&!n.isEmpty(),o=a!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${n}`),o&&(c+=` in document ${a}`),c+=")"),new Ye(ge.INVALID_ARGUMENT,l+t+c)}function WAe(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XAe(t,e,r){let n;return n=t?t.toFirestore(e):e,n}function cD(t,e){const r=Bk(t.firestore,Sk),n=RAe(t),a=XAe(t.converter,e);return JAe(r,[KAe(VAe(t.firestore),"addDoc",n._key,a,t.converter!==null,{}).toMutation(n._key,Ta.exists(!1))]).then(()=>n)}function JAe(t,e){return function(n,a){const s=new tl;return n.asyncQueue.enqueueAndForget(async()=>CAe(await OAe(n),a,s)),s.promise}(UAe(t),e)}(function(e,r=!0){(function(a){Rd=a})(jle),ml(new Gi("firestore",(n,{instanceIdentifier:a,options:s})=>{const o=n.getProvider("app").getImmediate(),l=new Sk(new Ule(n.getProvider("auth-internal")),new Lle(o,n.getProvider("app-check-internal")),function(u,A){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ye(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new VA(u.options.projectId,A)}(o,a),o);return s=Object.assign({useFetchStreams:r},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Zs(zO,WO,e),Zs(zO,WO,"esm2017")})();const K8="@firebase/installations",kk="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8=1e4,G8=`w:${kk}`,z8="FIS_v2",YAe="https://firebaseinstallations.googleapis.com/v1",ZAe=60*60*1e3,ede="installations",tde="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rde={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Kc=new y0(ede,tde,rde);function W8(t){return t instanceof au&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X8({projectId:t}){return`${YAe}/projects/${t}/installations`}function J8(t){return{token:t.token,requestStatus:2,expiresIn:ade(t.expiresIn),creationTime:Date.now()}}async function Y8(t,e){const n=(await e.json()).error;return Kc.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Z8({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function nde(t,{refreshToken:e}){const r=Z8(t);return r.append("Authorization",sde(e)),r}async function eK(t){const e=await t();return e.status>=500&&e.status<600?t():e}function ade(t){return Number(t.replace("s","000"))}function sde(t){return`${z8} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ide({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=X8(t),a=Z8(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&a.append("x-firebase-client",u)}const o={fid:r,authVersion:z8,appId:t.appId,sdkVersion:G8},l={method:"POST",headers:a,body:JSON.stringify(o)},c=await eK(()=>fetch(n,l));if(c.ok){const u=await c.json();return{fid:u.fid||r,registrationStatus:2,refreshToken:u.refreshToken,authToken:J8(u.authToken)}}else throw await Y8("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tK(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ode(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lde=/^[cdef][\w-]{21}$/,YE="";function cde(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=ude(t);return lde.test(r)?r:YE}catch{return YE}}function ude(t){return ode(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rK=new Map;function nK(t,e){const r=Q0(t);aK(r,e),Ade(r,e)}function aK(t,e){const r=rK.get(t);if(r)for(const n of r)n(e)}function Ade(t,e){const r=dde();r&&r.postMessage({key:t,fid:e}),hde()}let fc=null;function dde(){return!fc&&"BroadcastChannel"in self&&(fc=new BroadcastChannel("[Firebase] FID Change"),fc.onmessage=t=>{aK(t.data.key,t.data.fid)}),fc}function hde(){rK.size===0&&fc&&(fc.close(),fc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fde="firebase-installations-database",mde=1,qc="firebase-installations-store";let Pw=null;function Ik(){return Pw||(Pw=x0(fde,mde,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(qc)}}})),Pw}async function Sy(t,e){const r=Q0(t),a=(await Ik()).transaction(qc,"readwrite"),s=a.objectStore(qc),o=await s.get(r);return await s.put(e,r),await a.done,(!o||o.fid!==e.fid)&&nK(t,e.fid),e}async function sK(t){const e=Q0(t),n=(await Ik()).transaction(qc,"readwrite");await n.objectStore(qc).delete(e),await n.done}async function L0(t,e){const r=Q0(t),a=(await Ik()).transaction(qc,"readwrite"),s=a.objectStore(qc),o=await s.get(r),l=e(o);return l===void 0?await s.delete(r):await s.put(l,r),await a.done,l&&(!o||o.fid!==l.fid)&&nK(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pk(t){let e;const r=await L0(t.appConfig,n=>{const a=pde(n),s=gde(t,a);return e=s.registrationPromise,s.installationEntry});return r.fid===YE?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function pde(t){const e=t||{fid:cde(),registrationStatus:0};return iK(e)}function gde(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Kc.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=vde(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:yde(t)}:{installationEntry:e}}async function vde(t,e){try{const r=await ide(t,e);return Sy(t.appConfig,r)}catch(r){throw W8(r)&&r.customData.serverCode===409?await sK(t.appConfig):await Sy(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function yde(t){let e=await uD(t.appConfig);for(;e.registrationStatus===1;)await tK(100),e=await uD(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await Pk(t);return n||r}return e}function uD(t){return L0(t,e=>{if(!e)throw Kc.create("installation-not-found");return iK(e)})}function iK(t){return xde(t)?{fid:t.fid,registrationStatus:0}:t}function xde(t){return t.registrationStatus===1&&t.registrationTime+q8<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bde({appConfig:t,heartbeatServiceProvider:e},r){const n=wde(t,r),a=nde(t,r),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&a.append("x-firebase-client",u)}const o={installation:{sdkVersion:G8,appId:t.appId}},l={method:"POST",headers:a,body:JSON.stringify(o)},c=await eK(()=>fetch(n,l));if(c.ok){const u=await c.json();return J8(u)}else throw await Y8("Generate Auth Token",c)}function wde(t,{fid:e}){return`${X8(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ok(t,e=!1){let r;const n=await L0(t.appConfig,s=>{if(!oK(s))throw Kc.create("not-registered");const o=s.authToken;if(!e&&Cde(o))return s;if(o.requestStatus===1)return r=jde(t,e),s;{if(!navigator.onLine)throw Kc.create("app-offline");const l=Ede(s);return r=_de(t,l),l}});return r?await r:n.authToken}async function jde(t,e){let r=await AD(t.appConfig);for(;r.authToken.requestStatus===1;)await tK(100),r=await AD(t.appConfig);const n=r.authToken;return n.requestStatus===0?Ok(t,e):n}function AD(t){return L0(t,e=>{if(!oK(e))throw Kc.create("not-registered");const r=e.authToken;return Sde(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function _de(t,e){try{const r=await bde(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await Sy(t.appConfig,n),r}catch(r){if(W8(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await sK(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Sy(t.appConfig,n)}throw r}}function oK(t){return t!==void 0&&t.registrationStatus===2}function Cde(t){return t.requestStatus===2&&!Bde(t)}function Bde(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+ZAe}function Ede(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Sde(t){return t.requestStatus===1&&t.requestTime+q8<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nde(t){const e=t,{installationEntry:r,registrationPromise:n}=await Pk(e);return n?n.catch(console.error):Ok(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tde(t,e=!1){const r=t;return await kde(r),(await Ok(r,e)).token}async function kde(t){const{registrationPromise:e}=await Pk(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ide(t){if(!t||!t.options)throw Ow("App Configuration");if(!t.name)throw Ow("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw Ow(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ow(t){return Kc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lK="installations",Pde="installations-internal",Ode=t=>{const e=t.getProvider("app").getImmediate(),r=Ide(e),n=b0(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},Fde=t=>{const e=t.getProvider("app").getImmediate(),r=b0(e,lK).getImmediate();return{getId:()=>Nde(r),getToken:a=>Tde(r,a)}};function Dde(){ml(new Gi(lK,Ode,"PUBLIC")),ml(new Gi(Pde,Fde,"PRIVATE"))}Dde();Zs(K8,kk);Zs(K8,kk,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rde="/firebase-messaging-sw.js",Ude="/firebase-cloud-messaging-push-scope",cK="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Mde="https://fcmregistrations.googleapis.com/v1",uK="google.c.a.c_id",Qde="google.c.a.c_l",Lde="google.c.a.ts",Hde="google.c.a.e",dD=1e4;var hD;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(hD||(hD={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var om;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(om||(om={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $de(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),a=new Uint8Array(n.length);for(let s=0;s<n.length;++s)a[s]=n.charCodeAt(s);return a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="fcm_token_details_db",Vde=5,fD="fcm_token_object_Store";async function Kde(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(Fw))return null;let e=null;return(await x0(Fw,Vde,{upgrade:async(n,a,s,o)=>{var l;if(a<2||!n.objectStoreNames.contains(fD))return;const c=o.objectStore(fD),u=await c.index("fcmSenderId").get(t);if(await c.clear(),!!u){if(a===2){const A=u;if(!A.auth||!A.p256dh||!A.endpoint)return;e={token:A.fcmToken,createTime:(l=A.createTime)!==null&&l!==void 0?l:Date.now(),subscriptionOptions:{auth:A.auth,p256dh:A.p256dh,endpoint:A.endpoint,swScope:A.swScope,vapidKey:typeof A.vapidKey=="string"?A.vapidKey:Ti(A.vapidKey)}}}else if(a===3){const A=u;e={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:Ti(A.auth),p256dh:Ti(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:Ti(A.vapidKey)}}}else if(a===4){const A=u;e={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:Ti(A.auth),p256dh:Ti(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:Ti(A.vapidKey)}}}}}})).close(),await _w(Fw),await _w("fcm_vapid_details_db"),await _w("undefined"),qde(e)?e:null}function qde(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gde="firebase-messaging-database",zde=1,lm="firebase-messaging-store";let Dw=null;function AK(){return Dw||(Dw=x0(Gde,zde,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(lm)}}})),Dw}async function Wde(t){const e=dK(t),n=await(await AK()).transaction(lm).objectStore(lm).get(e);if(n)return n;{const a=await Kde(t.appConfig.senderId);if(a)return await Fk(t,a),a}}async function Fk(t,e){const r=dK(t),a=(await AK()).transaction(lm,"readwrite");return await a.objectStore(lm).put(e,r),await a.done,e}function dK({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xde={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Mn=new y0("messaging","Messaging",Xde);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jde(t,e){const r=await Rk(t),n=hK(e),a={method:"POST",headers:r,body:JSON.stringify(n)};let s;try{s=await(await fetch(Dk(t.appConfig),a)).json()}catch(o){throw Mn.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw Mn.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw Mn.create("token-subscribe-no-token");return s.token}async function Yde(t,e){const r=await Rk(t),n=hK(e.subscriptionOptions),a={method:"PATCH",headers:r,body:JSON.stringify(n)};let s;try{s=await(await fetch(`${Dk(t.appConfig)}/${e.token}`,a)).json()}catch(o){throw Mn.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw Mn.create("token-update-failed",{errorInfo:o})}if(!s.token)throw Mn.create("token-update-no-token");return s.token}async function Zde(t,e){const n={method:"DELETE",headers:await Rk(t)};try{const s=await(await fetch(`${Dk(t.appConfig)}/${e}`,n)).json();if(s.error){const o=s.error.message;throw Mn.create("token-unsubscribe-failed",{errorInfo:o})}}catch(a){throw Mn.create("token-unsubscribe-failed",{errorInfo:a==null?void 0:a.toString()})}}function Dk({projectId:t}){return`${Mde}/projects/${t}/registrations`}async function Rk({appConfig:t,installations:e}){const r=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function hK({p256dh:t,auth:e,endpoint:r,vapidKey:n}){const a={web:{endpoint:r,auth:e,p256dh:t}};return n!==cK&&(a.web.applicationPubKey=n),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ehe=7*24*60*60*1e3;async function the(t){const e=await nhe(t.swRegistration,t.vapidKey),r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Ti(e.getKey("auth")),p256dh:Ti(e.getKey("p256dh"))},n=await Wde(t.firebaseDependencies);if(n){if(ahe(n.subscriptionOptions,r))return Date.now()>=n.createTime+ehe?rhe(t,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await Zde(t.firebaseDependencies,n.token)}catch(a){console.warn(a)}return mD(t.firebaseDependencies,r)}else return mD(t.firebaseDependencies,r)}async function rhe(t,e){try{const r=await Yde(t.firebaseDependencies,e),n=Object.assign(Object.assign({},e),{token:r,createTime:Date.now()});return await Fk(t.firebaseDependencies,n),r}catch(r){throw r}}async function mD(t,e){const n={token:await Jde(t,e),createTime:Date.now(),subscriptionOptions:e};return await Fk(t,n),n.token}async function nhe(t,e){const r=await t.pushManager.getSubscription();return r||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$de(e)})}function ahe(t,e){const r=e.vapidKey===t.vapidKey,n=e.endpoint===t.endpoint,a=e.auth===t.auth,s=e.p256dh===t.p256dh;return r&&n&&a&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return she(e,t),ihe(e,t),ohe(e,t),e}function she(t,e){if(!e.notification)return;t.notification={};const r=e.notification.title;r&&(t.notification.title=r);const n=e.notification.body;n&&(t.notification.body=n);const a=e.notification.image;a&&(t.notification.image=a);const s=e.notification.icon;s&&(t.notification.icon=s)}function ihe(t,e){e.data&&(t.data=e.data)}function ohe(t,e){var r,n,a,s,o;if(!e.fcmOptions&&!(!((r=e.notification)===null||r===void 0)&&r.click_action))return;t.fcmOptions={};const l=(a=(n=e.fcmOptions)===null||n===void 0?void 0:n.link)!==null&&a!==void 0?a:(s=e.notification)===null||s===void 0?void 0:s.click_action;l&&(t.fcmOptions.link=l);const c=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lhe(t){return typeof t=="object"&&!!t&&uK in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function che(t){if(!t||!t.options)throw Rw("App Configuration Object");if(!t.name)throw Rw("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:r}=t;for(const n of e)if(!r[n])throw Rw(n);return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function Rw(t){return Mn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uhe{constructor(e,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const a=che(e);this.firebaseDependencies={app:e,appConfig:a,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ahe(t){try{t.swRegistration=await navigator.serviceWorker.register(Rde,{scope:Ude}),t.swRegistration.update().catch(()=>{}),await dhe(t.swRegistration)}catch(e){throw Mn.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function dhe(t){return new Promise((e,r)=>{const n=setTimeout(()=>r(new Error(`Service worker not registered after ${dD} ms`)),dD),a=t.installing||t.waiting;t.active?(clearTimeout(n),e()):a?a.onstatechange=s=>{var o;((o=s.target)===null||o===void 0?void 0:o.state)==="activated"&&(a.onstatechange=null,clearTimeout(n),e())}:(clearTimeout(n),r(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hhe(t,e){if(!e&&!t.swRegistration&&await Ahe(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Mn.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fhe(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=cK)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fK(t,e){if(!navigator)throw Mn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Mn.create("permission-blocked");return await fhe(t,e==null?void 0:e.vapidKey),await hhe(t,e==null?void 0:e.serviceWorkerRegistration),the(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mhe(t,e,r){const n=phe(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[uK],message_name:r[Qde],message_time:r[Lde],message_device_time:Math.floor(Date.now()/1e3)})}function phe(t){switch(t){case om.NOTIFICATION_CLICKED:return"notification_open";case om.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ghe(t,e){const r=e.data;if(!r.isFirebaseMessaging)return;t.onMessageHandler&&r.messageType===om.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(pD(r)):t.onMessageHandler.next(pD(r)));const n=r.data;lhe(n)&&n[Hde]==="1"&&await mhe(t,r.messageType,n)}const gD="@firebase/messaging",vD="0.12.21";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vhe=t=>{const e=new uhe(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>ghe(e,r)),e},yhe=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:n=>fK(e,n)}};function xhe(){ml(new Gi("messaging",vhe,"PUBLIC")),ml(new Gi("messaging-internal",yhe,"PRIVATE")),Zs(gD,vD),Zs(gD,vD,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bhe(){try{await K$()}catch{return!1}return typeof window<"u"&&XT()&&boe()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function whe(t,e){if(!navigator)throw Mn.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mK(t=X$()){return bhe().then(e=>{if(!e)throw Mn.create("unsupported-browser")},e=>{throw Mn.create("indexed-db-unsupported")}),b0(fl(t),"messaging").getImmediate()}async function jhe(t,e){return t=fl(t),fK(t,e)}function _he(t,e){return t=fl(t),whe(t,e)}xhe();const Che={apiKey:"AIzaSyBLkK6LwseUvbA6oDTQTLd2Z4MpmH7NhgQ",authDomain:"jpccoal.firebaseapp.com",projectId:"jpccoal",storageBucket:"jpccoal.firebasestorage.app",messagingSenderId:"427360291711",appId:"1:427360291711:web:90ee121cbc8cc64b8de84a",vapidKey:"BHH5-vMogiQiVgytRhYjTq6AtpObVKuZr1apoQbx9oD8zL8VywEhcXe5hooGzisOoJEVtPrWRWM6_N_Hoe3mE4U"},Qd=W$(Che);let Lv=null;try{typeof window<"u"&&"serviceWorker"in navigator?(Lv=mK(Qd),console.log("Firebase messaging initialized successfully")):console.log("Firebase messaging not supported in this environment")}catch(t){console.error("Error initializing Firebase messaging:",t)}const Bhe=Nk(Qd),Ehe=async()=>{try{typeof window<"u"&&"indexedDB"in window&&await MAe(Bhe).then(()=>{console.log("Firestore offline persistence enabled successfully")}).catch(t=>{t.code==="failed-precondition"?console.log("Firebase persistence not enabled: Multiple tabs open"):t.code==="unimplemented"?console.log("Firebase persistence not available in this browser"):console.error("Error initializing Firebase persistence:",t)})}catch(t){console.error("Error setting up Firestore persistence:",t)}};Ehe().catch(t=>{console.error("Failed to initialize Firestore:",t)});const pK=()=>typeof window<"u"&&"Notification"in window&&"serviceWorker"in navigator&&"PushManager"in window,Uw=async()=>{try{if(!pK())return console.log("This browser does not support notifications - likely a mobile device without notification support"),null;if(!("serviceWorker"in navigator))return console.log("Service workers not supported in this browser, FCM token cannot be generated"),null;if(!Qd||!Lv)return console.error("Firebase not properly initialized"),null;if(Notification.permission!=="granted"){if(console.log("Requesting notification permission from user..."),await Notification.requestPermission()!=="granted")return console.log("User denied notification permission"),null;console.log("Notification permission granted by user")}try{await navigator.serviceWorker.getRegistration("/firebase-messaging-sw.js")||(console.log("Firebase messaging service worker not registered, attempting to register now"),await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/"}),console.log("Firebase messaging service worker registered"))}catch(t){console.error("Error registering service worker:",t)}console.log("Generating FCM token with VAPID key...");try{if(!Lv)return console.error("Cannot get FCM token: Firebase messaging not initialized"),null;const t=await jhe(Lv,{vapidKey:"BHH5-vMogiQiVgytRhYjTq6AtpObVKuZr1apoQbx9oD8zL8VywEhcXe5hooGzisOoJEVtPrWRWM6_N_Hoe3mE4U"});if(t){console.log("FCM token generated successfully:",t.substring(0,10)+"..."+t.substring(t.length-5));try{localStorage.setItem("fcm_token",t),localStorage.setItem("fcm_token_timestamp",new Date().toISOString())}catch(e){console.warn("Could not store FCM token in localStorage:",e)}return t}else{console.warn("Firebase returned empty token");const e=localStorage.getItem("fcm_token");return e?(console.log("Using previously stored FCM token from localStorage"),e):null}}catch(t){console.error("Error during FCM token generation:",t);const e=localStorage.getItem("fcm_token");return e?(console.log("Using previously stored FCM token from localStorage after error"),e):null}}catch(t){return console.error("Unexpected error in requestFCMToken:",t),null}},Mw=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),She=t=>t==="bank-transfer"?"Transfer Bank":t==="cash-on-delivery"?"Bayar di Tempat (COD)":t==="e-wallet"?"E-Wallet":t==="qris"?"QRIS":t==="credit-card"?"Kartu Kredit":t,Nhe=(t,e,r,n,a,s)=>{const o=t.id.substring(0,8),l=t.created_at?new Date(t.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):new Date().toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),c=t.status==="pending"?"Menunggu Pembayaran":t.status==="processing"?"Diproses":t.status==="shipped"?"Dikirim":t.status==="completed"?"Selesai":t.status||"Menunggu",u=s||{provider:t.shipping_provider||"JPC Delivery",service:t.shipping_service||"Reguler",cost:t.shipping_cost||0,estimate:t.shipping_estimate||"1-3 Hari"};if(Array.isArray(a)&&a.length>0){const h=Math.min(a.length,3);a.slice(0,h).map((f,p)=>`${p+1}. ${f.product_name||"Produk"} (${f.quantity||1}x)`).join(`
`),a.length-h}const A=n?`${n.street?n.street.substring(0,25)+(n.street.length>25?"...":""):"N/A"}${n.district?", "+n.district:""}`:"Alamat tidak tersedia";let d="Produk tidak tersedia";if(Array.isArray(a)&&a.length>0){const h=Math.min(a.length,3),f=a.slice(0,h).map((m,x)=>`${x+1}. ${m.product_name||"Produk"} (${m.quantity||1}x) - ${Mw(m.price||0)}`).join(`
`),p=a.length-h,g=p>0?`+${p} item lainnya`:"";d=f+(g?`
${g}`:"")}return`🎉 *PESANAN BERHASIL DIBUAT* 🎉

Halo ${(e==null?void 0:e.name)||"Pelanggan"}!

*DETAIL PESANAN*
ID: #${o}
Tanggal: ${l}
Status: ${c}

*PRODUK YANG DIPESAN*
${d}

*PENGIRIMAN*
Alamat: ${A}
Kurir: ${u.provider||"JPC Delivery"}
Layanan: ${u.service||"Reguler"}
Ongkir: ${Mw(u.cost||0)}
Estimasi: ${u.estimate||"1-3 Hari"}

*PEMBAYARAN*
Total: ${Mw(t.total)}
Metode: ${She(t.payment_method||"N/A")}
${t.payment_method==="bank-transfer"?`Bank: ${(r==null?void 0:r.bank_name)||"SeaBank"}
Rek: ${(r==null?void 0:r.account_number)||"901958730549"}
`:""}
*INFO*: Hubungi 0813-9458-6882
*JAYA PERKASA CHARCOAL* 🙏`},Ch="caa6aa7f-8086-4920-899d-4ac498a62eea",Dg="dAUtf7zkmSDKTTZdAXb48oE29tB9NIWkldd3tr90ucGedWCPu3",The="",gK=["0895385500396","081394586882"],ZE=["https://app.wapanels.com/api/create-message"],Ui={};ZE.forEach(t=>{Ui[t]={healthy:!0,lastChecked:0}});const Qw=t=>{Ui[t]&&(Ui[t].healthy=!1,Ui[t].lastChecked=Date.now(),console.log(`Marked WhatsApp API endpoint as unhealthy: ${t}`))},yD=t=>{Ui[t]&&(Ui[t].healthy=!0,Ui[t].lastChecked=Date.now())},khe=()=>gK,Tp=async(t,e)=>{try{if(!t||!e)return console.error("WhatsApp API error: Missing required parameters (phone number or message)"),!1;e.length>4096&&(console.error("WhatsApp API error: Message too long, maximum length is 4096 characters"),console.log(`Message length: ${e.length} characters, truncating to 4096`),e=e.substring(0,4096));let r=t.replace(/\D/g,"");if(r.startsWith("0")?r="62"+r.substring(1):r.startsWith("62")||(r="62"+r),r.length<10)return console.error(`WhatsApp API error: Phone number too short after formatting: ${r}`),!1;console.log(`Sending WhatsApp to formatted number: ${r}`);for(const n of ZE)if(!(!Ui[n].healthy&&ZE.some(a=>Ui[a].healthy)))try{let a,s={"Content-Type":"application/json",Accept:"application/json"};n.includes("fonnte.com")?(s={Authorization:Ch,"Content-Type":"application/json"},a={target:r,message:e,countryCode:"62",delay:0}):n.includes("/create-message")?a={appkey:Ch,authkey:Dg,to:r,message:e,template_id:"",priority:"high",repeat:1}:n.includes("/send")?a={appkey:Ch,authkey:Dg,to:r,message:e,template_id:""}:a={appkey:Ch,authkey:Dg,to:r,message:e,template_id:"",type:"text"},console.log(`Trying WhatsApp API endpoint: ${n.split("/").slice(-2).join("/")}`),console.log(`WhatsApp API request to ${n.split("/").slice(-2).join("/")} with phone ${r} (${e.length} chars)`);const o=await So.post(n,a,{headers:s,timeout:15e3});if(o.data&&o.status>=200&&o.status<300){console.log("WhatsApp API Response:",o.data);const c=o.data.status==="success"||o.data.success===!0||o.data.error===!1||o.data.message_status==="Success"||o.data.status==="sent"||o.data.result==="success"||o.data.data&&(o.data.data.status==="success"||o.data.data.status_code===200||o.data.data.result==="success")||o.data.message_id||o.data.id||o.data.data&&(o.data.data.message_id||o.data.data.id),u=o.data.message==="Validation errors"||o.data.status==="validation_error"||o.data.errors&&Object.keys(o.data.errors).length>0;if(c)return yD(n),console.log(`✅ WhatsApp message sent successfully via ${n.split("/").slice(-2).join("/")}`),!0;if(u&&(console.error("WhatsApp API validation error:",o.data),o.data.errors&&console.error("Validation details:",JSON.stringify(o.data.errors)),o.data.data&&o.data.data.message&&console.error("Error message:",o.data.data.message),n.includes("/create-message")))try{console.log("Trying alternate payload format for create-message endpoint");const A={appkey:Ch,authkey:Dg,to:r,message:e},d=await So.post(n,A,{headers:s,timeout:15e3});if(d.data&&d.status>=200&&d.status<300&&d.data.success===!0)return console.log("✅ WhatsApp message sent successfully via alternate payload format"),yD(n),!0}catch(A){console.error("Alternate payload also failed:",A)}}console.warn(`WhatsApp API endpoint ${n} returned non-success data:`,o.data),(o.data.message==="Validation errors"||o.data.error==="invalid_key"||o.data.status==="error")&&(console.error(`Marking endpoint ${n} as unhealthy due to validation/auth errors`),Qw(n))}catch(a){if(a.response){const s=a.response.status;console.error(`WhatsApp API error (HTTP ${s}) with endpoint ${n}:`,{data:a.response.data,status:s}),s===404||s===401||s===403?(console.error(`Endpoint ${n} not found (404). Marking as unhealthy.`),Qw(n)):s===400?(console.error(`Validation error with endpoint ${n}. Will try other formats.`),Qw(n)):(s===401||s===403)&&console.error("WhatsApp API authentication failed. Check your API credentials.")}else a.request?console.error(`Network error with endpoint ${n}:`,a.message):console.error(`Error with endpoint ${n}:`,a.message)}return console.error("All WhatsApp API endpoints failed. Message not sent."),!1}catch(r){return console.error("Unexpected error in WhatsApp API service:",r.message),!1}},Lw=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),Ihe=async(t,e,r,n,a,s)=>{try{if(!(e!=null&&e.phone))return console.error("Cannot send WhatsApp notification: Customer phone number missing"),!1;console.log("⏱️ Starting WhatsApp notifications with complete order data"),console.log("Order:",{id:t==null?void 0:t.id,total:t==null?void 0:t.total,status:t==null?void 0:t.status}),console.log("Items received:",n),console.log("Address received:",r);let o=[];Array.isArray(n)&&n.length>0?(o=n.map(f=>({product_name:f.product_name||"Produk",price:f.price||0,quantity:f.quantity||1,variant:f.variant||"",unit:f.unit||"",product_id:f.product_id||""})),console.log(`✅ Order items valid: ${o.length} items found`)):(console.warn("⚠️ No valid order items found, creating dummy item for notification"),o=[{product_name:"Pesanan Anda",price:t.total||0,quantity:1,variant:"",unit:"",product_id:""}]),o.length>0&&console.log("First item sample:",{name:o[0].product_name,price:o[0].price,qty:o[0].quantity});const l={street:(r==null?void 0:r.street)||"Alamat tidak tersedia",district:(r==null?void 0:r.district)||"",city:(r==null?void 0:r.city)||"Kota tidak tersedia",province:(r==null?void 0:r.province)||"Provinsi tidak tersedia",postal_code:(r==null?void 0:r.postal_code)||"",notes:(r==null?void 0:r.notes)||"",recipient_name:(r==null?void 0:r.recipient_name)||(e==null?void 0:e.name)||"Pelanggan",recipient_phone:(r==null?void 0:r.recipient_phone)||(e==null?void 0:e.phone)||""};console.log("Normalized address data:",{street:l.street.substring(0,15)+"...",district:l.district,city:l.city,province:l.province});const c=a||{provider:t.shipping_provider||"JPC Delivery",service:t.shipping_service||"Reguler",cost:t.shipping_cost||0,estimate:t.shipping_estimate||"1-3 Hari"},u=s||{name:"Transfer Bank",bank_name:"SeaBank",account_number:"901958730549",account_name:"Jaya Perkasa Charcoal"};console.log("Membuat pesan terformat dengan detail lengkap...");let A="";const d=Nhe(t,e,u,l,o,c);if(console.log(`Pesan ringkas dibuat: ${d.length} karakter`),console.log("Detail items dalam pesan:",o.map(f=>`${f.product_name} (${f.quantity}x)`)),console.log(`Panjang pesan ringkas: ${d.length} karakter`),d.length>1e3){console.error(`Bahkan pesan ringkas masih terlalu panjang (${d.length} karakter)`);const f=t.status==="pending"?"Menunggu Pembayaran":t.status==="processing"?"Diproses":t.status==="shipped"?"Dikirim":t.status==="completed"?"Selesai":t.status||"Menunggu";let p="Produk tidak tersedia";if(Array.isArray(o)&&o.length>0){const m=o[0];p=`${m.product_name||"Produk"} (${m.quantity||1}x)`,o.length>1&&(p+=` +${o.length-1} item lainnya`)}let g="";if(Array.isArray(o)&&o.length>0){const m=Math.min(o.length,3);for(let x=0;x<m;x++){const b=o[x];g+=`${x+1}. ${b.product_name||"Produk"} (${b.quantity||1}x) - ${Lw(b.price||0)}
`}o.length>m&&(g+=`+${o.length-m} item lainnya
`)}else g=`Produk tidak tersedia
`;A=`🎉 *PESANAN BERHASIL* 🎉

Halo ${(e==null?void 0:e.name)||"Pelanggan"}!

*DETAIL PESANAN*
ID: #${t.id.substring(0,8)}
Status: ${f}

*PRODUK YANG DIPESAN*
${g}
*PENGIRIMAN*
Kurir: ${c.provider||"JPC Delivery"}
Layanan: ${c.service||"Reguler"}
Ongkos Kirim: ${Lw(c.cost||0)}
Estimasi: ${c.estimate||"1-3 Hari"}

*PEMBAYARAN*
Total: ${Lw(t.total)}

*HUBUNGI*: 0813-9458-6882
*JAYA PERKASA CHARCOAL*`,console.log(`Panjang pesan darurat: ${A.length} karakter`)}else A=d;console.log(`Pesan final: ${A.length} karakter`),console.log("Konten pesan WhatsApp (awal):",A.substring(0,100)+"..."),console.log("Mengirim pesan WhatsApp ke:",e.phone);const h=await Tp(e.phone,A);return console.log(h?"✅ WhatsApp notification berhasil dikirim ke pelanggan":"❌ Gagal mengirim WhatsApp notification ke pelanggan"),h}catch(o){return console.error("Error sending customer order notification:",o),!1}},Phe=async(t,e,r,n,a,s)=>{console.log("Sending WhatsApp notification to admin with shipping cost:",t==null?void 0:t.shipping_cost);try{const o=t.created_at?new Date(t.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})+" pukul "+new Date(t.created_at).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})+" pukul "+new Date().toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),l=w=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(w).replace("Rp ","Rp "),c=Array.isArray(n)?n:[],u=c.reduce((w,C)=>w+(C.price||0)*(C.quantity||0),0),A=c.map((w,C)=>{const E=w.price||0,j=w.quantity||1,B=E*j;return`${C+1}. ${w.product_name||"Produk"} (${j}x) - ${l(B)}`}).join(`
`),d=a||{provider:t.shipping_provider||"JPC Delivery",service:t.shipping_service||"Reguler",estimate:t.shipping_estimate||"1-3 Jam",cost:t.shipping_cost||0},h=t.shipping_cost||d.cost||0;console.log("Admin notification - shipping cost:",h);const f=t.discount_data||{},p=f&&(f.value>0||f.code),g=p?f.type==="percentage"?`${f.value}%`:l(f.value||0):"0",m=(r==null?void 0:r.recipient_name)||(e==null?void 0:e.name)||"N/A",x=(r==null?void 0:r.recipient_phone)||(e==null?void 0:e.phone)||"N/A",b=`🛒 PESANAN BARU 🛒

ID Pesanan: #${t.id}
Tanggal: ${o}
Status: ${t.status||"pending"}

DATA PELANGGAN
Nama: ${(e==null?void 0:e.name)||"Pelanggan"}
No. HP: ${(e==null?void 0:e.phone)||"N/A"}
Email: ${(e==null?void 0:e.email)||"N/A"}

DETAIL PENERIMA
Nama Penerima: ${m}
No. HP Penerima: ${x}

ALAMAT PENGIRIMAN
${(r==null?void 0:r.street)||"N/A"}
${r!=null&&r.district?r.district+", ":""}${(r==null?void 0:r.city)||"N/A"}
${(r==null?void 0:r.province)||"N/A"} ${(r==null?void 0:r.postal_code)||""}
Catatan: ${(r==null?void 0:r.notes)||"-"}

INFORMASI PENGIRIMAN
Kurir: ${d.provider||t.shipping_provider||"JPC Delivery"}
Layanan: ${d.service||t.shipping_service||"Reguler"}
Ongkos Kirim: ${l(h)}
Estimasi: ${d.estimate||t.shipping_estimate||"1-3 Jam"}
Detail Alamat: ${(r==null?void 0:r.country)||""}

DETAIL PESANAN
${A}

RINGKASAN PEMBAYARAN
Subtotal Produk: ${l(u)}
${p?`Diskon${f.code?" ("+f.code+")":""}: -${g}
`:""}Ongkos Kirim: ${l(h)}
Total Pembayaran: ${l(t.total)}

INFORMASI PEMBAYARAN
Metode: ${Ohe(t.payment_method||"N/A")}
Status Pembayaran: ${t.payment_status||"Belum dibayar"}
${t.payment_method==="bank-transfer"?`Bank: ${(s==null?void 0:s.bank_name)||"SeaBank"}
No. Rekening: ${(s==null?void 0:s.account_number)||"901958730549"}
a.n: ${(s==null?void 0:s.account_name)||"Jaya Perkasa Charcoal"}
`:""}
Terima kasih telah berbelanja di JPC!
Untuk informasi lebih lanjut, silakan hubungi kami.

PERHATIAN: Pesanan baru memerlukan persetujuan Anda. Silakan buka dashboard admin untuk memprosesnya.`;let _=0;for(const w of gK)try{_>0&&await new Promise(E=>setTimeout(E,1e3)),await Tp(w,b)&&(_++,console.log(`✅ WhatsApp notification sent to admin: ${w}`))}catch(C){console.error(`Error sending WhatsApp to admin ${w}:`,C)}return _>0}catch(o){return console.error("Error sending admin notifications:",o),!1}},Ohe=t=>t==="bank-transfer"?"Transfer Bank":t==="cash-on-delivery"?"Bayar di Tempat (COD)":t==="e-wallet"?"E-Wallet":t==="qris"?"QRIS":t==="credit-card"?"Kartu Kredit":t,vK=Tp,yK=async t=>{try{console.log("Starting admin notification via WhatsApp (Firebase disabled)");try{const e=t.shipping_method_id||"",{data:r}=await J.from("shipping_methods").select("*").eq("id",e).single(),{data:n}=await J.from("profiles").select("name, phone, email").eq("id",t.user_id).single(),{data:a}=await J.from("order_items").select("*").eq("order_id",t.id),{data:s}=await J.from("addresses").select("*").eq("id",t.shipping_address_id).single();let o=null;if(t.payment_method==="bank-transfer"&&t.payment_details)try{o=typeof t.payment_details=="string"?JSON.parse(t.payment_details):t.payment_details}catch{o={bank_name:t.payment_details}}const l=await Phe(t,n||{name:"Unknown Customer",phone:"N/A",email:"N/A"},s||{street:"N/A",city:"N/A"},a||[],r||{name:"Standard Shipping",cost:0},o);return console.log(`WhatsApp notification to admins: ${l?"success":"failed"}`),l}catch(e){return console.error("Error sending WhatsApp notification to admins:",e),!1}}catch(e){return console.error("Error in admin notification process:",e),!1}},Hw=async(t,e)=>(console.log("FCM token storage disabled - using WhatsApp notifications only"),!1),eS=async t=>(console.log("Firebase notifications disabled - using WhatsApp notifications only"),null),xK=v.createContext(void 0);function Ir(){const t=v.useContext(xK);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function Fhe({children:t}){const[e,r]=v.useState(null),[n,a]=v.useState(null),[s,o]=v.useState(null),[l,c]=v.useState(!0),[u,A]=v.useState(!1),d=async w=>{try{const{data:C,error:E}=await J.from("profiles").select("*").eq("id",w).maybeSingle();return E?(console.error("Error fetching profile:",E),null):C}catch(C){return console.error("Error in fetchProfile:",C),null}},h=async(w,C={})=>{try{let E=await d(w);if(!E){console.log("Profile not found, creating new profile for user:",w);const{data:j,error:B}=await J.from("profiles").insert({id:w,name:C.name||"",email:C.email||"",role:C.role||"customer",created_at:new Date().toISOString()}).select().single();if(B)return console.error("Error creating profile:",B),null;E=j}return E}catch(E){return console.error("Error in ensureProfileExists:",E),null}},f=async()=>{var C;if(!e)return;let w=await d(e.id);w||(w=await h(e.id,{email:e.email,name:((C=e.user_metadata)==null?void 0:C.name)||""})),w&&a(w)};v.useEffect(()=>{const{data:{subscription:w}}=J.auth.onAuthStateChange(async(C,E)=>{o(E),r((E==null?void 0:E.user)??null),E!=null&&E.user?(c(!0),setTimeout(async()=>{var B;let j=await d(E.user.id);j||(j=await h(E.user.id,{email:E.user.email,name:((B=E.user.user_metadata)==null?void 0:B.name)||""})),a(j),c(!1)},0)):(a(null),c(!1))});return J.auth.getSession().then(async({data:{session:C}})=>{var E;if(o(C),r((C==null?void 0:C.user)??null),C!=null&&C.user){let j=await d(C.user.id);if(j||(j=await h(C.user.id,{email:C.user.email,name:((E=C.user.user_metadata)==null?void 0:E.name)||""})),j)try{const B=await Uw();if(B){await Hw(C.user.id,B),console.log("FCM token updated for returning user:",C.user.id,"Token:",B.substring(0,10)+"..."),j.fcm_token=B;const S={userAgent:navigator.userAgent,platform:navigator.platform,vendor:navigator.vendor,timestamp:new Date().toISOString()};console.log("Device info for FCM token:",S)}}catch(B){console.error("Error generating/storing FCM token on session check:",B)}a(j)}c(!1)}),()=>{w.unsubscribe()}},[]);let p=0,g=!1;const m=async()=>{if(!e)return!1;const w=Date.now();if(w-p<5e3)return console.log("Using cached phone verification result:",g),g;try{p=w;const{data:E,error:j}=await J.from("profiles").select("is_phone_verified, phone_verified_at").eq("id",e.id).single();if(j||!E)return console.error("Error checking phone verification:",j),g=!1,A(!1),!1;const B=E.is_phone_verified===!0;return g=B,u!==B&&A(B),B}catch(E){return console.error("Error in checkPhoneVerification:",E),g=!1,A(!1),!1}},x=async(w,C)=>{try{c(!0);const{data:E,error:j}=await J.auth.signInWithPassword({email:w,password:C});if(j)throw j;if(E!=null&&E.user){const B=await d(E.user.id);if(B&&a(B),await m(),"Notification"in window&&"serviceWorker"in navigator)try{const S=await Uw();S?(localStorage.setItem("fcmToken",S),await Hw(E.user.id,S),n&&a(N=>N&&{...N,fcm_token:S,last_token_update:new Date().toISOString()}),console.log("FCM token updated for user on login:",E.user.id,"Token:",S.substring(0,10)+"...")):console.log("No FCM token could be generated, notifications may not work")}catch(S){console.error("Error generating/storing FCM token:",S)}}}catch(E){throw console.error("Login error:",E),c(!1),E}finally{c(!1)}},b=async(w,C,E)=>{c(!0);try{const{data:j,error:B}=await J.auth.signUp({email:C,password:E,options:{data:{name:w}}});if(B)throw B;if(j.user){await h(j.user.id,{email:C,name:w,role:"customer"});try{const S=await Uw();if(S){await Hw(j.user.id,S);const N={userAgent:navigator.userAgent,platform:navigator.platform,appName:navigator.appName,vendor:navigator.vendor,appVersion:navigator.appVersion,language:navigator.language,screen:{width:window.screen.width,height:window.screen.height,colorDepth:window.screen.colorDepth,pixelDepth:window.screen.pixelDepth},registrationTime:new Date().toISOString()};console.log("New user device info:",N),console.log("FCM token generated and stored for new user:",j.user.id,"Token:",S.substring(0,10)+"..."),console.log("Device info stored:",N);const I=await d(j.user.id);I&&a({...I,fcm_token:S})}}catch(S){console.error("Error generating/storing FCM token during registration:",S)}}}catch(j){throw c(!1),j}},_=async()=>{try{await J.auth.signOut()}catch(w){console.error("Error during logout:",w)}};return v.useEffect(()=>{e&&n?m():A(!1)},[e,n]),i.jsx(xK.Provider,{value:{user:e,profile:n,isLoading:l,isPhoneVerified:u,login:x,register:b,logout:_,refreshProfile:f,checkPhoneVerification:m},children:t})}const bK=v.createContext(void 0);function H0(){const t=v.useContext(bK);if(!t)throw new Error("useCart must be used within a CartProvider");return t}function Dhe({children:t}){const[e,r]=v.useState([]);v.useEffect(()=>{const u=localStorage.getItem("cart");u&&r(JSON.parse(u))},[]),v.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const n=u=>{r(A=>{const d=A.findIndex(h=>h.id===u.id);if(d>-1){const h=[...A];return h[d]={...h[d],quantity:h[d].quantity+(u.quantity||1)},h}else return[...A,{...u,quantity:u.quantity||1}]})},a=u=>{r(A=>A.filter(d=>d.id!==u))},s=(u,A)=>{if(A<=0){a(u);return}r(d=>d.map(h=>h.id===u?{...h,quantity:A}:h))},o=()=>{r([])},l=e.reduce((u,A)=>u+A.price*A.quantity,0),c=e.reduce((u,A)=>u+A.quantity,0);return i.jsx(bK.Provider,{value:{items:e,addItem:n,removeItem:a,updateQuantity:s,clearCart:o,total:l,itemCount:c},children:t})}function Rhe(){const t=na();return v.useEffect(()=>{t.pathname==="/"&&localStorage.getItem("whatsapp_verification_success")==="true"&&(localStorage.removeItem("whatsapp_verification_success"),setTimeout(()=>{window.location.reload()},100))},[t.pathname]),null}const Uhe=()=>{const t=na();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),i.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Ups! Halaman tidak ditemukan"}),i.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Kembali ke Beranda"})]})})};function $t({children:t}){const e=na(),r=e.pathname.startsWith("/ppob");return i.jsxs("div",{className:"flex flex-col min-h-screen max-w-md mx-auto bg-background",children:[i.jsx("main",{className:de("flex-1 overflow-y-auto",{"pb-16 bottom-tab-height":!r}),children:t}),e.pathname==="/"&&i.jsx("div",{className:"text-center mb-2",children:i.jsx(ct,{to:"/admin-login",className:"text-xs text-muted-foreground hover:text-flame-500",children:"Akses Admin"})}),!r&&i.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 max-w-md mx-auto bg-background border-t",children:i.jsxs("div",{className:"flex justify-around items-center h-16",children:[i.jsx(Bh,{to:"/",icon:i.jsx(a6,{className:"h-6 w-6"}),label:"Beranda",isActive:e.pathname==="/"}),i.jsx(Bh,{to:"/chat",icon:i.jsx(vT,{className:"h-6 w-6"}),label:"Chat",isActive:e.pathname==="/chat"}),i.jsx(Bh,{to:"/cart",icon:i.jsx(i0,{className:"h-6 w-6"}),label:"Keranjang",isActive:e.pathname==="/cart"}),i.jsx(Bh,{to:"/orders",icon:i.jsx(Vi,{className:"h-6 w-6"}),label:"Pesanan",isActive:e.pathname.includes("/order")||e.pathname==="/orders"}),i.jsx(Bh,{to:"/profile",icon:i.jsx(OA,{className:"h-6 w-6"}),label:"Profil",isActive:e.pathname==="/profile"})]})})]})}function Bh({to:t,icon:e,label:r,isActive:n}){return i.jsx(ct,{to:t,className:"flex flex-col items-center justify-center w-full",children:i.jsxs("div",{className:de("flex flex-col items-center justify-center",n?"text-flame-500":"text-charcoal-400"),children:[e,i.jsx("span",{className:"text-xs mt-1",children:r})]})})}const le=v.forwardRef(({className:t,type:e,...r},n)=>i.jsx("input",{type:e,className:de("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));le.displayName="Input";const xe=v.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:de("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));xe.displayName="Card";const nt=v.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:de("flex flex-col space-y-1.5 p-6",t),...e}));nt.displayName="CardHeader";const at=v.forwardRef(({className:t,...e},r)=>i.jsx("h3",{ref:r,className:de("text-2xl font-semibold leading-none tracking-tight",t),...e}));at.displayName="CardTitle";const nr=v.forwardRef(({className:t,...e},r)=>i.jsx("p",{ref:r,className:de("text-sm text-muted-foreground",t),...e}));nr.displayName="CardDescription";const be=v.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:de("p-6 pt-0",t),...e}));be.displayName="CardContent";const Ga=v.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:de("flex items-center p-6 pt-0",t),...e}));Ga.displayName="CardFooter";function cm(t,[e,r]){return Math.min(r,Math.max(e,t))}var Mhe=v.createContext(void 0);function Ld(t){const e=v.useContext(Mhe);return t||e||"ltr"}var $w=0;function Uk(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??xD()),document.body.insertAdjacentElement("beforeend",t[1]??xD()),$w++,()=>{$w===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),$w--}},[])}function xD(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Vw="focusScope.autoFocusOnMount",Kw="focusScope.autoFocusOnUnmount",bD={bubbles:!1,cancelable:!0},Qhe="FocusScope",$0=v.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=t,[l,c]=v.useState(null),u=Tr(a),A=Tr(s),d=v.useRef(null),h=pt(e,g=>c(g)),f=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let g=function(_){if(f.paused||!l)return;const w=_.target;l.contains(w)?d.current=w:Co(d.current,{select:!0})},m=function(_){if(f.paused||!l)return;const w=_.relatedTarget;w!==null&&(l.contains(w)||Co(d.current,{select:!0}))},x=function(_){if(document.activeElement===document.body)for(const C of _)C.removedNodes.length>0&&Co(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",m);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",m),b.disconnect()}}},[n,l,f.paused]),v.useEffect(()=>{if(l){jD.add(f);const g=document.activeElement;if(!l.contains(g)){const x=new CustomEvent(Vw,bD);l.addEventListener(Vw,u),l.dispatchEvent(x),x.defaultPrevented||(Lhe(qhe(wK(l)),{select:!0}),document.activeElement===g&&Co(l))}return()=>{l.removeEventListener(Vw,u),setTimeout(()=>{const x=new CustomEvent(Kw,bD);l.addEventListener(Kw,A),l.dispatchEvent(x),x.defaultPrevented||Co(g??document.body,{select:!0}),l.removeEventListener(Kw,A),jD.remove(f)},0)}}},[l,u,A,f]);const p=v.useCallback(g=>{if(!r&&!n||f.paused)return;const m=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(m&&x){const b=g.currentTarget,[_,w]=Hhe(b);_&&w?!g.shiftKey&&x===w?(g.preventDefault(),r&&Co(_,{select:!0})):g.shiftKey&&x===_&&(g.preventDefault(),r&&Co(w,{select:!0})):x===b&&g.preventDefault()}},[r,n,f.paused]);return i.jsx(Je.div,{tabIndex:-1,...o,ref:h,onKeyDown:p})});$0.displayName=Qhe;function Lhe(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Co(n,{select:e}),document.activeElement!==r)return}function Hhe(t){const e=wK(t),r=wD(e,t),n=wD(e.reverse(),t);return[r,n]}function wK(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function wD(t,e){for(const r of t)if(!$he(r,{upTo:e}))return r}function $he(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Vhe(t){return t instanceof HTMLInputElement&&"select"in t}function Co(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Vhe(t)&&e&&t.select()}}var jD=Khe();function Khe(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=_D(t,e),t.unshift(e)},remove(e){var r;t=_D(t,e),(r=t[0])==null||r.resume()}}}function _D(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function qhe(t){return t.filter(e=>e.tagName!=="A")}function kp(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Ghe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Nu=new WeakMap,Rg=new WeakMap,Ug={},qw=0,jK=function(t){return t&&(t.host||jK(t.parentNode))},zhe=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=jK(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Whe=function(t,e,r,n){var a=zhe(e,Array.isArray(t)?t:[t]);Ug[r]||(Ug[r]=new WeakMap);var s=Ug[r],o=[],l=new Set,c=new Set(a),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};a.forEach(u);var A=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(l.has(h))A(h);else try{var f=h.getAttribute(n),p=f!==null&&f!=="false",g=(Nu.get(h)||0)+1,m=(s.get(h)||0)+1;Nu.set(h,g),s.set(h,m),o.push(h),g===1&&p&&Rg.set(h,!0),m===1&&h.setAttribute(r,"true"),p||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return A(e),l.clear(),qw++,function(){o.forEach(function(d){var h=Nu.get(d)-1,f=s.get(d)-1;Nu.set(d,h),s.set(d,f),h||(Rg.has(d)||d.removeAttribute(n),Rg.delete(d)),f||d.removeAttribute(r)}),qw--,qw||(Nu=new WeakMap,Nu=new WeakMap,Rg=new WeakMap,Ug={})}},Mk=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=Ghe(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),Whe(n,a,r,"aria-hidden")):function(){return null}},Ks=function(){return Ks=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ks.apply(this,arguments)};function _K(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function Xhe(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,s;n<a;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var Hv="right-scroll-bar-position",$v="width-before-scroll-bar",Jhe="with-scroll-bars-hidden",Yhe="--removed-body-scroll-bar-size";function Gw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Zhe(t,e){var r=v.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=e,r.facade}var efe=typeof window<"u"?v.useLayoutEffect:v.useEffect,CD=new WeakMap;function tfe(t,e){var r=Zhe(null,function(n){return t.forEach(function(a){return Gw(a,n)})});return efe(function(){var n=CD.get(r);if(n){var a=new Set(n),s=new Set(t),o=r.current;a.forEach(function(l){s.has(l)||Gw(l,null)}),s.forEach(function(l){a.has(l)||Gw(l,o)})}CD.set(r,t)},[t]),r}function rfe(t){return t}function nfe(t,e){e===void 0&&(e=rfe);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var o=e(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var A=o;o=[],A.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(A){o.push(A),u()},filter:function(A){return o=o.filter(A),r}}}};return a}function afe(t){t===void 0&&(t={});var e=nfe(null);return e.options=Ks({async:!0,ssr:!1},t),e}var CK=function(t){var e=t.sideCar,r=_K(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,Ks({},r))};CK.isSideCarExport=!0;function sfe(t,e){return t.useMedium(e),CK}var BK=afe(),zw=function(){},V0=v.forwardRef(function(t,e){var r=v.useRef(null),n=v.useState({onScrollCapture:zw,onWheelCapture:zw,onTouchMoveCapture:zw}),a=n[0],s=n[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,A=t.enabled,d=t.shards,h=t.sideCar,f=t.noIsolation,p=t.inert,g=t.allowPinchZoom,m=t.as,x=m===void 0?"div":m,b=t.gapMode,_=_K(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,C=tfe([r,e]),E=Ks(Ks({},_),a);return v.createElement(v.Fragment,null,A&&v.createElement(w,{sideCar:BK,removeScrollBar:u,shards:d,noIsolation:f,inert:p,setCallbacks:s,allowPinchZoom:!!g,lockRef:r,gapMode:b}),o?v.cloneElement(v.Children.only(l),Ks(Ks({},E),{ref:C})):v.createElement(x,Ks({},E,{className:c,ref:C}),l))});V0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};V0.classNames={fullWidth:$v,zeroRight:Hv};var ife=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ofe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=ife();return e&&t.setAttribute("nonce",e),t}function lfe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function cfe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var ufe=function(){var t=0,e=null;return{add:function(r){t==0&&(e=ofe())&&(lfe(e,r),cfe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Afe=function(){var t=ufe();return function(e,r){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},EK=function(){var t=Afe(),e=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return e},dfe={left:0,top:0,right:0,gap:0},Ww=function(t){return parseInt(t||"",10)||0},hfe=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[Ww(r),Ww(n),Ww(a)]},ffe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return dfe;var e=hfe(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},mfe=EK(),uA="data-scroll-locked",pfe=function(t,e,r,n){var a=t.left,s=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Jhe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(uA,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hv,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat($v,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Hv," .").concat(Hv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat($v," .").concat($v,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(uA,`] {
    `).concat(Yhe,": ").concat(l,`px;
  }
`)},BD=function(){var t=parseInt(document.body.getAttribute(uA)||"0",10);return isFinite(t)?t:0},gfe=function(){v.useEffect(function(){return document.body.setAttribute(uA,(BD()+1).toString()),function(){var t=BD()-1;t<=0?document.body.removeAttribute(uA):document.body.setAttribute(uA,t.toString())}},[])},vfe=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;gfe();var s=v.useMemo(function(){return ffe(a)},[a]);return v.createElement(mfe,{styles:pfe(s,!e,a,r?"":"!important")})},tS=!1;if(typeof window<"u")try{var Mg=Object.defineProperty({},"passive",{get:function(){return tS=!0,!0}});window.addEventListener("test",Mg,Mg),window.removeEventListener("test",Mg,Mg)}catch{tS=!1}var Tu=tS?{passive:!1}:!1,yfe=function(t){return t.tagName==="TEXTAREA"},SK=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!yfe(t)&&r[e]==="visible")},xfe=function(t){return SK(t,"overflowY")},bfe=function(t){return SK(t,"overflowX")},ED=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=NK(t,n);if(a){var s=TK(t,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},wfe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},jfe=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},NK=function(t,e){return t==="v"?xfe(e):bfe(e)},TK=function(t,e){return t==="v"?wfe(e):jfe(e)},_fe=function(t,e){return t==="h"&&e==="rtl"?-1:1},Cfe=function(t,e,r,n,a){var s=_fe(t,window.getComputedStyle(e).direction),o=s*n,l=r.target,c=e.contains(l),u=!1,A=o>0,d=0,h=0;do{var f=TK(t,l),p=f[0],g=f[1],m=f[2],x=g-m-s*p;(p||x)&&NK(t,l)&&(d+=x,h+=p),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(A&&Math.abs(d)<1||!A&&Math.abs(h)<1)&&(u=!0),u},Qg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},SD=function(t){return[t.deltaX,t.deltaY]},ND=function(t){return t&&"current"in t?t.current:t},Bfe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Efe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Sfe=0,ku=[];function Nfe(t){var e=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),a=v.useState(Sfe++)[0],s=v.useState(EK)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var g=Xhe([t.lockRef.current],(t.shards||[]).map(ND),!0).filter(Boolean);return g.forEach(function(m){return m.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var l=v.useCallback(function(g,m){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var x=Qg(g),b=r.current,_="deltaX"in g?g.deltaX:b[0]-x[0],w="deltaY"in g?g.deltaY:b[1]-x[1],C,E=g.target,j=Math.abs(_)>Math.abs(w)?"h":"v";if("touches"in g&&j==="h"&&E.type==="range")return!1;var B=ED(j,E);if(!B)return!0;if(B?C=j:(C=j==="v"?"h":"v",B=ED(j,E)),!B)return!1;if(!n.current&&"changedTouches"in g&&(_||w)&&(n.current=C),!C)return!0;var S=n.current||C;return Cfe(S,m,g,S==="h"?_:w)},[]),c=v.useCallback(function(g){var m=g;if(!(!ku.length||ku[ku.length-1]!==s)){var x="deltaY"in m?SD(m):Qg(m),b=e.current.filter(function(C){return C.name===m.type&&(C.target===m.target||m.target===C.shadowParent)&&Bfe(C.delta,x)})[0];if(b&&b.should){m.cancelable&&m.preventDefault();return}if(!b){var _=(o.current.shards||[]).map(ND).filter(Boolean).filter(function(C){return C.contains(m.target)}),w=_.length>0?l(m,_[0]):!o.current.noIsolation;w&&m.cancelable&&m.preventDefault()}}},[]),u=v.useCallback(function(g,m,x,b){var _={name:g,delta:m,target:x,should:b,shadowParent:Tfe(x)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(w){return w!==_})},1)},[]),A=v.useCallback(function(g){r.current=Qg(g),n.current=void 0},[]),d=v.useCallback(function(g){u(g.type,SD(g),g.target,l(g,t.lockRef.current))},[]),h=v.useCallback(function(g){u(g.type,Qg(g),g.target,l(g,t.lockRef.current))},[]);v.useEffect(function(){return ku.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Tu),document.addEventListener("touchmove",c,Tu),document.addEventListener("touchstart",A,Tu),function(){ku=ku.filter(function(g){return g!==s}),document.removeEventListener("wheel",c,Tu),document.removeEventListener("touchmove",c,Tu),document.removeEventListener("touchstart",A,Tu)}},[]);var f=t.removeScrollBar,p=t.inert;return v.createElement(v.Fragment,null,p?v.createElement(s,{styles:Efe(a)}):null,f?v.createElement(vfe,{gapMode:t.gapMode}):null)}function Tfe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const kfe=sfe(BK,Nfe);var K0=v.forwardRef(function(t,e){return v.createElement(V0,Ks({},t,{ref:e,sideCar:kfe}))});K0.classNames=V0.classNames;var Ife=[" ","Enter","ArrowUp","ArrowDown"],Pfe=[" ","Enter"],Ip="Select",[q0,G0,Ofe]=r0(Ip),[Hd,t5e]=fa(Ip,[Ofe,Pd]),z0=Pd(),[Ffe,Il]=Hd(Ip),[Dfe,Rfe]=Hd(Ip),kK=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:a,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:A,autoComplete:d,disabled:h,required:f,form:p}=t,g=z0(e),[m,x]=v.useState(null),[b,_]=v.useState(null),[w,C]=v.useState(!1),E=Ld(u),[j=!1,B]=Ya({prop:n,defaultProp:a,onChange:s}),[S,N]=Ya({prop:o,defaultProp:l,onChange:c}),I=v.useRef(null),P=m?p||!!m.closest("form"):!0,[T,U]=v.useState(new Set),M=Array.from(T).map(R=>R.props.value).join(";");return i.jsx(kT,{...g,children:i.jsxs(Ffe,{required:f,scope:e,trigger:m,onTriggerChange:x,valueNode:b,onValueNodeChange:_,valueNodeHasChildren:w,onValueNodeHasChildrenChange:C,contentId:Ys(),value:S,onValueChange:N,open:j,onOpenChange:B,dir:E,triggerPointerDownPosRef:I,disabled:h,children:[i.jsx(q0.Provider,{scope:e,children:i.jsx(Dfe,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(R=>{U(F=>new Set(F).add(R))},[]),onNativeOptionRemove:v.useCallback(R=>{U(F=>{const D=new Set(F);return D.delete(R),D})},[]),children:r})}),P?i.jsxs(rq,{"aria-hidden":!0,required:f,tabIndex:-1,name:A,autoComplete:d,value:S,onChange:R=>N(R.target.value),disabled:h,form:p,children:[S===void 0?i.jsx("option",{value:""}):null,Array.from(T)]},M):null]})})};kK.displayName=Ip;var IK="SelectTrigger",PK=v.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,s=z0(r),o=Il(IK,r),l=o.disabled||n,c=pt(e,o.onTriggerChange),u=G0(r),A=v.useRef("touch"),[d,h,f]=nq(g=>{const m=u().filter(_=>!_.disabled),x=m.find(_=>_.value===o.value),b=aq(m,g,x);b!==void 0&&o.onValueChange(b.value)}),p=g=>{l||(o.onOpenChange(!0),f()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return i.jsx(d0,{asChild:!0,...s,children:i.jsx(Je.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":tq(o.value)?"":void 0,...a,ref:c,onClick:Oe(a.onClick,g=>{g.currentTarget.focus(),A.current!=="mouse"&&p(g)}),onPointerDown:Oe(a.onPointerDown,g=>{A.current=g.pointerType;const m=g.target;m.hasPointerCapture(g.pointerId)&&m.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(p(g),g.preventDefault())}),onKeyDown:Oe(a.onKeyDown,g=>{const m=d.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(m&&g.key===" ")&&Ife.includes(g.key)&&(p(),g.preventDefault())})})})});PK.displayName=IK;var OK="SelectValue",FK=v.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:o="",...l}=t,c=Il(OK,r),{onValueNodeHasChildrenChange:u}=c,A=s!==void 0,d=pt(e,c.onValueNodeChange);return Wr(()=>{u(A)},[u,A]),i.jsx(Je.span,{...l,ref:d,style:{pointerEvents:"none"},children:tq(c.value)?i.jsx(i.Fragment,{children:o}):s})});FK.displayName=OK;var Ufe="SelectIcon",DK=v.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...a}=t;return i.jsx(Je.span,{"aria-hidden":!0,...a,ref:e,children:n||"▼"})});DK.displayName=Ufe;var Mfe="SelectPortal",RK=t=>i.jsx(mp,{asChild:!0,...t});RK.displayName=Mfe;var Gc="SelectContent",UK=v.forwardRef((t,e)=>{const r=Il(Gc,t.__scopeSelect),[n,a]=v.useState();if(Wr(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?Bd.createPortal(i.jsx(MK,{scope:t.__scopeSelect,children:i.jsx(q0.Slot,{scope:t.__scopeSelect,children:i.jsx("div",{children:t.children})})}),s):null}return i.jsx(QK,{...t,ref:e})});UK.displayName=Gc;var is=10,[MK,Pl]=Hd(Gc),Qfe="SelectContentImpl",QK=v.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:A,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:p,hideWhenDetached:g,avoidCollisions:m,...x}=t,b=Il(Gc,r),[_,w]=v.useState(null),[C,E]=v.useState(null),j=pt(e,Ae=>w(Ae)),[B,S]=v.useState(null),[N,I]=v.useState(null),P=G0(r),[T,U]=v.useState(!1),M=v.useRef(!1);v.useEffect(()=>{if(_)return Mk(_)},[_]),Uk();const R=v.useCallback(Ae=>{const[oe,...ce]=P().map(z=>z.ref.current),[fe]=ce.slice(-1),je=document.activeElement;for(const z of Ae)if(z===je||(z==null||z.scrollIntoView({block:"nearest"}),z===oe&&C&&(C.scrollTop=0),z===fe&&C&&(C.scrollTop=C.scrollHeight),z==null||z.focus(),document.activeElement!==je))return},[P,C]),F=v.useCallback(()=>R([B,_]),[R,B,_]);v.useEffect(()=>{T&&F()},[T,F]);const{onOpenChange:D,triggerPointerDownPosRef:Q}=b;v.useEffect(()=>{if(_){let Ae={x:0,y:0};const oe=fe=>{var je,z;Ae={x:Math.abs(Math.round(fe.pageX)-(((je=Q.current)==null?void 0:je.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((z=Q.current)==null?void 0:z.y)??0))}},ce=fe=>{Ae.x<=10&&Ae.y<=10?fe.preventDefault():_.contains(fe.target)||D(!1),document.removeEventListener("pointermove",oe),Q.current=null};return Q.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",ce,{capture:!0})}}},[_,D,Q]),v.useEffect(()=>{const Ae=()=>D(!1);return window.addEventListener("blur",Ae),window.addEventListener("resize",Ae),()=>{window.removeEventListener("blur",Ae),window.removeEventListener("resize",Ae)}},[D]);const[H,G]=nq(Ae=>{const oe=P().filter(je=>!je.disabled),ce=oe.find(je=>je.ref.current===document.activeElement),fe=aq(oe,Ae,ce);fe&&setTimeout(()=>fe.ref.current.focus())}),X=v.useCallback((Ae,oe,ce)=>{const fe=!M.current&&!ce;(b.value!==void 0&&b.value===oe||fe)&&(S(Ae),fe&&(M.current=!0))},[b.value]),te=v.useCallback(()=>_==null?void 0:_.focus(),[_]),Z=v.useCallback((Ae,oe,ce)=>{const fe=!M.current&&!ce;(b.value!==void 0&&b.value===oe||fe)&&I(Ae)},[b.value]),q=n==="popper"?rS:LK,se=q===rS?{side:l,sideOffset:c,align:u,alignOffset:A,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:p,hideWhenDetached:g,avoidCollisions:m}:{};return i.jsx(MK,{scope:r,content:_,viewport:C,onViewportChange:E,itemRefCallback:X,selectedItem:B,onItemLeave:te,itemTextRefCallback:Z,focusSelectedItem:F,selectedItemText:N,position:n,isPositioned:T,searchRef:H,children:i.jsx(K0,{as:$i,allowPinchZoom:!0,children:i.jsx($0,{asChild:!0,trapped:b.open,onMountAutoFocus:Ae=>{Ae.preventDefault()},onUnmountAutoFocus:Oe(a,Ae=>{var oe;(oe=b.trigger)==null||oe.focus({preventScroll:!0}),Ae.preventDefault()}),children:i.jsx(Ed,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:Ae=>Ae.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:i.jsx(q,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:Ae=>Ae.preventDefault(),...x,...se,onPlaced:()=>U(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Oe(x.onKeyDown,Ae=>{const oe=Ae.ctrlKey||Ae.altKey||Ae.metaKey;if(Ae.key==="Tab"&&Ae.preventDefault(),!oe&&Ae.key.length===1&&G(Ae.key),["ArrowUp","ArrowDown","Home","End"].includes(Ae.key)){let fe=P().filter(je=>!je.disabled).map(je=>je.ref.current);if(["ArrowUp","End"].includes(Ae.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ae.key)){const je=Ae.target,z=fe.indexOf(je);fe=fe.slice(z+1)}setTimeout(()=>R(fe)),Ae.preventDefault()}})})})})})})});QK.displayName=Qfe;var Lfe="SelectItemAlignedPosition",LK=v.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,s=Il(Gc,r),o=Pl(Gc,r),[l,c]=v.useState(null),[u,A]=v.useState(null),d=pt(e,j=>A(j)),h=G0(r),f=v.useRef(!1),p=v.useRef(!0),{viewport:g,selectedItem:m,selectedItemText:x,focusSelectedItem:b}=o,_=v.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&g&&m&&x){const j=s.trigger.getBoundingClientRect(),B=u.getBoundingClientRect(),S=s.valueNode.getBoundingClientRect(),N=x.getBoundingClientRect();if(s.dir!=="rtl"){const je=N.left-B.left,z=S.left-je,ve=j.left-z,Ie=j.width+ve,qe=Math.max(Ie,B.width),Xe=window.innerWidth-is,Bt=cm(z,[is,Math.max(is,Xe-qe)]);l.style.minWidth=Ie+"px",l.style.left=Bt+"px"}else{const je=B.right-N.right,z=window.innerWidth-S.right-je,ve=window.innerWidth-j.right-z,Ie=j.width+ve,qe=Math.max(Ie,B.width),Xe=window.innerWidth-is,Bt=cm(z,[is,Math.max(is,Xe-qe)]);l.style.minWidth=Ie+"px",l.style.right=Bt+"px"}const I=h(),P=window.innerHeight-is*2,T=g.scrollHeight,U=window.getComputedStyle(u),M=parseInt(U.borderTopWidth,10),R=parseInt(U.paddingTop,10),F=parseInt(U.borderBottomWidth,10),D=parseInt(U.paddingBottom,10),Q=M+R+T+D+F,H=Math.min(m.offsetHeight*5,Q),G=window.getComputedStyle(g),X=parseInt(G.paddingTop,10),te=parseInt(G.paddingBottom,10),Z=j.top+j.height/2-is,q=P-Z,se=m.offsetHeight/2,Ae=m.offsetTop+se,oe=M+R+Ae,ce=Q-oe;if(oe<=Z){const je=I.length>0&&m===I[I.length-1].ref.current;l.style.bottom="0px";const z=u.clientHeight-g.offsetTop-g.offsetHeight,ve=Math.max(q,se+(je?te:0)+z+F),Ie=oe+ve;l.style.height=Ie+"px"}else{const je=I.length>0&&m===I[0].ref.current;l.style.top="0px";const ve=Math.max(Z,M+g.offsetTop+(je?X:0)+se)+ce;l.style.height=ve+"px",g.scrollTop=oe-Z+g.offsetTop}l.style.margin=`${is}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=P+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[h,s.trigger,s.valueNode,l,u,g,m,x,s.dir,n]);Wr(()=>_(),[_]);const[w,C]=v.useState();Wr(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const E=v.useCallback(j=>{j&&p.current===!0&&(_(),b==null||b(),p.current=!1)},[_,b]);return i.jsx($fe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:E,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:i.jsx(Je.div,{...a,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});LK.displayName=Lfe;var Hfe="SelectPopperPosition",rS=v.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=is,...s}=t,o=z0(r);return i.jsx(IT,{...o,...s,ref:e,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});rS.displayName=Hfe;var[$fe,Qk]=Hd(Gc,{}),nS="SelectViewport",HK=v.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...a}=t,s=Pl(nS,r),o=Qk(nS,r),l=pt(e,s.onViewportChange),c=v.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(q0.Slot,{scope:r,children:i.jsx(Je.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Oe(a.onScroll,u=>{const A=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&d){const f=Math.abs(c.current-A.scrollTop);if(f>0){const p=window.innerHeight-is*2,g=parseFloat(d.style.minHeight),m=parseFloat(d.style.height),x=Math.max(g,m);if(x<p){const b=x+f,_=Math.min(p,b),w=b-_;d.style.height=_+"px",d.style.bottom==="0px"&&(A.scrollTop=w>0?w:0,d.style.justifyContent="flex-end")}}}c.current=A.scrollTop})})})]})});HK.displayName=nS;var $K="SelectGroup",[Vfe,Kfe]=Hd($K),qfe=v.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=Ys();return i.jsx(Vfe,{scope:r,id:a,children:i.jsx(Je.div,{role:"group","aria-labelledby":a,...n,ref:e})})});qfe.displayName=$K;var VK="SelectLabel",KK=v.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=Kfe(VK,r);return i.jsx(Je.div,{id:a.id,...n,ref:e})});KK.displayName=VK;var Ny="SelectItem",[Gfe,qK]=Hd(Ny),GK=v.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...o}=t,l=Il(Ny,r),c=Pl(Ny,r),u=l.value===n,[A,d]=v.useState(s??""),[h,f]=v.useState(!1),p=pt(e,b=>{var _;return(_=c.itemRefCallback)==null?void 0:_.call(c,b,n,a)}),g=Ys(),m=v.useRef("touch"),x=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(Gfe,{scope:r,value:n,disabled:a,textId:g,isSelected:u,onItemTextChange:v.useCallback(b=>{d(_=>_||((b==null?void 0:b.textContent)??"").trim())},[]),children:i.jsx(q0.ItemSlot,{scope:r,value:n,disabled:a,textValue:A,children:i.jsx(Je.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:p,onFocus:Oe(o.onFocus,()=>f(!0)),onBlur:Oe(o.onBlur,()=>f(!1)),onClick:Oe(o.onClick,()=>{m.current!=="mouse"&&x()}),onPointerUp:Oe(o.onPointerUp,()=>{m.current==="mouse"&&x()}),onPointerDown:Oe(o.onPointerDown,b=>{m.current=b.pointerType}),onPointerMove:Oe(o.onPointerMove,b=>{var _;m.current=b.pointerType,a?(_=c.onItemLeave)==null||_.call(c):m.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Oe(o.onPointerLeave,b=>{var _;b.currentTarget===document.activeElement&&((_=c.onItemLeave)==null||_.call(c))}),onKeyDown:Oe(o.onKeyDown,b=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&b.key===" "||(Pfe.includes(b.key)&&x(),b.key===" "&&b.preventDefault())})})})})});GK.displayName=Ny;var Wh="SelectItemText",zK=v.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,...s}=t,o=Il(Wh,r),l=Pl(Wh,r),c=qK(Wh,r),u=Rfe(Wh,r),[A,d]=v.useState(null),h=pt(e,x=>d(x),c.onItemTextChange,x=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,x,c.value,c.disabled)}),f=A==null?void 0:A.textContent,p=v.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:g,onNativeOptionRemove:m}=u;return Wr(()=>(g(p),()=>m(p)),[g,m,p]),i.jsxs(i.Fragment,{children:[i.jsx(Je.span,{id:c.textId,...s,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Bd.createPortal(s.children,o.valueNode):null]})});zK.displayName=Wh;var WK="SelectItemIndicator",XK=v.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return qK(WK,r).isSelected?i.jsx(Je.span,{"aria-hidden":!0,...n,ref:e}):null});XK.displayName=WK;var aS="SelectScrollUpButton",JK=v.forwardRef((t,e)=>{const r=Pl(aS,t.__scopeSelect),n=Qk(aS,t.__scopeSelect),[a,s]=v.useState(!1),o=pt(e,n.onScrollButtonChange);return Wr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(ZK,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});JK.displayName=aS;var sS="SelectScrollDownButton",YK=v.forwardRef((t,e)=>{const r=Pl(sS,t.__scopeSelect),n=Qk(sS,t.__scopeSelect),[a,s]=v.useState(!1),o=pt(e,n.onScrollButtonChange);return Wr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,A=Math.ceil(c.scrollTop)<u;s(A)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(ZK,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});YK.displayName=sS;var ZK=v.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,s=Pl("SelectScrollButton",r),o=v.useRef(null),l=G0(r),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),Wr(()=>{var A;const u=l().find(d=>d.ref.current===document.activeElement);(A=u==null?void 0:u.ref.current)==null||A.scrollIntoView({block:"nearest"})},[l]),i.jsx(Je.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:Oe(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Oe(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Oe(a.onPointerLeave,()=>{c()})})}),zfe="SelectSeparator",eq=v.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return i.jsx(Je.div,{"aria-hidden":!0,...n,ref:e})});eq.displayName=zfe;var iS="SelectArrow",Wfe=v.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=z0(r),s=Il(iS,r),o=Pl(iS,r);return s.open&&o.position==="popper"?i.jsx(PT,{...a,...n,ref:e}):null});Wfe.displayName=iS;function tq(t){return t===""||t===void 0}var rq=v.forwardRef((t,e)=>{const{value:r,...n}=t,a=v.useRef(null),s=pt(e,a),o=kp(r);return v.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,A=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&A){const d=new Event("change",{bubbles:!0});A.call(l,r),l.dispatchEvent(d)}},[o,r]),i.jsx(pp,{asChild:!0,children:i.jsx("select",{...n,ref:s,defaultValue:r})})});rq.displayName="BubbleSelect";function nq(t){const e=Tr(t),r=v.useRef(""),n=v.useRef(0),a=v.useCallback(o=>{const l=r.current+o;e(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),s=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function aq(t,e,r){const a=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=Xfe(t,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Xfe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Jfe=kK,sq=PK,Yfe=FK,Zfe=DK,eme=RK,iq=UK,tme=HK,oq=KK,lq=GK,rme=zK,nme=XK,cq=JK,uq=YK,Aq=eq;const On=Jfe,Fn=Yfe,pn=v.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(sq,{ref:n,className:de("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,i.jsx(Zfe,{asChild:!0,children:i.jsx(mT,{className:"h-4 w-4 opacity-50"})})]}));pn.displayName=sq.displayName;const dq=v.forwardRef(({className:t,...e},r)=>i.jsx(cq,{ref:r,className:de("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(zZ,{className:"h-4 w-4"})}));dq.displayName=cq.displayName;const hq=v.forwardRef(({className:t,...e},r)=>i.jsx(uq,{ref:r,className:de("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(mT,{className:"h-4 w-4"})}));hq.displayName=uq.displayName;const gn=v.forwardRef(({className:t,children:e,position:r="popper",...n},a)=>i.jsx(eme,{children:i.jsxs(iq,{ref:a,className:de("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[i.jsx(dq,{}),i.jsx(tme,{className:de("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),i.jsx(hq,{})]})}));gn.displayName=iq.displayName;const ame=v.forwardRef(({className:t,...e},r)=>i.jsx(oq,{ref:r,className:de("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));ame.displayName=oq.displayName;const mt=v.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(lq,{ref:n,className:de("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(nme,{children:i.jsx(fT,{className:"h-4 w-4"})})}),i.jsx(rme,{children:e})]}));mt.displayName=lq.displayName;const sme=v.forwardRef(({className:t,...e},r)=>i.jsx(Aq,{ref:r,className:de("-mx-1 my-1 h-px bg-muted",t),...e}));sme.displayName=Aq.displayName;var fq=["PageUp","PageDown"],mq=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],pq={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},$d="Slider",[oS,ime,ome]=r0($d),[gq,r5e]=fa($d,[ome]),[lme,W0]=gq($d),vq=v.forwardRef((t,e)=>{const{name:r,min:n=0,max:a=100,step:s=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:A,onValueChange:d=()=>{},onValueCommit:h=()=>{},inverted:f=!1,form:p,...g}=t,m=v.useRef(new Set),x=v.useRef(0),_=o==="horizontal"?cme:ume,[w=[],C]=Ya({prop:A,defaultProp:u,onChange:I=>{var T;(T=[...m.current][x.current])==null||T.focus(),d(I)}}),E=v.useRef(w);function j(I){const P=mme(w,I);N(I,P)}function B(I){N(I,x.current)}function S(){const I=E.current[x.current];w[x.current]!==I&&h(w)}function N(I,P,{commit:T}={commit:!1}){const U=yme(s),M=xme(Math.round((I-n)/s)*s+n,U),R=cm(M,[n,a]);C((F=[])=>{const D=hme(F,R,P);if(vme(D,c*s)){x.current=D.indexOf(R);const Q=String(D)!==String(F);return Q&&T&&h(D),Q?D:F}else return F})}return i.jsx(lme,{scope:t.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:x,thumbs:m.current,values:w,orientation:o,form:p,children:i.jsx(oS.Provider,{scope:t.__scopeSlider,children:i.jsx(oS.Slot,{scope:t.__scopeSlider,children:i.jsx(_,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:e,onPointerDown:Oe(g.onPointerDown,()=>{l||(E.current=w)}),min:n,max:a,inverted:f,onSlideStart:l?void 0:j,onSlideMove:l?void 0:B,onSlideEnd:l?void 0:S,onHomeKeyDown:()=>!l&&N(n,0,{commit:!0}),onEndKeyDown:()=>!l&&N(a,w.length-1,{commit:!0}),onStepKeyDown:({event:I,direction:P})=>{if(!l){const M=fq.includes(I.key)||I.shiftKey&&mq.includes(I.key)?10:1,R=x.current,F=w[R],D=s*M*P;N(F+D,R,{commit:!0})}}})})})})});vq.displayName=$d;var[yq,xq]=gq($d,{startEdge:"left",endEdge:"right",size:"width",direction:1}),cme=v.forwardRef((t,e)=>{const{min:r,max:n,dir:a,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...A}=t,[d,h]=v.useState(null),f=pt(e,_=>h(_)),p=v.useRef(),g=Ld(a),m=g==="ltr",x=m&&!s||!m&&s;function b(_){const w=p.current||d.getBoundingClientRect(),C=[0,w.width],j=Lk(C,x?[r,n]:[n,r]);return p.current=w,j(_-w.left)}return i.jsx(yq,{scope:t.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:i.jsx(bq,{dir:g,"data-orientation":"horizontal",...A,ref:f,style:{...A.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:_=>{const w=b(_.clientX);o==null||o(w)},onSlideMove:_=>{const w=b(_.clientX);l==null||l(w)},onSlideEnd:()=>{p.current=void 0,c==null||c()},onStepKeyDown:_=>{const C=pq[x?"from-left":"from-right"].includes(_.key);u==null||u({event:_,direction:C?-1:1})}})})}),ume=v.forwardRef((t,e)=>{const{min:r,max:n,inverted:a,onSlideStart:s,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=t,A=v.useRef(null),d=pt(e,A),h=v.useRef(),f=!a;function p(g){const m=h.current||A.current.getBoundingClientRect(),x=[0,m.height],_=Lk(x,f?[n,r]:[r,n]);return h.current=m,_(g-m.top)}return i.jsx(yq,{scope:t.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:i.jsx(bq,{"data-orientation":"vertical",...u,ref:d,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const m=p(g.clientY);s==null||s(m)},onSlideMove:g=>{const m=p(g.clientY);o==null||o(m)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:g=>{const x=pq[f?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:x?-1:1})}})})}),bq=v.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=t,A=W0($d,r);return i.jsx(Je.span,{...u,ref:e,onKeyDown:Oe(t.onKeyDown,d=>{d.key==="Home"?(o(d),d.preventDefault()):d.key==="End"?(l(d),d.preventDefault()):fq.concat(mq).includes(d.key)&&(c(d),d.preventDefault())}),onPointerDown:Oe(t.onPointerDown,d=>{const h=d.target;h.setPointerCapture(d.pointerId),d.preventDefault(),A.thumbs.has(h)?h.focus():n(d)}),onPointerMove:Oe(t.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&a(d)}),onPointerUp:Oe(t.onPointerUp,d=>{const h=d.target;h.hasPointerCapture(d.pointerId)&&(h.releasePointerCapture(d.pointerId),s(d))})})}),wq="SliderTrack",jq=v.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,a=W0(wq,r);return i.jsx(Je.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:e})});jq.displayName=wq;var lS="SliderRange",_q=v.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,a=W0(lS,r),s=xq(lS,r),o=v.useRef(null),l=pt(e,o),c=a.values.length,u=a.values.map(h=>Bq(h,a.min,a.max)),A=c>1?Math.min(...u):0,d=100-Math.max(...u);return i.jsx(Je.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...t.style,[s.startEdge]:A+"%",[s.endEdge]:d+"%"}})});_q.displayName=lS;var cS="SliderThumb",Cq=v.forwardRef((t,e)=>{const r=ime(t.__scopeSlider),[n,a]=v.useState(null),s=pt(e,l=>a(l)),o=v.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return i.jsx(Ame,{...t,ref:s,index:o})}),Ame=v.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:a,...s}=t,o=W0(cS,r),l=xq(cS,r),[c,u]=v.useState(null),A=pt(e,b=>u(b)),d=c?o.form||!!c.closest("form"):!0,h=yp(c),f=o.values[n],p=f===void 0?0:Bq(f,o.min,o.max),g=fme(n,o.values.length),m=h==null?void 0:h[l.size],x=m?pme(m,p,l.direction):0;return v.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${p}% + ${x}px)`},children:[i.jsx(oS.ItemSlot,{scope:t.__scopeSlider,children:i.jsx(Je.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":f,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:A,style:f===void 0?{display:"none"}:t.style,onFocus:Oe(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),d&&i.jsx(dme,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:f},n)]})});Cq.displayName=cS;var dme=t=>{const{value:e,...r}=t,n=v.useRef(null),a=kp(e);return v.useEffect(()=>{const s=n.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(a!==e&&c){const u=new Event("input",{bubbles:!0});c.call(s,e),s.dispatchEvent(u)}},[a,e]),i.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:e})};function hme(t=[],e,r){const n=[...t];return n[r]=e,n.sort((a,s)=>a-s)}function Bq(t,e,r){const s=100/(r-e)*(t-e);return cm(s,[0,100])}function fme(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function mme(t,e){if(t.length===1)return 0;const r=t.map(a=>Math.abs(a-e)),n=Math.min(...r);return r.indexOf(n)}function pme(t,e,r){const n=t/2,s=Lk([0,50],[0,n]);return(n-s(e)*r)*r}function gme(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function vme(t,e){if(e>0){const r=gme(t);return Math.min(...r)>=e}return!0}function Lk(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function yme(t){return(String(t).split(".")[1]||"").length}function xme(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var Eq=vq,bme=jq,wme=_q,jme=Cq;const Sq=v.forwardRef(({className:t,...e},r)=>i.jsxs(Eq,{ref:r,className:de("relative flex w-full touch-none select-none items-center",t),...e,children:[i.jsx(bme,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:i.jsx(wme,{className:"absolute h-full bg-primary"})}),i.jsx(jme,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Sq.displayName=Eq.displayName;var Hk="Dialog",[Nq,Tq]=fa(Hk),[_me,Ts]=Nq(Hk),kq=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!0}=t,l=v.useRef(null),c=v.useRef(null),[u=!1,A]=Ya({prop:n,defaultProp:a,onChange:s});return i.jsx(_me,{scope:e,triggerRef:l,contentRef:c,contentId:Ys(),titleId:Ys(),descriptionId:Ys(),open:u,onOpenChange:A,onOpenToggle:v.useCallback(()=>A(d=>!d),[A]),modal:o,children:r})};kq.displayName=Hk;var Iq="DialogTrigger",Pq=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Ts(Iq,r),s=pt(e,a.triggerRef);return i.jsx(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Kk(a.open),...n,ref:s,onClick:Oe(t.onClick,a.onOpenToggle)})});Pq.displayName=Iq;var $k="DialogPortal",[Cme,Oq]=Nq($k,{forceMount:void 0}),Fq=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:a}=t,s=Ts($k,e);return i.jsx(Cme,{scope:e,forceMount:r,children:v.Children.map(n,o=>i.jsx(ra,{present:r||s.open,children:i.jsx(mp,{asChild:!0,container:a,children:o})}))})};Fq.displayName=$k;var Ty="DialogOverlay",Dq=v.forwardRef((t,e)=>{const r=Oq(Ty,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,s=Ts(Ty,t.__scopeDialog);return s.modal?i.jsx(ra,{present:n||s.open,children:i.jsx(Bme,{...a,ref:e})}):null});Dq.displayName=Ty;var Bme=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Ts(Ty,r);return i.jsx(K0,{as:$i,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(Je.div,{"data-state":Kk(a.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),zc="DialogContent",Rq=v.forwardRef((t,e)=>{const r=Oq(zc,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,s=Ts(zc,t.__scopeDialog);return i.jsx(ra,{present:n||s.open,children:s.modal?i.jsx(Eme,{...a,ref:e}):i.jsx(Sme,{...a,ref:e})})});Rq.displayName=zc;var Eme=v.forwardRef((t,e)=>{const r=Ts(zc,t.__scopeDialog),n=v.useRef(null),a=pt(e,r.contentRef,n);return v.useEffect(()=>{const s=n.current;if(s)return Mk(s)},[]),i.jsx(Uq,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Oe(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Oe(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Oe(t.onFocusOutside,s=>s.preventDefault())})}),Sme=v.forwardRef((t,e)=>{const r=Ts(zc,t.__scopeDialog),n=v.useRef(!1),a=v.useRef(!1);return i.jsx(Uq,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),Uq=v.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...o}=t,l=Ts(zc,r),c=v.useRef(null),u=pt(e,c);return Uk(),i.jsxs(i.Fragment,{children:[i.jsx($0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(Ed,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Kk(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(Tme,{titleId:l.titleId}),i.jsx(Ime,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Vk="DialogTitle",Mq=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Ts(Vk,r);return i.jsx(Je.h2,{id:a.titleId,...n,ref:e})});Mq.displayName=Vk;var Qq="DialogDescription",Lq=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Ts(Qq,r);return i.jsx(Je.p,{id:a.descriptionId,...n,ref:e})});Lq.displayName=Qq;var Hq="DialogClose",$q=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Ts(Hq,r);return i.jsx(Je.button,{type:"button",...n,ref:e,onClick:Oe(t.onClick,()=>a.onOpenChange(!1))})});$q.displayName=Hq;function Kk(t){return t?"open":"closed"}var Vq="DialogTitleWarning",[Nme,Kq]=tZ(Vq,{contentName:zc,titleName:Vk,docsSlug:"dialog"}),Tme=({titleId:t})=>{const e=Kq(Vq),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},kme="DialogDescriptionWarning",Ime=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Kq(kme).contentName}}.`;return v.useEffect(()=>{var s;const a=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},qk=kq,Gk=Pq,zk=Fq,Pp=Dq,Op=Rq,Fp=Mq,Dp=Lq,X0=$q;const ii=qk,ky=Gk,Pme=zk,qq=v.forwardRef(({className:t,...e},r)=>i.jsx(Pp,{className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));qq.displayName=Pp.displayName;const Ome=Sd("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Es=v.forwardRef(({side:t="right",className:e,children:r,...n},a)=>i.jsxs(Pme,{children:[i.jsx(qq,{}),i.jsxs(Op,{ref:a,className:de(Ome({side:t}),e),...n,children:[r,i.jsxs(X0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(l0,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Es.displayName=Op.displayName;const oi=({className:t,...e})=>i.jsx("div",{className:de("flex flex-col space-y-2 text-center sm:text-left",t),...e});oi.displayName="SheetHeader";const Wi=({className:t,...e})=>i.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Wi.displayName="SheetFooter";const li=v.forwardRef(({className:t,...e},r)=>i.jsx(Fp,{ref:r,className:de("text-lg font-semibold text-foreground",t),...e}));li.displayName=Fp.displayName;const um=v.forwardRef(({className:t,...e},r)=>i.jsx(Dp,{ref:r,className:de("text-sm text-muted-foreground",t),...e}));um.displayName=Dp.displayName;var Fme="Separator",TD="horizontal",Dme=["horizontal","vertical"],Gq=v.forwardRef((t,e)=>{const{decorative:r,orientation:n=TD,...a}=t,s=Rme(n)?n:TD,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return i.jsx(Je.div,{"data-orientation":s,...l,...a,ref:e})});Gq.displayName=Fme;function Rme(t){return Dme.includes(t)}var zq=Gq;const Qn=v.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},a)=>i.jsx(zq,{ref:a,decorative:r,orientation:e,className:de("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));Qn.displayName=zq.displayName;const Ume=()=>{const[t,e]=aoe(),[r,n]=v.useState(t.get("q")||""),[a,s]=v.useState("price-asc"),[o,l]=v.useState({priceRange:[0,100],types:[],origins:[]}),[c,u]=v.useState([]),[A,d]=v.useState([]),[h,f]=v.useState([]),[p,g]=v.useState([]),[m,x]=v.useState(!0),[b,_]=v.useState(0),[w,C]=v.useState(100),{addItem:E}=H0();v.useEffect(()=>{(async()=>{x(!0);try{const{data:U,error:M}=await J.from("products").select("*");if(M)throw M;if(U){u(U);const R=Array.from(new Set(U.map(D=>D.origin).filter(Boolean)));f(R);const F=Array.from(new Set(U.map(D=>D.type).filter(Boolean)));if(g(F),U.length>0){const D=U.map(G=>G.price),Q=Math.floor(Math.min(...D)),H=Math.ceil(Math.max(...D));_(Q),C(H),l(G=>({...G,priceRange:[Q,H]}))}}}catch(U){console.error("Error fetching products:",U),he({title:"Error",description:"Gagal memuat produk",variant:"destructive"})}finally{x(!1)}})()},[]),v.useEffect(()=>{if(m)return;const T=t.get("category"),U=t.get("featured"),M=t.get("discount"),R=t.get("q");R&&R!==r&&n(R);let F=[...c];switch(r&&(F=F.filter(D=>{var Q;return D.name.toLowerCase().includes(r.toLowerCase())||(((Q=D.description)==null?void 0:Q.toLowerCase().includes(r.toLowerCase()))??!1)})),T&&(F=F.filter(D=>D.type===T)),U==="true"&&(F=F.filter(D=>D.featured===!0)),M==="true"&&(F=F.filter(D=>D.discount!==null&&D.discount>0)),F=F.filter(D=>{const Q=D.price;return!(Q<o.priceRange[0]||Q>o.priceRange[1]||o.types.length>0&&!o.types.includes(D.type)||o.origins.length>0&&(!D.origin||!o.origins.includes(D.origin)))}),a){case"price-asc":F.sort((D,Q)=>D.price-Q.price);break;case"price-desc":F.sort((D,Q)=>Q.price-D.price);break;case"rating":F.sort((D,Q)=>(Q.rating||0)-(D.rating||0));break;case"newest":F.sort((D,Q)=>{const H=D.created_at?new Date(D.created_at).getTime():0;return(Q.created_at?new Date(Q.created_at).getTime():0)-H});break}d(F)},[c,t,r,a,o,m]);const j=()=>{e(T=>(r?T.set("q",r):T.delete("q"),T))},B=T=>{E({id:T.id,name:T.name,price:T.discount?T.price*(1-T.discount/100):T.price,image:T.images&&T.images.length>0?T.images[0]:"/https://image1ws.indotrading.com/s3/productimages/webp/co263038/p1282683/w600-h600/f43a666d-eca7-4cb4-aa14-450eae21f24f.jpg",type:T.type,quantity:1}),he({title:"Ditambahkan ke keranjang",description:`${T.name} telah ditambahkan ke keranjang belanja Anda.`})},S=T=>{l(U=>{const M=[...U.types],R=M.indexOf(T);return R>-1?M.splice(R,1):M.push(T),{...U,types:M}})},N=T=>{l(U=>{const M=[...U.origins],R=M.indexOf(T);return R>-1?M.splice(R,1):M.push(T),{...U,origins:M}})},I=T=>{l(U=>({...U,priceRange:[T[0],T[1]]}))},P=()=>{l({priceRange:[b,w],types:[],origins:[]})};return i.jsx($t,{children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex gap-2 mb-4",children:[i.jsxs("div",{className:"relative flex-grow",children:[i.jsx(le,{type:"text",placeholder:"Cari produk arang...",value:r,onChange:T=>n(T.target.value),className:"pl-10",onKeyDown:T=>{T.key==="Enter"&&j()}}),i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Sl,{className:"h-4 w-4 text-muted-foreground"})})]}),i.jsx(V,{onClick:j,className:"bg-flame-500 hover:bg-flame-600",children:"Search"}),i.jsxs(ii,{children:[i.jsx(ky,{asChild:!0,children:i.jsx(V,{variant:"outline",size:"icon",className:"flex-shrink-0",children:i.jsx(n6,{className:"h-4 w-4"})})}),i.jsxs(Es,{side:"right",children:[i.jsxs(oi,{children:[i.jsx(li,{children:"Filter Produk"}),i.jsx(um,{children:"Filter produk berdasarkan kategori, harga, dan rating."})]}),i.jsxs("div",{className:"py-4",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Filter"}),i.jsxs(On,{value:a,onValueChange:T=>s(T),children:[i.jsx(pn,{children:i.jsx(Fn,{placeholder:"Urutkan"})}),i.jsxs(gn,{children:[i.jsx(mt,{value:"price-asc",children:"Harga: Terendah ke Tertinggi"}),i.jsx(mt,{value:"price-desc",children:"Harga: Tertinggi ke Terendah"}),i.jsx(mt,{value:"rating",children:"Rating Terbaik"}),i.jsx(mt,{value:"newest",children:"Terbaru"})]})]})]}),i.jsx(Qn,{className:"my-4"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Range Harga"}),i.jsxs("div",{className:"px-2",children:[i.jsx(Sq,{max:w,min:b,step:1,value:[o.priceRange[0],o.priceRange[1]],onValueChange:I}),i.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[i.jsxs("span",{children:["Rp ",o.priceRange[0]]}),i.jsxs("span",{children:["Rp ",o.priceRange[1]]})]})]})]}),i.jsx(Qn,{className:"my-4"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Tipe Charcoal"}),i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:p.map(T=>i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:`type-${T}`,checked:o.types.includes(T),onChange:()=>S(T),className:"mr-2"}),i.jsx("label",{htmlFor:`type-${T}`,className:"text-sm",children:T})]},T))})]}),i.jsx(Qn,{className:"my-4"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Asal"}),i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:h.map(T=>i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:`origin-${T}`,checked:o.origins.includes(T),onChange:()=>N(T),className:"mr-2"}),i.jsx("label",{htmlFor:`origin-${T}`,className:"text-sm",children:T})]},T))})]}),i.jsxs("div",{className:"mt-6 flex justify-end",children:[i.jsx(V,{variant:"outline",onClick:P,className:"mr-2",children:"Hapus Semua"}),i.jsx(ky,{asChild:!0,children:i.jsx(V,{children:"Terapkan Filter"})})]})]})]})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h2",{className:"text-xl font-bold mb-2",children:"Hasil Pencarian"}),i.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[A.length," produk ditemukan"]}),m?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx(Kt,{className:"h-8 w-8 animate-spin text-flame-500"})}):i.jsx("div",{className:"grid grid-cols-2 gap-4",children:A.map(T=>i.jsxs(xe,{className:"overflow-hidden border-none shadow-sm",children:[i.jsx(ct,{to:`/product/${T.id}`,children:i.jsxs("div",{className:"h-32 bg-charcoal-100 relative",children:[i.jsx("img",{src:T.images&&T.images.length>0?T.images[0]:"/placeholder.svg",alt:T.name,className:"h-full w-full object-cover"}),T.discount&&T.discount>0&&i.jsxs("span",{className:"absolute top-2 right-2 bg-flame-500 text-white text-xs px-2 py-1 rounded-full",children:[T.discount,"% DISKON"]})]})}),i.jsxs(be,{className:"p-3",children:[i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:T.type}),i.jsx(ct,{to:`/product/${T.id}`,children:i.jsx("h3",{className:"font-medium text-sm line-clamp-1",children:T.name})})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("div",{children:T.discount&&T.discount>0?i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"font-bold text-sm",children:pe(T.price*(1-T.discount/100))}),i.jsx("span",{className:"text-muted-foreground text-xs line-through",children:pe(T.price)})]}):i.jsx("span",{className:"font-bold text-sm",children:pe(T.price)})}),i.jsx(V,{size:"icon",className:"h-8 w-8 rounded-full bg-flame-500 hover:bg-flame-600",onClick:()=>B(T),children:i.jsx(i0,{className:"h-4 w-4"})})]})]})]},T.id))}),!m&&A.length===0&&i.jsxs("div",{className:"text-center py-10",children:[i.jsx("p",{className:"text-lg font-medium",children:"Tidak ada produk ditemukan"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Coba sesuaikan pencarian atau kriteria filter Anda"})]})]})]})})};function Mme(t,e=[]){let r=[];function n(s,o){const l=v.createContext(o),c=r.length;r=[...r,o];function u(d){const{scope:h,children:f,...p}=d,g=(h==null?void 0:h[t][c])||l,m=v.useMemo(()=>p,Object.values(p));return i.jsx(g.Provider,{value:m,children:f})}function A(d,h){const f=(h==null?void 0:h[t][c])||l,p=v.useContext(f);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,A]}const a=()=>{const s=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[n,Qme(a,...e)]}function Qme(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...l,...d}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Xw="rovingFocusGroup.onEntryFocus",Lme={bubbles:!1,cancelable:!0},J0="RovingFocusGroup",[uS,Wq,Hme]=r0(J0),[$me,Y0]=Mme(J0,[Hme]),[Vme,Kme]=$me(J0),Xq=v.forwardRef((t,e)=>i.jsx(uS.Provider,{scope:t.__scopeRovingFocusGroup,children:i.jsx(uS.Slot,{scope:t.__scopeRovingFocusGroup,children:i.jsx(qme,{...t,ref:e})})}));Xq.displayName=J0;var qme=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:A=!1,...d}=t,h=v.useRef(null),f=pt(e,h),p=Ld(s),[g=null,m]=Ya({prop:o,defaultProp:l,onChange:c}),[x,b]=v.useState(!1),_=Tr(u),w=Wq(r),C=v.useRef(!1),[E,j]=v.useState(0);return v.useEffect(()=>{const B=h.current;if(B)return B.addEventListener(Xw,_),()=>B.removeEventListener(Xw,_)},[_]),i.jsx(Vme,{scope:r,orientation:n,dir:p,loop:a,currentTabStopId:g,onItemFocus:v.useCallback(B=>m(B),[m]),onItemShiftTab:v.useCallback(()=>b(!0),[]),onFocusableItemAdd:v.useCallback(()=>j(B=>B+1),[]),onFocusableItemRemove:v.useCallback(()=>j(B=>B-1),[]),children:i.jsx(Je.div,{tabIndex:x||E===0?-1:0,"data-orientation":n,...d,ref:f,style:{outline:"none",...t.style},onMouseDown:Oe(t.onMouseDown,()=>{C.current=!0}),onFocus:Oe(t.onFocus,B=>{const S=!C.current;if(B.target===B.currentTarget&&S&&!x){const N=new CustomEvent(Xw,Lme);if(B.currentTarget.dispatchEvent(N),!N.defaultPrevented){const I=w().filter(R=>R.focusable),P=I.find(R=>R.active),T=I.find(R=>R.id===g),M=[P,T,...I].filter(Boolean).map(R=>R.ref.current);Zq(M,A)}}C.current=!1}),onBlur:Oe(t.onBlur,()=>b(!1))})})}),Jq="RovingFocusGroupItem",Yq=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,...o}=t,l=Ys(),c=s||l,u=Kme(Jq,r),A=u.currentTabStopId===c,d=Wq(r),{onFocusableItemAdd:h,onFocusableItemRemove:f}=u;return v.useEffect(()=>{if(n)return h(),()=>f()},[n,h,f]),i.jsx(uS.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:i.jsx(Je.span,{tabIndex:A?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:Oe(t.onMouseDown,p=>{n?u.onItemFocus(c):p.preventDefault()}),onFocus:Oe(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Oe(t.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){u.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const g=Wme(p,u.orientation,u.dir);if(g!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let x=d().filter(b=>b.focusable).map(b=>b.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();const b=x.indexOf(p.currentTarget);x=u.loop?Xme(x,b+1):x.slice(b+1)}setTimeout(()=>Zq(x))}})})})});Yq.displayName=Jq;var Gme={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function zme(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Wme(t,e,r){const n=zme(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Gme[n]}function Zq(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function Xme(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var e9=Xq,t9=Yq,Wk="Tabs",[Jme,n5e]=fa(Wk,[Y0]),r9=Y0(),[Yme,Xk]=Jme(Wk),n9=v.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,A=Ld(l),[d,h]=Ya({prop:n,onChange:a,defaultProp:s});return i.jsx(Yme,{scope:r,baseId:Ys(),value:d,onValueChange:h,orientation:o,dir:A,activationMode:c,children:i.jsx(Je.div,{dir:A,"data-orientation":o,...u,ref:e})})});n9.displayName=Wk;var a9="TabsList",s9=v.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...a}=t,s=Xk(a9,r),o=r9(r);return i.jsx(e9,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:i.jsx(Je.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:e})})});s9.displayName=a9;var i9="TabsTrigger",o9=v.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=t,o=Xk(i9,r),l=r9(r),c=u9(o.baseId,n),u=A9(o.baseId,n),A=n===o.value;return i.jsx(t9,{asChild:!0,...l,focusable:!a,active:A,children:i.jsx(Je.button,{type:"button",role:"tab","aria-selected":A,"aria-controls":u,"data-state":A?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...s,ref:e,onMouseDown:Oe(t.onMouseDown,d=>{!a&&d.button===0&&d.ctrlKey===!1?o.onValueChange(n):d.preventDefault()}),onKeyDown:Oe(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(n)}),onFocus:Oe(t.onFocus,()=>{const d=o.activationMode!=="manual";!A&&!a&&d&&o.onValueChange(n)})})})});o9.displayName=i9;var l9="TabsContent",c9=v.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...o}=t,l=Xk(l9,r),c=u9(l.baseId,n),u=A9(l.baseId,n),A=n===l.value,d=v.useRef(A);return v.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(ra,{present:a||A,children:({present:h})=>i.jsx(Je.div,{"data-state":A?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:h&&s})})});c9.displayName=l9;function u9(t,e){return`${t}-trigger-${e}`}function A9(t,e){return`${t}-content-${e}`}var Zme=n9,d9=s9,h9=o9,f9=c9;const ha=Zme,ea=v.forwardRef(({className:t,...e},r)=>i.jsx(d9,{ref:r,className:de("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));ea.displayName=d9.displayName;const Nt=v.forwardRef(({className:t,...e},r)=>i.jsx(h9,{ref:r,className:de("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Nt.displayName=h9.displayName;const Wt=v.forwardRef(({className:t,...e},r)=>i.jsx(f9,{ref:r,className:de("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Wt.displayName=f9.displayName;const epe=()=>{const{id:t}=wp(),[e,r]=v.useState(null),[n,a]=v.useState(!0),[s,o]=v.useState(""),[l,c]=v.useState(1),[u,A]=v.useState(0),{addItem:d}=H0(),h=kt();v.useEffect(()=>((async()=>{if(t)try{a(!0);const{data:b,error:_}=await J.from("products").select("*").eq("id",t).single();if(_)throw _;b?(r(b),document.title=`${b.name} - Toko Arang`):o("Produk tidak ditemukan")}catch(b){console.error("Error fetching product:",b),o(b.message||"Gagal memuat produk")}finally{a(!1)}})(),()=>{r(null),c(1),A(0)}),[t]);const f=()=>{e&&(d({id:e.id,name:e.name,price:e.discount?e.price*(1-e.discount/100):e.price,image:e.images&&e.images.length>0?e.images[0]:"/placeholder.svg",type:e.type,quantity:l}),he({title:"Ditambahkan ke keranjang",description:`${l} produk ditambahkan ke keranjang Anda`}))},p=()=>{c(x=>Math.max(1,x-1))},g=()=>{c(x=>x+1)};if(n)return i.jsx($t,{children:i.jsxs("div",{className:"flex flex-col items-center justify-center h-screen p-4",children:[i.jsx(Kt,{className:"h-8 w-8 animate-spin text-flame-500 mb-2"}),i.jsx("p",{className:"text-muted-foreground",children:"Memuat detail produk..."})]})});if(s||!e)return i.jsx($t,{children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(V,{variant:"ghost",className:"p-0 mr-2",onClick:()=>h(-1),children:i.jsx(bs,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-xl font-bold",children:"Produk Tidak Ditemukan"})]}),i.jsxs("div",{className:"text-center py-10",children:[i.jsx("p",{className:"text-muted-foreground mb-4",children:s||"Produk yang diminta tidak dapat ditemukan."}),i.jsx(ct,{to:"/search",children:i.jsx(V,{className:"bg-flame-500 hover:bg-flame-600",children:"Jelajahi Produk"})})]})]})});const m=e.discount?e.price*(1-e.discount/100):e.price;return i.jsx($t,{children:i.jsxs("div",{className:"pb-24",children:[i.jsxs("div",{className:"sticky top-0 z-10 bg-background p-4 flex items-center shadow-sm",children:[i.jsx(V,{variant:"ghost",className:"p-0 mr-2",onClick:()=>h(-1),children:i.jsx(bs,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-medium line-clamp-1",children:e.name})]}),i.jsxs("div",{className:"bg-charcoal-50 h-72 relative",children:[e.images&&e.images.length>0?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:e.images[u],alt:e.name,className:"h-full w-full object-contain"}),e.images.length>1&&i.jsx("div",{className:"absolute bottom-2 left-0 right-0 flex justify-center gap-2",children:e.images.map((x,b)=>i.jsx("button",{className:`w-2 h-2 rounded-full ${u===b?"bg-flame-500":"bg-white bg-opacity-50"}`,onClick:()=>A(b)},b))})]}):i.jsx("div",{className:"h-full w-full flex items-center justify-center bg-charcoal-100",children:i.jsx("p",{className:"text-muted-foreground",children:"Gambar tidak tersedia"})}),e.discount&&e.discount>0&&i.jsxs("div",{className:"absolute top-2 right-2 bg-flame-500 text-white text-sm px-3 py-1 rounded-full",children:[e.discount,"% DISKON"]})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:e.type}),i.jsx("h2",{className:"text-xl font-bold",children:e.name})]}),i.jsx("div",{className:"text-right",children:e.discount&&e.discount>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"font-bold text-lg text-flame-500",children:pe(m)}),i.jsx("div",{className:"text-sm text-muted-foreground line-through",children:pe(e.price)})]}):i.jsx("div",{className:"font-bold text-lg",children:pe(e.price)})})]}),i.jsxs("div",{className:"flex items-center mt-1",children:[i.jsx("div",{className:"flex mr-2",children:[1,2,3,4,5].map(x=>i.jsx(wee,{size:16,className:`${x<=(e.rating||0)?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},x))}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[e.rating||0," (",e.review_count||0," ulasan)"]})]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs ${e.in_stock?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:e.in_stock?"Tersedia":"Habis"}),e.origin&&i.jsxs("span",{className:"inline-block ml-2 text-xs text-muted-foreground",children:["Asal: ",e.origin]})]})]}),i.jsx(Qn,{className:"my-4"}),i.jsxs(ha,{defaultValue:"description",className:"mt-4",children:[i.jsxs(ea,{className:"w-full grid grid-cols-3",children:[i.jsx(Nt,{value:"description",children:"Deskripsi"}),i.jsx(Nt,{value:"specifications",children:"Spesifikasi"}),i.jsx(Nt,{value:"reviews",children:"Ulasan"})]}),i.jsxs(Wt,{value:"description",className:"mt-4",children:[i.jsx("p",{className:"text-sm",children:e.description||"Tidak ada deskripsi tersedia."}),e.seller&&i.jsx("div",{children:i.jsxs("p",{className:"text-sm mt-4",children:[i.jsx("span",{className:"font-medium",children:"Penjual:"})," ",e.seller]})}),i.jsxs("p",{className:"text-sm mt-2",children:[i.jsx("span",{className:"font-medium",children:"Tipe:"})," ",e.type]}),e.weight&&i.jsxs("p",{className:"text-sm mt-2",children:[i.jsx("span",{className:"font-medium",children:"Berat:"})," ",e.weight," kg"]})]}),i.jsx(Wt,{value:"specifications",className:"mt-4",children:e.specifications&&Object.keys(e.specifications).length>0?i.jsx("div",{className:"rounded-md border overflow-hidden",children:i.jsx("table",{className:"min-w-full",children:i.jsx("tbody",{children:Object.entries(e.specifications).map(([x,b],_)=>i.jsxs("tr",{className:_%2===0?"bg-secondary":"",children:[i.jsx("td",{className:"px-4 py-2 text-sm font-medium",children:x}),i.jsx("td",{className:"px-4 py-2 text-sm",children:String(b)})]},x))})})}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Tidak ada spesifikasi tersedia."})}),i.jsx(Wt,{value:"reviews",className:"mt-4",children:i.jsx("div",{className:"space-y-4",children:e.review_count&&e.review_count>0?i.jsx(i.Fragment,{children:i.jsx("p",{className:"text-sm",children:"Ulasan akan ditampilkan di sini."})}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Belum ada ulasan."})})})]})]}),i.jsx("div",{className:"fixed bottom-16 left-0 right-0 max-w-md mx-auto bg-background border-t p-4 z-10",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center border rounded-md",children:[i.jsx(V,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-r-none",onClick:p,disabled:l<=1,children:i.jsx(i6,{className:"h-4 w-4"})}),i.jsx("span",{className:"px-4 py-2 border-l border-r min-w-[40px] text-center",children:l}),i.jsx(V,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-l-none",onClick:g,children:i.jsx(Nd,{className:"h-4 w-4"})})]}),i.jsxs(V,{className:"flex-1 ml-4 bg-flame-500 hover:bg-flame-600",onClick:f,disabled:!e.in_stock,children:[i.jsx(i0,{className:"h-4 w-4 mr-2"}),pe(m*l)]})]})})]})})},tpe=()=>{const{items:t,updateQuantity:e,removeItem:r,total:n,clearCart:a}=H0(),{user:s}=Ir(),o=kt(),l=A=>{r(A),he({title:"Item dihapus",description:"Item telah dihapus dari keranjang Anda."})},c=(A,d)=>{d<=0?(r(A),he({title:"Item dihapus",description:"Item telah dihapus dari keranjang Anda."})):e(A,d)},u=()=>{if(t.length===0){he({title:"Keranjang kosong",description:"Silakan tambahkan item ke keranjang Anda sebelum checkout",variant:"destructive"});return}if(!s){he({title:"Login Diperlukan",description:"Silakan login untuk melanjutkan ke checkout",variant:"destructive"});return}o("/checkout")};return i.jsx($t,{children:i.jsxs("div",{className:"p-4",children:[i.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Keranjang Belanja"}),t.length>0?i.jsxs("div",{children:[i.jsx("div",{className:"space-y-4 mb-6",children:t.map(A=>i.jsx(xe,{className:"overflow-hidden shadow-sm",children:i.jsx(be,{className:"p-3",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"h-20 w-20 bg-charcoal-100 rounded flex-shrink-0",children:i.jsx("img",{src:A.image||"/placeholder.svg",alt:A.name,className:"h-full w-full object-cover"})}),i.jsxs("div",{className:"flex-grow",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:A.type}),i.jsx(ct,{to:`/product/${A.id}`,children:i.jsx("h3",{className:"font-medium text-sm line-clamp-1 mb-1",children:A.name})}),i.jsx("span",{className:"font-bold",children:pe(A.price)})]}),i.jsx("button",{onClick:()=>l(A.id),className:"text-muted-foreground hover:text-destructive",children:i.jsx(Uf,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex justify-between items-center mt-2",children:[i.jsxs("div",{className:"flex items-center border rounded-md",children:[i.jsx(V,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-r-none p-0",onClick:()=>c(A.id,A.quantity-1),children:i.jsx(i6,{className:"h-3 w-3"})}),i.jsx("span",{className:"px-3 py-1 text-sm border-l border-r",children:A.quantity}),i.jsx(V,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-l-none p-0",onClick:()=>c(A.id,A.quantity+1),children:i.jsx(Nd,{className:"h-3 w-3"})})]}),i.jsx("span",{className:"font-bold",children:pe(A.price*A.quantity)})]})]})]})})},A.id))}),i.jsxs("button",{onClick:()=>{a(),he({title:"Keranjang dikosongkan",description:"Semua item telah dihapus dari keranjang Anda."})},className:"text-sm text-muted-foreground hover:text-destructive mb-4 flex items-center",children:[i.jsx(Uf,{className:"h-4 w-4 mr-1"}),"Kosongkan keranjang"]}),i.jsxs("div",{className:"bg-secondary rounded-lg p-4 mb-6",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{children:"Subtotal"}),i.jsx("span",{className:"font-medium",children:pe(n)})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{children:"Pengiriman"}),i.jsx("span",{className:"font-medium",children:pe(5e3)})]}),i.jsx(Qn,{className:"my-2"}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-bold",children:"Total"}),i.jsx("span",{className:"font-bold",children:pe(n+5e3)})]})]}),i.jsx(V,{onClick:u,className:"w-full bg-flame-500 hover:bg-flame-600",children:s?"Lanjut ke Pembayaran":"Login untuk Checkout"})]}):i.jsxs("div",{className:"text-center py-10",children:[i.jsx("div",{className:"text-charcoal-400 mb-4",children:i.jsx(rpe,{size:64,className:"mx-auto"})}),i.jsx("h2",{className:"text-xl font-medium mb-2",children:"Keranjang Anda kosong"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Sepertinya Anda belum menambahkan produk arang ke keranjang."}),i.jsx(ct,{to:"/search",children:i.jsx(V,{className:"bg-flame-500 hover:bg-flame-600",children:"Jelajahi Produk"})})]})]})})},rpe=({size:t=24,className:e=""})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[i.jsx("circle",{cx:"8",cy:"21",r:"1"}),i.jsx("circle",{cx:"19",cy:"21",r:"1"}),i.jsx("path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"})]});var Jk="Radio",[npe,m9]=fa(Jk),[ape,spe]=npe(Jk),p9=v.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:s,disabled:o,value:l="on",onCheck:c,form:u,...A}=t,[d,h]=v.useState(null),f=pt(e,m=>h(m)),p=v.useRef(!1),g=d?u||!!d.closest("form"):!0;return i.jsxs(ape,{scope:r,checked:a,disabled:o,children:[i.jsx(Je.button,{type:"button",role:"radio","aria-checked":a,"data-state":y9(a),"data-disabled":o?"":void 0,disabled:o,value:l,...A,ref:f,onClick:Oe(t.onClick,m=>{a||c==null||c(),g&&(p.current=m.isPropagationStopped(),p.current||m.stopPropagation())})}),g&&i.jsx(ipe,{control:d,bubbles:!p.current,name:n,value:l,checked:a,required:s,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});p9.displayName=Jk;var g9="RadioIndicator",v9=v.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...a}=t,s=spe(g9,r);return i.jsx(ra,{present:n||s.checked,children:i.jsx(Je.span,{"data-state":y9(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:e})})});v9.displayName=g9;var ipe=t=>{const{control:e,checked:r,bubbles:n=!0,...a}=t,s=v.useRef(null),o=kp(r),l=yp(e);return v.useEffect(()=>{const c=s.current,u=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&d){const h=new Event("click",{bubbles:n});d.call(c,r),c.dispatchEvent(h)}},[o,r,n]),i.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:s,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function y9(t){return t?"checked":"unchecked"}var ope=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Yk="RadioGroup",[lpe,a5e]=fa(Yk,[Y0,m9]),x9=Y0(),b9=m9(),[cpe,upe]=lpe(Yk),w9=v.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:s,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:A=!0,onValueChange:d,...h}=t,f=x9(r),p=Ld(u),[g,m]=Ya({prop:s,defaultProp:a,onChange:d});return i.jsx(cpe,{scope:r,name:n,required:o,disabled:l,value:g,onValueChange:m,children:i.jsx(e9,{asChild:!0,...f,orientation:c,dir:p,loop:A,children:i.jsx(Je.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:p,...h,ref:e})})})});w9.displayName=Yk;var j9="RadioGroupItem",_9=v.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...a}=t,s=upe(j9,r),o=s.disabled||n,l=x9(r),c=b9(r),u=v.useRef(null),A=pt(e,u),d=s.value===a.value,h=v.useRef(!1);return v.useEffect(()=>{const f=g=>{ope.includes(g.key)&&(h.current=!0)},p=()=>h.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",p),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",p)}},[]),i.jsx(t9,{asChild:!0,...l,focusable:!o,active:d,children:i.jsx(p9,{disabled:o,required:s.required,checked:d,...c,...a,name:s.name,ref:A,onCheck:()=>s.onValueChange(a.value),onKeyDown:Oe(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:Oe(a.onFocus,()=>{var f;h.current&&((f=u.current)==null||f.click())})})})});_9.displayName=j9;var Ape="RadioGroupIndicator",C9=v.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,a=b9(r);return i.jsx(v9,{...a,...n,ref:e})});C9.displayName=Ape;var B9=w9,E9=_9,dpe=C9;const Xh=v.forwardRef(({className:t,...e},r)=>i.jsx(B9,{className:de("grid gap-2",t),...e,ref:r}));Xh.displayName=B9.displayName;const rc=v.forwardRef(({className:t,...e},r)=>i.jsx(E9,{ref:r,className:de("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:i.jsx(dpe,{className:"flex items-center justify-center",children:i.jsx(tee,{className:"h-2.5 w-2.5 fill-current text-current"})})}));rc.displayName=E9.displayName;var hpe="Label",S9=v.forwardRef((t,e)=>i.jsx(Je.label,{...t,ref:e,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));S9.displayName=hpe;var N9=S9;const fpe=Sd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ne=v.forwardRef(({className:t,...e},r)=>i.jsx(N9,{ref:r,className:de(fpe(),t),...e}));Ne.displayName=N9.displayName;let Lg;const mpe=new Uint8Array(16);function ppe(){if(!Lg&&(Lg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Lg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Lg(mpe)}const cn=[];for(let t=0;t<256;++t)cn.push((t+256).toString(16).slice(1));function gpe(t,e=0){return cn[t[e+0]]+cn[t[e+1]]+cn[t[e+2]]+cn[t[e+3]]+"-"+cn[t[e+4]]+cn[t[e+5]]+"-"+cn[t[e+6]]+cn[t[e+7]]+"-"+cn[t[e+8]]+cn[t[e+9]]+"-"+cn[t[e+10]]+cn[t[e+11]]+cn[t[e+12]]+cn[t[e+13]]+cn[t[e+14]]+cn[t[e+15]]}const vpe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),kD={randomUUID:vpe};function nn(t,e,r){if(kD.randomUUID&&!t)return kD.randomUUID();t=t||{};const n=t.random||(t.rng||ppe)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,gpe(n)}const Oo={async getVouchers(t=100,e=0,r){try{console.log("Fetching vouchers with params:",{limit:t,offset:e,filters:r});const{error:n}=await J.from("vouchers").select("count",{count:"exact",head:!0});if(n)return console.error("Error checking vouchers table:",n),n.code==="PGRST116"||n.message&&n.message.includes("does not exist")?{data:[],error:new Error("Tabel vouchers belum dibuat. Klik tombol Inisialisasi Data untuk membuat tabel.")}:{data:[],error:n};let a=J.from("vouchers").select("*").order("created_at",{ascending:!1});r&&(r.is_active!==void 0&&(a=a.eq("is_active",r.is_active)),r.search&&(a=a.or(`code.ilike.%${r.search}%,description.ilike.%${r.search}%`))),a=a.range(e,e+t-1),console.log("Executing query for vouchers...");const{data:s,error:o}=await a;return o?(console.error("Error in vouchers query:",o),{data:[],error:o}):(console.log("Successfully fetched vouchers:",(s==null?void 0:s.length)||0,"results"),{data:s,error:null})}catch(n){return console.error("Error fetching vouchers:",n),{data:[],error:n}}},async addVoucher(t){try{const e=["code","discount_type","discount_value","start_date","end_date","is_active"];for(const o of e)if(!t[o])throw new Error(`Field ${o} wajib diisi`);const{data:r,error:n}=await J.from("vouchers").select("code").eq("code",t.code).maybeSingle();if(n)throw console.error("Error checking unique voucher:",n),new Error(`Gagal memeriksa kode voucher: ${n.message||"Unknown error"}`);if(r)throw new Error(`Kode voucher '${t.code}' sudah digunakan`);if(t.id||(t.id=nn()),t.usage_count===void 0&&(t.usage_count=0),t.created_at||(t.created_at=new Date().toISOString()),typeof t.start_date=="string"&&!t.start_date.includes("T"))try{t.start_date=new Date(`${t.start_date}T00:00:00`).toISOString()}catch{throw new Error(`Format tanggal mulai tidak valid: ${t.start_date}`)}if(typeof t.end_date=="string"&&!t.end_date.includes("T"))try{t.end_date=new Date(`${t.end_date}T23:59:59`).toISOString()}catch{throw new Error(`Format tanggal berakhir tidak valid: ${t.end_date}`)}console.log("Saving voucher data:",JSON.stringify(t,null,2));const{data:a,error:s}=await J.from("vouchers").insert(t).select().single();if(s)throw console.error("Supabase error details:",s),new Error(`Gagal menyimpan voucher: ${s.message||"Unknown database error"}`);return{data:a,error:null}}catch(e){const r=e.message||"Terjadi kesalahan yang tidak diketahui";return console.error("Error adding voucher:",r),{data:null,error:new Error(r)}}},async updateVoucher(t,e){try{if(!t)throw new Error("ID voucher tidak boleh kosong");if(e.code){const{data:a,error:s}=await J.from("vouchers").select("code").eq("code",e.code).neq("id",t).maybeSingle();if(s)throw console.error("Error checking unique voucher:",s),new Error(`Gagal memeriksa kode voucher: ${s.message||"Unknown error"}`);if(a)throw new Error(`Kode voucher '${e.code}' sudah digunakan`)}if(e.start_date&&typeof e.start_date=="string"&&!e.start_date.includes("T"))try{e.start_date=new Date(`${e.start_date}T00:00:00`).toISOString()}catch{throw new Error(`Format tanggal mulai tidak valid: ${e.start_date}`)}if(e.end_date&&typeof e.end_date=="string"&&!e.end_date.includes("T"))try{e.end_date=new Date(`${e.end_date}T23:59:59`).toISOString()}catch{throw new Error(`Format tanggal berakhir tidak valid: ${e.end_date}`)}e.updated_at=new Date().toISOString(),console.log("Updating voucher data:",JSON.stringify({id:t,voucher:e},null,2));const{data:r,error:n}=await J.from("vouchers").update(e).eq("id",t).select().single();if(n)throw console.error("Supabase error details:",n),new Error(`Gagal memperbarui voucher: ${n.message||"Unknown database error"}`);return{data:r,error:null}}catch(r){const n=r.message||"Terjadi kesalahan yang tidak diketahui";return console.error("Error updating voucher:",n),{data:null,error:new Error(n)}}},async deleteVoucher(t){try{const{error:e}=await J.from("vouchers").delete().eq("id",t);if(e)throw e;return{data:null,error:null}}catch(e){return console.error("Error deleting voucher:",e),{data:null,error:e}}},async toggleVoucherStatus(t,e){try{const{data:r,error:n}=await J.from("vouchers").update({is_active:e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return{data:r,error:null}}catch(r){return console.error("Error toggling voucher status:",r),{data:null,error:r}}},async getVoucherByCode(t){try{const{data:e,error:r}=await J.from("vouchers").select("*").eq("code",t).eq("is_active",!0).single();if(r){if(r.code==="PGRST116")return{data:null,error:new Error("Kode voucher tidak valid atau sudah tidak aktif")};throw r}const n=new Date,a=new Date(e.start_date),s=new Date(e.end_date);return n<a?{data:null,error:new Error("Voucher belum berlaku")}:n>s?{data:null,error:new Error("Voucher sudah berakhir")}:e.usage_limit&&e.usage_count>=e.usage_limit?{data:null,error:new Error("Voucher sudah mencapai batas penggunaan")}:{data:e,error:null}}catch(e){return console.error("Error getting voucher by code:",e),{data:null,error:e}}},calculateDiscount(t,e){if(t.min_purchase&&e<t.min_purchase)return 0;let r=0;return t.discount_type==="percentage"?(r=e*(t.discount_value/100),t.max_discount&&r>t.max_discount&&(r=t.max_discount)):(r=t.discount_value,r>e&&(r=e)),r},async incrementUsageCount(t){try{const{data:e,error:r}=await J.from("vouchers").select("usage_count").eq("id",t).single();if(r)throw r;const n=(e.usage_count||0)+1,{data:a,error:s}=await J.from("vouchers").update({usage_count:n,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(s)throw s;return{data:a,error:null}}catch(e){return console.error("Error incrementing voucher usage count:",e),{data:null,error:e}}}},Ac={async getTransactions(t=100,e=0,r){try{let n=J.from("coal_inventory_transactions").select("*").order("transaction_date",{ascending:!1}).range(e,e+t-1);r&&(r.transaction_type&&(n=n.eq("transaction_type",r.transaction_type)),r.from_date&&(n=n.gte("transaction_date",r.from_date)),r.to_date&&(n=n.lte("transaction_date",r.to_date)),r.search&&(n=n.or(`source_destination.ilike.%${r.search}%,document_reference.ilike.%${r.search}%,notes.ilike.%${r.search}%`)));const{data:a,error:s}=await n;return{data:a,error:s}}catch(n){return console.error("Error fetching coal inventory transactions:",n),{data:null,error:n}}},async getSummary(){try{const{data:t,error:e}=await J.from("coal_inventory_summary").select("*").single();return{data:t,error:e}}catch(t){return console.error("Error fetching coal inventory summary:",t),{data:null,error:t}}},async addTransaction(t){try{const e=["transaction_date","transaction_type","quantity_kg","source_destination","created_by"];for(const a of e)if(!t[a])throw new Error(`Field ${a} wajib diisi`);t.id||(t.id=nn()),t.created_at||(t.created_at=new Date().toISOString()),t.price_per_kg&&t.quantity_kg&&(t.total_amount=t.price_per_kg*t.quantity_kg),console.log("Menambahkan transaksi baru:",t);const{data:r,error:n}=await J.from("coal_inventory_transactions").insert(t).select().single();if(n)throw console.error("Database error saat menambahkan transaksi:",n),n;if(!r)throw new Error("Tidak ada data yang dikembalikan setelah insert");return await this.updateInventorySummary(),{data:r,error:null}}catch(e){return console.error("Error adding coal inventory transaction:",e),{data:null,error:e}}},async updateTransaction(t,e){try{e.price_per_kg&&e.quantity_kg&&(e.total_amount=e.price_per_kg*e.quantity_kg);const{data:r,error:n}=await J.from("coal_inventory_transactions").update(e).eq("id",t).select().single();if(n)throw n;return await this.updateInventorySummary(),{data:r,error:null}}catch(r){return console.error("Error updating coal inventory transaction:",r),{data:null,error:r}}},async deleteTransaction(t){try{const{error:e}=await J.from("coal_inventory_transactions").delete().eq("id",t);if(e)throw e;return await this.updateInventorySummary(),{data:null,error:null}}catch(e){return console.error("Error deleting coal inventory transaction:",e),{data:null,error:e}}},async reduceStockFromOrder(t,e,r){try{const n=e.reduce((o,l)=>l.productName.toLowerCase().includes("arang")?o+l.quantity:o,0);if(n<=0)return!0;const a={id:nn(),transaction_date:new Date().toISOString(),transaction_type:"outgoing",quantity_kg:n,source_destination:`Order #${t.substring(0,8)}`,notes:`Pengurangan stok otomatis untuk pesanan #${t.substring(0,8)}`,created_by:r,created_at:new Date().toISOString(),document_reference:t},{error:s}=await J.from("coal_inventory_transactions").insert(a);return s?(console.error("Error reducing coal stock:",s),!1):(await this.updateInventorySummary(),!0)}catch(n){return console.error("Error in reduceStockFromOrder:",n),!1}},async restoreStockFromCancelledOrder(t,e,r){try{const n=e.reduce((l,c)=>c.productName.toLowerCase().includes("arang")?l+c.quantity:l,0);if(n<=0)return!0;const{data:a}=await J.from("coal_inventory_transactions").select("*").eq("document_reference",t).eq("transaction_type","outgoing");if(!a||a.length===0)return console.log(`No previous stock reduction found for order ${t}`),!0;const s={id:nn(),transaction_date:new Date().toISOString(),transaction_type:"incoming",quantity_kg:n,source_destination:`Cancelled Order #${t.substring(0,8)}`,notes:`Pengembalian stok otomatis untuk pesanan #${t.substring(0,8)} yang dibatalkan`,created_by:r,created_at:new Date().toISOString(),document_reference:t,quality_grade:"standard",vehicle_info:"cancelled_order_return"},{error:o}=await J.from("coal_inventory_transactions").insert(s);return o?(console.error("Error restoring coal stock:",o),!1):(await this.updateInventorySummary(),!0)}catch(n){return console.error("Error in restoreStockFromCancelledOrder:",n),!1}},async updateInventorySummary(){try{const{data:t,error:e}=await J.from("coal_inventory_transactions").select("*").order("transaction_date",{ascending:!0});if(e){console.error("Error fetching coal transactions:",e);return}if(!t||t.length===0)return;let r=0,n=0,a=0,s=0,o=0,l=0,c=0,u="",A=0;t.forEach(_=>{const w=_.transaction_type==="incoming"&&_.vehicle_info==="cancelled_order_return";if(_.transaction_type==="incoming")w?A+=_.quantity_kg:r+=_.quantity_kg,_.quality_grade==="premium"?a+=_.quantity_kg:_.quality_grade==="standard"?s+=_.quantity_kg:_.quality_grade==="economy"&&(o+=_.quantity_kg),!w&&_.price_per_kg&&_.price_per_kg>0&&(l+=_.price_per_kg*_.quantity_kg,c+=_.quantity_kg);else if(_.transaction_type==="outgoing"){n+=_.quantity_kg;let C=_.quantity_kg;if(o>0){const E=Math.min(o,C);o-=E,C-=E}if(C>0&&s>0){const E=Math.min(s,C);s-=E,C-=E}if(C>0&&a>0){const E=Math.min(a,C);a-=E}}(!u||new Date(_.transaction_date)>new Date(u))&&(u=_.transaction_date)});const d=r-n+A,h=c>0?l/c:0,f=d*h;console.log("Inventory Summary Calculation:",{totalIncoming:r,totalOutgoing:n,cancelledOrderStock:A,currentStock:d,totalPremium:a,totalStandard:s,totalEconomy:o});const p=Math.max(0,a),g=Math.max(0,s),m=Math.max(0,o),x={total_incoming_kg:r,total_outgoing_kg:n,current_stock_kg:d,average_price_per_kg:h,last_transaction_date:u,stock_value:f,premium_stock_kg:p,standard_stock_kg:g,economy_stock_kg:m},{data:b}=await J.from("coal_inventory_summary").select("id").limit(1);b&&b.length>0?await J.from("coal_inventory_summary").update(x).eq("id",b[0].id):await J.from("coal_inventory_summary").insert({...x,id:nn()})}catch(t){console.error("Error updating inventory summary:",t)}}};Nk(Qd);const ype=async t=>{try{const{data:e,error:r}=await J.from("profiles").select("name, email, phone").eq("id",t.user_id).single();if(r)throw console.error("Error fetching customer data:",r),r;console.log("Skipping Firebase notifications due to API configuration issues");try{const n={...t};let a={street:"N/A",city:"N/A",province:"N/A",postal_code:"N/A"};if(t.shipping_address_id){const{data:f,error:p}=await J.from("addresses").select("street, city, province, postal_code, district, recipient_name, recipient_phone").eq("id",t.shipping_address_id).single();!p&&f&&(a=f)}let s={name:"JPC Delivery",cost:0,provider:"JPC",service:"Regular"};const o=t.shipping_id||t.shipping_method_id;if(o){const{data:f,error:p}=await J.from("shipping_methods").select("name, provider, service, cost").eq("id",o).single();!p&&f&&(s=f,n.shipping_cost=f.cost)}let l=null;const c=t.discount_id||t.voucher_id;if(c){const{data:f,error:p}=await J.from("discounts").select("code, type, value, description").eq("id",c).single();!p&&f&&(l=f,n.discount_data=f)}let u={name:"Transfer Bank",bank_name:"SeaBank",account_number:"901958730549"};if(t.payment_method){const f=typeof t.payment_method=="string"?t.payment_method_id||"":t.payment_method;if(f){const{data:p,error:g}=await J.from("payment_methods").select("name, bank_name, account_number, description").eq("id",f).single();!g&&p&&(u=p)}}const{data:A,error:d}=await J.from("order_items").select("product_name, quantity, price, product_id, variant, unit").eq("order_id",t.id),h=!d&&Array.isArray(A)?A:[];if(console.log("WhatsApp Order Data:",{orderID:n.id,customerPhone:e==null?void 0:e.phone,itemsCount:h.length,hasShippingData:!!s,hasPaymentData:!!u}),e!=null&&e.phone)try{e.phone.trim()===""?console.log("Customer phone number is empty, skipping WhatsApp notification"):(console.log("Sending WhatsApp notification to customer:",e.phone),await Ihe(n,e,a,h,s,u)?console.log("✅ WhatsApp notification sent successfully to customer:",e.phone):console.error("❌ Failed to send WhatsApp notification to customer"))}catch(f){console.error("Error sending WhatsApp notification to customer:",f)}else console.log("Customer has no phone number, WhatsApp notification will be skipped");console.log("Admin WhatsApp notifications will be handled by notification-service.ts to avoid duplicates")}catch(n){console.error("Error in WhatsApp notification process:",n)}return!0}catch(e){return console.error("Error sending notification to customer:",e),!1}},xo=[{bank:"SeaBank",accountNumber:"901958730549",accountName:"Yoga Prasetya"},{bank:"DANA",accountNumber:"081394586882",accountName:"Yoga Prasetya"}],ID=t=>({"bank-transfer":"Transfer Bank",cod:"Bayar di Tempat (COD)",qris:"QRIS","credit-card":"Kartu Kredit",ewallet:"E-Wallet"})[t]||t,xpe=()=>{var q,se,Ae;const{items:t,clearCart:e}=H0(),r=kt(),{user:n,profile:a}=Ir(),s=t.reduce((oe,ce)=>oe+ce.price*ce.quantity,0),o=parseFloat(s.toFixed(2)),[l,c]=v.useState("bank-transfer"),[u,A]=v.useState(xo[0].bank),[d,h]=v.useState(""),[f,p]=v.useState(""),[g,m]=v.useState([]),[x,b]=v.useState(!1),[_,w]=v.useState([]),[C,E]=v.useState(""),[j,B]=v.useState(!1),[S,N]=v.useState(null),[I,P]=v.useState(0),[T,U]=v.useState(!1),[M,R]=v.useState(null),F=((q=_.find(oe=>oe.id===d))==null?void 0:q.cost)||0,D=o-I,Q=D+F;v.useEffect(()=>{n||(r("/cart"),he({title:"Login Diperlukan",description:"Silakan login untuk melanjutkan ke checkout",variant:"destructive"}))},[n,r]),v.useEffect(()=>{t.length===0&&r("/cart")},[t,r]),v.useEffect(()=>{(async()=>{if(n)try{const{data:ce,error:fe}=await J.from("addresses").select("*").eq("user_id",n.id);if(fe)throw fe;if(ce&&ce.length>0){const je=ce.map(ve=>({id:ve.id,name:ve.name,street:ve.street,city:ve.city,state:ve.state,zip:ve.zip,country:ve.country,isDefault:ve.is_default,user_id:ve.user_id,created_at:ve.created_at}));m(je);const z=je.find(ve=>ve.isDefault);z?p(z.id):je.length>0&&p(je[0].id)}}catch(ce){console.error("Error fetching addresses:",ce),he({title:"Error",description:"Tidak dapat memuat alamat Anda",variant:"destructive"})}})()},[n]),v.useEffect(()=>{(async()=>{try{const{data:ce,error:fe}=await J.from("shipping_methods").select("*").eq("active",!0);if(fe)throw fe;if(ce&&ce.length>0)w(ce),h(ce[0].id);else{const je=[{id:"standard",name:"Pengiriman Standar",cost:15e3,estimated_days:5,carrier:"JNE"},{id:"express",name:"Pengiriman Express",cost:3e4,estimated_days:2,carrier:"JNE Express"}];w(je),h(je[0].id)}}catch(ce){console.error("Error fetching shipping methods:",ce);const fe=[{id:"standard",name:"Pengiriman Standar",cost:15e3,estimated_days:5,carrier:"JNE"},{id:"express",name:"Pengiriman Express",cost:3e4,estimated_days:2,carrier:"JNE Express"}];w(fe),h(fe[0].id)}})()},[]);const H=async()=>{if(!C.trim()){he({title:"Kode Voucher Kosong",description:"Silakan masukkan kode voucher",variant:"destructive"});return}B(!0);try{const{data:oe,error:ce}=await Oo.getVoucherByCode(C);if(ce)throw ce;if(!oe)throw new Error("Voucher tidak ditemukan");if(oe.min_purchase&&o<oe.min_purchase)throw new Error(`Minimum pembelian untuk voucher ini adalah ${pe(oe.min_purchase)}`);const fe=Oo.calculateDiscount(oe,o);N(oe),P(fe),he({title:"Voucher Diterapkan",description:`Anda mendapatkan diskon sebesar ${pe(fe)}`,variant:"default"})}catch(oe){console.error("Error applying voucher:",oe),he({title:"Gagal Menerapkan Voucher",description:oe.message||"Terjadi kesalahan saat menerapkan voucher",variant:"destructive"})}finally{B(!1)}},G=()=>{N(null),P(0),E(""),he({title:"Voucher Dihapus",description:"Voucher telah dihapus dari pesanan Anda",variant:"default"})},X=async()=>{var oe,ce;if(!n||t.length===0||!f||f==="undefined"){he({title:"Error",description:"Data tidak lengkap untuk membuat pesanan",variant:"destructive"});return}try{b(!0),console.log("Creating order with data:",{user_id:n.id,total:Q,status:"pending",payment_method:l,shipping_address_id:f,payment_details:l==="bank-transfer"?u:null,voucher_id:(S==null?void 0:S.id)||null,discount_amount:I||0});const{data:fe,error:je}=await J.from("orders").insert({user_id:n.id,total:Q,status:"pending",payment_method:l,shipping_address_id:f,date:new Date().toISOString(),payment_details:l==="bank-transfer"?u:null,voucher_id:(S==null?void 0:S.id)||null,discount_amount:I||0}).select().single();if(je)throw console.error("Order creation error:",je),je;console.log("Order created successfully:",fe);for(const ve of t){console.log("Inserting order item:",{order_id:fe.id,product_id:ve.id,product_name:ve.name,quantity:ve.quantity,price:ve.price});const{error:Ie}=await J.from("order_items").insert({order_id:fe.id,product_id:ve.id,product_name:ve.name,quantity:ve.quantity,price:ve.price});if(Ie)throw console.error("Error inserting order item:",Ie),Ie}try{await Ac.reduceStockFromOrder(fe.id,t.map(ve=>({productName:ve.name,quantity:ve.quantity})),n.id),console.log("Coal inventory updated after order creation")}catch(ve){console.error("Error updating coal inventory:",ve)}if(S)try{await Oo.incrementUsageCount(S.id),console.log("Voucher usage count updated")}catch(ve){console.error("Error updating voucher usage count:",ve)}he({title:"Pesanan berhasil dibuat!",description:"Terima kasih atas pembelian Anda."});try{await yK(fe),console.log("Order notification sent to admins")}catch(ve){console.error("Error sending order notification to admins:",ve)}try{const{data:ve}=await J.from("addresses").select("*").eq("id",f).single(),{data:Ie}=await J.from("order_items").select("*").eq("order_id",fe.id),qe={name:ID(l),bank_name:l==="bank-transfer"?u:void 0,account_number:l==="bank-transfer"?(oe=xo.find(ee=>ee.bank===u))==null?void 0:oe.accountNumber:void 0,account_name:l==="bank-transfer"?(ce=xo.find(ee=>ee.bank===u))==null?void 0:ce.accountName:void 0},Xe=_.find(ee=>ee.id===d),Bt={name:(Xe==null?void 0:Xe.name)||"Pengiriman Standar",cost:(Xe==null?void 0:Xe.cost)||F,estimated_days:(Xe==null?void 0:Xe.estimated_days)||2,carrier:"JPC Delivery"},K={...fe,shipping_cost:F,shipping_provider:Bt.carrier,shipping_service:Bt.name,shipping_estimate:`${Bt.estimated_days} hari`,discount_data:S?{code:S.code,value:I,type:"fixed"}:void 0,payment_status:"Belum dibayar"};console.log("Sending order details to customer via notification service"),await ype(K),console.log("WhatsApp notification is handled by the notification service"),a!=null&&a.phone||console.log("Customer has no phone number, WhatsApp notification may be skipped")}catch(ve){console.error("Error sending notification to customer:",ve)}e();const z=fe.id;sessionStorage.setItem("lastCompletedOrderId",z),console.log(`⏩ Redirecting to order details page: /order/${z}`),he({title:"Mengarahkan ke halaman detail pesanan",description:"Mohon tunggu sebentar..."}),e(),he({title:"Pesanan Berhasil Dibuat",description:"Anda akan diarahkan ke halaman detail pesanan.",className:"bg-green-100 border-green-400"}),setTimeout(()=>{r(`/order/${fe.id}`)},1500)}catch(fe){console.error("Error placing order:",fe),he({title:"Error",description:"Tidak dapat membuat pesanan Anda. Silakan coba lagi.",variant:"destructive"})}finally{b(!1)}},te=oe=>{c(oe)};if(!n||g.length===0)return i.jsx($t,{children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsxs(ct,{to:"/cart",className:"flex items-center text-charcoal-600",children:[i.jsx(bs,{className:"h-5 w-5 mr-1"}),i.jsx("span",{children:"Kembali ke Keranjang"})]}),i.jsx("h1",{className:"text-lg font-medium flex-1 text-center",children:"Checkout"}),i.jsx("div",{className:"w-8"})]}),i.jsxs("div",{className:"text-center py-10",children:[i.jsx("p",{className:"mb-4",children:"Anda perlu menambahkan alamat pengiriman sebelum checkout."}),i.jsx(ct,{to:"/address/new",children:i.jsx(V,{className:"bg-flame-500 hover:bg-flame-600",children:"Tambah Alamat"})})]})]})});const Z=()=>{const[oe,ce]=v.useState(!0),[fe,je]=v.useState(null),[z,ve]=v.useState([]),[Ie,qe]=v.useState(null),[Xe,Bt]=v.useState(null),[K,ee]=v.useState(null);return M?(v.useEffect(()=>{async function ae(){ce(!0);try{const{data:_e,error:Ee}=await J.from("orders").select("*").eq("id",M.id).single();if(Ee)throw Ee;je(_e);const{data:ye,error:We}=await J.from("order_items").select("*").eq("order_id",M.id);if(We)throw We;if(ve(ye||[]),_e.shipping_address_id){const{data:rt,error:dt}=await J.from("addresses").select("*").eq("id",_e.shipping_address_id).single();!dt&&rt&&qe(rt)}const At=_e.shipping_id||_e.shipping_method_id;if(At){const{data:rt,error:dt}=await J.from("shipping_methods").select("*").eq("id",At).single();!dt&&rt&&Bt(rt)}if(_e.payment_method==="bank-transfer")try{if(_e.payment_details&&typeof _e.payment_details=="string"){const rt=JSON.parse(_e.payment_details);ee(rt)}else{const rt=xo.find(dt=>dt.bank===u);ee(rt||{bank:"SeaBank",accountNumber:"901958730549",accountName:"Jaya Perkasa Charcoal"})}}catch(rt){console.error("Error parsing payment details:",rt),ee({bank:"SeaBank",accountNumber:"901958730549",accountName:"Jaya Perkasa Charcoal"})}}catch(_e){console.error("Error fetching order details:",_e),he({title:"Error",description:"Gagal memuat detail pesanan. Silakan coba lagi nanti.",variant:"destructive"})}finally{ce(!1)}}ae()},[M.id]),oe?i.jsxs("div",{className:"p-4 text-center",children:[i.jsx(Kt,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),i.jsx("p",{children:"Memuat detail pesanan..."})]}):i.jsxs("div",{id:"order-completed-details",className:"p-4 bg-green-50 rounded-lg border border-green-200 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx(k2,{className:"h-6 w-6 text-green-500"}),i.jsx("h2",{className:"text-xl font-bold text-green-700",children:"Pesanan Berhasil!"})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:[i.jsxs("h3",{className:"font-bold text-lg mb-2",children:["Detail Pesanan #",M.id]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Status:"}),i.jsx("span",{className:"font-medium bg-green-100 text-green-800 px-2 py-0.5 rounded",children:"Baru"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Tanggal:"}),i.jsx("span",{children:new Date().toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Total:"}),i.jsx("span",{className:"font-bold",children:pe(M.total)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Metode Pembayaran:"}),i.jsx("span",{children:ID(M.payment_method)})]})]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:[i.jsx("h3",{className:"font-bold mb-2",children:"Item Pesanan"}),i.jsx("div",{className:"space-y-3",children:z.map((ae,_e)=>i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[ae.product_image?i.jsx("img",{src:ae.product_image,alt:ae.product_name,className:"w-12 h-12 object-cover rounded"}):i.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center",children:i.jsx(s0,{className:"h-6 w-6 text-gray-400"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:ae.product_name}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[ae.quantity," x ",pe(ae.price),ae.variant&&i.jsxs("span",{className:"ml-1",children:["(",ae.variant,")"]})]})]})]}),i.jsx("div",{className:"font-medium",children:pe(ae.price*ae.quantity)})]},_e))})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:[i.jsx("h3",{className:"font-bold mb-2",children:"Informasi Pengiriman"}),Ie&&i.jsxs("div",{className:"mb-3",children:[i.jsx("div",{className:"font-medium",children:Ie.recipient_name||Ie.name}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[Ie.street,",",Ie.district&&`${Ie.district}, `,Ie.city,",",Ie.province,Ie.postal_code]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:Ie.recipient_phone||Ie.phone})]}),Xe&&i.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:Xe.name}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[Xe.provider," ",Xe.service]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Estimasi ",Xe.estimated_days||2," jam"]})]}),i.jsx("div",{className:"font-medium",children:pe(Xe.cost)})]})]}),(fe==null?void 0:fe.payment_method)==="bank-transfer"&&K&&i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:[i.jsx("h3",{className:"font-bold mb-2",children:"Instruksi Pembayaran"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Bank:"}),i.jsx("div",{className:"font-medium",children:K.bank||K.bank_name})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Nomor Rekening:"}),i.jsx("div",{className:"font-medium",children:K.accountNumber||K.account_number})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Atas Nama:"}),i.jsx("div",{className:"font-medium",children:K.accountName||K.account_name||"Jaya Perkasa Charcoal"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Jumlah:"}),i.jsx("div",{className:"font-bold text-lg",children:pe(fe.total)})]}),i.jsx("div",{className:"pt-2 text-sm text-muted-foreground",children:"Silakan lakukan pembayaran dalam waktu 24 jam. Setelah melakukan pembayaran, pesanan Anda akan diproses."})]})]}),i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsx(V,{onClick:()=>r("/"),className:"bg-flame-500 hover:bg-flame-600 w-full",children:"Lanjutkan Belanja"}),i.jsx(V,{onClick:()=>r(`/order/${M.id}`),variant:"outline",className:"w-full",children:"Lihat Detail Pesanan"})]})]})):i.jsx("div",{className:"p-4 text-center",children:"Memuat detail pesanan..."})};return T&&M?i.jsxs($t,{children:[i.jsxs("div",{className:"p-4 flex items-center justify-between shadow-sm mb-4",children:[i.jsxs(ct,{to:"/",className:"text-charcoal-600 flex items-center",children:[i.jsx(bs,{className:"h-5 w-5 mr-1"}),i.jsx("span",{children:"Kembali ke Beranda"})]}),i.jsx("h1",{className:"text-xl font-bold text-center flex-1 pr-6",children:"Detail Pesanan"}),i.jsx("div",{className:"w-8"})]}),i.jsx(Z,{})]}):i.jsx($t,{children:i.jsxs("div",{className:"pb-28",children:[i.jsxs("div",{className:"sticky top-0 z-10 bg-background p-4 flex items-center justify-between shadow-sm",children:[i.jsxs(ct,{to:"/cart",className:"text-charcoal-600 flex items-center",children:[i.jsx(bs,{className:"h-5 w-5 mr-1"}),i.jsx("span",{children:"Kembali ke Keranjang"})]}),i.jsx("h1",{className:"text-xl font-bold text-center flex-1 pr-6",children:"Checkout"}),i.jsx("div",{className:"w-8"})," "]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-bold mb-3",children:"Alamat Pengiriman"}),i.jsx(Xh,{value:f,onValueChange:p,className:"space-y-3",children:g.map(oe=>i.jsx(xe,{className:`cursor-pointer border-2 ${f===oe.id?"border-flame-500":"border-border"}`,onClick:()=>p(oe.id),children:i.jsx(be,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(rc,{value:oe.id,id:`address-${oe.id}`,className:"flex-shrink-0"}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Ne,{htmlFor:`address-${oe.id}`,className:"font-medium cursor-pointer",children:oe.name}),oe.isDefault&&i.jsx("span",{className:"text-xs bg-charcoal-100 text-charcoal-600 px-2 py-0.5 rounded",children:"Utama"})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[oe.street,", ",oe.city,", ",oe.state," ",oe.zip]})]})]})})},oe.id))}),i.jsx("div",{className:"mt-3",children:i.jsx(ct,{to:"/address/new",children:i.jsxs(V,{variant:"outline",className:"w-full text-sm",children:[i.jsx("span",{className:"mr-1",children:"+"})," Tambah Alamat Baru"]})})})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-bold mb-3",children:"Metode Pengiriman"}),i.jsx(Xh,{value:d,onValueChange:h,children:i.jsx("div",{className:"space-y-3",children:_.map(oe=>i.jsx(xe,{className:`cursor-pointer border-2 ${d===oe.id?"border-flame-500":"border-border"}`,children:i.jsx(be,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(rc,{value:oe.id,id:`shipping-${oe.id}`,className:"flex-shrink-0"}),i.jsxs("div",{className:"flex justify-between w-full",children:[i.jsxs(Ne,{htmlFor:`shipping-${oe.id}`,className:"cursor-pointer",children:[i.jsx("div",{className:"font-medium",children:oe.name}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[oe.estimated_days," Jam kerja"]})]}),i.jsx("div",{className:"font-medium",children:pe(oe.cost)})]})]})})},oe.id))})})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-bold mb-3",children:"Metode Pembayaran"}),i.jsx(Xh,{value:l,onValueChange:te,children:i.jsxs("div",{className:"space-y-3",children:[i.jsx(xe,{className:`cursor-pointer border-2 ${l==="bank-transfer"?"border-flame-500":"border-border"}`,children:i.jsx(be,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(rc,{value:"bank-transfer",id:"bank-transfer",className:"flex-shrink-0"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Y3,{className:"h-5 w-5 text-flame-500"}),i.jsx(Ne,{htmlFor:"bank-transfer",className:"cursor-pointer",children:"Transfer Bank"})]})]})})}),i.jsx(xe,{className:`cursor-pointer border-2 ${l==="cod"?"border-flame-500":"border-border"}`,children:i.jsx(be,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(rc,{value:"cod",id:"cod",className:"flex-shrink-0"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pT,{className:"h-5 w-5 text-flame-500"}),i.jsx(Ne,{htmlFor:"cod",className:"cursor-pointer",children:"Bayar di Tempat (COD)"})]})]})})}),i.jsx(xe,{className:`cursor-pointer border-2 ${l==="qris"?"border-flame-500":"border-border"}`,children:i.jsx(be,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(rc,{value:"qris",id:"qris",className:"flex-shrink-0"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(yT,{className:"h-5 w-5 text-flame-500"}),i.jsx(Ne,{htmlFor:"qris",className:"cursor-pointer",children:"QRIS"})]})]})})})]})}),l==="bank-transfer"&&i.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-md",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Pilih Bank"}),i.jsx(Xh,{value:u,onValueChange:A,className:"space-y-2",children:xo.map(oe=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(rc,{value:oe.bank,id:`bank-${oe.bank}`}),i.jsx(Ne,{htmlFor:`bank-${oe.bank}`,children:oe.bank})]},oe.bank))}),i.jsx("div",{className:"mt-3 p-3 bg-background rounded border",children:xo.find(oe=>oe.bank===u)&&i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"font-medium",children:"Detail Rekening:"}),i.jsxs("p",{className:"mt-1",children:["Bank: ",u]}),i.jsxs("p",{children:["No. Rekening: ",(se=xo.find(oe=>oe.bank===u))==null?void 0:se.accountNumber]}),i.jsxs("p",{children:["Atas Nama: ",(Ae=xo.find(oe=>oe.bank===u))==null?void 0:Ae.accountName]})]})})]}),l==="qris"&&i.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-md text-center",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Scan QRIS"}),i.jsx("div",{className:"bg-white p-3 inline-block mx-auto rounded-lg",children:i.jsx("img",{src:"https://jayaperkasacharcoal.co-id.id/qr-code.jpg",alt:"Kode QRIS",className:"w-48 h-48 mx-auto",onError:oe=>{const ce=oe.target;ce.src="https://jayaperkasacharcoal.co-id.id/qr-code.jpg"}})}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Scan kode QR menggunakan aplikasi DANA atau e-wallet lainnya"})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-bold mb-3",children:"Ringkasan Pesanan"}),i.jsx(xe,{children:i.jsxs(be,{className:"p-4",children:[i.jsx("div",{className:"space-y-3 mb-3",children:t.map(oe=>i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"font-medium text-sm",children:oe.name}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Qty: ",oe.quantity," x ",pe(oe.price)]})]}),i.jsx("div",{className:"font-medium text-right",children:pe(oe.price*oe.quantity)})]},oe.id))}),i.jsx(Qn,{className:"my-3"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Subtotal"}),i.jsx("span",{className:"font-medium",children:pe(o)})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Pengiriman"}),i.jsx("span",{className:"font-medium",children:pe(F)})]}),S?i.jsxs("div",{className:"flex justify-between items-center mt-2 p-2 bg-green-50 rounded-md border border-green-200",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(k2,{className:"h-4 w-4 text-green-600 mr-2"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:S.code}),i.jsx("p",{className:"text-xs text-gray-500",children:S.discount_type==="percentage"?`Diskon ${S.discount_value}%`:`Diskon ${pe(S.discount_value)}`})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsxs("span",{className:"text-sm font-medium text-green-600 mr-2",children:["-",pe(I)]}),i.jsx(V,{variant:"ghost",size:"icon",className:"h-6 w-6 rounded-full text-gray-500 hover:text-red-500 hover:bg-red-50",onClick:G,children:i.jsx(l0,{className:"h-3 w-3"})})]})]}):i.jsxs("div",{className:"flex gap-2 mt-2",children:[i.jsxs("div",{className:"relative flex-grow",children:[i.jsx(xT,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),i.jsx(le,{placeholder:"Masukkan kode voucher",className:"pl-8",value:C,onChange:oe=>E(oe.target.value),disabled:j})]}),i.jsx(V,{variant:"outline",size:"sm",onClick:H,disabled:j||!C.trim(),className:"shrink-0",children:j?i.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}):"Terapkan"})]}),S&&i.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[i.jsx("span",{children:"Subtotal setelah diskon"}),i.jsx("span",{className:"font-medium",children:pe(D)})]}),i.jsx(Qn,{className:"my-2"}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-bold",children:"Total"}),i.jsx("span",{className:"font-bold",children:pe(Q)})]})]})]})})]})]}),i.jsxs("div",{className:"fixed bottom-16 left-0 right-0 max-w-md mx-auto bg-background border-t p-4 z-20",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"font-bold",children:"Total:"}),i.jsx("span",{className:"font-bold text-xl",children:pe(Q)})]}),i.jsx(V,{onClick:X,className:"w-full bg-flame-500 hover:bg-flame-600",disabled:x,children:x?"Memproses...":"Buat Pesanan"})]})]})})};var Rp=t=>t.type==="checkbox",mc=t=>t instanceof Date,Wn=t=>t==null;const T9=t=>typeof t=="object";var Rr=t=>!Wn(t)&&!Array.isArray(t)&&T9(t)&&!mc(t),k9=t=>Rr(t)&&t.target?Rp(t.target)?t.target.checked:t.target.value:t,bpe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,I9=(t,e)=>t.has(bpe(e)),wpe=t=>{const e=t.constructor&&t.constructor.prototype;return Rr(e)&&e.hasOwnProperty("isPrototypeOf")},Zk=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function oa(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Zk&&(t instanceof Blob||t instanceof FileList))&&(r||Rr(t)))if(e=r?[]:{},!r&&!wpe(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=oa(t[n]));else return t;return e}var Z0=t=>Array.isArray(t)?t.filter(Boolean):[],Sr=t=>t===void 0,ke=(t,e,r)=>{if(!e||!Rr(t))return r;const n=Z0(e.split(/[,[\].]+?/)).reduce((a,s)=>Wn(a)?a:a[s],t);return Sr(n)||n===t?Sr(t[e])?r:t[e]:n},La=t=>typeof t=="boolean",eI=t=>/^\w*$/.test(t),P9=t=>Z0(t.replace(/["|']|\]/g,"").split(/\.|\[/)),zt=(t,e,r)=>{let n=-1;const a=eI(e)?[e]:P9(e),s=a.length,o=s-1;for(;++n<s;){const l=a[n];let c=r;if(n!==o){const u=t[l];c=Rr(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__")return;t[l]=c,t=t[l]}return t};const Iy={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ms={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},wi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},O9=$.createContext(null),eb=()=>$.useContext(O9),jpe=t=>{const{children:e,...r}=t;return $.createElement(O9.Provider,{value:r},e)};var F9=(t,e,r,n=!0)=>{const a={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(a,s,{get:()=>{const o=s;return e._proxyFormState[o]!==ms.all&&(e._proxyFormState[o]=!n||ms.all),r&&(r[o]=!0),t[o]}});return a},ca=t=>Rr(t)&&!Object.keys(t).length,D9=(t,e,r,n)=>{r(t);const{name:a,...s}=t;return ca(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!n||ms.all))},jf=t=>Array.isArray(t)?t:[t],R9=(t,e,r)=>!t||!e||t===e||jf(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function tI(t){const e=$.useRef(t);e.current=t,$.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function _pe(t){const e=eb(),{control:r=e.control,disabled:n,name:a,exact:s}=t||{},[o,l]=$.useState(r._formState),c=$.useRef(!0),u=$.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),A=$.useRef(a);return A.current=a,tI({disabled:n,next:d=>c.current&&R9(A.current,d.name,s)&&D9(d,u.current,r._updateFormState)&&l({...r._formState,...d}),subject:r._subjects.state}),$.useEffect(()=>(c.current=!0,u.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),F9(o,r,u.current,!1)}var Xs=t=>typeof t=="string",U9=(t,e,r,n,a)=>Xs(t)?(n&&e.watch.add(t),ke(r,t,a)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),ke(r,s))):(n&&(e.watchAll=!0),r);function Cpe(t){const e=eb(),{control:r=e.control,name:n,defaultValue:a,disabled:s,exact:o}=t||{},l=$.useRef(n);l.current=n,tI({disabled:s,subject:r._subjects.values,next:A=>{R9(l.current,A.name,o)&&u(oa(U9(l.current,r._names,A.values||r._formValues,!1,a)))}});const[c,u]=$.useState(r._getWatch(n,a));return $.useEffect(()=>r._removeUnmounted()),c}function Bpe(t){const e=eb(),{name:r,disabled:n,control:a=e.control,shouldUnregister:s}=t,o=I9(a._names.array,r),l=Cpe({control:a,name:r,defaultValue:ke(a._formValues,r,ke(a._defaultValues,r,t.defaultValue)),exact:!0}),c=_pe({control:a,name:r,exact:!0}),u=$.useRef(a.register(r,{...t.rules,value:l,...La(t.disabled)?{disabled:t.disabled}:{}}));return $.useEffect(()=>{const A=a._options.shouldUnregister||s,d=(h,f)=>{const p=ke(a._fields,h);p&&p._f&&(p._f.mount=f)};if(d(r,!0),A){const h=oa(ke(a._options.defaultValues,r));zt(a._defaultValues,r,h),Sr(ke(a._formValues,r))&&zt(a._formValues,r,h)}return()=>{(o?A&&!a._state.action:A)?a.unregister(r):d(r,!1)}},[r,a,o,s]),$.useEffect(()=>{ke(a._fields,r)&&a._updateDisabledField({disabled:n,fields:a._fields,name:r,value:ke(a._fields,r)._f.value})},[n,r,a]),{field:{name:r,value:l,...La(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:$.useCallback(A=>u.current.onChange({target:{value:k9(A),name:r},type:Iy.CHANGE}),[r]),onBlur:$.useCallback(()=>u.current.onBlur({target:{value:ke(a._formValues,r),name:r},type:Iy.BLUR}),[r,a]),ref:$.useCallback(A=>{const d=ke(a._fields,r);d&&A&&(d._f.ref={focus:()=>A.focus(),select:()=>A.select(),setCustomValidity:h=>A.setCustomValidity(h),reportValidity:()=>A.reportValidity()})},[a._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ke(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!ke(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ke(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ke(c.validatingFields,r)},error:{enumerable:!0,get:()=>ke(c.errors,r)}})}}const Epe=t=>t.render(Bpe(t));var M9=(t,e,r,n,a)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:a||!0}}:{},PD=t=>({isOnSubmit:!t||t===ms.onSubmit,isOnBlur:t===ms.onBlur,isOnChange:t===ms.onChange,isOnAll:t===ms.all,isOnTouch:t===ms.onTouched}),OD=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const _f=(t,e,r,n)=>{for(const a of r||Object.keys(t)){const s=ke(t,a);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],a)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(_f(l,e))break}else if(Rr(l)&&_f(l,e))break}}};var Spe=(t,e,r)=>{const n=jf(ke(t,r));return zt(n,"root",e[r]),zt(t,r,n),t},rI=t=>t.type==="file",ki=t=>typeof t=="function",Py=t=>{if(!Zk)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Vv=t=>Xs(t),nI=t=>t.type==="radio",Oy=t=>t instanceof RegExp;const FD={value:!1,isValid:!1},DD={value:!0,isValid:!0};var Q9=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Sr(t[0].attributes.value)?Sr(t[0].value)||t[0].value===""?DD:{value:t[0].value,isValid:!0}:DD:FD}return FD};const RD={isValid:!1,value:null};var L9=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,RD):RD;function UD(t,e,r="validate"){if(Vv(t)||Array.isArray(t)&&t.every(Vv)||La(t)&&!t)return{type:r,message:Vv(t)?t:"",ref:e}}var Iu=t=>Rr(t)&&!Oy(t)?t:{value:t,message:""},MD=async(t,e,r,n,a)=>{const{ref:s,refs:o,required:l,maxLength:c,minLength:u,min:A,max:d,pattern:h,validate:f,name:p,valueAsNumber:g,mount:m,disabled:x}=t._f,b=ke(e,p);if(!m||x)return{};const _=o?o[0]:s,w=P=>{n&&_.reportValidity&&(_.setCustomValidity(La(P)?"":P||""),_.reportValidity())},C={},E=nI(s),j=Rp(s),B=E||j,S=(g||rI(s))&&Sr(s.value)&&Sr(b)||Py(s)&&s.value===""||b===""||Array.isArray(b)&&!b.length,N=M9.bind(null,p,r,C),I=(P,T,U,M=wi.maxLength,R=wi.minLength)=>{const F=P?T:U;C[p]={type:P?M:R,message:F,ref:s,...N(P?M:R,F)}};if(a?!Array.isArray(b)||!b.length:l&&(!B&&(S||Wn(b))||La(b)&&!b||j&&!Q9(o).isValid||E&&!L9(o).isValid)){const{value:P,message:T}=Vv(l)?{value:!!l,message:l}:Iu(l);if(P&&(C[p]={type:wi.required,message:T,ref:_,...N(wi.required,T)},!r))return w(T),C}if(!S&&(!Wn(A)||!Wn(d))){let P,T;const U=Iu(d),M=Iu(A);if(!Wn(b)&&!isNaN(b)){const R=s.valueAsNumber||b&&+b;Wn(U.value)||(P=R>U.value),Wn(M.value)||(T=R<M.value)}else{const R=s.valueAsDate||new Date(b),F=H=>new Date(new Date().toDateString()+" "+H),D=s.type=="time",Q=s.type=="week";Xs(U.value)&&b&&(P=D?F(b)>F(U.value):Q?b>U.value:R>new Date(U.value)),Xs(M.value)&&b&&(T=D?F(b)<F(M.value):Q?b<M.value:R<new Date(M.value))}if((P||T)&&(I(!!P,U.message,M.message,wi.max,wi.min),!r))return w(C[p].message),C}if((c||u)&&!S&&(Xs(b)||a&&Array.isArray(b))){const P=Iu(c),T=Iu(u),U=!Wn(P.value)&&b.length>+P.value,M=!Wn(T.value)&&b.length<+T.value;if((U||M)&&(I(U,P.message,T.message),!r))return w(C[p].message),C}if(h&&!S&&Xs(b)){const{value:P,message:T}=Iu(h);if(Oy(P)&&!b.match(P)&&(C[p]={type:wi.pattern,message:T,ref:s,...N(wi.pattern,T)},!r))return w(T),C}if(f){if(ki(f)){const P=await f(b,e),T=UD(P,_);if(T&&(C[p]={...T,...N(wi.validate,T.message)},!r))return w(T.message),C}else if(Rr(f)){let P={};for(const T in f){if(!ca(P)&&!r)break;const U=UD(await f[T](b,e),_,T);U&&(P={...U,...N(T,U.message)},w(U.message),r&&(C[p]=P))}if(!ca(P)&&(C[p]={ref:_,...P},!r))return C}}return w(!0),C};function Npe(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Sr(t)?n++:t[e[n++]];return t}function Tpe(t){for(const e in t)if(t.hasOwnProperty(e)&&!Sr(t[e]))return!1;return!0}function Vr(t,e){const r=Array.isArray(e)?e:eI(e)?[e]:P9(e),n=r.length===1?t:Npe(t,r),a=r.length-1,s=r[a];return n&&delete n[s],a!==0&&(Rr(n)&&ca(n)||Array.isArray(n)&&Tpe(n))&&Vr(t,r.slice(0,-1)),t}var Jw=()=>{let t=[];return{get observers(){return t},next:a=>{for(const s of t)s.next&&s.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(s=>s!==a)}}),unsubscribe:()=>{t=[]}}},AS=t=>Wn(t)||!T9(t);function Fo(t,e){if(AS(t)||AS(e))return t===e;if(mc(t)&&mc(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const a of r){const s=t[a];if(!n.includes(a))return!1;if(a!=="ref"){const o=e[a];if(mc(s)&&mc(o)||Rr(s)&&Rr(o)||Array.isArray(s)&&Array.isArray(o)?!Fo(s,o):s!==o)return!1}}return!0}var H9=t=>t.type==="select-multiple",kpe=t=>nI(t)||Rp(t),Yw=t=>Py(t)&&t.isConnected,$9=t=>{for(const e in t)if(ki(t[e]))return!0;return!1};function Fy(t,e={}){const r=Array.isArray(t);if(Rr(t)||r)for(const n in t)Array.isArray(t[n])||Rr(t[n])&&!$9(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Fy(t[n],e[n])):Wn(t[n])||(e[n]=!0);return e}function V9(t,e,r){const n=Array.isArray(t);if(Rr(t)||n)for(const a in t)Array.isArray(t[a])||Rr(t[a])&&!$9(t[a])?Sr(e)||AS(r[a])?r[a]=Array.isArray(t[a])?Fy(t[a],[]):{...Fy(t[a])}:V9(t[a],Wn(e)?{}:e[a],r[a]):r[a]=!Fo(t[a],e[a]);return r}var Eh=(t,e)=>V9(t,e,Fy(e)),K9=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Sr(t)?t:e?t===""?NaN:t&&+t:r&&Xs(t)?new Date(t):n?n(t):t;function Zw(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return rI(e)?e.files:nI(e)?L9(t.refs).value:H9(e)?[...e.selectedOptions].map(({value:r})=>r):Rp(e)?Q9(t.refs).value:K9(Sr(e.value)?t.ref.value:e.value,t)}var Ipe=(t,e,r,n)=>{const a={};for(const s of t){const o=ke(e,s);o&&zt(a,s,o._f)}return{criteriaMode:r,names:[...t],fields:a,shouldUseNativeValidation:n}},Sh=t=>Sr(t)?t:Oy(t)?t.source:Rr(t)?Oy(t.value)?t.value.source:t.value:t;const QD="AsyncFunction";var Ppe=t=>(!t||!t.validate)&&!!(ki(t.validate)&&t.validate.constructor.name===QD||Rr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===QD)),Ope=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function LD(t,e,r){const n=ke(t,r);if(n||eI(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),o=ke(e,s),l=ke(t,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};a.pop()}return{name:r}}var Fpe=(t,e,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(e||t):(r?n.isOnBlur:a.isOnBlur)?!t:(r?n.isOnChange:a.isOnChange)?t:!0,Dpe=(t,e)=>!Z0(ke(t,e)).length&&Vr(t,e);const Rpe={mode:ms.onSubmit,reValidateMode:ms.onChange,shouldFocusError:!0};function Upe(t={}){let e={...Rpe,...t},r={submitCount:0,isDirty:!1,isLoading:ki(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},a=Rr(e.defaultValues)||Rr(e.values)?oa(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:oa(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const A={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Jw(),array:Jw(),state:Jw()},h=PD(e.mode),f=PD(e.reValidateMode),p=e.criteriaMode===ms.all,g=K=>ee=>{clearTimeout(u),u=setTimeout(K,ee)},m=async K=>{if(!t.disabled&&(A.isValid||K)){const ee=e.resolver?ca((await B()).errors):await N(n,!0);ee!==r.isValid&&d.state.next({isValid:ee})}},x=(K,ee)=>{!t.disabled&&(A.isValidating||A.validatingFields)&&((K||Array.from(l.mount)).forEach(ae=>{ae&&(ee?zt(r.validatingFields,ae,ee):Vr(r.validatingFields,ae))}),d.state.next({validatingFields:r.validatingFields,isValidating:!ca(r.validatingFields)}))},b=(K,ee=[],ae,_e,Ee=!0,ye=!0)=>{if(_e&&ae&&!t.disabled){if(o.action=!0,ye&&Array.isArray(ke(n,K))){const We=ae(ke(n,K),_e.argA,_e.argB);Ee&&zt(n,K,We)}if(ye&&Array.isArray(ke(r.errors,K))){const We=ae(ke(r.errors,K),_e.argA,_e.argB);Ee&&zt(r.errors,K,We),Dpe(r.errors,K)}if(A.touchedFields&&ye&&Array.isArray(ke(r.touchedFields,K))){const We=ae(ke(r.touchedFields,K),_e.argA,_e.argB);Ee&&zt(r.touchedFields,K,We)}A.dirtyFields&&(r.dirtyFields=Eh(a,s)),d.state.next({name:K,isDirty:P(K,ee),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else zt(s,K,ee)},_=(K,ee)=>{zt(r.errors,K,ee),d.state.next({errors:r.errors})},w=K=>{r.errors=K,d.state.next({errors:r.errors,isValid:!1})},C=(K,ee,ae,_e)=>{const Ee=ke(n,K);if(Ee){const ye=ke(s,K,Sr(ae)?ke(a,K):ae);Sr(ye)||_e&&_e.defaultChecked||ee?zt(s,K,ee?ye:Zw(Ee._f)):M(K,ye),o.mount&&m()}},E=(K,ee,ae,_e,Ee)=>{let ye=!1,We=!1;const At={name:K};if(!t.disabled){const rt=!!(ke(n,K)&&ke(n,K)._f&&ke(n,K)._f.disabled);if(!ae||_e){A.isDirty&&(We=r.isDirty,r.isDirty=At.isDirty=P(),ye=We!==At.isDirty);const dt=rt||Fo(ke(a,K),ee);We=!!(!rt&&ke(r.dirtyFields,K)),dt||rt?Vr(r.dirtyFields,K):zt(r.dirtyFields,K,!0),At.dirtyFields=r.dirtyFields,ye=ye||A.dirtyFields&&We!==!dt}if(ae){const dt=ke(r.touchedFields,K);dt||(zt(r.touchedFields,K,ae),At.touchedFields=r.touchedFields,ye=ye||A.touchedFields&&dt!==ae)}ye&&Ee&&d.state.next(At)}return ye?At:{}},j=(K,ee,ae,_e)=>{const Ee=ke(r.errors,K),ye=A.isValid&&La(ee)&&r.isValid!==ee;if(t.delayError&&ae?(c=g(()=>_(K,ae)),c(t.delayError)):(clearTimeout(u),c=null,ae?zt(r.errors,K,ae):Vr(r.errors,K)),(ae?!Fo(Ee,ae):Ee)||!ca(_e)||ye){const We={..._e,...ye&&La(ee)?{isValid:ee}:{},errors:r.errors,name:K};r={...r,...We},d.state.next(We)}},B=async K=>{x(K,!0);const ee=await e.resolver(s,e.context,Ipe(K||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return x(K),ee},S=async K=>{const{errors:ee}=await B(K);if(K)for(const ae of K){const _e=ke(ee,ae);_e?zt(r.errors,ae,_e):Vr(r.errors,ae)}else r.errors=ee;return ee},N=async(K,ee,ae={valid:!0})=>{for(const _e in K){const Ee=K[_e];if(Ee){const{_f:ye,...We}=Ee;if(ye){const At=l.array.has(ye.name),rt=Ee._f&&Ppe(Ee._f);rt&&A.validatingFields&&x([_e],!0);const dt=await MD(Ee,s,p,e.shouldUseNativeValidation&&!ee,At);if(rt&&A.validatingFields&&x([_e]),dt[ye.name]&&(ae.valid=!1,ee))break;!ee&&(ke(dt,ye.name)?At?Spe(r.errors,dt,ye.name):zt(r.errors,ye.name,dt[ye.name]):Vr(r.errors,ye.name))}!ca(We)&&await N(We,ee,ae)}}return ae.valid},I=()=>{for(const K of l.unMount){const ee=ke(n,K);ee&&(ee._f.refs?ee._f.refs.every(ae=>!Yw(ae)):!Yw(ee._f.ref))&&se(K)}l.unMount=new Set},P=(K,ee)=>!t.disabled&&(K&&ee&&zt(s,K,ee),!Fo(G(),a)),T=(K,ee,ae)=>U9(K,l,{...o.mount?s:Sr(ee)?a:Xs(K)?{[K]:ee}:ee},ae,ee),U=K=>Z0(ke(o.mount?s:a,K,t.shouldUnregister?ke(a,K,[]):[])),M=(K,ee,ae={})=>{const _e=ke(n,K);let Ee=ee;if(_e){const ye=_e._f;ye&&(!ye.disabled&&zt(s,K,K9(ee,ye)),Ee=Py(ye.ref)&&Wn(ee)?"":ee,H9(ye.ref)?[...ye.ref.options].forEach(We=>We.selected=Ee.includes(We.value)):ye.refs?Rp(ye.ref)?ye.refs.length>1?ye.refs.forEach(We=>(!We.defaultChecked||!We.disabled)&&(We.checked=Array.isArray(Ee)?!!Ee.find(At=>At===We.value):Ee===We.value)):ye.refs[0]&&(ye.refs[0].checked=!!Ee):ye.refs.forEach(We=>We.checked=We.value===Ee):rI(ye.ref)?ye.ref.value="":(ye.ref.value=Ee,ye.ref.type||d.values.next({name:K,values:{...s}})))}(ae.shouldDirty||ae.shouldTouch)&&E(K,Ee,ae.shouldTouch,ae.shouldDirty,!0),ae.shouldValidate&&H(K)},R=(K,ee,ae)=>{for(const _e in ee){const Ee=ee[_e],ye=`${K}.${_e}`,We=ke(n,ye);(l.array.has(K)||Rr(Ee)||We&&!We._f)&&!mc(Ee)?R(ye,Ee,ae):M(ye,Ee,ae)}},F=(K,ee,ae={})=>{const _e=ke(n,K),Ee=l.array.has(K),ye=oa(ee);zt(s,K,ye),Ee?(d.array.next({name:K,values:{...s}}),(A.isDirty||A.dirtyFields)&&ae.shouldDirty&&d.state.next({name:K,dirtyFields:Eh(a,s),isDirty:P(K,ye)})):_e&&!_e._f&&!Wn(ye)?R(K,ye,ae):M(K,ye,ae),OD(K,l)&&d.state.next({...r}),d.values.next({name:o.mount?K:void 0,values:{...s}})},D=async K=>{o.mount=!0;const ee=K.target;let ae=ee.name,_e=!0;const Ee=ke(n,ae),ye=()=>ee.type?Zw(Ee._f):k9(K),We=At=>{_e=Number.isNaN(At)||mc(At)&&isNaN(At.getTime())||Fo(At,ke(s,ae,At))};if(Ee){let At,rt;const dt=ye(),$n=K.type===Iy.BLUR||K.type===Iy.FOCUS_OUT,rs=!Ope(Ee._f)&&!e.resolver&&!ke(r.errors,ae)&&!Ee._f.deps||Fpe($n,ke(r.touchedFields,ae),r.isSubmitted,f,h),gi=OD(ae,l,$n);zt(s,ae,dt),$n?(Ee._f.onBlur&&Ee._f.onBlur(K),c&&c(0)):Ee._f.onChange&&Ee._f.onChange(K);const Ql=E(ae,dt,$n,!1),Os=!ca(Ql)||gi;if(!$n&&d.values.next({name:ae,type:K.type,values:{...s}}),rs)return A.isValid&&(t.mode==="onBlur"?$n&&m():m()),Os&&d.state.next({name:ae,...gi?{}:Ql});if(!$n&&gi&&d.state.next({...r}),e.resolver){const{errors:co}=await B([ae]);if(We(dt),_e){const uu=LD(r.errors,n,ae),Fs=LD(co,n,uu.name||ae);At=Fs.error,ae=Fs.name,rt=ca(co)}}else x([ae],!0),At=(await MD(Ee,s,p,e.shouldUseNativeValidation))[ae],x([ae]),We(dt),_e&&(At?rt=!1:A.isValid&&(rt=await N(n,!0)));_e&&(Ee._f.deps&&H(Ee._f.deps),j(ae,rt,At,Ql))}},Q=(K,ee)=>{if(ke(r.errors,ee)&&K.focus)return K.focus(),1},H=async(K,ee={})=>{let ae,_e;const Ee=jf(K);if(e.resolver){const ye=await S(Sr(K)?K:Ee);ae=ca(ye),_e=K?!Ee.some(We=>ke(ye,We)):ae}else K?(_e=(await Promise.all(Ee.map(async ye=>{const We=ke(n,ye);return await N(We&&We._f?{[ye]:We}:We)}))).every(Boolean),!(!_e&&!r.isValid)&&m()):_e=ae=await N(n);return d.state.next({...!Xs(K)||A.isValid&&ae!==r.isValid?{}:{name:K},...e.resolver||!K?{isValid:ae}:{},errors:r.errors}),ee.shouldFocus&&!_e&&_f(n,Q,K?Ee:l.mount),_e},G=K=>{const ee={...o.mount?s:a};return Sr(K)?ee:Xs(K)?ke(ee,K):K.map(ae=>ke(ee,ae))},X=(K,ee)=>({invalid:!!ke((ee||r).errors,K),isDirty:!!ke((ee||r).dirtyFields,K),error:ke((ee||r).errors,K),isValidating:!!ke(r.validatingFields,K),isTouched:!!ke((ee||r).touchedFields,K)}),te=K=>{K&&jf(K).forEach(ee=>Vr(r.errors,ee)),d.state.next({errors:K?r.errors:{}})},Z=(K,ee,ae)=>{const _e=(ke(n,K,{_f:{}})._f||{}).ref,Ee=ke(r.errors,K)||{},{ref:ye,message:We,type:At,...rt}=Ee;zt(r.errors,K,{...rt,...ee,ref:_e}),d.state.next({name:K,errors:r.errors,isValid:!1}),ae&&ae.shouldFocus&&_e&&_e.focus&&_e.focus()},q=(K,ee)=>ki(K)?d.values.subscribe({next:ae=>K(T(void 0,ee),ae)}):T(K,ee,!0),se=(K,ee={})=>{for(const ae of K?jf(K):l.mount)l.mount.delete(ae),l.array.delete(ae),ee.keepValue||(Vr(n,ae),Vr(s,ae)),!ee.keepError&&Vr(r.errors,ae),!ee.keepDirty&&Vr(r.dirtyFields,ae),!ee.keepTouched&&Vr(r.touchedFields,ae),!ee.keepIsValidating&&Vr(r.validatingFields,ae),!e.shouldUnregister&&!ee.keepDefaultValue&&Vr(a,ae);d.values.next({values:{...s}}),d.state.next({...r,...ee.keepDirty?{isDirty:P()}:{}}),!ee.keepIsValid&&m()},Ae=({disabled:K,name:ee,field:ae,fields:_e,value:Ee})=>{if(La(K)&&o.mount||K){const ye=K?void 0:Sr(Ee)?Zw(ae?ae._f:ke(_e,ee)._f):Ee;zt(s,ee,ye),E(ee,ye,!1,!1,!0)}},oe=(K,ee={})=>{let ae=ke(n,K);const _e=La(ee.disabled)||La(t.disabled);return zt(n,K,{...ae||{},_f:{...ae&&ae._f?ae._f:{ref:{name:K}},name:K,mount:!0,...ee}}),l.mount.add(K),ae?Ae({field:ae,disabled:La(ee.disabled)?ee.disabled:t.disabled,name:K,value:ee.value}):C(K,!0,ee.value),{..._e?{disabled:ee.disabled||t.disabled}:{},...e.progressive?{required:!!ee.required,min:Sh(ee.min),max:Sh(ee.max),minLength:Sh(ee.minLength),maxLength:Sh(ee.maxLength),pattern:Sh(ee.pattern)}:{},name:K,onChange:D,onBlur:D,ref:Ee=>{if(Ee){oe(K,ee),ae=ke(n,K);const ye=Sr(Ee.value)&&Ee.querySelectorAll&&Ee.querySelectorAll("input,select,textarea")[0]||Ee,We=kpe(ye),At=ae._f.refs||[];if(We?At.find(rt=>rt===ye):ye===ae._f.ref)return;zt(n,K,{_f:{...ae._f,...We?{refs:[...At.filter(Yw),ye,...Array.isArray(ke(a,K))?[{}]:[]],ref:{type:ye.type,name:K}}:{ref:ye}}}),C(K,!1,void 0,ye)}else ae=ke(n,K,{}),ae._f&&(ae._f.mount=!1),(e.shouldUnregister||ee.shouldUnregister)&&!(I9(l.array,K)&&o.action)&&l.unMount.add(K)}}},ce=()=>e.shouldFocusError&&_f(n,Q,l.mount),fe=K=>{La(K)&&(d.state.next({disabled:K}),_f(n,(ee,ae)=>{const _e=ke(n,ae);_e&&(ee.disabled=_e._f.disabled||K,Array.isArray(_e._f.refs)&&_e._f.refs.forEach(Ee=>{Ee.disabled=_e._f.disabled||K}))},0,!1))},je=(K,ee)=>async ae=>{let _e;ae&&(ae.preventDefault&&ae.preventDefault(),ae.persist&&ae.persist());let Ee=oa(s);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:ye,values:We}=await B();r.errors=ye,Ee=We}else await N(n);if(Vr(r.errors,"root"),ca(r.errors)){d.state.next({errors:{}});try{await K(Ee,ae)}catch(ye){_e=ye}}else ee&&await ee({...r.errors},ae),ce(),setTimeout(ce);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ca(r.errors)&&!_e,submitCount:r.submitCount+1,errors:r.errors}),_e)throw _e},z=(K,ee={})=>{ke(n,K)&&(Sr(ee.defaultValue)?F(K,oa(ke(a,K))):(F(K,ee.defaultValue),zt(a,K,oa(ee.defaultValue))),ee.keepTouched||Vr(r.touchedFields,K),ee.keepDirty||(Vr(r.dirtyFields,K),r.isDirty=ee.defaultValue?P(K,oa(ke(a,K))):P()),ee.keepError||(Vr(r.errors,K),A.isValid&&m()),d.state.next({...r}))},ve=(K,ee={})=>{const ae=K?oa(K):a,_e=oa(ae),Ee=ca(K),ye=Ee?a:_e;if(ee.keepDefaultValues||(a=ae),!ee.keepValues){if(ee.keepDirtyValues){const We=new Set([...l.mount,...Object.keys(Eh(a,s))]);for(const At of Array.from(We))ke(r.dirtyFields,At)?zt(ye,At,ke(s,At)):F(At,ke(ye,At))}else{if(Zk&&Sr(K))for(const We of l.mount){const At=ke(n,We);if(At&&At._f){const rt=Array.isArray(At._f.refs)?At._f.refs[0]:At._f.ref;if(Py(rt)){const dt=rt.closest("form");if(dt){dt.reset();break}}}}n={}}s=t.shouldUnregister?ee.keepDefaultValues?oa(a):{}:oa(ye),d.array.next({values:{...ye}}),d.values.next({values:{...ye}})}l={mount:ee.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!A.isValid||!!ee.keepIsValid||!!ee.keepDirtyValues,o.watch=!!t.shouldUnregister,d.state.next({submitCount:ee.keepSubmitCount?r.submitCount:0,isDirty:Ee?!1:ee.keepDirty?r.isDirty:!!(ee.keepDefaultValues&&!Fo(K,a)),isSubmitted:ee.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ee?{}:ee.keepDirtyValues?ee.keepDefaultValues&&s?Eh(a,s):r.dirtyFields:ee.keepDefaultValues&&K?Eh(a,K):ee.keepDirty?r.dirtyFields:{},touchedFields:ee.keepTouched?r.touchedFields:{},errors:ee.keepErrors?r.errors:{},isSubmitSuccessful:ee.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ie=(K,ee)=>ve(ki(K)?K(s):K,ee);return{control:{register:oe,unregister:se,getFieldState:X,handleSubmit:je,setError:Z,_executeSchema:B,_getWatch:T,_getDirty:P,_updateValid:m,_removeUnmounted:I,_updateFieldArray:b,_updateDisabledField:Ae,_getFieldArray:U,_reset:ve,_resetDefaultValues:()=>ki(e.defaultValues)&&e.defaultValues().then(K=>{Ie(K,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:K=>{r={...r,...K}},_disableForm:fe,_subjects:d,_proxyFormState:A,_setErrors:w,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(K){o=K},get _defaultValues(){return a},get _names(){return l},set _names(K){l=K},get _formState(){return r},set _formState(K){r=K},get _options(){return e},set _options(K){e={...e,...K}}},trigger:H,register:oe,handleSubmit:je,watch:q,setValue:F,getValues:G,reset:Ie,resetField:z,clearErrors:te,unregister:se,setError:Z,setFocus:(K,ee={})=>{const ae=ke(n,K),_e=ae&&ae._f;if(_e){const Ee=_e.refs?_e.refs[0]:_e.ref;Ee.focus&&(Ee.focus(),ee.shouldSelect&&Ee.select())}},getFieldState:X}}function Jn(t={}){const e=$.useRef(),r=$.useRef(),[n,a]=$.useState({isDirty:!1,isValidating:!1,isLoading:ki(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:ki(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Upe(t),formState:n});const s=e.current.control;return s._options=t,tI({subject:s._subjects.state,next:o=>{D9(o,s._proxyFormState,s._updateFormState,!0)&&a({...s._formState})}}),$.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),$.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),$.useEffect(()=>{t.values&&!Fo(t.values,r.current)?(s._reset(t.values,s._options.resetOptions),r.current=t.values,a(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),$.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),$.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),$.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),$.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[n]),e.current.formState=F9(n,s),e.current}const Ln=jpe,q9=v.createContext({}),Qe=({...t})=>i.jsx(q9.Provider,{value:{name:t.name},children:i.jsx(Epe,{...t})}),tb=()=>{const t=v.useContext(q9),e=v.useContext(G9),{getFieldState:r,formState:n}=eb(),a=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...a}},G9=v.createContext({}),Re=v.forwardRef(({className:t,...e},r)=>{const n=v.useId();return i.jsx(G9.Provider,{value:{id:n},children:i.jsx("div",{ref:r,className:de("space-y-2",t),...e})})});Re.displayName="FormItem";const Ue=v.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:a}=tb();return i.jsx(Ne,{ref:r,className:de(n&&"text-destructive",t),htmlFor:a,...e})});Ue.displayName="FormLabel";const Me=v.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:s}=tb();return i.jsx($i,{ref:e,id:n,"aria-describedby":r?`${a} ${s}`:`${a}`,"aria-invalid":!!r,...t})});Me.displayName="FormControl";const Kv=v.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=tb();return i.jsx("p",{ref:r,id:n,className:de("text-sm text-muted-foreground",t),...e})});Kv.displayName="FormDescription";const $e=v.forwardRef(({className:t,children:e,...r},n)=>{const{error:a,formMessageId:s}=tb(),o=a?String(a==null?void 0:a.message):e;return o?i.jsx("p",{ref:n,id:s,className:de("text-sm font-medium text-destructive",t),...r,children:o}):null});$e.displayName="FormMessage";const HD=(t,e,r)=>{if(t&&"reportValidity"in t){const n=ke(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},z9=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?HD(n.ref,r,t):n.refs&&n.refs.forEach(a=>HD(a,r,t))}},Mpe=(t,e)=>{e.shouldUseNativeValidation&&z9(t,e);const r={};for(const n in t){const a=ke(e.fields,n),s=Object.assign(t[n]||{},{ref:a&&a.ref});if(Qpe(e.names||Object.keys(t),n)){const o=Object.assign({},ke(r,n));zt(o,"root",s),zt(r,n,o)}else zt(r,n,s)}return r},Qpe=(t,e)=>t.some(r=>r.startsWith(e+"."));var Lpe=function(t,e){for(var r={};t.length;){var n=t[0],a=n.code,s=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:s,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(A){return A.errors.forEach(function(d){return t.push(d)})}),e){var c=r[o].types,u=c&&c[n.code];r[o]=M9(o,e,r,a,u?[].concat(u,n.message):n.message)}t.shift()}return r},Yn=function(t,e,r){return r===void 0&&(r={}),function(n,a,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return s.shouldUseNativeValidation&&z9({},s),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Mpe(Lpe(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},Mt;(function(t){t.assertEqual=a=>a;function e(a){}t.assertIs=e;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{const s={};for(const o of a)s[o]=o;return s},t.getValidEnumValues=a=>{const s=t.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of s)o[l]=a[l];return t.objectValues(o)},t.objectValues=a=>t.objectKeys(a).map(function(s){return a[s]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&s.push(o);return s},t.find=(a,s)=>{for(const o of a)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,s=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(Mt||(Mt={}));var dS;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(dS||(dS={}));const He=Mt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Do=t=>{switch(typeof t){case"undefined":return He.undefined;case"string":return He.string;case"number":return isNaN(t)?He.nan:He.number;case"boolean":return He.boolean;case"function":return He.function;case"bigint":return He.bigint;case"symbol":return He.symbol;case"object":return Array.isArray(t)?He.array:t===null?He.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?He.promise:typeof Map<"u"&&t instanceof Map?He.map:typeof Set<"u"&&t instanceof Set?He.set:typeof Date<"u"&&t instanceof Date?He.date:He.object;default:return He.unknown}},Be=Mt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Hpe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ia extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(s){return s.message},n={_errors:[]},a=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(e){if(!(e instanceof Ia))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Mt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(e(a))):n.push(e(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ia.create=t=>new Ia(t);const XA=(t,e)=>{let r;switch(t.code){case Be.invalid_type:t.received===He.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Be.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Mt.jsonStringifyReplacer)}`;break;case Be.unrecognized_keys:r=`Unrecognized key(s) in object: ${Mt.joinValues(t.keys,", ")}`;break;case Be.invalid_union:r="Invalid input";break;case Be.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Mt.joinValues(t.options)}`;break;case Be.invalid_enum_value:r=`Invalid enum value. Expected ${Mt.joinValues(t.options)}, received '${t.received}'`;break;case Be.invalid_arguments:r="Invalid function arguments";break;case Be.invalid_return_type:r="Invalid function return type";break;case Be.invalid_date:r="Invalid date";break;case Be.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Mt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Be.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Be.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Be.custom:r="Invalid input";break;case Be.invalid_intersection_types:r="Intersection results could not be merged";break;case Be.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Be.not_finite:r="Number must be finite";break;default:r=e.defaultError,Mt.assertNever(t)}return{message:r}};let W9=XA;function $pe(t){W9=t}function Dy(){return W9}const Ry=t=>{const{data:e,path:r,errorMaps:n,issueData:a}=t,s=[...r,...a.path||[]],o={...a,path:s};if(a.message!==void 0)return{...a,path:s,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...a,path:s,message:l}},Vpe=[];function De(t,e){const r=Dy(),n=Ry({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===XA?void 0:XA].filter(a=>!!a)});t.common.issues.push(n)}class Hn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const a of r){if(a.status==="aborted")return ut;a.status==="dirty"&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const a of r){const s=await a.key,o=await a.value;n.push({key:s,value:o})}return Hn.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const a of r){const{key:s,value:o}=a;if(s.status==="aborted"||o.status==="aborted")return ut;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}}const ut=Object.freeze({status:"aborted"}),rA=t=>({status:"dirty",value:t}),ta=t=>({status:"valid",value:t}),hS=t=>t.status==="aborted",fS=t=>t.status==="dirty",Am=t=>t.status==="valid",dm=t=>typeof Promise<"u"&&t instanceof Promise;function Uy(t,e,r,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function X9(t,e,r,n,a){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var et;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(et||(et={}));var Jh,Yh;class ci{constructor(e,r,n,a){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const $D=(t,e)=>{if(Am(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ia(t.common.issues);return this._error=r,this._error}}};function xt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:a}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(o,l)=>{var c,u;const{message:A}=t;return o.code==="invalid_enum_value"?{message:A??l.defaultError}:typeof l.data>"u"?{message:(c=A??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=A??r)!==null&&u!==void 0?u:l.defaultError}},description:a}}class jt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Do(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Do(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Hn,ctx:{common:e.parent.common,data:e.data,parsedType:Do(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(dm(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Do(e)},s=this._parseSync({data:e,path:a.path,parent:a});return $D(a,s)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Do(e)},a=this._parse({data:e,path:n.path,parent:n}),s=await(dm(a)?a:Promise.resolve(a));return $D(n,s)}refine(e,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,s)=>{const o=e(a),l=()=>s.addIssue({code:Be.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,a)=>e(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(e){return new Ss({schema:this,typeName:ot.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ei.create(this,this._def)}nullable(){return jl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return js.create(this,this._def)}promise(){return YA.create(this,this._def)}or(e){return pm.create([this,e],this._def)}and(e){return gm.create(this,e,this._def)}transform(e){return new Ss({...xt(this._def),schema:this,typeName:ot.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new wm({...xt(this._def),innerType:this,defaultValue:r,typeName:ot.ZodDefault})}brand(){return new aI({typeName:ot.ZodBranded,type:this,...xt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new jm({...xt(this._def),innerType:this,catchValue:r,typeName:ot.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Up.create(this,e)}readonly(){return _m.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Kpe=/^c[^\s-]{8,}$/i,qpe=/^[0-9a-z]+$/,Gpe=/^[0-9A-HJKMNP-TV-Z]{26}$/,zpe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Wpe=/^[a-z0-9_-]{21}$/i,Xpe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Jpe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ype="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let e1;const Zpe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ege=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,tge=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,J9="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",rge=new RegExp(`^${J9}$`);function Y9(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function nge(t){return new RegExp(`^${Y9(t)}$`)}function Z9(t){let e=`${J9}T${Y9(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function age(t,e){return!!((e==="v4"||!e)&&Zpe.test(t)||(e==="v6"||!e)&&ege.test(t))}class vs extends jt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==He.string){const s=this._getOrReturnCtx(e);return De(s,{code:Be.invalid_type,expected:He.string,received:s.parsedType}),ut}const n=new Hn;let a;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(a=this._getOrReturnCtx(e,a),De(a,{code:Be.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(a=this._getOrReturnCtx(e,a),De(a,{code:Be.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,l=e.data.length<s.value;(o||l)&&(a=this._getOrReturnCtx(e,a),o?De(a,{code:Be.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&De(a,{code:Be.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")Jpe.test(e.data)||(a=this._getOrReturnCtx(e,a),De(a,{validation:"email",code:Be.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")e1||(e1=new RegExp(Ype,"u")),e1.test(e.data)||(a=this._getOrReturnCtx(e,a),De(a,{validation:"emoji",code:Be.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")zpe.test(e.data)||(a=this._getOrReturnCtx(e,a),De(a,{validation:"uuid",code:Be.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")Wpe.test(e.data)||(a=this._getOrReturnCtx(e,a),De(a,{validation:"nanoid",code:Be.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")Kpe.test(e.data)||(a=this._getOrReturnCtx(e,a),De(a,{validation:"cuid",code:Be.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")qpe.test(e.data)||(a=this._getOrReturnCtx(e,a),De(a,{validation:"cuid2",code:Be.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")Gpe.test(e.data)||(a=this._getOrReturnCtx(e,a),De(a,{validation:"ulid",code:Be.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),De(a,{validation:"url",code:Be.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),De(a,{validation:"regex",code:Be.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(e,a),De(a,{code:Be.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(a=this._getOrReturnCtx(e,a),De(a,{code:Be.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(a=this._getOrReturnCtx(e,a),De(a,{code:Be.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?Z9(s).test(e.data)||(a=this._getOrReturnCtx(e,a),De(a,{code:Be.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?rge.test(e.data)||(a=this._getOrReturnCtx(e,a),De(a,{code:Be.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?nge(s).test(e.data)||(a=this._getOrReturnCtx(e,a),De(a,{code:Be.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?Xpe.test(e.data)||(a=this._getOrReturnCtx(e,a),De(a,{validation:"duration",code:Be.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?age(e.data,s.version)||(a=this._getOrReturnCtx(e,a),De(a,{validation:"ip",code:Be.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?tge.test(e.data)||(a=this._getOrReturnCtx(e,a),De(a,{validation:"base64",code:Be.invalid_string,message:s.message}),n.dirty()):Mt.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(a=>e.test(a),{validation:r,code:Be.invalid_string,...et.errToObj(n)})}_addCheck(e){return new vs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...et.errToObj(e)})}url(e){return this._addCheck({kind:"url",...et.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...et.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...et.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...et.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...et.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...et.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...et.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...et.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...et.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...et.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...et.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...et.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...et.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...et.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...et.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...et.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...et.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...et.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...et.errToObj(r)})}nonempty(e){return this.min(1,et.errToObj(e))}trim(){return new vs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new vs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new vs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}vs.create=t=>{var e;return new vs({checks:[],typeName:ot.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...xt(t)})};function sge(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,a=r>n?r:n,s=parseInt(t.toFixed(a).replace(".","")),o=parseInt(e.toFixed(a).replace(".",""));return s%o/Math.pow(10,a)}class xl extends jt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==He.number){const s=this._getOrReturnCtx(e);return De(s,{code:Be.invalid_type,expected:He.number,received:s.parsedType}),ut}let n;const a=new Hn;for(const s of this._def.checks)s.kind==="int"?Mt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),De(n,{code:Be.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),De(n,{code:Be.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),De(n,{code:Be.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?sge(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),De(n,{code:Be.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),De(n,{code:Be.not_finite,message:s.message}),a.dirty()):Mt.assertNever(s);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,et.toString(r))}gt(e,r){return this.setLimit("min",e,!1,et.toString(r))}lte(e,r){return this.setLimit("max",e,!0,et.toString(r))}lt(e,r){return this.setLimit("max",e,!1,et.toString(r))}setLimit(e,r,n,a){return new xl({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:et.toString(a)}]})}_addCheck(e){return new xl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:et.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:et.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:et.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:et.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:et.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:et.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:et.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:et.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:et.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Mt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}xl.create=t=>new xl({checks:[],typeName:ot.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...xt(t)});class bl extends jt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==He.bigint){const s=this._getOrReturnCtx(e);return De(s,{code:Be.invalid_type,expected:He.bigint,received:s.parsedType}),ut}let n;const a=new Hn;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),De(n,{code:Be.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),De(n,{code:Be.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),De(n,{code:Be.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):Mt.assertNever(s);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,et.toString(r))}gt(e,r){return this.setLimit("min",e,!1,et.toString(r))}lte(e,r){return this.setLimit("max",e,!0,et.toString(r))}lt(e,r){return this.setLimit("max",e,!1,et.toString(r))}setLimit(e,r,n,a){return new bl({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:et.toString(a)}]})}_addCheck(e){return new bl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:et.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:et.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:et.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:et.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:et.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}bl.create=t=>{var e;return new bl({checks:[],typeName:ot.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...xt(t)})};class hm extends jt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==He.boolean){const n=this._getOrReturnCtx(e);return De(n,{code:Be.invalid_type,expected:He.boolean,received:n.parsedType}),ut}return ta(e.data)}}hm.create=t=>new hm({typeName:ot.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...xt(t)});class Wc extends jt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==He.date){const s=this._getOrReturnCtx(e);return De(s,{code:Be.invalid_type,expected:He.date,received:s.parsedType}),ut}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return De(s,{code:Be.invalid_date}),ut}const n=new Hn;let a;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(a=this._getOrReturnCtx(e,a),De(a,{code:Be.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(a=this._getOrReturnCtx(e,a),De(a,{code:Be.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):Mt.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Wc({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:et.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:et.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Wc.create=t=>new Wc({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ot.ZodDate,...xt(t)});class My extends jt{_parse(e){if(this._getType(e)!==He.symbol){const n=this._getOrReturnCtx(e);return De(n,{code:Be.invalid_type,expected:He.symbol,received:n.parsedType}),ut}return ta(e.data)}}My.create=t=>new My({typeName:ot.ZodSymbol,...xt(t)});class fm extends jt{_parse(e){if(this._getType(e)!==He.undefined){const n=this._getOrReturnCtx(e);return De(n,{code:Be.invalid_type,expected:He.undefined,received:n.parsedType}),ut}return ta(e.data)}}fm.create=t=>new fm({typeName:ot.ZodUndefined,...xt(t)});class mm extends jt{_parse(e){if(this._getType(e)!==He.null){const n=this._getOrReturnCtx(e);return De(n,{code:Be.invalid_type,expected:He.null,received:n.parsedType}),ut}return ta(e.data)}}mm.create=t=>new mm({typeName:ot.ZodNull,...xt(t)});class JA extends jt{constructor(){super(...arguments),this._any=!0}_parse(e){return ta(e.data)}}JA.create=t=>new JA({typeName:ot.ZodAny,...xt(t)});class Tc extends jt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ta(e.data)}}Tc.create=t=>new Tc({typeName:ot.ZodUnknown,...xt(t)});class Xi extends jt{_parse(e){const r=this._getOrReturnCtx(e);return De(r,{code:Be.invalid_type,expected:He.never,received:r.parsedType}),ut}}Xi.create=t=>new Xi({typeName:ot.ZodNever,...xt(t)});class Qy extends jt{_parse(e){if(this._getType(e)!==He.undefined){const n=this._getOrReturnCtx(e);return De(n,{code:Be.invalid_type,expected:He.void,received:n.parsedType}),ut}return ta(e.data)}}Qy.create=t=>new Qy({typeName:ot.ZodVoid,...xt(t)});class js extends jt{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),a=this._def;if(r.parsedType!==He.array)return De(r,{code:Be.invalid_type,expected:He.array,received:r.parsedType}),ut;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(De(r,{code:o?Be.too_big:Be.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(De(r,{code:Be.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(De(r,{code:Be.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new ci(r,o,r.path,l)))).then(o=>Hn.mergeArray(n,o));const s=[...r.data].map((o,l)=>a.type._parseSync(new ci(r,o,r.path,l)));return Hn.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new js({...this._def,minLength:{value:e,message:et.toString(r)}})}max(e,r){return new js({...this._def,maxLength:{value:e,message:et.toString(r)}})}length(e,r){return new js({...this._def,exactLength:{value:e,message:et.toString(r)}})}nonempty(e){return this.min(1,e)}}js.create=(t,e)=>new js({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ot.ZodArray,...xt(e)});function Yu(t){if(t instanceof _r){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=ei.create(Yu(n))}return new _r({...t._def,shape:()=>e})}else return t instanceof js?new js({...t._def,type:Yu(t.element)}):t instanceof ei?ei.create(Yu(t.unwrap())):t instanceof jl?jl.create(Yu(t.unwrap())):t instanceof ui?ui.create(t.items.map(e=>Yu(e))):t}class _r extends jt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Mt.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==He.object){const u=this._getOrReturnCtx(e);return De(u,{code:Be.invalid_type,expected:He.object,received:u.parsedType}),ut}const{status:n,ctx:a}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Xi&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const A=s[u],d=a.data[u];c.push({key:{status:"valid",value:u},value:A._parse(new ci(a,d,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Xi){const u=this._def.unknownKeys;if(u==="passthrough")for(const A of l)c.push({key:{status:"valid",value:A},value:{status:"valid",value:a.data[A]}});else if(u==="strict")l.length>0&&(De(a,{code:Be.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const A of l){const d=a.data[A];c.push({key:{status:"valid",value:A},value:u._parse(new ci(a,d,a.path,A)),alwaysSet:A in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const A of c){const d=await A.key,h=await A.value;u.push({key:d,value:h,alwaysSet:A.alwaysSet})}return u}).then(u=>Hn.mergeObjectSync(n,u)):Hn.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return et.errToObj,new _r({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,s,o,l;const c=(o=(s=(a=this._def).errorMap)===null||s===void 0?void 0:s.call(a,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=et.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new _r({...this._def,unknownKeys:"strip"})}passthrough(){return new _r({...this._def,unknownKeys:"passthrough"})}extend(e){return new _r({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new _r({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ot.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new _r({...this._def,catchall:e})}pick(e){const r={};return Mt.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new _r({...this._def,shape:()=>r})}omit(e){const r={};return Mt.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new _r({...this._def,shape:()=>r})}deepPartial(){return Yu(this)}partial(e){const r={};return Mt.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];e&&!e[n]?r[n]=a:r[n]=a.optional()}),new _r({...this._def,shape:()=>r})}required(e){const r={};return Mt.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof ei;)s=s._def.innerType;r[n]=s}}),new _r({...this._def,shape:()=>r})}keyof(){return e7(Mt.objectKeys(this.shape))}}_r.create=(t,e)=>new _r({shape:()=>t,unknownKeys:"strip",catchall:Xi.create(),typeName:ot.ZodObject,...xt(e)});_r.strictCreate=(t,e)=>new _r({shape:()=>t,unknownKeys:"strict",catchall:Xi.create(),typeName:ot.ZodObject,...xt(e)});_r.lazycreate=(t,e)=>new _r({shape:t,unknownKeys:"strip",catchall:Xi.create(),typeName:ot.ZodObject,...xt(e)});class pm extends jt{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function a(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new Ia(l.ctx.common.issues));return De(r,{code:Be.invalid_union,unionErrors:o}),ut}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let s;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},A=c._parseSync({data:r.data,path:r.path,parent:u});if(A.status==="valid")return A;A.status==="dirty"&&!s&&(s={result:A,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new Ia(c));return De(r,{code:Be.invalid_union,unionErrors:l}),ut}}get options(){return this._def.options}}pm.create=(t,e)=>new pm({options:t,typeName:ot.ZodUnion,...xt(e)});const Si=t=>t instanceof ym?Si(t.schema):t instanceof Ss?Si(t.innerType()):t instanceof xm?[t.value]:t instanceof wl?t.options:t instanceof bm?Mt.objectValues(t.enum):t instanceof wm?Si(t._def.innerType):t instanceof fm?[void 0]:t instanceof mm?[null]:t instanceof ei?[void 0,...Si(t.unwrap())]:t instanceof jl?[null,...Si(t.unwrap())]:t instanceof aI||t instanceof _m?Si(t.unwrap()):t instanceof jm?Si(t._def.innerType):[];class rb extends jt{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==He.object)return De(r,{code:Be.invalid_type,expected:He.object,received:r.parsedType}),ut;const n=this.discriminator,a=r.data[n],s=this.optionsMap.get(a);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(De(r,{code:Be.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ut)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const a=new Map;for(const s of r){const o=Si(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);a.set(l,s)}}return new rb({typeName:ot.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:a,...xt(n)})}}function mS(t,e){const r=Do(t),n=Do(e);if(t===e)return{valid:!0,data:t};if(r===He.object&&n===He.object){const a=Mt.objectKeys(e),s=Mt.objectKeys(t).filter(l=>a.indexOf(l)!==-1),o={...t,...e};for(const l of s){const c=mS(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===He.array&&n===He.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let s=0;s<t.length;s++){const o=t[s],l=e[s],c=mS(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===He.date&&n===He.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class gm extends jt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=(s,o)=>{if(hS(s)||hS(o))return ut;const l=mS(s.value,o.value);return l.valid?((fS(s)||fS(o))&&r.dirty(),{status:r.value,value:l.data}):(De(n,{code:Be.invalid_intersection_types}),ut)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>a(s,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}gm.create=(t,e,r)=>new gm({left:t,right:e,typeName:ot.ZodIntersection,...xt(r)});class ui extends jt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==He.array)return De(n,{code:Be.invalid_type,expected:He.array,received:n.parsedType}),ut;if(n.data.length<this._def.items.length)return De(n,{code:Be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ut;!this._def.rest&&n.data.length>this._def.items.length&&(De(n,{code:Be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ci(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>Hn.mergeArray(r,o)):Hn.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new ui({...this._def,rest:e})}}ui.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ui({items:t,typeName:ot.ZodTuple,rest:null,...xt(e)})};class vm extends jt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==He.object)return De(n,{code:Be.invalid_type,expected:He.object,received:n.parsedType}),ut;const a=[],s=this._def.keyType,o=this._def.valueType;for(const l in n.data)a.push({key:s._parse(new ci(n,l,n.path,l)),value:o._parse(new ci(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?Hn.mergeObjectAsync(r,a):Hn.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof jt?new vm({keyType:e,valueType:r,typeName:ot.ZodRecord,...xt(n)}):new vm({keyType:vs.create(),valueType:e,typeName:ot.ZodRecord,...xt(r)})}}class Ly extends jt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==He.map)return De(n,{code:Be.invalid_type,expected:He.map,received:n.parsedType}),ut;const a=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new ci(n,l,n.path,[u,"key"])),value:s._parse(new ci(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,A=await c.value;if(u.status==="aborted"||A.status==="aborted")return ut;(u.status==="dirty"||A.status==="dirty")&&r.dirty(),l.set(u.value,A.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,A=c.value;if(u.status==="aborted"||A.status==="aborted")return ut;(u.status==="dirty"||A.status==="dirty")&&r.dirty(),l.set(u.value,A.value)}return{status:r.value,value:l}}}}Ly.create=(t,e,r)=>new Ly({valueType:e,keyType:t,typeName:ot.ZodMap,...xt(r)});class Xc extends jt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==He.set)return De(n,{code:Be.invalid_type,expected:He.set,received:n.parsedType}),ut;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(De(n,{code:Be.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(De(n,{code:Be.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const A of c){if(A.status==="aborted")return ut;A.status==="dirty"&&r.dirty(),u.add(A.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>s._parse(new ci(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,r){return new Xc({...this._def,minSize:{value:e,message:et.toString(r)}})}max(e,r){return new Xc({...this._def,maxSize:{value:e,message:et.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Xc.create=(t,e)=>new Xc({valueType:t,minSize:null,maxSize:null,typeName:ot.ZodSet,...xt(e)});class AA extends jt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==He.function)return De(r,{code:Be.invalid_type,expected:He.function,received:r.parsedType}),ut;function n(l,c){return Ry({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Dy(),XA].filter(u=>!!u),issueData:{code:Be.invalid_arguments,argumentsError:c}})}function a(l,c){return Ry({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Dy(),XA].filter(u=>!!u),issueData:{code:Be.invalid_return_type,returnTypeError:c}})}const s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof YA){const l=this;return ta(async function(...c){const u=new Ia([]),A=await l._def.args.parseAsync(c,s).catch(f=>{throw u.addIssue(n(c,f)),u}),d=await Reflect.apply(o,this,A);return await l._def.returns._def.type.parseAsync(d,s).catch(f=>{throw u.addIssue(a(d,f)),u})})}else{const l=this;return ta(function(...c){const u=l._def.args.safeParse(c,s);if(!u.success)throw new Ia([n(c,u.error)]);const A=Reflect.apply(o,this,u.data),d=l._def.returns.safeParse(A,s);if(!d.success)throw new Ia([a(A,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new AA({...this._def,args:ui.create(e).rest(Tc.create())})}returns(e){return new AA({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new AA({args:e||ui.create([]).rest(Tc.create()),returns:r||Tc.create(),typeName:ot.ZodFunction,...xt(n)})}}class ym extends jt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}ym.create=(t,e)=>new ym({getter:t,typeName:ot.ZodLazy,...xt(e)});class xm extends jt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return De(r,{received:r.data,code:Be.invalid_literal,expected:this._def.value}),ut}return{status:"valid",value:e.data}}get value(){return this._def.value}}xm.create=(t,e)=>new xm({value:t,typeName:ot.ZodLiteral,...xt(e)});function e7(t,e){return new wl({values:t,typeName:ot.ZodEnum,...xt(e)})}class wl extends jt{constructor(){super(...arguments),Jh.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return De(r,{expected:Mt.joinValues(n),received:r.parsedType,code:Be.invalid_type}),ut}if(Uy(this,Jh)||X9(this,Jh,new Set(this._def.values)),!Uy(this,Jh).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return De(r,{received:r.data,code:Be.invalid_enum_value,options:n}),ut}return ta(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return wl.create(e,{...this._def,...r})}exclude(e,r=this._def){return wl.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Jh=new WeakMap;wl.create=e7;class bm extends jt{constructor(){super(...arguments),Yh.set(this,void 0)}_parse(e){const r=Mt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==He.string&&n.parsedType!==He.number){const a=Mt.objectValues(r);return De(n,{expected:Mt.joinValues(a),received:n.parsedType,code:Be.invalid_type}),ut}if(Uy(this,Yh)||X9(this,Yh,new Set(Mt.getValidEnumValues(this._def.values))),!Uy(this,Yh).has(e.data)){const a=Mt.objectValues(r);return De(n,{received:n.data,code:Be.invalid_enum_value,options:a}),ut}return ta(e.data)}get enum(){return this._def.values}}Yh=new WeakMap;bm.create=(t,e)=>new bm({values:t,typeName:ot.ZodNativeEnum,...xt(e)});class YA extends jt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==He.promise&&r.common.async===!1)return De(r,{code:Be.invalid_type,expected:He.promise,received:r.parsedType}),ut;const n=r.parsedType===He.promise?r.data:Promise.resolve(r.data);return ta(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}YA.create=(t,e)=>new YA({type:t,typeName:ot.ZodPromise,...xt(e)});class Ss extends jt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ot.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=this._def.effect||null,s={addIssue:o=>{De(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){const o=a.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return ut;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?ut:c.status==="dirty"||r.value==="dirty"?rA(c.value):c});{if(r.value==="aborted")return ut;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?ut:l.status==="dirty"||r.value==="dirty"?rA(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?ut:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?ut:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Am(o))return o;const l=a.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Am(o)?Promise.resolve(a.transform(o.value,s)).then(l=>({status:r.value,value:l})):o);Mt.assertNever(a)}}Ss.create=(t,e,r)=>new Ss({schema:t,typeName:ot.ZodEffects,effect:e,...xt(r)});Ss.createWithPreprocess=(t,e,r)=>new Ss({schema:e,effect:{type:"preprocess",transform:t},typeName:ot.ZodEffects,...xt(r)});class ei extends jt{_parse(e){return this._getType(e)===He.undefined?ta(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ei.create=(t,e)=>new ei({innerType:t,typeName:ot.ZodOptional,...xt(e)});class jl extends jt{_parse(e){return this._getType(e)===He.null?ta(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}jl.create=(t,e)=>new jl({innerType:t,typeName:ot.ZodNullable,...xt(e)});class wm extends jt{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===He.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}wm.create=(t,e)=>new wm({innerType:t,typeName:ot.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...xt(e)});class jm extends jt{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return dm(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ia(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ia(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}jm.create=(t,e)=>new jm({innerType:t,typeName:ot.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...xt(e)});class Hy extends jt{_parse(e){if(this._getType(e)!==He.nan){const n=this._getOrReturnCtx(e);return De(n,{code:Be.invalid_type,expected:He.nan,received:n.parsedType}),ut}return{status:"valid",value:e.data}}}Hy.create=t=>new Hy({typeName:ot.ZodNaN,...xt(t)});const ige=Symbol("zod_brand");class aI extends jt{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Up extends jt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ut:s.status==="dirty"?(r.dirty(),rA(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ut:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(e,r){return new Up({in:e,out:r,typeName:ot.ZodPipeline})}}class _m extends jt{_parse(e){const r=this._def.innerType._parse(e),n=a=>(Am(a)&&(a.value=Object.freeze(a.value)),a);return dm(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}_m.create=(t,e)=>new _m({innerType:t,typeName:ot.ZodReadonly,...xt(e)});function t7(t,e={},r){return t?JA.create().superRefine((n,a)=>{var s,o;if(!t(n)){const l=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,c=(o=(s=l.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0,u=typeof l=="string"?{message:l}:l;a.addIssue({code:"custom",...u,fatal:c})}}):JA.create()}const oge={object:_r.lazycreate};var ot;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ot||(ot={}));const lge=(t,e={message:`Input not instance of ${t.name}`})=>t7(r=>r instanceof t,e),ar=vs.create,ti=xl.create,cge=Hy.create,uge=bl.create,al=hm.create,Age=Wc.create,dge=My.create,hge=fm.create,fge=mm.create,mge=JA.create,pge=Tc.create,gge=Xi.create,vge=Qy.create,yge=js.create,ks=_r.create,xge=_r.strictCreate,bge=pm.create,wge=rb.create,jge=gm.create,_ge=ui.create,Cge=vm.create,Bge=Ly.create,Ege=Xc.create,Sge=AA.create,Nge=ym.create,r7=xm.create,ZA=wl.create,Tge=bm.create,kge=YA.create,VD=Ss.create,Ige=ei.create,Pge=jl.create,Oge=Ss.createWithPreprocess,Fge=Up.create,Dge=()=>ar().optional(),Rge=()=>ti().optional(),Uge=()=>al().optional(),Mge={string:t=>vs.create({...t,coerce:!0}),number:t=>xl.create({...t,coerce:!0}),boolean:t=>hm.create({...t,coerce:!0}),bigint:t=>bl.create({...t,coerce:!0}),date:t=>Wc.create({...t,coerce:!0})},Qge=ut;var qr=Object.freeze({__proto__:null,defaultErrorMap:XA,setErrorMap:$pe,getErrorMap:Dy,makeIssue:Ry,EMPTY_PATH:Vpe,addIssueToContext:De,ParseStatus:Hn,INVALID:ut,DIRTY:rA,OK:ta,isAborted:hS,isDirty:fS,isValid:Am,isAsync:dm,get util(){return Mt},get objectUtil(){return dS},ZodParsedType:He,getParsedType:Do,ZodType:jt,datetimeRegex:Z9,ZodString:vs,ZodNumber:xl,ZodBigInt:bl,ZodBoolean:hm,ZodDate:Wc,ZodSymbol:My,ZodUndefined:fm,ZodNull:mm,ZodAny:JA,ZodUnknown:Tc,ZodNever:Xi,ZodVoid:Qy,ZodArray:js,ZodObject:_r,ZodUnion:pm,ZodDiscriminatedUnion:rb,ZodIntersection:gm,ZodTuple:ui,ZodRecord:vm,ZodMap:Ly,ZodSet:Xc,ZodFunction:AA,ZodLazy:ym,ZodLiteral:xm,ZodEnum:wl,ZodNativeEnum:bm,ZodPromise:YA,ZodEffects:Ss,ZodTransformer:Ss,ZodOptional:ei,ZodNullable:jl,ZodDefault:wm,ZodCatch:jm,ZodNaN:Hy,BRAND:ige,ZodBranded:aI,ZodPipeline:Up,ZodReadonly:_m,custom:t7,Schema:jt,ZodSchema:jt,late:oge,get ZodFirstPartyTypeKind(){return ot},coerce:Mge,any:mge,array:yge,bigint:uge,boolean:al,date:Age,discriminatedUnion:wge,effect:VD,enum:ZA,function:Sge,instanceof:lge,intersection:jge,lazy:Nge,literal:r7,map:Bge,nan:cge,nativeEnum:Tge,never:gge,null:fge,nullable:Pge,number:ti,object:ks,oboolean:Uge,onumber:Rge,optional:Ige,ostring:Dge,pipeline:Fge,preprocess:Oge,promise:kge,record:Cge,set:Ege,strictObject:xge,string:ar,symbol:dge,transformer:VD,tuple:_ge,undefined:hge,union:bge,unknown:pge,void:vge,NEVER:Qge,ZodIssueCode:Be,quotelessJson:Hpe,ZodError:Ia});const Lge=()=>{const t=kt();return i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Akses Akun"}),i.jsx("p",{className:"text-muted-foreground",children:"Masuk untuk mengelola akun dan pesanan Anda"})]}),i.jsxs("div",{className:"w-full max-w-sm space-y-4",children:[i.jsx(V,{onClick:()=>t("/login"),className:"w-full bg-flame-500 hover:bg-flame-600",children:"Masuk"}),i.jsx(V,{onClick:()=>t("/register"),variant:"outline",className:"w-full",children:"Buat Akun"})]})]})},Hge=ks({name:ar().min(1,"Nama wajib diisi"),phone:ar().regex(/^(\+?62|0)[0-9]{9,13}$/,"Harus nomor telepon Indonesia yang valid (dimulai dengan +62 atau 0)").optional().or(r7(""))}),$ge=({profile:t,onUpdate:e,onCancel:r})=>{const[n,a]=v.useState(!1),s=Jn({resolver:Yn(Hge),defaultValues:{name:(t==null?void 0:t.name)||"",phone:(t==null?void 0:t.phone)||""}}),o=async l=>{try{a(!0);const c={name:l.name,phone:l.phone===""?void 0:l.phone};await e(c)}catch(c){console.error("Error updating profile:",c)}finally{a(!1)}};return i.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[i.jsx("h3",{className:"text-md font-medium mb-4",children:"Edit Profil"}),i.jsx(Ln,{...s,children:i.jsxs("form",{onSubmit:s.handleSubmit(o),className:"space-y-4",children:[i.jsx(Qe,{control:s.control,name:"name",render:({field:l})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Nama Lengkap"}),i.jsx(Me,{children:i.jsx(le,{placeholder:"Masukkan nama lengkap",...l})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:s.control,name:"phone",render:({field:l})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Nomor Telepon"}),i.jsx(Me,{children:i.jsx(le,{placeholder:"contoh: 081234567890",...l})}),i.jsx($e,{})]})}),i.jsxs("div",{className:"flex space-x-2 pt-2",children:[i.jsx(V,{type:"submit",className:"flex-1 bg-flame-500 hover:bg-flame-600",disabled:n,children:n?"Menyimpan...":"Simpan Perubahan"}),i.jsx(V,{type:"button",variant:"outline",className:"flex-1",onClick:r,disabled:n,children:"Batal"})]})]})})]})},Vge=()=>{const{user:t,profile:e,logout:r,refreshProfile:n}=Ir(),{toast:a}=Ns(),[s,o]=v.useState([]),[l,c]=v.useState(!0),[u,A]=v.useState(!1),d=kt();v.useEffect(()=>{(async()=>{try{if(c(!0),t){const{data:g,error:m}=await J.from("addresses").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});m?console.error("Error fetching addresses:",m):o(g||[])}}catch(g){console.error("Error fetching user data:",g)}finally{c(!1)}})()},[t]);const h=async p=>{try{if(!t)return;const{error:g}=await J.from("profiles").update({name:p.name,phone:p.phone}).eq("id",t.id);if(g){console.error("Error updating profile:",g),a({variant:"destructive",title:"Gagal memperbarui profil",description:g.message});return}await n(),a({title:"Profil berhasil diperbarui",description:"Informasi profil Anda telah disimpan"}),A(!1)}catch(g){console.error("Error in profile update:",g),a({variant:"destructive",title:"Terjadi kesalahan",description:"Gagal memperbarui profil. Silakan coba lagi."})}},f=async()=>{try{await r(),a({title:"Berhasil keluar",description:"Anda telah keluar dari akun"}),d("/")}catch(p){console.error("Error logging out:",p),a({variant:"destructive",title:"Gagal keluar",description:"Terjadi kesalahan saat mencoba keluar. Silakan coba lagi."})}};return l?i.jsx("div",{className:"min-h-[60vh] flex flex-col items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground",children:"Tunggu Sebentar..."})}):i.jsxs("div",{className:"pb-16",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h1",{className:"text-xl font-bold",children:"Akun Saya"}),i.jsxs(V,{variant:"ghost",size:"sm",onClick:f,className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:[i.jsx(gT,{className:"h-4 w-4 mr-1"}),"Keluar"]})]}),i.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"bg-slate-100 h-16 w-16 rounded-full flex items-center justify-center mr-4",children:i.jsx(OA,{className:"h-8 w-8 text-slate-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-semibold text-lg",children:(e==null?void 0:e.name)||"Pengguna"}),i.jsxs("p",{className:"text-slate-500 text-sm flex items-center",children:[i.jsx(KB,{className:"h-3 w-3 mr-1"}),e==null?void 0:e.email]}),(e==null?void 0:e.phone)&&i.jsxs("p",{className:"text-slate-500 text-sm flex items-center mt-1",children:[i.jsx(qB,{className:"h-3 w-3 mr-1"}),e.phone]})]})]})}),i.jsxs(ha,{defaultValue:"profile",className:"w-full",children:[i.jsxs(ea,{className:"grid w-full grid-cols-2",children:[i.jsx(Nt,{value:"profile",children:"Informasi Pribadi"}),i.jsx(Nt,{value:"addresses",children:"Alamat Saya"})]}),i.jsx(Wt,{value:"profile",className:"mt-4 space-y-4",children:u?i.jsx("div",{className:"p-5 rounded-lg bg-white shadow-sm",children:i.jsx($ge,{profile:e,onUpdate:h,onCancel:()=>A(!1)})}):i.jsxs("div",{className:"p-5 rounded-lg bg-white shadow-sm",children:[i.jsxs("h3",{className:"text-md font-medium mb-4 flex items-center",children:[i.jsx(OA,{className:"h-4 w-4 mr-2 text-slate-500"}),"Informasi Pribadi"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"pb-3 border-b border-slate-100",children:[i.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Nama Lengkap"}),i.jsx("p",{className:"font-medium",children:(e==null?void 0:e.name)||"-"})]}),i.jsxs("div",{className:"pb-3 border-b border-slate-100",children:[i.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Email"}),i.jsxs("p",{className:"font-medium flex items-center",children:[i.jsx(KB,{className:"h-4 w-4 mr-2 text-slate-400"}),(e==null?void 0:e.email)||"-"]})]}),i.jsxs("div",{className:"pb-3 border-b border-slate-100",children:[i.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Nomor Telepon"}),i.jsxs("p",{className:"font-medium flex items-center",children:[i.jsx(qB,{className:"h-4 w-4 mr-2 text-slate-400"}),(e==null?void 0:e.phone)||"-"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Status Akun"}),i.jsxs("p",{className:"font-medium flex items-center",children:[i.jsx(c6,{className:"h-4 w-4 mr-2 text-green-500"}),"Terverifikasi"]})]})]}),i.jsx(V,{onClick:()=>A(!0),variant:"outline",className:"mt-6 w-full",children:"Edit Profil"})]})}),i.jsx(Wt,{value:"addresses",className:"mt-4",children:s.length===0?i.jsxs("div",{className:"text-center py-8 bg-white rounded-lg shadow-sm",children:[i.jsx(O2,{className:"w-12 h-12 text-slate-300 mx-auto mb-2"}),i.jsx("p",{className:"text-slate-500 mb-2",children:"Belum ada alamat tersimpan"}),i.jsx("p",{className:"text-sm text-slate-400 mb-4 max-w-xs mx-auto",children:"Tambahkan alamat untuk mempermudah proses checkout saat berbelanja"}),i.jsx(V,{onClick:()=>d("/address/new"),className:"bg-flame-500 hover:bg-flame-600",children:"Tambah Alamat"})]}):i.jsxs("div",{className:"space-y-4",children:[s.map(p=>i.jsxs("div",{className:"border rounded-lg p-3 bg-white",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:p.name}),p.isDefault&&i.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded-full",children:"Utama"})]}),i.jsx(ct,{to:`/address/${p.id}`,className:"text-sm text-flame-600 hover:text-flame-500",children:"Ubah"})]}),i.jsx("p",{className:"text-sm mt-1",children:p.street}),i.jsxs("p",{className:"text-sm",children:[p.city,", ",p.state," ",p.zip]})]},p.id)),i.jsx("div",{className:"flex justify-center mt-2",children:i.jsxs(V,{onClick:()=>d("/address/new"),variant:"outline",className:"w-full",children:[i.jsx(O2,{className:"h-4 w-4 mr-2"}),"Tambah Alamat Baru"]})})]})})]})]})},Kge=()=>{const{user:t}=Ir();return i.jsx($t,{children:i.jsx("div",{className:"p-4",children:t?i.jsx(Vge,{}):i.jsx(Lge,{})})})};var sI="Checkbox",[qge,s5e]=fa(sI),[Gge,zge]=qge(sI),n7=v.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:A,...d}=t,[h,f]=v.useState(null),p=pt(e,w=>f(w)),g=v.useRef(!1),m=h?A||!!h.closest("form"):!0,[x=!1,b]=Ya({prop:a,defaultProp:s,onChange:u}),_=v.useRef(x);return v.useEffect(()=>{const w=h==null?void 0:h.form;if(w){const C=()=>b(_.current);return w.addEventListener("reset",C),()=>w.removeEventListener("reset",C)}},[h,b]),i.jsxs(Gge,{scope:r,state:x,disabled:l,children:[i.jsx(Je.button,{type:"button",role:"checkbox","aria-checked":sl(x)?"mixed":x,"aria-required":o,"data-state":i7(x),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:p,onKeyDown:Oe(t.onKeyDown,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:Oe(t.onClick,w=>{b(C=>sl(C)?!0:!C),m&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),m&&i.jsx(Wge,{control:h,bubbles:!g.current,name:n,value:c,checked:x,required:o,disabled:l,form:A,style:{transform:"translateX(-100%)"},defaultChecked:sl(s)?!1:s})]})});n7.displayName=sI;var a7="CheckboxIndicator",s7=v.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...a}=t,s=zge(a7,r);return i.jsx(ra,{present:n||sl(s.state)||s.state===!0,children:i.jsx(Je.span,{"data-state":i7(s.state),"data-disabled":s.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...t.style}})})});s7.displayName=a7;var Wge=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:a,...s}=t,o=v.useRef(null),l=kp(r),c=yp(e);v.useEffect(()=>{const A=o.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&f){const p=new Event("click",{bubbles:n});A.indeterminate=sl(r),f.call(A,sl(r)?!1:r),A.dispatchEvent(p)}},[l,r,n]);const u=v.useRef(sl(r)?!1:r);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??u.current,...s,tabIndex:-1,ref:o,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function sl(t){return t==="indeterminate"}function i7(t){return sl(t)?"indeterminate":t?"checked":"unchecked"}var o7=n7,Xge=s7;const iI=v.forwardRef(({className:t,...e},r)=>i.jsx(o7,{ref:r,className:de("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:i.jsx(Xge,{className:de("flex items-center justify-center text-current"),children:i.jsx(fT,{className:"h-4 w-4"})})}));iI.displayName=o7.displayName;const Jge=()=>{const{id:t}=wp(),e=kt(),{toast:r}=Ns(),{user:n}=Ir(),a=t==="new",[s,o]=v.useState(""),[l,c]=v.useState(""),[u,A]=v.useState(""),[d,h]=v.useState(""),[f,p]=v.useState(""),[g,m]=v.useState(""),[x,b]=v.useState(!1),[_,w]=v.useState(!1);v.useEffect(()=>{(async()=>{if(!(a||!n))try{w(!0);const{data:B,error:S}=await J.from("addresses").select("*").eq("id",t).eq("user_id",n.id).single();if(S)throw S;B&&(o(B.name),c(B.street),A(B.city),h(B.state),p(B.zip),m(B.country),b(B.is_default))}catch(B){r({title:"Error",description:B.message||"Tidak dapat memuat detail alamat",variant:"destructive"})}finally{w(!1)}})()},[t,n,a,r]);const C=async j=>{if(j.preventDefault(),!n){r({title:"Error",description:"Anda harus login untuk menyimpan alamat",variant:"destructive"});return}try{w(!0),x&&await J.from("addresses").update({is_default:!1}).eq("user_id",n.id);const B={name:s,street:l,city:u,state:d,zip:f,country:g,is_default:x,user_id:n.id};if(a){const{error:S}=await J.from("addresses").insert([B]);if(S)throw S;r({title:"Alamat Ditambahkan",description:"Alamat Anda telah berhasil disimpan"})}else{const{error:S}=await J.from("addresses").update(B).eq("id",t).eq("user_id",n.id);if(S)throw S;r({title:"Alamat Diperbarui",description:"Alamat Anda telah berhasil diperbarui"})}e("/profile")}catch(B){r({title:"Error",description:B.message||"Tidak dapat menyimpan alamat",variant:"destructive"})}finally{w(!1)}},E=async()=>{if(!n||a||!t||t==="undefined"){r({title:"Konfirmasi penghapusan",description:"Apakah Anda yakin ingin menghapus alamat ini?",variant:"destructive"});return}try{w(!0);const{error:j}=await J.from("addresses").delete().eq("id",t).eq("user_id",n.id);if(j)throw j;r({title:"Alamat Dihapus",description:"Alamat Anda telah berhasil dihapus"}),e("/profile")}catch(j){r({title:"Error",description:j.message||"Tidak dapat menghapus alamat",variant:"destructive"})}finally{w(!1)}};return i.jsx($t,{children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsxs("button",{onClick:()=>e("/profile"),className:"text-charcoal-600 flex items-center",children:[i.jsx(bs,{className:"h-5 w-5 mr-1"}),i.jsx("span",{children:"Kembali"})]}),i.jsx("h1",{className:"text-xl font-bold text-center flex-1 pr-6",children:a?"Tambah Alamat Baru":"Edit Alamat"})]}),i.jsxs("form",{onSubmit:C,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"name",children:"Nama Alamat"}),i.jsx(le,{id:"name",type:"text",value:s,onChange:j=>o(j.target.value),placeholder:"Rumah, Kantor, dll.",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"street",children:"Alamat Jalan"}),i.jsx(le,{id:"street",type:"text",value:l,onChange:j=>c(j.target.value),placeholder:"Jl. Contoh No. 123",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"city",children:"Kota"}),i.jsx(le,{id:"city",type:"text",value:u,onChange:j=>A(j.target.value),placeholder:"Nama Kota",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"state",children:"Provinsi"}),i.jsx(le,{id:"state",type:"text",value:d,onChange:j=>h(j.target.value),placeholder:"Nama Provinsi",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"zip",children:"Kode Pos"}),i.jsx(le,{id:"zip",type:"text",value:f,onChange:j=>p(j.target.value),placeholder:"Kode Pos",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"country",children:"Catatan Detail Lokasi"}),i.jsx(le,{id:"country",type:"text",value:g,onChange:j=>m(j.target.value),placeholder:"Ceritakan Detail Lokasi Agar Lebih Mudah Ditemukan",required:!0})]}),i.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[i.jsx(iI,{id:"isDefault",checked:x,onCheckedChange:j=>b(j===!0)}),i.jsx(Ne,{htmlFor:"isDefault",children:"Jadikan alamat utama"})]}),i.jsx("div",{className:"pt-4",children:i.jsx(V,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:_,children:_?"Menyimpan...":"Simpan Alamat"})}),!a&&i.jsx("div",{className:"pt-2",children:i.jsx(V,{type:"button",variant:"outline",className:"w-full text-destructive border-destructive",onClick:E,disabled:_,children:"Hapus Alamat"})})]})]})})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pS=function(t,e){return pS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},pS(t,e)};function Is(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");pS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var gS=function(){return gS=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},gS.apply(this,arguments)};function zn(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(t,[])).next())})}function Tn(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(A){return c([u,A])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(A){u=[6,A],a=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Hg(t,e,r){if(arguments.length===2)for(var n=0,a=e.length,s;n<a;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||e)}var Ji=function(){function t(e,r,n,a){this.left=e,this.top=r,this.width=n,this.height=a}return t.prototype.add=function(e,r,n,a){return new t(this.left+e,this.top+r,this.width+n,this.height+a)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(a){return a.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),nb=function(t,e){return Ji.fromClientRect(t,e.getBoundingClientRect())},Yge=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),a=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new Ji(0,0,n,a)},ab=function(t){for(var e=[],r=0,n=t.length;r<n;){var a=t.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((a&1023)<<10)+(s&1023)+65536):(e.push(a),r--)}else e.push(a)}return e},Or=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],a=-1,s="";++a<r;){var o=t[a];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(a+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},KD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zge=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var $g=0;$g<KD.length;$g++)Zge[KD.charCodeAt($g)]=$g;var qD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Vg=0;Vg<qD.length;Vg++)Zh[qD.charCodeAt(Vg)]=Vg;var eve=function(t){var e=t.length*.75,r=t.length,n,a=0,s,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)s=Zh[t.charCodeAt(n)],o=Zh[t.charCodeAt(n+1)],l=Zh[t.charCodeAt(n+2)],c=Zh[t.charCodeAt(n+3)],A[a++]=s<<2|o>>4,A[a++]=(o&15)<<4|l>>2,A[a++]=(l&3)<<6|c&63;return u},tve=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},rve=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},kc=5,oI=11,t1=2,nve=oI-kc,l7=65536>>kc,ave=1<<kc,r1=ave-1,sve=1024>>kc,ive=l7+sve,ove=ive,lve=32,cve=ove+lve,uve=65536>>oI,Ave=1<<nve,dve=Ave-1,GD=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},hve=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},fve=function(t,e){var r=eve(t),n=Array.isArray(r)?rve(r):new Uint32Array(r),a=Array.isArray(r)?tve(r):new Uint16Array(r),s=24,o=GD(a,s/2,n[4]/2),l=n[5]===2?GD(a,(s+n[4])/2):hve(n,Math.ceil((s+n[4])/4));return new mve(n[0],n[1],n[2],n[3],o,l)},mve=function(){function t(e,r,n,a,s,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=s,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>kc],r=(r<<t1)+(e&r1),this.data[r];if(e<=65535)return r=this.index[l7+(e-55296>>kc)],r=(r<<t1)+(e&r1),this.data[r];if(e<this.highStart)return r=cve-uve+(e>>oI),r=this.index[r],r+=e>>kc&dve,r=this.index[r],r=(r<<t1)+(e&r1),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),zD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pve=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Kg=0;Kg<zD.length;Kg++)pve[zD.charCodeAt(Kg)]=Kg;var gve="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",WD=50,vve=1,c7=2,u7=3,yve=4,xve=5,XD=7,A7=8,JD=9,zo=10,vS=11,YD=12,yS=13,bve=14,ef=15,xS=16,qg=17,Nh=18,wve=19,ZD=20,bS=21,Th=22,n1=23,Pu=24,va=25,tf=26,rf=27,Ou=28,jve=29,dc=30,_ve=31,Gg=32,zg=33,wS=34,jS=35,_S=36,Cm=37,CS=38,qv=39,Gv=40,a1=41,d7=42,Cve=43,Bve=[9001,65288],h7="!",Et="×",Wg="÷",BS=fve(gve),ji=[dc,_S],ES=[vve,c7,u7,xve],f7=[zo,A7],eR=[rf,tf],Eve=ES.concat(f7),tR=[CS,qv,Gv,wS,jS],Sve=[ef,yS],Nve=function(t,e){e===void 0&&(e="strict");var r=[],n=[],a=[];return t.forEach(function(s,o){var l=BS.get(s);if(l>WD?(a.push(!0),l-=WD):a.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(o),r.push(xS);if(l===yve||l===vS){if(o===0)return n.push(o),r.push(dc);var c=r[o-1];return Eve.indexOf(c)===-1?(n.push(n[o-1]),r.push(c)):(n.push(o),r.push(dc))}if(n.push(o),l===_ve)return r.push(e==="strict"?bS:Cm);if(l===d7||l===jve)return r.push(dc);if(l===Cve)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(Cm):r.push(dc);r.push(l)}),[n,r,a]},s1=function(t,e,r,n){var a=n[r];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var s=r;s<=n.length;){s++;var o=n[s];if(o===e)return!0;if(o!==zo)break}if(a===zo)for(var s=r;s>0;){s--;var l=n[s];if(Array.isArray(t)?t.indexOf(l)!==-1:t===l)for(var c=r;c<=n.length;){c++;var o=n[c];if(o===e)return!0;if(o!==zo)break}if(l!==zo)break}return!1},rR=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===zo)r--;else return n}return 0},Tve=function(t,e,r,n,a){if(r[n]===0)return Et;var s=n-1;if(Array.isArray(a)&&a[s]===!0)return Et;var o=s-1,l=s+1,c=e[s],u=o>=0?e[o]:0,A=e[l];if(c===c7&&A===u7)return Et;if(ES.indexOf(c)!==-1)return h7;if(ES.indexOf(A)!==-1||f7.indexOf(A)!==-1)return Et;if(rR(s,e)===A7)return Wg;if(BS.get(t[s])===vS||(c===Gg||c===zg)&&BS.get(t[l])===vS||c===XD||A===XD||c===JD||[zo,yS,ef].indexOf(c)===-1&&A===JD||[qg,Nh,wve,Pu,Ou].indexOf(A)!==-1||rR(s,e)===Th||s1(n1,Th,s,e)||s1([qg,Nh],bS,s,e)||s1(YD,YD,s,e))return Et;if(c===zo)return Wg;if(c===n1||A===n1)return Et;if(A===xS||c===xS)return Wg;if([yS,ef,bS].indexOf(A)!==-1||c===bve||u===_S&&Sve.indexOf(c)!==-1||c===Ou&&A===_S||A===ZD||ji.indexOf(A)!==-1&&c===va||ji.indexOf(c)!==-1&&A===va||c===rf&&[Cm,Gg,zg].indexOf(A)!==-1||[Cm,Gg,zg].indexOf(c)!==-1&&A===tf||ji.indexOf(c)!==-1&&eR.indexOf(A)!==-1||eR.indexOf(c)!==-1&&ji.indexOf(A)!==-1||[rf,tf].indexOf(c)!==-1&&(A===va||[Th,ef].indexOf(A)!==-1&&e[l+1]===va)||[Th,ef].indexOf(c)!==-1&&A===va||c===va&&[va,Ou,Pu].indexOf(A)!==-1)return Et;if([va,Ou,Pu,qg,Nh].indexOf(A)!==-1)for(var d=s;d>=0;){var h=e[d];if(h===va)return Et;if([Ou,Pu].indexOf(h)!==-1)d--;else break}if([rf,tf].indexOf(A)!==-1)for(var d=[qg,Nh].indexOf(c)!==-1?o:s;d>=0;){var h=e[d];if(h===va)return Et;if([Ou,Pu].indexOf(h)!==-1)d--;else break}if(CS===c&&[CS,qv,wS,jS].indexOf(A)!==-1||[qv,wS].indexOf(c)!==-1&&[qv,Gv].indexOf(A)!==-1||[Gv,jS].indexOf(c)!==-1&&A===Gv||tR.indexOf(c)!==-1&&[ZD,tf].indexOf(A)!==-1||tR.indexOf(A)!==-1&&c===rf||ji.indexOf(c)!==-1&&ji.indexOf(A)!==-1||c===Pu&&ji.indexOf(A)!==-1||ji.concat(va).indexOf(c)!==-1&&A===Th&&Bve.indexOf(t[l])===-1||ji.concat(va).indexOf(A)!==-1&&c===Nh)return Et;if(c===a1&&A===a1){for(var f=r[s],p=1;f>0&&(f--,e[f]===a1);)p++;if(p%2!==0)return Et}return c===Gg&&A===zg?Et:Wg},kve=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=Nve(t,e.lineBreak),n=r[0],a=r[1],s=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(a=a.map(function(l){return[va,dc,d7].indexOf(l)!==-1?Cm:l}));var o=e.wordBreak==="keep-all"?s.map(function(l,c){return l&&t[c]>=19968&&t[c]<=40959}):void 0;return[n,a,o]},Ive=function(){function t(e,r,n,a){this.codePoints=e,this.required=r===h7,this.start=n,this.end=a}return t.prototype.slice=function(){return Or.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),Pve=function(t,e){var r=ab(t),n=kve(r,e),a=n[0],s=n[1],o=n[2],l=r.length,c=0,u=0;return{next:function(){if(u>=l)return{done:!0,value:null};for(var A=Et;u<l&&(A=Tve(r,s,a,++u,o))===Et;);if(A!==Et||u===l){var d=new Ive(r,A,c,u);return c=u,{value:d,done:!1}}return{done:!0,value:null}}}},Ove=1,Fve=2,Mp=4,nR=8,$y=10,aR=47,Cf=92,Dve=9,Rve=32,Xg=34,kh=61,Uve=35,Mve=36,Qve=37,Jg=39,Yg=40,Ih=41,Lve=95,ua=45,Hve=33,$ve=60,Vve=62,Kve=64,qve=91,Gve=93,zve=61,Wve=123,Zg=63,Xve=125,sR=124,Jve=126,Yve=128,iR=65533,i1=42,pc=43,Zve=44,eye=58,tye=59,Bm=46,rye=0,nye=8,aye=11,sye=14,iye=31,oye=127,Rs=-1,m7=48,p7=97,g7=101,lye=102,cye=117,uye=122,v7=65,y7=69,x7=70,Aye=85,dye=90,Pn=function(t){return t>=m7&&t<=57},hye=function(t){return t>=55296&&t<=57343},Fu=function(t){return Pn(t)||t>=v7&&t<=x7||t>=p7&&t<=lye},fye=function(t){return t>=p7&&t<=uye},mye=function(t){return t>=v7&&t<=dye},pye=function(t){return fye(t)||mye(t)},gye=function(t){return t>=Yve},ev=function(t){return t===$y||t===Dve||t===Rve},Vy=function(t){return pye(t)||gye(t)||t===Lve},oR=function(t){return Vy(t)||Pn(t)||t===ua},vye=function(t){return t>=rye&&t<=nye||t===aye||t>=sye&&t<=iye||t===oye},To=function(t,e){return t!==Cf?!1:e!==$y},tv=function(t,e,r){return t===ua?Vy(e)||To(e,r):Vy(t)?!0:!!(t===Cf&&To(t,e))},o1=function(t,e,r){return t===pc||t===ua?Pn(e)?!0:e===Bm&&Pn(r):Pn(t===Bm?e:t)},yye=function(t){var e=0,r=1;(t[e]===pc||t[e]===ua)&&(t[e]===ua&&(r=-1),e++);for(var n=[];Pn(t[e]);)n.push(t[e++]);var a=n.length?parseInt(Or.apply(void 0,n),10):0;t[e]===Bm&&e++;for(var s=[];Pn(t[e]);)s.push(t[e++]);var o=s.length,l=o?parseInt(Or.apply(void 0,s),10):0;(t[e]===y7||t[e]===g7)&&e++;var c=1;(t[e]===pc||t[e]===ua)&&(t[e]===ua&&(c=-1),e++);for(var u=[];Pn(t[e]);)u.push(t[e++]);var A=u.length?parseInt(Or.apply(void 0,u),10):0;return r*(a+l*Math.pow(10,-o))*Math.pow(10,c*A)},xye={type:2},bye={type:3},wye={type:4},jye={type:13},_ye={type:8},Cye={type:21},Bye={type:9},Eye={type:10},Sye={type:11},Nye={type:12},Tye={type:14},rv={type:23},kye={type:1},Iye={type:25},Pye={type:24},Oye={type:26},Fye={type:27},Dye={type:28},Rye={type:29},Uye={type:31},SS={type:32},b7=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(ab(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==SS;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Xg:return this.consumeStringToken(Xg);case Uve:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(oR(r)||To(n,a)){var s=tv(r,n,a)?Fve:Ove,o=this.consumeName();return{type:5,value:o,flags:s}}break;case Mve:if(this.peekCodePoint(0)===kh)return this.consumeCodePoint(),jye;break;case Jg:return this.consumeStringToken(Jg);case Yg:return xye;case Ih:return bye;case i1:if(this.peekCodePoint(0)===kh)return this.consumeCodePoint(),Tye;break;case pc:if(o1(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Zve:return wye;case ua:var l=e,c=this.peekCodePoint(0),u=this.peekCodePoint(1);if(o1(l,c,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(tv(l,c,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(c===ua&&u===Vve)return this.consumeCodePoint(),this.consumeCodePoint(),Pye;break;case Bm:if(o1(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case aR:if(this.peekCodePoint(0)===i1)for(this.consumeCodePoint();;){var A=this.consumeCodePoint();if(A===i1&&(A=this.consumeCodePoint(),A===aR))return this.consumeToken();if(A===Rs)return this.consumeToken()}break;case eye:return Oye;case tye:return Fye;case $ve:if(this.peekCodePoint(0)===Hve&&this.peekCodePoint(1)===ua&&this.peekCodePoint(2)===ua)return this.consumeCodePoint(),this.consumeCodePoint(),Iye;break;case Kve:var d=this.peekCodePoint(0),h=this.peekCodePoint(1),f=this.peekCodePoint(2);if(tv(d,h,f)){var o=this.consumeName();return{type:7,value:o}}break;case qve:return Dye;case Cf:if(To(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case Gve:return Rye;case zve:if(this.peekCodePoint(0)===kh)return this.consumeCodePoint(),_ye;break;case Wve:return Sye;case Xve:return Nye;case cye:case Aye:var p=this.peekCodePoint(0),g=this.peekCodePoint(1);return p===pc&&(Fu(g)||g===Zg)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case sR:if(this.peekCodePoint(0)===kh)return this.consumeCodePoint(),Bye;if(this.peekCodePoint(0)===sR)return this.consumeCodePoint(),Cye;break;case Jve:if(this.peekCodePoint(0)===kh)return this.consumeCodePoint(),Eye;break;case Rs:return SS}return ev(e)?(this.consumeWhiteSpace(),Uye):Pn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Vy(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Or(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();Fu(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===Zg&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(Or.apply(void 0,e.map(function(c){return c===Zg?m7:c})),16),s=parseInt(Or.apply(void 0,e.map(function(c){return c===Zg?x7:c})),16);return{type:30,start:a,end:s}}var o=parseInt(Or.apply(void 0,e),16);if(this.peekCodePoint(0)===ua&&Fu(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];Fu(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var s=parseInt(Or.apply(void 0,l),16);return{type:30,start:o,end:s}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Yg?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Yg?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Rs)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Jg||r===Xg){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Rs||this.peekCodePoint(0)===Ih)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),rv)}for(;;){var a=this.consumeCodePoint();if(a===Rs||a===Ih)return{type:22,value:Or.apply(void 0,e)};if(ev(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Rs||this.peekCodePoint(0)===Ih?(this.consumeCodePoint(),{type:22,value:Or.apply(void 0,e)}):(this.consumeBadUrlRemnants(),rv);if(a===Xg||a===Jg||a===Yg||vye(a))return this.consumeBadUrlRemnants(),rv;if(a===Cf)if(To(a,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),rv;else e.push(a)}},t.prototype.consumeWhiteSpace=function(){for(;ev(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Ih||e===Rs)return;To(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var a=Math.min(r,e);n+=Or.apply(void 0,this._value.splice(0,a)),e-=a}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var a=this._value[n];if(a===Rs||a===void 0||a===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(a===$y)return this._value.splice(0,n),kye;if(a===Cf){var s=this._value[n+1];s!==Rs&&s!==void 0&&(s===$y?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):To(a,s)&&(r+=this.consumeStringSlice(n),r+=Or(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Mp,n=this.peekCodePoint(0);for((n===pc||n===ua)&&e.push(this.consumeCodePoint());Pn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===Bm&&Pn(a))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=nR;Pn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===y7||n===g7)&&((a===pc||a===ua)&&Pn(s)||Pn(a)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=nR;Pn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[yye(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],a=this.peekCodePoint(0),s=this.peekCodePoint(1),o=this.peekCodePoint(2);if(tv(a,s,o)){var l=this.consumeName();return{type:15,number:r,flags:n,unit:l}}return a===Qve?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Fu(e)){for(var r=Or(e);Fu(this.peekCodePoint(0))&&r.length<6;)r+=Or(this.consumeCodePoint());ev(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||hye(n)||n>1114111?iR:n}return e===Rs?iR:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(oR(r))e+=Or(r);else if(To(r,this.peekCodePoint(0)))e+=Or(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),w7=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new b7;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||Qye(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?SS:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Qp=function(t){return t.type===15},Vd=function(t){return t.type===17},sr=function(t){return t.type===20},Mye=function(t){return t.type===0},NS=function(t,e){return sr(t)&&t.value===e},j7=function(t){return t.type!==31},ed=function(t){return t.type!==31&&t.type!==4},hi=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},Qye=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},_l=function(t){return t.type===17||t.type===15},Lr=function(t){return t.type===16||_l(t)},_7=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},bn={type:17,number:0,flags:Mp},lI={type:16,number:50,flags:Mp},Wo={type:16,number:100,flags:Mp},nf=function(t,e,r){var n=t[0],a=t[1];return[gr(n,e),gr(typeof a<"u"?a:n,r)]},gr=function(t,e){if(t.type===16)return t.number/100*e;if(Qp(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},C7="deg",B7="grad",E7="rad",S7="turn",sb={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case C7:return Math.PI*e.number/180;case B7:return Math.PI/200*e.number;case E7:return e.number;case S7:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},N7=function(t){return t.type===15&&(t.unit===C7||t.unit===B7||t.unit===E7||t.unit===S7)},T7=function(t){var e=t.filter(sr).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[bn,bn];case"to top":case"bottom":return Va(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[bn,Wo];case"to right":case"left":return Va(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Wo,Wo];case"to bottom":case"top":return Va(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Wo,bn];case"to left":case"right":return Va(270)}return 0},Va=function(t){return Math.PI*t/180},il={name:"color",parse:function(t,e){if(e.type===18){var r=Lye[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),a=e.value.substring(1,2),s=e.value.substring(2,3);return Xo(parseInt(n+n,16),parseInt(a+a,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),a=e.value.substring(1,2),s=e.value.substring(2,3),o=e.value.substring(3,4);return Xo(parseInt(n+n,16),parseInt(a+a,16),parseInt(s+s,16),parseInt(o+o,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),a=e.value.substring(2,4),s=e.value.substring(4,6);return Xo(parseInt(n,16),parseInt(a,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),a=e.value.substring(2,4),s=e.value.substring(4,6),o=e.value.substring(6,8);return Xo(parseInt(n,16),parseInt(a,16),parseInt(s,16),parseInt(o,16)/255)}}if(e.type===20){var l=Mi[e.value.toUpperCase()];if(typeof l<"u")return l}return Mi.TRANSPARENT}},ol=function(t){return(255&t)===0},Zr=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,a=255&t>>24;return e<255?"rgba("+a+","+n+","+r+","+e/255+")":"rgb("+a+","+n+","+r+")"},Xo=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},lR=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},cR=function(t,e){var r=e.filter(ed);if(r.length===3){var n=r.map(lR),a=n[0],s=n[1],o=n[2];return Xo(a,s,o,1)}if(r.length===4){var l=r.map(lR),a=l[0],s=l[1],o=l[2],c=l[3];return Xo(a,s,o,c)}return 0};function l1(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var uR=function(t,e){var r=e.filter(ed),n=r[0],a=r[1],s=r[2],o=r[3],l=(n.type===17?Va(n.number):sb.parse(t,n))/(Math.PI*2),c=Lr(a)?a.number/100:0,u=Lr(s)?s.number/100:0,A=typeof o<"u"&&Lr(o)?gr(o,1):1;if(c===0)return Xo(u*255,u*255,u*255,1);var d=u<=.5?u*(c+1):u+c-u*c,h=u*2-d,f=l1(h,d,l+1/3),p=l1(h,d,l),g=l1(h,d,l-1/3);return Xo(f*255,p*255,g*255,A)},Lye={hsl:uR,hsla:uR,rgb:cR,rgba:cR},Bf=function(t,e){return il.parse(t,w7.create(e).parseComponentValue())},Mi={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Hye={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(sr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},$ye={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ib=function(t,e){var r=il.parse(t,e[0]),n=e[1];return n&&Lr(n)?{color:r,stop:n}:{color:r,stop:null}},AR=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=bn),n.stop===null&&(n.stop=Wo);for(var a=[],s=0,o=0;o<t.length;o++){var l=t[o].stop;if(l!==null){var c=gr(l,e);c>s?a.push(c):a.push(s),s=c}else a.push(null)}for(var u=null,o=0;o<a.length;o++){var A=a[o];if(A===null)u===null&&(u=o);else if(u!==null){for(var d=o-u,h=a[u-1],f=(A-h)/(d+1),p=1;p<=d;p++)a[u+p-1]=f*p;u=null}}return t.map(function(g,m){var x=g.color;return{color:x,stop:Math.max(Math.min(1,a[m]/e),0)}})},Vye=function(t,e,r){var n=e/2,a=r/2,s=gr(t[0],e)-n,o=a-gr(t[1],r);return(Math.atan2(o,s)+Math.PI*2)%(Math.PI*2)},Kye=function(t,e,r){var n=typeof t=="number"?t:Vye(t,e,r),a=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),s=e/2,o=r/2,l=a/2,c=Math.sin(n-Math.PI/2)*l,u=Math.cos(n-Math.PI/2)*l;return[a,s-u,s+u,o-c,o+c]},ss=function(t,e){return Math.sqrt(t*t+e*e)},dR=function(t,e,r,n,a){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(o,l){var c=l[0],u=l[1],A=ss(r-c,n-u);return(a?A<o.optimumDistance:A>o.optimumDistance)?{optimumCorner:l,optimumDistance:A}:o},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},qye=function(t,e,r,n,a){var s=0,o=0;switch(t.size){case 0:t.shape===0?s=o=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-a)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),o=Math.min(Math.abs(r),Math.abs(r-a)));break;case 2:if(t.shape===0)s=o=Math.min(ss(e,r),ss(e,r-a),ss(e-n,r),ss(e-n,r-a));else if(t.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-a))/Math.min(Math.abs(e),Math.abs(e-n)),c=dR(n,a,e,r,!0),u=c[0],A=c[1];s=ss(u-e,(A-r)/l),o=l*s}break;case 1:t.shape===0?s=o=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-a)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),o=Math.max(Math.abs(r),Math.abs(r-a)));break;case 3:if(t.shape===0)s=o=Math.max(ss(e,r),ss(e,r-a),ss(e-n,r),ss(e-n,r-a));else if(t.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-a))/Math.max(Math.abs(e),Math.abs(e-n)),d=dR(n,a,e,r,!1),u=d[0],A=d[1];s=ss(u-e,(A-r)/l),o=l*s}break}return Array.isArray(t.size)&&(s=gr(t.size[0],n),o=t.size.length===2?gr(t.size[1],a):s),[s,o]},Gye=function(t,e){var r=Va(180),n=[];return hi(e).forEach(function(a,s){if(s===0){var o=a[0];if(o.type===20&&o.value==="to"){r=T7(a);return}else if(N7(o)){r=sb.parse(t,o);return}}var l=ib(t,a);n.push(l)}),{angle:r,stops:n,type:1}},nv=function(t,e){var r=Va(180),n=[];return hi(e).forEach(function(a,s){if(s===0){var o=a[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=T7(a);return}else if(N7(o)){r=(sb.parse(t,o)+Va(270))%Va(360);return}}var l=ib(t,a);n.push(l)}),{angle:r,stops:n,type:1}},zye=function(t,e){var r=Va(180),n=[],a=1,s=0,o=3,l=[];return hi(e).forEach(function(c,u){var A=c[0];if(u===0){if(sr(A)&&A.value==="linear"){a=1;return}else if(sr(A)&&A.value==="radial"){a=2;return}}if(A.type===18){if(A.name==="from"){var d=il.parse(t,A.values[0]);n.push({stop:bn,color:d})}else if(A.name==="to"){var d=il.parse(t,A.values[0]);n.push({stop:Wo,color:d})}else if(A.name==="color-stop"){var h=A.values.filter(ed);if(h.length===2){var d=il.parse(t,h[1]),f=h[0];Vd(f)&&n.push({stop:{type:16,number:f.number*100,flags:f.flags},color:d})}}}}),a===1?{angle:(r+Va(180))%Va(360),stops:n,type:a}:{size:o,shape:s,stops:n,position:l,type:a}},k7="closest-side",I7="farthest-side",P7="closest-corner",O7="farthest-corner",F7="circle",D7="ellipse",R7="cover",U7="contain",Wye=function(t,e){var r=0,n=3,a=[],s=[];return hi(e).forEach(function(o,l){var c=!0;if(l===0){var u=!1;c=o.reduce(function(d,h){if(u)if(sr(h))switch(h.value){case"center":return s.push(lI),d;case"top":case"left":return s.push(bn),d;case"right":case"bottom":return s.push(Wo),d}else(Lr(h)||_l(h))&&s.push(h);else if(sr(h))switch(h.value){case F7:return r=0,!1;case D7:return r=1,!1;case"at":return u=!0,!1;case k7:return n=0,!1;case R7:case I7:return n=1,!1;case U7:case P7:return n=2,!1;case O7:return n=3,!1}else if(_l(h)||Lr(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return d},c)}if(c){var A=ib(t,o);a.push(A)}}),{size:n,shape:r,stops:a,position:s,type:2}},av=function(t,e){var r=0,n=3,a=[],s=[];return hi(e).forEach(function(o,l){var c=!0;if(l===0?c=o.reduce(function(A,d){if(sr(d))switch(d.value){case"center":return s.push(lI),!1;case"top":case"left":return s.push(bn),!1;case"right":case"bottom":return s.push(Wo),!1}else if(Lr(d)||_l(d))return s.push(d),!1;return A},c):l===1&&(c=o.reduce(function(A,d){if(sr(d))switch(d.value){case F7:return r=0,!1;case D7:return r=1,!1;case U7:case k7:return n=0,!1;case I7:return n=1,!1;case P7:return n=2,!1;case R7:case O7:return n=3,!1}else if(_l(d)||Lr(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return A},c)),c){var u=ib(t,o);a.push(u)}}),{size:n,shape:r,stops:a,position:s,type:2}},Xye=function(t){return t.type===1},Jye=function(t){return t.type===2},cI={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=M7[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function Yye(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!M7[t.name])}var M7={"linear-gradient":Gye,"-moz-linear-gradient":nv,"-ms-linear-gradient":nv,"-o-linear-gradient":nv,"-webkit-linear-gradient":nv,"radial-gradient":Wye,"-moz-radial-gradient":av,"-ms-radial-gradient":av,"-o-radial-gradient":av,"-webkit-radial-gradient":av,"-webkit-gradient":zye},Zye={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return ed(n)&&Yye(n)}).map(function(n){return cI.parse(t,n)})}},exe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(sr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},txe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return hi(e).map(function(r){return r.filter(Lr)}).map(_7)}},rxe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return hi(e).map(function(r){return r.filter(sr).map(function(n){return n.value}).join(" ")}).map(nxe)}},nxe=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},dA;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(dA||(dA={}));var axe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return hi(e).map(function(r){return r.filter(sxe)})}},sxe=function(t){return sr(t)||Lr(t)},ob=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},ixe=ob("top"),oxe=ob("right"),lxe=ob("bottom"),cxe=ob("left"),lb=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return _7(r.filter(Lr))}}},uxe=lb("top-left"),Axe=lb("top-right"),dxe=lb("bottom-right"),hxe=lb("bottom-left"),cb=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},fxe=cb("top"),mxe=cb("right"),pxe=cb("bottom"),gxe=cb("left"),ub=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return Qp(r)?r.number:0}}},vxe=ub("top"),yxe=ub("right"),xxe=ub("bottom"),bxe=ub("left"),wxe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},jxe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},_xe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(sr).reduce(function(r,n){return r|Cxe(n.value)},0)}},Cxe=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Bxe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Exe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Ky;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Ky||(Ky={}));var Sxe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Ky.STRICT;case"normal":default:return Ky.NORMAL}}},Nxe={name:"line-height",initialValue:"normal",prefix:!1,type:4},hR=function(t,e){return sr(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Lr(t)?gr(t,e):e},Txe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:cI.parse(t,e)}},kxe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},TS={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Ab=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},Ixe=Ab("top"),Pxe=Ab("right"),Oxe=Ab("bottom"),Fxe=Ab("left"),Dxe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(sr).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Rxe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},db=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Uxe=db("top"),Mxe=db("right"),Qxe=db("bottom"),Lxe=db("left"),Hxe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},$xe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Vxe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&NS(e[0],"none")?[]:hi(e).map(function(r){for(var n={color:Mi.TRANSPARENT,offsetX:bn,offsetY:bn,blur:bn},a=0,s=0;s<r.length;s++){var o=r[s];_l(o)?(a===0?n.offsetX=o:a===1?n.offsetY=o:n.blur=o,a++):n.color=il.parse(t,o)}return n})}},Kxe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},qxe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=Wxe[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},Gxe=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},zxe=function(t){var e=t.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=e[0],n=e[1];e[2],e[3];var a=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],l=e[13];return e[14],e[15],e.length===16?[r,n,a,s,o,l]:null},Wxe={matrix:Gxe,matrix3d:zxe},fR={type:16,number:50,flags:Mp},Xxe=[fR,fR],Jxe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(Lr);return r.length!==2?Xxe:[r[0],r[1]]}},Yxe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Ef;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Ef||(Ef={}));var Zxe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Ef.BREAK_ALL;case"keep-all":return Ef.KEEP_ALL;case"normal":default:return Ef.NORMAL}}},e0e={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Vd(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Q7={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},t0e={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Vd(e)?e.number:1}},r0e={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},n0e={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(sr).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},a0e={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(a){switch(a.type){case 20:case 0:r.push(a.value);break;case 17:r.push(a.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},s0e={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},i0e={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Vd(e))return e.number;if(sr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},o0e={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(sr).map(function(r){return r.value})}},l0e={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Gr=function(t,e){return(t&e)!==0},c0e={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},u0e={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],a=e.filter(j7),s=0;s<a.length;s++){var o=a[s],l=a[s+1];if(o.type===20){var c=l&&Vd(l)?l.number:1;n.push({counter:o.value,increment:c})}}return n}},A0e={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(j7),a=0;a<n.length;a++){var s=n[a],o=n[a+1];if(sr(s)&&s.value!=="none"){var l=o&&Vd(o)?o.number:0;r.push({counter:s.value,reset:l})}}return r}},d0e={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Qp).map(function(r){return Q7.parse(t,r)})}},h0e={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],a=e.filter(Mye);if(a.length%2!==0)return null;for(var s=0;s<a.length;s+=2){var o=a[s].value,l=a[s+1].value;n.push({open:o,close:l})}return n}},mR=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},f0e={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&NS(e[0],"none")?[]:hi(e).map(function(r){for(var n={color:255,offsetX:bn,offsetY:bn,blur:bn,spread:bn,inset:!1},a=0,s=0;s<r.length;s++){var o=r[s];NS(o,"inset")?n.inset=!0:_l(o)?(a===0?n.offsetX=o:a===1?n.offsetY=o:a===2?n.blur=o:n.spread=o,a++):n.color=il.parse(t,o)}return n})}},m0e={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(sr).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},p0e={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},g0e={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Qp(e)?e.number:0}},v0e=function(){function t(e,r){var n,a;this.animationDuration=Le(e,d0e,r.animationDuration),this.backgroundClip=Le(e,Hye,r.backgroundClip),this.backgroundColor=Le(e,$ye,r.backgroundColor),this.backgroundImage=Le(e,Zye,r.backgroundImage),this.backgroundOrigin=Le(e,exe,r.backgroundOrigin),this.backgroundPosition=Le(e,txe,r.backgroundPosition),this.backgroundRepeat=Le(e,rxe,r.backgroundRepeat),this.backgroundSize=Le(e,axe,r.backgroundSize),this.borderTopColor=Le(e,ixe,r.borderTopColor),this.borderRightColor=Le(e,oxe,r.borderRightColor),this.borderBottomColor=Le(e,lxe,r.borderBottomColor),this.borderLeftColor=Le(e,cxe,r.borderLeftColor),this.borderTopLeftRadius=Le(e,uxe,r.borderTopLeftRadius),this.borderTopRightRadius=Le(e,Axe,r.borderTopRightRadius),this.borderBottomRightRadius=Le(e,dxe,r.borderBottomRightRadius),this.borderBottomLeftRadius=Le(e,hxe,r.borderBottomLeftRadius),this.borderTopStyle=Le(e,fxe,r.borderTopStyle),this.borderRightStyle=Le(e,mxe,r.borderRightStyle),this.borderBottomStyle=Le(e,pxe,r.borderBottomStyle),this.borderLeftStyle=Le(e,gxe,r.borderLeftStyle),this.borderTopWidth=Le(e,vxe,r.borderTopWidth),this.borderRightWidth=Le(e,yxe,r.borderRightWidth),this.borderBottomWidth=Le(e,xxe,r.borderBottomWidth),this.borderLeftWidth=Le(e,bxe,r.borderLeftWidth),this.boxShadow=Le(e,f0e,r.boxShadow),this.color=Le(e,wxe,r.color),this.direction=Le(e,jxe,r.direction),this.display=Le(e,_xe,r.display),this.float=Le(e,Bxe,r.cssFloat),this.fontFamily=Le(e,a0e,r.fontFamily),this.fontSize=Le(e,s0e,r.fontSize),this.fontStyle=Le(e,l0e,r.fontStyle),this.fontVariant=Le(e,o0e,r.fontVariant),this.fontWeight=Le(e,i0e,r.fontWeight),this.letterSpacing=Le(e,Exe,r.letterSpacing),this.lineBreak=Le(e,Sxe,r.lineBreak),this.lineHeight=Le(e,Nxe,r.lineHeight),this.listStyleImage=Le(e,Txe,r.listStyleImage),this.listStylePosition=Le(e,kxe,r.listStylePosition),this.listStyleType=Le(e,TS,r.listStyleType),this.marginTop=Le(e,Ixe,r.marginTop),this.marginRight=Le(e,Pxe,r.marginRight),this.marginBottom=Le(e,Oxe,r.marginBottom),this.marginLeft=Le(e,Fxe,r.marginLeft),this.opacity=Le(e,t0e,r.opacity);var s=Le(e,Dxe,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Le(e,Rxe,r.overflowWrap),this.paddingTop=Le(e,Uxe,r.paddingTop),this.paddingRight=Le(e,Mxe,r.paddingRight),this.paddingBottom=Le(e,Qxe,r.paddingBottom),this.paddingLeft=Le(e,Lxe,r.paddingLeft),this.paintOrder=Le(e,m0e,r.paintOrder),this.position=Le(e,$xe,r.position),this.textAlign=Le(e,Hxe,r.textAlign),this.textDecorationColor=Le(e,r0e,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=Le(e,n0e,(a=r.textDecorationLine)!==null&&a!==void 0?a:r.textDecoration),this.textShadow=Le(e,Vxe,r.textShadow),this.textTransform=Le(e,Kxe,r.textTransform),this.transform=Le(e,qxe,r.transform),this.transformOrigin=Le(e,Jxe,r.transformOrigin),this.visibility=Le(e,Yxe,r.visibility),this.webkitTextStrokeColor=Le(e,p0e,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Le(e,g0e,r.webkitTextStrokeWidth),this.wordBreak=Le(e,Zxe,r.wordBreak),this.zIndex=Le(e,e0e,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return ol(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Gr(this.display,4)||Gr(this.display,33554432)||Gr(this.display,268435456)||Gr(this.display,536870912)||Gr(this.display,67108864)||Gr(this.display,134217728)},t}(),y0e=function(){function t(e,r){this.content=Le(e,c0e,r.content),this.quotes=Le(e,h0e,r.quotes)}return t}(),pR=function(){function t(e,r){this.counterIncrement=Le(e,u0e,r.counterIncrement),this.counterReset=Le(e,A0e,r.counterReset)}return t}(),Le=function(t,e,r){var n=new b7,a=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(a);var s=new w7(n.read());switch(e.type){case 2:var o=s.parseComponentValue();return e.parse(t,sr(o)?o.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return sb.parse(t,s.parseComponentValue());case"color":return il.parse(t,s.parseComponentValue());case"image":return cI.parse(t,s.parseComponentValue());case"length":var l=s.parseComponentValue();return _l(l)?l:bn;case"length-percentage":var c=s.parseComponentValue();return Lr(c)?c:bn;case"time":return Q7.parse(t,s.parseComponentValue())}break}},x0e="data-html2canvas-debug",b0e=function(t){var e=t.getAttribute(x0e);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},kS=function(t,e){var r=b0e(t);return r===1||e===r},fi=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,kS(r,3))debugger;this.styles=new v0e(e,window.getComputedStyle(r,null)),OS(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=nb(this.context,r),kS(r,4)&&(this.flags|=16)}return t}(),w0e="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",gR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",af=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var sv=0;sv<gR.length;sv++)af[gR.charCodeAt(sv)]=sv;var j0e=function(t){var e=t.length*.75,r=t.length,n,a=0,s,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)s=af[t.charCodeAt(n)],o=af[t.charCodeAt(n+1)],l=af[t.charCodeAt(n+2)],c=af[t.charCodeAt(n+3)],A[a++]=s<<2|o>>4,A[a++]=(o&15)<<4|l>>2,A[a++]=(l&3)<<6|c&63;return u},_0e=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},C0e=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Ic=5,uI=11,c1=2,B0e=uI-Ic,L7=65536>>Ic,E0e=1<<Ic,u1=E0e-1,S0e=1024>>Ic,N0e=L7+S0e,T0e=N0e,k0e=32,I0e=T0e+k0e,P0e=65536>>uI,O0e=1<<B0e,F0e=O0e-1,vR=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},D0e=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},R0e=function(t,e){var r=j0e(t),n=Array.isArray(r)?C0e(r):new Uint32Array(r),a=Array.isArray(r)?_0e(r):new Uint16Array(r),s=24,o=vR(a,s/2,n[4]/2),l=n[5]===2?vR(a,(s+n[4])/2):D0e(n,Math.ceil((s+n[4])/4));return new U0e(n[0],n[1],n[2],n[3],o,l)},U0e=function(){function t(e,r,n,a,s,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=s,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Ic],r=(r<<c1)+(e&u1),this.data[r];if(e<=65535)return r=this.index[L7+(e-55296>>Ic)],r=(r<<c1)+(e&u1),this.data[r];if(e<this.highStart)return r=I0e-P0e+(e>>uI),r=this.index[r],r+=e>>Ic&F0e,r=this.index[r],r=(r<<c1)+(e&u1),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),yR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",M0e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var iv=0;iv<yR.length;iv++)M0e[yR.charCodeAt(iv)]=iv;var Q0e=1,A1=2,d1=3,xR=4,bR=5,L0e=7,wR=8,h1=9,f1=10,jR=11,_R=12,CR=13,BR=14,m1=15,H0e=function(t){for(var e=[],r=0,n=t.length;r<n;){var a=t.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((a&1023)<<10)+(s&1023)+65536):(e.push(a),r--)}else e.push(a)}return e},$0e=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],a=-1,s="";++a<r;){var o=t[a];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(a+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},V0e=R0e(w0e),Ua="×",p1="÷",K0e=function(t){return V0e.get(t)},q0e=function(t,e,r){var n=r-2,a=e[n],s=e[r-1],o=e[r];if(s===A1&&o===d1)return Ua;if(s===A1||s===d1||s===xR||o===A1||o===d1||o===xR)return p1;if(s===wR&&[wR,h1,jR,_R].indexOf(o)!==-1||(s===jR||s===h1)&&(o===h1||o===f1)||(s===_R||s===f1)&&o===f1||o===CR||o===bR||o===L0e||s===Q0e)return Ua;if(s===CR&&o===BR){for(;a===bR;)a=e[--n];if(a===BR)return Ua}if(s===m1&&o===m1){for(var l=0;a===m1;)l++,a=e[--n];if(l%2===0)return Ua}return p1},G0e=function(t){var e=H0e(t),r=e.length,n=0,a=0,s=e.map(K0e);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=Ua;n<r&&(o=q0e(e,s,++n))===Ua;);if(o!==Ua||n===r){var l=$0e.apply(null,e.slice(a,n));return a=n,{value:l,done:!1}}return{done:!0,value:null}}}},z0e=function(t){for(var e=G0e(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},W0e=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var a=r.getBoundingClientRect(),s=Math.round(a.height);if(t.body.removeChild(n),s===e)return!0}}return!1},X0e=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,a=ab(n.data).map(function(c){return Or(c)}),s=0,o={},l=a.every(function(c,u){r.setStart(n,s),r.setEnd(n,s+c.length);var A=r.getBoundingClientRect();s+=c.length;var d=A.x>o.x||A.y>o.y;return o=A,u===0?!0:d});return t.body.removeChild(e),l},J0e=function(){return typeof new Image().crossOrigin<"u"},Y0e=function(){return typeof new XMLHttpRequest().responseType=="string"},Z0e=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},ER=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},ebe=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var a=new Image,s=e.toDataURL();a.src=s;var o=IS(r,r,0,0,a);return n.fillStyle="red",n.fillRect(0,0,r,r),SR(o).then(function(l){n.drawImage(l,0,0);var c=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var u=t.createElement("div");return u.style.backgroundImage="url("+s+")",u.style.height=r+"px",ER(c)?SR(IS(r,r,0,0,u)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),ER(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},IS=function(t,e,r,n,a){var s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg"),l=document.createElementNS(s,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(a),o},SR=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},An={get SUPPORT_RANGE_BOUNDS(){var t=W0e(document);return Object.defineProperty(An,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=An.SUPPORT_RANGE_BOUNDS&&X0e(document);return Object.defineProperty(An,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=Z0e(document);return Object.defineProperty(An,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?ebe(document):Promise.resolve(!1);return Object.defineProperty(An,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=J0e();return Object.defineProperty(An,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=Y0e();return Object.defineProperty(An,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(An,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(An,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Sf=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),tbe=function(t,e,r,n){var a=abe(e,r),s=[],o=0;return a.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(An.SUPPORT_RANGE_BOUNDS){var c=NR(n,o,l.length).getClientRects();if(c.length>1){var u=AI(l),A=0;u.forEach(function(h){s.push(new Sf(h,Ji.fromDOMRectList(t,NR(n,A+o,h.length).getClientRects()))),A+=h.length})}else s.push(new Sf(l,Ji.fromDOMRectList(t,c)))}else{var d=n.splitText(l.length);s.push(new Sf(l,rbe(t,n))),n=d}else An.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));o+=l.length}),s},rbe=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var a=e.parentNode;if(a){a.replaceChild(n,e);var s=nb(t,n);return n.firstChild&&a.replaceChild(n.firstChild,n),s}}return Ji.EMPTY},NR=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(t,e),a.setEnd(t,e+r),a},AI=function(t){if(An.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return z0e(t)},nbe=function(t,e){if(An.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return ibe(t,e)},abe=function(t,e){return e.letterSpacing!==0?AI(t):nbe(t,e)},sbe=[32,160,4961,65792,65793,4153,4241],ibe=function(t,e){for(var r=Pve(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],a,s=function(){if(a.value){var o=a.value.slice(),l=ab(o),c="";l.forEach(function(u){sbe.indexOf(u)===-1?c+=Or(u):(c.length&&n.push(c),n.push(Or(u)),c="")}),c.length&&n.push(c)}};!(a=r.next()).done;)s();return n},obe=function(){function t(e,r,n){this.text=lbe(r.data,n.textTransform),this.textBounds=tbe(e,this.text,n,r)}return t}(),lbe=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(cbe,ube);case 2:return t.toUpperCase();default:return t}},cbe=/(^|\s|:|-|\(|\))([a-z])/g,ube=function(t,e,r){return t.length>0?e+r.toUpperCase():t},H7=function(t){Is(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return e}(fi),$7=function(t){Is(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return e}(fi),V7=function(t){Is(e,t);function e(r,n){var a=t.call(this,r,n)||this,s=new XMLSerializer,o=nb(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return e}(fi),K7=function(t){Is(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.value=n.value,a}return e}(fi),PS=function(t){Is(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return e}(fi),Abe=[{type:15,flags:0,unit:"px",number:3}],dbe=[{type:16,flags:0,number:50}],hbe=function(t){return t.width>t.height?new Ji(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Ji(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},fbe=function(t){var e=t.type===mbe?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},qy="checkbox",Gy="radio",mbe="password",TR=707406591,dI=function(t){Is(e,t);function e(r,n){var a=t.call(this,r,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=fbe(n),(a.type===qy||a.type===Gy)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=hbe(a.bounds)),a.type){case qy:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=Abe;break;case Gy:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=dbe;break}return a}return e}(fi),q7=function(t){Is(e,t);function e(r,n){var a=t.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return a.value=s&&s.text||"",a}return e}(fi),G7=function(t){Is(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.value=n.value,a}return e}(fi),z7=function(t){Is(e,t);function e(r,n){var a=t.call(this,r,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=X7(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?Bf(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Mi.TRANSPARENT,o=n.contentWindow.document.body?Bf(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):Mi.TRANSPARENT;a.backgroundColor=ol(s)?ol(o)?a.styles.backgroundColor:o:s}}catch{}return a}return e}(fi),pbe=["OL","UL","MENU"],zv=function(t,e,r,n){for(var a=e.firstChild,s=void 0;a;a=s)if(s=a.nextSibling,J7(a)&&a.data.trim().length>0)r.textNodes.push(new obe(t,a,r.styles));else if(nA(a))if(tG(a)&&a.assignedNodes)a.assignedNodes().forEach(function(l){return zv(t,l,r,n)});else{var o=W7(t,a);o.styles.isVisible()&&(gbe(a,o,n)?o.flags|=4:vbe(o.styles)&&(o.flags|=2),pbe.indexOf(a.tagName)!==-1&&(o.flags|=8),r.elements.push(o),a.slot,a.shadowRoot?zv(t,a.shadowRoot,o,n):!zy(a)&&!Y7(a)&&!Wy(a)&&zv(t,a,o,n))}},W7=function(t,e){return FS(e)?new H7(t,e):Z7(e)?new $7(t,e):Y7(e)?new V7(t,e):ybe(e)?new K7(t,e):xbe(e)?new PS(t,e):bbe(e)?new dI(t,e):Wy(e)?new q7(t,e):zy(e)?new G7(t,e):eG(e)?new z7(t,e):new fi(t,e)},X7=function(t,e){var r=W7(t,e);return r.flags|=4,zv(t,e,r,r),r},gbe=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||hI(t)&&r.styles.isTransparent()},vbe=function(t){return t.isPositioned()||t.isFloating()},J7=function(t){return t.nodeType===Node.TEXT_NODE},nA=function(t){return t.nodeType===Node.ELEMENT_NODE},OS=function(t){return nA(t)&&typeof t.style<"u"&&!Wv(t)},Wv=function(t){return typeof t.className=="object"},ybe=function(t){return t.tagName==="LI"},xbe=function(t){return t.tagName==="OL"},bbe=function(t){return t.tagName==="INPUT"},wbe=function(t){return t.tagName==="HTML"},Y7=function(t){return t.tagName==="svg"},hI=function(t){return t.tagName==="BODY"},Z7=function(t){return t.tagName==="CANVAS"},kR=function(t){return t.tagName==="VIDEO"},FS=function(t){return t.tagName==="IMG"},eG=function(t){return t.tagName==="IFRAME"},IR=function(t){return t.tagName==="STYLE"},jbe=function(t){return t.tagName==="SCRIPT"},zy=function(t){return t.tagName==="TEXTAREA"},Wy=function(t){return t.tagName==="SELECT"},tG=function(t){return t.tagName==="SLOT"},PR=function(t){return t.tagName.indexOf("-")>0},_be=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,a=e.counterReset,s=!0;n!==null&&n.forEach(function(l){var c=r.counters[l.counter];c&&l.increment!==0&&(s=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var o=[];return s&&a.forEach(function(l){var c=r.counters[l.counter];o.push(l.counter),c||(c=r.counters[l.counter]=[]),c.push(l.reset)}),o},t}(),OR={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},FR={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Cbe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},Bbe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Du=function(t,e,r,n,a,s){return t<e||t>r?Em(t,a,s.length>0):n.integers.reduce(function(o,l,c){for(;t>=l;)t-=l,o+=n.values[c];return o},"")+s},rG=function(t,e,r,n){var a="";do r||t--,a=n(t)+a,t/=e;while(t*e>=e);return a},Pr=function(t,e,r,n,a){var s=r-e+1;return(t<0?"-":"")+(rG(Math.abs(t),s,n,function(o){return Or(Math.floor(o%s)+e)})+a)},Gl=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return rG(Math.abs(t),n,!1,function(a){return e[Math.floor(a%n)]})+r},Zu=1,Bo=2,Eo=4,sf=8,_i=function(t,e,r,n,a,s){if(t<-9999||t>9999)return Em(t,4,a.length>0);var o=Math.abs(t),l=a;if(o===0)return e[0]+l;for(var c=0;o>0&&c<=4;c++){var u=o%10;u===0&&Gr(s,Zu)&&l!==""?l=e[u]+l:u>1||u===1&&c===0||u===1&&c===1&&Gr(s,Bo)||u===1&&c===1&&Gr(s,Eo)&&t>100||u===1&&c>1&&Gr(s,sf)?l=e[u]+(c>0?r[c-1]:"")+l:u===1&&c>0&&(l=r[c-1]+l),o=Math.floor(o/10)}return(t<0?n:"")+l},DR="十百千萬",RR="拾佰仟萬",UR="マイナス",g1="마이너스",Em=function(t,e,r){var n=r?". ":"",a=r?"、":"",s=r?", ":"",o=r?" ":"";switch(e){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var l=Pr(t,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return Gl(t,"〇一二三四五六七八九",a);case 6:return Du(t,1,3999,OR,3,n).toLowerCase();case 7:return Du(t,1,3999,OR,3,n);case 8:return Pr(t,945,969,!1,n);case 9:return Pr(t,97,122,!1,n);case 10:return Pr(t,65,90,!1,n);case 11:return Pr(t,1632,1641,!0,n);case 12:case 49:return Du(t,1,9999,FR,3,n);case 35:return Du(t,1,9999,FR,3,n).toLowerCase();case 13:return Pr(t,2534,2543,!0,n);case 14:case 30:return Pr(t,6112,6121,!0,n);case 15:return Gl(t,"子丑寅卯辰巳午未申酉戌亥",a);case 16:return Gl(t,"甲乙丙丁戊己庚辛壬癸",a);case 17:case 48:return _i(t,"零一二三四五六七八九",DR,"負",a,Bo|Eo|sf);case 47:return _i(t,"零壹貳參肆伍陸柒捌玖",RR,"負",a,Zu|Bo|Eo|sf);case 42:return _i(t,"零一二三四五六七八九",DR,"负",a,Bo|Eo|sf);case 41:return _i(t,"零壹贰叁肆伍陆柒捌玖",RR,"负",a,Zu|Bo|Eo|sf);case 26:return _i(t,"〇一二三四五六七八九","十百千万",UR,a,0);case 25:return _i(t,"零壱弐参四伍六七八九","拾百千万",UR,a,Zu|Bo|Eo);case 31:return _i(t,"영일이삼사오육칠팔구","십백천만",g1,s,Zu|Bo|Eo);case 33:return _i(t,"零一二三四五六七八九","十百千萬",g1,s,0);case 32:return _i(t,"零壹貳參四五六七八九","拾百千",g1,s,Zu|Bo|Eo);case 18:return Pr(t,2406,2415,!0,n);case 20:return Du(t,1,19999,Bbe,3,n);case 21:return Pr(t,2790,2799,!0,n);case 22:return Pr(t,2662,2671,!0,n);case 22:return Du(t,1,10999,Cbe,3,n);case 23:return Gl(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return Gl(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Pr(t,3302,3311,!0,n);case 28:return Gl(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",a);case 29:return Gl(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",a);case 34:return Pr(t,3792,3801,!0,n);case 37:return Pr(t,6160,6169,!0,n);case 38:return Pr(t,4160,4169,!0,n);case 39:return Pr(t,2918,2927,!0,n);case 40:return Pr(t,1776,1785,!0,n);case 43:return Pr(t,3046,3055,!0,n);case 44:return Pr(t,3174,3183,!0,n);case 45:return Pr(t,3664,3673,!0,n);case 46:return Pr(t,3872,3881,!0,n);case 3:default:return Pr(t,48,57,!0,n)}},nG="data-html2canvas-ignore",MR=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new _be,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,a=Ebe(e,r);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,l=a.contentWindow,c=l.document,u=Tbe(a).then(function(){return zn(n,void 0,void 0,function(){var A,d;return Tn(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(Obe),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),A=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Nbe(c)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof A=="function"?[2,Promise.resolve().then(function(){return A(c,d)}).then(function(){return a})]:[2,a]}})})});return c.open(),c.write(Ibe(document.doctype)+"<html></html>"),Pbe(this.referenceElement.ownerDocument,s,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),u},t.prototype.createElementClone=function(e){if(kS(e,2))debugger;if(Z7(e))return this.createCanvasClone(e);if(kR(e))return this.createVideoClone(e);if(IR(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return FS(r)&&(FS(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),PR(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return v1(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,o){return o&&typeof o.cssText=="string"?s+o.cssText:s},""),a=e.cloneNode(!1);return a.textContent=n,a}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var a=e.cloneNode(!1);try{a.width=e.width,a.height=e.height;var s=e.getContext("2d"),o=a.getContext("2d");if(o)if(!this.options.allowTaint&&s)o.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var l=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(l){var c=l.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return a},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var a=e.ownerDocument.createElement("canvas");return a.width=e.offsetWidth,a.height=e.offsetHeight,a},t.prototype.appendChildNode=function(e,r,n){(!nA(r)||!jbe(r)&&!r.hasAttribute(nG)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!nA(r)||!IR(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var a=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(nA(s)&&tG(s)&&typeof s.assignedNodes=="function"){var o=s.assignedNodes();o.length&&o.forEach(function(l){return a.appendChildNode(r,l,n)})}else this.appendChildNode(r,s,n)},t.prototype.cloneNode=function(e,r){if(J7(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&nA(e)&&(OS(e)||Wv(e))){var a=this.createElementClone(e);a.style.transitionProperty="none";var s=n.getComputedStyle(e),o=n.getComputedStyle(e,":before"),l=n.getComputedStyle(e,":after");this.referenceElement===e&&OS(a)&&(this.clonedReferenceElement=a),hI(a)&&Rbe(a);var c=this.counters.parse(new pR(this.context,s)),u=this.resolvePseudoContent(e,a,o,Nf.BEFORE);PR(e)&&(r=!0),kR(e)||this.cloneChildNodes(e,a,r),u&&a.insertBefore(u,a.firstChild);var A=this.resolvePseudoContent(e,a,l,Nf.AFTER);return A&&a.appendChild(A),this.counters.pop(c),(s&&(this.options.copyStyles||Wv(e))&&!eG(e)||r)&&v1(s,a),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([a,e.scrollLeft,e.scrollTop]),(zy(e)||Wy(e))&&(zy(a)||Wy(a))&&(a.value=e.value),a}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,a){var s=this;if(n){var o=n.content,l=r.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new pR(this.context,n));var c=new y0e(this.context,n),u=l.createElement("html2canvaspseudoelement");v1(n,u),c.content.forEach(function(d){if(d.type===0)u.appendChild(l.createTextNode(d.value));else if(d.type===22){var h=l.createElement("img");h.src=d.value,h.style.opacity="1",u.appendChild(h)}else if(d.type===18){if(d.name==="attr"){var f=d.values.filter(sr);f.length&&u.appendChild(l.createTextNode(e.getAttribute(f[0].value)||""))}else if(d.name==="counter"){var p=d.values.filter(ed),g=p[0],m=p[1];if(g&&sr(g)){var x=s.counters.getCounterValue(g.value),b=m&&sr(m)?TS.parse(s.context,m.value):3;u.appendChild(l.createTextNode(Em(x,b,!1)))}}else if(d.name==="counters"){var _=d.values.filter(ed),g=_[0],w=_[1],m=_[2];if(g&&sr(g)){var C=s.counters.getCounterValues(g.value),E=m&&sr(m)?TS.parse(s.context,m.value):3,j=w&&w.type===0?w.value:"",B=C.map(function(I){return Em(I,E,!1)}).join(j);u.appendChild(l.createTextNode(B))}}}else if(d.type===20)switch(d.value){case"open-quote":u.appendChild(l.createTextNode(mR(c.quotes,s.quoteDepth++,!0)));break;case"close-quote":u.appendChild(l.createTextNode(mR(c.quotes,--s.quoteDepth,!1)));break;default:u.appendChild(l.createTextNode(d.value))}}),u.className=DS+" "+RS;var A=a===Nf.BEFORE?" "+DS:" "+RS;return Wv(r)?r.className.baseValue+=A:r.className+=A,u}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),Nf;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Nf||(Nf={}));var Ebe=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(nG,"true"),t.body.appendChild(r),r},Sbe=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},Nbe=function(t){return Promise.all([].slice.call(t.images,0).map(Sbe))},Tbe=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var a=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var s=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},kbe=["all","d","content"],v1=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);kbe.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},Ibe=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Pbe=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},Obe=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},Fbe=":before",Dbe=":after",DS="___html2canvas___pseudoelement_before",RS="___html2canvas___pseudoelement_after",QR=`{
    content: "" !important;
    display: none !important;
}`,Rbe=function(t){Ube(t,"."+DS+Fbe+QR+`
         .`+RS+Dbe+QR)},Ube=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},aG=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),Mbe=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(x1(e)||$be(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return zn(this,void 0,void 0,function(){var r,n,a,s,o=this;return Tn(this,function(l){switch(l.label){case 0:return r=aG.isSameOrigin(e),n=!y1(e)&&this._options.useCORS===!0&&An.SUPPORT_CORS_IMAGES&&!r,a=!y1(e)&&!r&&!x1(e)&&typeof this._options.proxy=="string"&&An.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!y1(e)&&!x1(e)&&!a&&!n?[2]:(s=e,a?[4,this.proxy(s)]:[3,2]);case 1:s=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(c,u){var A=new Image;A.onload=function(){return c(A)},A.onerror=u,(Vbe(s)||n)&&(A.crossOrigin="anonymous"),A.src=s,A.complete===!0&&setTimeout(function(){return c(A)},500),o._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=e.substring(0,256);return new Promise(function(s,o){var l=An.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")s(c.response);else{var d=new FileReader;d.addEventListener("load",function(){return s(d.result)},!1),d.addEventListener("error",function(h){return o(h)},!1),d.readAsDataURL(c.response)}else o("Failed to proxy resource "+a+" with status code "+c.status)},c.onerror=o;var u=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+u+"url="+encodeURIComponent(e)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),r._options.imageTimeout){var A=r._options.imageTimeout;c.timeout=A,c.ontimeout=function(){return o("Timed out ("+A+"ms) proxying "+a)}}c.send()})},t}(),Qbe=/^data:image\/svg\+xml/i,Lbe=/^data:image\/.*;base64,/i,Hbe=/^data:image\/.*/i,$be=function(t){return An.SUPPORT_SVG_DRAWING||!Kbe(t)},y1=function(t){return Hbe.test(t)},Vbe=function(t){return Lbe.test(t)},x1=function(t){return t.substr(0,4)==="blob"},Kbe=function(t){return t.substr(-3).toLowerCase()==="svg"||Qbe.test(t)},Fe=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),Ru=function(t,e,r){return new Fe(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},ov=function(){function t(e,r,n,a){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=a}return t.prototype.subdivide=function(e,r){var n=Ru(this.start,this.startControl,e),a=Ru(this.startControl,this.endControl,e),s=Ru(this.endControl,this.end,e),o=Ru(n,a,e),l=Ru(a,s,e),c=Ru(o,l,e);return r?new t(this.start,n,o,c):new t(c,l,s,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Ha=function(t){return t.type===1},qbe=function(){function t(e){var r=e.styles,n=e.bounds,a=nf(r.borderTopLeftRadius,n.width,n.height),s=a[0],o=a[1],l=nf(r.borderTopRightRadius,n.width,n.height),c=l[0],u=l[1],A=nf(r.borderBottomRightRadius,n.width,n.height),d=A[0],h=A[1],f=nf(r.borderBottomLeftRadius,n.width,n.height),p=f[0],g=f[1],m=[];m.push((s+c)/n.width),m.push((p+d)/n.width),m.push((o+g)/n.height),m.push((u+h)/n.height);var x=Math.max.apply(Math,m);x>1&&(s/=x,o/=x,c/=x,u/=x,d/=x,h/=x,p/=x,g/=x);var b=n.width-c,_=n.height-h,w=n.width-d,C=n.height-g,E=r.borderTopWidth,j=r.borderRightWidth,B=r.borderBottomWidth,S=r.borderLeftWidth,N=gr(r.paddingTop,e.bounds.width),I=gr(r.paddingRight,e.bounds.width),P=gr(r.paddingBottom,e.bounds.width),T=gr(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||o>0?br(n.left+S/3,n.top+E/3,s-S/3,o-E/3,Gt.TOP_LEFT):new Fe(n.left+S/3,n.top+E/3),this.topRightBorderDoubleOuterBox=s>0||o>0?br(n.left+b,n.top+E/3,c-j/3,u-E/3,Gt.TOP_RIGHT):new Fe(n.left+n.width-j/3,n.top+E/3),this.bottomRightBorderDoubleOuterBox=d>0||h>0?br(n.left+w,n.top+_,d-j/3,h-B/3,Gt.BOTTOM_RIGHT):new Fe(n.left+n.width-j/3,n.top+n.height-B/3),this.bottomLeftBorderDoubleOuterBox=p>0||g>0?br(n.left+S/3,n.top+C,p-S/3,g-B/3,Gt.BOTTOM_LEFT):new Fe(n.left+S/3,n.top+n.height-B/3),this.topLeftBorderDoubleInnerBox=s>0||o>0?br(n.left+S*2/3,n.top+E*2/3,s-S*2/3,o-E*2/3,Gt.TOP_LEFT):new Fe(n.left+S*2/3,n.top+E*2/3),this.topRightBorderDoubleInnerBox=s>0||o>0?br(n.left+b,n.top+E*2/3,c-j*2/3,u-E*2/3,Gt.TOP_RIGHT):new Fe(n.left+n.width-j*2/3,n.top+E*2/3),this.bottomRightBorderDoubleInnerBox=d>0||h>0?br(n.left+w,n.top+_,d-j*2/3,h-B*2/3,Gt.BOTTOM_RIGHT):new Fe(n.left+n.width-j*2/3,n.top+n.height-B*2/3),this.bottomLeftBorderDoubleInnerBox=p>0||g>0?br(n.left+S*2/3,n.top+C,p-S*2/3,g-B*2/3,Gt.BOTTOM_LEFT):new Fe(n.left+S*2/3,n.top+n.height-B*2/3),this.topLeftBorderStroke=s>0||o>0?br(n.left+S/2,n.top+E/2,s-S/2,o-E/2,Gt.TOP_LEFT):new Fe(n.left+S/2,n.top+E/2),this.topRightBorderStroke=s>0||o>0?br(n.left+b,n.top+E/2,c-j/2,u-E/2,Gt.TOP_RIGHT):new Fe(n.left+n.width-j/2,n.top+E/2),this.bottomRightBorderStroke=d>0||h>0?br(n.left+w,n.top+_,d-j/2,h-B/2,Gt.BOTTOM_RIGHT):new Fe(n.left+n.width-j/2,n.top+n.height-B/2),this.bottomLeftBorderStroke=p>0||g>0?br(n.left+S/2,n.top+C,p-S/2,g-B/2,Gt.BOTTOM_LEFT):new Fe(n.left+S/2,n.top+n.height-B/2),this.topLeftBorderBox=s>0||o>0?br(n.left,n.top,s,o,Gt.TOP_LEFT):new Fe(n.left,n.top),this.topRightBorderBox=c>0||u>0?br(n.left+b,n.top,c,u,Gt.TOP_RIGHT):new Fe(n.left+n.width,n.top),this.bottomRightBorderBox=d>0||h>0?br(n.left+w,n.top+_,d,h,Gt.BOTTOM_RIGHT):new Fe(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=p>0||g>0?br(n.left,n.top+C,p,g,Gt.BOTTOM_LEFT):new Fe(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||o>0?br(n.left+S,n.top+E,Math.max(0,s-S),Math.max(0,o-E),Gt.TOP_LEFT):new Fe(n.left+S,n.top+E),this.topRightPaddingBox=c>0||u>0?br(n.left+Math.min(b,n.width-j),n.top+E,b>n.width+j?0:Math.max(0,c-j),Math.max(0,u-E),Gt.TOP_RIGHT):new Fe(n.left+n.width-j,n.top+E),this.bottomRightPaddingBox=d>0||h>0?br(n.left+Math.min(w,n.width-S),n.top+Math.min(_,n.height-B),Math.max(0,d-j),Math.max(0,h-B),Gt.BOTTOM_RIGHT):new Fe(n.left+n.width-j,n.top+n.height-B),this.bottomLeftPaddingBox=p>0||g>0?br(n.left+S,n.top+Math.min(C,n.height-B),Math.max(0,p-S),Math.max(0,g-B),Gt.BOTTOM_LEFT):new Fe(n.left+S,n.top+n.height-B),this.topLeftContentBox=s>0||o>0?br(n.left+S+T,n.top+E+N,Math.max(0,s-(S+T)),Math.max(0,o-(E+N)),Gt.TOP_LEFT):new Fe(n.left+S+T,n.top+E+N),this.topRightContentBox=c>0||u>0?br(n.left+Math.min(b,n.width+S+T),n.top+E+N,b>n.width+S+T?0:c-S+T,u-(E+N),Gt.TOP_RIGHT):new Fe(n.left+n.width-(j+I),n.top+E+N),this.bottomRightContentBox=d>0||h>0?br(n.left+Math.min(w,n.width-(S+T)),n.top+Math.min(_,n.height+E+N),Math.max(0,d-(j+I)),h-(B+P),Gt.BOTTOM_RIGHT):new Fe(n.left+n.width-(j+I),n.top+n.height-(B+P)),this.bottomLeftContentBox=p>0||g>0?br(n.left+S+T,n.top+C,Math.max(0,p-(S+T)),g-(B+P),Gt.BOTTOM_LEFT):new Fe(n.left+S+T,n.top+n.height-(B+P))}return t}(),Gt;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Gt||(Gt={}));var br=function(t,e,r,n,a){var s=4*((Math.sqrt(2)-1)/3),o=r*s,l=n*s,c=t+r,u=e+n;switch(a){case Gt.TOP_LEFT:return new ov(new Fe(t,u),new Fe(t,u-l),new Fe(c-o,e),new Fe(c,e));case Gt.TOP_RIGHT:return new ov(new Fe(t,e),new Fe(t+o,e),new Fe(c,u-l),new Fe(c,u));case Gt.BOTTOM_RIGHT:return new ov(new Fe(c,e),new Fe(c,e+l),new Fe(t+o,u),new Fe(t,u));case Gt.BOTTOM_LEFT:default:return new ov(new Fe(c,u),new Fe(c-o,u),new Fe(t,e+l),new Fe(t,e))}},Xy=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},Gbe=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Jy=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},zbe=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),lv=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),Wbe=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),Xbe=function(t){return t.type===0},sG=function(t){return t.type===1},Jbe=function(t){return t.type===2},LR=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},Ybe=function(t,e,r,n,a){return t.map(function(s,o){switch(o){case 0:return s.add(e,r);case 1:return s.add(e+n,r);case 2:return s.add(e+n,r+a);case 3:return s.add(e,r+a)}return s})},iG=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),oG=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new qbe(this.container),this.container.styles.opacity<1&&this.effects.push(new Wbe(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new zbe(n,a,s))}if(this.container.styles.overflowX!==0){var o=Xy(this.curves),l=Jy(this.curves);LR(o,l)?this.effects.push(new lv(o,6)):(this.effects.push(new lv(o,2)),this.effects.push(new lv(l,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var s=n.effects.filter(function(c){return!sG(c)});if(r||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=Xy(n.curves),l=Jy(n.curves);LR(o,l)||a.unshift(new lv(l,6))}}else a.unshift.apply(a,s);n=n.parent}return a.filter(function(c){return Gr(c.target,e)})},t}(),US=function(t,e,r,n){t.container.elements.forEach(function(a){var s=Gr(a.flags,4),o=Gr(a.flags,2),l=new oG(a,t);Gr(a.styles.display,2048)&&n.push(l);var c=Gr(a.flags,8)?[]:n;if(s||o){var u=s||a.styles.isPositioned()?r:e,A=new iG(l);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var d=a.styles.zIndex.order;if(d<0){var h=0;u.negativeZIndex.some(function(p,g){return d>p.element.container.styles.zIndex.order?(h=g,!1):h>0}),u.negativeZIndex.splice(h,0,A)}else if(d>0){var f=0;u.positiveZIndex.some(function(p,g){return d>=p.element.container.styles.zIndex.order?(f=g+1,!1):f>0}),u.positiveZIndex.splice(f,0,A)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(A)}else a.styles.isFloating()?u.nonPositionedFloats.push(A):u.nonPositionedInlineLevel.push(A);US(l,A,s?A:r,c)}else a.styles.isInlineLevel()?e.inlineLevel.push(l):e.nonInlineLevel.push(l),US(l,e,r,c);Gr(a.flags,8)&&lG(a,c)})},lG=function(t,e){for(var r=t instanceof PS?t.start:1,n=t instanceof PS?t.reversed:!1,a=0;a<e.length;a++){var s=e[a];s.container instanceof K7&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=Em(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},Zbe=function(t){var e=new oG(t,null),r=new iG(e),n=[];return US(e,r,r,n),lG(e.container,n),r},HR=function(t,e){switch(e){case 0:return Ka(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Ka(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Ka(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Ka(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},ewe=function(t,e){switch(e){case 0:return Ka(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Ka(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Ka(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Ka(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},twe=function(t,e){switch(e){case 0:return Ka(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Ka(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Ka(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Ka(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},rwe=function(t,e){switch(e){case 0:return cv(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return cv(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return cv(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return cv(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},cv=function(t,e){var r=[];return Ha(t)?r.push(t.subdivide(.5,!1)):r.push(t),Ha(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},Ka=function(t,e,r,n){var a=[];return Ha(t)?a.push(t.subdivide(.5,!1)):a.push(t),Ha(r)?a.push(r.subdivide(.5,!0)):a.push(r),Ha(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),Ha(e)?a.push(e.subdivide(.5,!1).reverse()):a.push(e),a},cG=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Yy=function(t){var e=t.styles,r=t.bounds,n=gr(e.paddingLeft,r.width),a=gr(e.paddingRight,r.width),s=gr(e.paddingTop,r.width),o=gr(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+a),-(e.borderTopWidth+e.borderBottomWidth+s+o))},nwe=function(t,e){return t===0?e.bounds:t===2?Yy(e):cG(e)},awe=function(t,e){return t===0?e.bounds:t===2?Yy(e):cG(e)},b1=function(t,e,r){var n=nwe(eA(t.styles.backgroundOrigin,e),t),a=awe(eA(t.styles.backgroundClip,e),t),s=swe(eA(t.styles.backgroundSize,e),r,n),o=s[0],l=s[1],c=nf(eA(t.styles.backgroundPosition,e),n.width-o,n.height-l),u=iwe(eA(t.styles.backgroundRepeat,e),c,s,n,a),A=Math.round(n.left+c[0]),d=Math.round(n.top+c[1]);return[u,A,d,o,l]},Uu=function(t){return sr(t)&&t.value===dA.AUTO},uv=function(t){return typeof t=="number"},swe=function(t,e,r){var n=e[0],a=e[1],s=e[2],o=t[0],l=t[1];if(!o)return[0,0];if(Lr(o)&&l&&Lr(l))return[gr(o,r.width),gr(l,r.height)];var c=uv(s);if(sr(o)&&(o.value===dA.CONTAIN||o.value===dA.COVER)){if(uv(s)){var u=r.width/r.height;return u<s!=(o.value===dA.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var A=uv(n),d=uv(a),h=A||d;if(Uu(o)&&(!l||Uu(l))){if(A&&d)return[n,a];if(!c&&!h)return[r.width,r.height];if(h&&c){var f=A?n:a*s,p=d?a:n/s;return[f,p]}var g=A?n:r.width,m=d?a:r.height;return[g,m]}if(c){var x=0,b=0;return Lr(o)?x=gr(o,r.width):Lr(l)&&(b=gr(l,r.height)),Uu(o)?x=b*s:(!l||Uu(l))&&(b=x/s),[x,b]}var _=null,w=null;if(Lr(o)?_=gr(o,r.width):l&&Lr(l)&&(w=gr(l,r.height)),_!==null&&(!l||Uu(l))&&(w=A&&d?_/n*a:r.height),w!==null&&Uu(o)&&(_=A&&d?w/a*n:r.width),_!==null&&w!==null)return[_,w];throw new Error("Unable to calculate background-size for element")},eA=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},iwe=function(t,e,r,n,a){var s=e[0],o=e[1],l=r[0],c=r[1];switch(t){case 2:return[new Fe(Math.round(n.left),Math.round(n.top+o)),new Fe(Math.round(n.left+n.width),Math.round(n.top+o)),new Fe(Math.round(n.left+n.width),Math.round(c+n.top+o)),new Fe(Math.round(n.left),Math.round(c+n.top+o))];case 3:return[new Fe(Math.round(n.left+s),Math.round(n.top)),new Fe(Math.round(n.left+s+l),Math.round(n.top)),new Fe(Math.round(n.left+s+l),Math.round(n.height+n.top)),new Fe(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new Fe(Math.round(n.left+s),Math.round(n.top+o)),new Fe(Math.round(n.left+s+l),Math.round(n.top+o)),new Fe(Math.round(n.left+s+l),Math.round(n.top+o+c)),new Fe(Math.round(n.left+s),Math.round(n.top+o+c))];default:return[new Fe(Math.round(a.left),Math.round(a.top)),new Fe(Math.round(a.left+a.width),Math.round(a.top)),new Fe(Math.round(a.left+a.width),Math.round(a.height+a.top)),new Fe(Math.round(a.left),Math.round(a.height+a.top))]}},owe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",$R="Hidden Text",lwe=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),a=this._document.createElement("img"),s=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),a.src=owe,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode($R)),n.appendChild(s),n.appendChild(a);var l=a.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode($R)),n.style.lineHeight="normal",a.style.verticalAlign="super";var c=a.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:l,middle:c}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),uG=function(){function t(e,r){this.context=e,this.options=r}return t}(),cwe=1e4,uwe=function(t){Is(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new lwe(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(a){return n.applyEffect(a)})},e.prototype.applyEffect=function(r){this.ctx.save(),Jbe(r)&&(this.ctx.globalAlpha=r.opacity),Xbe(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),sG(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return zn(this,void 0,void 0,function(){var n;return Tn(this,function(a){switch(a.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return zn(this,void 0,void 0,function(){return Tn(this,function(n){switch(n.label){case 0:if(Gr(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,a){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+a);else{var o=AI(r.text);o.reduce(function(l,c){return s.ctx.fillText(c,l,r.bounds.top+a),l+s.ctx.measureText(c).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),a=mwe(r.fontFamily).join(", "),s=Qp(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,a].join(" "),a,s]},e.prototype.renderTextNode=function(r,n){return zn(this,void 0,void 0,function(){var a,s,o,l,c,u,A,d,h=this;return Tn(this,function(f){return a=this.createFontStyle(n),s=a[0],o=a[1],l=a[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,l),u=c.baseline,A=c.middle,d=n.paintOrder,r.textBounds.forEach(function(p){d.forEach(function(g){switch(g){case 0:h.ctx.fillStyle=Zr(n.color),h.renderTextWithLetterSpacing(p,n.letterSpacing,u);var m=n.textShadow;m.length&&p.text.trim().length&&(m.slice(0).reverse().forEach(function(x){h.ctx.shadowColor=Zr(x.color),h.ctx.shadowOffsetX=x.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=x.offsetY.number*h.options.scale,h.ctx.shadowBlur=x.blur.number,h.renderTextWithLetterSpacing(p,n.letterSpacing,u)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),n.textDecorationLine.length&&(h.ctx.fillStyle=Zr(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(x){switch(x){case 1:h.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top+u),p.bounds.width,1);break;case 2:h.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top),p.bounds.width,1);break;case 3:h.ctx.fillRect(p.bounds.left,Math.ceil(p.bounds.top+A),p.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&p.text.trim().length&&(h.ctx.strokeStyle=Zr(n.webkitTextStrokeColor),h.ctx.lineWidth=n.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(p.text,p.bounds.left,p.bounds.top+u)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,a){if(a&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=Yy(r),o=Jy(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return zn(this,void 0,void 0,function(){var n,a,s,o,l,c,b,b,u,A,d,h,w,f,p,C,g,m,x,b,_,w,C;return Tn(this,function(E){switch(E.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,a=r.curves,s=n.styles,o=0,l=n.textNodes,E.label=1;case 1:return o<l.length?(c=l[o],[4,this.renderTextNode(c,s)]):[3,4];case 2:E.sent(),E.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof H7))return[3,8];E.label=5;case 5:return E.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return b=E.sent(),this.renderReplacedElement(n,a,b),[3,8];case 7:return E.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof $7&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof V7))return[3,12];E.label=9;case 9:return E.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return b=E.sent(),this.renderReplacedElement(n,a,b),[3,12];case 11:return E.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof z7&&n.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:A=E.sent(),n.width&&n.height&&this.ctx.drawImage(A,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),E.label=14;case 14:if(n instanceof dI&&(d=Math.min(n.bounds.width,n.bounds.height),n.type===qy?n.checked&&(this.ctx.save(),this.path([new Fe(n.bounds.left+d*.39363,n.bounds.top+d*.79),new Fe(n.bounds.left+d*.16,n.bounds.top+d*.5549),new Fe(n.bounds.left+d*.27347,n.bounds.top+d*.44071),new Fe(n.bounds.left+d*.39694,n.bounds.top+d*.5649),new Fe(n.bounds.left+d*.72983,n.bounds.top+d*.23),new Fe(n.bounds.left+d*.84,n.bounds.top+d*.34085),new Fe(n.bounds.left+d*.39363,n.bounds.top+d*.79)]),this.ctx.fillStyle=Zr(TR),this.ctx.fill(),this.ctx.restore()):n.type===Gy&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+d/2,n.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=Zr(TR),this.ctx.fill(),this.ctx.restore())),Awe(n)&&n.value.length){switch(h=this.createFontStyle(s),w=h[0],f=h[1],p=this.fontMetrics.getMetrics(w,f).baseline,this.ctx.font=w,this.ctx.fillStyle=Zr(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=hwe(n.styles.textAlign),C=Yy(n),g=0,n.styles.textAlign){case 1:g+=C.width/2;break;case 2:g+=C.width;break}m=C.add(g,0,0,-C.height/2+1),this.ctx.save(),this.path([new Fe(C.left,C.top),new Fe(C.left+C.width,C.top),new Fe(C.left+C.width,C.top+C.height),new Fe(C.left,C.top+C.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Sf(n.value,m),s.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Gr(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(x=n.styles.listStyleImage,x.type!==0)return[3,18];b=void 0,_=x.url,E.label=15;case 15:return E.trys.push([15,17,,18]),[4,this.context.cache.match(_)];case 16:return b=E.sent(),this.ctx.drawImage(b,n.bounds.left-(b.width+10),n.bounds.top),[3,18];case 17:return E.sent(),this.context.logger.error("Error loading list-style-image "+_),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(w=this.createFontStyle(s)[0],this.ctx.font=w,this.ctx.fillStyle=Zr(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",C=new Ji(n.bounds.left,n.bounds.top+gr(n.styles.paddingTop,n.bounds.width),n.bounds.width,hR(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Sf(r.listValue,C),s.letterSpacing,hR(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),E.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return zn(this,void 0,void 0,function(){var n,a,x,s,o,x,l,c,x,u,A,x,d,h,x,f,p,x,g,m,x;return Tn(this,function(b){switch(b.label){case 0:if(Gr(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:b.sent(),n=0,a=r.negativeZIndex,b.label=2;case 2:return n<a.length?(x=a[n],[4,this.renderStack(x)]):[3,5];case 3:b.sent(),b.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:b.sent(),s=0,o=r.nonInlineLevel,b.label=7;case 7:return s<o.length?(x=o[s],[4,this.renderNode(x)]):[3,10];case 8:b.sent(),b.label=9;case 9:return s++,[3,7];case 10:l=0,c=r.nonPositionedFloats,b.label=11;case 11:return l<c.length?(x=c[l],[4,this.renderStack(x)]):[3,14];case 12:b.sent(),b.label=13;case 13:return l++,[3,11];case 14:u=0,A=r.nonPositionedInlineLevel,b.label=15;case 15:return u<A.length?(x=A[u],[4,this.renderStack(x)]):[3,18];case 16:b.sent(),b.label=17;case 17:return u++,[3,15];case 18:d=0,h=r.inlineLevel,b.label=19;case 19:return d<h.length?(x=h[d],[4,this.renderNode(x)]):[3,22];case 20:b.sent(),b.label=21;case 21:return d++,[3,19];case 22:f=0,p=r.zeroOrAutoZIndexOrTransformedOrOpacity,b.label=23;case 23:return f<p.length?(x=p[f],[4,this.renderStack(x)]):[3,26];case 24:b.sent(),b.label=25;case 25:return f++,[3,23];case 26:g=0,m=r.positiveZIndex,b.label=27;case 27:return g<m.length?(x=m[g],[4,this.renderStack(x)]):[3,30];case 28:b.sent(),b.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(a,s){var o=Ha(a)?a.start:a;s===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),Ha(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},e.prototype.renderRepeat=function(r,n,a,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(a,s),this.ctx.fill(),this.ctx.translate(-a,-s)},e.prototype.resizeImage=function(r,n,a){var s;if(r.width===n&&r.height===a)return r;var o=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,l=o.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,a);var c=l.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,n,a),l},e.prototype.renderBackgroundImage=function(r){return zn(this,void 0,void 0,function(){var n,a,s,o,l,c;return Tn(this,function(u){switch(u.label){case 0:n=r.styles.backgroundImage.length-1,a=function(A){var d,h,f,N,R,F,T,U,B,p,N,R,F,T,U,g,m,x,b,_,w,C,E,j,B,S,N,I,P,T,U,M,R,F,D,Q,H,G,X,te,Z,q;return Tn(this,function(se){switch(se.label){case 0:if(A.type!==0)return[3,5];d=void 0,h=A.url,se.label=1;case 1:return se.trys.push([1,3,,4]),[4,s.context.cache.match(h)];case 2:return d=se.sent(),[3,4];case 3:return se.sent(),s.context.logger.error("Error loading background-image "+h),[3,4];case 4:return d&&(f=b1(r,n,[d.width,d.height,d.width/d.height]),N=f[0],R=f[1],F=f[2],T=f[3],U=f[4],B=s.ctx.createPattern(s.resizeImage(d,T,U),"repeat"),s.renderRepeat(N,B,R,F)),[3,6];case 5:Xye(A)?(p=b1(r,n,[null,null,null]),N=p[0],R=p[1],F=p[2],T=p[3],U=p[4],g=Kye(A.angle,T,U),m=g[0],x=g[1],b=g[2],_=g[3],w=g[4],C=document.createElement("canvas"),C.width=T,C.height=U,E=C.getContext("2d"),j=E.createLinearGradient(x,_,b,w),AR(A.stops,m).forEach(function(Ae){return j.addColorStop(Ae.stop,Zr(Ae.color))}),E.fillStyle=j,E.fillRect(0,0,T,U),T>0&&U>0&&(B=s.ctx.createPattern(C,"repeat"),s.renderRepeat(N,B,R,F))):Jye(A)&&(S=b1(r,n,[null,null,null]),N=S[0],I=S[1],P=S[2],T=S[3],U=S[4],M=A.position.length===0?[lI]:A.position,R=gr(M[0],T),F=gr(M[M.length-1],U),D=qye(A,R,F,T,U),Q=D[0],H=D[1],Q>0&&H>0&&(G=s.ctx.createRadialGradient(I+R,P+F,0,I+R,P+F,Q),AR(A.stops,Q*2).forEach(function(Ae){return G.addColorStop(Ae.stop,Zr(Ae.color))}),s.path(N),s.ctx.fillStyle=G,Q!==H?(X=r.bounds.left+.5*r.bounds.width,te=r.bounds.top+.5*r.bounds.height,Z=H/Q,q=1/Z,s.ctx.save(),s.ctx.translate(X,te),s.ctx.transform(1,0,0,Z,0,0),s.ctx.translate(-X,-te),s.ctx.fillRect(I,q*(P-te)+te,T,U*q),s.ctx.restore()):s.ctx.fill())),se.label=6;case 6:return n--,[2]}})},s=this,o=0,l=r.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return o<l.length?(c=l[o],[5,a(c)]):[3,4];case 2:u.sent(),u.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,a){return zn(this,void 0,void 0,function(){return Tn(this,function(s){return this.path(HR(a,n)),this.ctx.fillStyle=Zr(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,a,s){return zn(this,void 0,void 0,function(){var o,l;return Tn(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(r,a,s)]:[3,2];case 1:return c.sent(),[2];case 2:return o=ewe(s,a),this.path(o),this.ctx.fillStyle=Zr(r),this.ctx.fill(),l=twe(s,a),this.path(l),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return zn(this,void 0,void 0,function(){var n,a,s,o,l,c,u,A,d=this;return Tn(this,function(h){switch(h.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,a=!ol(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=dwe(eA(n.backgroundClip,0),r.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),ol(n.backgroundColor)||(this.ctx.fillStyle=Zr(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(f){d.ctx.save();var p=Xy(r.curves),g=f.inset?0:cwe,m=Ybe(p,-g+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(d.path(p),d.ctx.clip(),d.mask(m)):(d.mask(p),d.ctx.clip(),d.path(m)),d.ctx.shadowOffsetX=f.offsetX.number+g,d.ctx.shadowOffsetY=f.offsetY.number,d.ctx.shadowColor=Zr(f.color),d.ctx.shadowBlur=f.blur.number,d.ctx.fillStyle=f.inset?Zr(f.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),h.label=2;case 2:l=0,c=0,u=s,h.label=3;case 3:return c<u.length?(A=u[c],A.style!==0&&!ol(A.color)&&A.width>0?A.style!==2?[3,5]:[4,this.renderDashedDottedBorder(A.color,A.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return A.style!==3?[3,7]:[4,this.renderDashedDottedBorder(A.color,A.width,l,r.curves,3)];case 6:return h.sent(),[3,11];case 7:return A.style!==4?[3,9]:[4,this.renderDoubleBorder(A.color,A.width,l,r.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(A.color,l,r.curves)];case 10:h.sent(),h.label=11;case 11:l++,h.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,a,s,o){return zn(this,void 0,void 0,function(){var l,c,u,A,d,h,f,p,g,m,x,b,_,w,C,E,C,E;return Tn(this,function(j){return this.ctx.save(),l=rwe(s,a),c=HR(s,a),o===2&&(this.path(c),this.ctx.clip()),Ha(c[0])?(u=c[0].start.x,A=c[0].start.y):(u=c[0].x,A=c[0].y),Ha(c[1])?(d=c[1].end.x,h=c[1].end.y):(d=c[1].x,h=c[1].y),a===0||a===2?f=Math.abs(u-d):f=Math.abs(A-h),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(c.slice(0,2)),p=n<3?n*3:n*2,g=n<3?n*2:n,o===3&&(p=n,g=n),m=!0,f<=p*2?m=!1:f<=p*2+g?(x=f/(2*p+g),p*=x,g*=x):(b=Math.floor((f+g)/(p+g)),_=(f-b*p)/(b-1),w=(f-(b+1)*p)/b,g=w<=0||Math.abs(g-_)<Math.abs(g-w)?_:w),m&&(o===3?this.ctx.setLineDash([0,p+g]):this.ctx.setLineDash([p,g])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Zr(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Ha(c[0])&&(C=c[3],E=c[0],this.ctx.beginPath(),this.formatPath([new Fe(C.end.x,C.end.y),new Fe(E.start.x,E.start.y)]),this.ctx.stroke()),Ha(c[1])&&(C=c[1],E=c[2],this.ctx.beginPath(),this.formatPath([new Fe(C.end.x,C.end.y),new Fe(E.start.x,E.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return zn(this,void 0,void 0,function(){var n;return Tn(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Zr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=Zbe(r),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(uG),Awe=function(t){return t instanceof G7||t instanceof q7?!0:t instanceof dI&&t.type!==Gy&&t.type!==qy},dwe=function(t,e){switch(t){case 0:return Xy(e);case 2:return Gbe(e);case 1:default:return Jy(e)}},hwe=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},fwe=["-apple-system","system-ui"],mwe=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return fwe.indexOf(e)===-1}):t},pwe=function(t){Is(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return e.prototype.render=function(r){return zn(this,void 0,void 0,function(){var n,a;return Tn(this,function(s){switch(s.label){case 0:return n=IS(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,gwe(n)];case 1:return a=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Zr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(uG),gwe=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},vwe=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Hg([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Hg([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Hg([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Hg([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),ywe=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new vwe({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new Mbe(this,e)}return t.instanceCount=1,t}(),fI=function(t,e){return e===void 0&&(e={}),xwe(t,e)};typeof window<"u"&&aG.setContext(window);var xwe=function(t,e){return zn(void 0,void 0,void 0,function(){var r,n,a,s,o,l,c,u,A,d,h,f,p,g,m,x,b,_,w,C,j,E,j,B,S,N,I,P,T,U,M,R,F,D,Q,H,G,X,te,Z;return Tn(this,function(q){switch(q.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(B=e.allowTaint)!==null&&B!==void 0?B:!1,imageTimeout:(S=e.imageTimeout)!==null&&S!==void 0?S:15e3,proxy:e.proxy,useCORS:(N=e.useCORS)!==null&&N!==void 0?N:!1},s=gS({logging:(I=e.logging)!==null&&I!==void 0?I:!0,cache:e.cache},a),o={windowWidth:(P=e.windowWidth)!==null&&P!==void 0?P:n.innerWidth,windowHeight:(T=e.windowHeight)!==null&&T!==void 0?T:n.innerHeight,scrollX:(U=e.scrollX)!==null&&U!==void 0?U:n.pageXOffset,scrollY:(M=e.scrollY)!==null&&M!==void 0?M:n.pageYOffset},l=new Ji(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new ywe(s,l),u=(R=e.foreignObjectRendering)!==null&&R!==void 0?R:!1,A={allowTaint:(F=e.allowTaint)!==null&&F!==void 0?F:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),d=new MR(c,t,A),h=d.clonedReferenceElement,h?[4,d.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=q.sent(),p=hI(h)||wbe(h)?Yge(h.ownerDocument):nb(c,h),g=p.width,m=p.height,x=p.left,b=p.top,_=bwe(c,h,e.backgroundColor),w={canvas:e.canvas,backgroundColor:_,scale:(Q=(D=e.scale)!==null&&D!==void 0?D:n.devicePixelRatio)!==null&&Q!==void 0?Q:1,x:((H=e.x)!==null&&H!==void 0?H:0)+x,y:((G=e.y)!==null&&G!==void 0?G:0)+b,width:(X=e.width)!==null&&X!==void 0?X:Math.ceil(g),height:(te=e.height)!==null&&te!==void 0?te:Math.ceil(m)},u?(c.logger.debug("Document cloned, using foreign object rendering"),j=new pwe(c,w),[4,j.render(h)]):[3,3];case 2:return C=q.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+x+","+b+" with size "+g+"x"+m+" using computed rendering"),c.logger.debug("Starting DOM parsing"),E=X7(c,h),_===E.styles.backgroundColor&&(E.styles.backgroundColor=Mi.TRANSPARENT),c.logger.debug("Starting renderer for element at "+w.x+","+w.y+" with size "+w.width+"x"+w.height),j=new uwe(c,w),[4,j.render(E)];case 4:C=q.sent(),q.label=5;case 5:return(!((Z=e.removeContainer)!==null&&Z!==void 0)||Z)&&(MR.destroy(f)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,C]}})})},bwe=function(t,e,r){var n=e.ownerDocument,a=n.documentElement?Bf(t,getComputedStyle(n.documentElement).backgroundColor):Mi.TRANSPARENT,s=n.body?Bf(t,getComputedStyle(n.body).backgroundColor):Mi.TRANSPARENT,o=typeof r=="string"?Bf(t,r):r===null?Mi.TRANSPARENT:4294967295;return e===n.documentElement?ol(a)?ol(s)?o:s:a:o};const wwe=Sd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function yt({className:t,variant:e,...r}){return i.jsx("div",{className:de(wwe({variant:e}),t),...r})}const or=qk,Zy=Gk,jwe=zk,AG=v.forwardRef(({className:t,...e},r)=>i.jsx(Pp,{ref:r,className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));AG.displayName=Pp.displayName;const er=v.forwardRef(({className:t,children:e,...r},n)=>{const a=`${r.id}-description`;return i.jsxs(jwe,{children:[i.jsx(AG,{}),i.jsx(Op,{ref:n,"aria-describedby":a,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:i.jsxs(dr,{children:[e,i.jsxs(X0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(l0,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})})]})});er.displayName=Op.displayName;const dr=({className:t,...e})=>i.jsx("div",{className:de("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});dr.displayName="DialogHeader";const sn=({className:t,...e})=>i.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});sn.displayName="DialogFooter";const hr=v.forwardRef(({className:t,...e},r)=>i.jsx(Fp,{ref:r,className:de("text-lg font-semibold leading-none tracking-tight",t),...e}));hr.displayName=Fp.displayName;const _n=v.forwardRef(({className:t,...e},r)=>i.jsx(Dp,{ref:r,className:de("text-sm text-muted-foreground",t),...e}));_n.displayName=Dp.displayName;const VR=[{bank:"SeaBank",accountNumber:"901958730549",accountName:"Yoga Prasetya"},{bank:"DANA",accountNumber:"081394586882",accountName:"Yoga Prasetya"}],_we=()=>{const{id:t}=wp(),e=kt(),{toast:r}=Ns(),{user:n}=Ir(),a=v.useRef(null),[s,o]=v.useState(null),[l,c]=v.useState(null),[u,A]=v.useState(!0),[d,h]=v.useState(null),[f,p]=v.useState(!1),[g,m]=v.useState(null),[x,b]=v.useState(!1),[_,w]=v.useState(null);v.useEffect(()=>{const S=async()=>{if(!(!n||!t))try{A(!0);const{data:P,error:T}=await J.from("orders").select(`
            *,
            order_items(*)
          `).eq("id",t).eq("user_id",n.id).single();if(T)throw T;let U=null;if(P.shipping_address_id&&P.shipping_address_id!=="undefined"){const{data:M,error:R}=await J.from("addresses").select("*").eq("id",P.shipping_address_id).single();R||(U={id:M.id,name:M.name,street:M.street,city:M.city,state:M.state,zip:M.zip,country:M.country,isDefault:M.is_default,user_id:M.user_id,created_at:M.created_at})}if(P.shipping_method_id){const{data:M,error:R}=await J.from("shipping_methods").select("*").eq("id",P.shipping_method_id).single();!R&&M&&m(M)}else{const{data:M,error:R}=await J.from("shipping_methods").select("*").limit(1).single();!R&&M&&m(M)}if(P){const M=P.order_items.map(Q=>({id:Q.id,productId:Q.product_id,productName:Q.product_name,quantity:Q.quantity,price:Q.price}));let R=P.payment_method;I(R)||(R="bank-transfer");let F=P.status;N(F)||(F="pending");const D={id:P.id,userId:P.user_id,date:P.date,status:F,paymentMethod:R,total:P.total,trackingNumber:P.tracking_number||"",items:M,shippingAddressId:P.shipping_address_id,shippingMethodId:P.shipping_method_id,voucher_id:P.voucher_id,discount_amount:P.discount_amount||0};if(o(D),c(U),P.voucher_id){const{data:Q,error:H}=await J.from("vouchers").select("*").eq("id",P.voucher_id).single();!H&&Q&&w({code:Q.code,discount_type:Q.discount_type})}if(D.paymentMethod==="bank-transfer"){const Q=Math.floor(Math.random()*VR.length);h(VR[Q])}}}catch(P){console.error("Error fetching order details:",P),r({title:"Error",description:"Gagal memuat detail pesanan",variant:"destructive"})}finally{A(!1)}},N=P=>["pending","processing","shipped","delivered","cancelled"].includes(P),I=P=>["bank-transfer","credit-card","cod","qris"].includes(P);S()},[t,n,r]);const C=S=>{switch(S){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-500";case"processing":return"bg-blue-100 text-blue-800 border-blue-500";case"shipped":return"bg-purple-100 text-purple-800 border-purple-500";case"delivered":return"bg-green-100 text-green-800 border-green-500";case"cancelled":return"bg-red-100 text-red-800 border-red-500";default:return"bg-gray-100 text-gray-800 border-gray-500"}},E=S=>{switch(S){case"pending":return"Menunggu Pembayaran";case"processing":return"Diproses";case"shipped":return"Dikirim";case"delivered":return"Terkirim";case"cancelled":return"Dibatalkan";default:return S.charAt(0).toUpperCase()+S.slice(1)}},j=async()=>{if(a.current)try{b(!0),f||(p(!0),await new Promise(M=>setTimeout(M,500)));const S=a.current,N=S.querySelector(".hidden-on-print");let I="";N&&(I=N.style.display,N.style.display="none"),await new Promise(M=>setTimeout(M,100));const P=await fI(S,{scale:2,backgroundColor:"#ffffff",logging:!1,useCORS:!0,allowTaint:!0});N&&(N.style.display=I);const T=P.toDataURL("image/png"),U=document.createElement("a");U.href=T,U.download=`Struk-Pesanan-${s==null?void 0:s.id.substring(0,8)}.png`,U.click(),r({title:"Struk Berhasil Disimpan",description:"Struk pesanan telah disimpan sebagai gambar",variant:"default"})}catch(S){console.error("Error saving receipt as image:",S),r({title:"Gagal Menyimpan Struk",description:"Terjadi kesalahan saat menyimpan struk sebagai gambar",variant:"destructive"})}finally{b(!1)}},B=()=>{a.current&&(p(!0),setTimeout(()=>{const S=a.current;if(!S)return;const N=window.open("","_blank");if(!N){r({title:"Gagal membuka jendela cetak",description:"Mohon izinkan popup untuk situs ini",variant:"destructive"});return}N.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Struk Pesanan #${s==null?void 0:s.id.substring(0,8)}</title>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1">
          <style>
            @page {
              size: 80mm 297mm; /* Standard thermal receipt size */
              margin: 0;
            }
            body {
              font-family: system-ui, -apple-system, sans-serif;
              font-size: 10px;
              line-height: 1.2;
              width: 76mm;
              margin: 2mm auto;
              padding: 0;
            }
            * {
              box-sizing: border-box;
            }
            .receipt-header { 
              text-align: center;
              margin-bottom: 8px;
            }
            .receipt-header h2 {
              font-size: 12px;
              margin: 0 0 4px 0;
            }
            .receipt-items {
              border-top: 1px dashed #ccc;
              border-bottom: 1px dashed #ccc;
              padding: 8px 0;
              margin: 8px 0;
            }
            .receipt-item {
              display: flex;
              justify-content: space-between;
              margin-bottom: 4px;
            }
            .receipt-total {
              font-weight: bold;
              display: flex;
              justify-content: space-between;
              margin-top: 8px;
            }
            .receipt-footer {
              text-align: center;
              margin-top: 12px;
              font-size: 9px;
            }
            .receipt-store-info {
              text-align: center;
              font-size: 9px;
              margin-bottom: 8px;
            }
            .receipt-border {
              border-top: 1px dashed #ccc;
              margin: 8px 0;
            }
            .receipt-payment-info {
              font-size: 9px;
              margin-top: 8px;
            }
            .receipt-customer-info {
              font-size: 9px;
              margin: 8px 0;
            }
            .receipt-barcode {
              text-align: center;
              margin-top: 12px;
              font-size: 9px;
              letter-spacing: 2px;
            }
            .receipt-thank-you {
              text-align: center;
              margin-top: 12px;
              font-weight: bold;
            }
            .print-button {
              display: block;
              width: 100%;
              background: #e63946;
              color: white;
              border: none;
              padding: 8px;
              font-size: 14px;
              font-weight: bold;
              border-radius: 4px;
              margin: 16px 0;
              cursor: pointer;
            }
            @media print {
              .print-button {
                display: none;
              }
            }
          </style>
        </head>
        <body>
          ${S.innerHTML}
          <button class="print-button" onclick="window.print(); setTimeout(() => window.close(), 500);">Cetak Struk</button>
        </body>
        </html>
      `),N.document.close(),N.focus()},500))};return u?i.jsx($t,{children:i.jsx("div",{className:"p-4 flex flex-col items-center justify-center min-h-[50vh]",children:i.jsx("p",{children:"Tunggu Sebentar..."})})}):s?i.jsxs($t,{children:[i.jsxs("div",{className:"flex items-center p-4 bg-background sticky top-0 z-10 border-b",children:[i.jsx(V,{variant:"ghost",size:"icon",onClick:()=>e("/"),className:"mr-2",children:i.jsx(bs,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold",children:"Detail Pesanan"})]}),i.jsxs("div",{className:"container max-w-md mx-auto p-4 pb-20",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID Pesanan: ",s.id.substring(0,8),"..."]}),i.jsx(yt,{className:C(s.status),children:E(s.status)})]}),i.jsxs("div",{className:"text-sm text-muted-foreground mb-4",children:["Pesanan dibuat pada ",new Date(s.date).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})]}),s.trackingNumber&&i.jsxs("div",{className:"bg-secondary p-3 rounded-md flex items-center mb-4",children:[i.jsx(zB,{className:"h-5 w-5 mr-2 text-flame-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Nomor Resi"}),i.jsx("p",{className:"text-xs",children:s.trackingNumber})]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("h2",{className:"font-semibold",children:"Daftar Pesanan"}),i.jsxs(V,{size:"sm",variant:"outline",className:"flex items-center gap-1",onClick:B,children:[i.jsx(GB,{className:"h-4 w-4"}),i.jsx("span",{children:"Cetak Struk"})]})]}),i.jsx("div",{className:"space-y-3",children:s.items.map(S=>i.jsx(xe,{className:"overflow-hidden shadow-sm",children:i.jsx(be,{className:"p-3",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"h-16 w-16 bg-charcoal-100 rounded flex-shrink-0 flex items-center justify-center",children:i.jsx(Vi,{className:"h-8 w-8 text-charcoal-400"})}),i.jsx("div",{className:"flex-grow",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{children:[i.jsx(ct,{to:`/product/${S.productId}`,children:i.jsx("h3",{className:"font-medium text-sm line-clamp-2",children:S.productName})}),i.jsx("div",{className:"flex justify-between items-center mt-1",children:i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Jumlah: ",S.quantity," × ",pe(S.price)]})})]}),i.jsx("div",{className:"text-right",children:i.jsx("div",{className:"font-medium",children:pe(S.price*S.quantity)})})]})})]})})},S.id))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"font-semibold mb-3",children:"Ringkasan Pesanan"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Subtotal"}),i.jsx("span",{children:pe(s.items.reduce((S,N)=>S+N.price*N.quantity,0))})]}),s.discount_amount>0&&i.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[i.jsxs("span",{children:["Diskon Voucher ",_!=null&&_.code?`(${_.code})`:""]}),i.jsxs("span",{children:["-",pe(s.discount_amount)]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{children:["Pengiriman (",g==null?void 0:g.name,")"]}),i.jsx("span",{children:pe((g==null?void 0:g.cost)||0)})]}),i.jsx(Qn,{className:"my-2"}),i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("span",{children:"Total"}),i.jsx("span",{children:pe(s.total)})]})]})]}),l&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"font-semibold mb-3",children:"Alamat Pengiriman"}),i.jsx(xe,{children:i.jsxs(be,{className:"p-3",children:[i.jsx("p",{className:"font-medium",children:l.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:l.street}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.city,", ",l.state," ",l.zip]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:l.country})]})})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"font-semibold mb-3",children:"Metode Pembayaran"}),i.jsx(xe,{children:i.jsxs(be,{className:"p-3 flex items-center",children:[s.paymentMethod==="bank-transfer"&&i.jsxs(i.Fragment,{children:[i.jsx(Y3,{className:"h-5 w-5 mr-3 text-flame-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Transfer Bank"}),d&&i.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.bank," - ",d.accountNumber]})]})]}),s.paymentMethod==="credit-card"&&i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"h-5 w-5 mr-3 text-flame-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[i.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",strokeWidth:"2"}),i.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10",strokeWidth:"2"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Kartu Kredit"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"**** **** **** 1234"})]})]}),s.paymentMethod==="cod"&&i.jsxs(i.Fragment,{children:[i.jsx(zB,{className:"h-5 w-5 mr-3 text-flame-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Bayar di Tempat (COD)"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Pembayaran saat barang diterima"})]})]}),s.paymentMethod==="qris"&&i.jsxs(i.Fragment,{children:[i.jsx(yT,{className:"h-5 w-5 mr-3 text-flame-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"QRIS"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Pembayaran menggunakan QRIS"})]})]})]})})]}),i.jsx("div",{className:"flex space-x-3 mb-6",children:i.jsxs(V,{onClick:()=>p(!0),className:"flex-1",children:[i.jsx(GB,{className:"mr-2 h-4 w-4"}),"Lihat Struk"]})}),i.jsx(or,{open:f,onOpenChange:p,children:i.jsxs(er,{className:"max-w-md",children:[i.jsx(dr,{children:i.jsx(hr,{children:"Struk Pesanan"})}),i.jsxs("div",{ref:a,className:"receipt-container",children:[i.jsxs("div",{className:"receipt-header",children:[i.jsx("h2",{className:"receipt-title",children:"Struk Belanja"}),i.jsxs("div",{className:"receipt-store-info",children:[i.jsx("p",{className:"receipt-store-name",children:i.jsx("strong",{children:"Jaya Perkasa Charcoal"})}),i.jsx("p",{children:"Jl.legok conggeang kec.paseh , sumedang"}),i.jsx("p",{children:"Telp: 0813-9458-6882"})]}),i.jsx("div",{className:"receipt-border"}),i.jsx("p",{className:"mt-3 mb-1",children:i.jsxs("strong",{children:["Pesanan #",s.id.substring(0,8)]})}),i.jsx("p",{children:new Date(s.date).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),l&&i.jsxs("div",{className:"receipt-customer-info",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Dikirim Ke:"})," ",l.name]}),i.jsx("p",{children:l.street}),i.jsx("p",{children:`${l.city}, ${l.state} ${l.zip}`})]}),i.jsx("div",{className:"receipt-border"}),i.jsx("div",{className:"receipt-items",children:s.items.map((S,N)=>i.jsxs("div",{className:"receipt-item",children:[i.jsxs("div",{children:[i.jsx("p",{children:S.productName}),i.jsxs("p",{children:["Jml: ",S.quantity," × ",pe(S.price)]})]}),i.jsx("span",{children:pe(S.quantity*S.price)})]},N))}),i.jsx("div",{className:"receipt-border"}),i.jsxs("div",{children:[i.jsxs("div",{className:"receipt-item",children:[i.jsx("span",{children:"Subtotal"}),i.jsx("span",{children:pe(s.items.reduce((S,N)=>S+N.price*N.quantity,0))})]}),s.discount_amount>0&&i.jsxs("div",{className:"receipt-item",style:{color:"#22c55e"},children:[i.jsxs("span",{children:["Diskon Voucher ",_!=null&&_.code?`(${_.code})`:""]}),i.jsxs("span",{children:["-",pe(s.discount_amount)]})]}),g&&i.jsxs("div",{className:"receipt-item",children:[i.jsxs("span",{children:["Pengiriman (",g.name,")"]}),i.jsx("span",{children:pe(g.cost)})]}),i.jsxs("div",{className:"receipt-total",children:[i.jsx("span",{children:"Total"}),i.jsx("span",{children:pe(s.total)})]})]}),i.jsxs("div",{className:"receipt-payment-info",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Metode Pembayaran:"})," ",s.paymentMethod==="bank-transfer"?"Transfer Bank":s.paymentMethod==="qris"?"QRIS":s.paymentMethod==="cod"?"Bayar di Tempat (COD)":"Pembayaran Standar"]}),s.paymentMethod==="bank-transfer"&&d&&i.jsxs("p",{children:["Bank: ",d.bank," - ",d.accountNumber]})]}),i.jsx("div",{className:"receipt-barcode",children:i.jsxs("p",{children:["*******",s.id.substring(0,8),"*******"]})}),i.jsx("div",{className:"receipt-thank-you",children:i.jsx("p",{children:"Jika ingin mendapatkan harga murah atau diskon segera hubungi admin"})}),i.jsxs("div",{className:"receipt-footer",children:[i.jsx("p",{children:"Layanan pelanggan: 0813-9458-6882"}),i.jsx("p",{children:"Jika Arang Belum Di Kirim Silahkan Chat Admin Dan Berikan Struk Bukti Pembayaran"}),i.jsx("p",{children:"Terima kasih"})]}),i.jsxs("div",{className:"mt-4 hidden-on-print space-y-2",children:[i.jsx(V,{onClick:()=>window.print(),className:"w-full",children:"Cetak Struk"}),i.jsx(V,{onClick:j,className:"w-full bg-green-600 hover:bg-green-700",disabled:x,children:x?i.jsxs(i.Fragment,{children:[i.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Yo,{className:"mr-2 h-4 w-4"}),"Simpan Sebagai Gambar"]})})]})]})]})})]})]}):i.jsx($t,{children:i.jsxs("div",{className:"p-4 flex flex-col items-center justify-center min-h-[50vh]",children:[i.jsx("p",{className:"text-muted-foreground",children:"Pesanan tidak ditemukan"}),i.jsx(V,{onClick:()=>e("/"),className:"mt-4 bg-flame-500 hover:bg-flame-600",children:"Kembali ke Beranda"})]})})};function Cwe(){const{user:t}=Ir(),[e,r]=v.useState([]),[n,a]=v.useState(!0);v.useEffect(()=>{async function c(){if(t){a(!0);try{const{data:u,error:A}=await J.from("orders").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(A)throw A;r(u||[])}catch(u){console.error("Error fetching orders:",u)}finally{a(!1)}}}c()},[t]);const s=c=>new Date(c).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),o=c=>{switch(c.toLowerCase()){case"pending":return i.jsx(yt,{variant:"outline",className:"bg-amber-100 text-amber-800 hover:bg-amber-100",children:"Menunggu Pembayaran"});case"processing":return i.jsx(yt,{variant:"outline",className:"bg-blue-100 text-blue-800 hover:bg-blue-100",children:"Diproses"});case"shipped":return i.jsx(yt,{variant:"outline",className:"bg-indigo-100 text-indigo-800 hover:bg-indigo-100",children:"Dikirim"});case"delivered":return i.jsx(yt,{variant:"outline",className:"bg-green-100 text-green-800 hover:bg-green-100",children:"Diterima"});case"canceled":return i.jsx(yt,{variant:"outline",className:"bg-red-100 text-red-800 hover:bg-red-100",children:"Dibatalkan"});case"completed":return i.jsx(yt,{variant:"outline",className:"bg-emerald-100 text-emerald-800 hover:bg-emerald-100",children:"Selesai"});default:return i.jsx(yt,{variant:"outline",children:c})}},l=c=>{switch(c){case"bank-transfer":return"Transfer Bank";case"cash-on-delivery":return"Bayar di Tempat (COD)";case"e-wallet":return"E-Wallet";case"credit-card":return"Kartu Kredit";default:return c}};return i.jsxs($t,{children:[i.jsxs("div",{className:"p-4 flex items-center shadow-sm mb-2",children:[i.jsx(ct,{to:"/",className:"text-charcoal-600 mr-2",children:i.jsx(bs,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-xl font-bold flex-1",children:"Daftar Pesanan"})]}),i.jsx("div",{className:"p-4",children:n?i.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[i.jsx(Kt,{className:"h-8 w-8 animate-spin text-flame-500 mb-2"}),i.jsx("p",{className:"text-muted-foreground",children:"Memuat daftar pesanan..."})]}):e.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[i.jsx(Vi,{className:"h-16 w-16 text-muted-foreground mb-4"}),i.jsx("h2",{className:"text-lg font-medium mb-2",children:"Belum Ada Pesanan"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Anda belum memiliki pesanan. Mulailah berbelanja untuk melihat pesanan Anda di sini."}),i.jsx(V,{asChild:!0,className:"bg-flame-500 hover:bg-flame-600",children:i.jsx(ct,{to:"/",children:"Mulai Belanja"})})]}):i.jsx("div",{className:"space-y-4",children:e.map(c=>i.jsx(ct,{to:`/order/${c.id}`,children:i.jsx(xe,{className:"hover:border-flame-200 transition-colors",children:i.jsxs(be,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Vi,{className:"h-5 w-5 text-flame-500 mr-2"}),i.jsxs("span",{className:"font-medium",children:["#",c.id.substring(0,8)]})]}),o(c.status)]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"text-sm text-muted-foreground flex items-center",children:[i.jsx(Z3,{className:"h-4 w-4 mr-1"}),"Tanggal"]}),i.jsx("div",{className:"text-sm",children:s(c.created_at)})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Metode Pembayaran"}),i.jsx("div",{className:"text-sm",children:l(c.payment_method)})]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:c.payment_status==="paid"?"Sudah Dibayar":"Menunggu Pembayaran"}),i.jsx("div",{className:"font-medium text-flame-700",children:pe(c.total)})]})]})})},c.id))})})]})}const Bwe=qr.object({email:qr.string().email({message:"Silakan masukkan alamat email yang valid"}),password:qr.string().min(1,{message:"Kata sandi wajib diisi"})}),Ewe=qr.object({email:qr.string().email({message:"Silakan masukkan alamat email yang valid"})}),Swe=()=>{const t=kt(),{toast:e}=Ns(),[r,n]=v.useState(!1),[a,s]=v.useState(!1),[o,l]=v.useState(!1),c=Jn({resolver:Yn(Bwe),defaultValues:{email:"",password:""}}),u=Jn({resolver:Yn(Ewe),defaultValues:{email:""}}),A=async h=>{s(!0);try{const{error:f}=await J.auth.resetPasswordForEmail(h.email,{redirectTo:`${window.location.origin}/reset-password`});if(f)throw f;e({title:"Email reset password telah dikirim",description:"Silakan periksa email Anda untuk melanjutkan proses reset password."}),l(!1)}catch(f){e({title:"Gagal mengirimkan reset password",description:f.message||"Terjadi kesalahan. Silakan coba lagi.",variant:"destructive"})}finally{s(!1)}},d=async h=>{n(!0);try{const{error:f}=await J.auth.signInWithPassword({email:h.email,password:h.password});if(f)throw f;e({title:"Login berhasil",description:"Anda telah berhasil masuk."}),t("/")}catch(f){console.error("Login error:",f),e({title:"Login gagal",description:f.message||"Silakan periksa kredensial Anda.",variant:"destructive"})}finally{n(!1)}};return i.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 bg-background",children:[i.jsxs("div",{className:"w-full max-w-md space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Selamat Datang Kembali"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Masuk ke akun Anda"})]}),i.jsx(Ln,{...c,children:i.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-4",children:[i.jsx(Qe,{control:c.control,name:"email",render:({field:h})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Email"}),i.jsx(Me,{children:i.jsx(le,{type:"email",placeholder:"namaemailmu@email.com",...h})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:c.control,name:"password",render:({field:h})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Kata Sandi"}),i.jsx(Me,{children:i.jsx(le,{type:"password",placeholder:"••••••••",...h})}),i.jsx($e,{})]})}),i.jsx("div",{className:"text-right",children:i.jsx("button",{type:"button",onClick:()=>l(!0),className:"text-sm text-flame-500 hover:underline",children:"Lupa Password?"})}),i.jsx(V,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:r,children:r?i.jsxs(i.Fragment,{children:[i.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Sedang masuk..."]}):"Masuk"})]})}),i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Belum memiliki akun?"," ",i.jsx(ct,{to:"/register",className:"text-flame-500 hover:underline",children:"Daftar"})]})})]}),i.jsx(or,{open:o,onOpenChange:l,children:i.jsxs(er,{className:"sm:max-w-md",children:[i.jsxs(dr,{children:[i.jsx(hr,{children:"Reset Password"}),i.jsx(_n,{children:"Masukkan alamat email Anda dan kami akan mengirimkan link untuk reset password."})]}),i.jsx(Ln,{...u,children:i.jsxs("form",{onSubmit:u.handleSubmit(A),className:"space-y-4 py-4",children:[i.jsx(Qe,{control:u.control,name:"email",render:({field:h})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Email"}),i.jsx(Me,{children:i.jsx(le,{type:"email",placeholder:"namaemailmu@email.com",autoComplete:"email",...h})}),i.jsx($e,{})]})}),i.jsxs(sn,{className:"sm:justify-between mt-4",children:[i.jsx(V,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Batal"}),i.jsx(V,{type:"submit",className:"bg-flame-500 hover:bg-flame-600",disabled:a,children:a?i.jsxs(i.Fragment,{children:[i.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Kirim Link Reset"})]})]})})]})})]})},dG=t=>{let e=t.replace(/\D/g,"");return e.startsWith("0")&&(e="62"+e.substring(1)),e.startsWith("62")||(e="62"+e),e},Nwe=qr.object({name:qr.string().min(2,{message:"Nama harus minimal 2 karakter"}),email:qr.string().email({message:"Silakan masukkan alamat email yang valid"}),whatsapp:qr.string().min(10,{message:"Nomor WhatsApp tidak valid"}).max(15,{message:"Nomor WhatsApp tidak valid"}).regex(/^(62|0)[0-9]{9,13}$/,{message:"Format nomor WhatsApp harus diawali 62/0 (contoh: 6281234567890 atau 081234567890)"}),password:qr.string().min(8,{message:"Kata sandi harus minimal 8 karakter"}),confirmPassword:qr.string()}).refine(t=>t.password===t.confirmPassword,{message:"Kata sandi tidak cocok",path:["confirmPassword"]}),Twe=()=>{const t=kt(),{toast:e}=Ns(),{register:r}=Ir(),[n,a]=v.useState(!1),s=Jn({resolver:Yn(Nwe),defaultValues:{name:"",email:"",whatsapp:"",password:"",confirmPassword:""}}),o=async l=>{var c;a(!0);try{const u=dG(l.whatsapp);await r(l.name,l.email,l.password);const{data:A,error:d}=await J.auth.getSession();if(d)throw d;if((c=A==null?void 0:A.session)!=null&&c.user){const{error:h}=await J.from("profiles").update({phone:u}).eq("id",A.session.user.id);h&&(console.error("Error saving WhatsApp number to profile:",h),e({variant:"destructive",title:"Terjadi kesalahan",description:"Gagal menyimpan nomor WhatsApp. Silakan update di halaman profil."}))}e({title:"Pendaftaran berhasil",description:"Akun Anda telah dibuat. Silakan periksa email Anda untuk verifikasi akun."}),t("/")}catch(u){console.error("Registration error:",u),e({title:"Pendaftaran gagal",description:u.message||"Terjadi kesalahan saat pendaftaran.",variant:"destructive"})}finally{a(!1)}};return i.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-background",children:i.jsxs("div",{className:"w-full max-w-md space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Buat Akun"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Daftar untuk mulai menggunakan layanan kami"})]}),i.jsx(Ln,{...s,children:i.jsxs("form",{onSubmit:s.handleSubmit(o),className:"space-y-4",children:[i.jsx(Qe,{control:s.control,name:"name",render:({field:l})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Nama"}),i.jsx(Me,{children:i.jsx(le,{placeholder:"Nama Anda",...l})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:s.control,name:"email",render:({field:l})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Email"}),i.jsx(Me,{children:i.jsx(le,{type:"email",placeholder:"namaemailkamu@email.com",...l})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:s.control,name:"whatsapp",render:({field:l})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Nomor WhatsApp"}),i.jsx(Me,{children:i.jsx(le,{type:"tel",placeholder:"6281234567890 atau 081234567890",...l})}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Format: Diawali dengan 62 atau 0, contoh: 6281234567890 atau 081234567890"}),i.jsx($e,{})]})}),i.jsx(Qe,{control:s.control,name:"password",render:({field:l})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Kata Sandi"}),i.jsx(Me,{children:i.jsx(le,{type:"password",placeholder:"••••••••",...l})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:s.control,name:"confirmPassword",render:({field:l})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Konfirmasi Kata Sandi"}),i.jsx(Me,{children:i.jsx(le,{type:"password",placeholder:"••••••••",...l})}),i.jsx($e,{})]})}),i.jsx(V,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:n,children:n?"Mendaftar...":"Daftar"})]})}),i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Sudah memiliki akun?"," ",i.jsx(ct,{to:"/login",className:"text-flame-500 hover:underline",children:"Masuk"})]})})]})})},kwe=qr.object({email:qr.string().email({message:"Please enter a valid email address"}),password:qr.string().min(1,{message:"Password is required"})}),Iwe=()=>{const t=kt(),{toast:e}=Ns(),{user:r,profile:n}=Ir(),[a,s]=v.useState(!1);v.useEffect(()=>{r&&n&&(n.role==="admin"||n.role==="manager")&&t("/admin")},[r,n,t]);const o=Jn({resolver:Yn(kwe),defaultValues:{email:"",password:""}}),l=async c=>{s(!0);try{const{error:u}=await J.auth.signInWithPassword({email:c.email,password:c.password});if(u)throw u;e({title:"Login successful",description:"You are now logged in."})}catch(u){console.error("Login error:",u),e({title:"Login failed",description:u.message||"Invalid email or password.",variant:"destructive"})}finally{s(!1)}};return i.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-background",children:i.jsxs("div",{className:"w-full max-w-md space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Admin Login"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Log in to access the admin panel"})]}),i.jsx(Ln,{...o,children:i.jsxs("form",{onSubmit:o.handleSubmit(l),className:"space-y-4",children:[i.jsx(Qe,{control:o.control,name:"email",render:({field:c})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Email"}),i.jsx(Me,{children:i.jsx(le,{type:"email",placeholder:"Your email",...c})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:o.control,name:"password",render:({field:c})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Password"}),i.jsx(Me,{children:i.jsx(le,{type:"password",placeholder:"Your password",...c})}),i.jsx($e,{})]})}),i.jsx(V,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:a,children:a?"Logging in...":"Login"})]})})]})})},Pwe=qr.object({name:qr.string().min(2,{message:"Name must be at least 2 characters"}),email:qr.string().email({message:"Please enter a valid email address"}),password:qr.string().min(8,{message:"Password must be at least 8 characters"}),role:qr.enum(["admin","manager"],{required_error:"Please select a role"})}),Owe=()=>{const t=kt(),{toast:e}=Ns(),[r,n]=v.useState(!1),a=Jn({resolver:Yn(Pwe),defaultValues:{name:"",email:"",password:"",role:"manager"}}),s=async o=>{n(!0);try{const{error:l,data:c}=await J.auth.signUp({email:o.email,password:o.password,options:{data:{name:o.name,role:o.role}}});if(l)throw l;if(c.user){const{error:u}=await J.from("profiles").upsert({id:c.user.id,name:o.name,email:o.email,role:o.role});if(u)throw u}e({title:"Registration successful",description:"Your account has been created and you are now logged in."}),t("/admin")}catch(l){console.error("Registration error:",l),e({title:"Registration failed",description:l.message||"An error occurred during registration.",variant:"destructive"})}finally{n(!1)}};return i.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-background",children:i.jsxs("div",{className:"w-full max-w-md space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Admin Registration"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Create an admin or manager account"})]}),i.jsx(Ln,{...a,children:i.jsxs("form",{onSubmit:a.handleSubmit(s),className:"space-y-4",children:[i.jsx(Qe,{control:a.control,name:"name",render:({field:o})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Name"}),i.jsx(Me,{children:i.jsx(le,{placeholder:"Your name",...o})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:a.control,name:"email",render:({field:o})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Email"}),i.jsx(Me,{children:i.jsx(le,{type:"email",placeholder:"Your email",...o})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:a.control,name:"password",render:({field:o})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Password"}),i.jsx(Me,{children:i.jsx(le,{type:"password",placeholder:"Your password",...o})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:a.control,name:"role",render:({field:o})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Role"}),i.jsxs(On,{onValueChange:o.onChange,defaultValue:o.value,children:[i.jsx(Me,{children:i.jsx(pn,{children:i.jsx(Fn,{placeholder:"Select a role"})})}),i.jsxs(gn,{children:[i.jsx(mt,{value:"admin",children:"Admin"}),i.jsx(mt,{value:"manager",children:"Manager"})]})]}),i.jsx($e,{})]})}),i.jsx(V,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:r,children:r?"Registering...":"Register"})]})}),i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",i.jsx(ct,{to:"/admin-login",className:"text-flame-500 hover:underline",children:"Login"})]})})]})})};function Xt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Yi(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Fwe(t,e){const r=Xt(t);return isNaN(e)?Yi(t,NaN):(r.setDate(r.getDate()+e),r)}const hG=6048e5,Dwe=864e5,Av=43200,KR=1440;let Rwe={};function Lp(){return Rwe}function Jc(t,e){var l,c,u,A;const r=Lp(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((A=(u=r.locale)==null?void 0:u.options)==null?void 0:A.weekStartsOn)??0,a=Xt(t),s=a.getDay(),o=(s<n?7:0)+s-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function ex(t){return Jc(t,{weekStartsOn:1})}function fG(t){const e=Xt(t),r=e.getFullYear(),n=Yi(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=ex(n),s=Yi(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=ex(s);return e.getTime()>=a.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function tx(t){const e=Xt(t);return e.setHours(0,0,0,0),e}function rx(t){const e=Xt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Uwe(t,e){const r=tx(t),n=tx(e),a=+r-rx(r),s=+n-rx(n);return Math.round((a-s)/Dwe)}function Mwe(t){const e=fG(t),r=Yi(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),ex(r)}function Xv(t,e){const r=Xt(t),n=Xt(e),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function Hp(t){return Yi(t,Date.now())}function mG(t,e){const r=tx(t),n=tx(e);return+r==+n}function Qwe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Lwe(t){if(!Qwe(t)&&typeof t!="number")return!1;const e=Xt(t);return!isNaN(Number(e))}function Hwe(t,e){const r=Xt(t),n=Xt(e),a=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return a*12+s}function $we(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function Vwe(t,e){return+Xt(t)-+Xt(e)}function Kwe(t){const e=Xt(t);return e.setHours(23,59,59,999),e}function qwe(t){const e=Xt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Gwe(t){const e=Xt(t);return+Kwe(e)==+qwe(e)}function zwe(t,e){const r=Xt(t),n=Xt(e),a=Xv(r,n),s=Math.abs(Hwe(r,n));let o;if(s<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*s);let l=Xv(r,n)===-a;Gwe(Xt(t))&&s===1&&Xv(t,n)===1&&(l=!1),o=a*(s-Number(l))}return o===0?0:o}function Wwe(t,e,r){const n=Vwe(t,e)/1e3;return $we(r==null?void 0:r.roundingMethod)(n)}function Xwe(t){const e=Xt(t),r=Yi(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Jwe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ywe=(t,e,r)=>{let n;const a=Jwe[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function hA(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Zwe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},e1e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},t1e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},r1e={date:hA({formats:Zwe,defaultWidth:"full"}),time:hA({formats:e1e,defaultWidth:"full"}),dateTime:hA({formats:t1e,defaultWidth:"full"})},n1e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},a1e=(t,e,r,n)=>n1e[t];function qs(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return a[s]}}const s1e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},i1e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},o1e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},l1e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},c1e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},u1e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},A1e=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},d1e={ordinalNumber:A1e,era:qs({values:s1e,defaultWidth:"wide"}),quarter:qs({values:i1e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:qs({values:o1e,defaultWidth:"wide"}),day:qs({values:l1e,defaultWidth:"wide"}),dayPeriod:qs({values:c1e,defaultWidth:"wide",formattingValues:u1e,defaultFormattingWidth:"wide"})};function Gs(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(a);if(!s)return null;const o=s[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?f1e(l,d=>d.test(o)):h1e(l,d=>d.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const A=e.slice(o.length);return{value:u,rest:A}}}function h1e(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function f1e(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function pG(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(a.length);return{value:o,rest:l}}}const m1e=/^(\d+)(th|st|nd|rd)?/i,p1e=/\d+/i,g1e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},v1e={any:[/^b/i,/^(a|c)/i]},y1e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},x1e={any:[/1/i,/2/i,/3/i,/4/i]},b1e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},w1e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},j1e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_1e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},C1e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},B1e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},E1e={ordinalNumber:pG({matchPattern:m1e,parsePattern:p1e,valueCallback:t=>parseInt(t,10)}),era:Gs({matchPatterns:g1e,defaultMatchWidth:"wide",parsePatterns:v1e,defaultParseWidth:"any"}),quarter:Gs({matchPatterns:y1e,defaultMatchWidth:"wide",parsePatterns:x1e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Gs({matchPatterns:b1e,defaultMatchWidth:"wide",parsePatterns:w1e,defaultParseWidth:"any"}),day:Gs({matchPatterns:j1e,defaultMatchWidth:"wide",parsePatterns:_1e,defaultParseWidth:"any"}),dayPeriod:Gs({matchPatterns:C1e,defaultMatchWidth:"any",parsePatterns:B1e,defaultParseWidth:"any"})},gG={code:"en-US",formatDistance:Ywe,formatLong:r1e,formatRelative:a1e,localize:d1e,match:E1e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function S1e(t){const e=Xt(t);return Uwe(e,Xwe(e))+1}function N1e(t){const e=Xt(t),r=+ex(e)-+Mwe(e);return Math.round(r/hG)+1}function vG(t,e){var A,d,h,f;const r=Xt(t),n=r.getFullYear(),a=Lp(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(A=e==null?void 0:e.locale)==null?void 0:A.options)==null?void 0:d.firstWeekContainsDate)??a.firstWeekContainsDate??((f=(h=a.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=Yi(t,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=Jc(o,e),c=Yi(t,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=Jc(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function T1e(t,e){var l,c,u,A;const r=Lp(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((A=(u=r.locale)==null?void 0:u.options)==null?void 0:A.firstWeekContainsDate)??1,a=vG(t,e),s=Yi(t,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),Jc(s,e)}function k1e(t,e){const r=Xt(t),n=+Jc(r,e)-+T1e(r,e);return Math.round(n/hG)+1}function Zt(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const bo={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Zt(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Zt(r+1,2)},d(t,e){return Zt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Zt(t.getHours()%12||12,e.length)},H(t,e){return Zt(t.getHours(),e.length)},m(t,e){return Zt(t.getMinutes(),e.length)},s(t,e){return Zt(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Zt(a,e.length)}},Mu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qR={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return bo.y(t,e)},Y:function(t,e,r,n){const a=vG(t,n),s=a>0?a:1-a;if(e==="YY"){const o=s%100;return Zt(o,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):Zt(s,e.length)},R:function(t,e){const r=fG(t);return Zt(r,e.length)},u:function(t,e){const r=t.getFullYear();return Zt(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Zt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Zt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return bo.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Zt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=k1e(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):Zt(a,e.length)},I:function(t,e,r){const n=N1e(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Zt(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):bo.d(t,e)},D:function(t,e,r){const n=S1e(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Zt(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Zt(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Zt(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return Zt(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=Mu.noon:n===0?a=Mu.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=Mu.evening:n>=12?a=Mu.afternoon:n>=4?a=Mu.morning:a=Mu.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return bo.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):bo.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Zt(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Zt(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):bo.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):bo.s(t,e)},S:function(t,e){return bo.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return zR(n);case"XXXX":case"XX":return nc(n);case"XXXXX":case"XXX":default:return nc(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return zR(n);case"xxxx":case"xx":return nc(n);case"xxxxx":case"xxx":default:return nc(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+GR(n,":");case"OOOO":default:return"GMT"+nc(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+GR(n,":");case"zzzz":default:return"GMT"+nc(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Zt(n,e.length)},T:function(t,e,r){const n=t.getTime();return Zt(n,e.length)}};function GR(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+e+Zt(s,2)}function zR(t,e){return t%60===0?(t>0?"-":"+")+Zt(Math.abs(t)/60,2):nc(t,e)}function nc(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Zt(Math.trunc(n/60),2),s=Zt(n%60,2);return r+a+e+s}const WR=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},yG=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},I1e=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return WR(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",WR(n,e)).replace("{{time}}",yG(a,e))},P1e={p:yG,P:I1e},O1e=/^D+$/,F1e=/^Y+$/,D1e=["D","DD","YY","YYYY"];function R1e(t){return O1e.test(t)}function U1e(t){return F1e.test(t)}function M1e(t,e,r){const n=Q1e(t,e,r);if(console.warn(n),D1e.includes(t))throw new RangeError(n)}function Q1e(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const L1e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,H1e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$1e=/^'([^]*?)'?$/,V1e=/''/g,K1e=/[a-zA-Z]/;function an(t,e,r){var A,d,h,f,p,g,m,x;const n=Lp(),a=(r==null?void 0:r.locale)??n.locale??gG,s=(r==null?void 0:r.firstWeekContainsDate)??((d=(A=r==null?void 0:r.locale)==null?void 0:A.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(h=n.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((x=(m=n.locale)==null?void 0:m.options)==null?void 0:x.weekStartsOn)??0,l=Xt(t);if(!Lwe(l))throw new RangeError("Invalid time value");let c=e.match(H1e).map(b=>{const _=b[0];if(_==="p"||_==="P"){const w=P1e[_];return w(b,a.formatLong)}return b}).join("").match(L1e).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const _=b[0];if(_==="'")return{isToken:!1,value:q1e(b)};if(qR[_])return{isToken:!0,value:b};if(_.match(K1e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:a};return c.map(b=>{if(!b.isToken)return b.value;const _=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&U1e(_)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&R1e(_))&&M1e(_,e,String(t));const w=qR[_[0]];return w(l,_,a.localize,u)}).join("")}function q1e(t){const e=t.match($1e);return e?e[1].replace(V1e,"'"):t}function G1e(t,e,r){const n=Lp(),a=(r==null?void 0:r.locale)??n.locale??gG,s=2520,o=Xv(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Xt(e),u=Xt(t)):(c=Xt(t),u=Xt(e));const A=Wwe(u,c),d=(rx(u)-rx(c))/1e3,h=Math.round((A-d)/60);let f;if(h<2)return r!=null&&r.includeSeconds?A<5?a.formatDistance("lessThanXSeconds",5,l):A<10?a.formatDistance("lessThanXSeconds",10,l):A<20?a.formatDistance("lessThanXSeconds",20,l):A<40?a.formatDistance("halfAMinute",0,l):A<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<KR){const p=Math.round(h/60);return a.formatDistance("aboutXHours",p,l)}else{if(h<s)return a.formatDistance("xDays",1,l);if(h<Av){const p=Math.round(h/KR);return a.formatDistance("xDays",p,l)}else if(h<Av*2)return f=Math.round(h/Av),a.formatDistance("aboutXMonths",f,l)}if(f=zwe(u,c),f<12){const p=Math.round(h/Av);return a.formatDistance("xMonths",p,l)}else{const p=f%12,g=Math.trunc(f/12);return p<3?a.formatDistance("aboutXYears",g,l):p<9?a.formatDistance("overXYears",g,l):a.formatDistance("almostXYears",g+1,l)}}function z1e(t,e){return G1e(t,Hp(t),e)}function W1e(t,e,r){const n=Jc(t,r),a=Jc(e,r);return+n==+a}function X1e(t,e){const r=Xt(t),n=Xt(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function J1e(t){return X1e(t,Hp(t))}function Y1e(t,e){return W1e(t,Hp(t),e)}function Z1e(t){return mG(t,Hp(t))}function eje(t,e){return Fwe(t,-1)}function tje(t){return mG(t,eje(Hp(t)))}const rje={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXWeeks:{one:"sekitar 1 minggu",other:"sekitar {{count}} minggu"},xWeeks:{one:"1 minggu",other:"{{count}} minggu"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}},nje=(t,e,r)=>{let n;const a=rje[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dalam waktu "+n:n+" yang lalu":n},aje={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"d/M/yyyy"},sje={full:"HH.mm.ss",long:"HH.mm.ss",medium:"HH.mm",short:"HH.mm"},ije={full:"{{date}} 'pukul' {{time}}",long:"{{date}} 'pukul' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oje={date:hA({formats:aje,defaultWidth:"full"}),time:hA({formats:sje,defaultWidth:"full"}),dateTime:hA({formats:ije,defaultWidth:"full"})},lje={lastWeek:"eeee 'lalu pukul' p",yesterday:"'Kemarin pukul' p",today:"'Hari ini pukul' p",tomorrow:"'Besok pukul' p",nextWeek:"eeee 'pukul' p",other:"P"},cje=(t,e,r,n)=>lje[t],uje={narrow:["SM","M"],abbreviated:["SM","M"],wide:["Sebelum Masehi","Masehi"]},Aje={narrow:["1","2","3","4"],abbreviated:["K1","K2","K3","K4"],wide:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"]},dje={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],wide:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},hje={narrow:["M","S","S","R","K","J","S"],short:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],abbreviated:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],wide:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},fje={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},mje={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},pje=(t,e)=>"ke-"+Number(t),gje={ordinalNumber:pje,era:qs({values:uje,defaultWidth:"wide"}),quarter:qs({values:Aje,defaultWidth:"wide",argumentCallback:t=>t-1}),month:qs({values:dje,defaultWidth:"wide"}),day:qs({values:hje,defaultWidth:"wide"}),dayPeriod:qs({values:fje,defaultWidth:"wide",formattingValues:mje,defaultFormattingWidth:"wide"})},vje=/^ke-(\d+)?/i,yje=/\d+/i,xje={narrow:/^(sm|m)/i,abbreviated:/^(s\.?\s?m\.?|s\.?\s?e\.?\s?u\.?|m\.?|e\.?\s?u\.?)/i,wide:/^(sebelum masehi|sebelum era umum|masehi|era umum)/i},bje={any:[/^s/i,/^(m|e)/i]},wje={narrow:/^[1234]/i,abbreviated:/^K-?\s[1234]/i,wide:/^Kuartal ke-?\s?[1234]/i},jje={any:[/1/i,/2/i,/3/i,/4/i]},_je={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|mei|jun|jul|agt|sep|okt|nov|des)/i,wide:/^(januari|februari|maret|april|mei|juni|juli|agustus|september|oktober|november|desember)/i},Cje={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^ma/i,/^ap/i,/^me/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},Bje={narrow:/^[srkjm]/i,short:/^(min|sen|sel|rab|kam|jum|sab)/i,abbreviated:/^(min|sen|sel|rab|kam|jum|sab)/i,wide:/^(minggu|senin|selasa|rabu|kamis|jumat|sabtu)/i},Eje={narrow:[/^m/i,/^s/i,/^s/i,/^r/i,/^k/i,/^j/i,/^s/i],any:[/^m/i,/^sen/i,/^sel/i,/^r/i,/^k/i,/^j/i,/^sa/i]},Sje={narrow:/^(a|p|tengah m|tengah h|(di(\swaktu)?) (pagi|siang|sore|malam))/i,any:/^([ap]\.?\s?m\.?|tengah malam|tengah hari|(di(\swaktu)?) (pagi|siang|sore|malam))/i},Nje={any:{am:/^a/i,pm:/^pm/i,midnight:/^tengah m/i,noon:/^tengah h/i,morning:/pagi/i,afternoon:/siang/i,evening:/sore/i,night:/malam/i}},Tje={ordinalNumber:pG({matchPattern:vje,parsePattern:yje,valueCallback:t=>parseInt(t,10)}),era:Gs({matchPatterns:xje,defaultMatchWidth:"wide",parsePatterns:bje,defaultParseWidth:"any"}),quarter:Gs({matchPatterns:wje,defaultMatchWidth:"wide",parsePatterns:jje,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Gs({matchPatterns:_je,defaultMatchWidth:"wide",parsePatterns:Cje,defaultParseWidth:"any"}),day:Gs({matchPatterns:Bje,defaultMatchWidth:"wide",parsePatterns:Eje,defaultParseWidth:"any"}),dayPeriod:Gs({matchPatterns:Sje,defaultMatchWidth:"any",parsePatterns:Nje,defaultParseWidth:"any"})},za={code:"id",formatDistance:nje,formatLong:oje,formatRelative:cje,localize:gje,match:Tje,options:{weekStartsOn:1,firstWeekContainsDate:1}};function kje({content:t,timestamp:e,isAdmin:r,senderName:n,orderInfo:a}){const{profile:s}=Ir(),o=(s==null?void 0:s.role)==="admin"?r:!r;return i.jsx("div",{className:de("flex mb-4",o?"justify-end":"justify-start"),children:i.jsxs("div",{className:de("max-w-[75%] rounded-lg px-4 py-2 shadow-sm",o?"bg-flame-500 text-white rounded-br-none":"bg-white text-charcoal-800 border rounded-bl-none"),children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:de("text-xs font-medium",o?"text-white/80":"text-charcoal-500"),children:n}),i.jsx("span",{className:de("text-xs ml-2",o?"text-white/70":"text-charcoal-400"),children:z1e(new Date(e),{addSuffix:!0,locale:za})})]}),i.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:t}),a&&i.jsx("div",{className:"mt-2 pt-2 border-t border-white/20 text-xs",children:i.jsx("div",{className:de("rounded-md p-2",o?"bg-white/10":"bg-flame-50"),children:i.jsxs("div",{className:de("font-medium",o?"text-white":"text-flame-600"),children:["📌 Pesanan Disematkan: #",a.orderId.substring(0,8)]})})})]})})}const Cl=v.forwardRef(({className:t,...e},r)=>i.jsx("textarea",{className:de("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Cl.displayName="Textarea";var mI="Popover",[xG,i5e]=fa(mI,[Pd]),$p=Pd(),[Ije,Ol]=xG(mI),bG=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!1}=t,l=$p(e),c=v.useRef(null),[u,A]=v.useState(!1),[d=!1,h]=Ya({prop:n,defaultProp:a,onChange:s});return i.jsx(kT,{...l,children:i.jsx(Ije,{scope:e,contentId:Ys(),triggerRef:c,open:d,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(f=>!f),[h]),hasCustomAnchor:u,onCustomAnchorAdd:v.useCallback(()=>A(!0),[]),onCustomAnchorRemove:v.useCallback(()=>A(!1),[]),modal:o,children:r})})};bG.displayName=mI;var wG="PopoverAnchor",Pje=v.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=Ol(wG,r),s=$p(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return v.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(d0,{...s,...n,ref:e})});Pje.displayName=wG;var jG="PopoverTrigger",_G=v.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=Ol(jG,r),s=$p(r),o=pt(e,a.triggerRef),l=i.jsx(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":NG(a.open),...n,ref:o,onClick:Oe(t.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:i.jsx(d0,{asChild:!0,...s,children:l})});_G.displayName=jG;var pI="PopoverPortal",[Oje,Fje]=xG(pI,{forceMount:void 0}),CG=t=>{const{__scopePopover:e,forceMount:r,children:n,container:a}=t,s=Ol(pI,e);return i.jsx(Oje,{scope:e,forceMount:r,children:i.jsx(ra,{present:r||s.open,children:i.jsx(mp,{asChild:!0,container:a,children:n})})})};CG.displayName=pI;var td="PopoverContent",BG=v.forwardRef((t,e)=>{const r=Fje(td,t.__scopePopover),{forceMount:n=r.forceMount,...a}=t,s=Ol(td,t.__scopePopover);return i.jsx(ra,{present:n||s.open,children:s.modal?i.jsx(Dje,{...a,ref:e}):i.jsx(Rje,{...a,ref:e})})});BG.displayName=td;var Dje=v.forwardRef((t,e)=>{const r=Ol(td,t.__scopePopover),n=v.useRef(null),a=pt(e,n),s=v.useRef(!1);return v.useEffect(()=>{const o=n.current;if(o)return Mk(o)},[]),i.jsx(K0,{as:$i,allowPinchZoom:!0,children:i.jsx(EG,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Oe(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),s.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Oe(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Oe(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Rje=v.forwardRef((t,e)=>{const r=Ol(td,t.__scopePopover),n=v.useRef(!1),a=v.useRef(!1);return i.jsx(EG,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),EG=v.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:A,...d}=t,h=Ol(td,r),f=$p(r);return Uk(),i.jsx($0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(Ed,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:A,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:i.jsx(IT,{"data-state":NG(h.open),role:"dialog",id:h.contentId,...f,...d,ref:e,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),SG="PopoverClose",Uje=v.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=Ol(SG,r);return i.jsx(Je.button,{type:"button",...n,ref:e,onClick:Oe(t.onClick,()=>a.onOpenChange(!1))})});Uje.displayName=SG;var Mje="PopoverArrow",Qje=v.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=$p(r);return i.jsx(PT,{...a,...n,ref:e})});Qje.displayName=Mje;function NG(t){return t?"open":"closed"}var Lje=bG,Hje=_G,$je=CG,TG=BG;const Vje=Lje,Kje=Hje,kG=v.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},a)=>i.jsx($je,{children:i.jsx(TG,{ref:a,align:e,sideOffset:r,className:de("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));kG.displayName=TG.displayName;function qje(t,e){return v.useReducer((r,n)=>e[r][n]??r,t)}var gI="ScrollArea",[IG,o5e]=fa(gI),[Gje,es]=IG(gI),PG=v.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:s=600,...o}=t,[l,c]=v.useState(null),[u,A]=v.useState(null),[d,h]=v.useState(null),[f,p]=v.useState(null),[g,m]=v.useState(null),[x,b]=v.useState(0),[_,w]=v.useState(0),[C,E]=v.useState(!1),[j,B]=v.useState(!1),S=pt(e,I=>c(I)),N=Ld(a);return i.jsx(Gje,{scope:r,type:n,dir:N,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:A,content:d,onContentChange:h,scrollbarX:f,onScrollbarXChange:p,scrollbarXEnabled:C,onScrollbarXEnabledChange:E,scrollbarY:g,onScrollbarYChange:m,scrollbarYEnabled:j,onScrollbarYEnabledChange:B,onCornerWidthChange:b,onCornerHeightChange:w,children:i.jsx(Je.div,{dir:N,...o,ref:S,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":_+"px",...t.style}})})});PG.displayName=gI;var OG="ScrollAreaViewport",FG=v.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,asChild:a,nonce:s,...o}=t,l=es(OG,r),c=v.useRef(null),u=pt(e,c,l.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:s}),i.jsx(Je.div,{"data-radix-scroll-area-viewport":"",...o,asChild:a,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:n_e({asChild:a,children:n},A=>i.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:A}))})]})});FG.displayName=OG;var mi="ScrollAreaScrollbar",vI=v.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=es(mi,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=a,l=t.orientation==="horizontal";return v.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),a.type==="hover"?i.jsx(zje,{...n,ref:e,forceMount:r}):a.type==="scroll"?i.jsx(Wje,{...n,ref:e,forceMount:r}):a.type==="auto"?i.jsx(DG,{...n,ref:e,forceMount:r}):a.type==="always"?i.jsx(yI,{...n,ref:e}):null});vI.displayName=mi;var zje=v.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=es(mi,t.__scopeScrollArea),[s,o]=v.useState(!1);return v.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},A=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",A),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",A)}}},[a.scrollArea,a.scrollHideDelay]),i.jsx(ra,{present:r||s,children:i.jsx(DG,{"data-state":s?"visible":"hidden",...n,ref:e})})}),Wje=v.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=es(mi,t.__scopeScrollArea),s=t.orientation==="horizontal",o=fb(()=>c("SCROLL_END"),100),[l,c]=qje("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),v.useEffect(()=>{const u=a.viewport,A=s?"scrollLeft":"scrollTop";if(u){let d=u[A];const h=()=>{const f=u[A];d!==f&&(c("SCROLL"),o()),d=f};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,s,c,o]),i.jsx(ra,{present:r||l!=="hidden",children:i.jsx(yI,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:Oe(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Oe(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),DG=v.forwardRef((t,e)=>{const r=es(mi,t.__scopeScrollArea),{forceMount:n,...a}=t,[s,o]=v.useState(!1),l=t.orientation==="horizontal",c=fb(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,A=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:A)}},10);return rd(r.viewport,c),rd(r.content,c),i.jsx(ra,{present:n||s,children:i.jsx(yI,{"data-state":s?"visible":"hidden",...a,ref:e})})}),yI=v.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,a=es(mi,t.__scopeScrollArea),s=v.useRef(null),o=v.useRef(0),[l,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=LG(l.viewport,l.content),A={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function d(h,f){return t_e(h,o.current,l,f)}return r==="horizontal"?i.jsx(Xje,{...A,ref:e,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollLeft,f=XR(h,l,a.dir);s.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=d(h,a.dir))}}):r==="vertical"?i.jsx(Jje,{...A,ref:e,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollTop,f=XR(h,l);s.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=d(h))}}):null}),Xje=v.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,s=es(mi,t.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=pt(e,c,s.onScrollbarXChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(UG,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":hb(r)+"px",...t.style},onThumbPointerDown:A=>t.onThumbPointerDown(A.x),onDragScroll:A=>t.onDragScroll(A.x),onWheelScroll:(A,d)=>{if(s.viewport){const h=s.viewport.scrollLeft+A.deltaX;t.onWheelScroll(h),$G(h,d)&&A.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:ax(o.paddingLeft),paddingEnd:ax(o.paddingRight)}})}})}),Jje=v.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,s=es(mi,t.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=pt(e,c,s.onScrollbarYChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(UG,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":hb(r)+"px",...t.style},onThumbPointerDown:A=>t.onThumbPointerDown(A.y),onDragScroll:A=>t.onDragScroll(A.y),onWheelScroll:(A,d)=>{if(s.viewport){const h=s.viewport.scrollTop+A.deltaY;t.onWheelScroll(h),$G(h,d)&&A.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:ax(o.paddingTop),paddingEnd:ax(o.paddingBottom)}})}})}),[Yje,RG]=IG(mi),UG=v.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:A,onResize:d,...h}=t,f=es(mi,r),[p,g]=v.useState(null),m=pt(e,S=>g(S)),x=v.useRef(null),b=v.useRef(""),_=f.viewport,w=n.content-n.viewport,C=Tr(A),E=Tr(c),j=fb(d,10);function B(S){if(x.current){const N=S.clientX-x.current.left,I=S.clientY-x.current.top;u({x:N,y:I})}}return v.useEffect(()=>{const S=N=>{const I=N.target;(p==null?void 0:p.contains(I))&&C(N,w)};return document.addEventListener("wheel",S,{passive:!1}),()=>document.removeEventListener("wheel",S,{passive:!1})},[_,p,w,C]),v.useEffect(E,[n,E]),rd(p,j),rd(f.content,j),i.jsx(Yje,{scope:r,scrollbar:p,hasThumb:a,onThumbChange:Tr(s),onThumbPointerUp:Tr(o),onThumbPositionChange:E,onThumbPointerDown:Tr(l),children:i.jsx(Je.div,{...h,ref:m,style:{position:"absolute",...h.style},onPointerDown:Oe(t.onPointerDown,S=>{S.button===0&&(S.target.setPointerCapture(S.pointerId),x.current=p.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),B(S))}),onPointerMove:Oe(t.onPointerMove,B),onPointerUp:Oe(t.onPointerUp,S=>{const N=S.target;N.hasPointerCapture(S.pointerId)&&N.releasePointerCapture(S.pointerId),document.body.style.webkitUserSelect=b.current,f.viewport&&(f.viewport.style.scrollBehavior=""),x.current=null})})})}),nx="ScrollAreaThumb",MG=v.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=RG(nx,t.__scopeScrollArea);return i.jsx(ra,{present:r||a.hasThumb,children:i.jsx(Zje,{ref:e,...n})})}),Zje=v.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...a}=t,s=es(nx,r),o=RG(nx,r),{onThumbPositionChange:l}=o,c=pt(e,d=>o.onThumbChange(d)),u=v.useRef(),A=fb(()=>{u.current&&(u.current(),u.current=void 0)},100);return v.useEffect(()=>{const d=s.viewport;if(d){const h=()=>{if(A(),!u.current){const f=r_e(d,l);u.current=f,l()}};return l(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[s.viewport,A,l]),i.jsx(Je.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Oe(t.onPointerDownCapture,d=>{const f=d.target.getBoundingClientRect(),p=d.clientX-f.left,g=d.clientY-f.top;o.onThumbPointerDown({x:p,y:g})}),onPointerUp:Oe(t.onPointerUp,o.onThumbPointerUp)})});MG.displayName=nx;var xI="ScrollAreaCorner",QG=v.forwardRef((t,e)=>{const r=es(xI,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(e_e,{...t,ref:e}):null});QG.displayName=xI;var e_e=v.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,a=es(xI,r),[s,o]=v.useState(0),[l,c]=v.useState(0),u=!!(s&&l);return rd(a.scrollbarX,()=>{var d;const A=((d=a.scrollbarX)==null?void 0:d.offsetHeight)||0;a.onCornerHeightChange(A),c(A)}),rd(a.scrollbarY,()=>{var d;const A=((d=a.scrollbarY)==null?void 0:d.offsetWidth)||0;a.onCornerWidthChange(A),o(A)}),u?i.jsx(Je.div,{...n,ref:e,style:{width:s,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function ax(t){return t?parseInt(t,10):0}function LG(t,e){const r=t/e;return isNaN(r)?0:r}function hb(t){const e=LG(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function t_e(t,e,r,n="ltr"){const a=hb(r),s=a/2,o=e||s,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,A=r.content-r.viewport,d=n==="ltr"?[0,A]:[A*-1,0];return HG([c,u],d)(t)}function XR(t,e,r="ltr"){const n=hb(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-a,o=e.content-e.viewport,l=s-n,c=r==="ltr"?[0,o]:[o*-1,0],u=cm(t,c);return HG([0,o],[0,l])(u)}function HG(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function $G(t,e){return t>0&&t<e}var r_e=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function a(){const s={left:t.scrollLeft,top:t.scrollTop},o=r.left!==s.left,l=r.top!==s.top;(o||l)&&e(),r=s,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function fb(t,e){const r=Tr(t),n=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),v.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function rd(t,e){const r=Tr(e);Wr(()=>{let n=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(t),()=>{window.cancelAnimationFrame(n),a.unobserve(t)}}},[t,r])}function n_e(t,e){const{asChild:r,children:n}=t;if(!r)return typeof e=="function"?e(n):e;const a=v.Children.only(n);return v.cloneElement(a,{children:typeof e=="function"?e(a.props.children):e})}var VG=PG,a_e=FG,s_e=QG;const Yc=v.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(VG,{ref:n,className:de("relative overflow-hidden",t),...r,children:[i.jsx(a_e,{className:"h-full w-full rounded-[inherit]",children:e}),i.jsx(KG,{}),i.jsx(s_e,{})]}));Yc.displayName=VG.displayName;const KG=v.forwardRef(({className:t,orientation:e="vertical",...r},n)=>i.jsx(vI,{ref:n,orientation:e,className:de("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:i.jsx(MG,{className:"relative flex-1 rounded-full bg-border"})}));KG.displayName=vI.displayName;function i_e({onSendMessage:t,isLoading:e,userOrders:r,className:n,disabled:a}){const[s,o]=v.useState(""),[l,c]=v.useState(null),u=()=>{s.trim()&&!a&&(t(s.trim(),l),o(""),c(null))},A=d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),u())};return i.jsxs("div",{className:`border-t p-3 bg-background ${n} ${a?"opacity-50 pointer-events-none":""}`,children:[l&&i.jsxs("div",{className:"bg-flame-50 text-flame-600 rounded-md p-2 mb-2 text-xs flex justify-between items-center",children:[i.jsxs("span",{children:["📌 Pesanan #",l.substring(0,8)," disematkan"]}),i.jsx(V,{variant:"ghost",size:"sm",onClick:()=>c(null),className:"h-6 text-xs",disabled:a,children:"Hapus"})]}),i.jsxs("div",{className:"flex gap-2",children:[r&&r.length>0&&i.jsxs(Vje,{children:[i.jsx(Kje,{asChild:!0,children:i.jsx(V,{variant:"outline",size:"icon",className:"shrink-0","aria-label":"Sematkan Pesanan",disabled:a,children:i.jsx(gee,{className:"h-5 w-5"})})}),i.jsxs(kG,{className:"w-64 p-2",align:"start",side:"top",children:[i.jsx("h3",{className:"font-medium text-sm px-2 py-1",children:"Sematkan Pesanan"}),i.jsx(Yc,{className:"h-64",children:i.jsx("div",{className:"space-y-1 mt-1",children:r.map(d=>i.jsx(V,{variant:"ghost",className:"w-full justify-start text-left p-2 h-auto",onClick:()=>c(d.id),children:i.jsxs("div",{className:"text-xs",children:[i.jsxs("div",{className:"font-medium",children:["Pesanan #",d.id.substring(0,8)]}),i.jsx("div",{className:"text-muted-foreground",children:new Date(d.date).toLocaleDateString()})]})},d.id))})})]})]}),i.jsx(Cl,{placeholder:"Ketik pesan...",value:s,onChange:d=>o(d.target.value),onKeyDown:A,className:"min-h-[44px] resize-none",rows:1,disabled:a}),i.jsx(V,{onClick:u,disabled:!s.trim()||e||a,size:"icon",className:"bg-flame-500 hover:bg-flame-600 shrink-0",children:i.jsx(o6,{className:"h-5 w-5"})})]})]})}function MS(t){const e=v.useRef(null);return v.useCallback(()=>{e.current||(e.current=new Audio(t)),e.current.play().catch(n=>{console.warn(`Could not play sound ${t}:`,n)})},[t])}const JR=Nk(Qd),o_e=async t=>{if(t.sender_type!=="customer")return!1;try{const{data:e,error:r}=await J.from("profiles").select("name, email").eq("id",t.sender_id).single();if(r)throw console.error("Error fetching customer data:",r),r;const{data:n,error:a}=await J.from("chat_sessions").select("admin_id").eq("id",t.session_id).single();if(a)throw console.error("Error fetching session data:",a),a;const s={type:"chat",title:"Pesan Baru",message:`${(e==null?void 0:e.name)||"Pelanggan"}: ${t.content.substring(0,50)}${t.content.length>50?"...":""}`,sessionId:t.session_id,customerId:t.sender_id,customerName:(e==null?void 0:e.name)||"Pelanggan",timestamp:Date.now(),isRead:!1};if(n!=null&&n.admin_id){const{data:u,error:A}=await J.from("profiles").select("id, fcm_token").eq("id",n.admin_id).single();if(A)throw console.error("Error fetching admin data:",A),A;if(u!=null&&u.fcm_token)return await cD(sD(JR,"notifications"),{...s,recipientId:u.id,fcmToken:u.fcm_token}),console.log("Chat notification sent to assigned admin",s),!0}const{data:o,error:l}=await J.from("profiles").select("id, fcm_token").eq("role","admin");if(l)throw console.error("Error fetching admin users:",l),l;const c=[];for(const u of o||[])u.fcm_token&&c.push(cD(sD(JR,"notifications"),{...s,recipientId:u.id,fcmToken:u.fcm_token}));await Promise.all(c);try{const u=await khe();if(u&&u.length>0){console.log(`Sending WhatsApp notifications to ${u.length} admins`);const d=`${window.location.origin}/admin/chat?session=${t.session_id}`,h=`📨 Pesan baru dari ${s.customerName}:
"${t.content.substring(0,100)}${t.content.length>100?"...":""}"

Klik untuk melihat: ${d}`,f=u.map(p=>vK(p,h));await Promise.all(f),console.log("WhatsApp notifications sent to admins")}else console.log("No admin phone numbers found for WhatsApp notifications")}catch(u){console.error("Error sending WhatsApp notifications:",u)}return console.log("Chat notification sent to all admins",s),!0}catch(e){return console.error("Error sending chat notification:",e),!1}},YR=(t,e,r,n)=>{const a=t.sender_type==="admin";return{id:t.id,senderId:t.sender_id,senderName:a?r||"Dukungan":t.sender_id===e?n||"Anda":n||"Pelanggan",content:t.content,timestamp:t.created_at,isAdmin:a,orderInfo:t.order_info}};function qG({chatPartnerId:t,chatPartnerName:e="Dukungan",isAdmin:r=!1}){const{user:n,profile:a}=Ir(),s=kt();s$();const o=v.useRef(null),[l,c]=v.useState([]),[u,A]=v.useState(null),[d,h]=v.useState(!0),[f,p]=v.useState(!1),[g,m]=v.useState(e),x=MS("/sounds/new_chat_message_sound.mp3"),{data:b}=Wne({queryKey:["userOrders",n==null?void 0:n.id],queryFn:async()=>{if(!n)return[];const{data:C,error:E}=await J.from("orders").select("id, total, date, status").eq("user_id",n.id).order("date",{ascending:!1});if(E)throw E;return C},enabled:!!n&&!r});v.useEffect(()=>{if(!n||!a){h(!1);return}(async()=>{h(!0);try{let E=null;if(r){if(!t){he({title:"Error",description:"Gagal membuat sesi chat admin",variant:"destructive"}),s("/admin/chats");return}const{data:j,error:B}=await J.from("chat_sessions").select("*").eq("customer_id",t).in("status",["open","active","pending"]).order("created_at",{ascending:!1}).limit(1);if(B)throw B;if(j&&j.length>0){if(E=j[0],E.admin_id!==n.id&&E.status==="open"){const{data:S,error:N}=await J.from("chat_sessions").update({admin_id:n.id,status:"active"}).eq("id",E.id).select().maybeSingle();if(N)throw N;if(!S)throw console.error("Failed to retrieve session after admin assignment update for session ID:",E.id),new Error("Failed to retrieve session after admin assignment.");E=S}}else{he({title:"Tidak ada sesi aktif",description:"Tidak ada sesi chat aktif dengan pelanggan ini. Mereka mungkin perlu memulai chat terlebih dahulu.",variant:"default"}),A(null),c([]),h(!1);return}}else{const{data:j,error:B}=await J.from("chat_sessions").select("*").eq("customer_id",n.id).in("status",["open","active","pending"]).order("last_message_at",{ascending:!1,nullsFirst:!1}).limit(1);if(B)throw B;if(j&&j.length>0)E=j[0];else{const{data:S,error:N}=await J.from("chat_sessions").insert({customer_id:n.id,status:"open",topic:"Pertanyaan Umum"}).select().maybeSingle();if(N)throw N;if(!S)throw console.error("Failed to create and retrieve new chat session for user:",n.id),new Error("Failed to create and retrieve chat session.");E=S}}A(E)}catch(E){console.error("Error managing session:",E),he({title:"Error Chat",description:`Gagal memuat atau membuat sesi chat: ${E.message}`,variant:"destructive"}),A(null)}finally{h(!1)}})()},[n,a,r,t,s]),v.useEffect(()=>{if(!u||!n||!a){c([]);return}(async()=>{try{const{data:E,error:j}=await J.from("messages").select("*, sender_profile:sender_id(name, email)").eq("session_id",u.id).order("created_at",{ascending:!0});if(j)throw j;const B=r?g:a.name,S=r?a.name:"Dukungan",N=E.map(I=>YR(I,n.id,S||"Support",B||"Customer"));c(N)}catch(E){console.error("Error fetching messages:",E),he({title:"Error",description:"Gagal mengambil detail rekan chat",variant:"destructive"})}})()},[u,n,a,r,g]),v.useEffect(()=>{if(!u||!n||!a)return;const C=J.channel(`messages_session_${u.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`session_id=eq.${u.id}`},E=>{const j=E.new;if(j.sender_id===n.id&&l.some(N=>N.id===j.id||N.content===j.content&&N.senderId===j.sender_id&&Math.abs(new Date(N.timestamp).getTime()-new Date(j.created_at).getTime())<2e3))return;const B=r?g:a.name,S=r?a.name:"Support";c(N=>N.some(I=>I.id===j.id)?N:[...N,YR(j,n.id,S||"Support",B||"Customer")]),j.sender_id!==n.id&&(!r&&j.sender_type==="admin"||r&&j.sender_type==="customer")&&(console.log("New message in ChatRoom, playing sound:",j),x())}).subscribe((E,j)=>{E==="SUBSCRIBED"&&console.log(`Subscribed to messages for session ${u.id}`),(E==="CHANNEL_ERROR"||E==="TIMED_OUT")&&(console.error(`Subscription error for session ${u.id}:`,j),he({title:"Realtime Error",description:"Chat connection issue. Please refresh.",variant:"destructive"}))});return()=>{J.removeChannel(C)}},[u,n,a,r,g,l,x]),v.useEffect(()=>{o.current&&(o.current.scrollTop=o.current.scrollHeight)},[l]);const _=async(C,E=null)=>{if(!(!n||!a||!u||!C.trim())){p(!0);try{let j=null;if(E){const M=b==null?void 0:b.find(R=>R.id===E);M&&(j={orderId:M.id,orderTotal:M.total,orderStatus:M.status,orderDate:M.date})}const B=nn(),S=r?"admin":"customer",N=a.name||(r?"Admin":"User"),I={id:B,senderId:n.id,senderName:N,content:C,timestamp:new Date().toISOString(),isAdmin:r,orderInfo:j||null};c(M=>[...M,I]);const{data:P,error:T}=await J.from("messages").insert({session_id:u.id,sender_id:n.id,sender_type:S,content:C.trim(),order_info:j}).select().single();if(T)throw c(M=>M.filter(R=>R.id!==B)),T;const U=P;c(M=>M.map(R=>R.id===B?{...R,id:U.id,timestamp:U.created_at}:R)),S==="customer"&&o_e(U).then(M=>{M?console.log("Notificación FCM enviada a los administradores"):console.warn("No se pudo enviar la notificación FCM a los administradores")}).catch(M=>{console.error("Error al enviar notificación FCM:",M)}),await J.from("chat_sessions").update({last_message_at:U.created_at,status:"active"}).eq("id",u.id),A(M=>M?{...M,last_message_at:U.created_at,status:"active"}:null)}catch(j){console.error("Error sending message:",j),he({title:"Failed to send message",description:j.message,variant:"destructive"})}finally{p(!1)}}},w=r?g||"Customer":(a==null?void 0:a.role)==="admin"?e||"Support":"Customer Support";return!n||!a?i.jsxs("div",{className:"flex items-center justify-center h-screen",children:[i.jsx(Kt,{className:"animate-spin h-8 w-8 text-flame-500"}),i.jsx("p",{className:"ml-2",children:"Memuat pengguna..."})]}):d?i.jsxs("div",{className:"flex items-center justify-center h-screen",children:[i.jsx(Kt,{className:"animate-spin h-8 w-8 text-flame-500"}),i.jsx("p",{className:"ml-2",children:"Memuat sesi chat..."})]}):i.jsxs("div",{className:"flex flex-col h-full relative",children:[i.jsxs("div",{className:"fixed top-0 left-0 right-0 max-w-md mx-auto bg-white border-b p-3 flex items-center shadow-sm z-20",children:[i.jsx(V,{variant:"ghost",size:"icon",className:"mr-2",onClick:()=>s(r?"/admin/chats":"/"),children:i.jsx(bs,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-charcoal-100 flex items-center justify-center mr-3",children:i.jsx(OA,{className:"h-5 w-5 text-charcoal-500"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:w}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[r&&u?`ID Sesi: ${u.id.substring(0,8)}`:"Kami biasanya merespon dalam 1 jam",!r&&u&&u.status!=="active"&&u.status!=="open"&&" (Menunggu dukungan...)",!r&&u&&(u.status==="open"||u.status==="pending")&&" (Menghubungkan ke dukungan...)"]})]})]})]}),i.jsx("div",{className:"h-16 pt-3"}),i.jsxs(Yc,{ref:o,className:"flex-1 p-4 overflow-y-auto bg-charcoal-50",children:[!u&&!d&&!r&&i.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:i.jsx("p",{className:"text-muted-foreground",children:"Tidak dapat memulai atau memuat sesi chat. Silakan coba muat ulang halaman."})}),!u&&!d&&r&&i.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:i.jsx("p",{className:"text-muted-foreground",children:"Tidak ada sesi chat aktif dengan pelanggan ini. Mereka mungkin perlu memulai chat terlebih dahulu."})}),u&&l.length===0&&!d&&i.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:i.jsxs("div",{className:"mb-4 text-charcoal-400",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-flame-100 flex items-center justify-center mx-auto mb-4",children:i.jsx(OA,{className:"h-8 w-8 text-flame-500"})}),i.jsx("h3",{className:"font-medium text-charcoal-600 mb-1",children:r?`Chat dengan ${g}`:"Dukungan Pelanggan"}),i.jsx("p",{className:"text-sm text-charcoal-500",children:r?"Kirim pesan untuk mulai chat dengan pelanggan ini.":"Kirim pesan untuk mendapatkan bantuan dari tim dukungan kami."})]})}),u&&l.map(C=>i.jsx(kje,{id:C.id,senderId:C.senderId,senderName:C.senderName,content:C.content,timestamp:C.timestamp,isAdmin:C.isAdmin,orderInfo:C.orderInfo},C.id))]}),i.jsx("div",{className:"fixed bottom-16 left-0 right-0 max-w-md mx-auto bg-background z-20 border-t",children:i.jsx(i_e,{onSendMessage:_,isLoading:f||d,userOrders:r?void 0:b,disabled:!u||r&&!t||!d&&!u&&!r})}),i.jsx("div",{className:"h-24"})]})}function l_e(){const{user:t}=Ir();return t?i.jsx($t,{children:i.jsx(qG,{})}):i.jsx(oy,{to:"/login",replace:!0})}const c_e=6,GG=5,u_e=3,A_e=60,d_e=(t=c_e)=>Array.from({length:t},()=>Math.floor(Math.random()*10)).join(""),h_e=async(t,e)=>{const r=dG(t);try{const n=`*Kode OTP untuk JPC*

Kode verifikasi Anda adalah: *${e}*

Kode ini berlaku selama ${GG} menit.
Jangan bagikan kode ini dengan siapapun.`,a=await vK(r,n);return console.log("WhatsApp OTP sent successfully:",a),a}catch(n){return console.error("Error sending WhatsApp OTP:",n),!1}},f_e=async(t,e)=>{try{const r=d_e(),n=new Date;n.setMinutes(n.getMinutes()+GG);const{error:a}=await J.from("otp_verification").insert({user_id:t,phone_number:e,otp_code:r,expires_at:n.toISOString(),attempts:0,is_verified:!1});return a?(console.error("Error storing OTP:",a),!1):await h_e(e,r)}catch(r){return console.error("Error in createAndSendOTP:",r),!1}},m_e=async(t,e)=>{try{const{data:r,error:n}=await J.from("otp_verification").select("*").eq("user_id",t).eq("is_verified",!1).order("created_at",{ascending:!1}).limit(1).single();if(n||!r)return console.error("Error fetching OTP:",n),!1;const a=new Date,s=new Date(r.expires_at);if(a>s)return console.log("OTP has expired"),!1;if(r.attempts>=u_e)return console.log("Max OTP attempts reached"),!1;const{error:o}=await J.from("otp_verification").update({attempts:r.attempts+1}).eq("id",r.id);if(o&&console.error("Error updating OTP attempts:",o),r.otp_code!==e)return!1;const{error:l}=await J.from("otp_verification").update({is_verified:!0}).eq("id",r.id);if(l)return console.error("Error marking OTP as verified:",l),!1;const{error:c}=await J.from("profiles").update({is_phone_verified:!0,phone_verified_at:new Date().toISOString()}).eq("id",t);return c?(console.error("Error updating profile phone verification status:",c),!1):!0}catch(r){return console.error("Error in verifyOTP:",r),!1}},p_e=async t=>{try{const{data:e,error:r}=await J.from("otp_verification").select("created_at").eq("user_id",t).order("created_at",{ascending:!1}).limit(1).single();if(r||!e)return 0;const n=new Date(e.created_at),a=new Date(n.getTime()+A_e*1e3),s=new Date;return s>a?0:Math.ceil((a.getTime()-s.getTime())/1e3)}catch(e){return console.error("Error in getResendCooldownRemaining:",e),0}},g_e=({phoneNumber:t,onVerificationSuccess:e})=>{const{user:r}=Ir(),{toast:n}=Ns(),[a,s]=v.useState(""),[o,l]=v.useState(!1),[c,u]=v.useState(0),[A,d]=v.useState("");v.useEffect(()=>{if(c>0){const g=setTimeout(()=>u(c-1),1e3);return()=>clearTimeout(g)}},[c]),v.useEffect(()=>{(async()=>{if(r){const m=await p_e(r.id);m>0?u(m):h()}})()},[r]);const h=async()=>{if(r){l(!0),d("");try{await f_e(r.id,t)?(n({title:"Kode OTP Terkirim",description:`Kode verifikasi telah dikirim ke WhatsApp ${t}`}),u(60)):d("Gagal mengirim kode OTP. Silakan coba lagi.")}catch(g){console.error("Error sending OTP:",g),d("Terjadi kesalahan. Silakan coba lagi.")}finally{l(!1)}}},f=async()=>{if(!(!r||!a)){l(!0),d("");try{if(await m_e(r.id,a))n({title:"Verifikasi Berhasil",description:"Nomor WhatsApp Anda telah diverifikasi."}),e();else{const m="Kode OTP tidak valid atau sudah kedaluwarsa";d(m),n({variant:"destructive",title:"Verifikasi Gagal",description:m})}}catch(g){console.error("Error verifying OTP:",g),d("Terjadi kesalahan. Silakan coba lagi.")}finally{l(!1)}}},p=()=>{c>0||h()};return i.jsxs(xe,{className:"w-full max-w-md mx-auto",children:[i.jsxs(nt,{children:[i.jsx(at,{children:"Verifikasi WhatsApp"}),i.jsxs(nr,{children:["Masukkan kode 6 digit yang dikirim ke WhatsApp Anda ",t]})]}),i.jsx(be,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx(le,{type:"text",placeholder:"Masukkan kode OTP",value:a,onChange:g=>s(g.target.value.replace(/[^0-9]/g,"").substring(0,6)),className:"text-center text-lg tracking-wider",maxLength:6,inputMode:"numeric"}),A&&i.jsx("p",{className:"text-red-500 text-sm",children:A}),i.jsx("div",{className:"text-center text-sm",children:c>0?i.jsxs("p",{children:["Kirim ulang dalam ",c," detik"]}):i.jsx("button",{onClick:p,className:"text-primary hover:underline",disabled:o,children:"Kirim Ulang Kode"})})]})}),i.jsx(Ga,{children:i.jsx(V,{onClick:f,className:"w-full",disabled:a.length!==6||o,children:o?"Memverifikasi...":"Verifikasi"})})]})};function v_e(){const{user:t,isPhoneVerified:e}=Ir(),r=kt();na();const[n,a]=v.useState(!0),[s,o]=v.useState(""),[l,c]=v.useState(!1),u=v.useRef(!1),A=v.useRef(!1);v.useEffect(()=>{A.current||(d(),A.current=!0);const f=()=>{document.visibilityState==="visible"&&l&&!u.current&&(u.current=!0,r("/"))};return document.addEventListener("visibilitychange",f),()=>{document.removeEventListener("visibilitychange",f)}},[l]);const d=async()=>{if(!t){a(!1);return}a(!0);try{if(e){c(!0),a(!1),u.current||(u.current=!0,setTimeout(()=>r("/"),100));return}const{data:f,error:p}=await J.from("profiles").select("is_phone_verified, phone").eq("id",t.id).single();if(p){console.error("Error fetching profile:",p),a(!1);return}if(c((f==null?void 0:f.is_phone_verified)===!0),f!=null&&f.is_phone_verified&&!u.current){u.current=!0,setTimeout(()=>r("/"),100);return}if(!(f!=null&&f.phone)&&!u.current){u.current=!0,setTimeout(()=>r("/profile?redirect=verification"),100);return}o((f==null?void 0:f.phone)||"")}catch(f){console.error("Error checking verification status:",f)}finally{a(!1)}},h=()=>{c(!0),u.current||(u.current=!0,setTimeout(()=>{localStorage.setItem("whatsapp_verification_success","true"),r("/")},1500))};return n?i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[i.jsx(Kt,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("p",{className:"mt-4 text-lg",children:"Memeriksa status verifikasi..."})]}):l?i.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Verifikasi Berhasil!"}),i.jsx("p",{className:"mb-4",children:"Nomor WhatsApp Anda telah diverifikasi berhasil."}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Mengalihkan ke halaman utama..."})]})}):i.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Verifikasi WhatsApp"}),i.jsx("p",{className:"text-center mb-6 text-muted-foreground",children:"Untuk keamanan akun Anda, kami perlu memverifikasi nomor WhatsApp Anda sebelum Anda dapat menggunakan aplikasi."}),s?i.jsx(g_e,{phoneNumber:s,onVerificationSuccess:h}):i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-red-500",children:"Verifikasi Berhasil."}),i.jsx("button",{onClick:()=>r("/profile?redirect=verification"),className:"mt-4 text-primary hover:underline",children:"Lanjutkan"})]})]})})}const W={activity:LZ,alertTriangle:o0,arrowDownCircle:XZ,arrowLeft:bs,arrowRight:HZ,arrowUpCircle:JZ,barChart:HB,bell:hT,chartBar:HB,arrowUpFromLine:VZ,filter:n6,gamepad:uee,lightbulb:fee,shield:c6,shopping:s0,sort:KZ,check:fT,chevronDown:mT,chevronLeft:e6,chevronRight:t6,chevronsDown:WZ,clock:PA,copy:ree,creditCard:pT,download:Yo,droplet:aee,file:oee,fileSearch:iee,filterX:lee,flame:cee,heart:Aee,history:dee,home:a6,inbox:hee,info:$B,layers:s6,link:mee,logOut:gT,megaphone:Zv,menu:pee,messageSquare:vT,mail:KB,package:Vi,phone:qB,plus:Nd,qrCode:yT,repeat:vee,refreshCw:Rf,undo:Rf,search:Sl,settings:l6,share:xee,shoppingCart:i0,smartphone:bee,spinner:Kt,ticket:xT,trash:Uf,truck:zB,tv:Cee,users:bT,wallet:Eee,wifi:See,zap:Nee};function y_e({transaction:t,onClose:e}){const[r,n]=v.useState(!1),[a,s]=v.useState(!1),[o,l]=v.useState(""),[c,u]=v.useState(!1),[A,d]=v.useState(!1),h=_=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(_),f=_=>{const w=new Date(_);return an(w,"d MMMM yyyy, HH:mm",{locale:za})},p=()=>{switch(t.status){case"success":return i.jsx(yt,{className:"bg-green-100 text-green-800",children:"Berhasil"});case"pending":return i.jsx(yt,{className:"bg-yellow-100 text-yellow-800",children:"Dalam Proses"});case"failed":return i.jsx(yt,{className:"bg-red-100 text-red-800",children:"Gagal"});default:return i.jsx(yt,{children:"Unknown"})}},g=()=>{switch(t.type){case"payment":return"Pembayaran";case"topup":return"Top Up";case"transfer":return"Transfer";case"refund":return"Refund";default:return"Transaksi"}},m=()=>{switch(t.type){case"payment":return i.jsx(W.creditCard,{className:"h-5 w-5 text-blue-500"});case"topup":return i.jsx(W.plus,{className:"h-5 w-5 text-green-500"});case"transfer":return i.jsx(W.arrowRight,{className:"h-5 w-5 text-orange-500"});case"refund":return i.jsx(W.arrowRight,{className:"h-5 w-5 text-purple-500 rotate-180"});default:return i.jsx(W.activity,{className:"h-5 w-5"})}},x=()=>{const _=`
      ID Transaksi: ${t.id}
      Jenis: ${g()}
      Produk: ${t.productName}
      Total: ${h(t.totalAmount)}
      Status: ${t.status}
      Tanggal: ${f(t.createdAt)}
      ${t.refNumber?`No. Referensi: ${t.refNumber}`:""}
    `.trim();navigator.clipboard.writeText(_).then(()=>{d(!0),setTimeout(()=>d(!1),2e3)})},b=async()=>{o.trim()&&(u(!0),await new Promise(_=>setTimeout(_,1500)),u(!1),n(!1),l(""))};return i.jsxs(xe,{className:"border shadow-md max-w-md w-full mx-auto",children:[i.jsx(nt,{className:"pb-2",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[m(),i.jsxs("div",{children:[i.jsx(at,{className:"text-lg",children:g()}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t.productName})]})]}),i.jsxs("div",{className:"flex flex-col items-end",children:[p(),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f(t.createdAt)})]})]})}),i.jsx(be,{className:"pb-0",children:i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Pembayaran"}),i.jsx("p",{className:"text-2xl font-bold",children:h(t.totalAmount)})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"ID Transaksi"}),i.jsx("p",{className:"text-sm font-medium",children:t.id})]}),t.invoiceNumber&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"No. Invoice"}),i.jsx("p",{className:"text-sm font-medium",children:t.invoiceNumber})]}),t.refNumber&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"No. Referensi"}),i.jsx("p",{className:"text-sm font-medium",children:t.refNumber})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Nominal"}),i.jsx("p",{className:"text-sm font-medium",children:h(t.amount)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Biaya Admin"}),i.jsx("p",{className:"text-sm font-medium",children:h(t.fee)})]}),t.paymentMethod&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Metode Pembayaran"}),i.jsx("p",{className:"text-sm font-medium",children:t.paymentMethod})]}),t.customerId&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"ID Pelanggan"}),i.jsx("p",{className:"text-sm font-medium",children:t.customerId})]}),t.customerName&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Nama Pelanggan"}),i.jsx("p",{className:"text-sm font-medium",children:t.customerName})]})]}),t.message&&i.jsxs(i.Fragment,{children:[i.jsx(Qn,{}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Pesan"}),i.jsx("p",{className:"text-sm",children:t.message})]})]})]})}),i.jsxs(Ga,{className:"flex flex-col gap-3 pt-6",children:[i.jsxs("div",{className:"flex gap-2 w-full",children:[i.jsxs(V,{variant:"outline",className:"flex-1",onClick:x,children:[A?i.jsx(W.activity,{className:"mr-2 h-4 w-4 text-green-500"}):i.jsx(W.file,{className:"mr-2 h-4 w-4"}),A?"Disalin!":"Salin"]}),i.jsxs(or,{open:a,onOpenChange:s,children:[i.jsx(Zy,{asChild:!0,children:i.jsxs(V,{variant:"outline",className:"flex-1",children:[i.jsx(W.arrowRight,{className:"mr-2 h-4 w-4"}),"Bagikan"]})}),i.jsxs(er,{className:"sm:max-w-md",children:[i.jsxs(dr,{children:[i.jsx(hr,{children:"Bagikan Bukti Transaksi"}),i.jsx(_n,{children:"Bagikan bukti transaksi ini melalui:"})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-4 py-4",children:[i.jsxs(V,{variant:"outline",className:"flex flex-col items-center justify-center h-20",children:[i.jsx(W.smartphone,{className:"h-8 w-8 mb-1"}),i.jsx("span",{className:"text-xs",children:"WhatsApp"})]}),i.jsxs(V,{variant:"outline",className:"flex flex-col items-center justify-center h-20",children:[i.jsx(W.smartphone,{className:"h-8 w-8 mb-1"}),i.jsx("span",{className:"text-xs",children:"Email"})]}),i.jsxs(V,{variant:"outline",className:"flex flex-col items-center justify-center h-20",children:[i.jsx(W.download,{className:"h-8 w-8 mb-1"}),i.jsx("span",{className:"text-xs",children:"Simpan"})]}),i.jsxs(V,{variant:"outline",className:"flex flex-col items-center justify-center h-20",children:[i.jsx(W.activity,{className:"h-8 w-8 mb-1"}),i.jsx("span",{className:"text-xs",children:"Lainnya"})]})]}),i.jsx(sn,{className:"sm:justify-start",children:i.jsx(V,{type:"button",variant:"secondary",onClick:()=>s(!1),children:"Tutup"})})]})]})]}),i.jsxs("div",{className:"flex gap-2 w-full",children:[i.jsx(V,{variant:"outline",className:"flex-1",onClick:e,children:"Kembali"}),i.jsxs(or,{open:r,onOpenChange:n,children:[i.jsx(Zy,{asChild:!0,children:i.jsxs(V,{variant:"secondary",className:"flex-1 text-red-600 hover:text-red-700",children:[i.jsx(W.activity,{className:"mr-2 h-4 w-4"}),"Laporkan Masalah"]})}),i.jsxs(er,{children:[i.jsxs(dr,{children:[i.jsx(hr,{children:"Laporkan Masalah Transaksi"}),i.jsx(_n,{children:"Jelaskan masalah yang Anda alami dengan transaksi ini."})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"report-reason",className:"block text-sm font-medium mb-2",children:"Alasan Laporan"}),i.jsxs("select",{id:"report-reason",className:"w-full p-2 border rounded-md",value:o,onChange:_=>l(_.target.value),children:[i.jsx("option",{value:"",children:"Pilih alasan"}),i.jsx("option",{value:"not-received",children:"Layanan tidak diterima"}),i.jsx("option",{value:"wrong-amount",children:"Jumlah salah"}),i.jsx("option",{value:"double-charge",children:"Tagihan ganda"}),i.jsx("option",{value:"unauthorized",children:"Transaksi tidak dikenal"}),i.jsx("option",{value:"other",children:"Lainnya"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"report-details",className:"block text-sm font-medium mb-2",children:"Detail Masalah"}),i.jsx("textarea",{id:"report-details",className:"w-full p-2 border rounded-md h-24",placeholder:"Jelaskan detail masalah yang Anda alami"})]})]}),i.jsxs(sn,{children:[i.jsx(V,{type:"button",variant:"ghost",onClick:()=>n(!1),children:"Batal"}),i.jsx(V,{type:"button",onClick:b,disabled:!o||c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(W.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengirim..."]}):"Kirim Laporan"})]})]})]})]})]})]})}const zG=({className:t,...e})=>i.jsx("nav",{role:"navigation","aria-label":"pagination",className:de("mx-auto flex w-full justify-center",t),...e});zG.displayName="Pagination";const WG=v.forwardRef(({className:t,...e},r)=>i.jsx("ul",{ref:r,className:de("flex flex-row items-center gap-1",t),...e}));WG.displayName="PaginationContent";const Jv=v.forwardRef(({className:t,...e},r)=>i.jsx("li",{ref:r,className:de("",t),...e}));Jv.displayName="PaginationItem";const mb=({className:t,isActive:e,size:r="icon",...n})=>i.jsx("a",{"aria-current":e?"page":void 0,className:de(g0({variant:e?"outline":"ghost",size:r}),t),...n});mb.displayName="PaginationLink";const XG=({className:t,...e})=>i.jsxs(mb,{"aria-label":"Go to previous page",size:"default",className:de("gap-1 pl-2.5",t),...e,children:[i.jsx(e6,{className:"h-4 w-4"}),i.jsx("span",{children:"Previous"})]});XG.displayName="PaginationPrevious";const JG=({className:t,...e})=>i.jsxs(mb,{"aria-label":"Go to next page",size:"default",className:de("gap-1 pr-2.5",t),...e,children:[i.jsx("span",{children:"Next"}),i.jsx(t6,{className:"h-4 w-4"})]});JG.displayName="PaginationNext";function Ph({className:t,...e}){return i.jsx("div",{className:de("animate-pulse rounded-md bg-muted",t),...e})}const x_e=[{id:"TRX-123456",type:"payment",productCategory:"Electricity",productName:"PLN Postpaid",customerId:"1234567890",customerName:"Budi Santoso",amount:15e4,fee:2500,totalAmount:152500,status:"success",createdAt:"2025-06-01T14:30:25",updatedAt:"2025-06-01T14:32:10",paymentMethod:"PPOB Wallet",invoiceNumber:"INV-20250601-001",refNumber:"REF-123456789"},{id:"TRX-123457",type:"topup",productName:"Wallet Top Up",amount:5e5,fee:0,totalAmount:5e5,status:"success",createdAt:"2025-06-02T10:15:30",updatedAt:"2025-06-02T10:16:45",paymentMethod:"Bank Transfer BCA",refNumber:"REF-987654321"},{id:"TRX-123458",type:"payment",productCategory:"Mobile Credit",productName:"Telkomsel Prepaid 50K",customerId:"081234567890",amount:5e4,fee:1e3,totalAmount:51e3,status:"success",createdAt:"2025-06-02T16:45:12",updatedAt:"2025-06-02T16:46:30",paymentMethod:"PPOB Wallet",invoiceNumber:"INV-20250602-002",refNumber:"REF-567891234"},{id:"TRX-123459",type:"payment",productCategory:"Water",productName:"PDAM",customerId:"9876543210",customerName:"Ani Wijaya",amount:75e3,fee:2e3,totalAmount:77e3,status:"pending",createdAt:"2025-06-03T09:20:05",updatedAt:"2025-06-03T09:20:05",paymentMethod:"PPOB Wallet",invoiceNumber:"INV-20250603-003",refNumber:"REF-345678912",message:"Pembayaran sedang diproses oleh PDAM."},{id:"TRX-123460",type:"payment",productCategory:"Internet",productName:"Indihome",customerId:"5432109876",customerName:"Dewi Sari",amount:35e4,fee:2500,totalAmount:352500,status:"failed",createdAt:"2025-06-03T11:30:20",updatedAt:"2025-06-03T11:35:40",paymentMethod:"PPOB Wallet",invoiceNumber:"INV-20250603-004",refNumber:"REF-234567891",message:"Pembayaran gagal: Saldo tidak mencukupi"},{id:"TRX-123461",type:"transfer",productName:"Transfer ke Bank BNI",customerId:"0987654321",customerName:"Rudi Hartono",amount:1e6,fee:6500,totalAmount:1006500,status:"success",createdAt:"2025-06-03T13:45:10",updatedAt:"2025-06-03T13:47:25",paymentMethod:"PPOB Wallet",refNumber:"REF-123498765"},{id:"TRX-123462",type:"refund",productName:"Refund Telkomsel Prepaid",amount:5e4,fee:0,totalAmount:5e4,status:"success",createdAt:"2025-06-03T15:20:30",updatedAt:"2025-06-03T15:22:15",refNumber:"REF-876543219",message:"Refund untuk transaksi gagal TRX-123463"}];function b_e(){const t=kt(),[e,r]=v.useState("all"),[n,a]=v.useState(!1),[s,o]=v.useState("all"),[l,c]=v.useState("all"),[u,A]=v.useState("all"),[d,h]=v.useState(1),[f,p]=v.useState(""),[g,m]=v.useState(!1),[x,b]=v.useState(!1),w=new URLSearchParams(window.location.search).get("filter");v.useEffect(()=>{w==="in"?c("topup"):w==="out"&&c("payment")},[w]);const[C,E]=v.useState(null),[j,B]=v.useState(!1),S=[{value:"all",label:"Semua Periode"},{value:"this_month",label:"Bulan Ini"},{value:"last_month",label:"Bulan Lalu"},{value:"last_3_months",label:"3 Bulan Terakhir"},{value:"last_6_months",label:"6 Bulan Terakhir"},{value:"custom",label:"Periode Tertentu"}],N=[{value:"all",label:"Semua Transaksi"},{value:"payment",label:"Pembayaran"},{value:"topup",label:"Top Up"},{value:"transfer",label:"Transfer"},{value:"refund",label:"Refund"}],I=[{value:"all",label:"Semua Status",color:"gray"},{value:"success",label:"Berhasil",color:"green"},{value:"pending",label:"Dalam Proses",color:"yellow"},{value:"failed",label:"Gagal",color:"red"}],P=x_e.filter(X=>{if(!(f===""||X.id.toLowerCase().includes(f.toLowerCase())||X.productName.toLowerCase().includes(f.toLowerCase())||X.customerId&&X.customerId.toLowerCase().includes(f.toLowerCase())))return!1;let Z=!0;if(s!=="all"){const Ae=new Date(X.createdAt),oe=new Date,ce=oe.getDate(),fe=oe.getMonth(),je=oe.getFullYear();if(s==="today")Z=Ae.getDate()===ce&&Ae.getMonth()===fe&&Ae.getFullYear()===je;else if(s==="week"){const z=new Date(oe);z.setDate(oe.getDate()-oe.getDay()),z.setHours(0,0,0,0),Z=Ae>=z}else s==="month"&&(Z=Ae.getMonth()===fe&&Ae.getFullYear()===je)}return!Z||!(l==="all"||X.type===l)||!(u==="all"||X.status===u)?!1:x?X.type==="topup"||X.type==="withdraw"||X.paymentMethod==="wallet"||X.productName.toLowerCase().includes("wallet")||X.description&&X.description.toLowerCase().includes("wallet"):!0}),T=5,U=Math.ceil(P.length/T),M=P.slice((d-1)*T,d*T),R=X=>{E(X),B(!0)},F=X=>{const te=I.find(Z=>Z.value===X);return te?i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium bg-${te.color}-100 text-${te.color}-800`,children:te.label}):null},D=X=>{switch(X){case"payment":return i.jsx(W.creditCard,{className:"h-5 w-5 text-blue-500"});case"topup":return i.jsx(W.plus,{className:"h-5 w-5 text-green-500"});case"transfer":return i.jsx(W.arrowRight,{className:"h-5 w-5 text-orange-500"});case"refund":return i.jsx(W.arrowRight,{className:"h-5 w-5 text-purple-500 rotate-180"});default:return i.jsx(W.activity,{className:"h-5 w-5"})}},Q=()=>{m(!0),setTimeout(()=>{m(!1)},1e3)};v.useEffect(()=>{c(e==="in"?"topup":e==="out"?"payment":"all")},[e]);const H=()=>{a(!1),m(!0)},G=X=>X.reduce((te,Z)=>{const q=new Date(Z.createdAt);let se;return Z1e(q)?se="Hari Ini":tje(q)?se="Kemarin":Y1e(q)?se=an(q,"EEEE",{locale:za}):J1e(q)?se=an(q,"d MMMM",{locale:za}):se=an(q,"d MMMM yyyy",{locale:za}),te[se]||(te[se]=[]),te[se].push(Z),te},{});return i.jsxs($t,{children:[i.jsxs("div",{className:"bg-white sticky top-0 z-10 border-b border-gray-100",children:[i.jsxs("div",{className:"flex items-center px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob/wallet"),className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100",children:i.jsx(W.chevronLeft,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold ml-4 flex-1",children:"Riwayat Transaksi"}),i.jsx("button",{onClick:Q,className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100",children:i.jsx(W.refreshCw,{className:"h-4 w-4"})}),i.jsxs(ii,{open:n,onOpenChange:a,children:[i.jsx(ky,{asChild:!0,children:i.jsx("button",{className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100 ml-1",children:i.jsx(W.filter,{className:"h-4 w-4"})})}),i.jsxs(Es,{side:"right",className:"w-[300px] sm:w-[400px]",children:[i.jsx(oi,{children:i.jsx(li,{children:"Filter Transaksi"})}),i.jsxs("div",{className:"py-6 space-y-5",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Periode"}),i.jsxs(On,{value:s,onValueChange:o,children:[i.jsx(pn,{className:"w-full",children:i.jsx(Fn,{placeholder:"Pilih periode"})}),i.jsx(gn,{children:S.map(X=>i.jsx(mt,{value:X.value,children:X.label},X.value))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Jenis Transaksi"}),i.jsxs(On,{value:l,onValueChange:c,children:[i.jsx(pn,{className:"w-full",children:i.jsx(Fn,{placeholder:"Pilih jenis transaksi"})}),i.jsx(gn,{children:N.map(X=>i.jsx(mt,{value:X.value,children:X.label},X.value))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Status"}),i.jsxs(On,{value:u,onValueChange:A,children:[i.jsx(pn,{className:"w-full",children:i.jsx(Fn,{placeholder:"Pilih status"})}),i.jsx(gn,{children:I.map(X=>i.jsx(mt,{value:X.value,children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-2 h-2 rounded-full bg-${X.color}-500 mr-2`}),X.label]})},X.value))})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"walletOnly",checked:x,onChange:X=>b(X.target.checked),className:"rounded border-gray-300 text-primary focus:ring-primary"}),i.jsx("label",{htmlFor:"walletOnly",className:"text-sm font-medium",children:"Hanya transaksi dompet PPOB"})]})]}),i.jsx(Wi,{children:i.jsx(V,{onClick:H,className:"w-full",children:"Terapkan Filter"})})]})]})]}),i.jsx(ha,{defaultValue:"all",value:e,onValueChange:X=>r(X),className:"w-full",children:i.jsxs(ea,{className:"w-full grid grid-cols-3 h-12 bg-gray-100 p-1 rounded-none",children:[i.jsx(Nt,{value:"all",className:"rounded-md data-[state=active]:bg-white",children:"Semua"}),i.jsxs(Nt,{value:"in",className:"rounded-md data-[state=active]:bg-white",children:[i.jsx(W.arrowDownCircle,{className:"h-4 w-4 mr-1 text-green-500"}),"Masuk"]}),i.jsxs(Nt,{value:"out",className:"rounded-md data-[state=active]:bg-white",children:[i.jsx(W.arrowUpCircle,{className:"h-4 w-4 mr-1 text-red-500"}),"Keluar"]})]})})]}),i.jsx("div",{className:"px-4 py-3 bg-white border-b border-gray-100",children:i.jsxs("div",{className:"relative",children:[i.jsx(W.search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(le,{value:f,onChange:X=>p(X.target.value),placeholder:"Cari transaksi...",className:"pl-10 pr-4 py-2 w-full bg-gray-50 border-gray-200"})]})}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-6",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Cari Transaksi"}),i.jsx(le,{placeholder:"Cari transaksi...",value:f,onChange:X=>p(X.target.value),className:"w-full"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Periode"}),i.jsxs(On,{value:s,onValueChange:o,children:[i.jsx(pn,{children:i.jsx(Fn,{placeholder:"Pilih periode"})}),i.jsxs(gn,{children:[i.jsx(mt,{value:"all",children:"Semua Waktu"}),i.jsx(mt,{value:"today",children:"Hari Ini"}),i.jsx(mt,{value:"week",children:"Minggu Ini"}),i.jsx(mt,{value:"month",children:"Bulan Ini"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Jenis Transaksi"}),i.jsxs(On,{value:l,onValueChange:c,children:[i.jsx(pn,{children:i.jsx(Fn,{placeholder:"Pilih jenis transaksi"})}),i.jsxs(gn,{children:[i.jsx(mt,{value:"all",children:"Semua Jenis"}),i.jsx(mt,{value:"payment",children:"Pembayaran"}),i.jsx(mt,{value:"topup",children:"Top Up"}),i.jsx(mt,{value:"transfer",children:"Transfer"}),i.jsx(mt,{value:"refund",children:"Refund"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Status"}),i.jsxs(On,{value:u,onValueChange:A,children:[i.jsx(pn,{children:i.jsx(Fn,{placeholder:"Pilih status"})}),i.jsx(gn,{children:I.map(X=>i.jsx(mt,{value:X.value,children:X.label},X.value))})]})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between mt-4 pb-2",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 overflow-x-auto",children:[i.jsxs(V,{variant:l==="all"?"default":"outline",size:"sm",onClick:()=>c("all"),className:"whitespace-nowrap",children:[i.jsx(W.activity,{className:"mr-2 h-4 w-4"}),"Semua"]}),i.jsxs(V,{variant:l==="topup"?"default":"outline",size:"sm",onClick:()=>c("topup"),className:"whitespace-nowrap",children:[i.jsx(W.arrowRight,{className:"mr-2 h-4 w-4 rotate-180"}),"Masuk"]}),i.jsxs(V,{variant:l==="payment"?"default":"outline",size:"sm",onClick:()=>c("payment"),className:"whitespace-nowrap",children:[i.jsx(W.arrowRight,{className:"mr-2 h-4 w-4"}),"Keluar"]}),i.jsxs(V,{variant:l==="transfer"?"default":"outline",size:"sm",onClick:()=>c("transfer"),className:"whitespace-nowrap",children:[i.jsx(W.repeat,{className:"mr-2 h-4 w-4"}),"Transfer"]}),i.jsxs(V,{variant:l==="refund"?"default":"outline",size:"sm",onClick:()=>c("refund"),className:"whitespace-nowrap",children:[i.jsx(W.undo,{className:"mr-2 h-4 w-4"}),"Refund"]})]}),i.jsxs(V,{variant:x?"default":"outline",size:"sm",onClick:()=>b(!x),title:x?"Semua Transaksi":"Hanya Transaksi Wallet",children:[i.jsx(W.wallet,{className:"mr-2 h-4 w-4"}),x?"Semua Transaksi":"Transaksi Wallet"]})]})]}),i.jsx(Yc,{className:"flex-1 h-[calc(100vh-180px)]",children:g?i.jsx("div",{className:"p-4 space-y-4",children:[1,2,3,4,5].map(X=>i.jsx(xe,{className:"overflow-hidden",children:i.jsx(be,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Ph,{className:"h-10 w-10 rounded-full"}),i.jsxs("div",{className:"space-y-2 flex-1",children:[i.jsx(Ph,{className:"h-4 w-3/4"}),i.jsx(Ph,{className:"h-3 w-1/2"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx(Ph,{className:"h-4 w-20 ml-auto"}),i.jsx(Ph,{className:"h-3 w-16 mt-2 ml-auto"})]})]})})},X))}):M.length>0?i.jsx("div",{className:"divide-y divide-gray-100",children:Object.entries(G(M)).map(([X,te])=>i.jsxs("div",{className:"bg-white",children:[i.jsx("div",{className:"sticky top-0 bg-gray-50 px-4 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider",children:X}),i.jsx("div",{className:"divide-y divide-gray-100",children:te.map(Z=>i.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors cursor-pointer active:bg-gray-100",onClick:()=>R(Z),children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"flex-shrink-0 bg-blue-50 rounded-full p-2 mt-0.5",children:D(Z.type)}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-gray-900",children:Z.productName}),i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:Z.id}),i.jsx("div",{className:"mt-1",children:F(Z.status)})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:`font-medium ${Z.type==="topup"||Z.type==="refund"?"text-green-600":"text-red-600"}`,children:[Z.type==="topup"||Z.type==="refund"?"+":"-",pe(Z.totalAmount)]}),i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:an(new Date(Z.createdAt),"HH:mm")})]})]})},Z.id))})]},X))}):i.jsxs("div",{className:"py-12 flex flex-col items-center justify-center text-center px-4",children:[i.jsx("div",{className:"bg-gray-50 rounded-full p-4 mb-4",children:i.jsx(W.fileSearch,{className:"h-8 w-8 text-gray-400"})}),i.jsx("h3",{className:"font-medium text-gray-900",children:"Tidak ada transaksi"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1 max-w-xs",children:"Tidak ada transaksi yang sesuai dengan filter yang dipilih."}),i.jsxs(V,{variant:"outline",size:"sm",onClick:()=>{c("all"),A("all"),o("all"),p(""),b(!1),r("all")},className:"mt-4",children:[i.jsx(W.filterX,{className:"h-4 w-4 mr-2"}),"Reset Filter"]})]})}),M.length>0&&U>1&&i.jsx("div",{className:"py-4 border-t border-gray-100 bg-white sticky bottom-0 left-0 right-0 px-4",children:i.jsx(zG,{children:i.jsxs(WG,{children:[i.jsx(Jv,{children:i.jsx(XG,{onClick:()=>h(Math.max(1,d-1)),"aria-disabled":d===1,className:d===1?"pointer-events-none opacity-50":""})}),Array.from({length:Math.min(U,5)}).map((X,te)=>{let Z=te+1;return U>5&&d>3&&(Z=d-3+te,Z>U)?null:i.jsx(Jv,{children:i.jsx(mb,{onClick:()=>h(Z),isActive:d===Z,children:Z})},te)}),i.jsx(Jv,{children:i.jsx(JG,{onClick:()=>h(Math.min(U,d+1)),"aria-disabled":d===U,className:d===U?"pointer-events-none opacity-50":""})})]})})}),i.jsx(or,{open:j,onOpenChange:B,children:i.jsx(er,{className:"sm:max-w-md p-0",children:C&&i.jsx(y_e,{transaction:C,onClose:()=>B(!1)})})})]})}var w1={exports:{}},j1,ZR;function w_e(){if(ZR)return j1;ZR=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return j1=t,j1}var _1,e4;function j_e(){if(e4)return _1;e4=1;var t=w_e();function e(){}function r(){}return r.resetWarningCache=e,_1=function(){function n(o,l,c,u,A,d){if(d!==t){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}n.isRequired=n;function a(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},_1}var t4;function bI(){return t4||(t4=1,w1.exports=j_e()()),w1.exports}var __e=bI();const Ke=Lt(__e);var C1,r4;function C_e(){if(r4)return C1;r4=1;function t(l){return l&&typeof l=="object"&&"default"in l?l.default:l}var e=fp(),r=t(e);function n(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}function a(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,l.__proto__=c}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(l,c,u){if(typeof l!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof c!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof u<"u"&&typeof u!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function A(d){return d.displayName||d.name||"Component"}return function(h){if(typeof h!="function")throw new Error("Expected WrappedComponent to be a React component.");var f=[],p;function g(){p=l(f.map(function(x){return x.props})),m.canUseDOM?c(p):u&&(p=u(p))}var m=function(x){a(b,x);function b(){return x.apply(this,arguments)||this}b.peek=function(){return p},b.rewind=function(){if(b.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var C=p;return p=void 0,f=[],C};var _=b.prototype;return _.UNSAFE_componentWillMount=function(){f.push(this),g()},_.componentDidUpdate=function(){g()},_.componentWillUnmount=function(){var C=f.indexOf(this);f.splice(C,1),g()},_.render=function(){return r.createElement(h,this.props)},b}(e.PureComponent);return n(m,"displayName","SideEffect("+A(h)+")"),n(m,"canUseDOM",s),m}}return C1=o,C1}var B_e=C_e();const E_e=Lt(B_e);var B1,n4;function S_e(){if(n4)return B1;n4=1;var t=typeof Element<"u",e=typeof Map=="function",r=typeof Set=="function",n=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function a(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var l,c,u;if(Array.isArray(s)){if(l=s.length,l!=o.length)return!1;for(c=l;c--!==0;)if(!a(s[c],o[c]))return!1;return!0}var A;if(e&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(A=s.entries();!(c=A.next()).done;)if(!o.has(c.value[0]))return!1;for(A=s.entries();!(c=A.next()).done;)if(!a(c.value[1],o.get(c.value[0])))return!1;return!0}if(r&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(A=s.entries();!(c=A.next()).done;)if(!o.has(c.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(l=s.length,l!=o.length)return!1;for(c=l;c--!==0;)if(s[c]!==o[c])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(u=Object.keys(s),l=u.length,l!==Object.keys(o).length)return!1;for(c=l;c--!==0;)if(!Object.prototype.hasOwnProperty.call(o,u[c]))return!1;if(t&&s instanceof Element)return!1;for(c=l;c--!==0;)if(!((u[c]==="_owner"||u[c]==="__v"||u[c]==="__o")&&s.$$typeof)&&!a(s[u[c]],o[u[c]]))return!1;return!0}return s!==s&&o!==o}return B1=function(o,l){try{return a(o,l)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},B1}var N_e=S_e();const T_e=Lt(N_e);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var E1,a4;function k_e(){if(a4)return E1;a4=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function n(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function a(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var o={},l=0;l<10;l++)o["_"+String.fromCharCode(l)]=l;var c=Object.getOwnPropertyNames(o).map(function(A){return o[A]});if(c.join("")!=="0123456789")return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach(function(A){u[A]=A}),Object.keys(Object.assign({},u)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return E1=a()?Object.assign:function(s,o){for(var l,c=n(s),u,A=1;A<arguments.length;A++){l=Object(arguments[A]);for(var d in l)e.call(l,d)&&(c[d]=l[d]);if(t){u=t(l);for(var h=0;h<u.length;h++)r.call(l,u[h])&&(c[u[h]]=l[u[h]])}}return c},E1}var I_e=k_e();const P_e=Lt(I_e);var Pc={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},gt={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(gt).map(function(t){return gt[t]});var wr={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},sx={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Sm={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},O_e=Object.keys(sx).reduce(function(t,e){return t[sx[e]]=e,t},{}),F_e=[gt.NOSCRIPT,gt.SCRIPT,gt.STYLE],ys="data-react-helmet",D_e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R_e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},U_e=function(){function t(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),ia=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},M_e=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},s4=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},Q_e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},QS=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},L_e=function(e){var r=fA(e,gt.TITLE),n=fA(e,Sm.TITLE_TEMPLATE);if(n&&r)return n.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var a=fA(e,Sm.DEFAULT_TITLE);return r||a||void 0},H_e=function(e){return fA(e,Sm.ON_CHANGE_CLIENT_STATE)||function(){}},S1=function(e,r){return r.filter(function(n){return typeof n[e]<"u"}).map(function(n){return n[e]}).reduce(function(n,a){return ia({},n,a)},{})},$_e=function(e,r){return r.filter(function(n){return typeof n[gt.BASE]<"u"}).map(function(n){return n[gt.BASE]}).reverse().reduce(function(n,a){if(!n.length)for(var s=Object.keys(a),o=0;o<s.length;o++){var l=s[o],c=l.toLowerCase();if(e.indexOf(c)!==-1&&a[c])return n.concat(a)}return n},[])},Oh=function(e,r,n){var a={};return n.filter(function(s){return Array.isArray(s[e])?!0:(typeof s[e]<"u"&&G_e("Helmet: "+e+' should be of type "Array". Instead found type "'+D_e(s[e])+'"'),!1)}).map(function(s){return s[e]}).reverse().reduce(function(s,o){var l={};o.filter(function(h){for(var f=void 0,p=Object.keys(h),g=0;g<p.length;g++){var m=p[g],x=m.toLowerCase();r.indexOf(x)!==-1&&!(f===wr.REL&&h[f].toLowerCase()==="canonical")&&!(x===wr.REL&&h[x].toLowerCase()==="stylesheet")&&(f=x),r.indexOf(m)!==-1&&(m===wr.INNER_HTML||m===wr.CSS_TEXT||m===wr.ITEM_PROP)&&(f=m)}if(!f||!h[f])return!1;var b=h[f].toLowerCase();return a[f]||(a[f]={}),l[f]||(l[f]={}),a[f][b]?!1:(l[f][b]=!0,!0)}).reverse().forEach(function(h){return s.push(h)});for(var c=Object.keys(l),u=0;u<c.length;u++){var A=c[u],d=P_e({},a[A],l[A]);a[A]=d}return s},[]).reverse()},fA=function(e,r){for(var n=e.length-1;n>=0;n--){var a=e[n];if(a.hasOwnProperty(r))return a[r]}return null},V_e=function(e){return{baseTag:$_e([wr.HREF,wr.TARGET],e),bodyAttributes:S1(Pc.BODY,e),defer:fA(e,Sm.DEFER),encode:fA(e,Sm.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:S1(Pc.HTML,e),linkTags:Oh(gt.LINK,[wr.REL,wr.HREF],e),metaTags:Oh(gt.META,[wr.NAME,wr.CHARSET,wr.HTTPEQUIV,wr.PROPERTY,wr.ITEM_PROP],e),noscriptTags:Oh(gt.NOSCRIPT,[wr.INNER_HTML],e),onChangeClientState:H_e(e),scriptTags:Oh(gt.SCRIPT,[wr.SRC,wr.INNER_HTML],e),styleTags:Oh(gt.STYLE,[wr.CSS_TEXT],e),title:L_e(e),titleAttributes:S1(Pc.TITLE,e)}},LS=function(){var t=Date.now();return function(e){var r=Date.now();r-t>16?(t=r,e(r)):setTimeout(function(){LS(e)},0)}}(),i4=function(e){return clearTimeout(e)},K_e=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||LS:global.requestAnimationFrame||LS,q_e=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||i4:global.cancelAnimationFrame||i4,G_e=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Fh=null,z_e=function(e){Fh&&q_e(Fh),e.defer?Fh=K_e(function(){o4(e,function(){Fh=null})}):(o4(e),Fh=null)},o4=function(e,r){var n=e.baseTag,a=e.bodyAttributes,s=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.onChangeClientState,A=e.scriptTags,d=e.styleTags,h=e.title,f=e.titleAttributes;HS(gt.BODY,a),HS(gt.HTML,s),W_e(h,f);var p={baseTag:Qu(gt.BASE,n),linkTags:Qu(gt.LINK,o),metaTags:Qu(gt.META,l),noscriptTags:Qu(gt.NOSCRIPT,c),scriptTags:Qu(gt.SCRIPT,A),styleTags:Qu(gt.STYLE,d)},g={},m={};Object.keys(p).forEach(function(x){var b=p[x],_=b.newTags,w=b.oldTags;_.length&&(g[x]=_),w.length&&(m[x]=p[x].oldTags)}),r&&r(),u(e,g,m)},YG=function(e){return Array.isArray(e)?e.join(""):e},W_e=function(e,r){typeof e<"u"&&document.title!==e&&(document.title=YG(e)),HS(gt.TITLE,r)},HS=function(e,r){var n=document.getElementsByTagName(e)[0];if(n){for(var a=n.getAttribute(ys),s=a?a.split(","):[],o=[].concat(s),l=Object.keys(r),c=0;c<l.length;c++){var u=l[c],A=r[u]||"";n.getAttribute(u)!==A&&n.setAttribute(u,A),s.indexOf(u)===-1&&s.push(u);var d=o.indexOf(u);d!==-1&&o.splice(d,1)}for(var h=o.length-1;h>=0;h--)n.removeAttribute(o[h]);s.length===o.length?n.removeAttribute(ys):n.getAttribute(ys)!==l.join(",")&&n.setAttribute(ys,l.join(","))}},Qu=function(e,r){var n=document.head||document.querySelector(gt.HEAD),a=n.querySelectorAll(e+"["+ys+"]"),s=Array.prototype.slice.call(a),o=[],l=void 0;return r&&r.length&&r.forEach(function(c){var u=document.createElement(e);for(var A in c)if(c.hasOwnProperty(A))if(A===wr.INNER_HTML)u.innerHTML=c.innerHTML;else if(A===wr.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var d=typeof c[A]>"u"?"":c[A];u.setAttribute(A,d)}u.setAttribute(ys,"true"),s.some(function(h,f){return l=f,u.isEqualNode(h)})?s.splice(l,1):o.push(u)}),s.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return n.appendChild(c)}),{oldTags:s,newTags:o}},ZG=function(e){return Object.keys(e).reduce(function(r,n){var a=typeof e[n]<"u"?n+'="'+e[n]+'"':""+n;return r?r+" "+a:a},"")},X_e=function(e,r,n,a){var s=ZG(n),o=YG(r);return s?"<"+e+" "+ys+'="true" '+s+">"+QS(o,a)+"</"+e+">":"<"+e+" "+ys+'="true">'+QS(o,a)+"</"+e+">"},J_e=function(e,r,n){return r.reduce(function(a,s){var o=Object.keys(s).filter(function(u){return!(u===wr.INNER_HTML||u===wr.CSS_TEXT)}).reduce(function(u,A){var d=typeof s[A]>"u"?A:A+'="'+QS(s[A],n)+'"';return u?u+" "+d:d},""),l=s.innerHTML||s.cssText||"",c=F_e.indexOf(e)===-1;return a+"<"+e+" "+ys+'="true" '+o+(c?"/>":">"+l+"</"+e+">")},"")},ez=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(n,a){return n[sx[a]||a]=e[a],n},r)},Y_e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(n,a){return n[O_e[a]||a]=e[a],n},r)},Z_e=function(e,r,n){var a,s=(a={key:r},a[ys]=!0,a),o=ez(n,s);return[$.createElement(gt.TITLE,o,r)]},eCe=function(e,r){return r.map(function(n,a){var s,o=(s={key:a},s[ys]=!0,s);return Object.keys(n).forEach(function(l){var c=sx[l]||l;if(c===wr.INNER_HTML||c===wr.CSS_TEXT){var u=n.innerHTML||n.cssText;o.dangerouslySetInnerHTML={__html:u}}else o[c]=n[l]}),$.createElement(e,o)})},Ci=function(e,r,n){switch(e){case gt.TITLE:return{toComponent:function(){return Z_e(e,r.title,r.titleAttributes)},toString:function(){return X_e(e,r.title,r.titleAttributes,n)}};case Pc.BODY:case Pc.HTML:return{toComponent:function(){return ez(r)},toString:function(){return ZG(r)}};default:return{toComponent:function(){return eCe(e,r)},toString:function(){return J_e(e,r,n)}}}},tz=function(e){var r=e.baseTag,n=e.bodyAttributes,a=e.encode,s=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.scriptTags,A=e.styleTags,d=e.title,h=d===void 0?"":d,f=e.titleAttributes;return{base:Ci(gt.BASE,r,a),bodyAttributes:Ci(Pc.BODY,n,a),htmlAttributes:Ci(Pc.HTML,s,a),link:Ci(gt.LINK,o,a),meta:Ci(gt.META,l,a),noscript:Ci(gt.NOSCRIPT,c,a),script:Ci(gt.SCRIPT,u,a),style:Ci(gt.STYLE,A,a),title:Ci(gt.TITLE,{title:h,titleAttributes:f},a)}},tCe=function(e){var r,n;return n=r=function(a){M_e(s,a);function s(){return R_e(this,s),Q_e(this,a.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(l){return!T_e(this.props,l)},s.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case gt.SCRIPT:case gt.NOSCRIPT:return{innerHTML:c};case gt.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,A=l.arrayTypeChildren,d=l.newChildProps,h=l.nestedChildren;return ia({},A,(c={},c[u.type]=[].concat(A[u.type]||[],[ia({},d,this.mapNestedChildrenToProps(u,h))]),c))},s.prototype.mapObjectTypeChildren=function(l){var c,u,A=l.child,d=l.newProps,h=l.newChildProps,f=l.nestedChildren;switch(A.type){case gt.TITLE:return ia({},d,(c={},c[A.type]=f,c.titleAttributes=ia({},h),c));case gt.BODY:return ia({},d,{bodyAttributes:ia({},h)});case gt.HTML:return ia({},d,{htmlAttributes:ia({},h)})}return ia({},d,(u={},u[A.type]=ia({},h),u))},s.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=ia({},c);return Object.keys(l).forEach(function(A){var d;u=ia({},u,(d={},d[A]=l[A],d))}),u},s.prototype.warnOnInvalidChildren=function(l,c){return!0},s.prototype.mapChildrenToProps=function(l,c){var u=this,A={};return $.Children.forEach(l,function(d){if(!(!d||!d.props)){var h=d.props,f=h.children,p=s4(h,["children"]),g=Y_e(p);switch(u.warnOnInvalidChildren(d,f),d.type){case gt.LINK:case gt.META:case gt.NOSCRIPT:case gt.SCRIPT:case gt.STYLE:A=u.flattenArrayTypeChildren({child:d,arrayTypeChildren:A,newChildProps:g,nestedChildren:f});break;default:c=u.mapObjectTypeChildren({child:d,newProps:c,newChildProps:g,nestedChildren:f});break}}}),c=this.mapArrayTypeChildrenToProps(A,c),c},s.prototype.render=function(){var l=this.props,c=l.children,u=s4(l,["children"]),A=ia({},u);return c&&(A=this.mapChildrenToProps(c,A)),$.createElement(e,A)},U_e(s,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),s}($.Component),r.propTypes={base:Ke.object,bodyAttributes:Ke.object,children:Ke.oneOfType([Ke.arrayOf(Ke.node),Ke.node]),defaultTitle:Ke.string,defer:Ke.bool,encodeSpecialCharacters:Ke.bool,htmlAttributes:Ke.object,link:Ke.arrayOf(Ke.object),meta:Ke.arrayOf(Ke.object),noscript:Ke.arrayOf(Ke.object),onChangeClientState:Ke.func,script:Ke.arrayOf(Ke.object),style:Ke.arrayOf(Ke.object),title:Ke.string,titleAttributes:Ke.object,titleTemplate:Ke.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=e.peek,r.rewind=function(){var a=e.rewind();return a||(a=tz({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),a},n},rCe=function(){return null},nCe=E_e(V_e,z_e,tz)(rCe),_s=tCe(nCe);_s.renderStatic=_s.rewind;function aCe({children:t}){const{user:e}=Ir();return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("header",{className:"bg-white shadow-sm",children:i.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[i.jsx(ct,{to:"/",className:"text-xl font-bold text-primary",children:"JPC Digi"}),i.jsxs("nav",{className:"hidden md:flex space-x-6",children:[i.jsx(ct,{to:"/",className:"text-gray-700 hover:text-primary",children:"Beranda"}),i.jsx(ct,{to:"/search",className:"text-gray-700 hover:text-primary",children:"Produk"}),i.jsx(ct,{to:"/ppob",className:"text-gray-700 hover:text-primary",children:"PPOB"}),i.jsx(ct,{to:"/orders",className:"text-gray-700 hover:text-primary",children:"Pesanan"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(ct,{to:"/cart",className:"text-gray-700 hover:text-primary",children:[i.jsx("span",{className:"sr-only",children:"Keranjang"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})]}),i.jsxs(ct,{to:"/profile",className:"text-gray-700 hover:text-primary",children:[i.jsx("span",{className:"sr-only",children:"Profil"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})]})]})]})}),i.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-10",children:i.jsxs("div",{className:"grid grid-cols-5",children:[i.jsxs(ct,{to:"/",className:"flex flex-col items-center py-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),i.jsx("span",{className:"text-xs",children:"Beranda"})]}),i.jsxs(ct,{to:"/search",className:"flex flex-col items-center py-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i.jsx("span",{className:"text-xs",children:"Produk"})]}),i.jsxs(ct,{to:"/ppob",className:"flex flex-col items-center py-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{className:"text-xs",children:"PPOB"})]}),i.jsxs(ct,{to:"/cart",className:"flex flex-col items-center py-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),i.jsx("span",{className:"text-xs",children:"Keranjang"})]}),i.jsxs(ct,{to:"/profile",className:"flex flex-col items-center py-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),i.jsx("span",{className:"text-xs",children:"Profil"})]})]})}),i.jsx("main",{className:"pb-20 md:pb-0",children:t}),i.jsx("footer",{className:"bg-gray-800 text-gray-300 py-8 mt-12",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"JPC Digi"}),i.jsx("p",{className:"text-sm",children:"Platform digital terpercaya untuk kebutuhan belanja dan layanan PPOB Anda."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Hubungi Kami"}),i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsx("li",{children:"Email: support@jpcdigi.com"}),i.jsx("li",{children:"Telepon: (021) 1234-5678"}),i.jsx("li",{children:"WhatsApp: 0812-3456-7890"})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Ikuti Kami"}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs("a",{href:"#",className:"text-gray-300 hover:text-white",children:[i.jsx("span",{className:"sr-only",children:"Facebook"}),i.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),i.jsxs("a",{href:"#",className:"text-gray-300 hover:text-white",children:[i.jsx("span",{className:"sr-only",children:"Instagram"}),i.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),i.jsxs("a",{href:"#",className:"text-gray-300 hover:text-white",children:[i.jsx("span",{className:"sr-only",children:"Twitter"}),i.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]})]})]})]}),i.jsx("div",{className:"mt-8 border-t border-gray-700 pt-6 text-sm text-center",children:i.jsxs("p",{children:["© ",new Date().getFullYear()," JPC Digi. All rights reserved."]})})]})})]})}function sCe(){const[t,e]=v.useState("identity"),[r,n]=v.useState(!1),[a,s]=v.useState(!1),[o,l]=v.useState(null),[c,u]=v.useState(null),A=kt(),[d,h]=v.useState({nik:"",fullName:"",birthPlace:"",birthDate:"",gender:"",address:"",rt:"",rw:"",village:"",district:"",city:"",province:"",religion:"",maritalStatus:"",occupation:""}),f=x=>{const{name:b,value:_}=x.target;h(w=>({...w,[b]:_}))},p=x=>{x.target.files&&x.target.files[0]&&(n(!0),setTimeout(()=>{const b=new FileReader;b.onload=_=>{_.target&&l(_.target.result)},b.readAsDataURL(x.target.files[0]),n(!1)},1500))},g=x=>{x.target.files&&x.target.files[0]&&(n(!0),setTimeout(()=>{const b=new FileReader;b.onload=_=>{_.target&&u(_.target.result)},b.readAsDataURL(x.target.files[0]),n(!1)},1500))},m=x=>{x.preventDefault(),s(!0),setTimeout(()=>{s(!1),A("/ppob")},2e3)};return i.jsxs(aCe,{children:[i.jsxs(_s,{children:[i.jsx("title",{children:"Verifikasi Identitas - JPC Digi"}),i.jsx("meta",{name:"description",content:"Verifikasi identitas untuk menggunakan layanan PPOB JPC Digi"})]}),i.jsx("div",{className:"container py-8",children:i.jsxs("div",{className:"max-w-3xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Verifikasi Identitas"}),i.jsx("p",{className:"text-muted-foreground",children:"Verifikasi identitas Anda untuk menggunakan layanan PPOB secara lengkap"})]}),i.jsxs("div",{className:"flex space-x-2 mt-4 sm:mt-0",children:[i.jsxs(V,{variant:"outline",onClick:()=>A("/ppob/wallet"),children:[i.jsx(W.wallet,{className:"mr-2 h-4 w-4"}),"Wallet Saya"]}),i.jsx(V,{variant:"outline",onClick:()=>A("/ppob"),children:"Kembali ke PPOB"})]})]}),i.jsxs(xe,{children:[i.jsxs(nt,{children:[i.jsx(at,{children:"Lengkapi Verifikasi"}),i.jsx(nr,{children:"Verifikasi identitas sesuai dengan regulasi untuk keamanan transaksi"})]}),i.jsx(be,{children:i.jsxs(ha,{value:t,onValueChange:e,children:[i.jsxs(ea,{className:"grid grid-cols-2 mb-6",children:[i.jsx(Nt,{value:"identity",children:"Data Diri"}),i.jsx(Nt,{value:"documents",children:"Dokumen"})]}),i.jsx(Wt,{value:"identity",children:i.jsxs("form",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"nik",children:"Nomor KTP (NIK)"}),i.jsx(le,{id:"nik",name:"nik",placeholder:"Masukkan 16 digit NIK",value:d.nik,onChange:f})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"fullName",children:"Nama Lengkap"}),i.jsx(le,{id:"fullName",name:"fullName",placeholder:"Sesuai KTP",value:d.fullName,onChange:f})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"birthPlace",children:"Tempat Lahir"}),i.jsx(le,{id:"birthPlace",name:"birthPlace",placeholder:"Kota kelahiran",value:d.birthPlace,onChange:f})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"birthDate",children:"Tanggal Lahir"}),i.jsx(le,{id:"birthDate",name:"birthDate",type:"date",value:d.birthDate,onChange:f})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"address",children:"Alamat"}),i.jsx(le,{id:"address",name:"address",placeholder:"Alamat lengkap sesuai KTP",value:d.address,onChange:f})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"rt",children:"RT"}),i.jsx(le,{id:"rt",name:"rt",placeholder:"RT",value:d.rt,onChange:f})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"rw",children:"RW"}),i.jsx(le,{id:"rw",name:"rw",placeholder:"RW",value:d.rw,onChange:f})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"village",children:"Kelurahan/Desa"}),i.jsx(le,{id:"village",name:"village",placeholder:"Kelurahan/Desa",value:d.village,onChange:f})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"district",children:"Kecamatan"}),i.jsx(le,{id:"district",name:"district",placeholder:"Kecamatan",value:d.district,onChange:f})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"city",children:"Kota/Kabupaten"}),i.jsx(le,{id:"city",name:"city",placeholder:"Kota/Kabupaten",value:d.city,onChange:f})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"province",children:"Provinsi"}),i.jsx(le,{id:"province",name:"province",placeholder:"Provinsi",value:d.province,onChange:f})]})]}),i.jsx(V,{type:"button",className:"w-full mt-4",onClick:()=>e("documents"),children:"Lanjutkan"})]})}),i.jsx(Wt,{value:"documents",children:i.jsxs("form",{onSubmit:m,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Foto KTP"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Unggah foto KTP yang jelas dan tidak terpotong"}),o?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:o,alt:"KTP",className:"w-full max-h-60 object-contain border rounded-md"}),i.jsx(V,{type:"button",variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>l(null),children:"Ganti"})]}):i.jsxs("div",{className:"border border-dashed rounded-md p-8 text-center",children:[i.jsx("input",{type:"file",id:"identity-upload",className:"hidden",accept:"image/*",onChange:p,disabled:r}),i.jsx("label",{htmlFor:"identity-upload",className:"cursor-pointer block",children:r?i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(W.spinner,{className:"h-8 w-8 animate-spin text-primary mb-2"}),i.jsx("p",{children:"Mengunggah..."})]}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mx-auto text-muted-foreground mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),i.jsx("p",{children:"Klik untuk mengunggah foto KTP"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Format: JPG, PNG, maksimal 5MB"})]})})]})]}),i.jsx(Qn,{className:"my-6"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Foto Selfie dengan KTP"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Unggah foto diri Anda sambil memegang KTP"}),c?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:c,alt:"Selfie dengan KTP",className:"w-full max-h-60 object-contain border rounded-md"}),i.jsx(V,{type:"button",variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>u(null),children:"Ganti"})]}):i.jsxs("div",{className:"border border-dashed rounded-md p-8 text-center",children:[i.jsx("input",{type:"file",id:"selfie-upload",className:"hidden",accept:"image/*",onChange:g,disabled:r}),i.jsx("label",{htmlFor:"selfie-upload",className:"cursor-pointer block",children:r?i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(W.spinner,{className:"h-8 w-8 animate-spin text-primary mb-2"}),i.jsx("p",{children:"Mengunggah..."})]}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mx-auto text-muted-foreground mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),i.jsx("p",{children:"Klik untuk mengunggah foto selfie dengan KTP"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Format: JPG, PNG, maksimal 5MB"})]})})]})]})]}),i.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-between gap-2",children:[i.jsx(V,{type:"button",variant:"outline",onClick:()=>e("identity"),children:"Kembali"}),i.jsx(V,{type:"submit",disabled:!o||!c||a,children:a?i.jsxs(i.Fragment,{children:[i.jsx(W.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Kirim Verifikasi"})]})]})})]})}),i.jsxs(Ga,{className:"flex flex-col text-xs text-muted-foreground border-t pt-4",children:[i.jsx("p",{children:"Data yang dikirimkan akan digunakan untuk keperluan verifikasi identitas sesuai regulasi."}),i.jsx("p",{children:"JPC Digi menjamin keamanan dan kerahasiaan data pribadi Anda."})]})]})]})})]})}var Lu={},N1,l4;function rz(){return l4||(l4=1,N1={L:1,M:0,Q:3,H:2}),N1}var T1,c4;function nz(){return c4||(c4=1,T1={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),T1}var k1,u4;function iCe(){if(u4)return k1;u4=1;var t=nz();function e(r){this.mode=t.MODE_8BIT_BYTE,this.data=r}return e.prototype={getLength:function(r){return this.data.length},write:function(r){for(var n=0;n<this.data.length;n++)r.put(this.data.charCodeAt(n),8)}},k1=e,k1}var I1,A4;function oCe(){if(A4)return I1;A4=1;var t=rz();function e(r,n){this.totalCount=r,this.dataCount=n}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(r,n){var a=e.getRsBlockTable(r,n);if(a==null)throw new Error("bad rs block @ typeNumber:"+r+"/errorCorrectLevel:"+n);for(var s=a.length/3,o=new Array,l=0;l<s;l++)for(var c=a[l*3+0],u=a[l*3+1],A=a[l*3+2],d=0;d<c;d++)o.push(new e(u,A));return o},e.getRsBlockTable=function(r,n){switch(n){case t.L:return e.RS_BLOCK_TABLE[(r-1)*4+0];case t.M:return e.RS_BLOCK_TABLE[(r-1)*4+1];case t.Q:return e.RS_BLOCK_TABLE[(r-1)*4+2];case t.H:return e.RS_BLOCK_TABLE[(r-1)*4+3];default:return}},I1=e,I1}var P1,d4;function lCe(){if(d4)return P1;d4=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(e){var r=Math.floor(e/8);return(this.buffer[r]>>>7-e%8&1)==1},put:function(e,r){for(var n=0;n<r;n++)this.putBit((e>>>r-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),e&&(this.buffer[r]|=128>>>this.length%8),this.length++}},P1=t,P1}var O1,h4;function az(){if(h4)return O1;h4=1;for(var t={glog:function(r){if(r<1)throw new Error("glog("+r+")");return t.LOG_TABLE[r]},gexp:function(r){for(;r<0;)r+=255;for(;r>=256;)r-=255;return t.EXP_TABLE[r]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;e<255;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e;return O1=t,O1}var F1,f4;function sz(){if(f4)return F1;f4=1;var t=az();function e(r,n){if(r.length==null)throw new Error(r.length+"/"+n);for(var a=0;a<r.length&&r[a]==0;)a++;this.num=new Array(r.length-a+n);for(var s=0;s<r.length-a;s++)this.num[s]=r[s+a]}return e.prototype={get:function(r){return this.num[r]},getLength:function(){return this.num.length},multiply:function(r){for(var n=new Array(this.getLength()+r.getLength()-1),a=0;a<this.getLength();a++)for(var s=0;s<r.getLength();s++)n[a+s]^=t.gexp(t.glog(this.get(a))+t.glog(r.get(s)));return new e(n,0)},mod:function(r){if(this.getLength()-r.getLength()<0)return this;for(var n=t.glog(this.get(0))-t.glog(r.get(0)),a=new Array(this.getLength()),s=0;s<this.getLength();s++)a[s]=this.get(s);for(var s=0;s<r.getLength();s++)a[s]^=t.gexp(t.glog(r.get(s))+n);return new e(a,0).mod(r)}},F1=e,F1}var D1,m4;function cCe(){if(m4)return D1;m4=1;var t=nz(),e=sz(),r=az(),n={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},a={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(s){for(var o=s<<10;a.getBCHDigit(o)-a.getBCHDigit(a.G15)>=0;)o^=a.G15<<a.getBCHDigit(o)-a.getBCHDigit(a.G15);return(s<<10|o)^a.G15_MASK},getBCHTypeNumber:function(s){for(var o=s<<12;a.getBCHDigit(o)-a.getBCHDigit(a.G18)>=0;)o^=a.G18<<a.getBCHDigit(o)-a.getBCHDigit(a.G18);return s<<12|o},getBCHDigit:function(s){for(var o=0;s!=0;)o++,s>>>=1;return o},getPatternPosition:function(s){return a.PATTERN_POSITION_TABLE[s-1]},getMask:function(s,o,l){switch(s){case n.PATTERN000:return(o+l)%2==0;case n.PATTERN001:return o%2==0;case n.PATTERN010:return l%3==0;case n.PATTERN011:return(o+l)%3==0;case n.PATTERN100:return(Math.floor(o/2)+Math.floor(l/3))%2==0;case n.PATTERN101:return o*l%2+o*l%3==0;case n.PATTERN110:return(o*l%2+o*l%3)%2==0;case n.PATTERN111:return(o*l%3+(o+l)%2)%2==0;default:throw new Error("bad maskPattern:"+s)}},getErrorCorrectPolynomial:function(s){for(var o=new e([1],0),l=0;l<s;l++)o=o.multiply(new e([1,r.gexp(l)],0));return o},getLengthInBits:function(s,o){if(1<=o&&o<10)switch(s){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+s)}else if(o<27)switch(s){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+s)}else if(o<41)switch(s){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+s)}else throw new Error("type:"+o)},getLostPoint:function(s){for(var o=s.getModuleCount(),l=0,c=0;c<o;c++)for(var u=0;u<o;u++){for(var A=0,d=s.isDark(c,u),h=-1;h<=1;h++)if(!(c+h<0||o<=c+h))for(var f=-1;f<=1;f++)u+f<0||o<=u+f||h==0&&f==0||d==s.isDark(c+h,u+f)&&A++;A>5&&(l+=3+A-5)}for(var c=0;c<o-1;c++)for(var u=0;u<o-1;u++){var p=0;s.isDark(c,u)&&p++,s.isDark(c+1,u)&&p++,s.isDark(c,u+1)&&p++,s.isDark(c+1,u+1)&&p++,(p==0||p==4)&&(l+=3)}for(var c=0;c<o;c++)for(var u=0;u<o-6;u++)s.isDark(c,u)&&!s.isDark(c,u+1)&&s.isDark(c,u+2)&&s.isDark(c,u+3)&&s.isDark(c,u+4)&&!s.isDark(c,u+5)&&s.isDark(c,u+6)&&(l+=40);for(var u=0;u<o;u++)for(var c=0;c<o-6;c++)s.isDark(c,u)&&!s.isDark(c+1,u)&&s.isDark(c+2,u)&&s.isDark(c+3,u)&&s.isDark(c+4,u)&&!s.isDark(c+5,u)&&s.isDark(c+6,u)&&(l+=40);for(var g=0,u=0;u<o;u++)for(var c=0;c<o;c++)s.isDark(c,u)&&g++;var m=Math.abs(100*g/o/o-50)/5;return l+=m*10,l}};return D1=a,D1}var R1,p4;function uCe(){if(p4)return R1;p4=1;var t=iCe(),e=oCe(),r=lCe(),n=cCe(),a=sz();function s(l,c){this.typeNumber=l,this.errorCorrectLevel=c,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var o=s.prototype;return o.addData=function(l){var c=new t(l);this.dataList.push(c),this.dataCache=null},o.isDark=function(l,c){if(l<0||this.moduleCount<=l||c<0||this.moduleCount<=c)throw new Error(l+","+c);return this.modules[l][c]},o.getModuleCount=function(){return this.moduleCount},o.make=function(){if(this.typeNumber<1){var l=1;for(l=1;l<40;l++){for(var c=e.getRSBlocks(l,this.errorCorrectLevel),u=new r,A=0,d=0;d<c.length;d++)A+=c[d].dataCount;for(var d=0;d<this.dataList.length;d++){var h=this.dataList[d];u.put(h.mode,4),u.put(h.getLength(),n.getLengthInBits(h.mode,l)),h.write(u)}if(u.getLengthInBits()<=A*8)break}this.typeNumber=l}this.makeImpl(!1,this.getBestMaskPattern())},o.makeImpl=function(l,c){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var u=0;u<this.moduleCount;u++){this.modules[u]=new Array(this.moduleCount);for(var A=0;A<this.moduleCount;A++)this.modules[u][A]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(l,c),this.typeNumber>=7&&this.setupTypeNumber(l),this.dataCache==null&&(this.dataCache=s.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,c)},o.setupPositionProbePattern=function(l,c){for(var u=-1;u<=7;u++)if(!(l+u<=-1||this.moduleCount<=l+u))for(var A=-1;A<=7;A++)c+A<=-1||this.moduleCount<=c+A||(0<=u&&u<=6&&(A==0||A==6)||0<=A&&A<=6&&(u==0||u==6)||2<=u&&u<=4&&2<=A&&A<=4?this.modules[l+u][c+A]=!0:this.modules[l+u][c+A]=!1)},o.getBestMaskPattern=function(){for(var l=0,c=0,u=0;u<8;u++){this.makeImpl(!0,u);var A=n.getLostPoint(this);(u==0||l>A)&&(l=A,c=u)}return c},o.createMovieClip=function(l,c,u){var A=l.createEmptyMovieClip(c,u),d=1;this.make();for(var h=0;h<this.modules.length;h++)for(var f=h*d,p=0;p<this.modules[h].length;p++){var g=p*d,m=this.modules[h][p];m&&(A.beginFill(0,100),A.moveTo(g,f),A.lineTo(g+d,f),A.lineTo(g+d,f+d),A.lineTo(g,f+d),A.endFill())}return A},o.setupTimingPattern=function(){for(var l=8;l<this.moduleCount-8;l++)this.modules[l][6]==null&&(this.modules[l][6]=l%2==0);for(var c=8;c<this.moduleCount-8;c++)this.modules[6][c]==null&&(this.modules[6][c]=c%2==0)},o.setupPositionAdjustPattern=function(){for(var l=n.getPatternPosition(this.typeNumber),c=0;c<l.length;c++)for(var u=0;u<l.length;u++){var A=l[c],d=l[u];if(this.modules[A][d]==null)for(var h=-2;h<=2;h++)for(var f=-2;f<=2;f++)h==-2||h==2||f==-2||f==2||h==0&&f==0?this.modules[A+h][d+f]=!0:this.modules[A+h][d+f]=!1}},o.setupTypeNumber=function(l){for(var c=n.getBCHTypeNumber(this.typeNumber),u=0;u<18;u++){var A=!l&&(c>>u&1)==1;this.modules[Math.floor(u/3)][u%3+this.moduleCount-8-3]=A}for(var u=0;u<18;u++){var A=!l&&(c>>u&1)==1;this.modules[u%3+this.moduleCount-8-3][Math.floor(u/3)]=A}},o.setupTypeInfo=function(l,c){for(var u=this.errorCorrectLevel<<3|c,A=n.getBCHTypeInfo(u),d=0;d<15;d++){var h=!l&&(A>>d&1)==1;d<6?this.modules[d][8]=h:d<8?this.modules[d+1][8]=h:this.modules[this.moduleCount-15+d][8]=h}for(var d=0;d<15;d++){var h=!l&&(A>>d&1)==1;d<8?this.modules[8][this.moduleCount-d-1]=h:d<9?this.modules[8][15-d-1+1]=h:this.modules[8][15-d-1]=h}this.modules[this.moduleCount-8][8]=!l},o.mapData=function(l,c){for(var u=-1,A=this.moduleCount-1,d=7,h=0,f=this.moduleCount-1;f>0;f-=2)for(f==6&&f--;;){for(var p=0;p<2;p++)if(this.modules[A][f-p]==null){var g=!1;h<l.length&&(g=(l[h]>>>d&1)==1);var m=n.getMask(c,A,f-p);m&&(g=!g),this.modules[A][f-p]=g,d--,d==-1&&(h++,d=7)}if(A+=u,A<0||this.moduleCount<=A){A-=u,u=-u;break}}},s.PAD0=236,s.PAD1=17,s.createData=function(l,c,u){for(var A=e.getRSBlocks(l,c),d=new r,h=0;h<u.length;h++){var f=u[h];d.put(f.mode,4),d.put(f.getLength(),n.getLengthInBits(f.mode,l)),f.write(d)}for(var p=0,h=0;h<A.length;h++)p+=A[h].dataCount;if(d.getLengthInBits()>p*8)throw new Error("code length overflow. ("+d.getLengthInBits()+">"+p*8+")");for(d.getLengthInBits()+4<=p*8&&d.put(0,4);d.getLengthInBits()%8!=0;)d.putBit(!1);for(;!(d.getLengthInBits()>=p*8||(d.put(s.PAD0,8),d.getLengthInBits()>=p*8));)d.put(s.PAD1,8);return s.createBytes(d,A)},s.createBytes=function(l,c){for(var u=0,A=0,d=0,h=new Array(c.length),f=new Array(c.length),p=0;p<c.length;p++){var g=c[p].dataCount,m=c[p].totalCount-g;A=Math.max(A,g),d=Math.max(d,m),h[p]=new Array(g);for(var x=0;x<h[p].length;x++)h[p][x]=255&l.buffer[x+u];u+=g;var b=n.getErrorCorrectPolynomial(m),_=new a(h[p],b.getLength()-1),w=_.mod(b);f[p]=new Array(b.getLength()-1);for(var x=0;x<f[p].length;x++){var C=x+w.getLength()-f[p].length;f[p][x]=C>=0?w.get(C):0}}for(var E=0,x=0;x<c.length;x++)E+=c[x].totalCount;for(var j=new Array(E),B=0,x=0;x<A;x++)for(var p=0;p<c.length;p++)x<h[p].length&&(j[B++]=h[p][x]);for(var x=0;x<d;x++)for(var p=0;p<c.length;p++)x<f[p].length&&(j[B++]=f[p][x]);return j},R1=s,R1}var dv={},g4;function ACe(){if(g4)return dv;g4=1,Object.defineProperty(dv,"__esModule",{value:!0});var t=Object.assign||function(u){for(var A=1;A<arguments.length;A++){var d=arguments[A];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(u[h]=d[h])}return u},e=bI(),r=s(e),n=fp(),a=s(n);function s(u){return u&&u.__esModule?u:{default:u}}function o(u,A){var d={};for(var h in u)A.indexOf(h)>=0||Object.prototype.hasOwnProperty.call(u,h)&&(d[h]=u[h]);return d}var l={bgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,bgD:r.default.string.isRequired,fgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,fgD:r.default.string.isRequired,size:r.default.number.isRequired,title:r.default.string,viewBoxSize:r.default.number.isRequired,xmlns:r.default.string},c=(0,n.forwardRef)(function(u,A){var d=u.bgColor,h=u.bgD,f=u.fgD,p=u.fgColor,g=u.size,m=u.title,x=u.viewBoxSize,b=u.xmlns,_=b===void 0?"http://www.w3.org/2000/svg":b,w=o(u,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return a.default.createElement("svg",t({},w,{height:g,ref:A,viewBox:"0 0 "+x+" "+x,width:g,xmlns:_}),m?a.default.createElement("title",null,m):null,a.default.createElement("path",{d:h,fill:d}),a.default.createElement("path",{d:f,fill:p}))});return c.displayName="QRCodeSvg",c.propTypes=l,dv.default=c,dv}var v4;function dCe(){if(v4)return Lu;v4=1,Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.QRCode=void 0;var t=Object.assign||function(g){for(var m=1;m<arguments.length;m++){var x=arguments[m];for(var b in x)Object.prototype.hasOwnProperty.call(x,b)&&(g[b]=x[b])}return g},e=bI(),r=d(e),n=rz(),a=d(n),s=uCe(),o=d(s),l=fp(),c=d(l),u=ACe(),A=d(u);function d(g){return g&&g.__esModule?g:{default:g}}function h(g,m){var x={};for(var b in g)m.indexOf(b)>=0||Object.prototype.hasOwnProperty.call(g,b)&&(x[b]=g[b]);return x}var f={bgColor:r.default.oneOfType([r.default.object,r.default.string]),fgColor:r.default.oneOfType([r.default.object,r.default.string]),level:r.default.string,size:r.default.number,value:r.default.string.isRequired},p=(0,l.forwardRef)(function(g,m){var x=g.bgColor,b=x===void 0?"#FFFFFF":x,_=g.fgColor,w=_===void 0?"#000000":_,C=g.level,E=C===void 0?"L":C,j=g.size,B=j===void 0?256:j,S=g.value,N=h(g,["bgColor","fgColor","level","size","value"]),I=new o.default(-1,a.default[E]);I.addData(S),I.make();var P=I.modules;return c.default.createElement(A.default,t({},N,{bgColor:b,bgD:P.map(function(T,U){return T.map(function(M,R){return M?"":"M "+R+" "+U+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:w,fgD:P.map(function(T,U){return T.map(function(M,R){return M?"M "+R+" "+U+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:m,size:B,viewBoxSize:P.length}))});return Lu.QRCode=p,p.displayName="QRCode",p.propTypes=f,Lu.default=p,Lu}var hCe=dCe();const iz=Lt(hCe),vn=v.forwardRef(({className:t,...e},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:de("w-full caption-bottom text-sm",t),...e})}));vn.displayName="Table";const yn=v.forwardRef(({className:t,...e},r)=>i.jsx("thead",{ref:r,className:de("[&_tr]:border-b",t),...e}));yn.displayName="TableHeader";const xn=v.forwardRef(({className:t,...e},r)=>i.jsx("tbody",{ref:r,className:de("[&_tr:last-child]:border-0",t),...e}));xn.displayName="TableBody";const fCe=v.forwardRef(({className:t,...e},r)=>i.jsx("tfoot",{ref:r,className:de("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));fCe.displayName="TableFooter";const it=v.forwardRef(({className:t,...e},r)=>i.jsx("tr",{ref:r,className:de("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));it.displayName="TableRow";const Ce=v.forwardRef(({className:t,...e},r)=>i.jsx("th",{ref:r,className:de("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Ce.displayName="TableHead";const me=v.forwardRef(({className:t,...e},r)=>i.jsx("td",{ref:r,className:de("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));me.displayName="TableCell";const mCe=v.forwardRef(({className:t,...e},r)=>i.jsx("caption",{ref:r,className:de("mt-4 text-sm text-muted-foreground",t),...e}));mCe.displayName="TableCaption";const y4=[{id:"TRX-12345",type:"topup",amount:5e5,date:"2025-06-02T10:15:30",status:"success",description:"Top Up via BCA Virtual Account",source:"BCA Virtual Account",balance:5e5},{id:"TRX-12346",type:"payment",amount:-15e4,date:"2025-06-02T14:30:25",status:"success",description:"Pembayaran Tagihan PLN",source:"PLN Postpaid",balance:35e4},{id:"TRX-12347",type:"payment",amount:-5e4,date:"2025-06-02T16:45:12",status:"success",description:"Pembelian Pulsa Telkomsel",source:"Telkomsel Prepaid",balance:3e5},{id:"TRX-12348",type:"payment",amount:-75e3,date:"2025-06-02T18:20:05",status:"success",description:"Pembayaran PDAM",source:"PDAM",balance:225e3},{id:"TRX-12349",type:"topup",amount:2e5,date:"2025-06-03T09:10:45",status:"success",description:"Top Up via DANA",source:"DANA",balance:425e3},{id:"TRX-12350",type:"payment",amount:-1e5,date:"2025-06-03T11:30:20",status:"success",description:"Pembelian Token Listrik",source:"PLN Prepaid",balance:325e3},{id:"TRX-12351",type:"payment",amount:-25e3,date:"2025-06-03T13:45:10",status:"success",description:"Pembayaran Telkom IndiHome",source:"Telkom",balance:3e5},{id:"TRX-12352",type:"topup",amount:1e5,date:"2025-06-03T15:20:30",status:"pending",description:"Top Up via OVO",source:"OVO",balance:3e5},{id:"TRX-12353",type:"payment",amount:-8e4,date:"2025-06-03T16:50:15",status:"failed",description:"Pembelian Paket Data XL",source:"XL Data",balance:3e5}];function pCe({className:t}){const[e,r]=v.useState("all"),[n,a]=v.useState([]),[s,o]=v.useState([]),[l,c]=v.useState(!0),[u,A]=v.useState("this-month"),[d,h]=v.useState("");v.useEffect(()=>{(async()=>{c(!0),await new Promise(C=>setTimeout(C,1e3)),a(y4),o(y4),c(!1)})()},[]),v.useEffect(()=>{f()},[e,u,d,n]);const f=()=>{let w=[...n];e==="topup"?w=w.filter(P=>P.type==="topup"):e==="payment"&&(w=w.filter(P=>P.type==="payment"));const C=new Date,E=new Date(C.getFullYear(),C.getMonth(),C.getDate()),j=new Date(E);j.setDate(j.getDate()-1);const B=new Date(E);B.setDate(B.getDate()-E.getDay());const S=new Date(C.getFullYear(),C.getMonth(),1),N=new Date(C.getFullYear(),C.getMonth()-1,1),I=new Date(C.getFullYear(),C.getMonth(),0);switch(u){case"today":w=w.filter(P=>new Date(P.date)>=E);break;case"yesterday":w=w.filter(P=>{const T=new Date(P.date);return T>=j&&T<E});break;case"this-week":w=w.filter(P=>new Date(P.date)>=B);break;case"this-month":w=w.filter(P=>new Date(P.date)>=S);break;case"last-month":w=w.filter(P=>{const T=new Date(P.date);return T>=N&&T<=I});break}if(d.trim()!==""){const P=d.toLowerCase();w=w.filter(T=>T.id.toLowerCase().includes(P)||T.description.toLowerCase().includes(P)||T.source.toLowerCase().includes(P))}w.sort((P,T)=>new Date(T.date).getTime()-new Date(P.date).getTime()),o(w)},p=w=>{const C=new Date(w);return an(C,"d MMMM yyyy, HH:mm",{locale:za})},g=w=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(Math.abs(w)),m=()=>s.filter(w=>w.amount>0&&w.status==="success").reduce((w,C)=>w+C.amount,0),x=()=>s.filter(w=>w.amount<0&&w.status==="success").reduce((w,C)=>w+Math.abs(C.amount),0),b=w=>{switch(w){case"topup":return i.jsx(W.plus,{className:"h-4 w-4 text-green-500"});case"payment":return i.jsx(W.creditCard,{className:"h-4 w-4 text-blue-500"});case"withdrawal":return i.jsx(W.arrowRight,{className:"h-4 w-4 text-orange-500"});case"refund":return i.jsx(W.arrowRight,{className:"h-4 w-4 text-purple-500 rotate-180"});default:return i.jsx(W.activity,{className:"h-4 w-4"})}},_=w=>{switch(w){case"success":return i.jsx(yt,{className:"bg-green-100 text-green-800 hover:bg-green-200",children:"Sukses"});case"pending":return i.jsx(yt,{className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200",children:"Pending"});case"failed":return i.jsx(yt,{className:"bg-red-100 text-red-800 hover:bg-red-200",children:"Gagal"});default:return i.jsx(yt,{children:"Unknown"})}};return i.jsxs(xe,{className:t,children:[i.jsxs(nt,{className:"pb-3",children:[i.jsx(at,{children:"Mutasi Dompet PPOB"}),i.jsx(nr,{children:"Riwayat transaksi dompet PPOB Anda"})]}),i.jsxs(be,{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col space-y-3 sm:space-y-0 sm:flex-row sm:space-x-3 sm:items-center justify-between",children:[i.jsx(ha,{value:e,onValueChange:r,className:"w-full sm:w-auto",children:i.jsxs(ea,{className:"grid grid-cols-3 w-full sm:w-auto",children:[i.jsx(Nt,{value:"all",children:"Semua"}),i.jsx(Nt,{value:"topup",children:"Top Up"}),i.jsx(Nt,{value:"payment",children:"Pembayaran"})]})}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs(On,{value:u,onValueChange:A,children:[i.jsx(pn,{className:"w-full sm:w-[180px]",children:i.jsx(Fn,{placeholder:"Pilih Periode"})}),i.jsxs(gn,{children:[i.jsx(mt,{value:"all",children:"Semua Waktu"}),i.jsx(mt,{value:"today",children:"Hari Ini"}),i.jsx(mt,{value:"yesterday",children:"Kemarin"}),i.jsx(mt,{value:"this-week",children:"Minggu Ini"}),i.jsx(mt,{value:"this-month",children:"Bulan Ini"}),i.jsx(mt,{value:"last-month",children:"Bulan Lalu"})]})]}),i.jsx(le,{placeholder:"Cari transaksi...",value:d,onChange:w=>h(w.target.value),className:"w-full sm:w-[200px]"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[i.jsx(xe,{children:i.jsx(be,{className:"p-4",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Saldo Terakhir"}),i.jsx("p",{className:"text-2xl font-bold",children:n.length>0?g(n[0].balance):"Rp 0"})]})})}),i.jsx(xe,{children:i.jsx(be,{className:"p-4",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Pemasukan"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:g(m())})]})})}),i.jsx(xe,{children:i.jsx(be,{className:"p-4",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Pengeluaran"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:g(x())})]})})})]}),i.jsx(Qn,{}),l?i.jsx("div",{className:"flex justify-center items-center py-12",children:i.jsx(W.spinner,{className:"h-8 w-8 animate-spin text-primary"})}):s.length===0?i.jsx("div",{className:"text-center py-12 text-muted-foreground",children:i.jsx("p",{children:"Tidak ada transaksi ditemukan"})}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(vn,{children:[i.jsx(yn,{children:i.jsxs(it,{children:[i.jsx(Ce,{children:"Tanggal"}),i.jsx(Ce,{children:"ID Transaksi"}),i.jsx(Ce,{children:"Keterangan"}),i.jsx(Ce,{children:"Jumlah"}),i.jsx(Ce,{children:"Status"}),i.jsx(Ce,{children:"Saldo"})]})}),i.jsx(xn,{children:s.map(w=>i.jsxs(it,{children:[i.jsx(me,{className:"whitespace-nowrap",children:p(w.date)}),i.jsx(me,{className:"font-medium",children:w.id}),i.jsx(me,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[b(w.type),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:w.description}),i.jsx("p",{className:"text-xs text-muted-foreground",children:w.source})]})]})}),i.jsxs(me,{className:w.amount>0?"text-green-600":"text-red-600",children:[w.amount>0?"+":"-",g(w.amount)]}),i.jsx(me,{children:_(w.status)}),i.jsx(me,{className:"font-medium",children:g(w.balance)})]},w.id))})]})})]}),i.jsxs(Ga,{className:"flex justify-between",children:[i.jsxs(V,{variant:"outline",children:[i.jsx(W.download,{className:"mr-2 h-4 w-4"}),"Unduh PDF"]}),i.jsxs(V,{variant:"outline",children:[i.jsx(W.download,{className:"mr-2 h-4 w-4"}),"Unduh CSV"]})]})]})}const gCe=()=>{const t=kt(),[e,r]=v.useState("overview"),[n,a]=v.useState(75e4),[s,o]=v.useState(""),[l,c]=v.useState(""),[u,A]=v.useState(""),[d,h]=v.useState(""),[f,p]=v.useState("88750012345678"),[g,m]=v.useState(!1),[x,b]=v.useState(!1),[_,w]=v.useState(!1),[C,E]=v.useState(!1),[j,B]=v.useState(null),[S,N]=v.useState("transfer"),[I,P]=v.useState(!1),[T,U]=v.useState("all"),[M,R]=v.useState(null),F=G=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(G),D=G=>{G.preventDefault(),w(!0),B("topup"),setTimeout(()=>{const X=parseInt(s.replace(/\D/g,""));a(Z=>Z+X),w(!1),E(!0);const te=`TP${Date.now().toString().slice(-8)}`;R({id:te,amount:X,type:"topup",status:"success",timestamp:new Date}),setTimeout(()=>{m(!1),o(""),E(!1)},2e3)},1500)},Q=G=>{G.preventDefault(),w(!0),B("withdraw"),setTimeout(()=>{const X=parseInt(l.replace(/\D/g,""));a(Z=>Z-X),w(!1),E(!0);const te=`WD${Date.now().toString().slice(-8)}`;R({id:te,amount:X,type:"withdraw",status:"success",timestamp:new Date}),setTimeout(()=>{b(!1),c(""),A(""),h(""),E(!1)},2e3)},1500)},H=(G,X)=>{const te=G.target.value.replace(/\D/g,"");if(te===""){X("");return}X(new Intl.NumberFormat("id-ID").format(parseInt(te)))};return i.jsxs($t,{title:"PPOB Wallet",subtitle:"Kelola saldo PPOB Anda",withBackButton:!0,onBackButtonClick:()=>t("/ppob"),children:[i.jsx("div",{className:"container max-w-md mx-auto px-4 py-6",children:i.jsxs(ha,{defaultValue:"overview",value:e,onValueChange:r,className:"w-full",children:[i.jsxs(ea,{className:"grid w-full grid-cols-2",children:[i.jsx(Nt,{value:"overview",children:"Saldo"}),i.jsx(Nt,{value:"history",children:"Riwayat"})]}),i.jsxs(Wt,{value:"overview",className:"space-y-4",children:[i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mt-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-lg font-medium",children:"Saldo PPOB Wallet"}),i.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>r("history"),children:[i.jsx(W.history,{className:"h-4 w-4 mr-1"}),"Riwayat"]})]}),i.jsx(xe,{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white mb-6",children:i.jsx(be,{className:"p-6",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium text-blue-100",children:"Saldo Tersedia"}),i.jsx("h3",{className:"text-3xl font-bold",children:F(n)}),i.jsxs("p",{className:"text-xs text-blue-100",children:["Terakhir diperbarui: ",new Date().toLocaleString("id-ID")]})]})})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs(V,{className:"h-auto py-4 flex flex-col items-center",onClick:()=>m(!0),children:[i.jsx(W.plus,{className:"h-6 w-6 mb-1"}),i.jsx("span",{children:"Top Up"})]}),i.jsxs(V,{variant:"outline",className:"h-auto py-4 flex flex-col items-center",onClick:()=>b(!0),children:[i.jsx(W.arrowRight,{className:"h-6 w-6 mb-1"}),i.jsx("span",{children:"Tarik Dana"})]})]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Transaksi Terakhir"}),M?i.jsx(xe,{className:"border",children:i.jsx(be,{className:"p-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx(yt,{variant:M.type==="topup"?"success":"destructive",children:M.type==="topup"?"Top Up":"Tarik Dana"}),i.jsxs("p",{className:"text-sm font-semibold mt-1",children:[M.type==="topup"?"+":"-",F(M.amount)]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:M.timestamp.toLocaleString("id-ID")})]}),i.jsx(yt,{variant:M.status==="success"?"outline":"secondary",children:M.status==="success"?"Berhasil":M.status==="pending"?"Diproses":"Gagal"})]})})}):i.jsx("div",{className:"text-center py-6 text-muted-foreground",children:i.jsx("p",{children:"Belum ada transaksi"})}),i.jsx("div",{className:"mt-4",children:i.jsxs(V,{variant:"outline",className:"w-full",onClick:()=>t("/ppob/history?wallet=true"),children:["Lihat Semua Transaksi",i.jsx(W.arrowRight,{className:"h-4 w-4 ml-2"})]})})]})]}),i.jsx(Wt,{value:"history",className:"space-y-4",children:i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Riwayat Transaksi"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[i.jsxs(xe,{className:"bg-blue-50",children:[i.jsx(nt,{className:"pb-2",children:i.jsxs(at,{className:"text-sm font-medium flex items-center",children:[i.jsx(W.arrowDownCircle,{className:"h-4 w-4 mr-2 text-green-600"}),"Uang Masuk"]})}),i.jsx(be,{children:i.jsxs(V,{variant:"ghost",className:"p-0 h-auto font-bold text-green-600 hover:text-green-700 hover:bg-transparent",onClick:()=>t("/ppob/history?filter=in"),children:["Lihat",i.jsx(W.chevronRight,{className:"h-4 w-4 ml-1"})]})})]}),i.jsxs(xe,{className:"bg-blue-50",children:[i.jsx(nt,{className:"pb-2",children:i.jsxs(at,{className:"text-sm font-medium flex items-center",children:[i.jsx(W.arrowUpCircle,{className:"h-4 w-4 mr-2 text-red-600"}),"Uang Keluar"]})}),i.jsx(be,{children:i.jsxs(V,{variant:"ghost",className:"p-0 h-auto font-bold text-red-600 hover:text-red-700 hover:bg-transparent",onClick:()=>t("/ppob/history?filter=out"),children:["Lihat",i.jsx(W.chevronRight,{className:"h-4 w-4 ml-1"})]})})]})]}),i.jsx("div",{className:"space-y-2",children:i.jsx(pCe,{})}),i.jsxs("div",{className:"mt-4 text-center",children:[i.jsxs(V,{variant:"outline",onClick:()=>t("/ppob/history?wallet=true"),children:[i.jsx(W.wallet,{className:"mr-2 h-4 w-4"}),"Lihat Transaksi Wallet"]}),i.jsxs(V,{variant:"link",onClick:()=>t("/ppob/history"),children:[i.jsx(W.history,{className:"mr-2 h-4 w-4"}),"Semua Transaksi"]})]})]})})]})}),i.jsx(or,{open:g,onOpenChange:m,children:i.jsxs(er,{className:"sm:max-w-md",children:[i.jsxs(dr,{children:[i.jsx(hr,{children:"Top Up Saldo"}),i.jsx(_n,{children:"Tambah saldo PPOB Wallet Anda dengan mudah."})]}),C&&j==="topup"?i.jsxs("div",{className:"py-6 text-center space-y-4",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(W.check,{className:"h-8 w-8 text-green-600"})})}),i.jsx("h3",{className:"font-bold text-lg",children:"Top Up Berhasil!"}),i.jsxs("p",{className:"text-muted-foreground",children:["Saldo Anda telah bertambah",M&&i.jsx("span",{className:"block font-semibold mt-1 text-green-600",children:F(M.amount)})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:M&&i.jsxs(i.Fragment,{children:["ID Transaksi: ",M.id,i.jsx("br",{}),"Waktu: ",M.timestamp.toLocaleString("id-ID")]})})]}):i.jsxs("form",{onSubmit:D,children:[i.jsxs(ha,{defaultValue:"transfer",className:"w-full",onValueChange:G=>N(G),children:[i.jsxs(ea,{className:"grid w-full grid-cols-2",children:[i.jsx(Nt,{value:"transfer",children:"Transfer Bank"}),i.jsx(Nt,{value:"qrcode",children:"QR Code"})]}),i.jsxs(Wt,{value:"transfer",className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"amount",children:"Jumlah"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"Rp"}),i.jsx(le,{id:"amount",placeholder:"0",className:"pl-9",value:s,onChange:G=>H(G,o),required:!0})]}),i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsx("p",{className:"text-muted-foreground",children:"Min: Rp10.000"}),i.jsx("p",{className:"text-muted-foreground",children:"Maks: Rp10.000.000"})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:[1e5,2e5,5e5,1e6].map(G=>i.jsx(V,{type:"button",variant:"outline",size:"sm",className:"flex-1 min-w-[80px]",onClick:()=>o(new Intl.NumberFormat("id-ID").format(G)),children:F(G)},G))})]}),i.jsxs("div",{className:"space-y-2 mt-4",children:[i.jsx(Ne,{children:"Metode Pembayaran"}),i.jsx(xe,{children:i.jsx(be,{className:"p-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(W.creditCard,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Virtual Account"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:f})]})]}),i.jsx(V,{type:"button",variant:"ghost",size:"icon",onClick:()=>{navigator.clipboard.writeText(f),alert("Nomor Virtual Account disalin!")},children:i.jsx(W.copy,{className:"h-4 w-4"})})]})})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Transfer ke nomor virtual account di atas untuk melakukan top up. Saldo akan bertambah otomatis setelah transfer berhasil."})]})]}),i.jsxs(Wt,{value:"qrcode",className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"qr-amount",children:"Jumlah"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"Rp"}),i.jsx(le,{id:"qr-amount",placeholder:"0",className:"pl-9",value:s,onChange:G=>H(G,o),required:!0})]}),i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsx("p",{className:"text-muted-foreground",children:"Min: Rp10.000"}),i.jsx("p",{className:"text-muted-foreground",children:"Maks: Rp10.000.000"})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:[1e5,2e5,5e5,1e6].map(G=>i.jsx(V,{type:"button",variant:"outline",size:"sm",className:"flex-1 min-w-[80px]",onClick:()=>o(new Intl.NumberFormat("id-ID").format(G)),children:F(G)},G))})]}),i.jsx("div",{className:"flex justify-center mt-4",children:I?i.jsxs("div",{className:"p-4 border-2 border-dashed border-muted-foreground/50 rounded-lg",children:[i.jsx("div",{className:"bg-white p-2 rounded-md",children:i.jsx(iz,{value:`JPC:TOPUP:${s.replace(/\D/g,"")}:${Date.now()}`,size:180})}),i.jsx(V,{type:"button",variant:"link",className:"mt-2 text-xs",onClick:()=>P(!1),children:"Ubah Nominal"})]}):i.jsxs(V,{type:"button",variant:"outline",onClick:()=>{const G=parseInt(s.replace(/\D/g,""))||0;if(G<1e4){alert("Minimal top up adalah Rp10.000");return}if(G>1e7){alert("Maksimal top up adalah Rp10.000.000");return}P(!0)},disabled:!s,className:"w-full py-8",children:[i.jsx(W.qrCode,{className:"mr-2 h-5 w-5"}),"Generate QR Code"]})}),I&&i.jsx("p",{className:"text-sm text-center text-muted-foreground",children:"Scan QR code ini dengan aplikasi e-wallet atau mobile banking Anda untuk melakukan pembayaran."})]})]}),i.jsxs(sn,{className:"mt-4",children:[i.jsx(V,{type:"button",variant:"outline",onClick:()=>{m(!1),P(!1),o("")},disabled:_,children:"Batal"}),S==="transfer"?i.jsx(V,{type:"submit",disabled:!s||_||parseInt(s.replace(/\D/g,""))<1e4,children:_?i.jsxs(i.Fragment,{children:[i.jsx(W.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Konfirmasi Top Up"}):i.jsx(V,{type:"button",onClick:()=>{w(!0),B("topup"),setTimeout(()=>{const G=parseInt(s.replace(/\D/g,""));a(te=>te+G),w(!1),E(!0);const X=`TP${Date.now().toString().slice(-8)}`;R({id:X,amount:G,type:"topup",status:"success",timestamp:new Date}),setTimeout(()=>{m(!1),o(""),P(!1),E(!1)},2e3)},1500)},disabled:!s||!I||_,children:_?i.jsxs(i.Fragment,{children:[i.jsx(W.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Saya Sudah Bayar"})]})]})]})}),i.jsx(or,{open:x,onOpenChange:b,children:i.jsxs(er,{className:"sm:max-w-md",children:[i.jsxs(dr,{children:[i.jsx(hr,{children:"Tarik Dana"}),i.jsx(_n,{children:"Tarik dana dari PPOB Wallet Anda ke rekening bank yang terdaftar."})]}),C&&j==="withdraw"?i.jsxs("div",{className:"py-6 text-center space-y-4",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(W.check,{className:"h-8 w-8 text-green-600"})})}),i.jsx("h3",{className:"font-bold text-lg",children:"Penarikan Berhasil!"}),i.jsxs("p",{className:"text-muted-foreground",children:["Dana akan masuk ke rekening bank Anda dalam 1x24 jam kerja",M&&i.jsx("span",{className:"block font-semibold mt-1 text-red-600",children:F(M.amount)})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:M&&i.jsxs(i.Fragment,{children:["ID Transaksi: ",M.id,i.jsx("br",{}),"Waktu: ",M.timestamp.toLocaleString("id-ID")]})})]}):i.jsxs("form",{onSubmit:Q,children:[i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"withdraw-amount",children:"Jumlah"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"Rp"}),i.jsx(le,{id:"withdraw-amount",placeholder:"0",className:"pl-9",value:l,onChange:G=>H(G,c),required:!0})]}),i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsx("p",{className:"text-muted-foreground",children:"Min: Rp50.000"}),i.jsx("p",{className:"text-muted-foreground",children:"Maks: Rp5.000.000"})]}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Saldo tersedia: ",F(n)]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"withdraw-bank",children:"Bank Tujuan"}),i.jsxs(On,{value:u,onValueChange:A,required:!0,children:[i.jsx(pn,{id:"withdraw-bank",children:i.jsx(Fn,{placeholder:"Pilih bank tujuan"})}),i.jsxs(gn,{children:[i.jsx(mt,{value:"bca",children:"Bank BCA"}),i.jsx(mt,{value:"bni",children:"Bank BNI"}),i.jsx(mt,{value:"mandiri",children:"Bank Mandiri"}),i.jsx(mt,{value:"bri",children:"Bank BRI"}),i.jsx(mt,{value:"permata",children:"Bank Permata"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"account-number",children:"Nomor Rekening"}),i.jsx(le,{id:"account-number",placeholder:"Contoh: 1234567890",value:d,onChange:G=>h(G.target.value.replace(/\D/g,"")),required:!0})]})]}),i.jsxs(sn,{children:[i.jsx(V,{type:"button",variant:"outline",onClick:()=>b(!1),disabled:_,children:"Batal"}),i.jsx(V,{type:"submit",disabled:!l||!u||!d||_||parseInt(l.replace(/\D/g,""))<5e4||parseInt(l.replace(/\D/g,""))>n,children:_?i.jsxs(i.Fragment,{children:[i.jsx(W.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Tarik Dana"})]})]})]})})]})},vCe=[{id:"notif-1",title:"Pembayaran Berhasil",message:"Pembayaran tagihan PLN sebesar Rp 250.000 telah berhasil.",date:"2025-06-02T14:35:00",type:"success",read:!1},{id:"notif-2",title:"Promo Spesial",message:"Dapatkan cashback 10% untuk pembelian pulsa min. Rp 50.000.",date:"2025-06-02T10:15:00",type:"promo",read:!1},{id:"notif-3",title:"Pembayaran Tertunda",message:"Pembayaran BPJS Kesehatan sedang diproses.",date:"2025-06-01T18:22:00",type:"pending",read:!0},{id:"notif-4",title:"Transaksi Gagal",message:"Pembelian token listrik gagal. Saldo tidak mencukupi.",date:"2025-06-01T13:45:00",type:"error",read:!0},{id:"notif-5",title:"Top Up Berhasil",message:"Top up saldo PPOB Wallet sebesar Rp 500.000 berhasil.",date:"2025-05-31T09:10:00",type:"success",read:!0}];function yCe({onClose:t}){const[e,r]=v.useState([]),[n,a]=v.useState(!0);v.useEffect(()=>{(async()=>{a(!0),await new Promise(d=>setTimeout(d,1e3)),r(vCe),a(!1)})()},[]);const s=e.filter(A=>!A.read).length,o=()=>{r(e.map(A=>({...A,read:!0})))},l=A=>{r(e.map(d=>d.id===A?{...d,read:!0}:d))},c=A=>{const d=new Date(A),f=Math.abs(new Date().getTime()-d.getTime()),p=Math.floor(f/(1e3*60*60*24));return p===0?`Hari ini, ${d.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}`:p===1?"Kemarin":p<7?d.toLocaleDateString("id-ID",{weekday:"long"}):d.toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})},u=A=>{switch(A){case"success":return i.jsx(W.check,{className:"h-4 w-4 text-green-500"});case"error":return i.jsx(W.flame,{className:"h-4 w-4 text-red-500"});case"pending":return i.jsx(W.clock,{className:"h-4 w-4 text-yellow-500"});case"promo":return i.jsx(W.ticket,{className:"h-4 w-4 text-purple-500"});default:return i.jsx(W.bell,{className:"h-4 w-4"})}};return i.jsxs(xe,{className:"w-full max-w-md mx-auto border shadow-md",children:[i.jsxs(nt,{className:"pb-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(at,{className:"text-xl",children:"Notifikasi"}),s>0&&i.jsx(V,{variant:"ghost",size:"sm",onClick:o,className:"text-xs",children:"Tandai Semua Dibaca"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(yt,{variant:"outline",className:"text-xs",children:["Semua (",e.length,")"]}),s>0&&i.jsxs(yt,{className:"text-xs bg-primary",children:["Belum Dibaca (",s,")"]})]})]}),i.jsx(be,{className:"px-0",children:n?i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx(W.spinner,{className:"h-8 w-8 animate-spin text-primary"})}):e.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:i.jsx("p",{children:"Tidak ada notifikasi"})}):i.jsx("div",{className:"divide-y",children:e.map(A=>i.jsx("div",{className:de("px-4 py-3 hover:bg-muted/50 cursor-pointer transition-colors",!A.read&&"bg-muted/30"),onClick:()=>l(A.id),children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"mt-1",children:u(A.type)}),i.jsxs("div",{className:"flex-1 space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:de("text-sm font-medium",!A.read&&"font-semibold"),children:A.title}),i.jsx("span",{className:"text-xs text-muted-foreground",children:c(A.date)})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:A.message}),!A.read&&i.jsx(yt,{className:"mt-1 bg-primary/20 text-primary hover:bg-primary/30 text-xs",variant:"secondary",children:"Baru"})]})]})},A.id))})})]})}function U1(){const t=kt(),[e,r]=v.useState(null),[n,a]=v.useState(0),[s,o]=v.useState(0),[l,c]=v.useState(new Date),[u,A]=v.useState(!0);return v.useEffect(()=>{(async()=>{A(!0);try{const{data:{session:f},error:p}=await J.auth.getSession();if(p)throw p;if(f!=null&&f.user){const{data:g,error:m}=await J.from("profiles").select("*").eq("id",f.user.id).single();if(m)throw m;r(g),g&&typeof g.balance=="number"&&a(g.balance);const{count:x,error:b}=await J.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",f.user.id).eq("read_status",!1);if(b)throw b;x!==null&&o(x)}else t("/login")}catch(f){console.error("Error fetching data:",f)}finally{A(!1)}})();const h=setInterval(()=>{c(new Date)},6e4);return()=>{clearInterval(h)}},[t]),i.jsxs($t,{children:[i.jsxs(_s,{children:[i.jsx("title",{children:"JPC Digi - Layanan PPOB"}),i.jsx("style",{children:`
            @keyframes gradientShift {
              0% { background-position: 0% 50%; }
              50% { background-position: 100% 50%; }
              100% { background-position: 0% 50%; }
            }
            @keyframes float {
              0% { transform: translateY(0px); }
              50% { transform: translateY(-10px); }
              100% { transform: translateY(0px); }
            }
            @keyframes pulse {
              0% { transform: scale(1); }
              50% { transform: scale(1.1); }
              100% { transform: scale(1); }
            }
            @keyframes sparkle {
              0% { opacity: 0.2; }
              50% { opacity: 1; }
              100% { opacity: 0.2; }
            }
            .gradient-bg {
              background-size: 200% 200%;
              animation: gradientShift 8s ease infinite;
            }
            .float {
              animation: float 4s ease-in-out infinite;
            }
            .pulse {
              animation: pulse 2s ease-in-out infinite;
            }
            .sparkle {
              animation: sparkle 1.5s ease-in-out infinite;
            }
          `})]}),i.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-500 to-purple-500 text-white",style:{animation:"gradientShift 8s ease infinite"},children:[i.jsx("div",{className:"flex justify-between items-center p-2 text-xs",children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(W.users,{className:"h-3 w-3 mr-1"})," ",e!=null&&e.name?e.name.split(" ")[0]:"Guest",i.jsx("div",{className:"flex items-center gap-0.5 bg-white/20 px-1 rounded"})]})}),i.jsxs("div",{className:"flex justify-between items-center p-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"h-12 w-12 rounded-full bg-white flex items-center justify-center shadow-lg pulse",children:i.jsx(W.wallet,{className:"h-7 w-7 text-indigo-600"})}),i.jsx("div",{className:"absolute -top-1 -right-1 h-4 w-4 bg-green-400 rounded-full border border-white pulse"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-sm opacity-80 font-medium",children:["Saldo ",e!=null&&e.name?e.name.split(" ")[0]:""]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-2xl font-bold sparkle",children:pe(n)}),i.jsx("div",{children:i.jsx(V,{variant:"ghost",size:"sm",className:"p-0 h-6 text-white hover:bg-white/20 rounded-full",children:i.jsx(W.refreshCw,{className:"h-3 w-3"})})})]})]})]}),i.jsxs(or,{children:[i.jsx(Zy,{asChild:!0,children:i.jsxs(V,{variant:"ghost",size:"icon",className:"relative text-white",children:[i.jsx(W.bell,{className:"h-6 w-6"}),s>0&&i.jsx(yt,{className:"absolute -top-1 -right-1 h-4 w-4 p-0 flex items-center justify-center text-xs bg-red-500",children:s})]})}),i.jsxs(er,{className:"max-w-md p-0",children:[i.jsx(dr,{className:"sr-only",children:i.jsx(hr,{children:"Notifikasi"})}),i.jsx(yCe,{onClose:()=>o(0)})]})]})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-x-2 sm:gap-x-4 px-4 mt-6 pb-6",style:{perspective:"1000px"},children:[i.jsx("div",{children:i.jsxs(V,{variant:"ghost",className:"flex flex-col items-center h-auto py-2 text-white",onClick:()=>t("/ppob/scan"),children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-indigo-400 to-indigo-600 flex items-center justify-center mb-2 shadow-lg float",children:i.jsx(W.qrCode,{className:"h-8 w-8"})}),i.jsx("span",{className:"text-sm font-medium",children:"Pindai"})]})}),i.jsxs(V,{variant:"ghost",className:"flex flex-col items-center h-auto py-2 text-white",onClick:()=>t("/ppob/topup"),children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center mb-2 shadow-lg float",style:{animationDelay:"0.2s"},children:i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx("div",{className:"h-8 w-8 rounded-full border-2 border-white"}),i.jsx(W.plus,{className:"h-5 w-5 absolute pulse"})]})}),i.jsx("span",{className:"text-sm font-medium",children:"Isi Saldo"})]}),i.jsxs(V,{variant:"ghost",className:"flex flex-col items-center h-auto py-2 text-white",onClick:()=>t("/ppob/send"),children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center mb-2 shadow-lg float",style:{animationDelay:"0.4s"},children:i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx("div",{className:"h-8 w-8 rounded-full border-2 border-white"}),i.jsx(W.arrowUpCircle,{className:"h-5 w-5 absolute pulse"})]})}),i.jsx("span",{className:"text-sm font-medium",children:"Kirim"})]}),i.jsxs(V,{variant:"ghost",className:"flex flex-col items-center h-auto py-2 text-white",onClick:()=>t("/ppob/request"),children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-pink-400 to-pink-600 flex items-center justify-center mb-2 shadow-lg float",style:{animationDelay:"0.6s"},children:i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx("div",{className:"h-8 w-8 rounded-full border-2 border-white"}),i.jsx(W.arrowDownCircle,{className:"h-5 w-5 absolute pulse"})]})}),i.jsx("span",{className:"text-sm font-medium",children:"Minta"})]})]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-t-3xl -mt-4 mb-16 shadow-lg",style:{borderTop:"3px solid rgba(129, 140, 248, 0.5)"},children:[i.jsx("div",{className:"mt-2 mb-6",children:i.jsx("div",{className:"relative bg-white rounded-xl overflow-hidden border border-gray-100 shadow-sm",children:i.jsxs("div",{className:"flex p-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-md overflow-hidden mr-3",children:i.jsx("div",{className:"bg-gradient-to-br from-orange-400 to-red-600 text-white h-full w-full flex items-center justify-center font-bold pulse",children:"🔥"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-bold text-black",children:"Arang Oven"}),i.jsx("p",{className:"text-sm text-orange-500",children:"Mulai Rp6.000"})]}),i.jsx(V,{className:"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white text-xs rounded-md h-8 shadow-md",size:"sm",children:"Beli"})]})})}),i.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-4 sm:gap-6 mb-8",style:{perspective:"1000px"},children:[i.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/ewallet"),children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:i.jsx(W.wallet,{className:"h-7 w-7 text-green-600 pulse"})}),i.jsx("span",{className:"text-xs font-medium",children:"e-Wallet"})]}),i.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/pulsa-data"),children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-red-100 to-red-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:i.jsx(W.smartphone,{className:"h-7 w-7 text-red-600 pulse",style:{animationDelay:"0.2s"}})}),i.jsx("span",{className:"text-xs font-medium",children:"Pulsa & Data"})]}),i.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/electricity"),children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-amber-100 to-amber-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:i.jsx(W.zap,{className:"h-7 w-7 text-amber-600 pulse",style:{animationDelay:"0.4s"}})}),i.jsx("span",{className:"text-xs font-medium",children:"Listrik"})]}),i.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/games"),children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:i.jsx(W.gamepad,{className:"h-7 w-7 text-blue-600 pulse",style:{animationDelay:"0.6s"}})}),i.jsx("span",{className:"text-xs font-medium",children:"Games"})]}),i.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/all"),children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:i.jsx(W.menu,{className:"h-7 w-7 text-purple-600 pulse",style:{animationDelay:"0.8s"}})}),i.jsx("span",{className:"text-xs font-medium",children:"Lihat Semua"})]})]})]}),i.jsxs("div",{className:"bg-white px-4 py-2 mb-4",children:[i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx("div",{className:"w-8 h-8 bg-primary rounded-md flex items-center justify-center mr-2",children:i.jsx(W.messageSquare,{className:"h-5 w-5 text-white"})}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-sm font-medium",children:"berbagi kabar terbaru 📢"})}),i.jsx("div",{className:"text-xs text-gray-500",children:an(new Date,"HH:mm",{locale:za})})]}),i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx("div",{className:"w-8 h-8 bg-primary rounded-md flex items-center justify-center mr-2",children:i.jsx(W.messageSquare,{className:"h-5 w-5 text-white"})}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-sm font-medium",children:"berbagi kabar terbaru 📢"})}),i.jsx("div",{className:"text-xs text-gray-500",children:"02/06"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-primary rounded-md flex items-center justify-center mr-2",children:i.jsx(W.messageSquare,{className:"h-5 w-5 text-white"})}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-sm font-medium",children:"berbagi kabar terbaru 📢"})}),i.jsx("div",{className:"text-xs text-gray-500",children:"01/06"})]})]}),i.jsx("div",{className:"px-4 mb-4",children:i.jsx("div",{className:"bg-primary rounded-xl overflow-hidden",children:i.jsx("img",{src:"https://placehold.co/600x200/0088FF/FFFFFF?text=Layanan+Prioritas",alt:"Banner promo",className:"w-full h-32 object-cover"})})}),i.jsxs("div",{className:"bg-white mx-4 rounded-xl border border-gray-200 p-4 mb-20",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(W.check,{className:"h-5 w-5 text-primary mr-2"}),i.jsx("span",{className:"font-semibold text-gray-600",children:"PROTECTION"})]}),i.jsx(V,{variant:"outline",className:"h-8 border-primary text-primary text-xs",children:"PELAJARI"})]}),i.jsxs("div",{className:"flex border-t border-gray-100 pt-3",children:[i.jsxs("div",{className:"flex-1 flex flex-col items-center border-r border-gray-100",children:[i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx(W.shield,{className:"h-5 w-5 text-primary mr-1"}),i.jsx("span",{className:"text-xl font-bold",children:"7"})]}),i.jsx("span",{className:"text-xs text-gray-600",children:"Aktivitas Terlindungi"})]}),i.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx(W.lightbulb,{className:"h-5 w-5 text-amber-500 mr-1"}),i.jsx("span",{className:"text-xl font-bold",children:"2"})]}),i.jsx("span",{className:"text-xs text-gray-600",children:"Rekomendasi Keamanan"})]})]})]}),i.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 flex justify-around py-2",children:[i.jsxs(V,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1",onClick:()=>t("/ppob/dashboard"),children:[i.jsx(W.home,{className:"h-6 w-6"}),i.jsx("span",{className:"text-xs",children:"Beranda"})]}),i.jsxs(V,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1",onClick:()=>t("/ppob/activity"),children:[i.jsx(W.activity,{className:"h-6 w-6"}),i.jsx("span",{className:"text-xs",children:"Aktivitas"})]}),i.jsxs(V,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1 relative",onClick:()=>t("/ppob/scan"),children:[i.jsx("div",{className:"h-14 w-14 rounded-full bg-primary flex items-center justify-center absolute -top-7",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("span",{className:"text-white text-xs font-bold",children:"PAY"}),i.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[i.jsx("div",{className:"h-2 w-2 bg-white rounded"}),i.jsx("div",{className:"h-2 w-2 bg-white rounded"}),i.jsx("div",{className:"h-2 w-2 bg-white rounded"}),i.jsx("div",{className:"h-2 w-2 bg-white rounded"})]})]})}),i.jsx("div",{className:"h-6"}),i.jsx("span",{className:"text-xs"})]}),i.jsxs(V,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1",onClick:()=>t("/ppob/topup"),children:[i.jsx(W.inbox,{className:"h-6 w-6"}),i.jsx("span",{className:"text-xs",children:"Dompet"})]}),i.jsxs(V,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1",onClick:()=>t("/profile"),children:[i.jsx(W.users,{className:"h-6 w-6"}),i.jsx("span",{className:"text-xs",children:"Saya"})]})]})]})}function xCe({transaction:t,onClose:e}){const r=l=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(l),n=l=>{const c=new Date(l);return an(c,"dd MMM yyyy • HH:mm",{locale:za})},a=()=>{const l=an(new Date(t.date),"yyyyMMdd"),c=Math.floor(Math.random()*1e11).toString().padStart(12,"0");return`${l}${c}`},s=()=>{const l=an(new Date(t.date),"yyyyMMdd"),c=t.type==="topup"?"DANAID":"DANAPY",u=Math.floor(Math.random()*1e10).toString().padStart(10,"0");return`${l}${c}J${l.slice(-2)}${u}`},o=()=>`• • • ${Math.floor(Math.random()*1e4).toString().padStart(4,"0")}`;return i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"flex-1 overflow-auto pb-16",children:[i.jsxs("div",{className:"bg-white p-4 flex flex-col items-center",children:[i.jsx("div",{className:"w-16 h-16 mb-2",children:i.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(W.wallet,{className:"h-8 w-8 text-blue-500"})})}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm text-gray-500",children:n(t.date)}),i.jsxs("p",{className:"text-lg font-bold mt-1",children:["ID JPC ",t.id]})]}),i.jsxs("div",{className:"flex items-center mt-2 bg-green-50 text-green-600 px-3 py-1 rounded-full",children:[i.jsx(W.check,{className:"h-4 w-4 mr-1"}),i.jsx("span",{className:"text-sm font-medium",children:"Transaksi berhasil!"})]})]}),i.jsx(xe,{className:"mx-4 my-4 shadow-sm",children:i.jsxs(be,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:t.type==="topup"?i.jsx(W.arrowDownCircle,{className:"h-6 w-6 text-green-500"}):t.type==="withdrawal"?i.jsx(W.arrowUpCircle,{className:"h-6 w-6 text-red-500"}):i.jsx(W.creditCard,{className:"h-6 w-6 text-blue-500"})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"font-medium",children:t.type==="topup"?"Top Up":t.type==="send"?"Transfer":t.type}),i.jsx("p",{className:"text-sm text-gray-500",children:n(t.date)})]})]}),i.jsxs(yt,{className:`flex items-center gap-1 px-2 py-1 ${t.status==="success"?"bg-green-100 text-green-600":t.status==="pending"?"bg-yellow-100 text-yellow-600":"bg-red-100 text-red-600"}`,children:[t.status==="success"?i.jsx(W.check,{className:"h-4 w-4"}):t.status==="pending"?i.jsx(W.clock,{className:"h-4 w-4"}):i.jsx(W.activity,{className:"h-4 w-4"}),t.status==="success"?"Berhasil":t.status==="pending"?"Menunggu":"Gagal"]})]}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Jumlah"}),i.jsx("p",{className:"text-xl font-bold",children:r(t.amount)})]})]})}),t.type==="send"&&t.recipient&&i.jsx(xe,{className:"mx-4 my-4 shadow-sm",children:i.jsxs(be,{className:"p-4",children:[i.jsx("h3",{className:"font-bold mb-4",children:"Detail Penerima"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Nama"}),i.jsx("span",{className:"font-medium",children:t.recipient.name})]}),t.recipient.bankAccount&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Akun Bank"}),i.jsx("span",{children:t.recipient.bankAccount})]}),t.recipient.bankName&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Bank"}),i.jsx("span",{children:t.recipient.bankName})]})]})]})}),i.jsx(xe,{className:"mx-4 my-4 shadow-sm",children:i.jsxs(be,{className:"p-4",children:[i.jsx("h3",{className:"font-bold mb-4",children:"Detail Transaksi"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("span",{className:"text-gray-500",children:"ID Transaksi"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-right",children:a()}),i.jsx(V,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 ml-1",children:i.jsx(W.copy,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"ID Order Merchant"}),i.jsx("span",{children:t.merchantOrderId||o()})]}),i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("span",{className:"text-gray-500",children:"External Serial Number"}),i.jsx("div",{className:"text-right",children:i.jsx("span",{children:t.externalSerialNumber||s()})})]})]})]})})]}),i.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t",children:i.jsxs(V,{className:"w-full",size:"lg",children:[i.jsx(W.messageSquare,{className:"mr-2 h-5 w-5"}),"BUTUH BANTUAN?"]})})]})}const x4=[{id:"TRX-20250601-001",type:"send",amount:95e4,date:"2025-06-01T23:57:00",recipient:{name:"YOGA PRASETYA",bankAccount:"****0549",bankName:"Seabank Indonesia"},status:"success",description:"Kirim ke YOGA PRASETYA"},{id:"TRX-20250601-002",type:"topup",amount:25e4,date:"2025-06-01T23:38:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250601-003",type:"topup",amount:2e5,date:"2025-06-01T15:59:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250601-004",type:"topup",amount:5e5,date:"2025-06-01T15:58:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250528-001",type:"send",amount:2099e3,date:"2025-05-28T20:47:00",recipient:{name:"YOGA PRASETYA",bankAccount:"****0549",bankName:"Seabank Indonesia"},status:"success",description:"Kirim ke YOGA PRASETYA"},{id:"TRX-20250528-002",type:"topup",amount:2e5,date:"2025-05-28T20:28:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250528-003",type:"topup",amount:9e5,date:"2025-05-28T20:27:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250528-004",type:"topup",amount:9e5,date:"2025-05-28T20:26:00",status:"success",description:"Isi Saldo"}];function bCe(){kt();const[t,e]=v.useState(""),[r,n]=v.useState([]),[a,s]=v.useState([]),[o,l]=v.useState(!0),[c,u]=v.useState(null),[A,d]=v.useState(!1),h=$.useMemo(()=>{const p={};return a.forEach(g=>{const m=new Date(g.date),x=`${m.getFullYear()}-${m.getMonth()}`;p[x]||(p[x]=[]),p[x].push(g)}),Object.entries(p).map(([g,m])=>{const[x,b]=g.split("-").map(Number),_=new Date(x,b),w=m.filter(C=>C.type==="send"||C.type==="payment"||C.type==="withdrawal").reduce((C,E)=>C+E.amount,0);return{monthName:an(_,"MMMM yyyy",{locale:za}),transactions:m,totalOut:w}}).sort((g,m)=>{const x=new Date(g.transactions[0].date);return new Date(m.transactions[0].date).getTime()-x.getTime()})},[a]);v.useEffect(()=>{(async()=>{l(!0),await new Promise(g=>setTimeout(g,1e3)),n(x4),s(x4),l(!1)})()},[]),v.useEffect(()=>{if(t.trim()==="")s(r);else{const p=t.toLowerCase(),g=r.filter(m=>{var x;return m.id.toLowerCase().includes(p)||m.description.toLowerCase().includes(p)||((x=m.recipient)==null?void 0:x.name)&&m.recipient.name.toLowerCase().includes(p)});s(g)}},[t,r]);const f=p=>{const g=new Date(p);return an(g,"dd MMM yyyy • HH:mm",{locale:za})};return i.jsxs($t,{children:[i.jsx(_s,{children:i.jsx("title",{children:"Aktivitas Transaksi - JPC Digi"})}),i.jsxs("div",{className:"bg-primary text-white p-4",children:[i.jsx("h1",{className:"text-xl font-bold mb-4",children:"Aktivitas"}),i.jsxs("div",{className:"relative mb-2",children:[i.jsx(le,{className:"bg-white pl-10",placeholder:"Cari kirim uang...",value:t,onChange:p=>e(p.target.value)}),i.jsx(W.search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsxs("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex space-x-1",children:[i.jsx(V,{variant:"ghost",size:"icon",className:"h-6 w-6 text-gray-400",children:i.jsx(W.sort,{className:"h-4 w-4"})}),i.jsx(V,{variant:"ghost",size:"icon",className:"h-6 w-6 text-gray-400",children:i.jsx(W.filter,{className:"h-4 w-4"})})]})]})]}),i.jsx("div",{className:"p-0",children:o?i.jsx("div",{className:"flex justify-center items-center py-20",children:i.jsx(W.spinner,{className:"h-8 w-8 animate-spin text-primary"})}):a.length===0?i.jsx("div",{className:"text-center py-12 text-muted-foreground",children:i.jsx("p",{children:"Tidak ada transaksi ditemukan"})}):i.jsx("div",{children:h.map((p,g)=>i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between items-center px-4 py-2 bg-gray-50",children:[i.jsx("h2",{className:"font-medium",children:p.monthName}),i.jsxs("div",{className:"text-right",children:[i.jsxs("span",{className:"text-red-500",children:["-",pe(p.totalOut)]}),i.jsx(W.chevronRight,{className:"inline-block ml-1 h-4 w-4 text-primary"})]})]}),i.jsx("div",{children:p.transactions.map(m=>{const x=m.type==="send"||m.type==="payment"||m.type==="withdrawal";return i.jsx("div",{className:"p-4 border-b cursor-pointer hover:bg-gray-50",onClick:()=>{u(m),d(!0)},children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"mr-3",children:m.type==="send"?i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(W.arrowUpFromLine,{className:"h-5 w-5 text-blue-500"})}):m.type==="topup"?i.jsx("div",{className:"h-10 w-10 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(W.plus,{className:"h-5 w-5 text-green-500"})}):i.jsx("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center",children:i.jsx(W.shopping,{className:"h-5 w-5 text-red-500"})})}),i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:m.description}),i.jsx("p",{className:"text-sm text-gray-500",children:f(m.date)})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:`font-medium ${x?"text-red-500":"text-green-500"}`,children:[x?"-":"+",pe(m.amount)]}),i.jsx("div",{className:"mt-1",children:i.jsx(V,{variant:"ghost",size:"sm",className:"h-6 p-0",children:i.jsx(W.trash,{className:"h-4 w-4 text-gray-400"})})})]})]})})]})},m.id)})})]},g))})}),i.jsx(or,{open:A,onOpenChange:p=>d(p),children:i.jsxs(er,{className:"max-w-md p-0 h-[85vh] overflow-y-auto",children:[i.jsx(dr,{className:"sr-only",children:i.jsx(hr,{children:"Detail Transaksi"})}),c&&i.jsx(xCe,{transaction:c,onClose:()=>d(!1)})]})})]})}const Yv={digiflazz:{useTestMode:!0},app:{transactionPrefix:"JPC-DIGI"}},Hu="https://202.10.44.157:8080/netlify/functions/digiflazz-proxy",wCe=Yv.app.transactionPrefix,$S=()=>{const t=new Date().getTime(),e=Math.floor(Math.random()*1e3);return`${wCe}-${t}-${e}`};class jCe{async checkBalance(){try{return(await So.post(`${Hu}/v1/cek-saldo`,{cmd:"deposit"})).data.data.deposit}catch(e){throw console.error("Error checking balance:",e),new Error("Failed to check balance")}}async getPriceList(e){try{let n=(await So.post(`${Hu}/v1/price-list`,{cmd:"prepaid"})).data.data;return e&&(n=n.filter(a=>a.category.toLowerCase()===e.toLowerCase())),n}catch(r){throw console.error("Error fetching price list:",r),new Error("Failed to fetch price list")}}getOperatorFromPhoneNumber(e){const n=e.replace(/\D/g,"").substring(0,4);return["0811","0812","0813","0821","0822","0823"].includes(n)?"Telkomsel":["0817","0818","0819","0859","0877","0878"].includes(n)?"XL Axiata":["0851","0852","0853","0815","0816"].includes(n)?"Indosat Ooredoo":["0881","0882","0883","0884","0885","0886","0887","0888","0889"].includes(n)?"Smartfren":["0896","0897","0898","0899"].includes(n)?"Tri Indonesia":"Unknown"}async topupPrepaid(e,r,n=!1){try{const a=$S(),s={buyer_sku_code:r,customer_no:e,ref_id:a,testing:n};return(await So.post(`${Hu}/v1/transaction`,s)).data}catch(a){throw console.error("Error processing prepaid transaction:",a),new Error("Failed to process prepaid transaction")}}async inquiryPostpaid(e,r,n=!1){try{const a=$S(),s={commands:"inq-pasca",customer_no:e,buyer_sku_code:r,ref_id:a,testing:n};return(await So.post(`${Hu}/v1/transaction`,s)).data}catch(a){throw console.error("Error processing postpaid inquiry:",a),new Error("Failed to process postpaid inquiry")}}async payPostpaid(e,r,n,a=!1){try{const s={commands:"pay-pasca",customer_no:e,buyer_sku_code:r,ref_id:n,testing:a};return(await So.post(`${Hu}/v1/transaction`,s)).data}catch(s){throw console.error("Error processing postpaid payment:",s),new Error("Failed to process postpaid payment")}}async checkTransactionStatus(e,r=!0){try{const n={ref_id:e,commands:"status-pasca"};return(await So.post(`${Hu}/v1/transaction`,n)).data}catch(n){throw console.error("Error checking transaction status:",n),new Error("Failed to check transaction status")}}}const zl=new jCe;function _Ce(){const[t,e]=v.useState([]),[r,n]=v.useState(!1),[a,s]=v.useState(null),[o,l]=v.useState(0),[c,u]=v.useState(null),A=v.useCallback(async b=>{try{n(!0),s(null);const _=await zl.getPriceList(b);return e(_),_}catch(_){const w=_ instanceof Error?_.message:"Failed to fetch products";return s(w),[]}finally{n(!1)}},[]),d=v.useCallback(async()=>{try{n(!0),s(null);const b=await zl.checkBalance();return l(b),b}catch(b){const _=b instanceof Error?b.message:"Failed to fetch balance";return s(_),0}finally{n(!1)}},[]),h=v.useCallback(async(b,_,w=Yv.digiflazz.useTestMode)=>{try{n(!0),s(null);const C=await zl.topupPrepaid(b,_,w);return u(C),C}catch(C){const E=C instanceof Error?C.message:"Failed to process transaction";throw s(E),new Error(E)}finally{n(!1)}},[]),f=v.useCallback(async(b,_,w=Yv.digiflazz.useTestMode)=>{try{n(!0),s(null);const C=await zl.inquiryPostpaid(b,_,w);return u(C),C}catch(C){const E=C instanceof Error?C.message:"Failed to process inquiry";throw s(E),new Error(E)}finally{n(!1)}},[]),p=v.useCallback(async(b,_,w,C=Yv.digiflazz.useTestMode)=>{try{n(!0),s(null);const E=await zl.payPostpaid(b,_,w,C);return u(E),E}catch(E){const j=E instanceof Error?E.message:"Failed to process payment";throw s(j),new Error(j)}finally{n(!1)}},[]),g=v.useCallback(async(b,_=!0)=>{try{n(!0),s(null);const w=await zl.checkTransactionStatus(b,_);return u(w),w}catch(w){const C=w instanceof Error?w.message:"Failed to check transaction status";throw s(C),new Error(C)}finally{n(!1)}},[]),m=v.useCallback(b=>zl.getOperatorFromPhoneNumber(b),[]),x=v.useCallback(()=>$S(),[]);return{products:t,loading:r,error:a,balance:o,currentTransaction:c,fetchProducts:A,fetchBalance:d,processPrepaidTransaction:h,processPostpaidInquiry:f,processPostpaidPayment:p,checkTransactionStatus:g,getOperatorFromPhoneNumber:m,getNewRefId:x}}const oz=v.createContext({transactionHistory:[],addTransaction:()=>{},clearTransactions:()=>{},getTransactionById:()=>{}}),CCe=({children:t})=>{const[e,r]=v.useState([]),n=o=>{r(l=>[o,...l]);try{const l=localStorage.getItem("jpcDigi_transactions"),c=l?JSON.parse(l):[];c.unshift(o),c.length>100&&c.pop(),localStorage.setItem("jpcDigi_transactions",JSON.stringify(c))}catch(l){console.error("Error storing transaction in localStorage:",l)}},a=()=>{r([]),localStorage.removeItem("jpcDigi_transactions")},s=o=>e.find(l=>l.id===o);return $.useEffect(()=>{try{const o=localStorage.getItem("jpcDigi_transactions");o&&r(JSON.parse(o))}catch(o){console.error("Error loading transactions from localStorage:",o)}},[]),i.jsx(oz.Provider,{value:{transactionHistory:e,addTransaction:n,clearTransactions:a,getTransactionById:s},children:t})},BCe=()=>v.useContext(oz),ECe=t=>{const e=t.product_name.match(/\d+/g),r=e?parseInt(e[0])>=1e3?`${Math.floor(parseInt(e[0])/1e3)}Rb`:e[0]:"",n=t.desc.match(/(\d+)\s*hari/i),a=n?`Masa Aktif ${n[0]}`:"Masa Aktif Sesuai Provider",s=Math.ceil(t.price*1.05),o=t.price<s;return{id:t.buyer_sku_code,nominal:r,description:t.product_name,price:t.price,originalPrice:o?s:void 0,validity:a,isPopular:t.stock>1e3||t.product_name.toLowerCase().includes("popular")}},b4=[];function SCe(){const t=kt(),e=na(),[r,n]=v.useState(""),[a,s]=v.useState(["0813 9458 6882","0822 6015 2977"]),[o,l]=v.useState("pulsa"),[c,u]=v.useState(null),[A,d]=v.useState(!1),[h,f]=v.useState(!1),[p,g]=v.useState(!1),[m,x]=v.useState("Telkomsel"),[b,_]=v.useState(b4),[w,C]=v.useState(b4),[E,j]=v.useState(null),B=_Ce(),{addTransaction:S}=BCe(),N=()=>i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white p-6 rounded-lg flex flex-col items-center",children:[i.jsx(Kt,{className:"h-8 w-8 animate-spin text-primary mb-2"}),i.jsx("p",{children:"Memproses pembayaran..."})]})}),I=F=>{const D=F.replace(/\D/g,"");let Q="";for(let H=0;H<D.length;H++)(H===4||H===8)&&(Q+=" "),Q+=D[H];return Q},P=F=>{const D=I(F.target.value);n(D);const Q=D.replace(/\s/g,"").substring(0,4);["0811","0812","0813","0821","0822","0823"].includes(Q)?x("Telkomsel"):["0817","0818","0819","0859","0877","0878"].includes(Q)?x("XL Axiata"):["0851","0852","0853","0815","0816"].includes(Q)?x("Indosat Ooredoo"):["0881","0882","0883","0884","0885","0886","0887","0888","0889"].includes(Q)?x("Smartfren"):["0896","0897","0898","0899"].includes(Q)?x("Tri Indonesia"):x("Unknown")},T=F=>{n(F)},U=F=>{u(F),d(!0)},M=async()=>{try{f(!0),j(null);const F=o==="pulsa"?"Pulsa":"Data",Q=(await B.fetchProducts(F)).filter(H=>{const G=r.replace(/\D/g,"");return m==="Telkomsel"?H.brand.toLowerCase().includes("telkomsel"):m==="XL Axiata"?H.brand.toLowerCase().includes("xl"):m==="Indosat Ooredoo"?H.brand.toLowerCase().includes("indosat"):m==="Smartfren"?H.brand.toLowerCase().includes("smartfren"):m==="Tri Indonesia"?H.brand.toLowerCase().includes("tri")||H.brand.toLowerCase().includes("3"):!0}).map(ECe);Q.sort((H,G)=>H.price-G.price),o==="pulsa"?_(Q):C(Q)}catch(F){j(F instanceof Error?F.message:"Failed to fetch products"),he({variant:"destructive",title:"Error",description:"Failed to load products. Please try again."})}finally{f(!1)}},R=async()=>{var F;if(!(!c||!r))try{f(!0),j(null);const D=r.replace(/\D/g,""),Q=await B.processPrepaidTransaction(D,c.id,!0);if(Q&&Q.data&&Q.data.status==="success")S({id:Q.data.ref_id||`tx-${Date.now()}`,type:"PPOB",subtype:o==="pulsa"?"Pulsa":"Data",amount:c.price,date:new Date().toISOString(),description:`${c.description} ${r}`,status:"success"}),g(!0),he({title:"Pembayaran Berhasil",description:`Pembelian ${c.description} untuk nomor ${r} telah berhasil.`});else throw new Error(((F=Q.data)==null?void 0:F.message)||"Transaction failed")}catch(D){j(D instanceof Error?D.message:"Failed to process payment"),he({variant:"destructive",title:"Pembayaran Gagal",description:D instanceof Error?D.message:"Gagal memproses pembayaran. Silakan coba lagi."}),d(!1)}finally{f(!1)}};return v.useEffect(()=>{const D=new URLSearchParams(e.search).get("tab");if((D==="pulsa"||D==="data")&&l(D),r){const Q=r.replace(/\s/g,"").substring(0,4);["0811","0812","0813","0821","0822","0823"].includes(Q)?x("Telkomsel"):["0817","0818","0819","0859","0877","0878"].includes(Q)?x("XL Axiata"):["0851","0852","0853","0815","0816"].includes(Q)?x("Indosat Ooredoo"):["0881","0882","0883","0884","0885","0886","0887","0888","0889"].includes(Q)?x("Smartfren"):["0896","0897","0898","0899"].includes(Q)?x("Tri Indonesia"):x("Unknown")}},[e.search,r]),v.useEffect(()=>{r&&r.length>=4&&M()},[r,o]),v.useEffect(()=>{const F=new URLSearchParams(e.search);F.set("tab",o),t(`${e.pathname}?${F.toString()}`,{replace:!0})},[o,t,e.pathname,e.search]),i.jsxs($t,{children:[i.jsx(_s,{children:i.jsx("title",{children:"Pulsa & Data - JPC Digi"})}),i.jsxs("div",{className:"w-full max-w-xl mx-auto space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-primary text-white",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:()=>t("/ppob/dashboard"),className:"mr-3",children:i.jsx(W.chevronLeft,{className:"h-6 w-6"})}),i.jsx("h1",{className:"text-lg font-semibold",children:"Pulsa & Paket Data"})]}),i.jsx("button",{children:i.jsx(W.file,{className:"h-5 w-5"})})]}),i.jsxs("div",{className:"p-4 bg-white",children:[i.jsxs("div",{className:"bg-white rounded-lg mb-4",children:[i.jsxs("div",{className:"border-b border-gray-100 py-2 px-1",children:[i.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"NOMOR HP"}),i.jsx(le,{type:"tel",value:r,onChange:P,placeholder:"Masukkan nomor handphone",className:"border-none text-lg px-0 focus-visible:ring-0"})]}),r&&i.jsxs("div",{className:"py-2 px-1 flex items-center",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center mr-2",children:i.jsx(W.smartphone,{className:"h-4 w-4 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Provider"}),i.jsx("p",{className:"font-medium",children:m})]})]}),a.length>0&&i.jsxs("div",{className:"pt-2 pb-3",children:[i.jsx("p",{className:"text-sm text-gray-500 mb-2 px-1",children:"Nomor Tersimpan"}),i.jsx("div",{className:"flex flex-wrap gap-2 px-1",children:a.map((F,D)=>i.jsx("button",{onClick:()=>T(F),className:"px-3 py-1.5 bg-gray-100 rounded-lg text-sm hover:bg-gray-200 transition-colors",children:F},D))})]})]}),i.jsxs("div",{className:"flex space-x-4 mb-4",children:[i.jsx("button",{onClick:()=>l("pulsa"),className:`px-4 py-2 text-sm font-medium rounded-lg ${o==="pulsa"?"bg-primary text-white":"bg-gray-100 text-gray-700"}`,children:"Pulsa"}),i.jsx("button",{onClick:()=>l("data"),className:`px-4 py-2 text-sm font-medium rounded-lg ${o==="data"?"bg-primary text-white":"bg-gray-100 text-gray-700"}`,children:"Paket Data"})]}),B.loading?i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx(Kt,{className:"h-8 w-8 animate-spin text-primary"})}):E?i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[i.jsx(W.alertTriangle,{className:"h-8 w-8 text-destructive mb-2"}),i.jsx("h3",{className:"font-medium",children:"Error"}),i.jsx("p",{className:"text-sm text-gray-500",children:E}),i.jsx(V,{onClick:M,variant:"outline",size:"sm",className:"mt-4",children:"Try Again"})]}):i.jsx(i.Fragment,{children:o==="pulsa"?i.jsx("div",{className:"grid grid-cols-2 gap-4",children:b.length===0&&!B.loading?i.jsx("div",{className:"col-span-2 text-center p-4",children:i.jsx("p",{className:"text-gray-500",children:"Masukkan nomor HP untuk melihat pilihan pulsa"})}):b.map(F=>i.jsx(xe,{className:`cursor-pointer hover:border-primary transition-colors ${F.isPopular?"border-amber-400":""}`,onClick:()=>U(F),children:i.jsxs(be,{className:"p-4",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("div",{className:"font-semibold text-xl",children:F.nominal}),F.isPopular&&i.jsx("div",{className:"bg-amber-100 text-amber-800 text-xs px-2 py-0.5 rounded-full",children:"Popular"})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:F.description}),i.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:F.validity}),i.jsxs("div",{className:"mt-3",children:[F.originalPrice&&i.jsx("span",{className:"text-xs text-gray-400 line-through mr-2",children:pe(F.originalPrice)}),i.jsx("span",{className:"text-primary font-medium",children:pe(F.price)})]})]})},F.id))}):i.jsx("div",{className:"space-y-4",children:w.length===0&&!B.loading?i.jsx("div",{className:"text-center p-4",children:i.jsx("p",{className:"text-gray-500",children:"Masukkan nomor HP untuk melihat pilihan paket data"})}):w.map(F=>i.jsx(xe,{className:"cursor-pointer hover:border-primary transition-colors",onClick:()=>U(F),children:i.jsx(be,{className:"p-4",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:F.description}),i.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:F.validity})]}),i.jsx("div",{className:"text-primary font-medium",children:pe(F.price)})]})})},F.id))})})]})]}),i.jsx(or,{open:A,onOpenChange:d,children:i.jsx(er,{className:"sm:max-w-md",children:p?i.jsxs("div",{className:"flex flex-col items-center justify-center py-6 space-y-4",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(W.check,{className:"h-8 w-8 text-green-600"})}),i.jsx("h2",{className:"text-xl font-semibold text-center",children:"Pembayaran Berhasil!"}),i.jsxs("p",{className:"text-center text-gray-500",children:["Pembelian ",c==null?void 0:c.description," untuk nomor ",r," telah berhasil."]}),i.jsx(V,{className:"mt-4 w-full",onClick:()=>{d(!1),g(!1)},children:"Kembali"})]}):i.jsxs(i.Fragment,{children:[i.jsxs(dr,{children:[i.jsx(hr,{children:"Konfirmasi Pembayaran"}),i.jsx(_n,{children:"Pastikan nomor handphone dan produk yang dipilih sudah benar."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Nomor Handphone"}),i.jsx("span",{className:"font-medium",children:r})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Provider"}),i.jsx("span",{children:m})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Produk"}),i.jsx("span",{children:c==null?void 0:c.description})]})]}),i.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("span",{children:"Total Harga"}),i.jsx("span",{className:"text-amber-500",children:pe(c==null?void 0:c.price)})]})})]}),i.jsxs(sn,{className:"sm:justify-between",children:[i.jsx(V,{type:"button",variant:"outline",onClick:()=>d(!1),disabled:h,children:"Batal"}),i.jsx(V,{type:"button",onClick:R,disabled:h,children:h?i.jsxs(i.Fragment,{children:[i.jsx(W.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Bayar Sekarang"})]})]})})}),h&&i.jsx(N,{})]})}const w4=[{id:"acc1",name:"Yoga Prasetya",bank:"Seabank Indonesia",accountNumber:"1234567890",isRecent:!0},{id:"acc2",name:"Budi Santoso",bank:"Bank BCA",accountNumber:"9876543210",isRecent:!1},{id:"acc3",name:"Siti Nurhaliza",bank:"Bank Mandiri",accountNumber:"5678901234",isRecent:!0}],NCe=["Bank BCA","Bank Mandiri","Bank BNI","Bank BRI","Bank CIMB Niaga","Bank Permata","Bank Danamon","Seabank Indonesia","Bank Syariah Indonesia","Bank Jago"];function TCe(){const t=kt(),[e,r]=v.useState("transfer"),[n,a]=v.useState(""),[s,o]=v.useState(""),[l,c]=v.useState(""),[u,A]=v.useState(""),[d,h]=v.useState(!1),[f,p]=v.useState(!1),[g,m]=v.useState(!1),x=j=>{const B=j.target.value.replace(/\D/g,"");a(B)},b=j=>{o(j.accountNumber),c(j.bank),A(j.name)},_=()=>{if(!n||parseInt(n)<1e4){alert("Minimal transfer Rp 10.000");return}if(!s||!l){alert("Mohon lengkapi data rekening tujuan");return}h(!0)},w=()=>{h(!1),m(!0),setTimeout(()=>{m(!1),p(!0)},2e3)},C=()=>n?pe(parseInt(n)):"",E=()=>{p(!1),t("/ppob/activity")};return i.jsxs($t,{children:[i.jsx(_s,{children:i.jsx("title",{children:"Kirim Uang - JPC Digi"})}),i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx("div",{className:"bg-primary text-white p-4",children:i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(V,{variant:"ghost",size:"icon",className:"text-white mr-2 p-0",onClick:()=>t("/ppob"),children:i.jsx(W.chevronLeft,{className:"h-6 w-6"})}),i.jsx("h1",{className:"text-xl font-bold",children:"Kirim Uang"})]})}),i.jsxs(ha,{defaultValue:"transfer",className:"w-full",onValueChange:r,children:[i.jsx("div",{className:"px-4 pt-2",children:i.jsxs(ea,{className:"grid w-full grid-cols-2",children:[i.jsx(Nt,{value:"transfer",children:"Transfer Bank"}),i.jsx(Nt,{value:"ewallet",children:"E-Wallet"})]})}),i.jsx(Wt,{value:"transfer",className:"p-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"amount",children:"Jumlah"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"Rp"}),i.jsx(le,{id:"amount",type:"text",className:"pl-10",value:n,onChange:x,placeholder:"0"})]}),i.jsx("p",{className:"text-xs text-gray-500",children:"Minimal Rp 10.000"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"bank",children:"Bank Tujuan"}),i.jsxs(On,{value:l,onValueChange:c,children:[i.jsx(pn,{id:"bank",children:i.jsx(Fn,{placeholder:"Pilih bank"})}),i.jsx(gn,{children:NCe.map(j=>i.jsx(mt,{value:j,children:j},j))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"accountNumber",children:"Nomor Rekening"}),i.jsx(le,{id:"accountNumber",value:s,onChange:j=>o(j.target.value),placeholder:"Masukkan nomor rekening"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"recipientName",children:"Nama Penerima"}),i.jsx(le,{id:"recipientName",value:u,onChange:j=>A(j.target.value),placeholder:"Nama akan terisi otomatis",disabled:!s||s.length<8})]}),w4.length>0&&i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Rekening Tersimpan"}),i.jsx("div",{className:"space-y-2",children:w4.map(j=>i.jsxs("div",{className:"border rounded-lg p-3 flex justify-between items-center cursor-pointer hover:bg-gray-50",onClick:()=>b(j),children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:j.name}),i.jsxs("p",{className:"text-sm text-gray-500",children:[j.bank," • ",j.accountNumber]})]}),j.isRecent&&i.jsx(yt,{variant:"outline",className:"text-xs",children:"Baru"})]},j.id))})]})]})}),i.jsx(Wt,{value:"ewallet",className:"p-4",children:i.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-gray-500",children:[i.jsx(W.wallet,{className:"h-12 w-12 mb-2 opacity-40"}),i.jsx("p",{children:"Fitur E-Wallet sedang dalam pengembangan"})]})})]}),i.jsx("div",{className:"mt-auto p-4 border-t",children:i.jsx(V,{className:"w-full",size:"lg",disabled:!n||!s||!l||e!=="transfer",onClick:_,children:"Lanjutkan"})})]}),i.jsx(or,{open:d,onOpenChange:h,children:i.jsxs(er,{className:"sm:max-w-md",children:[i.jsx(dr,{children:i.jsx(hr,{children:"Konfirmasi Transfer"})}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:i.jsx("p",{className:"text-center text-2xl font-bold",children:C()})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-gray-500",children:"Bank"}),i.jsx("p",{className:"font-medium",children:l})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-gray-500",children:"Nomor Rekening"}),i.jsx("p",{className:"font-medium",children:s})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-gray-500",children:"Nama Penerima"}),i.jsx("p",{className:"font-medium",children:u})]}),i.jsx(Qn,{}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-gray-500",children:"Biaya Admin"}),i.jsx("p",{className:"font-medium",children:"Gratis"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"font-medium",children:"Total"}),i.jsx("p",{className:"font-bold",children:C()})]})]})]}),i.jsxs(sn,{children:[i.jsx(V,{variant:"outline",onClick:()=>h(!1),children:"Batal"}),i.jsx(V,{onClick:w,children:"Konfirmasi"})]})]})}),g&&i.jsx(or,{open:!0,children:i.jsxs(er,{className:"sm:max-w-md",children:[i.jsx(dr,{children:i.jsx(hr,{children:"Memproses Transaksi"})}),i.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[i.jsx(W.spinner,{className:"h-12 w-12 animate-spin text-primary mb-4"}),i.jsx("p",{children:"Mohon tunggu, transaksi sedang diproses..."})]})]})}),i.jsx(or,{open:f,onOpenChange:p,children:i.jsxs(er,{className:"sm:max-w-md",children:[i.jsx(dr,{children:i.jsx(hr,{children:"Transfer Berhasil"})}),i.jsx("div",{className:"space-y-4 py-4",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center mb-4",children:i.jsx(W.check,{className:"h-8 w-8 text-green-500"})}),i.jsx("p",{className:"text-center text-2xl font-bold",children:C()}),i.jsx("p",{className:"text-gray-500",children:"berhasil ditransfer ke"}),i.jsx("p",{className:"font-medium",children:u}),i.jsxs("p",{className:"text-sm text-gray-500",children:[l," • ",s]})]})}),i.jsx(sn,{children:i.jsx(V,{className:"w-full",onClick:E,children:"Selesai"})})]})})]})}var wI="Avatar",[kCe,l5e]=fa(wI),[ICe,lz]=kCe(wI),cz=v.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[a,s]=v.useState("idle");return i.jsx(ICe,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:s,children:i.jsx(Je.span,{...n,ref:e})})});cz.displayName=wI;var uz="AvatarImage",Az=v.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...s}=t,o=lz(uz,r),l=PCe(n,s.referrerPolicy),c=Tr(u=>{a(u),o.onImageLoadingStatusChange(u)});return Wr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(Je.img,{...s,ref:e,src:n}):null});Az.displayName=uz;var dz="AvatarFallback",hz=v.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...a}=t,s=lz(dz,r),[o,l]=v.useState(n===void 0);return v.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&s.imageLoadingStatus!=="loaded"?i.jsx(Je.span,{...a,ref:e}):null});hz.displayName=dz;function PCe(t,e){const[r,n]=v.useState("idle");return Wr(()=>{if(!t){n("error");return}let a=!0;const s=new window.Image,o=l=>()=>{a&&n(l)};return n("loading"),s.onload=o("loaded"),s.onerror=o("error"),s.src=t,e&&(s.referrerPolicy=e),()=>{a=!1}},[t,e]),r}var fz=cz,mz=Az,pz=hz;const Bl=v.forwardRef(({className:t,...e},r)=>i.jsx(fz,{ref:r,className:de("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Bl.displayName=fz.displayName;const nd=v.forwardRef(({className:t,...e},r)=>i.jsx(mz,{ref:r,className:de("aspect-square h-full w-full",t),...e}));nd.displayName=mz.displayName;const El=v.forwardRef(({className:t,...e},r)=>i.jsx(pz,{ref:r,className:de("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));El.displayName=pz.displayName;const OCe=()=>{const t=kt(),[e,r]=v.useState(""),[n,a]=v.useState(""),[s,o]=v.useState(""),[l,c]=v.useState("contacts"),[u,A]=v.useState(!1),[d,h]=v.useState(!1),[f,p]=v.useState(""),[g,m]=v.useState(!1),[x,b]=v.useState(""),_=[{id:"1",name:"Ahmad Firdaus",phone:"081234567890",image:"/placeholder.svg"},{id:"2",name:"Budi Santoso",phone:"081298765432",image:"/placeholder.svg"},{id:"3",name:"Citra Dewi",phone:"081345678901",image:"/placeholder.svg"},{id:"4",name:"Doni Prasetya",phone:"081456789012",image:"/placeholder.svg"}],w=E=>{const j=E.target.value.replace(/\D/g,"");if(j===""){r("");return}r(new Intl.NumberFormat("id-ID").format(parseInt(j)))},C=E=>{E.preventDefault(),A(!0),setTimeout(()=>{const j=`REQ${Date.now().toString().slice(-8)}`;p(j),b(`https://jpcdigi.com/ppob/pay-request/${j}`),A(!1),h(!0),setTimeout(()=>{(l==="link"||l==="qr")&&m(!0)},1500)},1500)};return i.jsxs($t,{children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 border-b border-gray-100",children:[i.jsx("button",{onClick:()=>t("/ppob/dashboard"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(W.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"Minta Dana"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Minta dana dari pengguna lain"})]}),i.jsx("div",{className:"ml-auto rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(W.file,{className:"h-5 w-5"})})]})}),i.jsxs("div",{className:"container max-w-md mx-auto px-4 py-6",children:[d?i.jsx(xe,{className:"border-none shadow-sm mb-6",children:i.jsxs(be,{className:"p-6 text-center",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(W.check,{className:"h-8 w-8 text-green-600"})})}),i.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Permintaan Terkirim!"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Permintaan dana telah dikirim dan menunggu pembayaran"}),i.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg mb-4",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Jumlah"}),i.jsxs("span",{className:"font-semibold",children:["Rp ",e]})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Tujuan"}),i.jsx("span",{className:"font-semibold",children:n||"Link Pembayaran"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"ID Permintaan"}),i.jsx("span",{className:"font-semibold",children:f})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(V,{variant:"outline",className:"w-full flex justify-center items-center",onClick:()=>t("/ppob/history"),children:[i.jsx(W.arrowLeft,{className:"mr-2 h-4 w-4"}),"Kembali ke Beranda"]}),i.jsxs(V,{className:"w-full flex justify-center items-center",onClick:()=>m(!0),children:[i.jsx(W.share,{className:"mr-2 h-4 w-4"}),"Bagikan Link Permintaan"]})]})]})}):i.jsxs(i.Fragment,{children:[i.jsx(xe,{className:"border-none shadow-sm mb-6",children:i.jsx(be,{className:"pt-6",children:i.jsx("form",{onSubmit:C,children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white rounded-xl shadow-sm p-5 mb-2",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Ne,{htmlFor:"amount",className:"text-muted-foreground text-xs font-medium",children:"JUMLAH YANG DIMINTA"}),i.jsx("div",{className:"relative mt-3 mb-2",children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("span",{className:"text-3xl font-bold text-primary mr-1",children:"Rp"}),i.jsx(le,{id:"amount",placeholder:"0",className:"text-3xl font-bold text-center border-none shadow-none focus-visible:ring-0 w-[60%] h-14 bg-transparent px-0",value:e,onChange:w,required:!0})]})}),i.jsxs("div",{className:"flex justify-between text-xs mx-4",children:[i.jsx(yt,{variant:"outline",className:"text-primary border-primary/20 bg-primary/5",children:"Min: Rp10.000"}),i.jsx(yt,{variant:"outline",className:"text-primary border-primary/20 bg-primary/5",children:"Maks: Rp10.000.000"})]})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"notes",children:"Catatan (Opsional)"}),i.jsx(le,{id:"notes",placeholder:"Contoh: Bayar makan siang",value:s,onChange:E=>o(E.target.value)})]})]})})})}),i.jsxs(ha,{value:l,onValueChange:E=>c(E),className:"w-full",children:[i.jsxs(ea,{className:"grid w-full grid-cols-3",children:[i.jsx(Nt,{value:"contacts",children:"Kontak"}),i.jsx(Nt,{value:"link",children:"Link"}),i.jsx(Nt,{value:"qr",children:"QR Code"})]}),i.jsxs(Wt,{value:"contacts",className:"space-y-4 pt-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(Ne,{htmlFor:"phone",className:"font-medium",children:"Nomor Telepon"}),i.jsx("span",{className:"text-xs text-primary",children:"Semua Kontak"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:i.jsx(W.phone,{className:"h-4 w-4 text-muted-foreground"})}),i.jsx(le,{id:"phone",placeholder:"Contoh: 081234567890",className:"pl-9 bg-muted/30",value:n,onChange:E=>a(E.target.value.replace(/\D/g,"")),required:!0})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Nomor telepon penerima permintaan dana"})]}),i.jsxs("div",{className:"bg-muted/20 rounded-lg p-3 mb-4",children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Nomor Tersimpan"}),i.jsx("div",{className:"grid grid-cols-1 gap-2",children:_.map(E=>i.jsxs("div",{onClick:()=>a(E.phone),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted cursor-pointer",children:[i.jsxs(Bl,{className:"h-10 w-10 border",children:[i.jsx(nd,{src:E.image,alt:E.name}),i.jsx(El,{children:E.name.substring(0,2)})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:E.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:E.phone})]}),i.jsx("div",{className:"w-5 h-5 rounded-full border border-primary flex items-center justify-center",children:n===E.phone&&i.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"})})]},E.id))})]}),i.jsx(V,{className:"w-full bg-primary hover:bg-primary/90",disabled:!e||!n||u,onClick:C,children:u?i.jsxs(i.Fragment,{children:[i.jsx(W.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Kirim Permintaan"})]}),i.jsx(Wt,{value:"link",className:"space-y-4 pt-4",children:i.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg text-center space-y-2",children:[i.jsx(W.link,{className:"h-12 w-12 mx-auto text-primary/50"}),i.jsx("h3",{className:"font-medium",children:"Bagikan Link Permintaan"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Buat link yang dapat dibagikan untuk menerima pembayaran"}),i.jsx(V,{className:"w-full",disabled:!e||u,onClick:C,children:u?i.jsxs(i.Fragment,{children:[i.jsx(W.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Buat Link Pembayaran"})]})}),i.jsx(Wt,{value:"qr",className:"space-y-4 pt-4",children:i.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg text-center space-y-2",children:[i.jsx(W.qrCode,{className:"h-12 w-12 mx-auto text-primary/50"}),i.jsx("h3",{className:"font-medium",children:"Buat QR Code Pembayaran"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Buat kode QR yang dapat dipindai untuk menerima pembayaran"}),i.jsx(V,{className:"w-full",disabled:!e||u,onClick:C,children:u?i.jsxs(i.Fragment,{children:[i.jsx(W.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Buat QR Code Pembayaran"})]})})]})]}),i.jsx(or,{open:g,onOpenChange:m,children:i.jsxs(er,{className:"sm:max-w-md",children:[i.jsxs(dr,{children:[i.jsx(hr,{children:"Bagikan Permintaan"}),i.jsx(_n,{children:"Bagikan link atau QR code permintaan dana kepada orang lain"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[l==="qr"?i.jsx("div",{className:"flex justify-center",children:i.jsxs("div",{className:"p-4 border-2 border-dashed border-muted-foreground/50 rounded-lg bg-white",children:[i.jsx(iz,{value:x,size:180}),i.jsxs("p",{className:"text-xs text-center mt-2",children:["Rp ",e]})]})}):i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{children:"Link Permintaan"}),i.jsxs("div",{className:"flex",children:[i.jsx(le,{value:x,readOnly:!0,className:"rounded-r-none"}),i.jsx(V,{className:"rounded-l-none",type:"button",onClick:()=>{navigator.clipboard.writeText(x),alert("Link permintaan disalin!")},children:i.jsx(W.copy,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{children:"Bagikan ke"}),i.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{icon:"messageSquare",name:"WhatsApp",color:"text-green-600"},{icon:"mail",name:"Email",color:"text-blue-600"},{icon:"wifi",name:"Facebook",color:"text-blue-800"},{icon:"copy",name:"Salin",color:"text-gray-600"}].map((E,j)=>{const B=W[E.icon];return i.jsxs(V,{variant:"outline",className:"h-auto py-3 flex flex-col items-center",children:[i.jsx(B,{className:`h-5 w-5 mb-1 ${E.color}`}),i.jsx("span",{className:"text-xs",children:E.name})]},j)})})]})]}),i.jsx(sn,{children:i.jsx(V,{variant:"outline",onClick:()=>{m(!1),t("/ppob/history")},children:"Selesai"})})]})})]})]})},FCe=[{id:1,amount:5e4},{id:2,amount:1e5},{id:3,amount:15e4},{id:4,amount:2e5},{id:5,amount:5e5},{id:6,amount:1e6}],j4=[{id:"bca",name:"BCA",logo:"/logos/bca.png",fallback:"BC"},{id:"mandiri",name:"Mandiri",logo:"/logos/mandiri.png",fallback:"MD"},{id:"bni",name:"BNI",logo:"/logos/bni.png",fallback:"BN"},{id:"bri",name:"BRI",logo:"/logos/bri.png",fallback:"BR"},{id:"gopay",name:"GoPay",logo:"/logos/gopay.png",fallback:"GP"},{id:"ovo",name:"OVO",logo:"/logos/ovo.png",fallback:"OV"}],DCe=()=>{var m;const t=kt(),[e,r]=v.useState(""),[n,a]=v.useState(""),[s,o]=v.useState(""),[l,c]=v.useState(!1),[u,A]=v.useState(!1),[d,h]=v.useState(""),f=x=>{r(x.toString()),a(new Intl.NumberFormat("id-ID").format(x))},p=x=>{const b=x.target.value.replace(/\D/g,"");if(b===""){r(""),a("");return}r(b),a(new Intl.NumberFormat("id-ID").format(parseInt(b)))},g=()=>{!e||!s||(c(!0),setTimeout(()=>{const x=`TX${Date.now().toString().slice(-8)}`;h(x),c(!1),A(!0)},1500))};return i.jsxs($t,{children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 border-b border-gray-100",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(W.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"Top Up Saldo"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Isi Ulang Saldo Anda"})]}),i.jsx("div",{className:"ml-auto rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(W.file,{className:"h-5 w-5"})})]})}),i.jsxs("div",{className:"container max-w-md mx-auto px-4 py-6",children:[i.jsx(xe,{className:"border-none shadow-sm mb-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:i.jsx(be,{className:"p-4",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-xs opacity-80 mb-1",children:"Saldo Anda"}),i.jsx("span",{className:"text-2xl font-bold",children:"Rp2.500.000"})]})})}),i.jsxs(ha,{defaultValue:"amount",className:"mb-6",children:[i.jsxs(ea,{className:"grid grid-cols-2 mb-4",children:[i.jsx(Nt,{value:"amount",children:"Nominal"}),i.jsx(Nt,{value:"payment",children:"Metode Pembayaran"})]}),i.jsx(Wt,{value:"amount",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white rounded-xl shadow-sm p-5 mb-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Ne,{htmlFor:"customAmount",className:"text-muted-foreground text-xs font-medium",children:"JUMLAH TOP UP"}),i.jsx("div",{className:"relative mt-3 mb-2",children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("span",{className:"text-3xl font-bold text-primary mr-1",children:"Rp"}),i.jsx(le,{id:"customAmount",placeholder:"0",className:"text-3xl font-bold text-center border-none shadow-none focus-visible:ring-0 w-[60%] h-14 bg-transparent px-0",value:n,onChange:p})]})}),i.jsxs("div",{className:"flex justify-between text-xs mx-4",children:[i.jsx(yt,{variant:"outline",className:"text-primary border-primary/20 bg-primary/5",children:"Min: Rp10.000"}),i.jsx(yt,{variant:"outline",className:"text-primary border-primary/20 bg-primary/5",children:"Maks: Rp10.000.000"})]})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{className:"text-sm font-medium",children:"Pilih Nominal"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:FCe.map(x=>i.jsx(V,{type:"button",variant:e===x.amount.toString()?"default":"outline",className:de("h-12 font-medium",e===x.amount.toString()?"bg-primary text-white":"border-gray-200 text-gray-700"),onClick:()=>f(x.amount),children:pe(x.amount)},x.id))})]}),i.jsx(V,{className:"w-full mt-4",size:"lg",disabled:!e,onClick:()=>{var x;(x=document.querySelector('[data-value="payment"]'))==null||x.dispatchEvent(new MouseEvent("click",{bubbles:!0}))},children:"Lanjutkan"})]})}),i.jsx(Wt,{value:"payment",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx(xe,{className:"border-none shadow-sm bg-muted/20 mb-4",children:i.jsx(be,{className:"p-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Jumlah Top Up"}),i.jsx("p",{className:"font-bold text-lg",children:pe(parseInt(e||"0"))})]}),i.jsx(V,{variant:"ghost",size:"sm",onClick:()=>{var x;(x=document.querySelector('[data-value="amount"]'))==null||x.dispatchEvent(new MouseEvent("click",{bubbles:!0}))},children:"Ubah"})]})})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{className:"text-sm font-medium",children:"Pilih Metode Pembayaran"}),i.jsx("div",{className:"grid gap-2",children:j4.map(x=>i.jsxs("div",{className:de("flex items-center gap-3 p-3 rounded-lg border cursor-pointer",s===x.id?"border-primary bg-primary/5":"border-gray-200"),onClick:()=>o(x.id),children:[i.jsxs(Bl,{className:"h-10 w-10 border",children:[i.jsx(nd,{src:x.logo,alt:x.name}),i.jsx(El,{children:x.fallback})]}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-sm font-medium",children:x.name})}),i.jsx("div",{className:"w-5 h-5 rounded-full border border-primary flex items-center justify-center",children:s===x.id&&i.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"})})]},x.id))})]}),i.jsx(V,{className:"w-full mt-4",size:"lg",disabled:!s||!e||l,onClick:g,children:l?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Kt,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Memproses..."})]}):`Bayar ${pe(parseInt(e||"0"))}`})]})})]}),i.jsx(or,{open:u,onOpenChange:A,children:i.jsxs(er,{className:"sm:max-w-md",children:[i.jsxs(dr,{children:[i.jsx(hr,{className:"text-center",children:"Top Up Berhasil!"}),i.jsx(_n,{className:"text-center",children:"Saldo Anda berhasil ditambahkan"})]}),i.jsx("div",{className:"flex justify-center py-6",children:i.jsx("div",{className:"h-20 w-20 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(W.check,{className:"h-10 w-10 text-green-600"})})}),i.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg mb-4",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Jumlah"}),i.jsx("span",{className:"font-semibold",children:pe(parseInt(e||"0"))})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Metode"}),i.jsx("span",{className:"font-semibold",children:((m=j4.find(x=>x.id===s))==null?void 0:m.name)||""})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"ID Transaksi"}),i.jsx("span",{className:"font-semibold",children:d})]})]}),i.jsx(sn,{children:i.jsx(V,{className:"w-full",onClick:()=>{A(!1),t("/ppob")},children:"Kembali ke Beranda"})})]})})]})]})},RCe=[{value:"20000",label:"Token 20rb",price:22500,desc:"Token Listrik 20.000 VA"},{value:"50000",label:"Token 50rb",price:51500,desc:"Token Listrik 50.000 VA"},{value:"100000",label:"Token 100rb",price:101500,desc:"Token Listrik 100.000 VA"},{value:"200000",label:"Token 200rb",price:201500,desc:"Token Listrik 200.000 VA"},{value:"500000",label:"Token 500rb",price:501500,desc:"Token Listrik 500.000 VA"},{value:"1000000",label:"Token 1jt",price:1001500,desc:"Token Listrik 1.000.000 VA"}],_4=[{id:"1",name:"Rumah Utama",number:"12345678901",address:"Jl. Kemang Raya No. 10"},{id:"2",name:"Apartemen",number:"23456789012",address:"Apartemen Sudirman Park Tower A/12"}],UCe=()=>{const t=kt(),[e,r]=v.useState(""),[n,a]=v.useState(null),[s,o]=v.useState(null),[l,c]=v.useState(!1),[u,A]=v.useState(!1),[d,h]=v.useState(!1),[f,p]=v.useState(""),[g,m]=v.useState(""),x=()=>{!e||e.length<10||(c(!0),setTimeout(()=>{a({name:"Aga Tampan",address:"Jl. Gatot Subroto No. 12, Jakarta Selatan"}),c(!1)},1e3))},b=()=>{!e||!s||(A(!0),setTimeout(()=>{const _=Array(20).fill(0).map(()=>Math.floor(Math.random()*10)).join("");m(_);const w=`TX${Date.now().toString().slice(-8)}`;p(w),A(!1),h(!0)},1500))};return i.jsxs($t,{children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 border-b border-gray-100",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(W.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"Token Listrik"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Beli token listrik prabayar"})]}),i.jsx("div",{className:"ml-auto rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(W.file,{className:"h-5 w-5"})})]})}),i.jsx("div",{className:"container max-w-md mx-auto px-4 py-6",children:i.jsx(xe,{className:"border-none shadow-sm mb-6",children:i.jsx(be,{className:"pt-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(Ne,{htmlFor:"meterNumber",className:"font-medium",children:"ID Pelanggan / Nomor Meter"}),n&&i.jsx(V,{variant:"ghost",size:"sm",className:"text-primary h-8 px-2",onClick:()=>{r(""),a(null),o(null)},children:"Ubah"})]}),n?i.jsx("div",{className:"bg-muted/20 p-4 rounded-lg",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(W.users,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:n.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:e}),i.jsx("p",{className:"text-xs text-muted-foreground",children:n.address})]})]})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:i.jsx(W.zap,{className:"h-4 w-4 text-muted-foreground"})}),i.jsx(le,{id:"meterNumber",placeholder:"Contoh: 12345678901",className:"pl-9 bg-muted/30",value:e,onChange:_=>r(_.target.value.replace(/\D/g,"")),disabled:l})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Masukkan nomor meter atau ID pelanggan PLN"}),_4.length>0&&i.jsxs("div",{className:"mt-4 bg-muted/20 rounded-lg p-3",children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Meter Tersimpan"}),i.jsx("div",{className:"grid grid-cols-1 gap-2",children:_4.map(_=>i.jsxs("div",{onClick:()=>r(_.number),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted cursor-pointer",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(W.zap,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:_.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:_.number})]}),i.jsx("div",{className:"w-5 h-5 rounded-full border border-primary flex items-center justify-center",children:e===_.number&&i.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"})})]},_.id))})]}),i.jsx("div",{className:"mt-4",children:i.jsx(V,{className:"w-full",disabled:e.length<10||l,onClick:x,children:l?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Kt,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Memeriksa..."})]}):"Periksa Nomor Meter"})})]})]}),n&&i.jsxs("div",{className:"border-t pt-4 mt-4",children:[i.jsx("div",{className:"mb-3",children:i.jsx(Ne,{className:"text-sm font-medium",children:"Pilih Nominal"})}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:RCe.map(_=>i.jsxs("div",{className:de("border rounded-lg p-3 cursor-pointer transition-colors",s===_.value?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/50"),onClick:()=>o(_.value),children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("span",{className:"font-semibold",children:_.label}),s===_.value&&i.jsx("div",{className:"w-5 h-5 rounded-full bg-primary flex items-center justify-center",children:i.jsx(W.check,{className:"h-3 w-3 text-white"})})]}),i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:_.desc}),i.jsx("p",{className:"text-sm font-medium text-primary",children:pe(_.price)})]},_.value))}),i.jsx(V,{className:"w-full mt-6",size:"lg",disabled:!s||u,onClick:b,children:u?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Kt,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Memproses..."})]}):"Beli Token"})]})]})})})}),i.jsx(or,{open:d,onOpenChange:h,children:i.jsxs(er,{className:"sm:max-w-md",children:[i.jsxs(dr,{children:[i.jsx(hr,{className:"text-center",children:"Pembelian Berhasil!"}),i.jsx(_n,{className:"text-center",children:"Token listrik berhasil dibeli"})]}),i.jsx("div",{className:"flex justify-center py-4",children:i.jsx("div",{className:"h-20 w-20 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(W.check,{className:"h-10 w-10 text-green-600"})})}),i.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg mb-4",children:[i.jsxs("div",{className:"flex flex-col items-center mb-4 bg-primary/10 p-3 rounded-lg",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Token Anda"}),i.jsx("p",{className:"font-mono text-xl font-bold tracking-wider",children:g})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Nomor Meter"}),i.jsx("span",{className:"font-semibold",children:e})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Nama"}),i.jsx("span",{className:"font-semibold",children:n==null?void 0:n.name})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Nominal"}),i.jsx("span",{className:"font-semibold",children:pe(parseInt(s||"0"))})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Admin"}),i.jsx("span",{className:"font-semibold",children:"Rp1.500"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"ID Transaksi"}),i.jsx("span",{className:"font-semibold",children:f})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(V,{variant:"outline",className:"flex-1",onClick:()=>{navigator.clipboard.writeText(g),alert("Token berhasil disalin!")},children:[i.jsx(W.copy,{className:"mr-2 h-4 w-4"}),"Salin Token"]}),i.jsx(V,{className:"flex-1",onClick:()=>{h(!1),t("/ppob")},children:"Selesai"})]})]})})]})},C4=[{id:"gopay",name:"GoPay",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/86/Gopay_logo.svg/180px-Gopay_logo.svg.png",color:"bg-blue-500",textColor:"text-blue-600",bgColor:"bg-blue-50"},{id:"ovo",name:"OVO",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/eb/Logo_ovo_purple.svg/180px-Logo_ovo_purple.svg.png",color:"bg-purple-500",textColor:"text-purple-600",bgColor:"bg-purple-50"},{id:"dana",name:"DANA",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/Logo_dana_blue.svg/180px-Logo_dana_blue.svg.png",color:"bg-blue-400",textColor:"text-blue-500",bgColor:"bg-blue-50"},{id:"linkaja",name:"LinkAja",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/85/LinkAja.svg/180px-LinkAja.svg.png",color:"bg-red-500",textColor:"text-red-600",bgColor:"bg-red-50"},{id:"shopeepay",name:"ShopeePay",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/ShopeePay_logo.svg/180px-ShopeePay_logo.svg.png",color:"bg-orange-500",textColor:"text-orange-600",bgColor:"bg-orange-50"}],M1=[{walletId:"dana",accountNumber:"081234567890",name:"Budi Santoso"},{walletId:"gopay",accountNumber:"081387654321",name:"Siti Rahayu"},{walletId:"ovo",accountNumber:"081598765432",name:"Ahmad Hidayat"}],MCe=()=>{var T,U,M,R,F,D;const t=kt(),[e,r]=v.useState("transfer"),[n]=v.useState(75e4),[a,s]=v.useState(null),[o,l]=v.useState(""),[c,u]=v.useState(""),[A,d]=v.useState(!1),[h,f]=v.useState(!1),[p,g]=v.useState(""),[m,x]=v.useState(!1),[b,_]=v.useState(!1),[w,C]=v.useState(""),E=Q=>{const H=Q.replace(/\D/g,"");return H.length<=4?H:H.length<=7?`${H.slice(0,4)}-${H.slice(4)}`:H.length<=10?`${H.slice(0,4)}-${H.slice(4,7)}-${H.slice(7)}`:`${H.slice(0,4)}-${H.slice(4,7)}-${H.slice(7,10)}-${H.slice(10,13)}`},j=Q=>{const H=Q.target.value.replace(/\D/g,"");l(H),f(!1)},B=Q=>{const H=Q.target.value.replace(/\D/g,"");u(H)},S=()=>{o.length<10||!a||(d(!0),setTimeout(()=>{var Q;g(((Q=M1.find(H=>H.accountNumber.endsWith(o.slice(-8))&&H.walletId===a))==null?void 0:Q.name)||"User "+a.toUpperCase()),f(!0),d(!1)},1e3))},N=()=>{!h||!c||parseInt(c)<=0||(x(!0),setTimeout(()=>{const Q=`EW${Date.now().toString().slice(-8)}`;C(Q),x(!1),_(!0)},1500))},I=()=>{s(null),l(""),u(""),f(!1),g(""),_(!1)},P=Q=>C4.find(H=>H.id===Q);return i.jsxs($t,{children:[i.jsxs("div",{className:"bg-gradient-to-b from-indigo-600 to-indigo-800 text-white",children:[i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white/20",children:i.jsx(W.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"e-Wallet"}),i.jsx("p",{className:"text-xs text-white/70",children:"Transfer ke e-wallet lainnya"})]})]}),i.jsx("div",{className:"p-4",children:i.jsx(xe,{className:"bg-white/10 border-0 backdrop-blur-sm text-white",children:i.jsxs(be,{className:"p-4",children:[i.jsx("p",{className:"text-sm text-white/80",children:"Saldo Tersedia"}),i.jsx("h2",{className:"text-2xl font-bold",children:pe(n)}),i.jsx("p",{className:"text-xs text-white/70 mt-1",children:i.jsxs("span",{className:"inline-flex items-center",children:[i.jsx(W.clock,{className:"h-3 w-3 mr-1"}),"Terakhir diperbarui: ",new Date().toLocaleTimeString("id-ID")]})})]})})})]}),i.jsx("div",{className:"container max-w-md mx-auto px-4 py-6",children:i.jsxs(ha,{defaultValue:"transfer",className:"w-full",onValueChange:r,children:[i.jsxs(ea,{className:"grid grid-cols-2 mb-4",children:[i.jsx(Nt,{value:"transfer",children:"Transfer"}),i.jsx(Nt,{value:"history",children:"Riwayat"})]}),i.jsx(Wt,{value:"transfer",className:"space-y-4",children:b?i.jsx(xe,{className:"border-none shadow-sm",children:i.jsxs(be,{className:"pt-6 px-6 pb-6 flex flex-col items-center",children:[i.jsx("div",{className:"h-20 w-20 rounded-full bg-green-100 flex items-center justify-center mb-4",children:i.jsx(W.check,{className:"h-10 w-10 text-green-600"})}),i.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Transfer Berhasil!"}),i.jsxs("p",{className:"text-sm text-muted-foreground mb-6",children:["Dana telah berhasil ditransfer ke ",(F=P(a))==null?void 0:F.name]}),i.jsxs("div",{className:"w-full bg-muted/30 p-4 rounded-lg space-y-3 mb-6",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Jumlah"}),i.jsx("span",{className:"text-sm font-medium",children:pe(parseInt(c))})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Penerima"}),i.jsx("span",{className:"text-sm font-medium",children:p})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"E-Wallet"}),i.jsx("span",{className:"text-sm font-medium",children:(D=P(a))==null?void 0:D.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Nomor Telepon"}),i.jsx("span",{className:"text-sm font-medium",children:E(o)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"ID Transaksi"}),i.jsx("span",{className:"text-sm font-medium",children:w})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Waktu"}),i.jsx("span",{className:"text-sm font-medium",children:new Date().toLocaleString("id-ID")})]})]}),i.jsxs("div",{className:"flex gap-3 w-full",children:[i.jsxs(V,{variant:"outline",className:"flex-1",onClick:I,children:[i.jsx(W.arrowRight,{className:"mr-2 h-4 w-4"}),"Transfer Lagi"]}),i.jsx(V,{className:"flex-1",onClick:()=>t("/ppob"),children:"Selesai"})]})]})}):i.jsx(i.Fragment,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Ne,{className:"text-sm font-medium mb-2 block",children:"Pilih E-Wallet"}),i.jsx("div",{className:"grid grid-cols-3 gap-3",children:C4.map(Q=>i.jsxs("div",{className:`border rounded-lg p-3 flex flex-col items-center cursor-pointer transition-all ${a===Q.id?`border-2 border-primary ${Q.bgColor}`:"border-gray-200 hover:border-gray-300"}`,onClick:()=>s(Q.id),children:[i.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-1 ${a===Q.id?Q.bgColor:"bg-gray-100"}`,children:[a===Q.id&&i.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-primary rounded-full flex items-center justify-center",children:i.jsx(W.check,{className:"h-3 w-3 text-white"})}),i.jsx("img",{src:Q.logo,alt:Q.name,className:"w-6 h-6 object-contain"})]}),i.jsx("span",{className:"text-xs font-medium",children:Q.name})]},Q.id))})]}),a&&i.jsx(xe,{className:"border-none shadow-sm",children:i.jsx(be,{className:"p-4 space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"phoneNumber",children:"Nomor Telepon"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:i.jsx(W.phone,{className:"h-4 w-4 text-muted-foreground"})}),i.jsx(le,{id:"phoneNumber",className:"pl-9",placeholder:"Contoh: 081234567890",value:E(o),onChange:j,disabled:h||A})]}),M1.length>0&&!h&&i.jsxs("div",{className:"mt-4",children:[i.jsx(Ne,{className:"text-sm mb-2 block",children:"Tujuan Tersimpan"}),i.jsx("div",{className:"space-y-2",children:M1.filter(Q=>Q.walletId===a).map((Q,H)=>{var G,X,te,Z;return i.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted cursor-pointer",onClick:()=>{l(Q.accountNumber),S()},children:[i.jsx(Bl,{className:"h-9 w-9",children:i.jsx(El,{className:`${(G=P(Q.walletId))==null?void 0:G.textColor} ${(X=P(Q.walletId))==null?void 0:X.bgColor}`,children:Q.name.substring(0,2).toUpperCase()})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:Q.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:E(Q.accountNumber)})]}),i.jsx(yt,{variant:"outline",className:`ml-auto ${(te=P(Q.walletId))==null?void 0:te.textColor}`,children:(Z=P(Q.walletId))==null?void 0:Z.name})]},H)})})]}),!h&&o.length>=10&&i.jsx(V,{className:"w-full mt-2",onClick:S,disabled:A,children:A?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Kt,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Memeriksa..."})]}):"Verifikasi Nomor"}),h&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-3 bg-muted/40 rounded-lg flex items-center gap-3 mt-2",children:[i.jsx(Bl,{className:"h-10 w-10",children:i.jsx(El,{className:`${(T=P(a))==null?void 0:T.textColor} ${(U=P(a))==null?void 0:U.bgColor}`,children:p.substring(0,2).toUpperCase()})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:p}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:E(o)}),i.jsx(yt,{variant:"outline",className:`${(M=P(a))==null?void 0:M.textColor} text-xs`,children:(R=P(a))==null?void 0:R.name})]})]}),i.jsx(V,{variant:"ghost",size:"sm",className:"ml-auto h-8 px-2",onClick:()=>{f(!1),l("")},children:"Ubah"})]}),i.jsxs("div",{className:"space-y-2 mt-4",children:[i.jsx(Ne,{htmlFor:"amount",children:"Nominal Transfer"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 font-medium",children:"Rp"}),i.jsx(le,{id:"amount",className:"pl-9",placeholder:"0",value:c?parseInt(c).toLocaleString("id-ID"):"",onChange:B})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:[5e4,1e5,2e5,5e5].map(Q=>i.jsx(V,{type:"button",variant:"outline",className:"flex-1 min-w-20",onClick:()=>u(Q.toString()),children:pe(Q)},Q))})]}),i.jsx(V,{className:"w-full mt-4",size:"lg",disabled:!c||parseInt(c)<=0||parseInt(c)>n||m,onClick:N,children:m?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Kt,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Memproses..."})]}):"Transfer Sekarang"}),parseInt(c)>n&&i.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Saldo Anda tidak mencukupi untuk melakukan transfer ini."})]})]})})})]})})}),i.jsx(Wt,{value:"history",className:"space-y-4",children:i.jsx(xe,{className:"border-none shadow-sm",children:i.jsxs(be,{className:"p-4",children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Riwayat Transfer E-Wallet"}),i.jsx("div",{className:"space-y-3",children:[{id:"EW20250603001",wallet:"dana",name:"Budi Santoso",phone:"081234567890",amount:1e5,date:new Date(2025,5,2)},{id:"EW20250602002",wallet:"gopay",name:"Siti Rahayu",phone:"081387654321",amount:5e4,date:new Date(2025,5,1)},{id:"EW20250601003",wallet:"ovo",name:"Ahmad Hidayat",phone:"081598765432",amount:75e3,date:new Date(2025,5,1)}].map((Q,H)=>{var G,X,te,Z,q;return i.jsxs("div",{className:"border rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${(G=P(Q.wallet))==null?void 0:G.bgColor}`,children:i.jsx("img",{src:(X=P(Q.wallet))==null?void 0:X.logo,alt:(te=P(Q.wallet))==null?void 0:te.name,className:"w-6 h-6 object-contain"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm font-medium",children:Q.name}),i.jsxs("p",{className:"text-sm font-semibold text-red-600",children:["-",pe(Q.amount)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:E(Q.phone)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:Q.date.toLocaleDateString("id-ID")})]})]})]}),i.jsxs("div",{className:"mt-2 pt-2 border-t flex justify-between items-center",children:[i.jsxs("span",{className:"text-xs text-muted-foreground",children:["ID: ",Q.id]}),i.jsx(yt,{variant:"outline",className:(Z=P(Q.wallet))==null?void 0:Z.textColor,children:(q=P(Q.wallet))==null?void 0:q.name})]})]},H)})})]})})})]})})]})},B4=[{id:"ml",name:"Mobile Legends",image:"https://play-lh.googleusercontent.com/ha7AWuJ9nlt3X5OgDI-HZkrZf0TjyuO6j6WnVcjbPHbhTVK9KTbdcKBQUDpzJqdJjA",publisher:"Moonton",category:"MOBA",items:[{id:"ml-1",name:"86 Diamonds",price:22e3,originalPrice:25e3,discount:!0},{id:"ml-2",name:"172 Diamonds",price:45e3,originalPrice:5e4,discount:!0},{id:"ml-3",name:"257 Diamonds",price:67e3,originalPrice:75e3,discount:!0},{id:"ml-4",name:"344 Diamonds",price:89e3,originalPrice:1e5,discount:!0},{id:"ml-5",name:"429 Diamonds",price:112e3,originalPrice:125e3,discount:!0},{id:"ml-6",name:"514 Diamonds",price:134e3,originalPrice:15e4,discount:!0},{id:"ml-7",name:"706 Diamonds",price:179e3,originalPrice:2e5,discount:!0},{id:"ml-8",name:"878 Diamonds",price:223e3,originalPrice:25e4,discount:!0},{id:"ml-9",name:"963 Diamonds",price:245e3,originalPrice:275e3,discount:!0},{id:"ml-10",name:"1050 Diamonds",price:268e3,originalPrice:3e5,discount:!0},{id:"ml-11",name:"Weekly Diamond Pass",price:28500,originalPrice:3e4,discount:!0},{id:"ml-12",name:"Starlight Member",price:149e3,originalPrice:149e3,discount:!1}]},{id:"ff",name:"Free Fire",image:"https://play-lh.googleusercontent.com/WWcssdzTZvx7Fc84lfMpZRvTUjqxUcKn3ANF5_XYOegQjbUQQdTmMvB8BtY_8VGcJQ",publisher:"Garena",category:"Battle Royale",items:[{id:"ff-1",name:"100 Diamonds",price:15e3,originalPrice:16e3,discount:!0},{id:"ff-2",name:"210 Diamonds",price:3e4,originalPrice:32e3,discount:!0},{id:"ff-3",name:"310 Diamonds",price:45e3,originalPrice:48e3,discount:!0},{id:"ff-4",name:"520 Diamonds",price:75e3,originalPrice:8e4,discount:!0},{id:"ff-5",name:"1060 Diamonds",price:15e4,originalPrice:16e4,discount:!0},{id:"ff-6",name:"2180 Diamonds",price:3e5,originalPrice:32e4,discount:!0},{id:"ff-7",name:"5600 Diamonds",price:75e4,originalPrice:8e5,discount:!0},{id:"ff-8",name:"Weekly Member",price:28500,originalPrice:3e4,discount:!0},{id:"ff-9",name:"Monthly Member",price:85e3,originalPrice:9e4,discount:!0}]},{id:"pubg",name:"PUBG Mobile",image:"https://play-lh.googleusercontent.com/JRd05pyBH41qjgsJuWduRJpDeZG0Hnb0yjf2nWqO7VaGKL10-G5UIygxED-WNOc3pg",publisher:"Tencent Games",category:"Battle Royale",items:[{id:"pubg-1",name:"60 UC",price:16e3,originalPrice:18e3,discount:!0},{id:"pubg-2",name:"300 UC",price:75e3,originalPrice:8e4,discount:!0},{id:"pubg-3",name:"600 UC",price:15e4,originalPrice:16e4,discount:!0},{id:"pubg-4",name:"1500 UC",price:375e3,originalPrice:4e5,discount:!0},{id:"pubg-5",name:"3000 UC",price:75e4,originalPrice:8e5,discount:!0},{id:"pubg-6",name:"6000 UC",price:149e4,originalPrice:16e5,discount:!0},{id:"pubg-7",name:"Royale Pass",price:14e4,originalPrice:15e4,discount:!0}]},{id:"genshin",name:"Genshin Impact",image:"https://play-lh.googleusercontent.com/So91qs_eRRvalz7JtGXvUJ7Nsg-A5Q3LL4_ifmEXNsj28Tj0R7jzMCjzqKYzWrEJC6Y",publisher:"miHoYo",category:"RPG",items:[{id:"gi-1",name:"60 Genesis Crystals",price:16e3,originalPrice:18e3,discount:!0},{id:"gi-2",name:"300+30 Genesis Crystals",price:8e4,originalPrice:85e3,discount:!0},{id:"gi-3",name:"980+110 Genesis Crystals",price:25e4,originalPrice:27e4,discount:!0},{id:"gi-4",name:"1980+260 Genesis Crystals",price:48e4,originalPrice:5e5,discount:!0},{id:"gi-5",name:"3280+600 Genesis Crystals",price:8e5,originalPrice:85e4,discount:!0},{id:"gi-6",name:"Blessing of the Welkin Moon",price:75e3,originalPrice:8e4,discount:!0},{id:"gi-7",name:"Battle Pass",price:14e4,originalPrice:15e4,discount:!0}]},{id:"valorant",name:"Valorant",image:"https://play-lh.googleusercontent.com/fzkfPfJPxX0zlNzPYrIMW63AuFWjaCFzzoF-EZzN8_5y8lye0hnHJmBJpz9gy7ICt4Q",publisher:"Riot Games",category:"FPS",items:[{id:"val-1",name:"420 Points",price:5e4,originalPrice:55e3,discount:!0},{id:"val-2",name:"700 Points",price:8e4,originalPrice:85e3,discount:!0},{id:"val-3",name:"1375 Points",price:15e4,originalPrice:16e4,discount:!0},{id:"val-4",name:"2400 Points",price:25e4,originalPrice:265e3,discount:!0},{id:"val-5",name:"4000 Points",price:4e5,originalPrice:425e3,discount:!0},{id:"val-6",name:"8150 Points",price:8e5,originalPrice:85e4,discount:!0}]},{id:"codm",name:"Call of Duty Mobile",image:"https://play-lh.googleusercontent.com/aUALUc_yfJwV1mZuUHgRyXYXcXUwUfZBZkoXtYzVOoOOFHDlYZhZ8dywSBRWrtBY-8w",publisher:"Activision",category:"FPS",items:[{id:"codm-1",name:"26 CP",price:5e3,originalPrice:5500,discount:!0},{id:"codm-2",name:"53 CP",price:1e4,originalPrice:11e3,discount:!0},{id:"codm-3",name:"106 CP",price:2e4,originalPrice:22e3,discount:!0},{id:"codm-4",name:"264 CP",price:5e4,originalPrice:55e3,discount:!0},{id:"codm-5",name:"528 CP",price:1e5,originalPrice:11e4,discount:!0},{id:"codm-6",name:"1056 CP",price:2e5,originalPrice:22e4,discount:!0},{id:"codm-7",name:"2640 CP",price:5e5,originalPrice:55e4,discount:!0},{id:"codm-8",name:"5280 CP",price:1e6,originalPrice:11e5,discount:!0}]}],QCe=[{id:"all",name:"Semua"},{id:"moba",name:"MOBA"},{id:"battle-royale",name:"Battle Royale"},{id:"rpg",name:"RPG"},{id:"fps",name:"FPS"},{id:"strategy",name:"Strategy"},{id:"casual",name:"Casual"}],LCe=()=>{const t=kt(),[e,r]=v.useState(null),[n,a]=v.useState(""),[s,o]=v.useState(null),[l,c]=v.useState("popular"),[u,A]=v.useState("all"),[d,h]=v.useState(""),[f,p]=v.useState(!1),[g,m]=v.useState(!1),[x,b]=v.useState(!1),[_,w]=v.useState(""),C=e?B4.find(I=>I.id===e):null,E=B4.filter(I=>{const P=d===""||I.name.toLowerCase().includes(d.toLowerCase())||I.publisher.toLowerCase().includes(d.toLowerCase()),T=u==="all"||I.category.toLowerCase()===u.toLowerCase();return P&&T}),j=I=>{r(I),a(""),o(null)},B=I=>{o(I),m(!0)},S=()=>{!s||!C||!n||(p(!0),setTimeout(()=>{const I=`GM${Date.now().toString().slice(-8)}`;w(I),p(!1),m(!1),b(!0)},2e3))},N=()=>i.jsxs("div",{className:"flex justify-center items-center py-4",children:[i.jsx(W.spinner,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("span",{className:"ml-2 text-sm font-medium",children:"Memproses..."})]});return i.jsxs($t,{children:[i.jsx("div",{className:"bg-gradient-to-b from-purple-600 to-purple-800 text-white",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white/20",children:i.jsx(W.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"Top Up Games"}),i.jsx("p",{className:"text-xs text-white/70",children:"Isi ulang kredit game favoritmu"})]})]})}),i.jsxs("div",{className:"container max-w-md mx-auto px-4 py-6",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(W.search,{className:"h-4 w-4 text-muted-foreground"})}),i.jsx(le,{type:"text",placeholder:"Cari game...",value:d,onChange:I=>h(I.target.value),className:"pl-10"})]}),e?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("button",{onClick:()=>r(null),className:"rounded-full w-8 h-8 flex items-center justify-center bg-muted",children:i.jsx(W.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden bg-muted",children:i.jsx("img",{src:C==null?void 0:C.image,alt:C==null?void 0:C.name,className:"object-cover w-full h-full"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-semibold",children:C==null?void 0:C.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:C==null?void 0:C.publisher})]})]})]}),i.jsx(xe,{className:"mb-4",children:i.jsxs(be,{className:"p-4 space-y-3",children:[i.jsx(Ne,{htmlFor:"userId",children:"User ID"}),i.jsx(le,{id:"userId",placeholder:"Masukkan User ID",value:n,onChange:I=>a(I.target.value)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Pastikan User ID yang kamu masukkan sudah benar"})]})}),i.jsx("h3",{className:"font-semibold mb-3",children:"Pilih Nominal"}),i.jsx("div",{className:"grid grid-cols-2 gap-3 mb-6",children:C==null?void 0:C.items.map(I=>i.jsx(xe,{className:`overflow-hidden cursor-pointer hover:shadow-md transition-shadow ${(s==null?void 0:s.id)===I.id?"border-primary border-2":""}`,onClick:()=>B(I),children:i.jsxs(be,{className:"p-3",children:[i.jsx("h4",{className:"font-medium text-sm",children:I.name}),i.jsxs("div",{className:"mt-1",children:[i.jsx("p",{className:"font-semibold text-primary",children:pe(I.price)}),I.discount&&i.jsx("p",{className:"text-xs text-muted-foreground line-through",children:pe(I.originalPrice)})]}),I.discount&&i.jsxs(yt,{className:"mt-1 bg-green-100 text-green-700 hover:bg-green-100 text-xs",variant:"secondary",children:["Hemat ",pe(I.originalPrice-I.price)]})]})},I.id))})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-4 overflow-x-auto hide-scrollbar",children:i.jsx("div",{className:"flex space-x-2 pb-2",children:QCe.map(I=>i.jsx(V,{variant:u===I.id?"default":"outline",size:"sm",onClick:()=>A(I.id),className:"whitespace-nowrap",children:I.name},I.id))})}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Game Populer"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:E.map(I=>i.jsx(xe,{className:"overflow-hidden cursor-pointer hover:shadow-md transition-shadow",onClick:()=>j(I.id),children:i.jsxs(be,{className:"p-3",children:[i.jsx("div",{className:"aspect-square rounded-lg overflow-hidden mb-2 bg-muted flex items-center justify-center",children:i.jsx("img",{src:I.image,alt:I.name,className:"object-cover w-full h-full"})}),i.jsx("h3",{className:"font-medium text-sm truncate",children:I.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:I.publisher}),i.jsx(yt,{variant:"outline",className:"mt-1 text-xs",children:I.category})]})},I.id))})]})]})]}),i.jsx(or,{open:g,onOpenChange:m,children:i.jsxs(er,{className:"sm:max-w-md",children:[i.jsx(dr,{children:i.jsx(hr,{children:"Konfirmasi Pembayaran"})}),i.jsx("div",{className:"space-y-4 py-2",children:i.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsxs(Bl,{className:"h-10 w-10 rounded-lg",children:[i.jsx(nd,{src:C==null?void 0:C.image}),i.jsx(El,{className:"rounded-lg bg-primary/20",children:C==null?void 0:C.name.substring(0,2).toUpperCase()})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:C==null?void 0:C.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["User ID: ",n]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Item"}),i.jsx("span",{className:"text-sm font-medium",children:s==null?void 0:s.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Harga"}),i.jsx("span",{className:"text-sm font-medium",children:s?pe(s.price):"-"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Biaya Admin"}),i.jsx("span",{className:"text-sm font-medium",children:"Rp 0"})]}),i.jsx("div",{className:"pt-2 border-t mt-2",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"Total"}),i.jsx("span",{className:"text-sm font-bold text-primary",children:s?pe(s.price):"-"})]})})]})]})}),i.jsx(sn,{className:"flex flex-col gap-2",children:f?i.jsx(N,{}):i.jsxs(i.Fragment,{children:[i.jsx(V,{className:"w-full",onClick:S,disabled:!n||!s,children:"Bayar Sekarang"}),i.jsx(V,{variant:"outline",className:"w-full",onClick:()=>m(!1),children:"Batal"})]})})]})}),i.jsx(or,{open:x,onOpenChange:b,children:i.jsx(er,{className:"sm:max-w-md",children:i.jsxs("div",{className:"flex flex-col items-center text-center py-4",children:[i.jsx("div",{className:"h-20 w-20 rounded-full bg-green-100 flex items-center justify-center mb-4",children:i.jsx(W.check,{className:"h-10 w-10 text-green-600"})}),i.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Pembayaran Berhasil!"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Item game telah berhasil dibeli"}),i.jsxs("div",{className:"w-full bg-muted/30 p-4 rounded-lg space-y-3 mb-6 text-left",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Game"}),i.jsx("span",{className:"text-sm font-medium",children:C==null?void 0:C.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"User ID"}),i.jsx("span",{className:"text-sm font-medium",children:n})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Item"}),i.jsx("span",{className:"text-sm font-medium",children:s==null?void 0:s.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Jumlah"}),i.jsx("span",{className:"text-sm font-medium",children:s?pe(s.price):"-"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"ID Transaksi"}),i.jsx("span",{className:"text-sm font-medium",children:_})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Waktu"}),i.jsx("span",{className:"text-sm font-medium",children:new Date().toLocaleString("id-ID")})]})]}),i.jsxs("div",{className:"flex gap-3 w-full",children:[i.jsxs(V,{variant:"outline",className:"flex-1",onClick:()=>{b(!1),r(null)},children:[i.jsx(W.arrowRight,{className:"mr-2 h-4 w-4"}),"Top Up Lagi"]}),i.jsx(V,{className:"flex-1",onClick:()=>t("/ppob"),children:"Selesai"})]})]})})})]})},gz=async()=>{try{const{data:t,error:e}=await J.from("ppob_services").select("*").order("created_at",{ascending:!0});if(e)throw e;return t||[]}catch(t){return console.error("Error fetching PPOB services:",t),[]}},E4={"Top Up":{bg:"#E3F2FD",icon:"#1976D2"},Tagihan:{bg:"#FFF3E0",icon:"#F57C00"},Investasi:{bg:"#E8F5E9",icon:"#388E3C"},Lainnya:{bg:"#F5F5F5",icon:"#757575"}},HCe=()=>{const t=kt(),[e,r]=v.useState(!1),[n,a]=v.useState([]),[s,o]=v.useState(!0),[l,c]=v.useState(null);v.useEffect(()=>{r(!0),(async()=>{o(!0);try{const f=await gz();a(f),c(null)}catch(f){console.error("Error fetching PPOB services:",f),c("Failed to load services. Please try again later.")}finally{o(!1)}})()},[]);const u=n.reduce((h,f)=>{const p=f.category||"Lainnya";return h[p]||(h[p]=[]),h[p].push(f),h},{}),A=(h,f)=>{switch(h){case"wallet":return i.jsx(W.wallet,{className:f});case"smartphone":return i.jsx(W.smartphone,{className:f});case"wifi":return i.jsx(W.wifi,{className:f});case"globe":return i.jsx(W.package,{className:f});case"zap":return i.jsx(W.zap,{className:f});case"creditCard":return i.jsx(W.creditCard,{className:f});case"tv":return i.jsx(W.tv,{className:f});case"shield":return i.jsx(W.shield,{className:f});case"droplet":return i.jsx(W.droplet,{className:f});case"calculator":return i.jsx(W.barChart,{className:f});case"home":return i.jsx(W.home,{className:f});case"phone":return i.jsx(W.phone,{className:f});case"receipt":return i.jsx(W.file,{className:f});case"graduationCap":return i.jsx(W.file,{className:f});case"heart":return i.jsx(W.heart,{className:f});case"gift":return i.jsx(W.package,{className:f});case"banknote":return i.jsx(W.creditCard,{className:f});case"plus":return i.jsx(W.plus,{className:f});case"users":return i.jsx(W.users,{className:f});default:return i.jsx(W.bell,{className:f})}},d=h=>{t(h)};return s?i.jsxs($t,{children:[i.jsx(_s,{children:i.jsx("style",{children:`
              @keyframes fadeIn {
                from { opacity: 0; transform: translateY(10px); }
                to { opacity: 1; transform: translateY(0); }
              }
              @keyframes bounce {
                0%, 100% { transform: translateY(0); }
                50% { transform: translateY(-5px); }
              }
              @keyframes pulse {
                0% { transform: scale(1); }
                50% { transform: scale(1.05); }
                100% { transform: scale(1); }
              }
              .animate-item {
                animation: fadeIn 0.5s ease forwards;
                opacity: 0;
              }
              .service-icon:hover {
                animation: bounce 0.6s ease infinite;
              }
              .pulse-effect {
                animation: pulse 2s infinite ease-in-out;
              }
              .baru-badge {
                animation: pulse 1.5s infinite;
              }
            `})}),i.jsx("div",{className:"bg-white sticky top-0 z-10 border-b border-gray-100 shadow-sm",children:i.jsxs("div",{className:"flex items-center px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100 transition-all duration-200",children:i.jsx(W.chevronLeft,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold ml-4",children:"Semua Layanan "})]})}),i.jsx("div",{className:"pb-6 bg-gray-50 min-h-screen",children:i.jsx("div",{className:"flex justify-center items-center h-24",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]}):l?i.jsxs($t,{children:[i.jsx(_s,{children:i.jsx("style",{children:`
              @keyframes fadeIn {
                from { opacity: 0; transform: translateY(10px); }
                to { opacity: 1; transform: translateY(0); }
              }
              @keyframes bounce {
                0%, 100% { transform: translateY(0); }
                50% { transform: translateY(-5px); }
              }
              @keyframes pulse {
                0% { transform: scale(1); }
                50% { transform: scale(1.05); }
                100% { transform: scale(1); }
              }
              .animate-item {
                animation: fadeIn 0.5s ease forwards;
                opacity: 0;
              }
              .service-icon:hover {
                animation: bounce 0.6s ease infinite;
              }
              .pulse-effect {
                animation: pulse 2s infinite ease-in-out;
              }
              .baru-badge {
                animation: pulse 1.5s infinite;
              }
            `})}),i.jsx("div",{className:"bg-white sticky top-0 z-10 border-b border-gray-100 shadow-sm",children:i.jsxs("div",{className:"flex items-center px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100 transition-all duration-200",children:i.jsx(W.chevronLeft,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold ml-4",children:"Semua Layanan "})]})}),i.jsx("div",{className:"pb-6 bg-gray-50 min-h-screen",children:i.jsx("div",{className:"text-center text-red-500",children:l})})]}):i.jsxs($t,{children:[i.jsx(_s,{children:i.jsx("style",{children:`
            @keyframes fadeIn {
              from { opacity: 0; transform: translateY(10px); }
              to { opacity: 1; transform: translateY(0); }
            }
            @keyframes bounce {
              0%, 100% { transform: translateY(0); }
              50% { transform: translateY(-5px); }
            }
            @keyframes pulse {
              0% { transform: scale(1); }
              50% { transform: scale(1.05); }
              100% { transform: scale(1); }
            }
            .animate-item {
              animation: fadeIn 0.5s ease forwards;
              opacity: 0;
            }
            .service-icon:hover {
              animation: bounce 0.6s ease infinite;
            }
            .pulse-effect {
              animation: pulse 2s infinite ease-in-out;
            }
            .baru-badge {
              animation: pulse 1.5s infinite;
            }
          `})}),i.jsx("div",{className:"bg-white sticky top-0 z-10 border-b border-gray-100 shadow-sm",children:i.jsxs("div",{className:"flex items-center px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100 transition-all duration-200",children:i.jsx(W.chevronLeft,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold ml-4",children:"Semua Layanan "})]})}),i.jsx("div",{className:"pb-6 bg-gray-50 min-h-screen",children:Object.entries(u).map(([h,f])=>i.jsxs("div",{className:"mt-4 px-4",children:[i.jsx("h2",{className:"text-lg font-semibold mb-3",children:h}),i.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:i.jsx("div",{className:"grid grid-cols-4 gap-y-6",children:f.map((p,g)=>{var m,x;return i.jsxs("div",{className:de("flex flex-col items-center relative animate-item",e?"":"opacity-0"),onClick:()=>d(p.route||"/ppob/generic"),style:{animationDelay:`${g*.07}s`},children:[i.jsxs("div",{className:de("w-14 h-14 rounded-xl flex items-center justify-center mb-2 relative service-icon shadow-sm",p.color||((m=E4[h])==null?void 0:m.bg)||"#F5F5F5",p.is_new&&"pulse-effect"),children:[i.jsx("div",{className:p.icon_color||((x=E4[h])==null?void 0:x.icon)||"#757575",children:A(p.icon||"Box","h-6 w-6")}),p.is_new&&i.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[9px] px-1 rounded-full",children:"Baru"})]}),i.jsx("span",{className:"text-xs font-medium text-center max-w-[80px] leading-tight",children:p.name})]},p.id)})})})]},h))})]})},$Ce=()=>{const t=kt();return i.jsxs($t,{children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-600 to-blue-800 text-white",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white/20",children:i.jsx(W.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"Test Page"}),i.jsx("p",{className:"text-xs text-white/70",children:"Testing icon rendering"})]})]})}),i.jsxs("div",{className:"container max-w-md mx-auto px-4 py-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Available Icons"}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center mb-1",children:i.jsx(W.wallet,{className:"h-6 w-6 text-blue-600"})}),i.jsx("span",{className:"text-xs",children:"wallet"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-100 flex items-center justify-center mb-1",children:i.jsx(W.smartphone,{className:"h-6 w-6 text-green-600"})}),i.jsx("span",{className:"text-xs",children:"smartphone"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-100 flex items-center justify-center mb-1",children:i.jsx(W.zap,{className:"h-6 w-6 text-amber-600"})}),i.jsx("span",{className:"text-xs",children:"zap"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center mb-1",children:i.jsx(W.gamepad,{className:"h-6 w-6 text-blue-600"})}),i.jsx("span",{className:"text-xs",children:"gamepad"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-100 flex items-center justify-center mb-1",children:i.jsx(W.tv,{className:"h-6 w-6 text-red-600"})}),i.jsx("span",{className:"text-xs",children:"tv"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-100 flex items-center justify-center mb-1",children:i.jsx(W.shoppingCart,{className:"h-6 w-6 text-red-600"})}),i.jsx("span",{className:"text-xs",children:"shoppingCart"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center mb-1",children:i.jsx(W.menu,{className:"h-6 w-6 text-gray-600"})}),i.jsx("span",{className:"text-xs",children:"menu"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center mb-1",children:i.jsx(W.arrowRight,{className:"h-6 w-6 text-blue-600"})}),i.jsx("span",{className:"text-xs",children:"arrowRight"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-yellow-100 flex items-center justify-center mb-1",children:i.jsx(W.arrowRight,{className:"h-6 w-6 rotate-180 text-yellow-600"})}),i.jsx("span",{className:"text-xs",children:"arrowLeft (rotated)"})]})]}),i.jsx("div",{className:"mt-8",children:i.jsx(V,{onClick:()=>t("/ppob"),className:"w-full",children:"Back to Dashboard"})})]})]})},Us=()=>{const t=kt(),e=na(),n=(e.pathname.split("/").pop()||"").split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ");return i.jsxs($t,{children:[i.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white shadow-sm sticky top-0 z-10",children:[i.jsx("button",{onClick:()=>t("/ppob/all"),className:"flex items-center justify-center w-10 h-10",children:i.jsx(W.arrowLeft,{className:"w-6 h-6"})}),i.jsx("h1",{className:"text-lg font-medium",children:n}),i.jsx("button",{className:"flex items-center justify-center w-10 h-10",children:i.jsx(W.bell,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex flex-col items-center justify-center p-6 mt-10",children:[i.jsx("div",{className:"w-20 h-20 flex items-center justify-center rounded-full bg-blue-100 mb-4",children:i.jsx(W.settings,{className:"w-10 h-10 text-blue-500"})}),i.jsxs("h2",{className:"text-xl font-semibold mb-2",children:["Layanan ",n]}),i.jsxs("p",{className:"text-gray-500 text-center mb-8",children:["Halaman ini sedang dalam pengembangan. Fitur ",n," akan segera tersedia."]}),i.jsx("button",{onClick:()=>t("/ppob/all"),className:"px-6 py-3 bg-primary text-white rounded-lg font-medium shadow-sm",children:"Kembali ke Layanan"})]})]})},VCe=[{id:"charcoal-fund-1",name:"JPC Arang Premium",type:"Arang Kayu Keras",riskLevel:"Sedang",returnRate:"9-12% p.a.",minAmount:1e6,manager:"JPC Asset Management",isPromoted:!0,description:"Investasi pada produksi arang kayu berkualitas tinggi untuk kuliner dan BBQ"},{id:"charcoal-fund-2",name:"JPC Arang Ekspor",type:"Arang Ekspor",riskLevel:"Sedang-Tinggi",returnRate:"10-14% p.a.",minAmount:2e6,manager:"JPC Asset Management",isPromoted:!1,description:"Fokus pada perusahaan ekspor arang kayu ke pasar internasional"},{id:"charcoal-fund-3",name:"JPC Arang Briket",type:"Briket Arang",riskLevel:"Tinggi",returnRate:"12-18% p.a.",minAmount:5e6,manager:"JPC Asset Management",isPromoted:!0,description:"Mengembangkan teknologi briket arang untuk efisiensi dan keberlanjutan"},{id:"charcoal-fund-4",name:"JPC Arang Berkelanjutan",type:"Arang Ramah Lingkungan",riskLevel:"Sedang",returnRate:"8-11% p.a.",minAmount:15e5,manager:"JPC Asset Management",isPromoted:!1,description:"Investasi pada perusahaan arang dengan praktik penanaman kembali dan keberlanjutan"}],KCe=[{id:"charcoal-bond-1",name:"Obligasi JPC Arang A",issuer:"JPC Arang Indonesia",minAmount:2e6,interestRate:8.5,period:"3 tahun",isPromoted:!0,description:"Obligasi korporasi untuk pengembangan fasilitas produksi arang kayu"},{id:"charcoal-bond-2",name:"Obligasi JPC Arang B",issuer:"JPC Arang Indonesia",minAmount:5e6,interestRate:9.25,period:"5 tahun",isPromoted:!1,description:"Pendanaan untuk modernisasi teknologi pembuatan arang berkualitas tinggi"},{id:"charcoal-bond-3",name:"Sukuk JPC Arang",issuer:"JPC Arang Syariah",minAmount:1e6,interestRate:7.5,period:"2 tahun",isPromoted:!0,description:"Instrumen keuangan syariah berbasis aset produksi arang kayu"},{id:"charcoal-bond-4",name:"Green Bond JPC Arang",issuer:"JPC Arang Indonesia",minAmount:3e6,interestRate:8,period:"4 tahun",isPromoted:!1,description:"Obligasi untuk pengembangan arang yang ramah lingkungan dan berkelanjutan"}],Wl=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),qCe=()=>{var g;const t=kt(),[e,r]=v.useState("charcoalFund"),[n,a]=v.useState(null),[s,o]=v.useState(""),[l,c]=v.useState(!1),[u,A]=v.useState(!1),d=m=>{a(m)},h=m=>{const x=m.target.value.replace(/[^0-9]/g,"");o(x)},f=()=>{c(!1),A(!0)},p=()=>{a(null),o(""),A(!1)};return i.jsxs($t,{children:[i.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white shadow-sm sticky top-0 z-10",children:[i.jsx("button",{onClick:()=>t("/ppob/all"),className:"flex items-center justify-center w-10 h-10",children:i.jsx(W.arrowLeft,{className:"w-6 h-6"})}),i.jsx("h1",{className:"text-lg font-medium",children:"Investasi"}),i.jsx("button",{className:"flex items-center justify-center w-10 h-10",children:i.jsx(W.bell,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"mb-6 bg-gradient-to-r from-amber-800 to-stone-900 rounded-xl p-4 text-white",children:[i.jsx("h2",{className:"text-xl font-bold mb-1",children:"Investasi Arang Kayu JPC"}),i.jsx("p",{className:"text-sm mb-3",children:"Dapatkan keuntungan dari industri arang kayu premium dengan produk investasi kami"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(W.flame,{className:"w-5 h-5 text-amber-500"}),i.jsx("span",{className:"text-xs font-medium",children:"Potensi imbal hasil hingga 18% per tahun"})]})]}),i.jsxs(ha,{defaultValue:"charcoalFund",className:"w-full mb-4",onValueChange:r,children:[i.jsxs(ea,{className:"grid w-full grid-cols-2",children:[i.jsx(Nt,{value:"charcoalFund",children:"Dana Arang"}),i.jsx(Nt,{value:"charcoalBond",children:"Obligasi Arang"})]}),i.jsx(Wt,{value:"charcoalFund",children:i.jsxs("div",{className:"grid gap-4 mt-4",children:[i.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Dana Arang adalah produk investasi yang berfokus pada sektor arang kayu premium dengan potensi pertumbuhan tinggi."}),i.jsx(Yc,{className:"h-[450px] pr-3",children:VCe.map(m=>i.jsxs(xe,{className:`mb-4 relative ${(n==null?void 0:n.id)===m.id?"border-2 border-primary":""}`,onClick:()=>d(m),children:[i.jsx(nt,{className:"pb-2",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx(at,{className:"text-base",children:m.name}),i.jsx(nr,{children:m.manager})]}),m.isPromoted&&i.jsx(yt,{className:"bg-amber-500",children:"Rekomendasi"})]})}),i.jsx(be,{className:"pb-2",children:i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Bunga"}),i.jsx("p",{className:"font-semibold text-green-600",children:m.returnRate})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Tingkat Risiko"}),i.jsx("p",{className:"font-semibold",children:m.riskLevel})]}),i.jsxs("div",{className:"col-span-2 mt-2",children:[i.jsx("p",{className:"text-gray-500",children:"Minimal Penempatan"}),i.jsx("p",{className:"font-semibold",children:Wl(m.minAmount)})]})]})}),i.jsx(Ga,{children:i.jsx(V,{variant:"outline",className:"w-full",onClick:x=>{x.stopPropagation(),d(m),c(!0)},children:"Pilih Dana Arang"})})]},m.id))})]})}),i.jsx(Wt,{value:"charcoalBond",children:i.jsxs("div",{className:"grid gap-4 mt-4",children:[i.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Obligasi Arang adalah obligasi yang diterbitkan oleh perusahaan arang kayu dengan imbal hasil yang menarik."}),i.jsx(Yc,{className:"h-[450px] pr-3",children:KCe.map(m=>i.jsxs(xe,{className:`mb-4 relative ${(n==null?void 0:n.id)===m.id?"border-2 border-primary":""}`,onClick:()=>d(m),children:[i.jsx(nt,{className:"pb-2",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx(at,{className:"text-base",children:m.name}),i.jsx(nr,{children:m.issuer})]}),m.isPromoted&&i.jsx(yt,{className:"bg-amber-500",children:"Rekomendasi"})]})}),i.jsx(be,{className:"pb-2",children:i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Bunga"}),i.jsxs("p",{className:"font-semibold text-green-600",children:[m.interestRate,"% p.a."]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Jangka Waktu"}),i.jsx("p",{className:"font-semibold",children:m.period})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Penerbit"}),i.jsx("p",{className:"font-semibold",children:m.issuer})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Minimal Investasi"}),i.jsx("p",{className:"font-semibold",children:Wl(m.minAmount)})]})]})}),i.jsx(Ga,{children:i.jsx(V,{variant:"outline",className:"w-full",onClick:x=>{x.stopPropagation(),d(m),c(!0)},children:"Pilih Obligasi Arang"})})]},m.id))})]})})]})]}),i.jsx(or,{open:l,onOpenChange:c,children:i.jsxs(er,{className:"max-w-md p-6",children:[i.jsxs(dr,{children:[i.jsx(hr,{className:"text-center text-xl",children:"Konfirmasi Investasi"}),i.jsxs(_n,{className:"text-center",children:[e==="deposito"?"Deposito":"Reksadana"," - ",n==null?void 0:n.name]})]}),i.jsxs("div",{className:"space-y-4 py-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"amount",children:"Jumlah Investasi"}),i.jsx(le,{id:"amount",placeholder:`Min. ${Wl((n==null?void 0:n.minAmount)||0)}`,value:s?Wl(parseInt(s)):"",onChange:h,className:"text-right"}),parseInt(s)<((n==null?void 0:n.minAmount)||0)&&s!==""&&i.jsxs("p",{className:"text-red-500 text-xs",children:["Jumlah investasi minimal ",Wl((n==null?void 0:n.minAmount)||0)]})]}),e==="charcoalFund"&&i.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Jenis"}),i.jsx("span",{className:"font-semibold",children:n==null?void 0:n.type})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Tingkat Risiko"}),i.jsx("span",{className:"font-semibold",children:n==null?void 0:n.riskLevel})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Imbal Hasil"}),i.jsx("span",{className:"font-semibold text-green-600",children:n==null?void 0:n.returnRate})]}),s&&parseInt(s)>=((n==null?void 0:n.minAmount)||0)&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Estimasi Bunga"}),i.jsx("span",{className:"font-semibold text-green-600",children:e==="charcoalFund"?n==null?void 0:n.returnRate:Wl(parseInt(s)*((n==null?void 0:n.interestRate)/100)*parseInt(((g=n==null?void 0:n.period)==null?void 0:g.split(" ")[0])||"1"))})]})]}),e==="charcoalBond"&&i.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Bunga"}),i.jsxs("span",{className:"font-semibold",children:[n==null?void 0:n.interestRate,"% p.a."]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Jangka Waktu"}),i.jsx("span",{className:"font-semibold",children:n==null?void 0:n.period})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Penerbit"}),i.jsx("span",{className:"font-semibold",children:n==null?void 0:n.issuer})]})]})]}),i.jsxs(sn,{className:"flex-col gap-2 sm:flex-col",children:[i.jsx(V,{className:"w-full",onClick:f,disabled:!s||parseInt(s)<((n==null?void 0:n.minAmount)||0),children:"Konfirmasi Investasi"}),i.jsx(V,{variant:"outline",className:"w-full",onClick:()=>c(!1),children:"Batal"})]})]})}),i.jsx(or,{open:u,onOpenChange:A,children:i.jsx(er,{className:"max-w-md p-6",children:i.jsxs("div",{className:"flex flex-col items-center text-center py-4",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center mb-4",children:i.jsx(W.check,{className:"h-8 w-8 text-green-600"})}),i.jsx(hr,{className:"text-xl mb-2",children:"Investasi Berhasil!"}),i.jsxs(_n,{children:["Investasi ",e==="charcoalFund"?"Dana Arang":"Obligasi Arang"," ",n==null?void 0:n.name," sebesar ",Wl(parseInt(s))," telah berhasil dilakukan."]}),i.jsxs("div",{className:"mt-6 w-full space-y-3",children:[i.jsx(V,{className:"w-full",onClick:()=>t("/ppob/activity"),children:"Lihat Transaksi"}),i.jsx(V,{variant:"outline",className:"w-full",onClick:p,children:"Investasi Lainnya"})]})]})})})]})};function GCe({children:t}){const{user:e,profile:r}=Ir(),{toast:n}=Ns(),a=kt(),[s,o]=v.useState(null),[l,c]=v.useState([]);return v.useEffect(()=>{(async()=>{try{if(!e||!r||r.role!=="admin"){console.log("Not an admin user, skipping notification setup");return}if(!pK()){console.log("This browser does not support notifications"),o(!1);return}try{if(Notification.permission==="granted")o(!0);else if(Notification.permission==="denied"){o(!1);return}}catch(d){console.error("Error accessing Notification API:",d),o(!1);return}const A=await eS(e.id);A?(console.log("FCM Token registered:",A),o(!0)):(console.log("Failed to get FCM token"),o(!1))}catch(A){console.error("Error setting up notifications:",A),o(!1)}})()},[e,r]),v.useEffect(()=>{if(!e||!s)return;const u=mK(Qd),A=_he(u,d=>{console.log("Foreground message received:",d);const h=d.data;h&&h.type==="order"&&(c(p=>[h,...p]),n({title:h.title||"Pesanan Baru",description:h.message||"Ada pesanan baru dari pelanggan",variant:"default",action:i.jsx("button",{onClick:()=>a(`/admin/orders/${h.orderId}`),className:"px-3 py-2 bg-flame-500 text-white rounded-md text-xs",children:"Lihat"})}),new Audio("/sounds/new_order_sound.mp3").play().catch(p=>console.log("Error playing notification sound:",p)))});return()=>A()},[e,s,n,a]),i.jsx(i.Fragment,{children:t})}function jn({children:t}){const e=na(),{user:r,profile:n,logout:a}=Ir(),s=MS("/sounds/new_order_sound.mp3"),o=MS("/sounds/new_chat_message_sound.mp3");if(v.useEffect(()=>{if(!r||!n||n.role!=="admin"&&n.role!=="manager")return;const c=J.channel("admin-new-orders").on("postgres_changes",{event:"INSERT",schema:"public",table:"orders"},u=>{console.log("New order received in AdminLayout:",u.new),s()}).subscribe((u,A)=>{u==="SUBSCRIBED"&&console.log("Subscribed to new orders in AdminLayout"),A&&console.error("Error subscribing to orders in AdminLayout:",A)});return()=>{J.removeChannel(c)}},[r,n,s]),v.useEffect(()=>{if(!r||!n||n.role!=="admin"&&n.role!=="manager")return;const c=J.channel("admin-new-chat-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},async u=>{const A=u.new;if(A.sender_type==="customer"&&A.session_id){const{data:d,error:h}=await J.from("chat_sessions").select("admin_id, customer_id").eq("id",A.session_id).single();if(h){console.error("Error fetching session for new message notification:",h);return}const f=e.pathname===`/admin/chat/${d==null?void 0:d.customer_id}`;d&&(d.admin_id===r.id||d.admin_id===null)&&!f&&(console.log("New chat message for admin received in AdminLayout:",u.new),o())}}).subscribe((u,A)=>{u==="SUBSCRIBED"&&console.log("Subscribed to new chat messages in AdminLayout"),A&&console.error("Error subscribing to messages in AdminLayout:",A)});return()=>{J.removeChannel(c)}},[r,n,o,e.pathname]),!r||!n||n.role!=="admin"&&n.role!=="manager")return i.jsx(oy,{to:"/admin-login",replace:!0});const l=[{icon:i.jsx(r6,{}),label:"Dashboard",path:"/admin"},{icon:i.jsx(qZ,{}),label:"Inventaris",path:"/admin/inventory"},{icon:i.jsx(Vi,{}),label:"Pengiriman",path:"/admin/shipping"},{icon:i.jsx(vT,{}),label:"Chat",path:"/admin/chats"},{icon:i.jsx(bT,{}),label:"Pengguna",path:"/admin/users"},{icon:i.jsx(s0,{}),label:"Pesanan",path:"/admin/orders"},{icon:i.jsx(xT,{}),label:"Voucher",path:"/admin/vouchers"},{icon:i.jsx(Zv,{}),label:"Broadcast",path:"/admin/broadcast"},{icon:i.jsx(HB,{}),label:"Analitik",path:"/admin/analytics"},{icon:i.jsx(l6,{}),label:"Pengaturan",path:"/admin/settings"},{icon:i.jsx(pT,{}),label:"PPOB",path:"/admin/ppob"}];return i.jsx(GCe,{children:i.jsxs("div",{className:"flex h-screen bg-gray-100",children:[i.jsxs("div",{className:"hidden md:flex flex-col w-64 bg-white border-r",children:[i.jsx("div",{className:"flex items-center justify-center h-16 border-b",children:i.jsx("h2",{className:"text-xl font-semibold text-flame-500",children:"Panel Admin"})}),i.jsx("div",{className:"flex flex-col flex-1 overflow-y-auto",children:i.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:l.map(c=>i.jsxs(ct,{to:c.path,className:de("flex items-center px-4 py-3 text-gray-600 hover:bg-gray-100 rounded-md",e.pathname===c.path&&"bg-flame-50 text-flame-600"),children:[i.jsx("span",{className:"mr-3",children:c.icon}),c.label]},c.path))})}),i.jsx("div",{className:"p-4 border-t",children:i.jsxs("button",{onClick:()=>a(),className:"flex w-full items-center px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-md",children:[i.jsx(gT,{className:"mr-3"}),"Keluar"]})})]}),i.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-10 bg-white border-t overflow-x-auto",children:i.jsxs("div",{className:"flex min-w-full",children:[i.jsxs("div",{className:"grid grid-cols-4 w-full",children:[i.jsxs(ct,{to:l[0].path,className:de("flex flex-col items-center py-2 px-1",e.pathname===l[0].path&&"text-flame-600"),children:[l[0].icon,i.jsx("span",{className:"text-xs mt-1",children:l[0].label})]},l[0].path),i.jsxs(ct,{to:l[1].path,className:de("flex flex-col items-center py-2 px-1",e.pathname===l[1].path&&"text-flame-600"),children:[l[1].icon,i.jsx("span",{className:"text-xs mt-1",children:l[1].label})]},l[1].path),i.jsxs(ct,{to:l[2].path,className:de("flex flex-col items-center py-2 px-1",e.pathname===l[2].path&&"text-flame-600"),children:[l[2].icon,i.jsx("span",{className:"text-xs mt-1",children:l[2].label})]},l[2].path),i.jsxs(ct,{to:l[3].path,className:de("flex flex-col items-center py-2 px-1",e.pathname===l[3].path&&"text-flame-600"),children:[l[3].icon,i.jsx("span",{className:"text-xs mt-1",children:l[3].label})]},l[3].path)]}),i.jsxs("div",{className:"grid grid-cols-4 w-full",children:[i.jsxs(ct,{to:l[4].path,className:de("flex flex-col items-center py-2 px-1",e.pathname===l[4].path&&"text-flame-600"),children:[l[4].icon,i.jsx("span",{className:"text-xs mt-1",children:l[4].label})]},l[4].path),i.jsxs(ct,{to:l[5].path,className:de("flex flex-col items-center py-2 px-1",e.pathname===l[5].path&&"text-flame-600"),children:[l[5].icon,i.jsx("span",{className:"text-xs mt-1",children:l[5].label})]},l[5].path),i.jsxs(ct,{to:l[6].path,className:de("flex flex-col items-center py-2 px-1",e.pathname===l[6].path&&"text-flame-600"),children:[l[6].icon,i.jsx("span",{className:"text-xs mt-1",children:l[6].label})]},l[6].path),i.jsxs(ct,{to:l[7].path,className:de("flex flex-col items-center py-2 px-1",e.pathname===l[7].path&&"text-flame-600"),children:[l[7].icon,i.jsx("span",{className:"text-xs mt-1",children:l[7].label})]},l[7].path)]})]})}),i.jsx("div",{className:"flex flex-col flex-1 overflow-hidden",children:i.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-100 p-4 pb-16 md:pb-4",children:t})})]})})}var Q1,S4;function ma(){if(S4)return Q1;S4=1;var t=Array.isArray;return Q1=t,Q1}var L1,N4;function vz(){if(N4)return L1;N4=1;var t=typeof gg=="object"&&gg&&gg.Object===Object&&gg;return L1=t,L1}var H1,T4;function pi(){if(T4)return H1;T4=1;var t=vz(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return H1=r,H1}var $1,k4;function Vp(){if(k4)return $1;k4=1;var t=pi(),e=t.Symbol;return $1=e,$1}var V1,I4;function zCe(){if(I4)return V1;I4=1;var t=Vp(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function s(o){var l=r.call(o,a),c=o[a];try{o[a]=void 0;var u=!0}catch{}var A=n.call(o);return u&&(l?o[a]=c:delete o[a]),A}return V1=s,V1}var K1,P4;function WCe(){if(P4)return K1;P4=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return K1=r,K1}var q1,O4;function so(){if(O4)return q1;O4=1;var t=Vp(),e=zCe(),r=WCe(),n="[object Null]",a="[object Undefined]",s=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?a:n:s&&s in Object(l)?e(l):r(l)}return q1=o,q1}var G1,F4;function io(){if(F4)return G1;F4=1;function t(e){return e!=null&&typeof e=="object"}return G1=t,G1}var z1,D4;function Kd(){if(D4)return z1;D4=1;var t=so(),e=io(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return z1=n,z1}var W1,R4;function jI(){if(R4)return W1;R4=1;var t=ma(),e=Kd(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,o){if(t(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return W1=a,W1}var X1,U4;function Fl(){if(U4)return X1;U4=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return X1=t,X1}var J1,M4;function _I(){if(M4)return J1;M4=1;var t=so(),e=Fl(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",s="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==n||c==a||c==r||c==s}return J1=o,J1}var Y1,Q4;function XCe(){if(Q4)return Y1;Q4=1;var t=pi(),e=t["__core-js_shared__"];return Y1=e,Y1}var Z1,L4;function JCe(){if(L4)return Z1;L4=1;var t=XCe(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return Z1=r,Z1}var ej,H4;function yz(){if(H4)return ej;H4=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return ej=r,ej}var tj,$4;function YCe(){if($4)return tj;$4=1;var t=_I(),e=JCe(),r=Fl(),n=yz(),a=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,A=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(h){if(!r(h)||e(h))return!1;var f=t(h)?A:s;return f.test(n(h))}return tj=d,tj}var rj,V4;function ZCe(){if(V4)return rj;V4=1;function t(e,r){return e==null?void 0:e[r]}return rj=t,rj}var nj,K4;function iu(){if(K4)return nj;K4=1;var t=YCe(),e=ZCe();function r(n,a){var s=e(n,a);return t(s)?s:void 0}return nj=r,nj}var aj,q4;function pb(){if(q4)return aj;q4=1;var t=iu(),e=t(Object,"create");return aj=e,aj}var sj,G4;function eBe(){if(G4)return sj;G4=1;var t=pb();function e(){this.__data__=t?t(null):{},this.size=0}return sj=e,sj}var ij,z4;function tBe(){if(z4)return ij;z4=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return ij=t,ij}var oj,W4;function rBe(){if(W4)return oj;W4=1;var t=pb(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(s){var o=this.__data__;if(t){var l=o[s];return l===e?void 0:l}return n.call(o,s)?o[s]:void 0}return oj=a,oj}var lj,X4;function nBe(){if(X4)return lj;X4=1;var t=pb(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var s=this.__data__;return t?s[a]!==void 0:r.call(s,a)}return lj=n,lj}var cj,J4;function aBe(){if(J4)return cj;J4=1;var t=pb(),e="__lodash_hash_undefined__";function r(n,a){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&a===void 0?e:a,this}return cj=r,cj}var uj,Y4;function sBe(){if(Y4)return uj;Y4=1;var t=eBe(),e=tBe(),r=rBe(),n=nBe(),a=aBe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,uj=s,uj}var Aj,Z4;function iBe(){if(Z4)return Aj;Z4=1;function t(){this.__data__=[],this.size=0}return Aj=t,Aj}var dj,eU;function CI(){if(eU)return dj;eU=1;function t(e,r){return e===r||e!==e&&r!==r}return dj=t,dj}var hj,tU;function gb(){if(tU)return hj;tU=1;var t=CI();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return hj=e,hj}var fj,rU;function oBe(){if(rU)return fj;rU=1;var t=gb(),e=Array.prototype,r=e.splice;function n(a){var s=this.__data__,o=t(s,a);if(o<0)return!1;var l=s.length-1;return o==l?s.pop():r.call(s,o,1),--this.size,!0}return fj=n,fj}var mj,nU;function lBe(){if(nU)return mj;nU=1;var t=gb();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return mj=e,mj}var pj,aU;function cBe(){if(aU)return pj;aU=1;var t=gb();function e(r){return t(this.__data__,r)>-1}return pj=e,pj}var gj,sU;function uBe(){if(sU)return gj;sU=1;var t=gb();function e(r,n){var a=this.__data__,s=t(a,r);return s<0?(++this.size,a.push([r,n])):a[s][1]=n,this}return gj=e,gj}var vj,iU;function vb(){if(iU)return vj;iU=1;var t=iBe(),e=oBe(),r=lBe(),n=cBe(),a=uBe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,vj=s,vj}var yj,oU;function BI(){if(oU)return yj;oU=1;var t=iu(),e=pi(),r=t(e,"Map");return yj=r,yj}var xj,lU;function ABe(){if(lU)return xj;lU=1;var t=sBe(),e=vb(),r=BI();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return xj=n,xj}var bj,cU;function dBe(){if(cU)return bj;cU=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return bj=t,bj}var wj,uU;function yb(){if(uU)return wj;uU=1;var t=dBe();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return wj=e,wj}var jj,AU;function hBe(){if(AU)return jj;AU=1;var t=yb();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return jj=e,jj}var _j,dU;function fBe(){if(dU)return _j;dU=1;var t=yb();function e(r){return t(this,r).get(r)}return _j=e,_j}var Cj,hU;function mBe(){if(hU)return Cj;hU=1;var t=yb();function e(r){return t(this,r).has(r)}return Cj=e,Cj}var Bj,fU;function pBe(){if(fU)return Bj;fU=1;var t=yb();function e(r,n){var a=t(this,r),s=a.size;return a.set(r,n),this.size+=a.size==s?0:1,this}return Bj=e,Bj}var Ej,mU;function EI(){if(mU)return Ej;mU=1;var t=ABe(),e=hBe(),r=fBe(),n=mBe(),a=pBe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,Ej=s,Ej}var Sj,pU;function xz(){if(pU)return Sj;pU=1;var t=EI(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var s=function(){var o=arguments,l=a?a.apply(this,o):o[0],c=s.cache;if(c.has(l))return c.get(l);var u=n.apply(this,o);return s.cache=c.set(l,u)||c,u};return s.cache=new(r.Cache||t),s}return r.Cache=t,Sj=r,Sj}var Nj,gU;function gBe(){if(gU)return Nj;gU=1;var t=xz(),e=500;function r(n){var a=t(n,function(o){return s.size===e&&s.clear(),o}),s=a.cache;return a}return Nj=r,Nj}var Tj,vU;function vBe(){if(vU)return Tj;vU=1;var t=gBe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var s=[];return a.charCodeAt(0)===46&&s.push(""),a.replace(e,function(o,l,c,u){s.push(c?u.replace(r,"$1"):l||o)}),s});return Tj=n,Tj}var kj,yU;function SI(){if(yU)return kj;yU=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,s=Array(a);++n<a;)s[n]=r(e[n],n,e);return s}return kj=t,kj}var Ij,xU;function yBe(){if(xU)return Ij;xU=1;var t=Vp(),e=SI(),r=ma(),n=Kd(),a=t?t.prototype:void 0,s=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return s?s.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return Ij=o,Ij}var Pj,bU;function bz(){if(bU)return Pj;bU=1;var t=yBe();function e(r){return r==null?"":t(r)}return Pj=e,Pj}var Oj,wU;function wz(){if(wU)return Oj;wU=1;var t=ma(),e=jI(),r=vBe(),n=bz();function a(s,o){return t(s)?s:e(s,o)?[s]:r(n(s))}return Oj=a,Oj}var Fj,jU;function xb(){if(jU)return Fj;jU=1;var t=Kd();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Fj=e,Fj}var Dj,_U;function NI(){if(_U)return Dj;_U=1;var t=wz(),e=xb();function r(n,a){a=t(a,n);for(var s=0,o=a.length;n!=null&&s<o;)n=n[e(a[s++])];return s&&s==o?n:void 0}return Dj=r,Dj}var Rj,CU;function jz(){if(CU)return Rj;CU=1;var t=NI();function e(r,n,a){var s=r==null?void 0:t(r,n);return s===void 0?a:s}return Rj=e,Rj}var xBe=jz();const Wa=Lt(xBe);var Uj,BU;function bBe(){if(BU)return Uj;BU=1;function t(e){return e==null}return Uj=t,Uj}var wBe=bBe();const Tt=Lt(wBe);var Mj,EU;function jBe(){if(EU)return Mj;EU=1;var t=so(),e=ma(),r=io(),n="[object String]";function a(s){return typeof s=="string"||!e(s)&&r(s)&&t(s)==n}return Mj=a,Mj}var _Be=jBe();const Kp=Lt(_Be);var CBe=_I();const Ct=Lt(CBe);var BBe=Fl();const qd=Lt(BBe);var Qj={exports:{}},qt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SU;function EBe(){if(SU)return qt;SU=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),p;p=Symbol.for("react.module.reference");function g(m){if(typeof m=="object"&&m!==null){var x=m.$$typeof;switch(x){case t:switch(m=m.type,m){case r:case a:case n:case u:case A:return m;default:switch(m=m&&m.$$typeof,m){case l:case o:case c:case h:case d:case s:return m;default:return x}}case e:return x}}}return qt.ContextConsumer=o,qt.ContextProvider=s,qt.Element=t,qt.ForwardRef=c,qt.Fragment=r,qt.Lazy=h,qt.Memo=d,qt.Portal=e,qt.Profiler=a,qt.StrictMode=n,qt.Suspense=u,qt.SuspenseList=A,qt.isAsyncMode=function(){return!1},qt.isConcurrentMode=function(){return!1},qt.isContextConsumer=function(m){return g(m)===o},qt.isContextProvider=function(m){return g(m)===s},qt.isElement=function(m){return typeof m=="object"&&m!==null&&m.$$typeof===t},qt.isForwardRef=function(m){return g(m)===c},qt.isFragment=function(m){return g(m)===r},qt.isLazy=function(m){return g(m)===h},qt.isMemo=function(m){return g(m)===d},qt.isPortal=function(m){return g(m)===e},qt.isProfiler=function(m){return g(m)===a},qt.isStrictMode=function(m){return g(m)===n},qt.isSuspense=function(m){return g(m)===u},qt.isSuspenseList=function(m){return g(m)===A},qt.isValidElementType=function(m){return typeof m=="string"||typeof m=="function"||m===r||m===a||m===n||m===u||m===A||m===f||typeof m=="object"&&m!==null&&(m.$$typeof===h||m.$$typeof===d||m.$$typeof===s||m.$$typeof===o||m.$$typeof===c||m.$$typeof===p||m.getModuleId!==void 0)},qt.typeOf=g,qt}var NU;function SBe(){return NU||(NU=1,Qj.exports=EBe()),Qj.exports}var _z=SBe(),Lj,TU;function Cz(){if(TU)return Lj;TU=1;var t=so(),e=io(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return Lj=n,Lj}var Hj,kU;function NBe(){if(kU)return Hj;kU=1;var t=Cz();function e(r){return t(r)&&r!=+r}return Hj=e,Hj}var TBe=NBe();const qp=Lt(TBe);var kBe=Cz();const IBe=Lt(kBe);var xs=function(e){return e===0?0:e>0?1:-1},gc=function(e){return Kp(e)&&e.indexOf("%")===e.length-1},Pe=function(e){return IBe(e)&&!qp(e)},zr=function(e){return Pe(e)||Kp(e)},PBe=0,Gp=function(e){var r=++PBe;return"".concat(e||"").concat(r)},Zc=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(e)&&!Kp(e))return n;var s;if(gc(e)){var o=e.indexOf("%");s=r*parseFloat(e.slice(0,o))/100}else s=+e;return qp(s)&&(s=n),a&&s>r&&(s=r),s},Ro=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},OBe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},fs=function(e,r){return Pe(e)&&Pe(r)?function(n){return e+n*(r-e)}:function(){return r}};function ix(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Wa(n,e))===r})}function mA(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function VS(t){"@babel/helpers - typeof";return VS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VS(t)}var FBe=["viewBox","children"],DBe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],IU=["points","pathLength"],$j={svg:FBe,polygon:IU,polyline:IU},TI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ox=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),!qd(n))return null;var a={};return Object.keys(n).forEach(function(s){TI.includes(s)&&(a[s]=r||function(o){return n[s](n,o)})}),a},RBe=function(e,r,n){return function(a){return e(r,n,a),null}},lx=function(e,r,n){if(!qd(e)||VS(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(s){var o=e[s];TI.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=RBe(o,r,n))}),a},UBe=["children"],MBe=["children"];function PU(t,e){if(t==null)return{};var r=QBe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QBe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function KS(t){"@babel/helpers - typeof";return KS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KS(t)}var OU={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Qi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},FU=null,Vj=null,kI=function t(e){if(e===FU&&Array.isArray(Vj))return Vj;var r=[];return v.Children.forEach(e,function(n){Tt(n)||(_z.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Vj=r,FU=e,r};function Xa(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Qi(a)}):n=[Qi(e)],kI(t).forEach(function(a){var s=Wa(a,"type.displayName")||Wa(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function _a(t,e){var r=Xa(t,e);return r&&r[0]}var DU=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!Pe(n)||n<=0||!Pe(a)||a<=0)},LBe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],HBe=function(e){return e&&e.type&&Kp(e.type)&&LBe.indexOf(e.type)>=0},$Be=function(e){return e&&KS(e)==="object"&&"clipDot"in e},VBe=function(e,r,n,a){var s,o=(s=$j==null?void 0:$j[a])!==null&&s!==void 0?s:[];return!Ct(e)&&(a&&o.includes(r)||DBe.includes(r))||n&&TI.includes(r)},Dt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(v.isValidElement(e)&&(a=e.props),!qd(a))return null;var s={};return Object.keys(a).forEach(function(o){var l;VBe((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=a[o])}),s},qS=function t(e,r){if(e===r)return!0;var n=v.Children.count(e);if(n!==v.Children.count(r))return!1;if(n===0)return!0;if(n===1)return RU(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=e[a],o=r[a];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!RU(s,o))return!1}return!0},RU=function(e,r){if(Tt(e)&&Tt(r))return!0;if(!Tt(e)&&!Tt(r)){var n=e.props||{},a=n.children,s=PU(n,UBe),o=r.props||{},l=o.children,c=PU(o,MBe);return a&&l?mA(s,c)&&qS(a,l):!a&&!l?mA(s,c):!1}return!1},UU=function(e,r){var n=[],a={};return kI(e).forEach(function(s,o){if(HBe(s))n.push(s);else if(s){var l=Qi(s.type),c=r[l]||{},u=c.handler,A=c.once;if(u&&(!A||!a[l])){var d=u(s,l,o);n.push(d),a[l]=!0}}}),n},KBe=function(e){var r=e&&e.type;return r&&OU[r]?OU[r]:null},qBe=function(e,r){return kI(r).indexOf(e)},GBe=["children","width","height","viewBox","className","style","title","desc"];function GS(){return GS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GS.apply(this,arguments)}function zBe(t,e){if(t==null)return{};var r=WBe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function WBe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zS(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,s=t.className,o=t.style,l=t.title,c=t.desc,u=zBe(t,GBe),A=a||{width:r,height:n,x:0,y:0},d=Qt("recharts-surface",s);return $.createElement("svg",GS({},Dt(u,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(A.x," ").concat(A.y," ").concat(A.width," ").concat(A.height)}),$.createElement("title",null,l),$.createElement("desc",null,c),e)}var XBe=["children","className"];function WS(){return WS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WS.apply(this,arguments)}function JBe(t,e){if(t==null)return{};var r=YBe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function YBe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Fr=$.forwardRef(function(t,e){var r=t.children,n=t.className,a=JBe(t,XBe),s=Qt("recharts-layer",n);return $.createElement("g",WS({className:s},Dt(a,!0),{ref:e}),r)}),Li=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]},Kj,MU;function ZBe(){if(MU)return Kj;MU=1;function t(e,r,n){var a=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(s);++a<s;)o[a]=e[a+r];return o}return Kj=t,Kj}var qj,QU;function eEe(){if(QU)return qj;QU=1;var t=ZBe();function e(r,n,a){var s=r.length;return a=a===void 0?s:a,!n&&a>=s?r:t(r,n,a)}return qj=e,qj}var Gj,LU;function Bz(){if(LU)return Gj;LU=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+a+s+"]");function c(u){return l.test(u)}return Gj=c,Gj}var zj,HU;function tEe(){if(HU)return zj;HU=1;function t(e){return e.split("")}return zj=t,zj}var Wj,$U;function rEe(){if($U)return Wj;$U=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,s="\\ufe0e\\ufe0f",o="["+t+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",A="[^"+t+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",f="\\u200d",p=u+"?",g="["+s+"]?",m="(?:"+f+"(?:"+[A,d,h].join("|")+")"+g+p+")*",x=g+p+m,b="(?:"+[A+l+"?",l,d,h,o].join("|")+")",_=RegExp(c+"(?="+c+")|"+b+x,"g");function w(C){return C.match(_)||[]}return Wj=w,Wj}var Xj,VU;function nEe(){if(VU)return Xj;VU=1;var t=tEe(),e=Bz(),r=rEe();function n(a){return e(a)?r(a):t(a)}return Xj=n,Xj}var Jj,KU;function aEe(){if(KU)return Jj;KU=1;var t=eEe(),e=Bz(),r=nEe(),n=bz();function a(s){return function(o){o=n(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),u=l?t(l,1).join(""):o.slice(1);return c[s]()+u}}return Jj=a,Jj}var Yj,qU;function sEe(){if(qU)return Yj;qU=1;var t=aEe(),e=t("toUpperCase");return Yj=e,Yj}var iEe=sEe();const bb=Lt(iEe);function pr(t){return function(){return t}}const Ez=Math.cos,cx=Math.sin,Ps=Math.sqrt,ux=Math.PI,wb=2*ux,XS=Math.PI,JS=2*XS,ac=1e-6,oEe=JS-ac;function Sz(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function lEe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Sz;const r=10**e;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class cEe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Sz:lEe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,s,o){this._append`C${+e},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(e,r,n,a,s){if(e=+e,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-e,u=a-r,A=o-e,d=l-r,h=A*A+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>ac)if(!(Math.abs(d*c-u*A)>ac)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let f=n-o,p=a-l,g=c*c+u*u,m=f*f+p*p,x=Math.sqrt(g),b=Math.sqrt(h),_=s*Math.tan((XS-Math.acos((g+h-m)/(2*x*b)))/2),w=_/b,C=_/x;Math.abs(w-1)>ac&&this._append`L${e+w*A},${r+w*d}`,this._append`A${s},${s},0,0,${+(d*f>A*p)},${this._x1=e+C*c},${this._y1=r+C*u}`}}arc(e,r,n,a,s,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,A=r+c,d=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${u},${A}`:(Math.abs(this._x1-u)>ac||Math.abs(this._y1-A)>ac)&&this._append`L${u},${A}`,n&&(h<0&&(h=h%JS+JS),h>oEe?this._append`A${n},${n},0,1,${d},${e-l},${r-c}A${n},${n},0,1,${d},${this._x1=u},${this._y1=A}`:h>ac&&this._append`A${n},${n},0,${+(h>=XS)},${d},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function II(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new cEe(e)}function PI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Nz(t){this._context=t}Nz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function jb(t){return new Nz(t)}function Tz(t){return t[0]}function kz(t){return t[1]}function Iz(t,e){var r=pr(!0),n=null,a=jb,s=null,o=II(l);t=typeof t=="function"?t:t===void 0?Tz:pr(t),e=typeof e=="function"?e:e===void 0?kz:pr(e);function l(c){var u,A=(c=PI(c)).length,d,h=!1,f;for(n==null&&(s=a(f=o())),u=0;u<=A;++u)!(u<A&&r(d=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(d,u,c),+e(d,u,c));if(f)return s=null,f+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:pr(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:pr(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:pr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function hv(t,e,r){var n=null,a=pr(!0),s=null,o=jb,l=null,c=II(u);t=typeof t=="function"?t:t===void 0?Tz:pr(+t),e=typeof e=="function"?e:pr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?kz:pr(+r);function u(d){var h,f,p,g=(d=PI(d)).length,m,x=!1,b,_=new Array(g),w=new Array(g);for(s==null&&(l=o(b=c())),h=0;h<=g;++h){if(!(h<g&&a(m=d[h],h,d))===x)if(x=!x)f=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=f;--p)l.point(_[p],w[p]);l.lineEnd(),l.areaEnd()}x&&(_[h]=+t(m,h,d),w[h]=+e(m,h,d),l.point(n?+n(m,h,d):_[h],r?+r(m,h,d):w[h]))}if(b)return l=null,b+""||null}function A(){return Iz().defined(a).curve(o).context(s)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:pr(+d),n=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:pr(+d),u):t},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:pr(+d),u):n},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:pr(+d),r=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:pr(+d),u):e},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:pr(+d),u):r},u.lineX0=u.lineY0=function(){return A().x(t).y(e)},u.lineY1=function(){return A().x(t).y(r)},u.lineX1=function(){return A().x(n).y(e)},u.defined=function(d){return arguments.length?(a=typeof d=="function"?d:pr(!!d),u):a},u.curve=function(d){return arguments.length?(o=d,s!=null&&(l=o(s)),u):o},u.context=function(d){return arguments.length?(d==null?s=l=null:l=o(s=d),u):s},u}class Pz{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function uEe(t){return new Pz(t,!0)}function AEe(t){return new Pz(t,!1)}const OI={draw(t,e){const r=Ps(e/ux);t.moveTo(r,0),t.arc(0,0,r,0,wb)}},dEe={draw(t,e){const r=Ps(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},Oz=Ps(1/3),hEe=Oz*2,fEe={draw(t,e){const r=Ps(e/hEe),n=r*Oz;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},mEe={draw(t,e){const r=Ps(e),n=-r/2;t.rect(n,n,r,r)}},pEe=.8908130915292852,Fz=cx(ux/10)/cx(7*ux/10),gEe=cx(wb/10)*Fz,vEe=-Ez(wb/10)*Fz,yEe={draw(t,e){const r=Ps(e*pEe),n=gEe*r,a=vEe*r;t.moveTo(0,-r),t.lineTo(n,a);for(let s=1;s<5;++s){const o=wb*s/5,l=Ez(o),c=cx(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},Zj=Ps(3),xEe={draw(t,e){const r=-Ps(e/(Zj*3));t.moveTo(0,r*2),t.lineTo(-Zj*r,-r),t.lineTo(Zj*r,-r),t.closePath()}},Fa=-.5,Da=Ps(3)/2,YS=1/Ps(12),bEe=(YS/2+1)*3,wEe={draw(t,e){const r=Ps(e/bEe),n=r/2,a=r*YS,s=n,o=r*YS+r,l=-s,c=o;t.moveTo(n,a),t.lineTo(s,o),t.lineTo(l,c),t.lineTo(Fa*n-Da*a,Da*n+Fa*a),t.lineTo(Fa*s-Da*o,Da*s+Fa*o),t.lineTo(Fa*l-Da*c,Da*l+Fa*c),t.lineTo(Fa*n+Da*a,Fa*a-Da*n),t.lineTo(Fa*s+Da*o,Fa*o-Da*s),t.lineTo(Fa*l+Da*c,Fa*c-Da*l),t.closePath()}};function jEe(t,e){let r=null,n=II(a);t=typeof t=="function"?t:pr(t||OI),e=typeof e=="function"?e:pr(e===void 0?64:+e);function a(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:pr(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:pr(+s),a):e},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Ax(){}function dx(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function Dz(t){this._context=t}Dz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:dx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:dx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _Ee(t){return new Dz(t)}function Rz(t){this._context=t}Rz.prototype={areaStart:Ax,areaEnd:Ax,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:dx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function CEe(t){return new Rz(t)}function Uz(t){this._context=t}Uz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:dx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function BEe(t){return new Uz(t)}function Mz(t){this._context=t}Mz.prototype={areaStart:Ax,areaEnd:Ax,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function EEe(t){return new Mz(t)}function GU(t){return t<0?-1:1}function zU(t,e,r){var n=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(n||a<0&&-0),o=(r-t._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(GU(s)+GU(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function WU(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function e_(t,e,r){var n=t._x0,a=t._y0,s=t._x1,o=t._y1,l=(s-n)/3;t._context.bezierCurveTo(n+l,a+l*e,s-l,o-l*r,s,o)}function hx(t){this._context=t}hx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:e_(this,this._t0,WU(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,e_(this,WU(this,r=zU(this,t,e)),r);break;default:e_(this,this._t0,r=zU(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function Qz(t){this._context=new Lz(t)}(Qz.prototype=Object.create(hx.prototype)).point=function(t,e){hx.prototype.point.call(this,e,t)};function Lz(t){this._context=t}Lz.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,s){this._context.bezierCurveTo(e,t,n,r,s,a)}};function SEe(t){return new hx(t)}function NEe(t){return new Qz(t)}function Hz(t){this._context=t}Hz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=XU(t),a=XU(e),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function XU(t){var e,r=t.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/s[e-1],s[e]-=n,o[e]-=n*o[e-1];for(a[r-1]=o[r-1]/s[r-1],e=r-2;e>=0;--e)a[e]=(o[e]-a[e+1])/s[e];for(s[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function TEe(t){return new Hz(t)}function _b(t,e){this._context=t,this._t=e}_b.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function kEe(t){return new _b(t,.5)}function IEe(t){return new _b(t,0)}function PEe(t){return new _b(t,1)}function ad(t,e){if((o=t.length)>1)for(var r=1,n,a,s=t[e[0]],o,l=s.length;r<o;++r)for(a=s,s=t[e[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function ZS(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function OEe(t,e){return t[e]}function FEe(t){const e=[];return e.key=t,e}function DEe(){var t=pr([]),e=ZS,r=ad,n=OEe;function a(s){var o=Array.from(t.apply(this,arguments),FEe),l,c=o.length,u=-1,A;for(const d of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(d,o[l].key,u,s)]).data=d;for(l=0,A=PI(e(o));l<c;++l)o[A[l]].index=l;return r(o,A),o}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:pr(Array.from(s)),a):t},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:pr(+s),a):n},a.order=function(s){return arguments.length?(e=s==null?ZS:typeof s=="function"?s:pr(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(r=s??ad,a):r},a}function REe(t,e){if((n=t.length)>0){for(var r,n,a=0,s=t[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=t[r][a][1]||0;if(o)for(r=0;r<n;++r)t[r][a][1]/=o}ad(t,e)}}function UEe(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}ad(t,e)}}function MEe(t,e){if(!(!((o=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var A=t[e[l]],d=A[n][1]||0,h=A[n-1][1]||0,f=(d-h)/2,p=0;p<l;++p){var g=t[e[p]],m=g[n][1]||0,x=g[n-1][1]||0;f+=m-x}c+=d,u+=f*d}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,ad(t,e)}}function Nm(t){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(t)}var QEe=["type","size","sizeType"];function eN(){return eN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eN.apply(this,arguments)}function JU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function YU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JU(Object(r),!0).forEach(function(n){LEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LEe(t,e,r){return e=HEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HEe(t){var e=$Ee(t,"string");return Nm(e)=="symbol"?e:e+""}function $Ee(t,e){if(Nm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VEe(t,e){if(t==null)return{};var r=KEe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function KEe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var $z={symbolCircle:OI,symbolCross:dEe,symbolDiamond:fEe,symbolSquare:mEe,symbolStar:yEe,symbolTriangle:xEe,symbolWye:wEe},qEe=Math.PI/180,GEe=function(e){var r="symbol".concat(bb(e));return $z[r]||OI},zEe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*qEe;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},WEe=function(e,r){$z["symbol".concat(bb(e))]=r},FI=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,s=a===void 0?64:a,o=e.sizeType,l=o===void 0?"area":o,c=VEe(e,QEe),u=YU(YU({},c),{},{type:n,size:s,sizeType:l}),A=function(){var m=GEe(n),x=jEe().type(m).size(zEe(s,l,n));return x()},d=u.className,h=u.cx,f=u.cy,p=Dt(u,!0);return h===+h&&f===+f&&s===+s?$.createElement("path",eN({},p,{className:Qt("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(f,")"),d:A()})):null};FI.registerSymbol=WEe;function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function tN(){return tN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tN.apply(this,arguments)}function ZU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function XEe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZU(Object(r),!0).forEach(function(n){Tm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YEe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Kz(n.key),n)}}function ZEe(t,e,r){return e&&YEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eSe(t,e,r){return e=fx(e),tSe(t,Vz()?Reflect.construct(e,r||[],fx(t).constructor):e.apply(t,r))}function tSe(t,e){if(e&&(sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rSe(t)}function rSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vz=function(){return!!t})()}function fx(t){return fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fx(t)}function nSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rN(t,e)}function rN(t,e){return rN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rN(t,e)}function Tm(t,e,r){return e=Kz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kz(t){var e=aSe(t,"string");return sd(e)=="symbol"?e:e+""}function aSe(t,e){if(sd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ra=32,DI=function(t){function e(){return JEe(this,e),eSe(this,e,arguments)}return nSe(e,t),ZEe(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=Ra/2,o=Ra/6,l=Ra/3,c=n.inactive?a:n.color;if(n.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Ra,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Ra,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return $.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ra/8,"h").concat(Ra,"v").concat(Ra*3/4,"h").concat(-Ra,"z"),className:"recharts-legend-icon"});if($.isValidElement(n.legendIcon)){var u=XEe({},n);return delete u.legendIcon,$.cloneElement(n.legendIcon,u)}return $.createElement(FI,{fill:c,cx:s,cy:s,size:Ra,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,A={x:0,y:0,width:Ra,height:Ra},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(f,p){var g=f.formatter||c,m=Qt(Tm(Tm({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",f.inactive));if(f.type==="none")return null;var x=Ct(f.value)?null:f.value;Li(!Ct(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=f.inactive?u:f.color;return $.createElement("li",tN({className:m,style:d,key:"legend-item-".concat(p)},lx(n.props,f,p)),$.createElement(zS,{width:o,height:o,viewBox:A,style:h},n.renderIcon(f)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(x,f,p):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);Tm(DI,"displayName","Legend");Tm(DI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var t_,eM;function sSe(){if(eM)return t_;eM=1;var t=vb();function e(){this.__data__=new t,this.size=0}return t_=e,t_}var r_,tM;function iSe(){if(tM)return r_;tM=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return r_=t,r_}var n_,rM;function oSe(){if(rM)return n_;rM=1;function t(e){return this.__data__.get(e)}return n_=t,n_}var a_,nM;function lSe(){if(nM)return a_;nM=1;function t(e){return this.__data__.has(e)}return a_=t,a_}var s_,aM;function cSe(){if(aM)return s_;aM=1;var t=vb(),e=BI(),r=EI(),n=200;function a(s,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([s,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(s,o),this.size=l.size,this}return s_=a,s_}var i_,sM;function qz(){if(sM)return i_;sM=1;var t=vb(),e=sSe(),r=iSe(),n=oSe(),a=lSe(),s=cSe();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=s,i_=o,i_}var o_,iM;function uSe(){if(iM)return o_;iM=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return o_=e,o_}var l_,oM;function ASe(){if(oM)return l_;oM=1;function t(e){return this.__data__.has(e)}return l_=t,l_}var c_,lM;function Gz(){if(lM)return c_;lM=1;var t=EI(),e=uSe(),r=ASe();function n(a){var s=-1,o=a==null?0:a.length;for(this.__data__=new t;++s<o;)this.add(a[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,c_=n,c_}var u_,cM;function zz(){if(cM)return u_;cM=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return u_=t,u_}var A_,uM;function Wz(){if(uM)return A_;uM=1;function t(e,r){return e.has(r)}return A_=t,A_}var d_,AM;function Xz(){if(AM)return d_;AM=1;var t=Gz(),e=zz(),r=Wz(),n=1,a=2;function s(o,l,c,u,A,d){var h=c&n,f=o.length,p=l.length;if(f!=p&&!(h&&p>f))return!1;var g=d.get(o),m=d.get(l);if(g&&m)return g==l&&m==o;var x=-1,b=!0,_=c&a?new t:void 0;for(d.set(o,l),d.set(l,o);++x<f;){var w=o[x],C=l[x];if(u)var E=h?u(C,w,x,l,o,d):u(w,C,x,o,l,d);if(E!==void 0){if(E)continue;b=!1;break}if(_){if(!e(l,function(j,B){if(!r(_,B)&&(w===j||A(w,j,c,u,d)))return _.push(B)})){b=!1;break}}else if(!(w===C||A(w,C,c,u,d))){b=!1;break}}return d.delete(o),d.delete(l),b}return d_=s,d_}var h_,dM;function dSe(){if(dM)return h_;dM=1;var t=pi(),e=t.Uint8Array;return h_=e,h_}var f_,hM;function hSe(){if(hM)return f_;hM=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,s){n[++r]=[s,a]}),n}return f_=t,f_}var m_,fM;function RI(){if(fM)return m_;fM=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return m_=t,m_}var p_,mM;function fSe(){if(mM)return p_;mM=1;var t=Vp(),e=dSe(),r=CI(),n=Xz(),a=hSe(),s=RI(),o=1,l=2,c="[object Boolean]",u="[object Date]",A="[object Error]",d="[object Map]",h="[object Number]",f="[object RegExp]",p="[object Set]",g="[object String]",m="[object Symbol]",x="[object ArrayBuffer]",b="[object DataView]",_=t?t.prototype:void 0,w=_?_.valueOf:void 0;function C(E,j,B,S,N,I,P){switch(B){case b:if(E.byteLength!=j.byteLength||E.byteOffset!=j.byteOffset)return!1;E=E.buffer,j=j.buffer;case x:return!(E.byteLength!=j.byteLength||!I(new e(E),new e(j)));case c:case u:case h:return r(+E,+j);case A:return E.name==j.name&&E.message==j.message;case f:case g:return E==j+"";case d:var T=a;case p:var U=S&o;if(T||(T=s),E.size!=j.size&&!U)return!1;var M=P.get(E);if(M)return M==j;S|=l,P.set(E,j);var R=n(T(E),T(j),S,N,I,P);return P.delete(E),R;case m:if(w)return w.call(E)==w.call(j)}return!1}return p_=C,p_}var g_,pM;function Jz(){if(pM)return g_;pM=1;function t(e,r){for(var n=-1,a=r.length,s=e.length;++n<a;)e[s+n]=r[n];return e}return g_=t,g_}var v_,gM;function mSe(){if(gM)return v_;gM=1;var t=Jz(),e=ma();function r(n,a,s){var o=a(n);return e(n)?o:t(o,s(n))}return v_=r,v_}var y_,vM;function pSe(){if(vM)return y_;vM=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,s=0,o=[];++n<a;){var l=e[n];r(l,n,e)&&(o[s++]=l)}return o}return y_=t,y_}var x_,yM;function gSe(){if(yM)return x_;yM=1;function t(){return[]}return x_=t,x_}var b_,xM;function vSe(){if(xM)return b_;xM=1;var t=pSe(),e=gSe(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(o){return o==null?[]:(o=Object(o),t(a(o),function(l){return n.call(o,l)}))}:e;return b_=s,b_}var w_,bM;function ySe(){if(bM)return w_;bM=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return w_=t,w_}var j_,wM;function xSe(){if(wM)return j_;wM=1;var t=so(),e=io(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return j_=n,j_}var __,jM;function UI(){if(jM)return __;jM=1;var t=xSe(),e=io(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(o){return e(o)&&n.call(o,"callee")&&!a.call(o,"callee")};return __=s,__}var of={exports:{}},C_,_M;function bSe(){if(_M)return C_;_M=1;function t(){return!1}return C_=t,C_}of.exports;var CM;function Yz(){return CM||(CM=1,function(t,e){var r=pi(),n=bSe(),a=e&&!e.nodeType&&e,s=a&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u}(of,of.exports)),of.exports}var B_,BM;function MI(){if(BM)return B_;BM=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var s=typeof n;return a=a??t,!!a&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return B_=r,B_}var E_,EM;function QI(){if(EM)return E_;EM=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return E_=e,E_}var S_,SM;function wSe(){if(SM)return S_;SM=1;var t=so(),e=QI(),r=io(),n="[object Arguments]",a="[object Array]",s="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",A="[object Number]",d="[object Object]",h="[object RegExp]",f="[object Set]",p="[object String]",g="[object WeakMap]",m="[object ArrayBuffer]",x="[object DataView]",b="[object Float32Array]",_="[object Float64Array]",w="[object Int8Array]",C="[object Int16Array]",E="[object Int32Array]",j="[object Uint8Array]",B="[object Uint8ClampedArray]",S="[object Uint16Array]",N="[object Uint32Array]",I={};I[b]=I[_]=I[w]=I[C]=I[E]=I[j]=I[B]=I[S]=I[N]=!0,I[n]=I[a]=I[m]=I[s]=I[x]=I[o]=I[l]=I[c]=I[u]=I[A]=I[d]=I[h]=I[f]=I[p]=I[g]=!1;function P(T){return r(T)&&e(T.length)&&!!I[t(T)]}return S_=P,S_}var N_,NM;function Zz(){if(NM)return N_;NM=1;function t(e){return function(r){return e(r)}}return N_=t,N_}var lf={exports:{}};lf.exports;var TM;function jSe(){return TM||(TM=1,function(t,e){var r=vz(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===n,o=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l}(lf,lf.exports)),lf.exports}var T_,kM;function eW(){if(kM)return T_;kM=1;var t=wSe(),e=Zz(),r=jSe(),n=r&&r.isTypedArray,a=n?e(n):t;return T_=a,T_}var k_,IM;function _Se(){if(IM)return k_;IM=1;var t=ySe(),e=UI(),r=ma(),n=Yz(),a=MI(),s=eW(),o=Object.prototype,l=o.hasOwnProperty;function c(u,A){var d=r(u),h=!d&&e(u),f=!d&&!h&&n(u),p=!d&&!h&&!f&&s(u),g=d||h||f||p,m=g?t(u.length,String):[],x=m.length;for(var b in u)(A||l.call(u,b))&&!(g&&(b=="length"||f&&(b=="offset"||b=="parent")||p&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||a(b,x)))&&m.push(b);return m}return k_=c,k_}var I_,PM;function CSe(){if(PM)return I_;PM=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return I_=e,I_}var P_,OM;function tW(){if(OM)return P_;OM=1;function t(e,r){return function(n){return e(r(n))}}return P_=t,P_}var O_,FM;function BSe(){if(FM)return O_;FM=1;var t=tW(),e=t(Object.keys,Object);return O_=e,O_}var F_,DM;function ESe(){if(DM)return F_;DM=1;var t=CSe(),e=BSe(),r=Object.prototype,n=r.hasOwnProperty;function a(s){if(!t(s))return e(s);var o=[];for(var l in Object(s))n.call(s,l)&&l!="constructor"&&o.push(l);return o}return F_=a,F_}var D_,RM;function zp(){if(RM)return D_;RM=1;var t=_I(),e=QI();function r(n){return n!=null&&e(n.length)&&!t(n)}return D_=r,D_}var R_,UM;function Cb(){if(UM)return R_;UM=1;var t=_Se(),e=ESe(),r=zp();function n(a){return r(a)?t(a):e(a)}return R_=n,R_}var U_,MM;function SSe(){if(MM)return U_;MM=1;var t=mSe(),e=vSe(),r=Cb();function n(a){return t(a,r,e)}return U_=n,U_}var M_,QM;function NSe(){if(QM)return M_;QM=1;var t=SSe(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(s,o,l,c,u,A){var d=l&e,h=t(s),f=h.length,p=t(o),g=p.length;if(f!=g&&!d)return!1;for(var m=f;m--;){var x=h[m];if(!(d?x in o:n.call(o,x)))return!1}var b=A.get(s),_=A.get(o);if(b&&_)return b==o&&_==s;var w=!0;A.set(s,o),A.set(o,s);for(var C=d;++m<f;){x=h[m];var E=s[x],j=o[x];if(c)var B=d?c(j,E,x,o,s,A):c(E,j,x,s,o,A);if(!(B===void 0?E===j||u(E,j,l,c,A):B)){w=!1;break}C||(C=x=="constructor")}if(w&&!C){var S=s.constructor,N=o.constructor;S!=N&&"constructor"in s&&"constructor"in o&&!(typeof S=="function"&&S instanceof S&&typeof N=="function"&&N instanceof N)&&(w=!1)}return A.delete(s),A.delete(o),w}return M_=a,M_}var Q_,LM;function TSe(){if(LM)return Q_;LM=1;var t=iu(),e=pi(),r=t(e,"DataView");return Q_=r,Q_}var L_,HM;function kSe(){if(HM)return L_;HM=1;var t=iu(),e=pi(),r=t(e,"Promise");return L_=r,L_}var H_,$M;function rW(){if($M)return H_;$M=1;var t=iu(),e=pi(),r=t(e,"Set");return H_=r,H_}var $_,VM;function ISe(){if(VM)return $_;VM=1;var t=iu(),e=pi(),r=t(e,"WeakMap");return $_=r,$_}var V_,KM;function PSe(){if(KM)return V_;KM=1;var t=TSe(),e=BI(),r=kSe(),n=rW(),a=ISe(),s=so(),o=yz(),l="[object Map]",c="[object Object]",u="[object Promise]",A="[object Set]",d="[object WeakMap]",h="[object DataView]",f=o(t),p=o(e),g=o(r),m=o(n),x=o(a),b=s;return(t&&b(new t(new ArrayBuffer(1)))!=h||e&&b(new e)!=l||r&&b(r.resolve())!=u||n&&b(new n)!=A||a&&b(new a)!=d)&&(b=function(_){var w=s(_),C=w==c?_.constructor:void 0,E=C?o(C):"";if(E)switch(E){case f:return h;case p:return l;case g:return u;case m:return A;case x:return d}return w}),V_=b,V_}var K_,qM;function OSe(){if(qM)return K_;qM=1;var t=qz(),e=Xz(),r=fSe(),n=NSe(),a=PSe(),s=ma(),o=Yz(),l=eW(),c=1,u="[object Arguments]",A="[object Array]",d="[object Object]",h=Object.prototype,f=h.hasOwnProperty;function p(g,m,x,b,_,w){var C=s(g),E=s(m),j=C?A:a(g),B=E?A:a(m);j=j==u?d:j,B=B==u?d:B;var S=j==d,N=B==d,I=j==B;if(I&&o(g)){if(!o(m))return!1;C=!0,S=!1}if(I&&!S)return w||(w=new t),C||l(g)?e(g,m,x,b,_,w):r(g,m,j,x,b,_,w);if(!(x&c)){var P=S&&f.call(g,"__wrapped__"),T=N&&f.call(m,"__wrapped__");if(P||T){var U=P?g.value():g,M=T?m.value():m;return w||(w=new t),_(U,M,x,b,w)}}return I?(w||(w=new t),n(g,m,x,b,_,w)):!1}return K_=p,K_}var q_,GM;function LI(){if(GM)return q_;GM=1;var t=OSe(),e=io();function r(n,a,s,o,l){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,s,o,r,l)}return q_=r,q_}var G_,zM;function FSe(){if(zM)return G_;zM=1;var t=qz(),e=LI(),r=1,n=2;function a(s,o,l,c){var u=l.length,A=u,d=!c;if(s==null)return!A;for(s=Object(s);u--;){var h=l[u];if(d&&h[2]?h[1]!==s[h[0]]:!(h[0]in s))return!1}for(;++u<A;){h=l[u];var f=h[0],p=s[f],g=h[1];if(d&&h[2]){if(p===void 0&&!(f in s))return!1}else{var m=new t;if(c)var x=c(p,g,f,s,o,m);if(!(x===void 0?e(g,p,r|n,c,m):x))return!1}}return!0}return G_=a,G_}var z_,WM;function nW(){if(WM)return z_;WM=1;var t=Fl();function e(r){return r===r&&!t(r)}return z_=e,z_}var W_,XM;function DSe(){if(XM)return W_;XM=1;var t=nW(),e=Cb();function r(n){for(var a=e(n),s=a.length;s--;){var o=a[s],l=n[o];a[s]=[o,l,t(l)]}return a}return W_=r,W_}var X_,JM;function aW(){if(JM)return X_;JM=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return X_=t,X_}var J_,YM;function RSe(){if(YM)return J_;YM=1;var t=FSe(),e=DSe(),r=aW();function n(a){var s=e(a);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===a||t(o,a,s)}}return J_=n,J_}var Y_,ZM;function USe(){if(ZM)return Y_;ZM=1;function t(e,r){return e!=null&&r in Object(e)}return Y_=t,Y_}var Z_,eQ;function MSe(){if(eQ)return Z_;eQ=1;var t=wz(),e=UI(),r=ma(),n=MI(),a=QI(),s=xb();function o(l,c,u){c=t(c,l);for(var A=-1,d=c.length,h=!1;++A<d;){var f=s(c[A]);if(!(h=l!=null&&u(l,f)))break;l=l[f]}return h||++A!=d?h:(d=l==null?0:l.length,!!d&&a(d)&&n(f,d)&&(r(l)||e(l)))}return Z_=o,Z_}var eC,tQ;function QSe(){if(tQ)return eC;tQ=1;var t=USe(),e=MSe();function r(n,a){return n!=null&&e(n,a,t)}return eC=r,eC}var tC,rQ;function LSe(){if(rQ)return tC;rQ=1;var t=LI(),e=jz(),r=QSe(),n=jI(),a=nW(),s=aW(),o=xb(),l=1,c=2;function u(A,d){return n(A)&&a(d)?s(o(A),d):function(h){var f=e(h,A);return f===void 0&&f===d?r(h,A):t(d,f,l|c)}}return tC=u,tC}var rC,nQ;function Gd(){if(nQ)return rC;nQ=1;function t(e){return e}return rC=t,rC}var nC,aQ;function HSe(){if(aQ)return nC;aQ=1;function t(e){return function(r){return r==null?void 0:r[e]}}return nC=t,nC}var aC,sQ;function $Se(){if(sQ)return aC;sQ=1;var t=NI();function e(r){return function(n){return t(n,r)}}return aC=e,aC}var sC,iQ;function VSe(){if(iQ)return sC;iQ=1;var t=HSe(),e=$Se(),r=jI(),n=xb();function a(s){return r(s)?t(n(s)):e(s)}return sC=a,sC}var iC,oQ;function Dl(){if(oQ)return iC;oQ=1;var t=RSe(),e=LSe(),r=Gd(),n=ma(),a=VSe();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):a(o)}return iC=s,iC}var oC,lQ;function sW(){if(lQ)return oC;lQ=1;function t(e,r,n,a){for(var s=e.length,o=n+(a?1:-1);a?o--:++o<s;)if(r(e[o],o,e))return o;return-1}return oC=t,oC}var lC,cQ;function KSe(){if(cQ)return lC;cQ=1;function t(e){return e!==e}return lC=t,lC}var cC,uQ;function qSe(){if(uQ)return cC;uQ=1;function t(e,r,n){for(var a=n-1,s=e.length;++a<s;)if(e[a]===r)return a;return-1}return cC=t,cC}var uC,AQ;function GSe(){if(AQ)return uC;AQ=1;var t=sW(),e=KSe(),r=qSe();function n(a,s,o){return s===s?r(a,s,o):t(a,e,o)}return uC=n,uC}var AC,dQ;function zSe(){if(dQ)return AC;dQ=1;var t=GSe();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return AC=e,AC}var dC,hQ;function WSe(){if(hQ)return dC;hQ=1;function t(e,r,n){for(var a=-1,s=e==null?0:e.length;++a<s;)if(n(r,e[a]))return!0;return!1}return dC=t,dC}var hC,fQ;function XSe(){if(fQ)return hC;fQ=1;function t(){}return hC=t,hC}var fC,mQ;function JSe(){if(mQ)return fC;mQ=1;var t=rW(),e=XSe(),r=RI(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(s){return new t(s)}:e;return fC=a,fC}var mC,pQ;function YSe(){if(pQ)return mC;pQ=1;var t=Gz(),e=zSe(),r=WSe(),n=Wz(),a=JSe(),s=RI(),o=200;function l(c,u,A){var d=-1,h=e,f=c.length,p=!0,g=[],m=g;if(A)p=!1,h=r;else if(f>=o){var x=u?null:a(c);if(x)return s(x);p=!1,h=n,m=new t}else m=u?[]:g;e:for(;++d<f;){var b=c[d],_=u?u(b):b;if(b=A||b!==0?b:0,p&&_===_){for(var w=m.length;w--;)if(m[w]===_)continue e;u&&m.push(_),g.push(b)}else h(m,_,A)||(m!==g&&m.push(_),g.push(b))}return g}return mC=l,mC}var pC,gQ;function ZSe(){if(gQ)return pC;gQ=1;var t=Dl(),e=YSe();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return pC=r,pC}var eNe=ZSe();const vQ=Lt(eNe);function iW(t,e,r){return e===!0?vQ(t,r):Ct(e)?vQ(t,e):t}function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}var tNe=["ref"];function yQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Bi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yQ(Object(r),!0).forEach(function(n){Bb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lW(n.key),n)}}function nNe(t,e,r){return e&&xQ(t.prototype,e),r&&xQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function aNe(t,e,r){return e=mx(e),sNe(t,oW()?Reflect.construct(e,r||[],mx(t).constructor):e.apply(t,r))}function sNe(t,e){if(e&&(id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iNe(t)}function iNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oW=function(){return!!t})()}function mx(t){return mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mx(t)}function oNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nN(t,e)}function nN(t,e){return nN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nN(t,e)}function Bb(t,e,r){return e=lW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lW(t){var e=lNe(t,"string");return id(e)=="symbol"?e:e+""}function lNe(t,e){if(id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function cNe(t,e){if(t==null)return{};var r=uNe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ANe(t){return t.value}function dNe(t,e){if($.isValidElement(t))return $.cloneElement(t,e);if(typeof t=="function")return $.createElement(t,e);e.ref;var r=cNe(e,tNe);return $.createElement(DI,r)}var bQ=1,pA=function(t){function e(){var r;rNe(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=aNe(this,e,[].concat(a)),Bb(r,"lastBoundingBox",{width:-1,height:-1}),r}return oNe(e,t),nNe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>bQ||Math.abs(a.height-this.lastBoundingBox.height)>bQ)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Bi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,A=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var f=this.getBBoxSnapshot();d={left:((u||0)-f.width)/2}}else d=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var p=this.getBBoxSnapshot();h={top:((A||0)-p.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Bi(Bi({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,A=a.payload,d=Bi(Bi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return $.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(f){n.wrapperNode=f}},dNe(s,Bi(Bi({},this.props),{},{payload:iW(A,u,ANe)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Bi(Bi({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&Pe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(v.PureComponent);Bb(pA,"displayName","Legend");Bb(pA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var gC,wQ;function hNe(){if(wQ)return gC;wQ=1;var t=Vp(),e=UI(),r=ma(),n=t?t.isConcatSpreadable:void 0;function a(s){return r(s)||e(s)||!!(n&&s&&s[n])}return gC=a,gC}var vC,jQ;function cW(){if(jQ)return vC;jQ=1;var t=Jz(),e=hNe();function r(n,a,s,o,l){var c=-1,u=n.length;for(s||(s=e),l||(l=[]);++c<u;){var A=n[c];a>0&&s(A)?a>1?r(A,a-1,s,o,l):t(l,A):o||(l[l.length]=A)}return l}return vC=r,vC}var yC,_Q;function fNe(){if(_Q)return yC;_Q=1;function t(e){return function(r,n,a){for(var s=-1,o=Object(r),l=a(r),c=l.length;c--;){var u=l[e?c:++s];if(n(o[u],u,o)===!1)break}return r}}return yC=t,yC}var xC,CQ;function mNe(){if(CQ)return xC;CQ=1;var t=fNe(),e=t();return xC=e,xC}var bC,BQ;function uW(){if(BQ)return bC;BQ=1;var t=mNe(),e=Cb();function r(n,a){return n&&t(n,a,e)}return bC=r,bC}var wC,EQ;function pNe(){if(EQ)return wC;EQ=1;var t=zp();function e(r,n){return function(a,s){if(a==null)return a;if(!t(a))return r(a,s);for(var o=a.length,l=n?o:-1,c=Object(a);(n?l--:++l<o)&&s(c[l],l,c)!==!1;);return a}}return wC=e,wC}var jC,SQ;function HI(){if(SQ)return jC;SQ=1;var t=uW(),e=pNe(),r=e(t);return jC=r,jC}var _C,NQ;function AW(){if(NQ)return _C;NQ=1;var t=HI(),e=zp();function r(n,a){var s=-1,o=e(n)?Array(n.length):[];return t(n,function(l,c,u){o[++s]=a(l,c,u)}),o}return _C=r,_C}var CC,TQ;function gNe(){if(TQ)return CC;TQ=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return CC=t,CC}var BC,kQ;function vNe(){if(kQ)return BC;kQ=1;var t=Kd();function e(r,n){if(r!==n){var a=r!==void 0,s=r===null,o=r===r,l=t(r),c=n!==void 0,u=n===null,A=n===n,d=t(n);if(!u&&!d&&!l&&r>n||l&&c&&A&&!u&&!d||s&&c&&A||!a&&A||!o)return 1;if(!s&&!l&&!d&&r<n||d&&a&&o&&!s&&!l||u&&a&&o||!c&&o||!A)return-1}return 0}return BC=e,BC}var EC,IQ;function yNe(){if(IQ)return EC;IQ=1;var t=vNe();function e(r,n,a){for(var s=-1,o=r.criteria,l=n.criteria,c=o.length,u=a.length;++s<c;){var A=t(o[s],l[s]);if(A){if(s>=u)return A;var d=a[s];return A*(d=="desc"?-1:1)}}return r.index-n.index}return EC=e,EC}var SC,PQ;function xNe(){if(PQ)return SC;PQ=1;var t=SI(),e=NI(),r=Dl(),n=AW(),a=gNe(),s=Zz(),o=yNe(),l=Gd(),c=ma();function u(A,d,h){d.length?d=t(d,function(g){return c(g)?function(m){return e(m,g.length===1?g[0]:g)}:g}):d=[l];var f=-1;d=t(d,s(r));var p=n(A,function(g,m,x){var b=t(d,function(_){return _(g)});return{criteria:b,index:++f,value:g}});return a(p,function(g,m){return o(g,m,h)})}return SC=u,SC}var NC,OQ;function bNe(){if(OQ)return NC;OQ=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return NC=t,NC}var TC,FQ;function wNe(){if(FQ)return TC;FQ=1;var t=bNe(),e=Math.max;function r(n,a,s){return a=e(a===void 0?n.length-1:a,0),function(){for(var o=arguments,l=-1,c=e(o.length-a,0),u=Array(c);++l<c;)u[l]=o[a+l];l=-1;for(var A=Array(a+1);++l<a;)A[l]=o[l];return A[a]=s(u),t(n,this,A)}}return TC=r,TC}var kC,DQ;function jNe(){if(DQ)return kC;DQ=1;function t(e){return function(){return e}}return kC=t,kC}var IC,RQ;function dW(){if(RQ)return IC;RQ=1;var t=iu(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return IC=e,IC}var PC,UQ;function _Ne(){if(UQ)return PC;UQ=1;var t=jNe(),e=dW(),r=Gd(),n=e?function(a,s){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:r;return PC=n,PC}var OC,MQ;function CNe(){if(MQ)return OC;MQ=1;var t=800,e=16,r=Date.now;function n(a){var s=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++s>=t)return arguments[0]}else s=0;return a.apply(void 0,arguments)}}return OC=n,OC}var FC,QQ;function BNe(){if(QQ)return FC;QQ=1;var t=_Ne(),e=CNe(),r=e(t);return FC=r,FC}var DC,LQ;function ENe(){if(LQ)return DC;LQ=1;var t=Gd(),e=wNe(),r=BNe();function n(a,s){return r(e(a,s,t),a+"")}return DC=n,DC}var RC,HQ;function Eb(){if(HQ)return RC;HQ=1;var t=CI(),e=zp(),r=MI(),n=Fl();function a(s,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],s):!1}return RC=a,RC}var UC,$Q;function SNe(){if($Q)return UC;$Q=1;var t=cW(),e=xNe(),r=ENe(),n=Eb(),a=r(function(s,o){if(s==null)return[];var l=o.length;return l>1&&n(s,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return UC=a,UC}var NNe=SNe();const $I=Lt(NNe);function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}function aN(){return aN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aN.apply(this,arguments)}function TNe(t,e){return ONe(t)||PNe(t,e)||INe(t,e)||kNe()}function kNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function INe(t,e){if(t){if(typeof t=="string")return VQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VQ(t,e)}}function VQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PNe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ONe(t){if(Array.isArray(t))return t}function KQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function MC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KQ(Object(r),!0).forEach(function(n){FNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FNe(t,e,r){return e=DNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DNe(t){var e=RNe(t,"string");return km(e)=="symbol"?e:e+""}function RNe(t,e){if(km(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UNe(t){return Array.isArray(t)&&zr(t[0])&&zr(t[1])?t.join(" ~ "):t}var MNe=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,s=a===void 0?{}:a,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,A=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,p=e.labelClassName,g=e.label,m=e.labelFormatter,x=e.accessibilityLayer,b=x===void 0?!1:x,_=function(){if(A&&A.length){var P={padding:0,margin:0},T=(h?$I(A,h):A).map(function(U,M){if(U.type==="none")return null;var R=MC({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},l),F=U.formatter||d||UNe,D=U.value,Q=U.name,H=D,G=Q;if(F&&H!=null&&G!=null){var X=F(D,Q,U,M,A);if(Array.isArray(X)){var te=TNe(X,2);H=te[0],G=te[1]}else H=X}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:R},zr(G)?$.createElement("span",{className:"recharts-tooltip-item-name"},G):null,zr(G)?$.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,$.createElement("span",{className:"recharts-tooltip-item-value"},H),$.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:P},T)}return null},w=MC({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),C=MC({margin:0},u),E=!Tt(g),j=E?g:"",B=Qt("recharts-default-tooltip",f),S=Qt("recharts-tooltip-label",p);E&&m&&A!==void 0&&A!==null&&(j=m(g,A));var N=b?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",aN({className:B,style:w},N),$.createElement("p",{className:S,style:C},$.isValidElement(j)?j:"".concat(j)),_())};function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}function fv(t,e,r){return e=QNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QNe(t){var e=LNe(t,"string");return Im(e)=="symbol"?e:e+""}function LNe(t,e){if(Im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dh="recharts-tooltip-wrapper",HNe={visibility:"hidden"};function $Ne(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Qt(Dh,fv(fv(fv(fv({},"".concat(Dh,"-right"),Pe(r)&&e&&Pe(e.x)&&r>=e.x),"".concat(Dh,"-left"),Pe(r)&&e&&Pe(e.x)&&r<e.x),"".concat(Dh,"-bottom"),Pe(n)&&e&&Pe(e.y)&&n>=e.y),"".concat(Dh,"-top"),Pe(n)&&e&&Pe(e.y)&&n<e.y))}function qQ(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,s=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&Pe(s[n]))return s[n];var A=r[n]-l-a,d=r[n]+a;if(e[n])return o[n]?A:d;if(o[n]){var h=A,f=c[n];return h<f?Math.max(d,c[n]):Math.max(A,c[n])}var p=d+l,g=c[n]+u;return p>g?Math.max(A,c[n]):Math.max(d,c[n])}function VNe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function KNe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,A,d;return o.height>0&&o.width>0&&r?(A=qQ({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),d=qQ({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=VNe({translateX:A,translateY:d,useTranslate3d:l})):u=HNe,{cssProperties:u,cssClasses:$Ne({translateX:A,translateY:d,coordinate:r})}}function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function GQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GQ(Object(r),!0).forEach(function(n){iN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GNe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fW(n.key),n)}}function zNe(t,e,r){return e&&GNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WNe(t,e,r){return e=px(e),XNe(t,hW()?Reflect.construct(e,r||[],px(t).constructor):e.apply(t,r))}function XNe(t,e){if(e&&(od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JNe(t)}function JNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hW=function(){return!!t})()}function px(t){return px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},px(t)}function YNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sN(t,e)}function sN(t,e){return sN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sN(t,e)}function iN(t,e,r){return e=fW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fW(t){var e=ZNe(t,"string");return od(e)=="symbol"?e:e+""}function ZNe(t,e){if(od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var WQ=1,eTe=function(t){function e(){var r;qNe(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=WNe(this,e,[].concat(a)),iN(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),iN(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,A;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(A=r.props.coordinate)===null||A===void 0?void 0:A.y)!==null&&u!==void 0?u:0}})}}),r}return YNe(e,t),zNe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>WQ||Math.abs(n.height-this.state.lastBoundingBox.height)>WQ)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,A=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,f=a.offset,p=a.position,g=a.reverseDirection,m=a.useTranslate3d,x=a.viewBox,b=a.wrapperStyle,_=KNe({allowEscapeViewBox:o,coordinate:A,offsetTopLeft:f,position:p,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:m,viewBox:x}),w=_.cssClasses,C=_.cssProperties,E=zQ(zQ({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return $.createElement("div",{tabIndex:-1,className:w,style:E,ref:function(B){n.wrapperNode=B}},u)}}])}(v.PureComponent),tTe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},zd={isSsr:tTe()};function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function XQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function JQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XQ(Object(r),!0).forEach(function(n){VI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pW(n.key),n)}}function aTe(t,e,r){return e&&nTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sTe(t,e,r){return e=gx(e),iTe(t,mW()?Reflect.construct(e,r||[],gx(t).constructor):e.apply(t,r))}function iTe(t,e){if(e&&(ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oTe(t)}function oTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mW=function(){return!!t})()}function gx(t){return gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gx(t)}function lTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oN(t,e)}function oN(t,e){return oN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oN(t,e)}function VI(t,e,r){return e=pW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pW(t){var e=cTe(t,"string");return ld(e)=="symbol"?e:e+""}function cTe(t,e){if(ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function uTe(t){return t.dataKey}function ATe(t,e){return $.isValidElement(t)?$.cloneElement(t,e):typeof t=="function"?$.createElement(t,e):$.createElement(MNe,e)}var us=function(t){function e(){return rTe(this,e),sTe(this,e,arguments)}return lTe(e,t),aTe(e,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,A=a.coordinate,d=a.filterNull,h=a.isAnimationActive,f=a.offset,p=a.payload,g=a.payloadUniqBy,m=a.position,x=a.reverseDirection,b=a.useTranslate3d,_=a.viewBox,w=a.wrapperStyle,C=p??[];d&&C.length&&(C=iW(p.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),g,uTe));var E=C.length>0;return $.createElement(eTe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:A,hasPayload:E,offset:f,position:m,reverseDirection:x,useTranslate3d:b,viewBox:_,wrapperStyle:w},ATe(u,JQ(JQ({},this.props),{},{payload:C})))}}])}(v.PureComponent);VI(us,"displayName","Tooltip");VI(us,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!zd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var QC,YQ;function dTe(){if(YQ)return QC;YQ=1;var t=pi(),e=function(){return t.Date.now()};return QC=e,QC}var LC,ZQ;function hTe(){if(ZQ)return LC;ZQ=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return LC=e,LC}var HC,eL;function fTe(){if(eL)return HC;eL=1;var t=hTe(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return HC=r,HC}var $C,tL;function gW(){if(tL)return $C;tL=1;var t=fTe(),e=Fl(),r=Kd(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var A=typeof u.valueOf=="function"?u.valueOf():u;u=e(A)?A+"":A}if(typeof u!="string")return u===0?u:+u;u=t(u);var d=s.test(u);return d||o.test(u)?l(u.slice(2),d?2:8):a.test(u)?n:+u}return $C=c,$C}var VC,rL;function mTe(){if(rL)return VC;rL=1;var t=Fl(),e=dTe(),r=gW(),n="Expected a function",a=Math.max,s=Math.min;function o(l,c,u){var A,d,h,f,p,g,m=0,x=!1,b=!1,_=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(u)&&(x=!!u.leading,b="maxWait"in u,h=b?a(r(u.maxWait)||0,c):h,_="trailing"in u?!!u.trailing:_);function w(T){var U=A,M=d;return A=d=void 0,m=T,f=l.apply(M,U),f}function C(T){return m=T,p=setTimeout(B,c),x?w(T):f}function E(T){var U=T-g,M=T-m,R=c-U;return b?s(R,h-M):R}function j(T){var U=T-g,M=T-m;return g===void 0||U>=c||U<0||b&&M>=h}function B(){var T=e();if(j(T))return S(T);p=setTimeout(B,E(T))}function S(T){return p=void 0,_&&A?w(T):(A=d=void 0,f)}function N(){p!==void 0&&clearTimeout(p),m=0,A=g=d=p=void 0}function I(){return p===void 0?f:S(e())}function P(){var T=e(),U=j(T);if(A=arguments,d=this,g=T,U){if(p===void 0)return C(g);if(b)return clearTimeout(p),p=setTimeout(B,c),w(g)}return p===void 0&&(p=setTimeout(B,c)),f}return P.cancel=N,P.flush=I,P}return VC=o,VC}var KC,nL;function pTe(){if(nL)return KC;nL=1;var t=mTe(),e=Fl(),r="Expected a function";function n(a,s,o){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(a,s,{leading:l,maxWait:s,trailing:c})}return KC=n,KC}var gTe=pTe();const vW=Lt(gTe);function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function aL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function mv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aL(Object(r),!0).forEach(function(n){vTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vTe(t,e,r){return e=yTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yTe(t){var e=xTe(t,"string");return Pm(e)=="symbol"?e:e+""}function xTe(t,e){if(Pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bTe(t,e){return CTe(t)||_Te(t,e)||jTe(t,e)||wTe()}function wTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jTe(t,e){if(t){if(typeof t=="string")return sL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sL(t,e)}}function sL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _Te(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function CTe(t){if(Array.isArray(t))return t}var BTe=v.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=t.width,o=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,A=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,f=t.children,p=t.debounce,g=p===void 0?0:p,m=t.id,x=t.className,b=t.onResize,_=t.style,w=_===void 0?{}:_,C=v.useRef(null),E=v.useRef();E.current=b,v.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var j=v.useState({containerWidth:a.width,containerHeight:a.height}),B=bTe(j,2),S=B[0],N=B[1],I=v.useCallback(function(T,U){N(function(M){var R=Math.round(T),F=Math.round(U);return M.containerWidth===R&&M.containerHeight===F?M:{containerWidth:R,containerHeight:F}})},[]);v.useEffect(function(){var T=function(Q){var H,G=Q[0].contentRect,X=G.width,te=G.height;I(X,te),(H=E.current)===null||H===void 0||H.call(E,X,te)};g>0&&(T=vW(T,g,{trailing:!0,leading:!1}));var U=new ResizeObserver(T),M=C.current.getBoundingClientRect(),R=M.width,F=M.height;return I(R,F),U.observe(C.current),function(){U.disconnect()}},[I,g]);var P=v.useMemo(function(){var T=S.containerWidth,U=S.containerHeight;if(T<0||U<0)return null;Li(gc(o)||gc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Li(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=gc(o)?T:o,R=gc(c)?U:c;r&&r>0&&(M?R=M/r:R&&(M=R*r),h&&R>h&&(R=h)),Li(M>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,R,o,c,A,d,r);var F=!Array.isArray(f)&&Qi(f.type).endsWith("Chart");return $.Children.map(f,function(D){return _z.isElement(D)?v.cloneElement(D,mv({width:M,height:R},F?{style:mv({height:"100%",width:"100%",maxHeight:R,maxWidth:M},D.props.style)}:{})):D})},[r,f,c,h,d,A,S,o]);return $.createElement("div",{id:m?"".concat(m):void 0,className:Qt("recharts-responsive-container",x),style:mv(mv({},w),{},{width:o,height:c,minWidth:A,minHeight:d,maxHeight:h}),ref:C},P)}),yW=function(e){return null};yW.displayName="Cell";function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}function iL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function lN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iL(Object(r),!0).forEach(function(n){ETe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ETe(t,e,r){return e=STe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function STe(t){var e=NTe(t,"string");return Om(e)=="symbol"?e:e+""}function NTe(t,e){if(Om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $u={widthCache:{},cacheCount:0},TTe=2e3,kTe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},oL="recharts_measurement_span";function ITe(t){var e=lN({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Tf=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||zd.isSsr)return{width:0,height:0};var n=ITe(r),a=JSON.stringify({text:e,copyStyle:n});if($u.widthCache[a])return $u.widthCache[a];try{var s=document.getElementById(oL);s||(s=document.createElement("span"),s.setAttribute("id",oL),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=lN(lN({},kTe),n);Object.assign(s.style,o),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return $u.widthCache[a]=c,++$u.cacheCount>TTe&&($u.cacheCount=0,$u.widthCache={}),c}catch{return{width:0,height:0}}},PTe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Fm(t){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fm(t)}function vx(t,e){return RTe(t)||DTe(t,e)||FTe(t,e)||OTe()}function OTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FTe(t,e){if(t){if(typeof t=="string")return lL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lL(t,e)}}function lL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function RTe(t){if(Array.isArray(t))return t}function UTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QTe(n.key),n)}}function MTe(t,e,r){return e&&cL(t.prototype,e),r&&cL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function QTe(t){var e=LTe(t,"string");return Fm(e)=="symbol"?e:e+""}function LTe(t,e){if(Fm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HTe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$Te=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},VTe=Object.keys(xW),aA="NaN";function KTe(t,e){return t*xW[e]}var pv=function(){function t(e,r){UTe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!HTe.test(r)&&(this.num=NaN,this.unit=""),VTe.includes(r)&&(this.num=KTe(e,r),this.unit="px")}return MTe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=$Te.exec(r))!==null&&n!==void 0?n:[],s=vx(a,3),o=s[1],l=s[2];return new t(parseFloat(o),l??"")}}])}();function bW(t){if(t.includes(aA))return aA;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=uL.exec(e))!==null&&r!==void 0?r:[],a=vx(n,4),s=a[1],o=a[2],l=a[3],c=pv.parse(s??""),u=pv.parse(l??""),A=o==="*"?c.multiply(u):c.divide(u);if(A.isNaN())return aA;e=e.replace(uL,A.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=AL.exec(e))!==null&&d!==void 0?d:[],f=vx(h,4),p=f[1],g=f[2],m=f[3],x=pv.parse(p??""),b=pv.parse(m??""),_=g==="+"?x.add(b):x.subtract(b);if(_.isNaN())return aA;e=e.replace(AL,_.toString())}return e}var dL=/\(([^()]*)\)/;function qTe(t){for(var e=t;e.includes("(");){var r=dL.exec(e),n=vx(r,2),a=n[1];e=e.replace(dL,bW(a))}return e}function GTe(t){var e=t.replace(/\s+/g,"");return e=qTe(e),e=bW(e),e}function zTe(t){try{return GTe(t)}catch{return aA}}function qC(t){var e=zTe(t.slice(5,-1));return e===aA?"":e}var WTe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],XTe=["dx","dy","angle","className","breakAll"];function cN(){return cN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cN.apply(this,arguments)}function hL(t,e){if(t==null)return{};var r=JTe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fL(t,e){return tke(t)||eke(t,e)||ZTe(t,e)||YTe()}function YTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZTe(t,e){if(t){if(typeof t=="string")return mL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mL(t,e)}}function mL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eke(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function tke(t){if(Array.isArray(t))return t}var wW=/[ \f\n\r\t\v\u2028\u2029]+/,jW=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var s=[];Tt(r)||(n?s=r.toString().split(""):s=r.toString().split(wW));var o=s.map(function(c){return{word:c,width:Tf(c,a).width}}),l=n?0:Tf(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},rke=function(e,r,n,a,s){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,A=Pe(o),d=l,h=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(R,F){var D=F.word,Q=F.width,H=R[R.length-1];if(H&&(a==null||s||H.width+Q+n<Number(a)))H.words.push(D),H.width+=Q+n;else{var G={words:[D],width:Q};R.push(G)}return R},[])},f=h(r),p=function(M){return M.reduce(function(R,F){return R.width>F.width?R:F})};if(!A)return f;for(var g="…",m=function(M){var R=d.slice(0,M),F=jW({breakAll:u,style:c,children:R+g}).wordsWithComputedWidth,D=h(F),Q=D.length>o||p(D).width>Number(a);return[Q,D]},x=0,b=d.length-1,_=0,w;x<=b&&_<=d.length-1;){var C=Math.floor((x+b)/2),E=C-1,j=m(E),B=fL(j,2),S=B[0],N=B[1],I=m(C),P=fL(I,1),T=P[0];if(!S&&!T&&(x=C+1),S&&T&&(b=C-1),!S&&T){w=N;break}_++}return w||f},pL=function(e){var r=Tt(e)?[]:e.toString().split(wW);return[{words:r}]},nke=function(e){var r=e.width,n=e.scaleToFit,a=e.children,s=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!zd.isSsr){var c,u,A=jW({breakAll:o,children:a,style:s});if(A){var d=A.wordsWithComputedWidth,h=A.spaceWidth;c=d,u=h}else return pL(a);return rke({breakAll:o,children:a,maxLines:l,style:s},c,u,r,n)}return pL(a)},gL="#808080",yx=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,A=e.scaleToFit,d=A===void 0?!1:A,h=e.textAnchor,f=h===void 0?"start":h,p=e.verticalAnchor,g=p===void 0?"end":p,m=e.fill,x=m===void 0?gL:m,b=hL(e,WTe),_=v.useMemo(function(){return nke({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),w=b.dx,C=b.dy,E=b.angle,j=b.className,B=b.breakAll,S=hL(b,XTe);if(!zr(n)||!zr(s))return null;var N=n+(Pe(w)?w:0),I=s+(Pe(C)?C:0),P;switch(g){case"start":P=qC("calc(".concat(u,")"));break;case"middle":P=qC("calc(".concat((_.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:P=qC("calc(".concat(_.length-1," * -").concat(l,")"));break}var T=[];if(d){var U=_[0].width,M=b.width;T.push("scale(".concat((Pe(M)?M/U:1)/U,")"))}return E&&T.push("rotate(".concat(E,", ").concat(N,", ").concat(I,")")),T.length&&(S.transform=T.join(" ")),$.createElement("text",cN({},Dt(S,!0),{x:N,y:I,className:Qt("recharts-text",j),textAnchor:f,fill:x.includes("url")?gL:x}),_.map(function(R,F){var D=R.words.join(B?"":" ");return $.createElement("tspan",{x:N,dy:F===0?P:l,key:"".concat(D,"-").concat(F)},D)}))};function ll(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ake(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function KI(t){let e,r,n;t.length!==2?(e=ll,r=(l,c)=>ll(t(l),c),n=(l,c)=>t(l)-c):(e=t===ll||t===ake?t:ske,r=t,n=t);function a(l,c,u=0,A=l.length){if(u<A){if(e(c,c)!==0)return A;do{const d=u+A>>>1;r(l[d],c)<0?u=d+1:A=d}while(u<A)}return u}function s(l,c,u=0,A=l.length){if(u<A){if(e(c,c)!==0)return A;do{const d=u+A>>>1;r(l[d],c)<=0?u=d+1:A=d}while(u<A)}return u}function o(l,c,u=0,A=l.length){const d=a(l,c,u,A-1);return d>u&&n(l[d-1],c)>-n(l[d],c)?d-1:d}return{left:a,center:o,right:s}}function ske(){return 0}function _W(t){return t===null?NaN:+t}function*ike(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const oke=KI(ll),Wp=oke.right;KI(_W).center;class vL extends Map{constructor(e,r=uke){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(yL(this,e))}has(e){return super.has(yL(this,e))}set(e,r){return super.set(lke(this,e),r)}delete(e){return super.delete(cke(this,e))}}function yL({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function lke({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function cke({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function uke(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ake(t=ll){if(t===ll)return CW;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function CW(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const dke=Math.sqrt(50),hke=Math.sqrt(10),fke=Math.sqrt(2);function xx(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=dke?10:s>=hke?5:s>=fke?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?xx(t,e,r*2):[l,c,u]}function uN(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,s,o]=n?xx(e,t,r):xx(t,e,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function AN(t,e,r){return e=+e,t=+t,r=+r,xx(t,e,r)[2]}function dN(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?AN(e,t,r):AN(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function xL(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function bL(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function BW(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?CW:Ake(a);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,A=Math.log(c),d=.5*Math.exp(2*A/3),h=.5*Math.sqrt(A*d*(c-d)/c)*(u-c/2<0?-1:1),f=Math.max(r,Math.floor(e-u*d/c+h)),p=Math.min(n,Math.floor(e+(c-u)*d/c+h));BW(t,e,f,p,a)}const s=t[e];let o=r,l=n;for(Rh(t,r,e),a(t[n],s)>0&&Rh(t,r,n);o<l;){for(Rh(t,o,l),++o,--l;a(t[o],s)<0;)++o;for(;a(t[l],s)>0;)--l}a(t[r],s)===0?Rh(t,r,l):(++l,Rh(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Rh(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function mke(t,e,r){if(t=Float64Array.from(ike(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return bL(t);if(e>=1)return xL(t);var n,a=(n-1)*e,s=Math.floor(a),o=xL(BW(t,s).subarray(0,s+1)),l=bL(t.subarray(s+1));return o+(l-o)*(a-s)}}function pke(t,e,r=_W){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,s=Math.floor(a),o=+r(t[s],s,t),l=+r(t[s+1],s+1,t);return o+(l-o)*(a-s)}}function gke(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(a);++n<a;)s[n]=t+n*r;return s}function ts(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function oo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const hN=Symbol("implicit");function qI(){var t=new vL,e=[],r=[],n=hN;function a(s){let o=t.get(s);if(o===void 0){if(n!==hN)return n;t.set(s,o=e.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new vL;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return qI(e,r).unknown(n)},ts.apply(a,arguments),a}function Dm(){var t=qI().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,s,o,l=!1,c=0,u=0,A=.5;delete t.unknown;function d(){var h=e().length,f=a<n,p=f?a:n,g=f?n:a;s=(g-p)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),p+=(g-p-s*(h-c))*A,o=s*(1-c),l&&(p=Math.round(p),o=Math.round(o));var m=gke(h).map(function(x){return p+s*x});return r(f?m.reverse():m)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},t.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,d()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(h){return arguments.length?(l=!!h,d()):l},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),d()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(A=Math.max(0,Math.min(1,h)),d()):A},t.copy=function(){return Dm(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(A)},ts.apply(d(),arguments)}function EW(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return EW(e())},t}function kf(){return EW(Dm.apply(null,arguments).paddingInner(1))}function GI(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function SW(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Xp(){}var Rm=.7,bx=1/Rm,gA="\\s*([+-]?\\d+)\\s*",Um="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ri="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vke=/^#([0-9a-f]{3,8})$/,yke=new RegExp(`^rgb\\(${gA},${gA},${gA}\\)$`),xke=new RegExp(`^rgb\\(${ri},${ri},${ri}\\)$`),bke=new RegExp(`^rgba\\(${gA},${gA},${gA},${Um}\\)$`),wke=new RegExp(`^rgba\\(${ri},${ri},${ri},${Um}\\)$`),jke=new RegExp(`^hsl\\(${Um},${ri},${ri}\\)$`),_ke=new RegExp(`^hsla\\(${Um},${ri},${ri},${Um}\\)$`),wL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};GI(Xp,Mm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:jL,formatHex:jL,formatHex8:Cke,formatHsl:Bke,formatRgb:_L,toString:_L});function jL(){return this.rgb().formatHex()}function Cke(){return this.rgb().formatHex8()}function Bke(){return NW(this).formatHsl()}function _L(){return this.rgb().formatRgb()}function Mm(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=vke.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?CL(e):r===3?new Aa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?gv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?gv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=yke.exec(t))?new Aa(e[1],e[2],e[3],1):(e=xke.exec(t))?new Aa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=bke.exec(t))?gv(e[1],e[2],e[3],e[4]):(e=wke.exec(t))?gv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=jke.exec(t))?SL(e[1],e[2]/100,e[3]/100,1):(e=_ke.exec(t))?SL(e[1],e[2]/100,e[3]/100,e[4]):wL.hasOwnProperty(t)?CL(wL[t]):t==="transparent"?new Aa(NaN,NaN,NaN,0):null}function CL(t){return new Aa(t>>16&255,t>>8&255,t&255,1)}function gv(t,e,r,n){return n<=0&&(t=e=r=NaN),new Aa(t,e,r,n)}function Eke(t){return t instanceof Xp||(t=Mm(t)),t?(t=t.rgb(),new Aa(t.r,t.g,t.b,t.opacity)):new Aa}function fN(t,e,r,n){return arguments.length===1?Eke(t):new Aa(t,e,r,n??1)}function Aa(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}GI(Aa,fN,SW(Xp,{brighter(t){return t=t==null?bx:Math.pow(bx,t),new Aa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Rm:Math.pow(Rm,t),new Aa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Aa(Oc(this.r),Oc(this.g),Oc(this.b),wx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BL,formatHex:BL,formatHex8:Ske,formatRgb:EL,toString:EL}));function BL(){return`#${vc(this.r)}${vc(this.g)}${vc(this.b)}`}function Ske(){return`#${vc(this.r)}${vc(this.g)}${vc(this.b)}${vc((isNaN(this.opacity)?1:this.opacity)*255)}`}function EL(){const t=wx(this.opacity);return`${t===1?"rgb(":"rgba("}${Oc(this.r)}, ${Oc(this.g)}, ${Oc(this.b)}${t===1?")":`, ${t})`}`}function wx(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Oc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function vc(t){return t=Oc(t),(t<16?"0":"")+t.toString(16)}function SL(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ps(t,e,r,n)}function NW(t){if(t instanceof ps)return new ps(t.h,t.s,t.l,t.opacity);if(t instanceof Xp||(t=Mm(t)),!t)return new ps;if(t instanceof ps)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),s=Math.max(e,r,n),o=NaN,l=s-a,c=(s+a)/2;return l?(e===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new ps(o,l,c,t.opacity)}function Nke(t,e,r,n){return arguments.length===1?NW(t):new ps(t,e,r,n??1)}function ps(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}GI(ps,Nke,SW(Xp,{brighter(t){return t=t==null?bx:Math.pow(bx,t),new ps(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Rm:Math.pow(Rm,t),new ps(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new Aa(GC(t>=240?t-240:t+120,a,n),GC(t,a,n),GC(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new ps(NL(this.h),vv(this.s),vv(this.l),wx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=wx(this.opacity);return`${t===1?"hsl(":"hsla("}${NL(this.h)}, ${vv(this.s)*100}%, ${vv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function NL(t){return t=(t||0)%360,t<0?t+360:t}function vv(t){return Math.max(0,Math.min(1,t||0))}function GC(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const zI=t=>()=>t;function Tke(t,e){return function(r){return t+r*e}}function kke(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Ike(t){return(t=+t)==1?TW:function(e,r){return r-e?kke(e,r,t):zI(isNaN(e)?r:e)}}function TW(t,e){var r=e-t;return r?Tke(t,r):zI(isNaN(t)?e:t)}const TL=function t(e){var r=Ike(e);function n(a,s){var o=r((a=fN(a)).r,(s=fN(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=TW(a.opacity,s.opacity);return function(A){return a.r=o(A),a.g=l(A),a.b=c(A),a.opacity=u(A),a+""}}return n.gamma=t,n}(1);function Pke(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=t[a]*(1-s)+e[a]*s;return n}}function Oke(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Fke(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=Wd(t[o],e[o]);for(;o<r;++o)s[o]=e[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function Dke(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function jx(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Rke(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Wd(t[a],e[a]):n[a]=e[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var mN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zC=new RegExp(mN.source,"g");function Uke(t){return function(){return t}}function Mke(t){return function(e){return t(e)+""}}function Qke(t,e){var r=mN.lastIndex=zC.lastIndex=0,n,a,s,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=mN.exec(t))&&(a=zC.exec(e));)(s=a.index)>r&&(s=e.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:jx(n,a)})),r=zC.lastIndex;return r<e.length&&(s=e.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?Mke(c[0].x):Uke(e):(e=c.length,function(u){for(var A=0,d;A<e;++A)l[(d=c[A]).i]=d.x(u);return l.join("")})}function Wd(t,e){var r=typeof e,n;return e==null||r==="boolean"?zI(e):(r==="number"?jx:r==="string"?(n=Mm(e))?(e=n,TL):Qke:e instanceof Mm?TL:e instanceof Date?Dke:Oke(e)?Pke:Array.isArray(e)?Fke:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Rke:jx)(t,e)}function WI(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Lke(t,e){e===void 0&&(e=t,t=Wd);for(var r=0,n=e.length-1,a=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(a,a=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function Hke(t){return function(){return t}}function _x(t){return+t}var kL=[0,1];function Xn(t){return t}function pN(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Hke(isNaN(e)?NaN:.5)}function $ke(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Vke(t,e,r){var n=t[0],a=t[1],s=e[0],o=e[1];return a<n?(n=pN(a,n),s=r(o,s)):(n=pN(n,a),s=r(s,o)),function(l){return s(n(l))}}function Kke(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),s=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)a[o]=pN(t[o],t[o+1]),s[o]=r(e[o],e[o+1]);return function(l){var c=Wp(t,l,1,n)-1;return s[c](a[c](l))}}function Jp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Sb(){var t=kL,e=kL,r=Wd,n,a,s,o=Xn,l,c,u;function A(){var h=Math.min(t.length,e.length);return o!==Xn&&(o=$ke(t[0],t[h-1])),l=h>2?Kke:Vke,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?s:(c||(c=l(t.map(n),e,r)))(n(o(h)))}return d.invert=function(h){return o(a((u||(u=l(e,t.map(n),jx)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,_x),A()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),A()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),r=WI,A()},d.clamp=function(h){return arguments.length?(o=h?!0:Xn,A()):o!==Xn},d.interpolate=function(h){return arguments.length?(r=h,A()):r},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,f){return n=h,a=f,A()}}function XI(){return Sb()(Xn,Xn)}function qke(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Cx(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function cd(t){return t=Cx(Math.abs(t)),t?t[1]:NaN}function Gke(t,e){return function(r,n){for(var a=r.length,s=[],o=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return s.reverse().join(e)}}function zke(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Wke=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qm(t){if(!(e=Wke.exec(t)))throw new Error("invalid format: "+t);var e;return new JI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Qm.prototype=JI.prototype;function JI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}JI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Xke(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var kW;function Jke(t,e){var r=Cx(t,e);if(!r)return t+"";var n=r[0],a=r[1],s=a-(kW=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Cx(t,Math.max(0,e+s-1))[0]}function IL(t,e){var r=Cx(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const PL={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:qke,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>IL(t*100,e),r:IL,s:Jke,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function OL(t){return t}var FL=Array.prototype.map,DL=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Yke(t){var e=t.grouping===void 0||t.thousands===void 0?OL:Gke(FL.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?OL:zke(FL.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(d){d=Qm(d);var h=d.fill,f=d.align,p=d.sign,g=d.symbol,m=d.zero,x=d.width,b=d.comma,_=d.precision,w=d.trim,C=d.type;C==="n"?(b=!0,C="g"):PL[C]||(_===void 0&&(_=12),w=!0,C="g"),(m||h==="0"&&f==="=")&&(m=!0,h="0",f="=");var E=g==="$"?r:g==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",j=g==="$"?n:/[%p]/.test(C)?o:"",B=PL[C],S=/[defgprs%]/.test(C);_=_===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function N(I){var P=E,T=j,U,M,R;if(C==="c")T=B(I)+T,I="";else{I=+I;var F=I<0||1/I<0;if(I=isNaN(I)?c:B(Math.abs(I),_),w&&(I=Xke(I)),F&&+I==0&&p!=="+"&&(F=!1),P=(F?p==="("?p:l:p==="-"||p==="("?"":p)+P,T=(C==="s"?DL[8+kW/3]:"")+T+(F&&p==="("?")":""),S){for(U=-1,M=I.length;++U<M;)if(R=I.charCodeAt(U),48>R||R>57){T=(R===46?a+I.slice(U+1):I.slice(U))+T,I=I.slice(0,U);break}}}b&&!m&&(I=e(I,1/0));var D=P.length+I.length+T.length,Q=D<x?new Array(x-D+1).join(h):"";switch(b&&m&&(I=e(Q+I,Q.length?x-T.length:1/0),Q=""),f){case"<":I=P+I+T+Q;break;case"=":I=P+Q+I+T;break;case"^":I=Q.slice(0,D=Q.length>>1)+P+I+T+Q.slice(D);break;default:I=Q+P+I+T;break}return s(I)}return N.toString=function(){return d+""},N}function A(d,h){var f=u((d=Qm(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(cd(h)/3)))*3,g=Math.pow(10,-p),m=DL[8+p/3];return function(x){return f(g*x)+m}}return{format:u,formatPrefix:A}}var yv,YI,IW;Zke({thousands:",",grouping:[3],currency:["$",""]});function Zke(t){return yv=Yke(t),YI=yv.format,IW=yv.formatPrefix,yv}function eIe(t){return Math.max(0,-cd(Math.abs(t)))}function tIe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cd(e)/3)))*3-cd(Math.abs(t)))}function rIe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,cd(e)-cd(t))+1}function PW(t,e,r,n){var a=dN(t,e,r),s;switch(n=Qm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=tIe(a,o))&&(n.precision=s),IW(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=rIe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=eIe(a))&&(n.precision=s-(n.type==="%")*2);break}}return YI(n)}function Rl(t){var e=t.domain;return t.ticks=function(r){var n=e();return uN(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return PW(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,s=n.length-1,o=n[a],l=n[s],c,u,A=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);A-- >0;){if(u=AN(o,l,r),u===c)return n[a]=o,n[s]=l,e(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function Bx(){var t=XI();return t.copy=function(){return Jp(t,Bx())},ts.apply(t,arguments),Rl(t)}function OW(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,_x),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return OW(t).unknown(e)},t=arguments.length?Array.from(t,_x):[0,1],Rl(r)}function FW(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],s=t[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),t[r]=e.floor(a),t[n]=e.ceil(s),t}function RL(t){return Math.log(t)}function UL(t){return Math.exp(t)}function nIe(t){return-Math.log(-t)}function aIe(t){return-Math.exp(-t)}function sIe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function iIe(t){return t===10?sIe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function oIe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function ML(t){return(e,r)=>-t(-e,r)}function ZI(t){const e=t(RL,UL),r=e.domain;let n=10,a,s;function o(){return a=oIe(n),s=iIe(n),r()[0]<0?(a=ML(a),s=ML(s),t(nIe,aIe)):t(RL,UL),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let u=c[0],A=c[c.length-1];const d=A<u;d&&([u,A]=[A,u]);let h=a(u),f=a(A),p,g;const m=l==null?10:+l;let x=[];if(!(n%1)&&f-h<m){if(h=Math.floor(h),f=Math.ceil(f),u>0){for(;h<=f;++h)for(p=1;p<n;++p)if(g=h<0?p/s(-h):p*s(h),!(g<u)){if(g>A)break;x.push(g)}}else for(;h<=f;++h)for(p=n-1;p>=1;--p)if(g=h>0?p/s(-h):p*s(h),!(g<u)){if(g>A)break;x.push(g)}x.length*2<m&&(x=uN(u,A,m))}else x=uN(h,f,Math.min(f-h,m)).map(s);return d?x.reverse():x},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Qm(c)).precision==null&&(c.trim=!0),c=YI(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return A=>{let d=A/s(Math.round(a(A)));return d*n<n-.5&&(d*=n),d<=u?c(A):""}},e.nice=()=>r(FW(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),e}function DW(){const t=ZI(Sb()).domain([1,10]);return t.copy=()=>Jp(t,DW()).base(t.base()),ts.apply(t,arguments),t}function QL(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function LL(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function eP(t){var e=1,r=t(QL(e),LL(e));return r.constant=function(n){return arguments.length?t(QL(e=+n),LL(e)):e},Rl(r)}function RW(){var t=eP(Sb());return t.copy=function(){return Jp(t,RW()).constant(t.constant())},ts.apply(t,arguments)}function HL(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function lIe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function cIe(t){return t<0?-t*t:t*t}function tP(t){var e=t(Xn,Xn),r=1;function n(){return r===1?t(Xn,Xn):r===.5?t(lIe,cIe):t(HL(r),HL(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Rl(e)}function rP(){var t=tP(Sb());return t.copy=function(){return Jp(t,rP()).exponent(t.exponent())},ts.apply(t,arguments),t}function uIe(){return rP.apply(null,arguments).exponent(.5)}function $L(t){return Math.sign(t)*t*t}function AIe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function UW(){var t=XI(),e=[0,1],r=!1,n;function a(s){var o=AIe(t(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return t.invert($L(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,_x)).map($L)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return UW(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},ts.apply(a,arguments),Rl(a)}function MW(){var t=[],e=[],r=[],n;function a(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=pke(t,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:e[Wp(r,o)]}return s.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(ll),a()},s.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return MW().domain(t).range(e).unknown(n)},ts.apply(s,arguments)}function QW(){var t=0,e=1,r=1,n=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[Wp(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return QW().domain([t,e]).range(a).unknown(s)},ts.apply(Rl(o),arguments)}function LW(){var t=[.5],e=[0,1],r,n=1;function a(s){return s!=null&&s<=s?e[Wp(t,s,0,n)]:r}return a.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return LW().domain(t).range(e).unknown(r)},ts.apply(a,arguments)}const WC=new Date,XC=new Date;function Jr(t,e,r,n){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<o);return c},a.filter=s=>Jr(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!s(o););else for(;--l>=0;)for(;e(o,1),!s(o););}),r&&(a.count=(s,o)=>(WC.setTime(+s),XC.setTime(+o),t(WC),t(XC),Math.floor(r(WC,XC))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const Ex=Jr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ex.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Jr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Ex);Ex.range;const Ii=1e3,qa=Ii*60,Pi=qa*60,Zi=Pi*24,nP=Zi*7,VL=Zi*30,JC=Zi*365,yc=Jr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ii)},(t,e)=>(e-t)/Ii,t=>t.getUTCSeconds());yc.range;const aP=Jr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ii)},(t,e)=>{t.setTime(+t+e*qa)},(t,e)=>(e-t)/qa,t=>t.getMinutes());aP.range;const sP=Jr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*qa)},(t,e)=>(e-t)/qa,t=>t.getUTCMinutes());sP.range;const iP=Jr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ii-t.getMinutes()*qa)},(t,e)=>{t.setTime(+t+e*Pi)},(t,e)=>(e-t)/Pi,t=>t.getHours());iP.range;const oP=Jr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Pi)},(t,e)=>(e-t)/Pi,t=>t.getUTCHours());oP.range;const Yp=Jr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*qa)/Zi,t=>t.getDate()-1);Yp.range;const Nb=Jr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zi,t=>t.getUTCDate()-1);Nb.range;const HW=Jr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zi,t=>Math.floor(t/Zi));HW.range;function ou(t){return Jr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*qa)/nP)}const Tb=ou(0),Sx=ou(1),dIe=ou(2),hIe=ou(3),ud=ou(4),fIe=ou(5),mIe=ou(6);Tb.range;Sx.range;dIe.range;hIe.range;ud.range;fIe.range;mIe.range;function lu(t){return Jr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/nP)}const kb=lu(0),Nx=lu(1),pIe=lu(2),gIe=lu(3),Ad=lu(4),vIe=lu(5),yIe=lu(6);kb.range;Nx.range;pIe.range;gIe.range;Ad.range;vIe.range;yIe.range;const lP=Jr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());lP.range;const cP=Jr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());cP.range;const eo=Jr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());eo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Jr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});eo.range;const to=Jr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());to.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Jr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});to.range;function $W(t,e,r,n,a,s){const o=[[yc,1,Ii],[yc,5,5*Ii],[yc,15,15*Ii],[yc,30,30*Ii],[s,1,qa],[s,5,5*qa],[s,15,15*qa],[s,30,30*qa],[a,1,Pi],[a,3,3*Pi],[a,6,6*Pi],[a,12,12*Pi],[n,1,Zi],[n,2,2*Zi],[r,1,nP],[e,1,VL],[e,3,3*VL],[t,1,JC]];function l(u,A,d){const h=A<u;h&&([u,A]=[A,u]);const f=d&&typeof d.range=="function"?d:c(u,A,d),p=f?f.range(u,+A+1):[];return h?p.reverse():p}function c(u,A,d){const h=Math.abs(A-u)/d,f=KI(([,,m])=>m).right(o,h);if(f===o.length)return t.every(dN(u/JC,A/JC,d));if(f===0)return Ex.every(Math.max(dN(u,A,d),1));const[p,g]=o[h/o[f-1][2]<o[f][2]/h?f-1:f];return p.every(g)}return[l,c]}const[xIe,bIe]=$W(to,cP,kb,HW,oP,sP),[wIe,jIe]=$W(eo,lP,Tb,Yp,iP,aP);function YC(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ZC(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Uh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function _Ie(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,s=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=Mh(a),A=Qh(a),d=Mh(s),h=Qh(s),f=Mh(o),p=Qh(o),g=Mh(l),m=Qh(l),x=Mh(c),b=Qh(c),_={a:F,A:D,b:Q,B:H,c:null,d:XL,e:XL,f:GIe,g:nPe,G:sPe,H:VIe,I:KIe,j:qIe,L:VW,m:zIe,M:WIe,p:G,q:X,Q:ZL,s:e5,S:XIe,u:JIe,U:YIe,V:ZIe,w:ePe,W:tPe,x:null,X:null,y:rPe,Y:aPe,Z:iPe,"%":YL},w={a:te,A:Z,b:q,B:se,c:null,d:JL,e:JL,f:uPe,g:xPe,G:wPe,H:oPe,I:lPe,j:cPe,L:qW,m:APe,M:dPe,p:Ae,q:oe,Q:ZL,s:e5,S:hPe,u:fPe,U:mPe,V:pPe,w:gPe,W:vPe,x:null,X:null,y:yPe,Y:bPe,Z:jPe,"%":YL},C={a:N,A:I,b:P,B:T,c:U,d:zL,e:zL,f:QIe,g:GL,G:qL,H:WL,I:WL,j:DIe,L:MIe,m:FIe,M:RIe,p:S,q:OIe,Q:HIe,s:$Ie,S:UIe,u:NIe,U:TIe,V:kIe,w:SIe,W:IIe,x:M,X:R,y:GL,Y:qL,Z:PIe,"%":LIe};_.x=E(r,_),_.X=E(n,_),_.c=E(e,_),w.x=E(r,w),w.X=E(n,w),w.c=E(e,w);function E(ce,fe){return function(je){var z=[],ve=-1,Ie=0,qe=ce.length,Xe,Bt,K;for(je instanceof Date||(je=new Date(+je));++ve<qe;)ce.charCodeAt(ve)===37&&(z.push(ce.slice(Ie,ve)),(Bt=KL[Xe=ce.charAt(++ve)])!=null?Xe=ce.charAt(++ve):Bt=Xe==="e"?" ":"0",(K=fe[Xe])&&(Xe=K(je,Bt)),z.push(Xe),Ie=ve+1);return z.push(ce.slice(Ie,ve)),z.join("")}}function j(ce,fe){return function(je){var z=Uh(1900,void 0,1),ve=B(z,ce,je+="",0),Ie,qe;if(ve!=je.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(fe&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(Ie=ZC(Uh(z.y,0,1)),qe=Ie.getUTCDay(),Ie=qe>4||qe===0?Nx.ceil(Ie):Nx(Ie),Ie=Nb.offset(Ie,(z.V-1)*7),z.y=Ie.getUTCFullYear(),z.m=Ie.getUTCMonth(),z.d=Ie.getUTCDate()+(z.w+6)%7):(Ie=YC(Uh(z.y,0,1)),qe=Ie.getDay(),Ie=qe>4||qe===0?Sx.ceil(Ie):Sx(Ie),Ie=Yp.offset(Ie,(z.V-1)*7),z.y=Ie.getFullYear(),z.m=Ie.getMonth(),z.d=Ie.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),qe="Z"in z?ZC(Uh(z.y,0,1)).getUTCDay():YC(Uh(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(qe+5)%7:z.w+z.U*7-(qe+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,ZC(z)):YC(z)}}function B(ce,fe,je,z){for(var ve=0,Ie=fe.length,qe=je.length,Xe,Bt;ve<Ie;){if(z>=qe)return-1;if(Xe=fe.charCodeAt(ve++),Xe===37){if(Xe=fe.charAt(ve++),Bt=C[Xe in KL?fe.charAt(ve++):Xe],!Bt||(z=Bt(ce,je,z))<0)return-1}else if(Xe!=je.charCodeAt(z++))return-1}return z}function S(ce,fe,je){var z=u.exec(fe.slice(je));return z?(ce.p=A.get(z[0].toLowerCase()),je+z[0].length):-1}function N(ce,fe,je){var z=f.exec(fe.slice(je));return z?(ce.w=p.get(z[0].toLowerCase()),je+z[0].length):-1}function I(ce,fe,je){var z=d.exec(fe.slice(je));return z?(ce.w=h.get(z[0].toLowerCase()),je+z[0].length):-1}function P(ce,fe,je){var z=x.exec(fe.slice(je));return z?(ce.m=b.get(z[0].toLowerCase()),je+z[0].length):-1}function T(ce,fe,je){var z=g.exec(fe.slice(je));return z?(ce.m=m.get(z[0].toLowerCase()),je+z[0].length):-1}function U(ce,fe,je){return B(ce,e,fe,je)}function M(ce,fe,je){return B(ce,r,fe,je)}function R(ce,fe,je){return B(ce,n,fe,je)}function F(ce){return o[ce.getDay()]}function D(ce){return s[ce.getDay()]}function Q(ce){return c[ce.getMonth()]}function H(ce){return l[ce.getMonth()]}function G(ce){return a[+(ce.getHours()>=12)]}function X(ce){return 1+~~(ce.getMonth()/3)}function te(ce){return o[ce.getUTCDay()]}function Z(ce){return s[ce.getUTCDay()]}function q(ce){return c[ce.getUTCMonth()]}function se(ce){return l[ce.getUTCMonth()]}function Ae(ce){return a[+(ce.getUTCHours()>=12)]}function oe(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var fe=E(ce+="",_);return fe.toString=function(){return ce},fe},parse:function(ce){var fe=j(ce+="",!1);return fe.toString=function(){return ce},fe},utcFormat:function(ce){var fe=E(ce+="",w);return fe.toString=function(){return ce},fe},utcParse:function(ce){var fe=j(ce+="",!0);return fe.toString=function(){return ce},fe}}}var KL={"-":"",_:" ",0:"0"},on=/^\s*\d+/,CIe=/^%/,BIe=/[\\^$*+?|[\]().{}]/g;function Vt(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(e)+a:a)}function EIe(t){return t.replace(BIe,"\\$&")}function Mh(t){return new RegExp("^(?:"+t.map(EIe).join("|")+")","i")}function Qh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function SIe(t,e,r){var n=on.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function NIe(t,e,r){var n=on.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function TIe(t,e,r){var n=on.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function kIe(t,e,r){var n=on.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function IIe(t,e,r){var n=on.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function qL(t,e,r){var n=on.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function GL(t,e,r){var n=on.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function PIe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function OIe(t,e,r){var n=on.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function FIe(t,e,r){var n=on.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function zL(t,e,r){var n=on.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function DIe(t,e,r){var n=on.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function WL(t,e,r){var n=on.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function RIe(t,e,r){var n=on.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function UIe(t,e,r){var n=on.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function MIe(t,e,r){var n=on.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function QIe(t,e,r){var n=on.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function LIe(t,e,r){var n=CIe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function HIe(t,e,r){var n=on.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function $Ie(t,e,r){var n=on.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function XL(t,e){return Vt(t.getDate(),e,2)}function VIe(t,e){return Vt(t.getHours(),e,2)}function KIe(t,e){return Vt(t.getHours()%12||12,e,2)}function qIe(t,e){return Vt(1+Yp.count(eo(t),t),e,3)}function VW(t,e){return Vt(t.getMilliseconds(),e,3)}function GIe(t,e){return VW(t,e)+"000"}function zIe(t,e){return Vt(t.getMonth()+1,e,2)}function WIe(t,e){return Vt(t.getMinutes(),e,2)}function XIe(t,e){return Vt(t.getSeconds(),e,2)}function JIe(t){var e=t.getDay();return e===0?7:e}function YIe(t,e){return Vt(Tb.count(eo(t)-1,t),e,2)}function KW(t){var e=t.getDay();return e>=4||e===0?ud(t):ud.ceil(t)}function ZIe(t,e){return t=KW(t),Vt(ud.count(eo(t),t)+(eo(t).getDay()===4),e,2)}function ePe(t){return t.getDay()}function tPe(t,e){return Vt(Sx.count(eo(t)-1,t),e,2)}function rPe(t,e){return Vt(t.getFullYear()%100,e,2)}function nPe(t,e){return t=KW(t),Vt(t.getFullYear()%100,e,2)}function aPe(t,e){return Vt(t.getFullYear()%1e4,e,4)}function sPe(t,e){var r=t.getDay();return t=r>=4||r===0?ud(t):ud.ceil(t),Vt(t.getFullYear()%1e4,e,4)}function iPe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Vt(e/60|0,"0",2)+Vt(e%60,"0",2)}function JL(t,e){return Vt(t.getUTCDate(),e,2)}function oPe(t,e){return Vt(t.getUTCHours(),e,2)}function lPe(t,e){return Vt(t.getUTCHours()%12||12,e,2)}function cPe(t,e){return Vt(1+Nb.count(to(t),t),e,3)}function qW(t,e){return Vt(t.getUTCMilliseconds(),e,3)}function uPe(t,e){return qW(t,e)+"000"}function APe(t,e){return Vt(t.getUTCMonth()+1,e,2)}function dPe(t,e){return Vt(t.getUTCMinutes(),e,2)}function hPe(t,e){return Vt(t.getUTCSeconds(),e,2)}function fPe(t){var e=t.getUTCDay();return e===0?7:e}function mPe(t,e){return Vt(kb.count(to(t)-1,t),e,2)}function GW(t){var e=t.getUTCDay();return e>=4||e===0?Ad(t):Ad.ceil(t)}function pPe(t,e){return t=GW(t),Vt(Ad.count(to(t),t)+(to(t).getUTCDay()===4),e,2)}function gPe(t){return t.getUTCDay()}function vPe(t,e){return Vt(Nx.count(to(t)-1,t),e,2)}function yPe(t,e){return Vt(t.getUTCFullYear()%100,e,2)}function xPe(t,e){return t=GW(t),Vt(t.getUTCFullYear()%100,e,2)}function bPe(t,e){return Vt(t.getUTCFullYear()%1e4,e,4)}function wPe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Ad(t):Ad.ceil(t),Vt(t.getUTCFullYear()%1e4,e,4)}function jPe(){return"+0000"}function YL(){return"%"}function ZL(t){return+t}function e5(t){return Math.floor(+t/1e3)}var Vu,zW,WW;_Pe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _Pe(t){return Vu=_Ie(t),zW=Vu.format,Vu.parse,WW=Vu.utcFormat,Vu.utcParse,Vu}function CPe(t){return new Date(t)}function BPe(t){return t instanceof Date?+t:+new Date(+t)}function uP(t,e,r,n,a,s,o,l,c,u){var A=XI(),d=A.invert,h=A.domain,f=u(".%L"),p=u(":%S"),g=u("%I:%M"),m=u("%I %p"),x=u("%a %d"),b=u("%b %d"),_=u("%B"),w=u("%Y");function C(E){return(c(E)<E?f:l(E)<E?p:o(E)<E?g:s(E)<E?m:n(E)<E?a(E)<E?x:b:r(E)<E?_:w)(E)}return A.invert=function(E){return new Date(d(E))},A.domain=function(E){return arguments.length?h(Array.from(E,BPe)):h().map(CPe)},A.ticks=function(E){var j=h();return t(j[0],j[j.length-1],E??10)},A.tickFormat=function(E,j){return j==null?C:u(j)},A.nice=function(E){var j=h();return(!E||typeof E.range!="function")&&(E=e(j[0],j[j.length-1],E??10)),E?h(FW(j,E)):A},A.copy=function(){return Jp(A,uP(t,e,r,n,a,s,o,l,c,u))},A}function EPe(){return ts.apply(uP(wIe,jIe,eo,lP,Tb,Yp,iP,aP,yc,zW).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function SPe(){return ts.apply(uP(xIe,bIe,to,cP,kb,Nb,oP,sP,yc,WW).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ib(){var t=0,e=1,r,n,a,s,o=Xn,l=!1,c;function u(d){return d==null||isNaN(d=+d)?c:o(a===0?.5:(d=(s(d)-r)*a,l?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,r=s(t=+t),n=s(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(d){return arguments.length?(l=!!d,u):l},u.interpolator=function(d){return arguments.length?(o=d,u):o};function A(d){return function(h){var f,p;return arguments.length?([f,p]=h,o=d(f,p),u):[o(0),o(1)]}}return u.range=A(Wd),u.rangeRound=A(WI),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return s=d,r=d(t),n=d(e),a=r===n?0:1/(n-r),u}}function Ul(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function XW(){var t=Rl(Ib()(Xn));return t.copy=function(){return Ul(t,XW())},oo.apply(t,arguments)}function JW(){var t=ZI(Ib()).domain([1,10]);return t.copy=function(){return Ul(t,JW()).base(t.base())},oo.apply(t,arguments)}function YW(){var t=eP(Ib());return t.copy=function(){return Ul(t,YW()).constant(t.constant())},oo.apply(t,arguments)}function AP(){var t=tP(Ib());return t.copy=function(){return Ul(t,AP()).exponent(t.exponent())},oo.apply(t,arguments)}function NPe(){return AP.apply(null,arguments).exponent(.5)}function ZW(){var t=[],e=Xn;function r(n){if(n!=null&&!isNaN(n=+n))return e((Wp(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(ll),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>mke(t,s/n))},r.copy=function(){return ZW(e).domain(t)},oo.apply(r,arguments)}function Pb(){var t=0,e=.5,r=1,n=1,a,s,o,l,c,u=Xn,A,d=!1,h;function f(g){return isNaN(g=+g)?h:(g=.5+((g=+A(g))-s)*(n*g<n*s?l:c),u(d?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([t,e,r]=g,a=A(t=+t),s=A(e=+e),o=A(r=+r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,f):[t,e,r]},f.clamp=function(g){return arguments.length?(d=!!g,f):d},f.interpolator=function(g){return arguments.length?(u=g,f):u};function p(g){return function(m){var x,b,_;return arguments.length?([x,b,_]=m,u=Lke(g,[x,b,_]),f):[u(0),u(.5),u(1)]}}return f.range=p(Wd),f.rangeRound=p(WI),f.unknown=function(g){return arguments.length?(h=g,f):h},function(g){return A=g,a=g(t),s=g(e),o=g(r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,f}}function eX(){var t=Rl(Pb()(Xn));return t.copy=function(){return Ul(t,eX())},oo.apply(t,arguments)}function tX(){var t=ZI(Pb()).domain([.1,1,10]);return t.copy=function(){return Ul(t,tX()).base(t.base())},oo.apply(t,arguments)}function rX(){var t=eP(Pb());return t.copy=function(){return Ul(t,rX()).constant(t.constant())},oo.apply(t,arguments)}function dP(){var t=tP(Pb());return t.copy=function(){return Ul(t,dP()).exponent(t.exponent())},oo.apply(t,arguments)}function TPe(){return dP.apply(null,arguments).exponent(.5)}const t5=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Dm,scaleDiverging:eX,scaleDivergingLog:tX,scaleDivergingPow:dP,scaleDivergingSqrt:TPe,scaleDivergingSymlog:rX,scaleIdentity:OW,scaleImplicit:hN,scaleLinear:Bx,scaleLog:DW,scaleOrdinal:qI,scalePoint:kf,scalePow:rP,scaleQuantile:MW,scaleQuantize:QW,scaleRadial:UW,scaleSequential:XW,scaleSequentialLog:JW,scaleSequentialPow:AP,scaleSequentialQuantile:ZW,scaleSequentialSqrt:NPe,scaleSequentialSymlog:YW,scaleSqrt:uIe,scaleSymlog:RW,scaleThreshold:LW,scaleTime:EPe,scaleUtc:SPe,tickFormat:PW},Symbol.toStringTag,{value:"Module"}));var eB,r5;function nX(){if(r5)return eB;r5=1;var t=Kd();function e(r,n,a){for(var s=-1,o=r.length;++s<o;){var l=r[s],c=n(l);if(c!=null&&(u===void 0?c===c&&!t(c):a(c,u)))var u=c,A=l}return A}return eB=e,eB}var tB,n5;function kPe(){if(n5)return tB;n5=1;function t(e,r){return e>r}return tB=t,tB}var rB,a5;function IPe(){if(a5)return rB;a5=1;var t=nX(),e=kPe(),r=Gd();function n(a){return a&&a.length?t(a,r,e):void 0}return rB=n,rB}var PPe=IPe();const Ob=Lt(PPe);var nB,s5;function OPe(){if(s5)return nB;s5=1;function t(e,r){return e<r}return nB=t,nB}var aB,i5;function FPe(){if(i5)return aB;i5=1;var t=nX(),e=OPe(),r=Gd();function n(a){return a&&a.length?t(a,r,e):void 0}return aB=n,aB}var DPe=FPe();const Fb=Lt(DPe);var sB,o5;function RPe(){if(o5)return sB;o5=1;var t=SI(),e=Dl(),r=AW(),n=ma();function a(s,o){var l=n(s)?t:r;return l(s,e(o,3))}return sB=a,sB}var iB,l5;function UPe(){if(l5)return iB;l5=1;var t=cW(),e=RPe();function r(n,a){return t(e(n,a),1)}return iB=r,iB}var MPe=UPe();const QPe=Lt(MPe);var oB,c5;function LPe(){if(c5)return oB;c5=1;var t=LI();function e(r,n){return t(r,n)}return oB=e,oB}var HPe=LPe();const Db=Lt(HPe);var Xd=1e9,$Pe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},fP,jr=!0,Za="[DecimalError] ",Fc=Za+"Invalid argument: ",hP=Za+"Exponent out of range: ",Jd=Math.floor,sc=Math.pow,VPe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Na,rn=1e7,xr=7,aX=9007199254740991,Tx=Jd(aX/xr),Ve={};Ve.absoluteValue=Ve.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ve.comparedTo=Ve.cmp=function(t){var e,r,n,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Ve.decimalPlaces=Ve.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*xr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ve.dividedBy=Ve.div=function(t){return Hi(this,new this.constructor(t))};Ve.dividedToIntegerBy=Ve.idiv=function(t){var e=this,r=e.constructor;return ur(Hi(e,new r(t),0,1),r.precision)};Ve.equals=Ve.eq=function(t){return!this.cmp(t)};Ve.exponent=function(){return Hr(this)};Ve.greaterThan=Ve.gt=function(t){return this.cmp(t)>0};Ve.greaterThanOrEqualTo=Ve.gte=function(t){return this.cmp(t)>=0};Ve.isInteger=Ve.isint=function(){return this.e>this.d.length-2};Ve.isNegative=Ve.isneg=function(){return this.s<0};Ve.isPositive=Ve.ispos=function(){return this.s>0};Ve.isZero=function(){return this.s===0};Ve.lessThan=Ve.lt=function(t){return this.cmp(t)<0};Ve.lessThanOrEqualTo=Ve.lte=function(t){return this.cmp(t)<1};Ve.logarithm=Ve.log=function(t){var e,r=this,n=r.constructor,a=n.precision,s=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Na))throw Error(Za+"NaN");if(r.s<1)throw Error(Za+(r.s?"NaN":"-Infinity"));return r.eq(Na)?new n(0):(jr=!1,e=Hi(Lm(r,s),Lm(t,s),s),jr=!0,ur(e,a))};Ve.minus=Ve.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?oX(e,t):sX(e,(t.s=-t.s,t))};Ve.modulo=Ve.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Za+"NaN");return r.s?(jr=!1,e=Hi(r,t,0,1).times(t),jr=!0,r.minus(e)):ur(new n(r),a)};Ve.naturalExponential=Ve.exp=function(){return iX(this)};Ve.naturalLogarithm=Ve.ln=function(){return Lm(this)};Ve.negated=Ve.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ve.plus=Ve.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?sX(e,t):oX(e,(t.s=-t.s,t))};Ve.precision=Ve.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Fc+t);if(e=Hr(a)+1,n=a.d.length-1,r=n*xr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ve.squareRoot=Ve.sqrt=function(){var t,e,r,n,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Za+"NaN")}for(t=Hr(l),jr=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=Js(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Jd((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(s=n,n=s.plus(Hi(l,s,o+2)).times(.5),Js(s.d).slice(0,o)===(e=Js(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(ur(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;o+=4}return jr=!0,ur(n,r)};Ve.times=Ve.mul=function(t){var e,r,n,a,s,o,l,c,u,A=this,d=A.constructor,h=A.d,f=(t=new d(t)).d;if(!A.s||!t.s)return new d(0);for(t.s*=A.s,r=A.e+t.e,c=h.length,u=f.length,c<u&&(s=h,h=f,f=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=s[a]+f[n]*h[a-n-1]+e,s[a--]=l%rn|0,e=l/rn|0;s[a]=(s[a]+e)%rn|0}for(;!s[--o];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,jr?ur(t,d.precision):t};Ve.toDecimalPlaces=Ve.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ai(t,0,Xd),e===void 0?e=n.rounding:Ai(e,0,8),ur(r,t+Hr(r)+1,e))};Ve.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=eu(n,!0):(Ai(t,0,Xd),e===void 0?e=a.rounding:Ai(e,0,8),n=ur(new a(n),t+1,e),r=eu(n,!0,t+1)),r};Ve.toFixed=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?eu(a):(Ai(t,0,Xd),e===void 0?e=s.rounding:Ai(e,0,8),n=ur(new s(a),t+Hr(a)+1,e),r=eu(n.abs(),!1,t+Hr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ve.toInteger=Ve.toint=function(){var t=this,e=t.constructor;return ur(new e(t),Hr(t)+1,e.rounding)};Ve.toNumber=function(){return+this};Ve.toPower=Ve.pow=function(t){var e,r,n,a,s,o,l=this,c=l.constructor,u=12,A=+(t=new c(t));if(!t.s)return new c(Na);if(l=new c(l),!l.s){if(t.s<1)throw Error(Za+"Infinity");return l}if(l.eq(Na))return l;if(n=c.precision,t.eq(Na))return ur(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,s=l.s,o){if((r=A<0?-A:A)<=aX){for(a=new c(Na),e=Math.ceil(n/xr+4),jr=!1;r%2&&(a=a.times(l),A5(a.d,e)),r=Jd(r/2),r!==0;)l=l.times(l),A5(l.d,e);return jr=!0,t.s<0?new c(Na).div(a):ur(a,n)}}else if(s<0)throw Error(Za+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,jr=!1,a=t.times(Lm(l,n+u)),jr=!0,a=iX(a),a.s=s,a};Ve.toPrecision=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?(r=Hr(a),n=eu(a,r<=s.toExpNeg||r>=s.toExpPos)):(Ai(t,1,Xd),e===void 0?e=s.rounding:Ai(e,0,8),a=ur(new s(a),t,e),r=Hr(a),n=eu(a,t<=r||r<=s.toExpNeg,t)),n};Ve.toSignificantDigits=Ve.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ai(t,1,Xd),e===void 0?e=n.rounding:Ai(e,0,8)),ur(new n(r),t,e)};Ve.toString=Ve.valueOf=Ve.val=Ve.toJSON=Ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Hr(t),r=t.constructor;return eu(t,e<=r.toExpNeg||e>=r.toExpPos)};function sX(t,e){var r,n,a,s,o,l,c,u,A=t.constructor,d=A.precision;if(!t.s||!e.s)return e.s||(e=new A(t)),jr?ur(e,d):e;if(c=t.d,u=e.d,o=t.e,a=e.e,c=c.slice(),s=o-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(d/xr),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/rn|0,c[s]%=rn;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,jr?ur(e,d):e}function Ai(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Fc+t)}function Js(t){var e,r,n,a=t.length-1,s="",o=t[0];if(a>0){for(s+=o,e=1;e<a;e++)n=t[e]+"",r=xr-n.length,r&&(s+=ko(r)),s+=n;o=t[e],n=o+"",r=xr-n.length,r&&(s+=ko(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Hi=function(){function t(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%rn|0,o=s/rn|0;return o&&n.unshift(o),n}function e(n,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*rn+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,c,u,A,d,h,f,p,g,m,x,b,_,w,C,E,j,B,S=n.constructor,N=n.s==a.s?1:-1,I=n.d,P=a.d;if(!n.s)return new S(n);if(!a.s)throw Error(Za+"Division by zero");for(c=n.e-a.e,j=P.length,C=I.length,f=new S(N),p=f.d=[],u=0;P[u]==(I[u]||0);)++u;if(P[u]>(I[u]||0)&&--c,s==null?b=s=S.precision:o?b=s+(Hr(n)-Hr(a))+1:b=s,b<0)return new S(0);if(b=b/xr+2|0,u=0,j==1)for(A=0,P=P[0],b++;(u<C||A)&&b--;u++)_=A*rn+(I[u]||0),p[u]=_/P|0,A=_%P|0;else{for(A=rn/(P[0]+1)|0,A>1&&(P=t(P,A),I=t(I,A),j=P.length,C=I.length),w=j,g=I.slice(0,j),m=g.length;m<j;)g[m++]=0;B=P.slice(),B.unshift(0),E=P[0],P[1]>=rn/2&&++E;do A=0,l=e(P,g,j,m),l<0?(x=g[0],j!=m&&(x=x*rn+(g[1]||0)),A=x/E|0,A>1?(A>=rn&&(A=rn-1),d=t(P,A),h=d.length,m=g.length,l=e(d,g,h,m),l==1&&(A--,r(d,j<h?B:P,h))):(A==0&&(l=A=1),d=P.slice()),h=d.length,h<m&&d.unshift(0),r(g,d,m),l==-1&&(m=g.length,l=e(P,g,j,m),l<1&&(A++,r(g,j<m?B:P,m))),m=g.length):l===0&&(A++,g=[0]),p[u++]=A,l&&g[0]?g[m++]=I[w]||0:(g=[I[w]],m=1);while((w++<C||g[0]!==void 0)&&b--)}return p[0]||p.shift(),f.e=c,ur(f,o?s+Hr(f)+1:s)}}();function iX(t,e){var r,n,a,s,o,l,c=0,u=0,A=t.constructor,d=A.precision;if(Hr(t)>16)throw Error(hP+Hr(t));if(!t.s)return new A(Na);for(jr=!1,l=d,o=new A(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(sc(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new A(Na),A.precision=l;;){if(a=ur(a.times(t),l),r=r.times(++c),o=s.plus(Hi(a,r,l)),Js(o.d).slice(0,l)===Js(s.d).slice(0,l)){for(;u--;)s=ur(s.times(s),l);return A.precision=d,e==null?(jr=!0,ur(s,d)):s}s=o}}function Hr(t){for(var e=t.e*xr,r=t.d[0];r>=10;r/=10)e++;return e}function lB(t,e,r){if(e>t.LN10.sd())throw jr=!0,r&&(t.precision=r),Error(Za+"LN10 precision limit exceeded");return ur(new t(t.LN10),e)}function ko(t){for(var e="";t--;)e+="0";return e}function Lm(t,e){var r,n,a,s,o,l,c,u,A,d=1,h=10,f=t,p=f.d,g=f.constructor,m=g.precision;if(f.s<1)throw Error(Za+(f.s?"NaN":"-Infinity"));if(f.eq(Na))return new g(0);if(e==null?(jr=!1,u=m):u=e,f.eq(10))return e==null&&(jr=!0),lB(g,u);if(u+=h,g.precision=u,r=Js(p),n=r.charAt(0),s=Hr(f),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(t),r=Js(f.d),n=r.charAt(0),d++;s=Hr(f),n>1?(f=new g("0."+r),s++):f=new g(n+"."+r.slice(1))}else return c=lB(g,u+2,m).times(s+""),f=Lm(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=m,e==null?(jr=!0,ur(f,m)):f;for(l=o=f=Hi(f.minus(Na),f.plus(Na),u),A=ur(f.times(f),u),a=3;;){if(o=ur(o.times(A),u),c=l.plus(Hi(o,new g(a),u)),Js(c.d).slice(0,u)===Js(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(lB(g,u+2,m).times(s+""))),l=Hi(l,new g(d),u),g.precision=m,e==null?(jr=!0,ur(l,m)):l;l=c,a+=2}}function u5(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=Jd(r/xr),t.d=[],n=(r+1)%xr,r<0&&(n+=xr),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=xr;n<a;)t.d.push(+e.slice(n,n+=xr));e=e.slice(n),n=xr-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),jr&&(t.e>Tx||t.e<-Tx))throw Error(hP+r)}else t.s=0,t.e=0,t.d=[0];return t}function ur(t,e,r){var n,a,s,o,l,c,u,A,d=t.d;for(o=1,s=d[0];s>=10;s/=10)o++;if(n=e-o,n<0)n+=xr,a=e,u=d[A=0];else{if(A=Math.ceil((n+1)/xr),s=d.length,A>=s)return t;for(u=s=d[A],o=1;s>=10;s/=10)o++;n%=xr,a=n-xr+o}if(r!==void 0&&(s=sc(10,o-a-1),l=u/s%10|0,c=e<0||d[A+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/sc(10,o-a):0:d[A-1])%10&1||r==(t.s<0?8:7))),e<1||!d[0])return c?(s=Hr(t),d.length=1,e=e-s-1,d[0]=sc(10,(xr-e%xr)%xr),t.e=Jd(-e/xr)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(n==0?(d.length=A,s=1,A--):(d.length=A+1,s=sc(10,xr-n),d[A]=a>0?(u/sc(10,o-a)%sc(10,a)|0)*s:0),c)for(;;)if(A==0){(d[0]+=s)==rn&&(d[0]=1,++t.e);break}else{if(d[A]+=s,d[A]!=rn)break;d[A--]=0,s=1}for(n=d.length;d[--n]===0;)d.pop();if(jr&&(t.e>Tx||t.e<-Tx))throw Error(hP+Hr(t));return t}function oX(t,e){var r,n,a,s,o,l,c,u,A,d,h=t.constructor,f=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),jr?ur(e,f):e;if(c=t.d,d=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(A=o<0,A?(r=c,o=-o,l=d.length):(r=d,n=u,l=c.length),a=Math.max(Math.ceil(f/xr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=d.length,A=a<l,A&&(l=a),a=0;a<l;a++)if(c[a]!=d[a]){A=c[a]<d[a];break}o=0}for(A&&(r=c,c=d,d=r,e.s=-e.s),l=c.length,a=d.length-l;a>0;--a)c[l++]=0;for(a=d.length;a>o;){if(c[--a]<d[a]){for(s=a;s&&c[--s]===0;)c[s]=rn-1;--c[s],c[a]+=rn}c[a]-=d[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,jr?ur(e,f):e):new h(0)}function eu(t,e,r){var n,a=Hr(t),s=Js(t.d),o=s.length;return e?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+ko(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+ko(-a-1)+s,r&&(n=r-o)>0&&(s+=ko(n))):a>=o?(s+=ko(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+ko(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=ko(n))),t.s<0?"-"+s:s}function A5(t,e){if(t.length>e)return t.length=e,!0}function lX(t){var e,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Fc+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return u5(o,s.toString())}else if(typeof s!="string")throw Error(Fc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,VPe.test(s))u5(o,s);else throw Error(Fc+s)}if(a.prototype=Ve,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=lX,a.config=a.set=KPe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function KPe(t){if(!t||typeof t!="object")throw Error(Za+"Object expected");var e,r,n,a=["precision",1,Xd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(Jd(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Fc+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Fc+r+": "+n);return this}var fP=lX($Pe);Na=new fP(1);const rr=fP;function qPe(t){return XPe(t)||WPe(t)||zPe(t)||GPe()}function GPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zPe(t,e){if(t){if(typeof t=="string")return gN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gN(t,e)}}function WPe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function XPe(t){if(Array.isArray(t))return gN(t)}function gN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var JPe=function(e){return e},cX={},uX=function(e){return e===cX},d5=function(e){return function r(){return arguments.length===0||arguments.length===1&&uX(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},YPe=function t(e,r){return e===1?r:d5(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(function(l){return l!==cX}).length;return o>=e?r.apply(void 0,a):t(e-o,d5(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var A=a.map(function(d){return uX(d)?c.shift():d});return r.apply(void 0,qPe(A).concat(c))}))})},Rb=function(e){return YPe(e.length,e)},vN=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},ZPe=Rb(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),e2e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return JPe;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},yN=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},AX=function(e){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=e.apply(void 0,s)),n}};function t2e(t){var e;return t===0?e=1:e=Math.floor(new rr(t).abs().log(10).toNumber())+1,e}function r2e(t,e,r){for(var n=new rr(t),a=0,s=[];n.lt(e)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var n2e=Rb(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),a2e=Rb(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),s2e=Rb(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Ub={rangeStep:r2e,getDigitCount:t2e,interpolateNumber:n2e,uninterpolateNumber:a2e,uninterpolateTruncation:s2e};function xN(t){return l2e(t)||o2e(t)||dX(t)||i2e()}function i2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o2e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function l2e(t){if(Array.isArray(t))return bN(t)}function Hm(t,e){return A2e(t)||u2e(t,e)||dX(t,e)||c2e()}function c2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dX(t,e){if(t){if(typeof t=="string")return bN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bN(t,e)}}function bN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u2e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,s=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw s}}return r}}function A2e(t){if(Array.isArray(t))return t}function hX(t){var e=Hm(t,2),r=e[0],n=e[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function fX(t,e,r){if(t.lte(0))return new rr(0);var n=Ub.getDigitCount(t.toNumber()),a=new rr(10).pow(n),s=t.div(a),o=n!==1?.05:.1,l=new rr(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return e?c:new rr(Math.ceil(c))}function d2e(t,e,r){var n=1,a=new rr(t);if(!a.isint()&&r){var s=Math.abs(t);s<1?(n=new rr(10).pow(Ub.getDigitCount(t)-1),a=new rr(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new rr(Math.floor(t)))}else t===0?a=new rr(Math.floor((e-1)/2)):r||(a=new rr(Math.floor(t)));var o=Math.floor((e-1)/2),l=e2e(ZPe(function(c){return a.add(new rr(c-o).mul(n)).toNumber()}),vN);return l(0,e)}function mX(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new rr(0),tickMin:new rr(0),tickMax:new rr(0)};var s=fX(new rr(e).sub(t).div(r-1),n,a),o;t<=0&&e>=0?o=new rr(0):(o=new rr(t).add(e).div(2),o=o.sub(new rr(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new rr(e).sub(o).div(s).toNumber()),u=l+c+1;return u>r?mX(t,e,r,n,a+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:s,tickMin:o.sub(new rr(l).mul(s)),tickMax:o.add(new rr(c).mul(s))})}function h2e(t){var e=Hm(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=hX([r,n]),c=Hm(l,2),u=c[0],A=c[1];if(u===-1/0||A===1/0){var d=A===1/0?[u].concat(xN(vN(0,a-1).map(function(){return 1/0}))):[].concat(xN(vN(0,a-1).map(function(){return-1/0})),[A]);return r>n?yN(d):d}if(u===A)return d2e(u,a,s);var h=mX(u,A,o,s),f=h.step,p=h.tickMin,g=h.tickMax,m=Ub.rangeStep(p,g.add(new rr(.1).mul(f)),f);return r>n?yN(m):m}function f2e(t,e){var r=Hm(t,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=hX([n,a]),l=Hm(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var A=Math.max(e,2),d=fX(new rr(u).sub(c).div(A-1),s,0),h=[].concat(xN(Ub.rangeStep(new rr(c),new rr(u).sub(new rr(.99).mul(d)),d)),[u]);return n>a?yN(h):h}var m2e=AX(h2e),p2e=AX(f2e),g2e="Invariant failed";function tu(t,e){throw new Error(g2e)}var v2e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function kx(){return kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kx.apply(this,arguments)}function y2e(t,e){return j2e(t)||w2e(t,e)||b2e(t,e)||x2e()}function x2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b2e(t,e){if(t){if(typeof t=="string")return h5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h5(t,e)}}function h5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function w2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function j2e(t){if(Array.isArray(t))return t}function _2e(t,e){if(t==null)return{};var r=C2e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function C2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function B2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E2e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vX(n.key),n)}}function S2e(t,e,r){return e&&E2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function N2e(t,e,r){return e=Ix(e),T2e(t,pX()?Reflect.construct(e,r||[],Ix(t).constructor):e.apply(t,r))}function T2e(t,e){if(e&&(dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k2e(t)}function k2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pX=function(){return!!t})()}function Ix(t){return Ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ix(t)}function I2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wN(t,e)}function wN(t,e){return wN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wN(t,e)}function gX(t,e,r){return e=vX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vX(t){var e=P2e(t,"string");return dd(e)=="symbol"?e:e+""}function P2e(t,e){if(dd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zp=function(t){function e(){return B2e(this,e),N2e(this,e,arguments)}return I2e(e,t),S2e(e,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,A=n.xAxis,d=n.yAxis,h=_2e(n,v2e),f=Dt(h,!1);this.props.direction==="x"&&A.type!=="number"&&tu();var p=c.map(function(g){var m=u(g,l),x=m.x,b=m.y,_=m.value,w=m.errorVal;if(!w)return null;var C=[],E,j;if(Array.isArray(w)){var B=y2e(w,2);E=B[0],j=B[1]}else E=j=w;if(s==="vertical"){var S=A.scale,N=b+a,I=N+o,P=N-o,T=S(_-E),U=S(_+j);C.push({x1:U,y1:I,x2:U,y2:P}),C.push({x1:T,y1:N,x2:U,y2:N}),C.push({x1:T,y1:I,x2:T,y2:P})}else if(s==="horizontal"){var M=d.scale,R=x+a,F=R-o,D=R+o,Q=M(_-E),H=M(_+j);C.push({x1:F,y1:H,x2:D,y2:H}),C.push({x1:R,y1:Q,x2:R,y2:H}),C.push({x1:F,y1:Q,x2:D,y2:Q})}return $.createElement(Fr,kx({className:"recharts-errorBar",key:"bar-".concat(C.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},f),C.map(function(G){return $.createElement("line",kx({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return $.createElement(Fr,{className:"recharts-errorBars"},p)}}])}($.Component);gX(Zp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});gX(Zp,"displayName","ErrorBar");function $m(t){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$m(t)}function f5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Xl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f5(Object(r),!0).forEach(function(n){O2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function O2e(t,e,r){return e=F2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F2e(t){var e=D2e(t,"string");return $m(e)=="symbol"?e:e+""}function D2e(t,e){if($m(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yX=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,s=e.legendContent,o=_a(r,pA);if(!o)return null;var l=pA.defaultProps,c=l!==void 0?Xl(Xl({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(A,d){var h=d.item,f=d.props,p=f.sectors||f.data||[];return A.concat(p.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(A){var d=A.item,h=d.type.defaultProps,f=h!==void 0?Xl(Xl({},h),d.props):{},p=f.dataKey,g=f.name,m=f.legendType,x=f.hide;return{inactive:x,dataKey:p,type:c.iconType||m||"square",color:mP(d),value:g||p,payload:f}}),Xl(Xl(Xl({},c),pA.getWithHeight(o,a)),{},{payload:u,item:o})};function Vm(t){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(t)}function m5(t){return Q2e(t)||M2e(t)||U2e(t)||R2e()}function R2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U2e(t,e){if(t){if(typeof t=="string")return jN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jN(t,e)}}function M2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Q2e(t){if(Array.isArray(t))return jN(t)}function jN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p5(Object(r),!0).forEach(function(n){vA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vA(t,e,r){return e=L2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L2e(t){var e=H2e(t,"string");return Vm(e)=="symbol"?e:e+""}function H2e(t,e){if(Vm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oa(t,e,r){return Tt(t)||Tt(e)?r:zr(e)?Wa(t,e,r):Ct(e)?e(t):r}function If(t,e,r,n){var a=QPe(t,function(l){return Oa(l,e)});if(r==="number"){var s=a.filter(function(l){return Pe(l)||parseFloat(l)});return s.length?[Fb(s),Ob(s)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Tt(l)}):a;return o.map(function(l){return zr(l)||l instanceof Date?l:""})}var $2e=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var A=u>0?a[u-1].coordinate:a[l-1].coordinate,d=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,f=void 0;if(xs(d-A)!==xs(h-d)){var p=[];if(xs(h-d)===xs(c[1]-c[0])){f=h;var g=d+c[1]-c[0];p[0]=Math.min(g,(g+A)/2),p[1]=Math.max(g,(g+A)/2)}else{f=A;var m=h+c[1]-c[0];p[0]=Math.min(d,(m+d)/2),p[1]=Math.max(d,(m+d)/2)}var x=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(e>x[0]&&e<=x[1]||e>=p[0]&&e<=p[1]){o=a[u].index;break}}else{var b=Math.min(A,h),_=Math.max(A,h);if(e>(b+d)/2&&e<=(_+d)/2){o=a[u].index;break}}}else for(var w=0;w<l;w++)if(w===0&&e<=(n[w].coordinate+n[w+1].coordinate)/2||w>0&&w<l-1&&e>(n[w].coordinate+n[w-1].coordinate)/2&&e<=(n[w].coordinate+n[w+1].coordinate)/2||w===l-1&&e>(n[w].coordinate+n[w-1].coordinate)/2){o=n[w].index;break}return o},mP=function(e){var r,n=e,a=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Nr(Nr({},e.type.defaultProps),e.props):e.props,o=s.stroke,l=s.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},V2e=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var A=s[l[c]].stackGroups,d=Object.keys(A),h=0,f=d.length;h<f;h++){var p=A[d[h]],g=p.items,m=p.cateAxisId,x=g.filter(function(j){return Qi(j.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,_=b!==void 0?Nr(Nr({},b),x[0].props):x[0].props,w=_.barSize,C=_[m];o[C]||(o[C]=[]);var E=Tt(w)?r:w;o[C].push({item:x[0],stackList:x.slice(1),barSize:Tt(E)?void 0:Zc(E,n,0)})}}return o},K2e=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=Zc(r,a,0,!0),A,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,f=a/c,p=o.reduce(function(w,C){return w+C.barSize||0},0);p+=(c-1)*u,p>=a&&(p-=(c-1)*u,u=0),p>=a&&f>0&&(h=!0,f*=.9,p=c*f);var g=(a-p)/2>>0,m={offset:g-u,size:0};A=o.reduce(function(w,C){var E={item:C.item,position:{offset:m.offset+m.size+u,size:h?f:C.barSize}},j=[].concat(m5(w),[E]);return m=j[j.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(B){j.push({item:B,position:m})}),j},d)}else{var x=Zc(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var b=(a-2*x-(c-1)*u)/c;b>1&&(b>>=0);var _=l===+l?Math.min(b,l):b;A=o.reduce(function(w,C,E){var j=[].concat(m5(w),[{item:C.item,position:{offset:x+(b+u)*E+(b-_)/2,size:_}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(B){j.push({item:B,position:j[j.length-1].position})}),j},d)}return A},q2e=function(e,r,n,a){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=yX({children:s,legendWidth:c});if(u){var A=a||{},d=A.width,h=A.height,f=u.align,p=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&p==="middle")&&f!=="center"&&Pe(e[f]))return Nr(Nr({},e),{},vA({},f,e[f]+(d||0)));if((g==="horizontal"||g==="vertical"&&f==="center")&&p!=="middle"&&Pe(e[p]))return Nr(Nr({},e),{},vA({},p,e[p]+(h||0)))}return e},G2e=function(e,r,n){return Tt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},xX=function(e,r,n,a,s){var o=r.props.children,l=Xa(o,Zp).filter(function(u){return G2e(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,A){var d=Oa(A,n);if(Tt(d))return u;var h=Array.isArray(d)?[Fb(d),Ob(d)]:[d,d],f=c.reduce(function(p,g){var m=Oa(A,g,0),x=h[0]-Math.abs(Array.isArray(m)?m[0]:m),b=h[1]+Math.abs(Array.isArray(m)?m[1]:m);return[Math.min(x,p[0]),Math.max(b,p[1])]},[1/0,-1/0]);return[Math.min(f[0],u[0]),Math.max(f[1],u[1])]},[1/0,-1/0])}return null},z2e=function(e,r,n,a,s){var o=r.map(function(l){return xX(e,l,n,s,a)}).filter(function(l){return!Tt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},bX=function(e,r,n,a,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&xX(e,c,u,a)||If(e,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var A=0,d=u.length;A<d;A++)l[u[A]]||(l[u[A]]=!0,c.push(u[A]));return c},[])},wX=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},jX=function(e,r,n,a){if(a)return e.map(function(c){return c.coordinate});var s,o,l=e.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},Oi=function(e,r,n){if(!e)return null;var a=e.scale,s=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?xs(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var A=(e.ticks||e.niceTicks).map(function(d){var h=s?s.indexOf(d):d;return{coordinate:a(h)+u,value:d,offset:u}});return A.filter(function(d){return!qp(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:a(d)+u,value:d,index:h,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(d){return{coordinate:a(d)+u,value:d,offset:u}}):a.domain().map(function(d,h){return{coordinate:a(d)+u,value:s?s[d]:d,index:h,offset:u}})},cB=new WeakMap,xv=function(e,r){if(typeof r!="function")return e;cB.has(e)||cB.set(e,new WeakMap);var n=cB.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},W2e=function(e,r,n){var a=e.scale,s=e.type,o=e.layout,l=e.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Dm(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Bx(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:kf(),realScaleType:"point"}:s==="category"?{scale:Dm(),realScaleType:"band"}:{scale:Bx(),realScaleType:"linear"};if(Kp(a)){var c="scale".concat(bb(a));return{scale:(t5[c]||kf)(),realScaleType:t5[c]?c:"point"}}return Ct(a)?{scale:a}:{scale:kf(),realScaleType:"point"}},g5=1e-4,X2e=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),s=Math.min(a[0],a[1])-g5,o=Math.max(a[0],a[1])+g5,l=e(r[0]),c=e(r[n-1]);(l<s||l>o||c<s||c>o)&&e.domain([r[0],r[n-1]])}},J2e=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},Y2e=function(e,r){if(!r||r.length!==2||!Pe(r[0])||!Pe(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!Pe(e[0])||e[0]<n)&&(s[0]=n),(!Pe(e[1])||e[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},Z2e=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,o=0,l=0;l<r;++l){var c=qp(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},eOe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,o=0;o<r;++o){var l=qp(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},tOe={sign:Z2e,expand:REe,none:ad,silhouette:UEe,wiggle:MEe,positive:eOe},rOe=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),s=tOe[n],o=DEe().keys(a).value(function(l,c){return+Oa(l,c,0)}).order(ZS).offset(s);return o(e)},nOe=function(e,r,n,a,s,o){if(!e)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(d,h){var f,p=(f=h.type)!==null&&f!==void 0&&f.defaultProps?Nr(Nr({},h.type.defaultProps),h.props):h.props,g=p.stackId,m=p.hide;if(m)return d;var x=p[n],b=d[x]||{hasStack:!1,stackGroups:{}};if(zr(g)){var _=b.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};_.items.push(h),b.hasStack=!0,b.stackGroups[g]=_}else b.stackGroups[Gp("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Nr(Nr({},d),{},vA({},x,b))},c),A={};return Object.keys(u).reduce(function(d,h){var f=u[h];if(f.hasStack){var p={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(g,m){var x=f.stackGroups[m];return Nr(Nr({},g),{},vA({},m,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:rOe(e,x.items,s)}))},p)}return Nr(Nr({},d),{},vA({},h,f))},A)},aOe=function(e,r){var n=r.realScaleType,a=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var A=m2e(u,s,l);return e.domain([Fb(A),Ob(A)]),{niceTicks:A}}if(s&&a==="number"){var d=e.domain(),h=p2e(d,s,l);return{niceTicks:h}}return null};function v5(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Tt(a[e.dataKey])){var l=ix(r,"value",a[e.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Oa(a,Tt(o)?e.dataKey:o);return Tt(c)?null:e.scale(c)}var y5=function(e){var r=e.axis,n=e.ticks,a=e.offset,s=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Oa(o,r.dataKey,r.domain[l]);return Tt(c)?null:r.scale(c)-s/2+a},sOe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},iOe=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Nr(Nr({},e.type.defaultProps),e.props):e.props,s=a.stackId;if(zr(s)){var o=r[s];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},oOe=function(e){return e.reduce(function(r,n){return[Fb(n.concat([r[0]]).filter(Pe)),Ob(n.concat([r[1]]).filter(Pe))]},[1/0,-1/0])},_X=function(e,r,n){return Object.keys(e).reduce(function(a,s){var o=e[s],l=o.stackedData,c=l.reduce(function(u,A){var d=oOe(A.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},x5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,b5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_N=function(e,r,n){if(Ct(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(Pe(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(x5.test(e[0])){var s=+x5.exec(e[0])[1];a[0]=r[0]-s}else Ct(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(Pe(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(b5.test(e[1])){var o=+b5.exec(e[1])[1];a[1]=r[1]+o}else Ct(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},Px=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var s=$I(r,function(d){return d.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],A=s[l-1];o=Math.min((u.coordinate||0)-(A.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},w5=function(e,r,n){return!e||!e.length||Db(e,Wa(n,"type.defaultProps.domain"))?r:e},CX=function(e,r){var n=e.type.defaultProps?Nr(Nr({},e.type.defaultProps),e.props):e.props,a=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,A=n.hide;return Nr(Nr({},Dt(e,!1)),{},{dataKey:a,unit:o,formatter:l,name:s||a,color:mP(e),value:Oa(r,a),type:c,payload:r,chartType:u,hide:A})};function Km(t){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Km(t)}function j5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j5(Object(r),!0).forEach(function(n){lOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lOe(t,e,r){return e=cOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cOe(t){var e=uOe(t,"string");return Km(e)=="symbol"?e:e+""}function uOe(t,e){if(Km(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ox=Math.PI/180,AOe=function(e){return e*180/Math.PI},wn=function(e,r,n,a){return{x:e+Math.cos(-Ox*a)*n,y:r+Math.sin(-Ox*a)*n}},dOe=function(e,r){var n=e.x,a=e.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-o,2))},hOe=function(e,r){var n=e.x,a=e.y,s=r.cx,o=r.cy,l=dOe({x:n,y:a},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:AOe(u),angleInRadian:u}},fOe=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:r-o*360,endAngle:n-o*360}},mOe=function(e,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(s,o);return e+l*360},C5=function(e,r){var n=e.x,a=e.y,s=hOe({x:n,y:a},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var A=fOe(r),d=A.startAngle,h=A.endAngle,f=l,p;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;p=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;p=f>=h&&f<=d}return p?_5(_5({},r),{},{radius:o,angle:mOe(f,r)}):null};function qm(t){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(t)}var pOe=["offset"];function gOe(t){return bOe(t)||xOe(t)||yOe(t)||vOe()}function vOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yOe(t,e){if(t){if(typeof t=="string")return CN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CN(t,e)}}function xOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bOe(t){if(Array.isArray(t))return CN(t)}function CN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wOe(t,e){if(t==null)return{};var r=jOe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function B5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B5(Object(r),!0).forEach(function(n){_Oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _Oe(t,e,r){return e=COe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function COe(t){var e=BOe(t,"string");return qm(e)=="symbol"?e:e+""}function BOe(t,e){if(qm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gm(){return Gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gm.apply(this,arguments)}var EOe=function(e){var r=e.value,n=e.formatter,a=Tt(e.children)?r:e.children;return Ct(n)?n(a):a},SOe=function(e,r){var n=xs(r-e),a=Math.min(Math.abs(r-e),360);return n*a},NOe=function(e,r,n){var a=e.position,s=e.viewBox,o=e.offset,l=e.className,c=s,u=c.cx,A=c.cy,d=c.innerRadius,h=c.outerRadius,f=c.startAngle,p=c.endAngle,g=c.clockWise,m=(d+h)/2,x=SOe(f,p),b=x>=0?1:-1,_,w;a==="insideStart"?(_=f+b*o,w=g):a==="insideEnd"?(_=p-b*o,w=!g):a==="end"&&(_=p+b*o,w=g),w=x<=0?w:!w;var C=wn(u,A,m,_),E=wn(u,A,m,_+(w?1:-1)*359),j="M".concat(C.x,",").concat(C.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(w?0:1,`,
    `).concat(E.x,",").concat(E.y),B=Tt(e.id)?Gp("recharts-radial-line-"):e.id;return $.createElement("text",Gm({},n,{dominantBaseline:"central",className:Qt("recharts-radial-bar-label",l)}),$.createElement("defs",null,$.createElement("path",{id:B,d:j})),$.createElement("textPath",{xlinkHref:"#".concat(B)},r))},TOe=function(e){var r=e.viewBox,n=e.offset,a=e.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,A=s.startAngle,d=s.endAngle,h=(A+d)/2;if(a==="outside"){var f=wn(o,l,u+n,h),p=f.x,g=f.y;return{x:p,y:g,textAnchor:p>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var m=(c+u)/2,x=wn(o,l,m,h),b=x.x,_=x.y;return{x:b,y:_,textAnchor:"middle",verticalAnchor:"middle"}},kOe=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,s=e.position,o=r,l=o.x,c=o.y,u=o.width,A=o.height,d=A>=0?1:-1,h=d*a,f=d>0?"end":"start",p=d>0?"start":"end",g=u>=0?1:-1,m=g*a,x=g>0?"end":"start",b=g>0?"start":"end";if(s==="top"){var _={x:l+u/2,y:c-d*a,textAnchor:"middle",verticalAnchor:f};return $r($r({},_),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var w={x:l+u/2,y:c+A+h,textAnchor:"middle",verticalAnchor:p};return $r($r({},w),n?{height:Math.max(n.y+n.height-(c+A),0),width:u}:{})}if(s==="left"){var C={x:l-m,y:c+A/2,textAnchor:x,verticalAnchor:"middle"};return $r($r({},C),n?{width:Math.max(C.x-n.x,0),height:A}:{})}if(s==="right"){var E={x:l+u+m,y:c+A/2,textAnchor:b,verticalAnchor:"middle"};return $r($r({},E),n?{width:Math.max(n.x+n.width-E.x,0),height:A}:{})}var j=n?{width:u,height:A}:{};return s==="insideLeft"?$r({x:l+m,y:c+A/2,textAnchor:b,verticalAnchor:"middle"},j):s==="insideRight"?$r({x:l+u-m,y:c+A/2,textAnchor:x,verticalAnchor:"middle"},j):s==="insideTop"?$r({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:p},j):s==="insideBottom"?$r({x:l+u/2,y:c+A-h,textAnchor:"middle",verticalAnchor:f},j):s==="insideTopLeft"?$r({x:l+m,y:c+h,textAnchor:b,verticalAnchor:p},j):s==="insideTopRight"?$r({x:l+u-m,y:c+h,textAnchor:x,verticalAnchor:p},j):s==="insideBottomLeft"?$r({x:l+m,y:c+A-h,textAnchor:b,verticalAnchor:f},j):s==="insideBottomRight"?$r({x:l+u-m,y:c+A-h,textAnchor:x,verticalAnchor:f},j):qd(s)&&(Pe(s.x)||gc(s.x))&&(Pe(s.y)||gc(s.y))?$r({x:l+Zc(s.x,u),y:c+Zc(s.y,A),textAnchor:"end",verticalAnchor:"end"},j):$r({x:l+u/2,y:c+A/2,textAnchor:"middle",verticalAnchor:"middle"},j)},IOe=function(e){return"cx"in e&&Pe(e.cx)};function Dn(t){var e=t.offset,r=e===void 0?5:e,n=wOe(t,pOe),a=$r({offset:r},n),s=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,A=a.className,d=A===void 0?"":A,h=a.textBreakAll;if(!s||Tt(l)&&Tt(c)&&!v.isValidElement(u)&&!Ct(u))return null;if(v.isValidElement(u))return v.cloneElement(u,a);var f;if(Ct(u)){if(f=v.createElement(u,a),v.isValidElement(f))return f}else f=EOe(a);var p=IOe(s),g=Dt(a,!0);if(p&&(o==="insideStart"||o==="insideEnd"||o==="end"))return NOe(a,f,g);var m=p?TOe(a):kOe(a);return $.createElement(yx,Gm({className:Qt("recharts-label",d)},g,m,{breakAll:h}),f)}Dn.displayName="Label";var BX=function(e){var r=e.cx,n=e.cy,a=e.angle,s=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,A=e.outerRadius,d=e.x,h=e.y,f=e.top,p=e.left,g=e.width,m=e.height,x=e.clockWise,b=e.labelViewBox;if(b)return b;if(Pe(g)&&Pe(m)){if(Pe(d)&&Pe(h))return{x:d,y:h,width:g,height:m};if(Pe(f)&&Pe(p))return{x:f,y:p,width:g,height:m}}return Pe(d)&&Pe(h)?{x:d,y:h,width:0,height:0}:Pe(r)&&Pe(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:A||c||l||0,clockWise:x}:e.viewBox?e.viewBox:{}},POe=function(e,r){return e?e===!0?$.createElement(Dn,{key:"label-implicit",viewBox:r}):zr(e)?$.createElement(Dn,{key:"label-implicit",viewBox:r,value:e}):v.isValidElement(e)?e.type===Dn?v.cloneElement(e,{key:"label-implicit",viewBox:r}):$.createElement(Dn,{key:"label-implicit",content:e,viewBox:r}):Ct(e)?$.createElement(Dn,{key:"label-implicit",content:e,viewBox:r}):qd(e)?$.createElement(Dn,Gm({viewBox:r},e,{key:"label-implicit"})):null:null},OOe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=BX(e),o=Xa(a,Dn).map(function(c,u){return v.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=POe(e.label,r||s);return[l].concat(gOe(o))};Dn.parseViewBox=BX;Dn.renderCallByParent=OOe;var uB,E5;function FOe(){if(E5)return uB;E5=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return uB=t,uB}var DOe=FOe();const ROe=Lt(DOe);function zm(t){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zm(t)}var UOe=["valueAccessor"],MOe=["data","dataKey","clockWise","id","textBreakAll"];function QOe(t){return VOe(t)||$Oe(t)||HOe(t)||LOe()}function LOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HOe(t,e){if(t){if(typeof t=="string")return BN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BN(t,e)}}function $Oe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VOe(t){if(Array.isArray(t))return BN(t)}function BN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fx(){return Fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fx.apply(this,arguments)}function S5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function N5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S5(Object(r),!0).forEach(function(n){KOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KOe(t,e,r){return e=qOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qOe(t){var e=GOe(t,"string");return zm(e)=="symbol"?e:e+""}function GOe(t,e){if(zm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T5(t,e){if(t==null)return{};var r=zOe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var WOe=function(e){return Array.isArray(e.value)?ROe(e.value):e.value};function cl(t){var e=t.valueAccessor,r=e===void 0?WOe:e,n=T5(t,UOe),a=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=T5(n,MOe);return!a||!a.length?null:$.createElement(Fr,{className:"recharts-label-list"},a.map(function(A,d){var h=Tt(s)?r(A,d):Oa(A&&A.payload,s),f=Tt(l)?{}:{id:"".concat(l,"-").concat(d)};return $.createElement(Dn,Fx({},Dt(A,!0),u,f,{parentViewBox:A.parentViewBox,value:h,textBreakAll:c,viewBox:Dn.parseViewBox(Tt(o)?A:N5(N5({},A),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}cl.displayName="LabelList";function XOe(t,e){return t?t===!0?$.createElement(cl,{key:"labelList-implicit",data:e}):$.isValidElement(t)||Ct(t)?$.createElement(cl,{key:"labelList-implicit",data:e,content:t}):qd(t)?$.createElement(cl,Fx({data:e},t,{key:"labelList-implicit"})):null:null}function JOe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=Xa(n,cl).map(function(o,l){return v.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var s=XOe(t.label,e);return[s].concat(QOe(a))}cl.renderCallByParent=JOe;function Wm(t){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(t)}function EN(){return EN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},EN.apply(this,arguments)}function k5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function I5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k5(Object(r),!0).forEach(function(n){YOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YOe(t,e,r){return e=ZOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZOe(t){var e=eFe(t,"string");return Wm(e)=="symbol"?e:e+""}function eFe(t,e){if(Wm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tFe=function(e,r){var n=xs(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},bv=function(e){var r=e.cx,n=e.cy,a=e.radius,s=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,A=c*(l?1:-1)+a,d=Math.asin(c/A)/Ox,h=u?s:s+o*d,f=wn(r,n,A,h),p=wn(r,n,a,h),g=u?s-o*d:s,m=wn(r,n,A*Math.cos(d*Ox),g);return{center:f,circleTangency:p,lineTangency:m,theta:d}},EX=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,o=e.startAngle,l=e.endAngle,c=tFe(o,l),u=o+c,A=wn(r,n,s,o),d=wn(r,n,s,u),h="M ".concat(A.x,",").concat(A.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var f=wn(r,n,a,o),p=wn(r,n,a,u);h+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},rFe=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,A=e.endAngle,d=xs(A-u),h=bv({cx:r,cy:n,radius:s,angle:u,sign:d,cornerRadius:o,cornerIsExternal:c}),f=h.circleTangency,p=h.lineTangency,g=h.theta,m=bv({cx:r,cy:n,radius:s,angle:A,sign:-d,cornerRadius:o,cornerIsExternal:c}),x=m.circleTangency,b=m.lineTangency,_=m.theta,w=c?Math.abs(u-A):Math.abs(u-A)-g-_;if(w<0)return l?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):EX({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:A});var C="M ".concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(w>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var E=bv({cx:r,cy:n,radius:a,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),j=E.circleTangency,B=E.lineTangency,S=E.theta,N=bv({cx:r,cy:n,radius:a,angle:A,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=N.circleTangency,P=N.lineTangency,T=N.theta,U=c?Math.abs(u-A):Math.abs(u-A)-S-T;if(U<0&&o===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(U>180),",").concat(+(d>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(B.x,",").concat(B.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},nFe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},SX=function(e){var r=I5(I5({},nFe),e),n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,A=r.startAngle,d=r.endAngle,h=r.className;if(o<s||A===d)return null;var f=Qt("recharts-sector",h),p=o-s,g=Zc(l,p,0,!0),m;return g>0&&Math.abs(A-d)<360?m=rFe({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(g,p/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:A,endAngle:d}):m=EX({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:A,endAngle:d}),$.createElement("path",EN({},Dt(r,!0),{className:f,d:m,role:"img"}))};function Xm(t){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xm(t)}function SN(){return SN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SN.apply(this,arguments)}function P5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function O5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P5(Object(r),!0).forEach(function(n){aFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aFe(t,e,r){return e=sFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sFe(t){var e=iFe(t,"string");return Xm(e)=="symbol"?e:e+""}function iFe(t,e){if(Xm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F5={curveBasisClosed:CEe,curveBasisOpen:BEe,curveBasis:_Ee,curveBumpX:uEe,curveBumpY:AEe,curveLinearClosed:EEe,curveLinear:jb,curveMonotoneX:SEe,curveMonotoneY:NEe,curveNatural:TEe,curveStep:kEe,curveStepAfter:PEe,curveStepBefore:IEe},wv=function(e){return e.x===+e.x&&e.y===+e.y},Lh=function(e){return e.x},Hh=function(e){return e.y},oFe=function(e,r){if(Ct(e))return e;var n="curve".concat(bb(e));return(n==="curveMonotone"||n==="curveBump")&&r?F5["".concat(n).concat(r==="vertical"?"Y":"X")]:F5[n]||jb},lFe=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,s=a===void 0?[]:a,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,A=oFe(n,l),d=u?s.filter(function(g){return wv(g)}):s,h;if(Array.isArray(o)){var f=u?o.filter(function(g){return wv(g)}):o,p=d.map(function(g,m){return O5(O5({},g),{},{base:f[m]})});return l==="vertical"?h=hv().y(Hh).x1(Lh).x0(function(g){return g.base.x}):h=hv().x(Lh).y1(Hh).y0(function(g){return g.base.y}),h.defined(wv).curve(A),h(p)}return l==="vertical"&&Pe(o)?h=hv().y(Hh).x1(Lh).x0(o):Pe(o)?h=hv().x(Lh).y1(Hh).y0(o):h=Iz().x(Lh).y(Hh),h.defined(wv).curve(A),h(d)},NN=function(e){var r=e.className,n=e.points,a=e.path,s=e.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?lFe(e):a;return $.createElement("path",SN({},Dt(e,!1),ox(e),{className:Qt("recharts-curve",r),d:o,ref:s}))},cFe=Object.getOwnPropertyNames,uFe=Object.getOwnPropertySymbols,AFe=Object.prototype.hasOwnProperty;function D5(t,e){return function(n,a,s){return t(n,a,s)&&e(n,a,s)}}function jv(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var s=a.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=t(r,n,a);return s.delete(r),s.delete(n),c}}function R5(t){return cFe(t).concat(uFe(t))}var NX=Object.hasOwn||function(t,e){return AFe.call(t,e)};function Yd(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var TX="_owner",U5=Object.getOwnPropertyDescriptor,M5=Object.keys;function dFe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function hFe(t,e){return Yd(t.getTime(),e.getTime())}function Q5(t,e,r){if(t.size!==e.size)return!1;for(var n={},a=t.entries(),s=0,o,l;(o=a.next())&&!o.done;){for(var c=e.entries(),u=!1,A=0;(l=c.next())&&!l.done;){var d=o.value,h=d[0],f=d[1],p=l.value,g=p[0],m=p[1];!u&&!n[A]&&(u=r.equals(h,g,s,A,t,e,r)&&r.equals(f,m,h,g,t,e,r))&&(n[A]=!0),A++}if(!u)return!1;s++}return!0}function fFe(t,e,r){var n=M5(t),a=n.length;if(M5(e).length!==a)return!1;for(var s;a-- >0;)if(s=n[a],s===TX&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!NX(e,s)||!r.equals(t[s],e[s],s,s,t,e,r))return!1;return!0}function $h(t,e,r){var n=R5(t),a=n.length;if(R5(e).length!==a)return!1;for(var s,o,l;a-- >0;)if(s=n[a],s===TX&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!NX(e,s)||!r.equals(t[s],e[s],s,s,t,e,r)||(o=U5(t,s),l=U5(e,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function mFe(t,e){return Yd(t.valueOf(),e.valueOf())}function pFe(t,e){return t.source===e.source&&t.flags===e.flags}function L5(t,e,r){if(t.size!==e.size)return!1;for(var n={},a=t.values(),s,o;(s=a.next())&&!s.done;){for(var l=e.values(),c=!1,u=0;(o=l.next())&&!o.done;)!c&&!n[u]&&(c=r.equals(s.value,o.value,s.value,o.value,t,e,r))&&(n[u]=!0),u++;if(!c)return!1}return!0}function gFe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}var vFe="[object Arguments]",yFe="[object Boolean]",xFe="[object Date]",bFe="[object Map]",wFe="[object Number]",jFe="[object Object]",_Fe="[object RegExp]",CFe="[object Set]",BFe="[object String]",EFe=Array.isArray,H5=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,$5=Object.assign,SFe=Object.prototype.toString.call.bind(Object.prototype.toString);function NFe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areMapsEqual,a=t.areObjectsEqual,s=t.arePrimitiveWrappersEqual,o=t.areRegExpsEqual,l=t.areSetsEqual,c=t.areTypedArraysEqual;return function(A,d,h){if(A===d)return!0;if(A==null||d==null||typeof A!="object"||typeof d!="object")return A!==A&&d!==d;var f=A.constructor;if(f!==d.constructor)return!1;if(f===Object)return a(A,d,h);if(EFe(A))return e(A,d,h);if(H5!=null&&H5(A))return c(A,d,h);if(f===Date)return r(A,d,h);if(f===RegExp)return o(A,d,h);if(f===Map)return n(A,d,h);if(f===Set)return l(A,d,h);var p=SFe(A);return p===xFe?r(A,d,h):p===_Fe?o(A,d,h):p===bFe?n(A,d,h):p===CFe?l(A,d,h):p===jFe?typeof A.then!="function"&&typeof d.then!="function"&&a(A,d,h):p===vFe?a(A,d,h):p===yFe||p===wFe||p===BFe?s(A,d,h):!1}}function TFe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?$h:dFe,areDatesEqual:hFe,areMapsEqual:n?D5(Q5,$h):Q5,areObjectsEqual:n?$h:fFe,arePrimitiveWrappersEqual:mFe,areRegExpsEqual:pFe,areSetsEqual:n?D5(L5,$h):L5,areTypedArraysEqual:n?$h:gFe};if(r&&(a=$5({},a,r(a))),e){var s=jv(a.areArraysEqual),o=jv(a.areMapsEqual),l=jv(a.areObjectsEqual),c=jv(a.areSetsEqual);a=$5({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function kFe(t){return function(e,r,n,a,s,o,l){return t(e,r,l)}}function IFe(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,s=t.strict;if(n)return function(c,u){var A=n(),d=A.cache,h=d===void 0?e?new WeakMap:void 0:d,f=A.meta;return r(c,u,{cache:h,equals:a,meta:f,strict:s})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var PFe=Ml();Ml({strict:!0});Ml({circular:!0});Ml({circular:!0,strict:!0});Ml({createInternalComparator:function(){return Yd}});Ml({strict:!0,createInternalComparator:function(){return Yd}});Ml({circular:!0,createInternalComparator:function(){return Yd}});Ml({circular:!0,createInternalComparator:function(){return Yd},strict:!0});function Ml(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,s=t.strict,o=s===void 0?!1:s,l=TFe(t),c=NFe(l),u=n?n(c):kFe(c);return IFe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function OFe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function V5(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>e?(t(s),r=-1):OFe(a)};requestAnimationFrame(n)}function TN(t){"@babel/helpers - typeof";return TN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TN(t)}function FFe(t){return MFe(t)||UFe(t)||RFe(t)||DFe()}function DFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RFe(t,e){if(t){if(typeof t=="string")return K5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K5(t,e)}}function K5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MFe(t){if(Array.isArray(t))return t}function QFe(){var t={},e=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=FFe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){V5(a.bind(null,u),c);return}a(c),V5(a.bind(null,u));return}TN(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Jm(t){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jm(t)}function q5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function G5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q5(Object(r),!0).forEach(function(n){kX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kX(t,e,r){return e=LFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LFe(t){var e=HFe(t,"string");return Jm(e)==="symbol"?e:String(e)}function HFe(t,e){if(Jm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $Fe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},VFe=function(e){return e},KFe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Pf=function(e,r){return Object.keys(r).reduce(function(n,a){return G5(G5({},n),{},kX({},a,e(a,r[a])))},{})},z5=function(e,r,n){return e.map(function(a){return"".concat(KFe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function qFe(t,e){return WFe(t)||zFe(t,e)||IX(t,e)||GFe()}function GFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zFe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function WFe(t){if(Array.isArray(t))return t}function XFe(t){return ZFe(t)||YFe(t)||IX(t)||JFe()}function JFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IX(t,e){if(t){if(typeof t=="string")return kN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kN(t,e)}}function YFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZFe(t){if(Array.isArray(t))return kN(t)}function kN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Dx=1e-4,PX=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},OX=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},W5=function(e,r){return function(n){var a=PX(e,r);return OX(a,n)}},eDe=function(e,r){return function(n){var a=PX(e,r),s=[].concat(XFe(a.map(function(o,l){return o*l}).slice(1)),[0]);return OX(s,n)}},X5=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(m){return parseFloat(m)}),A=qFe(u,4);a=A[0],s=A[1],o=A[2],l=A[3]}}}var d=W5(a,o),h=W5(s,l),f=eDe(a,o),p=function(x){return x>1?1:x<0?0:x},g=function(x){for(var b=x>1?1:x,_=b,w=0;w<8;++w){var C=d(_)-b,E=f(_);if(Math.abs(C-b)<Dx||E<Dx)return h(_);_=p(_-C/E)}return h(_)};return g.isStepper=!1,g},tDe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,s=a===void 0?8:a,o=e.dt,l=o===void 0?17:o,c=function(A,d,h){var f=-(A-d)*n,p=h*s,g=h+(f-p)*l/1e3,m=h*l/1e3+A;return Math.abs(m-d)<Dx&&Math.abs(g)<Dx?[d,0]:[m,g]};return c.isStepper=!0,c.dt=l,c},rDe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return X5(a);case"spring":return tDe();default:if(a.split("(")[0]==="cubic-bezier")return X5(a)}return typeof a=="function"?a:null};function Ym(t){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ym(t)}function J5(t){return sDe(t)||aDe(t)||FX(t)||nDe()}function nDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sDe(t){if(Array.isArray(t))return PN(t)}function Y5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function un(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y5(Object(r),!0).forEach(function(n){IN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IN(t,e,r){return e=iDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iDe(t){var e=oDe(t,"string");return Ym(e)==="symbol"?e:String(e)}function oDe(t,e){if(Ym(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ym(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lDe(t,e){return ADe(t)||uDe(t,e)||FX(t,e)||cDe()}function cDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FX(t,e){if(t){if(typeof t=="string")return PN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PN(t,e)}}function PN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uDe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ADe(t){if(Array.isArray(t))return t}var Rx=function(e,r,n){return e+(r-e)*n},ON=function(e){var r=e.from,n=e.to;return r!==n},dDe=function t(e,r,n){var a=Pf(function(s,o){if(ON(o)){var l=e(o.from,o.to,o.velocity),c=lDe(l,2),u=c[0],A=c[1];return un(un({},o),{},{from:u,velocity:A})}return o},r);return n<1?Pf(function(s,o){return ON(o)?un(un({},o),{},{velocity:Rx(o.velocity,a[s].velocity,n),from:Rx(o.from,a[s].from,n)}):o},r):t(e,a,n-1)};const hDe=function(t,e,r,n,a){var s=$Fe(t,e),o=s.reduce(function(m,x){return un(un({},m),{},IN({},x,[t[x],e[x]]))},{}),l=s.reduce(function(m,x){return un(un({},m),{},IN({},x,{from:t[x],velocity:0,to:e[x]}))},{}),c=-1,u,A,d=function(){return null},h=function(){return Pf(function(x,b){return b.from},l)},f=function(){return!Object.values(l).filter(ON).length},p=function(x){u||(u=x);var b=x-u,_=b/r.dt;l=dDe(r,l,_),a(un(un(un({},t),e),h())),u=x,f()||(c=requestAnimationFrame(d))},g=function(x){A||(A=x);var b=(x-A)/n,_=Pf(function(C,E){return Rx.apply(void 0,J5(E).concat([r(b)]))},o);if(a(un(un(un({},t),e),_)),b<1)c=requestAnimationFrame(d);else{var w=Pf(function(C,E){return Rx.apply(void 0,J5(E).concat([r(1)]))},o);a(un(un(un({},t),e),w))}};return d=r.isStepper?p:g,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}var fDe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function mDe(t,e){if(t==null)return{};var r=pDe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pDe(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function AB(t){return xDe(t)||yDe(t)||vDe(t)||gDe()}function gDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vDe(t,e){if(t){if(typeof t=="string")return FN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FN(t,e)}}function yDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xDe(t){if(Array.isArray(t))return FN(t)}function FN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Z5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function as(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z5(Object(r),!0).forEach(function(n){cf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cf(t,e,r){return e=DX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wDe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DX(n.key),n)}}function jDe(t,e,r){return e&&wDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DX(t){var e=_De(t,"string");return hd(e)==="symbol"?e:String(e)}function _De(t,e){if(hd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DN(t,e)}function DN(t,e){return DN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DN(t,e)}function BDe(t){var e=EDe();return function(){var n=Ux(t),a;if(e){var s=Ux(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return RN(this,a)}}function RN(t,e){if(e&&(hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UN(t)}function UN(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EDe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ux(t){return Ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ux(t)}var ro=function(t){CDe(r,t);var e=BDe(r);function r(n,a){var s;bDe(this,r),s=e.call(this,n,a);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,A=o.to,d=o.steps,h=o.children,f=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(UN(s)),s.changeStyle=s.changeStyle.bind(UN(s)),!l||f<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:A}),RN(s);if(d&&d.length)s.state={style:d[0].style};else if(u){if(typeof h=="function")return s.state={style:u},RN(s);s.state={style:c?cf({},c,u):u}}else s.state={style:{}};return s}return jDe(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,A=s.to,d=s.from,h=this.state.style;if(l){if(!o){var f={style:c?cf({},c,A):A};this.state&&h&&(c&&h[c]!==A||!c&&h!==A)&&this.setState(f);return}if(!(PFe(a.to,A)&&a.canBegin&&a.isActive)){var p=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=p||u?d:a.to;if(this.state&&h){var m={style:c?cf({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(m)}this.runAnimation(as(as({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,l=a.to,c=a.duration,u=a.easing,A=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,f=hDe(o,l,rDe(u),c,this.changeStyle),p=function(){s.stopJSAnimation=f()};this.manager.start([h,A,p,c,d])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],A=u.style,d=u.duration,h=d===void 0?0:d,f=function(g,m,x){if(x===0)return g;var b=m.duration,_=m.easing,w=_===void 0?"ease":_,C=m.style,E=m.properties,j=m.onAnimationEnd,B=x>0?o[x-1]:m,S=E||Object.keys(C);if(typeof w=="function"||w==="spring")return[].concat(AB(g),[s.runJSAnimation.bind(s,{from:B.style,to:C,duration:b,easing:w}),b]);var N=z5(S,b,w),I=as(as(as({},B.style),C),{},{transition:N});return[].concat(AB(g),[I,b,j]).filter(VFe)};return this.manager.start([c].concat(AB(o.reduce(f,[A,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=QFe());var s=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,A=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,f=a.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof u=="function"||typeof f=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var g=l?cf({},l,c):c,m=z5(Object.keys(g),o,u);p.start([A,s,as(as({},g),{},{transition:m}),o,d])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=mDe(a,fDe),u=v.Children.count(s),A=this.state.style;if(typeof s=="function")return s(A);if(!l||u===0||o<=0)return s;var d=function(f){var p=f.props,g=p.style,m=g===void 0?{}:g,x=p.className,b=v.cloneElement(f,as(as({},c),{},{style:as(as({},m),A),className:x}));return b};return u===1?d(v.Children.only(s)):$.createElement("div",null,v.Children.map(s,function(h){return d(h)}))}}]),r}(v.PureComponent);ro.displayName="Animate";ro.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ro.propTypes={from:Ke.oneOfType([Ke.object,Ke.string]),to:Ke.oneOfType([Ke.object,Ke.string]),attributeName:Ke.string,duration:Ke.number,begin:Ke.number,easing:Ke.oneOfType([Ke.string,Ke.func]),steps:Ke.arrayOf(Ke.shape({duration:Ke.number.isRequired,style:Ke.object.isRequired,easing:Ke.oneOfType([Ke.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ke.func]),properties:Ke.arrayOf("string"),onAnimationEnd:Ke.func})),children:Ke.oneOfType([Ke.node,Ke.func]),isActive:Ke.bool,canBegin:Ke.bool,onAnimationEnd:Ke.func,shouldReAnimate:Ke.bool,onAnimationStart:Ke.func,onAnimationReStart:Ke.func};Ke.object,Ke.object,Ke.object,Ke.element;Ke.object,Ke.object,Ke.object,Ke.oneOfType([Ke.array,Ke.element]),Ke.any;function Zm(t){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(t)}function Mx(){return Mx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mx.apply(this,arguments)}function SDe(t,e){return IDe(t)||kDe(t,e)||TDe(t,e)||NDe()}function NDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TDe(t,e){if(t){if(typeof t=="string")return eH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eH(t,e)}}function eH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kDe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function IDe(t){if(Array.isArray(t))return t}function tH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tH(Object(r),!0).forEach(function(n){PDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PDe(t,e,r){return e=ODe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ODe(t){var e=FDe(t,"string");return Zm(e)=="symbol"?e:e+""}function FDe(t,e){if(Zm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nH=function(e,r,n,a,s){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,A;if(o>0&&s instanceof Array){for(var d=[0,0,0,0],h=0,f=4;h<f;h++)d[h]=s[h]>o?o:s[h];A="M".concat(e,",").concat(r+l*d[0]),d[0]>0&&(A+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+c*d[0],",").concat(r)),A+="L ".concat(e+n-c*d[1],",").concat(r),d[1]>0&&(A+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*d[1])),A+="L ".concat(e+n,",").concat(r+a-l*d[2]),d[2]>0&&(A+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+n-c*d[2],",").concat(r+a)),A+="L ".concat(e+c*d[3],",").concat(r+a),d[3]>0&&(A+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-l*d[3])),A+="Z"}else if(o>0&&s===+s&&s>0){var p=Math.min(o,s);A="M ".concat(e,",").concat(r+l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+c*p,",").concat(r,`
            L `).concat(e+n-c*p,",").concat(r,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*p,`
            L `).concat(e+n,",").concat(r+a-l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+n-c*p,",").concat(r+a,`
            L `).concat(e+c*p,",").concat(r+a,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e,",").concat(r+a-l*p," Z")}else A="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return A},DDe=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),A=Math.max(s,s+l),d=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=A&&a>=d&&a<=h}return!1},RDe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pP=function(e){var r=rH(rH({},RDe),e),n=v.useRef(),a=v.useState(-1),s=SDe(a,2),o=s[0],l=s[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,A=r.width,d=r.height,h=r.radius,f=r.className,p=r.animationEasing,g=r.animationDuration,m=r.animationBegin,x=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||A!==+A||d!==+d||A===0||d===0)return null;var _=Qt("recharts-rectangle",f);return b?$.createElement(ro,{canBegin:o>0,from:{width:A,height:d,x:c,y:u},to:{width:A,height:d,x:c,y:u},duration:g,animationEasing:p,isActive:b},function(w){var C=w.width,E=w.height,j=w.x,B=w.y;return $.createElement(ro,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:g,isActive:x,easing:p},$.createElement("path",Mx({},Dt(r,!0),{className:_,d:nH(j,B,C,E,h),ref:n})))}):$.createElement("path",Mx({},Dt(r,!0),{className:_,d:nH(c,u,A,d,h)}))};function MN(){return MN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MN.apply(this,arguments)}var gP=function(e){var r=e.cx,n=e.cy,a=e.r,s=e.className,o=Qt("recharts-dot",s);return r===+r&&n===+n&&a===+a?$.createElement("circle",MN({},Dt(e,!1),ox(e),{className:o,cx:r,cy:n,r:a})):null};function ep(t){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(t)}var UDe=["x","y","top","left","width","height","className"];function QN(){return QN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QN.apply(this,arguments)}function aH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function MDe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aH(Object(r),!0).forEach(function(n){QDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QDe(t,e,r){return e=LDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LDe(t){var e=HDe(t,"string");return ep(e)=="symbol"?e:e+""}function HDe(t,e){if(ep(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $De(t,e){if(t==null)return{};var r=VDe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function VDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var KDe=function(e,r,n,a,s,o){return"M".concat(e,",").concat(s,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},qDe=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,A=e.width,d=A===void 0?0:A,h=e.height,f=h===void 0?0:h,p=e.className,g=$De(e,UDe),m=MDe({x:n,y:s,top:l,left:u,width:d,height:f},g);return!Pe(n)||!Pe(s)||!Pe(d)||!Pe(f)||!Pe(l)||!Pe(u)?null:$.createElement("path",QN({},Dt(m,!0),{className:Qt("recharts-cross",p),d:KDe(n,s,d,f,l,u)}))},dB,sH;function GDe(){if(sH)return dB;sH=1;var t=tW(),e=t(Object.getPrototypeOf,Object);return dB=e,dB}var hB,iH;function zDe(){if(iH)return hB;iH=1;var t=so(),e=GDe(),r=io(),n="[object Object]",a=Function.prototype,s=Object.prototype,o=a.toString,l=s.hasOwnProperty,c=o.call(Object);function u(A){if(!r(A)||t(A)!=n)return!1;var d=e(A);if(d===null)return!0;var h=l.call(d,"constructor")&&d.constructor;return typeof h=="function"&&h instanceof h&&o.call(h)==c}return hB=u,hB}var WDe=zDe();const XDe=Lt(WDe);var fB,oH;function JDe(){if(oH)return fB;oH=1;var t=so(),e=io(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return fB=n,fB}var YDe=JDe();const ZDe=Lt(YDe);function tp(t){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(t)}function Qx(){return Qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qx.apply(this,arguments)}function eRe(t,e){return aRe(t)||nRe(t,e)||rRe(t,e)||tRe()}function tRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rRe(t,e){if(t){if(typeof t=="string")return lH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lH(t,e)}}function lH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function aRe(t){if(Array.isArray(t))return t}function cH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function uH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cH(Object(r),!0).forEach(function(n){sRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sRe(t,e,r){return e=iRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iRe(t){var e=oRe(t,"string");return tp(e)=="symbol"?e:e+""}function oRe(t,e){if(tp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AH=function(e,r,n,a,s){var o=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+s),l+="L ".concat(e+n-o/2-a,",").concat(r+s),l+="L ".concat(e,",").concat(r," Z"),l},lRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cRe=function(e){var r=uH(uH({},lRe),e),n=v.useRef(),a=v.useState(-1),s=eRe(a,2),o=s[0],l=s[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,A=r.upperWidth,d=r.lowerWidth,h=r.height,f=r.className,p=r.animationEasing,g=r.animationDuration,m=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||A!==+A||d!==+d||h!==+h||A===0&&d===0||h===0)return null;var b=Qt("recharts-trapezoid",f);return x?$.createElement(ro,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:A,lowerWidth:d,height:h,x:c,y:u},duration:g,animationEasing:p,isActive:x},function(_){var w=_.upperWidth,C=_.lowerWidth,E=_.height,j=_.x,B=_.y;return $.createElement(ro,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:g,easing:p},$.createElement("path",Qx({},Dt(r,!0),{className:b,d:AH(j,B,w,C,E),ref:n})))}):$.createElement("g",null,$.createElement("path",Qx({},Dt(r,!0),{className:b,d:AH(c,u,A,d,h)})))},uRe=["option","shapeType","propTransformer","activeClassName","isActive"];function rp(t){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rp(t)}function ARe(t,e){if(t==null)return{};var r=dRe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Lx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dH(Object(r),!0).forEach(function(n){hRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hRe(t,e,r){return e=fRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fRe(t){var e=mRe(t,"string");return rp(e)=="symbol"?e:e+""}function mRe(t,e){if(rp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pRe(t,e){return Lx(Lx({},e),t)}function gRe(t,e){return t==="symbols"}function hH(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return $.createElement(pP,r);case"trapezoid":return $.createElement(cRe,r);case"sector":return $.createElement(SX,r);case"symbols":if(gRe(e))return $.createElement(FI,r);break;default:return null}}function vRe(t){return v.isValidElement(t)?t.props:t}function yRe(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?pRe:n,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,l=t.isActive,c=ARe(t,uRe),u;if(v.isValidElement(e))u=v.cloneElement(e,Lx(Lx({},c),vRe(e)));else if(Ct(e))u=e(c);else if(XDe(e)&&!ZDe(e)){var A=a(e,c);u=$.createElement(hH,{shapeType:r,elementProps:A})}else{var d=c;u=$.createElement(hH,{shapeType:r,elementProps:d})}return l?$.createElement(Fr,{className:o},u):u}function Mb(t,e){return e!=null&&"trapezoids"in t.props}function Qb(t,e){return e!=null&&"sectors"in t.props}function np(t,e){return e!=null&&"points"in t.props}function xRe(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&s}function bRe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function wRe(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function jRe(t,e){var r;return Mb(t,e)?r=xRe:Qb(t,e)?r=bRe:np(t,e)&&(r=wRe),r}function _Re(t,e){var r;return Mb(t,e)?r="trapezoids":Qb(t,e)?r="sectors":np(t,e)&&(r="points"),r}function CRe(t,e){if(Mb(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Qb(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return np(t,e)?e.payload:{}}function BRe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=_Re(r,e),s=CRe(r,e),o=n.filter(function(c,u){var A=Db(s,c),d=r.props[a].filter(function(p){var g=jRe(r,e);return g(p,e)}),h=r.props[a].indexOf(d[d.length-1]),f=u===h;return A&&f}),l=n.indexOf(o[o.length-1]);return l}var mB,fH;function ERe(){if(fH)return mB;fH=1;var t=Math.ceil,e=Math.max;function r(n,a,s,o){for(var l=-1,c=e(t((a-n)/(s||1)),0),u=Array(c);c--;)u[o?c:++l]=n,n+=s;return u}return mB=r,mB}var pB,mH;function RX(){if(mH)return pB;mH=1;var t=gW(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var s=a<0?-1:1;return s*r}return a===a?a:0}return pB=n,pB}var gB,pH;function SRe(){if(pH)return gB;pH=1;var t=ERe(),e=Eb(),r=RX();function n(a){return function(s,o,l){return l&&typeof l!="number"&&e(s,o,l)&&(o=l=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),l=l===void 0?s<o?1:-1:r(l),t(s,o,l,a)}}return gB=n,gB}var vB,gH;function NRe(){if(gH)return vB;gH=1;var t=SRe(),e=t();return vB=e,vB}var TRe=NRe();const Hx=Lt(TRe);function ap(t){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ap(t)}function vH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vH(Object(r),!0).forEach(function(n){UX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UX(t,e,r){return e=kRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kRe(t){var e=IRe(t,"string");return ap(e)=="symbol"?e:e+""}function IRe(t,e){if(ap(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PRe=["Webkit","Moz","O","ms"],ORe=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),a=PRe.reduce(function(s,o){return yH(yH({},s),{},UX({},o+n,r))},{});return a[e]=r,a};function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function $x(){return $x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$x.apply(this,arguments)}function xH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xH(Object(r),!0).forEach(function(n){ba(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QX(n.key),n)}}function DRe(t,e,r){return e&&bH(t.prototype,e),r&&bH(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function RRe(t,e,r){return e=Vx(e),URe(t,MX()?Reflect.construct(e,r||[],Vx(t).constructor):e.apply(t,r))}function URe(t,e){if(e&&(fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MRe(t)}function MRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MX=function(){return!!t})()}function Vx(t){return Vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vx(t)}function QRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LN(t,e)}function LN(t,e){return LN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},LN(t,e)}function ba(t,e,r){return e=QX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QX(t){var e=LRe(t,"string");return fd(e)=="symbol"?e:e+""}function LRe(t,e){if(fd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var HRe=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,s=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=kf().domain(Hx(0,c)).range([s,s+o-l]),A=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:A}},wH=function(e){return e.changedTouches&&!!e.changedTouches.length},md=function(t){function e(r){var n;return FRe(this,e),n=RRe(this,e,[r]),ba(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ba(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ba(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),ba(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ba(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ba(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ba(n,"handleSlideDragStart",function(a){var s=wH(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return QRe(e,t),DRe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,A=u.length-1,d=Math.min(a,s),h=Math.max(a,s),f=e.getIndexInRange(o,d),p=e.getIndexInRange(o,h);return{startIndex:f-f%c,endIndex:p===A?A:p-p%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,o=a.tickFormatter,l=a.dataKey,c=Oa(s[n],l,n);return Ct(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,A=c.width,d=c.travellerWidth,h=c.startIndex,f=c.endIndex,p=c.onChange,g=n.pageX-s;g>0?g=Math.min(g,u+A-d-l,u+A-d-o):g<0&&(g=Math.max(g,u-o,u-l));var m=this.getIndex({startX:o+g,endX:l+g});(m.startIndex!==h||m.endIndex!==f)&&p&&p(m),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=wH(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],A=this.props,d=A.x,h=A.width,f=A.travellerWidth,p=A.onChange,g=A.gap,m=A.data,x={startX:this.state.startX,endX:this.state.endX},b=n.pageX-s;b>0?b=Math.min(b,d+h-f-u):b<0&&(b=Math.max(b,d-u)),x[o]=u+b;var _=this.getIndex(x),w=_.startIndex,C=_.endIndex,E=function(){var B=m.length-1;return o==="startX"&&(l>c?w%g===0:C%g===0)||l<c&&C===B||o==="endX"&&(l>c?C%g===0:w%g===0)||l>c&&C===B};this.setState(ba(ba({},o,u+b),"brushMoveStartX",n.pageX),function(){p&&E()&&p(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,A=this.state[a],d=l.indexOf(A);if(d!==-1){var h=d+n;if(!(h===-1||h>=l.length)){var f=l[h];a==="startX"&&f>=u||a==="endX"&&f<=c||this.setState(ba({},a,f),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return $.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,A=n.padding,d=v.Children.only(u);return d?$.cloneElement(d,{x:a,y:s,width:o,height:l,margin:A,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,o,l=this,c=this.props,u=c.y,A=c.travellerWidth,d=c.height,h=c.traveller,f=c.ariaLabel,p=c.data,g=c.startIndex,m=c.endIndex,x=Math.max(n,this.props.x),b=yB(yB({},Dt(this.props,!1)),{},{x,y:u,width:A,height:d}),_=f||"Min value: ".concat((s=p[g])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=p[m])===null||o===void 0?void 0:o.name);return $.createElement(Fr,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,A=Math.min(n,a)+u,d=Math.max(Math.abs(a-n)-u,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:A,y:o,width:d,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,A=this.state,d=A.startX,h=A.endX,f=5,p={pointerEvents:"none",fill:u};return $.createElement(Fr,{className:"recharts-brush-texts"},$.createElement(yx,$x({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-f,y:o+l/2},p),this.getTextOfTick(a)),$.createElement(yx,$x({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+c+f,y:o+l/2},p),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,A=n.height,d=n.alwaysShowText,h=this.state,f=h.startX,p=h.endX,g=h.isTextActive,m=h.isSlideMoving,x=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!Pe(l)||!Pe(c)||!Pe(u)||!Pe(A)||u<=0||A<=0)return null;var _=Qt("recharts-brush",s),w=$.Children.count(o)===1,C=ORe("userSelect","none");return $.createElement(Fr,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(f,p),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(p,"endX"),(g||m||x||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:a,y:s,width:o,height:l,fill:c,stroke:"none"}),$.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return $.isValidElement(n)?s=$.cloneElement(n,a):Ct(n)?s=n(a):s=e.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,A=n.startIndex,d=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return yB({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?HRe({data:s,width:o,x:l,travellerWidth:c,startIndex:A,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(f){return a.scale(f)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(v.PureComponent);ba(md,"displayName","Brush");ba(md,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var xB,jH;function $Re(){if(jH)return xB;jH=1;var t=HI();function e(r,n){var a;return t(r,function(s,o,l){return a=n(s,o,l),!a}),!!a}return xB=e,xB}var bB,_H;function VRe(){if(_H)return bB;_H=1;var t=zz(),e=Dl(),r=$Re(),n=ma(),a=Eb();function s(o,l,c){var u=n(o)?t:r;return c&&a(o,l,c)&&(l=void 0),u(o,e(l,3))}return bB=s,bB}var KRe=VRe();const qRe=Lt(KRe);var ni=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},wB,CH;function GRe(){if(CH)return wB;CH=1;var t=dW();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return wB=e,wB}var jB,BH;function zRe(){if(BH)return jB;BH=1;var t=GRe(),e=uW(),r=Dl();function n(a,s){var o={};return s=r(s,3),e(a,function(l,c,u){t(o,c,s(l,c,u))}),o}return jB=n,jB}var WRe=zRe();const XRe=Lt(WRe);var _B,EH;function JRe(){if(EH)return _B;EH=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return _B=t,_B}var CB,SH;function YRe(){if(SH)return CB;SH=1;var t=HI();function e(r,n){var a=!0;return t(r,function(s,o,l){return a=!!n(s,o,l),a}),a}return CB=e,CB}var BB,NH;function ZRe(){if(NH)return BB;NH=1;var t=JRe(),e=YRe(),r=Dl(),n=ma(),a=Eb();function s(o,l,c){var u=n(o)?t:e;return c&&a(o,l,c)&&(l=void 0),u(o,r(l,3))}return BB=s,BB}var e4e=ZRe();const LX=Lt(e4e);var t4e=["x","y"];function sp(t){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sp(t)}function HN(){return HN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HN.apply(this,arguments)}function TH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Vh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TH(Object(r),!0).forEach(function(n){r4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function r4e(t,e,r){return e=n4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n4e(t){var e=a4e(t,"string");return sp(e)=="symbol"?e:e+""}function a4e(t,e){if(sp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s4e(t,e){if(t==null)return{};var r=i4e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function i4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function o4e(t,e){var r=t.x,n=t.y,a=s4e(t,t4e),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||a.height),A=parseInt(u,10),d="".concat(e.width||a.width),h=parseInt(d,10);return Vh(Vh(Vh(Vh(Vh({},e),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:A,width:h,name:e.name,radius:e.radius})}function kH(t){return $.createElement(yRe,HN({shapeType:"rectangle",propTransformer:o4e,activeClassName:"recharts-active-bar"},t))}var l4e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var s=typeof n=="number";return s?e(n,a):(s||tu(),r)}},c4e=["value","background"],HX;function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function u4e(t,e){if(t==null)return{};var r=A4e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function A4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Kx(){return Kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kx.apply(this,arguments)}function IH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Mr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IH(Object(r),!0).forEach(function(n){Jo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function d4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VX(n.key),n)}}function h4e(t,e,r){return e&&PH(t.prototype,e),r&&PH(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function f4e(t,e,r){return e=qx(e),m4e(t,$X()?Reflect.construct(e,r||[],qx(t).constructor):e.apply(t,r))}function m4e(t,e){if(e&&(pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p4e(t)}function p4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $X(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($X=function(){return!!t})()}function qx(t){return qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qx(t)}function g4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$N(t,e)}function $N(t,e){return $N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$N(t,e)}function Jo(t,e,r){return e=VX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VX(t){var e=v4e(t,"string");return pd(e)=="symbol"?e:e+""}function v4e(t,e){if(pd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cu=function(t){function e(){var r;d4e(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=f4e(this,e,[].concat(a)),Jo(r,"state",{isAnimationFinished:!1}),Jo(r,"id",Gp("recharts-bar-")),Jo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Jo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return g4e(e,t),h4e(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,A=Dt(this.props,!1);return n&&n.map(function(d,h){var f=h===c,p=f?u:o,g=Mr(Mr(Mr({},A),d),{},{isActive:f,option:p,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return $.createElement(Fr,Kx({className:"recharts-bar-rectangle"},lx(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value)}),$.createElement(kH,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,A=a.animationEasing,d=a.animationId,h=this.state.prevData;return $.createElement(ro,{begin:c,duration:u,isActive:l,easing:A,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var p=f.t,g=s.map(function(m,x){var b=h&&h[x];if(b){var _=fs(b.x,m.x),w=fs(b.y,m.y),C=fs(b.width,m.width),E=fs(b.height,m.height);return Mr(Mr({},m),{},{x:_(p),y:w(p),width:C(p),height:E(p)})}if(o==="horizontal"){var j=fs(0,m.height),B=j(p);return Mr(Mr({},m),{},{y:m.y+m.height-B,height:B})}var S=fs(0,m.width),N=S(p);return Mr(Mr({},m),{},{width:N})});return $.createElement(Fr,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!Db(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,o=a.dataKey,l=a.activeIndex,c=Dt(this.props.background,!1);return s.map(function(u,A){u.value;var d=u.background,h=u4e(u,c4e);if(!d)return null;var f=Mr(Mr(Mr(Mr(Mr({},h),{},{fill:"#eee"},d),c),lx(n.props,u,A)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:A,className:"recharts-bar-background-rectangle"});return $.createElement(kH,Kx({key:"background-bar-".concat(A),option:n.props.background,isActive:A===l},f))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,A=s.children,d=Xa(A,Zp);if(!d)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,f=function(m,x){var b=Array.isArray(m.value)?m.value[1]:m.value;return{x:m.x,y:m.y,value:b,errorVal:Oa(m,x)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return $.createElement(Fr,p,d.map(function(g){return $.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:f})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,A=n.top,d=n.width,h=n.height,f=n.isAnimationActive,p=n.background,g=n.id;if(a||!s||!s.length)return null;var m=this.state.isAnimationFinished,x=Qt("recharts-bar",o),b=l&&l.allowDataOverflow,_=c&&c.allowDataOverflow,w=b||_,C=Tt(g)?this.id:g;return $.createElement(Fr,{className:x},b||_?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(C)},$.createElement("rect",{x:b?u:u-d/2,y:_?A:A-h/2,width:b?d:d*2,height:_?h:h*2}))):null,$.createElement(Fr,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(C,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,C),(!f||m)&&cl.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(v.PureComponent);HX=cu;Jo(cu,"displayName","Bar");Jo(cu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!zd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Jo(cu,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,s=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,A=t.dataStartIndex,d=t.displayedData,h=t.offset,f=J2e(n,r);if(!f)return null;var p=e.layout,g=r.type.defaultProps,m=g!==void 0?Mr(Mr({},g),r.props):r.props,x=m.dataKey,b=m.children,_=m.minPointSize,w=p==="horizontal"?o:s,C=u?w.scale.domain():null,E=sOe({numericAxis:w}),j=Xa(b,yW),B=d.map(function(S,N){var I,P,T,U,M,R;u?I=Y2e(u[A+N],C):(I=Oa(S,x),Array.isArray(I)||(I=[E,I]));var F=l4e(_,HX.defaultProps.minPointSize)(I[1],N);if(p==="horizontal"){var D,Q=[o.scale(I[0]),o.scale(I[1])],H=Q[0],G=Q[1];P=y5({axis:s,ticks:l,bandSize:a,offset:f.offset,entry:S,index:N}),T=(D=G??H)!==null&&D!==void 0?D:void 0,U=f.size;var X=H-G;if(M=Number.isNaN(X)?0:X,R={x:P,y:o.y,width:U,height:o.height},Math.abs(F)>0&&Math.abs(M)<Math.abs(F)){var te=xs(M||F)*(Math.abs(F)-Math.abs(M));T-=te,M+=te}}else{var Z=[s.scale(I[0]),s.scale(I[1])],q=Z[0],se=Z[1];if(P=q,T=y5({axis:o,ticks:c,bandSize:a,offset:f.offset,entry:S,index:N}),U=se-q,M=f.size,R={x:s.x,y:T,width:s.width,height:M},Math.abs(F)>0&&Math.abs(U)<Math.abs(F)){var Ae=xs(U||F)*(Math.abs(F)-Math.abs(U));U+=Ae}}return Mr(Mr(Mr({},S),{},{x:P,y:T,width:U,height:M,value:u?I:I[1],payload:S,background:R},j&&j[N]&&j[N].props),{},{tooltipPayload:[CX(r,S)],tooltipPosition:{x:P+U/2,y:T+M/2}})});return Mr({data:B,layout:p},h)});function ip(t){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ip(t)}function y4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KX(n.key),n)}}function x4e(t,e,r){return e&&OH(t.prototype,e),r&&OH(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function FH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function As(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FH(Object(r),!0).forEach(function(n){Lb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lb(t,e,r){return e=KX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KX(t){var e=b4e(t,"string");return ip(e)=="symbol"?e:e+""}function b4e(t,e){if(ip(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qX=function(e,r,n,a,s){var o=e.width,l=e.height,c=e.layout,u=e.children,A=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!_a(u,cu);return A.reduce(function(f,p){var g=r[p],m=g.orientation,x=g.domain,b=g.padding,_=b===void 0?{}:b,w=g.mirror,C=g.reversed,E="".concat(m).concat(w?"Mirror":""),j,B,S,N,I;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var P=x[1]-x[0],T=1/0,U=g.categoricalDomain.sort();if(U.forEach(function(Z,q){q>0&&(T=Math.min((Z||0)-(U[q-1]||0),T))}),Number.isFinite(T)){var M=T/P,R=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(j=M*R/2),g.padding==="no-gap"){var F=Zc(e.barCategoryGap,M*R),D=M*R/2;j=D-F-(D-F)/R*F}}}a==="xAxis"?B=[n.left+(_.left||0)+(j||0),n.left+n.width-(_.right||0)-(j||0)]:a==="yAxis"?B=c==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(j||0),n.top+n.height-(_.bottom||0)-(j||0)]:B=g.range,C&&(B=[B[1],B[0]]);var Q=W2e(g,s,h),H=Q.scale,G=Q.realScaleType;H.domain(x).range(B),X2e(H);var X=aOe(H,As(As({},g),{},{realScaleType:G}));a==="xAxis"?(I=m==="top"&&!w||m==="bottom"&&w,S=n.left,N=d[E]-I*g.height):a==="yAxis"&&(I=m==="left"&&!w||m==="right"&&w,S=d[E]-I*g.width,N=n.top);var te=As(As(As({},g),X),{},{realScaleType:G,x:S,y:N,scale:H,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return te.bandSize=Px(te,X),!g.hide&&a==="xAxis"?d[E]+=(I?-1:1)*te.height:g.hide||(d[E]+=(I?-1:1)*te.width),As(As({},f),{},Lb({},p,te))},{})},GX=function(e,r){var n=e.x,a=e.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(a,o),width:Math.abs(s-n),height:Math.abs(o-a)}},w4e=function(e){var r=e.x1,n=e.y1,a=e.x2,s=e.y2;return GX({x:r,y:n},{x:a,y:s})},zX=function(){function t(e){y4e(this,t),this.scale=e}return x4e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();Lb(zX,"EPS",1e-4);var vP=function(e){var r=Object.keys(e).reduce(function(n,a){return As(As({},n),{},Lb({},a,zX.create(e[a])))},{});return As(As({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return XRe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return LX(a,function(s,o){return r[o].isInRange(s)})}})};function j4e(t){return(t%180+180)%180}var _4e=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=j4e(a),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},EB,DH;function C4e(){if(DH)return EB;DH=1;var t=Dl(),e=zp(),r=Cb();function n(a){return function(s,o,l){var c=Object(s);if(!e(s)){var u=t(o,3);s=r(s),o=function(d){return u(c[d],d,c)}}var A=a(s,o,l);return A>-1?c[u?s[A]:A]:void 0}}return EB=n,EB}var SB,RH;function B4e(){if(RH)return SB;RH=1;var t=RX();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return SB=e,SB}var NB,UH;function E4e(){if(UH)return NB;UH=1;var t=sW(),e=Dl(),r=B4e(),n=Math.max;function a(s,o,l){var c=s==null?0:s.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),t(s,e(o,3),u)}return NB=a,NB}var TB,MH;function S4e(){if(MH)return TB;MH=1;var t=C4e(),e=E4e(),r=t(e);return TB=r,TB}var N4e=S4e();const T4e=Lt(N4e);var k4e=xz();const I4e=Lt(k4e);var P4e=I4e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),yP=v.createContext(void 0),xP=v.createContext(void 0),WX=v.createContext(void 0),XX=v.createContext({}),JX=v.createContext(void 0),YX=v.createContext(0),ZX=v.createContext(0),QH=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,A=P4e(s);return $.createElement(yP.Provider,{value:n},$.createElement(xP.Provider,{value:a},$.createElement(XX.Provider,{value:s},$.createElement(WX.Provider,{value:A},$.createElement(JX.Provider,{value:o},$.createElement(YX.Provider,{value:u},$.createElement(ZX.Provider,{value:c},l)))))))},O4e=function(){return v.useContext(JX)},eJ=function(e){var r=v.useContext(yP);r==null&&tu();var n=r[e];return n==null&&tu(),n},F4e=function(){var e=v.useContext(yP);return Ro(e)},D4e=function(){var e=v.useContext(xP),r=T4e(e,function(n){return LX(n.domain,Number.isFinite)});return r||Ro(e)},tJ=function(e){var r=v.useContext(xP);r==null&&tu();var n=r[e];return n==null&&tu(),n},R4e=function(){var e=v.useContext(WX);return e},U4e=function(){return v.useContext(XX)},bP=function(){return v.useContext(ZX)},wP=function(){return v.useContext(YX)};function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function M4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q4e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nJ(n.key),n)}}function L4e(t,e,r){return e&&Q4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function H4e(t,e,r){return e=Gx(e),$4e(t,rJ()?Reflect.construct(e,r||[],Gx(t).constructor):e.apply(t,r))}function $4e(t,e){if(e&&(gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V4e(t)}function V4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rJ=function(){return!!t})()}function Gx(t){return Gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gx(t)}function K4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VN(t,e)}function VN(t,e){return VN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},VN(t,e)}function LH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function HH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LH(Object(r),!0).forEach(function(n){jP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jP(t,e,r){return e=nJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nJ(t){var e=q4e(t,"string");return gd(e)=="symbol"?e:e+""}function q4e(t,e){if(gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function G4e(t,e){return J4e(t)||X4e(t,e)||W4e(t,e)||z4e()}function z4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W4e(t,e){if(t){if(typeof t=="string")return $H(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $H(t,e)}}function $H(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function X4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function J4e(t){if(Array.isArray(t))return t}function KN(){return KN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},KN.apply(this,arguments)}var Y4e=function(e,r){var n;return $.isValidElement(e)?n=$.cloneElement(e,r):Ct(e)?n=e(r):n=$.createElement("line",KN({},r,{className:"recharts-reference-line-line"})),n},Z4e=function(e,r,n,a,s,o,l,c,u){var A=s.x,d=s.y,h=s.width,f=s.height;if(n){var p=u.y,g=e.y.apply(p,{position:o});if(ni(u,"discard")&&!e.y.isInRange(g))return null;var m=[{x:A+h,y:g},{x:A,y:g}];return c==="left"?m.reverse():m}if(r){var x=u.x,b=e.x.apply(x,{position:o});if(ni(u,"discard")&&!e.x.isInRange(b))return null;var _=[{x:b,y:d+f},{x:b,y:d}];return l==="top"?_.reverse():_}if(a){var w=u.segment,C=w.map(function(E){return e.apply(E,{position:o})});return ni(u,"discard")&&qRe(C,function(E){return!e.isInRange(E)})?null:C}return null};function eUe(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,s=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=O4e(),A=eJ(a),d=tJ(s),h=R4e();if(!u||!h)return null;Li(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=vP({x:A.scale,y:d.scale}),p=zr(e),g=zr(r),m=n&&n.length===2,x=Z4e(f,p,g,m,h,t.position,A.orientation,d.orientation,t);if(!x)return null;var b=G4e(x,2),_=b[0],w=_.x,C=_.y,E=b[1],j=E.x,B=E.y,S=ni(t,"hidden")?"url(#".concat(u,")"):void 0,N=HH(HH({clipPath:S},Dt(t,!0)),{},{x1:w,y1:C,x2:j,y2:B});return $.createElement(Fr,{className:Qt("recharts-reference-line",l)},Y4e(o,N),Dn.renderCallByParent(t,w4e({x1:w,y1:C,x2:j,y2:B})))}var _P=function(t){function e(){return M4e(this,e),H4e(this,e,arguments)}return K4e(e,t),L4e(e,[{key:"render",value:function(){return $.createElement(eUe,this.props)}}])}($.Component);jP(_P,"displayName","ReferenceLine");jP(_P,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function qN(){return qN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qN.apply(this,arguments)}function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function VH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function KH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VH(Object(r),!0).forEach(function(n){Hb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sJ(n.key),n)}}function nUe(t,e,r){return e&&rUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aUe(t,e,r){return e=zx(e),sUe(t,aJ()?Reflect.construct(e,r||[],zx(t).constructor):e.apply(t,r))}function sUe(t,e){if(e&&(vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iUe(t)}function iUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aJ=function(){return!!t})()}function zx(t){return zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zx(t)}function oUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GN(t,e)}function GN(t,e){return GN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},GN(t,e)}function Hb(t,e,r){return e=sJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sJ(t){var e=lUe(t,"string");return vd(e)=="symbol"?e:e+""}function lUe(t,e){if(vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cUe=function(e){var r=e.x,n=e.y,a=e.xAxis,s=e.yAxis,o=vP({x:a.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return ni(e,"discard")&&!o.isInRange(l)?null:l},$b=function(t){function e(){return tUe(this,e),aUe(this,e,arguments)}return oUe(e,t),nUe(e,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=zr(a),A=zr(s);if(Li(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!A)return null;var d=cUe(this.props);if(!d)return null;var h=d.x,f=d.y,p=this.props,g=p.shape,m=p.className,x=ni(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=KH(KH({clipPath:x},Dt(this.props,!0)),{},{cx:h,cy:f});return $.createElement(Fr,{className:Qt("recharts-reference-dot",m)},e.renderDot(g,b),Dn.renderCallByParent(this.props,{x:h-o,y:f-o,width:2*o,height:2*o}))}}])}($.Component);Hb($b,"displayName","ReferenceDot");Hb($b,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Hb($b,"renderDot",function(t,e){var r;return $.isValidElement(t)?r=$.cloneElement(t,e):Ct(t)?r=t(e):r=$.createElement(gP,qN({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function zN(){return zN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zN.apply(this,arguments)}function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function qH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function GH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qH(Object(r),!0).forEach(function(n){Vb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oJ(n.key),n)}}function dUe(t,e,r){return e&&AUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hUe(t,e,r){return e=Wx(e),fUe(t,iJ()?Reflect.construct(e,r||[],Wx(t).constructor):e.apply(t,r))}function fUe(t,e){if(e&&(yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mUe(t)}function mUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iJ=function(){return!!t})()}function Wx(t){return Wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wx(t)}function pUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WN(t,e)}function WN(t,e){return WN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},WN(t,e)}function Vb(t,e,r){return e=oJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oJ(t){var e=gUe(t,"string");return yd(e)=="symbol"?e:e+""}function gUe(t,e){if(yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vUe=function(e,r,n,a,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,A=s.xAxis,d=s.yAxis;if(!A||!d)return null;var h=vP({x:A.scale,y:d.scale}),f={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},p={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ni(s,"discard")&&(!h.isInRange(f)||!h.isInRange(p))?null:GX(f,p)},Kb=function(t){function e(){return uUe(this,e),hUe(this,e,arguments)}return pUe(e,t),dUe(e,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,A=n.clipPathId;Li(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=zr(a),h=zr(s),f=zr(o),p=zr(l),g=this.props.shape;if(!d&&!h&&!f&&!p&&!g)return null;var m=vUe(d,h,f,p,this.props);if(!m&&!g)return null;var x=ni(this.props,"hidden")?"url(#".concat(A,")"):void 0;return $.createElement(Fr,{className:Qt("recharts-reference-area",c)},e.renderRect(g,GH(GH({clipPath:x},Dt(this.props,!0)),m)),Dn.renderCallByParent(this.props,m))}}])}($.Component);Vb(Kb,"displayName","ReferenceArea");Vb(Kb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Vb(Kb,"renderRect",function(t,e){var r;return $.isValidElement(t)?r=$.cloneElement(t,e):Ct(t)?r=t(e):r=$.createElement(pP,zN({},e,{className:"recharts-reference-area-rect"})),r});function lJ(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function yUe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return _4e(n,r)}function xUe(t,e,r){var n=r==="width",a=t.x,s=t.y,o=t.width,l=t.height;return e===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function Xx(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-a)<=0}function bUe(t,e){return lJ(t,e+1)}function wUe(t,e,r,n,a){for(var s=(n||[]).slice(),o=e.start,l=e.end,c=0,u=1,A=o,d=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:lJ(n,u)};var g=c,m,x=function(){return m===void 0&&(m=r(p,g)),m},b=p.coordinate,_=c===0||Xx(t,b,x,A,l);_||(c=0,A=o,u+=1),_&&(A=b+t*(x()/2+a),c+=u)},h;u<=s.length;)if(h=d(),h)return h.v;return[]}function op(t){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(t)}function zH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zH(Object(r),!0).forEach(function(n){jUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jUe(t,e,r){return e=_Ue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Ue(t){var e=CUe(t,"string");return op(e)=="symbol"?e:e+""}function CUe(t,e){if(op(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BUe(t,e,r,n,a){for(var s=(n||[]).slice(),o=s.length,l=e.start,c=e.end,u=function(h){var f=s[h],p,g=function(){return p===void 0&&(p=r(f,h)),p};if(h===o-1){var m=t*(f.coordinate+t*g()/2-c);s[h]=f=kn(kn({},f),{},{tickCoord:m>0?f.coordinate-m*t:f.coordinate})}else s[h]=f=kn(kn({},f),{},{tickCoord:f.coordinate});var x=Xx(t,f.tickCoord,g,l,c);x&&(c=f.tickCoord-t*(g()/2+a),s[h]=kn(kn({},f),{},{isShow:!0}))},A=o-1;A>=0;A--)u(A);return s}function EUe(t,e,r,n,a,s){var o=(n||[]).slice(),l=o.length,c=e.start,u=e.end;if(s){var A=n[l-1],d=r(A,l-1),h=t*(A.coordinate+t*d/2-u);o[l-1]=A=kn(kn({},A),{},{tickCoord:h>0?A.coordinate-h*t:A.coordinate});var f=Xx(t,A.tickCoord,function(){return d},c,u);f&&(u=A.tickCoord-t*(d/2+a),o[l-1]=kn(kn({},A),{},{isShow:!0}))}for(var p=s?l-1:l,g=function(b){var _=o[b],w,C=function(){return w===void 0&&(w=r(_,b)),w};if(b===0){var E=t*(_.coordinate-t*C()/2-c);o[b]=_=kn(kn({},_),{},{tickCoord:E<0?_.coordinate-E*t:_.coordinate})}else o[b]=_=kn(kn({},_),{},{tickCoord:_.coordinate});var j=Xx(t,_.tickCoord,C,c,u);j&&(c=_.tickCoord+t*(C()/2+a),o[b]=kn(kn({},_),{},{isShow:!0}))},m=0;m<p;m++)g(m);return o}function CP(t,e,r){var n=t.tick,a=t.ticks,s=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,A=t.unit,d=t.angle;if(!a||!a.length||!n)return[];if(Pe(c)||zd.isSsr)return bUe(a,typeof c=="number"&&Pe(c)?c:0);var h=[],f=l==="top"||l==="bottom"?"width":"height",p=A&&f==="width"?Tf(A,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(_,w){var C=Ct(u)?u(_.value,w):_.value;return f==="width"?yUe(Tf(C,{fontSize:e,letterSpacing:r}),p,d):Tf(C,{fontSize:e,letterSpacing:r})[f]},m=a.length>=2?xs(a[1].coordinate-a[0].coordinate):1,x=xUe(s,m,f);return c==="equidistantPreserveStart"?wUe(m,x,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=EUe(m,x,g,a,o,c==="preserveStartEnd"):h=BUe(m,x,g,a,o),h.filter(function(b){return b.isShow}))}var SUe=["viewBox"],NUe=["viewBox"],TUe=["ticks"];function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function sA(){return sA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sA.apply(this,arguments)}function WH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Kn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WH(Object(r),!0).forEach(function(n){BP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kB(t,e){if(t==null)return{};var r=kUe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function IUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uJ(n.key),n)}}function PUe(t,e,r){return e&&XH(t.prototype,e),r&&XH(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function OUe(t,e,r){return e=Jx(e),FUe(t,cJ()?Reflect.construct(e,r||[],Jx(t).constructor):e.apply(t,r))}function FUe(t,e){if(e&&(xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DUe(t)}function DUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cJ=function(){return!!t})()}function Jx(t){return Jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jx(t)}function RUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XN(t,e)}function XN(t,e){return XN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},XN(t,e)}function BP(t,e,r){return e=uJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uJ(t){var e=UUe(t,"string");return xd(e)=="symbol"?e:e+""}function UUe(t,e){if(xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zd=function(t){function e(r){var n;return IUe(this,e),n=OUe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return RUe(e,t),PUe(e,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,o=kB(n,SUe),l=this.props,c=l.viewBox,u=kB(l,NUe);return!mA(s,c)||!mA(o,u)||!mA(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,A=a.tickSize,d=a.mirror,h=a.tickMargin,f,p,g,m,x,b,_=d?-1:1,w=n.tickSize||A,C=Pe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":f=p=n.coordinate,m=o+ +!d*c,g=m-_*w,b=g-_*h,x=C;break;case"left":g=m=n.coordinate,p=s+ +!d*l,f=p-_*w,x=f-_*h,b=C;break;case"right":g=m=n.coordinate,p=s+ +d*l,f=p+_*w,x=f+_*h,b=C;break;default:f=p=n.coordinate,m=o+ +d*c,g=m+_*w,b=g+_*h,x=C;break}return{line:{x1:f,y1:g,x2:p,y2:m},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,A=n.axisLine,d=Kn(Kn(Kn({},Dt(this.props,!1)),Dt(A,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);d=Kn(Kn({},d),{},{x1:a,y1:s+h*l,x2:a+o,y2:s+h*l})}else{var f=+(c==="left"&&!u||c==="right"&&u);d=Kn(Kn({},d),{},{x1:a+f*o,y1:s,x2:a+f*o,y2:s+l})}return $.createElement("line",sA({},d,{className:Qt("recharts-cartesian-axis-line",Wa(A,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,A=l.tick,d=l.tickFormatter,h=l.unit,f=CP(Kn(Kn({},this.props),{},{ticks:n}),a,s),p=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),m=Dt(this.props,!1),x=Dt(A,!1),b=Kn(Kn({},m),{},{fill:"none"},Dt(c,!1)),_=f.map(function(w,C){var E=o.getTickLineCoord(w),j=E.line,B=E.tick,S=Kn(Kn(Kn(Kn({textAnchor:p,verticalAnchor:g},m),{},{stroke:"none",fill:u},x),B),{},{index:C,payload:w,visibleTicksCount:f.length,tickFormatter:d});return $.createElement(Fr,sA({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},lx(o.props,w,C)),c&&$.createElement("line",sA({},b,j,{className:Qt("recharts-cartesian-axis-tick-line",Wa(c,"className"))})),A&&e.renderTickItem(A,S,"".concat(Ct(d)?d(w.value,C):w.value).concat(h||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,A=a.hide;if(A)return null;var d=this.props,h=d.ticks,f=kB(d,TUe),p=h;return Ct(c)&&(p=h&&h.length>0?c(this.props):c(f)),o<=0||l<=0||!p||!p.length?null:$.createElement(Fr,{className:Qt("recharts-cartesian-axis",u),ref:function(m){n.layerReference=m}},s&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),Dn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var o;return $.isValidElement(n)?o=$.cloneElement(n,a):Ct(n)?o=n(a):o=$.createElement(yx,sA({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(v.Component);BP(Zd,"displayName","CartesianAxis");BP(Zd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var MUe=["x1","y1","x2","y2","key"],QUe=["offset"];function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function JH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Rn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JH(Object(r),!0).forEach(function(n){LUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LUe(t,e,r){return e=HUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HUe(t){var e=$Ue(t,"string");return ru(e)=="symbol"?e:e+""}function $Ue(t,e){if(ru(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xc(){return xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xc.apply(this,arguments)}function YH(t,e){if(t==null)return{};var r=VUe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function VUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var KUe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,s=e.y,o=e.width,l=e.height,c=e.ry;return $.createElement("rect",{x:a,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function AJ(t,e){var r;if($.isValidElement(t))r=$.cloneElement(t,e);else if(Ct(t))r=t(e);else{var n=e.x1,a=e.y1,s=e.x2,o=e.y2,l=e.key,c=YH(e,MUe),u=Dt(c,!1);u.offset;var A=YH(u,QUe);r=$.createElement("line",xc({},A,{x1:n,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function qUe(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,s=t.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=Rn(Rn({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return AJ(a,u)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function GUe(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,s=t.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=Rn(Rn({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return AJ(a,u)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function zUe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,s=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var A=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,f){return h-f});a!==A[0]&&A.unshift(0);var d=A.map(function(h,f){var p=!A[f+1],g=p?a+o-h:A[f+1]-h;if(g<=0)return null;var m=f%e.length;return $.createElement("rect",{key:"react-".concat(f),y:h,x:n,height:g,width:s,stroke:"none",fill:e[m],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function WUe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,s=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var A=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,f){return h-f});s!==A[0]&&A.unshift(0);var d=A.map(function(h,f){var p=!A[f+1],g=p?s+l-h:A[f+1]-h;if(g<=0)return null;var m=f%n.length;return $.createElement("rect",{key:"react-".concat(f),x:h,y:o,width:g,height:c,stroke:"none",fill:n[m],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var XUe=function(e,r){var n=e.xAxis,a=e.width,s=e.height,o=e.offset;return jX(CP(Rn(Rn(Rn({},Zd.defaultProps),n),{},{ticks:Oi(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,r)},JUe=function(e,r){var n=e.yAxis,a=e.width,s=e.height,o=e.offset;return jX(CP(Rn(Rn(Rn({},Zd.defaultProps),n),{},{ticks:Oi(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,r)},Ku={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function EP(t){var e,r,n,a,s,o,l=bP(),c=wP(),u=U4e(),A=Rn(Rn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ku.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Ku.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Ku.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:Ku.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Ku.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Ku.verticalFill,x:Pe(t.x)?t.x:u.left,y:Pe(t.y)?t.y:u.top,width:Pe(t.width)?t.width:u.width,height:Pe(t.height)?t.height:u.height}),d=A.x,h=A.y,f=A.width,p=A.height,g=A.syncWithTicks,m=A.horizontalValues,x=A.verticalValues,b=F4e(),_=D4e();if(!Pe(f)||f<=0||!Pe(p)||p<=0||!Pe(d)||d!==+d||!Pe(h)||h!==+h)return null;var w=A.verticalCoordinatesGenerator||XUe,C=A.horizontalCoordinatesGenerator||JUe,E=A.horizontalPoints,j=A.verticalPoints;if((!E||!E.length)&&Ct(C)){var B=m&&m.length,S=C({yAxis:_?Rn(Rn({},_),{},{ticks:B?m:_.ticks}):void 0,width:l,height:c,offset:u},B?!0:g);Li(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ru(S),"]")),Array.isArray(S)&&(E=S)}if((!j||!j.length)&&Ct(w)){var N=x&&x.length,I=w({xAxis:b?Rn(Rn({},b),{},{ticks:N?x:b.ticks}):void 0,width:l,height:c,offset:u},N?!0:g);Li(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ru(I),"]")),Array.isArray(I)&&(j=I)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(KUe,{fill:A.fill,fillOpacity:A.fillOpacity,x:A.x,y:A.y,width:A.width,height:A.height,ry:A.ry}),$.createElement(qUe,xc({},A,{offset:u,horizontalPoints:E,xAxis:b,yAxis:_})),$.createElement(GUe,xc({},A,{offset:u,verticalPoints:j,xAxis:b,yAxis:_})),$.createElement(zUe,xc({},A,{horizontalPoints:E})),$.createElement(WUe,xc({},A,{verticalPoints:j})))}EP.displayName="CartesianGrid";var YUe=["type","layout","connectNulls","ref"],ZUe=["key"];function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function ZH(t,e){if(t==null)return{};var r=eMe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eMe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Of(){return Of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Of.apply(this,arguments)}function e3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ya(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e3(Object(r),!0).forEach(function(n){ds(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qu(t){return aMe(t)||nMe(t)||rMe(t)||tMe()}function tMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rMe(t,e){if(t){if(typeof t=="string")return JN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JN(t,e)}}function nMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aMe(t){if(Array.isArray(t))return JN(t)}function JN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hJ(n.key),n)}}function iMe(t,e,r){return e&&t3(t.prototype,e),r&&t3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function oMe(t,e,r){return e=Yx(e),lMe(t,dJ()?Reflect.construct(e,r||[],Yx(t).constructor):e.apply(t,r))}function lMe(t,e){if(e&&(bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cMe(t)}function cMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dJ=function(){return!!t})()}function Yx(t){return Yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yx(t)}function uMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YN(t,e)}function YN(t,e){return YN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},YN(t,e)}function ds(t,e,r){return e=hJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hJ(t){var e=AMe(t,"string");return bd(e)=="symbol"?e:e+""}function AMe(t,e){if(bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eg=function(t){function e(){var r;sMe(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=oMe(this,e,[].concat(a)),ds(r,"state",{isAnimationFinished:!0,totalLength:0}),ds(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ds(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(x,b){return x+b});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var A=Math.floor(o/u),d=o%u,h=l-o,f=[],p=0,g=0;p<c.length;g+=c[p],++p)if(g+c[p]>d){f=[].concat(qu(c.slice(0,p)),[d-g]);break}var m=f.length%2===0?[0,h]:[h];return[].concat(qu(e.repeat(c,A)),qu(f),m).map(function(x){return"".concat(x,"px")}).join(", ")}),ds(r,"id",Gp("recharts-line-")),ds(r,"pathRef",function(o){r.mainCurve=o}),ds(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ds(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return uMe(e,t),iMe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,A=s.children,d=Xa(A,Zp);if(!d)return null;var h=function(g,m){return{x:g.x,y:g.y,value:g.value,errorVal:Oa(g.payload,m)}},f={clipPath:n?"url(#clipPath-".concat(a,")"):null};return $.createElement(Fr,f,d.map(function(p){return $.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,A=l.dataKey,d=Dt(this.props,!1),h=Dt(c,!0),f=u.map(function(g,m){var x=ya(ya(ya({key:"dot-".concat(m),r:3},d),h),{},{value:g.value,dataKey:A,cx:g.x,cy:g.y,index:m,payload:g.payload});return e.renderDotItem(c,x)}),p={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return $.createElement(Fr,Of({className:"recharts-line-dots",key:"dots"},p),f)}},{key:"renderCurveStatically",value:function(n,a,s,o){var l=this.props,c=l.type,u=l.layout,A=l.connectNulls;l.ref;var d=ZH(l,YUe),h=ya(ya(ya({},Dt(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:A});return $.createElement(NN,Of({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,A=o.animationBegin,d=o.animationDuration,h=o.animationEasing,f=o.animationId,p=o.animateNewValues,g=o.width,m=o.height,x=this.state,b=x.prevPoints,_=x.totalLength;return $.createElement(ro,{begin:A,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var C=w.t;if(b){var E=b.length/l.length,j=l.map(function(P,T){var U=Math.floor(T*E);if(b[U]){var M=b[U],R=fs(M.x,P.x),F=fs(M.y,P.y);return ya(ya({},P),{},{x:R(C),y:F(C)})}if(p){var D=fs(g*2,P.x),Q=fs(m/2,P.y);return ya(ya({},P),{},{x:D(C),y:Q(C)})}return ya(ya({},P),{},{x:P.x,y:P.y})});return s.renderCurveStatically(j,n,a)}var B=fs(0,_),S=B(C),N;if(c){var I="".concat(c).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});N=s.getStrokeDasharray(S,_,I)}else N=s.generateSimpleStrokeDasharray(_,S);return s.renderCurveStatically(l,n,a,{strokeDasharray:N})})}},{key:"renderCurve",value:function(n,a){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,A=c.totalLength;return l&&o&&o.length&&(!u&&A>0||!Db(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,A=a.yAxis,d=a.top,h=a.left,f=a.width,p=a.height,g=a.isAnimationActive,m=a.id;if(s||!l||!l.length)return null;var x=this.state.isAnimationFinished,b=l.length===1,_=Qt("recharts-line",c),w=u&&u.allowDataOverflow,C=A&&A.allowDataOverflow,E=w||C,j=Tt(m)?this.id:m,B=(n=Dt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},S=B.r,N=S===void 0?3:S,I=B.strokeWidth,P=I===void 0?2:I,T=$Be(o)?o:{},U=T.clipDot,M=U===void 0?!0:U,R=N*2+P;return $.createElement(Fr,{className:_},w||C?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(j)},$.createElement("rect",{x:w?h:h-f/2,y:C?d:d-p/2,width:w?f:f*2,height:C?p:p*2})),!M&&$.createElement("clipPath",{id:"clipPath-dots-".concat(j)},$.createElement("rect",{x:h-R/2,y:d-R/2,width:f+R,height:p+R}))):null,!b&&this.renderCurve(E,j),this.renderErrorBar(E,j),(b||o)&&this.renderDots(E,M,j),(!g||x)&&cl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(qu(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(qu(o),qu(s));return o}},{key:"renderDotItem",value:function(n,a){var s;if($.isValidElement(n))s=$.cloneElement(n,a);else if(Ct(n))s=n(a);else{var o=a.key,l=ZH(a,ZUe),c=Qt("recharts-line-dot",typeof n!="boolean"?n.className:"");s=$.createElement(gP,Of({key:o},l,{className:c}))}return s}}])}(v.PureComponent);ds(eg,"displayName","Line");ds(eg,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!zd.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ds(eg,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,A=e.layout,d=c.map(function(h,f){var p=Oa(h,o);return A==="horizontal"?{x:v5({axis:r,ticks:a,bandSize:l,entry:h,index:f}),y:Tt(p)?null:n.scale(p),value:p,payload:h}:{x:Tt(p)?null:r.scale(p),y:v5({axis:n,ticks:s,bandSize:l,entry:h,index:f}),value:p,payload:h}});return ya({points:d,layout:A},u)});function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function dMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pJ(n.key),n)}}function fMe(t,e,r){return e&&hMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mMe(t,e,r){return e=Zx(e),pMe(t,fJ()?Reflect.construct(e,r||[],Zx(t).constructor):e.apply(t,r))}function pMe(t,e){if(e&&(wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gMe(t)}function gMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fJ=function(){return!!t})()}function Zx(t){return Zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zx(t)}function vMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZN(t,e)}function ZN(t,e){return ZN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ZN(t,e)}function mJ(t,e,r){return e=pJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pJ(t){var e=yMe(t,"string");return wd(e)=="symbol"?e:e+""}function yMe(t,e){if(wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function eT(){return eT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eT.apply(this,arguments)}function xMe(t){var e=t.xAxisId,r=bP(),n=wP(),a=eJ(e);return a==null?null:$.createElement(Zd,eT({},a,{className:Qt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Oi(o,!0)}}))}var eh=function(t){function e(){return dMe(this,e),mMe(this,e,arguments)}return vMe(e,t),fMe(e,[{key:"render",value:function(){return $.createElement(xMe,this.props)}}])}($.Component);mJ(eh,"displayName","XAxis");mJ(eh,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}function bMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yJ(n.key),n)}}function jMe(t,e,r){return e&&wMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Me(t,e,r){return e=e0(e),CMe(t,gJ()?Reflect.construct(e,r||[],e0(t).constructor):e.apply(t,r))}function CMe(t,e){if(e&&(jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BMe(t)}function BMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gJ=function(){return!!t})()}function e0(t){return e0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e0(t)}function EMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tT(t,e)}function tT(t,e){return tT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tT(t,e)}function vJ(t,e,r){return e=yJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yJ(t){var e=SMe(t,"string");return jd(e)=="symbol"?e:e+""}function SMe(t,e){if(jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rT(){return rT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rT.apply(this,arguments)}var NMe=function(e){var r=e.yAxisId,n=bP(),a=wP(),s=tJ(r);return s==null?null:$.createElement(Zd,rT({},s,{className:Qt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Oi(l,!0)}}))},th=function(t){function e(){return bMe(this,e),_Me(this,e,arguments)}return EMe(e,t),jMe(e,[{key:"render",value:function(){return $.createElement(NMe,this.props)}}])}($.Component);vJ(th,"displayName","YAxis");vJ(th,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function r3(t){return PMe(t)||IMe(t)||kMe(t)||TMe()}function TMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kMe(t,e){if(t){if(typeof t=="string")return nT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nT(t,e)}}function IMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PMe(t){if(Array.isArray(t))return nT(t)}function nT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var aT=function(e,r,n,a,s){var o=Xa(e,_P),l=Xa(e,$b),c=[].concat(r3(o),r3(l)),u=Xa(e,Kb),A="".concat(a,"Id"),d=a[0],h=r;if(c.length&&(h=c.reduce(function(g,m){if(m.props[A]===n&&ni(m.props,"extendDomain")&&Pe(m.props[d])){var x=m.props[d];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},h)),u.length){var f="".concat(d,"1"),p="".concat(d,"2");h=u.reduce(function(g,m){if(m.props[A]===n&&ni(m.props,"extendDomain")&&Pe(m.props[f])&&Pe(m.props[p])){var x=m.props[f],b=m.props[p];return[Math.min(g[0],x,b),Math.max(g[1],x,b)]}return g},h)}return s&&s.length&&(h=s.reduce(function(g,m){return Pe(m)?[Math.min(g[0],m),Math.max(g[1],m)]:g},h)),h},IB={exports:{}},n3;function OMe(){return n3||(n3=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,A){this.fn=c,this.context=u,this.once=A||!1}function s(c,u,A,d,h){if(typeof A!="function")throw new TypeError("The listener must be a function");var f=new a(A,d||c,h),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],f]:c._events[p].push(f):(c._events[p]=f,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],A,d;if(this._eventsCount===0)return u;for(d in A=this._events)e.call(A,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(A)):u},l.prototype.listeners=function(u){var A=r?r+u:u,d=this._events[A];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,p=new Array(f);h<f;h++)p[h]=d[h].fn;return p},l.prototype.listenerCount=function(u){var A=r?r+u:u,d=this._events[A];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,A,d,h,f,p){var g=r?r+u:u;if(!this._events[g])return!1;var m=this._events[g],x=arguments.length,b,_;if(m.fn){switch(m.once&&this.removeListener(u,m.fn,void 0,!0),x){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,A),!0;case 3:return m.fn.call(m.context,A,d),!0;case 4:return m.fn.call(m.context,A,d,h),!0;case 5:return m.fn.call(m.context,A,d,h,f),!0;case 6:return m.fn.call(m.context,A,d,h,f,p),!0}for(_=1,b=new Array(x-1);_<x;_++)b[_-1]=arguments[_];m.fn.apply(m.context,b)}else{var w=m.length,C;for(_=0;_<w;_++)switch(m[_].once&&this.removeListener(u,m[_].fn,void 0,!0),x){case 1:m[_].fn.call(m[_].context);break;case 2:m[_].fn.call(m[_].context,A);break;case 3:m[_].fn.call(m[_].context,A,d);break;case 4:m[_].fn.call(m[_].context,A,d,h);break;default:if(!b)for(C=1,b=new Array(x-1);C<x;C++)b[C-1]=arguments[C];m[_].fn.apply(m[_].context,b)}}return!0},l.prototype.on=function(u,A,d){return s(this,u,A,d,!1)},l.prototype.once=function(u,A,d){return s(this,u,A,d,!0)},l.prototype.removeListener=function(u,A,d,h){var f=r?r+u:u;if(!this._events[f])return this;if(!A)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===A&&(!h||p.once)&&(!d||p.context===d)&&o(this,f);else{for(var g=0,m=[],x=p.length;g<x;g++)(p[g].fn!==A||h&&!p[g].once||d&&p[g].context!==d)&&m.push(p[g]);m.length?this._events[f]=m.length===1?m[0]:m:o(this,f)}return this},l.prototype.removeAllListeners=function(u){var A;return u?(A=r?r+u:u,this._events[A]&&o(this,A)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l}(IB)),IB.exports}var FMe=OMe();const DMe=Lt(FMe);var PB=new DMe,OB="recharts.syncMouseEvents";function lp(t){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lp(t)}function RMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xJ(n.key),n)}}function MMe(t,e,r){return e&&UMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FB(t,e,r){return e=xJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xJ(t){var e=QMe(t,"string");return lp(e)=="symbol"?e:e+""}function QMe(t,e){if(lp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var LMe=function(){function t(){RMe(this,t),FB(this,"activeIndex",0),FB(this,"coordinateList",[]),FB(this,"layout","horizontal")}return MMe(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,A=r.offset,d=A===void 0?null:A,h=r.mouseHandlerCallback,f=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,A=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=s+c+u,h=o+this.offset.top+l/2+A;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function HMe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&Pe(n)&&Pe(a))return!0}return!1}function $Me(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function bJ(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,s=t.endAngle,o=wn(e,r,n,a),l=wn(e,r,n,s);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:s}}function VMe(t,e,r){var n,a,s,o;if(t==="horizontal")n=e.x,s=n,a=r.top,o=r.top+r.height;else if(t==="vertical")a=e.y,o=a,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,A=e.outerRadius,d=e.angle,h=wn(l,c,u,d),f=wn(l,c,A,d);n=h.x,a=h.y,s=f.x,o=f.y}else return bJ(e);return[{x:n,y:a},{x:s,y:o}]}function cp(t){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp(t)}function a3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _v(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a3(Object(r),!0).forEach(function(n){KMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KMe(t,e,r){return e=qMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qMe(t){var e=GMe(t,"string");return cp(e)=="symbol"?e:e+""}function GMe(t,e){if(cp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zMe(t){var e,r,n=t.element,a=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,A=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,f=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!f||!s||!o||h!=="ScatterChart"&&a!=="axis")return null;var p,g=NN;if(h==="ScatterChart")p=o,g=qDe;else if(h==="BarChart")p=$Me(d,o,c,A),g=pP;else if(d==="radial"){var m=bJ(o),x=m.cx,b=m.cy,_=m.radius,w=m.startAngle,C=m.endAngle;p={cx:x,cy:b,startAngle:w,endAngle:C,innerRadius:_,outerRadius:_},g=SX}else p={points:VMe(d,o,c)},g=NN;var E=_v(_v(_v(_v({stroke:"#ccc",pointerEvents:"none"},c),p),Dt(f,!1)),{},{payload:l,payloadIndex:u,className:Qt("recharts-tooltip-cursor",f.className)});return v.isValidElement(f)?v.cloneElement(f,E):v.createElement(g,E)}var WMe=["item"],XMe=["children","className","width","height","style","compact","title","desc"];function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function Ff(){return Ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ff.apply(this,arguments)}function s3(t,e){return ZMe(t)||YMe(t,e)||jJ(t,e)||JMe()}function JMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ZMe(t){if(Array.isArray(t))return t}function i3(t,e){if(t==null)return{};var r=eQe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eQe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rQe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_J(n.key),n)}}function nQe(t,e,r){return e&&rQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aQe(t,e,r){return e=t0(e),sQe(t,wJ()?Reflect.construct(e,r||[],t0(t).constructor):e.apply(t,r))}function sQe(t,e){if(e&&(_d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iQe(t)}function iQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wJ=function(){return!!t})()}function t0(t){return t0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},t0(t)}function oQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sT(t,e)}function sT(t,e){return sT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sT(t,e)}function Cd(t){return uQe(t)||cQe(t)||jJ(t)||lQe()}function lQe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jJ(t,e){if(t){if(typeof t=="string")return iT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iT(t,e)}}function cQe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uQe(t){if(Array.isArray(t))return iT(t)}function iT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o3(Object(r),!0).forEach(function(n){lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lt(t,e,r){return e=_J(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _J(t){var e=AQe(t,"string");return _d(e)=="symbol"?e:e+""}function AQe(t,e){if(_d(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dQe={xAxis:["bottom","top"],yAxis:["left","right"]},hQe={width:"100%",height:"100%"},CJ={x:0,y:0};function Cv(t){return t}var fQe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},mQe=function(e,r,n,a){var s=r.find(function(A){return A&&A.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,l=a.radius;return ue(ue(ue({},a),wn(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=a.angle;return ue(ue(ue({},a),wn(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return CJ},qb=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Cd(l),Cd(u)):l},[]);return o.length>0?o:e&&e.length&&Pe(a)&&Pe(s)?e.slice(a,s+1):[]};function BJ(t){return t==="number"?[0,"auto"]:void 0}var oT=function(e,r,n,a){var s=e.graphicalItems,o=e.tooltipAxis,l=qb(r,e);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var A,d=(A=u.props.data)!==null&&A!==void 0?A:r;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var f=d===void 0?l:d;h=ix(f,o.dataKey,a)}else h=d&&d[n]||l[n];return h?[].concat(Cd(c),[CX(u,h)]):c},[])},l3=function(e,r,n,a){var s=a||{x:e.chartX,y:e.chartY},o=fQe(s,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,A=$2e(o,l,u,c);if(A>=0&&u){var d=u[A]&&u[A].value,h=oT(e,r,A,d),f=mQe(n,l,A,s);return{activeTooltipIndex:A,activeLabel:d,activePayload:h,activeCoordinate:f}}return null},pQe=function(e,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,A=e.layout,d=e.children,h=e.stackOffset,f=wX(A,s);return n.reduce(function(p,g){var m,x=g.type.defaultProps!==void 0?ue(ue({},g.type.defaultProps),g.props):g.props,b=x.type,_=x.dataKey,w=x.allowDataOverflow,C=x.allowDuplicatedCategory,E=x.scale,j=x.ticks,B=x.includeHidden,S=x[o];if(p[S])return p;var N=qb(e.data,{graphicalItems:a.filter(function(X){var te,Z=o in X.props?X.props[o]:(te=X.type.defaultProps)===null||te===void 0?void 0:te[o];return Z===S}),dataStartIndex:c,dataEndIndex:u}),I=N.length,P,T,U;HMe(x.domain,w,b)&&(P=_N(x.domain,null,w),f&&(b==="number"||E!=="auto")&&(U=If(N,_,"category")));var M=BJ(b);if(!P||P.length===0){var R,F=(R=x.domain)!==null&&R!==void 0?R:M;if(_){if(P=If(N,_,b),b==="category"&&f){var D=OBe(P);C&&D?(T=P,P=Hx(0,I)):C||(P=w5(F,P,g).reduce(function(X,te){return X.indexOf(te)>=0?X:[].concat(Cd(X),[te])},[]))}else if(b==="category")C?P=P.filter(function(X){return X!==""&&!Tt(X)}):P=w5(F,P,g).reduce(function(X,te){return X.indexOf(te)>=0||te===""||Tt(te)?X:[].concat(Cd(X),[te])},[]);else if(b==="number"){var Q=z2e(N,a.filter(function(X){var te,Z,q=o in X.props?X.props[o]:(te=X.type.defaultProps)===null||te===void 0?void 0:te[o],se="hide"in X.props?X.props.hide:(Z=X.type.defaultProps)===null||Z===void 0?void 0:Z.hide;return q===S&&(B||!se)}),_,s,A);Q&&(P=Q)}f&&(b==="number"||E!=="auto")&&(U=If(N,_,"category"))}else f?P=Hx(0,I):l&&l[S]&&l[S].hasStack&&b==="number"?P=h==="expand"?[0,1]:_X(l[S].stackGroups,c,u):P=bX(N,a.filter(function(X){var te=o in X.props?X.props[o]:X.type.defaultProps[o],Z="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return te===S&&(B||!Z)}),b,A,!0);if(b==="number")P=aT(d,P,S,s,j),F&&(P=_N(F,P,w));else if(b==="category"&&F){var H=F,G=P.every(function(X){return H.indexOf(X)>=0});G&&(P=H)}}return ue(ue({},p),{},lt({},S,ue(ue({},x),{},{axisType:s,domain:P,categoricalDomain:U,duplicateDomain:T,originalDomain:(m=x.domain)!==null&&m!==void 0?m:M,isCategorical:f,layout:A})))},{})},gQe=function(e,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,A=e.layout,d=e.children,h=qb(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),f=h.length,p=wX(A,s),g=-1;return n.reduce(function(m,x){var b=x.type.defaultProps!==void 0?ue(ue({},x.type.defaultProps),x.props):x.props,_=b[o],w=BJ("number");if(!m[_]){g++;var C;return p?C=Hx(0,f):l&&l[_]&&l[_].hasStack?(C=_X(l[_].stackGroups,c,u),C=aT(d,C,_,s)):(C=_N(w,bX(h,n.filter(function(E){var j,B,S=o in E.props?E.props[o]:(j=E.type.defaultProps)===null||j===void 0?void 0:j[o],N="hide"in E.props?E.props.hide:(B=E.type.defaultProps)===null||B===void 0?void 0:B.hide;return S===_&&!N}),"number",A),a.defaultProps.allowDataOverflow),C=aT(d,C,_,s)),ue(ue({},m),{},lt({},_,ue(ue({axisType:s},a.defaultProps),{},{hide:!0,orientation:Wa(dQe,"".concat(s,".").concat(g%2),null),domain:C,originalDomain:w,isCategorical:p,layout:A})))}return m},{})},vQe=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,A=e.children,d="".concat(a,"Id"),h=Xa(A,s),f={};return h&&h.length?f=pQe(e,{axes:h,graphicalItems:o,axisType:a,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(f=gQe(e,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),f},yQe=function(e){var r=Ro(e),n=Oi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:$I(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Px(r,n)}},c3=function(e){var r=e.children,n=e.defaultShowTooltip,a=_a(r,md),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},xQe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Qi(r&&r.type);return n&&n.indexOf("Bar")>=0})},u3=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},bQe=function(e,r){var n=e.props,a=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,A=n.height,d=n.children,h=n.margin||{},f=_a(d,md),p=_a(d,pA),g=Object.keys(c).reduce(function(C,E){var j=c[E],B=j.orientation;return!j.mirror&&!j.hide?ue(ue({},C),{},lt({},B,C[B]+j.width)):C},{left:h.left||0,right:h.right||0}),m=Object.keys(o).reduce(function(C,E){var j=o[E],B=j.orientation;return!j.mirror&&!j.hide?ue(ue({},C),{},lt({},B,Wa(C,"".concat(B))+j.height)):C},{top:h.top||0,bottom:h.bottom||0}),x=ue(ue({},m),g),b=x.bottom;f&&(x.bottom+=f.props.height||md.defaultProps.height),p&&r&&(x=q2e(x,a,n,r));var _=u-x.left-x.right,w=A-x.top-x.bottom;return ue(ue({brushBottom:b},x),{},{width:Math.max(_,0),height:Math.max(w,0)})},wQe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},EJ=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,s=a===void 0?"axis":a,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,A=e.formatAxisMap,d=e.defaultProps,h=function(m,x){var b=x.graphicalItems,_=x.stackGroups,w=x.offset,C=x.updateId,E=x.dataStartIndex,j=x.dataEndIndex,B=m.barSize,S=m.layout,N=m.barGap,I=m.barCategoryGap,P=m.maxBarSize,T=u3(S),U=T.numericAxisName,M=T.cateAxisName,R=xQe(b),F=[];return b.forEach(function(D,Q){var H=qb(m.data,{graphicalItems:[D],dataStartIndex:E,dataEndIndex:j}),G=D.type.defaultProps!==void 0?ue(ue({},D.type.defaultProps),D.props):D.props,X=G.dataKey,te=G.maxBarSize,Z=G["".concat(U,"Id")],q=G["".concat(M,"Id")],se={},Ae=c.reduce(function(ae,_e){var Ee=x["".concat(_e.axisType,"Map")],ye=G["".concat(_e.axisType,"Id")];Ee&&Ee[ye]||_e.axisType==="zAxis"||tu();var We=Ee[ye];return ue(ue({},ae),{},lt(lt({},_e.axisType,We),"".concat(_e.axisType,"Ticks"),Oi(We)))},se),oe=Ae[M],ce=Ae["".concat(M,"Ticks")],fe=_&&_[Z]&&_[Z].hasStack&&iOe(D,_[Z].stackGroups),je=Qi(D.type).indexOf("Bar")>=0,z=Px(oe,ce),ve=[],Ie=R&&V2e({barSize:B,stackGroups:_,totalSize:wQe(Ae,M)});if(je){var qe,Xe,Bt=Tt(te)?P:te,K=(qe=(Xe=Px(oe,ce,!0))!==null&&Xe!==void 0?Xe:Bt)!==null&&qe!==void 0?qe:0;ve=K2e({barGap:N,barCategoryGap:I,bandSize:K!==z?K:z,sizeList:Ie[q],maxBarSize:Bt}),K!==z&&(ve=ve.map(function(ae){return ue(ue({},ae),{},{position:ue(ue({},ae.position),{},{offset:ae.position.offset-K/2})})}))}var ee=D&&D.type&&D.type.getComposedData;ee&&F.push({props:ue(ue({},ee(ue(ue({},Ae),{},{displayedData:H,props:m,dataKey:X,item:D,bandSize:z,barPosition:ve,offset:w,stackedData:fe,layout:S,dataStartIndex:E,dataEndIndex:j}))),{},lt(lt(lt({key:D.key||"item-".concat(Q)},U,Ae[U]),M,Ae[M]),"animationId",C)),childIndex:qBe(D,m.children),item:D})}),F},f=function(m,x){var b=m.props,_=m.dataStartIndex,w=m.dataEndIndex,C=m.updateId;if(!DU({props:b}))return null;var E=b.children,j=b.layout,B=b.stackOffset,S=b.data,N=b.reverseStackOrder,I=u3(j),P=I.numericAxisName,T=I.cateAxisName,U=Xa(E,n),M=nOe(S,U,"".concat(P,"Id"),"".concat(T,"Id"),B,N),R=c.reduce(function(G,X){var te="".concat(X.axisType,"Map");return ue(ue({},G),{},lt({},te,vQe(b,ue(ue({},X),{},{graphicalItems:U,stackGroups:X.axisType===P&&M,dataStartIndex:_,dataEndIndex:w}))))},{}),F=bQe(ue(ue({},R),{},{props:b,graphicalItems:U}),x==null?void 0:x.legendBBox);Object.keys(R).forEach(function(G){R[G]=A(b,R[G],F,G.replace("Map",""),r)});var D=R["".concat(T,"Map")],Q=yQe(D),H=h(b,ue(ue({},R),{},{dataStartIndex:_,dataEndIndex:w,updateId:C,graphicalItems:U,stackGroups:M,offset:F}));return ue(ue({formattedGraphicalItems:H,graphicalItems:U,offset:F,stackGroups:M},Q),R)},p=function(g){function m(x){var b,_,w;return tQe(this,m),w=aQe(this,m,[x]),lt(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),lt(w,"accessibilityManager",new LMe),lt(w,"handleLegendBBoxUpdate",function(C){if(C){var E=w.state,j=E.dataStartIndex,B=E.dataEndIndex,S=E.updateId;w.setState(ue({legendBBox:C},f({props:w.props,dataStartIndex:j,dataEndIndex:B,updateId:S},ue(ue({},w.state),{},{legendBBox:C}))))}}),lt(w,"handleReceiveSyncEvent",function(C,E,j){if(w.props.syncId===C){if(j===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(E)}}),lt(w,"handleBrushChange",function(C){var E=C.startIndex,j=C.endIndex;if(E!==w.state.dataStartIndex||j!==w.state.dataEndIndex){var B=w.state.updateId;w.setState(function(){return ue({dataStartIndex:E,dataEndIndex:j},f({props:w.props,dataStartIndex:E,dataEndIndex:j,updateId:B},w.state))}),w.triggerSyncEvent({dataStartIndex:E,dataEndIndex:j})}}),lt(w,"handleMouseEnter",function(C){var E=w.getMouseInfo(C);if(E){var j=ue(ue({},E),{},{isTooltipActive:!0});w.setState(j),w.triggerSyncEvent(j);var B=w.props.onMouseEnter;Ct(B)&&B(j,C)}}),lt(w,"triggeredAfterMouseMove",function(C){var E=w.getMouseInfo(C),j=E?ue(ue({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(j),w.triggerSyncEvent(j);var B=w.props.onMouseMove;Ct(B)&&B(j,C)}),lt(w,"handleItemMouseEnter",function(C){w.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),lt(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),lt(w,"handleMouseMove",function(C){C.persist(),w.throttleTriggeredAfterMouseMove(C)}),lt(w,"handleMouseLeave",function(C){w.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var j=w.props.onMouseLeave;Ct(j)&&j(E,C)}),lt(w,"handleOuterEvent",function(C){var E=KBe(C),j=Wa(w.props,"".concat(E));if(E&&Ct(j)){var B,S;/.*touch.*/i.test(E)?S=w.getMouseInfo(C.changedTouches[0]):S=w.getMouseInfo(C),j((B=S)!==null&&B!==void 0?B:{},C)}}),lt(w,"handleClick",function(C){var E=w.getMouseInfo(C);if(E){var j=ue(ue({},E),{},{isTooltipActive:!0});w.setState(j),w.triggerSyncEvent(j);var B=w.props.onClick;Ct(B)&&B(j,C)}}),lt(w,"handleMouseDown",function(C){var E=w.props.onMouseDown;if(Ct(E)){var j=w.getMouseInfo(C);E(j,C)}}),lt(w,"handleMouseUp",function(C){var E=w.props.onMouseUp;if(Ct(E)){var j=w.getMouseInfo(C);E(j,C)}}),lt(w,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),lt(w,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&w.handleMouseDown(C.changedTouches[0])}),lt(w,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&w.handleMouseUp(C.changedTouches[0])}),lt(w,"triggerSyncEvent",function(C){w.props.syncId!==void 0&&PB.emit(OB,w.props.syncId,C,w.eventEmitterSymbol)}),lt(w,"applySyncEvent",function(C){var E=w.props,j=E.layout,B=E.syncMethod,S=w.state.updateId,N=C.dataStartIndex,I=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)w.setState(ue({dataStartIndex:N,dataEndIndex:I},f({props:w.props,dataStartIndex:N,dataEndIndex:I,updateId:S},w.state)));else if(C.activeTooltipIndex!==void 0){var P=C.chartX,T=C.chartY,U=C.activeTooltipIndex,M=w.state,R=M.offset,F=M.tooltipTicks;if(!R)return;if(typeof B=="function")U=B(F,C);else if(B==="value"){U=-1;for(var D=0;D<F.length;D++)if(F[D].value===C.activeLabel){U=D;break}}var Q=ue(ue({},R),{},{x:R.left,y:R.top}),H=Math.min(P,Q.x+Q.width),G=Math.min(T,Q.y+Q.height),X=F[U]&&F[U].value,te=oT(w.state,w.props.data,U),Z=F[U]?{x:j==="horizontal"?F[U].coordinate:H,y:j==="horizontal"?G:F[U].coordinate}:CJ;w.setState(ue(ue({},C),{},{activeLabel:X,activeCoordinate:Z,activePayload:te,activeTooltipIndex:U}))}else w.setState(C)}),lt(w,"renderCursor",function(C){var E,j=w.state,B=j.isTooltipActive,S=j.activeCoordinate,N=j.activePayload,I=j.offset,P=j.activeTooltipIndex,T=j.tooltipAxisBandSize,U=w.getTooltipEventType(),M=(E=C.props.active)!==null&&E!==void 0?E:B,R=w.props.layout,F=C.key||"_recharts-cursor";return $.createElement(zMe,{key:F,activeCoordinate:S,activePayload:N,activeTooltipIndex:P,chartName:r,element:C,isActive:M,layout:R,offset:I,tooltipAxisBandSize:T,tooltipEventType:U})}),lt(w,"renderPolarAxis",function(C,E,j){var B=Wa(C,"type.axisType"),S=Wa(w.state,"".concat(B,"Map")),N=C.type.defaultProps,I=N!==void 0?ue(ue({},N),C.props):C.props,P=S&&S[I["".concat(B,"Id")]];return v.cloneElement(C,ue(ue({},P),{},{className:Qt(B,P.className),key:C.key||"".concat(E,"-").concat(j),ticks:Oi(P,!0)}))}),lt(w,"renderPolarGrid",function(C){var E=C.props,j=E.radialLines,B=E.polarAngles,S=E.polarRadius,N=w.state,I=N.radiusAxisMap,P=N.angleAxisMap,T=Ro(I),U=Ro(P),M=U.cx,R=U.cy,F=U.innerRadius,D=U.outerRadius;return v.cloneElement(C,{polarAngles:Array.isArray(B)?B:Oi(U,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(S)?S:Oi(T,!0).map(function(Q){return Q.coordinate}),cx:M,cy:R,innerRadius:F,outerRadius:D,key:C.key||"polar-grid",radialLines:j})}),lt(w,"renderLegend",function(){var C=w.state.formattedGraphicalItems,E=w.props,j=E.children,B=E.width,S=E.height,N=w.props.margin||{},I=B-(N.left||0)-(N.right||0),P=yX({children:j,formattedGraphicalItems:C,legendWidth:I,legendContent:u});if(!P)return null;var T=P.item,U=i3(P,WMe);return v.cloneElement(T,ue(ue({},U),{},{chartWidth:B,chartHeight:S,margin:N,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),lt(w,"renderTooltip",function(){var C,E=w.props,j=E.children,B=E.accessibilityLayer,S=_a(j,us);if(!S)return null;var N=w.state,I=N.isTooltipActive,P=N.activeCoordinate,T=N.activePayload,U=N.activeLabel,M=N.offset,R=(C=S.props.active)!==null&&C!==void 0?C:I;return v.cloneElement(S,{viewBox:ue(ue({},M),{},{x:M.left,y:M.top}),active:R,label:U,payload:R?T:[],coordinate:P,accessibilityLayer:B})}),lt(w,"renderBrush",function(C){var E=w.props,j=E.margin,B=E.data,S=w.state,N=S.offset,I=S.dataStartIndex,P=S.dataEndIndex,T=S.updateId;return v.cloneElement(C,{key:C.key||"_recharts-brush",onChange:xv(w.handleBrushChange,C.props.onChange),data:B,x:Pe(C.props.x)?C.props.x:N.left,y:Pe(C.props.y)?C.props.y:N.top+N.height+N.brushBottom-(j.bottom||0),width:Pe(C.props.width)?C.props.width:N.width,startIndex:I,endIndex:P,updateId:"brush-".concat(T)})}),lt(w,"renderReferenceElement",function(C,E,j){if(!C)return null;var B=w,S=B.clipPathId,N=w.state,I=N.xAxisMap,P=N.yAxisMap,T=N.offset,U=C.type.defaultProps||{},M=C.props,R=M.xAxisId,F=R===void 0?U.xAxisId:R,D=M.yAxisId,Q=D===void 0?U.yAxisId:D;return v.cloneElement(C,{key:C.key||"".concat(E,"-").concat(j),xAxis:I[F],yAxis:P[Q],viewBox:{x:T.left,y:T.top,width:T.width,height:T.height},clipPathId:S})}),lt(w,"renderActivePoints",function(C){var E=C.item,j=C.activePoint,B=C.basePoint,S=C.childIndex,N=C.isRange,I=[],P=E.props.key,T=E.item.type.defaultProps!==void 0?ue(ue({},E.item.type.defaultProps),E.item.props):E.item.props,U=T.activeDot,M=T.dataKey,R=ue(ue({index:S,dataKey:M,cx:j.x,cy:j.y,r:4,fill:mP(E.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},Dt(U,!1)),ox(U));return I.push(m.renderActiveDot(U,R,"".concat(P,"-activePoint-").concat(S))),B?I.push(m.renderActiveDot(U,ue(ue({},R),{},{cx:B.x,cy:B.y}),"".concat(P,"-basePoint-").concat(S))):N&&I.push(null),I}),lt(w,"renderGraphicChild",function(C,E,j){var B=w.filterFormatItem(C,E,j);if(!B)return null;var S=w.getTooltipEventType(),N=w.state,I=N.isTooltipActive,P=N.tooltipAxis,T=N.activeTooltipIndex,U=N.activeLabel,M=w.props.children,R=_a(M,us),F=B.props,D=F.points,Q=F.isRange,H=F.baseLine,G=B.item.type.defaultProps!==void 0?ue(ue({},B.item.type.defaultProps),B.item.props):B.item.props,X=G.activeDot,te=G.hide,Z=G.activeBar,q=G.activeShape,se=!!(!te&&I&&R&&(X||Z||q)),Ae={};S!=="axis"&&R&&R.props.trigger==="click"?Ae={onClick:xv(w.handleItemMouseEnter,C.props.onClick)}:S!=="axis"&&(Ae={onMouseLeave:xv(w.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:xv(w.handleItemMouseEnter,C.props.onMouseEnter)});var oe=v.cloneElement(C,ue(ue({},B.props),Ae));function ce(_e){return typeof P.dataKey=="function"?P.dataKey(_e.payload):null}if(se)if(T>=0){var fe,je;if(P.dataKey&&!P.allowDuplicatedCategory){var z=typeof P.dataKey=="function"?ce:"payload.".concat(P.dataKey.toString());fe=ix(D,z,U),je=Q&&H&&ix(H,z,U)}else fe=D==null?void 0:D[T],je=Q&&H&&H[T];if(q||Z){var ve=C.props.activeIndex!==void 0?C.props.activeIndex:T;return[v.cloneElement(C,ue(ue(ue({},B.props),Ae),{},{activeIndex:ve})),null,null]}if(!Tt(fe))return[oe].concat(Cd(w.renderActivePoints({item:B,activePoint:fe,basePoint:je,childIndex:T,isRange:Q})))}else{var Ie,qe=(Ie=w.getItemByXY(w.state.activeCoordinate))!==null&&Ie!==void 0?Ie:{graphicalItem:oe},Xe=qe.graphicalItem,Bt=Xe.item,K=Bt===void 0?C:Bt,ee=Xe.childIndex,ae=ue(ue(ue({},B.props),Ae),{},{activeIndex:ee});return[v.cloneElement(K,ae),null,null]}return Q?[oe,null,null]:[oe,null]}),lt(w,"renderCustomized",function(C,E,j){return v.cloneElement(C,ue(ue({key:"recharts-customized-".concat(j)},w.props),w.state))}),lt(w,"renderMap",{CartesianGrid:{handler:Cv,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Cv},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Cv},YAxis:{handler:Cv},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:Gp("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=vW(w.triggeredAfterMouseMove,(_=x.throttleDelay)!==null&&_!==void 0?_:1e3/60),w.state={},w}return oQe(m,g),nQe(m,[{key:"componentDidMount",value:function(){var b,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,_=b.children,w=b.data,C=b.height,E=b.layout,j=_a(_,us);if(j){var B=j.props.defaultIndex;if(!(typeof B!="number"||B<0||B>this.state.tooltipTicks.length-1)){var S=this.state.tooltipTicks[B]&&this.state.tooltipTicks[B].value,N=oT(this.state,w,B,S),I=this.state.tooltipTicks[B].coordinate,P=(this.state.offset.top+C)/2,T=E==="horizontal",U=T?{x:I,y:P}:{y:I,x:P},M=this.state.formattedGraphicalItems.find(function(F){var D=F.item;return D.type.name==="Scatter"});M&&(U=ue(ue({},U),M.props.points[B].tooltipPosition),N=M.props.points[B].tooltipPayload);var R={activeTooltipIndex:B,isTooltipActive:!0,activeLabel:S,activePayload:N,activeCoordinate:U};this.setState(R),this.renderCursor(j),this.accessibilityManager.setIndex(B)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,C;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(b){qS([_a(b.children,us)],[_a(this.props.children,us)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=_a(this.props.children,us);if(b&&typeof b.props.shared=="boolean"){var _=b.props.shared?"axis":"item";return l.indexOf(_)>=0?_:s}return s}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var _=this.container,w=_.getBoundingClientRect(),C=PTe(w),E={chartX:Math.round(b.pageX-C.left),chartY:Math.round(b.pageY-C.top)},j=w.width/_.offsetWidth||1,B=this.inRange(E.chartX,E.chartY,j);if(!B)return null;var S=this.state,N=S.xAxisMap,I=S.yAxisMap,P=this.getTooltipEventType();if(P!=="axis"&&N&&I){var T=Ro(N).scale,U=Ro(I).scale,M=T&&T.invert?T.invert(E.chartX):null,R=U&&U.invert?U.invert(E.chartY):null;return ue(ue({},E),{},{xValue:M,yValue:R})}var F=l3(this.state,this.props.data,this.props.layout,B);return F?ue(ue({},E),F):null}},{key:"inRange",value:function(b,_){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,E=b/w,j=_/w;if(C==="horizontal"||C==="vertical"){var B=this.state.offset,S=E>=B.left&&E<=B.left+B.width&&j>=B.top&&j<=B.top+B.height;return S?{x:E,y:j}:null}var N=this.state,I=N.angleAxisMap,P=N.radiusAxisMap;if(I&&P){var T=Ro(I);return C5({x:E,y:j},T)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,_=this.getTooltipEventType(),w=_a(b,us),C={};w&&_==="axis"&&(w.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var E=ox(this.props,this.handleOuterEvent);return ue(ue({},E),C)}},{key:"addListener",value:function(){PB.on(OB,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){PB.removeListener(OB,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,_,w){for(var C=this.state.formattedGraphicalItems,E=0,j=C.length;E<j;E++){var B=C[E];if(B.item===b||B.props.key===b.key||_===Qi(B.item.type)&&w===B.childIndex)return B}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,_=this.state.offset,w=_.left,C=_.top,E=_.height,j=_.width;return $.createElement("defs",null,$.createElement("clipPath",{id:b},$.createElement("rect",{x:w,y:C,height:E,width:j})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(_,w){var C=s3(w,2),E=C[0],j=C[1];return ue(ue({},_),{},lt({},E,j.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(_,w){var C=s3(w,2),E=C[0],j=C[1];return ue(ue({},_),{},lt({},E,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(b){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(b){var _=this.state,w=_.formattedGraphicalItems,C=_.activeItem;if(w&&w.length)for(var E=0,j=w.length;E<j;E++){var B=w[E],S=B.props,N=B.item,I=N.type.defaultProps!==void 0?ue(ue({},N.type.defaultProps),N.props):N.props,P=Qi(N.type);if(P==="Bar"){var T=(S.data||[]).find(function(F){return DDe(b,F)});if(T)return{graphicalItem:B,payload:T}}else if(P==="RadialBar"){var U=(S.data||[]).find(function(F){return C5(b,F)});if(U)return{graphicalItem:B,payload:U}}else if(Mb(B,C)||Qb(B,C)||np(B,C)){var M=BRe({graphicalItem:B,activeTooltipItem:C,itemData:I.data}),R=I.activeIndex===void 0?M:I.activeIndex;return{graphicalItem:ue(ue({},B),{},{childIndex:R}),payload:np(B,C)?I.data[M]:B.props.data[M]}}}return null}},{key:"render",value:function(){var b=this;if(!DU(this))return null;var _=this.props,w=_.children,C=_.className,E=_.width,j=_.height,B=_.style,S=_.compact,N=_.title,I=_.desc,P=i3(_,XMe),T=Dt(P,!1);if(S)return $.createElement(QH,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(zS,Ff({},T,{width:E,height:j,title:N,desc:I}),this.renderClipPath(),UU(w,this.renderMap)));if(this.props.accessibilityLayer){var U,M;T.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,T.role=(M=this.props.role)!==null&&M!==void 0?M:"application",T.onKeyDown=function(F){b.accessibilityManager.keyboardEvent(F)},T.onFocus=function(){b.accessibilityManager.focus()}}var R=this.parseEventsOfWrapper();return $.createElement(QH,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",Ff({className:Qt("recharts-wrapper",C),style:ue({position:"relative",cursor:"default",width:E,height:j},B)},R,{ref:function(D){b.container=D}}),$.createElement(zS,Ff({},T,{width:E,height:j,title:N,desc:I,style:hQe}),this.renderClipPath(),UU(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);return lt(p,"displayName",r),lt(p,"defaultProps",ue({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),lt(p,"getDerivedStateFromProps",function(g,m){var x=g.dataKey,b=g.data,_=g.children,w=g.width,C=g.height,E=g.layout,j=g.stackOffset,B=g.margin,S=m.dataStartIndex,N=m.dataEndIndex;if(m.updateId===void 0){var I=c3(g);return ue(ue(ue({},I),{},{updateId:0},f(ue(ue({props:g},I),{},{updateId:0}),m)),{},{prevDataKey:x,prevData:b,prevWidth:w,prevHeight:C,prevLayout:E,prevStackOffset:j,prevMargin:B,prevChildren:_})}if(x!==m.prevDataKey||b!==m.prevData||w!==m.prevWidth||C!==m.prevHeight||E!==m.prevLayout||j!==m.prevStackOffset||!mA(B,m.prevMargin)){var P=c3(g),T={chartX:m.chartX,chartY:m.chartY,isTooltipActive:m.isTooltipActive},U=ue(ue({},l3(m,b,E)),{},{updateId:m.updateId+1}),M=ue(ue(ue({},P),T),U);return ue(ue(ue({},M),f(ue({props:g},M),m)),{},{prevDataKey:x,prevData:b,prevWidth:w,prevHeight:C,prevLayout:E,prevStackOffset:j,prevMargin:B,prevChildren:_})}if(!qS(_,m.prevChildren)){var R,F,D,Q,H=_a(_,md),G=H&&(R=(F=H.props)===null||F===void 0?void 0:F.startIndex)!==null&&R!==void 0?R:S,X=H&&(D=(Q=H.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&D!==void 0?D:N,te=G!==S||X!==N,Z=!Tt(b),q=Z&&!te?m.updateId:m.updateId+1;return ue(ue({updateId:q},f(ue(ue({props:g},m),{},{updateId:q,dataStartIndex:G,dataEndIndex:X}),m)),{},{prevChildren:_,dataStartIndex:G,dataEndIndex:X})}return null}),lt(p,"renderActiveDot",function(g,m,x){var b;return v.isValidElement(g)?b=v.cloneElement(g,m):Ct(g)?b=g(m):b=$.createElement(gP,m),$.createElement(Fr,{className:"recharts-active-dot",key:x},b)}),function(m){return $.createElement(p,m)}},jQe=EJ({chartName:"LineChart",GraphicalChild:eg,axisComponents:[{axisType:"xAxis",AxisComp:eh},{axisType:"yAxis",AxisComp:th}],formatAxisMap:qX}),_Qe=EJ({chartName:"BarChart",GraphicalChild:cu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:eh},{axisType:"yAxis",AxisComp:th}],formatAxisMap:qX});const CQe={light:"",dark:".dark"},SJ=v.createContext(null);function NJ(){const t=v.useContext(SJ);if(!t)throw new Error("useChart must be used within a <ChartContainer />");return t}const SP=v.forwardRef(({id:t,className:e,children:r,config:n,...a},s)=>{const o=v.useId(),l=`chart-${t||o.replace(/:/g,"")}`;return i.jsx(SJ.Provider,{value:{config:n},children:i.jsxs("div",{"data-chart":l,ref:s,className:de("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",e),...a,children:[i.jsx(BQe,{id:l,config:n}),i.jsx(BTe,{children:r})]})})});SP.displayName="Chart";const BQe=({id:t,config:e})=>{const r=Object.entries(e).filter(([n,a])=>a.theme||a.color);return r.length?i.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(CQe).map(([n,a])=>`
${a} [data-chart=${t}] {
${r.map(([s,o])=>{var c;const l=((c=o.theme)==null?void 0:c[n])||o.color;return l?`  --color-${s}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},EQe=v.forwardRef(({active:t,payload:e,className:r,indicator:n="dot",hideLabel:a=!1,hideIndicator:s=!1,label:o,labelFormatter:l,labelClassName:c,formatter:u,color:A,nameKey:d,labelKey:h},f)=>{const{config:p}=NJ(),g=v.useMemo(()=>{var C;if(a||!(e!=null&&e.length))return null;const[x]=e,b=`${h||x.dataKey||x.name||"value"}`,_=lT(p,x,b),w=!h&&typeof o=="string"?((C=p[o])==null?void 0:C.label)||o:_==null?void 0:_.label;return l?i.jsx("div",{className:de("font-medium",c),children:l(w,e)}):w?i.jsx("div",{className:de("font-medium",c),children:w}):null},[o,l,e,a,c,p,h]);if(!t||!(e!=null&&e.length))return null;const m=e.length===1&&n!=="dot";return i.jsxs("div",{ref:f,className:de("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[m?null:g,i.jsx("div",{className:"grid gap-1.5",children:e.map((x,b)=>{const _=`${d||x.name||x.dataKey||"value"}`,w=lT(p,x,_),C=A||x.payload.fill||x.color;return i.jsx("div",{className:de("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(x==null?void 0:x.value)!==void 0&&x.name?u(x.value,x.name,x,b,x.payload):i.jsxs(i.Fragment,{children:[w!=null&&w.icon?i.jsx(w.icon,{}):!s&&i.jsx("div",{className:de("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":m&&n==="dashed"}),style:{"--color-bg":C,"--color-border":C}}),i.jsxs("div",{className:de("flex flex-1 justify-between leading-none",m?"items-end":"items-center"),children:[i.jsxs("div",{className:"grid gap-1.5",children:[m?g:null,i.jsx("span",{className:"text-muted-foreground",children:(w==null?void 0:w.label)||x.name})]}),x.value&&i.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:x.value.toLocaleString()})]})]})},x.dataKey)})})]})});EQe.displayName="ChartTooltip";const SQe=v.forwardRef(({className:t,hideIcon:e=!1,payload:r,verticalAlign:n="bottom",nameKey:a},s)=>{const{config:o}=NJ();return r!=null&&r.length?i.jsx("div",{ref:s,className:de("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",t),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,u=lT(o,l,c);return i.jsxs("div",{className:de("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!e?i.jsx(u.icon,{}):i.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});SQe.displayName="ChartLegend";function lT(t,e,r){if(typeof e!="object"||e===null)return;const n="payload"in e&&typeof e.payload=="object"&&e.payload!==null?e.payload:void 0;let a=r;return r in e&&typeof e[r]=="string"?a=e[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in t?t[a]:t[r]}function TJ({data:t,index:e,categories:r,colors:n=["#FF7E47"],valueFormatter:a=o=>`${o}`,yAxisWidth:s=40}){return i.jsx(SP,{config:{[r[0]]:{color:n[0]}},children:i.jsxs(_Qe,{data:t,margin:{top:20,right:20,bottom:20,left:20},children:[i.jsx(EP,{strokeDasharray:"3 3",vertical:!1}),i.jsx(eh,{dataKey:e}),i.jsx(th,{width:s,tickFormatter:a}),i.jsx(us,{content:({active:o,payload:l})=>o&&l&&l.length?i.jsx("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:i.jsx("div",{className:"grid grid-cols-2 gap-2",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-[0.70rem] uppercase text-muted-foreground",children:l[0].payload[e]}),i.jsx("span",{className:"font-bold text-muted-foreground",children:a(Number(l[0].value))})]})})}):null}),r.map((o,l)=>i.jsx(cu,{dataKey:o,fill:n[l]||n[0],radius:[4,4,0,0]},o))]})})}function NQe({data:t,index:e,categories:r,colors:n=["#FF7E47"],valueFormatter:a=o=>`${o}`,yAxisWidth:s=40}){return i.jsx(SP,{config:{[r[0]]:{color:n[0]}},children:i.jsxs(jQe,{data:t,margin:{top:20,right:20,bottom:20,left:20},children:[i.jsx(EP,{strokeDasharray:"3 3",vertical:!1}),i.jsx(eh,{dataKey:e}),i.jsx(th,{width:s,tickFormatter:a}),i.jsx(us,{content:({active:o,payload:l})=>o&&l&&l.length?i.jsx("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:i.jsx("div",{className:"grid grid-cols-2 gap-2",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-[0.70rem] uppercase text-muted-foreground",children:l[0].payload[e]}),i.jsx("span",{className:"font-bold text-muted-foreground",children:a(Number(l[0].value))})]})})}):null}),r.map((o,l)=>i.jsx(eg,{type:"monotone",dataKey:o,stroke:n[l]||n[0],strokeWidth:2,dot:{r:4},activeDot:{r:6}},o))]})})}function A3(){var c,u;const[t,e]=v.useState({totalProducts:0,totalOrders:0,totalUsers:0,totalShippingMethods:0}),[r,n]=v.useState(null),[a,s]=v.useState({totalSales:0,totalPurchaseCost:0,profit:0,profitMargin:0}),[o,l]=v.useState([{name:"Jan",total:0},{name:"Feb",total:0},{name:"Mar",total:0},{name:"Apr",total:0},{name:"May",total:0},{name:"Jun",total:0}]);return v.useEffect(()=>{(async()=>{const[d,h,f,p,g,m]=await Promise.all([J.from("products").select("id",{count:"exact",head:!0}),J.from("orders").select("id",{count:"exact",head:!0}),J.from("profiles").select("id",{count:"exact",head:!0}),J.from("shipping_methods").select("id",{count:"exact",head:!0}),J.from("coal_inventory_summary").select("*").maybeSingle(),J.from("coal_inventory_transactions").select("*")]);e({totalProducts:d.count||0,totalOrders:h.count||0,totalUsers:f.count||0,totalShippingMethods:p.count||0}),g.data&&n(g.data);const{data:x}=await J.from("orders").select("date, total, status").neq("status","canceled").order("date",{ascending:!1}).limit(100);if(x){const b=x.reduce((j,B)=>j+Number(B.total),0),_=[0,0,0,0,0,0];x.forEach(j=>{const S=new Date(j.date).getMonth();S<6&&(_[S]+=Number(j.total))}),l([{name:"Jan",total:_[0]},{name:"Feb",total:_[1]},{name:"Mar",total:_[2]},{name:"Apr",total:_[3]},{name:"Mei",total:_[4]},{name:"Jun",total:_[5]}]);let w=0;m.data&&(w=m.data.filter(B=>B.transaction_type==="incoming"&&B.vehicle_info!=="cancelled_order_return").reduce((B,S)=>{const N=(S.price_per_kg||0)*S.quantity_kg;return B+N},0));const C=b-w,E=b>0?C/b*100:0;s({totalSales:b,totalPurchaseCost:w,profit:C,profitMargin:E})}})()},[]),i.jsxs(jn,{children:[i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Dasbor Admin"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[i.jsxs(xe,{children:[i.jsxs(nt,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(at,{className:"text-sm font-medium",children:"Produk"}),i.jsx(Vi,{className:"h-4 w-4 text-gray-500"})]}),i.jsxs(be,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.totalProducts}),i.jsx("p",{className:"text-xs text-gray-500",children:"Total produk"})]})]}),i.jsxs(xe,{children:[i.jsxs(nt,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(at,{className:"text-sm font-medium",children:"Pesanan"}),i.jsx(s0,{className:"h-4 w-4 text-gray-500"})]}),i.jsxs(be,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.totalOrders}),i.jsx("p",{className:"text-xs text-gray-500",children:"Total pesanan"})]})]}),i.jsxs(xe,{children:[i.jsxs(nt,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(at,{className:"text-sm font-medium",children:"Pengguna"}),i.jsx(bT,{className:"h-4 w-4 text-gray-500"})]}),i.jsxs(be,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.totalUsers}),i.jsx("p",{className:"text-xs text-gray-500",children:"Pengguna terdaftar"})]})]}),i.jsxs(xe,{children:[i.jsxs(nt,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(at,{className:"text-sm font-medium",children:"Metode Pengiriman"}),i.jsx(GZ,{className:"h-4 w-4 text-gray-500"})]}),i.jsxs(be,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.totalShippingMethods}),i.jsx("p",{className:"text-xs text-gray-500",children:"Opsi pengiriman tersedia"})]})]})]}),i.jsxs(xe,{className:"mb-8",children:[i.jsxs(nt,{children:[i.jsx(at,{className:"flex justify-between items-center",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(nee,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:"Ringkasan Keuangan"})]})}),i.jsx(nr,{children:"Analisis penghasilan, biaya, dan keuntungan dari penjualan arang"})]}),i.jsx(be,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[i.jsx(xe,{children:i.jsx(be,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total Penjualan"}),i.jsx("h3",{className:"text-xl font-bold text-green-600",children:pe(a.totalSales)})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(F2,{className:"h-6 w-6 text-green-600"})})]})})}),i.jsx(xe,{children:i.jsx(be,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Biaya Pembelian"}),i.jsx("h3",{className:"text-xl font-bold text-red-600",children:pe(a.totalPurchaseCost)})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-red-100 flex items-center justify-center",children:i.jsx(_ee,{className:"h-6 w-6 text-red-600"})})]})})}),i.jsx(xe,{children:i.jsx(be,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:a.profit>=0?"Keuntungan":"Kerugian"}),i.jsx("h3",{className:"text-xl font-bold",style:{color:a.profit>=0?"#047857":"#dc2626"},children:pe(Math.abs(a.profit))})]}),i.jsx("div",{className:"h-12 w-12 rounded-full",style:{backgroundColor:a.profit>=0?"#DCFCE7":"#FEE2E2"},children:a.profit>=0?i.jsx(F2,{className:"h-6 w-6 text-green-600"}):i.jsx(o0,{className:"h-6 w-6 text-red-600"})})]})})}),i.jsx(xe,{children:i.jsx(be,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Margin"}),i.jsxs("h3",{className:"text-xl font-bold",style:{color:a.profit>=0?"#047857":"#dc2626"},children:[a.profitMargin.toFixed(2),"%"]})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(P2,{className:"h-6 w-6 text-blue-600"})})]})})})]})})]}),i.jsxs(xe,{className:"mb-8",children:[i.jsxs(nt,{children:[i.jsxs(at,{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(D2,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:"Manajemen Stok Arang"})]}),i.jsx(ct,{to:"/admin/coal-inventory",children:i.jsxs(V,{className:"bg-flame-500 hover:bg-flame-600",children:[i.jsx(s6,{className:"h-4 w-4 mr-2"}),"Kelola Stok Arang"]})})]}),i.jsx(nr,{children:"Lihat ringkasan stok arang dan catat transaksi masuk/keluar"})]}),i.jsxs(be,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[i.jsx(xe,{children:i.jsx(be,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Stok Saat Ini"}),i.jsxs("h3",{className:"text-2xl font-bold",children:[((c=r==null?void 0:r.current_stock_kg)==null?void 0:c.toLocaleString("id-ID"))||"0"," kg"]})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(D2,{className:"h-6 w-6 text-green-600"})})]})})}),i.jsx(xe,{children:i.jsx(be,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total Pemasukan"}),i.jsxs("h3",{className:"text-2xl font-bold",children:[((u=r==null?void 0:r.total_incoming_kg)==null?void 0:u.toLocaleString("id-ID"))||"0"," kg"]})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx($Z,{className:"h-6 w-6 text-blue-600"})})]})})}),i.jsx(xe,{children:i.jsx(be,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Nilai Stok"}),i.jsx("h3",{className:"text-xl font-bold",children:r?pe(r.stock_value):"Rp 0"})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center",children:i.jsx(P2,{className:"h-6 w-6 text-yellow-600"})})]})})})]}),i.jsx("div",{className:"flex justify-center mt-4",children:i.jsx(ct,{to:"/admin/coal-inventory",children:i.jsx(V,{variant:"outline",className:"w-full max-w-md",children:"Lihat Detail Transaksi Stok Arang"})})})]})]}),i.jsxs(xe,{className:"mb-8",children:[i.jsx(nt,{children:i.jsx(at,{children:"Ringkasan Penjualan"})}),i.jsx(be,{children:i.jsx("div",{className:"h-80",children:i.jsx(TJ,{data:o,index:"name",categories:["total"],colors:["#FF7E47"],yAxisWidth:60,valueFormatter:A=>pe(A)})})})]})]})}var TQe="AspectRatio",kJ=v.forwardRef((t,e)=>{const{ratio:r=1/1,style:n,...a}=t;return i.jsx("div",{style:{position:"relative",width:"100%",paddingBottom:`${100/r}%`},"data-radix-aspect-ratio-wrapper":"",children:i.jsx(Je.div,{...a,ref:e,style:{...n,position:"absolute",top:0,right:0,bottom:0,left:0}})})});kJ.displayName=TQe;var kQe=kJ;const IQe=kQe,PQe=ks({quantity:ti().int(),type:ZA(["restock","sale","return","adjustment"]),notes:ar().optional()}),OQe=ks({name:ar().min(1,"Nama wajib diisi"),type:ar().min(1,"Tipe wajib diisi"),price:ti().min(0,"Harga harus berupa angka positif"),description:ar().optional(),origin:ar().optional(),seller:ar().optional(),in_stock:al().default(!0),featured:al().default(!1),discount:ti().min(0).max(100).optional()});function FQe(){const[t,e]=v.useState([]),[r,n]=v.useState(""),[a,s]=v.useState(!0),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[A,d]=v.useState(!1),[h,f]=v.useState(null),[p,g]=v.useState(1),[m,x]=v.useState(10),[b,_]=v.useState(0),[w,C]=v.useState(!1),E=Jn({resolver:Yn(PQe),defaultValues:{quantity:0,type:"restock",notes:""}}),j=Jn({resolver:Yn(OQe),defaultValues:{name:"",type:"",price:0,description:"",origin:"",seller:"",in_stock:!0,featured:!1,discount:0}});v.useEffect(()=>{B()},[p,r]);const B=async()=>{s(!0);try{let H=J.from("products").select("*",{count:"exact"});r&&(H=H.ilike("name",`%${r}%`));const{data:G,error:X,count:te}=await H.order("created_at",{ascending:!1}).range((p-1)*m,p*m-1);if(X)throw X;e(G),_(te||0)}catch(H){console.error("Error fetching products:",H),he({title:"Error memuat produk",description:H.message||"Silakan coba lagi nanti.",variant:"destructive"})}finally{s(!1)}},S=H=>{f(H),l(!0),E.reset({quantity:0,type:"restock",notes:""})},N=()=>{f(null),u(!0),j.reset({name:"",type:"",price:0,description:"",origin:"",seller:"",in_stock:!0,featured:!1,discount:0})},I=H=>{f(H),d(!0),j.reset({name:H.name,type:H.type,price:H.price,description:H.description||"",origin:H.origin||"",seller:H.seller||"",in_stock:H.in_stock||!1,featured:H.featured||!1,discount:H.discount||0})},P=H=>{f(H),C(!0)},T=async()=>{if(h)try{const{error:H}=await J.from("products").delete().eq("id",h.id);if(H)throw H;he({title:"Produk dihapus",description:"Produk telah dihapus berhasil."}),C(!1),B()}catch(H){console.error("Error deleting product:",H),he({title:"Error menghapus produk",description:H.message||"Silakan coba lagi nanti.",variant:"destructive"})}},U=async H=>{if(h)try{const G={id:"",product_id:h.id,quantity:H.quantity,transaction_type:H.type,notes:H.notes||void 0,created_by:null},{error:X}=await J.from("inventory_transactions").insert(G);if(X)throw X;H.type==="restock"&&H.quantity>0&&!h.in_stock&&await J.from("products").update({in_stock:!0}).eq("id",h.id),he({title:"Inventaris diperbarui",description:`${H.quantity} unit ${H.type==="restock"?"ditambahkan ke":"disesuaikan di"} inventaris.`}),l(!1),B()}catch(G){console.error("Error memperbarui inventaris:",G),he({title:"Error memperbarui inventaris",description:G.message||"Silakan coba lagi nanti.",variant:"destructive"})}},M=async H=>{try{if(A&&h){const{error:G}=await J.from("products").update({name:H.name,type:H.type,price:H.price,description:H.description||null,origin:H.origin||null,seller:H.seller||null,in_stock:H.in_stock,featured:H.featured,discount:H.discount||null,updated_at:new Date().toISOString()}).eq("id",h.id);if(G)throw G;he({title:"Produk diperbarui",description:"Produk telah diperbarui berhasil."})}else{const{error:G}=await J.from("products").insert({name:H.name,type:H.type,price:H.price,description:H.description||null,origin:H.origin||null,seller:H.seller||null,in_stock:H.in_stock,featured:H.featured,discount:H.discount||null,images:[]});if(G)throw G;he({title:"Produk ditambahkan",description:"Produk baru telah ditambahkan berhasil."})}u(!1),d(!1),B()}catch(G){console.error("Error menyimpan produk:",G),he({title:"Error menyimpan produk",description:G.message||"Silakan coba lagi nanti.",variant:"destructive"})}},R=r?t.filter(H=>H.name.toLowerCase().includes(r.toLowerCase())||H.type.toLowerCase().includes(r.toLowerCase())):t,F=Math.ceil(b/m),D=p>1,Q=p<F;return i.jsxs(jn,{children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Manajemen Inventaris"}),i.jsxs(V,{onClick:N,children:[i.jsx(Nd,{className:"h-4 w-4 mr-2"}),"Tambah Produk"]})]}),i.jsx("div",{className:"mb-6 flex items-center gap-4",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Sl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(le,{placeholder:"Cari produk...",className:"pl-10",value:r,onChange:H=>n(H.target.value)})]})}),i.jsx("div",{className:"bg-white rounded-md shadow overflow-hidden",children:i.jsxs(vn,{children:[i.jsx(yn,{children:i.jsxs(it,{children:[i.jsx(Ce,{className:"w-[80px]",children:"Gambar"}),i.jsx(Ce,{children:"Produk"}),i.jsx(Ce,{children:"Tipe"}),i.jsx(Ce,{className:"text-right",children:"Harga"}),i.jsx(Ce,{className:"text-center",children:"Stok"}),i.jsx(Ce,{className:"text-right",children:"Aksi"})]})}),i.jsx(xn,{children:a?i.jsx(it,{children:i.jsx(me,{colSpan:6,className:"text-center py-8",children:"Memuat produk..."})}):R.length===0?i.jsx(it,{children:i.jsx(me,{colSpan:6,className:"text-center py-8",children:"Tidak ada produk ditemukan."})}):R.map(H=>{var G;return i.jsxs(it,{children:[i.jsx(me,{children:i.jsx("div",{className:"w-12 h-12 relative rounded overflow-hidden",children:i.jsx(IQe,{ratio:1/1,children:i.jsx("img",{src:((G=H.images)==null?void 0:G[0])||"/placeholder.svg",alt:H.name,className:"object-cover"})})})}),i.jsx(me,{className:"font-medium",children:H.name}),i.jsx(me,{children:H.type}),i.jsx(me,{className:"text-right",children:pe(H.price)}),i.jsx(me,{className:"text-center",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${H.in_stock?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:H.in_stock?"Tersedia":"Stok habis"})}),i.jsxs(me,{className:"text-right",children:[i.jsxs(V,{variant:"outline",size:"sm",onClick:()=>S(H),className:"mr-2",children:[i.jsx(Vi,{className:"h-4 w-4 mr-1"})," Kelola Stok"]}),i.jsxs(V,{variant:"outline",size:"sm",onClick:()=>I(H),className:"mr-2",children:[i.jsx(gp,{className:"h-4 w-4"})," Edit"]}),i.jsxs(V,{variant:"outline",size:"sm",onClick:()=>P(H),children:[i.jsx(Uf,{className:"h-4 w-4"})," Hapus"]})]})]},H.id)})})]})}),F>1&&i.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[i.jsxs("div",{className:"text-sm text-gray-500",children:["Halaman ",p," dari ",F]}),i.jsxs("div",{className:"space-x-2",children:[i.jsx(V,{variant:"outline",size:"sm",onClick:()=>g(H=>Math.max(H-1,1)),disabled:!D,children:"Sebelumnya"}),i.jsx(V,{variant:"outline",size:"sm",onClick:()=>g(H=>Math.min(H+1,F)),disabled:!Q,children:"Berikutnya"})]})]}),i.jsx(ii,{open:o,onOpenChange:l,children:i.jsxs(Es,{children:[i.jsxs(oi,{children:[i.jsx(li,{children:"Perbarui Inventaris"}),i.jsxs(um,{children:["Perbarui inventaris untuk ",h==null?void 0:h.name]})]}),i.jsx(Ln,{...E,children:i.jsxs("form",{onSubmit:E.handleSubmit(U),className:"space-y-6 py-6",children:[i.jsx(Qe,{control:E.control,name:"quantity",render:({field:H})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Jumlah"}),i.jsx(Me,{children:i.jsx(le,{type:"number",...H,onChange:G=>H.onChange(parseInt(G.target.value)||0)})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:E.control,name:"type",render:({field:H})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Tipe Transaksi"}),i.jsx(Me,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...H,children:[i.jsx("option",{value:"restock",children:"Pengisian Stok"}),i.jsx("option",{value:"sale",children:"Penjualan"}),i.jsx("option",{value:"return",children:"Pengembalian"}),i.jsx("option",{value:"adjustment",children:"Penyesuaian"})]})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:E.control,name:"notes",render:({field:H})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Catatan"}),i.jsx(Me,{children:i.jsx(le,{...H,value:H.value||""})}),i.jsx($e,{})]})}),i.jsxs(Wi,{children:[i.jsx(V,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Batal"}),i.jsx(V,{type:"submit",children:"Simpan Perubahan"})]})]})})]})}),i.jsx(ii,{open:c||A,onOpenChange:H=>{H||(u(!1),d(!1))},children:i.jsxs(Es,{children:[i.jsx(oi,{children:i.jsx(li,{children:A?"Edit Produk":"Tambah Produk"})}),i.jsx(Ln,{...j,children:i.jsxs("form",{onSubmit:j.handleSubmit(M),className:"space-y-6 py-6",children:[i.jsx(Qe,{control:j.control,name:"name",render:({field:H})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Nama Produk"}),i.jsx(Me,{children:i.jsx(le,{...H})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:j.control,name:"type",render:({field:H})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Tipe Produk"}),i.jsx(Me,{children:i.jsx(le,{...H})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:j.control,name:"price",render:({field:H})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Harga"}),i.jsx(Me,{children:i.jsx(le,{type:"number",step:"0.01",...H,onChange:G=>H.onChange(parseFloat(G.target.value)||0)})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:j.control,name:"description",render:({field:H})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Deskripsi"}),i.jsx(Me,{children:i.jsx(Cl,{...H,value:H.value||""})}),i.jsx($e,{})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(Qe,{control:j.control,name:"origin",render:({field:H})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Asal"}),i.jsx(Me,{children:i.jsx(le,{...H,value:H.value||""})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:j.control,name:"seller",render:({field:H})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Penjual"}),i.jsx(Me,{children:i.jsx(le,{...H,value:H.value||""})}),i.jsx($e,{})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(Qe,{control:j.control,name:"in_stock",render:({field:H})=>i.jsxs(Re,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsx("div",{className:"space-y-0.5",children:i.jsx(Ue,{children:"Tersedia"})}),i.jsx(Me,{children:i.jsx("input",{type:"checkbox",checked:H.value,onChange:G=>H.onChange(G.target.checked),className:"h-4 w-4"})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:j.control,name:"featured",render:({field:H})=>i.jsxs(Re,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsx("div",{className:"space-y-0.5",children:i.jsx(Ue,{children:"Unggulan"})}),i.jsx(Me,{children:i.jsx("input",{type:"checkbox",checked:H.value,onChange:G=>H.onChange(G.target.checked),className:"h-4 w-4"})}),i.jsx($e,{})]})})]}),i.jsx(Qe,{control:j.control,name:"discount",render:({field:H})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Diskon (%)"}),i.jsx(Me,{children:i.jsx(le,{type:"number",min:"0",max:"100",...H,onChange:G=>H.onChange(parseInt(G.target.value)||0),value:H.value||0})}),i.jsx($e,{})]})}),i.jsxs(Wi,{children:[i.jsx(V,{type:"button",variant:"outline",onClick:()=>{u(!1),d(!1)},children:"Cancel"}),i.jsx(V,{type:"submit",children:"Simpan Produk"})]})]})})]})}),i.jsx(or,{open:w,onOpenChange:C,children:i.jsxs(er,{children:[i.jsxs(dr,{children:[i.jsx(hr,{children:"Konfirmasi Penghapusan"}),i.jsxs(_n,{children:["Apakah Anda yakin ingin menghapus ",h==null?void 0:h.name,"? Tindakan ini tidak dapat dibatalkan."]})]}),i.jsxs(sn,{children:[i.jsx(V,{variant:"outline",onClick:()=>C(!1),children:"Batal"}),i.jsx(V,{variant:"destructive",onClick:T,children:"Hapus"})]})]})})]})}const DQe=ks({transaction_date:ar().nonempty("Tanggal transaksi wajib diisi"),transaction_type:ZA(["incoming","outgoing"]),quantity_kg:ti().positive("Jumlah harus lebih dari 0"),source_destination:ar().nonempty("Sumber/tujuan wajib diisi"),vehicle_info:ar().optional(),driver_name:ar().optional(),price_per_kg:ti().optional(),quality_grade:ZA(["premium","standard","economy"]),moisture_content:ti().min(0).max(100).optional(),notes:ar().optional(),document_reference:ar().optional()}),RQe={total_incoming_kg:0,total_outgoing_kg:0,current_stock_kg:0,average_price_per_kg:0,last_transaction_date:new Date().toISOString(),stock_value:0,premium_stock_kg:0,standard_stock_kg:0,economy_stock_kg:0};function UQe(){const{user:t,profile:e}=Ir(),[r,n]=v.useState(RQe),[a,s]=v.useState([]),[o,l]=v.useState(!1),[c,u]=v.useState(!0),[A,d]=v.useState(""),[h,f]=v.useState("all"),[p,g]=v.useState(1),[m]=v.useState(10),[x,b]=v.useState(null),[_,w]=v.useState(!1),[C,E]=v.useState(!1),j=Jn({resolver:Yn(DQe),defaultValues:{transaction_date:an(new Date,"yyyy-MM-dd"),transaction_type:"incoming",quantity_kg:0,source_destination:"",vehicle_info:"",driver_name:"",price_per_kg:0,quality_grade:"standard",moisture_content:0,notes:"",document_reference:""}}),B=async()=>{try{u(!0);const{data:q,error:se}=await Ac.getTransactions(100,0);if(se)throw se;q&&s(q);const{data:Ae,error:oe}=await Ac.getSummary();if(oe)throw oe;Ae&&n(Ae)}catch(q){console.error("Error fetching transactions:",q),he({title:"Error",description:"Gagal mengambil data transaksi stok arang",variant:"destructive"})}finally{u(!1)}};v.useEffect(()=>{B()},[]);const S=async q=>{try{if(u(!0),!(t!=null&&t.id))throw new Error("User ID tidak ditemukan. Silahkan login ulang.");const se={...q,created_by:t.id,created_at:new Date().toISOString(),total_amount:q.price_per_kg?q.price_per_kg*q.quantity_kg:void 0};console.log("Mengirim data transaksi:",se);const{data:Ae,error:oe}=await Ac.addTransaction(se);if(oe)throw console.error("Error dari service:",oe),oe;if(!Ae)throw new Error("Tidak ada data yang dikembalikan setelah menambahkan transaksi");he({title:"Berhasil",description:"Transaksi berhasil ditambahkan",variant:"default"}),j.reset(),l(!1),B()}catch(se){console.error("Error adding transaction:",se),he({title:"Error",description:(se==null?void 0:se.message)||(se==null?void 0:se.error_description)||"Gagal menambahkan transaksi. Silahkan cek konsol untuk detail lebih lanjut.",variant:"destructive"})}finally{u(!1)}},N=async q=>{if(x)try{u(!0);const se={...q,total_amount:q.price_per_kg?q.price_per_kg*q.quantity_kg:void 0},{error:Ae}=await Ac.updateTransaction(x.id,se);if(Ae)throw Ae;he({title:"Berhasil",description:"Transaksi berhasil diperbarui",variant:"default"}),j.reset(),w(!1),b(null),B()}catch(se){console.error("Error updating transaction:",se),he({title:"Error",description:"Gagal memperbarui transaksi",variant:"destructive"})}finally{u(!1)}},I=async()=>{if(x)try{u(!0);const{error:q}=await Ac.deleteTransaction(x.id);if(q)throw q;he({title:"Berhasil",description:"Transaksi berhasil dihapus",variant:"default"}),E(!1),b(null),B()}catch(q){console.error("Error deleting transaction:",q),he({title:"Error",description:"Gagal menghapus transaksi",variant:"destructive"})}finally{u(!1)}},P=q=>{b(q),j.reset({transaction_date:q.transaction_date.substring(0,10),transaction_type:q.transaction_type,quantity_kg:q.quantity_kg,source_destination:q.source_destination,vehicle_info:q.vehicle_info||"",driver_name:q.driver_name||"",price_per_kg:q.price_per_kg||0,quality_grade:q.quality_grade||"standard",moisture_content:q.moisture_content||0,notes:q.notes||"",document_reference:q.document_reference||""}),w(!0)},T=q=>{b(q),E(!0)},U=a.filter(q=>{var se,Ae;return A===""?!0:q.source_destination.toLowerCase().includes(A.toLowerCase())||((se=q.document_reference)==null?void 0:se.toLowerCase().includes(A.toLowerCase()))||((Ae=q.driver_name)==null?void 0:Ae.toLowerCase().includes(A.toLowerCase()))}).filter(q=>h==="all"?!0:q.transaction_type===h).sort((q,se)=>new Date(se.transaction_date).getTime()-new Date(q.transaction_date).getTime()),M=U.length,R=Math.ceil(M/m),F=(p-1)*m,D=Math.min(F+m,M),Q=U.slice(F,D),H=p>1,G=p<R,X=()=>{l(!0),j.reset({transaction_date:an(new Date,"yyyy-MM-dd"),transaction_type:"incoming",quantity_kg:0,source_destination:"",vehicle_info:"",driver_name:"",price_per_kg:0,quality_grade:"standard",moisture_content:0,notes:"",document_reference:""})},te=async q=>{try{_&&x?await N(q):await S(q)}catch(se){console.error("Error submitting transaction:",se)}},Z=()=>i.jsx(or,{open:C,onOpenChange:E,children:i.jsxs(er,{children:[i.jsxs(dr,{children:[i.jsx(hr,{children:"Konfirmasi Hapus Transaksi"}),i.jsx(_n,{children:"Apakah Anda yakin ingin menghapus transaksi ini? Tindakan ini tidak dapat dibatalkan."})]}),i.jsxs(sn,{className:"flex space-x-2 justify-end",children:[i.jsx(V,{variant:"outline",onClick:()=>E(!1),children:"Batal"}),i.jsx(V,{variant:"destructive",onClick:I,disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Menghapus..."]}):"Hapus Transaksi"})]})]})});return i.jsx(jn,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Manajemen Stok Arang"}),i.jsxs(V,{onClick:X,children:[i.jsx(Nd,{className:"h-4 w-4 mr-2"})," Catat Transaksi Baru"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs(xe,{children:[i.jsxs(nt,{className:"pb-2",children:[i.jsx(at,{className:"text-xl",children:"Stok Arang Saat Ini"}),i.jsx(nr,{children:"Total seluruh jenis arang"})]}),i.jsxs(be,{children:[i.jsxs("div",{className:"text-3xl font-bold",children:[r.current_stock_kg.toLocaleString()," kg"]}),i.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Nilai stok: ",pe(r.stock_value)]})]})]}),i.jsxs(xe,{children:[i.jsxs(nt,{className:"pb-2",children:[i.jsx(at,{className:"text-xl",children:"Rekapitulasi Arang"}),i.jsx(nr,{children:"Detail berdasarkan kualitas"})]}),i.jsxs(be,{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-medium",children:"Premium:"}),i.jsxs("span",{className:"font-bold",children:[r.premium_stock_kg.toLocaleString()," kg"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-medium",children:"Standar:"}),i.jsxs("span",{className:"font-bold",children:[r.standard_stock_kg.toLocaleString()," kg"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-medium",children:"Ekonomis:"}),i.jsxs("span",{className:"font-bold",children:[r.economy_stock_kg.toLocaleString()," kg"]})]})]})]}),i.jsxs(xe,{children:[i.jsxs(nt,{className:"pb-2",children:[i.jsx(at,{className:"text-xl",children:"Aktivitas Transaksi"}),i.jsx(nr,{children:"Ringkasan aktivitas stok"})]}),i.jsxs(be,{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx(N2,{className:"h-4 w-4 text-green-500 mr-1"})," Pemasukan:"]}),i.jsxs("span",{className:"font-bold",children:[r.total_incoming_kg.toLocaleString()," kg"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx(T2,{className:"h-4 w-4 text-red-500 mr-1"})," Pengeluaran:"]}),i.jsxs("span",{className:"font-bold",children:[r.total_outgoing_kg.toLocaleString()," kg"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-medium",children:"Transaksi terakhir:"}),i.jsx("span",{className:"font-bold",children:an(new Date(r.last_transaction_date),"dd MMM yyyy",{locale:za})})]})]})]})]}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[i.jsxs("div",{className:"relative w-full md:w-64",children:[i.jsx(Sl,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),i.jsx(le,{placeholder:"Cari transaksi...",className:"pl-8",value:A,onChange:q=>d(q.target.value)})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(V,{variant:h==="all"?"default":"outline",size:"sm",onClick:()=>f("all"),children:"Semua"}),i.jsxs(V,{variant:h==="incoming"?"default":"outline",size:"sm",onClick:()=>f("incoming"),className:"flex items-center",children:[i.jsx(N2,{className:"h-4 w-4 mr-1"})," Pemasukan"]}),i.jsxs(V,{variant:h==="outgoing"?"default":"outline",size:"sm",onClick:()=>f("outgoing"),className:"flex items-center",children:[i.jsx(T2,{className:"h-4 w-4 mr-1"})," Pengeluaran"]})]})]}),i.jsx("div",{className:"bg-white rounded-md shadow overflow-hidden",children:i.jsxs(vn,{children:[i.jsx(yn,{children:i.jsxs(it,{children:[i.jsx(Ce,{children:"Tanggal"}),i.jsx(Ce,{children:"Tipe"}),i.jsx(Ce,{children:"Jumlah (kg)"}),i.jsx(Ce,{children:"Kualitas"}),i.jsx(Ce,{children:"Sumber/Tujuan"}),i.jsx(Ce,{children:"Kendaraan"}),i.jsx(Ce,{className:"text-right",children:"Nilai"}),i.jsx(Ce,{className:"text-right",children:"Aksi"})]})}),i.jsx(xn,{children:c?i.jsx(it,{children:i.jsx(me,{colSpan:7,className:"text-center py-8",children:"Memuat transaksi..."})}):Q.length===0?i.jsx(it,{children:i.jsx(me,{colSpan:7,className:"text-center py-8",children:"Tidak ada transaksi ditemukan."})}):Q.map(q=>i.jsxs(it,{children:[i.jsx(me,{children:an(new Date(q.transaction_date),"dd MMM yyyy",{locale:za})}),i.jsx(me,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${q.transaction_type==="incoming"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:q.transaction_type==="incoming"?"Pemasukan":"Pengeluaran"})}),i.jsx(me,{className:"font-medium",children:q.quantity_kg.toLocaleString()}),i.jsx(me,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${q.quality_grade==="premium"?"bg-blue-100 text-blue-800":q.quality_grade==="standard"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:q.quality_grade==="premium"?"Premium":q.quality_grade==="standard"?"Standar":"Ekonomis"})}),i.jsx(me,{children:q.source_destination}),i.jsx(me,{children:q.vehicle_info||"-"}),i.jsx(me,{className:"text-right",children:q.total_amount?pe(q.total_amount):"-"}),i.jsx(me,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(V,{variant:"ghost",size:"sm",onClick:()=>P(q),children:i.jsx(gp,{className:"h-4 w-4"})}),i.jsx(V,{variant:"ghost",size:"sm",onClick:()=>T(q),className:"text-red-500 hover:text-red-700",children:i.jsx(u6,{className:"h-4 w-4"})})]})})]},q.id))})]})}),R>1&&i.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[i.jsxs("div",{className:"text-sm text-gray-500",children:["Halaman ",p," dari ",R]}),i.jsxs("div",{className:"space-x-2",children:[i.jsx(V,{variant:"outline",size:"sm",onClick:()=>g(q=>Math.max(q-1,1)),disabled:!H,children:"Sebelumnya"}),i.jsx(V,{variant:"outline",size:"sm",onClick:()=>g(q=>Math.min(q+1,R)),disabled:!G,children:"Berikutnya"})]})]}),i.jsx(ii,{open:o,onOpenChange:l,children:i.jsxs(Es,{className:"sm:max-w-md",children:[i.jsxs(oi,{children:[i.jsx(li,{children:"Catat Transaksi Arang"}),i.jsx(um,{children:"Catat pemasukan atau pengeluaran stok arang"})]}),i.jsx(Ln,{...j,children:i.jsxs("form",{onSubmit:j.handleSubmit(te),className:"space-y-4 py-4",children:[i.jsx(Qe,{control:j.control,name:"transaction_date",render:({field:q})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Tanggal Transaksi"}),i.jsx(Me,{children:i.jsx(le,{type:"date",...q})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:j.control,name:"transaction_type",render:({field:q})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Tipe Transaksi"}),i.jsx(Me,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...q,children:[i.jsx("option",{value:"incoming",children:"Pemasukan Arang"}),i.jsx("option",{value:"outgoing",children:"Pengeluaran Arang"})]})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:j.control,name:"quantity_kg",render:({field:q})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Jumlah (kg)"}),i.jsx(Me,{children:i.jsx(le,{type:"number",...q,onChange:se=>q.onChange(parseInt(se.target.value)||0)})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:j.control,name:"quality_grade",render:({field:q})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Kualitas Arang"}),i.jsx(Me,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...q,children:[i.jsx("option",{value:"premium",children:"Premium"}),i.jsx("option",{value:"standard",children:"Standar"}),i.jsx("option",{value:"economy",children:"Ekonomis"})]})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:j.control,name:"source_destination",render:({field:q})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:j.watch("transaction_type")==="incoming"?"Sumber":"Tujuan"}),i.jsx(Me,{children:i.jsx(le,{...q})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:j.control,name:"vehicle_info",render:({field:q})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Informasi Kendaraan"}),i.jsx(Me,{children:i.jsx(le,{...q})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:j.control,name:"driver_name",render:({field:q})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Nama Supir"}),i.jsx(Me,{children:i.jsx(le,{...q})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:j.control,name:"price_per_kg",render:({field:q})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Harga per kg (Rp)"}),i.jsx(Me,{children:i.jsx(le,{type:"number",...q,onChange:se=>q.onChange(parseInt(se.target.value)||0)})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:j.control,name:"moisture_content",render:({field:q})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Kadar Air (%)"}),i.jsx(Me,{children:i.jsx(le,{type:"number",...q,onChange:se=>q.onChange(parseInt(se.target.value)||0)})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:j.control,name:"document_reference",render:({field:q})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Referensi Dokumen"}),i.jsx(Me,{children:i.jsx(le,{...q})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:j.control,name:"notes",render:({field:q})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Catatan"}),i.jsx(Me,{children:i.jsx(Cl,{rows:3,...q})}),i.jsx($e,{})]})}),i.jsx(Wi,{className:"pt-4",children:i.jsx(V,{type:"submit",disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):"Simpan Transaksi"})})]})})]})}),i.jsx(ii,{open:_,onOpenChange:w,children:i.jsxs(Es,{className:"sm:max-w-md",children:[i.jsxs(oi,{children:[i.jsx(li,{children:"Edit Transaksi Arang"}),i.jsx(um,{children:"Perbarui informasi transaksi arang"})]}),i.jsx(Ln,{...j,children:i.jsxs("form",{onSubmit:j.handleSubmit(te),className:"space-y-4 py-4",children:[i.jsx(Qe,{control:j.control,name:"transaction_date",render:({field:q})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Tanggal Transaksi"}),i.jsx(Me,{children:i.jsx(le,{type:"date",...q})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:j.control,name:"transaction_type",render:({field:q})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Tipe Transaksi"}),i.jsx(Me,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...q,children:[i.jsx("option",{value:"incoming",children:"Pemasukan Arang"}),i.jsx("option",{value:"outgoing",children:"Pengeluaran Arang"})]})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:j.control,name:"quantity_kg",render:({field:q})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Jumlah (kg)"}),i.jsx(Me,{children:i.jsx(le,{type:"number",...q,onChange:se=>q.onChange(parseInt(se.target.value)||0)})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:j.control,name:"quality_grade",render:({field:q})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Kualitas Arang"}),i.jsx(Me,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...q,children:[i.jsx("option",{value:"premium",children:"Premium"}),i.jsx("option",{value:"standard",children:"Standar"}),i.jsx("option",{value:"economy",children:"Ekonomis"})]})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:j.control,name:"source_destination",render:({field:q})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:j.watch("transaction_type")==="incoming"?"Sumber":"Tujuan"}),i.jsx(Me,{children:i.jsx(le,{...q})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:j.control,name:"vehicle_info",render:({field:q})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Informasi Kendaraan"}),i.jsx(Me,{children:i.jsx(le,{...q})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:j.control,name:"driver_name",render:({field:q})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Nama Supir"}),i.jsx(Me,{children:i.jsx(le,{...q})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:j.control,name:"price_per_kg",render:({field:q})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Harga per kg (Rp)"}),i.jsx(Me,{children:i.jsx(le,{type:"number",...q,onChange:se=>q.onChange(parseInt(se.target.value)||0)})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:j.control,name:"moisture_content",render:({field:q})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Kadar Air (%)"}),i.jsx(Me,{children:i.jsx(le,{type:"number",...q,onChange:se=>q.onChange(parseInt(se.target.value)||0)})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:j.control,name:"document_reference",render:({field:q})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Referensi Dokumen"}),i.jsx(Me,{children:i.jsx(le,{...q})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:j.control,name:"notes",render:({field:q})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Catatan"}),i.jsx(Me,{children:i.jsx(Cl,{rows:3,...q})}),i.jsx($e,{})]})}),i.jsx(Wi,{className:"pt-4",children:i.jsx(V,{type:"submit",disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):"Perbarui Transaksi"})})]})})]})}),Z()]})})}const MQe=ks({name:ar().min(1,{message:"Nama wajib diisi"}),carrier:ar().min(1,{message:"Kurir wajib diisi"}),cost:ti().min(0,{message:"Biaya harus berupa angka positif"}),estimated_days:ti().int().min(1,{message:"Estimasi Jam minimal 1"}),active:al().default(!0)});function QQe(){const[t,e]=v.useState([]),[r,n]=v.useState(!0),[a,s]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(null),[A,d]=v.useState(!1),[h,f]=v.useState(null),p=Jn({resolver:Yn(MQe),defaultValues:{name:"",carrier:"",cost:0,estimated_days:1,active:!0}});v.useEffect(()=>{g()},[]);const g=async()=>{n(!0);try{const{data:w,error:C}=await J.from("shipping_methods").select("*").order("name");if(C)throw C;e(w||[])}catch(w){console.error("Error fetching shipping methods:",w),he({title:"Error memuat metode pengiriman",description:w.message||"Silakan coba lagi nanti",variant:"destructive"})}finally{n(!1)}},m=w=>{w?(u(w),s(!0),l(!1),p.reset({name:w.name,carrier:w.carrier,cost:w.cost,estimated_days:w.estimated_days,active:w.active!==void 0?w.active:!0})):(u(null),l(!0),s(!1),p.reset({name:"",carrier:"",cost:0,estimated_days:1,active:!0}))},x=async w=>{try{if(a&&c){const{error:C}=await J.from("shipping_methods").update({name:w.name,carrier:w.carrier,cost:w.cost,estimated_days:w.estimated_days,active:w.active}).eq("id",c.id);if(C)throw C;he({title:"Metode pengiriman diperbarui",description:`${w.name} telah diperbarui berhasil.`})}else if(o){const{error:C}=await J.from("shipping_methods").insert({name:w.name,carrier:w.carrier,cost:w.cost,estimated_days:w.estimated_days,active:w.active});if(C)throw C;he({title:"Metode pengiriman ditambahkan",description:`${w.name} telah ditambahkan berhasil.`})}s(!1),l(!1),g()}catch(C){console.error("Error saving shipping method:",C),he({title:"Error menyimpan metode pengiriman",description:C.message||"Silakan coba lagi nanti",variant:"destructive"})}},b=w=>{f(w),d(!0)},_=async()=>{if(h)try{const{error:w}=await J.from("shipping_methods").delete().eq("id",h.id);if(w)throw w;he({title:"Metode pengiriman dihapus",description:"Metode pengiriman telah dihapus berhasil."}),d(!1),g()}catch(w){console.error("Error deleting shipping method:",w),he({title:"Error menghapus metode pengiriman",description:w.message||"Silakan coba lagi nanti",variant:"destructive"})}};return i.jsxs(jn,{children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Metode Pengiriman"}),i.jsxs(V,{onClick:()=>m(),children:[i.jsx(Nd,{className:"h-4 w-4 mr-2"}),"Tambah Metode"]})]}),i.jsx(xe,{children:i.jsx(be,{className:"p-0",children:i.jsxs(vn,{children:[i.jsx(yn,{children:i.jsxs(it,{children:[i.jsx(Ce,{children:"Nama"}),i.jsx(Ce,{children:"Kurir"}),i.jsx(Ce,{children:"Estimasi Jam"}),i.jsx(Ce,{className:"text-right",children:"Biaya"}),i.jsx(Ce,{className:"text-right",children:"Aksi"})]})}),i.jsx(xn,{children:r?i.jsx(it,{children:i.jsx(me,{colSpan:5,className:"text-center py-8",children:"Memuat metode pengiriman..."})}):t.length===0?i.jsx(it,{children:i.jsx(me,{colSpan:5,className:"text-center py-8",children:"Tidak ada metode pengiriman ditemukan."})}):t.map(w=>i.jsxs(it,{children:[i.jsx(me,{className:"font-medium",children:w.name}),i.jsx(me,{children:w.carrier}),i.jsxs(me,{className:"text-center",children:[w.estimated_days," Jam"]}),i.jsx(me,{className:"text-right",children:pe(w.cost)}),i.jsxs(me,{className:"text-right space-x-2",children:[i.jsx(V,{variant:"outline",size:"sm",onClick:()=>m(w),children:i.jsx(gp,{className:"h-4 w-4"})}),i.jsx(V,{variant:"outline",size:"sm",onClick:()=>b(w),children:i.jsx(Uf,{className:"h-4 w-4"})})]})]},w.id))})]})})}),i.jsx(ii,{open:a||o,onOpenChange:w=>{w||(s(!1),l(!1))},children:i.jsxs(Es,{children:[i.jsx(oi,{children:i.jsx(li,{children:a?"Edit Metode Pengiriman":"Tambah Metode Pengiriman"})}),i.jsx(Ln,{...p,children:i.jsxs("form",{onSubmit:p.handleSubmit(x),className:"space-y-6 py-6",children:[i.jsx(Qe,{control:p.control,name:"name",render:({field:w})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Nama"}),i.jsx(Me,{children:i.jsx(le,{...w})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:p.control,name:"carrier",render:({field:w})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Kurir"}),i.jsx(Me,{children:i.jsx(le,{...w})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:p.control,name:"cost",render:({field:w})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Biaya (Rp)"}),i.jsx(Me,{children:i.jsx(le,{type:"number",step:"0.01",...w,onChange:C=>w.onChange(parseFloat(C.target.value)||0)})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:p.control,name:"estimated_days",render:({field:w})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Estimasi Jam"}),i.jsx(Me,{children:i.jsx(le,{type:"number",...w,onChange:C=>w.onChange(parseInt(C.target.value)||1)})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:p.control,name:"active",render:({field:w})=>i.jsxs(Re,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsx("div",{className:"space-y-0.5",children:i.jsx(Ue,{children:"Aktif"})}),i.jsx(Me,{children:i.jsx("input",{type:"checkbox",checked:w.value,onChange:C=>w.onChange(C.target.checked),className:"h-4 w-4"})}),i.jsx($e,{})]})}),i.jsxs(Wi,{children:[i.jsx(V,{type:"button",variant:"outline",onClick:()=>{s(!1),l(!1)},children:"Batal"}),i.jsx(V,{type:"submit",children:"Simpan Metode"})]})]})})]})}),i.jsx(or,{open:A,onOpenChange:d,children:i.jsxs(er,{children:[i.jsxs(dr,{children:[i.jsx(hr,{children:"Konfirmasi Penghapusan"}),i.jsx(_n,{children:"Apakah Anda yakin ingin menghapus metode pengiriman ini? Tindakan ini tidak dapat dibatalkan."})]}),i.jsxs(sn,{children:[i.jsx(V,{variant:"outline",onClick:()=>d(!1),children:"Batal"}),i.jsx(V,{variant:"destructive",onClick:_,children:"Hapus"})]})]})})]})}const LQe=ks({name:ar().optional(),role:ZA(["customer","manager","admin"])});function HQe(){const[t,e]=v.useState([]),[r,n]=v.useState(""),[a,s]=v.useState(!0),[o,l]=v.useState(!1),[c,u]=v.useState(null),[A,d]=v.useState(1),[h,f]=v.useState(10),[p,g]=v.useState(0),m=Jn({resolver:Yn(LQe),defaultValues:{name:"",role:"customer"}});v.useEffect(()=>{x()},[A,r]);const x=async()=>{s(!0);try{let j=J.from("profiles").select("*",{count:"exact"});r&&(j=j.or(`name.ilike.%${r}%,email.ilike.%${r}%`));const{data:B,error:S,count:N}=await j.order("created_at",{ascending:!1}).range((A-1)*h,A*h-1);if(S)throw S;e(B),g(N||0)}catch(j){console.error("Error fetching users:",j),he({title:"Error memuat pengguna",description:j.message||"Silakan coba lagi nanti.",variant:"destructive"})}finally{s(!1)}},b=j=>{u(j),m.reset({name:j.name||"",role:j.role||"customer"}),l(!0)},_=async j=>{if(c)try{const{error:B}=await J.from("profiles").update({name:j.name,role:j.role}).eq("id",c.id);if(B)throw B;he({title:"Pengguna diperbarui",description:"Profil pengguna telah berhasil diperbarui."}),l(!1),x()}catch(B){console.error("Error updating user:",B),he({title:"Error memperbarui pengguna",description:B.message||"Silakan coba lagi nanti.",variant:"destructive"})}},w=Math.ceil(p/h),C=A>1,E=A<w;return i.jsxs(jn,{children:[i.jsx("div",{className:"flex justify-between items-center mb-6",children:i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Manajemen Pengguna"})}),i.jsx("div",{className:"mb-6 flex items-center gap-4",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Sl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(le,{placeholder:"Cari pengguna...",className:"pl-10",value:r,onChange:j=>n(j.target.value)})]})}),i.jsx(xe,{children:i.jsx(be,{className:"p-0",children:i.jsxs(vn,{children:[i.jsx(yn,{children:i.jsxs(it,{children:[i.jsx(Ce,{children:"Nama"}),i.jsx(Ce,{children:"Email"}),i.jsx(Ce,{children:"Peran"}),i.jsx(Ce,{children:"Bergabung"}),i.jsx(Ce,{className:"text-right",children:"Aksi"})]})}),i.jsx(xn,{children:a?i.jsx(it,{children:i.jsx(me,{colSpan:5,className:"text-center py-8",children:"Memuat pengguna..."})}):t.length===0?i.jsx(it,{children:i.jsx(me,{colSpan:5,className:"text-center py-8",children:"Tidak ada pengguna ditemukan."})}):t.map(j=>i.jsxs(it,{children:[i.jsx(me,{className:"font-medium",children:j.name||"N/A"}),i.jsx(me,{children:j.email||"N/A"}),i.jsx(me,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${j.role==="admin"?"bg-purple-100 text-purple-800":j.role==="manager"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:j.role||"customer"})}),i.jsx(me,{children:j.created_at?new Date(j.created_at).toLocaleDateString():"N/A"}),i.jsx(me,{className:"text-right",children:i.jsxs(V,{variant:"outline",size:"sm",onClick:()=>b(j),children:[i.jsx(Bee,{className:"h-4 w-4 mr-2"}),"Kelola"]})})]},j.id))})]})})}),w>1&&i.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[i.jsxs("div",{className:"text-sm text-gray-500",children:["Halaman ",A," dari ",w]}),i.jsxs("div",{className:"space-x-2",children:[i.jsx(V,{variant:"outline",size:"sm",onClick:()=>d(j=>Math.max(j-1,1)),disabled:!C,children:"Sebelumnya"}),i.jsx(V,{variant:"outline",size:"sm",onClick:()=>d(j=>Math.min(j+1,w)),disabled:!E,children:"Selanjutnya"})]})]}),i.jsx(ii,{open:o,onOpenChange:l,children:i.jsxs(Es,{children:[i.jsx(oi,{children:i.jsx(li,{children:"Edit Pengguna"})}),i.jsx(Ln,{...m,children:i.jsxs("form",{onSubmit:m.handleSubmit(_),className:"space-y-6 py-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("p",{className:"text-sm text-gray-500",children:["ID Pengguna: ",c==null?void 0:c.id]}),i.jsxs("p",{className:"text-sm font-medium",children:["Email: ",(c==null?void 0:c.email)||"Tidak Ada"]})]}),i.jsx(Qe,{control:m.control,name:"name",render:({field:j})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Nama"}),i.jsx(Me,{children:i.jsx(le,{...j,value:j.value||""})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:m.control,name:"role",render:({field:j})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Peran"}),i.jsx(Me,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...j,children:[i.jsx("option",{value:"customer",children:"Pelanggan"}),i.jsx("option",{value:"manager",children:"Manajer"}),i.jsx("option",{value:"admin",children:"Admin"})]})}),i.jsx($e,{})]})}),i.jsxs(Wi,{children:[i.jsx(V,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Batal"}),i.jsx(V,{type:"submit",children:"Simpan Perubahan"})]})]})})]})})]})}const $Qe=ks({status:ZA(["pending","processing","shipped","delivered","canceled"]),tracking_number:ar().optional()}),ga={receipt:{fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",lineHeight:"1.4",color:"#333",padding:"1rem",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},receiptHeader:{textAlign:"center",marginBottom:"1rem"},receiptTitle:{fontSize:"1.25rem",fontWeight:"bold",marginBottom:"0.5rem"},receiptStoreInfo:{fontSize:"0.875rem",color:"#555",marginBottom:"0.5rem"},receiptBorder:{borderTop:"1px dashed #ccc",margin:"0.5rem 0"},receiptItem:{display:"flex",justifyContent:"space-between",marginBottom:"0.25rem"},receiptBarcode:{textAlign:"center",margin:"1rem 0",fontSize:"0.875rem",letterSpacing:"2px"},receiptThankYou:{textAlign:"center",margin:"1rem 0",fontWeight:"bold"},receiptFooter:{textAlign:"center",fontSize:"0.75rem",color:"#777",marginTop:"1rem"}};function VQe(){var je;const[t,e]=v.useState([]),[r,n]=v.useState(""),[a,s]=v.useState(!0),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[A,d]=v.useState(null),[h,f]=v.useState(1),[p,g]=v.useState(10),[m,x]=v.useState(0),[b,_]=v.useState(!1),[w,C]=v.useState(!1),[E,j]=v.useState(null),[B,S]=v.useState(null),[N,I]=v.useState(null),[P,T]=v.useState(null),[U,M]=v.useState(null),R=v.useRef(null),F=Jn({resolver:Yn($Qe),defaultValues:{status:"pending",tracking_number:""}});v.useEffect(()=>{D()},[h,r]);const D=async()=>{s(!0);try{let z=J.from("orders").select("*",{count:"exact"});r&&(z=z.ilike("id",`%${r}%`));const{data:ve,error:Ie,count:qe}=await z.order("date",{ascending:!1}).range((h-1)*p,h*p-1);if(Ie)throw Ie;console.log("Fetched orders:",ve),e(ve),x(qe||0)}catch(z){console.error("Error fetching orders:",z),he({title:"Error memuat pesanan",description:z.message||"Silakan coba lagi nanti.",variant:"destructive"})}finally{s(!1)}},Q=z=>{console.log("Editing order:",z),d(z),F.reset({status:z.status,tracking_number:z.trackingNumber||""}),l(!0)},H=async z=>{if(A){u(!0);try{console.log("Updating order with values:",z);const{error:ve}=await J.from("orders").update({status:z.status,tracking_number:z.tracking_number||null}).eq("id",A.id);if(ve)throw ve;he({title:"Pesanan diperbarui",description:"Status pesanan telah berhasil diperbarui."}),l(!1),D()}catch(ve){console.error("Error updating order:",ve),he({title:"Error memperbarui pesanan",description:ve.message||"Silakan coba lagi nanti.",variant:"destructive"})}finally{u(!1)}}},G=z=>{switch(z){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"canceled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},X=z=>{switch(z){case"pending":return"Menunggu";case"processing":return"Diproses";case"shipped":return"Dikirim";case"delivered":return"Diterima";case"canceled":return"Dibatalkan";default:return z.charAt(0).toUpperCase()+z.slice(1)}},te=Math.ceil(m/p),Z=h>1,q=h<te,se=kt(),Ae=z=>{se(`/admin/orders/${z}`)},oe=async z=>{j(z);try{const{data:ve,error:Ie}=await J.from("profiles").select("*").eq("id",z.user_id).single();if(Ie?console.warn("Error fetching customer:",Ie):S(ve),z.shipping_address_id){const{data:qe,error:Xe}=await J.from("addresses").select("*").eq("id",z.shipping_address_id).single();!Xe&&qe&&I({id:qe.id,name:qe.name,street:qe.street,city:qe.city,state:qe.state,zip:qe.zip,country:qe.country,isDefault:qe.is_default||!1,user_id:qe.user_id,created_at:qe.created_at})}if(z.shipping_method_id){const{data:qe,error:Xe}=await J.from("shipping_methods").select("*").eq("id",z.shipping_method_id).single();!Xe&&qe&&T(qe)}if(!z.items||z.items.length===0){const{data:qe,error:Xe}=await J.from("order_items").select("*").eq("order_id",z.id);!Xe&&qe&&(z.items=qe.map(Bt=>({id:Bt.id,productId:Bt.product_id,productName:Bt.product_name,quantity:Bt.quantity,price:Bt.price})),j({...z}))}if(M(null),z.voucher_id){const{data:qe,error:Xe}=await J.from("vouchers").select("*").eq("id",z.voucher_id).single();!Xe&&qe&&M({code:qe.code,discount_type:qe.discount_type})}_(!0)}catch(ve){console.error("Error fetching order details:",ve),he({title:"Error",description:"Terjadi kesalahan saat memuat struk pesanan",variant:"destructive"})}},ce=async()=>{if(!(!R.current||!E))try{C(!0);const z=R.current,Ie=(await fI(z,{scale:2,backgroundColor:"#ffffff",logging:!1,useCORS:!0,allowTaint:!0})).toDataURL("image/png"),qe=document.createElement("a");qe.href=Ie,qe.download=`Struk-Pesanan-${E.id.substring(0,8)}.png`,qe.click(),he({title:"Struk Berhasil Disimpan",description:"Struk pesanan telah disimpan sebagai gambar",variant:"default"})}catch(z){console.error("Error saving receipt as image:",z),he({title:"Gagal Menyimpan Struk",description:"Terjadi kesalahan saat menyimpan struk sebagai gambar",variant:"destructive"})}finally{C(!1)}},fe=()=>{R.current&&window.print()};return i.jsxs(jn,{children:[i.jsx("div",{className:"flex justify-between items-center mb-6",children:i.jsx("h1",{className:"text-xl font-bold mb-4",children:"Manajemen Pesanan"})}),i.jsx("div",{className:"mb-6 flex items-center gap-4",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Sl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(le,{placeholder:"Cari pesanan...",className:"pl-10",value:r,onChange:z=>n(z.target.value)})]})}),i.jsx(xe,{children:i.jsx(be,{className:"p-0",children:i.jsxs(vn,{children:[i.jsx(yn,{children:i.jsxs(it,{children:[i.jsx(Ce,{children:"ID Pesanan"}),i.jsx(Ce,{children:"Tanggal"}),i.jsx(Ce,{className:"text-center",children:"Status"}),i.jsx(Ce,{className:"text-right",children:"Diskon"}),i.jsx(Ce,{className:"text-right",children:"Total"}),i.jsx(Ce,{className:"text-right",children:"Aksi"})]})}),i.jsx(xn,{children:a?i.jsx(it,{children:i.jsx(me,{colSpan:6,className:"text-center py-8",children:i.jsxs("div",{className:"flex justify-center items-center",children:[i.jsx(VB,{className:"h-6 w-6 animate-spin mr-2"}),"Memuat pesanan..."]})})}):t.length===0?i.jsx(it,{children:i.jsx(me,{colSpan:5,className:"text-center py-8",children:"Tidak ada pesanan ditemukan."})}):t.map(z=>i.jsxs(it,{children:[i.jsxs(me,{className:"font-medium",children:[z.id.substring(0,8),"..."]}),i.jsx(me,{children:new Date(z.date).toLocaleDateString()}),i.jsx(me,{className:"text-center",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${G(z.status)}`,children:X(z.status)})}),i.jsx(me,{className:"text-right",children:z.discount_amount>0?i.jsxs("span",{className:"text-green-600",children:["-",pe(z.discount_amount)]}):"-"}),i.jsx(me,{className:"text-right",children:pe(z.total)}),i.jsxs(me,{className:"text-right",children:[i.jsxs(V,{size:"sm",variant:"outline",className:"mr-2",onClick:()=>Q(z),children:[i.jsx(gp,{className:"h-4 w-4 mr-1"}),"Edit"]}),i.jsxs(V,{size:"sm",variant:"outline",className:"mr-2",onClick:()=>oe(z),children:[i.jsx(GB,{className:"h-4 w-4 mr-1"}),"Struk"]}),i.jsxs(V,{size:"sm",variant:"default",onClick:()=>Ae(z.id),children:[i.jsx(see,{className:"h-4 w-4 mr-1"}),"Lihat"]})]})]},z.id))})]})})}),te>1&&i.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[i.jsxs("div",{className:"text-sm text-gray-500",children:["Halaman ",h," dari ",te]}),i.jsxs("div",{className:"space-x-2",children:[i.jsx(V,{variant:"outline",size:"sm",onClick:()=>f(z=>Math.max(z-1,1)),disabled:!Z,children:"Sebelumnya"}),i.jsx(V,{variant:"outline",size:"sm",onClick:()=>f(z=>Math.min(z+1,te)),disabled:!q,children:"Berikutnya"})]})]}),i.jsx(ii,{open:o,onOpenChange:l,children:i.jsxs(Es,{children:[i.jsx(oi,{children:i.jsx(li,{children:"Perbarui Status Pesanan"})}),i.jsx(Ln,{...F,children:i.jsxs("form",{onSubmit:F.handleSubmit(H),className:"space-y-6 py-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("p",{className:"text-sm text-gray-500",children:["ID Pesanan: ",A==null?void 0:A.id]}),i.jsxs("p",{className:"text-sm font-medium",children:["Total: ",pe(A==null?void 0:A.total)]}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Tanggal: ",A!=null&&A.date?new Date(A.date).toLocaleDateString("id-ID"):"Tidak Ada"]})]}),i.jsx(Qe,{control:F.control,name:"status",render:({field:z})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Status"}),i.jsx(Me,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...z,children:[i.jsx("option",{value:"pending",children:"Menunggu"}),i.jsx("option",{value:"processing",children:"Diproses"}),i.jsx("option",{value:"shipped",children:"Dikirim"}),i.jsx("option",{value:"delivered",children:"Diterima"}),i.jsx("option",{value:"canceled",children:"Dibatalkan"})]})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:F.control,name:"tracking_number",render:({field:z})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Nomor Resi"}),i.jsx(Me,{children:i.jsx(le,{...z,value:z.value||""})}),i.jsx($e,{})]})}),i.jsxs(Wi,{children:[i.jsx(V,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Batal"}),i.jsx(V,{type:"submit",disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(VB,{className:"h-4 w-4 mr-2 animate-spin"}),"Menyimpan..."]}):"Simpan Perubahan"})]})]})})]})}),E&&i.jsx(or,{open:b,onOpenChange:_,children:i.jsxs(er,{className:"max-w-md",children:[i.jsx(dr,{children:i.jsx(hr,{className:"text-center",children:"Struk Pesanan"})}),i.jsxs("div",{ref:R,style:ga.receipt,children:[i.jsxs("div",{style:ga.receiptHeader,children:[i.jsx("h2",{style:ga.receiptTitle,children:"Struk Belanja"}),i.jsxs("div",{style:ga.receiptStoreInfo,children:[i.jsx("p",{children:i.jsx("strong",{children:"Jaya Perkasa Charcoal"})}),i.jsx("p",{children:"Jl.legok conggeang kec.paseh , sumedang"}),i.jsx("p",{children:"Telp: 0813-9458-6882"})]}),i.jsx("div",{style:ga.receiptBorder}),i.jsx("p",{className:"mt-3 mb-1",children:i.jsxs("strong",{children:["Pesanan #",E.id.substring(0,8)]})}),i.jsx("p",{children:new Date(E.date).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),B&&i.jsxs("div",{style:ga.receiptStoreInfo,children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Pelanggan:"})," ",B.name||"Tidak Ada"]}),i.jsx("p",{children:B.email||"Tidak Ada"}),i.jsx("p",{children:B.phone||"Tidak Ada"})]}),N&&i.jsxs("div",{style:ga.receiptStoreInfo,children:[i.jsx("p",{children:i.jsx("strong",{children:"Dikirim Ke:"})}),i.jsx("p",{children:N.name}),i.jsx("p",{children:N.street}),i.jsx("p",{children:`${N.city}, ${N.state} ${N.zip}`})]}),i.jsx("div",{style:ga.receiptBorder}),i.jsx("div",{style:{margin:"0.5rem 0"},children:E.items&&E.items.map((z,ve)=>i.jsxs("div",{style:ga.receiptItem,children:[i.jsxs("div",{children:[i.jsx("p",{children:z.productName}),i.jsxs("p",{children:["Jml: ",z.quantity," Kg × ",pe(z.price)]})]}),i.jsx("span",{children:pe(z.price*z.quantity)})]},ve))}),i.jsxs("div",{className:"mt-3 text-sm",children:[i.jsxs("div",{className:"flex justify-between py-1",children:[i.jsx("span",{children:"Subtotal"}),i.jsx("span",{children:pe(((je=E.items)==null?void 0:je.reduce((z,ve)=>z+ve.price*ve.quantity,0))||0)})]}),E.discount_amount>0&&i.jsxs("div",{className:"flex justify-between py-1 text-green-600",children:[i.jsxs("span",{children:["Diskon Voucher ",U!=null&&U.code?`(${U.code})`:""]}),i.jsxs("span",{children:["-",pe(E.discount_amount)]})]}),P&&i.jsxs("div",{className:"flex justify-between py-1",children:[i.jsxs("span",{children:["Pengiriman (",P.name,")"]}),i.jsx("span",{children:pe(P.cost)})]}),i.jsxs("div",{className:"flex justify-between py-1 font-semibold",children:[i.jsx("span",{children:"Total Yang Harus Di Bayar"}),i.jsx("span",{children:pe(E.total)})]})]}),i.jsx("div",{style:ga.receiptStoreInfo,children:i.jsxs("p",{children:[i.jsx("strong",{children:"Metode Pembayaran:"})," ",E.paymentMethod==="bank-transfer"?"Transfer Bank":E.paymentMethod==="qris"?"QRIS":E.paymentMethod==="cod"?"Bayar di Tempat (COD)":"Pembayaran Standar"]})}),i.jsx("div",{style:ga.receiptBarcode,children:i.jsxs("p",{children:["*******",E.id.substring(0,8),"*******"]})}),i.jsx("div",{style:ga.receiptThankYou,children:i.jsx("p",{children:"Silahkan Segera Melakukan Pembayaran Agar Pengiriman Segera Di Proses"})}),i.jsxs("div",{style:ga.receiptFooter,children:[i.jsx("p",{children:"Layanan pelanggan: 0813-9458-6882"}),i.jsx("p",{children:"Jika Arang Belum Di Kirim Silahkan Chat Admin Dan Berikan Struk Bukti Pembayaran"}),i.jsx("p",{children:"Terima kasih"})]}),i.jsxs("div",{className:"flex gap-2 mt-6",children:[i.jsx(V,{onClick:()=>_(!1),variant:"outline",className:"flex-1",children:"Tutup"}),i.jsxs(V,{onClick:fe,className:"flex-1",children:[i.jsx(Sv,{className:"mr-2 h-4 w-4"}),"Cetak"]}),i.jsx(V,{onClick:ce,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",disabled:w,children:w?i.jsxs(i.Fragment,{children:[i.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Yo,{className:"mr-2 h-4 w-4"}),"Simpan"]})})]})]})]})})]})}const KQe={async getCategories(){try{const{data:t,error:e}=await J.from("expense_categories").select("*").order("name");return{data:t,error:e}}catch(t){return console.error("Error fetching expense categories:",t),{data:null,error:t}}},async addCategory(t){try{t.id||(t.id=nn()),t.created_at||(t.created_at=new Date().toISOString());const{data:e,error:r}=await J.from("expense_categories").insert(t).select().single();return{data:e,error:r}}catch(e){return console.error("Error adding expense category:",e),{data:null,error:e}}},async getExpenses(t=100,e=0,r){try{let n=J.from("company_expenses").select(`
          *,
          expense_categories!inner (
            name
          )
        `).order("date",{ascending:!1}).range(e,e+t-1);r&&(r.category_id&&(n=n.eq("category_id",r.category_id)),r.from_date&&(n=n.gte("date",r.from_date)),r.to_date&&(n=n.lte("date",r.to_date)),r.status&&(n=n.eq("status",r.status)),r.search&&(n=n.or(`description.ilike.%${r.search}%,paid_by.ilike.%${r.search}%`)));const{data:a,error:s}=await n;return{data:a==null?void 0:a.map(l=>{var c;return{...l,category_name:(c=l.expense_categories)==null?void 0:c.name}}),error:s}}catch(n){return console.error("Error fetching company expenses:",n),{data:null,error:n}}},async addExpense(t){var e;try{const r=["date","amount","description","category_id","created_by"];for(const o of r)if(!t[o])throw new Error(`Field ${o} wajib diisi`);t.id||(t.id=nn()),t.created_at||(t.created_at=new Date().toISOString()),t.status||(t.status="pending");const{data:n,error:a}=await J.from("company_expenses").insert(t).select(`
          *,
          expense_categories!inner (
            name
          )
        `).single();if(a)throw a;return{data:{...n,category_name:(e=n.expense_categories)==null?void 0:e.name},error:null}}catch(r){return console.error("Error adding company expense:",r),{data:null,error:r}}},async updateExpense(t,e){var r;try{e.updated_at=new Date().toISOString();const{data:n,error:a}=await J.from("company_expenses").update(e).eq("id",t).select(`
          *,
          expense_categories!inner (
            name
          )
        `).single();if(a)throw a;return{data:{...n,category_name:(r=n.expense_categories)==null?void 0:r.name},error:null}}catch(n){return console.error("Error updating company expense:",n),{data:null,error:n}}},async deleteExpense(t){try{const{error:e}=await J.from("company_expenses").delete().eq("id",t);if(e)throw e;return{data:null,error:null}}catch(e){return console.error("Error deleting company expense:",e),{data:null,error:e}}},async getMonthlyExpenses(){try{const t=new Date;t.setFullYear(t.getFullYear()-1);const{data:e,error:r}=await J.from("company_expenses").select("date, amount").gte("date",t.toISOString().split("T")[0]).order("date");if(r)throw r;const n={};return e==null||e.forEach(s=>{const o=new Date(s.date),l=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}`;n[l]||(n[l]=0),n[l]+=s.amount}),{data:Object.entries(n).map(([s,o])=>({month:s,total:o})),error:null}}catch(t){return console.error("Error fetching monthly expenses:",t),{data:null,error:t}}},async getExpensesByCategory(t,e){try{let r=J.from("company_expenses").select(`
          amount,
          expense_categories!inner (
            id,
            name
          )
        `);t&&(r=r.gte("date",t)),e&&(r=r.lte("date",e));const{data:n,error:a}=await r;if(a)throw a;const s={};return n==null||n.forEach(l=>{const c=typeof l.expense_categories=="object"&&!Array.isArray(l.expense_categories)?l.expense_categories.id:l.category_id,u=typeof l.expense_categories=="object"&&!Array.isArray(l.expense_categories)?l.expense_categories.name:"Uncategorized";s[c]||(s[c]={id:c,name:u,total:0}),s[c].total+=l.amount}),{data:Object.values(s).map(l=>({category:l.name,total:l.total})),error:null}}catch(r){return console.error("Error fetching expenses by category:",r),{data:null,error:r}}},async getTotalExpenses(t,e){try{let r=J.from("company_expenses").select("amount");t&&(r=r.gte("date",t)),e&&(r=r.lte("date",e));const{data:n,error:a}=await r;if(a)throw a;return{data:(n==null?void 0:n.reduce((o,l)=>o+l.amount,0))||0,error:null}}catch(r){return console.error("Error fetching total expenses:",r),{data:null,error:r}}},async reduceCostFromCancelledOrder(t,e,r){try{const{data:n}=await J.from("company_expenses").select("*").eq("description",`Order #${t.substring(0,8)}`).single();if(!n)return console.log(`No expenses found for order ${t}`),!0;const a={id:nn(),date:new Date().toISOString().split("T")[0],amount:-Math.abs(r),description:`Pembatalan Order #${t.substring(0,8)}`,category_id:n.category_id,paid_by:"System",payment_method:"Adjustment",status:"approved",created_by:e,created_at:new Date().toISOString(),document_reference:t,notes:`Pengurangan biaya otomatis untuk pesanan #${t.substring(0,8)} yang dibatalkan`},{error:s}=await J.from("company_expenses").insert(a);return s?(console.error("Error reducing expense for cancelled order:",s),!1):!0}catch(n){return console.error("Error in reduceCostFromCancelledOrder:",n),!1}}};var NP="Switch",[qQe,c5e]=fa(NP),[GQe,zQe]=qQe(NP),IJ=v.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:A,...d}=t,[h,f]=v.useState(null),p=pt(e,_=>f(_)),g=v.useRef(!1),m=h?A||!!h.closest("form"):!0,[x=!1,b]=Ya({prop:a,defaultProp:s,onChange:u});return i.jsxs(GQe,{scope:r,checked:x,disabled:l,children:[i.jsx(Je.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":FJ(x),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:p,onClick:Oe(t.onClick,_=>{b(w=>!w),m&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})}),m&&i.jsx(WQe,{control:h,bubbles:!g.current,name:n,value:c,checked:x,required:o,disabled:l,form:A,style:{transform:"translateX(-100%)"}})]})});IJ.displayName=NP;var PJ="SwitchThumb",OJ=v.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,a=zQe(PJ,r);return i.jsx(Je.span,{"data-state":FJ(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:e})});OJ.displayName=PJ;var WQe=t=>{const{control:e,checked:r,bubbles:n=!0,...a}=t,s=v.useRef(null),o=kp(r),l=yp(e);return v.useEffect(()=>{const c=s.current,u=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&d){const h=new Event("click",{bubbles:n});d.call(c,r),c.dispatchEvent(h)}},[o,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:s,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function FJ(t){return t?"checked":"unchecked"}var DJ=IJ,XQe=OJ;const Ja=v.forwardRef(({className:t,...e},r)=>i.jsx(DJ,{className:de("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:i.jsx(XQe,{className:de("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ja.displayName=DJ.displayName;const JQe=t=>{switch(t.toLowerCase()){case"pending":return"Menunggu Pembayaran";case"paid":return"Pembayaran Diterima";case"processing":return"Sedang Diproses";case"shipped":return"Sedang Dikirim";case"delivered":return"Telah Diterima";case"completed":return"Selesai";case"cancelled":return"Dibatalkan";case"refunded":return"Dana Dikembalikan";default:return t}},YQe=(t,e,r,n)=>{const a=t.substring(0,8),s=JQe(e);let o=`*UPDATE STATUS PESANAN*
`;switch(o+=`━━━━━━━━━━━━━━━━━━━━━━

`,o+=`Halo${n?" "+n:""},

`,o+=`Pesanan #${a} Anda ${r?`(${r})`:""} telah diperbarui.

`,o+=`*Status Saat Ini: ${s}*

`,e.toLowerCase()){case"pending":o+=`Silakan segera lakukan pembayaran agar pesanan Anda dapat diproses.
`,o+=`Jika sudah melakukan pembayaran, mohon kirimkan bukti pembayaran kepada kami.
`;break;case"paid":o+=`Terima kasih atas pembayaran Anda! Pesanan Anda akan segera kami proses.
`;break;case"processing":o+=`Pesanan Anda sedang kami proses. Kami akan segera mempersiapkan pengiriman.
`;break;case"shipped":o+=`Pesanan Anda telah dikirim! Anda akan menerima update pengiriman selanjutnya.
`,o+=`Mohon siapkan penerimaan barang di alamat pengiriman yang telah ditentukan.
`;break;case"delivered":o+=`Pesanan Anda telah sampai di tujuan. Silakan konfirmasi penerimaan barang.
`,o+=`Jika ada pertanyaan atau masalah dengan pesanan, segera hubungi kami.
`;break;case"completed":o+=`Terima kasih telah berbelanja di Jaya Perkasa Charcoal! Kami harap Anda puas dengan produk kami.
`,o+=`Silakan berikan ulasan untuk pesanan Anda melalui aplikasi kami.
`;break;case"cancelled":o+=`Pesanan Anda telah dibatalkan. Jika Anda memiliki pertanyaan atau ingin membuat pesanan baru, silakan hubungi kami.
`;break;case"refunded":o+=`Dana untuk pesanan Anda telah dikembalikan. Proses pengembalian dana membutuhkan waktu 1-3 hari kerja tergantung bank Anda.
`;break}return o+=`
Untuk informasi lebih lanjut atau bantuan, silakan hubungi layanan pelanggan kami:
`,o+=`Telp/WA: 0813-9458-6882

`,o+=`Terima kasih telah berbelanja di
*JAYA PERKASA CHARCOAL*`,o},ZQe=async(t,e)=>{try{const{data:r,error:n}=await J.from("orders").select("user_id, created_at").eq("id",t).single();if(n||!r)return console.error("Error fetching order data:",n),!1;const{data:a,error:s}=await J.from("profiles").select("name, phone, email").eq("id",r.user_id).single();if(s||!a||!a.phone)return console.error("Error fetching customer data or no phone number:",s),!1;const o=r.created_at?new Date(r.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}):void 0,l=YQe(t,e,o,a.name);return console.log(`Sending order status update (${e}) WhatsApp to customer:`,a.phone),await Tp(a.phone,l)}catch(r){return console.error("Error sending status update via WhatsApp:",r),!1}};class d3{static async updateOrderStatus(e,r,n=!0){try{const{data:a,error:s}=await J.from("orders").update({status:r,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(s)return console.error("Error updating order status:",s),{success:!1,message:"Gagal mengupdate status pesanan",error:s};if(console.log(`Order ${e} status updated to ${r}`),n)try{const o=await ZQe(e,r);console.log(`WhatsApp notification for order ${e} status update: ${o?"sent":"failed"}`)}catch(o){console.error("Error sending WhatsApp notification:",o)}return{success:!0,message:`Status pesanan berhasil diupdate menjadi ${r}`}}catch(a){return console.error("Unexpected error updating order status:",a),{success:!1,message:"Terjadi kesalahan saat mengupdate status pesanan",error:a}}}static async getOrderStatusHistory(e){try{const{data:r,error:n}=await J.from("order_status_history").select("*").eq("order_id",e).order("created_at",{ascending:!1});return n?(console.error("Error fetching order status history:",n),{success:!1,data:null,error:n}):{success:!0,data:r,error:null}}catch(r){return console.error("Unexpected error fetching status history:",r),{success:!1,data:null,error:r}}}static async recordStatusChange(e,r,n,a,s){try{const{error:o}=await J.from("order_status_history").insert({order_id:e,old_status:r,new_status:n,admin_id:a,notes:s||null,created_at:new Date().toISOString()});o&&console.error("Error recording status change history:",o)}catch(o){console.error("Unexpected error recording status change:",o)}}}const eLe=(t=!0)=>({updateStatus:async(r,n,a,s,o)=>{const{sendWhatsApp:l=!0,notes:c}=o||{};try{const u=await d3.updateOrderStatus(r,a,l);return u.success?(await d3.recordStatusChange(r,n,a,s,c),t&&he({title:"Status Pesanan Diperbarui",description:`Pesanan #${r.substring(0,8)} telah diubah menjadi ${a}`}),{success:!0,data:u}):(t&&he({title:"Gagal Memperbarui Status",description:u.message,variant:"destructive"}),{success:!1,error:u.error})}catch(u){return console.error("Error in updateStatus hook:",u),t&&he({title:"Terjadi Kesalahan",description:"Gagal memperbarui status pesanan",variant:"destructive"}),{success:!1,error:u}}}}),tLe=Sd("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),RJ=v.forwardRef(({className:t,variant:e,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:de(tLe({variant:e}),t),...r}));RJ.displayName="Alert";const UJ=v.forwardRef(({className:t,...e},r)=>i.jsx("h5",{ref:r,className:de("mb-1 font-medium leading-none tracking-tight",t),...e}));UJ.displayName="AlertTitle";const MJ=v.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:de("text-sm [&_p]:leading-relaxed",t),...e}));MJ.displayName="AlertDescription";const DB=[{value:"pending",label:"Menunggu Pembayaran"},{value:"paid",label:"Pembayaran Diterima"},{value:"processing",label:"Sedang Diproses"},{value:"shipped",label:"Sedang Dikirim"},{value:"delivered",label:"Telah Diterima"},{value:"completed",label:"Selesai"},{value:"cancelled",label:"Dibatalkan"},{value:"refunded",label:"Dana Dikembalikan"}],rLe=t=>{switch(t){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"paid":return"bg-green-100 text-green-800 border-green-300";case"processing":return"bg-blue-100 text-blue-800 border-blue-300";case"shipped":return"bg-purple-100 text-purple-800 border-purple-300";case"delivered":return"bg-indigo-100 text-indigo-800 border-indigo-300";case"completed":return"bg-green-100 text-green-800 border-green-300";case"cancelled":return"bg-red-100 text-red-800 border-red-300";case"refunded":return"bg-orange-100 text-orange-800 border-orange-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}};function nLe({orderId:t,currentStatus:e,adminId:r,onStatusUpdated:n}){var x;const[a,s]=v.useState(e),[o,l]=v.useState(!0),[c,u]=v.useState(""),[A,d]=v.useState(!1),[h,f]=v.useState(null),{updateStatus:p}=eLe(),g=b=>{s(b),f(null)},m=async()=>{var b,_;if(!r){f({type:"error",message:"ID Admin tidak ditemukan. Silakan login kembali."});return}if(a===e){f({type:"error",message:"Status yang dipilih sama dengan status saat ini."});return}d(!0),f(null);try{const w=await p(t,e,a,r,{notes:c.trim()||void 0,sendWhatsApp:o});w.success?(f({type:"success",message:`Status pesanan berhasil diperbarui menjadi ${((b=DB.find(C=>C.value===a))==null?void 0:b.label)||a}${o?" dan notifikasi WhatsApp telah dikirim ke pelanggan":""}.`}),n&&n(a)):f({type:"error",message:`Gagal memperbarui status: ${((_=w.error)==null?void 0:_.message)||"Terjadi kesalahan."}`})}catch(w){f({type:"error",message:`Error: ${w.message||"Terjadi kesalahan yang tidak diketahui."}`})}finally{d(!1)}};return i.jsxs(xe,{className:"w-full shadow-sm",children:[i.jsxs(nt,{children:[i.jsx(at,{className:"text-lg",children:"Update Status Pesanan"}),i.jsx(nr,{children:"Perbarui status pesanan dan kirim notifikasi WhatsApp ke pelanggan"})]}),i.jsxs(be,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Ne,{htmlFor:"current-status",className:"text-sm font-medium mb-1 block",children:"Status Saat Ini"}),i.jsx("div",{id:"current-status",className:`px-3 py-2 rounded-md border text-sm ${rLe(e)}`,children:((x=DB.find(b=>b.value===e))==null?void 0:x.label)||e})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx(Ne,{htmlFor:"new-status",className:"text-sm font-medium",children:"Status Baru"}),i.jsxs(On,{value:a,onValueChange:g,disabled:A,children:[i.jsx(pn,{id:"new-status",className:"w-full",children:i.jsx(Fn,{placeholder:"Pilih status baru"})}),i.jsx(gn,{children:DB.map(b=>i.jsx(mt,{value:b.value,disabled:b.value===e,children:b.label},b.value))})]})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx(Ne,{htmlFor:"status-notes",className:"text-sm font-medium",children:"Catatan (Opsional)"}),i.jsx(Cl,{id:"status-notes",placeholder:"Tambahkan catatan tentang perubahan status ini",value:c,onChange:b=>u(b.target.value),disabled:A,className:"resize-none",rows:2})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ja,{id:"send-whatsapp",checked:o,onCheckedChange:l,disabled:A}),i.jsx(Ne,{htmlFor:"send-whatsapp",className:"cursor-pointer",children:"Kirim notifikasi WhatsApp ke pelanggan"})]}),h&&i.jsxs(RJ,{variant:h.type==="success"?"default":"destructive",className:h.type==="success"?"bg-green-50 border-green-200":"",children:[h.type==="success"?i.jsx(ZZ,{className:"h-4 w-4"}):i.jsx(Df,{className:"h-4 w-4"}),i.jsx(UJ,{children:h.type==="success"?"Berhasil":"Terjadi Kesalahan"}),i.jsx(MJ,{children:h.message})]})]}),i.jsx(Ga,{children:i.jsx(V,{onClick:m,disabled:A||a===e,className:"w-full",children:A?i.jsxs(i.Fragment,{children:[i.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):i.jsxs(i.Fragment,{children:[i.jsx(o6,{className:"mr-2 h-4 w-4"}),"Update Status & Kirim Notifikasi"]})})})]})}function aLe(){const{id:t}=wp(),e=kt(),r=v.useRef(null),[n,a]=v.useState(null),[s,o]=v.useState(null),[l,c]=v.useState(null),[u,A]=v.useState(null),[d,h]=v.useState(!0),[f,p]=v.useState(!1),[g,m]=v.useState(null),[x,b]=v.useState(!1),[_,w]=v.useState(""),[C,E]=v.useState(!1),[j,B]=v.useState(!1),[S,N]=v.useState(null);v.useEffect(()=>{if(!t)return;I(),(async()=>{const{data:{session:D}}=await J.auth.getSession();D!=null&&D.user&&w(D.user.id)})()},[t]);const I=async()=>{try{h(!0);const{data:F,error:D}=await J.from("orders").select(`
          *,
          order_items(*)
        `).eq("id",t).single();if(D)throw D;const{data:Q,error:H}=await J.from("profiles").select("*").eq("id",F.user_id).single();if(H?console.warn("Error fetching customer:",H):o(Q),F.shipping_address_id){const{data:se,error:Ae}=await J.from("addresses").select("*").eq("id",F.shipping_address_id).single();!Ae&&se&&c({id:se.id,name:se.name,street:se.street,city:se.city,state:se.state,zip:se.zip,country:se.country,isDefault:se.is_default||!1,user_id:se.user_id,created_at:se.created_at})}if(F.shipping_method_id){const{data:se,error:Ae}=await J.from("shipping_methods").select("*").eq("id",F.shipping_method_id).single();!Ae&&se&&A(se)}if(F.payment_details&&F.payment_details.includes("notes:"))try{const se=F.payment_details.match(/notes:(.*)/);se&&se[1]&&m(se[1].trim())}catch(se){console.error("Error parsing notes:",se)}const G=se=>["pending","processing","shipped","delivered","canceled"].includes(se),X=se=>se===null||["pending","assigned","picked_up","delivered","failed"].includes(se),te=F.status,Z=F.delivery_status,q={id:F.id,date:F.date,status:G(te)?te:"pending",total:F.total,paymentMethod:F.payment_method,trackingNumber:F.tracking_number,shipping_address_id:F.shipping_address_id,shipping_method_id:F.shipping_method_id,user_id:F.user_id,delivery_status:X(Z)?Z:"pending",courier_id:F.courier_id,voucher_id:F.voucher_id,discount_amount:F.discount_amount||0,items:F.order_items.map(se=>({id:se.id,productId:se.product_id,productName:se.product_name,quantity:se.quantity,price:se.price,order_id:se.order_id}))};if(F.voucher_id){const{data:se,error:Ae}=await J.from("vouchers").select("*").eq("id",F.voucher_id).single();!Ae&&se&&N({code:se.code,discount_type:se.discount_type})}a(q)}catch(F){console.error("Error fetching order:",F),he({title:"Error memuat pesanan",description:F.message||"Silakan coba lagi nanti.",variant:"destructive"}),e("/admin/orders")}finally{h(!1)}},P=async()=>{if(r.current)try{b(!0),f||(p(!0),await new Promise(G=>setTimeout(G,500)));const F=r.current,Q=(await fI(F,{scale:2,backgroundColor:"#ffffff",logging:!1,useCORS:!0,allowTaint:!0})).toDataURL("image/png"),H=document.createElement("a");H.href=Q,H.download=`Struk-Pesanan-${n==null?void 0:n.id.substring(0,8)}.png`,H.click(),he({title:"Struk Berhasil Disimpan",description:"Struk pesanan telah disimpan sebagai gambar",variant:"default"})}catch(F){console.error("Error saving receipt as image:",F),he({title:"Gagal Menyimpan Struk",description:"Terjadi kesalahan saat menyimpan struk sebagai gambar",variant:"destructive"})}finally{b(!1)}},T=()=>{r.current&&(p(!0),setTimeout(()=>{const F=r.current;if(!F)return;const D=window.open("","_blank");if(!D){he({title:"Gagal membuka jendela cetak",description:"Mohon izinkan popup untuk situs ini",variant:"destructive"});return}const Q=F.innerHTML;D.document.write(`
        <style>
          @media print {
            body {
              font-family: system-ui, sans-serif;
              padding: 20px;
              max-width: 300px;
              margin: 0 auto;
            }
            .receipt-header { 
              text-align: center;
              margin-bottom: 10px;
            }
            .receipt-items {
              border-top: 1px dashed #ccc;
              border-bottom: 1px dashed #ccc;
              padding: 10px 0;
              margin: 10px 0;
            }
            .receipt-item {
              display: flex;
              justify-content: space-between;
              margin-bottom: 5px;
            }
            .receipt-total {
              font-weight: bold;
              display: flex;
              justify-content: space-between;
              margin-top: 10px;
            }
            .receipt-footer {
              text-align: center;
              margin-top: 20px;
              font-size: 12px;
            }
            .receipt-logo {
              max-width: 100px;
              margin: 0 auto 10px;
              display: block;
            }
            .receipt-store-info {
              text-align: center;
              font-size: 12px;
              margin-bottom: 15px;
            }
            .receipt-border {
              border-top: 1px dashed #ccc;
              margin: 10px 0;
            }
            .receipt-payment-info {
              font-size: 12px;
              margin-top: 10px;
            }
            .receipt-customer-info {
              font-size: 12px;
              margin-top: 10px;
              margin-bottom: 10px;
            }
            .receipt-barcode {
              text-align: center;
              margin-top: 15px;
              font-size: 10px;
            }
            .receipt-thank-you {
              text-align: center;
              margin-top: 15px;
              font-weight: bold;
            }
          }
        </style>
        ${Q}
      `),D.print(),p(!1)},500))},U=async()=>{if(!(!n||!t))try{B(!0);const{error:F}=await J.from("orders").update({status:"canceled"}).eq("id",t);if(F)throw F;const D=await J.auth.getUser().then(({data:Q})=>{var H;return((H=Q.user)==null?void 0:H.id)||"system"});if(n.items&&n.items.length>0){await Ac.restoreStockFromCancelledOrder(n.id,n.items.map(H=>({productName:H.productName,quantity:H.quantity})),D);const Q=n.total||n.items.reduce((H,G)=>H+G.price*G.quantity,0);await KQe.reduceCostFromCancelledOrder(n.id,D,Q)}a({...n,status:"canceled"}),he({title:"Pesanan Dibatalkan",description:"Pesanan telah berhasil dibatalkan dan stok telah dikembalikan."})}catch(F){console.error("Error canceling order:",F),he({title:"Gagal Membatalkan Pesanan",description:F.message||"Terjadi kesalahan saat membatalkan pesanan.",variant:"destructive"})}finally{B(!1),E(!1)}},M=F=>{switch(F){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"canceled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},R=F=>{if(!F)return"";switch(F){case"pending":return"Menunggu";case"processing":return"Diproses";case"shipped":return"Dikirim";case"delivered":return"Diterima";case"canceled":return"Dibatalkan";default:return F.charAt(0).toUpperCase()+F.slice(1)}};return d?i.jsx(jn,{children:i.jsxs("div",{className:"flex justify-center items-center h-64",children:[i.jsx(VB,{className:"h-8 w-8 animate-spin text-gray-500"}),i.jsx("span",{className:"ml-2 text-lg text-gray-500",children:"Memuat detail pesanan..."})]})}):n?i.jsxs(jn,{children:[i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsxs(V,{variant:"outline",size:"sm",onClick:()=>e("/admin/orders"),children:[i.jsx(bs,{className:"h-4 w-4 mr-2"}),"Kembali ke Pesanan"]}),i.jsxs(V,{variant:"outline",onClick:T,className:"ml-2",children:[i.jsx(Sv,{className:"mr-2 h-4 w-4"}),"Cetak Struk"]}),i.jsxs(V,{variant:"outline",onClick:P,className:"ml-2 bg-green-600 hover:bg-green-700 text-white",disabled:x,children:[x?i.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(Yo,{className:"mr-2 h-4 w-4"}),"Simpan Struk"]}),i.jsxs("h1",{className:"text-2xl font-bold",children:["Pesanan #",t]})]}),i.jsxs("div",{className:"flex items-center",children:[n&&n.status!=="canceled"&&i.jsxs(V,{variant:"destructive",onClick:()=>E(!0),className:"mr-2",disabled:n.status==="delivered",children:[i.jsx(I2,{className:"h-4 w-4 mr-2"}),"Batalkan Pesanan"]}),i.jsxs(V,{onClick:T,className:"bg-flame-500 hover:bg-flame-600",children:[i.jsx(Sv,{className:"h-4 w-4 mr-2"}),"Cetak Struk"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[i.jsxs(xe,{children:[i.jsxs(nt,{children:[i.jsx(at,{className:"text-lg",children:"Status Pesanan"}),i.jsx(nr,{children:"Perbarui status pesanan dan kirim notifikasi WhatsApp ke pelanggan"})]}),i.jsx(be,{children:i.jsx(nLe,{orderId:n.id,currentStatus:n.status,adminId:_,onStatusUpdated:F=>{a({...n,status:F})}})})]}),i.jsxs(xe,{className:"md:col-span-2",children:[i.jsxs(nt,{children:[i.jsx(at,{className:"text-lg flex items-center",children:"Ringkasan Pesanan"}),i.jsxs(nr,{children:["ID Pesanan: ",n==null?void 0:n.id,n&&i.jsx(yt,{className:`ml-2 ${M(n.status)}`,children:R(n.status)})]}),i.jsxs(nr,{children:["Tanggal: ",n?new Date(n.date).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):""]}),(n==null?void 0:n.trackingNumber)&&i.jsxs(nr,{children:["Nomor Resi: ",n.trackingNumber]})]}),i.jsxs(be,{children:[i.jsxs("div",{className:"space-y-1 mb-6",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Daftar Pesanan"}),i.jsxs(vn,{children:[i.jsx(yn,{children:i.jsxs(it,{children:[i.jsx(Ce,{children:"Produk"}),i.jsx(Ce,{children:"Jumlah"}),i.jsx(Ce,{className:"text-right",children:"Harga"}),i.jsx(Ce,{className:"text-right",children:"Subtotal"})]})}),i.jsxs(xn,{children:[(n==null?void 0:n.items)&&n.items.map(F=>i.jsxs(it,{children:[i.jsx(me,{children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 bg-charcoal-100 rounded flex-shrink-0 flex items-center justify-center",children:i.jsx(Vi,{className:"h-5 w-5 text-charcoal-400"})}),i.jsx("span",{children:F.productName})]})}),i.jsx(me,{children:F.quantity}),i.jsx(me,{className:"text-right",children:pe(F.price)}),i.jsx(me,{className:"text-right",children:pe(F.quantity*F.price)})]},F.id)),i.jsxs(it,{children:[i.jsx(me,{colSpan:2}),i.jsx(me,{className:"font-medium text-right",children:"Subtotal:"}),i.jsx(me,{className:"font-medium text-right",children:n?pe(n.items.reduce((F,D)=>F+D.price*D.quantity,0)):""})]}),(n==null?void 0:n.discount_amount)>0&&i.jsxs(it,{children:[i.jsx(me,{colSpan:2}),i.jsx(me,{className:"font-medium text-right text-green-600",children:"Diskon Voucher:"}),i.jsxs(me,{className:"font-medium text-right text-green-600",children:["-",pe(n.discount_amount)]})]}),u&&i.jsxs(it,{children:[i.jsx(me,{colSpan:2}),i.jsxs(me,{className:"font-medium text-right",children:["Pengiriman (",u.name,"):"]}),i.jsx(me,{className:"font-medium text-right",children:pe(u.cost)})]}),i.jsxs(it,{children:[i.jsx(me,{colSpan:2}),i.jsx(me,{className:"font-bold text-right",children:"Total:"}),i.jsx(me,{className:"font-bold text-right",children:n?pe(n.total):""})]})]})]})]}),g&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Catatan Pelanggan"}),i.jsx("div",{className:"text-sm text-gray-500 italic",children:g})]})]})]}),i.jsxs(xe,{children:[i.jsx(nt,{children:i.jsx(at,{className:"text-lg",children:"Informasi Pelanggan"})}),i.jsx(be,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Pelanggan"}),i.jsx("p",{children:(s==null?void 0:s.name)||"N/A"}),i.jsx("p",{children:(s==null?void 0:s.email)||"N/A"}),i.jsx("p",{children:(s==null?void 0:s.phone)||"N/A"})]}),i.jsx(Qn,{}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Alamat Pengiriman"}),l?i.jsxs(i.Fragment,{children:[i.jsx("p",{children:l.name}),i.jsx("p",{children:l.street}),i.jsx("p",{children:`${l.city}, ${l.state} ${l.zip}`}),i.jsx("p",{children:l.country})]}):i.jsx("p",{className:"text-muted-foreground",children:"Tidak ada alamat yang diberikan"})]}),i.jsx(Qn,{}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Metode Pembayaran"}),i.jsx("p",{children:n.paymentMethod==="bank-transfer"?"Transfer Bank":n.paymentMethod==="qris"?"QRIS":n.paymentMethod==="cod"?"Bayar di Tempat":n.paymentMethod||"Pembayaran Standar"})]}),u&&i.jsxs(i.Fragment,{children:[i.jsx(Qn,{}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Metode Pengiriman"}),i.jsxs("p",{children:[u.name," - ",u.carrier]}),i.jsxs("p",{children:["Perkiraan waktu pengiriman: ",u.estimated_days," Jam"]}),i.jsx("p",{className:"font-medium",children:pe(u.cost)})]})]})]})})]})]})]}),i.jsx(or,{open:C,onOpenChange:E,children:i.jsxs(er,{className:"max-w-md",children:[i.jsxs(dr,{children:[i.jsx(hr,{className:"text-center",children:"Konfirmasi Pembatalan"}),i.jsxs(_n,{className:"text-center pt-4",children:["Apakah Anda yakin ingin membatalkan pesanan ini?",i.jsxs("div",{className:"mt-2 p-3 bg-red-50 text-red-700 rounded-md flex items-center",children:[i.jsx(o0,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:"Stok arang akan dikembalikan secara otomatis."})]})]})]}),i.jsxs(sn,{className:"flex flex-row justify-between mt-4",children:[i.jsx(V,{variant:"outline",onClick:()=>E(!1),disabled:j,children:"Batal"}),i.jsx(V,{variant:"destructive",onClick:U,disabled:j,children:j?i.jsxs(i.Fragment,{children:[i.jsx(Kt,{className:"h-4 w-4 mr-2 animate-spin"}),"Membatalkan..."]}):i.jsxs(i.Fragment,{children:[i.jsx(I2,{className:"h-4 w-4 mr-2"}),"Ya, Batalkan Pesanan"]})})]})]})}),i.jsx(or,{open:f,onOpenChange:p,children:i.jsxs(er,{className:"max-w-md",children:[i.jsx(dr,{children:i.jsx(hr,{className:"text-center",children:"Struk Pesanan"})}),i.jsxs("div",{ref:r,className:"p-4",children:[i.jsxs("div",{className:"receipt-header",children:[i.jsx("h2",{className:"text-xl font-bold mb-1",children:"Struk Belanja"}),i.jsxs("div",{className:"receipt-store-info",children:[i.jsx("p",{children:i.jsx("strong",{children:"Jaya Perkasa Charcoal"})}),i.jsx("p",{children:"Jl.legok conggeang kec.paseh , sumedang"}),i.jsx("p",{children:"Telp: 0813-9458-6882"})]}),i.jsx("div",{className:"receipt-border"}),i.jsx("p",{className:"mt-3 mb-1",children:i.jsxs("strong",{children:["ID Pesanan #",n.id.substring(0,8)]})}),i.jsx("p",{children:new Date(n.date).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),s&&i.jsxs("div",{className:"receipt-customer-info",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Pelanggan:"})," ",s.name||"Tidak Ada"]}),i.jsx("p",{children:s.email||"Tidak Ada"}),i.jsx("p",{children:s.phone||"Tidak Ada"})]}),l&&i.jsxs("div",{className:"receipt-customer-info",children:[i.jsx("p",{children:i.jsx("strong",{children:"Alamat Pengiriman:"})}),i.jsx("p",{children:l.name}),i.jsx("p",{children:l.street}),i.jsx("p",{children:`${l.city}, ${l.state} ${l.zip}`})]}),i.jsxs("table",{className:"w-full mt-4 mb-3",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left",children:"Item"}),i.jsx("th",{className:"text-center",children:"Jml"}),i.jsx("th",{className:"text-right",children:"Harga"}),i.jsx("th",{className:"text-right",children:"Total"})]})}),i.jsx("tbody",{children:n.items.map(F=>i.jsxs("tr",{children:[i.jsx("td",{className:"text-left",children:F.productName}),i.jsxs("td",{className:"text-center",children:[F.quantity,"x"]}),i.jsx("td",{className:"text-right",children:pe(F.price)}),i.jsx("td",{className:"text-right",children:pe(F.price*F.quantity)})]},F.id))})]}),i.jsx("div",{className:"receipt-border"}),i.jsxs("div",{className:"receipt-totals",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Subtotal:"}),i.jsx("span",{children:pe(n.items.reduce((F,D)=>F+D.price*D.quantity,0))})]}),n.discount_amount>0&&i.jsxs("div",{className:"flex justify-between text-green-600",children:[i.jsxs("span",{children:["Diskon Voucher ",S!=null&&S.code?`(${S.code})`:"",":"]}),i.jsxs("span",{children:["-",pe(n.discount_amount)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Subtotal sebelum diskon:"}),i.jsx("span",{children:pe(n.items.reduce((F,D)=>F+D.price*D.quantity,0)+n.discount_amount)})]}),u&&i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:["Pengiriman (",u.name,"):"]}),i.jsx("span",{children:pe(u.cost)})]}),i.jsxs("div",{className:"flex justify-between font-bold mt-2",children:[i.jsx("span",{children:"Total:"}),i.jsx("span",{children:pe(n.total)})]})]}),i.jsx("div",{className:"receipt-payment-info",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Metode Pembayaran:"})," ",n.paymentMethod==="bank-transfer"?"Transfer Bank":n.paymentMethod==="qris"?"QRIS":n.paymentMethod==="cod"?"Bayar di Tempat":"Pembayaran Standar"]})}),i.jsx("div",{className:"receipt-barcode",children:i.jsxs("p",{children:["*******",n.id.substring(0,8),"*******"]})}),i.jsx("div",{className:"receipt-thank-you",children:i.jsx("p",{children:"Terima kasih atas pembelian Anda!"})}),i.jsxs("div",{className:"receipt-footer",children:[i.jsx("p",{children:"Untuk layanan pelanggan: support@example.com"}),i.jsx("p",{children:"Simpan struk ini untuk pengembalian atau penukaran"}),i.jsx("p",{children:"Pengembalian diterima dalam 24 jam setelah pembelian"})]}),i.jsxs("div",{className:"flex gap-2 mt-6",children:[i.jsx(V,{onClick:()=>p(!1),variant:"outline",className:"flex-1",children:"Tutup"}),i.jsxs(V,{onClick:()=>window.print(),className:"flex-1",children:[i.jsx(Sv,{className:"mr-2 h-4 w-4"}),"Cetak"]}),i.jsx(V,{onClick:P,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",disabled:x,children:x?i.jsxs(i.Fragment,{children:[i.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Yo,{className:"mr-2 h-4 w-4"}),"Simpan"]})})]})]})]})})]}):i.jsx(jn,{children:i.jsx("div",{className:"p-4",children:i.jsx(xe,{className:"w-full",children:i.jsx(be,{className:"pt-6",children:i.jsxs("div",{className:"flex flex-col items-center justify-center p-6",children:[i.jsx("p",{className:"text-muted-foreground mb-4",children:"Pesanan tidak ditemukan"}),i.jsx(V,{onClick:()=>e("/admin/orders"),className:"bg-flame-500 hover:bg-flame-600",children:"Kembali ke Pesanan"})]})})})})})}function sLe(){const[t,e]=v.useState("month"),[r,n]=v.useState(!0),[a,s]=v.useState({totalSales:0,orderCount:0,averageOrderValue:0,topProducts:[],recentOrders:[]}),[o,l]=v.useState([]),[c,u]=v.useState([]),[A,d]=v.useState([]),[h,f]=v.useState(!1);v.useEffect(()=>{g()},[t]);const p=m=>{f(!0);try{let x="",b="";m==="orders"?(x=`ID Pesanan,Tanggal,Status,Total
`,A.forEach(E=>{x+=`"${E.id}","${new Date(E.date).toLocaleDateString()}","${E.status}","${E.total}"
`}),b="pesanan_export.csv"):m==="products"?(x=`Produk,Jumlah Terjual
`,c.forEach(E=>{x+=`"${E.name}","${E.total}"
`}),b="produk_terlaris_export.csv"):(x=`Tanggal,Total Penjualan
`,o.forEach(E=>{x+=`"${E.date}","${E.total}"
`}),b="penjualan_harian_export.csv");const _=new Blob([x],{type:"text/csv;charset=utf-8;"}),w=URL.createObjectURL(_),C=document.createElement("a");C.href=w,C.setAttribute("download",b),document.body.appendChild(C),C.click(),document.body.removeChild(C)}catch(x){console.error("Error exporting data:",x)}finally{f(!1)}},g=async()=>{n(!0);try{const m=new Date;let x=new Date;t==="week"?x.setDate(m.getDate()-7):t==="month"?x.setMonth(m.getMonth()-1):x.setFullYear(m.getFullYear()-1);const b=x.toISOString(),{data:_,error:w}=await J.from("orders").select("*").gte("date",b).order("date",{ascending:!1});if(w)throw w;const C=(_==null?void 0:_.reduce((D,Q)=>D+Number(Q.total),0))||0,E=(_==null?void 0:_.length)||0,j=E>0?C/E:0,B=(_==null?void 0:_.slice(0,5))||[],{data:S,error:N}=await J.from("order_items").select("product_id, product_name, quantity").in("order_id",(_==null?void 0:_.map(D=>D.id))||[]);if(N)throw N;const I=new Map;S==null||S.forEach(D=>{const Q=I.get(D.product_id);Q?Q.quantity+=D.quantity:I.set(D.product_id,{productId:D.product_id,productName:D.product_name,quantity:D.quantity})});const P=Array.from(I.values()).sort((D,Q)=>Q.quantity-D.quantity).slice(0,5),T=new Map;_==null||_.forEach(D=>{const Q=new Date(D.date).toLocaleDateString(),H=T.get(Q)||0;T.set(Q,H+Number(D.total))});const U=Array.from(T.entries()).map(([D,Q])=>({date:D,total:Q})).sort((D,Q)=>new Date(D.date).getTime()-new Date(Q.date).getTime());d(_||[]);const{data:M}=await J.from("products").select("id, name").in("id",P.map(D=>D.productId)||[]),R=new Map;M==null||M.forEach(D=>R.set(D.id,D.name));const F=P.map(D=>({name:D.productName.length>15?D.productName.substring(0,15)+"...":D.productName,total:D.quantity}));s({totalSales:C,orderCount:E,averageOrderValue:j,topProducts:P,recentOrders:B}),l(U),u(F)}catch(m){console.error("Error fetching analytics data:",m)}finally{n(!1)}};return i.jsxs(jn,{children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Dasbor Analitik"}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("select",{value:t,onChange:m=>e(m.target.value),className:"px-3 py-2 border rounded-md",children:[i.jsx("option",{value:"week",children:"7 Hari Terakhir"}),i.jsx("option",{value:"month",children:"30 Hari Terakhir"}),i.jsx("option",{value:"year",children:"Tahun Terakhir"})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs(xe,{children:[i.jsx(nt,{className:"pb-2",children:i.jsx(at,{className:"text-sm font-medium",children:"Total Penjualan"})}),i.jsx(be,{children:i.jsx("div",{className:"text-2xl font-bold",children:pe(a.totalSales)})})]}),i.jsxs(xe,{children:[i.jsx(nt,{className:"pb-2",children:i.jsx(at,{className:"text-sm font-medium",children:"Pesanan"})}),i.jsxs(be,{children:[i.jsx("p",{className:"text-xs text-gray-500",children:"Pengguna dengan pesanan"}),i.jsx("div",{className:"text-2xl font-bold",children:a.orderCount})]})]}),i.jsxs(xe,{children:[i.jsx(nt,{className:"pb-2",children:i.jsx(at,{className:"text-sm font-medium",children:"Nilai Pesanan Rata-rata"})}),i.jsx(be,{children:i.jsx("div",{className:"text-2xl font-bold",children:pe(a.averageOrderValue)})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(xe,{children:[i.jsxs(nt,{className:"flex flex-row items-center justify-between",children:[i.jsx(at,{children:"Penjualan Bulanan"}),i.jsxs(V,{size:"sm",variant:"outline",className:"h-8 gap-1",onClick:()=>p("sales"),disabled:h||r,children:[i.jsx(Yo,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]}),i.jsx(be,{children:i.jsx("div",{className:"h-80",children:r?i.jsx("div",{className:"h-full flex items-center justify-center",children:"Loading..."}):i.jsx(NQe,{data:o,index:"date",categories:["total"],colors:["#FF7E47"],valueFormatter:m=>pe(m),yAxisWidth:60})})})]}),i.jsxs(xe,{children:[i.jsxs(nt,{className:"flex flex-row items-center justify-between",children:[i.jsx(at,{children:"Produk Terlaris"}),i.jsxs(V,{size:"sm",variant:"outline",className:"h-8 gap-1",onClick:()=>p("products"),disabled:h||r,children:[i.jsx(Yo,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]}),i.jsx(be,{children:i.jsx("div",{className:"h-80",children:r?i.jsx("div",{className:"h-full flex items-center justify-center",children:"Loading..."}):i.jsx(TJ,{data:c,index:"name",categories:["total"],colors:["#FF7E47"],valueFormatter:m=>`${m} units`,yAxisWidth:60})})})]})]}),i.jsxs(xe,{children:[i.jsxs(nt,{className:"flex flex-row items-center justify-between",children:[i.jsx(at,{children:"Pesanan Terbaru"}),i.jsxs(V,{size:"sm",variant:"outline",className:"h-8 gap-1",onClick:()=>p("orders"),disabled:h||r,children:[i.jsx(Yo,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]}),i.jsx(be,{children:i.jsxs(vn,{children:[i.jsx(yn,{children:i.jsxs(it,{children:[i.jsx(Ce,{className:"w-[100px]",children:"ID Pesanan"}),i.jsx(Ce,{children:"Pelanggan"}),i.jsx(Ce,{children:"Tanggal"}),i.jsx(Ce,{children:"Status"}),i.jsx(Ce,{className:"text-right",children:"Jumlah"})]})}),i.jsx(xn,{children:r?i.jsx(it,{children:i.jsx(me,{colSpan:5,className:"text-center py-4",children:"Loading..."})}):a.recentOrders.length===0?i.jsx(it,{children:i.jsx(me,{colSpan:4,className:"text-center py-4",children:"No orders found."})}):a.recentOrders.map(m=>i.jsxs(it,{children:[i.jsxs(me,{className:"font-medium",children:[m.id.substring(0,8),"..."]}),i.jsx(me,{children:new Date(m.date).toLocaleDateString()}),i.jsx(me,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${m.status==="pending"?"bg-yellow-100 text-yellow-800":m.status==="processing"?"bg-blue-100 text-blue-800":m.status==="shipped"?"bg-purple-100 text-purple-800":m.status==="delivered"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.status.charAt(0).toUpperCase()+m.status.slice(1)})}),i.jsx(me,{className:"text-right",children:pe(m.total)})]},m.id))})]})})]})]})}function iLe(){const[t,e]=v.useState(!1),[r,n]=v.useState(""),[a,s]=v.useState(75e4),[o,l]=v.useState(!0),[c,u]=v.useState([]),[A,d]=v.useState(null);v.useEffect(()=>{(()=>{if(!("Notification"in window)){d(null);return}d(Notification.permission)})()},[]),v.useEffect(()=>{(async()=>{const{data:g}=await J.from("products").select("id, name, price").limit(5);g&&g.length>0?u(g):u([{id:nn(),name:"Coal Type A Premium",price:25e4},{id:nn(),name:"Coal Type B Standard",price:18e4},{id:nn(),name:"Coal Type C Economy",price:12e4}])})()},[]);const h=async()=>{if(!("Notification"in window))return he({title:"Error",description:"Browser Anda tidak mendukung notifikasi",variant:"destructive"}),!1;try{const p=await Notification.requestPermission();return d(p),p==="granted"?(he({title:"Sukses",description:"Izin notifikasi diberikan"}),!0):(he({title:"Peringatan",description:"Izin notifikasi ditolak. Notifikasi tidak akan ditampilkan.",variant:"destructive"}),!1)}catch(p){return console.error("Error requesting notification permission:",p),he({title:"Error",description:"Gagal meminta izin notifikasi",variant:"destructive"}),!1}},f=async()=>{if(e(!0),!("Notification"in window)){he({title:"Error",description:"Browser Anda tidak mendukung notifikasi",variant:"destructive"}),e(!1);return}if(A!=="granted"&&!await h()){he({title:"Peringatan",description:"Anda harus mengizinkan notifikasi untuk menguji fitur ini",variant:"destructive"}),e(!1);return}try{let p,g,m=[];if(o){const x=nn(),b=r||nn(),_=nn();g={id:b,full_name:"Pelanggan Test",email:"test@example.com",phone:"081234567890"},p={id:x,user_id:b,total:a,status:"pending",payment_method:"bank-transfer",shipping_address_id:_,date:new Date().toISOString(),payment_details:"SeaBank"};for(const w of c.slice(0,3)){const C=Math.floor(Math.random()*3)+1;m.push({product_name:w.name,quantity:C,price:w.price})}console.log("Using dummy order data for testing:",{order:p,customer:g,items:m})}else{if(!r)throw new Error("Silahkan masukkan ID pelanggan untuk menggunakan data nyata");const{data:x,error:b}=await J.from("profiles").select("id, full_name, email, phone").eq("id",r).single();if(b||!x)throw new Error('Pelanggan tidak ditemukan. Gunakan opsi "Gunakan Data Dummy" untuk testing.');g=x;let _;const{data:w,error:C}=await J.from("addresses").select("id").eq("user_id",r).limit(1).single();C?(_=nn(),console.log("Using dummy address ID:",_)):_=w.id;const{data:E,error:j}=await J.from("orders").insert({user_id:r,total:a,status:"pending",payment_method:"bank-transfer",shipping_address_id:_,date:new Date().toISOString(),payment_details:"SeaBank"}).select().single();if(j)throw j;p=E;for(const B of c.slice(0,3)){const S=Math.floor(Math.random()*3)+1,{error:N}=await J.from("order_items").insert({order_id:p.id,product_id:B.id,product_name:B.name,quantity:S,price:B.price});N?console.error("Error inserting order item:",N):m.push({product_name:B.name,quantity:S,price:B.price})}}await yK({...p,_customerData:g,_orderItems:m}),he({title:"Sukses",description:`Notifikasi order berhasil dikirim ke admin. Order ID: ${p.id}`}),console.log("Test order created:",{order:p,customer:g,items:m})}catch(p){console.error("Error creating test order:",p),he({title:"Error",description:p instanceof Error?p.message:"Gagal membuat order test",variant:"destructive"})}finally{e(!1)}};return i.jsxs(xe,{className:"w-full",children:[i.jsx(nt,{children:i.jsx(at,{children:"Test Notifikasi Order"})}),i.jsx(be,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between space-x-2 rounded-lg border p-3 mb-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Ne,{children:"Status Izin Notifikasi"}),i.jsx("p",{className:"text-sm",children:"Notification"in window?A==="granted"?i.jsx("span",{className:"text-green-500",children:"Izin diberikan"}):A==="denied"?i.jsx("span",{className:"text-red-500",children:"Izin ditolak (buka pengaturan browser untuk mengizinkan)"}):i.jsx("span",{className:"text-amber-500",children:"Izin belum diminta"}):i.jsx("span",{className:"text-red-500",children:"Browser tidak mendukung notifikasi"})})]}),"Notification"in window&&A!=="granted"&&A!=="denied"&&i.jsx(V,{variant:"outline",size:"sm",onClick:h,disabled:t,children:"Minta Izin"})]}),i.jsxs("div",{className:"flex items-center justify-between space-x-2 rounded-lg border p-3 mb-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Ne,{children:"Gunakan Data Dummy"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Aktifkan untuk menggunakan data dummy tanpa perlu data pelanggan nyata"})]}),i.jsx(Ja,{checked:o,onCheckedChange:l})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"customerId",children:o?"ID Pelanggan (Opsional)":"ID Pelanggan"}),i.jsx(le,{id:"customerId",placeholder:o?"Opsional - akan dibuat otomatis jika kosong":"Masukkan ID pelanggan",value:r,onChange:p=>n(p.target.value),disabled:t}),!o&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"ID pelanggan wajib diisi jika tidak menggunakan data dummy"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"orderTotal",children:"Total Order (Rp)"}),i.jsx(le,{id:"orderTotal",type:"number",value:a,onChange:p=>s(Number(p.target.value)),min:1e4,disabled:t})]}),i.jsx(V,{onClick:f,disabled:t,className:"w-full",children:t?i.jsxs(i.Fragment,{children:[i.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Kirim Notifikasi Order"}),i.jsx("p",{className:"text-xs text-center text-muted-foreground mt-2",children:"Notifikasi akan muncul di notification bar browser jika izin notifikasi telah diberikan"})]})})]})}const oLe={monday:"Senin",tuesday:"Selasa",wednesday:"Rabu",thursday:"Kamis",friday:"Jumat",saturday:"Sabtu",sunday:"Minggu"};function lLe(){const[t,e]=v.useState(null),[r,n]=v.useState(!0),[a,s]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(null),[A,d]=v.useState(""),[h,f]=v.useState(""),[p,g]=v.useState(!1),m=async()=>{n(!0);try{const B=await Yl.getBusinessHours();e(B),g(!1);const S=await Yl.getCurrentStatus();u(S),f(new Date().toLocaleString("id-ID",{dateStyle:"medium",timeStyle:"short",timeZone:"Asia/Jakarta"}))}catch(B){console.error("Error fetching business hours:",B),he({title:"Error",description:"Gagal mengambil data jam kerja",variant:"destructive"})}finally{n(!1)}};v.useEffect(()=>{m();const B=J.channel("business-hours-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"settings",filter:"key=eq.business_hours"},S=>{console.debug("Business hours diubah:",S),!a&&!p&&(m(),he({title:"Info",description:"Pengaturan jam kerja telah diperbarui oleh admin lain"}))}).subscribe();return()=>{J.removeChannel(B)}},[a,p]);const x=B=>{t&&(e({...t,isEnabled:B}),g(!0))},b=(B,S)=>{if(!t)return;const N=[...t.workingDays];N[B]={...N[B],isActive:S},e({...t,workingDays:N}),g(!0)},_=(B,S,N)=>{if(!t)return;const I=[...t.workingDays];I[B]={...I[B],[S]:N},e({...t,workingDays:I}),g(!0)},w=B=>{if(!B.openTime||!B.closeTime)return!1;const[S,N]=B.openTime.split(":").map(Number),[I,P]=B.closeTime.split(":").map(Number),T=S*60+N;return I*60+P<T},C=B=>{t&&(e({...t,offWorkMessage:B}),g(!0))},E=async()=>{if(confirm("Anda yakin ingin mengembalikan pengaturan jam kerja ke default?")){l(!0);try{const B=await Yl.resetToDefault();B.success?(he({title:"Berhasil",description:B.message}),await m()):he({title:"Error",description:B.message,variant:"destructive"})}catch(B){console.error("Error resetting business hours:",B),he({title:"Error",description:"Gagal mereset pengaturan jam kerja",variant:"destructive"})}finally{l(!1)}}},j=async()=>{if(t){s(!0);try{const B=await Yl.updateBusinessHours(t);if(B.success){he({title:"Berhasil",description:B.message});const S=await Yl.getCurrentStatus();u(S),g(!1),f(new Date().toLocaleString("id-ID",{dateStyle:"medium",timeStyle:"short",timeZone:"Asia/Jakarta"}))}else he({title:"Warning",description:B.message,variant:"destructive"})}catch(B){console.error("Error saving business hours:",B),he({title:"Error",description:"Gagal menyimpan pengaturan jam kerja: "+(B instanceof Error?B.message:"Unknown error"),variant:"destructive"})}finally{s(!1)}}};return r?i.jsxs(xe,{children:[i.jsxs(nt,{children:[i.jsxs(at,{className:"flex items-center",children:[i.jsx(PA,{className:"mr-2 h-5 w-5"}),"Pengaturan Jam Kerja"]}),i.jsx(nr,{children:"Memuat data dari database..."})]}),i.jsx(be,{children:i.jsx("div",{className:"flex justify-center items-center p-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-gray-900"})})})]}):i.jsxs(xe,{children:[i.jsxs(nt,{children:[i.jsxs(at,{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(PA,{className:"mr-2 h-5 w-5"}),"Pengaturan Jam Kerja"]}),p&&i.jsxs(yt,{variant:"outline",className:"ml-2 text-amber-500 border-amber-500",children:[i.jsx(Df,{className:"h-3 w-3 mr-1"})," Belum Disimpan"]})]}),i.jsx(nr,{children:h?`Terakhir diperbarui: ${h}`:"Data dari database Supabase"})]}),i.jsx(be,{children:i.jsxs("div",{className:"space-y-6",children:[c&&i.jsxs("div",{className:"mb-4 p-3 rounded bg-gray-100 dark:bg-gray-800",children:[i.jsx("h3",{className:"text-sm font-medium mb-1",children:"Status Saat Ini:"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(yt,{className:c.isOpen?"bg-green-500":"bg-red-500",children:c.isOpen?"BUKA":"TUTUP"}),i.jsx("span",{className:"ml-2 text-sm",children:c.message})]}),i.jsx("div",{className:"mt-2 text-xs text-gray-500",children:i.jsxs(V,{variant:"outline",size:"sm",onClick:m,className:"h-7 text-xs",children:[i.jsx(Rf,{className:"h-3 w-3 mr-1"})," Refresh Status"]})})]}),i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ja,{id:"business-hours-toggle",checked:t.isEnabled,onCheckedChange:x}),i.jsx(Ne,{htmlFor:"business-hours-toggle",className:"font-medium",children:"Aktifkan sistem jam kerja"})]}),c&&i.jsx(yt,{variant:c.isOpen?"outline":"destructive",className:"ml-auto",children:c.isOpen?"Buka":"Tutup"})]}),i.jsx("div",{className:"bg-slate-50 border border-slate-100 rounded-md p-4 mb-6",children:i.jsxs("div",{className:"flex items-start text-sm text-slate-600",children:[i.jsx($B,{className:"h-5 w-5 mr-2 text-blue-500 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"mb-1",children:i.jsx("strong",{children:"Tentang Fitur Jam Kerja:"})}),i.jsx("p",{children:"Saat aktif, sistem ini akan membatasi akses pelanggan ke aplikasi hanya pada jam operasional yang ditentukan."}),i.jsx("p",{children:"Di luar jam tersebut, pelanggan akan melihat pesan yang Anda tentukan dan tidak dapat mengakses aplikasi."}),i.jsxs("p",{className:"mt-1",children:[i.jsx("strong",{children:"Jam Operasional Melewati Tengah Malam:"})," Jika toko Anda buka melewati tengah malam (misalnya 20:00 - 02:00), atur jam buka lebih besar dari jam tutup."]})]})]})}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-4",children:"Jadwal Jam Kerja"}),i.jsx("div",{className:"space-y-4",children:t.workingDays.map((B,S)=>i.jsxs("div",{className:"flex items-center space-x-4 p-3 border rounded-md bg-white",children:[i.jsxs("div",{className:"flex items-center space-x-2 w-28",children:[i.jsx(Ja,{id:`day-${B.day}`,checked:B.isActive,onCheckedChange:N=>b(S,N)}),i.jsx(Ne,{htmlFor:`day-${B.day}`,className:B.isActive?"":"text-gray-400",children:oLe[B.day]})]}),i.jsxs("div",{className:`flex-1 flex items-center space-x-2 ${B.isActive?"":"opacity-50"}`,children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ne,{htmlFor:`open-${B.day}`,className:"mr-2 text-sm whitespace-nowrap",children:"Buka:"}),i.jsx(le,{id:`open-${B.day}`,type:"time",value:B.openTime,onChange:N=>_(S,"openTime",N.target.value),disabled:!B.isActive,className:"w-28","aria-label":"Jam buka"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ne,{htmlFor:`close-${B.day}`,className:"mx-2 text-sm whitespace-nowrap",children:"Tutup:"}),i.jsx(le,{id:`close-${B.day}`,type:"time",value:B.closeTime,onChange:N=>_(S,"closeTime",N.target.value),disabled:!B.isActive,className:"w-28","aria-label":"Jam tutup"}),B.isActive&&w(B)&&i.jsx("span",{className:"text-xs text-amber-600 ml-2",children:i.jsx(G6,{children:i.jsxs(fne,{children:[i.jsx(mne,{children:i.jsx($B,{className:"h-4 w-4 inline"})}),i.jsx(z6,{children:i.jsx("p",{children:"Jam tutup lebih awal dari jam buka. Ini akan dianggap sebagai jam kerja yang melewati tengah malam."})})]})})})]})]})]},B.day))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx(Ne,{htmlFor:"off-work-message",className:"font-medium block mb-2",children:"Pesan Di Luar Jam Kerja"}),i.jsx(Cl,{id:"off-work-message",value:t.offWorkMessage,onChange:B=>C(B.target.value),placeholder:"Masukkan pesan yang akan ditampilkan ketika aplikasi di luar jam kerja",className:"min-h-[100px]"})]}),i.jsxs("div",{className:"bg-slate-50 border border-slate-100 rounded-md p-4 mb-6",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Uji Pengaturan Jam Kerja"}),i.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Masukkan waktu untuk menguji apakah toko akan terbuka atau tertutup pada waktu tersebut."}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(le,{type:"time",value:A,onChange:B=>d(B.target.value),className:"w-40",placeholder:"HH:MM"}),i.jsx(V,{variant:"outline",onClick:()=>{if(A&&t){const[B,S]=A.split(":").map(Number),N=new Date;N.setHours(B,S,0);const I=Date.now;Date.now=()=>N.getTime();const P=Date;Date=class extends P{constructor(){return super(),arguments.length===0?N:new P(...arguments)}},Yl.getCurrentStatus().then(T=>{Date.now=I,Date=P,he({title:T.isOpen?"Toko Terbuka":"Toko Tertutup",description:T.isOpen?`Pada pukul ${A}, toko akan terbuka.`:`Pada pukul ${A}, toko akan tertutup. Pesan: ${T.message}`,variant:T.isOpen?"default":"destructive"})})}else he({title:"Waktu tidak valid",description:"Masukkan waktu yang valid untuk pengujian",variant:"destructive"})},children:"Uji Waktu"})]})]}),i.jsxs("div",{className:"flex justify-between items-center mt-6",children:[i.jsx(V,{type:"button",variant:"outline",disabled:o||a,onClick:E,className:"flex items-center",children:o?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin h-4 w-4 mr-1 border-2 border-gray-300 rounded-full"}),"Reset..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rf,{className:"h-4 w-4 mr-1"}),"Reset ke Default"]})}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(V,{type:"button",variant:"secondary",disabled:!p||a,onClick:m,children:"Batalkan Perubahan"}),i.jsx(V,{type:"button",disabled:a||!p,onClick:j,className:"flex items-center",children:a?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin h-4 w-4 mr-1 border-2 border-white rounded-full"}),"Menyimpan..."]}):i.jsxs(i.Fragment,{children:[i.jsx(yee,{className:"h-4 w-4 mr-1"}),"Simpan ke Database"]})})]})]})]})}),i.jsxs(Ga,{className:"border-t p-4 text-xs text-gray-500 flex justify-between items-center",children:[i.jsxs("div",{children:["Data disimpan di tabel ",i.jsx("code",{children:"settings"})," di Supabase"]}),i.jsx("div",{className:"flex items-center",children:p?i.jsxs(yt,{variant:"outline",className:"text-amber-500 border-amber-500",children:[i.jsx(Df,{className:"h-3 w-3 mr-1"})," Ada perubahan belum disimpan"]}):i.jsxs(yt,{variant:"outline",className:"text-green-500 border-green-500",children:[i.jsx(YZ,{className:"h-3 w-3 mr-1"})," Tersimpan"]})})]})]})}const cLe=ks({name:ar().min(1,"Nama wajib diisi"),email:ar().email("Alamat email tidak valid"),currentPassword:ar().optional(),newPassword:ar().min(6,"Kata sandi minimal 6 karakter").optional(),confirmPassword:ar().optional()}).refine(t=>!(t.newPassword&&t.newPassword!==t.confirmPassword),{message:"Kata sandi tidak cocok",path:["confirmPassword"]}),uLe=ks({storeName:ar().min(1,"Nama toko wajib diisi"),contactEmail:ar().email("Alamat email tidak valid"),currency:ar().min(1,"Mata uang wajib diisi")}),ALe=ks({enableOrderNotifications:al().default(!0),enableChatNotifications:al().default(!0),enableSoundNotifications:al().default(!0)});function dLe(){const{user:t,profile:e,refreshProfile:r}=Ir(),[n,a]=v.useState(!1),[s,o]=v.useState(!1),[l,c]=v.useState(!1),[u,A]=v.useState(null),[d,h]=v.useState({storeName:"Toko E-commerce Saya",contactEmail:"contact@example.com",currency:"IDR"}),f=Jn({resolver:Yn(cLe),defaultValues:{name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",currentPassword:"",newPassword:"",confirmPassword:""}}),p=Jn({resolver:Yn(uLe),defaultValues:{storeName:d.storeName,contactEmail:d.contactEmail,currency:d.currency}}),g=Jn({resolver:Yn(ALe),defaultValues:{enableOrderNotifications:!0,enableChatNotifications:!0,enableSoundNotifications:!0}});v.useEffect(()=>{e&&f.reset({name:e.name||"",email:e.email||"",currentPassword:"",newPassword:"",confirmPassword:""})},[e]),v.useEffect(()=>{x(),b(),m()},[]);const m=()=>{typeof Notification<"u"&&A(Notification.permission)},x=async()=>{try{const N=localStorage.getItem("storeSettings");if(N){const I=JSON.parse(N);h(I),p.reset({storeName:I.storeName,contactEmail:I.contactEmail,currency:I.currency})}}catch(N){console.error("Error fetching store settings:",N)}},b=async()=>{try{const N=localStorage.getItem("notificationSettings");if(N){const I=JSON.parse(N);g.reset({enableOrderNotifications:I.enableOrderNotifications,enableChatNotifications:I.enableChatNotifications,enableSoundNotifications:I.enableSoundNotifications})}}catch(N){console.error("Error fetching notification settings:",N)}},_=async N=>{if(t){a(!0);try{const{error:I}=await J.from("profiles").update({name:N.name}).eq("id",t.id);if(I)throw I;if(N.email&&N.email!==t.email){const{error:P}=await J.auth.updateUser({email:N.email});if(P)throw P}if(N.newPassword){if(N.newPassword!==N.confirmPassword){he({title:"Error",description:"Kata sandi tidak cocok",variant:"destructive"});return}const{error:P}=await J.auth.updateUser({password:N.newPassword});if(P)throw P}he({title:"Profil diperbarui",description:"Profil Anda telah berhasil diperbarui"}),f.reset({name:N.name,email:N.email,currentPassword:"",newPassword:"",confirmPassword:""}),await r()}catch(I){console.error("Error updating settings:",I),he({title:"Error memperbarui profil",description:I.message||"Terjadi kesalahan saat memperbarui profil Anda",variant:"destructive"})}finally{a(!1)}}},w=async N=>{o(!0);try{const I={storeName:N.storeName,contactEmail:N.contactEmail,currency:N.currency};localStorage.setItem("storeSettings",JSON.stringify(I)),h(I),he({title:"Pengaturan toko diperbarui",description:"Pengaturan toko Anda telah berhasil diperbarui"})}catch(I){console.error("Error updating store settings:",I),he({title:"Error memperbarui pengaturan toko",description:"Terjadi kesalahan saat memperbarui pengaturan toko Anda",variant:"destructive"})}finally{o(!1)}},C=async()=>{try{he({title:"Pemeliharaan database",description:"Vakum database berhasil diselesaikan"}),setTimeout(()=>{he({title:"Pemeliharaan database",description:"Vakum database berhasil diselesaikan"})},2e3)}catch(N){he({title:"Error running vacuum operation",description:N.message||"Terjadi kesalahan saat menjalankan operasi vakum",variant:"destructive"})}},E=async()=>{try{he({title:"Menghapus log lama",description:"Log lama berhasil dihapus"}),setTimeout(()=>{he({title:"Menghapus log lama",description:"Log lama berhasil dihapus"})},2e3)}catch(N){he({title:"Error menghapus log lama",description:N.message||"Terjadi kesalahan saat menghapus log lama",variant:"destructive"})}},j=async()=>{c(!0);try{if(!t)return;const N=await Notification.requestPermission();if(A(N),N==="granted")if(await eS(t.id))he({title:"Notifikasi diaktifkan",description:"Anda akan menerima notifikasi pesanan baru"});else throw new Error("Gagal mendapatkan token notifikasi");else he({title:"Izin notifikasi ditolak",description:"Anda tidak akan menerima notifikasi. Ubah pengaturan browser untuk mengizinkan notifikasi.",variant:"destructive"})}catch(N){console.error("Error requesting notification permission:",N),he({title:"Error mengaktifkan notifikasi",description:N.message||"Terjadi kesalahan saat mengaktifkan notifikasi",variant:"destructive"})}finally{c(!1)}},B=async N=>{c(!0);try{localStorage.setItem("notificationSettings",JSON.stringify(N)),N.enableOrderNotifications&&u==="granted"&&t&&await eS(t.id),he({title:"Pengaturan notifikasi diperbarui",description:"Preferensi notifikasi Anda telah berhasil diperbarui"})}catch(I){console.error("Error updating notification settings:",I),he({title:"Error memperbarui pengaturan notifikasi",description:I.message||"Terjadi kesalahan saat memperbarui pengaturan notifikasi",variant:"destructive"})}finally{c(!1)}},S=async()=>{try{if(Notification.permission!=="granted"){he({title:"Izin notifikasi tidak diberikan",description:"Harap berikan izin notifikasi terlebih dahulu",variant:"destructive"});return}const N=new Notification("Notifikasi Uji Coba",{body:"Ini adalah notifikasi uji coba. Jika Anda melihat ini, berarti notifikasi berfungsi dengan baik!",icon:"/logo192.png"});he({title:"Notifikasi uji coba dikirim",description:"Periksa notifikasi browser Anda"}),new Audio("/sounds/new_order_sound.mp3").play().catch(P=>console.log("Error playing notification sound:",P))}catch(N){console.error("Error testing notification:",N),he({title:"Error mengirim notifikasi uji coba",description:N.message||"Terjadi kesalahan saat mengirim notifikasi uji coba",variant:"destructive"})}};return i.jsxs(jn,{children:[i.jsx("div",{className:"mb-6",children:i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Pengaturan"})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs(xe,{children:[i.jsx(nt,{children:i.jsx(at,{children:"Pengaturan Profil"})}),i.jsx(be,{children:i.jsx(Ln,{...f,children:i.jsxs("form",{onSubmit:f.handleSubmit(_),className:"space-y-6",children:[i.jsx(Qe,{control:f.control,name:"name",render:({field:N})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Nama"}),i.jsx(Me,{children:i.jsx(le,{...N})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:f.control,name:"email",render:({field:N})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Email"}),i.jsx(Me,{children:i.jsx(le,{type:"email",...N})}),i.jsx($e,{})]})}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx("h3",{className:"text-lg font-medium mb-4",children:"Ubah Kata Sandi"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(Qe,{control:f.control,name:"currentPassword",render:({field:N})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Kata Sandi Saat Ini"}),i.jsx(Me,{children:i.jsx(le,{type:"password",...N})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:f.control,name:"newPassword",render:({field:N})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Kata Sandi Baru"}),i.jsx(Me,{children:i.jsx(le,{type:"password",...N})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:f.control,name:"confirmPassword",render:({field:N})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Konfirmasi Kata Sandi"}),i.jsx(Me,{children:i.jsx(le,{type:"password",...N})}),i.jsx($e,{})]})})]})]}),i.jsx(V,{type:"submit",disabled:n,children:n?"Menyimpan...":"Simpan Perubahan"})]})})})]}),i.jsxs("div",{className:"space-y-8",children:[i.jsxs(xe,{children:[i.jsx(nt,{children:i.jsx(at,{children:"Pengaturan Toko"})}),i.jsx(be,{children:i.jsx(Ln,{...p,children:i.jsxs("form",{onSubmit:p.handleSubmit(w),className:"space-y-4",children:[i.jsx(Qe,{control:p.control,name:"storeName",render:({field:N})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Nama Toko"}),i.jsx(Me,{children:i.jsx(le,{...N})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:p.control,name:"contactEmail",render:({field:N})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Email Kontak"}),i.jsx(Me,{children:i.jsx(le,{type:"email",...N})}),i.jsx($e,{})]})}),i.jsx(Qe,{control:p.control,name:"currency",render:({field:N})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Mata Uang"}),i.jsx(Me,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...N,children:[i.jsx("option",{value:"IDR",children:"IDR (Rp)"}),i.jsx("option",{value:"USD",children:"USD ($)"}),i.jsx("option",{value:"EUR",children:"EUR (€)"}),i.jsx("option",{value:"GBP",children:"GBP (£)"})]})}),i.jsx($e,{})]})}),i.jsx(V,{type:"submit",disabled:s,children:s?"Menyimpan...":"Simpan Pengaturan Toko"})]})})})]}),i.jsxs(xe,{children:[i.jsx(nt,{children:i.jsx(at,{children:"Pemeliharaan Database"})}),i.jsxs(be,{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Jalankan operasi pemeliharaan pada database Anda. Operasi ini dapat membantu meningkatkan kinerja dan integritas data."}),i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx(V,{variant:"outline",onClick:C,children:"Jalankan Vakum Database"}),i.jsx(V,{variant:"outline",onClick:E,children:"Bersihkan Log Lama"})]})]})]}),i.jsxs(xe,{children:[i.jsx(nt,{children:i.jsxs(at,{className:"flex items-center gap-2",children:[i.jsx(hT,{className:"h-5 w-5"}),i.jsx("span",{children:"Pengaturan Notifikasi"})]})}),i.jsx(be,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"pb-4 border-b",children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Izin Notifikasi Browser"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["Status izin: ",i.jsx("span",{className:`font-medium ${u==="granted"?"text-green-600":"text-orange-600"}`,children:u==="granted"?"Diizinkan":u==="denied"?"Ditolak (ubah di pengaturan browser)":"Belum diminta"})]}),u==="denied"&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-500 mt-1",children:[i.jsx(o0,{className:"h-4 w-4"}),i.jsx("span",{children:"Anda telah menolak izin notifikasi. Harap ubah di pengaturan browser Anda."})]})]}),i.jsx(V,{variant:"outline",disabled:u==="denied"||l,onClick:j,children:l?"Mengizinkan...":"Izinkan Notifikasi"})]})]}),i.jsx(Ln,{...g,children:i.jsxs("form",{onSubmit:g.handleSubmit(B),className:"space-y-4",children:[i.jsx(Qe,{control:g.control,name:"enableOrderNotifications",render:({field:N})=>i.jsxs(Re,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Ue,{children:"Notifikasi Pesanan Baru"}),i.jsx(Kv,{children:"Terima notifikasi saat ada pesanan baru dari pelanggan"})]}),i.jsx(Me,{children:i.jsx(Ja,{checked:N.value,onCheckedChange:N.onChange,disabled:u!=="granted"})})]})}),i.jsx(Qe,{control:g.control,name:"enableChatNotifications",render:({field:N})=>i.jsxs(Re,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Ue,{children:"Notifikasi Pesan Chat"}),i.jsx(Kv,{children:"Terima notifikasi saat ada pesan baru dari pelanggan"})]}),i.jsx(Me,{children:i.jsx(Ja,{checked:N.value,onCheckedChange:N.onChange,disabled:u!=="granted"})})]})}),i.jsx(Qe,{control:g.control,name:"enableSoundNotifications",render:({field:N})=>i.jsxs(Re,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Ue,{children:"Notifikasi Suara"}),i.jsx(Kv,{children:"Putar suara saat menerima notifikasi baru"})]}),i.jsx(Me,{children:i.jsx(Ja,{checked:N.value,onCheckedChange:N.onChange})})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(V,{type:"submit",disabled:l||u!=="granted",children:l?"Menyimpan...":"Simpan Pengaturan"}),i.jsx(V,{type:"button",variant:"outline",onClick:S,disabled:u!=="granted",children:"Uji Notifikasi"})]})]})})]})})]}),i.jsxs(xe,{className:"mb-8",children:[i.jsx(nt,{children:i.jsxs(at,{className:"flex items-center",children:[i.jsx(PA,{className:"mr-2 h-5 w-5"}),"Pengaturan Jam Kerja"]})}),i.jsx(be,{children:i.jsx("div",{className:"space-y-6",children:i.jsx(lLe,{})})})]}),i.jsxs(xe,{className:"mb-8",children:[i.jsx(nt,{children:i.jsx(at,{children:"Test Notifikasi Real-time"})}),i.jsx(be,{children:i.jsx("div",{className:"space-y-6",children:i.jsx(iLe,{})})})]})]})]})]})}function hLe(){const[t,e]=v.useState([]),[r,n]=v.useState([]),[a,s]=v.useState(""),[o,l]=v.useState(!0),[c,u]=v.useState(0),{user:A}=Ir(),d=v.useRef(null),h=()=>{d.current&&d.current.unsubscribe();const m=J.channel("public:messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},x=>{console.log("Pesan baru diterima:",x),x.new&&x.new.sender_id!==(A==null?void 0:A.id)&&(x.new.read===!1||x.new.read===null||x.new.read===void 0)&&(u(w=>w+1),he({title:"Pesan Baru Diterima",description:`Ada pesan baru dari pelanggan: ${x.new.content.substring(0,30)}${x.new.content.length>30?"...":""}`,variant:"default"}),new Audio("/notification.mp3").play().catch(w=>console.log("Error playing notification sound:",w))),f()}).subscribe();return d.current=m,()=>{m.unsubscribe()}};v.useEffect(()=>{if(A)return h()},[A]),v.useEffect(()=>{A&&f()},[A]);const f=async()=>{var m,x,b;try{l(!0);const{data:_,error:w}=await J.from("profiles").select("*").eq("role","customer");if(w)throw w;const C=[];for(const j of _||[]){const{data:B,error:S}=await J.from("profiles").select("*").eq("id",j.id).single();S&&console.error("Error fetching customer details:",S);const{data:N,error:I}=await J.from("messages").select(`
            *,
            profiles:sender_id(name, email)
          `).or(`sender_id.eq.${j.id},receiver_id.eq.${j.id}`).order("created_at",{ascending:!1}),P=N?N.filter(q=>q.sender_id===j.id&&q.read===!1).length:0;P>0&&console.log(`${P} pesan belum dibaca dari pelanggan:`,j.name),I&&console.error("Error fetching messages for user:",I);const T=`admin_chat_${j.id}`,U=localStorage.getItem(T);let M="",R="",F=null,D=null;if(U)try{const q=JSON.parse(U);q.length>0&&(F=q[q.length-1])}catch(q){console.error("Error parsing stored messages",q)}if(N&&N.length>0){const q=N[0],se=((m=q.profiles)==null?void 0:m.name)||j.name;D={content:q.content,timestamp:q.created_at,sender_id:q.sender_id,senderName:se},console.log(`${N.length} pesan ditemukan untuk pelanggan:`,j.name),N.forEach((Ae,oe)=>{console.log(`Pesan #${oe+1}:`,{content:Ae.content,timestamp:new Date(Ae.created_at).toLocaleString("id-ID"),isFromCustomer:Ae.sender_id===j.id})})}let Q=!1;if(F&&D){const q=new Date(F.timestamp).getTime(),se=new Date(D.timestamp).getTime();q>se?(M=F.content,R=F.timestamp,Q=F.sender!=="admin"):(M=D.content,R=D.timestamp,Q=D.sender_id===j.id)}else F?(M=F.content,R=F.timestamp,Q=F.sender!=="admin"):D&&(M=D.content,R=D.timestamp,Q=D.sender_id===j.id);let H,G="",X="",te=!1,Z=null;if(N&&N.length>0){console.log(`Semua pesan untuk ${j.name}:`,N.length,"pesan ditemukan");const q=N.filter(Ae=>Ae.sender_id===j.id&&(Ae.read===!1||Ae.read===null||Ae.read===void 0));q.length>0&&(console.log("Pesan belum dibaca ditemukan:",q.length,"pesan"),console.log("Sample pesan belum dibaca:",q[0]));const se=N.filter(Ae=>Ae.sender_id===j.id);if(se.length>0&&console.log(`Pesan dari pelanggan ${j.name}:`,se.length,"pesan"),q.length>0)Z=q[0],H=((x=Z.profiles)==null?void 0:x.name)||(B==null?void 0:B.name)||j.name||j.email||"Pelanggan",G=Z.content,X=Z.id,te=!0,Q=!0;else if(se.length>0)Z=se[0],H=((b=Z.profiles)==null?void 0:b.name)||(B==null?void 0:B.name)||j.name||j.email||"Pelanggan",G=Z.content,X=Z.id,te=!1,Q=!0;else{const Ae=N[0];H="Admin",G=Ae.content,X=Ae.id,te=!1,Q=!1}}else{if(B){console.log("Detail customer ditemukan:",B),H=B.name||j.name||j.email||"Pelanggan";const{data:q}=await J.from("messages").select("content, created_at").eq("sender_id",j.id).order("created_at",{ascending:!1}).limit(1);q&&q.length>0?(G=q[0].content,console.log("Pesan terbaru ditemukan:",G)):G=B.last_seen?`Terakhir aktif: ${new Date(B.last_seen).toLocaleString("id-ID")}`:"Belum ada riwayat pesan"}else H=j.name||j.email||"Pelanggan",G="Pelanggan baru mendaftar";Q=!0,te=!1}C.push({id:j.id,name:j.name||j.email||"Pelanggan Tidak Dikenal",lastMessage:G||M,lastTimestamp:R,unread:te,messageId:X,isFromCustomer:Q,senderName:H})}let E=0;for(const j of C)if(j.lastTimestamp&&j.isFromCustomer){const B=new Date(j.lastTimestamp).getTime();E=Math.max(E,B)}console.log("Timestamp pesan terbaru dari pelanggan:",new Date(E).toLocaleString("id-ID"));for(const j of C)if(j.lastTimestamp&&j.isFromCustomer){const B=new Date(j.lastTimestamp).getTime();B===E&&(j.isLatestCustomerMessage=!0,console.log("Pelanggan dengan pesan terbaru:",j.name,"pada",new Date(B).toLocaleString("id-ID")))}C.sort((j,B)=>{if(j.isLatestCustomerMessage&&!B.isLatestCustomerMessage)return-1;if(!j.isLatestCustomerMessage&&B.isLatestCustomerMessage)return 1;if(!j.lastTimestamp&&!B.lastTimestamp)return j.isFromCustomer&&!B.isFromCustomer?-1:!j.isFromCustomer&&B.isFromCustomer?1:0;if(!j.lastTimestamp)return 1;if(!B.lastTimestamp)return-1;const S=new Date(j.lastTimestamp).getTime(),N=new Date(B.lastTimestamp).getTime();return S!==N?N-S:j.isFromCustomer&&!B.isFromCustomer?-1:!j.isFromCustomer&&B.isFromCustomer?1:j.unread&&!B.unread?-1:!j.unread&&B.unread?1:j.name.localeCompare(B.name)}),console.log("Daftar chat yang sudah diurutkan:",C.map(j=>({name:j.name,timestamp:j.lastTimestamp?new Date(j.lastTimestamp).toLocaleString("id-ID"):"tidak ada",isFromCustomer:j.isFromCustomer,unread:j.unread}))),e(C)}catch(_){console.error("Error fetching chat users:",_)}finally{l(!1)}},p=async m=>{if(m.unread&&m.messageId){console.log("Menandai pesan sebagai sudah dibaca:",m.messageId);try{const{error:x}=await J.from("messages").update({read:!0}).eq("id",m.messageId);if(x)throw x;u(b=>Math.max(0,b-1)),f(),console.log("Pesan berhasil ditandai sebagai dibaca")}catch(x){console.error("Error menandai pesan sebagai dibaca:",x),console.log("Mencoba fallback untuk database lama..."),he({title:"Perhatian",description:"Perlu update skema database untuk fitur 'sudah dibaca'",variant:"default"})}}};v.useEffect(()=>{const m=a?t.filter(x=>x.name.toLowerCase().includes(a.toLowerCase())):t;n(m)},[a,t,c]);const g=m=>{if(!m)return"";const x=new Date(m),_=new Date().getTime()-x.getTime(),w=60*1e3,C=60*w,E=24*C,j=7*E,B=30*E;return _<w?"Baru saja":_<C?`${Math.floor(_/w)} menit yang lalu`:_<E?`${Math.floor(_/C)} jam yang lalu`:_<j?`${Math.floor(_/E)} hari yang lalu`:_<B?`${Math.floor(_/j)} minggu yang lalu`:x.toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})};return i.jsx(jn,{children:i.jsx("div",{className:"p-4 max-w-4xl mx-auto",children:i.jsxs(xe,{children:[i.jsx(nt,{children:i.jsx("div",{className:"flex justify-between items-center",children:i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(at,{children:"Obrolan Pelanggan"}),c>0&&i.jsxs("div",{className:"bg-orange-500 text-white px-2 py-1 rounded-full text-xs font-bold flex items-center animate-pulse",children:[i.jsx(hT,{className:"h-3 w-3 mr-1"}),c," baru"]})]}),i.jsx(nr,{children:"Kelola percakapan dukungan pelanggan secara realtime"})]})})}),i.jsxs(be,{children:[i.jsxs("div",{className:"relative mb-6",children:[i.jsx(Sl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),i.jsx(le,{placeholder:"Cari pelanggan...",className:"pl-10",value:a,onChange:m=>s(m.target.value)})]}),i.jsxs("div",{className:"space-y-1",children:[c>0&&i.jsx(V,{variant:"ghost",onClick:async()=>{try{const{data:m,error:x}=await J.from("messages").select("id").eq("receiver_id",A==null?void 0:A.id).is("read",null);if(x)throw x;const{error:b}=await J.from("messages").update({read:!0}).eq("read",!1).eq("receiver_id",A==null?void 0:A.id);if(b)throw b;if(m&&m.length>0){const{error:_}=await J.from("messages").update({read:!0}).is("read",null).eq("receiver_id",A==null?void 0:A.id);if(_)throw _}u(0),f(),he({title:"Berhasil",description:"Semua pesan telah ditandai sebagai dibaca",variant:"default"})}catch(m){console.error("Error menandai semua pesan sebagai dibaca:",m),he({title:"Error",description:"Gagal menandai pesan sebagai dibaca",variant:"destructive"})}},className:"w-full text-center text-sm text-flame-500 hover:bg-orange-50 mb-2",children:"Tandai semua sebagai telah dibaca"}),o?i.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Memuat obrolan pelanggan..."}):r.length===0?i.jsx("p",{className:"text-center text-muted-foreground py-4",children:a?"Tidak ada pelanggan yang sesuai dengan pencarian":"Belum ada obrolan pelanggan"}):r.map(m=>i.jsx(ct,{to:`/admin/chat/${m.id}`,className:"block",onClick:()=>p(m),children:i.jsx(V,{variant:m.isFromCustomer?"default":"ghost",className:`w-full justify-start px-3 py-6 h-auto ${m.isFromCustomer?"bg-orange-100 border-2 border-orange-400 shadow-md hover:bg-orange-200":"hover:bg-gray-100"}`,children:i.jsxs("div",{className:"flex items-center w-full",children:[i.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center mr-3 shrink-0 ${m.isFromCustomer?"bg-orange-400":"bg-charcoal-100"}`,children:i.jsx(OA,{className:`h-5 w-5 ${m.isFromCustomer?"text-white":"text-charcoal-500"}`})}),i.jsxs("div",{className:"flex-grow min-w-0",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:`truncate ${m.isFromCustomer?"font-bold text-orange-600":"font-medium"}`,children:m.name}),m.lastTimestamp&&i.jsx("span",{className:"text-xs text-muted-foreground ml-2 shrink-0",children:g(m.lastTimestamp)})]}),i.jsx("div",{className:"flex items-center",children:i.jsxs("div",{className:"flex items-center",children:[m.unread&&i.jsx("div",{className:"flex items-center bg-orange-500 text-white text-xs px-2 py-0.5 rounded-full mr-2 animate-pulse shadow-md",children:i.jsx("span",{children:"BARU"})}),i.jsx("p",{className:`text-sm truncate ${m.isFromCustomer?"text-orange-700 font-semibold":"text-muted-foreground"}`,children:i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"font-semibold",children:m.senderName||(m.isFromCustomer?m.name:"Admin")}),": ",m.lastMessage||"Memuat data pesan..."]})})]})})]})]})})},m.id))]})]})]})})})}function fLe(){const{customerId:t}=wp(),e=kt(),{user:r,profile:n}=Ir(),[a,s]=v.useState(""),[o,l]=v.useState(!0);return v.useEffect(()=>{(async()=>{if(!t){e("/admin/chats");return}try{l(!0);const{data:u,error:A}=await J.from("profiles").select("name, email").eq("id",t).single();if(A)throw A;s(u.name||u.email||"Pelanggan")}catch(u){console.error("Error fetching customer info:",u),e("/admin/chats")}finally{l(!1)}})()},[t,e]),!r||!n||n.role!=="admin"?i.jsx(jn,{children:i.jsx("div",{className:"flex items-center justify-center h-80",children:i.jsx("p",{className:"text-muted-foreground",children:"Akses tidak diizinkan"})})}):o||!t?i.jsx(jn,{children:i.jsx("div",{className:"flex items-center justify-center h-80",children:i.jsx(Kt,{className:"animate-spin h-8 w-8 text-flame-500"})})}):i.jsx(jn,{children:i.jsx("div",{className:"h-[calc(100vh-64px)]",children:i.jsx(qG,{chatPartnerId:t,chatPartnerName:a,isAdmin:!0})})})}var QJ="AlertDialog",[mLe,u5e]=fa(QJ,[Tq]),lo=Tq(),LJ=t=>{const{__scopeAlertDialog:e,...r}=t,n=lo(e);return i.jsx(qk,{...n,...r,modal:!0})};LJ.displayName=QJ;var pLe="AlertDialogTrigger",HJ=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=lo(r);return i.jsx(Gk,{...a,...n,ref:e})});HJ.displayName=pLe;var gLe="AlertDialogPortal",$J=t=>{const{__scopeAlertDialog:e,...r}=t,n=lo(e);return i.jsx(zk,{...n,...r})};$J.displayName=gLe;var vLe="AlertDialogOverlay",VJ=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=lo(r);return i.jsx(Pp,{...a,...n,ref:e})});VJ.displayName=vLe;var yA="AlertDialogContent",[yLe,xLe]=mLe(yA),KJ=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...a}=t,s=lo(r),o=v.useRef(null),l=pt(e,o),c=v.useRef(null);return i.jsx(Nme,{contentName:yA,titleName:qJ,docsSlug:"alert-dialog",children:i.jsx(yLe,{scope:r,cancelRef:c,children:i.jsxs(Op,{role:"alertdialog",...s,...a,ref:l,onOpenAutoFocus:Oe(a.onOpenAutoFocus,u=>{var A;u.preventDefault(),(A=c.current)==null||A.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(cT,{children:n}),i.jsx(wLe,{contentRef:o})]})})})});KJ.displayName=yA;var qJ="AlertDialogTitle",GJ=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=lo(r);return i.jsx(Fp,{...a,...n,ref:e})});GJ.displayName=qJ;var zJ="AlertDialogDescription",WJ=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=lo(r);return i.jsx(Dp,{...a,...n,ref:e})});WJ.displayName=zJ;var bLe="AlertDialogAction",XJ=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=lo(r);return i.jsx(X0,{...a,...n,ref:e})});XJ.displayName=bLe;var JJ="AlertDialogCancel",YJ=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:a}=xLe(JJ,r),s=lo(r),o=pt(e,a);return i.jsx(X0,{...s,...n,ref:o})});YJ.displayName=JJ;var wLe=({contentRef:t})=>{const e=`\`${yA}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${yA}\` by passing a \`${zJ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${yA}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},jLe=LJ,_Le=HJ,CLe=$J,ZJ=VJ,eY=KJ,tY=XJ,rY=YJ,nY=GJ,aY=WJ;const BLe=jLe,ELe=_Le,SLe=CLe,sY=v.forwardRef(({className:t,...e},r)=>i.jsx(ZJ,{className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));sY.displayName=ZJ.displayName;const iY=v.forwardRef(({className:t,...e},r)=>i.jsxs(SLe,{children:[i.jsx(sY,{}),i.jsx(eY,{ref:r,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));iY.displayName=eY.displayName;const oY=({className:t,...e})=>i.jsx("div",{className:de("flex flex-col space-y-2 text-center sm:text-left",t),...e});oY.displayName="AlertDialogHeader";const lY=({className:t,...e})=>i.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});lY.displayName="AlertDialogFooter";const cY=v.forwardRef(({className:t,...e},r)=>i.jsx(nY,{ref:r,className:de("text-lg font-semibold",t),...e}));cY.displayName=nY.displayName;const uY=v.forwardRef(({className:t,...e},r)=>i.jsx(aY,{ref:r,className:de("text-sm text-muted-foreground",t),...e}));uY.displayName=aY.displayName;const AY=v.forwardRef(({className:t,...e},r)=>i.jsx(tY,{ref:r,className:de(g0(),t),...e}));AY.displayName=tY.displayName;const dY=v.forwardRef(({className:t,...e},r)=>i.jsx(rY,{ref:r,className:de(g0({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));dY.displayName=rY.displayName;const NLe=async()=>{try{console.log("Mulai menambahkan voucher awal...");const{data:t,error:e}=await J.from("vouchers").select("id").limit(1);e&&await hY();const r=[{code:"WELCOME10",discount_type:"percentage",discount_value:10,min_purchase:1e5,max_discount:5e4,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+3)).toISOString(),usage_limit:100,usage_count:0,is_active:!0,description:"Diskon 10% untuk pelanggan baru dengan minimum pembelian Rp 100.000"},{code:"LIBURAN25",discount_type:"percentage",discount_value:25,min_purchase:2e5,max_discount:1e5,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString(),usage_limit:50,usage_count:0,is_active:!0,description:"Diskon liburan 25% dengan minimum pembelian Rp 200.000"},{code:"HEMAT50K",discount_type:"fixed",discount_value:5e4,min_purchase:25e4,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+2)).toISOString(),usage_limit:30,usage_count:0,is_active:!0,description:"Potongan langsung Rp 50.000 dengan minimum pembelian Rp 250.000"}];for(const n of r){const{data:a}=await J.from("vouchers").select("id").eq("code",n.code).maybeSingle();if(a)console.log(`Voucher ${n.code} sudah ada, melewati...`);else{const{data:s,error:o}=await J.from("vouchers").insert([n]);o?console.error(`Gagal menambahkan voucher ${n.code}:`,o):console.log(`Berhasil menambahkan voucher ${n.code}`)}}console.log("Selesai menambahkan voucher awal")}catch(t){console.error("Gagal menambahkan voucher awal:",t)}},hY=async()=>{try{console.log("Membuat tabel vouchers dengan metode sederhana...");const{error:t}=await J.from("vouchers").insert({id:nn(),code:"WELCOME10",discount_type:"percentage",discount_value:10,min_purchase:1e5,max_discount:5e4,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+3)).toISOString(),usage_limit:100,usage_count:0,is_active:!0,created_at:new Date().toISOString(),description:"Diskon 10% untuk pelanggan baru dengan minimum pembelian Rp 100.000"});if(t){console.error("Gagal membuat tabel dengan insert langsung:",t),console.log("Mencoba membuat tabel dengan metode REST API...");const n="https://vpztrjwitxvldrdhndlr.supabase.co/rest/v1/rpc/create_vouchers_table",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZwenRyandpdHh2bGRyZGhuZGxyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4MTE3NzIsImV4cCI6MjA2MzM4Nzc3Mn0._NFTwCpQGgMThUeh1sew8y5ulRXSGmwHLmXRQx544PM",s=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json",apikey:a,Authorization:`Bearer ${a}`}});s.ok?console.log("Tabel berhasil dibuat dengan metode REST API"):(console.error("REST API call failed:",await s.text()),console.log("Metode REST API gagal, mencoba metode terakhir - disable RLS dan insert"),await TLe())}else console.log("Berhasil menambahkan voucher pertama, tabel telah dibuat atau sudah ada");const{data:e,error:r}=await J.from("vouchers").select("id").limit(1);r?console.error("Tabel masih belum dapat diakses:",r):console.log("Tabel vouchers berhasil dibuat dan dapat diakses",e)}catch(t){console.error("Gagal membuat tabel vouchers:",t)}},TLe=async()=>{try{console.log("Mencoba membuat voucher dengan login admin...");const{error:t}=await J.from("vouchers").insert({id:nn(),code:"SIMPLETEST",discount_type:"fixed",discount_value:2e4,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString(),is_active:!0,created_at:new Date().toISOString(),description:"Voucher test sistem"});t?(console.error("Gagal dengan semua metode:",t),console.log("Solusi: Hubungi admin database untuk membuat tabel vouchers secara manual")):console.log("Berhasil membuat voucher dengan metode terakhir")}catch(t){console.error("Error pada metode terakhir:",t)}},kLe=async()=>{try{console.log("Mengecek keberadaan tabel vouchers...");const{data:t,error:e}=await J.from("vouchers").select("count(*)",{count:"exact",head:!0});if(e){if(e.code==="PGRST116"||e.message&&e.message.includes("relation")&&e.message.includes("does not exist")){console.log("Tabel vouchers belum ada, mencoba membuat tabel..."),await hY();const r=await J.from("vouchers").select("count(*)",{count:"exact",head:!0});return r.error?(console.error("Gagal membuat tabel vouchers:",r.error),!1):(console.log("Tabel vouchers berhasil dibuat!"),!0)}return console.error("Error saat mengecek tabel vouchers:",e),!1}return console.log("Tabel vouchers ditemukan"),!0}catch(t){return console.error("Gagal mengecek tabel vouchers:",t),!1}};function ILe(){const{toast:t}=Ns(),[e,r]=v.useState([]),[n,a]=v.useState(!0),[s,o]=v.useState(""),[l,c]=v.useState(!1),[u,A]=v.useState(!1),[d,h]=v.useState(!0),[f,p]=v.useState({code:"",discount_type:"percentage",discount_value:0,min_purchase:void 0,max_discount:void 0,start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],usage_limit:void 0,is_active:!0,description:""}),[g,m]=v.useState(!1),[x,b]=v.useState(!1),[_,w]=v.useState(null);v.useEffect(()=>{E(),C()},[s,l]);const C=async()=>{const D=await kLe();h(D)},E=async()=>{a(!0);try{const{data:D,error:Q}=await Oo.getVouchers(100,0,{search:s||void 0,is_active:l?!0:void 0});if(Q)throw Q;r(D||[])}catch(D){console.error("Error fetching vouchers:",D),h(!1),t({title:"Gagal Memuat Data",description:"Terjadi kesalahan saat memuat daftar voucher",variant:"destructive"})}finally{a(!1)}},j=D=>{const{name:Q,value:H,type:G}=D.target;p(G==="number"?{...f,[Q]:H===""?void 0:parseFloat(H)}:{...f,[Q]:H})},B=(D,Q)=>{p({...f,[D]:Q})},S=(D,Q)=>{p({...f,[D]:Q})},N=()=>{P(),m(!1),b(!0)},I=D=>{p({...D,start_date:new Date(D.start_date).toISOString().split("T")[0],end_date:new Date(D.end_date).toISOString().split("T")[0]}),m(!0),b(!0)},P=()=>{p({code:"",discount_type:"percentage",discount_value:0,min_purchase:void 0,max_discount:void 0,start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],usage_limit:void 0,is_active:!0,description:""})},T=async D=>{D.preventDefault();try{if(g&&f.id){const{data:Q,error:H}=await Oo.updateVoucher(f.id,f);if(H)throw H;t({title:"Voucher Diperbarui",description:`Voucher dengan kode ${f.code} berhasil diperbarui`,variant:"default"})}else{const{data:Q,error:H}=await Oo.addVoucher(f);if(H)throw H;t({title:"Voucher Ditambahkan",description:`Voucher baru dengan kode ${f.code} berhasil ditambahkan`,variant:"default"})}b(!1),E()}catch(Q){console.error("Error saving voucher:",Q),t({title:"Gagal Menyimpan",description:Q.message||"Terjadi kesalahan saat menyimpan voucher",variant:"destructive"})}},U=async()=>{if(_)try{const{error:D}=await Oo.deleteVoucher(_);if(D)throw D;t({title:"Voucher Dihapus",description:"Voucher berhasil dihapus dari sistem",variant:"default"}),E(),w(null)}catch(D){console.error("Error deleting voucher:",D),t({title:"Gagal Menghapus",description:D.message||"Terjadi kesalahan saat menghapus voucher",variant:"destructive"})}},M=async(D,Q)=>{try{const{error:H}=await Oo.toggleVoucherStatus(D,!Q);if(H)throw H;t({title:`Voucher ${Q?"Dinonaktifkan":"Diaktifkan"}`,description:`Status voucher berhasil diubah menjadi ${Q?"tidak aktif":"aktif"}`,variant:"default"}),E()}catch(H){console.error("Error toggling voucher status:",H),t({title:"Gagal Mengubah Status",description:H.message||"Terjadi kesalahan saat mengubah status voucher",variant:"destructive"})}},R=D=>{if(!D.is_active)return i.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-800 rounded-full",children:"Tidak Aktif"});const Q=new Date,H=new Date(D.start_date),G=new Date(D.end_date);return Q<H?i.jsx("span",{className:"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full",children:"Belum Mulai"}):Q>G?i.jsx("span",{className:"px-2 py-1 text-xs bg-red-100 text-red-800 rounded-full",children:"Kadaluarsa"}):D.usage_limit&&D.usage_count>=D.usage_limit?i.jsx("span",{className:"px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Habis"}):i.jsx("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:"Aktif"})},F=async()=>{A(!0);try{await NLe(),t({title:"Berhasil",description:"Data voucher contoh berhasil ditambahkan ke database",variant:"default"}),E(),C()}catch(D){console.error("Error initializing data:",D),t({title:"Gagal Menginisialisasi Data",description:"Terjadi kesalahan saat menambahkan data contoh",variant:"destructive"})}finally{A(!1)}};return i.jsx(jn,{children:i.jsxs("div",{className:"container mx-auto py-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Manajemen Voucher"}),i.jsxs("div",{className:"flex gap-2",children:[!d&&i.jsxs(V,{onClick:F,disabled:u,variant:"outline",children:[i.jsx(r6,{className:"mr-2 h-4 w-4"}),u?"Menginisialisasi...":"Inisialisasi Data"]}),i.jsxs(or,{open:x,onOpenChange:b,children:[i.jsx(Zy,{asChild:!0,children:i.jsxs(V,{onClick:N,children:[i.jsx(eee,{className:"mr-2 h-4 w-4"}),"Tambah Voucher"]})}),i.jsxs(er,{className:"sm:max-w-[550px]",children:[i.jsxs(dr,{children:[i.jsx(hr,{children:g?"Edit Voucher":"Tambah Voucher Baru"}),i.jsx(_n,{children:g?"Perbarui informasi voucher yang sudah ada":"Isi formulir berikut untuk menambahkan voucher baru"})]}),i.jsxs("form",{onSubmit:T,children:[i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Ne,{htmlFor:"code",className:"text-right",children:"Kode Voucher*"}),i.jsx(le,{id:"code",name:"code",value:f.code,onChange:j,className:"col-span-3",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Ne,{htmlFor:"discount_type",className:"text-right",children:"Tipe Diskon*"}),i.jsxs(On,{name:"discount_type",value:f.discount_type,onValueChange:D=>B("discount_type",D),children:[i.jsx(pn,{className:"col-span-3",children:i.jsx(Fn,{placeholder:"Pilih tipe diskon"})}),i.jsxs(gn,{children:[i.jsx(mt,{value:"percentage",children:"Persentase (%)"}),i.jsx(mt,{value:"fixed",children:"Nominal Tetap (Rp)"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Ne,{htmlFor:"discount_value",className:"text-right",children:"Nilai Diskon*"}),i.jsxs("div",{className:"col-span-3 flex items-center",children:[i.jsx(le,{id:"discount_value",name:"discount_value",type:"number",min:0,value:f.discount_value||"",onChange:j,required:!0}),i.jsx("span",{className:"ml-2",children:f.discount_type==="percentage"?"%":"Rupiah"})]})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Ne,{htmlFor:"min_purchase",className:"text-right",children:"Min. Pembelian"}),i.jsx(le,{id:"min_purchase",name:"min_purchase",type:"number",min:0,value:f.min_purchase||"",onChange:j,className:"col-span-3",placeholder:"Opsional"})]}),f.discount_type==="percentage"&&i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Ne,{htmlFor:"max_discount",className:"text-right",children:"Maks. Diskon"}),i.jsx(le,{id:"max_discount",name:"max_discount",type:"number",min:0,value:f.max_discount||"",onChange:j,className:"col-span-3",placeholder:"Opsional"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Ne,{htmlFor:"start_date",className:"text-right",children:"Tanggal Mulai*"}),i.jsx(le,{id:"start_date",name:"start_date",type:"date",value:f.start_date,onChange:j,className:"col-span-3",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Ne,{htmlFor:"end_date",className:"text-right",children:"Tanggal Berakhir*"}),i.jsx(le,{id:"end_date",name:"end_date",type:"date",value:f.end_date,onChange:j,className:"col-span-3",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Ne,{htmlFor:"usage_limit",className:"text-right",children:"Batas Penggunaan"}),i.jsx(le,{id:"usage_limit",name:"usage_limit",type:"number",min:0,value:f.usage_limit||"",onChange:j,className:"col-span-3",placeholder:"Opsional"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Ne,{htmlFor:"description",className:"text-right",children:"Deskripsi"}),i.jsx(le,{id:"description",name:"description",value:f.description||"",onChange:j,className:"col-span-3",placeholder:"Opsional"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Ne,{htmlFor:"is_active",className:"text-right",children:"Status Aktif"}),i.jsxs("div",{className:"flex items-center space-x-2 col-span-3",children:[i.jsx(Ja,{id:"is_active",checked:f.is_active,onCheckedChange:D=>S("is_active",D)}),i.jsx(Ne,{htmlFor:"is_active",children:f.is_active?"Aktif":"Tidak Aktif"})]})]})]}),i.jsxs(sn,{children:[i.jsx(V,{type:"button",variant:"outline",onClick:()=>b(!1),children:"Batal"}),i.jsx(V,{type:"submit",children:g?"Perbarui Voucher":"Tambah Voucher"})]})]})]})]})]})]}),i.jsxs(xe,{children:[i.jsxs(nt,{children:[i.jsxs(at,{className:"flex items-center",children:[i.jsx(jee,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:"Daftar Voucher"})]}),i.jsx(nr,{children:"Kelola voucher diskon untuk pelanggan"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Sl,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),i.jsx(le,{placeholder:"Cari kode atau deskripsi voucher...",className:"pl-8",value:s,onChange:D=>o(D.target.value)})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ja,{id:"active-filter",checked:l,onCheckedChange:c}),i.jsx(Ne,{htmlFor:"active-filter",children:"Hanya Tampilkan Voucher Aktif"})]})]})]}),i.jsx(be,{children:n?i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-flame-500"})}):e.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[i.jsx(Df,{className:"h-12 w-12 text-gray-400 mb-2"}),i.jsx("h3",{className:"text-lg font-medium",children:"Tidak Ada Voucher"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1 max-w-md",children:s||l?"Tidak ada voucher yang sesuai dengan filter yang dipilih":"Belum ada voucher yang ditambahkan. Klik tombol 'Tambah Voucher' untuk mulai membuat voucher"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(vn,{children:[i.jsx(yn,{children:i.jsxs(it,{children:[i.jsx(Ce,{className:"w-[120px]",children:"Kode"}),i.jsx(Ce,{children:"Diskon"}),i.jsx(Ce,{children:"Periode"}),i.jsx(Ce,{children:"Batasan"}),i.jsx(Ce,{className:"text-center",children:"Status"}),i.jsx(Ce,{className:"text-center",children:"Penggunaan"}),i.jsx(Ce,{className:"text-right",children:"Aksi"})]})}),i.jsx(xn,{children:e.map(D=>i.jsxs(it,{children:[i.jsxs(me,{className:"font-medium",children:[D.code,D.description&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:D.description})]}),i.jsxs(me,{children:[D.discount_type==="percentage"?`${D.discount_value}%`:pe(D.discount_value),D.discount_type==="percentage"&&D.max_discount&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maks: ",pe(D.max_discount)]})]}),i.jsx(me,{children:i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{children:an(new Date(D.start_date),"dd/MM/yyyy")}),i.jsx("span",{children:" - "}),i.jsx("span",{children:an(new Date(D.end_date),"dd/MM/yyyy")})]})}),i.jsxs(me,{children:[D.min_purchase&&i.jsxs("div",{className:"text-sm",children:["Min: ",pe(D.min_purchase)]}),D.usage_limit&&i.jsxs("div",{className:"text-sm",children:["Maks: ",D.usage_limit," kali"]}),!D.min_purchase&&!D.usage_limit&&i.jsx("span",{className:"text-sm text-gray-500",children:"-"})]}),i.jsx(me,{className:"text-center",children:R(D)}),i.jsxs(me,{className:"text-center",children:[D.usage_count||0,D.usage_limit&&i.jsxs("span",{children:[" / ",D.usage_limit]})]}),i.jsx(me,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end items-center space-x-2",children:[i.jsx(V,{variant:"outline",size:"sm",onClick:()=>M(D.id,D.is_active),children:D.is_active?"Nonaktifkan":"Aktifkan"}),i.jsx(V,{variant:"outline",size:"icon",onClick:()=>I(D),children:i.jsx(gp,{className:"h-4 w-4"})}),i.jsxs(BLe,{children:[i.jsx(ELe,{asChild:!0,children:i.jsx(V,{variant:"outline",size:"icon",className:"text-red-500 border-red-200 hover:bg-red-50",onClick:()=>w(D.id),children:i.jsx(u6,{className:"h-4 w-4"})})}),i.jsxs(iY,{children:[i.jsxs(oY,{children:[i.jsx(cY,{children:"Hapus Voucher"}),i.jsxs(uY,{children:["Apakah Anda yakin ingin menghapus voucher dengan kode ",i.jsx("strong",{children:D.code}),"? Tindakan ini tidak dapat dibatalkan."]})]}),i.jsxs(lY,{children:[i.jsx(dY,{onClick:()=>w(null),children:"Batal"}),i.jsx(AY,{onClick:U,className:"bg-red-500 hover:bg-red-600",children:"Hapus"})]})]})]})]})})]},D.id))})]})})})]})]})})}class h3{static async getRecipients(e){let r=J.from("profiles").select("id, phone, name");if(e.recipientType==="selected"&&e.selectedIds&&e.selectedIds.length>0)r=r.in("id",e.selectedIds);else if(e.recipientType==="filtered"&&e.filterOptions){const{lastOrderDays:s,minOrderCount:o,minTotalSpent:l,lastActive:c}=e.filterOptions;if(c){const u=new Date;u.setDate(u.getDate()-c),r=r.gte("last_seen",u.toISOString())}}r=r.not("phone","is",null);const{data:n,error:a}=await r;return a?(console.error("Error fetching recipients:",a),[]):n.map(s=>({id:s.id,phone:s.phone,name:s.name}))}static async sendBroadcast(e){try{const r=await this.getRecipients(e);if(r.length===0)return{success:!1,totalRecipients:0,sentCount:0,failedCount:0};console.log(`Preparing to send broadcast to ${r.length} recipients`);const{data:n,error:a}=await J.from("broadcasts").insert({message_template:e.message,recipient_count:r.length,recipient_type:e.recipientType,scheduled_time:e.scheduleTime?e.scheduleTime.toISOString():null,created_at:new Date().toISOString(),status:e.scheduleTime?"scheduled":"sending"}).select().single();if(a)return console.error("Error creating broadcast record:",a),{success:!1,totalRecipients:r.length,sentCount:0,failedCount:r.length};const s=n.id;if(e.scheduleTime&&e.scheduleTime>new Date)return await this.saveBroadcastRecipients(s,r),{success:!0,totalRecipients:r.length,sentCount:0,failedCount:0,broadcastId:s};const o=await this.sendMessagesToRecipients(s,r,e);return{success:o.failedCount<r.length,totalRecipients:r.length,sentCount:o.sentCount,failedCount:o.failedCount,failedRecipients:o.failedRecipients,broadcastId:s}}catch(r){return console.error("Error in sendBroadcast:",r),{success:!1,totalRecipients:0,sentCount:0,failedCount:0}}}static async saveBroadcastRecipients(e,r){const n=r.map(s=>({broadcast_id:e,user_id:s.id,phone:s.phone,name:s.name||null,status:"pending",created_at:new Date().toISOString()})),{error:a}=await J.from("broadcast_recipients").insert(n);a&&console.error("Error saving broadcast recipients:",a)}static async sendMessagesToRecipients(e,r,n){let a=0,s=0;const o=[],l=5,c=[];for(let u=0;u<r.length;u+=l)c.push(r.slice(u,u+l));for(let u of c){const A=u.map(async d=>{try{let h=n.message;n.includeName&&d.name?h=h.replace("{name}",d.name):h=h.replace("{name}","Pelanggan");const f=await Tp(d.phone,h);return await this.recordMessageSent(e,d.id,f?"sent":"failed"),f?(a++,{success:!0,recipient:d}):(s++,o.push({id:d.id,phone:d.phone,error:"Failed to send"}),{success:!1,recipient:d,error:"Failed to send"})}catch(h){return s++,o.push({id:d.id,phone:d.phone,error:String(h)}),await this.recordMessageSent(e,d.id,"failed",String(h)),{success:!1,recipient:d,error:h}}});await Promise.all(A),c.indexOf(u)<c.length-1&&await new Promise(d=>setTimeout(d,2e3))}return await J.from("broadcasts").update({sent_count:a,failed_count:s,status:"completed",completed_at:new Date().toISOString()}).eq("id",e),{sentCount:a,failedCount:s,failedRecipients:o}}static async recordMessageSent(e,r,n,a){try{await J.from("broadcast_messages").insert({broadcast_id:e,user_id:r,status:n,error:a||null,sent_at:n==="sent"?new Date().toISOString():null,created_at:new Date().toISOString()})}catch(s){console.error("Error recording message status:",s)}}static async getBroadcastHistory(e=20,r=1){const{data:n,error:a}=await J.from("broadcasts").select("*").order("created_at",{ascending:!1}).range((r-1)*e,r*e-1);return a?(console.error("Error fetching broadcast history:",a),[]):n}static async getBroadcastDetails(e){const{data:r,error:n}=await J.from("broadcasts").select(`
        *,
        broadcast_messages:broadcast_messages(
          user_id,
          status,
          sent_at,
          error
        )
      `).eq("id",e).single();return n?(console.error("Error fetching broadcast details:",n),null):r}}function PLe(){const[t,e]=v.useState("new"),[r,n]=v.useState([]),[a,s]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState([]),[A,d]=v.useState(1),[h,f]=v.useState("all"),[p,g]=v.useState([]),[m,x]=v.useState(""),[b,_]=v.useState(!0),[w,C]=v.useState(!1),[E,j]=v.useState(""),[B,S]=v.useState(""),[N,I]=v.useState(void 0),[P,T]=v.useState(void 0),[U,M]=v.useState(void 0),R=[{name:"Diskon",content:`Halo {name},

JPC Apps memberikan DISKON SPESIAL 20% untuk semua produk arang premium kami hingga akhir bulan ini!

Kunjungi website kami sekarang untuk melihat koleksi terbaik kami.

Salam,
Tim JPC Apps`},{name:"Produk Baru",content:`Halo {name},

Kabar gembira! JPC Apps baru saja meluncurkan produk arang premium terbaru dengan kualitas terbaik dan harga kompetitif.

Kunjungi website kami untuk menjadi yang pertama mencobanya!

Salam,
Tim JPC Apps`},{name:"Pengingat",content:`Halo {name},

Sudah lama tidak melihat Anda berbelanja di JPC Apps. Kami merindukan Anda!

Dapatkan DISKON 10% untuk pembelian berikutnya dengan menggunakan kode: COMEBACK10

Salam,
Tim JPC Apps`}];v.useEffect(()=>{t==="new"?F():t==="history"&&D()},[t,A]);const F=async()=>{s(!0);try{const{data:Z,error:q}=await J.from("profiles").select("id, name, phone, email, created_at").not("phone","is",null).order("created_at",{ascending:!1});if(q)throw q;n(Z||[])}catch(Z){console.error("Error fetching customers:",Z),he({title:"Gagal mengambil data pelanggan",description:"Terjadi kesalahan saat mengambil data pelanggan",variant:"destructive"})}finally{s(!1)}},D=async()=>{s(!0);try{const Z=await h3.getBroadcastHistory(10,A);u(Z)}catch(Z){console.error("Error fetching broadcast history:",Z),he({title:"Gagal mengambil riwayat broadcast",description:"Terjadi kesalahan saat mengambil riwayat broadcast",variant:"destructive"})}finally{s(!1)}},Q=Z=>{g(q=>q.includes(Z)?q.filter(se=>se!==Z):[...q,Z])},H=()=>{g(r.map(Z=>Z.id))},G=()=>{g([])},X=async()=>{if(!m.trim()){he({title:"Pesan tidak boleh kosong",description:"Silakan masukkan pesan yang akan dikirim",variant:"destructive"});return}if(h==="selected"&&p.length===0){he({title:"Tidak ada penerima yang dipilih",description:"Silakan pilih setidaknya satu pelanggan",variant:"destructive"});return}if(window.confirm(`Anda akan mengirim pesan broadcast ke ${h==="all"?"semua pelanggan":h==="selected"?`${p.length} pelanggan terpilih`:"pelanggan yang difilter"}. Lanjutkan?`)){l(!0);try{const Z={recipientType:h,message:m,includeName:b};if(h==="selected"?Z.selectedIds=p:h==="filtered"&&(Z.filterOptions={lastOrderDays:N,minOrderCount:P,minTotalSpent:U}),w&&E&&B){const se=new Date(`${E}T${B}`);if(se>new Date)Z.scheduleTime=se;else{he({title:"Waktu jadwal tidak valid",description:"Waktu jadwal harus di masa depan",variant:"destructive"}),l(!1);return}}const q=await h3.sendBroadcast(Z);q.success?(he({title:"Broadcast berhasil",description:w?`Broadcast dijadwalkan untuk ${q.totalRecipients} penerima`:`Pesan berhasil dikirim ke ${q.sentCount} dari ${q.totalRecipients} penerima`}),x(""),g([]),f("all"),C(!1),j(""),S(""),e("history"),D()):he({title:"Broadcast gagal",description:`Pesan gagal dikirim. Hanya ${q.sentCount} dari ${q.totalRecipients} pesan yang terkirim.`,variant:"destructive"})}catch(Z){console.error("Error sending broadcast:",Z),he({title:"Broadcast gagal",description:"Terjadi kesalahan saat mengirim broadcast",variant:"destructive"})}finally{l(!1)}}},te=Z=>{x(Z)};return i.jsx(jn,{children:i.jsxs("div",{className:"container py-6",children:[i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Broadcast WhatsApp"}),i.jsxs(ha,{defaultValue:"new",value:t,onValueChange:e,children:[i.jsxs(ea,{className:"mb-4",children:[i.jsxs(Nt,{value:"new",children:[i.jsx(Zv,{className:"h-4 w-4 mr-2"}),"Broadcast Baru"]}),i.jsxs(Nt,{value:"history",children:[i.jsx(PA,{className:"h-4 w-4 mr-2"}),"Riwayat Broadcast"]})]}),i.jsx(Wt,{value:"new",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs(xe,{className:"md:col-span-2",children:[i.jsxs(nt,{children:[i.jsx(at,{children:"Pesan Broadcast"}),i.jsx(nr,{children:"Buat pesan broadcast untuk dikirim ke pelanggan"})]}),i.jsxs(be,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{htmlFor:"message-type",children:"Jenis Penerima"}),i.jsxs(On,{value:h,onValueChange:Z=>f(Z),children:[i.jsx(pn,{children:i.jsx(Fn,{placeholder:"Pilih jenis penerima"})}),i.jsxs(gn,{children:[i.jsx(mt,{value:"all",children:"Semua Pelanggan"}),i.jsx(mt,{value:"selected",children:"Pelanggan Terpilih"}),i.jsx(mt,{value:"filtered",children:"Filter Pelanggan"})]})]})]}),h==="filtered"&&i.jsxs(xe,{className:"border-dashed",children:[i.jsx(nt,{className:"p-4 pb-2",children:i.jsx(at,{className:"text-base",children:"Filter Pelanggan"})}),i.jsxs(be,{className:"p-4 pt-0 space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(Ne,{htmlFor:"last-order-days",children:"Pesanan dalam X hari terakhir"}),i.jsx(le,{id:"last-order-days",type:"number",placeholder:"hari",min:"1",value:N||"",onChange:Z=>I(Z.target.value?parseInt(Z.target.value):void 0)})]}),i.jsxs("div",{children:[i.jsx(Ne,{htmlFor:"min-order-count",children:"Minimal jumlah pesanan"}),i.jsx(le,{id:"min-order-count",type:"number",placeholder:"jumlah",min:"1",value:P||"",onChange:Z=>T(Z.target.value?parseInt(Z.target.value):void 0)})]})]}),i.jsxs("div",{children:[i.jsx(Ne,{htmlFor:"min-total-spent",children:"Minimal total pembelian (Rp)"}),i.jsx(le,{id:"min-total-spent",type:"number",placeholder:"dalam Rupiah",min:"10000",step:"10000",value:U||"",onChange:Z=>M(Z.target.value?parseInt(Z.target.value):void 0)})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(Ne,{htmlFor:"message",children:"Pesan"}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Gunakan ","{name}"," untuk menyertakan nama pelanggan"]})]}),i.jsx(Cl,{id:"message",placeholder:"Ketik pesan Anda di sini...",rows:8,value:m,onChange:Z=>x(Z.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{children:"Template Pesan"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:R.map((Z,q)=>i.jsx(V,{variant:"outline",size:"sm",onClick:()=>te(Z.content),children:Z.name},q))})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ja,{id:"include-name",checked:b,onCheckedChange:_}),i.jsx(Ne,{htmlFor:"include-name",children:"Sertakan nama pelanggan dalam pesan"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ja,{id:"schedule",checked:w,onCheckedChange:C}),i.jsx(Ne,{htmlFor:"schedule",children:"Jadwalkan pengiriman"})]}),w&&i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(Ne,{htmlFor:"schedule-date",children:"Tanggal"}),i.jsx(le,{id:"schedule-date",type:"date",value:E,onChange:Z=>j(Z.target.value),min:new Date().toISOString().split("T")[0]})]}),i.jsxs("div",{children:[i.jsx(Ne,{htmlFor:"schedule-time",children:"Waktu"}),i.jsx(le,{id:"schedule-time",type:"time",value:B,onChange:Z=>S(Z.target.value)})]})]})]}),i.jsxs(Ga,{className:"flex justify-between",children:[i.jsx(V,{variant:"outline",onClick:()=>x(""),children:"Reset"}),i.jsx(V,{onClick:X,disabled:o||!m.trim()||h==="selected"&&p.length===0,children:o?i.jsxs(i.Fragment,{children:[i.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengirim..."]}):w?i.jsxs(i.Fragment,{children:[i.jsx(Z3,{className:"mr-2 h-4 w-4"}),"Jadwalkan"]}):i.jsxs(i.Fragment,{children:[i.jsx(Zv,{className:"mr-2 h-4 w-4"}),"Kirim Broadcast"]})})]})]}),h==="selected"&&i.jsxs(xe,{children:[i.jsxs(nt,{children:[i.jsx(at,{children:"Pilih Pelanggan"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(V,{variant:"outline",size:"sm",onClick:H,children:"Pilih Semua"}),i.jsx(V,{variant:"outline",size:"sm",onClick:G,children:"Reset"})]})]}),i.jsx(be,{children:a?i.jsx("div",{className:"flex items-center justify-center py-6",children:i.jsx(Kt,{className:"h-6 w-6 animate-spin"})}):i.jsx(Yc,{className:"h-[400px]",children:i.jsx("div",{className:"space-y-2",children:r.map(Z=>i.jsxs("div",{className:`p-2 rounded-md flex items-center space-x-2 ${p.includes(Z.id)?"bg-muted/80":"hover:bg-muted/50"}`,onClick:()=>Q(Z.id),children:[i.jsx(iI,{checked:p.includes(Z.id),onCheckedChange:()=>Q(Z.id)}),i.jsxs("div",{className:"flex-1 truncate",children:[i.jsx("div",{className:"font-medium truncate",children:Z.name||"Tanpa Nama"}),i.jsx("div",{className:"text-sm text-muted-foreground truncate",children:Z.phone})]})]},Z.id))})})}),i.jsx(Ga,{children:i.jsxs("div",{className:"w-full text-center",children:[p.length," pelanggan dipilih"]})})]})]})}),i.jsx(Wt,{value:"history",children:i.jsxs(xe,{children:[i.jsxs(nt,{children:[i.jsx(at,{children:"Riwayat Broadcast"}),i.jsx(nr,{children:"Histori pesan broadcast yang telah dikirim"})]}),i.jsx(be,{children:a?i.jsx("div",{className:"flex items-center justify-center py-6",children:i.jsx(Kt,{className:"h-6 w-6 animate-spin"})}):c.length>0?i.jsxs(vn,{children:[i.jsx(yn,{children:i.jsxs(it,{children:[i.jsx(Ce,{children:"Tanggal"}),i.jsx(Ce,{children:"Pesan"}),i.jsx(Ce,{children:"Penerima"}),i.jsx(Ce,{children:"Status"}),i.jsx(Ce,{children:"Aksi"})]})}),i.jsx(xn,{children:c.map(Z=>i.jsxs(it,{children:[i.jsx(me,{children:new Date(Z.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),i.jsx(me,{className:"max-w-[200px] truncate",children:Z.message_template}),i.jsxs(me,{children:[Z.recipient_count," penerima"]}),i.jsx(me,{children:i.jsx(yt,{className:Z.status==="completed"?"bg-green-100 text-green-800":Z.status==="sending"?"bg-blue-100 text-blue-800":Z.status==="scheduled"?"bg-purple-100 text-purple-800":"bg-red-100 text-red-800",children:Z.status==="completed"?"Selesai":Z.status==="sending"?"Mengirim":Z.status==="scheduled"?"Terjadwal":"Gagal"})}),i.jsx(me,{children:i.jsx(V,{variant:"ghost",size:"sm",children:"Detail"})})]},Z.id))})]}):i.jsx("div",{className:"text-center py-6",children:i.jsx("p",{className:"text-muted-foreground",children:"Tidak ada riwayat broadcast"})})}),c.length>0&&i.jsxs(Ga,{className:"flex justify-between",children:[i.jsx(V,{variant:"outline",onClick:()=>d(Math.max(1,A-1)),disabled:A===1,children:"Sebelumnya"}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Halaman ",A]}),i.jsx(V,{variant:"outline",onClick:()=>d(A+1),disabled:c.length<10,children:"Selanjutnya"})]})]})})]})]})})}function OLe({children:t}){const[e,r]=v.useState(!1),n=na(),a=[{name:"Dashboard",href:"/admin",icon:i.jsx(W.home,{className:"h-5 w-5"})},{name:"Inventaris",href:"/admin/inventory",icon:i.jsx(W.package,{className:"h-5 w-5"})},{name:"Inventaris Batubara",href:"/admin/coal-inventory",icon:i.jsx(W.layers,{className:"h-5 w-5"})},{name:"Pengiriman",href:"/admin/shipping",icon:i.jsx(W.truck,{className:"h-5 w-5"})},{name:"Pengguna",href:"/admin/users",icon:i.jsx(W.users,{className:"h-5 w-5"})},{name:"Pesanan",href:"/admin/orders",icon:i.jsx(W.shoppingCart,{className:"h-5 w-5"})},{name:"PPOB",href:"/admin/ppob",icon:i.jsx(W.creditCard,{className:"h-5 w-5"})},{name:"Voucher",href:"/admin/vouchers",icon:i.jsx(W.ticket,{className:"h-5 w-5"})},{name:"Broadcast",href:"/admin/broadcast",icon:i.jsx(W.megaphone,{className:"h-5 w-5"})},{name:"Analitik",href:"/admin/analytics",icon:i.jsx(W.barChart,{className:"h-5 w-5"})},{name:"Pengaturan",href:"/admin/settings",icon:i.jsx(W.settings,{className:"h-5 w-5"})},{name:"Chat",href:"/admin/chats",icon:i.jsx(W.messageSquare,{className:"h-5 w-5"})}],s=o=>o==="/admin"&&n.pathname==="/admin"?!0:n.pathname.startsWith(o)&&o!=="/admin";return i.jsxs("div",{className:"flex h-screen overflow-hidden",children:[i.jsx("aside",{className:"hidden md:flex md:w-64 md:flex-col",children:i.jsxs("div",{className:"flex flex-col flex-grow pt-5 overflow-y-auto border-r bg-white",children:[i.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:i.jsxs(ct,{to:"/admin",className:"flex items-center",children:[i.jsx("img",{className:"h-8 w-auto",src:"/logo.svg",alt:"JPC Digi Logo"}),i.jsx("span",{className:"ml-2 text-xl font-bold",children:"JPC Digi Admin"})]})}),i.jsx("div",{className:"mt-6 px-3 flex-grow flex flex-col",children:i.jsx("nav",{className:"flex-1 space-y-1",children:a.map(o=>i.jsxs(ct,{to:o.href,className:de("group flex items-center px-3 py-2 text-sm font-medium rounded-md",s(o.href)?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"),children:[o.icon,i.jsx("span",{className:"ml-3",children:o.name})]},o.name))})}),i.jsx("div",{className:"p-3 mt-auto border-t",children:i.jsxs("div",{className:"flex items-center",children:[i.jsxs(Bl,{children:[i.jsx(nd,{src:"/avatars/admin.png",alt:"Admin"}),i.jsx(El,{children:"AD"})]}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium",children:"Admin JPC"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"admin@jpcdigi.com"})]})]})})]})}),i.jsx("div",{className:"md:hidden",children:i.jsxs(ii,{open:e,onOpenChange:r,children:[i.jsx(ky,{asChild:!0,children:i.jsxs(V,{variant:"ghost",size:"icon",className:"absolute top-4 left-4 z-50",children:[i.jsx(W.menu,{className:"h-6 w-6"}),i.jsx("span",{className:"sr-only",children:"Toggle menu"})]})}),i.jsx(Es,{side:"left",className:"p-0",children:i.jsxs("div",{className:"flex flex-col h-full pt-5",children:[i.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:i.jsxs(ct,{to:"/admin",className:"flex items-center",onClick:()=>r(!1),children:[i.jsx("img",{className:"h-8 w-auto",src:"/logo.svg",alt:"JPC Digi Logo"}),i.jsx("span",{className:"ml-2 text-xl font-bold",children:"JPC Digi Admin"})]})}),i.jsx("div",{className:"mt-6 px-3 flex-grow flex flex-col",children:i.jsx("nav",{className:"flex-1 space-y-1",children:a.map(o=>i.jsxs(ct,{to:o.href,className:de("group flex items-center px-3 py-2 text-sm font-medium rounded-md",s(o.href)?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"),onClick:()=>r(!1),children:[o.icon,i.jsx("span",{className:"ml-3",children:o.name})]},o.name))})}),i.jsx("div",{className:"p-3 mt-auto border-t",children:i.jsxs("div",{className:"flex items-center",children:[i.jsxs(Bl,{children:[i.jsx(nd,{src:"/avatars/admin.png",alt:"Admin"}),i.jsx(El,{children:"AD"})]}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium",children:"Admin JPC"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"admin@jpcdigi.com"})]})]})})]})})]})}),i.jsxs("div",{className:"flex flex-col flex-1 w-full overflow-hidden",children:[i.jsx("header",{className:"bg-white shadow-sm z-10",children:i.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"py-4 md:py-6 flex items-center justify-between",children:[i.jsx("div",{className:"md:hidden",children:i.jsx("h1",{className:"text-lg font-medium",children:"JPC Digi Admin"})}),i.jsxs("div",{className:"flex items-center ml-auto",children:[i.jsxs(V,{variant:"outline",size:"sm",className:"mr-2",children:[i.jsx(W.bell,{className:"h-4 w-4 mr-2"}),i.jsx("span",{className:"sr-only md:not-sr-only md:inline-block",children:"Notifikasi"})]}),i.jsxs(V,{variant:"destructive",size:"sm",children:[i.jsx(W.logOut,{className:"h-4 w-4 mr-2"}),i.jsx("span",{className:"sr-only md:not-sr-only md:inline-block",children:"Logout"})]})]})]})})}),i.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50",children:t})]})]})}function FLe(){const[t,e]=v.useState("dashboard"),[r,n]=v.useState(!1),[a,s]=v.useState(!0),[o,l]=v.useState([]),[c,u]=v.useState([]),[A,d]=v.useState([]),[h,f]=v.useState([]),[p,g]=v.useState(null),[m,x]=v.useState(!1),[b,_]=v.useState(!1),[w,C]=v.useState(null),[E,j]=v.useState("service"),[B,S]=v.useState({id:"",name:"",category:"Top Up",icon:"",color:"",icon_color:"",route:"",is_new:!1,price:0,description:"",service_id:"",api_key:"",username:"",mode:"development"});v.useEffect(()=>{(async()=>{s(!0);try{const F=await gz();l(F||[]);const D=await J.from("ppob_products").select("*");u(D.data||[]);const Q=await J.from("ppob_transactions").select("*").order("created_at",{ascending:!1});f(Q.data||[]);const{data:H,error:G}=await J.from("digiflazz_config").select("*").single();G?(console.error("Error loading Digiflazz config:",G),g({id:"",api_key:"",username:"",mode:"development"})):g(H||{id:"",api_key:"",username:"",mode:"development"})}catch(F){console.error("Error loading data:",F),alert("Failed to load data")}finally{s(!1)}})()},[]),v.useEffect(()=>{t==="products"&&p&&p.api_key&&p.username&&(async()=>{s(!0);try{const D=await fetch("https://202.10.44.157:8080/netlify/functions/digiflazz-proxy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cmd:"prepaid",username:p.username,apiKey:p.api_key})});if(!D.ok)throw new Error(`HTTP error! Status: ${D.status}`);const Q=await D.json();Q.data?d(Q.data):(console.error("No data returned from Digiflazz API"),d([]))}catch(F){console.error("Error fetching Digiflazz products:",F),d([]),alert("Failed to fetch products from Digiflazz API")}finally{s(!1)}})()},[t,p]);const N=R=>{S({id:"",name:"",category:"Top Up",icon:"",color:"",icon_color:"",route:"",is_new:!1,price:0,description:"",service_id:"",api_key:"",username:"",mode:"development"}),C(null),j(R),x(!0)},I=R=>{if(C(R),"category"in R){const F=R;j("service"),S({id:F.id||"",name:F.name||"",category:F.category||"Top Up",icon:F.icon||"",color:F.color||"",icon_color:F.icon_color||"",route:F.route||"",is_new:F.is_new||!1,price:0,description:"",service_id:"",api_key:"",username:"",mode:"development"})}else if("price"in R){const F=R;j("product"),S({id:F.id||"",name:F.name||"",category:"Top Up",icon:"",color:"",icon_color:"",route:"",is_new:!1,price:F.price||0,description:F.description||"",service_id:F.service_id||"",api_key:"",username:"",mode:"development"})}else j("digiflazz"),S({id:R.id||"",name:"",category:"Top Up",icon:"",color:"",icon_color:"",route:"",is_new:!1,price:0,description:"",service_id:"",api_key:R.api_key||"",username:R.username||"",mode:R.mode||"development"});x(!0)},P=async R=>{_(!0);try{const F=R.id;if(!F)return;const D="category"in R?"ppob_services":"ppob_products",{error:Q}=await J.from(D).delete().eq("id",F);if(Q)throw Q;"category"in R?l(o.filter(H=>H.id!==F)):u(c.filter(H=>H.id!==F)),alert("Deleted successfully")}catch(F){console.error("Error deleting item:",F),alert("Failed to delete item")}finally{_(!1)}},T=async()=>{s(!0);try{if(E==="service"){const R={id:B.id||void 0,name:B.name,category:B.category,icon:B.icon,color:B.color,icon_color:B.icon_color,route:B.route,is_new:B.is_new};if(B.id)await J.from("ppob_services").update(R).eq("id",B.id),l(o.map(F=>F.id===B.id?{...F,...R}:F));else{const{data:F}=await J.from("ppob_services").insert(R).select().single();l([...o,F])}}else if(E==="product"){const R={id:B.id||void 0,name:B.name,price:B.price,description:B.description,service_id:B.service_id};if(B.id)await J.from("ppob_products").update(R).eq("id",B.id),u(c.map(F=>F.id===B.id?{...F,...R}:F));else{const{data:F}=await J.from("ppob_products").insert(R).select().single();u([...c,F])}}else if(E==="digiflazz"){const R={id:B.id||void 0,api_key:B.api_key,username:B.username,mode:B.mode};if(B.id)await J.from("digiflazz_config").update(R).eq("id",B.id),g({...p,...R});else{const{data:F}=await J.from("digiflazz_config").insert(R).select().single();g(F)}}x(!1)}catch(R){console.error("Error saving data:",R),alert("Failed to save data")}finally{s(!1)}},U=R=>{const{name:F,value:D,type:Q,checked:H}=R.target;S({...B,[F]:Q==="checkbox"?H:D})},M=[{title:"Total Transaksi",value:h.length.toString(),change:"+12.5%",icon:i.jsx(W.chartBar,{className:"h-5 w-5"})},{title:"Pendapatan",value:"Rp "+h.reduce((R,F)=>R+(F.amount||0),0).toLocaleString(),change:"+8.2%",icon:i.jsx(W.wallet,{className:"h-5 w-5"})},{title:"Pengguna Aktif",value:"5,890",change:"+15.3%",icon:i.jsx(W.users,{className:"h-5 w-5"})},{title:"Produk Terjual",value:c.length.toString(),change:"+10.1%",icon:i.jsx(W.shoppingCart,{className:"h-5 w-5"})}];return i.jsxs(OLe,{children:[i.jsxs(_s,{children:[i.jsx("title",{children:"Admin PPOB - JPC Digi"}),i.jsx("meta",{name:"description",content:"Panel admin untuk pengelolaan layanan PPOB JPC Digi"})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Admin PPOB"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(V,{variant:"outline",size:"sm",children:[i.jsx(W.download,{className:"mr-2 h-4 w-4"}),"Export"]}),i.jsxs(V,{size:"sm",onClick:()=>N(t==="services"?"service":"product"),children:[i.jsx(W.plus,{className:"mr-2 h-4 w-4"}),"Tambah ",t==="services"?"Layanan":"Produk"]})]})]}),i.jsxs(ha,{value:t,onValueChange:e,className:"space-y-4",children:[i.jsxs(ea,{className:"grid w-full grid-cols-5",children:[i.jsx(Nt,{value:"dashboard",children:"Dashboard"}),i.jsx(Nt,{value:"services",children:"Layanan"}),i.jsx(Nt,{value:"products",children:"Produk"}),i.jsx(Nt,{value:"transactions",children:"Transaksi"}),i.jsx(Nt,{value:"digiflazz",children:"Digiflazz API"})]}),i.jsxs(Wt,{value:"dashboard",className:"space-y-4",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:M.map((R,F)=>i.jsx(xe,{children:i.jsx(be,{className:"p-6",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:R.title}),i.jsx("h3",{className:"text-2xl font-bold mt-1",children:R.value}),i.jsxs("p",{className:`text-xs mt-1 ${R.change.startsWith("+")?"text-green-600":"text-red-600"}`,children:[R.change," dari bulan lalu"]})]}),i.jsx("div",{className:"bg-primary/10 p-2 rounded-full",children:R.icon})]})})},F))}),i.jsxs(xe,{children:[i.jsxs(nt,{children:[i.jsx(at,{children:"Transaksi Terbaru"}),i.jsx(nr,{children:"Daftar 5 transaksi terbaru di sistem"})]}),i.jsx(be,{children:a?i.jsx("div",{className:"py-8 flex justify-center",children:"Memuat data..."}):i.jsxs(vn,{children:[i.jsx(yn,{children:i.jsxs(it,{children:[i.jsx(Ce,{children:"ID"}),i.jsx(Ce,{children:"Pelanggan"}),i.jsx(Ce,{children:"Produk"}),i.jsx(Ce,{children:"Jumlah"}),i.jsx(Ce,{children:"Status"}),i.jsx(Ce,{children:"Tanggal"})]})}),i.jsx(xn,{children:h.slice(0,5).map(R=>{var F;return i.jsxs(it,{children:[i.jsx(me,{className:"font-medium",children:R.id||"N/A"}),i.jsx(me,{children:R.customer_name||"N/A"}),i.jsx(me,{children:R.product_name||"N/A"}),i.jsxs(me,{children:["Rp ",((F=R.amount)==null?void 0:F.toLocaleString())||"0"]}),i.jsx(me,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${R.status==="Sukses"?"bg-green-100 text-green-800":R.status==="Gagal"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:R.status||"Pending"})}),i.jsx(me,{children:R.transaction_date?new Date(R.transaction_date).toLocaleString():"N/A"})]},R.id||"temp-"+Math.random().toString())})})]})})]}),i.jsxs(xe,{children:[i.jsxs(nt,{children:[i.jsx(at,{children:"Verifikasi Pengguna Terbaru"}),i.jsx(nr,{children:"Permintaan verifikasi pengguna yang membutuhkan review"})]}),i.jsx(be,{children:i.jsxs(vn,{children:[i.jsx(yn,{children:i.jsxs(it,{children:[i.jsx(Ce,{children:"ID"}),i.jsx(Ce,{children:"Pengguna"}),i.jsx(Ce,{children:"Dokumen"}),i.jsx(Ce,{children:"Tanggal Pengajuan"}),i.jsx(Ce,{children:"Status"}),i.jsx(Ce,{children:"Aksi"})]})}),i.jsx(xn,{children:[{id:"V001",user:"Bambang Suprapto",document:"KTP",submissionDate:"2025-06-01 10:23:45",status:"Pending",action:"Review"},{id:"V002",user:"Ratna Sari",document:"KTP",submissionDate:"2025-06-01 09:15:30",status:"Disetujui",action:"Lihat"},{id:"V003",user:"Hendra Wijaya",document:"KTP",submissionDate:"2025-06-01 08:45:22",status:"Ditolak",action:"Lihat"}].map(R=>i.jsxs(it,{children:[i.jsx(me,{className:"font-medium",children:R.id}),i.jsx(me,{children:R.user}),i.jsx(me,{children:R.document}),i.jsx(me,{children:R.submissionDate}),i.jsx(me,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${R.status==="Disetujui"?"bg-green-100 text-green-800":R.status==="Ditolak"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:R.status})}),i.jsx(me,{children:i.jsx(V,{variant:"ghost",size:"sm",children:R.action})})]},R.id))})]})})]})]}),i.jsx(Wt,{value:"transactions",className:"space-y-4",children:i.jsxs(xe,{children:[i.jsxs(nt,{children:[i.jsx(at,{children:"Transaksi PPOB"}),i.jsx(nr,{children:"Daftar semua transaksi PPOB yang telah dilakukan"})]}),i.jsx(be,{children:a?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):i.jsxs(vn,{children:[i.jsx(yn,{children:i.jsxs(it,{children:[i.jsx(Ce,{children:"ID"}),i.jsx(Ce,{children:"Produk"}),i.jsx(Ce,{children:"Nomor"}),i.jsx(Ce,{children:"Status"}),i.jsx(Ce,{children:"Tanggal"}),i.jsx(Ce,{children:"Harga"})]})}),i.jsx(xn,{children:h.map(R=>{var F;return i.jsxs(it,{children:[i.jsx(me,{className:"font-medium",children:(F=R.id)==null?void 0:F.slice(0,8)}),i.jsx(me,{children:R.product_name}),i.jsx(me,{children:R.customer_id}),i.jsx(me,{children:R.status}),i.jsx(me,{children:new Date(R.created_at||"").toLocaleString()}),i.jsxs(me,{children:["Rp ",(R.amount||0).toLocaleString()]})]},R.id)})})]})})]})}),i.jsx(Wt,{value:"digiflazz",className:"space-y-4",children:i.jsxs(xe,{children:[i.jsxs(nt,{children:[i.jsx(at,{children:"Konfigurasi Digiflazz API"}),i.jsx(nr,{children:"Atur kredensial API Digiflazz untuk integrasi PPOB"})]}),i.jsx(be,{children:a?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):i.jsxs("div",{className:"space-y-4",children:[p?i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"border rounded-md p-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Username"}),i.jsx("p",{className:"font-medium",children:p.username})]}),i.jsxs("div",{className:"border rounded-md p-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"API Key"}),i.jsx("p",{className:"font-medium",children:p.api_key?p.api_key.slice(0,4)+"****":"Not set"})]}),i.jsxs("div",{className:"border rounded-md p-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Mode"}),i.jsx("p",{className:"font-medium",children:p.mode})]})]}):i.jsx("p",{className:"text-center text-muted-foreground",children:"Konfigurasi Digiflazz belum diatur. Klik tombol di bawah untuk menambahkan konfigurasi."}),i.jsx(V,{onClick:()=>I(p||{}),children:p?"Edit Konfigurasi":"Tambah Konfigurasi"})]})})]})}),i.jsx(Wt,{value:"products",className:"space-y-4",children:i.jsxs(xe,{children:[i.jsxs(nt,{children:[i.jsx(at,{children:"Produk PPOB"}),i.jsx(nr,{children:"Daftar produk PPOB dari database dan API Digiflazz"})]}),i.jsxs(be,{children:[i.jsx("div",{className:"mb-4",children:i.jsx(V,{onClick:()=>N("product"),children:"Tambah Produk"})}),a?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Produk Database"}),i.jsxs(vn,{children:[i.jsx(yn,{children:i.jsxs(it,{children:[i.jsx(Ce,{children:"Nama"}),i.jsx(Ce,{children:"Harga"}),i.jsx(Ce,{children:"Deskripsi"}),i.jsx(Ce,{children:"Layanan"}),i.jsx(Ce,{children:"Aksi"})]})}),i.jsx(xn,{children:c.map(R=>{var F;return i.jsxs(it,{children:[i.jsx(me,{className:"font-medium",children:R.name}),i.jsxs(me,{children:["Rp ",(F=R.price)==null?void 0:F.toLocaleString()]}),i.jsx(me,{children:R.description||"-"}),i.jsx(me,{children:R.service_id}),i.jsx(me,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(V,{variant:"outline",size:"sm",onClick:()=>I(R),children:"Edit"}),i.jsx(V,{variant:"destructive",size:"sm",onClick:()=>P(R),disabled:b,children:"Hapus"})]})})]},R.id)})})]}),p&&p.api_key&&i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Produk dari Digiflazz API"}),A.length>0?i.jsxs(vn,{children:[i.jsx(yn,{children:i.jsxs(it,{children:[i.jsx(Ce,{children:"Nama Produk"}),i.jsx(Ce,{children:"Harga"}),i.jsx(Ce,{children:"Kategori"}),i.jsx(Ce,{children:"Brand"}),i.jsx(Ce,{children:"Status"})]})}),i.jsx(xn,{children:A.slice(0,50).map(R=>{var F;return i.jsxs(it,{children:[i.jsx(me,{className:"font-medium",children:R.product_name}),i.jsxs(me,{children:["Rp ",(F=R.price)==null?void 0:F.toLocaleString()]}),i.jsx(me,{children:R.category}),i.jsx(me,{children:R.brand}),i.jsx(me,{children:R.status==="active"?"Aktif":"Tidak Aktif"})]},R.product_id)})})]}):i.jsx("p",{className:"text-muted-foreground",children:"Tidak ada data produk dari Digiflazz API."}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Menampilkan ",Math.min(A.length,50)," dari ",A.length," produk Digiflazz."]})]})]})]})]})}),i.jsx(Wt,{value:"services",className:"space-y-4",children:i.jsxs(xe,{children:[i.jsxs(nt,{children:[i.jsx(at,{children:"Daftar Layanan"}),i.jsx(nr,{children:"Kelola layanan PPOB"})]}),i.jsxs(be,{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[i.jsx(le,{placeholder:"Cari nama layanan...",className:"max-w-sm"}),i.jsxs(On,{defaultValue:"all",children:[i.jsx(pn,{className:"w-[180px]",children:i.jsx(Fn,{placeholder:"Kategori"})}),i.jsxs(gn,{children:[i.jsx(mt,{value:"all",children:"Semua Kategori"}),i.jsx(mt,{value:"topup",children:"Top Up"}),i.jsx(mt,{value:"tagihan",children:"Tagihan"}),i.jsx(mt,{value:"investasi",children:"Investasi"}),i.jsx(mt,{value:"lainnya",children:"Lainnya"})]})]})]}),i.jsxs(V,{variant:"outline",children:[i.jsx(W.filterX,{className:"mr-2 h-4 w-4"}),"Reset Filter"]})]}),a?i.jsx("div",{className:"py-8 flex justify-center",children:"Memuat data..."}):i.jsxs(vn,{children:[i.jsx(yn,{children:i.jsxs(it,{children:[i.jsx(Ce,{children:"ID"}),i.jsx(Ce,{children:"Nama Layanan"}),i.jsx(Ce,{children:"Kategori"}),i.jsx(Ce,{children:"Route"}),i.jsx(Ce,{children:"Status"}),i.jsx(Ce,{children:"Aksi"})]})}),i.jsx(xn,{children:o.map(R=>i.jsxs(it,{children:[i.jsx(me,{className:"font-medium",children:R.id||"N/A"}),i.jsx(me,{children:R.name||"N/A"}),i.jsx(me,{children:R.category||"N/A"}),i.jsx(me,{children:R.route||"N/A"}),i.jsx(me,{children:i.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:"Aktif"})}),i.jsx(me,{children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(V,{variant:"ghost",size:"sm",onClick:()=>I(R),children:"Edit"}),i.jsx(V,{variant:"ghost",size:"sm",className:"text-red-500",disabled:b,onClick:()=>P(R),children:"Nonaktifkan"})]})})]},R.id||"temp-"+Math.random().toString()))})]})]})]})})]})]}),i.jsx(or,{open:m,onOpenChange:x,children:i.jsxs(er,{className:"sm:max-w-[425px]",children:[i.jsx(dr,{children:i.jsxs(hr,{children:[B.id&&E!=="digiflazz"?"Edit":"Tambah"," ",E==="service"?"Layanan":E==="product"?"Produk":"Konfigurasi Digiflazz"]})}),i.jsxs("form",{className:"space-y-4 pt-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:E==="digiflazz"?"Username Digiflazz":"Nama"}),i.jsx(le,{name:E==="digiflazz"?"username":"name",value:E==="digiflazz"?B.username:B.name,onChange:U,placeholder:"Masukkan nama",required:!0})]}),E==="service"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Kategori"}),i.jsx(le,{name:"category",value:B.category,onChange:U,placeholder:"Masukkan kategori",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ikon"}),i.jsx(le,{name:"icon",value:B.icon,onChange:U,placeholder:"Masukkan nama ikon"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Warna"}),i.jsx(le,{name:"color",value:B.color,onChange:U,placeholder:"Masukkan warna latar (hex)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Warna Ikon"}),i.jsx(le,{name:"icon_color",value:B.icon_color,onChange:U,placeholder:"Masukkan warna ikon (hex)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Rute"}),i.jsx(le,{name:"route",value:B.route,onChange:U,placeholder:"Masukkan path rute"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"is_new",name:"is_new",checked:B.is_new,onChange:U,className:"rounded"}),i.jsx("label",{htmlFor:"is_new",className:"text-sm font-medium",children:"Layanan Baru?"})]})]}),E==="product"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Harga"}),i.jsx(le,{type:"number",name:"price",value:B.price,onChange:U,placeholder:"Masukkan harga",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Deskripsi"}),i.jsx(le,{name:"description",value:B.description,onChange:U,placeholder:"Masukkan deskripsi"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"ID Layanan"}),i.jsx(le,{name:"service_id",value:B.service_id,onChange:U,placeholder:"Masukkan ID layanan terkait",required:!0})]})]}),E==="digiflazz"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"API Key"}),i.jsx(le,{name:"api_key",value:B.api_key,onChange:U,placeholder:"Masukkan API Key",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Mode"}),i.jsxs(On,{name:"mode",value:B.mode,onValueChange:R=>S(F=>({...F,mode:R})),children:[i.jsx(pn,{children:i.jsx(Fn,{placeholder:"Pilih mode"})}),i.jsxs(gn,{children:[i.jsx(mt,{value:"development",children:"Development"}),i.jsx(mt,{value:"production",children:"Production"})]})]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(V,{type:"button",variant:"outline",onClick:()=>x(!1),children:"Batal"}),i.jsx(V,{type:"button",onClick:T,disabled:a,children:"Simpan"})]})]})]})})]})}const DLe=new kne;function _t({element:t,requiresVerification:e=!0}){const{user:r,isLoading:n,isPhoneVerified:a}=Ir(),s=na(),o=s.pathname==="/verify-whatsapp",l=s.pathname==="/login",c=s.pathname==="/register",[u,A]=v.useState(null);return v.useEffect(()=>{let d=!0;const h=()=>n?i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):!r&&!l&&!c?i.jsx(oy,{to:"/login",state:{from:s},replace:!0}):e&&!a&&!o&&r?i.jsx(oy,{to:"/verify-whatsapp",state:{from:s},replace:!0}):t,f=setTimeout(()=>{d&&A(h())},10);return()=>{d=!1,clearTimeout(f)}},[r,n,a,s.pathname,e,t,l,c,o]),i.jsx(i.Fragment,{children:u})}function RLe(){const[t,e]=v.useState(!1);return v.useEffect(()=>{const r=()=>{const a=window.location.pathname;e(a.startsWith("/admin")||a==="/admin-login"||a==="/admin-register")};r();const n=()=>{r()};return window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)}},[]),i.jsx(Fne,{client:DLe,children:i.jsxs(G6,{children:[i.jsx(Ate,{}),i.jsx(Qte,{}),i.jsx(Fhe,{children:i.jsx(Dhe,{children:i.jsxs(eoe,{children:[i.jsx(Rhe,{}),!t&&i.jsx(rie,{}),i.jsxs(qie,{children:[i.jsx(Ze,{path:"/",element:i.jsx(_t,{element:i.jsx(A3,{})})}),i.jsx(Ze,{path:"/search",element:i.jsx(_t,{element:i.jsx(Ume,{})})}),i.jsx(Ze,{path:"/product/:id",element:i.jsx(_t,{element:i.jsx(epe,{})})}),i.jsx(Ze,{path:"/cart",element:i.jsx(_t,{element:i.jsx(tpe,{})})}),i.jsx(Ze,{path:"/checkout",element:i.jsx(_t,{element:i.jsx(xpe,{})})}),i.jsx(Ze,{path:"/profile",element:i.jsx(_t,{element:i.jsx(Kge,{})})}),i.jsx(Ze,{path:"/address/:id?",element:i.jsx(_t,{element:i.jsx(Jge,{})})}),i.jsx(Ze,{path:"/orders",element:i.jsx(_t,{element:i.jsx(Cwe,{})})}),i.jsx(Ze,{path:"/order/:id",element:i.jsx(_t,{element:i.jsx(_we,{})})}),i.jsx(Ze,{path:"/chat",element:i.jsx(_t,{element:i.jsx(l_e,{})})}),i.jsx(Ze,{path:"/ppob",element:i.jsx(_t,{element:i.jsx(U1,{})})}),i.jsx(Ze,{path:"/ppob/dashboard",element:i.jsx(_t,{element:i.jsx(U1,{})})}),i.jsx(Ze,{path:"/ppob/history",element:i.jsx(_t,{element:i.jsx(b_e,{})})}),i.jsx(Ze,{path:"/ppob/activity",element:i.jsx(_t,{element:i.jsx(bCe,{})})}),i.jsx(Ze,{path:"/ppob/verification",element:i.jsx(_t,{element:i.jsx(sCe,{})})}),i.jsx(Ze,{path:"/ppob/wallet",element:i.jsx(_t,{element:i.jsx(gCe,{})})}),i.jsx(Ze,{path:"/ppob/pulsa-data",element:i.jsx(_t,{element:i.jsx(SCe,{})})}),i.jsx(Ze,{path:"/ppob/send",element:i.jsx(_t,{element:i.jsx(TCe,{})})}),i.jsx(Ze,{path:"/ppob/request",element:i.jsx(_t,{element:i.jsx(OCe,{})})}),i.jsx(Ze,{path:"/ppob/topup",element:i.jsx(_t,{element:i.jsx(DCe,{})})}),i.jsx(Ze,{path:"/ppob/video",element:i.jsx(_t,{element:i.jsx(U1,{})})}),i.jsx(Ze,{path:"/ppob/games",element:i.jsx(_t,{element:i.jsx(LCe,{})})}),i.jsx(Ze,{path:"/ppob/all",element:i.jsx(_t,{element:i.jsx(HCe,{})})}),i.jsx(Ze,{path:"/ppob/test",element:i.jsx(_t,{element:i.jsx($Ce,{})})}),i.jsx(Ze,{path:"/ppob/electricity",element:i.jsx(_t,{element:i.jsx(UCe,{})})}),i.jsx(Ze,{path:"/ppob/ewallet",element:i.jsx(_t,{element:i.jsx(MCe,{})})}),i.jsx(Ze,{path:"/ppob/kredit",element:i.jsx(_t,{element:i.jsx(Us,{})})}),i.jsx(Ze,{path:"/ppob/tv-internet",element:i.jsx(_t,{element:i.jsx(Us,{})})}),i.jsx(Ze,{path:"/ppob/bpjs",element:i.jsx(_t,{element:i.jsx(Us,{})})}),i.jsx(Ze,{path:"/ppob/pdam",element:i.jsx(_t,{element:i.jsx(Us,{})})}),i.jsx(Ze,{path:"/ppob/pbb",element:i.jsx(_t,{element:i.jsx(Us,{})})}),i.jsx(Ze,{path:"/ppob/telkom",element:i.jsx(_t,{element:i.jsx(Us,{})})}),i.jsx(Ze,{path:"/ppob/pascabayar",element:i.jsx(_t,{element:i.jsx(Us,{})})}),i.jsx(Ze,{path:"/ppob/donasi-zakat",element:i.jsx(_t,{element:i.jsx(Us,{})})}),i.jsx(Ze,{path:"/ppob/investasi",element:i.jsx(_t,{element:i.jsx(qCe,{})})}),i.jsx(Ze,{path:"/ppob/undang-teman",element:i.jsx(_t,{element:i.jsx(Us,{})})}),i.jsx(Ze,{path:"/ppob/scan",element:i.jsx(_t,{element:i.jsx(Us,{})})}),i.jsx(Ze,{path:"/verify-whatsapp",element:i.jsx(v_e,{})}),i.jsx(Ze,{path:"/login",element:i.jsx(Swe,{})}),i.jsx(Ze,{path:"/register",element:i.jsx(Twe,{})}),i.jsx(Ze,{path:"/admin-login",element:i.jsx(Iwe,{})}),i.jsx(Ze,{path:"/admin-register",element:i.jsx(Owe,{})}),i.jsx(Ze,{path:"/admin",element:i.jsx(A3,{})}),i.jsx(Ze,{path:"/admin/inventory",element:i.jsx(FQe,{})}),i.jsx(Ze,{path:"/admin/coal-inventory",element:i.jsx(UQe,{})}),i.jsx(Ze,{path:"/admin/shipping",element:i.jsx(QQe,{})}),i.jsx(Ze,{path:"/admin/users",element:i.jsx(HQe,{})}),i.jsx(Ze,{path:"/admin/orders",element:i.jsx(VQe,{})}),i.jsx(Ze,{path:"/admin/orders/:id",element:i.jsx(aLe,{})}),i.jsx(Ze,{path:"/admin/vouchers",element:i.jsx(ILe,{})}),i.jsx(Ze,{path:"/admin/broadcast",element:i.jsx(PLe,{})}),i.jsx(Ze,{path:"/admin/analytics",element:i.jsx(sLe,{})}),i.jsx(Ze,{path:"/admin/settings",element:i.jsx(dLe,{})}),i.jsx(Ze,{path:"/admin/chats",element:i.jsx(hLe,{})}),i.jsx(Ze,{path:"/admin/chat/:customerId",element:i.jsx(fLe,{})}),i.jsx(Ze,{path:"/admin/ppob",element:i.jsx(FLe,{})}),i.jsx(Ze,{path:"*",element:i.jsx(Uhe,{})})]})]})})})]})})}VY.createRoot(document.getElementById("root")).render(i.jsx(CCe,{children:i.jsx(RLe,{})}));
