const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-CmxgrN_y.js","assets/react-DeqkGhWy.js"])))=>i.map(i=>d[i]);
var dee=Object.defineProperty;var A4=t=>{throw TypeError(t)};var hee=(t,e,r)=>e in t?dee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var _h=(t,e,r)=>hee(t,typeof e!="symbol"?e+"":e,r),e1=(t,e,r)=>e.has(t)||A4("Cannot "+r);var te=(t,e,r)=>(e1(t,e,"read from private field"),r?r.call(t):e.get(t)),ft=(t,e,r)=>e.has(t)?A4("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),We=(t,e,r,n)=>(e1(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),It=(t,e,r)=>(e1(t,e,"access private method"),r);var Sg=(t,e,r,n)=>({set _(a){We(t,e,a,r)},get _(){return te(t,e,n)}});import{r as Bp,a as YL,g as Ht,b as JL,c as bc}from"./react-DeqkGhWy.js";import{a as Fo}from"./vendor-xsH4HHeE.js";function fee(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var t1={exports:{}},Bh={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d4;function mee(){if(d4)return Bh;d4=1;var t=Bp(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var A,d={},h=null,f=null;u!==void 0&&(h=""+u),c.key!==void 0&&(h=""+c.key),c.ref!==void 0&&(f=c.ref);for(A in c)n.call(c,A)&&!s.hasOwnProperty(A)&&(d[A]=c[A]);if(l&&l.defaultProps)for(A in c=l.defaultProps,c)d[A]===void 0&&(d[A]=c[A]);return{$$typeof:e,type:l,key:h,ref:f,props:d,_owner:a.current}}return Bh.Fragment=r,Bh.jsx=o,Bh.jsxs=o,Bh}var h4;function pee(){return h4||(h4=1,t1.exports=mee()),t1.exports}var i=pee(),Ng={},f4;function gee(){if(f4)return Ng;f4=1;var t=YL();return Ng.createRoot=t.createRoot,Ng.hydrateRoot=t.hydrateRoot,Ng}var xee=gee(),v=Bp();const K=Ht(v),ZL=fee({__proto__:null,default:K},[v]),vee=1,yee=1e6;let r1=0;function bee(){return r1=(r1+1)%Number.MAX_SAFE_INTEGER,r1.toString()}const n1=new Map,m4=t=>{if(n1.has(t))return;const e=setTimeout(()=>{n1.delete(t),yf({type:"REMOVE_TOAST",toastId:t})},yee);n1.set(t,e)},wee=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,vee)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?m4(r):t.toasts.forEach(n=>{m4(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},R0=[];let U0={toasts:[]};function yf(t){U0=wee(U0,t),R0.forEach(e=>{e(U0)})}function fe({...t}){const e=bee(),r=a=>yf({type:"UPDATE_TOAST",toast:{...a,id:e}}),n=()=>yf({type:"DISMISS_TOAST",toastId:e});return yf({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:a=>{a||n()}}}),{id:e,dismiss:n,update:r}}function Ms(){const[t,e]=v.useState(U0);return v.useEffect(()=>(R0.push(e),()=>{const r=R0.indexOf(e);r>-1&&R0.splice(r,1)}),[t]),{...t,toast:fe,dismiss:r=>yf({type:"DISMISS_TOAST",toastId:r})}}var Od=YL();const eH=Ht(Od);function Fe(t,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t==null||t(a),r===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function _ee(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function tH(...t){return e=>t.forEach(r=>_ee(r,e))}function pt(...t){return v.useCallback(tH(...t),t)}function Bee(t,e=[]){let r=[];function n(s,o){const l=v.createContext(o),c=r.length;r=[...r,o];function u(d){const{scope:h,children:f,...m}=d,g=(h==null?void 0:h[t][c])||l,p=v.useMemo(()=>m,Object.values(m));return i.jsx(g.Provider,{value:p,children:f})}function A(d,h){const f=(h==null?void 0:h[t][c])||l,m=v.useContext(f);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,A]}const a=()=>{const s=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[n,Cee(a,...e)]}function Cee(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...l,...d}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Yi=v.forwardRef((t,e)=>{const{children:r,...n}=t,a=v.Children.toArray(r),s=a.find(jee);if(s){const o=s.props.children,l=a.map(c=>c===s?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:c);return i.jsx(kE,{...n,ref:e,children:v.isValidElement(o)?v.cloneElement(o,void 0,l):null})}return i.jsx(kE,{...n,ref:e,children:r})});Yi.displayName="Slot";var kE=v.forwardRef((t,e)=>{const{children:r,...n}=t;if(v.isValidElement(r)){const a=See(r);return v.cloneElement(r,{...Eee(n,r.props),ref:e?tH(e,a):a})}return v.Children.count(r)>1?v.Children.only(null):null});kE.displayName="SlotClone";var nT=({children:t})=>i.jsx(i.Fragment,{children:t});function jee(t){return v.isValidElement(t)&&t.type===nT}function Eee(t,e){const r={...e};for(const n in e){const a=t[n],s=e[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{s(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...t,...r}}function See(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Wy(t){const e=t+"CollectionProvider",[r,n]=Bee(e),[a,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=f=>{const{scope:m,children:g}=f,p=K.useRef(null),b=K.useRef(new Map).current;return i.jsx(a,{scope:m,itemMap:b,collectionRef:p,children:g})};o.displayName=e;const l=t+"CollectionSlot",c=K.forwardRef((f,m)=>{const{scope:g,children:p}=f,b=s(l,g),x=pt(m,b.collectionRef);return i.jsx(Yi,{ref:x,children:p})});c.displayName=l;const u=t+"CollectionItemSlot",A="data-radix-collection-item",d=K.forwardRef((f,m)=>{const{scope:g,children:p,...b}=f,x=K.useRef(null),w=pt(m,x),y=s(u,g);return K.useEffect(()=>(y.itemMap.set(x,{ref:x,...b}),()=>void y.itemMap.delete(x))),i.jsx(Yi,{[A]:"",ref:w,children:p})});d.displayName=u;function h(f){const m=s(t+"CollectionConsumer",f);return K.useCallback(()=>{const p=m.collectionRef.current;if(!p)return[];const b=Array.from(p.querySelectorAll(`[${A}]`));return Array.from(m.itemMap.values()).sort((y,C)=>b.indexOf(y.ref.current)-b.indexOf(C.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:o,Slot:c,ItemSlot:d},h,n]}function Nee(t,e){const r=v.createContext(e),n=s=>{const{children:o,...l}=s,c=v.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function a(s){const o=v.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,a]}function ba(t,e=[]){let r=[];function n(s,o){const l=v.createContext(o),c=r.length;r=[...r,o];const u=d=>{var b;const{scope:h,children:f,...m}=d,g=((b=h==null?void 0:h[t])==null?void 0:b[c])||l,p=v.useMemo(()=>m,Object.values(m));return i.jsx(g.Provider,{value:p,children:f})};u.displayName=s+"Provider";function A(d,h){var g;const f=((g=h==null?void 0:h[t])==null?void 0:g[c])||l,m=v.useContext(f);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[u,A]}const a=()=>{const s=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[n,Tee(a,...e)]}function Tee(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...l,...d}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var kee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ye=kee.reduce((t,e)=>{const r=v.forwardRef((n,a)=>{const{asChild:s,...o}=n,l=s?Yi:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function rH(t,e){t&&Od.flushSync(()=>t.dispatchEvent(e))}function kr(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Iee(t,e=globalThis==null?void 0:globalThis.document){const r=kr(t);v.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Pee="DismissableLayer",IE="dismissableLayer.update",Fee="dismissableLayer.pointerDownOutside",Dee="dismissableLayer.focusOutside",p4,nH=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rd=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,u=v.useContext(nH),[A,d]=v.useState(null),h=(A==null?void 0:A.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=v.useState({}),m=pt(e,B=>d(B)),g=Array.from(u.layers),[p]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(p),x=A?g.indexOf(A):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,y=x>=b,C=Ree(B=>{const j=B.target,N=[...u.branches].some(S=>S.contains(j));!y||N||(a==null||a(B),o==null||o(B),B.defaultPrevented||l==null||l())},h),E=Uee(B=>{const j=B.target;[...u.branches].some(S=>S.contains(j))||(s==null||s(B),o==null||o(B),B.defaultPrevented||l==null||l())},h);return Iee(B=>{x===u.layers.size-1&&(n==null||n(B),!B.defaultPrevented&&l&&(B.preventDefault(),l()))},h),v.useEffect(()=>{if(A)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(p4=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(A)),u.layers.add(A),g4(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=p4)}},[A,h,r,u]),v.useEffect(()=>()=>{A&&(u.layers.delete(A),u.layersWithOutsidePointerEventsDisabled.delete(A),g4())},[A,u]),v.useEffect(()=>{const B=()=>f({});return document.addEventListener(IE,B),()=>document.removeEventListener(IE,B)},[]),i.jsx(Ye.div,{...c,ref:m,style:{pointerEvents:w?y?"auto":"none":void 0,...t.style},onFocusCapture:Fe(t.onFocusCapture,E.onFocusCapture),onBlurCapture:Fe(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Fe(t.onPointerDownCapture,C.onPointerDownCapture)})});Rd.displayName=Pee;var Oee="DismissableLayerBranch",aH=v.forwardRef((t,e)=>{const r=v.useContext(nH),n=v.useRef(null),a=pt(e,n);return v.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),i.jsx(Ye.div,{...t,ref:a})});aH.displayName=Oee;function Ree(t,e=globalThis==null?void 0:globalThis.document){const r=kr(t),n=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){sH(Fee,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=c,e.addEventListener("click",a.current,{once:!0})):c()}else e.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",a.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Uee(t,e=globalThis==null?void 0:globalThis.document){const r=kr(t),n=v.useRef(!1);return v.useEffect(()=>{const a=s=>{s.target&&!n.current&&sH(Dee,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function g4(){const t=new CustomEvent(IE);document.dispatchEvent(t)}function sH(t,e,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?rH(a,s):a.dispatchEvent(s)}var Mee=Rd,Qee=aH,Yr=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},Lee="Portal",Cp=v.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[a,s]=v.useState(!1);Yr(()=>s(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?eH.createPortal(i.jsx(Ye.div,{...n,ref:e}),o):null});Cp.displayName=Lee;function Hee(t,e){return v.useReducer((r,n)=>e[r][n]??r,t)}var oa=t=>{const{present:e,children:r}=t,n=$ee(e),a=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),s=pt(n.ref,Vee(a));return typeof r=="function"||n.isPresent?v.cloneElement(a,{ref:s}):null};oa.displayName="Presence";function $ee(t){const[e,r]=v.useState(),n=v.useRef({}),a=v.useRef(t),s=v.useRef("none"),o=t?"mounted":"unmounted",[l,c]=Hee(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=Tg(n.current);s.current=l==="mounted"?u:"none"},[l]),Yr(()=>{const u=n.current,A=a.current;if(A!==t){const h=s.current,f=Tg(u);t?c("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(A&&h!==f?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,c]),Yr(()=>{if(e){let u;const A=e.ownerDocument.defaultView??window,d=f=>{const g=Tg(n.current).includes(f.animationName);if(f.target===e&&g&&(c("ANIMATION_END"),!a.current)){const p=e.style.animationFillMode;e.style.animationFillMode="forwards",u=A.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=p)})}},h=f=>{f.target===e&&(s.current=Tg(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{A.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Tg(t){return(t==null?void 0:t.animationName)||"none"}function Vee(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function ls({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,a]=Kee({defaultProp:e,onChange:r}),s=t!==void 0,o=s?t:n,l=kr(r),c=v.useCallback(u=>{if(s){const d=typeof u=="function"?u(t):u;d!==t&&l(d)}else a(u)},[s,t,a,l]);return[o,c]}function Kee({defaultProp:t,onChange:e}){const r=v.useState(t),[n]=r,a=v.useRef(n),s=kr(e);return v.useEffect(()=>{a.current!==n&&(s(n),a.current=n)},[n,a,s]),r}var qee="VisuallyHidden",jp=v.forwardRef((t,e)=>i.jsx(Ye.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));jp.displayName=qee;var Gee=jp,aT="ToastProvider",[sT,zee,Wee]=Wy("Toast"),[iH,N8e]=ba("Toast",[Wee]),[Xee,Xy]=iH(aT),oH=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:s=50,children:o}=t,[l,c]=v.useState(null),[u,A]=v.useState(0),d=v.useRef(!1),h=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${aT}\`. Expected non-empty \`string\`.`),i.jsx(sT.Provider,{scope:e,children:i.jsx(Xee,{scope:e,label:r,duration:n,swipeDirection:a,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>A(f=>f+1),[]),onToastRemove:v.useCallback(()=>A(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};oH.displayName=aT;var lH="ToastViewport",Yee=["F8"],PE="toast.viewportPause",FE="toast.viewportResume",cH=v.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=Yee,label:a="Notifications ({hotkey})",...s}=t,o=Xy(lH,r),l=zee(r),c=v.useRef(null),u=v.useRef(null),A=v.useRef(null),d=v.useRef(null),h=pt(e,d,o.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=o.toastCount>0;v.useEffect(()=>{const p=b=>{var w;n.length!==0&&n.every(y=>b[y]||b.code===y)&&((w=d.current)==null||w.focus())};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[n]),v.useEffect(()=>{const p=c.current,b=d.current;if(m&&p&&b){const x=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(PE);b.dispatchEvent(E),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(FE);b.dispatchEvent(E),o.isClosePausedRef.current=!1}},y=E=>{!p.contains(E.relatedTarget)&&w()},C=()=>{p.contains(document.activeElement)||w()};return p.addEventListener("focusin",x),p.addEventListener("focusout",y),p.addEventListener("pointermove",x),p.addEventListener("pointerleave",C),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{p.removeEventListener("focusin",x),p.removeEventListener("focusout",y),p.removeEventListener("pointermove",x),p.removeEventListener("pointerleave",C),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[m,o.isClosePausedRef]);const g=v.useCallback(({tabbingDirection:p})=>{const x=l().map(w=>{const y=w.ref.current,C=[y,...ute(y)];return p==="forwards"?C:C.reverse()});return(p==="forwards"?x.reverse():x).flat()},[l]);return v.useEffect(()=>{const p=d.current;if(p){const b=x=>{var C,E,B;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const j=document.activeElement,N=x.shiftKey;if(x.target===p&&N){(C=u.current)==null||C.focus();return}const I=g({tabbingDirection:N?"backwards":"forwards"}),k=I.findIndex(R=>R===j);a1(I.slice(k+1))?x.preventDefault():N?(E=u.current)==null||E.focus():(B=A.current)==null||B.focus()}};return p.addEventListener("keydown",b),()=>p.removeEventListener("keydown",b)}},[l,g]),i.jsxs(Qee,{ref:c,role:"region","aria-label":a.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&i.jsx(DE,{ref:u,onFocusFromOutsideViewport:()=>{const p=g({tabbingDirection:"forwards"});a1(p)}}),i.jsx(sT.Slot,{scope:r,children:i.jsx(Ye.ol,{tabIndex:-1,...s,ref:h})}),m&&i.jsx(DE,{ref:A,onFocusFromOutsideViewport:()=>{const p=g({tabbingDirection:"backwards"});a1(p)}})]})});cH.displayName=lH;var uH="ToastFocusProxy",DE=v.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=t,s=Xy(uH,r);return i.jsx(jp,{"aria-hidden":!0,tabIndex:0,...a,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&n()}})});DE.displayName=uH;var Yy="Toast",Jee="toast.swipeStart",Zee="toast.swipeMove",ete="toast.swipeCancel",tte="toast.swipeEnd",AH=v.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:s,...o}=t,[l=!0,c]=ls({prop:n,defaultProp:a,onChange:s});return i.jsx(oa,{present:r||l,children:i.jsx(ate,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:kr(t.onPause),onResume:kr(t.onResume),onSwipeStart:Fe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Fe(t.onSwipeMove,u=>{const{x:A,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${A}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Fe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Fe(t.onSwipeEnd,u=>{const{x:A,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${A}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});AH.displayName=Yy;var[rte,nte]=iH(Yy,{onClose(){}}),ate=v.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:s,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:A,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:f,...m}=t,g=Xy(Yy,r),[p,b]=v.useState(null),x=pt(e,R=>b(R)),w=v.useRef(null),y=v.useRef(null),C=a||g.duration,E=v.useRef(0),B=v.useRef(C),j=v.useRef(0),{onToastAdd:N,onToastRemove:S}=g,T=kr(()=>{var M;(p==null?void 0:p.contains(document.activeElement))&&((M=g.viewport)==null||M.focus()),o()}),I=v.useCallback(R=>{!R||R===1/0||(window.clearTimeout(j.current),E.current=new Date().getTime(),j.current=window.setTimeout(T,R))},[T]);v.useEffect(()=>{const R=g.viewport;if(R){const M=()=>{I(B.current),u==null||u()},$=()=>{const U=new Date().getTime()-E.current;B.current=B.current-U,window.clearTimeout(j.current),c==null||c()};return R.addEventListener(PE,$),R.addEventListener(FE,M),()=>{R.removeEventListener(PE,$),R.removeEventListener(FE,M)}}},[g.viewport,C,c,u,I]),v.useEffect(()=>{s&&!g.isClosePausedRef.current&&I(C)},[s,C,g.isClosePausedRef,I]),v.useEffect(()=>(N(),()=>S()),[N,S]);const k=v.useMemo(()=>p?xH(p):null,[p]);return g.viewport?i.jsxs(i.Fragment,{children:[k&&i.jsx(ste,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),i.jsx(rte,{scope:r,onClose:T,children:Od.createPortal(i.jsx(sT.ItemSlot,{scope:r,children:i.jsx(Mee,{asChild:!0,onEscapeKeyDown:Fe(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||T(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Ye.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...m,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Fe(t.onKeyDown,R=>{R.key==="Escape"&&(l==null||l(R.nativeEvent),R.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:Fe(t.onPointerDown,R=>{R.button===0&&(w.current={x:R.clientX,y:R.clientY})}),onPointerMove:Fe(t.onPointerMove,R=>{if(!w.current)return;const M=R.clientX-w.current.x,$=R.clientY-w.current.y,U=!!y.current,O=["left","right"].includes(g.swipeDirection),L=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,H=O?L(0,M):0,D=O?0:L(0,$),Q=R.pointerType==="touch"?10:2,z={x:H,y:D},q={originalEvent:R,delta:z};U?(y.current=z,kg(Zee,d,q,{discrete:!1})):x4(z,g.swipeDirection,Q)?(y.current=z,kg(Jee,A,q,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(M)>Q||Math.abs($)>Q)&&(w.current=null)}),onPointerUp:Fe(t.onPointerUp,R=>{const M=y.current,$=R.target;if($.hasPointerCapture(R.pointerId)&&$.releasePointerCapture(R.pointerId),y.current=null,w.current=null,M){const U=R.currentTarget,O={originalEvent:R,delta:M};x4(M,g.swipeDirection,g.swipeThreshold)?kg(tte,f,O,{discrete:!0}):kg(ete,h,O,{discrete:!0}),U.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),ste=t=>{const{__scopeToast:e,children:r,...n}=t,a=Xy(Yy,e),[s,o]=v.useState(!1),[l,c]=v.useState(!1);return lte(()=>o(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(Cp,{asChild:!0,children:i.jsx(jp,{...n,children:s&&i.jsxs(i.Fragment,{children:[a.label," ",r]})})})},ite="ToastTitle",dH=v.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return i.jsx(Ye.div,{...n,ref:e})});dH.displayName=ite;var ote="ToastDescription",hH=v.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return i.jsx(Ye.div,{...n,ref:e})});hH.displayName=ote;var fH="ToastAction",mH=v.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?i.jsx(gH,{altText:r,asChild:!0,children:i.jsx(iT,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${fH}\`. Expected non-empty \`string\`.`),null)});mH.displayName=fH;var pH="ToastClose",iT=v.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,a=nte(pH,r);return i.jsx(gH,{asChild:!0,children:i.jsx(Ye.button,{type:"button",...n,ref:e,onClick:Fe(t.onClick,a.onClose)})})});iT.displayName=pH;var gH=v.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...a}=t;return i.jsx(Ye.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:e})});function xH(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),cte(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!a)if(s){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...xH(n))}}),e}function kg(t,e,r,{discrete:n}){const a=r.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?rH(a,s):a.dispatchEvent(s)}var x4=(t,e,r=0)=>{const n=Math.abs(t.x),a=Math.abs(t.y),s=n>a;return e==="left"||e==="right"?s&&n>r:!s&&a>r};function lte(t=()=>{}){const e=kr(t);Yr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function cte(t){return t.nodeType===t.ELEMENT_NODE}function ute(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function a1(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var Ate=oH,vH=cH,yH=AH,bH=dH,wH=hH,_H=mH,BH=iT;function CH(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=CH(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Lt(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=CH(t))&&(n&&(n+=" "),n+=e);return n}const v4=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,y4=Lt,Ud=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return y4(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=e,o=Object.keys(a).map(u=>{const A=r==null?void 0:r[u],d=s==null?void 0:s[u];if(A===null)return null;const h=v4(A)||v4(d);return a[u][h]}),l=r&&Object.entries(r).reduce((u,A)=>{let[d,h]=A;return h===void 0||(u[d]=h),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,A)=>{let{class:d,className:h,...f}=A;return Object.entries(f).every(m=>{let[g,p]=m;return Array.isArray(p)?p.includes({...s,...l}[g]):{...s,...l}[g]===p})?[...u,d,h]:u},[]);return y4(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dte=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jH=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fte=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...hte,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:jH("lucide",a),...l},[...o.map(([u,A])=>v.createElement(u,A)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(t,e)=>{const r=v.forwardRef(({className:n,...a},s)=>v.createElement(fte,{ref:s,iconNode:e,className:jH(`lucide-${dte(t)}`,n),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mte=Ce("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=Ce("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=Ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pte=Ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gte=Ce("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xte=Ce("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vte=Ce("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=Ce("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=Ce("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=Ce("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=Ce("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=Ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yte=Ce("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=Ce("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bte=Ce("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=Ce("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=Ce("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=Ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=Ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=Ce("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=Ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wte=Ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _te=Ce("ChevronsDown",[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=Ce("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=Ce("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=Ce("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jte=Ce("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ete=Ce("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ste=Ce("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nte=Ce("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=Ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tte=Ce("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=Ce("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=Ce("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=Ce("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=Ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=Ce("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pte=Ce("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=Ce("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=Ce("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ote=Ce("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=Ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=Ce("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=Ce("Gamepad",[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=Ce("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=Ce("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=Ce("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=Ce("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=Ce("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=Ce("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=Ce("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=Ce("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=Ce("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=Ce("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=Ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=Ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=Ce("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=Ce("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=Ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=Ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=Ce("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=Ce("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=Ce("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=Ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=Ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=Ce("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=Ce("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=Ce("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=Ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=Ce("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=Ce("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=Ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=Ce("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=Ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=Ce("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=Ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=Ce("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=Ce("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wte=Ce("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=Ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xte=Ce("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=Ce("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=Ce("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=Ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=Ce("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jte=Ce("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=Ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=Ce("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=Ce("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zte=Ce("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=Ce("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=Ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=Ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tre=Ce("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=Ce("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=Ce("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=Ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nre=Ce("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),pT="-",are=t=>{const e=ire(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(pT);return l[0]===""&&l.length!==1&&l.shift(),QH(l,e)||sre(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},QH=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),a=n?QH(t.slice(1),n):void 0;if(a)return a;if(e.validators.length===0)return;const s=t.join(pT);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},N4=/^\[(.+)\]$/,sre=t=>{if(N4.test(t)){const e=N4.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},ire=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return lre(Object.entries(t.classGroups),r).forEach(([s,o])=>{$E(o,n,s,e)}),n},$E=(t,e,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const s=a===""?e:T4(e,a);s.classGroupId=r;return}if(typeof a=="function"){if(ore(a)){$E(a(n),e,r,n);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,o])=>{$E(o,T4(e,s),r,n)})})},T4=(t,e)=>{let r=t;return e.split(pT).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},ore=t=>t.isThemeGetter,lre=(t,e)=>e?t.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[r,a]}):t,cre=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const a=(s,o)=>{r.set(s,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return a(s,o),o},set(s,o){r.has(s)?r.set(s,o):a(s,o)}}},LH="!",ure=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,a=e[0],s=e.length,o=l=>{const c=[];let u=0,A=0,d;for(let p=0;p<l.length;p++){let b=l[p];if(u===0){if(b===a&&(n||l.slice(p,p+s)===e)){c.push(l.slice(A,p)),A=p+s;continue}if(b==="/"){d=p;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(A),f=h.startsWith(LH),m=f?h.substring(1):h,g=d&&d>A?d-A:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},Are=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},dre=t=>({cache:cre(t.cacheSize),parseClassName:ure(t),...are(t)}),hre=/\s+/,fre=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=e,s=[],o=t.trim().split(hre);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:A,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=r(u);let m=!!f,g=n(m?h.substring(0,f):h);if(!g){if(!m){l=u+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=u+(l.length>0?" "+l:l);continue}m=!1}const p=Are(A).join(":"),b=d?p+LH:p,x=b+g;if(s.includes(x))continue;s.push(x);const w=a(g,m);for(let y=0;y<w.length;++y){const C=w[y];s.push(b+C)}l=u+(l.length>0?" "+l:l)}return l};function mre(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=HH(e))&&(n&&(n+=" "),n+=r);return n}const HH=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=HH(t[n]))&&(r&&(r+=" "),r+=e);return r};function pre(t,...e){let r,n,a,s=o;function o(c){const u=e.reduce((A,d)=>d(A),t());return r=dre(u),n=r.cache.get,a=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const A=fre(c,r);return a(c,A),A}return function(){return s(mre.apply(null,arguments))}}const yr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},$H=/^\[(?:([a-z-]+):)?(.+)\]$/i,gre=/^\d+\/\d+$/,xre=new Set(["px","full","screen"]),vre=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yre=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bre=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wre=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_re=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ni=t=>pA(t)||xre.has(t)||gre.test(t),bo=t=>Qd(t,"length",kre),pA=t=>!!t&&!Number.isNaN(Number(t)),s1=t=>Qd(t,"number",pA),Ch=t=>!!t&&Number.isInteger(Number(t)),Bre=t=>t.endsWith("%")&&pA(t.slice(0,-1)),wt=t=>$H.test(t),wo=t=>vre.test(t),Cre=new Set(["length","size","percentage"]),jre=t=>Qd(t,Cre,VH),Ere=t=>Qd(t,"position",VH),Sre=new Set(["image","url"]),Nre=t=>Qd(t,Sre,Pre),Tre=t=>Qd(t,"",Ire),jh=()=>!0,Qd=(t,e,r)=>{const n=$H.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},kre=t=>yre.test(t)&&!bre.test(t),VH=()=>!1,Ire=t=>wre.test(t),Pre=t=>_re.test(t),Fre=()=>{const t=yr("colors"),e=yr("spacing"),r=yr("blur"),n=yr("brightness"),a=yr("borderColor"),s=yr("borderRadius"),o=yr("borderSpacing"),l=yr("borderWidth"),c=yr("contrast"),u=yr("grayscale"),A=yr("hueRotate"),d=yr("invert"),h=yr("gap"),f=yr("gradientColorStops"),m=yr("gradientColorStopPositions"),g=yr("inset"),p=yr("margin"),b=yr("opacity"),x=yr("padding"),w=yr("saturate"),y=yr("scale"),C=yr("sepia"),E=yr("skew"),B=yr("space"),j=yr("translate"),N=()=>["auto","contain","none"],S=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",wt,e],I=()=>[wt,e],k=()=>["",Ni,bo],R=()=>["auto",pA,wt],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",wt],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[pA,wt];return{cacheSize:500,separator:":",theme:{colors:[jh],spacing:[Ni,bo],blur:["none","",wo,wt],brightness:D(),borderColor:[t],borderRadius:["none","","full",wo,wt],borderSpacing:I(),borderWidth:k(),contrast:D(),grayscale:L(),hueRotate:D(),invert:L(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[Bre,bo],inset:T(),margin:T(),opacity:D(),padding:I(),saturate:D(),scale:D(),sepia:L(),skew:D(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",wt]}],container:["container"],columns:[{columns:[wo]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),wt]}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ch,wt]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",wt]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Ch,wt]}],"grid-cols":[{"grid-cols":[jh]}],"col-start-end":[{col:["auto",{span:["full",Ch,wt]},wt]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[jh]}],"row-start-end":[{row:["auto",{span:[Ch,wt]},wt]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",wt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",wt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[p]}],mx:[{mx:[p]}],my:[{my:[p]}],ms:[{ms:[p]}],me:[{me:[p]}],mt:[{mt:[p]}],mr:[{mr:[p]}],mb:[{mb:[p]}],ml:[{ml:[p]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",wt,e]}],"min-w":[{"min-w":[wt,e,"min","max","fit"]}],"max-w":[{"max-w":[wt,e,"none","full","min","max","fit","prose",{screen:[wo]},wo]}],h:[{h:[wt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[wt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[wt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[wt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",wo,bo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",s1]}],"font-family":[{font:[jh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",wt]}],"line-clamp":[{"line-clamp":["none",pA,s1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ni,wt]}],"list-image":[{"list-image":["none",wt]}],"list-style-type":[{list:["none","disc","decimal",wt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ni,bo]}],"underline-offset":[{"underline-offset":["auto",Ni,wt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",wt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",wt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),Ere]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jre]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Nre]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:$()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[Ni,wt]}],"outline-w":[{outline:[Ni,bo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Ni,bo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",wo,Tre]}],"shadow-color":[{shadow:[jh]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",wo,wt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[A]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[A]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",wt]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",wt]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",wt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[y]}],"scale-x":[{"scale-x":[y]}],"scale-y":[{"scale-y":[y]}],rotate:[{rotate:[Ch,wt]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",wt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",wt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",wt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ni,bo,s1]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Dre=pre(Fre);function he(...t){return Dre(Lt(t))}function ve(t){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t).replace(/^IDR\s*/,"Rp")}const Ore=Ate,KH=v.forwardRef(({className:t,...e},r)=>i.jsx(vH,{ref:r,className:he("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));KH.displayName=vH.displayName;const Rre=Ud("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),qH=v.forwardRef(({className:t,variant:e,...r},n)=>i.jsx(yH,{ref:n,className:he(Rre({variant:e}),t),...r}));qH.displayName=yH.displayName;const Ure=v.forwardRef(({className:t,...e},r)=>i.jsx(_H,{ref:r,className:he("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Ure.displayName=_H.displayName;const GH=v.forwardRef(({className:t,...e},r)=>i.jsx(BH,{ref:r,className:he("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:i.jsx(tb,{className:"h-4 w-4"})}));GH.displayName=BH.displayName;const zH=v.forwardRef(({className:t,...e},r)=>i.jsx(bH,{ref:r,className:he("text-sm font-semibold",t),...e}));zH.displayName=bH.displayName;const WH=v.forwardRef(({className:t,...e},r)=>i.jsx(wH,{ref:r,className:he("text-sm opacity-90",t),...e}));WH.displayName=wH.displayName;function Mre(){const{toasts:t}=Ms();return i.jsxs(Ore,{children:[t.map(function({id:e,title:r,description:n,action:a,...s}){return i.jsxs(qH,{...s,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(zH,{children:r}),n&&i.jsx(WH,{children:n})]}),a,i.jsx(GH,{})]},e)}),i.jsx(KH,{})]})}var k4=["light","dark"],Qre="(prefers-color-scheme: dark)",Lre=v.createContext(void 0),Hre={setTheme:t=>{},themes:[]},$re=()=>{var t;return(t=v.useContext(Lre))!=null?t:Hre};v.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:o,attrs:l,nonce:c})=>{let u=s==="system",A=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=a?k4.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(m,g=!1,p=!0)=>{let b=o?o[m]:m,x=g?m+"|| ''":`'${b}'`,w="";return a&&p&&!g&&k4.includes(m)&&(w+=`d.style.colorScheme = '${m}';`),r==="class"?g||b?w+=`c.add(${x})`:w+="null":b&&(w+=`d[s](n,${x})`),w},f=t?`!function(){${A}${h(t)}}()`:n?`!function(){try{${A}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${Qre}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${A}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${d}}catch(t){}}();`;return v.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:f}})});var Vre=t=>{switch(t){case"success":return Gre;case"info":return Wre;case"warning":return zre;case"error":return Xre;default:return null}},Kre=Array(12).fill(0),qre=({visible:t})=>K.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},K.createElement("div",{className:"sonner-spinner"},Kre.map((e,r)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Gre=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),zre=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Wre=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Xre=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Yre=()=>{let[t,e]=K.useState(document.hidden);return K.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},VE=1,Jre=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;let{message:n,...a}=e,s=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:VE++,o=this.toasts.find(c=>c.id===s),l=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...e,id:s,title:n}),{...c,...e,id:s,dismissible:l,title:n}):c):this.addToast({title:n,...a,dismissible:l,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:e,dismiss:!0})),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let a=e instanceof Promise?e:e(),s=n!==void 0;return a.then(async o=>{if(ene(o)&&!o.ok){s=!1;let l=typeof r.error=="function"?await r.error(`HTTP error! status: ${o.status}`):r.error,c=typeof r.description=="function"?await r.description(`HTTP error! status: ${o.status}`):r.description;this.create({id:n,type:"error",message:l,description:c})}else if(r.success!==void 0){s=!1;let l=typeof r.success=="function"?await r.success(o):r.success,c=typeof r.description=="function"?await r.description(o):r.description;this.create({id:n,type:"success",message:l,description:c})}}).catch(async o=>{if(r.error!==void 0){s=!1;let l=typeof r.error=="function"?await r.error(o):r.error,c=typeof r.description=="function"?await r.description(o):r.description;this.create({id:n,type:"error",message:l,description:c})}}).finally(()=>{var o;s&&(this.dismiss(n),n=void 0),(o=r.finally)==null||o.call(r)}),n},this.custom=(e,r)=>{let n=(r==null?void 0:r.id)||VE++;return this.create({jsx:e(n),id:n,...r}),n},this.subscribers=[],this.toasts=[]}},ka=new Jre,Zre=(t,e)=>{let r=(e==null?void 0:e.id)||VE++;return ka.addToast({title:t,...e,id:r}),r},ene=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",tne=Zre,rne=()=>ka.toasts;Object.assign(tne,{success:ka.success,info:ka.info,warning:ka.warning,error:ka.error,custom:ka.custom,message:ka.message,promise:ka.promise,dismiss:ka.dismiss,loading:ka.loading},{getHistory:rne});function nne(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}nne(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ig(t){return t.label!==void 0}var ane=3,sne="32px",ine=4e3,one=356,lne=14,cne=20,une=200;function Ane(...t){return t.filter(Boolean).join(" ")}var dne=t=>{var e,r,n,a,s,o,l,c,u,A;let{invert:d,toast:h,unstyled:f,interacting:m,setHeights:g,visibleToasts:p,heights:b,index:x,toasts:w,expanded:y,removeToast:C,defaultRichColors:E,closeButton:B,style:j,cancelButtonStyle:N,actionButtonStyle:S,className:T="",descriptionClassName:I="",duration:k,position:R,gap:M,loadingIcon:$,expandByDefault:U,classNames:O,icons:L,closeButtonAriaLabel:H="Close toast",pauseWhenPageIsHidden:D,cn:Q}=t,[z,q]=K.useState(!1),[W,ee]=K.useState(!1),[oe,ne]=K.useState(!1),[ce,de]=K.useState(!1),[be,Y]=K.useState(0),[pe,je]=K.useState(0),Le=K.useRef(null),Ve=K.useRef(null),bt=x===0,X=x+1<=p,re=h.type,ie=h.dismissible!==!1,ge=h.className||"",we=h.descriptionClassName||"",xe=K.useMemo(()=>b.findIndex(ut=>ut.toastId===h.id)||0,[b,h.id]),Ke=K.useMemo(()=>{var ut;return(ut=h.closeButton)!=null?ut:B},[h.closeButton,B]),it=K.useMemo(()=>h.duration||k||ine,[h.duration,k]),Ze=K.useRef(0),nt=K.useRef(0),fn=K.useRef(0),ca=K.useRef(null),[$a,ua]=R.split("-"),Fn=K.useMemo(()=>b.reduce((ut,Wt,$t)=>$t>=xe?ut:ut+Wt.height,0),[b,xe]),Vs=Yre(),ji=h.invert||d,_a=re==="loading";nt.current=K.useMemo(()=>xe*M+Fn,[xe,Fn]),K.useEffect(()=>{q(!0)},[]),K.useLayoutEffect(()=>{if(!z)return;let ut=Ve.current,Wt=ut.style.height;ut.style.height="auto";let $t=ut.getBoundingClientRect().height;ut.style.height=Wt,je($t),g(en=>en.find(mn=>mn.toastId===h.id)?en.map(mn=>mn.toastId===h.id?{...mn,height:$t}:mn):[{toastId:h.id,height:$t,position:h.position},...en])},[z,h.title,h.description,g,h.id]);let Va=K.useCallback(()=>{ee(!0),Y(nt.current),g(ut=>ut.filter(Wt=>Wt.toastId!==h.id)),setTimeout(()=>{C(h)},une)},[h,C,g,nt]);K.useEffect(()=>{if(h.promise&&re==="loading"||h.duration===1/0||h.type==="loading")return;let ut,Wt=it;return y||m||D&&Vs?(()=>{if(fn.current<Ze.current){let $t=new Date().getTime()-Ze.current;Wt=Wt-$t}fn.current=new Date().getTime()})():Wt!==1/0&&(Ze.current=new Date().getTime(),ut=setTimeout(()=>{var $t;($t=h.onAutoClose)==null||$t.call(h,h),Va()},Wt)),()=>clearTimeout(ut)},[y,m,U,h,it,Va,h.promise,re,D,Vs]),K.useEffect(()=>{let ut=Ve.current;if(ut){let Wt=ut.getBoundingClientRect().height;return je(Wt),g($t=>[{toastId:h.id,height:Wt,position:h.position},...$t]),()=>g($t=>$t.filter(en=>en.toastId!==h.id))}},[g,h.id]),K.useEffect(()=>{h.delete&&Va()},[Va,h.delete]);function dh(){return L!=null&&L.loading?K.createElement("div",{className:"sonner-loader","data-visible":re==="loading"},L.loading):$?K.createElement("div",{className:"sonner-loader","data-visible":re==="loading"},$):K.createElement(qre,{visible:re==="loading"})}return K.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Ve,className:Q(T,ge,O==null?void 0:O.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,O==null?void 0:O.default,O==null?void 0:O[re],(r=h==null?void 0:h.classNames)==null?void 0:r[re]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:E,"data-styled":!(h.jsx||h.unstyled||f),"data-mounted":z,"data-promise":!!h.promise,"data-removed":W,"data-visible":X,"data-y-position":$a,"data-x-position":ua,"data-index":x,"data-front":bt,"data-swiping":oe,"data-dismissible":ie,"data-type":re,"data-invert":ji,"data-swipe-out":ce,"data-expanded":!!(y||U&&z),style:{"--index":x,"--toasts-before":x,"--z-index":w.length-x,"--offset":`${W?be:nt.current}px`,"--initial-height":U?"auto":`${pe}px`,...j,...h.style},onPointerDown:ut=>{_a||!ie||(Le.current=new Date,Y(nt.current),ut.target.setPointerCapture(ut.pointerId),ut.target.tagName!=="BUTTON"&&(ne(!0),ca.current={x:ut.clientX,y:ut.clientY}))},onPointerUp:()=>{var ut,Wt,$t,en;if(ce||!ie)return;ca.current=null;let mn=Number(((ut=Ve.current)==null?void 0:ut.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ks=new Date().getTime()-((Wt=Le.current)==null?void 0:Wt.getTime()),ds=Math.abs(mn)/Ks;if(Math.abs(mn)>=cne||ds>.11){Y(nt.current),($t=h.onDismiss)==null||$t.call(h,h),Va(),de(!0);return}(en=Ve.current)==null||en.style.setProperty("--swipe-amount","0px"),ne(!1)},onPointerMove:ut=>{var Wt;if(!ca.current||!ie)return;let $t=ut.clientY-ca.current.y,en=ut.clientX-ca.current.x,mn=($a==="top"?Math.min:Math.max)(0,$t),Ks=ut.pointerType==="touch"?10:2;Math.abs(mn)>Ks?(Wt=Ve.current)==null||Wt.style.setProperty("--swipe-amount",`${$t}px`):Math.abs(en)>Ks&&(ca.current=null)}},Ke&&!h.jsx?K.createElement("button",{"aria-label":H,"data-disabled":_a,"data-close-button":!0,onClick:_a||!ie?()=>{}:()=>{var ut;Va(),(ut=h.onDismiss)==null||ut.call(h,h)},className:Q(O==null?void 0:O.closeButton,(a=h==null?void 0:h.classNames)==null?void 0:a.closeButton)},K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||K.isValidElement(h.title)?h.jsx||h.title:K.createElement(K.Fragment,null,re||h.icon||h.promise?K.createElement("div",{"data-icon":"",className:Q(O==null?void 0:O.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||dh():null,h.type!=="loading"?h.icon||(L==null?void 0:L[re])||Vre(re):null):null,K.createElement("div",{"data-content":"",className:Q(O==null?void 0:O.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},K.createElement("div",{"data-title":"",className:Q(O==null?void 0:O.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?K.createElement("div",{"data-description":"",className:Q(I,we,O==null?void 0:O.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),K.isValidElement(h.cancel)?h.cancel:h.cancel&&Ig(h.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||N,onClick:ut=>{var Wt,$t;Ig(h.cancel)&&ie&&(($t=(Wt=h.cancel).onClick)==null||$t.call(Wt,ut),Va())},className:Q(O==null?void 0:O.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,K.isValidElement(h.action)?h.action:h.action&&Ig(h.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||S,onClick:ut=>{var Wt,$t;Ig(h.action)&&(ut.defaultPrevented||(($t=(Wt=h.action).onClick)==null||$t.call(Wt,ut),Va()))},className:Q(O==null?void 0:O.actionButton,(A=h==null?void 0:h.classNames)==null?void 0:A.actionButton)},h.action.label):null))};function I4(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var hne=t=>{let{invert:e,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:a,closeButton:s,className:o,offset:l,theme:c="light",richColors:u,duration:A,style:d,visibleToasts:h=ane,toastOptions:f,dir:m=I4(),gap:g=lne,loadingIcon:p,icons:b,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:w,cn:y=Ane}=t,[C,E]=K.useState([]),B=K.useMemo(()=>Array.from(new Set([r].concat(C.filter(D=>D.position).map(D=>D.position)))),[C,r]),[j,N]=K.useState([]),[S,T]=K.useState(!1),[I,k]=K.useState(!1),[R,M]=K.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=K.useRef(null),U=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=K.useRef(null),L=K.useRef(!1),H=K.useCallback(D=>{var Q;(Q=C.find(z=>z.id===D.id))!=null&&Q.delete||ka.dismiss(D.id),E(z=>z.filter(({id:q})=>q!==D.id))},[C]);return K.useEffect(()=>ka.subscribe(D=>{if(D.dismiss){E(Q=>Q.map(z=>z.id===D.id?{...z,delete:!0}:z));return}setTimeout(()=>{eH.flushSync(()=>{E(Q=>{let z=Q.findIndex(q=>q.id===D.id);return z!==-1?[...Q.slice(0,z),{...Q[z],...D},...Q.slice(z+1)]:[D,...Q]})})})}),[]),K.useEffect(()=>{if(c!=="system"){M(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:D})=>{M(D?"dark":"light")})},[c]),K.useEffect(()=>{C.length<=1&&T(!1)},[C]),K.useEffect(()=>{let D=Q=>{var z,q;n.every(W=>Q[W]||Q.code===W)&&(T(!0),(z=$.current)==null||z.focus()),Q.code==="Escape"&&(document.activeElement===$.current||(q=$.current)!=null&&q.contains(document.activeElement))&&T(!1)};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[n]),K.useEffect(()=>{if($.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,L.current=!1)}},[$.current]),C.length?K.createElement("section",{"aria-label":`${x} ${U}`,tabIndex:-1},B.map((D,Q)=>{var z;let[q,W]=D.split("-");return K.createElement("ol",{key:D,dir:m==="auto"?I4():m,tabIndex:-1,ref:$,className:o,"data-sonner-toaster":!0,"data-theme":R,"data-y-position":q,"data-x-position":W,style:{"--front-toast-height":`${((z=j[0])==null?void 0:z.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||sne,"--width":`${one}px`,"--gap":`${g}px`,...d},onBlur:ee=>{L.current&&!ee.currentTarget.contains(ee.relatedTarget)&&(L.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||L.current||(L.current=!0,O.current=ee.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{I||T(!1)},onPointerDown:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||k(!0)},onPointerUp:()=>k(!1)},C.filter(ee=>!ee.position&&Q===0||ee.position===D).map((ee,oe)=>{var ne,ce;return K.createElement(dne,{key:ee.id,icons:b,index:oe,toast:ee,defaultRichColors:u,duration:(ne=f==null?void 0:f.duration)!=null?ne:A,className:f==null?void 0:f.className,descriptionClassName:f==null?void 0:f.descriptionClassName,invert:e,visibleToasts:h,closeButton:(ce=f==null?void 0:f.closeButton)!=null?ce:s,interacting:I,position:D,style:f==null?void 0:f.style,unstyled:f==null?void 0:f.unstyled,classNames:f==null?void 0:f.classNames,cancelButtonStyle:f==null?void 0:f.cancelButtonStyle,actionButtonStyle:f==null?void 0:f.actionButtonStyle,removeToast:H,toasts:C.filter(de=>de.position==ee.position),heights:j.filter(de=>de.position==ee.position),setHeights:N,expandByDefault:a,gap:g,loadingIcon:p,expanded:S,pauseWhenPageIsHidden:w,cn:y})}))})):null};const fne=({...t})=>{const{theme:e="system"}=$re();return i.jsx(hne,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var mne=ZL.useId||(()=>{}),pne=0;function oi(t){const[e,r]=v.useState(mne());return Yr(()=>{r(n=>n??String(pne++))},[t]),e?`radix-${e}`:""}const gne=["top","right","bottom","left"],pl=Math.min,Fa=Math.max,Gx=Math.round,Pg=Math.floor,gl=t=>({x:t,y:t}),xne={left:"right",right:"left",bottom:"top",top:"bottom"},vne={start:"end",end:"start"};function KE(t,e,r){return Fa(t,pl(e,r))}function Zi(t,e){return typeof t=="function"?t(e):t}function eo(t){return t.split("-")[0]}function Ld(t){return t.split("-")[1]}function gT(t){return t==="x"?"y":"x"}function xT(t){return t==="y"?"height":"width"}function xl(t){return["top","bottom"].includes(eo(t))?"y":"x"}function vT(t){return gT(xl(t))}function yne(t,e,r){r===void 0&&(r=!1);const n=Ld(t),a=vT(t),s=xT(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=zx(o)),[o,zx(o)]}function bne(t){const e=zx(t);return[qE(t),e,qE(e)]}function qE(t){return t.replace(/start|end/g,e=>vne[e])}function wne(t,e,r){const n=["left","right"],a=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?a:n:e?n:a;case"left":case"right":return e?s:o;default:return[]}}function _ne(t,e,r,n){const a=Ld(t);let s=wne(eo(t),r==="start",n);return a&&(s=s.map(o=>o+"-"+a),e&&(s=s.concat(s.map(qE)))),s}function zx(t){return t.replace(/left|right|bottom|top/g,e=>xne[e])}function Bne(t){return{top:0,right:0,bottom:0,left:0,...t}}function XH(t){return typeof t!="number"?Bne(t):{top:t,right:t,bottom:t,left:t}}function Wx(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function P4(t,e,r){let{reference:n,floating:a}=t;const s=xl(e),o=vT(e),l=xT(o),c=eo(e),u=s==="y",A=n.x+n.width/2-a.width/2,d=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let f;switch(c){case"top":f={x:A,y:n.y-a.height};break;case"bottom":f={x:A,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:d};break;case"left":f={x:n.x-a.width,y:d};break;default:f={x:n.x,y:n.y}}switch(Ld(e)){case"start":f[o]-=h*(r&&u?-1:1);break;case"end":f[o]+=h*(r&&u?-1:1);break}return f}const Cne=async(t,e,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:a}),{x:A,y:d}=P4(u,n,c),h=n,f={},m=0;for(let g=0;g<l.length;g++){const{name:p,fn:b}=l[g],{x,y:w,data:y,reset:C}=await b({x:A,y:d,initialPlacement:n,placement:h,strategy:a,middlewareData:f,rects:u,platform:o,elements:{reference:t,floating:e}});A=x??A,d=w??d,f={...f,[p]:{...f[p],...y}},C&&m<=50&&(m++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:a}):C.rects),{x:A,y:d}=P4(u,h,c)),g=-1)}return{x:A,y:d,placement:h,strategy:a,middlewareData:f}};async function Wf(t,e){var r;e===void 0&&(e={});const{x:n,y:a,platform:s,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:A="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Zi(e,t),m=XH(f),p=l[h?d==="floating"?"reference":"floating":d],b=Wx(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(p)))==null||r?p:p.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:A,strategy:c})),x=d==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),y=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},C=Wx(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:w,strategy:c}):x);return{top:(b.top-C.top+m.top)/y.y,bottom:(C.bottom-b.bottom+m.bottom)/y.y,left:(b.left-C.left+m.left)/y.x,right:(C.right-b.right+m.right)/y.x}}const jne=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:a,rects:s,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:A=0}=Zi(t,e)||{};if(u==null)return{};const d=XH(A),h={x:r,y:n},f=vT(a),m=xT(f),g=await o.getDimensions(u),p=f==="y",b=p?"top":"left",x=p?"bottom":"right",w=p?"clientHeight":"clientWidth",y=s.reference[m]+s.reference[f]-h[f]-s.floating[m],C=h[f]-s.reference[f],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let B=E?E[w]:0;(!B||!await(o.isElement==null?void 0:o.isElement(E)))&&(B=l.floating[w]||s.floating[m]);const j=y/2-C/2,N=B/2-g[m]/2-1,S=pl(d[b],N),T=pl(d[x],N),I=S,k=B-g[m]-T,R=B/2-g[m]/2+j,M=KE(I,R,k),$=!c.arrow&&Ld(a)!=null&&R!==M&&s.reference[m]/2-(R<I?S:T)-g[m]/2<0,U=$?R<I?R-I:R-k:0;return{[f]:h[f]+U,data:{[f]:M,centerOffset:R-M-U,...$&&{alignmentOffset:U}},reset:$}}}),Ene=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:a,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:A=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...p}=Zi(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const b=eo(a),x=xl(l),w=eo(l)===l,y=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=h||(w||!g?[zx(l)]:bne(l)),E=m!=="none";!h&&E&&C.push(..._ne(l,g,m,y));const B=[l,...C],j=await Wf(e,p),N=[];let S=((n=s.flip)==null?void 0:n.overflows)||[];if(A&&N.push(j[b]),d){const R=yne(a,o,y);N.push(j[R[0]],j[R[1]])}if(S=[...S,{placement:a,overflows:N}],!N.every(R=>R<=0)){var T,I;const R=(((T=s.flip)==null?void 0:T.index)||0)+1,M=B[R];if(M)return{data:{index:R,overflows:S},reset:{placement:M}};let $=(I=S.filter(U=>U.overflows[0]<=0).sort((U,O)=>U.overflows[1]-O.overflows[1])[0])==null?void 0:I.placement;if(!$)switch(f){case"bestFit":{var k;const U=(k=S.filter(O=>{if(E){const L=xl(O.placement);return L===x||L==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(L=>L>0).reduce((L,H)=>L+H,0)]).sort((O,L)=>O[1]-L[1])[0])==null?void 0:k[0];U&&($=U);break}case"initialPlacement":$=l;break}if(a!==$)return{reset:{placement:$}}}return{}}}};function F4(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function D4(t){return gne.some(e=>t[e]>=0)}const Sne=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...a}=Zi(t,e);switch(n){case"referenceHidden":{const s=await Wf(e,{...a,elementContext:"reference"}),o=F4(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:D4(o)}}}case"escaped":{const s=await Wf(e,{...a,altBoundary:!0}),o=F4(s,r.floating);return{data:{escapedOffsets:o,escaped:D4(o)}}}default:return{}}}}};async function Nne(t,e){const{placement:r,platform:n,elements:a}=t,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=eo(r),l=Ld(r),c=xl(r)==="y",u=["left","top"].includes(o)?-1:1,A=s&&c?-1:1,d=Zi(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof m=="number"&&(f=l==="end"?m*-1:m),c?{x:f*A,y:h*u}:{x:h*u,y:f*A}}const Tne=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:a,y:s,placement:o,middlewareData:l}=e,c=await Nne(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:o}}}}},kne=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:a}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:p=>{let{x:b,y:x}=p;return{x:b,y:x}}},...c}=Zi(t,e),u={x:r,y:n},A=await Wf(e,c),d=xl(eo(a)),h=gT(d);let f=u[h],m=u[d];if(s){const p=h==="y"?"top":"left",b=h==="y"?"bottom":"right",x=f+A[p],w=f-A[b];f=KE(x,f,w)}if(o){const p=d==="y"?"top":"left",b=d==="y"?"bottom":"right",x=m+A[p],w=m-A[b];m=KE(x,m,w)}const g=l.fn({...e,[h]:f,[d]:m});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:s,[d]:o}}}}}},Ine=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:a,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Zi(t,e),A={x:r,y:n},d=xl(a),h=gT(d);let f=A[h],m=A[d];const g=Zi(l,e),p=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=h==="y"?"height":"width",y=s.reference[h]-s.floating[w]+p.mainAxis,C=s.reference[h]+s.reference[w]-p.mainAxis;f<y?f=y:f>C&&(f=C)}if(u){var b,x;const w=h==="y"?"width":"height",y=["top","left"].includes(eo(a)),C=s.reference[d]-s.floating[w]+(y&&((b=o.offset)==null?void 0:b[d])||0)+(y?0:p.crossAxis),E=s.reference[d]+s.reference[w]+(y?0:((x=o.offset)==null?void 0:x[d])||0)-(y?p.crossAxis:0);m<C?m=C:m>E&&(m=E)}return{[h]:f,[d]:m}}}},Pne=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:a,rects:s,platform:o,elements:l}=e,{apply:c=()=>{},...u}=Zi(t,e),A=await Wf(e,u),d=eo(a),h=Ld(a),f=xl(a)==="y",{width:m,height:g}=s.floating;let p,b;d==="top"||d==="bottom"?(p=d,b=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=d,p=h==="end"?"top":"bottom");const x=g-A.top-A.bottom,w=m-A.left-A.right,y=pl(g-A[p],x),C=pl(m-A[b],w),E=!e.middlewareData.shift;let B=y,j=C;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(j=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(B=x),E&&!h){const S=Fa(A.left,0),T=Fa(A.right,0),I=Fa(A.top,0),k=Fa(A.bottom,0);f?j=m-2*(S!==0||T!==0?S+T:Fa(A.left,A.right)):B=g-2*(I!==0||k!==0?I+k:Fa(A.top,A.bottom))}await c({...e,availableWidth:j,availableHeight:B});const N=await o.getDimensions(l.floating);return m!==N.width||g!==N.height?{reset:{rects:!0}}:{}}}};function rb(){return typeof window<"u"}function Hd(t){return YH(t)?(t.nodeName||"").toLowerCase():"#document"}function Ma(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function bi(t){var e;return(e=(YH(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function YH(t){return rb()?t instanceof Node||t instanceof Ma(t).Node:!1}function Ds(t){return rb()?t instanceof Element||t instanceof Ma(t).Element:!1}function hi(t){return rb()?t instanceof HTMLElement||t instanceof Ma(t).HTMLElement:!1}function O4(t){return!rb()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ma(t).ShadowRoot}function Sp(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=Os(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(a)}function Fne(t){return["table","td","th"].includes(Hd(t))}function nb(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function yT(t){const e=bT(),r=Ds(t)?Os(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Dne(t){let e=vl(t);for(;hi(e)&&!KA(e);){if(yT(e))return e;if(nb(e))return null;e=vl(e)}return null}function bT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function KA(t){return["html","body","#document"].includes(Hd(t))}function Os(t){return Ma(t).getComputedStyle(t)}function ab(t){return Ds(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function vl(t){if(Hd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||O4(t)&&t.host||bi(t);return O4(e)?e.host:e}function JH(t){const e=vl(t);return KA(e)?t.ownerDocument?t.ownerDocument.body:t.body:hi(e)&&Sp(e)?e:JH(e)}function Xf(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=JH(t),s=a===((n=t.ownerDocument)==null?void 0:n.body),o=Ma(a);if(s){const l=GE(o);return e.concat(o,o.visualViewport||[],Sp(a)?a:[],l&&r?Xf(l):[])}return e.concat(a,Xf(a,[],r))}function GE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ZH(t){const e=Os(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=hi(t),s=a?t.offsetWidth:r,o=a?t.offsetHeight:n,l=Gx(r)!==s||Gx(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function wT(t){return Ds(t)?t:t.contextElement}function gA(t){const e=wT(t);if(!hi(e))return gl(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:s}=ZH(e);let o=(s?Gx(r.width):r.width)/n,l=(s?Gx(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const One=gl(0);function e$(t){const e=Ma(t);return!bT()||!e.visualViewport?One:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Rne(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Ma(t)?!1:e}function Kc(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),s=wT(t);let o=gl(1);e&&(n?Ds(n)&&(o=gA(n)):o=gA(t));const l=Rne(s,r,n)?e$(s):gl(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,A=a.width/o.x,d=a.height/o.y;if(s){const h=Ma(s),f=n&&Ds(n)?Ma(n):n;let m=h,g=GE(m);for(;g&&n&&f!==m;){const p=gA(g),b=g.getBoundingClientRect(),x=Os(g),w=b.left+(g.clientLeft+parseFloat(x.paddingLeft))*p.x,y=b.top+(g.clientTop+parseFloat(x.paddingTop))*p.y;c*=p.x,u*=p.y,A*=p.x,d*=p.y,c+=w,u+=y,m=Ma(g),g=GE(m)}}return Wx({width:A,height:d,x:c,y:u})}function Une(t){let{elements:e,rect:r,offsetParent:n,strategy:a}=t;const s=a==="fixed",o=bi(n),l=e?nb(e.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=gl(1);const A=gl(0),d=hi(n);if((d||!d&&!s)&&((Hd(n)!=="body"||Sp(o))&&(c=ab(n)),hi(n))){const h=Kc(n);u=gA(n),A.x=h.x+n.clientLeft,A.y=h.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+A.x,y:r.y*u.y-c.scrollTop*u.y+A.y}}function Mne(t){return Array.from(t.getClientRects())}function zE(t,e){const r=ab(t).scrollLeft;return e?e.left+r:Kc(bi(t)).left+r}function Qne(t){const e=bi(t),r=ab(t),n=t.ownerDocument.body,a=Fa(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Fa(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+zE(t);const l=-r.scrollTop;return Os(n).direction==="rtl"&&(o+=Fa(e.clientWidth,n.clientWidth)-a),{width:a,height:s,x:o,y:l}}function Lne(t,e){const r=Ma(t),n=bi(t),a=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){s=a.width,o=a.height;const u=bT();(!u||u&&e==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:s,height:o,x:l,y:c}}function Hne(t,e){const r=Kc(t,!0,e==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,s=hi(t)?gA(t):gl(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:o,height:l,x:c,y:u}}function R4(t,e,r){let n;if(e==="viewport")n=Lne(t,r);else if(e==="document")n=Qne(bi(t));else if(Ds(e))n=Hne(e,r);else{const a=e$(t);n={...e,x:e.x-a.x,y:e.y-a.y}}return Wx(n)}function t$(t,e){const r=vl(t);return r===e||!Ds(r)||KA(r)?!1:Os(r).position==="fixed"||t$(r,e)}function $ne(t,e){const r=e.get(t);if(r)return r;let n=Xf(t,[],!1).filter(l=>Ds(l)&&Hd(l)!=="body"),a=null;const s=Os(t).position==="fixed";let o=s?vl(t):t;for(;Ds(o)&&!KA(o);){const l=Os(o),c=yT(o);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Sp(o)&&!c&&t$(t,o))?n=n.filter(A=>A!==o):a=l,o=vl(o)}return e.set(t,n),n}function Vne(t){let{element:e,boundary:r,rootBoundary:n,strategy:a}=t;const o=[...r==="clippingAncestors"?nb(e)?[]:$ne(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,A)=>{const d=R4(e,A,a);return u.top=Fa(d.top,u.top),u.right=pl(d.right,u.right),u.bottom=pl(d.bottom,u.bottom),u.left=Fa(d.left,u.left),u},R4(e,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Kne(t){const{width:e,height:r}=ZH(t);return{width:e,height:r}}function qne(t,e,r){const n=hi(e),a=bi(e),s=r==="fixed",o=Kc(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=gl(0);if(n||!n&&!s)if((Hd(e)!=="body"||Sp(a))&&(l=ab(e)),n){const f=Kc(e,!0,s,e);c.x=f.x+e.clientLeft,c.y=f.y+e.clientTop}else a&&(c.x=zE(a));let u=0,A=0;if(a&&!n&&!s){const f=a.getBoundingClientRect();A=f.top+l.scrollTop,u=f.left+l.scrollLeft-zE(a,f)}const d=o.left+l.scrollLeft-c.x-u,h=o.top+l.scrollTop-c.y-A;return{x:d,y:h,width:o.width,height:o.height}}function i1(t){return Os(t).position==="static"}function U4(t,e){if(!hi(t)||Os(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return bi(t)===r&&(r=r.ownerDocument.body),r}function r$(t,e){const r=Ma(t);if(nb(t))return r;if(!hi(t)){let a=vl(t);for(;a&&!KA(a);){if(Ds(a)&&!i1(a))return a;a=vl(a)}return r}let n=U4(t,e);for(;n&&Fne(n)&&i1(n);)n=U4(n,e);return n&&KA(n)&&i1(n)&&!yT(n)?r:n||Dne(t)||r}const Gne=async function(t){const e=this.getOffsetParent||r$,r=this.getDimensions,n=await r(t.floating);return{reference:qne(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function zne(t){return Os(t).direction==="rtl"}const Wne={convertOffsetParentRelativeRectToViewportRelativeRect:Une,getDocumentElement:bi,getClippingRect:Vne,getOffsetParent:r$,getElementRects:Gne,getClientRects:Mne,getDimensions:Kne,getScale:gA,isElement:Ds,isRTL:zne};function Xne(t,e){let r=null,n;const a=bi(t);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const{left:u,top:A,width:d,height:h}=t.getBoundingClientRect();if(l||e(),!d||!h)return;const f=Pg(A),m=Pg(a.clientWidth-(u+d)),g=Pg(a.clientHeight-(A+h)),p=Pg(u),x={rootMargin:-f+"px "+-m+"px "+-g+"px "+-p+"px",threshold:Fa(0,pl(1,c))||1};let w=!0;function y(C){const E=C[0].intersectionRatio;if(E!==c){if(!w)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(y,{...x,root:a.ownerDocument})}catch{r=new IntersectionObserver(y,x)}r.observe(t)}return o(!0),s}function Yne(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=wT(t),A=a||s?[...u?Xf(u):[],...Xf(e)]:[];A.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),s&&b.addEventListener("resize",r)});const d=u&&l?Xne(u,r):null;let h=-1,f=null;o&&(f=new ResizeObserver(b=>{let[x]=b;x&&x.target===u&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(e)})),r()}),u&&!c&&f.observe(u),f.observe(e));let m,g=c?Kc(t):null;c&&p();function p(){const b=Kc(t);g&&(b.x!==g.x||b.y!==g.y||b.width!==g.width||b.height!==g.height)&&r(),g=b,m=requestAnimationFrame(p)}return r(),()=>{var b;A.forEach(x=>{a&&x.removeEventListener("scroll",r),s&&x.removeEventListener("resize",r)}),d==null||d(),(b=f)==null||b.disconnect(),f=null,c&&cancelAnimationFrame(m)}}const Jne=Tne,Zne=kne,eae=Ene,tae=Pne,rae=Sne,M4=jne,nae=Ine,aae=(t,e,r)=>{const n=new Map,a={platform:Wne,...r},s={...a.platform,_c:n};return Cne(t,e,{...a,platform:s})};var Q0=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Xx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Xx(t[n],e[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&t.$$typeof)&&!Xx(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function n$(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Q4(t,e){const r=n$(t);return Math.round(e*r)/r}function o1(t){const e=v.useRef(t);return Q0(()=>{e.current=t}),e}function sae(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[A,d]=v.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,f]=v.useState(n);Xx(h,n)||f(n);const[m,g]=v.useState(null),[p,b]=v.useState(null),x=v.useCallback(O=>{O!==E.current&&(E.current=O,g(O))},[]),w=v.useCallback(O=>{O!==B.current&&(B.current=O,b(O))},[]),y=s||m,C=o||p,E=v.useRef(null),B=v.useRef(null),j=v.useRef(A),N=c!=null,S=o1(c),T=o1(a),I=o1(u),k=v.useCallback(()=>{if(!E.current||!B.current)return;const O={placement:e,strategy:r,middleware:h};T.current&&(O.platform=T.current),aae(E.current,B.current,O).then(L=>{const H={...L,isPositioned:I.current!==!1};R.current&&!Xx(j.current,H)&&(j.current=H,Od.flushSync(()=>{d(H)}))})},[h,e,r,T,I]);Q0(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,d(O=>({...O,isPositioned:!1})))},[u]);const R=v.useRef(!1);Q0(()=>(R.current=!0,()=>{R.current=!1}),[]),Q0(()=>{if(y&&(E.current=y),C&&(B.current=C),y&&C){if(S.current)return S.current(y,C,k);k()}},[y,C,k,S,N]);const M=v.useMemo(()=>({reference:E,floating:B,setReference:x,setFloating:w}),[x,w]),$=v.useMemo(()=>({reference:y,floating:C}),[y,C]),U=v.useMemo(()=>{const O={position:r,left:0,top:0};if(!$.floating)return O;const L=Q4($.floating,A.x),H=Q4($.floating,A.y);return l?{...O,transform:"translate("+L+"px, "+H+"px)",...n$($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:L,top:H}},[r,l,$.floating,A.x,A.y]);return v.useMemo(()=>({...A,update:k,refs:M,elements:$,floatingStyles:U}),[A,k,M,$,U])}const iae=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?M4({element:n.current,padding:a}).fn(r):{}:n?M4({element:n,padding:a}).fn(r):{}}}},oae=(t,e)=>({...Jne(t),options:[t,e]}),lae=(t,e)=>({...Zne(t),options:[t,e]}),cae=(t,e)=>({...nae(t),options:[t,e]}),uae=(t,e)=>({...eae(t),options:[t,e]}),Aae=(t,e)=>({...tae(t),options:[t,e]}),dae=(t,e)=>({...rae(t),options:[t,e]}),hae=(t,e)=>({...iae(t),options:[t,e]});var fae="Arrow",a$=v.forwardRef((t,e)=>{const{children:r,width:n=10,height:a=5,...s}=t;return i.jsx(Ye.svg,{...s,ref:e,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});a$.displayName=fae;var mae=a$;function pae(t,e=[]){let r=[];function n(s,o){const l=v.createContext(o),c=r.length;r=[...r,o];function u(d){const{scope:h,children:f,...m}=d,g=(h==null?void 0:h[t][c])||l,p=v.useMemo(()=>m,Object.values(m));return i.jsx(g.Provider,{value:p,children:f})}function A(d,h){const f=(h==null?void 0:h[t][c])||l,m=v.useContext(f);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,A]}const a=()=>{const s=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[n,gae(a,...e)]}function gae(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...l,...d}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function Np(t){const[e,r]=v.useState(void 0);return Yr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var _T="Popper",[s$,$d]=pae(_T),[xae,i$]=s$(_T),o$=t=>{const{__scopePopper:e,children:r}=t,[n,a]=v.useState(null);return i.jsx(xae,{scope:e,anchor:n,onAnchorChange:a,children:r})};o$.displayName=_T;var l$="PopperAnchor",c$=v.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...a}=t,s=i$(l$,r),o=v.useRef(null),l=pt(e,o);return v.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(Ye.div,{...a,ref:l})});c$.displayName=l$;var BT="PopperContent",[vae,yae]=s$(BT),u$=v.forwardRef((t,e)=>{var oe,ne,ce,de,be,Y;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:A=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:m,...g}=t,p=i$(BT,r),[b,x]=v.useState(null),w=pt(e,pe=>x(pe)),[y,C]=v.useState(null),E=Np(y),B=(E==null?void 0:E.width)??0,j=(E==null?void 0:E.height)??0,N=n+(s!=="center"?"-"+s:""),S=typeof A=="number"?A:{top:0,right:0,bottom:0,left:0,...A},T=Array.isArray(u)?u:[u],I=T.length>0,k={padding:S,boundary:T.filter(wae),altBoundary:I},{refs:R,floatingStyles:M,placement:$,isPositioned:U,middlewareData:O}=sae({strategy:"fixed",placement:N,whileElementsMounted:(...pe)=>Yne(...pe,{animationFrame:f==="always"}),elements:{reference:p.anchor},middleware:[oae({mainAxis:a+j,alignmentAxis:o}),c&&lae({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?cae():void 0,...k}),c&&uae({...k}),Aae({...k,apply:({elements:pe,rects:je,availableWidth:Le,availableHeight:Ve})=>{const{width:bt,height:X}=je.reference,re=pe.floating.style;re.setProperty("--radix-popper-available-width",`${Le}px`),re.setProperty("--radix-popper-available-height",`${Ve}px`),re.setProperty("--radix-popper-anchor-width",`${bt}px`),re.setProperty("--radix-popper-anchor-height",`${X}px`)}}),y&&hae({element:y,padding:l}),_ae({arrowWidth:B,arrowHeight:j}),h&&dae({strategy:"referenceHidden",...k})]}),[L,H]=h$($),D=kr(m);Yr(()=>{U&&(D==null||D())},[U,D]);const Q=(oe=O.arrow)==null?void 0:oe.x,z=(ne=O.arrow)==null?void 0:ne.y,q=((ce=O.arrow)==null?void 0:ce.centerOffset)!==0,[W,ee]=v.useState();return Yr(()=>{b&&ee(window.getComputedStyle(b).zIndex)},[b]),i.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:U?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[(de=O.transformOrigin)==null?void 0:de.x,(be=O.transformOrigin)==null?void 0:be.y].join(" "),...((Y=O.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:i.jsx(vae,{scope:r,placedSide:L,onArrowChange:C,arrowX:Q,arrowY:z,shouldHideArrow:q,children:i.jsx(Ye.div,{"data-side":L,"data-align":H,...g,ref:w,style:{...g.style,animation:U?void 0:"none"}})})})});u$.displayName=BT;var A$="PopperArrow",bae={top:"bottom",right:"left",bottom:"top",left:"right"},d$=v.forwardRef(function(e,r){const{__scopePopper:n,...a}=e,s=yae(A$,n),o=bae[s.placedSide];return i.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:i.jsx(mae,{...a,ref:r,style:{...a.style,display:"block"}})})});d$.displayName=A$;function wae(t){return t!==null}var _ae=t=>({name:"transformOrigin",options:t,fn(e){var p,b,x;const{placement:r,rects:n,middlewareData:a}=e,o=((p=a.arrow)==null?void 0:p.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,A]=h$(r),d={start:"0%",center:"50%",end:"100%"}[A],h=(((b=a.arrow)==null?void 0:b.x)??0)+l/2,f=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let m="",g="";return u==="bottom"?(m=o?d:`${h}px`,g=`${-c}px`):u==="top"?(m=o?d:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(m=`${-c}px`,g=o?d:`${f}px`):u==="left"&&(m=`${n.floating.width+c}px`,g=o?d:`${f}px`),{data:{x:m,y:g}}}});function h$(t){const[e,r="center"]=t.split("-");return[e,r]}var CT=o$,sb=c$,jT=u$,ET=d$,[ib,k8e]=ba("Tooltip",[$d]),ob=$d(),f$="TooltipProvider",Bae=700,WE="tooltip.open",[Cae,ST]=ib(f$),m$=t=>{const{__scopeTooltip:e,delayDuration:r=Bae,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:s}=t,[o,l]=v.useState(!0),c=v.useRef(!1),u=v.useRef(0);return v.useEffect(()=>{const A=u.current;return()=>window.clearTimeout(A)},[]),i.jsx(Cae,{scope:e,isOpenDelayed:o,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:v.useCallback(A=>{c.current=A},[]),disableHoverableContent:a,children:s})};m$.displayName=f$;var lb="Tooltip",[jae,cb]=ib(lb),p$=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:a=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=t,c=ST(lb,t.__scopeTooltip),u=ob(e),[A,d]=v.useState(null),h=oi(),f=v.useRef(0),m=o??c.disableHoverableContent,g=l??c.delayDuration,p=v.useRef(!1),[b=!1,x]=ls({prop:n,defaultProp:a,onChange:B=>{B?(c.onOpen(),document.dispatchEvent(new CustomEvent(WE))):c.onClose(),s==null||s(B)}}),w=v.useMemo(()=>b?p.current?"delayed-open":"instant-open":"closed",[b]),y=v.useCallback(()=>{window.clearTimeout(f.current),f.current=0,p.current=!1,x(!0)},[x]),C=v.useCallback(()=>{window.clearTimeout(f.current),f.current=0,x(!1)},[x]),E=v.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{p.current=!0,x(!0),f.current=0},g)},[g,x]);return v.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),i.jsx(CT,{...u,children:i.jsx(jae,{scope:e,contentId:h,open:b,stateAttribute:w,trigger:A,onTriggerChange:d,onTriggerEnter:v.useCallback(()=>{c.isOpenDelayed?E():y()},[c.isOpenDelayed,E,y]),onTriggerLeave:v.useCallback(()=>{m?C():(window.clearTimeout(f.current),f.current=0)},[C,m]),onOpen:y,onClose:C,disableHoverableContent:m,children:r})})};p$.displayName=lb;var XE="TooltipTrigger",g$=v.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=cb(XE,r),s=ST(XE,r),o=ob(r),l=v.useRef(null),c=pt(e,l,a.onTriggerChange),u=v.useRef(!1),A=v.useRef(!1),d=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),i.jsx(sb,{asChild:!0,...o,children:i.jsx(Ye.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Fe(t.onPointerMove,h=>{h.pointerType!=="touch"&&!A.current&&!s.isPointerInTransitRef.current&&(a.onTriggerEnter(),A.current=!0)}),onPointerLeave:Fe(t.onPointerLeave,()=>{a.onTriggerLeave(),A.current=!1}),onPointerDown:Fe(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Fe(t.onFocus,()=>{u.current||a.onOpen()}),onBlur:Fe(t.onBlur,a.onClose),onClick:Fe(t.onClick,a.onClose)})})});g$.displayName=XE;var Eae="TooltipPortal",[I8e,Sae]=ib(Eae,{forceMount:void 0}),qA="TooltipContent",x$=v.forwardRef((t,e)=>{const r=Sae(qA,t.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...s}=t,o=cb(qA,t.__scopeTooltip);return i.jsx(oa,{present:n||o.open,children:o.disableHoverableContent?i.jsx(v$,{side:a,...s,ref:e}):i.jsx(Nae,{side:a,...s,ref:e})})}),Nae=v.forwardRef((t,e)=>{const r=cb(qA,t.__scopeTooltip),n=ST(qA,t.__scopeTooltip),a=v.useRef(null),s=pt(e,a),[o,l]=v.useState(null),{trigger:c,onClose:u}=r,A=a.current,{onPointerInTransitChange:d}=n,h=v.useCallback(()=>{l(null),d(!1)},[d]),f=v.useCallback((m,g)=>{const p=m.currentTarget,b={x:m.clientX,y:m.clientY},x=Pae(b,p.getBoundingClientRect()),w=Fae(b,x),y=Dae(g.getBoundingClientRect()),C=Rae([...w,...y]);l(C),d(!0)},[d]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(c&&A){const m=p=>f(p,A),g=p=>f(p,c);return c.addEventListener("pointerleave",m),A.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",m),A.removeEventListener("pointerleave",g)}}},[c,A,f,h]),v.useEffect(()=>{if(o){const m=g=>{const p=g.target,b={x:g.clientX,y:g.clientY},x=(c==null?void 0:c.contains(p))||(A==null?void 0:A.contains(p)),w=!Oae(b,o);x?h():w&&(h(),u())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[c,A,o,u,h]),i.jsx(v$,{...t,ref:s})}),[Tae,kae]=ib(lb,{isInside:!1}),v$=v.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=t,c=cb(qA,r),u=ob(r),{onClose:A}=c;return v.useEffect(()=>(document.addEventListener(WE,A),()=>document.removeEventListener(WE,A)),[A]),v.useEffect(()=>{if(c.trigger){const d=h=>{const f=h.target;f!=null&&f.contains(c.trigger)&&A()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,A]),i.jsx(Rd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:A,children:i.jsxs(jT,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(nT,{children:n}),i.jsx(Tae,{scope:r,isInside:!0,children:i.jsx(Gee,{id:c.contentId,role:"tooltip",children:a||n})})]})})});x$.displayName=qA;var y$="TooltipArrow",Iae=v.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=ob(r);return kae(y$,r).isInside?null:i.jsx(ET,{...a,...n,ref:e})});Iae.displayName=y$;function Pae(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),a=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,a,s)){case s:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Fae(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function Dae(t){const{top:e,right:r,bottom:n,left:a}=t;return[{x:a,y:e},{x:r,y:e},{x:r,y:n},{x:a,y:n}]}function Oae(t,e){const{x:r,y:n}=t;let a=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s].x,c=e[s].y,u=e[o].x,A=e[o].y;c>n!=A>n&&r<(u-l)*(n-c)/(A-c)+l&&(a=!a)}return a}function Rae(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Uae(e)}function Uae(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const a=t[n];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))e.pop();else break}e.push(a)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const a=t[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Mae=m$,Qae=p$,Lae=g$,b$=x$;const w$=Mae,Hae=Qae,$ae=Lae,_$=v.forwardRef(({className:t,sideOffset:e=4,...r},n)=>i.jsx(b$,{ref:n,sideOffset:e,className:he("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));_$.displayName=b$.displayName;var Tp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qc=typeof window>"u"||"Deno"in globalThis;function Xa(){}function Vae(t,e){return typeof t=="function"?t(e):t}function YE(t){return typeof t=="number"&&t>=0&&t!==1/0}function B$(t,e){return Math.max(t+(e||0)-Date.now(),0)}function xA(t,e){return typeof t=="function"?t(e):t}function _s(t,e){return typeof t=="function"?t(e):t}function L4(t,e){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==NT(o,e.options))return!1}else if(!Jf(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||a&&a!==e.state.fetchStatus||s&&!s(e))}function H4(t,e){const{exact:r,status:n,predicate:a,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Yf(e.options.mutationKey)!==Yf(s))return!1}else if(!Jf(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||a&&!a(e))}function NT(t,e){return((e==null?void 0:e.queryKeyHashFn)||Yf)(t)}function Yf(t){return JSON.stringify(t,(e,r)=>ZE(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Jf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Jf(t[r],e[r])):!1}function C$(t,e){if(t===e)return t;const r=$4(t)&&$4(e);if(r||ZE(t)&&ZE(e)){const n=r?t:Object.keys(t),a=n.length,s=r?e:Object.keys(e),o=s.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const A=r?u:s[u];(!r&&n.includes(A)||r)&&t[A]===void 0&&e[A]===void 0?(l[A]=void 0,c++):(l[A]=C$(t[A],e[A]),l[A]===t[A]&&t[A]!==void 0&&c++)}return a===o&&c===a?t:l}return e}function JE(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function $4(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ZE(t){if(!V4(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!V4(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function V4(t){return Object.prototype.toString.call(t)==="[object Object]"}function Kae(t){return new Promise(e=>{setTimeout(e,t)})}function eS(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?C$(t,e):e}function qae(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Gae(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var TT=Symbol();function j$(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===TT?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Tc,Vo,TA,HL,zae=(HL=class extends Tp{constructor(){super();ft(this,Tc);ft(this,Vo);ft(this,TA);We(this,TA,e=>{if(!qc&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){te(this,Vo)||this.setEventListener(te(this,TA))}onUnsubscribe(){var e;this.hasListeners()||((e=te(this,Vo))==null||e.call(this),We(this,Vo,void 0))}setEventListener(e){var r;We(this,TA,e),(r=te(this,Vo))==null||r.call(this),We(this,Vo,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){te(this,Tc)!==e&&(We(this,Tc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof te(this,Tc)=="boolean"?te(this,Tc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Tc=new WeakMap,Vo=new WeakMap,TA=new WeakMap,HL),kT=new zae,kA,Ko,IA,$L,Wae=($L=class extends Tp{constructor(){super();ft(this,kA,!0);ft(this,Ko);ft(this,IA);We(this,IA,e=>{if(!qc&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){te(this,Ko)||this.setEventListener(te(this,IA))}onUnsubscribe(){var e;this.hasListeners()||((e=te(this,Ko))==null||e.call(this),We(this,Ko,void 0))}setEventListener(e){var r;We(this,IA,e),(r=te(this,Ko))==null||r.call(this),We(this,Ko,e(this.setOnline.bind(this)))}setOnline(e){te(this,kA)!==e&&(We(this,kA,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return te(this,kA)}},kA=new WeakMap,Ko=new WeakMap,IA=new WeakMap,$L),Yx=new Wae;function tS(){let t,e;const r=new Promise((a,s)=>{t=a,e=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),t(a)},r.reject=a=>{n({status:"rejected",reason:a}),e(a)},r}function Xae(t){return Math.min(1e3*2**t,3e4)}function E$(t){return(t??"online")==="online"?Yx.isOnline():!0}var S$=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function l1(t){return t instanceof S$}function N$(t){let e=!1,r=0,n=!1,a;const s=tS(),o=g=>{var p;n||(h(new S$(g)),(p=t.abort)==null||p.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>kT.isFocused()&&(t.networkMode==="always"||Yx.isOnline())&&t.canRun(),A=()=>E$(t.networkMode)&&t.canRun(),d=g=>{var p;n||(n=!0,(p=t.onSuccess)==null||p.call(t,g),a==null||a(),s.resolve(g))},h=g=>{var p;n||(n=!0,(p=t.onError)==null||p.call(t,g),a==null||a(),s.reject(g))},f=()=>new Promise(g=>{var p;a=b=>{(n||u())&&g(b)},(p=t.onPause)==null||p.call(t)}).then(()=>{var g;a=void 0,n||(g=t.onContinue)==null||g.call(t)}),m=()=>{if(n)return;let g;const p=r===0?t.initialPromise:void 0;try{g=p??t.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(d).catch(b=>{var E;if(n)return;const x=t.retry??(qc?0:3),w=t.retryDelay??Xae,y=typeof w=="function"?w(r,b):w,C=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,b);if(e||!C){h(b);return}r++,(E=t.onFail)==null||E.call(t,r,b),Kae(y).then(()=>u()?void 0:f()).then(()=>{e?h(b):m()})})};return{promise:s,cancel:o,continue:()=>(a==null||a(),s),cancelRetry:l,continueRetry:c,canStart:A,start:()=>(A()?m():f().then(m),s)}}function Yae(){let t=[],e=0,r=l=>{l()},n=l=>{l()},a=l=>setTimeout(l,0);const s=l=>{e?t.push(l):a(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var _n=Yae(),kc,VL,T$=(VL=class{constructor(){ft(this,kc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),YE(this.gcTime)&&We(this,kc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(qc?1/0:5*60*1e3))}clearGcTimeout(){te(this,kc)&&(clearTimeout(te(this,kc)),We(this,kc,void 0))}},kc=new WeakMap,VL),PA,FA,Wa,Un,yp,Ic,gs,Di,KL,Jae=(KL=class extends T${constructor(r){super();ft(this,gs);ft(this,PA);ft(this,FA);ft(this,Wa);ft(this,Un);ft(this,yp);ft(this,Ic);We(this,Ic,!1),We(this,yp,r.defaultOptions),this.setOptions(r.options),this.observers=[],We(this,Wa,r.cache),this.queryKey=r.queryKey,this.queryHash=r.queryHash,We(this,PA,Zae(this.options)),this.state=r.state??te(this,PA),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=te(this,Un))==null?void 0:r.promise}setOptions(r){this.options={...te(this,yp),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&te(this,Wa).remove(this)}setData(r,n){const a=eS(this.state.data,r,this.options);return It(this,gs,Di).call(this,{data:a,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),a}setState(r,n){It(this,gs,Di).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var a,s;const n=(a=te(this,Un))==null?void 0:a.promise;return(s=te(this,Un))==null||s.cancel(r),n?n.then(Xa).catch(Xa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(te(this,PA))}isActive(){return this.observers.some(r=>_s(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===TT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(r=0){return this.state.isInvalidated||this.state.data===void 0||!B$(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(a=>a.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=te(this,Un))==null||n.continue()}onOnline(){var n;const r=this.observers.find(a=>a.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=te(this,Un))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),te(this,Wa).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(te(this,Un)&&(te(this,Ic)?te(this,Un).cancel({revert:!0}):te(this,Un).cancelRetry()),this.scheduleGc()),te(this,Wa).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||It(this,gs,Di).call(this,{type:"invalidate"})}fetch(r,n){var u,A,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(te(this,Un))return te(this,Un).continueRetry(),te(this,Un).promise}if(r&&this.setOptions(r),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const a=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(We(this,Ic,!0),a.signal)})},o=()=>{const h=j$(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return s(f),We(this,Ic,!1),this.options.persister?this.options.persister(h,f,this):h(f)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(l),(u=this.options.behavior)==null||u.onFetch(l,this),We(this,FA,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((A=l.fetchOptions)==null?void 0:A.meta))&&It(this,gs,Di).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta});const c=h=>{var f,m,g,p;l1(h)&&h.silent||It(this,gs,Di).call(this,{type:"error",error:h}),l1(h)||((m=(f=te(this,Wa).config).onError)==null||m.call(f,h,this),(p=(g=te(this,Wa).config).onSettled)==null||p.call(g,this.state.data,h,this)),this.scheduleGc()};return We(this,Un,N$({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:a.abort.bind(a),onSuccess:h=>{var f,m,g,p;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){c(b);return}(m=(f=te(this,Wa).config).onSuccess)==null||m.call(f,h,this),(p=(g=te(this,Wa).config).onSettled)==null||p.call(g,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,f)=>{It(this,gs,Di).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{It(this,gs,Di).call(this,{type:"pause"})},onContinue:()=>{It(this,gs,Di).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),te(this,Un).start()}},PA=new WeakMap,FA=new WeakMap,Wa=new WeakMap,Un=new WeakMap,yp=new WeakMap,Ic=new WeakMap,gs=new WeakSet,Di=function(r){const n=a=>{switch(r.type){case"failed":return{...a,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...k$(a.data,this.options),fetchMeta:r.meta??null};case"success":return{...a,data:r.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=r.error;return l1(s)&&s.revert&&te(this,FA)?{...te(this,FA),fetchStatus:"idle"}:{...a,error:s,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...r.state}}};this.state=n(this.state),_n.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),te(this,Wa).notify({query:this,type:"updated",action:r})})},KL);function k$(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:E$(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Zae(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Xs,qL,ese=(qL=class extends Tp{constructor(e={}){super();ft(this,Xs);this.config=e,We(this,Xs,new Map)}build(e,r,n){const a=r.queryKey,s=r.queryHash??NT(a,r);let o=this.get(s);return o||(o=new Jae({cache:this,queryKey:a,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(a)}),this.add(o)),o}add(e){te(this,Xs).has(e.queryHash)||(te(this,Xs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=te(this,Xs).get(e.queryHash);r&&(e.destroy(),r===e&&te(this,Xs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){_n.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return te(this,Xs).get(e)}getAll(){return[...te(this,Xs).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>L4(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>L4(e,n)):r}notify(e){_n.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){_n.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){_n.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Xs=new WeakMap,qL),Ys,Yn,Pc,Js,So,GL,tse=(GL=class extends T${constructor(r){super();ft(this,Js);ft(this,Ys);ft(this,Yn);ft(this,Pc);this.mutationId=r.mutationId,We(this,Yn,r.mutationCache),We(this,Ys,[]),this.state=r.state||rse(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){te(this,Ys).includes(r)||(te(this,Ys).push(r),this.clearGcTimeout(),te(this,Yn).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){We(this,Ys,te(this,Ys).filter(n=>n!==r)),this.scheduleGc(),te(this,Yn).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){te(this,Ys).length||(this.state.status==="pending"?this.scheduleGc():te(this,Yn).remove(this))}continue(){var r;return((r=te(this,Pc))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var s,o,l,c,u,A,d,h,f,m,g,p,b,x,w,y,C,E,B,j;We(this,Pc,N$({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(N,S)=>{It(this,Js,So).call(this,{type:"failed",failureCount:N,error:S})},onPause:()=>{It(this,Js,So).call(this,{type:"pause"})},onContinue:()=>{It(this,Js,So).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>te(this,Yn).canRun(this)}));const n=this.state.status==="pending",a=!te(this,Pc).canStart();try{if(!n){It(this,Js,So).call(this,{type:"pending",variables:r,isPaused:a}),await((o=(s=te(this,Yn).config).onMutate)==null?void 0:o.call(s,r,this));const S=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,r));S!==this.state.context&&It(this,Js,So).call(this,{type:"pending",context:S,variables:r,isPaused:a})}const N=await te(this,Pc).start();return await((A=(u=te(this,Yn).config).onSuccess)==null?void 0:A.call(u,N,r,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,N,r,this.state.context)),await((m=(f=te(this,Yn).config).onSettled)==null?void 0:m.call(f,N,null,this.state.variables,this.state.context,this)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,N,null,r,this.state.context)),It(this,Js,So).call(this,{type:"success",data:N}),N}catch(N){try{throw await((x=(b=te(this,Yn).config).onError)==null?void 0:x.call(b,N,r,this.state.context,this)),await((y=(w=this.options).onError)==null?void 0:y.call(w,N,r,this.state.context)),await((E=(C=te(this,Yn).config).onSettled)==null?void 0:E.call(C,void 0,N,this.state.variables,this.state.context,this)),await((j=(B=this.options).onSettled)==null?void 0:j.call(B,void 0,N,r,this.state.context)),N}finally{It(this,Js,So).call(this,{type:"error",error:N})}}finally{te(this,Yn).runNext(this)}}},Ys=new WeakMap,Yn=new WeakMap,Pc=new WeakMap,Js=new WeakSet,So=function(r){const n=a=>{switch(r.type){case"failed":return{...a,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...a,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:r.error,failureCount:a.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),_n.batch(()=>{te(this,Ys).forEach(a=>{a.onMutationUpdate(r)}),te(this,Yn).notify({mutation:this,type:"updated",action:r})})},GL);function rse(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ta,bp,zL,nse=(zL=class extends Tp{constructor(e={}){super();ft(this,Ta);ft(this,bp);this.config=e,We(this,Ta,new Map),We(this,bp,Date.now())}build(e,r,n){const a=new tse({mutationCache:this,mutationId:++Sg(this,bp)._,options:e.defaultMutationOptions(r),state:n});return this.add(a),a}add(e){const r=Fg(e),n=te(this,Ta).get(r)??[];n.push(e),te(this,Ta).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=Fg(e);if(te(this,Ta).has(r)){const a=(n=te(this,Ta).get(r))==null?void 0:n.filter(s=>s!==e);a&&(a.length===0?te(this,Ta).delete(r):te(this,Ta).set(r,a))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=te(this,Ta).get(Fg(e)))==null?void 0:n.find(a=>a.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=te(this,Ta).get(Fg(e)))==null?void 0:n.find(a=>a!==e&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){_n.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...te(this,Ta).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>H4(r,n))}findAll(e={}){return this.getAll().filter(r=>H4(e,r))}notify(e){_n.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return _n.batch(()=>Promise.all(e.map(r=>r.continue().catch(Xa))))}},Ta=new WeakMap,bp=new WeakMap,zL);function Fg(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function K4(t){return{onFetch:(e,r)=>{var A,d,h,f,m;const n=e.options,a=(h=(d=(A=e.fetchOptions)==null?void 0:A.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,s=((f=e.state.data)==null?void 0:f.pages)||[],o=((m=e.state.data)==null?void 0:m.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const p=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},b=j$(e.options,e.fetchOptions),x=async(w,y,C)=>{if(g)return Promise.reject();if(y==null&&w.pages.length)return Promise.resolve(w);const E={queryKey:e.queryKey,pageParam:y,direction:C?"backward":"forward",meta:e.options.meta};p(E);const B=await b(E),{maxPages:j}=e.options,N=C?Gae:qae;return{pages:N(w.pages,B,j),pageParams:N(w.pageParams,y,j)}};if(a&&s.length){const w=a==="backward",y=w?ase:q4,C={pages:s,pageParams:o},E=y(n,C);l=await x(C,E,w)}else{const w=t??s.length;do{const y=c===0?o[0]??n.initialPageParam:q4(n,l);if(c>0&&y==null)break;l=await x(l,y),c++}while(c<w)}return l};e.options.persister?e.fetchFn=()=>{var g,p;return(p=(g=e.options).persister)==null?void 0:p.call(g,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function q4(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function ase(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Sr,qo,Go,DA,OA,zo,RA,UA,WL,sse=(WL=class{constructor(t={}){ft(this,Sr);ft(this,qo);ft(this,Go);ft(this,DA);ft(this,OA);ft(this,zo);ft(this,RA);ft(this,UA);We(this,Sr,t.queryCache||new ese),We(this,qo,t.mutationCache||new nse),We(this,Go,t.defaultOptions||{}),We(this,DA,new Map),We(this,OA,new Map),We(this,zo,0)}mount(){Sg(this,zo)._++,te(this,zo)===1&&(We(this,RA,kT.subscribe(async t=>{t&&(await this.resumePausedMutations(),te(this,Sr).onFocus())})),We(this,UA,Yx.subscribe(async t=>{t&&(await this.resumePausedMutations(),te(this,Sr).onOnline())})))}unmount(){var t,e;Sg(this,zo)._--,te(this,zo)===0&&((t=te(this,RA))==null||t.call(this),We(this,RA,void 0),(e=te(this,UA))==null||e.call(this),We(this,UA,void 0))}isFetching(t){return te(this,Sr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return te(this,qo).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=te(this,Sr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=te(this,Sr).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(xA(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return te(this,Sr).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),a=te(this,Sr).get(n.queryHash),s=a==null?void 0:a.state.data,o=Vae(e,s);if(o!==void 0)return te(this,Sr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return _n.batch(()=>te(this,Sr).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=te(this,Sr).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=te(this,Sr);_n.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=te(this,Sr),n={type:"active",...t};return _n.batch(()=>(r.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=_n.batch(()=>te(this,Sr).findAll(t).map(a=>a.cancel(r)));return Promise.all(n).then(Xa).catch(Xa)}invalidateQueries(t={},e={}){return _n.batch(()=>{if(te(this,Sr).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=_n.batch(()=>te(this,Sr).findAll(t).filter(a=>!a.isDisabled()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(Xa)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Xa)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=te(this,Sr).build(this,e);return r.isStaleByTime(xA(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Xa).catch(Xa)}fetchInfiniteQuery(t){return t.behavior=K4(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Xa).catch(Xa)}ensureInfiniteQueryData(t){return t.behavior=K4(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Yx.isOnline()?te(this,qo).resumePausedMutations():Promise.resolve()}getQueryCache(){return te(this,Sr)}getMutationCache(){return te(this,qo)}getDefaultOptions(){return te(this,Go)}setDefaultOptions(t){We(this,Go,t)}setQueryDefaults(t,e){te(this,DA).set(Yf(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...te(this,DA).values()];let r={};return e.forEach(n=>{Jf(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){te(this,OA).set(Yf(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...te(this,OA).values()];let r={};return e.forEach(n=>{Jf(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...te(this,Go).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=NT(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===TT&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...te(this,Go).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){te(this,Sr).clear(),te(this,qo).clear()}},Sr=new WeakMap,qo=new WeakMap,Go=new WeakMap,DA=new WeakMap,OA=new WeakMap,zo=new WeakMap,RA=new WeakMap,UA=new WeakMap,WL),ma,Pt,wp,Jn,Fc,MA,Wo,Zs,_p,QA,LA,Dc,Oc,Xo,HA,er,tf,rS,nS,aS,sS,iS,oS,lS,I$,XL,ise=(XL=class extends Tp{constructor(e,r){super();ft(this,er);ft(this,ma);ft(this,Pt);ft(this,wp);ft(this,Jn);ft(this,Fc);ft(this,MA);ft(this,Wo);ft(this,Zs);ft(this,_p);ft(this,QA);ft(this,LA);ft(this,Dc);ft(this,Oc);ft(this,Xo);ft(this,HA,new Set);this.options=r,We(this,ma,e),We(this,Zs,null),We(this,Wo,tS()),this.options.experimental_prefetchInRender||te(this,Wo).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(te(this,Pt).addObserver(this),G4(te(this,Pt),this.options)?It(this,er,tf).call(this):this.updateResult(),It(this,er,sS).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return cS(te(this,Pt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return cS(te(this,Pt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,It(this,er,iS).call(this),It(this,er,oS).call(this),te(this,Pt).removeObserver(this)}setOptions(e,r){const n=this.options,a=te(this,Pt);if(this.options=te(this,ma).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _s(this.options.enabled,te(this,Pt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");It(this,er,lS).call(this),te(this,Pt).setOptions(this.options),n._defaulted&&!JE(this.options,n)&&te(this,ma).getQueryCache().notify({type:"observerOptionsUpdated",query:te(this,Pt),observer:this});const s=this.hasListeners();s&&z4(te(this,Pt),a,this.options,n)&&It(this,er,tf).call(this),this.updateResult(r),s&&(te(this,Pt)!==a||_s(this.options.enabled,te(this,Pt))!==_s(n.enabled,te(this,Pt))||xA(this.options.staleTime,te(this,Pt))!==xA(n.staleTime,te(this,Pt)))&&It(this,er,rS).call(this);const o=It(this,er,nS).call(this);s&&(te(this,Pt)!==a||_s(this.options.enabled,te(this,Pt))!==_s(n.enabled,te(this,Pt))||o!==te(this,Xo))&&It(this,er,aS).call(this,o)}getOptimisticResult(e){const r=te(this,ma).getQueryCache().build(te(this,ma),e),n=this.createResult(r,e);return lse(this,n)&&(We(this,Jn,n),We(this,MA,this.options),We(this,Fc,te(this,Pt).state)),n}getCurrentResult(){return te(this,Jn)}trackResult(e,r){const n={};return Object.keys(e).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),e[a])})}),n}trackProp(e){te(this,HA).add(e)}getCurrentQuery(){return te(this,Pt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=te(this,ma).defaultQueryOptions(e),n=te(this,ma).getQueryCache().build(te(this,ma),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return It(this,er,tf).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),te(this,Jn)))}createResult(e,r){var j;const n=te(this,Pt),a=this.options,s=te(this,Jn),o=te(this,Fc),l=te(this,MA),u=e!==n?e.state:te(this,wp),{state:A}=e;let d={...A},h=!1,f;if(r._optimisticResults){const N=this.hasListeners(),S=!N&&G4(e,r),T=N&&z4(e,n,r,a);(S||T)&&(d={...d,...k$(A.data,e.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:m,errorUpdatedAt:g,status:p}=d;if(r.select&&d.data!==void 0)if(s&&d.data===(o==null?void 0:o.data)&&r.select===te(this,_p))f=te(this,QA);else try{We(this,_p,r.select),f=r.select(d.data),f=eS(s==null?void 0:s.data,f,r),We(this,QA,f),We(this,Zs,null)}catch(N){We(this,Zs,N)}else f=d.data;if(r.placeholderData!==void 0&&f===void 0&&p==="pending"){let N;if(s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))N=s.data;else if(N=typeof r.placeholderData=="function"?r.placeholderData((j=te(this,LA))==null?void 0:j.state.data,te(this,LA)):r.placeholderData,r.select&&N!==void 0)try{N=r.select(N),We(this,Zs,null)}catch(S){We(this,Zs,S)}N!==void 0&&(p="success",f=eS(s==null?void 0:s.data,N,r),h=!0)}te(this,Zs)&&(m=te(this,Zs),f=te(this,QA),g=Date.now(),p="error");const b=d.fetchStatus==="fetching",x=p==="pending",w=p==="error",y=x&&b,C=f!==void 0,B={status:p,fetchStatus:d.fetchStatus,isPending:x,isSuccess:p==="success",isError:w,isInitialLoading:y,isLoading:y,data:f,dataUpdatedAt:d.dataUpdatedAt,error:m,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!x,isLoadingError:w&&!C,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:w&&C,isStale:IT(e,r),refetch:this.refetch,promise:te(this,Wo)};if(this.options.experimental_prefetchInRender){const N=I=>{B.status==="error"?I.reject(B.error):B.data!==void 0&&I.resolve(B.data)},S=()=>{const I=We(this,Wo,B.promise=tS());N(I)},T=te(this,Wo);switch(T.status){case"pending":e.queryHash===n.queryHash&&N(T);break;case"fulfilled":(B.status==="error"||B.data!==T.value)&&S();break;case"rejected":(B.status!=="error"||B.error!==T.reason)&&S();break}}return B}updateResult(e){const r=te(this,Jn),n=this.createResult(te(this,Pt),this.options);if(We(this,Fc,te(this,Pt).state),We(this,MA,this.options),te(this,Fc).data!==void 0&&We(this,LA,te(this,Pt)),JE(n,r))return;We(this,Jn,n);const a={},s=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!te(this,HA).size)return!0;const c=new Set(l??te(this,HA));return this.options.throwOnError&&c.add("error"),Object.keys(te(this,Jn)).some(u=>{const A=u;return te(this,Jn)[A]!==r[A]&&c.has(A)})};(e==null?void 0:e.listeners)!==!1&&s()&&(a.listeners=!0),It(this,er,I$).call(this,{...a,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&It(this,er,sS).call(this)}},ma=new WeakMap,Pt=new WeakMap,wp=new WeakMap,Jn=new WeakMap,Fc=new WeakMap,MA=new WeakMap,Wo=new WeakMap,Zs=new WeakMap,_p=new WeakMap,QA=new WeakMap,LA=new WeakMap,Dc=new WeakMap,Oc=new WeakMap,Xo=new WeakMap,HA=new WeakMap,er=new WeakSet,tf=function(e){It(this,er,lS).call(this);let r=te(this,Pt).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Xa)),r},rS=function(){It(this,er,iS).call(this);const e=xA(this.options.staleTime,te(this,Pt));if(qc||te(this,Jn).isStale||!YE(e))return;const n=B$(te(this,Jn).dataUpdatedAt,e)+1;We(this,Dc,setTimeout(()=>{te(this,Jn).isStale||this.updateResult()},n))},nS=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(te(this,Pt)):this.options.refetchInterval)??!1},aS=function(e){It(this,er,oS).call(this),We(this,Xo,e),!(qc||_s(this.options.enabled,te(this,Pt))===!1||!YE(te(this,Xo))||te(this,Xo)===0)&&We(this,Oc,setInterval(()=>{(this.options.refetchIntervalInBackground||kT.isFocused())&&It(this,er,tf).call(this)},te(this,Xo)))},sS=function(){It(this,er,rS).call(this),It(this,er,aS).call(this,It(this,er,nS).call(this))},iS=function(){te(this,Dc)&&(clearTimeout(te(this,Dc)),We(this,Dc,void 0))},oS=function(){te(this,Oc)&&(clearInterval(te(this,Oc)),We(this,Oc,void 0))},lS=function(){const e=te(this,ma).getQueryCache().build(te(this,ma),this.options);if(e===te(this,Pt))return;const r=te(this,Pt);We(this,Pt,e),We(this,wp,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},I$=function(e){_n.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(te(this,Jn))}),te(this,ma).getQueryCache().notify({query:te(this,Pt),type:"observerResultsUpdated"})})},XL);function ose(t,e){return _s(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function G4(t,e){return ose(t,e)||t.state.data!==void 0&&cS(t,e,e.refetchOnMount)}function cS(t,e,r){if(_s(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&IT(t,e)}return!1}function z4(t,e,r,n){return(t!==e||_s(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&IT(t,r)}function IT(t,e){return _s(e.enabled,t)!==!1&&t.isStaleByTime(xA(e.staleTime,t))}function lse(t,e){return!JE(t.getCurrentResult(),e)}var P$=v.createContext(void 0),F$=t=>{const e=v.useContext(P$);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},cse=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(P$.Provider,{value:t,children:e})),D$=v.createContext(!1),use=()=>v.useContext(D$);D$.Provider;function Ase(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var dse=v.createContext(Ase()),hse=()=>v.useContext(dse);function fse(t,e){return typeof t=="function"?t(...e):!!t}function mse(){}var pse=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},gse=t=>{v.useEffect(()=>{t.clearReset()},[t])},xse=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&fse(r,[t.error,n]),vse=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},yse=(t,e)=>t.isLoading&&t.isFetching&&!e,bse=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,W4=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function wse(t,e,r){var A,d,h,f,m;const n=F$(),a=use(),s=hse(),o=n.defaultQueryOptions(t);(d=(A=n.getDefaultOptions().queries)==null?void 0:A._experimental_beforeQuery)==null||d.call(A,o),o._optimisticResults=a?"isRestoring":"optimistic",vse(o),pse(o,s),gse(s);const l=!n.getQueryCache().get(o.queryHash),[c]=v.useState(()=>new e(n,o)),u=c.getOptimisticResult(o);if(v.useSyncExternalStore(v.useCallback(g=>{const p=a?()=>{}:c.subscribe(_n.batchCalls(g));return c.updateResult(),p},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),v.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),bse(o,u))throw W4(o,c,s);if(xse({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((f=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||f.call(h,o,u),o.experimental_prefetchInRender&&!qc&&yse(u,a)){const g=l?W4(o,c,s):(m=n.getQueryCache().get(o.queryHash))==null?void 0:m.promise;g==null||g.catch(mse).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function _se(t,e){return wse(t,ise)}const Bse="modulepreload",Cse=function(t){return"/"+t},X4={},GA=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(A=>Promise.resolve(A).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=o(r.map(u=>{if(u=Cse(u),u in X4)return;X4[u]=!0;const A=u.endsWith(".css"),d=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=A?"stylesheet":Bse,A||(h.as="script"),h.crossOrigin="",h.href=u,c&&h.setAttribute("nonce",c),document.head.appendChild(h),A)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},jse=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>GA(async()=>{const{default:n}=await Promise.resolve().then(()=>Vd);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class PT extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Ese extends PT{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Sse extends PT{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Nse extends PT{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var uS;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(uS||(uS={}));var Tse=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class kse{constructor(e,{headers:r={},customFetch:n,region:a=uS.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=jse(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Tse(this,void 0,void 0,function*(){try{const{headers:a,method:s,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const A=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(m=>{throw new Ese(m)}),d=A.headers.get("x-relay-error");if(d&&d==="true")throw new Sse(A);if(!A.ok)throw new Nse(A);let h=((n=A.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield A.json():h==="application/octet-stream"?f=yield A.blob():h==="text/event-stream"?f=A:h==="multipart/form-data"?f=yield A.formData():f=yield A.text(),{data:f,error:null}}catch(a){return{data:null,error:a}}})}}var tn={},Cu={},ju={},Eu={},Su={},Nu={},Ise=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zA=Ise();const Pse=zA.fetch,O$=zA.fetch.bind(zA),R$=zA.Headers,Fse=zA.Request,Dse=zA.Response,Vd=Object.freeze(Object.defineProperty({__proto__:null,Headers:R$,Request:Fse,Response:Dse,default:O$,fetch:Pse},Symbol.toStringTag,{value:"Module"})),Ose=JL(Vd);var Dg={},Y4;function U$(){if(Y4)return Dg;Y4=1,Object.defineProperty(Dg,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Dg.default=t,Dg}var J4;function M$(){if(J4)return Nu;J4=1;var t=Nu&&Nu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Nu,"__esModule",{value:!0});const e=t(Ose),r=t(U$());class n{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=Object.assign({},this.headers),this.headers[s]=o,this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var A,d,h;let f=null,m=null,g=null,p=u.status,b=u.statusText;if(u.ok){if(this.method!=="HEAD"){const C=await u.text();C===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?m=C:m=JSON.parse(C))}const w=(A=this.headers.Prefer)===null||A===void 0?void 0:A.match(/count=(exact|planned|estimated)/),y=(d=u.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");w&&y&&y.length>1&&(g=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,g=null,p=406,b="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const w=await u.text();try{f=JSON.parse(w),Array.isArray(f)&&u.status===404&&(m=[],f=null,p=200,b="OK")}catch{u.status===404&&w===""?(p=204,b="No Content"):f={message:w}}if(f&&this.isMaybeSingle&&(!((h=f==null?void 0:f.details)===null||h===void 0)&&h.includes("0 rows"))&&(f=null,p=200,b="OK"),f&&this.shouldThrowOnError)throw new r.default(f)}return{error:f,data:m,count:g,status:p,statusText:b}});return this.shouldThrowOnError||(c=c.catch(u=>{var A,d,h;return{error:{message:`${(A=u==null?void 0:u.name)!==null&&A!==void 0?A:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(d=u==null?void 0:u.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),c.then(s,o)}returns(){return this}overrideTypes(){return this}}return Nu.default=n,Nu}var Z4;function Q$(){if(Z4)return Su;Z4=1;var t=Su&&Su.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Su,"__esModule",{value:!0});const e=t(M$());class r extends e.default{select(a){let s=!1;const o=(a??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:s=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",A=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${A?`${A},`:""}${a}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,s,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${s-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:s=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var A;const d=[a?"analyze":null,s?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(A=this.headers.Accept)!==null&&A!==void 0?A:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${h}"; options=${d};`,u==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Su.default=r,Su}var eF;function FT(){if(eF)return Eu;eF=1;var t=Eu&&Eu.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Eu,"__esModule",{value:!0});const e=t(Q$());class r extends e.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}in(a,s){const o=Array.from(new Set(s)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${c}fts${u}.${s}`),this}match(a){return Object.entries(a).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(a,s,o){return this.url.searchParams.append(a,`not.${s}.${o}`),this}or(a,{foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,s,o){return this.url.searchParams.append(a,`${s}.${o}`),this}}return Eu.default=r,Eu}var tF;function L$(){if(tF)return ju;tF=1;var t=ju&&ju.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ju,"__esModule",{value:!0});const e=t(FT());class r{constructor(a,{headers:s={},schema:o,fetch:l}){this.url=a,this.headers=s,this.schema=o,this.fetch=l}select(a,{head:s=!1,count:o}={}){const l=s?"HEAD":"GET";let c=!1;const u=(a??"*").split("").map(A=>/\s/.test(A)&&!c?"":(A==='"'&&(c=!c),A)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:s,defaultToNull:o=!0}={}){const l="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(a)){const u=a.reduce((A,d)=>A.concat(Object.keys(d)),[]);if(u.length>0){const A=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",A.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:s,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){const u="POST",A=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&A.push(this.headers.Prefer),l&&A.push(`count=${l}`),c||A.push("missing=default"),this.headers.Prefer=A.join(","),Array.isArray(a)){const d=a.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(d.length>0){const h=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:s}={}){const o="PATCH",l=[];return this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),this.headers.Prefer=l.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const s="DELETE",o=[];return a&&o.push(`count=${a}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return ju.default=r,ju}var Eh={},Sh={},rF;function Rse(){return rF||(rF=1,Object.defineProperty(Sh,"__esModule",{value:!0}),Sh.version=void 0,Sh.version="0.0.0-automated"),Sh}var nF;function Use(){if(nF)return Eh;nF=1,Object.defineProperty(Eh,"__esModule",{value:!0}),Eh.DEFAULT_HEADERS=void 0;const t=Rse();return Eh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},Eh}var aF;function Mse(){if(aF)return Cu;aF=1;var t=Cu&&Cu.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Cu,"__esModule",{value:!0});const e=t(L$()),r=t(FT()),n=Use();class a{constructor(o,{headers:l={},schema:c,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),l),this.schemaName=c,this.fetch=u}from(o){const l=new URL(`${this.url}/${o}`);return new e.default(l,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new a(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:c=!1,get:u=!1,count:A}={}){let d;const h=new URL(`${this.url}/rpc/${o}`);let f;c||u?(d=c?"HEAD":"GET",Object.entries(l).filter(([g,p])=>p!==void 0).map(([g,p])=>[g,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([g,p])=>{h.searchParams.append(g,p)})):(d="POST",f=l);const m=Object.assign({},this.headers);return A&&(m.Prefer=`count=${A}`),new r.default({method:d,url:h,headers:m,schema:this.schemaName,body:f,fetch:this.fetch,allowEmpty:!1})}}return Cu.default=a,Cu}var sF;function Qse(){if(sF)return tn;sF=1;var t=tn&&tn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(tn,"__esModule",{value:!0}),tn.PostgrestError=tn.PostgrestBuilder=tn.PostgrestTransformBuilder=tn.PostgrestFilterBuilder=tn.PostgrestQueryBuilder=tn.PostgrestClient=void 0;const e=t(Mse());tn.PostgrestClient=e.default;const r=t(L$());tn.PostgrestQueryBuilder=r.default;const n=t(FT());tn.PostgrestFilterBuilder=n.default;const a=t(Q$());tn.PostgrestTransformBuilder=a.default;const s=t(M$());tn.PostgrestBuilder=s.default;const o=t(U$());return tn.PostgrestError=o.default,tn.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:s.default,PostgrestError:o.default},tn}var Lse=Qse();const Hse=Ht(Lse),{PostgrestClient:$se,PostgrestQueryBuilder:D8e,PostgrestFilterBuilder:O8e,PostgrestTransformBuilder:R8e,PostgrestBuilder:U8e,PostgrestError:M8e}=Hse,Vse="2.11.2",Kse={"X-Client-Info":`realtime-js/${Vse}`},qse="1.0.0",H$=1e4,Gse=1e3;var vA;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(vA||(vA={}));var Sa;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Sa||(Sa={}));var xs;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(xs||(xs={}));var AS;(function(t){t.websocket="websocket"})(AS||(AS={}));var fc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(fc||(fc={}));class zse{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+a));o=o+a;const c=n.decode(e.slice(o,o+s));o=o+s;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class $${constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(pr||(pr={}));const iF=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,o)=>(s[o]=Wse(o,t,e,a),s),{})},Wse=(t,e,r,n)=>{const a=e.find(l=>l.name===t),s=a==null?void 0:a.type,o=r[t];return s&&!n.includes(s)?V$(s,o):dS(o)},V$=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Zse(e,r)}switch(t){case pr.bool:return Xse(e);case pr.float4:case pr.float8:case pr.int2:case pr.int4:case pr.int8:case pr.numeric:case pr.oid:return Yse(e);case pr.json:case pr.jsonb:return Jse(e);case pr.timestamp:return eie(e);case pr.abstime:case pr.date:case pr.daterange:case pr.int4range:case pr.int8range:case pr.money:case pr.reltime:case pr.text:case pr.time:case pr.timestamptz:case pr.timetz:case pr.tsrange:case pr.tstzrange:return dS(e);default:return dS(e)}},dS=t=>t,Xse=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Yse=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Jse=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Zse=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const o=t.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>V$(e,l))}return t},eie=t=>typeof t=="string"?t.replace(" ","T"):t,K$=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class c1{constructor(e,r,n={},a=H$){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var oF;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(oF||(oF={}));class bf{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bf.syncState(this.state,a,s,o),this.pendingDiffs.forEach(c=>{this.state=bf.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=bf.syncDiff(this.state,a,s,o),l())}),this.onJoin((a,s,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:o})}),this.onLeave((a,s,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const s=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(s,(u,A)=>{o[u]||(c[u]=A)}),this.map(o,(u,A)=>{const d=s[u];if(d){const h=A.map(p=>p.presence_ref),f=d.map(p=>p.presence_ref),m=A.filter(p=>f.indexOf(p.presence_ref)<0),g=d.filter(p=>h.indexOf(p.presence_ref)<0);m.length>0&&(l[u]=m),g.length>0&&(c[u]=g)}else l[u]=A}),this.syncDiff(s,{joins:l,leaves:c},n,a)}static syncDiff(e,r,n,a){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(l,c)=>{var u;const A=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),A.length>0){const d=e[l].map(f=>f.presence_ref),h=A.filter(f=>d.indexOf(f.presence_ref)<0);e[l].unshift(...h)}n(l,A,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const A=c.map(d=>d.presence_ref);u=u.filter(d=>A.indexOf(d.presence_ref)<0),e[l]=u,a(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lF;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(lF||(lF={}));var cF;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(cF||(cF={}));var Ri;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ri||(Ri={}));class DT{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Sa.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new c1(this,xs.join,this.params,this.timeout),this.rejoinTimer=new $$(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Sa.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Sa.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Sa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Sa.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xs.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new bf(this),this.broadcastEndpointURL=K$(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:l}}=this.params;this._onError(A=>e==null?void 0:e(Ri.CHANNEL_ERROR,A)),this._onClose(()=>e==null?void 0:e(Ri.CLOSED));const c={},u={broadcast:s,presence:o,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(A=>A.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:A})=>{var d;if(this.socket.setAuth(),A===void 0){e==null||e(Ri.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,m=[];for(let g=0;g<f;g++){const p=h[g],{filter:{event:b,schema:x,table:w,filter:y}}=p,C=A&&A[g];if(C&&C.event===b&&C.schema===x&&C.table===w&&C.filter===y)m.push(Object.assign(Object.assign({},p),{id:C.id}));else{this.unsubscribe(),e==null||e(Ri.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(Ri.SUBSCRIBED);return}}).receive("error",A=>{e==null||e(Ri.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ri.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Sa.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xs.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new c1(this,xs.leave,{},e);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(e,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new c1(this,e,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,s;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:A}=xs;if(n&&[l,c,u,A].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(f=>{var m,g,p;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((p=(g=f.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===o}).map(f=>f.callback(h,n)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var m,g,p,b,x,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const y=f.id,C=(m=f.filter)===null||m===void 0?void 0:m.event;return y&&((g=r.ids)===null||g===void 0?void 0:g.includes(y))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((p=r.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const y=(x=(b=f==null?void 0:f.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return y==="*"||y===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:p,commit_timestamp:b,type:x,errors:w}=m;h=Object.assign(Object.assign({},{schema:g,table:p,commit_timestamp:b,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(m))}f.callback(h,n)})}_isClosed(){return this.state===Sa.closed}_isJoined(){return this.state===Sa.joined}_isJoining(){return this.state===Sa.joining}_isLeaving(){return this.state===Sa.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&DT.isEqual(a.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(xs.close,{},e)}_onError(e){this._on(xs.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Sa.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=iF(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=iF(e.columns,e.old_record)),r}}const tie=()=>{},rie=typeof WebSocket<"u",nie=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class aie{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Kse,this.params={},this.timeout=H$,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=tie,this.conn=null,this.sendBuffer=[],this.serializer=new zse,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...l)=>GA(async()=>{const{default:c}=await Promise.resolve().then(()=>Vd);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${AS.websocket}`,this.httpEndpoint=K$(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,o)=>o(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new $$(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(rie){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new sie(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),GA(async()=>{const{default:e}=await import("./browser-CmxgrN_y.js").then(r=>r.b);return{default:e}},__vite__mapDeps([0,1])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qse}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case vA.connecting:return fc.Connecting;case vA.open:return fc.Open;case vA.closing:return fc.Closing;default:return fc.Closed}}isConnected(){return this.connectionState()===fc.Open}channel(e,r={config:{}}){const n=new DT(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:a,ref:s}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(xs.access_token,{access_token:r})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Gse,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:a,payload:s,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${a} ${o&&"("+o+")"||""}`,s),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,s,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(xs.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([nie],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class sie{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=vA.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class OT extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function nn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class iie extends OT{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class hS extends OT{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var oie=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const q$=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>GA(async()=>{const{default:n}=await Promise.resolve().then(()=>Vd);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},lie=()=>oie(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield GA(()=>Promise.resolve().then(()=>Vd),void 0)).Response:Response}),fS=t=>{if(Array.isArray(t))return t.map(r=>fS(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[a]=fS(n)}),e};var du=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const u1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cie=(t,e,r)=>du(void 0,void 0,void 0,function*(){const n=yield lie();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{e(new iie(u1(a),t.status||500))}).catch(a=>{e(new hS(u1(a),a))}):e(new hS(u1(t),t))}),uie=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function kp(t,e,r,n,a,s){return du(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,uie(e,n,a,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>cie(c,l,n))})})}function Jx(t,e,r,n){return du(this,void 0,void 0,function*(){return kp(t,"GET",e,r,n)})}function Do(t,e,r,n,a){return du(this,void 0,void 0,function*(){return kp(t,"POST",e,n,a,r)})}function Aie(t,e,r,n,a){return du(this,void 0,void 0,function*(){return kp(t,"PUT",e,n,a,r)})}function die(t,e,r,n){return du(this,void 0,void 0,function*(){return kp(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function G$(t,e,r,n,a){return du(this,void 0,void 0,function*(){return kp(t,"DELETE",e,n,a,r)})}var da=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const hie={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},uF={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fie{constructor(e,r={},n,a){this.url=e,this.headers=r,this.bucketId=n,this.fetch=q$(a)}uploadOrUpdate(e,r,n,a){return da(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},uF),a);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),A=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${A}`,Object.assign({method:e,body:s,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(nn(s))return{data:null,error:s};throw s}})}upload(e,r,n){return da(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return da(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:uF.upsert},a),A=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,A["cache-control"]=`max-age=${u.cacheControl}`,A["content-type"]=u.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:A}),h=yield d.json();return d.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(nn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return da(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const s=yield Do(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new OT("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(nn(n))return{data:null,error:n};throw n}})}update(e,r,n){return da(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return da(this,void 0,void 0,function*(){try{return{data:yield Do(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(nn(a))return{data:null,error:a};throw a}})}copy(e,r,n){return da(this,void 0,void 0,function*(){try{return{data:{path:(yield Do(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(nn(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return da(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),s=yield Do(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(a){if(nn(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return da(this,void 0,void 0,function*(){try{const a=yield Do(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(a){if(nn(a))return{data:null,error:a};throw a}})}download(e,r){return da(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Jx(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(nn(l))return{data:null,error:l};throw l}})}info(e){return da(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Jx(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:fS(n),error:null}}catch(n){if(nn(n))return{data:null,error:n};throw n}})}exists(e){return da(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield die(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(nn(n)&&n instanceof hS){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return da(this,void 0,void 0,function*(){try{return{data:yield G$(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(nn(r))return{data:null,error:r};throw r}})}list(e,r,n){return da(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},hie),r),{prefix:e||""});return{data:yield Do(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(nn(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const mie="2.7.1",pie={"X-Client-Info":`storage-js/${mie}`};var Tu=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class gie{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},pie),r),this.fetch=q$(n)}listBuckets(){return Tu(this,void 0,void 0,function*(){try{return{data:yield Jx(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(nn(e))return{data:null,error:e};throw e}})}getBucket(e){return Tu(this,void 0,void 0,function*(){try{return{data:yield Jx(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(nn(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Tu(this,void 0,void 0,function*(){try{return{data:yield Do(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(nn(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Tu(this,void 0,void 0,function*(){try{return{data:yield Aie(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(nn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Tu(this,void 0,void 0,function*(){try{return{data:yield Do(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(nn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Tu(this,void 0,void 0,function*(){try{return{data:yield G$(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(nn(r))return{data:null,error:r};throw r}})}}class xie extends gie{constructor(e,r={},n){super(e,r,n)}from(e){return new fie(this.url,this.headers,e,this.fetch)}}const vie="2.49.7";let rf="";typeof Deno<"u"?rf="deno":typeof document<"u"?rf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?rf="react-native":rf="node";const yie={"X-Client-Info":`supabase-js-${rf}/${vie}`},bie={headers:yie},wie={schema:"public"},_ie={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Bie={};var Cie=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const jie=t=>{let e;return t?e=t:typeof fetch>"u"?e=O$:e=fetch,(...r)=>e(...r)},Eie=()=>typeof Headers>"u"?R$:Headers,Sie=(t,e,r)=>{const n=jie(r),a=Eie();return(s,o)=>Cie(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},o),{headers:u}))})};var Nie=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function Tie(t){return t.replace(/\/$/,"")}function kie(t,e){var r,n;const{db:a,auth:s,realtime:o,global:l}=t,{db:c,auth:u,realtime:A,global:d}=e,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},A),o),global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Nie(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const z$="2.69.1",nA=30*1e3,mS=3,A1=mS*nA,Iie="http://localhost:9999",Pie="supabase.auth.token",Fie={"X-Client-Info":`gotrue-js/${z$}`},pS="X-Supabase-Api-Version",W$={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Die=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Oie=6e5;class RT extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function _t(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Rie extends RT{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Uie(t){return _t(t)&&t.name==="AuthApiError"}class X$ extends RT{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Dl extends RT{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class No extends Dl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Mie(t){return _t(t)&&t.name==="AuthSessionMissingError"}class d1 extends Dl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Og extends Dl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Rg extends Dl{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Qie(t){return _t(t)&&t.name==="AuthImplicitGrantRedirectError"}class AF extends Dl{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gS extends Dl{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function h1(t){return _t(t)&&t.name==="AuthRetryableFetchError"}class dF extends Dl{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class wf extends Dl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const hF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fF=` 	
\r=`.split(""),Lie=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<fF.length;e+=1)t[fF[e].charCodeAt(0)]=-2;for(let e=0;e<hF.length;e+=1)t[hF[e].charCodeAt(0)]=e;return t})();function Y$(t,e,r){const n=Lie[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function mF(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=o=>{Vie(o,n,r)};for(let o=0;o<t.length;o+=1)Y$(t.charCodeAt(o),a,s);return e.join("")}function Hie(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function $ie(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Hie(n,e)}}function Vie(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Kie(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)Y$(t.charCodeAt(a),r,n);return new Uint8Array(e)}function qie(t){const e=[];return $ie(t,r=>e.push(r)),new Uint8Array(e)}function Gie(t){return Math.round(Date.now()/1e3)+t}function zie(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const zs=()=>typeof window<"u"&&typeof document<"u",Jl={tested:!1,writable:!1},_f=()=>{if(!zs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jl.tested)return Jl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Jl.tested=!0,Jl.writable=!0}catch{Jl.tested=!0,Jl.writable=!1}return Jl.writable};function Wie(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{e[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const J$=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>GA(async()=>{const{default:n}=await Promise.resolve().then(()=>Vd);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Xie=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Z$=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ug=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Mg=async(t,e)=>{await t.removeItem(e)};let eV=class tV{constructor(){this.promise=new tV.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}};eV.promiseConstructor=Promise;function f1(t){const e=t.split(".");if(e.length!==3)throw new wf("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Die.test(e[n]))throw new wf("JWT not in base64url format");return{header:JSON.parse(mF(e[0])),payload:JSON.parse(mF(e[1])),signature:Kie(e[2]),raw:{header:e[0],payload:e[1]}}}async function Yie(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Jie(t,e){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){a(o);return}}})()})}function Zie(t){return("0"+t.toString(16)).substr(-2)}function eoe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,Zie).join("")}async function toe(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function roe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await toe(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ku(t,e,r=!1){const n=eoe();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Z$(t,`${e}-code-verifier`,a);const s=await roe(n);return[s,n===s?"plain":"s256"]}const noe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function aoe(t){const e=t.headers.get(pS);if(!e||!e.match(noe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function soe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function ioe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var ooe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const sc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),loe=[502,503,504];async function pF(t){var e;if(!Xie(t))throw new gS(sc(t),0);if(loe.includes(t.status))throw new gS(sc(t),t.status);let r;try{r=await t.json()}catch(s){throw new X$(sc(s),s)}let n;const a=aoe(t);if(a&&a.getTime()>=W$["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new dF(sc(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new No}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new dF(sc(r),t.status,r.weak_password.reasons);throw new Rie(sc(r),t.status||500,n)}const coe=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Nt(t,e,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[pS]||(s[pS]=W$["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await uoe(t,e,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function uoe(t,e,r,n,a,s){const o=coe(e,n,a,s);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new gS(sc(c),0)}if(l.ok||await pF(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await pF(c)}}function To(t){var e;let r=null;foe(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Gie(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function gF(t){const e=To(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Uo(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Aoe(t){return{data:t,error:null}}function doe(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=t,o=ooe(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function hoe(t){return t}function foe(t){return t.access_token&&t.refresh_token&&t.expires_in}var moe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class poe{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=J$(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await Nt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Nt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Uo})}catch(n){if(_t(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=moe(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Nt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:doe,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(_t(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Nt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Uo})}catch(r){if(_t(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,s,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},A=await Nt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:hoe});if(A.error)throw A.error;const d=await A.json(),h=(o=A.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=A.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(m.split(";")[1].split("=")[1]);u[`${p}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(_t(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await Nt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Uo})}catch(r){if(_t(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await Nt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Uo})}catch(n){if(_t(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await Nt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Uo})}catch(n){if(_t(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await Nt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await Nt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(_t(r))return{data:null,error:r};throw r}}}const goe={getItem:t=>_f()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{_f()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{_f()&&globalThis.localStorage.removeItem(t)}};function xF(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function xoe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Iu={debug:!!(globalThis&&_f()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class rV extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class voe extends rV{}async function yoe(t,e,r){Iu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Iu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Iu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{Iu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Iu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new voe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Iu.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}xoe();const boe={url:Iie,storageKey:Pie,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Fie,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function vF(t,e,r){return await r()}class Zf{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zf.nextInstanceID,Zf.nextInstanceID+=1,this.instanceID>0&&zs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},boe),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new poe({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=J$(a.fetch),this.lock=a.lock||vF,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:zs()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=yoe:this.lock=vF,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:_f()?this.storage=goe:(this.memoryStorage={},this.storage=xF(this.memoryStorage)):(this.memoryStorage={},this.storage=xF(this.memoryStorage)),zs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${z$}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Wie(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),zs()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Qie(s)){const c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return _t(r)?{error:r}:{error:new X$("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const s=await Nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:To}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(_t(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,n,a;try{let s;if("email"in e){const{email:A,password:d,options:h}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await ku(this.storage,this.storageKey)),s=await Nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:A,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:m},xform:To})}else if("phone"in e){const{phone:A,password:d,options:h}=e;s=await Nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:A,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:To})}else throw new Og("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(_t(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:o,options:l}=e;r=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:gF})}else if("phone"in e){const{phone:s,password:o,options:l}=e;r=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:gF})}else throw new Og("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new d1}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(_t(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,a,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await Ug(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:o}=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:To});if(await Mg(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new d1}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:o})}catch(s){if(_t(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:s,nonce:o}=e,l=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:To}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new d1}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(_t(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,a,s,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,A=null;this.flowType==="pkce"&&([u,A]=await ku(this.storage,this.storageKey));const{error:d}=await Nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:A},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:A}=await Nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:A}}throw new Og("You must provide either an email or phone number.")}catch(l){if(_t(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let a,s;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Nt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:To});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(_t(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,n,a;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await ku(this.storage,this.storageKey)),await Nt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:Aoe})}catch(s){if(_t(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new No;const{error:a}=await Nt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(_t(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:s}=e,{error:o}=await Nt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:a,options:s}=e,{data:o,error:l}=await Nt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Og("You must provide either an email or phone number and a type")}catch(r){if(_t(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ug(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<A1:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,A)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,A))})}return{data:{session:e},error:null}}const{session:a,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Uo}):await this._useSession(async r=>{var n,a,s;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new No}:await Nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:Uo})})}catch(r){if(_t(r))return Mie(r)&&(await this._removeSession(),await Mg(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new No;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await ku(this.storage,this.storageKey));const{data:u,error:A}=await Nt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Uo});if(A)throw A;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(_t(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new No;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:o}=f1(e.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(_t(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new No;const{session:a,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(_t(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!zs())throw new Rg("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Rg(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new AF("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Rg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new AF("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!s||!l||!o||!u)throw new Rg("No session defined in URL");const A=Math.round(Date.now()/1e3),d=parseInt(l);let h=A+d;c&&(h=parseInt(c));const f=h-A;f*1e3<=nA&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const m=h-d;A-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,A):A-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,A);const{data:g,error:p}=await this._getUser(s);if(p)throw p;const b={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(n){if(_t(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ug(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{error:s};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Uie(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Mg(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=zie(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await ku(this.storage,this.storageKey,!0));try{return await Nt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(_t(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(_t(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var o,l,c,u,A;const{data:d,error:h}=s;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Nt(this.fetch,"GET",f,{headers:this.headers,jwt:(A=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&A!==void 0?A:void 0})});if(a)throw a;return zs()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(_t(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:s,error:o}=r;if(o)throw o;return await Nt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Jie(async a=>(a>0&&await Yie(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Nt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:To})),(a,s)=>{const o=200*Math.pow(2,a);return s&&h1(s)&&Date.now()+o-n<nA})}catch(n){if(this._debug(r,"error",n),_t(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),zs()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Ug(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<A1;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${A1}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),h1(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new No;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new eV;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new No;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(a,"error",s),_t(s)){const o={session:null,error:s};return h1(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){s.push(c)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Z$(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Mg(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&zs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),nA);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/nA);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${nA}ms, refresh threshold is ${mS} ticks`),a<=mS&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof rV)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await ku(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await Nt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:s,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await Nt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const{data:o,error:l}=await Nt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(_t(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await Nt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(_t(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:a},error:s}=e;if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=f1(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const A=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:A},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n||(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+Oie>Date.now()))return n;const{data:a,error:s}=await Nt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!a.keys||a.keys.length===0)throw new wf("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(o=>o.kid===e),!n)throw new wf("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:f,error:m}=await this.getSession();if(m||!f.session)return{data:null,error:m};n=f.session.access_token}const{header:a,payload:s,signature:o,raw:{header:l,payload:c}}=f1(n);if(soe(s.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:s,header:a,signature:o},error:null}}const u=ioe(a.alg),A=await this.fetchJwk(a.kid,r),d=await crypto.subtle.importKey("jwk",A,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,qie(`${l}.${c}`)))throw new wf("Invalid JWT signature");return{data:{claims:s,header:a,signature:o},error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}}}Zf.nextInstanceID=0;const woe=Zf;class _oe extends woe{constructor(e){super(e)}}var Boe=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Coe{constructor(e,r,n){var a,s,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Tie(e),c=new URL(l);this.realtimeUrl=new URL("/realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("/auth/v1",c),this.storageUrl=new URL("/storage/v1",c),this.functionsUrl=new URL("/functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,A={db:wie,realtime:Bie,auth:Object.assign(Object.assign({},_ie),{storageKey:u}),global:bie},d=kie(n??{},A);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Sie(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new $se(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new kse(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new xie(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Boe(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:s,flowType:o,lock:l,debug:c},u,A){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _oe({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,flowType:o,lock:l,debug:c,fetch:A,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new aie(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const joe=(t,e,r)=>new Coe(t,e,r),Eoe="https://vpztrjwitxvldrdhndlr.supabase.co",Soe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZwenRyandpdHh2bGRyZGhuZGxyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4MTE3NzIsImV4cCI6MjA2MzM4Nzc3Mn0._NFTwCpQGgMThUeh1sew8y5ulRXSGmwHLmXRQx544PM",Z=joe(Eoe,Soe,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storageKey:"jpc-digi-auth"}});Z.auth.onAuthStateChange((t,e)=>{t==="TOKEN_REFRESHED"&&!e&&(console.log("Token refresh failed, redirecting to login"),Z.auth.signOut().catch(r=>console.error("Error signing out:",r)),window.location.pathname.includes("/login")||setTimeout(()=>{window.location.href="/login"},500))});const Zl={isEnabled:!1,workingDays:[{day:"monday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"tuesday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"wednesday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"thursday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"friday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"saturday",isActive:!0,openTime:"08:00",closeTime:"15:00"},{day:"sunday",isActive:!1,openTime:"08:00",closeTime:"15:00"}],offWorkMessage:"Maaf, kami sedang tutup. Silakan kembali pada jam operasional kami."};class Noe{constructor(){_h(this,"settings",null);_h(this,"lastFetchTime",0);_h(this,"CACHE_DURATION_MS",5*60*1e3);_h(this,"LOCAL_STORAGE_KEY","business_hours_settings")}async getBusinessHours(){const e=Date.now();if(this.settings&&e-this.lastFetchTime<this.CACHE_DURATION_MS)return console.debug("Menggunakan cache untuk pengaturan jam kerja"),this.settings;try{console.debug("Mengambil pengaturan jam kerja dari Supabase");const{data:r,error:n}=await Z.from("settings").select("value").eq("key","business_hours").maybeSingle();if(n){console.debug("Supabase error, coba gunakan localStorage:",n);const a=this.getFromLocalStorage();return a?(this.settings=a,this.lastFetchTime=e,a):(this.settings=Zl,this.lastFetchTime=e,Zl)}if(r&&r.value){const a=r.value;return this.settings=a,this.lastFetchTime=e,this.saveToLocalStorage(a),a}return this.settings=Zl,this.lastFetchTime=e,Zl}catch{return console.debug("Error fetching from Supabase, using default settings"),this.settings=Zl,this.lastFetchTime=e,Zl}}async updateBusinessHours(e){try{console.debug("Menyimpan pengaturan jam kerja ke Supabase");const{error:r}=await Z.from("settings").upsert({key:"business_hours",value:e,updated_at:new Date().toISOString()},{onConflict:"key"});return r?(console.error("Error updating business hours in Supabase:",r),this.saveToLocalStorage(e),{success:!1,message:`Gagal menyimpan ke database: ${r.message}. Data disimpan lokal sebagai cadangan.`}):(this.settings=e,this.lastFetchTime=Date.now(),this.saveToLocalStorage(e),console.debug("Business hours saved to Supabase successfully"),{success:!0,message:"Pengaturan jam kerja berhasil disimpan ke database."})}catch(r){return console.error("Exception updating business hours:",r),this.saveToLocalStorage(e),this.settings=e,this.lastFetchTime=Date.now(),{success:!1,message:`Terjadi kesalahan: ${r instanceof Error?r.message:"Unknown error"}. Data disimpan lokal.`}}}async isWithinBusinessHours(e){const r=await this.getBusinessHours();if(!r||!r.isEnabled)return console.debug("Jam kerja dinonaktifkan, status: BUKA"),!0;const n=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],a=e||new Date,s=new Intl.DateTimeFormat("id-ID",{timeZone:"Asia/Jakarta",hour:"numeric",minute:"numeric",hour12:!1,weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(a);console.debug(`Waktu Jakarta (WIB): ${s}`);const o={Minggu:"sunday",Senin:"monday",Selasa:"tuesday",Rabu:"wednesday",Kamis:"thursday",Jumat:"friday",Sabtu:"saturday"},l=s.split(",")[0],c=o[l]||n[a.getDay()],u=s.match(/(\d{1,2})\.(\d{2})/);let A=a.getHours(),d=a.getMinutes();u&&u.length>=3&&(A=parseInt(u[1],10),d=parseInt(u[2],10)),(isNaN(A)||isNaN(d))&&(A=(a.getUTCHours()+7)%24,d=a.getUTCMinutes()),console.debug(`Waktu saat ini: ${c} ${A}:${d.toString().padStart(2,"0")}`);const h=r.workingDays.find(C=>C.day===c);if(!h||!h.isActive)return console.debug(`Hari ${c} tidak aktif, status: TUTUP`),!1;const[f,m]=h.openTime.split(":").map(Number),[g,p]=h.closeTime.split(":").map(Number),b=A*60+d,x=f*60+m,w=g*60+p;console.debug(`Jam buka: ${f}:${m.toString().padStart(2,"0")} (${x} menit)`),console.debug(`Jam tutup: ${g}:${p.toString().padStart(2,"0")} (${w} menit)`),console.debug(`Waktu saat ini: ${A}:${d.toString().padStart(2,"0")} (${b} menit)`);let y=!1;return w<x?(y=b>=x||b<=w,console.debug(`Mode operasi: MELEWATI TENGAH MALAM, status: ${y?"BUKA":"TUTUP"}`)):(y=b>=x&&b<=w,console.debug(`Mode operasi: NORMAL, status: ${y?"BUKA":"TUTUP"}`)),y}async getCurrentStatus(e){try{const r=await this.getBusinessHours();if(!r||!r.isEnabled)return{isOpen:!0,message:""};if(await this.isWithinBusinessHours(e))return{isOpen:!0,message:""};{const a=new Date,s=new Date(a);s.setDate(s.getDate()+1);const o=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],l={sunday:"Minggu",monday:"Senin",tuesday:"Selasa",wednesday:"Rabu",thursday:"Kamis",friday:"Jumat",saturday:"Sabtu"},c=o[a.getDay()],u=o[s.getDay()],A=r.workingDays.find(f=>f.day===c),d=r.workingDays.find(f=>f.day===u);let h=r.offWorkMessage;if(A&&A.isActive){const[f,m]=A.openTime.split(":").map(Number),g=a.getHours(),p=a.getMinutes(),b=g*60+p,x=f*60+m;b<x&&(h+=` Kami akan buka hari ini pukul ${this.formatTimeIndonesia(A.openTime)}.`)}else if(d&&d.isActive)h+=` Kami akan buka besok (${l[u]}) pukul ${this.formatTimeIndonesia(d.openTime)}.`;else{let f=this.findNextOpenDay(r.workingDays,o.indexOf(c));if(f){const m=this.getIndonesianDayName(f.day),g=this.formatTimeIndonesia(f.openTime);h+=` Kami akan buka kembali pada hari ${m} pukul ${g} WIB.`}}return{isOpen:!1,message:h}}}catch(r){return console.debug("Error getting current status, defaulting to open",r),{isOpen:!0,message:""}}}formatTimeIndonesia(e){const[r,n]=e.split(":").map(Number);return`${r.toString().padStart(2,"0")}.${n.toString().padStart(2,"0")}`}getIndonesianDayName(e){return{sunday:"Minggu",monday:"Senin",tuesday:"Selasa",wednesday:"Rabu",thursday:"Kamis",friday:"Jumat",saturday:"Sabtu"}[e]||e}findNextOpenDay(e,r){for(let n=r+1;n<e.length+r;n++){const a=n%e.length;if(e[a].isActive)return e[a]}return null}saveToLocalStorage(e){try{localStorage.setItem(this.LOCAL_STORAGE_KEY,JSON.stringify(e)),console.debug("Pengaturan jam kerja disimpan ke localStorage")}catch(r){console.debug("Error saving business hours to localStorage:",r)}}getFromLocalStorage(){try{const e=localStorage.getItem(this.LOCAL_STORAGE_KEY);if(e){const r=JSON.parse(e);return console.debug("Berhasil mengambil pengaturan jam kerja dari localStorage"),r}return console.debug("Tidak ada data jam kerja di localStorage"),null}catch(e){return console.debug("Error reading business hours from localStorage:",e),null}}async resetToDefault(){try{return console.debug("Reset pengaturan jam kerja ke default"),await this.updateBusinessHours(Zl)}catch(e){return console.error("Error resetting business hours:",e),{success:!1,message:`Gagal reset pengaturan: ${e instanceof Error?e.message:"Unknown error"}`}}}}const ic=new Noe,ub=Ud("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),G=v.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...a},s)=>{const o=n?Yi:"button";return i.jsx(o,{className:he(ub({variant:e,size:r,className:t})),ref:s,...a})});G.displayName="Button";function Toe(){const[t,e]=v.useState(!1),[r,n]=v.useState(""),[a,s]=v.useState(!0),[o,l]=v.useState(""),[c,u]=v.useState(0),[A,d]=v.useState(""),h=v.useCallback(async()=>{s(!0),d("");try{const f=new Date,m=`${f.getHours()}:${f.getMinutes().toString().padStart(2,"0")}`;l(m),console.debug(`[BusinessHoursOverlay] Memeriksa jam kerja pada ${m}`);const g=await ic.getCurrentStatus();console.debug(`[BusinessHoursOverlay] Status toko: ${g.isOpen?"BUKA":"TUTUP"}`),console.debug(`[BusinessHoursOverlay] Pesan: ${g.message}`),e(!g.isOpen),n(g.message),u(p=>p+1)}catch(f){console.error("[BusinessHoursOverlay] Error checking business hours:",f),d("Terjadi kesalahan saat memeriksa jam kerja"),e(!1)}finally{s(!1)}},[]);return v.useEffect(()=>{h();const f=setInterval(h,6e4);return()=>clearInterval(f)},[h]),a||!t?null:i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full p-6 text-center",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center mb-6",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-amber-100 flex items-center justify-center mb-4",children:i.jsx($A,{className:"h-10 w-10 text-amber-600"})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Di Luar Jam Operasional"})]}),i.jsx("div",{className:"bg-amber-50 border border-amber-100 rounded-md p-4 mb-6",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(qf,{className:"h-5 w-5 text-amber-600 mt-0.5 mr-2"}),i.jsx("p",{className:"text-gray-700",children:r})]})}),A&&i.jsx("div",{className:"bg-red-50 border border-red-100 rounded-md p-3 mb-4 text-left",children:i.jsx("p",{className:"text-red-600 text-sm",children:A})}),i.jsxs("div",{className:"flex flex-col space-y-4",children:[i.jsxs(G,{variant:"outline",onClick:h,className:"w-full flex items-center justify-center",disabled:a,children:[i.jsx(Gf,{className:"h-4 w-4 mr-2"}),a?"Memuat...":"Periksa Kembali"]}),i.jsx(G,{variant:"default",onClick:()=>window.location.reload(),className:"w-full",children:"Muat Ulang Halaman"}),i.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Terakhir diperiksa: ",o," (",c,"x)"]})]})]})})}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function em(){return em=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},em.apply(this,arguments)}var Yo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yo||(Yo={}));const yF="popstate";function koe(t){t===void 0&&(t={});function e(n,a){let{pathname:s,search:o,hash:l}=n.location;return xS("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Zx(a)}return Poe(e,r,null,t)}function Rr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nV(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ioe(){return Math.random().toString(36).substr(2,8)}function bF(t,e){return{usr:t.state,key:t.key,idx:e}}function xS(t,e,r,n){return r===void 0&&(r=null),em({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Kd(e):e,{state:r,key:e&&e.key||n||Ioe()})}function Zx(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Kd(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Poe(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l=Yo.Pop,c=null,u=A();u==null&&(u=0,o.replaceState(em({},o.state,{idx:u}),""));function A(){return(o.state||{idx:null}).idx}function d(){l=Yo.Pop;let p=A(),b=p==null?null:p-u;u=p,c&&c({action:l,location:g.location,delta:b})}function h(p,b){l=Yo.Push;let x=xS(g.location,p,b);u=A()+1;let w=bF(x,u),y=g.createHref(x);try{o.pushState(w,"",y)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(y)}s&&c&&c({action:l,location:g.location,delta:1})}function f(p,b){l=Yo.Replace;let x=xS(g.location,p,b);u=A();let w=bF(x,u),y=g.createHref(x);o.replaceState(w,"",y),s&&c&&c({action:l,location:g.location,delta:0})}function m(p){let b=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof p=="string"?p:Zx(p);return x=x.replace(/ $/,"%20"),Rr(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let g={get action(){return l},get location(){return t(a,o)},listen(p){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(yF,d),c=p,()=>{a.removeEventListener(yF,d),c=null}},createHref(p){return e(a,p)},createURL:m,encodeLocation(p){let b=m(p);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:f,go(p){return o.go(p)}};return g}var wF;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wF||(wF={}));function Foe(t,e,r){return r===void 0&&(r="/"),Doe(t,e,r)}function Doe(t,e,r,n){let a=typeof e=="string"?Kd(e):e,s=UT(a.pathname||"/",r);if(s==null)return null;let o=aV(t);Ooe(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=zoe(s);l=Koe(o[c],u)}return l}function aV(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Rr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=sl([n,c.relativePath]),A=r.concat(c);s.children&&s.children.length>0&&(Rr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),aV(s.children,e,A,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:$oe(u,s.index),routesMeta:A})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of sV(s.path))a(s,o,c)}),e}function sV(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=sV(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Ooe(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Voe(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Roe=/^:[\w-]+$/,Uoe=3,Moe=2,Qoe=1,Loe=10,Hoe=-2,_F=t=>t==="*";function $oe(t,e){let r=t.split("/"),n=r.length;return r.some(_F)&&(n+=Hoe),e&&(n+=Moe),r.filter(a=>!_F(a)).reduce((a,s)=>a+(Roe.test(s)?Uoe:s===""?Qoe:Loe),n)}function Voe(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function Koe(t,e,r){let{routesMeta:n}=t,a={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,A=s==="/"?e:e.slice(s.length)||"/",d=qoe({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},A),h=c.route;if(!d)return null;Object.assign(a,d.params),o.push({params:a,pathname:sl([s,d.pathname]),pathnameBase:Joe(sl([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=sl([s,d.pathnameBase]))}return o}function qoe(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Goe(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,A,d)=>{let{paramName:h,isOptional:f}=A;if(h==="*"){let g=l[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const m=l[d];return f&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function Goe(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),nV(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function zoe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nV(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function UT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Woe(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?Kd(t):t;return{pathname:r?r.startsWith("/")?r:Xoe(r,e):e,search:Zoe(n),hash:ele(a)}}function Xoe(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function m1(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Yoe(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function MT(t,e){let r=Yoe(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function QT(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=Kd(t):(a=em({},t),Rr(!a.pathname||!a.pathname.includes("?"),m1("?","pathname","search",a)),Rr(!a.pathname||!a.pathname.includes("#"),m1("#","pathname","hash",a)),Rr(!a.search||!a.search.includes("#"),m1("#","search","hash",a)));let s=t===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;a.pathname=h.join("/")}l=d>=0?e[d]:"/"}let c=Woe(a,l),u=o&&o!=="/"&&o.endsWith("/"),A=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||A)&&(c.pathname+="/"),c}const sl=t=>t.join("/").replace(/\/\/+/g,"/"),Joe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Zoe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ele=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function tle(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const iV=["post","put","patch","delete"];new Set(iV);const rle=["get",...iV];new Set(rle);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tm(){return tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tm.apply(this,arguments)}const LT=v.createContext(null),nle=v.createContext(null),Ol=v.createContext(null),Ab=v.createContext(null),Ao=v.createContext({outlet:null,matches:[],isDataRoute:!1}),oV=v.createContext(null);function ale(t,e){let{relative:r}=e===void 0?{}:e;qd()||Rr(!1);let{basename:n,navigator:a}=v.useContext(Ol),{hash:s,pathname:o,search:l}=cV(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:sl([n,o])),a.createHref({pathname:c,search:l,hash:s})}function qd(){return v.useContext(Ab)!=null}function la(){return qd()||Rr(!1),v.useContext(Ab).location}function lV(t){v.useContext(Ol).static||v.useLayoutEffect(t)}function kt(){let{isDataRoute:t}=v.useContext(Ao);return t?gle():sle()}function sle(){qd()||Rr(!1);let t=v.useContext(LT),{basename:e,future:r,navigator:n}=v.useContext(Ol),{matches:a}=v.useContext(Ao),{pathname:s}=la(),o=JSON.stringify(MT(a,r.v7_relativeSplatPath)),l=v.useRef(!1);return lV(()=>{l.current=!0}),v.useCallback(function(u,A){if(A===void 0&&(A={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=QT(u,JSON.parse(o),s,A.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:sl([e,d.pathname])),(A.replace?n.replace:n.push)(d,A.state,A)},[e,n,o,s,t])}function Ip(){let{matches:t}=v.useContext(Ao),e=t[t.length-1];return e?e.params:{}}function cV(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=v.useContext(Ol),{matches:a}=v.useContext(Ao),{pathname:s}=la(),o=JSON.stringify(MT(a,n.v7_relativeSplatPath));return v.useMemo(()=>QT(t,JSON.parse(o),s,r==="path"),[t,o,s,r])}function ile(t,e){return ole(t,e)}function ole(t,e,r,n){qd()||Rr(!1);let{navigator:a}=v.useContext(Ol),{matches:s}=v.useContext(Ao),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=la(),A;if(e){var d;let p=typeof e=="string"?Kd(e):e;c==="/"||(d=p.pathname)!=null&&d.startsWith(c)||Rr(!1),A=p}else A=u;let h=A.pathname||"/",f=h;if(c!=="/"){let p=c.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(p.length).join("/")}let m=Foe(t,{pathname:f}),g=dle(m&&m.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:sl([c,a.encodeLocation?a.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?c:sl([c,a.encodeLocation?a.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),s,r,n);return e&&g?v.createElement(Ab.Provider,{value:{location:tm({pathname:"/",search:"",hash:"",state:null,key:"default"},A),navigationType:Yo.Pop}},g):g}function lle(){let t=ple(),e=tle(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),r?v.createElement("pre",{style:a},r):null,null)}const cle=v.createElement(lle,null);class ule extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?v.createElement(Ao.Provider,{value:this.props.routeContext},v.createElement(oV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ale(t){let{routeContext:e,match:r,children:n}=t,a=v.useContext(LT);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(Ao.Provider,{value:e},n)}function dle(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let A=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);A>=0||Rr(!1),o=o.slice(0,Math.min(o.length,A+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let A=0;A<o.length;A++){let d=o[A];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=A),d.route.id){let{loaderData:h,errors:f}=r,m=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((A,d,h)=>{let f,m=!1,g=null,p=null;r&&(f=l&&d.route.id?l[d.route.id]:void 0,g=d.route.errorElement||cle,c&&(u<0&&h===0?(xle("route-fallback"),m=!0,p=null):u===h&&(m=!0,p=d.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,h+1)),x=()=>{let w;return f?w=g:m?w=p:d.route.Component?w=v.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=A,v.createElement(Ale,{match:d,routeContext:{outlet:A,matches:b,isDataRoute:r!=null},children:w})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?v.createElement(ule,{location:r.location,revalidation:r.revalidation,component:g,error:f,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var uV=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uV||{}),AV=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(AV||{});function hle(t){let e=v.useContext(LT);return e||Rr(!1),e}function fle(t){let e=v.useContext(nle);return e||Rr(!1),e}function mle(t){let e=v.useContext(Ao);return e||Rr(!1),e}function dV(t){let e=mle(),r=e.matches[e.matches.length-1];return r.route.id||Rr(!1),r.route.id}function ple(){var t;let e=v.useContext(oV),r=fle(),n=dV();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function gle(){let{router:t}=hle(uV.UseNavigateStable),e=dV(AV.UseNavigateStable),r=v.useRef(!1);return lV(()=>{r.current=!0}),v.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,tm({fromRouteId:e},s)))},[t,e])}const BF={};function xle(t,e,r){BF[t]||(BF[t]=!0)}function ev(t){let{to:e,replace:r,state:n,relative:a}=t;qd()||Rr(!1);let{future:s,static:o}=v.useContext(Ol),{matches:l}=v.useContext(Ao),{pathname:c}=la(),u=kt(),A=QT(e,MT(l,s.v7_relativeSplatPath),c,a==="path"),d=JSON.stringify(A);return v.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:a}),[u,d,a,r,n]),null}function et(t){Rr(!1)}function vle(t){let{basename:e="/",children:r=null,location:n,navigationType:a=Yo.Pop,navigator:s,static:o=!1,future:l}=t;qd()&&Rr(!1);let c=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:s,static:o,future:tm({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=Kd(n));let{pathname:A="/",search:d="",hash:h="",state:f=null,key:m="default"}=n,g=v.useMemo(()=>{let p=UT(A,c);return p==null?null:{location:{pathname:p,search:d,hash:h,state:f,key:m},navigationType:a}},[c,A,d,h,f,m,a]);return g==null?null:v.createElement(Ol.Provider,{value:u},v.createElement(Ab.Provider,{children:r,value:g}))}function yle(t){let{children:e,location:r}=t;return ile(vS(e),r)}new Promise(()=>{});function vS(t,e){e===void 0&&(e=[]);let r=[];return v.Children.forEach(t,(n,a)=>{if(!v.isValidElement(n))return;let s=[...e,a];if(n.type===v.Fragment){r.push.apply(r,vS(n.props.children,s));return}n.type!==et&&Rr(!1),!n.props.index||!n.props.children||Rr(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=vS(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yS(){return yS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yS.apply(this,arguments)}function ble(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function wle(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _le(t,e){return t.button===0&&(!e||e==="_self")&&!wle(t)}function bS(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Ble(t,e){let r=bS(t);return e&&e.forEach((n,a)=>{r.has(a)||e.getAll(a).forEach(s=>{r.append(a,s)})}),r}const Cle=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jle="6";try{window.__reactRouterVersion=jle}catch{}const Ele="startTransition",CF=ZL[Ele];function Sle(t){let{basename:e,children:r,future:n,window:a}=t,s=v.useRef();s.current==null&&(s.current=koe({window:a,v5Compat:!0}));let o=s.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},A=v.useCallback(d=>{u&&CF?CF(()=>c(d)):c(d)},[c,u]);return v.useLayoutEffect(()=>o.listen(A),[o,A]),v.createElement(vle,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Nle=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Tle=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dt=v.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:A,viewTransition:d}=e,h=ble(e,Cle),{basename:f}=v.useContext(Ol),m,g=!1;if(typeof u=="string"&&Tle.test(u)&&(m=u,Nle))try{let w=new URL(window.location.href),y=u.startsWith("//")?new URL(w.protocol+u):new URL(u),C=UT(y.pathname,f);y.origin===w.origin&&C!=null?u=C+y.search+y.hash:g=!0}catch{}let p=ale(u,{relative:a}),b=kle(u,{replace:o,state:l,target:c,preventScrollReset:A,relative:a,viewTransition:d});function x(w){n&&n(w),w.defaultPrevented||b(w)}return v.createElement("a",yS({},h,{href:m||p,onClick:g||s?n:x,ref:r,target:c}))});var jF;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(jF||(jF={}));var EF;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(EF||(EF={}));function kle(t,e){let{target:r,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,c=kt(),u=la(),A=cV(t,{relative:o});return v.useCallback(d=>{if(_le(d,r)){d.preventDefault();let h=n!==void 0?n:Zx(u)===Zx(A);c(t,{replace:h,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,A,n,a,r,t,s,o,l])}function Ile(t){let e=v.useRef(bS(t)),r=v.useRef(!1),n=la(),a=v.useMemo(()=>Ble(n.search,r.current?null:e.current),[n.search]),s=kt(),o=v.useCallback((l,c)=>{const u=bS(typeof l=="function"?l(a):l);r.current=!0,s("?"+u,c)},[s,a]);return[a,o]}const Ple=()=>{};var SF={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},Fle=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const a=t[r++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const s=t[r++];e[n++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=t[r++],o=t[r++],l=t[r++],c=((a&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const s=t[r++],o=t[r++];e[n++]=String.fromCharCode((a&15)<<12|(s&63)<<6|o&63)}}return e.join("")},fV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<t.length;a+=3){const s=t[a],o=a+1<t.length,l=o?t[a+1]:0,c=a+2<t.length,u=c?t[a+2]:0,A=s>>2,d=(s&3)<<4|l>>4;let h=(l&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),n.push(r[A],r[d],r[h],r[f])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hV(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Fle(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<t.length;){const s=r[t.charAt(a++)],l=a<t.length?r[t.charAt(a)]:0;++a;const u=a<t.length?r[t.charAt(a)]:64;++a;const d=a<t.length?r[t.charAt(a)]:64;if(++a,s==null||l==null||u==null||d==null)throw new Dle;const h=s<<2|l>>4;if(n.push(h),u!==64){const f=l<<4&240|u>>2;if(n.push(f),d!==64){const m=u<<6&192|d;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Dle extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ole=function(t){const e=hV(t);return fV.encodeByteArray(e,!0)},tv=function(t){return Ole(t).replace(/\./g,"")},Rle=function(t){try{return fV.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ule=()=>mV().__FIREBASE_DEFAULTS__,Mle=()=>{if(typeof process>"u"||typeof SF>"u")return;const t=SF.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Qle=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Rle(t[1]);return e&&JSON.parse(e)},HT=()=>{try{return Ple()||Ule()||Mle()||Qle()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Lle=t=>{var e,r;return(r=(e=HT())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},Hle=t=>{const e=Lle(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},pV=()=>{var t;return(t=HT())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $le{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(t){return t.endsWith(".cloudworkstations.dev")}async function Vle(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kle(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",a=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[tv(JSON.stringify(r)),tv(JSON.stringify(o)),""].join(".")}const Bf={};function qle(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bf))Bf[e]?t.emulator.push(e):t.prod.push(e);return t}function Gle(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let NF=!1;function zle(t,e){if(typeof window>"u"||typeof document>"u"||!$T(window.location.host)||Bf[t]===e||Bf[t]||NF)return;Bf[t]=e;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",s=qle().prod.length>0;function o(){const h=document.getElementById(n);h&&h.remove()}function l(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,f){h.setAttribute("width","24"),h.setAttribute("id",f),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{NF=!0,o()},h}function A(h,f){h.setAttribute("id",f),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=Gle(n),f=r("text"),m=document.getElementById(f)||document.createElement("span"),g=r("learnmore"),p=document.getElementById(g)||document.createElement("a"),b=r("preprendIcon"),x=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;l(w),A(p,g);const y=u();c(x,b),w.append(x,m,p,y),document.body.appendChild(w)}s?(m.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gV(){var t;const e=(t=HT())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xV(){return!gV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vV(){return!gV()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function VT(){try{return typeof indexedDB=="object"}catch{return!1}}function yV(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var s;e(((s=a.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}function Wle(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xle="FirebaseError";class hu extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Xle,Object.setPrototypeOf(this,hu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,db.prototype.create)}}class db{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},a=`${this.service}/${e}`,s=this.errors[e],o=s?Yle(s,n):"Error",l=`${this.serviceName}: ${o} (${a}).`;return new hu(a,l,n)}}function Yle(t,e){return t.replace(Jle,(r,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const Jle=/\{\$([^}]+)}/g;function nv(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const a of r){if(!n.includes(a))return!1;const s=t[a],o=e[a];if(TF(s)&&TF(o)){if(!nv(s,o))return!1}else if(s!==o)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function TF(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t){return t&&t._delegate?t._delegate:t}class to{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zle{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new $le;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(a)return null;throw s}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tce(e))try{this.getOrInitializeService({instanceIdentifier:oc})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:a});n.resolve(s)}catch{}}}}clearInstance(e=oc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oc){return this.instances.has(e)}getOptions(e=oc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);n===l&&o.resolve(a)}return a}onInit(e,r){var n;const a=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(a,s);const o=this.instances.get(a);return o&&e(o,a),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:ece(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=oc){return this.component?this.component.multipleInstances?e:oc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ece(t){return t===oc?void 0:t}function tce(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rce{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Zle(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Mt||(Mt={}));const nce={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},ace=Mt.INFO,sce={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},ice=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),a=sce[e];if(a)console[a](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let bV=class{constructor(e){this.name=e,this._logLevel=ace,this._logHandler=ice,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nce[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}};const oce=(t,e)=>e.some(r=>t instanceof r);let kF,IF;function lce(){return kF||(kF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cce(){return IF||(IF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wV=new WeakMap,wS=new WeakMap,_V=new WeakMap,p1=new WeakMap,KT=new WeakMap;function uce(t){const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{r($i(t.result)),a()},o=()=>{n(t.error),a()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&wV.set(r,t)}).catch(()=>{}),KT.set(e,t),e}function Ace(t){if(wS.has(t))return;const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{r(),a()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wS.set(t,e)}let _S={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return wS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_V.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return $i(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dce(t){_S=t(_S)}function hce(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(g1(this),e,...r);return _V.set(n,e.sort?e.sort():[e]),$i(n)}:cce().includes(t)?function(...e){return t.apply(g1(this),e),$i(wV.get(this))}:function(...e){return $i(t.apply(g1(this),e))}}function fce(t){return typeof t=="function"?hce(t):(t instanceof IDBTransaction&&Ace(t),oce(t,lce())?new Proxy(t,_S):t)}function $i(t){if(t instanceof IDBRequest)return uce(t);if(p1.has(t))return p1.get(t);const e=fce(t);return e!==t&&(p1.set(t,e),KT.set(e,t)),e}const g1=t=>KT.get(t);function hb(t,e,{blocked:r,upgrade:n,blocking:a,terminated:s}={}){const o=indexedDB.open(t,e),l=$i(o);return n&&o.addEventListener("upgradeneeded",c=>{n($i(o.result),c.oldVersion,c.newVersion,$i(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),a&&c.addEventListener("versionchange",u=>a(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}function x1(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",n=>e(n.oldVersion,n)),$i(r).then(()=>{})}const mce=["get","getKey","getAll","getAllKeys","count"],pce=["put","add","delete","clear"],v1=new Map;function PF(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(v1.get(e))return v1.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,a=pce.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||mce.includes(r)))return;const s=async function(o,...l){const c=this.transaction(o,a?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),a&&c.done]))[0]};return v1.set(e,s),s}dce(t=>({...t,get:(e,r,n)=>PF(e,r)||t.get(e,r,n),has:(e,r)=>!!PF(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gce{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(xce(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function xce(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const BS="@firebase/app",FF="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=new bV("@firebase/app"),vce="@firebase/app-compat",yce="@firebase/analytics-compat",bce="@firebase/analytics",wce="@firebase/app-check-compat",_ce="@firebase/app-check",Bce="@firebase/auth",Cce="@firebase/auth-compat",jce="@firebase/database",Ece="@firebase/data-connect",Sce="@firebase/database-compat",Nce="@firebase/functions",Tce="@firebase/functions-compat",kce="@firebase/installations",Ice="@firebase/installations-compat",Pce="@firebase/messaging",Fce="@firebase/messaging-compat",Dce="@firebase/performance",Oce="@firebase/performance-compat",Rce="@firebase/remote-config",Uce="@firebase/remote-config-compat",Mce="@firebase/storage",Qce="@firebase/storage-compat",Lce="@firebase/firestore",Hce="@firebase/ai",$ce="@firebase/firestore-compat",Vce="firebase",Kce="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="[DEFAULT]",qce={[BS]:"fire-core",[vce]:"fire-core-compat",[bce]:"fire-analytics",[yce]:"fire-analytics-compat",[_ce]:"fire-app-check",[wce]:"fire-app-check-compat",[Bce]:"fire-auth",[Cce]:"fire-auth-compat",[jce]:"fire-rtdb",[Ece]:"fire-data-connect",[Sce]:"fire-rtdb-compat",[Nce]:"fire-fn",[Tce]:"fire-fn-compat",[kce]:"fire-iid",[Ice]:"fire-iid-compat",[Pce]:"fire-fcm",[Fce]:"fire-fcm-compat",[Dce]:"fire-perf",[Oce]:"fire-perf-compat",[Rce]:"fire-rc",[Uce]:"fire-rc-compat",[Mce]:"fire-gcs",[Qce]:"fire-gcs-compat",[Lce]:"fire-fst",[$ce]:"fire-fst-compat",[Hce]:"fire-vertex","fire-js":"fire-js",[Vce]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=new Map,Gce=new Map,jS=new Map;function DF(t,e){try{t.container.addComponent(e)}catch(r){ro.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function bl(t){const e=t.name;if(jS.has(e))return ro.debug(`There were multiple attempts to register component ${e}.`),!1;jS.set(e,t);for(const r of av.values())DF(r,t);for(const r of Gce.values())DF(r,t);return!0}function fb(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function zce(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wce={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},il=new db("app","Firebase",Wce);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xce{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new to("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw il.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yce=Kce;function BV(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:CS,automaticDataCollectionEnabled:!0},e),a=n.name;if(typeof a!="string"||!a)throw il.create("bad-app-name",{appName:String(a)});if(r||(r=pV()),!r)throw il.create("no-options");const s=av.get(a);if(s){if(nv(r,s.options)&&nv(n,s.config))return s;throw il.create("duplicate-app",{appName:a})}const o=new rce(a);for(const c of jS.values())o.addComponent(c);const l=new Xce(r,n,o);return av.set(a,l),l}function CV(t=CS){const e=av.get(t);if(!e&&t===CS&&pV())return BV();if(!e)throw il.create("no-app",{appName:t});return e}function li(t,e,r){var n;let a=(n=qce[t])!==null&&n!==void 0?n:t;r&&(a+=`-${r}`);const s=a.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${a}" with version "${e}":`];s&&l.push(`library name "${a}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ro.warn(l.join(" "));return}bl(new to(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jce="firebase-heartbeat-database",Zce=1,rm="firebase-heartbeat-store";let y1=null;function jV(){return y1||(y1=hb(Jce,Zce,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rm)}catch(r){console.warn(r)}}}}).catch(t=>{throw il.create("idb-open",{originalErrorMessage:t.message})})),y1}async function eue(t){try{const r=(await jV()).transaction(rm),n=await r.objectStore(rm).get(EV(t));return await r.done,n}catch(e){if(e instanceof hu)ro.warn(e.message);else{const r=il.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ro.warn(r.message)}}}async function OF(t,e){try{const n=(await jV()).transaction(rm,"readwrite");await n.objectStore(rm).put(e,EV(t)),await n.done}catch(r){if(r instanceof hu)ro.warn(r.message);else{const n=il.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ro.warn(n.message)}}}function EV(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tue=1024,rue=30;class nue{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new sue(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=RF();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>rue){const o=iue(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ro.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=RF(),{heartbeatsToSend:n,unsentEntries:a}=aue(this._heartbeatsCache.heartbeats),s=tv(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return ro.warn(r),""}}}function RF(){return new Date().toISOString().substring(0,10)}function aue(t,e=tue){const r=[];let n=t.slice();for(const a of t){const s=r.find(o=>o.agent===a.agent);if(s){if(s.dates.push(a.date),UF(r)>e){s.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),UF(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class sue{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VT()?yV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await eue(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return OF(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return OF(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function UF(t){return tv(JSON.stringify({version:2,heartbeats:t})).length}function iue(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oue(t){bl(new to("platform-logger",e=>new gce(e),"PRIVATE")),bl(new to("heartbeat",e=>new nue(e),"PRIVATE")),li(BS,FF,t),li(BS,FF,"esm2017"),li("fire-js","")}oue("");var lue="firebase",cue="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */li(lue,cue,"app");var MF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(B,j){function N(){}N.prototype=j.prototype,B.D=j.prototype,B.prototype=new N,B.prototype.constructor=B,B.C=function(S,T,I){for(var k=Array(arguments.length-2),R=2;R<arguments.length;R++)k[R-2]=arguments[R];return j.prototype[T].apply(S,k)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(B,j,N){N||(N=0);var S=Array(16);if(typeof j=="string")for(var T=0;16>T;++T)S[T]=j.charCodeAt(N++)|j.charCodeAt(N++)<<8|j.charCodeAt(N++)<<16|j.charCodeAt(N++)<<24;else for(T=0;16>T;++T)S[T]=j[N++]|j[N++]<<8|j[N++]<<16|j[N++]<<24;j=B.g[0],N=B.g[1],T=B.g[2];var I=B.g[3],k=j+(I^N&(T^I))+S[0]+3614090360&4294967295;j=N+(k<<7&4294967295|k>>>25),k=I+(T^j&(N^T))+S[1]+3905402710&4294967295,I=j+(k<<12&4294967295|k>>>20),k=T+(N^I&(j^N))+S[2]+606105819&4294967295,T=I+(k<<17&4294967295|k>>>15),k=N+(j^T&(I^j))+S[3]+3250441966&4294967295,N=T+(k<<22&4294967295|k>>>10),k=j+(I^N&(T^I))+S[4]+4118548399&4294967295,j=N+(k<<7&4294967295|k>>>25),k=I+(T^j&(N^T))+S[5]+1200080426&4294967295,I=j+(k<<12&4294967295|k>>>20),k=T+(N^I&(j^N))+S[6]+2821735955&4294967295,T=I+(k<<17&4294967295|k>>>15),k=N+(j^T&(I^j))+S[7]+4249261313&4294967295,N=T+(k<<22&4294967295|k>>>10),k=j+(I^N&(T^I))+S[8]+1770035416&4294967295,j=N+(k<<7&4294967295|k>>>25),k=I+(T^j&(N^T))+S[9]+2336552879&4294967295,I=j+(k<<12&4294967295|k>>>20),k=T+(N^I&(j^N))+S[10]+4294925233&4294967295,T=I+(k<<17&4294967295|k>>>15),k=N+(j^T&(I^j))+S[11]+2304563134&4294967295,N=T+(k<<22&4294967295|k>>>10),k=j+(I^N&(T^I))+S[12]+1804603682&4294967295,j=N+(k<<7&4294967295|k>>>25),k=I+(T^j&(N^T))+S[13]+4254626195&4294967295,I=j+(k<<12&4294967295|k>>>20),k=T+(N^I&(j^N))+S[14]+2792965006&4294967295,T=I+(k<<17&4294967295|k>>>15),k=N+(j^T&(I^j))+S[15]+1236535329&4294967295,N=T+(k<<22&4294967295|k>>>10),k=j+(T^I&(N^T))+S[1]+4129170786&4294967295,j=N+(k<<5&4294967295|k>>>27),k=I+(N^T&(j^N))+S[6]+3225465664&4294967295,I=j+(k<<9&4294967295|k>>>23),k=T+(j^N&(I^j))+S[11]+643717713&4294967295,T=I+(k<<14&4294967295|k>>>18),k=N+(I^j&(T^I))+S[0]+3921069994&4294967295,N=T+(k<<20&4294967295|k>>>12),k=j+(T^I&(N^T))+S[5]+3593408605&4294967295,j=N+(k<<5&4294967295|k>>>27),k=I+(N^T&(j^N))+S[10]+38016083&4294967295,I=j+(k<<9&4294967295|k>>>23),k=T+(j^N&(I^j))+S[15]+3634488961&4294967295,T=I+(k<<14&4294967295|k>>>18),k=N+(I^j&(T^I))+S[4]+3889429448&4294967295,N=T+(k<<20&4294967295|k>>>12),k=j+(T^I&(N^T))+S[9]+568446438&4294967295,j=N+(k<<5&4294967295|k>>>27),k=I+(N^T&(j^N))+S[14]+3275163606&4294967295,I=j+(k<<9&4294967295|k>>>23),k=T+(j^N&(I^j))+S[3]+4107603335&4294967295,T=I+(k<<14&4294967295|k>>>18),k=N+(I^j&(T^I))+S[8]+1163531501&4294967295,N=T+(k<<20&4294967295|k>>>12),k=j+(T^I&(N^T))+S[13]+2850285829&4294967295,j=N+(k<<5&4294967295|k>>>27),k=I+(N^T&(j^N))+S[2]+4243563512&4294967295,I=j+(k<<9&4294967295|k>>>23),k=T+(j^N&(I^j))+S[7]+1735328473&4294967295,T=I+(k<<14&4294967295|k>>>18),k=N+(I^j&(T^I))+S[12]+2368359562&4294967295,N=T+(k<<20&4294967295|k>>>12),k=j+(N^T^I)+S[5]+4294588738&4294967295,j=N+(k<<4&4294967295|k>>>28),k=I+(j^N^T)+S[8]+2272392833&4294967295,I=j+(k<<11&4294967295|k>>>21),k=T+(I^j^N)+S[11]+1839030562&4294967295,T=I+(k<<16&4294967295|k>>>16),k=N+(T^I^j)+S[14]+4259657740&4294967295,N=T+(k<<23&4294967295|k>>>9),k=j+(N^T^I)+S[1]+2763975236&4294967295,j=N+(k<<4&4294967295|k>>>28),k=I+(j^N^T)+S[4]+1272893353&4294967295,I=j+(k<<11&4294967295|k>>>21),k=T+(I^j^N)+S[7]+4139469664&4294967295,T=I+(k<<16&4294967295|k>>>16),k=N+(T^I^j)+S[10]+3200236656&4294967295,N=T+(k<<23&4294967295|k>>>9),k=j+(N^T^I)+S[13]+681279174&4294967295,j=N+(k<<4&4294967295|k>>>28),k=I+(j^N^T)+S[0]+3936430074&4294967295,I=j+(k<<11&4294967295|k>>>21),k=T+(I^j^N)+S[3]+3572445317&4294967295,T=I+(k<<16&4294967295|k>>>16),k=N+(T^I^j)+S[6]+76029189&4294967295,N=T+(k<<23&4294967295|k>>>9),k=j+(N^T^I)+S[9]+3654602809&4294967295,j=N+(k<<4&4294967295|k>>>28),k=I+(j^N^T)+S[12]+3873151461&4294967295,I=j+(k<<11&4294967295|k>>>21),k=T+(I^j^N)+S[15]+530742520&4294967295,T=I+(k<<16&4294967295|k>>>16),k=N+(T^I^j)+S[2]+3299628645&4294967295,N=T+(k<<23&4294967295|k>>>9),k=j+(T^(N|~I))+S[0]+4096336452&4294967295,j=N+(k<<6&4294967295|k>>>26),k=I+(N^(j|~T))+S[7]+1126891415&4294967295,I=j+(k<<10&4294967295|k>>>22),k=T+(j^(I|~N))+S[14]+2878612391&4294967295,T=I+(k<<15&4294967295|k>>>17),k=N+(I^(T|~j))+S[5]+4237533241&4294967295,N=T+(k<<21&4294967295|k>>>11),k=j+(T^(N|~I))+S[12]+1700485571&4294967295,j=N+(k<<6&4294967295|k>>>26),k=I+(N^(j|~T))+S[3]+2399980690&4294967295,I=j+(k<<10&4294967295|k>>>22),k=T+(j^(I|~N))+S[10]+4293915773&4294967295,T=I+(k<<15&4294967295|k>>>17),k=N+(I^(T|~j))+S[1]+2240044497&4294967295,N=T+(k<<21&4294967295|k>>>11),k=j+(T^(N|~I))+S[8]+1873313359&4294967295,j=N+(k<<6&4294967295|k>>>26),k=I+(N^(j|~T))+S[15]+4264355552&4294967295,I=j+(k<<10&4294967295|k>>>22),k=T+(j^(I|~N))+S[6]+2734768916&4294967295,T=I+(k<<15&4294967295|k>>>17),k=N+(I^(T|~j))+S[13]+1309151649&4294967295,N=T+(k<<21&4294967295|k>>>11),k=j+(T^(N|~I))+S[4]+4149444226&4294967295,j=N+(k<<6&4294967295|k>>>26),k=I+(N^(j|~T))+S[11]+3174756917&4294967295,I=j+(k<<10&4294967295|k>>>22),k=T+(j^(I|~N))+S[2]+718787259&4294967295,T=I+(k<<15&4294967295|k>>>17),k=N+(I^(T|~j))+S[9]+3951481745&4294967295,B.g[0]=B.g[0]+j&4294967295,B.g[1]=B.g[1]+(T+(k<<21&4294967295|k>>>11))&4294967295,B.g[2]=B.g[2]+T&4294967295,B.g[3]=B.g[3]+I&4294967295}n.prototype.u=function(B,j){j===void 0&&(j=B.length);for(var N=j-this.blockSize,S=this.B,T=this.h,I=0;I<j;){if(T==0)for(;I<=N;)a(this,B,I),I+=this.blockSize;if(typeof B=="string"){for(;I<j;)if(S[T++]=B.charCodeAt(I++),T==this.blockSize){a(this,S),T=0;break}}else for(;I<j;)if(S[T++]=B[I++],T==this.blockSize){a(this,S),T=0;break}}this.h=T,this.o+=j},n.prototype.v=function(){var B=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);B[0]=128;for(var j=1;j<B.length-8;++j)B[j]=0;var N=8*this.o;for(j=B.length-8;j<B.length;++j)B[j]=N&255,N/=256;for(this.u(B),B=Array(16),j=N=0;4>j;++j)for(var S=0;32>S;S+=8)B[N++]=this.g[j]>>>S&255;return B};function s(B,j){var N=l;return Object.prototype.hasOwnProperty.call(N,B)?N[B]:N[B]=j(B)}function o(B,j){this.h=j;for(var N=[],S=!0,T=B.length-1;0<=T;T--){var I=B[T]|0;S&&I==j||(N[T]=I,S=!1)}this.g=N}var l={};function c(B){return-128<=B&&128>B?s(B,function(j){return new o([j|0],0>j?-1:0)}):new o([B|0],0>B?-1:0)}function u(B){if(isNaN(B)||!isFinite(B))return d;if(0>B)return p(u(-B));for(var j=[],N=1,S=0;B>=N;S++)j[S]=B/N|0,N*=4294967296;return new o(j,0)}function A(B,j){if(B.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(B.charAt(0)=="-")return p(A(B.substring(1),j));if(0<=B.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=u(Math.pow(j,8)),S=d,T=0;T<B.length;T+=8){var I=Math.min(8,B.length-T),k=parseInt(B.substring(T,T+I),j);8>I?(I=u(Math.pow(j,I)),S=S.j(I).add(u(k))):(S=S.j(N),S=S.add(u(k)))}return S}var d=c(0),h=c(1),f=c(16777216);t=o.prototype,t.m=function(){if(g(this))return-p(this).m();for(var B=0,j=1,N=0;N<this.g.length;N++){var S=this.i(N);B+=(0<=S?S:4294967296+S)*j,j*=4294967296}return B},t.toString=function(B){if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(m(this))return"0";if(g(this))return"-"+p(this).toString(B);for(var j=u(Math.pow(B,6)),N=this,S="";;){var T=y(N,j).g;N=b(N,T.j(j));var I=((0<N.g.length?N.g[0]:N.h)>>>0).toString(B);if(N=T,m(N))return I+S;for(;6>I.length;)I="0"+I;S=I+S}},t.i=function(B){return 0>B?0:B<this.g.length?this.g[B]:this.h};function m(B){if(B.h!=0)return!1;for(var j=0;j<B.g.length;j++)if(B.g[j]!=0)return!1;return!0}function g(B){return B.h==-1}t.l=function(B){return B=b(this,B),g(B)?-1:m(B)?0:1};function p(B){for(var j=B.g.length,N=[],S=0;S<j;S++)N[S]=~B.g[S];return new o(N,~B.h).add(h)}t.abs=function(){return g(this)?p(this):this},t.add=function(B){for(var j=Math.max(this.g.length,B.g.length),N=[],S=0,T=0;T<=j;T++){var I=S+(this.i(T)&65535)+(B.i(T)&65535),k=(I>>>16)+(this.i(T)>>>16)+(B.i(T)>>>16);S=k>>>16,I&=65535,k&=65535,N[T]=k<<16|I}return new o(N,N[N.length-1]&-2147483648?-1:0)};function b(B,j){return B.add(p(j))}t.j=function(B){if(m(this)||m(B))return d;if(g(this))return g(B)?p(this).j(p(B)):p(p(this).j(B));if(g(B))return p(this.j(p(B)));if(0>this.l(f)&&0>B.l(f))return u(this.m()*B.m());for(var j=this.g.length+B.g.length,N=[],S=0;S<2*j;S++)N[S]=0;for(S=0;S<this.g.length;S++)for(var T=0;T<B.g.length;T++){var I=this.i(S)>>>16,k=this.i(S)&65535,R=B.i(T)>>>16,M=B.i(T)&65535;N[2*S+2*T]+=k*M,x(N,2*S+2*T),N[2*S+2*T+1]+=I*M,x(N,2*S+2*T+1),N[2*S+2*T+1]+=k*R,x(N,2*S+2*T+1),N[2*S+2*T+2]+=I*R,x(N,2*S+2*T+2)}for(S=0;S<j;S++)N[S]=N[2*S+1]<<16|N[2*S];for(S=j;S<2*j;S++)N[S]=0;return new o(N,0)};function x(B,j){for(;(B[j]&65535)!=B[j];)B[j+1]+=B[j]>>>16,B[j]&=65535,j++}function w(B,j){this.g=B,this.h=j}function y(B,j){if(m(j))throw Error("division by zero");if(m(B))return new w(d,d);if(g(B))return j=y(p(B),j),new w(p(j.g),p(j.h));if(g(j))return j=y(B,p(j)),new w(p(j.g),j.h);if(30<B.g.length){if(g(B)||g(j))throw Error("slowDivide_ only works with positive integers.");for(var N=h,S=j;0>=S.l(B);)N=C(N),S=C(S);var T=E(N,1),I=E(S,1);for(S=E(S,2),N=E(N,2);!m(S);){var k=I.add(S);0>=k.l(B)&&(T=T.add(N),I=k),S=E(S,1),N=E(N,1)}return j=b(B,T.j(j)),new w(T,j)}for(T=d;0<=B.l(j);){for(N=Math.max(1,Math.floor(B.m()/j.m())),S=Math.ceil(Math.log(N)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),I=u(N),k=I.j(j);g(k)||0<k.l(B);)N-=S,I=u(N),k=I.j(j);m(I)&&(I=h),T=T.add(I),B=b(B,k)}return new w(T,B)}t.A=function(B){return y(this,B).h},t.and=function(B){for(var j=Math.max(this.g.length,B.g.length),N=[],S=0;S<j;S++)N[S]=this.i(S)&B.i(S);return new o(N,this.h&B.h)},t.or=function(B){for(var j=Math.max(this.g.length,B.g.length),N=[],S=0;S<j;S++)N[S]=this.i(S)|B.i(S);return new o(N,this.h|B.h)},t.xor=function(B){for(var j=Math.max(this.g.length,B.g.length),N=[],S=0;S<j;S++)N[S]=this.i(S)^B.i(S);return new o(N,this.h^B.h)};function C(B){for(var j=B.g.length+1,N=[],S=0;S<j;S++)N[S]=B.i(S)<<1|B.i(S-1)>>>31;return new o(N,B.h)}function E(B,j){var N=j>>5;j%=32;for(var S=B.g.length-N,T=[],I=0;I<S;I++)T[I]=0<j?B.i(I+N)>>>j|B.i(I+N+1)<<32-j:B.i(I+N);return new o(T,B.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=A,qT=o}).apply(typeof MF<"u"?MF:typeof self<"u"?self:typeof window<"u"?window:{});var Qg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var SV,nf,NV,L0,ES,TV,kV,IV;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,P,F){return _==Array.prototype||_==Object.prototype||(_[P]=F.value),_};function r(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qg=="object"&&Qg];for(var P=0;P<_.length;++P){var F=_[P];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var n=r(this);function a(_,P){if(P)e:{var F=n;_=_.split(".");for(var V=0;V<_.length-1;V++){var ae=_[V];if(!(ae in F))break e;F=F[ae]}_=_[_.length-1],V=F[_],P=P(V),P!=V&&P!=null&&e(F,_,{configurable:!0,writable:!0,value:P})}}function s(_,P){_ instanceof String&&(_+="");var F=0,V=!1,ae={next:function(){if(!V&&F<_.length){var le=F++;return{value:P(le,_[le]),done:!1}}return V=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}a("Array.prototype.values",function(_){return _||function(){return s(this,function(P,F){return F})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(_){var P=typeof _;return P=P!="object"?P:_?Array.isArray(_)?"array":P:"null",P=="array"||P=="object"&&typeof _.length=="number"}function u(_){var P=typeof _;return P=="object"&&_!=null||P=="function"}function A(_,P,F){return _.call.apply(_.bind,arguments)}function d(_,P,F){if(!_)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,V),_.apply(P,ae)}}return function(){return _.apply(P,arguments)}}function h(_,P,F){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:d,h.apply(null,arguments)}function f(_,P){var F=Array.prototype.slice.call(arguments,1);return function(){var V=F.slice();return V.push.apply(V,arguments),_.apply(this,V)}}function m(_,P){function F(){}F.prototype=P.prototype,_.aa=P.prototype,_.prototype=new F,_.prototype.constructor=_,_.Qb=function(V,ae,le){for(var ke=Array(arguments.length-2),cr=2;cr<arguments.length;cr++)ke[cr-2]=arguments[cr];return P.prototype[ae].apply(V,ke)}}function g(_){const P=_.length;if(0<P){const F=Array(P);for(let V=0;V<P;V++)F[V]=_[V];return F}return[]}function p(_,P){for(let F=1;F<arguments.length;F++){const V=arguments[F];if(c(V)){const ae=_.length||0,le=V.length||0;_.length=ae+le;for(let ke=0;ke<le;ke++)_[ae+ke]=V[ke]}else _.push(V)}}class b{constructor(P,F){this.i=P,this.j=F,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function x(_){return/^[\s\xa0]*$/.test(_)}function w(){var _=l.navigator;return _&&(_=_.userAgent)?_:""}function y(_){return y[" "](_),_}y[" "]=function(){};var C=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function E(_,P,F){for(const V in _)P.call(F,_[V],V,_)}function B(_,P){for(const F in _)P.call(void 0,_[F],F,_)}function j(_){const P={};for(const F in _)P[F]=_[F];return P}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(_,P){let F,V;for(let ae=1;ae<arguments.length;ae++){V=arguments[ae];for(F in V)_[F]=V[F];for(let le=0;le<N.length;le++)F=N[le],Object.prototype.hasOwnProperty.call(V,F)&&(_[F]=V[F])}}function T(_){var P=1;_=_.split(":");const F=[];for(;0<P&&_.length;)F.push(_.shift()),P--;return _.length&&F.push(_.join(":")),F}function I(_){l.setTimeout(()=>{throw _},0)}function k(){var _=L;let P=null;return _.g&&(P=_.g,_.g=_.g.next,_.g||(_.h=null),P.next=null),P}class R{constructor(){this.h=this.g=null}add(P,F){const V=M.get();V.set(P,F),this.h?this.h.next=V:this.g=V,this.h=V}}var M=new b(()=>new $,_=>_.reset());class ${constructor(){this.next=this.g=this.h=null}set(P,F){this.h=P,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let U,O=!1,L=new R,H=()=>{const _=l.Promise.resolve(void 0);U=()=>{_.then(D)}};var D=()=>{for(var _;_=k();){try{_.h.call(_.g)}catch(F){I(F)}var P=M;P.j(_),100>P.h&&(P.h++,_.next=P.g,P.g=_)}O=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(_,P){this.type=_,this.g=this.target=P,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var q=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var _=!1,P=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const F=()=>{};l.addEventListener("test",F,P),l.removeEventListener("test",F,P)}catch{}return _}();function W(_,P){if(z.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var F=this.type=_.type,V=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=P,P=_.relatedTarget){if(C){e:{try{y(P.nodeName);var ae=!0;break e}catch{}ae=!1}ae||(P=null)}}else F=="mouseover"?P=_.fromElement:F=="mouseout"&&(P=_.toElement);this.relatedTarget=P,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:ee[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&W.aa.h.call(this)}}m(W,z);var ee={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),ne=0;function ce(_,P,F,V,ae){this.listener=_,this.proxy=null,this.src=P,this.type=F,this.capture=!!V,this.ha=ae,this.key=++ne,this.da=this.fa=!1}function de(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function be(_){this.src=_,this.g={},this.h=0}be.prototype.add=function(_,P,F,V,ae){var le=_.toString();_=this.g[le],_||(_=this.g[le]=[],this.h++);var ke=pe(_,P,V,ae);return-1<ke?(P=_[ke],F||(P.fa=!1)):(P=new ce(P,this.src,le,!!V,ae),P.fa=F,_.push(P)),P};function Y(_,P){var F=P.type;if(F in _.g){var V=_.g[F],ae=Array.prototype.indexOf.call(V,P,void 0),le;(le=0<=ae)&&Array.prototype.splice.call(V,ae,1),le&&(de(P),_.g[F].length==0&&(delete _.g[F],_.h--))}}function pe(_,P,F,V){for(var ae=0;ae<_.length;++ae){var le=_[ae];if(!le.da&&le.listener==P&&le.capture==!!F&&le.ha==V)return ae}return-1}var je="closure_lm_"+(1e6*Math.random()|0),Le={};function Ve(_,P,F,V,ae){if(Array.isArray(P)){for(var le=0;le<P.length;le++)Ve(_,P[le],F,V,ae);return null}return F=it(F),_&&_[oe]?_.K(P,F,u(V)?!!V.capture:!1,ae):bt(_,P,F,!1,V,ae)}function bt(_,P,F,V,ae,le){if(!P)throw Error("Invalid event type");var ke=u(ae)?!!ae.capture:!!ae,cr=xe(_);if(cr||(_[je]=cr=new be(_)),F=cr.add(P,F,V,ke,le),F.proxy)return F;if(V=X(),F.proxy=V,V.src=_,V.listener=F,_.addEventListener)q||(ae=ke),ae===void 0&&(ae=!1),_.addEventListener(P.toString(),V,ae);else if(_.attachEvent)_.attachEvent(ge(P.toString()),V);else if(_.addListener&&_.removeListener)_.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return F}function X(){function _(F){return P.call(_.src,_.listener,F)}const P=we;return _}function re(_,P,F,V,ae){if(Array.isArray(P))for(var le=0;le<P.length;le++)re(_,P[le],F,V,ae);else V=u(V)?!!V.capture:!!V,F=it(F),_&&_[oe]?(_=_.i,P=String(P).toString(),P in _.g&&(le=_.g[P],F=pe(le,F,V,ae),-1<F&&(de(le[F]),Array.prototype.splice.call(le,F,1),le.length==0&&(delete _.g[P],_.h--)))):_&&(_=xe(_))&&(P=_.g[P.toString()],_=-1,P&&(_=pe(P,F,V,ae)),(F=-1<_?P[_]:null)&&ie(F))}function ie(_){if(typeof _!="number"&&_&&!_.da){var P=_.src;if(P&&P[oe])Y(P.i,_);else{var F=_.type,V=_.proxy;P.removeEventListener?P.removeEventListener(F,V,_.capture):P.detachEvent?P.detachEvent(ge(F),V):P.addListener&&P.removeListener&&P.removeListener(V),(F=xe(P))?(Y(F,_),F.h==0&&(F.src=null,P[je]=null)):de(_)}}}function ge(_){return _ in Le?Le[_]:Le[_]="on"+_}function we(_,P){if(_.da)_=!0;else{P=new W(P,this);var F=_.listener,V=_.ha||_.src;_.fa&&ie(_),_=F.call(V,P)}return _}function xe(_){return _=_[je],_ instanceof be?_:null}var Ke="__closure_events_fn_"+(1e9*Math.random()>>>0);function it(_){return typeof _=="function"?_:(_[Ke]||(_[Ke]=function(P){return _.handleEvent(P)}),_[Ke])}function Ze(){Q.call(this),this.i=new be(this),this.M=this,this.F=null}m(Ze,Q),Ze.prototype[oe]=!0,Ze.prototype.removeEventListener=function(_,P,F,V){re(this,_,P,F,V)};function nt(_,P){var F,V=_.F;if(V)for(F=[];V;V=V.F)F.push(V);if(_=_.M,V=P.type||P,typeof P=="string")P=new z(P,_);else if(P instanceof z)P.target=P.target||_;else{var ae=P;P=new z(V,_),S(P,ae)}if(ae=!0,F)for(var le=F.length-1;0<=le;le--){var ke=P.g=F[le];ae=fn(ke,V,!0,P)&&ae}if(ke=P.g=_,ae=fn(ke,V,!0,P)&&ae,ae=fn(ke,V,!1,P)&&ae,F)for(le=0;le<F.length;le++)ke=P.g=F[le],ae=fn(ke,V,!1,P)&&ae}Ze.prototype.N=function(){if(Ze.aa.N.call(this),this.i){var _=this.i,P;for(P in _.g){for(var F=_.g[P],V=0;V<F.length;V++)de(F[V]);delete _.g[P],_.h--}}this.F=null},Ze.prototype.K=function(_,P,F,V){return this.i.add(String(_),P,!1,F,V)},Ze.prototype.L=function(_,P,F,V){return this.i.add(String(_),P,!0,F,V)};function fn(_,P,F,V){if(P=_.i.g[String(P)],!P)return!0;P=P.concat();for(var ae=!0,le=0;le<P.length;++le){var ke=P[le];if(ke&&!ke.da&&ke.capture==F){var cr=ke.listener,gn=ke.ha||ke.src;ke.fa&&Y(_.i,ke),ae=cr.call(gn,V)!==!1&&ae}}return ae&&!V.defaultPrevented}function ca(_,P,F){if(typeof _=="function")F&&(_=h(_,F));else if(_&&typeof _.handleEvent=="function")_=h(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(P)?-1:l.setTimeout(_,P||0)}function $a(_){_.g=ca(()=>{_.g=null,_.i&&(_.i=!1,$a(_))},_.l);const P=_.h;_.h=null,_.m.apply(null,P)}class ua extends Q{constructor(P,F){super(),this.m=P,this.l=F,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:$a(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fn(_){Q.call(this),this.h=_,this.g={}}m(Fn,Q);var Vs=[];function ji(_){E(_.g,function(P,F){this.g.hasOwnProperty(F)&&ie(P)},_),_.g={}}Fn.prototype.N=function(){Fn.aa.N.call(this),ji(this)},Fn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _a=l.JSON.stringify,Va=l.JSON.parse,dh=class{stringify(_){return l.JSON.stringify(_,void 0)}parse(_){return l.JSON.parse(_,void 0)}};function ut(){}ut.prototype.h=null;function Wt(_){return _.h||(_.h=_.i())}function $t(){}var en={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mn(){z.call(this,"d")}m(mn,z);function Ks(){z.call(this,"c")}m(Ks,z);var ds={},Ag=null;function Gl(){return Ag=Ag||new Ze}ds.La="serverreachability";function dg(_){z.call(this,ds.La,_)}m(dg,z);function zl(_){const P=Gl();nt(P,new dg(P))}ds.STAT_EVENT="statevent";function hh(_,P){z.call(this,ds.STAT_EVENT,_),this.stat=P}m(hh,z);function pn(_){const P=Gl();nt(P,new hh(P,_))}ds.Ma="timingevent";function fh(_,P){z.call(this,ds.Ma,_),this.size=P}m(fh,z);function Vr(_,P){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){_()},P)}function Aa(){this.g=!0}Aa.prototype.xa=function(){this.g=!1};function hg(_,P,F,V,ae,le){_.info(function(){if(_.g)if(le)for(var ke="",cr=le.split("&"),gn=0;gn<cr.length;gn++){var Vt=cr[gn].split("=");if(1<Vt.length){var Dn=Vt[0];Vt=Vt[1];var On=Dn.split("_");ke=2<=On.length&&On[1]=="type"?ke+(Dn+"="+Vt+"&"):ke+(Dn+"=redacted&")}}else ke=null;else ke=le;return"XMLHTTP REQ ("+V+") [attempt "+ae+"]: "+P+`
`+F+`
`+ke})}function Lw(_,P,F,V,ae,le,ke){_.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+ae+"]: "+P+`
`+F+`
`+le+" "+ke})}function bu(_,P,F,V){_.info(function(){return"XMLHTTP TEXT ("+P+"): "+qZ(_,F)+(V?" "+V:"")})}function KZ(_,P){_.info(function(){return"TIMEOUT: "+P})}Aa.prototype.info=function(){};function qZ(_,P){if(!_.g)return P;if(!P)return null;try{var F=JSON.parse(P);if(F){for(_=0;_<F.length;_++)if(Array.isArray(F[_])){var V=F[_];if(!(2>V.length)){var ae=V[1];if(Array.isArray(ae)&&!(1>ae.length)){var le=ae[0];if(le!="noop"&&le!="stop"&&le!="close")for(var ke=1;ke<ae.length;ke++)ae[ke]=""}}}}return _a(F)}catch{return P}}var fg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jP={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hw;function mg(){}m(mg,ut),mg.prototype.g=function(){return new XMLHttpRequest},mg.prototype.i=function(){return{}},Hw=new mg;function xo(_,P,F,V){this.j=_,this.i=P,this.l=F,this.R=V||1,this.U=new Fn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new EP}function EP(){this.i=null,this.g="",this.h=!1}var SP={},$w={};function Vw(_,P,F){_.L=1,_.v=vg(Ei(P)),_.m=F,_.P=!0,NP(_,null)}function NP(_,P){_.F=Date.now(),pg(_),_.A=Ei(_.v);var F=_.A,V=_.R;Array.isArray(V)||(V=[String(V)]),$P(F.i,"t",V),_.C=0,F=_.j.J,_.h=new EP,_.g=o4(_.j,F?P:null,!_.m),0<_.O&&(_.M=new ua(h(_.Y,_,_.g),_.O)),P=_.U,F=_.g,V=_.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(Vs[0]=ae.toString()),ae=Vs);for(var le=0;le<ae.length;le++){var ke=Ve(F,ae[le],V||P.handleEvent,!1,P.h||P);if(!ke)break;P.g[ke.key]=ke}P=_.H?j(_.H):{},_.m?(_.u||(_.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,P)):(_.u="GET",_.g.ea(_.A,_.u,null,P)),zl(),hg(_.i,_.u,_.A,_.l,_.R,_.m)}xo.prototype.ca=function(_){_=_.target;const P=this.M;P&&Si(_)==3?P.j():this.Y(_)},xo.prototype.Y=function(_){try{if(_==this.g)e:{const On=Si(this.g);var P=this.g.Ba();const Bu=this.g.Z();if(!(3>On)&&(On!=3||this.g&&(this.h.h||this.g.oa()||XP(this.g)))){this.J||On!=4||P==7||(P==8||0>=Bu?zl(3):zl(2)),Kw(this);var F=this.g.Z();this.X=F;t:if(TP(this)){var V=XP(this.g);_="";var ae=V.length,le=Si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wl(this),mh(this);var ke="";break t}this.h.i=new l.TextDecoder}for(P=0;P<ae;P++)this.h.h=!0,_+=this.h.i.decode(V[P],{stream:!(le&&P==ae-1)});V.length=0,this.h.g+=_,this.C=0,ke=this.h.g}else ke=this.g.oa();if(this.o=F==200,Lw(this.i,this.u,this.A,this.l,this.R,On,F),this.o){if(this.T&&!this.K){t:{if(this.g){var cr,gn=this.g;if((cr=gn.g?gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(cr)){var Vt=cr;break t}}Vt=null}if(F=Vt)bu(this.i,this.l,F,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qw(this,F);else{this.o=!1,this.s=3,pn(12),Wl(this),mh(this);break e}}if(this.P){F=!0;let hs;for(;!this.J&&this.C<ke.length;)if(hs=GZ(this,ke),hs==$w){On==4&&(this.s=4,pn(14),F=!1),bu(this.i,this.l,null,"[Incomplete Response]");break}else if(hs==SP){this.s=4,pn(15),bu(this.i,this.l,ke,"[Invalid Chunk]"),F=!1;break}else bu(this.i,this.l,hs,null),qw(this,hs);if(TP(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),On!=4||ke.length!=0||this.h.h||(this.s=1,pn(16),F=!1),this.o=this.o&&F,!F)bu(this.i,this.l,ke,"[Invalid Chunked Response]"),Wl(this),mh(this);else if(0<ke.length&&!this.W){this.W=!0;var Dn=this.j;Dn.g==this&&Dn.ba&&!Dn.M&&(Dn.j.info("Great, no buffering proxy detected. Bytes received: "+ke.length),Jw(Dn),Dn.M=!0,pn(11))}}else bu(this.i,this.l,ke,null),qw(this,ke);On==4&&Wl(this),this.o&&!this.J&&(On==4?n4(this.j,this):(this.o=!1,pg(this)))}else uee(this.g),F==400&&0<ke.indexOf("Unknown SID")?(this.s=3,pn(12)):(this.s=0,pn(13)),Wl(this),mh(this)}}}catch{}finally{}};function TP(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function GZ(_,P){var F=_.C,V=P.indexOf(`
`,F);return V==-1?$w:(F=Number(P.substring(F,V)),isNaN(F)?SP:(V+=1,V+F>P.length?$w:(P=P.slice(V,V+F),_.C=V+F,P)))}xo.prototype.cancel=function(){this.J=!0,Wl(this)};function pg(_){_.S=Date.now()+_.I,kP(_,_.I)}function kP(_,P){if(_.B!=null)throw Error("WatchDog timer not null");_.B=Vr(h(_.ba,_),P)}function Kw(_){_.B&&(l.clearTimeout(_.B),_.B=null)}xo.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(KZ(this.i,this.A),this.L!=2&&(zl(),pn(17)),Wl(this),this.s=2,mh(this)):kP(this,this.S-_)};function mh(_){_.j.G==0||_.J||n4(_.j,_)}function Wl(_){Kw(_);var P=_.M;P&&typeof P.ma=="function"&&P.ma(),_.M=null,ji(_.U),_.g&&(P=_.g,_.g=null,P.abort(),P.ma())}function qw(_,P){try{var F=_.j;if(F.G!=0&&(F.g==_||Gw(F.h,_))){if(!_.K&&Gw(F.h,_)&&F.G==3){try{var V=F.Da.g.parse(P)}catch{V=null}if(Array.isArray(V)&&V.length==3){var ae=V;if(ae[0]==0){e:if(!F.u){if(F.g)if(F.g.F+3e3<_.F)Cg(F),_g(F);else break e;Yw(F),pn(18)}}else F.za=ae[1],0<F.za-F.T&&37500>ae[2]&&F.F&&F.v==0&&!F.C&&(F.C=Vr(h(F.Za,F),6e3));if(1>=FP(F.h)&&F.ca){try{F.ca()}catch{}F.ca=void 0}}else Yl(F,11)}else if((_.K||F.g==_)&&Cg(F),!x(P))for(ae=F.Da.g.parse(P),P=0;P<ae.length;P++){let Vt=ae[P];if(F.T=Vt[0],Vt=Vt[1],F.G==2)if(Vt[0]=="c"){F.K=Vt[1],F.ia=Vt[2];const Dn=Vt[3];Dn!=null&&(F.la=Dn,F.j.info("VER="+F.la));const On=Vt[4];On!=null&&(F.Aa=On,F.j.info("SVER="+F.Aa));const Bu=Vt[5];Bu!=null&&typeof Bu=="number"&&0<Bu&&(V=1.5*Bu,F.L=V,F.j.info("backChannelRequestTimeoutMs_="+V)),V=F;const hs=_.g;if(hs){const Eg=hs.g?hs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eg){var le=V.h;le.g||Eg.indexOf("spdy")==-1&&Eg.indexOf("quic")==-1&&Eg.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(zw(le,le.h),le.h=null))}if(V.D){const Zw=hs.g?hs.g.getResponseHeader("X-HTTP-Session-Id"):null;Zw&&(V.ya=Zw,vr(V.I,V.D,Zw))}}F.G=3,F.l&&F.l.ua(),F.ba&&(F.R=Date.now()-_.F,F.j.info("Handshake RTT: "+F.R+"ms")),V=F;var ke=_;if(V.qa=i4(V,V.J?V.ia:null,V.W),ke.K){DP(V.h,ke);var cr=ke,gn=V.L;gn&&(cr.I=gn),cr.B&&(Kw(cr),pg(cr)),V.g=ke}else t4(V);0<F.i.length&&Bg(F)}else Vt[0]!="stop"&&Vt[0]!="close"||Yl(F,7);else F.G==3&&(Vt[0]=="stop"||Vt[0]=="close"?Vt[0]=="stop"?Yl(F,7):Xw(F):Vt[0]!="noop"&&F.l&&F.l.ta(Vt),F.v=0)}}zl(4)}catch{}}var zZ=class{constructor(_,P){this.g=_,this.map=P}};function IP(_){this.l=_||10,l.PerformanceNavigationTiming?(_=l.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function PP(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function FP(_){return _.h?1:_.g?_.g.size:0}function Gw(_,P){return _.h?_.h==P:_.g?_.g.has(P):!1}function zw(_,P){_.g?_.g.add(P):_.h=P}function DP(_,P){_.h&&_.h==P?_.h=null:_.g&&_.g.has(P)&&_.g.delete(P)}IP.prototype.cancel=function(){if(this.i=OP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function OP(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let P=_.i;for(const F of _.g.values())P=P.concat(F.D);return P}return g(_.i)}function WZ(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(c(_)){for(var P=[],F=_.length,V=0;V<F;V++)P.push(_[V]);return P}P=[],F=0;for(V in _)P[F++]=_[V];return P}function XZ(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(c(_)||typeof _=="string"){var P=[];_=_.length;for(var F=0;F<_;F++)P.push(F);return P}P=[],F=0;for(const V in _)P[F++]=V;return P}}}function RP(_,P){if(_.forEach&&typeof _.forEach=="function")_.forEach(P,void 0);else if(c(_)||typeof _=="string")Array.prototype.forEach.call(_,P,void 0);else for(var F=XZ(_),V=WZ(_),ae=V.length,le=0;le<ae;le++)P.call(void 0,V[le],F&&F[le],_)}var UP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function YZ(_,P){if(_){_=_.split("&");for(var F=0;F<_.length;F++){var V=_[F].indexOf("="),ae=null;if(0<=V){var le=_[F].substring(0,V);ae=_[F].substring(V+1)}else le=_[F];P(le,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Xl(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof Xl){this.h=_.h,gg(this,_.j),this.o=_.o,this.g=_.g,xg(this,_.s),this.l=_.l;var P=_.i,F=new xh;F.i=P.i,P.g&&(F.g=new Map(P.g),F.h=P.h),MP(this,F),this.m=_.m}else _&&(P=String(_).match(UP))?(this.h=!1,gg(this,P[1]||"",!0),this.o=ph(P[2]||""),this.g=ph(P[3]||"",!0),xg(this,P[4]),this.l=ph(P[5]||"",!0),MP(this,P[6]||"",!0),this.m=ph(P[7]||"")):(this.h=!1,this.i=new xh(null,this.h))}Xl.prototype.toString=function(){var _=[],P=this.j;P&&_.push(gh(P,QP,!0),":");var F=this.g;return(F||P=="file")&&(_.push("//"),(P=this.o)&&_.push(gh(P,QP,!0),"@"),_.push(encodeURIComponent(String(F)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.s,F!=null&&_.push(":",String(F))),(F=this.l)&&(this.g&&F.charAt(0)!="/"&&_.push("/"),_.push(gh(F,F.charAt(0)=="/"?eee:ZZ,!0))),(F=this.i.toString())&&_.push("?",F),(F=this.m)&&_.push("#",gh(F,ree)),_.join("")};function Ei(_){return new Xl(_)}function gg(_,P,F){_.j=F?ph(P,!0):P,_.j&&(_.j=_.j.replace(/:$/,""))}function xg(_,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);_.s=P}else _.s=null}function MP(_,P,F){P instanceof xh?(_.i=P,nee(_.i,_.h)):(F||(P=gh(P,tee)),_.i=new xh(P,_.h))}function vr(_,P,F){_.i.set(P,F)}function vg(_){return vr(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function ph(_,P){return _?P?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function gh(_,P,F){return typeof _=="string"?(_=encodeURI(_).replace(P,JZ),F&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function JZ(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var QP=/[#\/\?@]/g,ZZ=/[#\?:]/g,eee=/[#\?]/g,tee=/[#\?@]/g,ree=/#/g;function xh(_,P){this.h=this.g=null,this.i=_||null,this.j=!!P}function vo(_){_.g||(_.g=new Map,_.h=0,_.i&&YZ(_.i,function(P,F){_.add(decodeURIComponent(P.replace(/\+/g," ")),F)}))}t=xh.prototype,t.add=function(_,P){vo(this),this.i=null,_=wu(this,_);var F=this.g.get(_);return F||this.g.set(_,F=[]),F.push(P),this.h+=1,this};function LP(_,P){vo(_),P=wu(_,P),_.g.has(P)&&(_.i=null,_.h-=_.g.get(P).length,_.g.delete(P))}function HP(_,P){return vo(_),P=wu(_,P),_.g.has(P)}t.forEach=function(_,P){vo(this),this.g.forEach(function(F,V){F.forEach(function(ae){_.call(P,ae,V,this)},this)},this)},t.na=function(){vo(this);const _=Array.from(this.g.values()),P=Array.from(this.g.keys()),F=[];for(let V=0;V<P.length;V++){const ae=_[V];for(let le=0;le<ae.length;le++)F.push(P[V])}return F},t.V=function(_){vo(this);let P=[];if(typeof _=="string")HP(this,_)&&(P=P.concat(this.g.get(wu(this,_))));else{_=Array.from(this.g.values());for(let F=0;F<_.length;F++)P=P.concat(_[F])}return P},t.set=function(_,P){return vo(this),this.i=null,_=wu(this,_),HP(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[P]),this.h+=1,this},t.get=function(_,P){return _?(_=this.V(_),0<_.length?String(_[0]):P):P};function $P(_,P,F){LP(_,P),0<F.length&&(_.i=null,_.g.set(wu(_,P),g(F)),_.h+=F.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],P=Array.from(this.g.keys());for(var F=0;F<P.length;F++){var V=P[F];const le=encodeURIComponent(String(V)),ke=this.V(V);for(V=0;V<ke.length;V++){var ae=le;ke[V]!==""&&(ae+="="+encodeURIComponent(String(ke[V]))),_.push(ae)}}return this.i=_.join("&")};function wu(_,P){return P=String(P),_.j&&(P=P.toLowerCase()),P}function nee(_,P){P&&!_.j&&(vo(_),_.i=null,_.g.forEach(function(F,V){var ae=V.toLowerCase();V!=ae&&(LP(this,V),$P(this,ae,F))},_)),_.j=P}function aee(_,P){const F=new Aa;if(l.Image){const V=new Image;V.onload=f(yo,F,"TestLoadImage: loaded",!0,P,V),V.onerror=f(yo,F,"TestLoadImage: error",!1,P,V),V.onabort=f(yo,F,"TestLoadImage: abort",!1,P,V),V.ontimeout=f(yo,F,"TestLoadImage: timeout",!1,P,V),l.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=_}else P(!1)}function see(_,P){const F=new Aa,V=new AbortController,ae=setTimeout(()=>{V.abort(),yo(F,"TestPingServer: timeout",!1,P)},1e4);fetch(_,{signal:V.signal}).then(le=>{clearTimeout(ae),le.ok?yo(F,"TestPingServer: ok",!0,P):yo(F,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(ae),yo(F,"TestPingServer: error",!1,P)})}function yo(_,P,F,V,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),V(F)}catch{}}function iee(){this.g=new dh}function oee(_,P,F){const V=F||"";try{RP(_,function(ae,le){let ke=ae;u(ae)&&(ke=_a(ae)),P.push(V+le+"="+encodeURIComponent(ke))})}catch(ae){throw P.push(V+"type="+encodeURIComponent("_badmap")),ae}}function yg(_){this.l=_.Ub||null,this.j=_.eb||!1}m(yg,ut),yg.prototype.g=function(){return new bg(this.l,this.j)},yg.prototype.i=function(_){return function(){return _}}({});function bg(_,P){Ze.call(this),this.D=_,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(bg,Ze),t=bg.prototype,t.open=function(_,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=P,this.readyState=1,yh(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(P.body=_),(this.D||l).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vh(this)),this.readyState=0},t.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,yh(this)),this.g&&(this.readyState=3,yh(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;VP(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function VP(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}t.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var P=_.value?_.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!_.done}))&&(this.response=this.responseText+=P)}_.done?vh(this):yh(this),this.readyState==3&&VP(this)}},t.Ra=function(_){this.g&&(this.response=this.responseText=_,vh(this))},t.Qa=function(_){this.g&&(this.response=_,vh(this))},t.ga=function(){this.g&&vh(this)};function vh(_){_.readyState=4,_.l=null,_.j=null,_.v=null,yh(_)}t.setRequestHeader=function(_,P){this.u.append(_,P)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],P=this.h.entries();for(var F=P.next();!F.done;)F=F.value,_.push(F[0]+": "+F[1]),F=P.next();return _.join(`\r
`)};function yh(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(bg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function KP(_){let P="";return E(_,function(F,V){P+=V,P+=":",P+=F,P+=`\r
`}),P}function Ww(_,P,F){e:{for(V in F){var V=!1;break e}V=!0}V||(F=KP(F),typeof _=="string"?F!=null&&encodeURIComponent(String(F)):vr(_,P,F))}function Er(_){Ze.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(Er,Ze);var lee=/^https?$/i,cee=["POST","PUT"];t=Er.prototype,t.Ha=function(_){this.J=_},t.ea=function(_,P,F,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);P=P?P.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hw.g(),this.v=this.o?Wt(this.o):Wt(Hw),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(P,String(_),!0),this.B=!1}catch(le){qP(this,le);return}if(_=F||"",F=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var ae in V)F.set(ae,V[ae]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const le of V.keys())F.set(le,V.get(le));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(F.keys()).find(le=>le.toLowerCase()=="content-type"),ae=l.FormData&&_ instanceof l.FormData,!(0<=Array.prototype.indexOf.call(cee,P,void 0))||V||ae||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,ke]of F)this.g.setRequestHeader(le,ke);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{WP(this),this.u=!0,this.g.send(_),this.u=!1}catch(le){qP(this,le)}};function qP(_,P){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=P,_.m=5,GP(_),wg(_)}function GP(_){_.A||(_.A=!0,nt(_,"complete"),nt(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,nt(this,"complete"),nt(this,"abort"),wg(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wg(this,!0)),Er.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?zP(this):this.bb())},t.bb=function(){zP(this)};function zP(_){if(_.h&&typeof o<"u"&&(!_.v[1]||Si(_)!=4||_.Z()!=2)){if(_.u&&Si(_)==4)ca(_.Ea,0,_);else if(nt(_,"readystatechange"),Si(_)==4){_.h=!1;try{const ke=_.Z();e:switch(ke){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var F;if(!(F=P)){var V;if(V=ke===0){var ae=String(_.D).match(UP)[1]||null;!ae&&l.self&&l.self.location&&(ae=l.self.location.protocol.slice(0,-1)),V=!lee.test(ae?ae.toLowerCase():"")}F=V}if(F)nt(_,"complete"),nt(_,"success");else{_.m=6;try{var le=2<Si(_)?_.g.statusText:""}catch{le=""}_.l=le+" ["+_.Z()+"]",GP(_)}}finally{wg(_)}}}}function wg(_,P){if(_.g){WP(_);const F=_.g,V=_.v[0]?()=>{}:null;_.g=null,_.v=null,P||nt(_,"ready");try{F.onreadystatechange=V}catch{}}}function WP(_){_.I&&(l.clearTimeout(_.I),_.I=null)}t.isActive=function(){return!!this.g};function Si(_){return _.g?_.g.readyState:0}t.Z=function(){try{return 2<Si(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(_){if(this.g){var P=this.g.responseText;return _&&P.indexOf(_)==0&&(P=P.substring(_.length)),Va(P)}};function XP(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function uee(_){const P={};_=(_.g&&2<=Si(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<_.length;V++){if(x(_[V]))continue;var F=T(_[V]);const ae=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const le=P[ae]||[];P[ae]=le,le.push(F)}B(P,function(V){return V.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bh(_,P,F){return F&&F.internalChannelParams&&F.internalChannelParams[_]||P}function YP(_){this.Aa=0,this.i=[],this.j=new Aa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bh("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bh("baseRetryDelayMs",5e3,_),this.cb=bh("retryDelaySeedMs",1e4,_),this.Wa=bh("forwardChannelMaxRetries",2,_),this.wa=bh("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new IP(_&&_.concurrentRequestLimit),this.Da=new iee,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=YP.prototype,t.la=8,t.G=1,t.connect=function(_,P,F,V){pn(0),this.W=_,this.H=P||{},F&&V!==void 0&&(this.H.OSID=F,this.H.OAID=V),this.F=this.X,this.I=i4(this,null,this.W),Bg(this)};function Xw(_){if(JP(_),_.G==3){var P=_.U++,F=Ei(_.I);if(vr(F,"SID",_.K),vr(F,"RID",P),vr(F,"TYPE","terminate"),wh(_,F),P=new xo(_,_.j,P),P.L=2,P.v=vg(Ei(F)),F=!1,l.navigator&&l.navigator.sendBeacon)try{F=l.navigator.sendBeacon(P.v.toString(),"")}catch{}!F&&l.Image&&(new Image().src=P.v,F=!0),F||(P.g=o4(P.j,null),P.g.ea(P.v)),P.F=Date.now(),pg(P)}s4(_)}function _g(_){_.g&&(Jw(_),_.g.cancel(),_.g=null)}function JP(_){_g(_),_.u&&(l.clearTimeout(_.u),_.u=null),Cg(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&l.clearTimeout(_.s),_.s=null)}function Bg(_){if(!PP(_.h)&&!_.s){_.s=!0;var P=_.Ga;U||H(),O||(U(),O=!0),L.add(P,_),_.B=0}}function Aee(_,P){return FP(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=P.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=Vr(h(_.Ga,_,P),a4(_,_.B)),_.B++,!0)}t.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const ae=new xo(this,this.j,_);let le=this.o;if(this.S&&(le?(le=j(le),S(le,this.S)):le=this.S),this.m!==null||this.O||(ae.H=le,le=null),this.P)e:{for(var P=0,F=0;F<this.i.length;F++){t:{var V=this.i[F];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(P+=V,4096<P){P=F;break e}if(P===4096||F===this.i.length-1){P=F+1;break e}}P=1e3}else P=1e3;P=e4(this,ae,P),F=Ei(this.I),vr(F,"RID",_),vr(F,"CVER",22),this.D&&vr(F,"X-HTTP-Session-Id",this.D),wh(this,F),le&&(this.O?P="headers="+encodeURIComponent(String(KP(le)))+"&"+P:this.m&&Ww(F,this.m,le)),zw(this.h,ae),this.Ua&&vr(F,"TYPE","init"),this.P?(vr(F,"$req",P),vr(F,"SID","null"),ae.T=!0,Vw(ae,F,null)):Vw(ae,F,P),this.G=2}}else this.G==3&&(_?ZP(this,_):this.i.length==0||PP(this.h)||ZP(this))};function ZP(_,P){var F;P?F=P.l:F=_.U++;const V=Ei(_.I);vr(V,"SID",_.K),vr(V,"RID",F),vr(V,"AID",_.T),wh(_,V),_.m&&_.o&&Ww(V,_.m,_.o),F=new xo(_,_.j,F,_.B+1),_.m===null&&(F.H=_.o),P&&(_.i=P.D.concat(_.i)),P=e4(_,F,1e3),F.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),zw(_.h,F),Vw(F,V,P)}function wh(_,P){_.H&&E(_.H,function(F,V){vr(P,V,F)}),_.l&&RP({},function(F,V){vr(P,V,F)})}function e4(_,P,F){F=Math.min(_.i.length,F);var V=_.l?h(_.l.Na,_.l,_):null;e:{var ae=_.i;let le=-1;for(;;){const ke=["count="+F];le==-1?0<F?(le=ae[0].g,ke.push("ofs="+le)):le=0:ke.push("ofs="+le);let cr=!0;for(let gn=0;gn<F;gn++){let Vt=ae[gn].g;const Dn=ae[gn].map;if(Vt-=le,0>Vt)le=Math.max(0,ae[gn].g-100),cr=!1;else try{oee(Dn,ke,"req"+Vt+"_")}catch{V&&V(Dn)}}if(cr){V=ke.join("&");break e}}}return _=_.i.splice(0,F),P.D=_,V}function t4(_){if(!_.g&&!_.u){_.Y=1;var P=_.Fa;U||H(),O||(U(),O=!0),L.add(P,_),_.v=0}}function Yw(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=Vr(h(_.Fa,_),a4(_,_.v)),_.v++,!0)}t.Fa=function(){if(this.u=null,r4(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=Vr(h(this.ab,this),_)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pn(10),_g(this),r4(this))};function Jw(_){_.A!=null&&(l.clearTimeout(_.A),_.A=null)}function r4(_){_.g=new xo(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var P=Ei(_.qa);vr(P,"RID","rpc"),vr(P,"SID",_.K),vr(P,"AID",_.T),vr(P,"CI",_.F?"0":"1"),!_.F&&_.ja&&vr(P,"TO",_.ja),vr(P,"TYPE","xmlhttp"),wh(_,P),_.m&&_.o&&Ww(P,_.m,_.o),_.L&&(_.g.I=_.L);var F=_.g;_=_.ia,F.L=1,F.v=vg(Ei(P)),F.m=null,F.P=!0,NP(F,_)}t.Za=function(){this.C!=null&&(this.C=null,_g(this),Yw(this),pn(19))};function Cg(_){_.C!=null&&(l.clearTimeout(_.C),_.C=null)}function n4(_,P){var F=null;if(_.g==P){Cg(_),Jw(_),_.g=null;var V=2}else if(Gw(_.h,P))F=P.D,DP(_.h,P),V=1;else return;if(_.G!=0){if(P.o)if(V==1){F=P.m?P.m.length:0,P=Date.now()-P.F;var ae=_.B;V=Gl(),nt(V,new fh(V,F)),Bg(_)}else t4(_);else if(ae=P.s,ae==3||ae==0&&0<P.X||!(V==1&&Aee(_,P)||V==2&&Yw(_)))switch(F&&0<F.length&&(P=_.h,P.i=P.i.concat(F)),ae){case 1:Yl(_,5);break;case 4:Yl(_,10);break;case 3:Yl(_,6);break;default:Yl(_,2)}}}function a4(_,P){let F=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(F*=2),F*P}function Yl(_,P){if(_.j.info("Error code "+P),P==2){var F=h(_.fb,_),V=_.Xa;const ae=!V;V=new Xl(V||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||gg(V,"https"),vg(V),ae?aee(V.toString(),F):see(V.toString(),F)}else pn(2);_.G=0,_.l&&_.l.sa(P),s4(_),JP(_)}t.fb=function(_){_?(this.j.info("Successfully pinged google.com"),pn(2)):(this.j.info("Failed to ping google.com"),pn(1))};function s4(_){if(_.G=0,_.ka=[],_.l){const P=OP(_.h);(P.length!=0||_.i.length!=0)&&(p(_.ka,P),p(_.ka,_.i),_.h.i.length=0,g(_.i),_.i.length=0),_.l.ra()}}function i4(_,P,F){var V=F instanceof Xl?Ei(F):new Xl(F);if(V.g!="")P&&(V.g=P+"."+V.g),xg(V,V.s);else{var ae=l.location;V=ae.protocol,P=P?P+"."+ae.hostname:ae.hostname,ae=+ae.port;var le=new Xl(null);V&&gg(le,V),P&&(le.g=P),ae&&xg(le,ae),F&&(le.l=F),V=le}return F=_.D,P=_.ya,F&&P&&vr(V,F,P),vr(V,"VER",_.la),wh(_,V),V}function o4(_,P,F){if(P&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return P=_.Ca&&!_.pa?new Er(new yg({eb:F})):new Er(_.pa),P.Ha(_.J),P}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function l4(){}t=l4.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function jg(){}jg.prototype.g=function(_,P){return new Ba(_,P)};function Ba(_,P){Ze.call(this),this.g=new YP(P),this.l=_,this.h=P&&P.messageUrlParams||null,_=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(_?_["X-WebChannel-Content-Type"]=P.messageContentType:_={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(_?_["X-WebChannel-Client-Profile"]=P.va:_={"X-WebChannel-Client-Profile":P.va}),this.g.S=_,(_=P&&P.Sb)&&!x(_)&&(this.g.m=_),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!x(P)&&(this.g.D=P,_=this.h,_!==null&&P in _&&(_=this.h,P in _&&delete _[P])),this.j=new _u(this)}m(Ba,Ze),Ba.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ba.prototype.close=function(){Xw(this.g)},Ba.prototype.o=function(_){var P=this.g;if(typeof _=="string"){var F={};F.__data__=_,_=F}else this.u&&(F={},F.__data__=_a(_),_=F);P.i.push(new zZ(P.Ya++,_)),P.G==3&&Bg(P)},Ba.prototype.N=function(){this.g.l=null,delete this.j,Xw(this.g),delete this.g,Ba.aa.N.call(this)};function c4(_){mn.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var P=_.__sm__;if(P){e:{for(const F in P){_=F;break e}_=void 0}(this.i=_)&&(_=this.i,P=P!==null&&_ in P?P[_]:void 0),this.data=P}else this.data=_}m(c4,mn);function u4(){Ks.call(this),this.status=1}m(u4,Ks);function _u(_){this.g=_}m(_u,l4),_u.prototype.ua=function(){nt(this.g,"a")},_u.prototype.ta=function(_){nt(this.g,new c4(_))},_u.prototype.sa=function(_){nt(this.g,new u4)},_u.prototype.ra=function(){nt(this.g,"b")},jg.prototype.createWebChannel=jg.prototype.g,Ba.prototype.send=Ba.prototype.o,Ba.prototype.open=Ba.prototype.m,Ba.prototype.close=Ba.prototype.close,IV=function(){return new jg},kV=function(){return Gl()},TV=ds,ES={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fg.NO_ERROR=0,fg.TIMEOUT=8,fg.HTTP_ERROR=6,L0=fg,jP.COMPLETE="complete",NV=jP,$t.EventType=en,en.OPEN="a",en.CLOSE="b",en.ERROR="c",en.MESSAGE="d",Ze.prototype.listen=Ze.prototype.K,nf=$t,Er.prototype.listenOnce=Er.prototype.L,Er.prototype.getLastError=Er.prototype.Ka,Er.prototype.getLastErrorCode=Er.prototype.Ba,Er.prototype.getStatus=Er.prototype.Z,Er.prototype.getResponseJson=Er.prototype.Oa,Er.prototype.getResponseText=Er.prototype.oa,Er.prototype.send=Er.prototype.ea,Er.prototype.setWithCredentials=Er.prototype.Ha,SV=Er}).apply(typeof Qg<"u"?Qg:typeof self<"u"?self:typeof window<"u"?window:{});const QF="@firebase/firestore",LF="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gd="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new bV("@firebase/firestore");function aA(){return Gc.logLevel}function Ne(t,...e){if(Gc.logLevel<=Mt.DEBUG){const r=e.map(GT);Gc.debug(`Firestore (${Gd}): ${t}`,...r)}}function Da(t,...e){if(Gc.logLevel<=Mt.ERROR){const r=e.map(GT);Gc.error(`Firestore (${Gd}): ${t}`,...r)}}function Pp(t,...e){if(Gc.logLevel<=Mt.WARN){const r=e.map(GT);Gc.warn(`Firestore (${Gd}): ${t}`,...r)}}function GT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,PV(t,n,r)}function PV(t,e,r){let n=`FIRESTORE (${Gd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Da(n),new Error(n)}function ot(t,e,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,t||PV(e,a,n)}function mr(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Je extends hu{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uue{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(bn.UNAUTHENTICATED))}shutdown(){}}class Aue{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class due{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){ot(this.o===void 0,42304);let n=this.i;const a=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let s=new ol;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ol,e.enqueueRetryable(()=>a(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await a(this.currentUser)})},l=c=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ol)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ot(typeof n.accessToken=="string",31837,{l:n}),new FV(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class hue{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fue{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new hue(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mue{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zce(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){ot(this.o===void 0,3512);const n=s=>{s.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const a=s=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>a(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new HF(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(ot(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new HF(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pue(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gue(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=pue(40);for(let s=0;s<a.length;++s)n.length<20&&a[s]<r&&(n+=e.charAt(a[s]%62))}return n}}function xt(t,e){return t<e?-1:t>e?1:0}function SS(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),a=e.codePointAt(r);if(n!==a){if(n<128&&a<128)return xt(n,a);{const s=gue(),o=xue(s.encode($F(t,r)),s.encode($F(e,r)));return o!==0?o:xt(n,a)}}r+=n>65535?2:1}return xt(t.length,e.length)}function $F(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function xue(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return xt(t[r],e[r]);return xt(t.length,e.length)}function WA(t,e,r){return t.length===e.length&&t.every((n,a)=>r(n,e[a]))}function OV(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=-62135596800,KF=1e6;class Ir{static now(){return Ir.fromMillis(Date.now())}static fromDate(e){return Ir.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*KF);return new Ir(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Je(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Je(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<VF)throw new Je(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Je(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/KF}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-VF;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{static fromTimestamp(e){return new Ft(e)}static min(){return new Ft(new Ir(0,0))}static max(){return new Ft(new Ir(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF="__name__";class Ws{constructor(e,r,n){r===void 0?r=0:r>e.length&&rt(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&rt(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Ws.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ws?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let a=0;a<n;a++){const s=Ws.compareSegments(e.get(a),r.get(a));if(s!==0)return s}return xt(e.length,r.length)}static compareSegments(e,r){const n=Ws.isNumericId(e),a=Ws.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?Ws.extractNumericId(e).compare(Ws.extractNumericId(r)):SS(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qT.fromString(e.substring(4,e.length-2))}}class ur extends Ws{construct(e,r,n){return new ur(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Je(ye.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new ur(r)}static emptyPath(){return new ur([])}}const vue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jr extends Ws{construct(e,r,n){return new jr(e,r,n)}static isValidIdentifier(e){return vue.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qF}static keyField(){return new jr([qF])}static fromServerFormat(e){const r=[];let n="",a=0;const s=()=>{if(n.length===0)throw new Je(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;a<e.length;){const l=e[a];if(l==="\\"){if(a+1===e.length)throw new Je(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[a+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Je(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,a+=2}else l==="`"?(o=!o,a++):l!=="."||o?(n+=l,a++):(s(),a++)}if(s(),o)throw new Je(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jr(r)}static emptyPath(){return new jr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(ur.fromString(e))}static fromName(e){return new Xe(ur.fromString(e).popFirst(5))}static empty(){return new Xe(ur.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ur.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return ur.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new ur(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm=-1;class sv{constructor(e,r,n,a){this.indexId=e,this.collectionGroup=r,this.fields=n,this.indexState=a}}function NS(t){return t.fields.find(e=>e.kind===2)}function lc(t){return t.fields.filter(e=>e.kind!==2)}sv.UNKNOWN_ID=-1;class H0{constructor(e,r){this.fieldPath=e,this.kind=r}}class am{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new am(0,La.min())}}function yue(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,a=Ft.fromTimestamp(n===1e9?new Ir(r+1,0):new Ir(r,n));return new La(a,Xe.empty(),e)}function RV(t){return new La(t.readTime,t.key,nm)}class La{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new La(Ft.min(),Xe.empty(),nm)}static max(){return new La(Ft.max(),Xe.empty(),nm)}}function zT(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Xe.comparator(t.documentKey,e.documentKey),r!==0?r:xt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(t){if(t.code!==ye.FAILED_PRECONDITION||t.message!==UV)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new se((n,a)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,a)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,a)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof se?r:se.resolve(r)}catch(r){return se.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):se.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):se.reject(r)}static resolve(e){return new se((r,n)=>{r(e)})}static reject(e){return new se((r,n)=>{n(e)})}static waitFor(e){return new se((r,n)=>{let a=0,s=0,o=!1;e.forEach(l=>{++a,l.next(()=>{++s,o&&s===a&&r()},c=>n(c))}),o=!0,s===a&&r()})}static or(e){let r=se.resolve(!1);for(const n of e)r=r.next(a=>a?se.resolve(a):n());return r}static forEach(e,r){const n=[];return e.forEach((a,s)=>{n.push(r.call(this,a,s))}),this.waitFor(n)}static mapArray(e,r){return new se((n,a)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const u=c;r(e[u]).next(A=>{o[u]=A,++l,l===s&&n(o)},A=>a(A))}})}static doWhile(e,r){return new se((n,a)=>{const s=()=>{e()===!0?r().next(()=>{s()},a):n()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="SimpleDb";class pb{static open(e,r,n,a){try{return new pb(r,e.transaction(a,n))}catch(s){throw new Cf(r,s)}}constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.S=new ol,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{r.error?this.S.reject(new Cf(e,r.error)):this.S.resolve()},this.transaction.onerror=n=>{const a=WT(n.target.error);this.S.reject(new Cf(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(Ne(Pa,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const r=this.transaction.objectStore(e);return new wue(r)}}class ll{static delete(e){return Ne(Pa,"Removing database:",e),mc(mV().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!VT())return!1;if(ll.F())return!0;const e=rv(),r=ll.M(e),n=0<r&&r<10,a=QV(e),s=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||s)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,r){return e.store(r)}static M(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,r,n){this.name=e,this.version=r,this.B=n,this.L=null,ll.M(rv())===12.2&&Da("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(Ne(Pa,"Opening database:",this.name),this.db=await new Promise((r,n)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=s=>{const o=s.target.result;r(o)},a.onblocked=()=>{n(new Cf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=s=>{const o=s.target.error;o.name==="VersionError"?n(new Je(ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?n(new Je(ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):n(new Cf(e,o))},a.onupgradeneeded=s=>{Ne(Pa,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;if(this.L!==null&&this.L!==s.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${s.oldVersion}, event.newVersion=${s.newVersion}, db.version=${o.version}`);this.B.q(o,a.transaction,s.oldVersion,this.version).next(()=>{Ne(Pa,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",r=>{const n=r.target;this.L=n.version},{passive:!0})),this.$&&(this.db.onversionchange=r=>this.$(r)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,n,a){const s=r==="readonly";let o=0;for(;;){++o;try{this.db=await this.k(e);const l=pb.open(this.db,e,s?"readonly":"readwrite",n),c=a(l).next(u=>(l.v(),u)).catch(u=>(l.abort(u),se.reject(u))).toPromise();return c.catch(()=>{}),await l.D,c}catch(l){const c=l,u=c.name!=="FirebaseError"&&o<3;if(Ne(Pa,"Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function QV(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class bue{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return mc(this.K.delete())}}class Cf extends Je{constructor(e,r){super(ye.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function fu(t){return t.name==="IndexedDbTransactionError"}class wue{constructor(e){this.store=e}put(e,r){let n;return r!==void 0?(Ne(Pa,"PUT",this.store.name,e,r),n=this.store.put(r,e)):(Ne(Pa,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),mc(n)}add(e){return Ne(Pa,"ADD",this.store.name,e,e),mc(this.store.add(e))}get(e){return mc(this.store.get(e)).next(r=>(r===void 0&&(r=null),Ne(Pa,"GET",this.store.name,e,r),r))}delete(e){return Ne(Pa,"DELETE",this.store.name,e),mc(this.store.delete(e))}count(){return Ne(Pa,"COUNT",this.store.name),mc(this.store.count())}J(e,r){const n=this.options(e,r),a=n.index?this.store.index(n.index):this.store;if(typeof a.getAll=="function"){const s=a.getAll(n.range);return new se((o,l)=>{s.onerror=c=>{l(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{const s=this.cursor(n),o=[];return this.Y(s,(l,c)=>{o.push(c)}).next(()=>o)}}Z(e,r){const n=this.store.getAll(e,r===null?void 0:r);return new se((a,s)=>{n.onerror=o=>{s(o.target.error)},n.onsuccess=o=>{a(o.target.result)}})}X(e,r){Ne(Pa,"DELETE ALL",this.store.name);const n=this.options(e,r);n.ee=!1;const a=this.cursor(n);return this.Y(a,(s,o,l)=>l.delete())}te(e,r){let n;r?n=e:(n={},r=e);const a=this.cursor(n);return this.Y(a,r)}ne(e){const r=this.cursor({});return new se((n,a)=>{r.onerror=s=>{const o=WT(s.target.error);a(o)},r.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(l=>{l?o.continue():n()}):n()}})}Y(e,r){const n=[];return new se((a,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const l=o.target.result;if(!l)return void a();const c=new bue(l),u=r(l.primaryKey,l.value,c);if(u instanceof se){const A=u.catch(d=>(c.done(),se.reject(d)));n.push(A)}c.isDone?a():c.j===null?l.continue():l.continue(c.j)}}).next(()=>se.waitFor(n))}options(e,r){let n;return e!==void 0&&(typeof e=="string"?n=e:r=e),{index:n,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const n=this.store.index(e.index);return e.ee?n.openKeyCursor(e.range,r):n.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function mc(t){return new se((e,r)=>{t.onsuccess=n=>{const a=n.target.result;e(a)},t.onerror=n=>{const a=WT(n.target.error);r(a)}})}let GF=!1;function WT(t){const e=ll.M(rv());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const n=new Je("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return GF||(GF=!0,setTimeout(()=>{throw n},0)),n}}return t}const jf="IndexBackfiller";class _ue{constructor(e,r){this.asyncQueue=e,this.re=r,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(e){Ne(jf,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const r=await this.re.se();Ne(jf,`Documents written: ${r}`)}catch(r){fu(r)?Ne(jf,"Ignoring IndexedDB error during index backfill: ",r):await mb(r)}await this.ie(6e4)})}}class Bue{constructor(e,r){this.localStore=e,this.persistence=r}async se(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>this.oe(r,e))}oe(e,r){const n=new Set;let a=r,s=!0;return se.doWhile(()=>s===!0&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!n.has(o))return Ne(jf,`Processing collection: ${o}`),this._e(e,o,a).next(l=>{a-=l,n.add(o)});s=!1})).next(()=>r-a)}_e(e,r,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(a=>this.localStore.localDocuments.getNextDocuments(e,r,a,n).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ae(a,s)).next(l=>(Ne(jf,`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,r,l))).next(()=>o.size)}))}ae(e,r){let n=e;return r.changes.forEach((a,s)=>{const o=RV(s);zT(o,n)>0&&(n=o)}),new La(n.readTime,n.documentKey,Math.max(r.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Es.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=-1;function gb(t){return t==null}function sm(t){return t===0&&1/t==-1/0}function Cue(t){return typeof t=="number"&&Number.isInteger(t)&&!sm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="";function Kn(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=zF(e)),e=jue(t.get(r),e);return zF(e)}function jue(t,e){let r=e;const n=t.length;for(let a=0;a<n;a++){const s=t.charAt(a);switch(s){case"\0":r+="";break;case iv:r+="";break;default:r+=s}}return r}function zF(t){return t+iv+""}function ni(t){const e=t.length;if(ot(e>=2,64408,{path:t}),e===2)return ot(t.charAt(0)===iv&&t.charAt(1)==="",56145,{path:t}),ur.emptyPath();const r=e-2,n=[];let a="";for(let s=0;s<e;){const o=t.indexOf(iv,s);switch((o<0||o>r)&&rt(50515,{path:t}),t.charAt(o+1)){case"":const l=t.substring(s,o);let c;a.length===0?c=l:(a+=l,c=a,a=""),n.push(c);break;case"":a+=t.substring(s,o),a+="\0";break;case"":a+=t.substring(s,o+1);break;default:rt(61167,{path:t})}s=o+2}return new ur(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc="remoteDocuments",Fp="owner",Pu="owner",im="mutationQueues",Eue="userId",vs="mutations",WF="batchId",wc="userMutationsIndex",XF=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(t,e){return[t,Kn(e)]}function LV(t,e,r){return[t,Kn(e),r]}const Sue={},XA="documentMutations",ov="remoteDocumentsV14",Nue=["prefixPath","collectionGroup","readTime","documentId"],V0="documentKeyIndex",Tue=["prefixPath","collectionGroup","documentId"],HV="collectionGroupIndex",kue=["collectionGroup","readTime","prefixPath","documentId"],om="remoteDocumentGlobal",TS="remoteDocumentGlobalKey",YA="targets",$V="queryTargetsIndex",Iue=["canonicalId","targetId"],JA="targetDocuments",Pue=["targetId","path"],XT="documentTargetsIndex",Fue=["path","targetId"],lv="targetGlobalKey",Uc="targetGlobal",lm="collectionParents",Due=["collectionId","parent"],ZA="clientMetadata",Oue="clientId",xb="bundles",Rue="bundleId",vb="namedQueries",Uue="name",YT="indexConfiguration",Mue="indexId",kS="collectionGroupIndex",Que="collectionGroup",Ef="indexState",Lue=["indexId","uid"],VV="sequenceNumberIndex",Hue=["uid","sequenceNumber"],Sf="indexEntries",$ue=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],KV="documentKeyIndex",Vue=["indexId","uid","orderedDocumentKey"],yb="documentOverlays",Kue=["userId","collectionPath","documentId"],IS="collectionPathOverlayIndex",que=["userId","collectionPath","largestBatchId"],qV="collectionGroupOverlayIndex",Gue=["userId","collectionGroup","largestBatchId"],JT="globals",zue="name",GV=[im,vs,XA,cc,YA,Fp,Uc,JA,ZA,om,lm,xb,vb],Wue=[...GV,yb],zV=[im,vs,XA,ov,YA,Fp,Uc,JA,ZA,om,lm,xb,vb,yb],WV=zV,ZT=[...WV,YT,Ef,Sf],Xue=ZT,XV=[...ZT,JT],Yue=XV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS extends MV{constructor(e,r){super(),this.he=e,this.currentSequenceNumber=r}}function Jr(t,e){const r=mr(t);return ll.N(r.he,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function zd(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function YV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,r){this.comparator=e,this.root=r||wn.EMPTY}insert(e,r){return new aa(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new aa(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lg(this.root,e,this.comparator,!0)}}class Lg{constructor(e,r,n,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&a&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wn{constructor(e,r,n,a,s){this.key=e,this.value=r,this.color=n??wn.RED,this.left=a??wn.EMPTY,this.right=s??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,a,s){return new wn(e??this.key,r??this.value,n??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let a=this;const s=n(e,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(e,r,n),null):s===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,a=this;if(r(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(e,a.key)===0){if(a.right.isEmpty())return wn.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw rt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw rt(27949);return e+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw rt(57766)}get value(){throw rt(16141)}get color(){throw rt(16727)}get left(){throw rt(29726)}get right(){throw rt(36894)}copy(e,r,n,a,s){return this}insert(e,r,n){return new wn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.comparator=e,this.data=new aa(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;r(a.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new JF(this.data.getIterator())}getIteratorFrom(e){return new JF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof dr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,s=n.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new dr(this.comparator);return r.data=e,r}}class JF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Fu(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.fields=e,e.sort(jr.comparator)}static empty(){return new Za([])}unionWith(e){let r=new dr(jr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Za(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return WA(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jue extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Jue("Invalid base64 string: "+s):s}}(e);return new va(r)}static fromUint8Array(e){const r=function(a){let s="";for(let o=0;o<a.length;++o)s+=String.fromCharCode(a[o]);return s}(e);return new va(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}va.EMPTY_BYTE_STRING=new va("");const Zue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wl(t){if(ot(!!t,39018),typeof t=="string"){let e=0;const r=Zue.exec(t);if(ot(!!r,46558,{timestamp:t}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Lr(t.seconds),nanos:Lr(t.nanos)}}function Lr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zc(t){return typeof t=="string"?va.fromBase64String(t):va.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV="server_timestamp",ZV="__type__",e9="__previous_value__",t9="__local_write_time__";function ek(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[ZV])===null||r===void 0?void 0:r.stringValue)===JV}function tk(t){const e=t.mapValue.fields[e9];return ek(e)?tk(e):e}function cv(t){const e=wl(t.mapValue.fields[t9].timestampValue);return new Ir(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eAe{constructor(e,r,n,a,s,o,l,c,u,A){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=A}}const uv="(default)";class ed{constructor(e,r){this.projectId=e,this.database=r||uv}static empty(){return new ed("","")}get isDefaultDatabase(){return this.database===uv}isEqual(e){return e instanceof ed&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk="__type__",r9="__max__",Jo={mapValue:{fields:{__type__:{stringValue:r9}}}},nk="__vector__",cm="value",K0={nullValue:"NULL_VALUE"};function Wc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ek(t)?4:n9(t)?9007199254740991:bb(t)?10:11:rt(28295,{value:t})}function fi(t,e){if(t===e)return!0;const r=Wc(t);if(r!==Wc(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cv(t).isEqual(cv(e));case 3:return function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const o=wl(a.timestampValue),l=wl(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,s){return zc(a.bytesValue).isEqual(zc(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,s){return Lr(a.geoPointValue.latitude)===Lr(s.geoPointValue.latitude)&&Lr(a.geoPointValue.longitude)===Lr(s.geoPointValue.longitude)}(t,e);case 2:return function(a,s){if("integerValue"in a&&"integerValue"in s)return Lr(a.integerValue)===Lr(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const o=Lr(a.doubleValue),l=Lr(s.doubleValue);return o===l?sm(o)===sm(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return WA(t.arrayValue.values||[],e.arrayValue.values||[],fi);case 10:case 11:return function(a,s){const o=a.mapValue.fields||{},l=s.mapValue.fields||{};if(YF(o)!==YF(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!fi(o[c],l[c])))return!1;return!0}(t,e);default:return rt(52216,{left:t})}}function um(t,e){return(t.values||[]).find(r=>fi(r,e))!==void 0}function _l(t,e){if(t===e)return 0;const r=Wc(t),n=Wc(e);if(r!==n)return xt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return xt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Lr(s.integerValue||s.doubleValue),c=Lr(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return ZF(t.timestampValue,e.timestampValue);case 4:return ZF(cv(t),cv(e));case 5:return SS(t.stringValue,e.stringValue);case 6:return function(s,o){const l=zc(s),c=zc(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const A=xt(l[u],c[u]);if(A!==0)return A}return xt(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=xt(Lr(s.latitude),Lr(o.latitude));return l!==0?l:xt(Lr(s.longitude),Lr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return eD(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,c,u,A;const d=s.fields||{},h=o.fields||{},f=(l=d[cm])===null||l===void 0?void 0:l.arrayValue,m=(c=h[cm])===null||c===void 0?void 0:c.arrayValue,g=xt(((u=f==null?void 0:f.values)===null||u===void 0?void 0:u.length)||0,((A=m==null?void 0:m.values)===null||A===void 0?void 0:A.length)||0);return g!==0?g:eD(f,m)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Jo.mapValue&&o===Jo.mapValue)return 0;if(s===Jo.mapValue)return 1;if(o===Jo.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),u=o.fields||{},A=Object.keys(u);c.sort(),A.sort();for(let d=0;d<c.length&&d<A.length;++d){const h=SS(c[d],A[d]);if(h!==0)return h;const f=_l(l[c[d]],u[A[d]]);if(f!==0)return f}return xt(c.length,A.length)}(t.mapValue,e.mapValue);default:throw rt(23264,{Pe:r})}}function ZF(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xt(t,e);const r=wl(t),n=wl(e),a=xt(r.seconds,n.seconds);return a!==0?a:xt(r.nanos,n.nanos)}function eD(t,e){const r=t.values||[],n=e.values||[];for(let a=0;a<r.length&&a<n.length;++a){const s=_l(r[a],n[a]);if(s)return s}return xt(r.length,n.length)}function td(t){return FS(t)}function FS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=wl(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return zc(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Xe.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",a=!0;for(const s of r.values||[])a?a=!1:n+=",",n+=FS(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",s=!0;for(const o of n)s?s=!1:a+=",",a+=`${o}:${FS(r.fields[o])}`;return a+"}"}(t.mapValue):rt(61005,{value:t})}function q0(t){switch(Wc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tk(t);return e?16+q0(e):16;case 5:return 2*t.stringValue.length;case 6:return zc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,s)=>a+q0(s),0)}(t.arrayValue);case 10:case 11:return function(n){let a=0;return zd(n.fields,(s,o)=>{a+=s.length+q0(o)}),a}(t.mapValue);default:throw rt(13486,{value:t})}}function ak(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function DS(t){return!!t&&"integerValue"in t}function Am(t){return!!t&&"arrayValue"in t}function tD(t){return!!t&&"nullValue"in t}function rD(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function G0(t){return!!t&&"mapValue"in t}function bb(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[rk])===null||r===void 0?void 0:r.stringValue)===nk}function Nf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return zd(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Nf(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Nf(t.arrayValue.values[r]);return e}return Object.assign({},t)}function n9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===r9}const a9={mapValue:{fields:{[rk]:{stringValue:nk},[cm]:{arrayValue:{}}}}};function tAe(t){return"nullValue"in t?K0:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ak(ed.empty(),Xe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?bb(t)?a9:{mapValue:{}}:rt(35942,{value:t})}function rAe(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ak(ed.empty(),Xe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?a9:"mapValue"in t?bb(t)?{mapValue:{}}:Jo:rt(61959,{value:t})}function nD(t,e){const r=_l(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function aD(t,e){const r=_l(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this.value=e}static empty(){return new Oa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!G0(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nf(r)}setAll(e){let r=jr.emptyPath(),n={},a=[];e.forEach((o,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,a),n={},a=[],r=l.popLast()}o?n[l.lastSegment()]=Nf(o):a.push(l.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,a)}delete(e){const r=this.field(e.popLast());G0(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return fi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=r.mapValue.fields[e.get(n)];G0(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(e,r,n){zd(r,(a,s)=>e[a]=s);for(const a of n)delete e[a]}clone(){return new Oa(Nf(this.value))}}function s9(t){const e=[];return zd(t.fields,(r,n)=>{const a=new jr([r]);if(G0(n)){const s=s9(n.mapValue).fields;if(s.length===0)e.push(a);else for(const o of s)e.push(a.child(o))}else e.push(a)}),new Za(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,r,n,a,s,o,l){this.key=e,this.documentType=r,this.version=n,this.readTime=a,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Bn(e,0,Ft.min(),Ft.min(),Ft.min(),Oa.empty(),0)}static newFoundDocument(e,r,n,a){return new Bn(e,1,r,Ft.min(),n,a,0)}static newNoDocument(e,r){return new Bn(e,2,r,Ft.min(),Ft.min(),Oa.empty(),0)}static newUnknownDocument(e,r){return new Bn(e,3,r,Ft.min(),Ft.min(),Oa.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ft.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,r){this.position=e,this.inclusive=r}}function sD(t,e,r){let n=0;for(let a=0;a<t.position.length;a++){const s=e[a],o=t.position[a];if(s.field.isKeyField()?n=Xe.comparator(Xe.fromName(o.referenceValue),r.key):n=_l(o,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function iD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!fi(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,r="asc"){this.field=e,this.dir=r}}function nAe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{}class Dt extends i9{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new aAe(e,r,n):r==="array-contains"?new oAe(e,n):r==="in"?new d9(e,n):r==="not-in"?new lAe(e,n):r==="array-contains-any"?new cAe(e,n):new Dt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new sAe(e,n):new iAe(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(_l(r,this.value)):r!==null&&Wc(this.value)===Wc(r)&&this.matchesComparison(_l(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class or extends i9{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new or(e,r)}matches(e){return nd(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function nd(t){return t.op==="and"}function OS(t){return t.op==="or"}function sk(t){return o9(t)&&nd(t)}function o9(t){for(const e of t.filters)if(e instanceof or)return!1;return!0}function RS(t){if(t instanceof Dt)return t.field.canonicalString()+t.op.toString()+td(t.value);if(sk(t))return t.filters.map(e=>RS(e)).join(",");{const e=t.filters.map(r=>RS(r)).join(",");return`${t.op}(${e})`}}function l9(t,e){return t instanceof Dt?function(n,a){return a instanceof Dt&&n.op===a.op&&n.field.isEqual(a.field)&&fi(n.value,a.value)}(t,e):t instanceof or?function(n,a){return a instanceof or&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((s,o,l)=>s&&l9(o,a.filters[l]),!0):!1}(t,e):void rt(19439)}function c9(t,e){const r=t.filters.concat(e);return or.create(r,t.op)}function u9(t){return t instanceof Dt?function(r){return`${r.field.canonicalString()} ${r.op} ${td(r.value)}`}(t):t instanceof or?function(r){return r.op.toString()+" {"+r.getFilters().map(u9).join(" ,")+"}"}(t):"Filter"}class aAe extends Dt{constructor(e,r,n){super(e,r,n),this.key=Xe.fromName(n.referenceValue)}matches(e){const r=Xe.comparator(e.key,this.key);return this.matchesComparison(r)}}class sAe extends Dt{constructor(e,r){super(e,"in",r),this.keys=A9("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class iAe extends Dt{constructor(e,r){super(e,"not-in",r),this.keys=A9("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function A9(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Xe.fromName(n.referenceValue))}class oAe extends Dt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Am(r)&&um(r.arrayValue,this.value)}}class d9 extends Dt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&um(this.value.arrayValue,r)}}class lAe extends Dt{constructor(e,r){super(e,"not-in",r)}matches(e){if(um(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!um(this.value.arrayValue,r)}}class cAe extends Dt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Am(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>um(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uAe{constructor(e,r=null,n=[],a=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=s,this.startAt=o,this.endAt=l,this.Ie=null}}function US(t,e=null,r=[],n=[],a=null,s=null,o=null){return new uAe(t,e,r,n,a,s,o)}function Xc(t){const e=mr(t);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>RS(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),gb(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>td(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>td(n)).join(",")),e.Ie=r}return e.Ie}function Dp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!nAe(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!l9(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iD(t.startAt,e.startAt)&&iD(t.endAt,e.endAt)}function AAe(t){return Xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function dv(t,e){return t.filters.filter(r=>r instanceof Dt&&r.field.isEqual(e))}function oD(t,e,r){let n=K0,a=!0;for(const s of dv(t,e)){let o=K0,l=!0;switch(s.op){case"<":case"<=":o=tAe(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,l=!1;break;case"!=":case"not-in":o=K0}nD({value:n,inclusive:a},{value:o,inclusive:l})<0&&(n=o,a=l)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=r.position[s];nD({value:n,inclusive:a},{value:o,inclusive:r.inclusive})<0&&(n=o,a=r.inclusive);break}}return{value:n,inclusive:a}}function lD(t,e,r){let n=Jo,a=!0;for(const s of dv(t,e)){let o=Jo,l=!0;switch(s.op){case">=":case">":o=rAe(s.value),l=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,l=!1;break;case"!=":case"not-in":o=Jo}aD({value:n,inclusive:a},{value:o,inclusive:l})>0&&(n=o,a=l)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=r.position[s];aD({value:n,inclusive:a},{value:o,inclusive:r.inclusive})>0&&(n=o,a=r.inclusive);break}}return{value:n,inclusive:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,r=null,n=[],a=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function dAe(t,e,r,n,a,s,o,l){return new wb(t,e,r,n,a,s,o,l)}function h9(t){return new wb(t)}function cD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hAe(t){return t.collectionGroup!==null}function Tf(t){const e=mr(t);if(e.Ee===null){e.Ee=[];const r=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new dr(jr.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new Av(s,n))}),r.has(jr.keyField().canonicalString())||e.Ee.push(new Av(jr.keyField(),n))}return e.Ee}function Vi(t){const e=mr(t);return e.de||(e.de=fAe(e,Tf(t))),e.de}function fAe(t,e){if(t.limitType==="F")return US(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const s=a.dir==="desc"?"asc":"desc";return new Av(a.field,s)});const r=t.endAt?new rd(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new rd(t.startAt.position,t.startAt.inclusive):null;return US(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function MS(t,e,r){return new wb(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function f9(t,e){return Dp(Vi(t),Vi(e))&&t.limitType===e.limitType}function m9(t){return`${Xc(Vi(t))}|lt:${t.limitType}`}function Nh(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>u9(a)).join(", ")}]`),gb(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>td(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>td(a)).join(",")),`Target(${n})`}(Vi(t))}; limitType=${t.limitType})`}function _b(t,e){return e.isFoundDocument()&&function(n,a){const s=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Xe.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,a){for(const s of Tf(n))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,a){for(const s of n.filters)if(!s.matches(a))return!1;return!0}(t,e)&&function(n,a){return!(n.startAt&&!function(o,l,c){const u=sD(o,l,c);return o.inclusive?u<=0:u<0}(n.startAt,Tf(n),a)||n.endAt&&!function(o,l,c){const u=sD(o,l,c);return o.inclusive?u>=0:u>0}(n.endAt,Tf(n),a))}(t,e)}function mAe(t){return(e,r)=>{let n=!1;for(const a of Tf(t)){const s=pAe(a,e,r);if(s!==0)return s;n=n||a.field.isKeyField()}return 0}}function pAe(t,e,r){const n=t.field.isKeyField()?Xe.comparator(e.key,r.key):function(s,o,l){const c=o.data.field(s),u=l.data.field(s);return c!==null&&u!==null?_l(c,u):rt(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return rt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[a,s]of n)if(this.equalsFn(a,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return void(a[s]=[e,r]);a.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){zd(this.inner,(r,n)=>{for(const[a,s]of n)e(a,s)})}isEmpty(){return YV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gAe=new aa(Xe.comparator);function Zo(){return gAe}const p9=new aa(Xe.comparator);function Hg(...t){let e=p9;for(const r of t)e=e.insert(r.key,r);return e}function g9(t){let e=p9;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function ai(){return kf()}function x9(){return kf()}function kf(){return new ho(t=>t.toString(),(t,e)=>t.isEqual(e))}const xAe=new aa(Xe.comparator),vAe=new dr(Xe.comparator);function Gr(...t){let e=vAe;for(const r of t)e=e.add(r);return e}const yAe=new dr(xt);function bAe(){return yAe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sm(e)?"-0":e}}function v9(t){return{integerValue:""+t}}function wAe(t,e){return Cue(e)?v9(e):ik(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(){this._=void 0}}function _Ae(t,e,r){return t instanceof dm?function(a,s){const o={fields:{[ZV]:{stringValue:JV},[t9]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&ek(s)&&(s=tk(s)),s&&(o.fields[e9]=s),{mapValue:o}}(r,e):t instanceof ad?b9(t,e):t instanceof sd?w9(t,e):function(a,s){const o=y9(a,s),l=uD(o)+uD(a.Re);return DS(o)&&DS(a.Re)?v9(l):ik(a.serializer,l)}(t,e)}function BAe(t,e,r){return t instanceof ad?b9(t,e):t instanceof sd?w9(t,e):r}function y9(t,e){return t instanceof hm?function(n){return DS(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class dm extends Bb{}class ad extends Bb{constructor(e){super(),this.elements=e}}function b9(t,e){const r=_9(e);for(const n of t.elements)r.some(a=>fi(a,n))||r.push(n);return{arrayValue:{values:r}}}class sd extends Bb{constructor(e){super(),this.elements=e}}function w9(t,e){let r=_9(e);for(const n of t.elements)r=r.filter(a=>!fi(a,n));return{arrayValue:{values:r}}}class hm extends Bb{constructor(e,r){super(),this.serializer=e,this.Re=r}}function uD(t){return Lr(t.integerValue||t.doubleValue)}function _9(t){return Am(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CAe{constructor(e,r){this.field=e,this.transform=r}}function jAe(t,e){return t.field.isEqual(e.field)&&function(n,a){return n instanceof ad&&a instanceof ad||n instanceof sd&&a instanceof sd?WA(n.elements,a.elements,fi):n instanceof hm&&a instanceof hm?fi(n.Re,a.Re):n instanceof dm&&a instanceof dm}(t.transform,e.transform)}class EAe{constructor(e,r){this.version=e,this.transformResults=r}}class Ua{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Ua}static exists(e){return new Ua(void 0,e)}static updateTime(e){return new Ua(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function z0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Cb{}function B9(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ok(t.key,Ua.none()):new Wd(t.key,t.data,Ua.none());{const r=t.data,n=Oa.empty();let a=new dr(jr.comparator);for(let s of e.fields)if(!a.has(s)){let o=r.field(s);o===null&&s.length>1&&(s=s.popLast(),o=r.field(s)),o===null?n.delete(s):n.set(s,o),a=a.add(s)}return new Rl(t.key,n,new Za(a.toArray()),Ua.none())}}function SAe(t,e,r){t instanceof Wd?function(a,s,o){const l=a.value.clone(),c=dD(a.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):t instanceof Rl?function(a,s,o){if(!z0(a.precondition,s))return void s.convertToUnknownDocument(o.version);const l=dD(a.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(C9(a)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,r):function(a,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function If(t,e,r,n){return t instanceof Wd?function(s,o,l,c){if(!z0(s.precondition,o))return l;const u=s.value.clone(),A=hD(s.fieldTransforms,c,o);return u.setAll(A),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof Rl?function(s,o,l,c){if(!z0(s.precondition,o))return l;const u=hD(s.fieldTransforms,c,o),A=o.data;return A.setAll(C9(s)),A.setAll(u),o.convertToFoundDocument(o.version,A).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,r,n):function(s,o,l){return z0(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,r)}function NAe(t,e){let r=null;for(const n of t.fieldTransforms){const a=e.data.field(n.field),s=y9(n.transform,a||null);s!=null&&(r===null&&(r=Oa.empty()),r.set(n.field,s))}return r||null}function AD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&WA(n,a,(s,o)=>jAe(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wd extends Cb{constructor(e,r,n,a=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Rl extends Cb{constructor(e,r,n,a,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function C9(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function dD(t,e,r){const n=new Map;ot(t.length===r.length,32656,{Ve:r.length,me:t.length});for(let a=0;a<r.length;a++){const s=t[a],o=s.transform,l=e.data.field(s.field);n.set(s.field,BAe(o,l,r[a]))}return n}function hD(t,e,r){const n=new Map;for(const a of t){const s=a.transform,o=r.data.field(a.field);n.set(a.field,_Ae(s,o,e))}return n}class ok extends Cb{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j9 extends Cb{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,r,n,a){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(e.key)&&SAe(s,e,n[a])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=If(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=If(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=x9();return this.mutations.forEach(a=>{const s=e.get(a.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=r.has(a.key)?null:l;const c=B9(o,l);c!==null&&n.set(a.key,c),o.isValidDocument()||o.convertToNoDocument(Ft.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Gr())}isEqual(e){return this.batchId===e.batchId&&WA(this.mutations,e.mutations,(r,n)=>AD(r,n))&&WA(this.baseMutations,e.baseMutations,(r,n)=>AD(r,n))}}class ck{constructor(e,r,n,a){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(e,r,n){ot(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let a=function(){return xAe}();const s=e.mutations;for(let o=0;o<s.length;o++)a=a.insert(s[o].key,n[o].version);return new ck(e,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uk=class{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mr,Ut;function TAe(t){switch(t){case ye.OK:return rt(64938);case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0;default:return rt(15467,{code:t})}}function kAe(t){if(t===void 0)return Da("GRPC error has no .code"),ye.UNKNOWN;switch(t){case Mr.OK:return ye.OK;case Mr.CANCELLED:return ye.CANCELLED;case Mr.UNKNOWN:return ye.UNKNOWN;case Mr.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case Mr.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case Mr.INTERNAL:return ye.INTERNAL;case Mr.UNAVAILABLE:return ye.UNAVAILABLE;case Mr.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case Mr.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case Mr.NOT_FOUND:return ye.NOT_FOUND;case Mr.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case Mr.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case Mr.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case Mr.ABORTED:return ye.ABORTED;case Mr.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case Mr.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case Mr.DATA_LOSS:return ye.DATA_LOSS;default:return rt(39323,{code:t})}}(Ut=Mr||(Mr={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new qT([4294967295,4294967295],0);const IAe={asc:"ASCENDING",desc:"DESCENDING"},PAe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FAe={and:"AND",or:"OR"};class DAe{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function OAe(t,e){return t.useProto3Json||gb(e)?e:{value:e}}function fm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RAe(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function UAe(t,e){return fm(t,e.toTimestamp())}function Is(t){return ot(!!t,49232),Ft.fromTimestamp(function(r){const n=wl(r);return new Ir(n.seconds,n.nanos)}(t))}function Ak(t,e){return QS(t,e).canonicalString()}function QS(t,e){const r=function(a){return new ur(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?r:r.child(e)}function E9(t){const e=ur.fromString(t);return ot(zAe(e),10190,{key:e.toString()}),e}function hv(t,e){return Ak(t.databaseId,e.path)}function W0(t,e){const r=E9(e);if(r.get(1)!==t.databaseId.projectId)throw new Je(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Je(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Xe(T9(r))}function S9(t,e){return Ak(t.databaseId,e)}function N9(t){const e=E9(t);return e.length===4?ur.emptyPath():T9(e)}function MAe(t){return new ur(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function T9(t){return ot(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function fD(t,e,r){return{name:hv(t,e),fields:r.value.mapValue.fields}}function QAe(t,e,r){const n=W0(t,e.name),a=Is(e.updateTime),s=e.createTime?Is(e.createTime):Ft.min(),o=new Oa({mapValue:{fields:e.fields}}),l=Bn.newFoundDocument(n,a,s,o);return r&&l.setHasCommittedMutations(),r?l.setHasCommittedMutations():l}function fv(t,e){let r;if(e instanceof Wd)r={update:fD(t,e.key,e.value)};else if(e instanceof ok)r={delete:hv(t,e.key)};else if(e instanceof Rl)r={update:fD(t,e.key,e.data),updateMask:GAe(e.fieldMask)};else{if(!(e instanceof j9))return rt(16599,{ft:e.type});r={verify:hv(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,o){const l=o.transform;if(l instanceof dm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ad)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof sd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof hm)return{fieldPath:o.field.canonicalString(),increment:l.Re};throw rt(20930,{transform:o.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(a,s){return s.updateTime!==void 0?{updateTime:UAe(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:rt(27497)}(t,e.precondition)),r}function LS(t,e){const r=e.currentDocument?function(s){return s.updateTime!==void 0?Ua.updateTime(Is(s.updateTime)):s.exists!==void 0?Ua.exists(s.exists):Ua.none()}(e.currentDocument):Ua.none(),n=e.updateTransforms?e.updateTransforms.map(a=>function(o,l){let c=null;if("setToServerValue"in l)ot(l.setToServerValue==="REQUEST_TIME",16630,{proto:l}),c=new dm;else if("appendMissingElements"in l){const A=l.appendMissingElements.values||[];c=new ad(A)}else if("removeAllFromArray"in l){const A=l.removeAllFromArray.values||[];c=new sd(A)}else"increment"in l?c=new hm(o,l.increment):rt(16584,{proto:l});const u=jr.fromServerFormat(l.fieldPath);return new CAe(u,c)}(t,a)):[];if(e.update){e.update.name;const a=W0(t,e.update.name),s=new Oa({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(c){const u=c.fieldPaths||[];return new Za(u.map(A=>jr.fromServerFormat(A)))}(e.updateMask);return new Rl(a,s,o,r,n)}return new Wd(a,s,r,n)}if(e.delete){const a=W0(t,e.delete);return new ok(a,r)}if(e.verify){const a=W0(t,e.verify);return new j9(a,r)}return rt(1463,{proto:e})}function LAe(t,e){return t&&t.length>0?(ot(e!==void 0,14353),t.map(r=>function(a,s){let o=a.updateTime?Is(a.updateTime):Is(s);return o.isEqual(Ft.min())&&(o=Is(s)),new EAe(o,a.transformResults||[])}(r,e))):[]}function HAe(t,e){return{documents:[S9(t,e.path)]}}function $Ae(t,e){const r={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=S9(t,a);const s=function(u){if(u.length!==0)return P9(or.create(u,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(A=>function(h){return{field:sA(h.field),direction:VAe(h.dir)}}(A))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const l=OAe(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:r,parent:a}}function k9(t){let e=N9(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){ot(n===1,65062);const A=r.from[0];A.allDescendants?a=A.collectionId:e=e.child(A.collectionId)}let s=[];r.where&&(s=function(d){const h=I9(d);return h instanceof or&&sk(h)?h.getFilters():[h]}(r.where));let o=[];r.orderBy&&(o=function(d){return d.map(h=>function(m){return new Av(iA(m.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(r.orderBy));let l=null;r.limit&&(l=function(d){let h;return h=typeof d=="object"?d.value:d,gb(h)?null:h}(r.limit));let c=null;r.startAt&&(c=function(d){const h=!!d.before,f=d.values||[];return new rd(f,h)}(r.startAt));let u=null;return r.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new rd(f,h)}(r.endAt)),dAe(e,a,o,s,l,"F",c,u)}function I9(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=iA(r.unaryFilter.field);return Dt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=iA(r.unaryFilter.field);return Dt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=iA(r.unaryFilter.field);return Dt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=iA(r.unaryFilter.field);return Dt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return rt(61313);default:return rt(60726)}}(t):t.fieldFilter!==void 0?function(r){return Dt.create(iA(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return rt(58110);default:return rt(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return or.create(r.compositeFilter.filters.map(n=>I9(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return rt(1026)}}(r.compositeFilter.op))}(t):rt(30097,{filter:t})}function VAe(t){return IAe[t]}function KAe(t){return PAe[t]}function qAe(t){return FAe[t]}function sA(t){return{fieldPath:t.canonicalString()}}function iA(t){return jr.fromServerFormat(t.fieldPath)}function P9(t){return t instanceof Dt?function(r){if(r.op==="=="){if(rD(r.value))return{unaryFilter:{field:sA(r.field),op:"IS_NAN"}};if(tD(r.value))return{unaryFilter:{field:sA(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(rD(r.value))return{unaryFilter:{field:sA(r.field),op:"IS_NOT_NAN"}};if(tD(r.value))return{unaryFilter:{field:sA(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sA(r.field),op:KAe(r.op),value:r.value}}}(t):t instanceof or?function(r){const n=r.getFilters().map(a=>P9(a));return n.length===1?n[0]:{compositeFilter:{op:qAe(r.op),filters:n}}}(t):rt(54877,{filter:t})}function GAe(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function zAe(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,r,n,a,s=Ft.min(),o=Ft.min(),l=va.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new AA(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new AA(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new AA(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new AA(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e){this.wt=e}}function WAe(t,e){let r;if(e.document)r=QAe(t.wt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=Xe.fromSegments(e.noDocument.path),a=Jc(e.noDocument.readTime);r=Bn.newNoDocument(n,a),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return rt(56709);{const n=Xe.fromSegments(e.unknownDocument.path),a=Jc(e.unknownDocument.version);r=Bn.newUnknownDocument(n,a)}}return e.readTime&&r.setReadTime(function(a){const s=new Ir(a[0],a[1]);return Ft.fromTimestamp(s)}(e.readTime)),r}function mD(t,e){const r=e.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:mv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=function(s,o){return{name:hv(s,o.key),fields:o.data.value.mapValue.fields,updateTime:fm(s,o.version.toTimestamp()),createTime:fm(s,o.createTime.toTimestamp())}}(t.wt,e);else if(e.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:Yc(e.version)};else{if(!e.isUnknownDocument())return rt(57904,{document:e});n.unknownDocument={path:r.path.toArray(),version:Yc(e.version)}}return n}function mv(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Yc(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Jc(t){const e=new Ir(t.seconds,t.nanoseconds);return Ft.fromTimestamp(e)}function pc(t,e){const r=(e.baseMutations||[]).map(s=>LS(t.wt,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const l=e.mutations[s+1];o.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const n=e.mutations.map(s=>LS(t.wt,s)),a=Ir.fromMillis(e.localWriteTimeMs);return new lk(e.batchId,a,r,n)}function af(t){const e=Jc(t.readTime),r=t.lastLimboFreeSnapshotVersion!==void 0?Jc(t.lastLimboFreeSnapshotVersion):Ft.min();let n;return n=function(s){return s.documents!==void 0}(t.query)?function(s){const o=s.documents.length;return ot(o===1,1966,{count:o}),Vi(h9(N9(s.documents[0])))}(t.query):function(s){return Vi(k9(s))}(t.query),new AA(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,r,va.fromBase64String(t.resumeToken))}function D9(t,e){const r=Yc(e.snapshotVersion),n=Yc(e.lastLimboFreeSnapshotVersion);let a;a=AAe(e.target)?HAe(t.wt,e.target):$Ae(t.wt,e.target).gt;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Xc(e.target),readTime:r,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:a}}function O9(t){const e=k9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?MS(e,e.limit,"L"):e}function b1(t,e){return new uk(e.largestBatchId,LS(t.wt,e.overlayMutation))}function pD(t,e){const r=e.path.lastSegment();return[t,Kn(e.path.popLast()),r]}function gD(t,e,r,n){return{indexId:t,uid:e,sequenceNumber:r,readTime:Yc(n.readTime),documentKey:Kn(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XAe{getBundleMetadata(e,r){return xD(e).get(r).next(n=>{if(n)return function(s){return{id:s.bundleId,createTime:Jc(s.createTime),version:s.version}}(n)})}saveBundleMetadata(e,r){return xD(e).put(function(a){return{bundleId:a.id,createTime:Yc(Is(a.createTime)),version:a.version}}(r))}getNamedQuery(e,r){return vD(e).get(r).next(n=>{if(n)return function(s){return{name:s.name,query:O9(s.bundledQuery),readTime:Jc(s.readTime)}}(n)})}saveNamedQuery(e,r){return vD(e).put(function(a){return{name:a.name,readTime:Yc(Is(a.readTime)),bundledQuery:a.bundledQuery}}(r))}}function xD(t){return Jr(t,xb)}function vD(t){return Jr(t,vb)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,r){this.serializer=e,this.userId=r}static St(e,r){const n=r.uid||"";return new jb(e,n)}getOverlay(e,r){return Th(e).get(pD(this.userId,r)).next(n=>n?b1(this.serializer,n):null)}getOverlays(e,r){const n=ai();return se.forEach(r,a=>this.getOverlay(e,a).next(s=>{s!==null&&n.set(a,s)})).next(()=>n)}saveOverlays(e,r,n){const a=[];return n.forEach((s,o)=>{const l=new uk(r,o);a.push(this.bt(e,l))}),se.waitFor(a)}removeOverlaysForBatchId(e,r,n){const a=new Set;r.forEach(o=>a.add(Kn(o.getCollectionPath())));const s=[];return a.forEach(o=>{const l=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,n+1],!1,!0);s.push(Th(e).X(IS,l))}),se.waitFor(s)}getOverlaysForCollection(e,r,n){const a=ai(),s=Kn(r),o=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Th(e).J(IS,o).next(l=>{for(const c of l){const u=b1(this.serializer,c);a.set(u.getKey(),u)}return a})}getOverlaysForCollectionGroup(e,r,n,a){const s=ai();let o;const l=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Th(e).te({index:qV,range:l},(c,u,A)=>{const d=b1(this.serializer,u);s.size()<a||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):A.done()}).next(()=>s)}bt(e,r){return Th(e).put(function(a,s,o){const[l,c,u]=pD(s,o.mutation.key);return{userId:s,collectionPath:c,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:fv(a.wt,o.mutation)}}(this.serializer,this.userId,r))}}function Th(t){return Jr(t,yb)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YAe{Dt(e){return Jr(e,JT)}getSessionToken(e){return this.Dt(e).get("sessionToken").next(r=>{const n=r==null?void 0:r.value;return n?va.fromUint8Array(n):va.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Dt(e).put({name:"sessionToken",value:r.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(){}vt(e,r){this.Ct(e,r),r.Ft()}Ct(e,r){if("nullValue"in e)this.Mt(r,5);else if("booleanValue"in e)this.Mt(r,10),r.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(r,15),r.xt(Lr(e.integerValue));else if("doubleValue"in e){const n=Lr(e.doubleValue);isNaN(n)?this.Mt(r,13):(this.Mt(r,15),sm(n)?r.xt(0):r.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(r,20),typeof n=="string"&&(n=wl(n)),r.Ot(`${n.seconds||""}`),r.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,r),this.Bt(r);else if("bytesValue"in e)this.Mt(r,30),r.Lt(zc(e.bytesValue)),this.Bt(r);else if("referenceValue"in e)this.kt(e.referenceValue,r);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(r,45),r.xt(n.latitude||0),r.xt(n.longitude||0)}else"mapValue"in e?n9(e)?this.Mt(r,Number.MAX_SAFE_INTEGER):bb(e)?this.qt(e.mapValue,r):(this.Qt(e.mapValue,r),this.Bt(r)):"arrayValue"in e?(this.$t(e.arrayValue,r),this.Bt(r)):rt(19022,{Ut:e})}Nt(e,r){this.Mt(r,25),this.Kt(e,r)}Kt(e,r){r.Ot(e)}Qt(e,r){const n=e.fields||{};this.Mt(r,55);for(const a of Object.keys(n))this.Nt(a,r),this.Ct(n[a],r)}qt(e,r){var n,a;const s=e.fields||{};this.Mt(r,53);const o=cm,l=((a=(n=s[o].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.length)||0;this.Mt(r,15),r.xt(Lr(l)),this.Nt(o,r),this.Ct(s[o],r)}$t(e,r){const n=e.values||[];this.Mt(r,50);for(const a of n)this.Ct(a,r)}kt(e,r){this.Mt(r,37),Xe.fromName(e).path.forEach(n=>{this.Mt(r,60),this.Kt(n,r)})}Mt(e,r){e.xt(r)}Bt(e){e.xt(2)}}gc.Wt=new gc;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=255;function JAe(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function yD(t){const e=64-function(n){let a=0;for(let s=0;s<8;++s){const o=JAe(255&n[s]);if(a+=o,o!==8)break}return a}(t);return Math.ceil(e/8)}class ZAe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.zt(n.value),n=r.next();this.jt()}Ht(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Jt(n.value),n=r.next();this.Yt()}Zt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.zt(n);else if(n<2048)this.zt(960|n>>>6),this.zt(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.zt(480|n>>>12),this.zt(128|63&n>>>6),this.zt(128|63&n);else{const a=r.codePointAt(0);this.zt(240|a>>>18),this.zt(128|63&a>>>12),this.zt(128|63&a>>>6),this.zt(128|63&a)}}this.jt()}Xt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Jt(n);else if(n<2048)this.Jt(960|n>>>6),this.Jt(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Jt(480|n>>>12),this.Jt(128|63&n>>>6),this.Jt(128|63&n);else{const a=r.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Yt()}en(e){const r=this.tn(e),n=yD(r);this.nn(1+n),this.buffer[this.position++]=255&n;for(let a=r.length-n;a<r.length;++a)this.buffer[this.position++]=255&r[a]}rn(e){const r=this.tn(e),n=yD(r);this.nn(1+n),this.buffer[this.position++]=~(255&n);for(let a=r.length-n;a<r.length;++a)this.buffer[this.position++]=~(255&r[a])}sn(){this._n(Du),this._n(255)}an(){this.un(Du),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const r=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),n=!!(128&r[0]);r[0]^=n?255:128;for(let a=1;a<r.length;++a)r[a]^=n?255:0;return r}zt(e){const r=255&e;r===0?(this._n(0),this._n(255)):r===Du?(this._n(Du),this._n(0)):this._n(r)}Jt(e){const r=255&e;r===0?(this.un(0),this.un(255)):r===Du?(this.un(Du),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const r=e+this.position;if(r<=this.buffer.length)return;let n=2*this.buffer.length;n<r&&(n=r);const a=new Uint8Array(n);a.set(this.buffer),this.buffer=a}}class ede{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class tde{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class kh{constructor(){this.ln=new ZAe,this.hn=new ede(this.ln),this.Pn=new tde(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return e===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,r,n,a){this.In=e,this.En=r,this.dn=n,this.An=a}Rn(){const e=this.An.length,r=e===0||this.An[e-1]===255?e+1:e,n=new Uint8Array(r);return n.set(this.An,0),r!==e?n.set([0],this.An.length):++n[n.length-1],new xc(this.In,this.En,this.dn,n)}Vn(e,r,n){return{indexId:this.In,uid:e,arrayValue:X0(this.dn),directionalValue:X0(this.An),orderedDocumentKey:X0(r),documentKey:n.path.toArray()}}mn(e,r,n){const a=this.Vn(e,r,n);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function _o(t,e){let r=t.In-e.In;return r!==0?r:(r=bD(t.dn,e.dn),r!==0?r:(r=bD(t.An,e.An),r!==0?r:Xe.comparator(t.En,e.En)))}function bD(t,e){for(let r=0;r<t.length&&r<e.length;++r){const n=t[r]-e[r];if(n!==0)return n}return t.length-e.length}function X0(t){return vV()?function(r){let n="";for(let a=0;a<r.length;a++)n+=String.fromCharCode(r[a]);return n}(t):t}function wD(t){return typeof t!="string"?t:function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(t)}class _D{constructor(e){this.fn=new dr((r,n)=>jr.comparator(r.field,n.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.gn=e.orderBy,this.pn=[];for(const r of e.filters){const n=r;n.isInequality()?this.fn=this.fn.add(n):this.pn.push(n)}}get yn(){return this.fn.size>1}wn(e){if(ot(e.collectionGroup===this.collectionId,49279),this.yn)return!1;const r=NS(e);if(r!==void 0&&!this.Sn(r))return!1;const n=lc(e);let a=new Set,s=0,o=0;for(;s<n.length&&this.Sn(n[s]);++s)a=a.add(n[s].fieldPath.canonicalString());if(s===n.length)return!0;if(this.fn.size>0){const l=this.fn.getIterator().getNext();if(!a.has(l.field.canonicalString())){const c=n[s];if(!this.bn(l,c)||!this.Dn(this.gn[o++],c))return!1}++s}for(;s<n.length;++s){const l=n[s];if(o>=this.gn.length||!this.Dn(this.gn[o++],l))return!1}return!0}vn(){if(this.yn)return null;let e=new dr(jr.comparator);const r=[];for(const n of this.pn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")r.push(new H0(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),r.push(new H0(n.field,0))}for(const n of this.gn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),r.push(new H0(n.field,n.dir==="asc"?0:1)));return new sv(sv.UNKNOWN_ID,this.collectionId,r,am.empty())}Sn(e){for(const r of this.pn)if(this.bn(r,e))return!0;return!1}bn(e,r){if(e===void 0||!e.field.isEqual(r.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return r.kind===2===n}Dn(e,r){return!!e.field.isEqual(r.fieldPath)&&(r.kind===0&&e.dir==="asc"||r.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(t){var e,r;if(ot(t instanceof Dt||t instanceof or,20012),t instanceof Dt){if(t instanceof d9){const a=((r=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||r===void 0?void 0:r.map(s=>Dt.create(t.field,"==",s)))||[];return or.create(a,"or")}return t}const n=t.filters.map(a=>R9(a));return or.create(n,t.op)}function rde(t){if(t.getFilters().length===0)return[];const e=VS(R9(t));return ot(U9(e),7391),HS(e)||$S(e)?[e]:e.getFilters()}function HS(t){return t instanceof Dt}function $S(t){return t instanceof or&&sk(t)}function U9(t){return HS(t)||$S(t)||function(r){if(r instanceof or&&OS(r)){for(const n of r.getFilters())if(!HS(n)&&!$S(n))return!1;return!0}return!1}(t)}function VS(t){if(ot(t instanceof Dt||t instanceof or,34018),t instanceof Dt)return t;if(t.filters.length===1)return VS(t.filters[0]);const e=t.filters.map(n=>VS(n));let r=or.create(e,t.op);return r=pv(r),U9(r)?r:(ot(r instanceof or,64498),ot(nd(r),40251),ot(r.filters.length>1,57927),r.filters.reduce((n,a)=>dk(n,a)))}function dk(t,e){let r;return ot(t instanceof Dt||t instanceof or,38388),ot(e instanceof Dt||e instanceof or,25473),r=t instanceof Dt?e instanceof Dt?function(a,s){return or.create([a,s],"and")}(t,e):BD(t,e):e instanceof Dt?BD(e,t):function(a,s){if(ot(a.filters.length>0&&s.filters.length>0,48005),nd(a)&&nd(s))return c9(a,s.getFilters());const o=OS(a)?a:s,l=OS(a)?s:a,c=o.filters.map(u=>dk(u,l));return or.create(c,"or")}(t,e),pv(r)}function BD(t,e){if(nd(e))return c9(e,t.getFilters());{const r=e.filters.map(n=>dk(t,n));return or.create(r,"or")}}function pv(t){if(ot(t instanceof Dt||t instanceof or,11850),t instanceof Dt)return t;const e=t.getFilters();if(e.length===1)return pv(e[0]);if(o9(t))return t;const r=e.map(a=>pv(a)),n=[];return r.forEach(a=>{a instanceof Dt?n.push(a):a instanceof or&&(a.op===t.op?n.push(...a.filters):n.push(a))}),n.length===1?n[0]:or.create(n,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nde{constructor(){this.Cn=new hk}addToCollectionParentIndex(e,r){return this.Cn.add(r),se.resolve()}getCollectionParents(e,r){return se.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return se.resolve()}deleteFieldIndex(e,r){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,r){return se.resolve()}getDocumentsMatchingTarget(e,r){return se.resolve(null)}getIndexType(e,r){return se.resolve(0)}getFieldIndexes(e,r){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,r){return se.resolve(La.min())}getMinOffsetFromCollectionGroup(e,r){return se.resolve(La.min())}updateCollectionGroup(e,r,n){return se.resolve()}updateIndexEntries(e,r){return se.resolve()}}class hk{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r]||new dr(ur.comparator),s=!a.has(n);return this.index[r]=a.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(e){return(this.index[e]||new dr(ur.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD="IndexedDbIndexManager",$g=new Uint8Array(0);class ade{constructor(e,r){this.databaseId=r,this.Fn=new hk,this.Mn=new ho(n=>Xc(n),(n,a)=>Dp(n,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.Fn.has(r)){const n=r.lastSegment(),a=r.popLast();e.addOnCommittedListener(()=>{this.Fn.add(r)});const s={collectionId:n,parent:Kn(a)};return jD(e).put(s)}return se.resolve()}getCollectionParents(e,r){const n=[],a=IDBKeyRange.bound([r,""],[OV(r),""],!1,!0);return jD(e).J(a).next(s=>{for(const o of s){if(o.collectionId!==r)break;n.push(ni(o.parent))}return n})}addFieldIndex(e,r){const n=Ih(e),a=function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(r);delete a.indexId;const s=n.add(a);if(r.indexState){const o=Ru(e);return s.next(l=>{o.put(gD(l,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return s.next()}deleteFieldIndex(e,r){const n=Ih(e),a=Ru(e),s=Ou(e);return n.delete(r.indexId).next(()=>a.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Ih(e),n=Ou(e),a=Ru(e);return r.X().next(()=>n.X()).next(()=>a.X())}createTargetIndexes(e,r){return se.forEach(this.xn(r),n=>this.getIndexType(e,n).next(a=>{if(a===0||a===1){const s=new _D(n).vn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,r){const n=Ou(e);let a=!0;const s=new Map;return se.forEach(this.xn(r),o=>this.On(e,o).next(l=>{a&&(a=!!l),s.set(o,l)})).next(()=>{if(a){let o=Gr();const l=[];return se.forEach(s,(c,u)=>{Ne(CD,`Using index ${function(w){return`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(y=>`${y.fieldPath}:${y.kind}`).join(",")}`}(c)} to execute ${Xc(r)}`);const A=function(w,y){const C=NS(y);if(C===void 0)return null;for(const E of dv(w,C.fieldPath))switch(E.op){case"array-contains-any":return E.value.arrayValue.values||[];case"array-contains":return[E.value]}return null}(u,c),d=function(w,y){const C=new Map;for(const E of lc(y))for(const B of dv(w,E.fieldPath))switch(B.op){case"==":case"in":C.set(E.fieldPath.canonicalString(),B.value);break;case"not-in":case"!=":return C.set(E.fieldPath.canonicalString(),B.value),Array.from(C.values())}return null}(u,c),h=function(w,y){const C=[];let E=!0;for(const B of lc(y)){const j=B.kind===0?oD(w,B.fieldPath,w.startAt):lD(w,B.fieldPath,w.startAt);C.push(j.value),E&&(E=j.inclusive)}return new rd(C,E)}(u,c),f=function(w,y){const C=[];let E=!0;for(const B of lc(y)){const j=B.kind===0?lD(w,B.fieldPath,w.endAt):oD(w,B.fieldPath,w.endAt);C.push(j.value),E&&(E=j.inclusive)}return new rd(C,E)}(u,c),m=this.Nn(c,u,h),g=this.Nn(c,u,f),p=this.Bn(c,u,d),b=this.Ln(c.indexId,A,m,h.inclusive,g,f.inclusive,p);return se.forEach(b,x=>n.Z(x,r.limit).next(w=>{w.forEach(y=>{const C=Xe.fromSegments(y.documentKey);o.has(C)||(o=o.add(C),l.push(C))})}))}).next(()=>l)}return se.resolve(null)})}xn(e){let r=this.Mn.get(e);return r||(e.filters.length===0?r=[e]:r=rde(or.create(e.filters,"and")).map(n=>US(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt)),this.Mn.set(e,r),r)}Ln(e,r,n,a,s,o,l){const c=(r!=null?r.length:1)*Math.max(n.length,s.length),u=c/(r!=null?r.length:1),A=[];for(let d=0;d<c;++d){const h=r?this.kn(r[d/u]):$g,f=this.qn(e,h,n[d%u],a),m=this.Qn(e,h,s[d%u],o),g=l.map(p=>this.qn(e,h,p,!0));A.push(...this.createRange(f,m,g))}return A}qn(e,r,n,a){const s=new xc(e,Xe.empty(),r,n);return a?s:s.Rn()}Qn(e,r,n,a){const s=new xc(e,Xe.empty(),r,n);return a?s.Rn():s}On(e,r){const n=new _D(r),a=r.collectionGroup!=null?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,a).next(s=>{let o=null;for(const l of s)n.wn(l)&&(!o||l.fields.length>o.fields.length)&&(o=l);return o})}getIndexType(e,r){let n=2;const a=this.xn(r);return se.forEach(a,s=>this.On(e,s).next(o=>{o?n!==0&&o.fields.length<function(c){let u=new dr(jr.comparator),A=!1;for(const d of c.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?A=!0:u=u.add(h.field));for(const d of c.orderBy)d.field.isKeyField()||(u=u.add(d.field));return u.size+(A?1:0)}(s)&&(n=1):n=0})).next(()=>function(o){return o.limit!==null}(r)&&a.length>1&&n===2?1:n)}$n(e,r){const n=new kh;for(const a of lc(e)){const s=r.data.field(a.fieldPath);if(s==null)return null;const o=n.Tn(a.kind);gc.Wt.vt(s,o)}return n.cn()}kn(e){const r=new kh;return gc.Wt.vt(e,r.Tn(0)),r.cn()}Un(e,r){const n=new kh;return gc.Wt.vt(ak(this.databaseId,r),n.Tn(function(s){const o=lc(s);return o.length===0?0:o[o.length-1].kind}(e))),n.cn()}Bn(e,r,n){if(n===null)return[];let a=[];a.push(new kh);let s=0;for(const o of lc(e)){const l=n[s++];for(const c of a)if(this.Kn(r,o.fieldPath)&&Am(l))a=this.Wn(a,o,l);else{const u=c.Tn(o.kind);gc.Wt.vt(l,u)}}return this.Gn(a)}Nn(e,r,n){return this.Bn(e,r,n.position)}Gn(e){const r=[];for(let n=0;n<e.length;++n)r[n]=e[n].cn();return r}Wn(e,r,n){const a=[...e],s=[];for(const o of n.arrayValue.values||[])for(const l of a){const c=new kh;c.seed(l.cn()),gc.Wt.vt(o,c.Tn(r.kind)),s.push(c)}return s}Kn(e,r){return!!e.filters.find(n=>n instanceof Dt&&n.field.isEqual(r)&&(n.op==="in"||n.op==="not-in"))}getFieldIndexes(e,r){const n=Ih(e),a=Ru(e);return(r?n.J(kS,IDBKeyRange.bound(r,r)):n.J()).next(s=>{const o=[];return se.forEach(s,l=>a.get([l.indexId,this.uid]).next(c=>{o.push(function(A,d){const h=d?new am(d.sequenceNumber,new La(Jc(d.readTime),new Xe(ni(d.documentKey)),d.largestBatchId)):am.empty(),f=A.fields.map(([m,g])=>new H0(jr.fromServerFormat(m),g));return new sv(A.indexId,A.collectionGroup,f,h)}(l,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>r.length===0?null:(r.sort((n,a)=>{const s=n.indexState.sequenceNumber-a.indexState.sequenceNumber;return s!==0?s:xt(n.collectionGroup,a.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,n){const a=Ih(e),s=Ru(e);return this.zn(e).next(o=>a.J(kS,IDBKeyRange.bound(r,r)).next(l=>se.forEach(l,c=>s.put(gD(c.indexId,this.uid,o,n)))))}updateIndexEntries(e,r){const n=new Map;return se.forEach(r,(a,s)=>{const o=n.get(a.collectionGroup);return(o?se.resolve(o):this.getFieldIndexes(e,a.collectionGroup)).next(l=>(n.set(a.collectionGroup,l),se.forEach(l,c=>this.jn(e,a,c).next(u=>{const A=this.Hn(s,c);return u.isEqual(A)?se.resolve():this.Jn(e,s,c,u,A)}))))})}Yn(e,r,n,a){return Ou(e).put(a.Vn(this.uid,this.Un(n,r.key),r.key))}Zn(e,r,n,a){return Ou(e).delete(a.mn(this.uid,this.Un(n,r.key),r.key))}jn(e,r,n){const a=Ou(e);let s=new dr(_o);return a.te({index:KV,range:IDBKeyRange.only([n.indexId,this.uid,X0(this.Un(n,r))])},(o,l)=>{s=s.add(new xc(n.indexId,r,wD(l.arrayValue),wD(l.directionalValue)))}).next(()=>s)}Hn(e,r){let n=new dr(_o);const a=this.$n(r,e);if(a==null)return n;const s=NS(r);if(s!=null){const o=e.data.field(s.fieldPath);if(Am(o))for(const l of o.arrayValue.values||[])n=n.add(new xc(r.indexId,e.key,this.kn(l),a))}else n=n.add(new xc(r.indexId,e.key,$g,a));return n}Jn(e,r,n,a,s){Ne(CD,"Updating index entries for document '%s'",r.key);const o=[];return function(c,u,A,d,h){const f=c.getIterator(),m=u.getIterator();let g=Fu(f),p=Fu(m);for(;g||p;){let b=!1,x=!1;if(g&&p){const w=A(g,p);w<0?x=!0:w>0&&(b=!0)}else g!=null?x=!0:b=!0;b?(d(p),p=Fu(m)):x?(h(g),g=Fu(f)):(g=Fu(f),p=Fu(m))}}(a,s,_o,l=>{o.push(this.Yn(e,r,n,l))},l=>{o.push(this.Zn(e,r,n,l))}),se.waitFor(o)}zn(e){let r=1;return Ru(e).te({index:VV,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,a,s)=>{s.done(),r=a.sequenceNumber+1}).next(()=>r)}createRange(e,r,n){n=n.sort((o,l)=>_o(o,l)).filter((o,l,c)=>!l||_o(o,c[l-1])!==0);const a=[];a.push(e);for(const o of n){const l=_o(o,e),c=_o(o,r);if(l===0)a[0]=e.Rn();else if(l>0&&c<0)a.push(o),a.push(o.Rn());else if(c>0)break}a.push(r);const s=[];for(let o=0;o<a.length;o+=2){if(this.Xn(a[o],a[o+1]))return[];const l=a[o].mn(this.uid,$g,Xe.empty()),c=a[o+1].mn(this.uid,$g,Xe.empty());s.push(IDBKeyRange.bound(l,c))}return s}Xn(e,r){return _o(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(ED)}getMinOffset(e,r){return se.mapArray(this.xn(r),n=>this.On(e,n).next(a=>a||rt(44426))).next(ED)}}function jD(t){return Jr(t,lm)}function Ou(t){return Jr(t,Sf)}function Ih(t){return Jr(t,YT)}function Ru(t){return Jr(t,Ef)}function ED(t){ot(t.length!==0,28825);let e=t[0].indexState.offset,r=e.largestBatchId;for(let n=1;n<t.length;n++){const a=t[n].indexState.offset;zT(a,e)<0&&(e=a),r<a.largestBatchId&&(r=a.largestBatchId)}return new La(e.readTime,e.documentKey,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},M9=41943040;class Ln{static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(t,e,r){const n=t.store(vs),a=t.store(XA),s=[],o=IDBKeyRange.only(r.batchId);let l=0;const c=n.te({range:o},(A,d,h)=>(l++,h.delete()));s.push(c.next(()=>{ot(l===1,47070,{batchId:r.batchId})}));const u=[];for(const A of r.mutations){const d=LV(e,A.key.path,r.batchId);s.push(a.delete(d)),u.push(A.key)}return se.waitFor(s).next(()=>u)}function gv(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw rt(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(M9,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);class Eb{constructor(e,r,n,a){this.userId=e,this.serializer=r,this.indexManager=n,this.referenceDelegate=a,this.er={}}static St(e,r,n,a){ot(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new Eb(s,r,n,a)}checkEmpty(e){let r=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bo(e).te({index:wc,range:n},(a,s,o)=>{r=!1,o.done()}).next(()=>r)}addMutationBatch(e,r,n,a){const s=oA(e),o=Bo(e);return o.add({}).next(l=>{ot(typeof l=="number",49019);const c=new lk(l,r,n,a),u=function(f,m,g){const p=g.baseMutations.map(x=>fv(f.wt,x)),b=g.mutations.map(x=>fv(f.wt,x));return{userId:m,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:p,mutations:b}}(this.serializer,this.userId,c),A=[];let d=new dr((h,f)=>xt(h.canonicalString(),f.canonicalString()));for(const h of a){const f=LV(this.userId,h.key.path,l);d=d.add(h.key.path.popLast()),A.push(o.put(u)),A.push(s.put(f,Sue))}return d.forEach(h=>{A.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.er[l]=c.keys()}),se.waitFor(A).next(()=>c)})}lookupMutationBatch(e,r){return Bo(e).get(r).next(n=>n?(ot(n.userId===this.userId,48,"Unexpected user for mutation batch",{userId:n.userId,batchId:r}),pc(this.serializer,n)):null)}tr(e,r){return this.er[r]?se.resolve(this.er[r]):this.lookupMutationBatch(e,r).next(n=>{if(n){const a=n.keys();return this.er[r]=a,a}return null})}getNextMutationBatchAfterBatchId(e,r){const n=r+1,a=IDBKeyRange.lowerBound([this.userId,n]);let s=null;return Bo(e).te({index:wc,range:a},(o,l,c)=>{l.userId===this.userId&&(ot(l.batchId>=n,47524,{nr:n}),s=pc(this.serializer,l)),c.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=Rc;return Bo(e).te({index:wc,range:r,reverse:!0},(a,s,o)=>{n=s.batchId,o.done()}).next(()=>n)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,Rc],[this.userId,Number.POSITIVE_INFINITY]);return Bo(e).J(wc,r).next(n=>n.map(a=>pc(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,r){const n=$0(this.userId,r.path),a=IDBKeyRange.lowerBound(n),s=[];return oA(e).te({range:a},(o,l,c)=>{const[u,A,d]=o,h=ni(A);if(u===this.userId&&r.path.isEqual(h))return Bo(e).get(d).next(f=>{if(!f)throw rt(61480,{rr:o,batchId:d});ot(f.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:f.userId,batchId:d}),s.push(pc(this.serializer,f))});c.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new dr(xt);const a=[];return r.forEach(s=>{const o=$0(this.userId,s.path),l=IDBKeyRange.lowerBound(o),c=oA(e).te({range:l},(u,A,d)=>{const[h,f,m]=u,g=ni(f);h===this.userId&&s.path.isEqual(g)?n=n.add(m):d.done()});a.push(c)}),se.waitFor(a).next(()=>this.ir(e,n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,a=n.length+1,s=$0(this.userId,n),o=IDBKeyRange.lowerBound(s);let l=new dr(xt);return oA(e).te({range:o},(c,u,A)=>{const[d,h,f]=c,m=ni(h);d===this.userId&&n.isPrefixOf(m)?m.length===a&&(l=l.add(f)):A.done()}).next(()=>this.ir(e,l))}ir(e,r){const n=[],a=[];return r.forEach(s=>{a.push(Bo(e).get(s).next(o=>{if(o===null)throw rt(35274,{batchId:s});ot(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:s}),n.push(pc(this.serializer,o))}))}),se.waitFor(a).next(()=>n)}removeMutationBatch(e,r){return Q9(e.he,this.userId,r).next(n=>(e.addOnCommittedListener(()=>{this.sr(r.batchId)}),se.forEach(n,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}sr(e){delete this.er[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return se.resolve();const n=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),a=[];return oA(e).te({range:n},(s,o,l)=>{if(s[0]===this.userId){const c=ni(s[1]);a.push(c)}else l.done()}).next(()=>{ot(a.length===0,56720,{_r:a.map(s=>s.canonicalString())})})})}containsKey(e,r){return L9(e,this.userId,r)}ar(e){return H9(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:Rc,lastStreamToken:""})}}function L9(t,e,r){const n=$0(e,r.path),a=n[1],s=IDBKeyRange.lowerBound(n);let o=!1;return oA(t).te({range:s,ee:!0},(l,c,u)=>{const[A,d,h]=l;A===e&&d===a&&(o=!0),u.done()}).next(()=>o)}function Bo(t){return Jr(t,vs)}function oA(t){return Jr(t,XA)}function H9(t){return Jr(t,im)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Zc(0)}static lr(){return new Zc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sde{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.hr(e).next(r=>{const n=new Zc(r.highestTargetId);return r.highestTargetId=n.next(),this.Pr(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.hr(e).next(r=>Ft.fromTimestamp(new Ir(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.hr(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,n){return this.hr(e).next(a=>(a.highestListenSequenceNumber=r,n&&(a.lastRemoteSnapshotVersion=n.toTimestamp()),r>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=r),this.Pr(e,a)))}addTargetData(e,r){return this.Tr(e,r).next(()=>this.hr(e).next(n=>(n.targetCount+=1,this.Ir(r,n),this.Pr(e,n))))}updateTargetData(e,r){return this.Tr(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Uu(e).delete(r.targetId)).next(()=>this.hr(e)).next(n=>(ot(n.targetCount>0,8065),n.targetCount-=1,this.Pr(e,n)))}removeTargets(e,r,n){let a=0;const s=[];return Uu(e).te((o,l)=>{const c=af(l);c.sequenceNumber<=r&&n.get(c.targetId)===null&&(a++,s.push(this.removeTargetData(e,c)))}).next(()=>se.waitFor(s)).next(()=>a)}forEachTarget(e,r){return Uu(e).te((n,a)=>{const s=af(a);r(s)})}hr(e){return ND(e).get(lv).next(r=>(ot(r!==null,2888),r))}Pr(e,r){return ND(e).put(lv,r)}Tr(e,r){return Uu(e).put(D9(this.serializer,r))}Ir(e,r){let n=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,n=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.hr(e).next(r=>r.targetCount)}getTargetData(e,r){const n=Xc(r),a=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let s=null;return Uu(e).te({range:a,index:$V},(o,l,c)=>{const u=af(l);Dp(r,u.target)&&(s=u,c.done())}).next(()=>s)}addMatchingKeys(e,r,n){const a=[],s=Mo(e);return r.forEach(o=>{const l=Kn(o.path);a.push(s.put({targetId:n,path:l})),a.push(this.referenceDelegate.addReference(e,n,o))}),se.waitFor(a)}removeMatchingKeys(e,r,n){const a=Mo(e);return se.forEach(r,s=>{const o=Kn(s.path);return se.waitFor([a.delete([n,o]),this.referenceDelegate.removeReference(e,n,s)])})}removeMatchingKeysForTargetId(e,r){const n=Mo(e),a=IDBKeyRange.bound([r],[r+1],!1,!0);return n.delete(a)}getMatchingKeysForTargetId(e,r){const n=IDBKeyRange.bound([r],[r+1],!1,!0),a=Mo(e);let s=Gr();return a.te({range:n,ee:!0},(o,l,c)=>{const u=ni(o[1]),A=new Xe(u);s=s.add(A)}).next(()=>s)}containsKey(e,r){const n=Kn(r.path),a=IDBKeyRange.bound([n],[OV(n)],!1,!0);let s=0;return Mo(e).te({index:XT,ee:!0,range:a},([o,l],c,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}Rt(e,r){return Uu(e).get(r).next(n=>n?af(n):null)}}function Uu(t){return Jr(t,YA)}function ND(t){return Jr(t,Uc)}function Mo(t){return Jr(t,JA)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="LruGarbageCollector",ide=1048576;function kD([t,e],[r,n]){const a=xt(t,r);return a===0?xt(e,n):a}class ode{constructor(e){this.Er=e,this.buffer=new dr(kD),this.dr=0}Ar(){return++this.dr}Rr(e){const r=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();kD(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class $9{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Ne(TD,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){fu(r)?Ne(TD,"Ignoring IndexedDB error during garbage collection: ",r):await mb(r)}await this.mr(3e5)})}}class lde{constructor(e,r){this.gr=e,this.params=r}calculateTargetCount(e,r){return this.gr.pr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return se.resolve(Es.le);const n=new ode(r);return this.gr.forEachTarget(e,a=>n.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>n.Rr(a))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.gr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.gr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(SD)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SD):this.wr(e,r))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,r){let n,a,s,o,l,c,u;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),a=this.params.maximumSequenceNumbersToCollect):a=d,o=Date.now(),this.nthSequenceNumber(e,a))).next(d=>(n=d,l=Date.now(),this.removeTargets(e,n,r))).next(d=>(s=d,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(d=>(u=Date.now(),aA()<=Mt.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-A}ms
	Determined least recently used ${a} in `+(l-o)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${d} documents in `+(u-c)+`ms
Total Duration: ${u-A}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:d})))}}function V9(t,e){return new lde(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cde{constructor(e,r){this.db=e,this.garbageCollector=V9(this,r)}pr(e){const r=this.Sr(e);return this.db.getTargetCache().getTargetCount(e).next(n=>r.next(a=>n+a))}Sr(e){let r=0;return this.yr(e,n=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}yr(e,r){return this.br(e,(n,a)=>r(a))}addReference(e,r,n){return Vg(e,n)}removeReference(e,r,n){return Vg(e,n)}removeTargets(e,r,n){return this.db.getTargetCache().removeTargets(e,r,n)}markPotentiallyOrphaned(e,r){return Vg(e,r)}Dr(e,r){return function(a,s){let o=!1;return H9(a).ne(l=>L9(a,l,s).next(c=>(c&&(o=!0),se.resolve(!c)))).next(()=>o)}(e,r)}removeOrphanedDocuments(e,r){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let s=0;return this.br(e,(o,l)=>{if(l<=r){const c=this.Dr(e,o).next(u=>{if(!u)return s++,n.getEntry(e,o).next(()=>(n.removeEntry(o,Ft.min()),Mo(e).delete(function(d){return[0,Kn(d.path)]}(o))))});a.push(c)}}).next(()=>se.waitFor(a)).next(()=>n.apply(e)).next(()=>s)}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,r){return Vg(e,r)}br(e,r){const n=Mo(e);let a,s=Es.le;return n.te({index:XT},([o,l],{path:c,sequenceNumber:u})=>{o===0?(s!==Es.le&&r(new Xe(ni(a)),s),s=u,a=c):s=Es.le}).next(()=>{s!==Es.le&&r(new Xe(ni(a)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Vg(t,e){return Mo(t).put(function(n,a){return{targetId:0,path:Kn(n.path),sequenceNumber:a}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(){this.changes=new ho(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?se.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ude{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,n){return ec(e).put(n)}removeEntry(e,r,n){return ec(e).delete(function(s,o){const l=s.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],mv(o),l[l.length-1]]}(r,n))}updateMetadata(e,r){return this.getMetadata(e).next(n=>(n.byteSize+=r,this.vr(e,n)))}getEntry(e,r){let n=Bn.newInvalidDocument(r);return ec(e).te({index:V0,range:IDBKeyRange.only(Ph(r))},(a,s)=>{n=this.Cr(r,s)}).next(()=>n)}Fr(e,r){let n={size:0,document:Bn.newInvalidDocument(r)};return ec(e).te({index:V0,range:IDBKeyRange.only(Ph(r))},(a,s)=>{n={document:this.Cr(r,s),size:gv(s)}}).next(()=>n)}getEntries(e,r){let n=Zo();return this.Mr(e,r,(a,s)=>{const o=this.Cr(a,s);n=n.insert(a,o)}).next(()=>n)}Or(e,r){let n=Zo(),a=new aa(Xe.comparator);return this.Mr(e,r,(s,o)=>{const l=this.Cr(s,o);n=n.insert(s,l),a=a.insert(s,gv(o))}).next(()=>({documents:n,Nr:a}))}Mr(e,r,n){if(r.isEmpty())return se.resolve();let a=new dr(FD);r.forEach(c=>a=a.add(c));const s=IDBKeyRange.bound(Ph(a.first()),Ph(a.last())),o=a.getIterator();let l=o.getNext();return ec(e).te({index:V0,range:s},(c,u,A)=>{const d=Xe.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;l&&FD(l,d)<0;)n(l,null),l=o.getNext();l&&l.isEqual(d)&&(n(l,u),l=o.hasNext()?o.getNext():null),l?A.H(Ph(l)):A.done()}).next(()=>{for(;l;)n(l,null),l=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,r,n,a,s){const o=r.path,l=[o.popLast().toArray(),o.lastSegment(),mv(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ec(e).J(IDBKeyRange.bound(l,c,!0)).next(u=>{s==null||s.incrementDocumentReadCount(u.length);let A=Zo();for(const d of u){const h=this.Cr(Xe.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(_b(r,h)||a.has(h.key))&&(A=A.insert(h.key,h))}return A})}getAllFromCollectionGroup(e,r,n,a){let s=Zo();const o=PD(r,n),l=PD(r,La.max());return ec(e).te({index:HV,range:IDBKeyRange.bound(o,l,!0)},(c,u,A)=>{const d=this.Cr(Xe.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(d.key,d),s.size===a&&A.done()}).next(()=>s)}newChangeBuffer(e){return new Ade(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return ID(e).get(TS).next(r=>(ot(!!r,20021),r))}vr(e,r){return ID(e).put(TS,r)}Cr(e,r){if(r){const n=WAe(this.serializer,r);if(!(n.isNoDocument()&&n.version.isEqual(Ft.min())))return n}return Bn.newInvalidDocument(e)}}function q9(t){return new ude(t)}class Ade extends K9{constructor(e,r){super(),this.Br=e,this.trackRemovals=r,this.Lr=new ho(n=>n.toString(),(n,a)=>n.isEqual(a))}applyChanges(e){const r=[];let n=0,a=new dr((s,o)=>xt(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const l=this.Lr.get(s);if(r.push(this.Br.removeEntry(e,s,l.readTime)),o.isValidDocument()){const c=mD(this.Br.serializer,o);a=a.add(s.path.popLast());const u=gv(c);n+=u-l.size,r.push(this.Br.addEntry(e,s,c))}else if(n-=l.size,this.trackRemovals){const c=mD(this.Br.serializer,o.convertToNoDocument(Ft.min()));r.push(this.Br.addEntry(e,s,c))}}),a.forEach(s=>{r.push(this.Br.indexManager.addToCollectionParentIndex(e,s))}),r.push(this.Br.updateMetadata(e,n)),se.waitFor(r)}getFromCache(e,r){return this.Br.Fr(e,r).next(n=>(this.Lr.set(r,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(e,r){return this.Br.Or(e,r).next(({documents:n,Nr:a})=>(a.forEach((s,o)=>{this.Lr.set(s,{size:o,readTime:n.get(s).readTime})}),n))}}function ID(t){return Jr(t,om)}function ec(t){return Jr(t,ov)}function Ph(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function PD(t,e){const r=e.documentKey.path.toArray();return[t,mv(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function FD(t,e){const r=t.path.toArray(),n=e.path.toArray();let a=0;for(let s=0;s<r.length-2&&s<n.length-2;++s)if(a=xt(r[s],n[s]),a)return a;return a=xt(r.length,n.length),a||(a=xt(r[r.length-2],n[n.length-2]),a||xt(r[r.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dde{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e,r,n,a){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(e,r))).next(a=>(n!==null&&If(n.mutation,a,Za.empty(),Ir.now()),a))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Gr()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Gr()){const a=ai();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,n).next(s=>{let o=Hg();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=ai();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Gr()))}populateOverlays(e,r,n){const a=[];return n.forEach(s=>{r.has(s)||a.push(s)}),this.documentOverlayCache.getOverlays(e,a).next(s=>{s.forEach((o,l)=>{r.set(o,l)})})}computeViews(e,r,n,a){let s=Zo();const o=kf(),l=function(){return kf()}();return r.forEach((c,u)=>{const A=n.get(u.key);a.has(u.key)&&(A===void 0||A.mutation instanceof Rl)?s=s.insert(u.key,u):A!==void 0?(o.set(u.key,A.mutation.getFieldMask()),If(A.mutation,u,A.mutation.getFieldMask(),Ir.now())):o.set(u.key,Za.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,A)=>o.set(u,A)),r.forEach((u,A)=>{var d;return l.set(u,new dde(A,(d=o.get(u))!==null&&d!==void 0?d:null))}),l))}recalculateAndSaveOverlays(e,r){const n=kf();let a=new aa((o,l)=>o-l),s=Gr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=r.get(c);if(u===null)return;let A=n.get(c)||Za.empty();A=l.applyToLocalView(u,A),n.set(c,A);const d=(a.get(l.batchId)||Gr()).add(c);a=a.insert(l.batchId,d)})}).next(()=>{const o=[],l=a.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,A=c.value,d=x9();A.forEach(h=>{if(!s.has(h)){const f=B9(r.get(h),n.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return se.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,a){return function(o){return Xe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):hAe(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,a):this.getDocumentsMatchingCollectionQuery(e,r,n,a)}getNextDocuments(e,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,a).next(s=>{const o=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,a-s.size):se.resolve(ai());let l=nm,c=s;return o.next(u=>se.forEach(u,(A,d)=>(l<d.largestBatchId&&(l=d.largestBatchId),s.get(A)?se.resolve():this.remoteDocumentCache.getEntry(e,A).next(h=>{c=c.insert(A,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Gr())).next(A=>({batchId:l,changes:g9(A)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Xe(r)).next(n=>{let a=Hg();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(e,r,n,a){const s=r.collectionGroup;let o=Hg();return this.indexManager.getCollectionParents(e,s).next(l=>se.forEach(l,c=>{const u=function(d,h){return new wb(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,n,a).next(A=>{A.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,a){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,a))).next(o=>{s.forEach((c,u)=>{const A=u.getKey();o.get(A)===null&&(o=o.insert(A,Bn.newInvalidDocument(A)))});let l=Hg();return o.forEach((c,u)=>{const A=s.get(c);A!==void 0&&If(A.mutation,u,Za.empty(),Ir.now()),_b(r,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hde{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,r){return se.resolve(this.kr.get(r))}saveBundleMetadata(e,r){return this.kr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:Is(a.createTime)}}(r)),se.resolve()}getNamedQuery(e,r){return se.resolve(this.qr.get(r))}saveNamedQuery(e,r){return this.qr.set(r.name,function(a){return{name:a.name,query:O9(a.bundledQuery),readTime:Is(a.readTime)}}(r)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fde{constructor(){this.overlays=new aa(Xe.comparator),this.Qr=new Map}getOverlay(e,r){return se.resolve(this.overlays.get(r))}getOverlays(e,r){const n=ai();return se.forEach(r,a=>this.getOverlay(e,a).next(s=>{s!==null&&n.set(a,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((a,s)=>{this.bt(e,r,s)}),se.resolve()}removeOverlaysForBatchId(e,r,n){const a=this.Qr.get(n);return a!==void 0&&(a.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(n)),se.resolve()}getOverlaysForCollection(e,r,n){const a=ai(),s=r.length+1,o=new Xe(r.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>n&&a.set(c.getKey(),c)}return se.resolve(a)}getOverlaysForCollectionGroup(e,r,n,a){let s=new aa((u,A)=>u-A);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let A=s.get(u.largestBatchId);A===null&&(A=ai(),s=s.insert(u.largestBatchId,A)),A.set(u.getKey(),u)}}const l=ai(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,A)=>l.set(u,A)),!(l.size()>=a)););return se.resolve(l)}bt(e,r,n){const a=this.overlays.get(n.key);if(a!==null){const o=this.Qr.get(a.largestBatchId).delete(n.key);this.Qr.set(a.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new uk(r,n));let s=this.Qr.get(r);s===void 0&&(s=Gr(),this.Qr.set(r,s)),this.Qr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mde{constructor(){this.sessionToken=va.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(){this.$r=new dr(an.Ur),this.Kr=new dr(an.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,r){const n=new an(e,r);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.zr(new an(e,r))}jr(e,r){e.forEach(n=>this.removeReference(n,r))}Hr(e){const r=new Xe(new ur([])),n=new an(r,e),a=new an(r,e+1),s=[];return this.Kr.forEachInRange([n,a],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const r=new Xe(new ur([])),n=new an(r,e),a=new an(r,e+1);let s=Gr();return this.Kr.forEachInRange([n,a],o=>{s=s.add(o.key)}),s}containsKey(e){const r=new an(e,0),n=this.$r.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class an{constructor(e,r){this.key=e,this.Zr=r}static Ur(e,r){return Xe.comparator(e.key,r.key)||xt(e.Zr,r.Zr)}static Wr(e,r){return xt(e.Zr,r.Zr)||Xe.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pde{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.nr=1,this.Xr=new dr(an.Ur)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,a){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new lk(s,r,n,a);this.mutationQueue.push(o);for(const l of a)this.Xr=this.Xr.add(new an(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return se.resolve(o)}lookupMutationBatch(e,r){return se.resolve(this.ei(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,a=this.ti(n),s=a<0?0:a;return se.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Rc:this.nr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new an(r,0),a=new an(r,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([n,a],o=>{const l=this.ei(o.Zr);s.push(l)}),se.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new dr(xt);return r.forEach(a=>{const s=new an(a,0),o=new an(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],l=>{n=n.add(l.Zr)})}),se.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,a=n.length+1;let s=n;Xe.isDocumentKey(s)||(s=s.child(""));const o=new an(new Xe(s),0);let l=new dr(xt);return this.Xr.forEachWhile(c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===a&&(l=l.add(c.Zr)),!0)},o),se.resolve(this.ni(l))}ni(e){const r=[];return e.forEach(n=>{const a=this.ei(n);a!==null&&r.push(a)}),r}removeMutationBatch(e,r){ot(this.ri(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Xr;return se.forEach(r.mutations,a=>{const s=new an(a.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=n})}sr(e){}containsKey(e,r){const n=new an(r,0),a=this.Xr.firstAfterOrEqual(n);return se.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ri(e,r){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const r=this.ti(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gde{constructor(e){this.ii=e,this.docs=function(){return new aa(Xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,a=this.docs.get(n),s=a?a.size:0,o=this.ii(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return se.resolve(n?n.document.mutableCopy():Bn.newInvalidDocument(r))}getEntries(e,r){let n=Zo();return r.forEach(a=>{const s=this.docs.get(a);n=n.insert(a,s?s.document.mutableCopy():Bn.newInvalidDocument(a))}),se.resolve(n)}getDocumentsMatchingQuery(e,r,n,a){let s=Zo();const o=r.path,l=new Xe(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:A}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||zT(RV(A),n)<=0||(a.has(A.key)||_b(r,A))&&(s=s.insert(A.key,A.mutableCopy()))}return se.resolve(s)}getAllFromCollectionGroup(e,r,n,a){rt(9500)}si(e,r){return se.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new xde(this)}getSize(e){return se.resolve(this.size)}}class xde extends K9{constructor(e){super(),this.Br=e}applyChanges(e){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.Br.addEntry(e,a)):this.Br.removeEntry(n)}),se.waitFor(r)}getFromCache(e,r){return this.Br.getEntry(e,r)}getAllFromCache(e,r){return this.Br.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vde{constructor(e){this.persistence=e,this.oi=new ho(r=>Xc(r),Dp),this.lastRemoteSnapshotVersion=Ft.min(),this.highestTargetId=0,this._i=0,this.ai=new fk,this.targetCount=0,this.ui=Zc.cr()}forEachTarget(e,r){return this.oi.forEach((n,a)=>r(a)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this._i&&(this._i=r),se.resolve()}Tr(e){this.oi.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ui=new Zc(r),this.highestTargetId=r),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,r){return this.Tr(r),this.targetCount+=1,se.resolve()}updateTargetData(e,r){return this.Tr(r),se.resolve()}removeTargetData(e,r){return this.oi.delete(r.target),this.ai.Hr(r.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,r,n){let a=0;const s=[];return this.oi.forEach((o,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),a++)}),se.waitFor(s).next(()=>a)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,r){const n=this.oi.get(r)||null;return se.resolve(n)}addMatchingKeys(e,r,n){return this.ai.Gr(r,n),se.resolve()}removeMatchingKeys(e,r,n){this.ai.jr(r,n);const a=this.persistence.referenceDelegate,s=[];return a&&r.forEach(o=>{s.push(a.markPotentiallyOrphaned(e,o))}),se.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.ai.Hr(r),se.resolve()}getMatchingKeysForTargetId(e,r){const n=this.ai.Yr(r);return se.resolve(n)}containsKey(e,r){return se.resolve(this.ai.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,r){this.ci={},this.overlays={},this.li=new Es(0),this.hi=!1,this.hi=!0,this.Pi=new mde,this.referenceDelegate=e(this),this.Ti=new vde(this),this.indexManager=new nde,this.remoteDocumentCache=function(a){return new gde(a)}(n=>this.referenceDelegate.Ii(n)),this.serializer=new F9(r),this.Ei=new hde(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new fde,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ci[e.toKey()];return n||(n=new pde(r,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,r,n){Ne("MemoryPersistence","Starting transaction:",e);const a=new yde(this.li.next());return this.referenceDelegate.di(),n(a).next(s=>this.referenceDelegate.Ai(a).next(()=>s)).toPromise().then(s=>(a.raiseOnCommittedEvent(),s))}Ri(e,r){return se.or(Object.values(this.ci).map(n=>()=>n.containsKey(e,r)))}}class yde extends MV{constructor(e){super(),this.currentSequenceNumber=e}}class Sb{constructor(e){this.persistence=e,this.Vi=new fk,this.mi=null}static fi(e){return new Sb(e)}get gi(){if(this.mi)return this.mi;throw rt(60996)}addReference(e,r,n){return this.Vi.addReference(n,r),this.gi.delete(n.toString()),se.resolve()}removeReference(e,r,n){return this.Vi.removeReference(n,r),this.gi.add(n.toString()),se.resolve()}markPotentiallyOrphaned(e,r){return this.gi.add(r.toString()),se.resolve()}removeTarget(e,r){this.Vi.Hr(r.targetId).forEach(a=>this.gi.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(a=>{a.forEach(s=>this.gi.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}di(){this.mi=new Set}Ai(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.gi,n=>{const a=Xe.fromPath(n);return this.pi(e,a).next(s=>{s||r.removeEntry(a,Ft.min())})}).next(()=>(this.mi=null,r.apply(e)))}updateLimboDocument(e,r){return this.pi(e,r).next(n=>{n?this.gi.delete(r.toString()):this.gi.add(r.toString())})}Ii(e){return 0}pi(e,r){return se.or([()=>se.resolve(this.Vi.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ri(e,r)])}}class xv{constructor(e,r){this.persistence=e,this.yi=new ho(n=>Kn(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=V9(this,r)}static fi(e,r){return new xv(e,r)}di(){}Ai(e){return se.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}pr(e){const r=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(a=>n+a))}Sr(e){let r=0;return this.yr(e,n=>{r++}).next(()=>r)}yr(e,r){return se.forEach(this.yi,(n,a)=>this.Dr(e,n,a).next(s=>s?se.resolve():r(a)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.si(e,o=>this.Dr(e,o,r).next(l=>{l||(n++,s.removeEntry(o,Ft.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.yi.set(r,e.currentSequenceNumber),se.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.yi.set(n,e.currentSequenceNumber),se.resolve()}removeReference(e,r,n){return this.yi.set(n,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,r){return this.yi.set(r,e.currentSequenceNumber),se.resolve()}Ii(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=q0(e.data.value)),r}Dr(e,r,n){return se.or([()=>this.persistence.Ri(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const a=this.yi.get(r);return se.resolve(a!==void 0&&a>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bde{constructor(e){this.serializer=e}q(e,r,n,a){const s=new pb("createOrUpgrade",r);n<1&&a>=1&&(function(c){c.createObjectStore(Fp)}(e),function(c){c.createObjectStore(im,{keyPath:Eue}),c.createObjectStore(vs,{keyPath:WF,autoIncrement:!0}).createIndex(wc,XF,{unique:!0}),c.createObjectStore(XA)}(e),DD(e),function(c){c.createObjectStore(cc)}(e));let o=se.resolve();return n<3&&a>=3&&(n!==0&&(function(c){c.deleteObjectStore(JA),c.deleteObjectStore(YA),c.deleteObjectStore(Uc)}(e),DD(e)),o=o.next(()=>function(c){const u=c.store(Uc),A={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ft.min().toTimestamp(),targetCount:0};return u.put(lv,A)}(s))),n<4&&a>=4&&(n!==0&&(o=o.next(()=>function(c,u){return u.store(vs).J().next(d=>{c.deleteObjectStore(vs),c.createObjectStore(vs,{keyPath:WF,autoIncrement:!0}).createIndex(wc,XF,{unique:!0});const h=u.store(vs),f=d.map(m=>h.put(m));return se.waitFor(f)})}(e,s))),o=o.next(()=>{(function(c){c.createObjectStore(ZA,{keyPath:Oue})})(e)})),n<5&&a>=5&&(o=o.next(()=>this.wi(s))),n<6&&a>=6&&(o=o.next(()=>(function(c){c.createObjectStore(om)}(e),this.Si(s)))),n<7&&a>=7&&(o=o.next(()=>this.bi(s))),n<8&&a>=8&&(o=o.next(()=>this.Di(e,s))),n<9&&a>=9&&(o=o.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),n<10&&a>=10&&(o=o.next(()=>this.Ci(s))),n<11&&a>=11&&(o=o.next(()=>{(function(c){c.createObjectStore(xb,{keyPath:Rue})})(e),function(c){c.createObjectStore(vb,{keyPath:Uue})}(e)})),n<12&&a>=12&&(o=o.next(()=>{(function(c){const u=c.createObjectStore(yb,{keyPath:Kue});u.createIndex(IS,que,{unique:!1}),u.createIndex(qV,Gue,{unique:!1})})(e)})),n<13&&a>=13&&(o=o.next(()=>function(c){const u=c.createObjectStore(ov,{keyPath:Nue});u.createIndex(V0,Tue),u.createIndex(HV,kue)}(e)).next(()=>this.Fi(e,s)).next(()=>e.deleteObjectStore(cc))),n<14&&a>=14&&(o=o.next(()=>this.Mi(e,s))),n<15&&a>=15&&(o=o.next(()=>function(c){c.createObjectStore(YT,{keyPath:Mue,autoIncrement:!0}).createIndex(kS,Que,{unique:!1}),c.createObjectStore(Ef,{keyPath:Lue}).createIndex(VV,Hue,{unique:!1}),c.createObjectStore(Sf,{keyPath:$ue}).createIndex(KV,Vue,{unique:!1})}(e))),n<16&&a>=16&&(o=o.next(()=>{r.objectStore(Ef).clear()}).next(()=>{r.objectStore(Sf).clear()})),n<17&&a>=17&&(o=o.next(()=>{(function(c){c.createObjectStore(JT,{keyPath:zue})})(e)})),n<18&&a>=18&&vV()&&(o=o.next(()=>{r.objectStore(Ef).clear()}).next(()=>{r.objectStore(Sf).clear()})),o}Si(e){let r=0;return e.store(cc).te((n,a)=>{r+=gv(a)}).next(()=>{const n={byteSize:r};return e.store(om).put(TS,n)})}wi(e){const r=e.store(im),n=e.store(vs);return r.J().next(a=>se.forEach(a,s=>{const o=IDBKeyRange.bound([s.userId,Rc],[s.userId,s.lastAcknowledgedBatchId]);return n.J(wc,o).next(l=>se.forEach(l,c=>{ot(c.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const u=pc(this.serializer,c);return Q9(e,s.userId,u).next(()=>{})}))}))}bi(e){const r=e.store(JA),n=e.store(cc);return e.store(Uc).get(lv).next(a=>{const s=[];return n.te((o,l)=>{const c=new ur(o),u=function(d){return[0,Kn(d)]}(c);s.push(r.get(u).next(A=>A?se.resolve():(d=>r.put({targetId:0,path:Kn(d),sequenceNumber:a.highestListenSequenceNumber}))(c)))}).next(()=>se.waitFor(s))})}Di(e,r){e.createObjectStore(lm,{keyPath:Due});const n=r.store(lm),a=new hk,s=o=>{if(a.add(o)){const l=o.lastSegment(),c=o.popLast();return n.put({collectionId:l,parent:Kn(c)})}};return r.store(cc).te({ee:!0},(o,l)=>{const c=new ur(o);return s(c.popLast())}).next(()=>r.store(XA).te({ee:!0},([o,l,c],u)=>{const A=ni(l);return s(A.popLast())}))}Ci(e){const r=e.store(YA);return r.te((n,a)=>{const s=af(a),o=D9(this.serializer,s);return r.put(o)})}Fi(e,r){const n=r.store(cc),a=[];return n.te((s,o)=>{const l=r.store(ov),c=function(d){return d.document?new Xe(ur.fromString(d.document.name).popFirst(5)):d.noDocument?Xe.fromSegments(d.noDocument.path):d.unknownDocument?Xe.fromSegments(d.unknownDocument.path):rt(36783)}(o).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};a.push(l.put(u))}).next(()=>se.waitFor(a))}Mi(e,r){const n=r.store(vs),a=q9(this.serializer),s=new mk(Sb.fi,this.serializer.wt);return n.J().next(o=>{const l=new Map;return o.forEach(c=>{var u;let A=(u=l.get(c.userId))!==null&&u!==void 0?u:Gr();pc(this.serializer,c).keys().forEach(d=>A=A.add(d)),l.set(c.userId,A)}),se.forEach(l,(c,u)=>{const A=new bn(u),d=jb.St(this.serializer,A),h=s.getIndexManager(A),f=Eb.St(A,this.serializer,h,s.referenceDelegate);return new G9(a,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new PS(r,Es.le),c).next()})})}}function DD(t){t.createObjectStore(JA,{keyPath:Pue}).createIndex(XT,Fue,{unique:!0}),t.createObjectStore(YA,{keyPath:"targetId"}).createIndex($V,Iue,{unique:!0}),t.createObjectStore(Uc)}const Co="IndexedDbPersistence",w1=18e5,_1=5e3,B1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",wde="main";class pk{constructor(e,r,n,a,s,o,l,c,u,A,d=18){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=n,this.xi=s,this.window=o,this.document=l,this.Oi=u,this.Ni=A,this.Bi=d,this.li=null,this.hi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Li=null,this.inForeground=!1,this.ki=null,this.qi=null,this.Qi=Number.NEGATIVE_INFINITY,this.$i=h=>Promise.resolve(),!pk.C())throw new Je(ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cde(this,a),this.Ui=r+wde,this.serializer=new F9(c),this.Ki=new ll(this.Ui,this.Bi,new bde(this.serializer)),this.Pi=new YAe,this.Ti=new sde(this.referenceDelegate,this.serializer),this.remoteDocumentCache=q9(this.serializer),this.Ei=new XAe,this.window&&this.window.localStorage?this.Wi=this.window.localStorage:(this.Wi=null,A===!1&&Da(Co,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Gi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Je(ye.FAILED_PRECONDITION,B1);return this.zi(),this.ji(),this.Hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ti.getHighestSequenceNumber(e))}).then(e=>{this.li=new Es(e,this.Oi)}).then(()=>{this.hi=!0}).catch(e=>(this.Ki&&this.Ki.close(),Promise.reject(e)))}Ji(e){return this.$i=async r=>{if(this.started)return e(r)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ki.U(async r=>{r.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.xi.enqueueAndForget(async()=>{this.started&&await this.Gi()}))}Gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Kg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Yi(e).next(r=>{r||(this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)))})}).next(()=>this.Zi(e)).next(r=>this.isPrimary&&!r?this.Xi(e).next(()=>!1):!!r&&this.es(e).next(()=>!0))).catch(e=>{if(fu(e))return Ne(Co,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ne(Co,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.xi.enqueueRetryable(()=>this.$i(e)),this.isPrimary=e})}Yi(e){return Fh(e).get(Pu).next(r=>se.resolve(this.ts(r)))}ns(e){return Kg(e).delete(this.clientId)}async rs(){if(this.isPrimary&&!this.ss(this.Qi,w1)){this.Qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const n=Jr(r,ZA);return n.J().next(a=>{const s=this._s(a,w1),o=a.filter(l=>s.indexOf(l)===-1);return se.forEach(o,l=>n.delete(l.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Wi)for(const r of e)this.Wi.removeItem(this.us(r.clientId))}}Hi(){this.qi=this.xi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Gi().then(()=>this.rs()).then(()=>this.Hi()))}ts(e){return!!e&&e.ownerId===this.clientId}Zi(e){return this.Ni?se.resolve(!0):Fh(e).get(Pu).next(r=>{if(r!==null&&this.ss(r.leaseTimestampMs,_1)&&!this.cs(r.ownerId)){if(this.ts(r)&&this.networkEnabled)return!0;if(!this.ts(r)){if(!r.allowTabSynchronization)throw new Je(ye.FAILED_PRECONDITION,B1);return!1}}return!(!this.networkEnabled||!this.inForeground)||Kg(e).J().next(n=>this._s(n,_1).find(a=>{if(this.clientId!==a.clientId){const s=!this.networkEnabled&&a.networkEnabled,o=!this.inForeground&&a.inForeground,l=this.networkEnabled===a.networkEnabled;if(s||o&&l)return!0}return!1})===void 0)}).next(r=>(this.isPrimary!==r&&Ne(Co,`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}async shutdown(){this.hi=!1,this.ls(),this.qi&&(this.qi.cancel(),this.qi=null),this.hs(),this.Ps(),await this.Ki.runTransaction("shutdown","readwrite",[Fp,ZA],e=>{const r=new PS(e,Es.le);return this.Xi(r).next(()=>this.ns(r))}),this.Ki.close(),this.Ts()}_s(e,r){return e.filter(n=>this.ss(n.updateTimeMs,r)&&!this.cs(n.clientId))}Is(){return this.runTransaction("getActiveClients","readonly",e=>Kg(e).J().next(r=>this._s(r,w1).map(n=>n.clientId)))}get started(){return this.hi}getGlobalsCache(){return this.Pi}getMutationQueue(e,r){return Eb.St(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ade(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return jb.St(this.serializer,e)}getBundleCache(){return this.Ei}runTransaction(e,r,n){Ne(Co,"Starting transaction:",e);const a=r==="readonly"?"readonly":"readwrite",s=function(c){return c===18?Yue:c===17?XV:c===16?Xue:c===15?ZT:c===14?WV:c===13?zV:c===12?Wue:c===11?GV:void rt(60245)}(this.Bi);let o;return this.Ki.runTransaction(e,a,s,l=>(o=new PS(l,this.li?this.li.next():Es.le),r==="readwrite-primary"?this.Yi(o).next(c=>!!c||this.Zi(o)).next(c=>{if(!c)throw Da(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)),new Je(ye.FAILED_PRECONDITION,UV);return n(o)}).next(c=>this.es(o).next(()=>c)):this.Es(o).next(()=>n(o)))).then(l=>(o.raiseOnCommittedEvent(),l))}Es(e){return Fh(e).get(Pu).next(r=>{if(r!==null&&this.ss(r.leaseTimestampMs,_1)&&!this.cs(r.ownerId)&&!this.ts(r)&&!(this.Ni||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Je(ye.FAILED_PRECONDITION,B1)})}es(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fh(e).put(Pu,r)}static C(){return ll.C()}Xi(e){const r=Fh(e);return r.get(Pu).next(n=>this.ts(n)?(Ne(Co,"Releasing primary lease."),r.delete(Pu)):se.resolve())}ss(e,r){const n=Date.now();return!(e<n-r)&&(!(e>n)||(Da(`Detected an update time that is in the future: ${e} > ${n}`),!1))}zi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ki=()=>{this.xi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Gi()))},this.document.addEventListener("visibilitychange",this.ki),this.inForeground=this.document.visibilityState==="visible")}hs(){this.ki&&(this.document.removeEventListener("visibilitychange",this.ki),this.ki=null)}ji(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Li=()=>{this.ls();const r=/(?:Version|Mobile)\/1[456]/;xV()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.xi.enterRestrictedMode(!0),this.xi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Li))}Ps(){this.Li&&(this.window.removeEventListener("pagehide",this.Li),this.Li=null)}cs(e){var r;try{const n=((r=this.Wi)===null||r===void 0?void 0:r.getItem(this.us(e)))!==null;return Ne(Co,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Da(Co,"Failed to get zombied client id.",n),!1}}ls(){if(this.Wi)try{this.Wi.setItem(this.us(this.clientId),String(Date.now()))}catch(e){Da("Failed to set zombie client id.",e)}}Ts(){if(this.Wi)try{this.Wi.removeItem(this.us(this.clientId))}catch{}}us(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Fh(t){return Jr(t,Fp)}function Kg(t){return Jr(t,ZA)}function _de(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,r,n,a){this.targetId=e,this.fromCache=r,this.ds=n,this.As=a}static Rs(e,r){let n=Gr(),a=Gr();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new gk(e,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bde{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return xV()?8:QV(rv())>0?6:4}()}initialize(e,r){this.ys=e,this.indexManager=r,this.Vs=!0}getDocumentsMatchingQuery(e,r,n,a){const s={result:null};return this.ws(e,r).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ss(e,r,a,n).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Bde;return this.bs(e,r,o).next(l=>{if(s.result=l,this.fs)return this.Ds(e,r,o,l.size)})}).next(()=>s.result)}Ds(e,r,n,a){return n.documentReadCount<this.gs?(aA()<=Mt.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Nh(r),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),se.resolve()):(aA()<=Mt.DEBUG&&Ne("QueryEngine","Query:",Nh(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ps*a?(aA()<=Mt.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Nh(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(r))):se.resolve())}ws(e,r){if(cD(r))return se.resolve(null);let n=Vi(r);return this.indexManager.getIndexType(e,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=MS(r,null,"F"),n=Vi(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const o=Gr(...s);return this.ys.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,n).next(c=>{const u=this.vs(r,l);return this.Cs(r,u,o,c.readTime)?this.ws(e,MS(r,null,"F")):this.Fs(e,u,r,c)}))})))}Ss(e,r,n,a){return cD(r)||a.isEqual(Ft.min())?se.resolve(null):this.ys.getDocuments(e,n).next(s=>{const o=this.vs(r,s);return this.Cs(r,o,n,a)?se.resolve(null):(aA()<=Mt.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Nh(r)),this.Fs(e,o,r,yue(a,nm)).next(l=>l))})}vs(e,r){let n=new dr(mAe(e));return r.forEach((a,s)=>{_b(e,s)&&(n=n.add(s))}),n}Cs(e,r,n,a){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}bs(e,r,n){return aA()<=Mt.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Nh(r)),this.ys.getDocumentsMatchingQuery(e,r,La.min(),n)}Fs(e,r,n,a){return this.ys.getDocumentsMatchingQuery(e,n,a).next(s=>(r.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cde="LocalStore";class jde{constructor(e,r,n,a){this.persistence=e,this.Ms=r,this.serializer=a,this.xs=new aa(xt),this.Os=new ho(s=>Xc(s),Dp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new G9(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.xs))}}function W9(t,e,r,n){return new jde(t,e,r,n)}async function X9(t,e){const r=mr(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(s=>(a=s,r.Ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const o=[],l=[];let c=Gr();for(const u of a){o.push(u.batchId);for(const A of u.mutations)c=c.add(A.key)}for(const u of s){l.push(u.batchId);for(const A of u.mutations)c=c.add(A.key)}return r.localDocuments.getDocuments(n,c).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:l}))})})}function Ede(t,e){const r=mr(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=e.batch.keys(),s=r.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,A){const d=u.batch,h=d.keys();let f=se.resolve();return h.forEach(m=>{f=f.next(()=>A.getEntry(c,m)).next(g=>{const p=u.docVersions.get(m);ot(p!==null,48541),g.version.compareTo(p)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),A.addEntry(g)))})}),f.next(()=>l.mutationQueue.removeMutationBatch(c,d))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let c=Gr();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,a))})}function Sde(t){const e=mr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ti.getLastRemoteSnapshotVersion(r))}function Nde(t,e){const r=mr(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=Rc),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}class OD{constructor(){this.activeTargetIds=bAe()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Y9{constructor(){this.xo=new OD,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,r,n){this.Oo[e]=r}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new OD,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tde{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="ConnectivityMonitor";class UD{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Ne(RD,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Ne(RD,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qg=null;function KS(){return qg===null?qg=function(){return 268435456+Math.round(2147483648*Math.random())}():qg++,"0x"+qg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="RestConnection",kde={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ide{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=r+"://"+e.host,this.Wo=`projects/${n}/databases/${a}`,this.Go=this.databaseId.database===uv?`project_id=${n}`:`project_id=${n}&database_id=${a}`}zo(e,r,n,a,s){const o=KS(),l=this.jo(e,r.toUriEncodedString());Ne(C1,`Sending RPC '${e}' ${o}:`,l,n);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,a,s);const{host:u}=new URL(l),A=$T(u);return this.Jo(e,l,c,n,A).then(d=>(Ne(C1,`Received RPC '${e}' ${o}: `,d),d),d=>{throw Pp(C1,`RPC '${e}' ${o} failed with error: `,d,"url: ",l,"request:",n),d})}Yo(e,r,n,a,s,o){return this.zo(e,r,n,a,s)}Ho(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,s)=>e[s]=a),n&&n.headers.forEach((a,s)=>e[s]=a)}jo(e,r){const n=kde[e];return`${this.Ko}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pde{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection";class Fde extends Ide{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,a,s){const o=KS();return new Promise((l,c)=>{const u=new SV;u.setWithCredentials(!0),u.listenOnce(NV.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case L0.NO_ERROR:const d=u.getResponseJson();Ne(Rn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),l(d);break;case L0.TIMEOUT:Ne(Rn,`RPC '${e}' ${o} timed out`),c(new Je(ye.DEADLINE_EXCEEDED,"Request time out"));break;case L0.HTTP_ERROR:const h=u.getStatus();if(Ne(Rn,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let f=u.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const g=function(b){const x=b.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(x)>=0?x:ye.UNKNOWN}(m.status);c(new Je(g,m.message))}else c(new Je(ye.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Je(ye.UNAVAILABLE,"Connection failed."));break;default:rt(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Ne(Rn,`RPC '${e}' ${o} completed.`)}});const A=JSON.stringify(a);Ne(Rn,`RPC '${e}' ${o} sending request:`,a),u.send(r,"POST",A,n,15)})}T_(e,r,n){const a=KS(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=IV(),l=kV(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const A=s.join("");Ne(Rn,`Creating RPC '${e}' stream ${a}: ${A}`,c);const d=o.createWebChannel(A,c);let h=!1,f=!1;const m=new Pde({Zo:p=>{f?Ne(Rn,`Not sending because RPC '${e}' stream ${a} is closed:`,p):(h||(Ne(Rn,`Opening RPC '${e}' stream ${a} transport.`),d.open(),h=!0),Ne(Rn,`RPC '${e}' stream ${a} sending:`,p),d.send(p))},Xo:()=>d.close()}),g=(p,b,x)=>{p.listen(b,w=>{try{x(w)}catch(y){setTimeout(()=>{throw y},0)}})};return g(d,nf.EventType.OPEN,()=>{f||(Ne(Rn,`RPC '${e}' stream ${a} transport opened.`),m.__())}),g(d,nf.EventType.CLOSE,()=>{f||(f=!0,Ne(Rn,`RPC '${e}' stream ${a} transport closed`),m.u_())}),g(d,nf.EventType.ERROR,p=>{f||(f=!0,Pp(Rn,`RPC '${e}' stream ${a} transport errored. Name:`,p.name,"Message:",p.message),m.u_(new Je(ye.UNAVAILABLE,"The operation could not be completed")))}),g(d,nf.EventType.MESSAGE,p=>{var b;if(!f){const x=p.data[0];ot(!!x,16349);const w=x,y=(w==null?void 0:w.error)||((b=w[0])===null||b===void 0?void 0:b.error);if(y){Ne(Rn,`RPC '${e}' stream ${a} received error:`,y);const C=y.status;let E=function(N){const S=Mr[N];if(S!==void 0)return kAe(S)}(C),B=y.message;E===void 0&&(E=ye.INTERNAL,B="Unknown error status: "+C+" with message "+y.message),f=!0,m.u_(new Je(E,B)),d.close()}else Ne(Rn,`RPC '${e}' stream ${a} received:`,x),m.c_(x)}}),g(l,TV.STAT_EVENT,p=>{p.stat===ES.PROXY?Ne(Rn,`RPC '${e}' stream ${a} detected buffering proxy`):p.stat===ES.NOPROXY&&Ne(Rn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{m.a_()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dde(){return typeof window<"u"?window:null}function Y0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(t){return new DAe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e,r,n=1e3,a=1.5,s=6e4){this.xi=e,this.timerId=r,this.I_=n,this.E_=a,this.d_=s,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const r=Math.floor(this.A_+this.g_()),n=Math.max(0,Date.now()-this.V_),a=Math.max(0,r-n);a>0&&Ne("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.A_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="PersistentStream";class Ode{constructor(e,r,n,a,s,o,l,c){this.xi=e,this.y_=n,this.w_=a,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new J9(e,r)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,r){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():r&&r.code===ye.RESOURCE_EXHAUSTED?(Da(r.toString()),Da("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):r&&r.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(r)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),r=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.S_===r&&this.K_(n,a)},n=>{e(()=>{const a=new Je(ye.UNKNOWN,"Fetching auth token failed: "+n.message);return this.W_(a)})})}K_(e,r){const n=this.U_(this.S_);this.stream=this.G_(e,r),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{n(()=>this.W_(a))}),this.stream.onMessage(a=>{n(()=>++this.v_==1?this.z_(a):this.onNext(a))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return Ne(MD,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return r=>{this.xi.enqueueAndForget(()=>this.S_===e?r():(Ne(MD,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Rde extends Ode{constructor(e,r,n,a,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,o),this.serializer=s}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,r){return this.connection.T_("Write",e,r)}z_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const r=LAe(e.writeResults,e.commitTime),n=Is(e.commitTime);return this.listener.ea(n,r)}ta(){const e={};e.database=MAe(this.serializer),this.L_(e)}Z_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>fv(this.serializer,n))};this.L_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ude{}class Mde extends Ude{constructor(e,r,n,a){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.na=!1}ra(){if(this.na)throw new Je(ye.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,r,n,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(e,QS(r,n),a,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Je(ye.UNKNOWN,s.toString())})}Yo(e,r,n,a,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Yo(e,QS(r,n),a,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Je(ye.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class Qde{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Da(r),this.oa=!1):Ne("OnlineStateTracker",r)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="RemoteStore";class Lde{constructor(e,r,n,a,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=s,this.Ea.No(o=>{n.enqueueAndForget(async()=>{Up(this)&&(Ne(Op,"Restarting streams for network reachability change."),await async function(c){const u=mr(c);u.Ta.add(4),await Rp(u),u.da.set("Unknown"),u.Ta.delete(4),await Tb(u)}(this))})}),this.da=new Qde(n,a)}}async function Tb(t){if(Up(t))for(const e of t.Ia)await e(!0)}async function Rp(t){for(const e of t.Ia)await e(!1)}function Up(t){return mr(t).Ta.size===0}async function Z9(t,e,r){if(!fu(e))throw e;t.Ta.add(1),await Rp(t),t.da.set("Offline"),r||(r=()=>Sde(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ne(Op,"Retrying IndexedDB access"),await r(),t.Ta.delete(1),await Tb(t)})}function e7(t,e){return e().catch(r=>Z9(t,r,e))}async function Mp(t){const e=mr(t),r=Bl(e);let n=e.ha.length>0?e.ha[e.ha.length-1].batchId:Rc;for(;Hde(e);)try{const a=await Nde(e.localStore,n);if(a===null){e.ha.length===0&&r.N_();break}n=a.batchId,$de(e,a)}catch(a){await Z9(e,a)}t7(e)&&r7(e)}function Hde(t){return Up(t)&&t.ha.length<10}function $de(t,e){t.ha.push(e);const r=Bl(t);r.M_()&&r.Y_&&r.Z_(e.mutations)}function t7(t){return Up(t)&&!Bl(t).F_()&&t.ha.length>0}function r7(t){Bl(t).start()}async function Vde(t){Bl(t).ta()}async function Kde(t){const e=Bl(t);for(const r of t.ha)e.Z_(r.mutations)}async function qde(t,e,r){const n=t.ha.shift(),a=ck.from(n,e,r);await e7(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Mp(t)}async function Gde(t,e){e&&Bl(t).Y_&&await async function(n,a){if(function(o){return TAe(o)&&o!==ye.ABORTED}(a.code)){const s=n.ha.shift();Bl(n).O_(),await e7(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,a)),await Mp(n)}}(t,e),t7(t)&&r7(t)}async function QD(t,e){const r=mr(t);r.asyncQueue.verifyOperationInProgress(),Ne(Op,"RemoteStore received new credentials");const n=Up(r);r.Ta.add(3),await Rp(r),n&&r.da.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ta.delete(3),await Tb(r)}async function zde(t,e){const r=mr(t);e?(r.Ta.delete(2),await Tb(r)):e||(r.Ta.add(2),await Rp(r),r.da.set("Unknown"))}function Bl(t){return t.Va||(t.Va=function(r,n,a){const s=mr(r);return s.ra(),new Rde(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:Vde.bind(null,t),i_:Gde.bind(null,t),X_:Kde.bind(null,t),ea:qde.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await Mp(t)):(await t.Va.stop(),t.ha.length>0&&(Ne(Op,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,r,n,a,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=s,this.deferred=new ol,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,a,s){const o=Date.now()+n,l=new xk(e,r,o,a,s);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Je(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function n7(t,e){if(Da("AsyncQueue",`${e}: ${t}`),fu(t))return new Je(ye.UNAVAILABLE,`${e}: ${t}`);throw t}class Wde{constructor(){this.queries=LD(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(r,n){const a=mr(r),s=a.queries;a.queries=LD(),s.forEach((o,l)=>{for(const c of l.ya)c.onError(n)})})(this,new Je(ye.ABORTED,"Firestore shutting down"))}}function LD(){return new ho(t=>m9(t),f9)}function Xde(t){t.ba.forEach(e=>{e.next()})}var HD,$D;($D=HD||(HD={})).Ca="default",$D.Cache="cache";const Yde="SyncEngine";class Jde{constructor(e,r,n,a,s,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new ho(l=>m9(l),f9),this.cu=new Map,this.lu=new Set,this.hu=new aa(Xe.comparator),this.Pu=new Map,this.Tu=new fk,this.Iu={},this.Eu=new Map,this.du=Zc.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function Zde(t,e,r){const n=i7(t);try{const a=await function(o,l){const c=mr(o),u=Ir.now(),A=l.reduce((f,m)=>f.add(m.key),Gr());let d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=Zo(),g=Gr();return c.Bs.getEntries(f,A).next(p=>{m=p,m.forEach((b,x)=>{x.isValidDocument()||(g=g.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,m)).next(p=>{d=p;const b=[];for(const x of l){const w=NAe(x,d.get(x.key).overlayedDocument);w!=null&&b.push(new Rl(x.key,w,s9(w.value.mapValue),Ua.exists(!0)))}return c.mutationQueue.addMutationBatch(f,u,b,l)}).next(p=>{h=p;const b=p.applyToLocalDocumentSet(d,g);return c.documentOverlayCache.saveOverlays(f,p.batchId,b)})}).then(()=>({batchId:h.batchId,changes:g9(d)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),function(o,l,c){let u=o.Iu[o.currentUser.toKey()];u||(u=new aa(xt)),u=u.insert(l,c),o.Iu[o.currentUser.toKey()]=u}(n,a.batchId,r),await kb(n,a.changes),await Mp(n.remoteStore)}catch(a){const s=n7(a,"Failed to persist write");r.reject(s)}}function VD(t,e,r){const n=mr(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.uu.forEach((s,o)=>{const l=o.view.Da(e);l.snapshot&&a.push(l.snapshot)}),function(o,l){const c=mr(o);c.onlineState=l;let u=!1;c.queries.forEach((A,d)=>{for(const h of d.ya)h.Da(l)&&(u=!0)}),u&&Xde(c)}(n.eventManager,e),a.length&&n.au.j_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function ehe(t,e){const r=mr(t),n=e.batch.batchId;try{const a=await Ede(r.localStore,e);s7(r,n,null),a7(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await kb(r,a)}catch(a){await mb(a)}}async function the(t,e,r){const n=mr(t);try{const a=await function(o,l){const c=mr(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let A;return c.mutationQueue.lookupMutationBatch(u,l).next(d=>(ot(d!==null,37113),A=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,A,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,A)).next(()=>c.localDocuments.getDocuments(u,A))})}(n.localStore,e);s7(n,e,r),a7(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await kb(n,a)}catch(a){await mb(a)}}function a7(t,e){(t.Eu.get(e)||[]).forEach(r=>{r.resolve()}),t.Eu.delete(e)}function s7(t,e,r){const n=mr(t);let a=n.Iu[n.currentUser.toKey()];if(a){const s=a.get(e);s&&(r?s.reject(r):s.resolve(),a=a.remove(e)),n.Iu[n.currentUser.toKey()]=a}}async function kb(t,e,r){const n=mr(t),a=[],s=[],o=[];n.uu.isEmpty()||(n.uu.forEach((l,c)=>{o.push(n.Ru(c,e,r).then(u=>{var A;if((u||r)&&n.isPrimaryClient){const d=u?!u.fromCache:(A=void 0)===null||A===void 0?void 0:A.current;n.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(u){a.push(u);const d=gk.Rs(c.targetId,u);s.push(d)}}))}),await Promise.all(o),n.au.j_(a),await async function(c,u){const A=mr(c);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>se.forEach(u,h=>se.forEach(h.ds,f=>A.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>se.forEach(h.As,f=>A.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!fu(d))throw d;Ne(Cde,"Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=A.xs.get(h),m=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(m);A.xs=A.xs.insert(h,g)}}}(n.localStore,s))}async function rhe(t,e){const r=mr(t);if(!r.currentUser.isEqual(e)){Ne(Yde,"User change. New user:",e.toKey());const n=await X9(r.localStore,e);r.currentUser=e,function(s,o){s.Eu.forEach(l=>{l.forEach(c=>{c.reject(new Je(ye.CANCELLED,o))})}),s.Eu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await kb(r,n.ks)}}function i7(t){const e=mr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ehe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=the.bind(null,e),e}class mm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nb(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,r){return null}bu(e,r){return null}wu(e){return W9(this.persistence,new z9,e.initialUser,this.serializer)}yu(e){return new mk(Sb.fi,this.serializer)}pu(e){return new Y9}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mm.provider={build:()=>new mm};class nhe extends mm{constructor(e){super(),this.cacheSizeBytes=e}Su(e,r){ot(this.persistence.referenceDelegate instanceof xv,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new $9(n,e.asyncQueue,r)}yu(e){const r=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new mk(n=>xv.fi(n,r),this.serializer)}}class ahe extends mm{constructor(e,r,n){super(),this.Du=e,this.cacheSizeBytes=r,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Du.initialize(this,e),await i7(this.Du.syncEngine),await Mp(this.Du.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}wu(e){return W9(this.persistence,new z9,e.initialUser,this.serializer)}Su(e,r){const n=this.persistence.referenceDelegate.garbageCollector;return new $9(n,e.asyncQueue,r)}bu(e,r){const n=new Bue(r,this.persistence);return new _ue(e.asyncQueue,n)}yu(e){const r=_de(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new pk(this.synchronizeTabs,r,e.clientId,n,e.asyncQueue,Dde(),Y0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}pu(e){return new Y9}}class vv{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>VD(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=rhe.bind(null,this.syncEngine),await zde(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Wde}()}createDatastore(e){const r=Nb(e.databaseInfo.databaseId),n=function(s){return new Fde(s)}(e.databaseInfo);return function(s,o,l,c){return new Mde(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,a,s,o,l){return new Lde(n,a,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,r=>VD(this.syncEngine,r,0),function(){return UD.C()?new UD:new Tde}())}createSyncEngine(e,r){return function(a,s,o,l,c,u,A){const d=new Jde(a,s,o,l,c,u);return A&&(d.Au=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(a){const s=mr(a);Ne(Op,"RemoteStore shutting down."),s.Ta.add(5),await Rp(s),s.Ea.shutdown(),s.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}vv.provider={build:()=>new vv};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl="FirestoreClient";class she{constructor(e,r,n,a,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=bn.UNAUTHENTICATED,this.clientId=DV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async o=>{Ne(Cl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Ne(Cl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ol;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=n7(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function j1(t,e){t.asyncQueue.verifyOperationInProgress(),Ne(Cl,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async a=>{n.isEqual(a)||(await X9(e.localStore,a),n=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function KD(t,e){t.asyncQueue.verifyOperationInProgress();const r=await ihe(t);Ne(Cl,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>QD(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,a)=>QD(e.remoteStore,a)),t._onlineComponents=e}async function ihe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne(Cl,"Using user provided OfflineComponentProvider");try{await j1(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(a){return a.name==="FirebaseError"?a.code===ye.FAILED_PRECONDITION||a.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;Pp("Error using user provided cache. Falling back to memory cache: "+r),await j1(t,new mm)}}else Ne(Cl,"Using default OfflineComponentProvider"),await j1(t,new nhe(void 0));return t._offlineComponents}async function ohe(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne(Cl,"Using user provided OnlineComponentProvider"),await KD(t,t._uninitializedComponentsProvider._online)):(Ne(Cl,"Using default OnlineComponentProvider"),await KD(t,new vv))),t._onlineComponents}function lhe(t){return ohe(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o7(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l7(t,e,r){if(!r)throw new Je(ye.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function che(t,e,r,n){if(e===!0&&n===!0)throw new Je(ye.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function GD(t){if(!Xe.isDocumentKey(t))throw new Je(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zD(t){if(Xe.isDocumentKey(t))throw new Je(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vk(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":rt(12329,{type:typeof t})}function yk(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Je(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=vk(t);throw new Je(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c7="firestore.googleapis.com",WD=!0;class XD{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Je(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=c7,this.ssl=WD}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:WD;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=M9;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ide)throw new Je(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}che("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o7((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Je(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Je(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Je(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ib{constructor(e,r,n,a){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XD({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Je(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Je(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XD(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new uue;switch(n.type){case"firstParty":return new fue(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Je(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=qD.get(r);n&&(Ne("ComponentProvider","Removing Datastore"),qD.delete(r),n.terminate())}(this),Promise.resolve()}}function uhe(t,e,r,n={}){var a;t=yk(t,Ib);const s=$T(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${r}`;s&&(Vle(`https://${c}`),zle("Firestore",!0)),o.host!==c7&&o.host!==c&&Pp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:c,ssl:s,emulatorOptions:n});if(!nv(u,l)&&(t._setSettings(u),n.mockUserToken)){let A,d;if(typeof n.mockUserToken=="string")A=n.mockUserToken,d=bn.MOCK_USER;else{A=Kle(n.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Je(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new bn(h)}t._authCredentials=new Aue(new FV(A,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new bk(this.firestore,e,this._query)}}class Ki{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ki(this.firestore,e,this._key)}}class cl extends bk{constructor(e,r,n){super(e,r,h9(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ki(this.firestore,null,new Xe(e))}withConverter(e){return new cl(this.firestore,e,this._path)}}function YD(t,e,...r){if(t=yl(t),l7("collection","path",e),t instanceof Ib){const n=ur.fromString(e,...r);return zD(n),new cl(t,null,n)}{if(!(t instanceof Ki||t instanceof cl))throw new Je(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(ur.fromString(e,...r));return zD(n),new cl(t.firestore,null,n)}}function Ahe(t,e,...r){if(t=yl(t),arguments.length===1&&(e=DV.newId()),l7("doc","path",e),t instanceof Ib){const n=ur.fromString(e,...r);return GD(n),new Ki(t,null,new Xe(n))}{if(!(t instanceof Ki||t instanceof cl))throw new Je(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(ur.fromString(e,...r));return GD(n),new Ki(t.firestore,t instanceof cl?t.converter:null,new Xe(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="AsyncQueue";class ZD{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new J9(this,"async_queue_retry"),this.ec=()=>{const n=Y0();n&&Ne(JD,"Visibility state changed to "+n.visibilityState),this.C_.p_()},this.tc=e;const r=Y0();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const r=Y0();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const r=new ol;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!fu(e))throw e;Ne(JD,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const r=this.tc.then(()=>(this.Yu=!0,e().catch(n=>{throw this.Ju=n,this.Yu=!1,Da("INTERNAL UNHANDLED ERROR: ",eO(n)),n}).then(n=>(this.Yu=!1,n))));return this.tc=r,r}enqueueAfterDelay(e,r,n){this.nc(),this.Xu.indexOf(e)>-1&&(r=0);const a=xk.createAndSchedule(this,e,r,n,s=>this.oc(s));return this.Hu.push(a),a}nc(){this.Ju&&rt(47125,{_c:eO(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const r of this.Hu)if(r.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Hu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const r=this.Hu.indexOf(e);this.Hu.splice(r,1)}}function eO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class wk extends Ib{constructor(e,r,n,a){super(e,r,n,a),this.type="firestore",this._queue=new ZD,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ZD(e),this._firestoreClient=void 0,await e}}}function _k(t,e){const r=typeof t=="object"?t:CV(),n=typeof t=="string"?t:uv,a=fb(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const s=Hle("firestore");s&&uhe(a,...s)}return a}function dhe(t){if(t._terminated)throw new Je(ye.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||u7(t),t._firestoreClient}function u7(t){var e,r,n;const a=t._freezeSettings(),s=function(l,c,u,A){return new eAe(l,c,u,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,o7(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new she(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}function hhe(t,e){Pp("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings();return fhe(t,vv.provider,{build:n=>new ahe(n,r.cacheSizeBytes,void 0)}),Promise.resolve()}function fhe(t,e,r){if((t=yk(t,wk))._firestoreClient||t._terminated)throw new Je(ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new Je(ye.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:r},u7(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pm(va.fromBase64String(e))}catch(r){throw new Je(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new pm(va.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Je(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Je(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Je(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,a){if(n.length!==a.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==a[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mhe=/^__.*__$/;class phe{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Rl(e,this.data,this.fieldMask,r,this.fieldTransforms):new Wd(e,this.data,r,this.fieldTransforms)}}function m7(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt(40011,{hc:t})}}class Bk{constructor(e,r,n,a,s,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,s===void 0&&this.Pc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Bk(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.Tc({path:n,Ec:!1});return a.dc(e),a}Ac(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.Tc({path:n,Ec:!1});return a.Pc(),a}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return yv(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(m7(this.hc)&&mhe.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class ghe{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Nb(e)}gc(e,r,n,a=!1){return new Bk({hc:e,methodName:r,fc:n,path:jr.emptyPath(),Ec:!1,mc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xhe(t){const e=t._freezeSettings(),r=Nb(t._databaseId);return new ghe(t._databaseId,!!e.ignoreUndefinedProperties,r)}function vhe(t,e,r,n,a,s={}){const o=t.gc(s.merge||s.mergeFields?2:0,e,r,a);v7("Data must be an object, but it was:",o,n);const l=g7(n,o);let c,u;if(s.merge)c=new Za(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const A=[];for(const d of s.mergeFields){const h=yhe(e,d,r);if(!o.contains(h))throw new Je(ye.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);_he(A,h)||A.push(h)}c=new Za(A),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new phe(new Oa(l),c,u)}function p7(t,e){if(x7(t=yl(t)))return v7("Unsupported field value:",e,t),g7(t,e);if(t instanceof d7)return function(n,a){if(!m7(a.hc))throw a.Vc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Vc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(a);s&&a.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(n,a){const s=[];let o=0;for(const l of n){let c=p7(l,a.Rc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(n,a){if((n=yl(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return wAe(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Ir.fromDate(n);return{timestampValue:fm(a.serializer,s)}}if(n instanceof Ir){const s=new Ir(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:fm(a.serializer,s)}}if(n instanceof h7)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof pm)return{bytesValue:RAe(a.serializer,n._byteString)};if(n instanceof Ki){const s=a.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw a.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ak(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof f7)return function(o,l){return{mapValue:{fields:{[rk]:{stringValue:nk},[cm]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Vc("VectorValues must only contain numeric values.");return ik(l.serializer,u)})}}}}}}(n,a);throw a.Vc(`Unsupported field value: ${vk(n)}`)}(t,e)}function g7(t,e){const r={};return YV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zd(t,(n,a)=>{const s=p7(a,e.Ic(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function x7(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ir||t instanceof h7||t instanceof pm||t instanceof Ki||t instanceof d7||t instanceof f7)}function v7(t,e,r){if(!x7(r)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(r)){const n=vk(r);throw n==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+n)}}function yhe(t,e,r){if((e=yl(e))instanceof A7)return e._internalPath;if(typeof e=="string")return whe(t,e);throw yv("Field path arguments must be of type string or ",t,!1,void 0,r)}const bhe=new RegExp("[~\\*/\\[\\]]");function whe(t,e,r){if(e.search(bhe)>=0)throw yv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new A7(...e.split("."))._internalPath}catch{throw yv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function yv(t,e,r,n,a){const s=n&&!n.isEmpty(),o=a!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${n}`),o&&(c+=` in document ${a}`),c+=")"),new Je(ye.INVALID_ARGUMENT,l+t+c)}function _he(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bhe(t,e,r){let n;return n=t?t.toFirestore(e):e,n}function tO(t,e){const r=yk(t.firestore,wk),n=Ahe(t),a=Bhe(t.converter,e);return Che(r,[vhe(xhe(t.firestore),"addDoc",n._key,a,t.converter!==null,{}).toMutation(n._key,Ua.exists(!1))]).then(()=>n)}function Che(t,e){return function(n,a){const s=new ol;return n.asyncQueue.enqueueAndForget(async()=>Zde(await lhe(n),a,s)),s.promise}(dhe(t),e)}(function(e,r=!0){(function(a){Gd=a})(Yce),bl(new to("firestore",(n,{instanceIdentifier:a,options:s})=>{const o=n.getProvider("app").getImmediate(),l=new wk(new due(n.getProvider("auth-internal")),new mue(o,n.getProvider("app-check-internal")),function(u,A){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Je(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ed(u.options.projectId,A)}(o,a),o);return s=Object.assign({useFetchStreams:r},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),li(QF,LF,e),li(QF,LF,"esm2017")})();const y7="@firebase/installations",Ck="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b7=1e4,w7=`w:${Ck}`,_7="FIS_v2",jhe="https://firebaseinstallations.googleapis.com/v1",Ehe=60*60*1e3,She="installations",Nhe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const The={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},eu=new db(She,Nhe,The);function B7(t){return t instanceof hu&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7({projectId:t}){return`${jhe}/projects/${t}/installations`}function j7(t){return{token:t.token,requestStatus:2,expiresIn:Ihe(t.expiresIn),creationTime:Date.now()}}async function E7(t,e){const n=(await e.json()).error;return eu.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function S7({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function khe(t,{refreshToken:e}){const r=S7(t);return r.append("Authorization",Phe(e)),r}async function N7(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Ihe(t){return Number(t.replace("s","000"))}function Phe(t){return`${_7} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fhe({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=C7(t),a=S7(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&a.append("x-firebase-client",u)}const o={fid:r,authVersion:_7,appId:t.appId,sdkVersion:w7},l={method:"POST",headers:a,body:JSON.stringify(o)},c=await N7(()=>fetch(n,l));if(c.ok){const u=await c.json();return{fid:u.fid||r,registrationStatus:2,refreshToken:u.refreshToken,authToken:j7(u.authToken)}}else throw await E7("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T7(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dhe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ohe=/^[cdef][\w-]{21}$/,qS="";function Rhe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=Uhe(t);return Ohe.test(r)?r:qS}catch{return qS}}function Uhe(t){return Dhe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k7=new Map;function I7(t,e){const r=Pb(t);P7(r,e),Mhe(r,e)}function P7(t,e){const r=k7.get(t);if(r)for(const n of r)n(e)}function Mhe(t,e){const r=Qhe();r&&r.postMessage({key:t,fid:e}),Lhe()}let _c=null;function Qhe(){return!_c&&"BroadcastChannel"in self&&(_c=new BroadcastChannel("[Firebase] FID Change"),_c.onmessage=t=>{P7(t.data.key,t.data.fid)}),_c}function Lhe(){k7.size===0&&_c&&(_c.close(),_c=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hhe="firebase-installations-database",$he=1,tu="firebase-installations-store";let E1=null;function jk(){return E1||(E1=hb(Hhe,$he,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(tu)}}})),E1}async function bv(t,e){const r=Pb(t),a=(await jk()).transaction(tu,"readwrite"),s=a.objectStore(tu),o=await s.get(r);return await s.put(e,r),await a.done,(!o||o.fid!==e.fid)&&I7(t,e.fid),e}async function F7(t){const e=Pb(t),n=(await jk()).transaction(tu,"readwrite");await n.objectStore(tu).delete(e),await n.done}async function Fb(t,e){const r=Pb(t),a=(await jk()).transaction(tu,"readwrite"),s=a.objectStore(tu),o=await s.get(r),l=e(o);return l===void 0?await s.delete(r):await s.put(l,r),await a.done,l&&(!o||o.fid!==l.fid)&&I7(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ek(t){let e;const r=await Fb(t.appConfig,n=>{const a=Vhe(n),s=Khe(t,a);return e=s.registrationPromise,s.installationEntry});return r.fid===qS?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function Vhe(t){const e=t||{fid:Rhe(),registrationStatus:0};return D7(e)}function Khe(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(eu.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=qhe(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Ghe(t)}:{installationEntry:e}}async function qhe(t,e){try{const r=await Fhe(t,e);return bv(t.appConfig,r)}catch(r){throw B7(r)&&r.customData.serverCode===409?await F7(t.appConfig):await bv(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function Ghe(t){let e=await rO(t.appConfig);for(;e.registrationStatus===1;)await T7(100),e=await rO(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await Ek(t);return n||r}return e}function rO(t){return Fb(t,e=>{if(!e)throw eu.create("installation-not-found");return D7(e)})}function D7(t){return zhe(t)?{fid:t.fid,registrationStatus:0}:t}function zhe(t){return t.registrationStatus===1&&t.registrationTime+b7<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Whe({appConfig:t,heartbeatServiceProvider:e},r){const n=Xhe(t,r),a=khe(t,r),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&a.append("x-firebase-client",u)}const o={installation:{sdkVersion:w7,appId:t.appId}},l={method:"POST",headers:a,body:JSON.stringify(o)},c=await N7(()=>fetch(n,l));if(c.ok){const u=await c.json();return j7(u)}else throw await E7("Generate Auth Token",c)}function Xhe(t,{fid:e}){return`${C7(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sk(t,e=!1){let r;const n=await Fb(t.appConfig,s=>{if(!O7(s))throw eu.create("not-registered");const o=s.authToken;if(!e&&Zhe(o))return s;if(o.requestStatus===1)return r=Yhe(t,e),s;{if(!navigator.onLine)throw eu.create("app-offline");const l=tfe(s);return r=Jhe(t,l),l}});return r?await r:n.authToken}async function Yhe(t,e){let r=await nO(t.appConfig);for(;r.authToken.requestStatus===1;)await T7(100),r=await nO(t.appConfig);const n=r.authToken;return n.requestStatus===0?Sk(t,e):n}function nO(t){return Fb(t,e=>{if(!O7(e))throw eu.create("not-registered");const r=e.authToken;return rfe(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Jhe(t,e){try{const r=await Whe(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await bv(t.appConfig,n),r}catch(r){if(B7(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await F7(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await bv(t.appConfig,n)}throw r}}function O7(t){return t!==void 0&&t.registrationStatus===2}function Zhe(t){return t.requestStatus===2&&!efe(t)}function efe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Ehe}function tfe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function rfe(t){return t.requestStatus===1&&t.requestTime+b7<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nfe(t){const e=t,{installationEntry:r,registrationPromise:n}=await Ek(e);return n?n.catch(console.error):Sk(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function afe(t,e=!1){const r=t;return await sfe(r),(await Sk(r,e)).token}async function sfe(t){const{registrationPromise:e}=await Ek(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ife(t){if(!t||!t.options)throw S1("App Configuration");if(!t.name)throw S1("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw S1(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function S1(t){return eu.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7="installations",ofe="installations-internal",lfe=t=>{const e=t.getProvider("app").getImmediate(),r=ife(e),n=fb(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},cfe=t=>{const e=t.getProvider("app").getImmediate(),r=fb(e,R7).getImmediate();return{getId:()=>nfe(r),getToken:a=>afe(r,a)}};function ufe(){bl(new to(R7,lfe,"PUBLIC")),bl(new to(ofe,cfe,"PRIVATE"))}ufe();li(y7,Ck);li(y7,Ck,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Afe="/firebase-messaging-sw.js",dfe="/firebase-cloud-messaging-push-scope",U7="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",hfe="https://fcmregistrations.googleapis.com/v1",M7="google.c.a.c_id",ffe="google.c.a.c_l",mfe="google.c.a.ts",pfe="google.c.a.e",aO=1e4;var sO;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(sO||(sO={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var gm;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(gm||(gm={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gfe(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),a=new Uint8Array(n.length);for(let s=0;s<n.length;++s)a[s]=n.charCodeAt(s);return a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="fcm_token_details_db",xfe=5,iO="fcm_token_object_Store";async function vfe(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(N1))return null;let e=null;return(await hb(N1,xfe,{upgrade:async(n,a,s,o)=>{var l;if(a<2||!n.objectStoreNames.contains(iO))return;const c=o.objectStore(iO),u=await c.index("fcmSenderId").get(t);if(await c.clear(),!!u){if(a===2){const A=u;if(!A.auth||!A.p256dh||!A.endpoint)return;e={token:A.fcmToken,createTime:(l=A.createTime)!==null&&l!==void 0?l:Date.now(),subscriptionOptions:{auth:A.auth,p256dh:A.p256dh,endpoint:A.endpoint,swScope:A.swScope,vapidKey:typeof A.vapidKey=="string"?A.vapidKey:Ui(A.vapidKey)}}}else if(a===3){const A=u;e={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:Ui(A.auth),p256dh:Ui(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:Ui(A.vapidKey)}}}else if(a===4){const A=u;e={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:Ui(A.auth),p256dh:Ui(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:Ui(A.vapidKey)}}}}}})).close(),await x1(N1),await x1("fcm_vapid_details_db"),await x1("undefined"),yfe(e)?e:null}function yfe(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bfe="firebase-messaging-database",wfe=1,xm="firebase-messaging-store";let T1=null;function Q7(){return T1||(T1=hb(bfe,wfe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(xm)}}})),T1}async function _fe(t){const e=L7(t),n=await(await Q7()).transaction(xm).objectStore(xm).get(e);if(n)return n;{const a=await vfe(t.appConfig.senderId);if(a)return await Nk(t,a),a}}async function Nk(t,e){const r=L7(t),a=(await Q7()).transaction(xm,"readwrite");return await a.objectStore(xm).put(e,r),await a.done,e}function L7({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bfe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},qn=new db("messaging","Messaging",Bfe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cfe(t,e){const r=await kk(t),n=H7(e),a={method:"POST",headers:r,body:JSON.stringify(n)};let s;try{s=await(await fetch(Tk(t.appConfig),a)).json()}catch(o){throw qn.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw qn.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw qn.create("token-subscribe-no-token");return s.token}async function jfe(t,e){const r=await kk(t),n=H7(e.subscriptionOptions),a={method:"PATCH",headers:r,body:JSON.stringify(n)};let s;try{s=await(await fetch(`${Tk(t.appConfig)}/${e.token}`,a)).json()}catch(o){throw qn.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw qn.create("token-update-failed",{errorInfo:o})}if(!s.token)throw qn.create("token-update-no-token");return s.token}async function Efe(t,e){const n={method:"DELETE",headers:await kk(t)};try{const s=await(await fetch(`${Tk(t.appConfig)}/${e}`,n)).json();if(s.error){const o=s.error.message;throw qn.create("token-unsubscribe-failed",{errorInfo:o})}}catch(a){throw qn.create("token-unsubscribe-failed",{errorInfo:a==null?void 0:a.toString()})}}function Tk({projectId:t}){return`${hfe}/projects/${t}/registrations`}async function kk({appConfig:t,installations:e}){const r=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function H7({p256dh:t,auth:e,endpoint:r,vapidKey:n}){const a={web:{endpoint:r,auth:e,p256dh:t}};return n!==U7&&(a.web.applicationPubKey=n),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sfe=7*24*60*60*1e3;async function Nfe(t){const e=await kfe(t.swRegistration,t.vapidKey),r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Ui(e.getKey("auth")),p256dh:Ui(e.getKey("p256dh"))},n=await _fe(t.firebaseDependencies);if(n){if(Ife(n.subscriptionOptions,r))return Date.now()>=n.createTime+Sfe?Tfe(t,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await Efe(t.firebaseDependencies,n.token)}catch(a){console.warn(a)}return oO(t.firebaseDependencies,r)}else return oO(t.firebaseDependencies,r)}async function Tfe(t,e){try{const r=await jfe(t.firebaseDependencies,e),n=Object.assign(Object.assign({},e),{token:r,createTime:Date.now()});return await Nk(t.firebaseDependencies,n),r}catch(r){throw r}}async function oO(t,e){const n={token:await Cfe(t,e),createTime:Date.now(),subscriptionOptions:e};return await Nk(t,n),n.token}async function kfe(t,e){const r=await t.pushManager.getSubscription();return r||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gfe(e)})}function Ife(t,e){const r=e.vapidKey===t.vapidKey,n=e.endpoint===t.endpoint,a=e.auth===t.auth,s=e.p256dh===t.p256dh;return r&&n&&a&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return Pfe(e,t),Ffe(e,t),Dfe(e,t),e}function Pfe(t,e){if(!e.notification)return;t.notification={};const r=e.notification.title;r&&(t.notification.title=r);const n=e.notification.body;n&&(t.notification.body=n);const a=e.notification.image;a&&(t.notification.image=a);const s=e.notification.icon;s&&(t.notification.icon=s)}function Ffe(t,e){e.data&&(t.data=e.data)}function Dfe(t,e){var r,n,a,s,o;if(!e.fcmOptions&&!(!((r=e.notification)===null||r===void 0)&&r.click_action))return;t.fcmOptions={};const l=(a=(n=e.fcmOptions)===null||n===void 0?void 0:n.link)!==null&&a!==void 0?a:(s=e.notification)===null||s===void 0?void 0:s.click_action;l&&(t.fcmOptions.link=l);const c=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ofe(t){return typeof t=="object"&&!!t&&M7 in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rfe(t){if(!t||!t.options)throw k1("App Configuration Object");if(!t.name)throw k1("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:r}=t;for(const n of e)if(!r[n])throw k1(n);return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function k1(t){return qn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ufe{constructor(e,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const a=Rfe(e);this.firebaseDependencies={app:e,appConfig:a,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mfe(t){try{t.swRegistration=await navigator.serviceWorker.register(Afe,{scope:dfe}),t.swRegistration.update().catch(()=>{}),await Qfe(t.swRegistration)}catch(e){throw qn.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function Qfe(t){return new Promise((e,r)=>{const n=setTimeout(()=>r(new Error(`Service worker not registered after ${aO} ms`)),aO),a=t.installing||t.waiting;t.active?(clearTimeout(n),e()):a?a.onstatechange=s=>{var o;((o=s.target)===null||o===void 0?void 0:o.state)==="activated"&&(a.onstatechange=null,clearTimeout(n),e())}:(clearTimeout(n),r(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lfe(t,e){if(!e&&!t.swRegistration&&await Mfe(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw qn.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hfe(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=U7)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $7(t,e){if(!navigator)throw qn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw qn.create("permission-blocked");return await Hfe(t,e==null?void 0:e.vapidKey),await Lfe(t,e==null?void 0:e.serviceWorkerRegistration),Nfe(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $fe(t,e,r){const n=Vfe(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[M7],message_name:r[ffe],message_time:r[mfe],message_device_time:Math.floor(Date.now()/1e3)})}function Vfe(t){switch(t){case gm.NOTIFICATION_CLICKED:return"notification_open";case gm.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kfe(t,e){const r=e.data;if(!r.isFirebaseMessaging)return;t.onMessageHandler&&r.messageType===gm.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(lO(r)):t.onMessageHandler.next(lO(r)));const n=r.data;Ofe(n)&&n[pfe]==="1"&&await $fe(t,r.messageType,n)}const cO="@firebase/messaging",uO="0.12.21";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qfe=t=>{const e=new Ufe(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>Kfe(e,r)),e},Gfe=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:n=>$7(e,n)}};function zfe(){bl(new to("messaging",qfe,"PUBLIC")),bl(new to("messaging-internal",Gfe,"PRIVATE")),li(cO,uO),li(cO,uO,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wfe(){try{await yV()}catch{return!1}return typeof window<"u"&&VT()&&Wle()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xfe(t,e){if(!navigator)throw qn.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V7(t=CV()){return Wfe().then(e=>{if(!e)throw qn.create("unsupported-browser")},e=>{throw qn.create("indexed-db-unsupported")}),fb(yl(t),"messaging").getImmediate()}async function Yfe(t,e){return t=yl(t),$7(t,e)}function Jfe(t,e){return t=yl(t),Xfe(t,e)}zfe();const Zfe={apiKey:"AIzaSyBLkK6LwseUvbA6oDTQTLd2Z4MpmH7NhgQ",authDomain:"jpccoal.firebaseapp.com",projectId:"jpccoal",storageBucket:"jpccoal.firebasestorage.app",messagingSenderId:"427360291711",appId:"1:427360291711:web:90ee121cbc8cc64b8de84a",vapidKey:"BHH5-vMogiQiVgytRhYjTq6AtpObVKuZr1apoQbx9oD8zL8VywEhcXe5hooGzisOoJEVtPrWRWM6_N_Hoe3mE4U"},Xd=BV(Zfe);let J0=null;try{typeof window<"u"&&"serviceWorker"in navigator?(J0=V7(Xd),console.log("Firebase messaging initialized successfully")):console.log("Firebase messaging not supported in this environment")}catch(t){console.error("Error initializing Firebase messaging:",t)}const eme=_k(Xd),tme=async()=>{try{typeof window<"u"&&"indexedDB"in window&&await hhe(eme).then(()=>{console.log("Firestore offline persistence enabled successfully")}).catch(t=>{t.code==="failed-precondition"?console.log("Firebase persistence not enabled: Multiple tabs open"):t.code==="unimplemented"?console.log("Firebase persistence not available in this browser"):console.error("Error initializing Firebase persistence:",t)})}catch(t){console.error("Error setting up Firestore persistence:",t)}};tme().catch(t=>{console.error("Failed to initialize Firestore:",t)});const K7=()=>typeof window<"u"&&"Notification"in window&&"serviceWorker"in navigator&&"PushManager"in window,I1=async()=>{try{if(!K7())return console.log("This browser does not support notifications - likely a mobile device without notification support"),null;if(!("serviceWorker"in navigator))return console.log("Service workers not supported in this browser, FCM token cannot be generated"),null;if(!Xd||!J0)return console.error("Firebase not properly initialized"),null;if(Notification.permission!=="granted"){if(console.log("Requesting notification permission from user..."),await Notification.requestPermission()!=="granted")return console.log("User denied notification permission"),null;console.log("Notification permission granted by user")}try{await navigator.serviceWorker.getRegistration("/firebase-messaging-sw.js")||(console.log("Firebase messaging service worker not registered, attempting to register now"),await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/"}),console.log("Firebase messaging service worker registered"))}catch(t){console.error("Error registering service worker:",t)}console.log("Generating FCM token with VAPID key...");try{if(!J0)return console.error("Cannot get FCM token: Firebase messaging not initialized"),null;const t=await Yfe(J0,{vapidKey:"BHH5-vMogiQiVgytRhYjTq6AtpObVKuZr1apoQbx9oD8zL8VywEhcXe5hooGzisOoJEVtPrWRWM6_N_Hoe3mE4U"});if(t){console.log("FCM token generated successfully:",t.substring(0,10)+"..."+t.substring(t.length-5));try{localStorage.setItem("fcm_token",t),localStorage.setItem("fcm_token_timestamp",new Date().toISOString())}catch(e){console.warn("Could not store FCM token in localStorage:",e)}return t}else{console.warn("Firebase returned empty token");const e=localStorage.getItem("fcm_token");return e?(console.log("Using previously stored FCM token from localStorage"),e):null}}catch(t){console.error("Error during FCM token generation:",t);const e=localStorage.getItem("fcm_token");return e?(console.log("Using previously stored FCM token from localStorage after error"),e):null}}catch(t){return console.error("Unexpected error in requestFCMToken:",t),null}},P1=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),rme=t=>t==="bank-transfer"?"Transfer Bank":t==="cash-on-delivery"?"Bayar di Tempat (COD)":t==="e-wallet"?"E-Wallet":t==="qris"?"QRIS":t==="credit-card"?"Kartu Kredit":t,nme=(t,e,r,n,a,s)=>{const o=t.id.substring(0,8),l=t.created_at?new Date(t.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):new Date().toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),c=t.status==="pending"?"Menunggu Pembayaran":t.status==="processing"?"Diproses":t.status==="shipped"?"Dikirim":t.status==="completed"?"Selesai":t.status||"Menunggu",u=s||{provider:t.shipping_provider||"JPC Delivery",service:t.shipping_service||"Reguler",cost:t.shipping_cost||0,estimate:t.shipping_estimate||"1-3 Hari"};if(Array.isArray(a)&&a.length>0){const h=Math.min(a.length,3);a.slice(0,h).map((f,m)=>`${m+1}. ${f.product_name||"Produk"} (${f.quantity||1}x)`).join(`
`),a.length-h}const A=n?`${n.street?n.street.substring(0,25)+(n.street.length>25?"...":""):"N/A"}${n.district?", "+n.district:""}`:"Alamat tidak tersedia";let d="Produk tidak tersedia";if(Array.isArray(a)&&a.length>0){const h=Math.min(a.length,3),f=a.slice(0,h).map((p,b)=>`${b+1}. ${p.product_name||"Produk"} (${p.quantity||1}x) - ${P1(p.price||0)}`).join(`
`),m=a.length-h,g=m>0?`+${m} item lainnya`:"";d=f+(g?`
${g}`:"")}return` *PESANAN BERHASIL DIBUAT* 

Halo ${(e==null?void 0:e.name)||"Pelanggan"}!

*DETAIL PESANAN*
ID: #${o}
Tanggal: ${l}
Status: ${c}

*PRODUK YANG DIPESAN*
${d}

*PENGIRIMAN*
Alamat: ${A}
Kurir: ${u.provider||"JPC Delivery"}
Layanan: ${u.service||"Reguler"}
Ongkir: ${P1(u.cost||0)}
Estimasi: ${u.estimate||"1-3 Hari"}

*PEMBAYARAN*
Total: ${P1(t.total)}
Metode: ${rme(t.payment_method||"N/A")}
${t.payment_method==="bank-transfer"?`Bank: ${(r==null?void 0:r.bank_name)||"SeaBank"}
Rek: ${(r==null?void 0:r.account_number)||"901958730549"}
`:""}
*INFO*: Hubungi 0813-9458-6882
*JAYA PERKASA CHARCOAL* `},Dh="caa6aa7f-8086-4920-899d-4ac498a62eea",Gg="dAUtf7zkmSDKTTZdAXb48oE29tB9NIWkldd3tr90ucGedWCPu3",ame="",q7=["0895385500396","081394586882"],GS=["https://app.wapanels.com/api/create-message"],qi={};GS.forEach(t=>{qi[t]={healthy:!0,lastChecked:0}});const F1=t=>{qi[t]&&(qi[t].healthy=!1,qi[t].lastChecked=Date.now(),console.log(`Marked WhatsApp API endpoint as unhealthy: ${t}`))},AO=t=>{qi[t]&&(qi[t].healthy=!0,qi[t].lastChecked=Date.now())},sme=()=>q7,Qp=async(t,e)=>{try{if(!t||!e)return console.error("WhatsApp API error: Missing required parameters (phone number or message)"),!1;e.length>4096&&(console.error("WhatsApp API error: Message too long, maximum length is 4096 characters"),console.log(`Message length: ${e.length} characters, truncating to 4096`),e=e.substring(0,4096));let r=t.replace(/\D/g,"");if(r.startsWith("0")?r="62"+r.substring(1):r.startsWith("62")||(r="62"+r),r.length<10)return console.error(`WhatsApp API error: Phone number too short after formatting: ${r}`),!1;console.log(`Sending WhatsApp to formatted number: ${r}`);for(const n of GS)if(!(!qi[n].healthy&&GS.some(a=>qi[a].healthy)))try{let a,s={"Content-Type":"application/json",Accept:"application/json"};n.includes("fonnte.com")?(s={Authorization:Dh,"Content-Type":"application/json"},a={target:r,message:e,countryCode:"62",delay:0}):n.includes("/create-message")?a={appkey:Dh,authkey:Gg,to:r,message:e,template_id:"",priority:"high",repeat:1}:n.includes("/send")?a={appkey:Dh,authkey:Gg,to:r,message:e,template_id:""}:a={appkey:Dh,authkey:Gg,to:r,message:e,template_id:"",type:"text"},console.log(`Trying WhatsApp API endpoint: ${n.split("/").slice(-2).join("/")}`),console.log(`WhatsApp API request to ${n.split("/").slice(-2).join("/")} with phone ${r} (${e.length} chars)`);const o=await Fo.post(n,a,{headers:s,timeout:15e3});if(o.data&&o.status>=200&&o.status<300){console.log("WhatsApp API Response:",o.data);const c=o.data.status==="success"||o.data.success===!0||o.data.error===!1||o.data.message_status==="Success"||o.data.status==="sent"||o.data.result==="success"||o.data.data&&(o.data.data.status==="success"||o.data.data.status_code===200||o.data.data.result==="success")||o.data.message_id||o.data.id||o.data.data&&(o.data.data.message_id||o.data.data.id),u=o.data.message==="Validation errors"||o.data.status==="validation_error"||o.data.errors&&Object.keys(o.data.errors).length>0;if(c)return AO(n),console.log(` WhatsApp message sent successfully via ${n.split("/").slice(-2).join("/")}`),!0;if(u&&(console.error("WhatsApp API validation error:",o.data),o.data.errors&&console.error("Validation details:",JSON.stringify(o.data.errors)),o.data.data&&o.data.data.message&&console.error("Error message:",o.data.data.message),n.includes("/create-message")))try{console.log("Trying alternate payload format for create-message endpoint");const A={appkey:Dh,authkey:Gg,to:r,message:e},d=await Fo.post(n,A,{headers:s,timeout:15e3});if(d.data&&d.status>=200&&d.status<300&&d.data.success===!0)return console.log(" WhatsApp message sent successfully via alternate payload format"),AO(n),!0}catch(A){console.error("Alternate payload also failed:",A)}}console.warn(`WhatsApp API endpoint ${n} returned non-success data:`,o.data),(o.data.message==="Validation errors"||o.data.error==="invalid_key"||o.data.status==="error")&&(console.error(`Marking endpoint ${n} as unhealthy due to validation/auth errors`),F1(n))}catch(a){if(a.response){const s=a.response.status;console.error(`WhatsApp API error (HTTP ${s}) with endpoint ${n}:`,{data:a.response.data,status:s}),s===404||s===401||s===403?(console.error(`Endpoint ${n} not found (404). Marking as unhealthy.`),F1(n)):s===400?(console.error(`Validation error with endpoint ${n}. Will try other formats.`),F1(n)):(s===401||s===403)&&console.error("WhatsApp API authentication failed. Check your API credentials.")}else a.request?console.error(`Network error with endpoint ${n}:`,a.message):console.error(`Error with endpoint ${n}:`,a.message)}return console.error("All WhatsApp API endpoints failed. Message not sent."),!1}catch(r){return console.error("Unexpected error in WhatsApp API service:",r.message),!1}},D1=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),ime=async(t,e,r,n,a,s)=>{try{if(!(e!=null&&e.phone))return console.error("Cannot send WhatsApp notification: Customer phone number missing"),!1;console.log(" Starting WhatsApp notifications with complete order data"),console.log("Order:",{id:t==null?void 0:t.id,total:t==null?void 0:t.total,status:t==null?void 0:t.status}),console.log("Items received:",n),console.log("Address received:",r);let o=[];Array.isArray(n)&&n.length>0?(o=n.map(f=>({product_name:f.product_name||"Produk",price:f.price||0,quantity:f.quantity||1,variant:f.variant||"",unit:f.unit||"",product_id:f.product_id||""})),console.log(` Order items valid: ${o.length} items found`)):(console.warn(" No valid order items found, creating dummy item for notification"),o=[{product_name:"Pesanan Anda",price:t.total||0,quantity:1,variant:"",unit:"",product_id:""}]),o.length>0&&console.log("First item sample:",{name:o[0].product_name,price:o[0].price,qty:o[0].quantity});const l={street:(r==null?void 0:r.street)||"Alamat tidak tersedia",district:(r==null?void 0:r.district)||"",city:(r==null?void 0:r.city)||"Kota tidak tersedia",province:(r==null?void 0:r.province)||"Provinsi tidak tersedia",postal_code:(r==null?void 0:r.postal_code)||"",notes:(r==null?void 0:r.notes)||"",recipient_name:(r==null?void 0:r.recipient_name)||(e==null?void 0:e.name)||"Pelanggan",recipient_phone:(r==null?void 0:r.recipient_phone)||(e==null?void 0:e.phone)||""};console.log("Normalized address data:",{street:l.street.substring(0,15)+"...",district:l.district,city:l.city,province:l.province});const c=a||{provider:t.shipping_provider||"JPC Delivery",service:t.shipping_service||"Reguler",cost:t.shipping_cost||0,estimate:t.shipping_estimate||"1-3 Hari"},u=s||{name:"Transfer Bank",bank_name:"SeaBank",account_number:"901958730549",account_name:"Jaya Perkasa Charcoal"};console.log("Membuat pesan terformat dengan detail lengkap...");let A="";const d=nme(t,e,u,l,o,c);if(console.log(`Pesan ringkas dibuat: ${d.length} karakter`),console.log("Detail items dalam pesan:",o.map(f=>`${f.product_name} (${f.quantity}x)`)),console.log(`Panjang pesan ringkas: ${d.length} karakter`),d.length>1e3){console.error(`Bahkan pesan ringkas masih terlalu panjang (${d.length} karakter)`);const f=t.status==="pending"?"Menunggu Pembayaran":t.status==="processing"?"Diproses":t.status==="shipped"?"Dikirim":t.status==="completed"?"Selesai":t.status||"Menunggu";let m="Produk tidak tersedia";if(Array.isArray(o)&&o.length>0){const p=o[0];m=`${p.product_name||"Produk"} (${p.quantity||1}x)`,o.length>1&&(m+=` +${o.length-1} item lainnya`)}let g="";if(Array.isArray(o)&&o.length>0){const p=Math.min(o.length,3);for(let b=0;b<p;b++){const x=o[b];g+=`${b+1}. ${x.product_name||"Produk"} (${x.quantity||1}x) - ${D1(x.price||0)}
`}o.length>p&&(g+=`+${o.length-p} item lainnya
`)}else g=`Produk tidak tersedia
`;A=` *PESANAN BERHASIL* 

Halo ${(e==null?void 0:e.name)||"Pelanggan"}!

*DETAIL PESANAN*
ID: #${t.id.substring(0,8)}
Status: ${f}

*PRODUK YANG DIPESAN*
${g}
*PENGIRIMAN*
Kurir: ${c.provider||"JPC Delivery"}
Layanan: ${c.service||"Reguler"}
Ongkos Kirim: ${D1(c.cost||0)}
Estimasi: ${c.estimate||"1-3 Hari"}

*PEMBAYARAN*
Total: ${D1(t.total)}

*HUBUNGI*: 0813-9458-6882
*JAYA PERKASA CHARCOAL*`,console.log(`Panjang pesan darurat: ${A.length} karakter`)}else A=d;console.log(`Pesan final: ${A.length} karakter`),console.log("Konten pesan WhatsApp (awal):",A.substring(0,100)+"..."),console.log("Mengirim pesan WhatsApp ke:",e.phone);const h=await Qp(e.phone,A);return console.log(h?" WhatsApp notification berhasil dikirim ke pelanggan":" Gagal mengirim WhatsApp notification ke pelanggan"),h}catch(o){return console.error("Error sending customer order notification:",o),!1}},ome=async(t,e,r,n,a,s)=>{console.log("Sending WhatsApp notification to admin with shipping cost:",t==null?void 0:t.shipping_cost);try{const o=t.created_at?new Date(t.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})+" pukul "+new Date(t.created_at).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})+" pukul "+new Date().toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),l=y=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(y).replace("Rp","Rp "),c=Array.isArray(n)?n:[],u=c.reduce((y,C)=>y+(C.price||0)*(C.quantity||0),0),A=c.map((y,C)=>{const E=y.price||0,B=y.quantity||1,j=E*B;return`${C+1}. ${y.product_name||"Produk"} (${B}x) - ${l(j)}`}).join(`
`),d=a||{provider:t.shipping_provider||"JPC Delivery",service:t.shipping_service||"Reguler",estimate:t.shipping_estimate||"1-3 Jam",cost:t.shipping_cost||0},h=t.shipping_cost||d.cost||0;console.log("Admin notification - shipping cost:",h);const f=t.discount_data||{},m=f&&(f.value>0||f.code),g=m?f.type==="percentage"?`${f.value}%`:l(f.value||0):"0",p=(r==null?void 0:r.recipient_name)||(e==null?void 0:e.name)||"N/A",b=(r==null?void 0:r.recipient_phone)||(e==null?void 0:e.phone)||"N/A",x=` PESANAN BARU 

ID Pesanan: #${t.id}
Tanggal: ${o}
Status: ${t.status||"pending"}

DATA PELANGGAN
Nama: ${(e==null?void 0:e.name)||"Pelanggan"}
No. HP: ${(e==null?void 0:e.phone)||"N/A"}
Email: ${(e==null?void 0:e.email)||"N/A"}

DETAIL PENERIMA
Nama Penerima: ${p}
No. HP Penerima: ${b}

ALAMAT PENGIRIMAN
${(r==null?void 0:r.street)||"N/A"}
${r!=null&&r.district?r.district+", ":""}${(r==null?void 0:r.city)||"N/A"}
${(r==null?void 0:r.province)||"N/A"} ${(r==null?void 0:r.postal_code)||""}
Catatan: ${(r==null?void 0:r.notes)||"-"}

INFORMASI PENGIRIMAN
Kurir: ${d.provider||t.shipping_provider||"JPC Delivery"}
Layanan: ${d.service||t.shipping_service||"Reguler"}
Ongkos Kirim: ${l(h)}
Estimasi: ${d.estimate||t.shipping_estimate||"1-3 Jam"}
Detail Alamat: ${(r==null?void 0:r.country)||""}

DETAIL PESANAN
${A}

RINGKASAN PEMBAYARAN
Subtotal Produk: ${l(u)}
${m?`Diskon${f.code?" ("+f.code+")":""}: -${g}
`:""}Ongkos Kirim: ${l(h)}
Total Pembayaran: ${l(t.total)}

INFORMASI PEMBAYARAN
Metode: ${lme(t.payment_method||"N/A")}
Status Pembayaran: ${t.payment_status||"Belum dibayar"}
${t.payment_method==="bank-transfer"?`Bank: ${(s==null?void 0:s.bank_name)||"SeaBank"}
No. Rekening: ${(s==null?void 0:s.account_number)||"901958730549"}
a.n: ${(s==null?void 0:s.account_name)||"Jaya Perkasa Charcoal"}
`:""}
Terima kasih telah berbelanja di JPC!
Untuk informasi lebih lanjut, silakan hubungi kami.

PERHATIAN: Pesanan baru memerlukan persetujuan Anda. Silakan buka dashboard admin untuk memprosesnya.`;let w=0;for(const y of q7)try{w>0&&await new Promise(E=>setTimeout(E,1e3)),await Qp(y,x)&&(w++,console.log(` WhatsApp notification sent to admin: ${y}`))}catch(C){console.error(`Error sending WhatsApp to admin ${y}:`,C)}return w>0}catch(o){return console.error("Error sending admin notifications:",o),!1}},lme=t=>t==="bank-transfer"?"Transfer Bank":t==="cash-on-delivery"?"Bayar di Tempat (COD)":t==="e-wallet"?"E-Wallet":t==="qris"?"QRIS":t==="credit-card"?"Kartu Kredit":t,G7=Qp,z7=async t=>{try{console.log("Starting admin notification via WhatsApp (Firebase disabled)");try{const e=t.shipping_method_id||"",{data:r}=await Z.from("shipping_methods").select("*").eq("id",e).single(),{data:n}=await Z.from("profiles").select("name, phone, email").eq("id",t.user_id).single(),{data:a}=await Z.from("order_items").select("*").eq("order_id",t.id),{data:s}=await Z.from("addresses").select("*").eq("id",t.shipping_address_id).single();let o=null;if(t.payment_method==="bank-transfer"&&t.payment_details)try{o=typeof t.payment_details=="string"?JSON.parse(t.payment_details):t.payment_details}catch{o={bank_name:t.payment_details}}const l=await ome(t,n||{name:"Unknown Customer",phone:"N/A",email:"N/A"},s||{street:"N/A",city:"N/A"},a||[],r||{name:"Standard Shipping",cost:0},o);return console.log(`WhatsApp notification to admins: ${l?"success":"failed"}`),l}catch(e){return console.error("Error sending WhatsApp notification to admins:",e),!1}}catch(e){return console.error("Error in admin notification process:",e),!1}},O1=async(t,e)=>(console.log("FCM token storage disabled - using WhatsApp notifications only"),!1),zS=async t=>(console.log("Firebase notifications disabled - using WhatsApp notifications only"),null),W7=v.createContext(void 0);function Pr(){const t=v.useContext(W7);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function cme({children:t}){const[e,r]=v.useState(null),[n,a]=v.useState(null),[s,o]=v.useState(null),[l,c]=v.useState(!0),[u,A]=v.useState(!1),d=async y=>{try{const{data:C,error:E}=await Z.from("profiles").select("*").eq("id",y).maybeSingle();return E?(console.error("Error fetching profile:",E),null):C}catch(C){return console.error("Error in fetchProfile:",C),null}},h=async(y,C={})=>{try{let E=await d(y);if(!E){console.log("Profile not found, creating new profile for user:",y);const{data:B,error:j}=await Z.from("profiles").insert({id:y,name:C.name||"",email:C.email||"",role:C.role||"customer",created_at:new Date().toISOString()}).select().single();if(j)return console.error("Error creating profile:",j),null;E=B}return E}catch(E){return console.error("Error in ensureProfileExists:",E),null}},f=async()=>{var C;if(!e)return;let y=await d(e.id);y||(y=await h(e.id,{email:e.email,name:((C=e.user_metadata)==null?void 0:C.name)||""})),y&&a(y)};v.useEffect(()=>{const{data:{subscription:y}}=Z.auth.onAuthStateChange(async(C,E)=>{o(E),r((E==null?void 0:E.user)??null),E!=null&&E.user?(c(!0),setTimeout(async()=>{var j;let B=await d(E.user.id);B||(B=await h(E.user.id,{email:E.user.email,name:((j=E.user.user_metadata)==null?void 0:j.name)||""})),a(B),c(!1)},0)):(a(null),c(!1))});return Z.auth.getSession().then(async({data:{session:C}})=>{var E;if(o(C),r((C==null?void 0:C.user)??null),C!=null&&C.user){let B=await d(C.user.id);if(B||(B=await h(C.user.id,{email:C.user.email,name:((E=C.user.user_metadata)==null?void 0:E.name)||""})),B)try{const j=await I1();if(j){await O1(C.user.id,j),console.log("FCM token updated for returning user:",C.user.id,"Token:",j.substring(0,10)+"..."),B.fcm_token=j;const N={userAgent:navigator.userAgent,platform:navigator.platform,vendor:navigator.vendor,timestamp:new Date().toISOString()};console.log("Device info for FCM token:",N)}}catch(j){console.error("Error generating/storing FCM token on session check:",j)}a(B)}c(!1)}),()=>{y.unsubscribe()}},[]);let m=0,g=!1;const p=async()=>{if(!e)return!1;const y=Date.now();if(y-m<5e3)return console.log("Using cached phone verification result:",g),g;try{m=y;const{data:E,error:B}=await Z.from("profiles").select("is_phone_verified, phone_verified_at").eq("id",e.id).single();if(B||!E)return console.error("Error checking phone verification:",B),g=!1,A(!1),!1;const j=E.is_phone_verified===!0;return g=j,u!==j&&A(j),j}catch(E){return console.error("Error in checkPhoneVerification:",E),g=!1,A(!1),!1}},b=async(y,C)=>{try{c(!0);const{data:E,error:B}=await Z.auth.signInWithPassword({email:y,password:C});if(B)throw B;if(E!=null&&E.user){const j=await d(E.user.id);if(j&&a(j),await p(),"Notification"in window&&"serviceWorker"in navigator)try{const N=await I1();N?(localStorage.setItem("fcmToken",N),await O1(E.user.id,N),n&&a(S=>S&&{...S,fcm_token:N,last_token_update:new Date().toISOString()}),console.log("FCM token updated for user on login:",E.user.id,"Token:",N.substring(0,10)+"...")):console.log("No FCM token could be generated, notifications may not work")}catch(N){console.error("Error generating/storing FCM token:",N)}}}catch(E){throw console.error("Login error:",E),c(!1),E}finally{c(!1)}},x=async(y,C,E)=>{c(!0);try{const{data:B,error:j}=await Z.auth.signUp({email:C,password:E,options:{data:{name:y}}});if(j)throw j;if(B.user){await h(B.user.id,{email:C,name:y,role:"customer"});try{const N=await I1();if(N){await O1(B.user.id,N);const S={userAgent:navigator.userAgent,platform:navigator.platform,appName:navigator.appName,vendor:navigator.vendor,appVersion:navigator.appVersion,language:navigator.language,screen:{width:window.screen.width,height:window.screen.height,colorDepth:window.screen.colorDepth,pixelDepth:window.screen.pixelDepth},registrationTime:new Date().toISOString()};console.log("New user device info:",S),console.log("FCM token generated and stored for new user:",B.user.id,"Token:",N.substring(0,10)+"..."),console.log("Device info stored:",S);const T=await d(B.user.id);T&&a({...T,fcm_token:N})}}catch(N){console.error("Error generating/storing FCM token during registration:",N)}}}catch(B){throw c(!1),B}},w=async()=>{try{await Z.auth.signOut()}catch(y){console.error("Error during logout:",y)}};return v.useEffect(()=>{e&&n?p():A(!1)},[e,n]),i.jsx(W7.Provider,{value:{user:e,profile:n,isLoading:l,isPhoneVerified:u,login:b,register:x,logout:w,refreshProfile:f,checkPhoneVerification:p},children:t})}const X7=v.createContext(void 0);function Db(){const t=v.useContext(X7);if(!t)throw new Error("useCart must be used within a CartProvider");return t}function ume({children:t}){const[e,r]=v.useState([]);v.useEffect(()=>{const u=localStorage.getItem("cart");u&&r(JSON.parse(u))},[]),v.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const n=u=>{r(A=>{const d=A.findIndex(h=>h.id===u.id);if(d>-1){const h=[...A];return h[d]={...h[d],quantity:h[d].quantity+(u.quantity||1)},h}else return[...A,{...u,quantity:u.quantity||1}]})},a=u=>{r(A=>A.filter(d=>d.id!==u))},s=(u,A)=>{if(A<=0){a(u);return}r(d=>d.map(h=>h.id===u?{...h,quantity:A}:h))},o=()=>{r([])},l=e.reduce((u,A)=>u+A.price*A.quantity,0),c=e.reduce((u,A)=>u+A.quantity,0);return i.jsx(X7.Provider,{value:{items:e,addItem:n,removeItem:a,updateQuantity:s,clearCart:o,total:l,itemCount:c},children:t})}function Ame(){const t=la();return v.useEffect(()=>{t.pathname==="/"&&localStorage.getItem("whatsapp_verification_success")==="true"&&(localStorage.removeItem("whatsapp_verification_success"),setTimeout(()=>{window.location.reload()},100))},[t.pathname]),null}const dme=()=>{const t=la();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),i.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Ups! Halaman tidak ditemukan"}),i.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Kembali ke Beranda"})]})})};function Kt({children:t}){const e=la(),r=e.pathname.startsWith("/ppob");return i.jsxs("div",{className:"flex flex-col min-h-screen max-w-md mx-auto bg-background",children:[i.jsx("main",{className:he("flex-1 overflow-y-auto",{"pb-16 bottom-tab-height":!r}),children:t}),e.pathname==="/"&&i.jsx("div",{className:"text-center mb-2",children:i.jsx(dt,{to:"/admin-login",className:"text-xs text-muted-foreground hover:text-flame-500",children:"Akses Admin"})}),!r&&i.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 max-w-md mx-auto bg-background border-t",children:i.jsxs("div",{className:"flex justify-around items-center h-16",children:[i.jsx(Oh,{to:"/",icon:i.jsx(PH,{className:"h-6 w-6"}),label:"Beranda",isActive:e.pathname==="/"}),i.jsx(Oh,{to:"/chat",icon:i.jsx(dT,{className:"h-6 w-6"}),label:"Chat",isActive:e.pathname==="/chat"}),i.jsx(Oh,{to:"/cart",icon:i.jsx(Zy,{className:"h-6 w-6"}),label:"Keranjang",isActive:e.pathname==="/cart"}),i.jsx(Oh,{to:"/orders",icon:i.jsx(Ji,{className:"h-6 w-6"}),label:"Pesanan",isActive:e.pathname.includes("/order")||e.pathname==="/orders"}),i.jsx(Oh,{to:"/profile",icon:i.jsx(VA,{className:"h-6 w-6"}),label:"Profil",isActive:e.pathname==="/profile"})]})})]})}function Oh({to:t,icon:e,label:r,isActive:n}){return i.jsx(dt,{to:t,className:"flex flex-col items-center justify-center w-full",children:i.jsxs("div",{className:he("flex flex-col items-center justify-center",n?"text-flame-500":"text-charcoal-400"),children:[e,i.jsx("span",{className:"text-xs mt-1",children:r})]})})}const ue=v.forwardRef(({className:t,type:e,...r},n)=>i.jsx("input",{type:e,className:he("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));ue.displayName="Input";const _e=v.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:he("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));_e.displayName="Card";const at=v.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:he("flex flex-col space-y-1.5 p-6",t),...e}));at.displayName="CardHeader";const st=v.forwardRef(({className:t,...e},r)=>i.jsx("h3",{ref:r,className:he("text-2xl font-semibold leading-none tracking-tight",t),...e}));st.displayName="CardTitle";const rr=v.forwardRef(({className:t,...e},r)=>i.jsx("p",{ref:r,className:he("text-sm text-muted-foreground",t),...e}));rr.displayName="CardDescription";const Be=v.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:he("p-6 pt-0",t),...e}));Be.displayName="CardContent";const ns=v.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:he("flex items-center p-6 pt-0",t),...e}));ns.displayName="CardFooter";function vm(t,[e,r]){return Math.min(r,Math.max(e,t))}var hme=v.createContext(void 0);function Yd(t){const e=v.useContext(hme);return t||e||"ltr"}var R1=0;function Ik(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??dO()),document.body.insertAdjacentElement("beforeend",t[1]??dO()),R1++,()=>{R1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),R1--}},[])}function dO(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var U1="focusScope.autoFocusOnMount",M1="focusScope.autoFocusOnUnmount",hO={bubbles:!1,cancelable:!0},fme="FocusScope",Ob=v.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=t,[l,c]=v.useState(null),u=kr(a),A=kr(s),d=v.useRef(null),h=pt(e,g=>c(g)),f=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let g=function(w){if(f.paused||!l)return;const y=w.target;l.contains(y)?d.current=y:ko(d.current,{select:!0})},p=function(w){if(f.paused||!l)return;const y=w.relatedTarget;y!==null&&(l.contains(y)||ko(d.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const C of w)C.removedNodes.length>0&&ko(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",p);const x=new MutationObserver(b);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",p),x.disconnect()}}},[n,l,f.paused]),v.useEffect(()=>{if(l){mO.add(f);const g=document.activeElement;if(!l.contains(g)){const b=new CustomEvent(U1,hO);l.addEventListener(U1,u),l.dispatchEvent(b),b.defaultPrevented||(mme(yme(Y7(l)),{select:!0}),document.activeElement===g&&ko(l))}return()=>{l.removeEventListener(U1,u),setTimeout(()=>{const b=new CustomEvent(M1,hO);l.addEventListener(M1,A),l.dispatchEvent(b),b.defaultPrevented||ko(g??document.body,{select:!0}),l.removeEventListener(M1,A),mO.remove(f)},0)}}},[l,u,A,f]);const m=v.useCallback(g=>{if(!r&&!n||f.paused)return;const p=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(p&&b){const x=g.currentTarget,[w,y]=pme(x);w&&y?!g.shiftKey&&b===y?(g.preventDefault(),r&&ko(w,{select:!0})):g.shiftKey&&b===w&&(g.preventDefault(),r&&ko(y,{select:!0})):b===x&&g.preventDefault()}},[r,n,f.paused]);return i.jsx(Ye.div,{tabIndex:-1,...o,ref:h,onKeyDown:m})});Ob.displayName=fme;function mme(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(ko(n,{select:e}),document.activeElement!==r)return}function pme(t){const e=Y7(t),r=fO(e,t),n=fO(e.reverse(),t);return[r,n]}function Y7(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function fO(t,e){for(const r of t)if(!gme(r,{upTo:e}))return r}function gme(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function xme(t){return t instanceof HTMLInputElement&&"select"in t}function ko(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&xme(t)&&e&&t.select()}}var mO=vme();function vme(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=pO(t,e),t.unshift(e)},remove(e){var r;t=pO(t,e),(r=t[0])==null||r.resume()}}}function pO(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function yme(t){return t.filter(e=>e.tagName!=="A")}function Lp(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var bme=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Mu=new WeakMap,zg=new WeakMap,Wg={},Q1=0,J7=function(t){return t&&(t.host||J7(t.parentNode))},wme=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=J7(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},_me=function(t,e,r,n){var a=wme(e,Array.isArray(t)?t:[t]);Wg[r]||(Wg[r]=new WeakMap);var s=Wg[r],o=[],l=new Set,c=new Set(a),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};a.forEach(u);var A=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(l.has(h))A(h);else try{var f=h.getAttribute(n),m=f!==null&&f!=="false",g=(Mu.get(h)||0)+1,p=(s.get(h)||0)+1;Mu.set(h,g),s.set(h,p),o.push(h),g===1&&m&&zg.set(h,!0),p===1&&h.setAttribute(r,"true"),m||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return A(e),l.clear(),Q1++,function(){o.forEach(function(d){var h=Mu.get(d)-1,f=s.get(d)-1;Mu.set(d,h),s.set(d,f),h||(zg.has(d)||d.removeAttribute(n),zg.delete(d)),f||d.removeAttribute(r)}),Q1--,Q1||(Mu=new WeakMap,Mu=new WeakMap,zg=new WeakMap,Wg={})}},Pk=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=bme(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),_me(n,a,r,"aria-hidden")):function(){return null}},ei=function(){return ei=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ei.apply(this,arguments)};function Z7(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function Bme(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,s;n<a;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var Z0="right-scroll-bar-position",ex="width-before-scroll-bar",Cme="with-scroll-bars-hidden",jme="--removed-body-scroll-bar-size";function L1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Eme(t,e){var r=v.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=e,r.facade}var Sme=typeof window<"u"?v.useLayoutEffect:v.useEffect,gO=new WeakMap;function Nme(t,e){var r=Eme(null,function(n){return t.forEach(function(a){return L1(a,n)})});return Sme(function(){var n=gO.get(r);if(n){var a=new Set(n),s=new Set(t),o=r.current;a.forEach(function(l){s.has(l)||L1(l,null)}),s.forEach(function(l){a.has(l)||L1(l,o)})}gO.set(r,t)},[t]),r}function Tme(t){return t}function kme(t,e){e===void 0&&(e=Tme);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var o=e(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var A=o;o=[],A.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(A){o.push(A),u()},filter:function(A){return o=o.filter(A),r}}}};return a}function Ime(t){t===void 0&&(t={});var e=kme(null);return e.options=ei({async:!0,ssr:!1},t),e}var eK=function(t){var e=t.sideCar,r=Z7(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,ei({},r))};eK.isSideCarExport=!0;function Pme(t,e){return t.useMedium(e),eK}var tK=Ime(),H1=function(){},Rb=v.forwardRef(function(t,e){var r=v.useRef(null),n=v.useState({onScrollCapture:H1,onWheelCapture:H1,onTouchMoveCapture:H1}),a=n[0],s=n[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,A=t.enabled,d=t.shards,h=t.sideCar,f=t.noIsolation,m=t.inert,g=t.allowPinchZoom,p=t.as,b=p===void 0?"div":p,x=t.gapMode,w=Z7(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),y=h,C=Nme([r,e]),E=ei(ei({},w),a);return v.createElement(v.Fragment,null,A&&v.createElement(y,{sideCar:tK,removeScrollBar:u,shards:d,noIsolation:f,inert:m,setCallbacks:s,allowPinchZoom:!!g,lockRef:r,gapMode:x}),o?v.cloneElement(v.Children.only(l),ei(ei({},E),{ref:C})):v.createElement(b,ei({},E,{className:c,ref:C}),l))});Rb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rb.classNames={fullWidth:ex,zeroRight:Z0};var Fme=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Dme(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Fme();return e&&t.setAttribute("nonce",e),t}function Ome(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Rme(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Ume=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Dme())&&(Ome(e,r),Rme(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Mme=function(){var t=Ume();return function(e,r){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},rK=function(){var t=Mme(),e=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return e},Qme={left:0,top:0,right:0,gap:0},$1=function(t){return parseInt(t||"",10)||0},Lme=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[$1(r),$1(n),$1(a)]},Hme=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Qme;var e=Lme(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},$me=rK(),yA="data-scroll-locked",Vme=function(t,e,r,n){var a=t.left,s=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Cme,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(yA,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Z0,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ex,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Z0," .").concat(Z0,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ex," .").concat(ex,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(yA,`] {
    `).concat(jme,": ").concat(l,`px;
  }
`)},xO=function(){var t=parseInt(document.body.getAttribute(yA)||"0",10);return isFinite(t)?t:0},Kme=function(){v.useEffect(function(){return document.body.setAttribute(yA,(xO()+1).toString()),function(){var t=xO()-1;t<=0?document.body.removeAttribute(yA):document.body.setAttribute(yA,t.toString())}},[])},qme=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;Kme();var s=v.useMemo(function(){return Hme(a)},[a]);return v.createElement($me,{styles:Vme(s,!e,a,r?"":"!important")})},WS=!1;if(typeof window<"u")try{var Xg=Object.defineProperty({},"passive",{get:function(){return WS=!0,!0}});window.addEventListener("test",Xg,Xg),window.removeEventListener("test",Xg,Xg)}catch{WS=!1}var Qu=WS?{passive:!1}:!1,Gme=function(t){return t.tagName==="TEXTAREA"},nK=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Gme(t)&&r[e]==="visible")},zme=function(t){return nK(t,"overflowY")},Wme=function(t){return nK(t,"overflowX")},vO=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=aK(t,n);if(a){var s=sK(t,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Xme=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Yme=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},aK=function(t,e){return t==="v"?zme(e):Wme(e)},sK=function(t,e){return t==="v"?Xme(e):Yme(e)},Jme=function(t,e){return t==="h"&&e==="rtl"?-1:1},Zme=function(t,e,r,n,a){var s=Jme(t,window.getComputedStyle(e).direction),o=s*n,l=r.target,c=e.contains(l),u=!1,A=o>0,d=0,h=0;do{var f=sK(t,l),m=f[0],g=f[1],p=f[2],b=g-p-s*m;(m||b)&&aK(t,l)&&(d+=b,h+=m),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(A&&Math.abs(d)<1||!A&&Math.abs(h)<1)&&(u=!0),u},Yg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},yO=function(t){return[t.deltaX,t.deltaY]},bO=function(t){return t&&"current"in t?t.current:t},epe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},tpe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},rpe=0,Lu=[];function npe(t){var e=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),a=v.useState(rpe++)[0],s=v.useState(rK)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var g=Bme([t.lockRef.current],(t.shards||[]).map(bO),!0).filter(Boolean);return g.forEach(function(p){return p.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(p){return p.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var l=v.useCallback(function(g,p){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=Yg(g),x=r.current,w="deltaX"in g?g.deltaX:x[0]-b[0],y="deltaY"in g?g.deltaY:x[1]-b[1],C,E=g.target,B=Math.abs(w)>Math.abs(y)?"h":"v";if("touches"in g&&B==="h"&&E.type==="range")return!1;var j=vO(B,E);if(!j)return!0;if(j?C=B:(C=B==="v"?"h":"v",j=vO(B,E)),!j)return!1;if(!n.current&&"changedTouches"in g&&(w||y)&&(n.current=C),!C)return!0;var N=n.current||C;return Zme(N,p,g,N==="h"?w:y)},[]),c=v.useCallback(function(g){var p=g;if(!(!Lu.length||Lu[Lu.length-1]!==s)){var b="deltaY"in p?yO(p):Yg(p),x=e.current.filter(function(C){return C.name===p.type&&(C.target===p.target||p.target===C.shadowParent)&&epe(C.delta,b)})[0];if(x&&x.should){p.cancelable&&p.preventDefault();return}if(!x){var w=(o.current.shards||[]).map(bO).filter(Boolean).filter(function(C){return C.contains(p.target)}),y=w.length>0?l(p,w[0]):!o.current.noIsolation;y&&p.cancelable&&p.preventDefault()}}},[]),u=v.useCallback(function(g,p,b,x){var w={name:g,delta:p,target:b,should:x,shadowParent:ape(b)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(y){return y!==w})},1)},[]),A=v.useCallback(function(g){r.current=Yg(g),n.current=void 0},[]),d=v.useCallback(function(g){u(g.type,yO(g),g.target,l(g,t.lockRef.current))},[]),h=v.useCallback(function(g){u(g.type,Yg(g),g.target,l(g,t.lockRef.current))},[]);v.useEffect(function(){return Lu.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Qu),document.addEventListener("touchmove",c,Qu),document.addEventListener("touchstart",A,Qu),function(){Lu=Lu.filter(function(g){return g!==s}),document.removeEventListener("wheel",c,Qu),document.removeEventListener("touchmove",c,Qu),document.removeEventListener("touchstart",A,Qu)}},[]);var f=t.removeScrollBar,m=t.inert;return v.createElement(v.Fragment,null,m?v.createElement(s,{styles:tpe(a)}):null,f?v.createElement(qme,{gapMode:t.gapMode}):null)}function ape(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const spe=Pme(tK,npe);var Ub=v.forwardRef(function(t,e){return v.createElement(Rb,ei({},t,{ref:e,sideCar:spe}))});Ub.classNames=Rb.classNames;var ipe=[" ","Enter","ArrowUp","ArrowDown"],ope=[" ","Enter"],Hp="Select",[Mb,Qb,lpe]=Wy(Hp),[Jd,$8e]=ba(Hp,[lpe,$d]),Lb=$d(),[cpe,Ul]=Jd(Hp),[upe,Ape]=Jd(Hp),iK=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:a,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:A,autoComplete:d,disabled:h,required:f,form:m}=t,g=Lb(e),[p,b]=v.useState(null),[x,w]=v.useState(null),[y,C]=v.useState(!1),E=Yd(u),[B=!1,j]=ls({prop:n,defaultProp:a,onChange:s}),[N,S]=ls({prop:o,defaultProp:l,onChange:c}),T=v.useRef(null),I=p?m||!!p.closest("form"):!0,[k,R]=v.useState(new Set),M=Array.from(k).map($=>$.props.value).join(";");return i.jsx(CT,{...g,children:i.jsxs(cpe,{required:f,scope:e,trigger:p,onTriggerChange:b,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:y,onValueNodeHasChildrenChange:C,contentId:oi(),value:N,onValueChange:S,open:B,onOpenChange:j,dir:E,triggerPointerDownPosRef:T,disabled:h,children:[i.jsx(Mb.Provider,{scope:e,children:i.jsx(upe,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback($=>{R(U=>new Set(U).add($))},[]),onNativeOptionRemove:v.useCallback($=>{R(U=>{const O=new Set(U);return O.delete($),O})},[]),children:r})}),I?i.jsxs(kK,{"aria-hidden":!0,required:f,tabIndex:-1,name:A,autoComplete:d,value:N,onChange:$=>S($.target.value),disabled:h,form:m,children:[N===void 0?i.jsx("option",{value:""}):null,Array.from(k)]},M):null]})})};iK.displayName=Hp;var oK="SelectTrigger",lK=v.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,s=Lb(r),o=Ul(oK,r),l=o.disabled||n,c=pt(e,o.onTriggerChange),u=Qb(r),A=v.useRef("touch"),[d,h,f]=IK(g=>{const p=u().filter(w=>!w.disabled),b=p.find(w=>w.value===o.value),x=PK(p,g,b);x!==void 0&&o.onValueChange(x.value)}),m=g=>{l||(o.onOpenChange(!0),f()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return i.jsx(sb,{asChild:!0,...s,children:i.jsx(Ye.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":TK(o.value)?"":void 0,...a,ref:c,onClick:Fe(a.onClick,g=>{g.currentTarget.focus(),A.current!=="mouse"&&m(g)}),onPointerDown:Fe(a.onPointerDown,g=>{A.current=g.pointerType;const p=g.target;p.hasPointerCapture(g.pointerId)&&p.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(m(g),g.preventDefault())}),onKeyDown:Fe(a.onKeyDown,g=>{const p=d.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(p&&g.key===" ")&&ipe.includes(g.key)&&(m(),g.preventDefault())})})})});lK.displayName=oK;var cK="SelectValue",uK=v.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:o="",...l}=t,c=Ul(cK,r),{onValueNodeHasChildrenChange:u}=c,A=s!==void 0,d=pt(e,c.onValueNodeChange);return Yr(()=>{u(A)},[u,A]),i.jsx(Ye.span,{...l,ref:d,style:{pointerEvents:"none"},children:TK(c.value)?i.jsx(i.Fragment,{children:o}):s})});uK.displayName=cK;var dpe="SelectIcon",AK=v.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...a}=t;return i.jsx(Ye.span,{"aria-hidden":!0,...a,ref:e,children:n||""})});AK.displayName=dpe;var hpe="SelectPortal",dK=t=>i.jsx(Cp,{asChild:!0,...t});dK.displayName=hpe;var ru="SelectContent",hK=v.forwardRef((t,e)=>{const r=Ul(ru,t.__scopeSelect),[n,a]=v.useState();if(Yr(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?Od.createPortal(i.jsx(fK,{scope:t.__scopeSelect,children:i.jsx(Mb.Slot,{scope:t.__scopeSelect,children:i.jsx("div",{children:t.children})})}),s):null}return i.jsx(mK,{...t,ref:e})});hK.displayName=ru;var ps=10,[fK,Ml]=Jd(ru),fpe="SelectContentImpl",mK=v.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:A,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:m,hideWhenDetached:g,avoidCollisions:p,...b}=t,x=Ul(ru,r),[w,y]=v.useState(null),[C,E]=v.useState(null),B=pt(e,oe=>y(oe)),[j,N]=v.useState(null),[S,T]=v.useState(null),I=Qb(r),[k,R]=v.useState(!1),M=v.useRef(!1);v.useEffect(()=>{if(w)return Pk(w)},[w]),Ik();const $=v.useCallback(oe=>{const[ne,...ce]=I().map(Y=>Y.ref.current),[de]=ce.slice(-1),be=document.activeElement;for(const Y of oe)if(Y===be||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===ne&&C&&(C.scrollTop=0),Y===de&&C&&(C.scrollTop=C.scrollHeight),Y==null||Y.focus(),document.activeElement!==be))return},[I,C]),U=v.useCallback(()=>$([j,w]),[$,j,w]);v.useEffect(()=>{k&&U()},[k,U]);const{onOpenChange:O,triggerPointerDownPosRef:L}=x;v.useEffect(()=>{if(w){let oe={x:0,y:0};const ne=de=>{var be,Y;oe={x:Math.abs(Math.round(de.pageX)-(((be=L.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(de.pageY)-(((Y=L.current)==null?void 0:Y.y)??0))}},ce=de=>{oe.x<=10&&oe.y<=10?de.preventDefault():w.contains(de.target)||O(!1),document.removeEventListener("pointermove",ne),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",ne),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",ce,{capture:!0})}}},[w,O,L]),v.useEffect(()=>{const oe=()=>O(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[O]);const[H,D]=IK(oe=>{const ne=I().filter(be=>!be.disabled),ce=ne.find(be=>be.ref.current===document.activeElement),de=PK(ne,oe,ce);de&&setTimeout(()=>de.ref.current.focus())}),Q=v.useCallback((oe,ne,ce)=>{const de=!M.current&&!ce;(x.value!==void 0&&x.value===ne||de)&&(N(oe),de&&(M.current=!0))},[x.value]),z=v.useCallback(()=>w==null?void 0:w.focus(),[w]),q=v.useCallback((oe,ne,ce)=>{const de=!M.current&&!ce;(x.value!==void 0&&x.value===ne||de)&&T(oe)},[x.value]),W=n==="popper"?XS:pK,ee=W===XS?{side:l,sideOffset:c,align:u,alignOffset:A,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:m,hideWhenDetached:g,avoidCollisions:p}:{};return i.jsx(fK,{scope:r,content:w,viewport:C,onViewportChange:E,itemRefCallback:Q,selectedItem:j,onItemLeave:z,itemTextRefCallback:q,focusSelectedItem:U,selectedItemText:S,position:n,isPositioned:k,searchRef:H,children:i.jsx(Ub,{as:Yi,allowPinchZoom:!0,children:i.jsx(Ob,{asChild:!0,trapped:x.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:Fe(a,oe=>{var ne;(ne=x.trigger)==null||ne.focus({preventScroll:!0}),oe.preventDefault()}),children:i.jsx(Rd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:i.jsx(W,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:oe=>oe.preventDefault(),...b,...ee,onPlaced:()=>R(!0),ref:B,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Fe(b.onKeyDown,oe=>{const ne=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!ne&&oe.key.length===1&&D(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let de=I().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const be=oe.target,Y=de.indexOf(be);de=de.slice(Y+1)}setTimeout(()=>$(de)),oe.preventDefault()}})})})})})})});mK.displayName=fpe;var mpe="SelectItemAlignedPosition",pK=v.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,s=Ul(ru,r),o=Ml(ru,r),[l,c]=v.useState(null),[u,A]=v.useState(null),d=pt(e,B=>A(B)),h=Qb(r),f=v.useRef(!1),m=v.useRef(!0),{viewport:g,selectedItem:p,selectedItemText:b,focusSelectedItem:x}=o,w=v.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&g&&p&&b){const B=s.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),N=s.valueNode.getBoundingClientRect(),S=b.getBoundingClientRect();if(s.dir!=="rtl"){const be=S.left-j.left,Y=N.left-be,pe=B.left-Y,je=B.width+pe,Le=Math.max(je,j.width),Ve=window.innerWidth-ps,bt=vm(Y,[ps,Math.max(ps,Ve-Le)]);l.style.minWidth=je+"px",l.style.left=bt+"px"}else{const be=j.right-S.right,Y=window.innerWidth-N.right-be,pe=window.innerWidth-B.right-Y,je=B.width+pe,Le=Math.max(je,j.width),Ve=window.innerWidth-ps,bt=vm(Y,[ps,Math.max(ps,Ve-Le)]);l.style.minWidth=je+"px",l.style.right=bt+"px"}const T=h(),I=window.innerHeight-ps*2,k=g.scrollHeight,R=window.getComputedStyle(u),M=parseInt(R.borderTopWidth,10),$=parseInt(R.paddingTop,10),U=parseInt(R.borderBottomWidth,10),O=parseInt(R.paddingBottom,10),L=M+$+k+O+U,H=Math.min(p.offsetHeight*5,L),D=window.getComputedStyle(g),Q=parseInt(D.paddingTop,10),z=parseInt(D.paddingBottom,10),q=B.top+B.height/2-ps,W=I-q,ee=p.offsetHeight/2,oe=p.offsetTop+ee,ne=M+$+oe,ce=L-ne;if(ne<=q){const be=T.length>0&&p===T[T.length-1].ref.current;l.style.bottom="0px";const Y=u.clientHeight-g.offsetTop-g.offsetHeight,pe=Math.max(W,ee+(be?z:0)+Y+U),je=ne+pe;l.style.height=je+"px"}else{const be=T.length>0&&p===T[0].ref.current;l.style.top="0px";const pe=Math.max(q,M+g.offsetTop+(be?Q:0)+ee)+ce;l.style.height=pe+"px",g.scrollTop=ne-q+g.offsetTop}l.style.margin=`${ps}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[h,s.trigger,s.valueNode,l,u,g,p,b,s.dir,n]);Yr(()=>w(),[w]);const[y,C]=v.useState();Yr(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const E=v.useCallback(B=>{B&&m.current===!0&&(w(),x==null||x(),m.current=!1)},[w,x]);return i.jsx(gpe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:E,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:y},children:i.jsx(Ye.div,{...a,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});pK.displayName=mpe;var ppe="SelectPopperPosition",XS=v.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=ps,...s}=t,o=Lb(r);return i.jsx(jT,{...o,...s,ref:e,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});XS.displayName=ppe;var[gpe,Fk]=Jd(ru,{}),YS="SelectViewport",gK=v.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...a}=t,s=Ml(YS,r),o=Fk(YS,r),l=pt(e,s.onViewportChange),c=v.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(Mb.Slot,{scope:r,children:i.jsx(Ye.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Fe(a.onScroll,u=>{const A=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&d){const f=Math.abs(c.current-A.scrollTop);if(f>0){const m=window.innerHeight-ps*2,g=parseFloat(d.style.minHeight),p=parseFloat(d.style.height),b=Math.max(g,p);if(b<m){const x=b+f,w=Math.min(m,x),y=x-w;d.style.height=w+"px",d.style.bottom==="0px"&&(A.scrollTop=y>0?y:0,d.style.justifyContent="flex-end")}}}c.current=A.scrollTop})})})]})});gK.displayName=YS;var xK="SelectGroup",[xpe,vpe]=Jd(xK),ype=v.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=oi();return i.jsx(xpe,{scope:r,id:a,children:i.jsx(Ye.div,{role:"group","aria-labelledby":a,...n,ref:e})})});ype.displayName=xK;var vK="SelectLabel",yK=v.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=vpe(vK,r);return i.jsx(Ye.div,{id:a.id,...n,ref:e})});yK.displayName=vK;var wv="SelectItem",[bpe,bK]=Jd(wv),wK=v.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...o}=t,l=Ul(wv,r),c=Ml(wv,r),u=l.value===n,[A,d]=v.useState(s??""),[h,f]=v.useState(!1),m=pt(e,x=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,x,n,a)}),g=oi(),p=v.useRef("touch"),b=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(bpe,{scope:r,value:n,disabled:a,textId:g,isSelected:u,onItemTextChange:v.useCallback(x=>{d(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:i.jsx(Mb.ItemSlot,{scope:r,value:n,disabled:a,textValue:A,children:i.jsx(Ye.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:m,onFocus:Fe(o.onFocus,()=>f(!0)),onBlur:Fe(o.onBlur,()=>f(!1)),onClick:Fe(o.onClick,()=>{p.current!=="mouse"&&b()}),onPointerUp:Fe(o.onPointerUp,()=>{p.current==="mouse"&&b()}),onPointerDown:Fe(o.onPointerDown,x=>{p.current=x.pointerType}),onPointerMove:Fe(o.onPointerMove,x=>{var w;p.current=x.pointerType,a?(w=c.onItemLeave)==null||w.call(c):p.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Fe(o.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Fe(o.onKeyDown,x=>{var y;((y=c.searchRef)==null?void 0:y.current)!==""&&x.key===" "||(ope.includes(x.key)&&b(),x.key===" "&&x.preventDefault())})})})})});wK.displayName=wv;var sf="SelectItemText",_K=v.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,...s}=t,o=Ul(sf,r),l=Ml(sf,r),c=bK(sf,r),u=Ape(sf,r),[A,d]=v.useState(null),h=pt(e,b=>d(b),c.onItemTextChange,b=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,b,c.value,c.disabled)}),f=A==null?void 0:A.textContent,m=v.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:g,onNativeOptionRemove:p}=u;return Yr(()=>(g(m),()=>p(m)),[g,p,m]),i.jsxs(i.Fragment,{children:[i.jsx(Ye.span,{id:c.textId,...s,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Od.createPortal(s.children,o.valueNode):null]})});_K.displayName=sf;var BK="SelectItemIndicator",CK=v.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return bK(BK,r).isSelected?i.jsx(Ye.span,{"aria-hidden":!0,...n,ref:e}):null});CK.displayName=BK;var JS="SelectScrollUpButton",jK=v.forwardRef((t,e)=>{const r=Ml(JS,t.__scopeSelect),n=Fk(JS,t.__scopeSelect),[a,s]=v.useState(!1),o=pt(e,n.onScrollButtonChange);return Yr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(SK,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});jK.displayName=JS;var ZS="SelectScrollDownButton",EK=v.forwardRef((t,e)=>{const r=Ml(ZS,t.__scopeSelect),n=Fk(ZS,t.__scopeSelect),[a,s]=v.useState(!1),o=pt(e,n.onScrollButtonChange);return Yr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,A=Math.ceil(c.scrollTop)<u;s(A)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(SK,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});EK.displayName=ZS;var SK=v.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,s=Ml("SelectScrollButton",r),o=v.useRef(null),l=Qb(r),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),Yr(()=>{var A;const u=l().find(d=>d.ref.current===document.activeElement);(A=u==null?void 0:u.ref.current)==null||A.scrollIntoView({block:"nearest"})},[l]),i.jsx(Ye.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:Fe(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Fe(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Fe(a.onPointerLeave,()=>{c()})})}),wpe="SelectSeparator",NK=v.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return i.jsx(Ye.div,{"aria-hidden":!0,...n,ref:e})});NK.displayName=wpe;var e2="SelectArrow",_pe=v.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=Lb(r),s=Ul(e2,r),o=Ml(e2,r);return s.open&&o.position==="popper"?i.jsx(ET,{...a,...n,ref:e}):null});_pe.displayName=e2;function TK(t){return t===""||t===void 0}var kK=v.forwardRef((t,e)=>{const{value:r,...n}=t,a=v.useRef(null),s=pt(e,a),o=Lp(r);return v.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,A=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&A){const d=new Event("change",{bubbles:!0});A.call(l,r),l.dispatchEvent(d)}},[o,r]),i.jsx(jp,{asChild:!0,children:i.jsx("select",{...n,ref:s,defaultValue:r})})});kK.displayName="BubbleSelect";function IK(t){const e=kr(t),r=v.useRef(""),n=v.useRef(0),a=v.useCallback(o=>{const l=r.current+o;e(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),s=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function PK(t,e,r){const a=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=Bpe(t,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Bpe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Cpe=iK,FK=lK,jpe=uK,Epe=AK,Spe=dK,DK=hK,Npe=gK,OK=yK,RK=wK,Tpe=_K,kpe=CK,UK=jK,MK=EK,QK=NK;const Cn=Cpe,jn=jpe,ln=v.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(FK,{ref:n,className:he("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,i.jsx(Epe,{asChild:!0,children:i.jsx(cT,{className:"h-4 w-4 opacity-50"})})]}));ln.displayName=FK.displayName;const LK=v.forwardRef(({className:t,...e},r)=>i.jsx(UK,{ref:r,className:he("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(wte,{className:"h-4 w-4"})}));LK.displayName=UK.displayName;const HK=v.forwardRef(({className:t,...e},r)=>i.jsx(MK,{ref:r,className:he("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(cT,{className:"h-4 w-4"})}));HK.displayName=MK.displayName;const cn=v.forwardRef(({className:t,children:e,position:r="popper",...n},a)=>i.jsx(Spe,{children:i.jsxs(DK,{ref:a,className:he("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[i.jsx(LK,{}),i.jsx(Npe,{className:he("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),i.jsx(HK,{})]})}));cn.displayName=DK.displayName;const Ipe=v.forwardRef(({className:t,...e},r)=>i.jsx(OK,{ref:r,className:he("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Ipe.displayName=OK.displayName;const mt=v.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(RK,{ref:n,className:he("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(kpe,{children:i.jsx(lT,{className:"h-4 w-4"})})}),i.jsx(Tpe,{children:e})]}));mt.displayName=RK.displayName;const Ppe=v.forwardRef(({className:t,...e},r)=>i.jsx(QK,{ref:r,className:he("-mx-1 my-1 h-px bg-muted",t),...e}));Ppe.displayName=QK.displayName;var $K=["PageUp","PageDown"],VK=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],KK={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Zd="Slider",[t2,Fpe,Dpe]=Wy(Zd),[qK,V8e]=ba(Zd,[Dpe]),[Ope,Hb]=qK(Zd),GK=v.forwardRef((t,e)=>{const{name:r,min:n=0,max:a=100,step:s=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:A,onValueChange:d=()=>{},onValueCommit:h=()=>{},inverted:f=!1,form:m,...g}=t,p=v.useRef(new Set),b=v.useRef(0),w=o==="horizontal"?Rpe:Upe,[y=[],C]=ls({prop:A,defaultProp:u,onChange:T=>{var k;(k=[...p.current][b.current])==null||k.focus(),d(T)}}),E=v.useRef(y);function B(T){const I=$pe(y,T);S(T,I)}function j(T){S(T,b.current)}function N(){const T=E.current[b.current];y[b.current]!==T&&h(y)}function S(T,I,{commit:k}={commit:!1}){const R=Gpe(s),M=zpe(Math.round((T-n)/s)*s+n,R),$=vm(M,[n,a]);C((U=[])=>{const O=Lpe(U,$,I);if(qpe(O,c*s)){b.current=O.indexOf($);const L=String(O)!==String(U);return L&&k&&h(O),L?O:U}else return U})}return i.jsx(Ope,{scope:t.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:b,thumbs:p.current,values:y,orientation:o,form:m,children:i.jsx(t2.Provider,{scope:t.__scopeSlider,children:i.jsx(t2.Slot,{scope:t.__scopeSlider,children:i.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:e,onPointerDown:Fe(g.onPointerDown,()=>{l||(E.current=y)}),min:n,max:a,inverted:f,onSlideStart:l?void 0:B,onSlideMove:l?void 0:j,onSlideEnd:l?void 0:N,onHomeKeyDown:()=>!l&&S(n,0,{commit:!0}),onEndKeyDown:()=>!l&&S(a,y.length-1,{commit:!0}),onStepKeyDown:({event:T,direction:I})=>{if(!l){const M=$K.includes(T.key)||T.shiftKey&&VK.includes(T.key)?10:1,$=b.current,U=y[$],O=s*M*I;S(U+O,$,{commit:!0})}}})})})})});GK.displayName=Zd;var[zK,WK]=qK(Zd,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Rpe=v.forwardRef((t,e)=>{const{min:r,max:n,dir:a,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...A}=t,[d,h]=v.useState(null),f=pt(e,w=>h(w)),m=v.useRef(),g=Yd(a),p=g==="ltr",b=p&&!s||!p&&s;function x(w){const y=m.current||d.getBoundingClientRect(),C=[0,y.width],B=Dk(C,b?[r,n]:[n,r]);return m.current=y,B(w-y.left)}return i.jsx(zK,{scope:t.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:i.jsx(XK,{dir:g,"data-orientation":"horizontal",...A,ref:f,style:{...A.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const y=x(w.clientX);o==null||o(y)},onSlideMove:w=>{const y=x(w.clientX);l==null||l(y)},onSlideEnd:()=>{m.current=void 0,c==null||c()},onStepKeyDown:w=>{const C=KK[b?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:C?-1:1})}})})}),Upe=v.forwardRef((t,e)=>{const{min:r,max:n,inverted:a,onSlideStart:s,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=t,A=v.useRef(null),d=pt(e,A),h=v.useRef(),f=!a;function m(g){const p=h.current||A.current.getBoundingClientRect(),b=[0,p.height],w=Dk(b,f?[n,r]:[r,n]);return h.current=p,w(g-p.top)}return i.jsx(zK,{scope:t.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:i.jsx(XK,{"data-orientation":"vertical",...u,ref:d,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const p=m(g.clientY);s==null||s(p)},onSlideMove:g=>{const p=m(g.clientY);o==null||o(p)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:g=>{const b=KK[f?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:b?-1:1})}})})}),XK=v.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=t,A=Hb(Zd,r);return i.jsx(Ye.span,{...u,ref:e,onKeyDown:Fe(t.onKeyDown,d=>{d.key==="Home"?(o(d),d.preventDefault()):d.key==="End"?(l(d),d.preventDefault()):$K.concat(VK).includes(d.key)&&(c(d),d.preventDefault())}),onPointerDown:Fe(t.onPointerDown,d=>{const h=d.target;h.setPointerCapture(d.pointerId),d.preventDefault(),A.thumbs.has(h)?h.focus():n(d)}),onPointerMove:Fe(t.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&a(d)}),onPointerUp:Fe(t.onPointerUp,d=>{const h=d.target;h.hasPointerCapture(d.pointerId)&&(h.releasePointerCapture(d.pointerId),s(d))})})}),YK="SliderTrack",JK=v.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,a=Hb(YK,r);return i.jsx(Ye.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:e})});JK.displayName=YK;var r2="SliderRange",ZK=v.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,a=Hb(r2,r),s=WK(r2,r),o=v.useRef(null),l=pt(e,o),c=a.values.length,u=a.values.map(h=>tq(h,a.min,a.max)),A=c>1?Math.min(...u):0,d=100-Math.max(...u);return i.jsx(Ye.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...t.style,[s.startEdge]:A+"%",[s.endEdge]:d+"%"}})});ZK.displayName=r2;var n2="SliderThumb",eq=v.forwardRef((t,e)=>{const r=Fpe(t.__scopeSlider),[n,a]=v.useState(null),s=pt(e,l=>a(l)),o=v.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return i.jsx(Mpe,{...t,ref:s,index:o})}),Mpe=v.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:a,...s}=t,o=Hb(n2,r),l=WK(n2,r),[c,u]=v.useState(null),A=pt(e,x=>u(x)),d=c?o.form||!!c.closest("form"):!0,h=Np(c),f=o.values[n],m=f===void 0?0:tq(f,o.min,o.max),g=Hpe(n,o.values.length),p=h==null?void 0:h[l.size],b=p?Vpe(p,m,l.direction):0;return v.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${m}% + ${b}px)`},children:[i.jsx(t2.ItemSlot,{scope:t.__scopeSlider,children:i.jsx(Ye.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":f,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:A,style:f===void 0?{display:"none"}:t.style,onFocus:Fe(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),d&&i.jsx(Qpe,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:f},n)]})});eq.displayName=n2;var Qpe=t=>{const{value:e,...r}=t,n=v.useRef(null),a=Lp(e);return v.useEffect(()=>{const s=n.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(a!==e&&c){const u=new Event("input",{bubbles:!0});c.call(s,e),s.dispatchEvent(u)}},[a,e]),i.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:e})};function Lpe(t=[],e,r){const n=[...t];return n[r]=e,n.sort((a,s)=>a-s)}function tq(t,e,r){const s=100/(r-e)*(t-e);return vm(s,[0,100])}function Hpe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function $pe(t,e){if(t.length===1)return 0;const r=t.map(a=>Math.abs(a-e)),n=Math.min(...r);return r.indexOf(n)}function Vpe(t,e,r){const n=t/2,s=Dk([0,50],[0,n]);return(n-s(e)*r)*r}function Kpe(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function qpe(t,e){if(e>0){const r=Kpe(t);return Math.min(...r)>=e}return!0}function Dk(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function Gpe(t){return(String(t).split(".")[1]||"").length}function zpe(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var rq=GK,Wpe=JK,Xpe=ZK,Ype=eq;const nq=v.forwardRef(({className:t,...e},r)=>i.jsxs(rq,{ref:r,className:he("relative flex w-full touch-none select-none items-center",t),...e,children:[i.jsx(Wpe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:i.jsx(Xpe,{className:"absolute h-full bg-primary"})}),i.jsx(Ype,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));nq.displayName=rq.displayName;var Ok="Dialog",[aq,sq]=ba(Ok),[Jpe,Qs]=aq(Ok),iq=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!0}=t,l=v.useRef(null),c=v.useRef(null),[u=!1,A]=ls({prop:n,defaultProp:a,onChange:s});return i.jsx(Jpe,{scope:e,triggerRef:l,contentRef:c,contentId:oi(),titleId:oi(),descriptionId:oi(),open:u,onOpenChange:A,onOpenToggle:v.useCallback(()=>A(d=>!d),[A]),modal:o,children:r})};iq.displayName=Ok;var oq="DialogTrigger",lq=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Qs(oq,r),s=pt(e,a.triggerRef);return i.jsx(Ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Mk(a.open),...n,ref:s,onClick:Fe(t.onClick,a.onOpenToggle)})});lq.displayName=oq;var Rk="DialogPortal",[Zpe,cq]=aq(Rk,{forceMount:void 0}),uq=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:a}=t,s=Qs(Rk,e);return i.jsx(Zpe,{scope:e,forceMount:r,children:v.Children.map(n,o=>i.jsx(oa,{present:r||s.open,children:i.jsx(Cp,{asChild:!0,container:a,children:o})}))})};uq.displayName=Rk;var _v="DialogOverlay",Aq=v.forwardRef((t,e)=>{const r=cq(_v,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,s=Qs(_v,t.__scopeDialog);return s.modal?i.jsx(oa,{present:n||s.open,children:i.jsx(ege,{...a,ref:e})}):null});Aq.displayName=_v;var ege=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Qs(_v,r);return i.jsx(Ub,{as:Yi,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(Ye.div,{"data-state":Mk(a.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),nu="DialogContent",dq=v.forwardRef((t,e)=>{const r=cq(nu,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,s=Qs(nu,t.__scopeDialog);return i.jsx(oa,{present:n||s.open,children:s.modal?i.jsx(tge,{...a,ref:e}):i.jsx(rge,{...a,ref:e})})});dq.displayName=nu;var tge=v.forwardRef((t,e)=>{const r=Qs(nu,t.__scopeDialog),n=v.useRef(null),a=pt(e,r.contentRef,n);return v.useEffect(()=>{const s=n.current;if(s)return Pk(s)},[]),i.jsx(hq,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fe(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Fe(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Fe(t.onFocusOutside,s=>s.preventDefault())})}),rge=v.forwardRef((t,e)=>{const r=Qs(nu,t.__scopeDialog),n=v.useRef(!1),a=v.useRef(!1);return i.jsx(hq,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),hq=v.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...o}=t,l=Qs(nu,r),c=v.useRef(null),u=pt(e,c);return Ik(),i.jsxs(i.Fragment,{children:[i.jsx(Ob,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(Rd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Mk(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(age,{titleId:l.titleId}),i.jsx(ige,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Uk="DialogTitle",fq=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Qs(Uk,r);return i.jsx(Ye.h2,{id:a.titleId,...n,ref:e})});fq.displayName=Uk;var mq="DialogDescription",pq=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Qs(mq,r);return i.jsx(Ye.p,{id:a.descriptionId,...n,ref:e})});pq.displayName=mq;var gq="DialogClose",xq=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Qs(gq,r);return i.jsx(Ye.button,{type:"button",...n,ref:e,onClick:Fe(t.onClick,()=>a.onOpenChange(!1))})});xq.displayName=gq;function Mk(t){return t?"open":"closed"}var vq="DialogTitleWarning",[nge,yq]=Nee(vq,{contentName:nu,titleName:Uk,docsSlug:"dialog"}),age=({titleId:t})=>{const e=yq(vq),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},sge="DialogDescriptionWarning",ige=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${yq(sge).contentName}}.`;return v.useEffect(()=>{var s;const a=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},Qk=iq,Lk=lq,Hk=uq,$p=Aq,Vp=dq,Kp=fq,qp=pq,$b=xq;const mi=Qk,Bv=Lk,oge=Hk,bq=v.forwardRef(({className:t,...e},r)=>i.jsx($p,{className:he("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));bq.displayName=$p.displayName;const lge=Ud("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Rs=v.forwardRef(({side:t="right",className:e,children:r,...n},a)=>i.jsxs(oge,{children:[i.jsx(bq,{}),i.jsxs(Vp,{ref:a,className:he(lge({side:t}),e),...n,children:[r,i.jsxs($b,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(tb,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Rs.displayName=Vp.displayName;const pi=({className:t,...e})=>i.jsx("div",{className:he("flex flex-col space-y-2 text-center sm:text-left",t),...e});pi.displayName="SheetHeader";const no=({className:t,...e})=>i.jsx("div",{className:he("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});no.displayName="SheetFooter";const gi=v.forwardRef(({className:t,...e},r)=>i.jsx(Kp,{ref:r,className:he("text-lg font-semibold text-foreground",t),...e}));gi.displayName=Kp.displayName;const ym=v.forwardRef(({className:t,...e},r)=>i.jsx(qp,{ref:r,className:he("text-sm text-muted-foreground",t),...e}));ym.displayName=qp.displayName;var cge="Separator",wO="horizontal",uge=["horizontal","vertical"],wq=v.forwardRef((t,e)=>{const{decorative:r,orientation:n=wO,...a}=t,s=Age(n)?n:wO,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return i.jsx(Ye.div,{"data-orientation":s,...l,...a,ref:e})});wq.displayName=cge;function Age(t){return uge.includes(t)}var _q=wq;const Gn=v.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},a)=>i.jsx(_q,{ref:a,decorative:r,orientation:e,className:he("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));Gn.displayName=_q.displayName;const dge=()=>{const[t,e]=Ile(),[r,n]=v.useState(t.get("q")||""),[a,s]=v.useState("price-asc"),[o,l]=v.useState({priceRange:[0,100],types:[],origins:[]}),[c,u]=v.useState([]),[A,d]=v.useState([]),[h,f]=v.useState([]),[m,g]=v.useState([]),[p,b]=v.useState(!0),[x,w]=v.useState(0),[y,C]=v.useState(100),{addItem:E}=Db();v.useEffect(()=>{(async()=>{b(!0);try{const{data:R,error:M}=await Z.from("products").select("*");if(M)throw M;if(R){u(R);const $=Array.from(new Set(R.map(O=>O.origin).filter(Boolean)));f($);const U=Array.from(new Set(R.map(O=>O.type).filter(Boolean)));if(g(U),R.length>0){const O=R.map(D=>D.price),L=Math.floor(Math.min(...O)),H=Math.ceil(Math.max(...O));w(L),C(H),l(D=>({...D,priceRange:[L,H]}))}}}catch(R){console.error("Error fetching products:",R),fe({title:"Error",description:"Gagal memuat produk",variant:"destructive"})}finally{b(!1)}})()},[]),v.useEffect(()=>{if(p)return;const k=t.get("category"),R=t.get("featured"),M=t.get("discount"),$=t.get("q");$&&$!==r&&n($);let U=[...c];switch(r&&(U=U.filter(O=>{var L;return O.name.toLowerCase().includes(r.toLowerCase())||(((L=O.description)==null?void 0:L.toLowerCase().includes(r.toLowerCase()))??!1)})),k&&(U=U.filter(O=>O.type===k)),R==="true"&&(U=U.filter(O=>O.featured===!0)),M==="true"&&(U=U.filter(O=>O.discount!==null&&O.discount>0)),U=U.filter(O=>{const L=O.price;return!(L<o.priceRange[0]||L>o.priceRange[1]||o.types.length>0&&!o.types.includes(O.type)||o.origins.length>0&&(!O.origin||!o.origins.includes(O.origin)))}),a){case"price-asc":U.sort((O,L)=>O.price-L.price);break;case"price-desc":U.sort((O,L)=>L.price-O.price);break;case"rating":U.sort((O,L)=>(L.rating||0)-(O.rating||0));break;case"newest":U.sort((O,L)=>{const H=O.created_at?new Date(O.created_at).getTime():0;return(L.created_at?new Date(L.created_at).getTime():0)-H});break}d(U)},[c,t,r,a,o,p]);const B=()=>{e(k=>(r?k.set("q",r):k.delete("q"),k))},j=k=>{E({id:k.id,name:k.name,price:k.discount?k.price*(1-k.discount/100):k.price,image:k.images&&k.images.length>0?k.images[0]:"/https://image1ws.indotrading.com/s3/productimages/webp/co263038/p1282683/w600-h600/f43a666d-eca7-4cb4-aa14-450eae21f24f.jpg",type:k.type,quantity:1}),fe({title:"Ditambahkan ke keranjang",description:`${k.name} telah ditambahkan ke keranjang belanja Anda.`})},N=k=>{l(R=>{const M=[...R.types],$=M.indexOf(k);return $>-1?M.splice($,1):M.push(k),{...R,types:M}})},S=k=>{l(R=>{const M=[...R.origins],$=M.indexOf(k);return $>-1?M.splice($,1):M.push(k),{...R,origins:M}})},T=k=>{l(R=>({...R,priceRange:[k[0],k[1]]}))},I=()=>{l({priceRange:[x,y],types:[],origins:[]})};return i.jsx(Kt,{children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex gap-2 mb-4",children:[i.jsxs("div",{className:"relative flex-grow",children:[i.jsx(ue,{type:"text",placeholder:"Cari produk arang...",value:r,onChange:k=>n(k.target.value),className:"pl-10",onKeyDown:k=>{k.key==="Enter"&&B()}}),i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Fl,{className:"h-4 w-4 text-muted-foreground"})})]}),i.jsx(G,{onClick:B,className:"bg-flame-500 hover:bg-flame-600",children:"Search"}),i.jsxs(mi,{children:[i.jsx(Bv,{asChild:!0,children:i.jsx(G,{variant:"outline",size:"icon",className:"flex-shrink-0",children:i.jsx(IH,{className:"h-4 w-4"})})}),i.jsxs(Rs,{side:"right",children:[i.jsxs(pi,{children:[i.jsx(gi,{children:"Filter Produk"}),i.jsx(ym,{children:"Filter produk berdasarkan kategori, harga, dan rating."})]}),i.jsxs("div",{className:"py-4",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Filter"}),i.jsxs(Cn,{value:a,onValueChange:k=>s(k),children:[i.jsx(ln,{children:i.jsx(jn,{placeholder:"Urutkan"})}),i.jsxs(cn,{children:[i.jsx(mt,{value:"price-asc",children:"Harga: Terendah ke Tertinggi"}),i.jsx(mt,{value:"price-desc",children:"Harga: Tertinggi ke Terendah"}),i.jsx(mt,{value:"rating",children:"Rating Terbaik"}),i.jsx(mt,{value:"newest",children:"Terbaru"})]})]})]}),i.jsx(Gn,{className:"my-4"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Range Harga"}),i.jsxs("div",{className:"px-2",children:[i.jsx(nq,{max:y,min:x,step:1,value:[o.priceRange[0],o.priceRange[1]],onValueChange:T}),i.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[i.jsxs("span",{children:["Rp ",o.priceRange[0]]}),i.jsxs("span",{children:["Rp ",o.priceRange[1]]})]})]})]}),i.jsx(Gn,{className:"my-4"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Tipe Charcoal"}),i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:m.map(k=>i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:`type-${k}`,checked:o.types.includes(k),onChange:()=>N(k),className:"mr-2"}),i.jsx("label",{htmlFor:`type-${k}`,className:"text-sm",children:k})]},k))})]}),i.jsx(Gn,{className:"my-4"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Asal"}),i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:h.map(k=>i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:`origin-${k}`,checked:o.origins.includes(k),onChange:()=>S(k),className:"mr-2"}),i.jsx("label",{htmlFor:`origin-${k}`,className:"text-sm",children:k})]},k))})]}),i.jsxs("div",{className:"mt-6 flex justify-end",children:[i.jsx(G,{variant:"outline",onClick:I,className:"mr-2",children:"Hapus Semua"}),i.jsx(Bv,{asChild:!0,children:i.jsx(G,{children:"Terapkan Filter"})})]})]})]})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h2",{className:"text-xl font-bold mb-2",children:"Hasil Pencarian"}),i.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[A.length," produk ditemukan"]}),p?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx(zt,{className:"h-8 w-8 animate-spin text-flame-500"})}):i.jsx("div",{className:"grid grid-cols-2 gap-4",children:A.map(k=>i.jsxs(_e,{className:"overflow-hidden border-none shadow-sm",children:[i.jsx(dt,{to:`/product/${k.id}`,children:i.jsxs("div",{className:"h-32 bg-charcoal-100 relative",children:[i.jsx("img",{src:k.images&&k.images.length>0?k.images[0]:"/placeholder.svg",alt:k.name,className:"h-full w-full object-cover"}),k.discount&&k.discount>0&&i.jsxs("span",{className:"absolute top-2 right-2 bg-flame-500 text-white text-xs px-2 py-1 rounded-full",children:[k.discount,"% DISKON"]})]})}),i.jsxs(Be,{className:"p-3",children:[i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:k.type}),i.jsx(dt,{to:`/product/${k.id}`,children:i.jsx("h3",{className:"font-medium text-sm line-clamp-1",children:k.name})})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("div",{children:k.discount&&k.discount>0?i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"font-bold text-sm",children:ve(k.price*(1-k.discount/100))}),i.jsx("span",{className:"text-muted-foreground text-xs line-through",children:ve(k.price)})]}):i.jsx("span",{className:"font-bold text-sm",children:ve(k.price)})}),i.jsx(G,{size:"icon",className:"h-8 w-8 rounded-full bg-flame-500 hover:bg-flame-600",onClick:()=>j(k),children:i.jsx(Zy,{className:"h-4 w-4"})})]})]})]},k.id))}),!p&&A.length===0&&i.jsxs("div",{className:"text-center py-10",children:[i.jsx("p",{className:"text-lg font-medium",children:"Tidak ada produk ditemukan"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Coba sesuaikan pencarian atau kriteria filter Anda"})]})]})]})})};function hge(t,e=[]){let r=[];function n(s,o){const l=v.createContext(o),c=r.length;r=[...r,o];function u(d){const{scope:h,children:f,...m}=d,g=(h==null?void 0:h[t][c])||l,p=v.useMemo(()=>m,Object.values(m));return i.jsx(g.Provider,{value:p,children:f})}function A(d,h){const f=(h==null?void 0:h[t][c])||l,m=v.useContext(f);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,A]}const a=()=>{const s=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[n,fge(a,...e)]}function fge(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...l,...d}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var V1="rovingFocusGroup.onEntryFocus",mge={bubbles:!1,cancelable:!0},Vb="RovingFocusGroup",[a2,Bq,pge]=Wy(Vb),[gge,Kb]=hge(Vb,[pge]),[xge,vge]=gge(Vb),Cq=v.forwardRef((t,e)=>i.jsx(a2.Provider,{scope:t.__scopeRovingFocusGroup,children:i.jsx(a2.Slot,{scope:t.__scopeRovingFocusGroup,children:i.jsx(yge,{...t,ref:e})})}));Cq.displayName=Vb;var yge=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:A=!1,...d}=t,h=v.useRef(null),f=pt(e,h),m=Yd(s),[g=null,p]=ls({prop:o,defaultProp:l,onChange:c}),[b,x]=v.useState(!1),w=kr(u),y=Bq(r),C=v.useRef(!1),[E,B]=v.useState(0);return v.useEffect(()=>{const j=h.current;if(j)return j.addEventListener(V1,w),()=>j.removeEventListener(V1,w)},[w]),i.jsx(xge,{scope:r,orientation:n,dir:m,loop:a,currentTabStopId:g,onItemFocus:v.useCallback(j=>p(j),[p]),onItemShiftTab:v.useCallback(()=>x(!0),[]),onFocusableItemAdd:v.useCallback(()=>B(j=>j+1),[]),onFocusableItemRemove:v.useCallback(()=>B(j=>j-1),[]),children:i.jsx(Ye.div,{tabIndex:b||E===0?-1:0,"data-orientation":n,...d,ref:f,style:{outline:"none",...t.style},onMouseDown:Fe(t.onMouseDown,()=>{C.current=!0}),onFocus:Fe(t.onFocus,j=>{const N=!C.current;if(j.target===j.currentTarget&&N&&!b){const S=new CustomEvent(V1,mge);if(j.currentTarget.dispatchEvent(S),!S.defaultPrevented){const T=y().filter($=>$.focusable),I=T.find($=>$.active),k=T.find($=>$.id===g),M=[I,k,...T].filter(Boolean).map($=>$.ref.current);Sq(M,A)}}C.current=!1}),onBlur:Fe(t.onBlur,()=>x(!1))})})}),jq="RovingFocusGroupItem",Eq=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,...o}=t,l=oi(),c=s||l,u=vge(jq,r),A=u.currentTabStopId===c,d=Bq(r),{onFocusableItemAdd:h,onFocusableItemRemove:f}=u;return v.useEffect(()=>{if(n)return h(),()=>f()},[n,h,f]),i.jsx(a2.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:i.jsx(Ye.span,{tabIndex:A?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:Fe(t.onMouseDown,m=>{n?u.onItemFocus(c):m.preventDefault()}),onFocus:Fe(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Fe(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){u.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const g=_ge(m,u.orientation,u.dir);if(g!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let b=d().filter(x=>x.focusable).map(x=>x.ref.current);if(g==="last")b.reverse();else if(g==="prev"||g==="next"){g==="prev"&&b.reverse();const x=b.indexOf(m.currentTarget);b=u.loop?Bge(b,x+1):b.slice(x+1)}setTimeout(()=>Sq(b))}})})})});Eq.displayName=jq;var bge={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function wge(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function _ge(t,e,r){const n=wge(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return bge[n]}function Sq(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function Bge(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Nq=Cq,Tq=Eq,$k="Tabs",[Cge,K8e]=ba($k,[Kb]),kq=Kb(),[jge,Vk]=Cge($k),Iq=v.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,A=Yd(l),[d,h]=ls({prop:n,onChange:a,defaultProp:s});return i.jsx(jge,{scope:r,baseId:oi(),value:d,onValueChange:h,orientation:o,dir:A,activationMode:c,children:i.jsx(Ye.div,{dir:A,"data-orientation":o,...u,ref:e})})});Iq.displayName=$k;var Pq="TabsList",Fq=v.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...a}=t,s=Vk(Pq,r),o=kq(r);return i.jsx(Nq,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:i.jsx(Ye.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:e})})});Fq.displayName=Pq;var Dq="TabsTrigger",Oq=v.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=t,o=Vk(Dq,r),l=kq(r),c=Mq(o.baseId,n),u=Qq(o.baseId,n),A=n===o.value;return i.jsx(Tq,{asChild:!0,...l,focusable:!a,active:A,children:i.jsx(Ye.button,{type:"button",role:"tab","aria-selected":A,"aria-controls":u,"data-state":A?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...s,ref:e,onMouseDown:Fe(t.onMouseDown,d=>{!a&&d.button===0&&d.ctrlKey===!1?o.onValueChange(n):d.preventDefault()}),onKeyDown:Fe(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(n)}),onFocus:Fe(t.onFocus,()=>{const d=o.activationMode!=="manual";!A&&!a&&d&&o.onValueChange(n)})})})});Oq.displayName=Dq;var Rq="TabsContent",Uq=v.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...o}=t,l=Vk(Rq,r),c=Mq(l.baseId,n),u=Qq(l.baseId,n),A=n===l.value,d=v.useRef(A);return v.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(oa,{present:a||A,children:({present:h})=>i.jsx(Ye.div,{"data-state":A?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:h&&s})})});Uq.displayName=Rq;function Mq(t,e){return`${t}-trigger-${e}`}function Qq(t,e){return`${t}-content-${e}`}var Ege=Iq,Lq=Fq,Hq=Oq,$q=Uq;const ya=Ege,sa=v.forwardRef(({className:t,...e},r)=>i.jsx(Lq,{ref:r,className:he("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));sa.displayName=Lq.displayName;const Et=v.forwardRef(({className:t,...e},r)=>i.jsx(Hq,{ref:r,className:he("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Et.displayName=Hq.displayName;const Gt=v.forwardRef(({className:t,...e},r)=>i.jsx($q,{ref:r,className:he("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Gt.displayName=$q.displayName;const Sge=()=>{const{id:t}=Ip(),[e,r]=v.useState(null),[n,a]=v.useState(!0),[s,o]=v.useState(""),[l,c]=v.useState(1),[u,A]=v.useState(0),{addItem:d}=Db(),h=kt();v.useEffect(()=>((async()=>{if(t)try{a(!0);const{data:x,error:w}=await Z.from("products").select("*").eq("id",t).single();if(w)throw w;x?(r(x),document.title=`${x.name} - Toko Arang`):o("Produk tidak ditemukan")}catch(x){console.error("Error fetching product:",x),o(x.message||"Gagal memuat produk")}finally{a(!1)}})(),()=>{r(null),c(1),A(0)}),[t]);const f=()=>{e&&(d({id:e.id,name:e.name,price:e.discount?e.price*(1-e.discount/100):e.price,image:e.images&&e.images.length>0?e.images[0]:"/placeholder.svg",type:e.type,quantity:l}),fe({title:"Ditambahkan ke keranjang",description:`${l} produk ditambahkan ke keranjang Anda`}))},m=()=>{c(b=>Math.max(1,b-1))},g=()=>{c(b=>b+1)};if(n)return i.jsx(Kt,{children:i.jsxs("div",{className:"flex flex-col items-center justify-center h-screen p-4",children:[i.jsx(zt,{className:"h-8 w-8 animate-spin text-flame-500 mb-2"}),i.jsx("p",{className:"text-muted-foreground",children:"Memuat detail produk..."})]})});if(s||!e)return i.jsx(Kt,{children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(G,{variant:"ghost",className:"p-0 mr-2",onClick:()=>h(-1),children:i.jsx(ks,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-xl font-bold",children:"Produk Tidak Ditemukan"})]}),i.jsxs("div",{className:"text-center py-10",children:[i.jsx("p",{className:"text-muted-foreground mb-4",children:s||"Produk yang diminta tidak dapat ditemukan."}),i.jsx(dt,{to:"/search",children:i.jsx(G,{className:"bg-flame-500 hover:bg-flame-600",children:"Jelajahi Produk"})})]})]})});const p=e.discount?e.price*(1-e.discount/100):e.price;return i.jsx(Kt,{children:i.jsxs("div",{className:"pb-24",children:[i.jsxs("div",{className:"sticky top-0 z-10 bg-background p-4 flex items-center shadow-sm",children:[i.jsx(G,{variant:"ghost",className:"p-0 mr-2",onClick:()=>h(-1),children:i.jsx(ks,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-medium line-clamp-1",children:e.name})]}),i.jsxs("div",{className:"bg-charcoal-50 h-72 relative",children:[e.images&&e.images.length>0?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:e.images[u],alt:e.name,className:"h-full w-full object-contain"}),e.images.length>1&&i.jsx("div",{className:"absolute bottom-2 left-0 right-0 flex justify-center gap-2",children:e.images.map((b,x)=>i.jsx("button",{className:`w-2 h-2 rounded-full ${u===x?"bg-flame-500":"bg-white bg-opacity-50"}`,onClick:()=>A(x)},x))})]}):i.jsx("div",{className:"h-full w-full flex items-center justify-center bg-charcoal-100",children:i.jsx("p",{className:"text-muted-foreground",children:"Gambar tidak tersedia"})}),e.discount&&e.discount>0&&i.jsxs("div",{className:"absolute top-2 right-2 bg-flame-500 text-white text-sm px-3 py-1 rounded-full",children:[e.discount,"% DISKON"]})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:e.type}),i.jsx("h2",{className:"text-xl font-bold",children:e.name})]}),i.jsx("div",{className:"text-right",children:e.discount&&e.discount>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"font-bold text-lg text-flame-500",children:ve(p)}),i.jsx("div",{className:"text-sm text-muted-foreground line-through",children:ve(e.price)})]}):i.jsx("div",{className:"font-bold text-lg",children:ve(e.price)})})]}),i.jsxs("div",{className:"flex items-center mt-1",children:[i.jsx("div",{className:"flex mr-2",children:[1,2,3,4,5].map(b=>i.jsx(Xte,{size:16,className:`${b<=(e.rating||0)?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},b))}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[e.rating||0," (",e.review_count||0," ulasan)"]})]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs ${e.in_stock?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:e.in_stock?"Tersedia":"Habis"}),e.origin&&i.jsxs("span",{className:"inline-block ml-2 text-xs text-muted-foreground",children:["Asal: ",e.origin]})]})]}),i.jsx(Gn,{className:"my-4"}),i.jsxs(ya,{defaultValue:"description",className:"mt-4",children:[i.jsxs(sa,{className:"w-full grid grid-cols-3",children:[i.jsx(Et,{value:"description",children:"Deskripsi"}),i.jsx(Et,{value:"specifications",children:"Spesifikasi"}),i.jsx(Et,{value:"reviews",children:"Ulasan"})]}),i.jsxs(Gt,{value:"description",className:"mt-4",children:[i.jsx("p",{className:"text-sm",children:e.description||"Tidak ada deskripsi tersedia."}),e.seller&&i.jsx("div",{children:i.jsxs("p",{className:"text-sm mt-4",children:[i.jsx("span",{className:"font-medium",children:"Penjual:"})," ",e.seller]})}),i.jsxs("p",{className:"text-sm mt-2",children:[i.jsx("span",{className:"font-medium",children:"Tipe:"})," ",e.type]}),e.weight&&i.jsxs("p",{className:"text-sm mt-2",children:[i.jsx("span",{className:"font-medium",children:"Berat:"})," ",e.weight," kg"]})]}),i.jsx(Gt,{value:"specifications",className:"mt-4",children:e.specifications&&Object.keys(e.specifications).length>0?i.jsx("div",{className:"rounded-md border overflow-hidden",children:i.jsx("table",{className:"min-w-full",children:i.jsx("tbody",{children:Object.entries(e.specifications).map(([b,x],w)=>i.jsxs("tr",{className:w%2===0?"bg-secondary":"",children:[i.jsx("td",{className:"px-4 py-2 text-sm font-medium",children:b}),i.jsx("td",{className:"px-4 py-2 text-sm",children:String(x)})]},b))})})}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Tidak ada spesifikasi tersedia."})}),i.jsx(Gt,{value:"reviews",className:"mt-4",children:i.jsx("div",{className:"space-y-4",children:e.review_count&&e.review_count>0?i.jsx(i.Fragment,{children:i.jsx("p",{className:"text-sm",children:"Ulasan akan ditampilkan di sini."})}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Belum ada ulasan."})})})]})]}),i.jsx("div",{className:"fixed bottom-16 left-0 right-0 max-w-md mx-auto bg-background border-t p-4 z-10",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center border rounded-md",children:[i.jsx(G,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-r-none",onClick:m,disabled:l<=1,children:i.jsx(DH,{className:"h-4 w-4"})}),i.jsx("span",{className:"px-4 py-2 border-l border-r min-w-[40px] text-center",children:l}),i.jsx(G,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-l-none",onClick:g,children:i.jsx(Md,{className:"h-4 w-4"})})]}),i.jsxs(G,{className:"flex-1 ml-4 bg-flame-500 hover:bg-flame-600",onClick:f,disabled:!e.in_stock,children:[i.jsx(Zy,{className:"h-4 w-4 mr-2"}),ve(p*l)]})]})})]})})},Nge=()=>{const{items:t,updateQuantity:e,removeItem:r,total:n,clearCart:a}=Db(),{user:s}=Pr(),o=kt(),l=A=>{r(A),fe({title:"Item dihapus",description:"Item telah dihapus dari keranjang Anda."})},c=(A,d)=>{d<=0?(r(A),fe({title:"Item dihapus",description:"Item telah dihapus dari keranjang Anda."})):e(A,d)},u=()=>{if(t.length===0){fe({title:"Keranjang kosong",description:"Silakan tambahkan item ke keranjang Anda sebelum checkout",variant:"destructive"});return}if(!s){fe({title:"Login Diperlukan",description:"Silakan login untuk melanjutkan ke checkout",variant:"destructive"});return}o("/checkout")};return i.jsx(Kt,{children:i.jsxs("div",{className:"p-4",children:[i.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Keranjang Belanja"}),t.length>0?i.jsxs("div",{children:[i.jsx("div",{className:"space-y-4 mb-6",children:t.map(A=>i.jsx(_e,{className:"overflow-hidden shadow-sm",children:i.jsx(Be,{className:"p-3",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"h-20 w-20 bg-charcoal-100 rounded flex-shrink-0",children:i.jsx("img",{src:A.image||"/placeholder.svg",alt:A.name,className:"h-full w-full object-cover"})}),i.jsxs("div",{className:"flex-grow",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:A.type}),i.jsx(dt,{to:`/product/${A.id}`,children:i.jsx("h3",{className:"font-medium text-sm line-clamp-1 mb-1",children:A.name})}),i.jsx("span",{className:"font-bold",children:ve(A.price)})]}),i.jsx("button",{onClick:()=>l(A.id),className:"text-muted-foreground hover:text-destructive",children:i.jsx(zf,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex justify-between items-center mt-2",children:[i.jsxs("div",{className:"flex items-center border rounded-md",children:[i.jsx(G,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-r-none p-0",onClick:()=>c(A.id,A.quantity-1),children:i.jsx(DH,{className:"h-3 w-3"})}),i.jsx("span",{className:"px-3 py-1 text-sm border-l border-r",children:A.quantity}),i.jsx(G,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-l-none p-0",onClick:()=>c(A.id,A.quantity+1),children:i.jsx(Md,{className:"h-3 w-3"})})]}),i.jsx("span",{className:"font-bold",children:ve(A.price*A.quantity)})]})]})]})})},A.id))}),i.jsxs("button",{onClick:()=>{a(),fe({title:"Keranjang dikosongkan",description:"Semua item telah dihapus dari keranjang Anda."})},className:"text-sm text-muted-foreground hover:text-destructive mb-4 flex items-center",children:[i.jsx(zf,{className:"h-4 w-4 mr-1"}),"Kosongkan keranjang"]}),i.jsxs("div",{className:"bg-secondary rounded-lg p-4 mb-6",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{children:"Subtotal"}),i.jsx("span",{className:"font-medium",children:ve(n)})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{children:"Pengiriman"}),i.jsx("span",{className:"font-medium",children:ve(5e3)})]}),i.jsx(Gn,{className:"my-2"}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-bold",children:"Total"}),i.jsx("span",{className:"font-bold",children:ve(n+5e3)})]})]}),i.jsx(G,{onClick:u,className:"w-full bg-flame-500 hover:bg-flame-600",children:s?"Lanjut ke Pembayaran":"Login untuk Checkout"})]}):i.jsxs("div",{className:"text-center py-10",children:[i.jsx("div",{className:"text-charcoal-400 mb-4",children:i.jsx(Tge,{size:64,className:"mx-auto"})}),i.jsx("h2",{className:"text-xl font-medium mb-2",children:"Keranjang Anda kosong"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Sepertinya Anda belum menambahkan produk arang ke keranjang."}),i.jsx(dt,{to:"/search",children:i.jsx(G,{className:"bg-flame-500 hover:bg-flame-600",children:"Jelajahi Produk"})})]})]})})},Tge=({size:t=24,className:e=""})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[i.jsx("circle",{cx:"8",cy:"21",r:"1"}),i.jsx("circle",{cx:"19",cy:"21",r:"1"}),i.jsx("path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"})]});var Kk="Radio",[kge,Vq]=ba(Kk),[Ige,Pge]=kge(Kk),Kq=v.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:s,disabled:o,value:l="on",onCheck:c,form:u,...A}=t,[d,h]=v.useState(null),f=pt(e,p=>h(p)),m=v.useRef(!1),g=d?u||!!d.closest("form"):!0;return i.jsxs(Ige,{scope:r,checked:a,disabled:o,children:[i.jsx(Ye.button,{type:"button",role:"radio","aria-checked":a,"data-state":zq(a),"data-disabled":o?"":void 0,disabled:o,value:l,...A,ref:f,onClick:Fe(t.onClick,p=>{a||c==null||c(),g&&(m.current=p.isPropagationStopped(),m.current||p.stopPropagation())})}),g&&i.jsx(Fge,{control:d,bubbles:!m.current,name:n,value:l,checked:a,required:s,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});Kq.displayName=Kk;var qq="RadioIndicator",Gq=v.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...a}=t,s=Pge(qq,r);return i.jsx(oa,{present:n||s.checked,children:i.jsx(Ye.span,{"data-state":zq(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:e})})});Gq.displayName=qq;var Fge=t=>{const{control:e,checked:r,bubbles:n=!0,...a}=t,s=v.useRef(null),o=Lp(r),l=Np(e);return v.useEffect(()=>{const c=s.current,u=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&d){const h=new Event("click",{bubbles:n});d.call(c,r),c.dispatchEvent(h)}},[o,r,n]),i.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:s,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function zq(t){return t?"checked":"unchecked"}var Dge=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],qk="RadioGroup",[Oge,q8e]=ba(qk,[Kb,Vq]),Wq=Kb(),Xq=Vq(),[Rge,Uge]=Oge(qk),Yq=v.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:s,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:A=!0,onValueChange:d,...h}=t,f=Wq(r),m=Yd(u),[g,p]=ls({prop:s,defaultProp:a,onChange:d});return i.jsx(Rge,{scope:r,name:n,required:o,disabled:l,value:g,onValueChange:p,children:i.jsx(Nq,{asChild:!0,...f,orientation:c,dir:m,loop:A,children:i.jsx(Ye.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:m,...h,ref:e})})})});Yq.displayName=qk;var Jq="RadioGroupItem",Zq=v.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...a}=t,s=Uge(Jq,r),o=s.disabled||n,l=Wq(r),c=Xq(r),u=v.useRef(null),A=pt(e,u),d=s.value===a.value,h=v.useRef(!1);return v.useEffect(()=>{const f=g=>{Dge.includes(g.key)&&(h.current=!0)},m=()=>h.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",m),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",m)}},[]),i.jsx(Tq,{asChild:!0,...l,focusable:!o,active:d,children:i.jsx(Kq,{disabled:o,required:s.required,checked:d,...c,...a,name:s.name,ref:A,onCheck:()=>s.onValueChange(a.value),onKeyDown:Fe(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:Fe(a.onFocus,()=>{var f;h.current&&((f=u.current)==null||f.click())})})})});Zq.displayName=Jq;var Mge="RadioGroupIndicator",eG=v.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,a=Xq(r);return i.jsx(Gq,{...a,...n,ref:e})});eG.displayName=Mge;var tG=Yq,rG=Zq,Qge=eG;const of=v.forwardRef(({className:t,...e},r)=>i.jsx(tG,{className:he("grid gap-2",t),...e,ref:r}));of.displayName=tG.displayName;const uc=v.forwardRef(({className:t,...e},r)=>i.jsx(rG,{ref:r,className:he("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:i.jsx(Qge,{className:"flex items-center justify-center",children:i.jsx(Nte,{className:"h-2.5 w-2.5 fill-current text-current"})})}));uc.displayName=rG.displayName;var Lge="Label",nG=v.forwardRef((t,e)=>i.jsx(Ye.label,{...t,ref:e,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));nG.displayName=Lge;var aG=nG;const Hge=Ud("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Te=v.forwardRef(({className:t,...e},r)=>i.jsx(aG,{ref:r,className:he(Hge(),t),...e}));Te.displayName=aG.displayName;let Jg;const $ge=new Uint8Array(16);function Vge(){if(!Jg&&(Jg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Jg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Jg($ge)}const xn=[];for(let t=0;t<256;++t)xn.push((t+256).toString(16).slice(1));function Kge(t,e=0){return xn[t[e+0]]+xn[t[e+1]]+xn[t[e+2]]+xn[t[e+3]]+"-"+xn[t[e+4]]+xn[t[e+5]]+"-"+xn[t[e+6]]+xn[t[e+7]]+"-"+xn[t[e+8]]+xn[t[e+9]]+"-"+xn[t[e+10]]+xn[t[e+11]]+xn[t[e+12]]+xn[t[e+13]]+xn[t[e+14]]+xn[t[e+15]]}const qge=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_O={randomUUID:qge};function on(t,e,r){if(_O.randomUUID&&!t)return _O.randomUUID();t=t||{};const n=t.random||(t.rng||Vge)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Kge(n)}const Qo={async getVouchers(t=100,e=0,r){try{console.log("Fetching vouchers with params:",{limit:t,offset:e,filters:r});const{error:n}=await Z.from("vouchers").select("count",{count:"exact",head:!0});if(n)return console.error("Error checking vouchers table:",n),n.code==="PGRST116"||n.message&&n.message.includes("does not exist")?{data:[],error:new Error("Tabel vouchers belum dibuat. Klik tombol Inisialisasi Data untuk membuat tabel.")}:{data:[],error:n};let a=Z.from("vouchers").select("*").order("created_at",{ascending:!1});r&&(r.is_active!==void 0&&(a=a.eq("is_active",r.is_active)),r.search&&(a=a.or(`code.ilike.%${r.search}%,description.ilike.%${r.search}%`))),a=a.range(e,e+t-1),console.log("Executing query for vouchers...");const{data:s,error:o}=await a;return o?(console.error("Error in vouchers query:",o),{data:[],error:o}):(console.log("Successfully fetched vouchers:",(s==null?void 0:s.length)||0,"results"),{data:s,error:null})}catch(n){return console.error("Error fetching vouchers:",n),{data:[],error:n}}},async addVoucher(t){try{const e=["code","discount_type","discount_value","start_date","end_date","is_active"];for(const o of e)if(!t[o])throw new Error(`Field ${o} wajib diisi`);const{data:r,error:n}=await Z.from("vouchers").select("code").eq("code",t.code).maybeSingle();if(n)throw console.error("Error checking unique voucher:",n),new Error(`Gagal memeriksa kode voucher: ${n.message||"Unknown error"}`);if(r)throw new Error(`Kode voucher '${t.code}' sudah digunakan`);if(t.id||(t.id=on()),t.usage_count===void 0&&(t.usage_count=0),t.created_at||(t.created_at=new Date().toISOString()),typeof t.start_date=="string"&&!t.start_date.includes("T"))try{t.start_date=new Date(`${t.start_date}T00:00:00`).toISOString()}catch{throw new Error(`Format tanggal mulai tidak valid: ${t.start_date}`)}if(typeof t.end_date=="string"&&!t.end_date.includes("T"))try{t.end_date=new Date(`${t.end_date}T23:59:59`).toISOString()}catch{throw new Error(`Format tanggal berakhir tidak valid: ${t.end_date}`)}console.log("Saving voucher data:",JSON.stringify(t,null,2));const{data:a,error:s}=await Z.from("vouchers").insert(t).select().single();if(s)throw console.error("Supabase error details:",s),new Error(`Gagal menyimpan voucher: ${s.message||"Unknown database error"}`);return{data:a,error:null}}catch(e){const r=e.message||"Terjadi kesalahan yang tidak diketahui";return console.error("Error adding voucher:",r),{data:null,error:new Error(r)}}},async updateVoucher(t,e){try{if(!t)throw new Error("ID voucher tidak boleh kosong");if(e.code){const{data:a,error:s}=await Z.from("vouchers").select("code").eq("code",e.code).neq("id",t).maybeSingle();if(s)throw console.error("Error checking unique voucher:",s),new Error(`Gagal memeriksa kode voucher: ${s.message||"Unknown error"}`);if(a)throw new Error(`Kode voucher '${e.code}' sudah digunakan`)}if(e.start_date&&typeof e.start_date=="string"&&!e.start_date.includes("T"))try{e.start_date=new Date(`${e.start_date}T00:00:00`).toISOString()}catch{throw new Error(`Format tanggal mulai tidak valid: ${e.start_date}`)}if(e.end_date&&typeof e.end_date=="string"&&!e.end_date.includes("T"))try{e.end_date=new Date(`${e.end_date}T23:59:59`).toISOString()}catch{throw new Error(`Format tanggal berakhir tidak valid: ${e.end_date}`)}e.updated_at=new Date().toISOString(),console.log("Updating voucher data:",JSON.stringify({id:t,voucher:e},null,2));const{data:r,error:n}=await Z.from("vouchers").update(e).eq("id",t).select().single();if(n)throw console.error("Supabase error details:",n),new Error(`Gagal memperbarui voucher: ${n.message||"Unknown database error"}`);return{data:r,error:null}}catch(r){const n=r.message||"Terjadi kesalahan yang tidak diketahui";return console.error("Error updating voucher:",n),{data:null,error:new Error(n)}}},async deleteVoucher(t){try{const{error:e}=await Z.from("vouchers").delete().eq("id",t);if(e)throw e;return{data:null,error:null}}catch(e){return console.error("Error deleting voucher:",e),{data:null,error:e}}},async toggleVoucherStatus(t,e){try{const{data:r,error:n}=await Z.from("vouchers").update({is_active:e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return{data:r,error:null}}catch(r){return console.error("Error toggling voucher status:",r),{data:null,error:r}}},async getVoucherByCode(t){try{const{data:e,error:r}=await Z.from("vouchers").select("*").eq("code",t).eq("is_active",!0).single();if(r){if(r.code==="PGRST116")return{data:null,error:new Error("Kode voucher tidak valid atau sudah tidak aktif")};throw r}const n=new Date,a=new Date(e.start_date),s=new Date(e.end_date);return n<a?{data:null,error:new Error("Voucher belum berlaku")}:n>s?{data:null,error:new Error("Voucher sudah berakhir")}:e.usage_limit&&e.usage_count>=e.usage_limit?{data:null,error:new Error("Voucher sudah mencapai batas penggunaan")}:{data:e,error:null}}catch(e){return console.error("Error getting voucher by code:",e),{data:null,error:e}}},calculateDiscount(t,e){if(t.min_purchase&&e<t.min_purchase)return 0;let r=0;return t.discount_type==="percentage"?(r=e*(t.discount_value/100),t.max_discount&&r>t.max_discount&&(r=t.max_discount)):(r=t.discount_value,r>e&&(r=e)),r},async incrementUsageCount(t){try{const{data:e,error:r}=await Z.from("vouchers").select("usage_count").eq("id",t).single();if(r)throw r;const n=(e.usage_count||0)+1,{data:a,error:s}=await Z.from("vouchers").update({usage_count:n,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(s)throw s;return{data:a,error:null}}catch(e){return console.error("Error incrementing voucher usage count:",e),{data:null,error:e}}}},vc={async getTransactions(t=100,e=0,r){try{let n=Z.from("coal_inventory_transactions").select("*").order("transaction_date",{ascending:!1}).range(e,e+t-1);r&&(r.transaction_type&&(n=n.eq("transaction_type",r.transaction_type)),r.from_date&&(n=n.gte("transaction_date",r.from_date)),r.to_date&&(n=n.lte("transaction_date",r.to_date)),r.search&&(n=n.or(`source_destination.ilike.%${r.search}%,document_reference.ilike.%${r.search}%,notes.ilike.%${r.search}%`)));const{data:a,error:s}=await n;return{data:a,error:s}}catch(n){return console.error("Error fetching coal inventory transactions:",n),{data:null,error:n}}},async getSummary(){try{const{data:t,error:e}=await Z.from("coal_inventory_summary").select("*").single();return{data:t,error:e}}catch(t){return console.error("Error fetching coal inventory summary:",t),{data:null,error:t}}},async addTransaction(t){try{const e=["transaction_date","transaction_type","quantity_kg","source_destination","created_by"];for(const a of e)if(!t[a])throw new Error(`Field ${a} wajib diisi`);t.id||(t.id=on()),t.created_at||(t.created_at=new Date().toISOString()),t.price_per_kg&&t.quantity_kg&&(t.total_amount=t.price_per_kg*t.quantity_kg),console.log("Menambahkan transaksi baru:",t);const{data:r,error:n}=await Z.from("coal_inventory_transactions").insert(t).select().single();if(n)throw console.error("Database error saat menambahkan transaksi:",n),n;if(!r)throw new Error("Tidak ada data yang dikembalikan setelah insert");return await this.updateInventorySummary(),{data:r,error:null}}catch(e){return console.error("Error adding coal inventory transaction:",e),{data:null,error:e}}},async updateTransaction(t,e){try{e.price_per_kg&&e.quantity_kg&&(e.total_amount=e.price_per_kg*e.quantity_kg);const{data:r,error:n}=await Z.from("coal_inventory_transactions").update(e).eq("id",t).select().single();if(n)throw n;return await this.updateInventorySummary(),{data:r,error:null}}catch(r){return console.error("Error updating coal inventory transaction:",r),{data:null,error:r}}},async deleteTransaction(t){try{const{error:e}=await Z.from("coal_inventory_transactions").delete().eq("id",t);if(e)throw e;return await this.updateInventorySummary(),{data:null,error:null}}catch(e){return console.error("Error deleting coal inventory transaction:",e),{data:null,error:e}}},async reduceStockFromOrder(t,e,r){try{const n=e.reduce((o,l)=>l.productName.toLowerCase().includes("arang")?o+l.quantity:o,0);if(n<=0)return!0;const a={id:on(),transaction_date:new Date().toISOString(),transaction_type:"outgoing",quantity_kg:n,source_destination:`Order #${t.substring(0,8)}`,notes:`Pengurangan stok otomatis untuk pesanan #${t.substring(0,8)}`,created_by:r,created_at:new Date().toISOString(),document_reference:t},{error:s}=await Z.from("coal_inventory_transactions").insert(a);return s?(console.error("Error reducing coal stock:",s),!1):(await this.updateInventorySummary(),!0)}catch(n){return console.error("Error in reduceStockFromOrder:",n),!1}},async restoreStockFromCancelledOrder(t,e,r){try{const n=e.reduce((l,c)=>c.productName.toLowerCase().includes("arang")?l+c.quantity:l,0);if(n<=0)return!0;const{data:a}=await Z.from("coal_inventory_transactions").select("*").eq("document_reference",t).eq("transaction_type","outgoing");if(!a||a.length===0)return console.log(`No previous stock reduction found for order ${t}`),!0;const s={id:on(),transaction_date:new Date().toISOString(),transaction_type:"incoming",quantity_kg:n,source_destination:`Cancelled Order #${t.substring(0,8)}`,notes:`Pengembalian stok otomatis untuk pesanan #${t.substring(0,8)} yang dibatalkan`,created_by:r,created_at:new Date().toISOString(),document_reference:t,quality_grade:"standard",vehicle_info:"cancelled_order_return"},{error:o}=await Z.from("coal_inventory_transactions").insert(s);return o?(console.error("Error restoring coal stock:",o),!1):(await this.updateInventorySummary(),!0)}catch(n){return console.error("Error in restoreStockFromCancelledOrder:",n),!1}},async updateInventorySummary(){try{const{data:t,error:e}=await Z.from("coal_inventory_transactions").select("*").order("transaction_date",{ascending:!0});if(e){console.error("Error fetching coal transactions:",e);return}if(!t||t.length===0)return;let r=0,n=0,a=0,s=0,o=0,l=0,c=0,u="",A=0;t.forEach(w=>{const y=w.transaction_type==="incoming"&&w.vehicle_info==="cancelled_order_return";if(w.transaction_type==="incoming")y?A+=w.quantity_kg:r+=w.quantity_kg,w.quality_grade==="premium"?a+=w.quantity_kg:w.quality_grade==="standard"?s+=w.quantity_kg:w.quality_grade==="economy"&&(o+=w.quantity_kg),!y&&w.price_per_kg&&w.price_per_kg>0&&(l+=w.price_per_kg*w.quantity_kg,c+=w.quantity_kg);else if(w.transaction_type==="outgoing"){n+=w.quantity_kg;let C=w.quantity_kg;if(o>0){const E=Math.min(o,C);o-=E,C-=E}if(C>0&&s>0){const E=Math.min(s,C);s-=E,C-=E}if(C>0&&a>0){const E=Math.min(a,C);a-=E}}(!u||new Date(w.transaction_date)>new Date(u))&&(u=w.transaction_date)});const d=r-n+A,h=c>0?l/c:0,f=d*h;console.log("Inventory Summary Calculation:",{totalIncoming:r,totalOutgoing:n,cancelledOrderStock:A,currentStock:d,totalPremium:a,totalStandard:s,totalEconomy:o});const m=Math.max(0,a),g=Math.max(0,s),p=Math.max(0,o),b={total_incoming_kg:r,total_outgoing_kg:n,current_stock_kg:d,average_price_per_kg:h,last_transaction_date:u,stock_value:f,premium_stock_kg:m,standard_stock_kg:g,economy_stock_kg:p},{data:x}=await Z.from("coal_inventory_summary").select("id").limit(1);x&&x.length>0?await Z.from("coal_inventory_summary").update(b).eq("id",x[0].id):await Z.from("coal_inventory_summary").insert({...b,id:on()})}catch(t){console.error("Error updating inventory summary:",t)}}};_k(Xd);const Gge=async t=>{try{const{data:e,error:r}=await Z.from("profiles").select("name, email, phone").eq("id",t.user_id).single();if(r)throw console.error("Error fetching customer data:",r),r;console.log("Skipping Firebase notifications due to API configuration issues");try{const n={...t};let a={street:"N/A",city:"N/A",province:"N/A",postal_code:"N/A"};if(t.shipping_address_id){const{data:f,error:m}=await Z.from("addresses").select("street, city, province, postal_code, district, recipient_name, recipient_phone").eq("id",t.shipping_address_id).single();!m&&f&&(a=f)}let s={name:"JPC Delivery",cost:0,provider:"JPC",service:"Regular"};const o=t.shipping_id||t.shipping_method_id;if(o){const{data:f,error:m}=await Z.from("shipping_methods").select("name, provider, service, cost").eq("id",o).single();!m&&f&&(s=f,n.shipping_cost=f.cost)}let l=null;const c=t.discount_id||t.voucher_id;if(c){const{data:f,error:m}=await Z.from("discounts").select("code, type, value, description").eq("id",c).single();!m&&f&&(l=f,n.discount_data=f)}let u={name:"Transfer Bank",bank_name:"SeaBank",account_number:"901958730549"};if(t.payment_method){const f=typeof t.payment_method=="string"?t.payment_method_id||"":t.payment_method;if(f){const{data:m,error:g}=await Z.from("payment_methods").select("name, bank_name, account_number, description").eq("id",f).single();!g&&m&&(u=m)}}const{data:A,error:d}=await Z.from("order_items").select("product_name, quantity, price, product_id, variant, unit").eq("order_id",t.id),h=!d&&Array.isArray(A)?A:[];if(console.log("WhatsApp Order Data:",{orderID:n.id,customerPhone:e==null?void 0:e.phone,itemsCount:h.length,hasShippingData:!!s,hasPaymentData:!!u}),e!=null&&e.phone)try{e.phone.trim()===""?console.log("Customer phone number is empty, skipping WhatsApp notification"):(console.log("Sending WhatsApp notification to customer:",e.phone),await ime(n,e,a,h,s,u)?console.log(" WhatsApp notification sent successfully to customer:",e.phone):console.error(" Failed to send WhatsApp notification to customer"))}catch(f){console.error("Error sending WhatsApp notification to customer:",f)}else console.log("Customer has no phone number, WhatsApp notification will be skipped");console.log("Admin WhatsApp notifications will be handled by notification-service.ts to avoid duplicates")}catch(n){console.error("Error in WhatsApp notification process:",n)}return!0}catch(e){return console.error("Error sending notification to customer:",e),!1}},jo=[{bank:"SeaBank",accountNumber:"901958730549",accountName:"Yoga Prasetya"},{bank:"DANA",accountNumber:"081394586882",accountName:"Yoga Prasetya"}],BO=t=>({"bank-transfer":"Transfer Bank",cod:"Bayar di Tempat (COD)",qris:"QRIS","credit-card":"Kartu Kredit",ewallet:"E-Wallet"})[t]||t,zge=()=>{var W,ee,oe;const{items:t,clearCart:e}=Db(),r=kt(),{user:n,profile:a}=Pr(),s=t.reduce((ne,ce)=>ne+ce.price*ce.quantity,0),o=parseFloat(s.toFixed(2)),[l,c]=v.useState("bank-transfer"),[u,A]=v.useState(jo[0].bank),[d,h]=v.useState(""),[f,m]=v.useState(""),[g,p]=v.useState([]),[b,x]=v.useState(!1),[w,y]=v.useState([]),[C,E]=v.useState(""),[B,j]=v.useState(!1),[N,S]=v.useState(null),[T,I]=v.useState(0),[k,R]=v.useState(!1),[M,$]=v.useState(null),U=((W=w.find(ne=>ne.id===d))==null?void 0:W.cost)||0,O=o-T,L=O+U;v.useEffect(()=>{n||(r("/cart"),fe({title:"Login Diperlukan",description:"Silakan login untuk melanjutkan ke checkout",variant:"destructive"}))},[n,r]),v.useEffect(()=>{t.length===0&&r("/cart")},[t,r]),v.useEffect(()=>{(async()=>{if(n)try{const{data:ce,error:de}=await Z.from("addresses").select("*").eq("user_id",n.id);if(de)throw de;if(ce&&ce.length>0){const be=ce.map(pe=>({id:pe.id,name:pe.name,street:pe.street,city:pe.city,state:pe.state,zip:pe.zip,country:pe.country,isDefault:pe.is_default,user_id:pe.user_id,created_at:pe.created_at}));p(be);const Y=be.find(pe=>pe.isDefault);Y?m(Y.id):be.length>0&&m(be[0].id)}}catch(ce){console.error("Error fetching addresses:",ce),fe({title:"Error",description:"Tidak dapat memuat alamat Anda",variant:"destructive"})}})()},[n]),v.useEffect(()=>{(async()=>{try{const{data:ce,error:de}=await Z.from("shipping_methods").select("*").eq("active",!0);if(de)throw de;if(ce&&ce.length>0)y(ce),h(ce[0].id);else{const be=[{id:"standard",name:"Pengiriman Standar",cost:15e3,estimated_days:5,carrier:"JNE"},{id:"express",name:"Pengiriman Express",cost:3e4,estimated_days:2,carrier:"JNE Express"}];y(be),h(be[0].id)}}catch(ce){console.error("Error fetching shipping methods:",ce);const de=[{id:"standard",name:"Pengiriman Standar",cost:15e3,estimated_days:5,carrier:"JNE"},{id:"express",name:"Pengiriman Express",cost:3e4,estimated_days:2,carrier:"JNE Express"}];y(de),h(de[0].id)}})()},[]);const H=async()=>{if(!C.trim()){fe({title:"Kode Voucher Kosong",description:"Silakan masukkan kode voucher",variant:"destructive"});return}j(!0);try{const{data:ne,error:ce}=await Qo.getVoucherByCode(C);if(ce)throw ce;if(!ne)throw new Error("Voucher tidak ditemukan");if(ne.min_purchase&&o<ne.min_purchase)throw new Error(`Minimum pembelian untuk voucher ini adalah ${ve(ne.min_purchase)}`);const de=Qo.calculateDiscount(ne,o);S(ne),I(de),fe({title:"Voucher Diterapkan",description:`Anda mendapatkan diskon sebesar ${ve(de)}`,variant:"default"})}catch(ne){console.error("Error applying voucher:",ne),fe({title:"Gagal Menerapkan Voucher",description:ne.message||"Terjadi kesalahan saat menerapkan voucher",variant:"destructive"})}finally{j(!1)}},D=()=>{S(null),I(0),E(""),fe({title:"Voucher Dihapus",description:"Voucher telah dihapus dari pesanan Anda",variant:"default"})},Q=async()=>{var ne,ce;if(!n||t.length===0||!f||f==="undefined"){fe({title:"Error",description:"Data tidak lengkap untuk membuat pesanan",variant:"destructive"});return}try{x(!0),console.log("Creating order with data:",{user_id:n.id,total:L,status:"pending",payment_method:l,shipping_address_id:f,payment_details:l==="bank-transfer"?u:null,voucher_id:(N==null?void 0:N.id)||null,discount_amount:T||0});const{data:de,error:be}=await Z.from("orders").insert({user_id:n.id,total:L,status:"pending",payment_method:l,shipping_address_id:f,date:new Date().toISOString(),payment_details:l==="bank-transfer"?u:null,voucher_id:(N==null?void 0:N.id)||null,discount_amount:T||0}).select().single();if(be)throw console.error("Order creation error:",be),be;console.log("Order created successfully:",de);for(const pe of t){console.log("Inserting order item:",{order_id:de.id,product_id:pe.id,product_name:pe.name,quantity:pe.quantity,price:pe.price});const{error:je}=await Z.from("order_items").insert({order_id:de.id,product_id:pe.id,product_name:pe.name,quantity:pe.quantity,price:pe.price});if(je)throw console.error("Error inserting order item:",je),je}try{await vc.reduceStockFromOrder(de.id,t.map(pe=>({productName:pe.name,quantity:pe.quantity})),n.id),console.log("Coal inventory updated after order creation")}catch(pe){console.error("Error updating coal inventory:",pe)}if(N)try{await Qo.incrementUsageCount(N.id),console.log("Voucher usage count updated")}catch(pe){console.error("Error updating voucher usage count:",pe)}fe({title:"Pesanan berhasil dibuat!",description:"Terima kasih atas pembelian Anda."});try{await z7(de),console.log("Order notification sent to admins")}catch(pe){console.error("Error sending order notification to admins:",pe)}try{const{data:pe}=await Z.from("addresses").select("*").eq("id",f).single(),{data:je}=await Z.from("order_items").select("*").eq("order_id",de.id),Le={name:BO(l),bank_name:l==="bank-transfer"?u:void 0,account_number:l==="bank-transfer"?(ne=jo.find(re=>re.bank===u))==null?void 0:ne.accountNumber:void 0,account_name:l==="bank-transfer"?(ce=jo.find(re=>re.bank===u))==null?void 0:ce.accountName:void 0},Ve=w.find(re=>re.id===d),bt={name:(Ve==null?void 0:Ve.name)||"Pengiriman Standar",cost:(Ve==null?void 0:Ve.cost)||U,estimated_days:(Ve==null?void 0:Ve.estimated_days)||2,carrier:"JPC Delivery"},X={...de,shipping_cost:U,shipping_provider:bt.carrier,shipping_service:bt.name,shipping_estimate:`${bt.estimated_days} hari`,discount_data:N?{code:N.code,value:T,type:"fixed"}:void 0,payment_status:"Belum dibayar"};console.log("Sending order details to customer via notification service"),await Gge(X),console.log("WhatsApp notification is handled by the notification service"),a!=null&&a.phone||console.log("Customer has no phone number, WhatsApp notification may be skipped")}catch(pe){console.error("Error sending notification to customer:",pe)}e();const Y=de.id;sessionStorage.setItem("lastCompletedOrderId",Y),console.log(` Redirecting to order details page: /order/${Y}`),fe({title:"Mengarahkan ke halaman detail pesanan",description:"Mohon tunggu sebentar..."}),e(),fe({title:"Pesanan Berhasil Dibuat",description:"Anda akan diarahkan ke halaman detail pesanan.",className:"bg-green-100 border-green-400"}),setTimeout(()=>{r(`/order/${de.id}`)},1500)}catch(de){console.error("Error placing order:",de),fe({title:"Error",description:"Tidak dapat membuat pesanan Anda. Silakan coba lagi.",variant:"destructive"})}finally{x(!1)}},z=ne=>{c(ne)};if(!n||g.length===0)return i.jsx(Kt,{children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsxs(dt,{to:"/cart",className:"flex items-center text-charcoal-600",children:[i.jsx(ks,{className:"h-5 w-5 mr-1"}),i.jsx("span",{children:"Kembali ke Keranjang"})]}),i.jsx("h1",{className:"text-lg font-medium flex-1 text-center",children:"Checkout"}),i.jsx("div",{className:"w-8"})]}),i.jsxs("div",{className:"text-center py-10",children:[i.jsx("p",{className:"mb-4",children:"Anda perlu menambahkan alamat pengiriman sebelum checkout."}),i.jsx(dt,{to:"/address/new",children:i.jsx(G,{className:"bg-flame-500 hover:bg-flame-600",children:"Tambah Alamat"})})]})]})});const q=()=>{const[ne,ce]=v.useState(!0),[de,be]=v.useState(null),[Y,pe]=v.useState([]),[je,Le]=v.useState(null),[Ve,bt]=v.useState(null),[X,re]=v.useState(null);return M?(v.useEffect(()=>{async function ie(){ce(!0);try{const{data:ge,error:we}=await Z.from("orders").select("*").eq("id",M.id).single();if(we)throw we;be(ge);const{data:xe,error:Ke}=await Z.from("order_items").select("*").eq("order_id",M.id);if(Ke)throw Ke;if(pe(xe||[]),ge.shipping_address_id){const{data:Ze,error:nt}=await Z.from("addresses").select("*").eq("id",ge.shipping_address_id).single();!nt&&Ze&&Le(Ze)}const it=ge.shipping_id||ge.shipping_method_id;if(it){const{data:Ze,error:nt}=await Z.from("shipping_methods").select("*").eq("id",it).single();!nt&&Ze&&bt(Ze)}if(ge.payment_method==="bank-transfer")try{if(ge.payment_details&&typeof ge.payment_details=="string"){const Ze=JSON.parse(ge.payment_details);re(Ze)}else{const Ze=jo.find(nt=>nt.bank===u);re(Ze||{bank:"SeaBank",accountNumber:"901958730549",accountName:"Jaya Perkasa Charcoal"})}}catch(Ze){console.error("Error parsing payment details:",Ze),re({bank:"SeaBank",accountNumber:"901958730549",accountName:"Jaya Perkasa Charcoal"})}}catch(ge){console.error("Error fetching order details:",ge),fe({title:"Error",description:"Gagal memuat detail pesanan. Silakan coba lagi nanti.",variant:"destructive"})}finally{ce(!1)}}ie()},[M.id]),ne?i.jsxs("div",{className:"p-4 text-center",children:[i.jsx(zt,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),i.jsx("p",{children:"Memuat detail pesanan..."})]}):i.jsxs("div",{id:"order-completed-details",className:"p-4 bg-green-50 rounded-lg border border-green-200 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx(_4,{className:"h-6 w-6 text-green-500"}),i.jsx("h2",{className:"text-xl font-bold text-green-700",children:"Pesanan Berhasil!"})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:[i.jsxs("h3",{className:"font-bold text-lg mb-2",children:["Detail Pesanan #",M.id]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Status:"}),i.jsx("span",{className:"font-medium bg-green-100 text-green-800 px-2 py-0.5 rounded",children:"Baru"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Tanggal:"}),i.jsx("span",{children:new Date().toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Total:"}),i.jsx("span",{className:"font-bold",children:ve(M.total)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Metode Pembayaran:"}),i.jsx("span",{children:BO(M.payment_method)})]})]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:[i.jsx("h3",{className:"font-bold mb-2",children:"Item Pesanan"}),i.jsx("div",{className:"space-y-3",children:Y.map((ie,ge)=>i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[ie.product_image?i.jsx("img",{src:ie.product_image,alt:ie.product_name,className:"w-12 h-12 object-cover rounded"}):i.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center",children:i.jsx(Jy,{className:"h-6 w-6 text-gray-400"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:ie.product_name}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[ie.quantity," x ",ve(ie.price),ie.variant&&i.jsxs("span",{className:"ml-1",children:["(",ie.variant,")"]})]})]})]}),i.jsx("div",{className:"font-medium",children:ve(ie.price*ie.quantity)})]},ge))})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:[i.jsx("h3",{className:"font-bold mb-2",children:"Informasi Pengiriman"}),je&&i.jsxs("div",{className:"mb-3",children:[i.jsx("div",{className:"font-medium",children:je.recipient_name||je.name}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[je.street,",",je.district&&`${je.district}, `,je.city,",",je.province,je.postal_code]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:je.recipient_phone||je.phone})]}),Ve&&i.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:Ve.name}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[Ve.provider," ",Ve.service]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Estimasi ",Ve.estimated_days||2," jam"]})]}),i.jsx("div",{className:"font-medium",children:ve(Ve.cost)})]})]}),(de==null?void 0:de.payment_method)==="bank-transfer"&&X&&i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:[i.jsx("h3",{className:"font-bold mb-2",children:"Instruksi Pembayaran"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Bank:"}),i.jsx("div",{className:"font-medium",children:X.bank||X.bank_name})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Nomor Rekening:"}),i.jsx("div",{className:"font-medium",children:X.accountNumber||X.account_number})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Atas Nama:"}),i.jsx("div",{className:"font-medium",children:X.accountName||X.account_name||"Jaya Perkasa Charcoal"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Jumlah:"}),i.jsx("div",{className:"font-bold text-lg",children:ve(de.total)})]}),i.jsx("div",{className:"pt-2 text-sm text-muted-foreground",children:"Silakan lakukan pembayaran dalam waktu 24 jam. Setelah melakukan pembayaran, pesanan Anda akan diproses."})]})]}),i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsx(G,{onClick:()=>r("/"),className:"bg-flame-500 hover:bg-flame-600 w-full",children:"Lanjutkan Belanja"}),i.jsx(G,{onClick:()=>r(`/order/${M.id}`),variant:"outline",className:"w-full",children:"Lihat Detail Pesanan"})]})]})):i.jsx("div",{className:"p-4 text-center",children:"Memuat detail pesanan..."})};return k&&M?i.jsxs(Kt,{children:[i.jsxs("div",{className:"p-4 flex items-center justify-between shadow-sm mb-4",children:[i.jsxs(dt,{to:"/",className:"text-charcoal-600 flex items-center",children:[i.jsx(ks,{className:"h-5 w-5 mr-1"}),i.jsx("span",{children:"Kembali ke Beranda"})]}),i.jsx("h1",{className:"text-xl font-bold text-center flex-1 pr-6",children:"Detail Pesanan"}),i.jsx("div",{className:"w-8"})]}),i.jsx(q,{})]}):i.jsx(Kt,{children:i.jsxs("div",{className:"pb-28",children:[i.jsxs("div",{className:"sticky top-0 z-10 bg-background p-4 flex items-center justify-between shadow-sm",children:[i.jsxs(dt,{to:"/cart",className:"text-charcoal-600 flex items-center",children:[i.jsx(ks,{className:"h-5 w-5 mr-1"}),i.jsx("span",{children:"Kembali ke Keranjang"})]}),i.jsx("h1",{className:"text-xl font-bold text-center flex-1 pr-6",children:"Checkout"}),i.jsx("div",{className:"w-8"})," "]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-bold mb-3",children:"Alamat Pengiriman"}),i.jsx(of,{value:f,onValueChange:m,className:"space-y-3",children:g.map(ne=>i.jsx(_e,{className:`cursor-pointer border-2 ${f===ne.id?"border-flame-500":"border-border"}`,onClick:()=>m(ne.id),children:i.jsx(Be,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(uc,{value:ne.id,id:`address-${ne.id}`,className:"flex-shrink-0"}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Te,{htmlFor:`address-${ne.id}`,className:"font-medium cursor-pointer",children:ne.name}),ne.isDefault&&i.jsx("span",{className:"text-xs bg-charcoal-100 text-charcoal-600 px-2 py-0.5 rounded",children:"Utama"})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[ne.street,", ",ne.city,", ",ne.state," ",ne.zip]})]})]})})},ne.id))}),i.jsx("div",{className:"mt-3",children:i.jsx(dt,{to:"/address/new",children:i.jsxs(G,{variant:"outline",className:"w-full text-sm",children:[i.jsx("span",{className:"mr-1",children:"+"})," Tambah Alamat Baru"]})})})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-bold mb-3",children:"Metode Pengiriman"}),i.jsx(of,{value:d,onValueChange:h,children:i.jsx("div",{className:"space-y-3",children:w.map(ne=>i.jsx(_e,{className:`cursor-pointer border-2 ${d===ne.id?"border-flame-500":"border-border"}`,children:i.jsx(Be,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(uc,{value:ne.id,id:`shipping-${ne.id}`,className:"flex-shrink-0"}),i.jsxs("div",{className:"flex justify-between w-full",children:[i.jsxs(Te,{htmlFor:`shipping-${ne.id}`,className:"cursor-pointer",children:[i.jsx("div",{className:"font-medium",children:ne.name}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[ne.estimated_days," Jam kerja"]})]}),i.jsx("div",{className:"font-medium",children:ve(ne.cost)})]})]})})},ne.id))})})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-bold mb-3",children:"Metode Pembayaran"}),i.jsx(of,{value:l,onValueChange:z,children:i.jsxs("div",{className:"space-y-3",children:[i.jsx(_e,{className:`cursor-pointer border-2 ${l==="bank-transfer"?"border-flame-500":"border-border"}`,children:i.jsx(Be,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(uc,{value:"bank-transfer",id:"bank-transfer",className:"flex-shrink-0"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(EH,{className:"h-5 w-5 text-flame-500"}),i.jsx(Te,{htmlFor:"bank-transfer",className:"cursor-pointer",children:"Transfer Bank"})]})]})})}),i.jsx(_e,{className:`cursor-pointer border-2 ${l==="cod"?"border-flame-500":"border-border"}`,children:i.jsx(Be,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(uc,{value:"cod",id:"cod",className:"flex-shrink-0"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(uT,{className:"h-5 w-5 text-flame-500"}),i.jsx(Te,{htmlFor:"cod",className:"cursor-pointer",children:"Bayar di Tempat (COD)"})]})]})})}),i.jsx(_e,{className:`cursor-pointer border-2 ${l==="qris"?"border-flame-500":"border-border"}`,children:i.jsx(Be,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(uc,{value:"qris",id:"qris",className:"flex-shrink-0"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(hT,{className:"h-5 w-5 text-flame-500"}),i.jsx(Te,{htmlFor:"qris",className:"cursor-pointer",children:"QRIS"})]})]})})})]})}),l==="bank-transfer"&&i.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-md",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Pilih Bank"}),i.jsx(of,{value:u,onValueChange:A,className:"space-y-2",children:jo.map(ne=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(uc,{value:ne.bank,id:`bank-${ne.bank}`}),i.jsx(Te,{htmlFor:`bank-${ne.bank}`,children:ne.bank})]},ne.bank))}),i.jsx("div",{className:"mt-3 p-3 bg-background rounded border",children:jo.find(ne=>ne.bank===u)&&i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"font-medium",children:"Detail Rekening:"}),i.jsxs("p",{className:"mt-1",children:["Bank: ",u]}),i.jsxs("p",{children:["No. Rekening: ",(ee=jo.find(ne=>ne.bank===u))==null?void 0:ee.accountNumber]}),i.jsxs("p",{children:["Atas Nama: ",(oe=jo.find(ne=>ne.bank===u))==null?void 0:oe.accountName]})]})})]}),l==="qris"&&i.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-md text-center",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Scan QRIS"}),i.jsx("div",{className:"bg-white p-3 inline-block mx-auto rounded-lg",children:i.jsx("img",{src:"https://jayaperkasacharcoal.co-id.id/qr-code.jpg",alt:"Kode QRIS",className:"w-48 h-48 mx-auto",onError:ne=>{const ce=ne.target;ce.src="https://jayaperkasacharcoal.co-id.id/qr-code.jpg"}})}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Scan kode QR menggunakan aplikasi DANA atau e-wallet lainnya"})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-bold mb-3",children:"Ringkasan Pesanan"}),i.jsx(_e,{children:i.jsxs(Be,{className:"p-4",children:[i.jsx("div",{className:"space-y-3 mb-3",children:t.map(ne=>i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"font-medium text-sm",children:ne.name}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Qty: ",ne.quantity," x ",ve(ne.price)]})]}),i.jsx("div",{className:"font-medium text-right",children:ve(ne.price*ne.quantity)})]},ne.id))}),i.jsx(Gn,{className:"my-3"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Subtotal"}),i.jsx("span",{className:"font-medium",children:ve(o)})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Pengiriman"}),i.jsx("span",{className:"font-medium",children:ve(U)})]}),N?i.jsxs("div",{className:"flex justify-between items-center mt-2 p-2 bg-green-50 rounded-md border border-green-200",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(_4,{className:"h-4 w-4 text-green-600 mr-2"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:N.code}),i.jsx("p",{className:"text-xs text-gray-500",children:N.discount_type==="percentage"?`Diskon ${N.discount_value}%`:`Diskon ${ve(N.discount_value)}`})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsxs("span",{className:"text-sm font-medium text-green-600 mr-2",children:["-",ve(T)]}),i.jsx(G,{variant:"ghost",size:"icon",className:"h-6 w-6 rounded-full text-gray-500 hover:text-red-500 hover:bg-red-50",onClick:D,children:i.jsx(tb,{className:"h-3 w-3"})})]})]}):i.jsxs("div",{className:"flex gap-2 mt-2",children:[i.jsxs("div",{className:"relative flex-grow",children:[i.jsx(fT,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),i.jsx(ue,{placeholder:"Masukkan kode voucher",className:"pl-8",value:C,onChange:ne=>E(ne.target.value),disabled:B})]}),i.jsx(G,{variant:"outline",size:"sm",onClick:H,disabled:B||!C.trim(),className:"shrink-0",children:B?i.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}):"Terapkan"})]}),N&&i.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[i.jsx("span",{children:"Subtotal setelah diskon"}),i.jsx("span",{className:"font-medium",children:ve(O)})]}),i.jsx(Gn,{className:"my-2"}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-bold",children:"Total"}),i.jsx("span",{className:"font-bold",children:ve(L)})]})]})]})})]})]}),i.jsxs("div",{className:"fixed bottom-16 left-0 right-0 max-w-md mx-auto bg-background border-t p-4 z-20",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"font-bold",children:"Total:"}),i.jsx("span",{className:"font-bold text-xl",children:ve(L)})]}),i.jsx(G,{onClick:Q,className:"w-full bg-flame-500 hover:bg-flame-600",disabled:b,children:b?"Memproses...":"Buat Pesanan"})]})]})})};var Gp=t=>t.type==="checkbox",Bc=t=>t instanceof Date,ea=t=>t==null;const sG=t=>typeof t=="object";var Ur=t=>!ea(t)&&!Array.isArray(t)&&sG(t)&&!Bc(t),iG=t=>Ur(t)&&t.target?Gp(t.target)?t.target.checked:t.target.value:t,Wge=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,oG=(t,e)=>t.has(Wge(e)),Xge=t=>{const e=t.constructor&&t.constructor.prototype;return Ur(e)&&e.hasOwnProperty("isPrototypeOf")},Gk=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function fa(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Gk&&(t instanceof Blob||t instanceof FileList))&&(r||Ur(t)))if(e=r?[]:{},!r&&!Xge(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=fa(t[n]));else return t;return e}var qb=t=>Array.isArray(t)?t.filter(Boolean):[],Nr=t=>t===void 0,Ie=(t,e,r)=>{if(!e||!Ur(t))return r;const n=qb(e.split(/[,[\].]+?/)).reduce((a,s)=>ea(a)?a:a[s],t);return Nr(n)||n===t?Nr(t[e])?r:t[e]:n},Ya=t=>typeof t=="boolean",zk=t=>/^\w*$/.test(t),lG=t=>qb(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Jt=(t,e,r)=>{let n=-1;const a=zk(e)?[e]:lG(e),s=a.length,o=s-1;for(;++n<s;){const l=a[n];let c=r;if(n!==o){const u=t[l];c=Ur(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__")return;t[l]=c,t=t[l]}return t};const Cv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Cs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ti={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},cG=K.createContext(null),Gb=()=>K.useContext(cG),Yge=t=>{const{children:e,...r}=t;return K.createElement(cG.Provider,{value:r},e)};var uG=(t,e,r,n=!0)=>{const a={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(a,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Cs.all&&(e._proxyFormState[o]=!n||Cs.all),r&&(r[o]=!0),t[o]}});return a},pa=t=>Ur(t)&&!Object.keys(t).length,AG=(t,e,r,n)=>{r(t);const{name:a,...s}=t;return pa(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!n||Cs.all))},Pf=t=>Array.isArray(t)?t:[t],dG=(t,e,r)=>!t||!e||t===e||Pf(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function Wk(t){const e=K.useRef(t);e.current=t,K.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function Jge(t){const e=Gb(),{control:r=e.control,disabled:n,name:a,exact:s}=t||{},[o,l]=K.useState(r._formState),c=K.useRef(!0),u=K.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),A=K.useRef(a);return A.current=a,Wk({disabled:n,next:d=>c.current&&dG(A.current,d.name,s)&&AG(d,u.current,r._updateFormState)&&l({...r._formState,...d}),subject:r._subjects.state}),K.useEffect(()=>(c.current=!0,u.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),uG(o,r,u.current,!1)}var si=t=>typeof t=="string",hG=(t,e,r,n,a)=>si(t)?(n&&e.watch.add(t),Ie(r,t,a)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),Ie(r,s))):(n&&(e.watchAll=!0),r);function Zge(t){const e=Gb(),{control:r=e.control,name:n,defaultValue:a,disabled:s,exact:o}=t||{},l=K.useRef(n);l.current=n,Wk({disabled:s,subject:r._subjects.values,next:A=>{dG(l.current,A.name,o)&&u(fa(hG(l.current,r._names,A.values||r._formValues,!1,a)))}});const[c,u]=K.useState(r._getWatch(n,a));return K.useEffect(()=>r._removeUnmounted()),c}function e0e(t){const e=Gb(),{name:r,disabled:n,control:a=e.control,shouldUnregister:s}=t,o=oG(a._names.array,r),l=Zge({control:a,name:r,defaultValue:Ie(a._formValues,r,Ie(a._defaultValues,r,t.defaultValue)),exact:!0}),c=Jge({control:a,name:r,exact:!0}),u=K.useRef(a.register(r,{...t.rules,value:l,...Ya(t.disabled)?{disabled:t.disabled}:{}}));return K.useEffect(()=>{const A=a._options.shouldUnregister||s,d=(h,f)=>{const m=Ie(a._fields,h);m&&m._f&&(m._f.mount=f)};if(d(r,!0),A){const h=fa(Ie(a._options.defaultValues,r));Jt(a._defaultValues,r,h),Nr(Ie(a._formValues,r))&&Jt(a._formValues,r,h)}return()=>{(o?A&&!a._state.action:A)?a.unregister(r):d(r,!1)}},[r,a,o,s]),K.useEffect(()=>{Ie(a._fields,r)&&a._updateDisabledField({disabled:n,fields:a._fields,name:r,value:Ie(a._fields,r)._f.value})},[n,r,a]),{field:{name:r,value:l,...Ya(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:K.useCallback(A=>u.current.onChange({target:{value:iG(A),name:r},type:Cv.CHANGE}),[r]),onBlur:K.useCallback(()=>u.current.onBlur({target:{value:Ie(a._formValues,r),name:r},type:Cv.BLUR}),[r,a]),ref:K.useCallback(A=>{const d=Ie(a._fields,r);d&&A&&(d._f.ref={focus:()=>A.focus(),select:()=>A.select(),setCustomValidity:h=>A.setCustomValidity(h),reportValidity:()=>A.reportValidity()})},[a._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ie(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ie(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ie(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ie(c.validatingFields,r)},error:{enumerable:!0,get:()=>Ie(c.errors,r)}})}}const t0e=t=>t.render(e0e(t));var fG=(t,e,r,n,a)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:a||!0}}:{},CO=t=>({isOnSubmit:!t||t===Cs.onSubmit,isOnBlur:t===Cs.onBlur,isOnChange:t===Cs.onChange,isOnAll:t===Cs.all,isOnTouch:t===Cs.onTouched}),jO=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Ff=(t,e,r,n)=>{for(const a of r||Object.keys(t)){const s=Ie(t,a);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],a)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(Ff(l,e))break}else if(Ur(l)&&Ff(l,e))break}}};var r0e=(t,e,r)=>{const n=Pf(Ie(t,r));return Jt(n,"root",e[r]),Jt(t,r,n),t},Xk=t=>t.type==="file",Mi=t=>typeof t=="function",jv=t=>{if(!Gk)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},tx=t=>si(t),Yk=t=>t.type==="radio",Ev=t=>t instanceof RegExp;const EO={value:!1,isValid:!1},SO={value:!0,isValid:!0};var mG=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Nr(t[0].attributes.value)?Nr(t[0].value)||t[0].value===""?SO:{value:t[0].value,isValid:!0}:SO:EO}return EO};const NO={isValid:!1,value:null};var pG=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,NO):NO;function TO(t,e,r="validate"){if(tx(t)||Array.isArray(t)&&t.every(tx)||Ya(t)&&!t)return{type:r,message:tx(t)?t:"",ref:e}}var Hu=t=>Ur(t)&&!Ev(t)?t:{value:t,message:""},kO=async(t,e,r,n,a)=>{const{ref:s,refs:o,required:l,maxLength:c,minLength:u,min:A,max:d,pattern:h,validate:f,name:m,valueAsNumber:g,mount:p,disabled:b}=t._f,x=Ie(e,m);if(!p||b)return{};const w=o?o[0]:s,y=I=>{n&&w.reportValidity&&(w.setCustomValidity(Ya(I)?"":I||""),w.reportValidity())},C={},E=Yk(s),B=Gp(s),j=E||B,N=(g||Xk(s))&&Nr(s.value)&&Nr(x)||jv(s)&&s.value===""||x===""||Array.isArray(x)&&!x.length,S=fG.bind(null,m,r,C),T=(I,k,R,M=Ti.maxLength,$=Ti.minLength)=>{const U=I?k:R;C[m]={type:I?M:$,message:U,ref:s,...S(I?M:$,U)}};if(a?!Array.isArray(x)||!x.length:l&&(!j&&(N||ea(x))||Ya(x)&&!x||B&&!mG(o).isValid||E&&!pG(o).isValid)){const{value:I,message:k}=tx(l)?{value:!!l,message:l}:Hu(l);if(I&&(C[m]={type:Ti.required,message:k,ref:w,...S(Ti.required,k)},!r))return y(k),C}if(!N&&(!ea(A)||!ea(d))){let I,k;const R=Hu(d),M=Hu(A);if(!ea(x)&&!isNaN(x)){const $=s.valueAsNumber||x&&+x;ea(R.value)||(I=$>R.value),ea(M.value)||(k=$<M.value)}else{const $=s.valueAsDate||new Date(x),U=H=>new Date(new Date().toDateString()+" "+H),O=s.type=="time",L=s.type=="week";si(R.value)&&x&&(I=O?U(x)>U(R.value):L?x>R.value:$>new Date(R.value)),si(M.value)&&x&&(k=O?U(x)<U(M.value):L?x<M.value:$<new Date(M.value))}if((I||k)&&(T(!!I,R.message,M.message,Ti.max,Ti.min),!r))return y(C[m].message),C}if((c||u)&&!N&&(si(x)||a&&Array.isArray(x))){const I=Hu(c),k=Hu(u),R=!ea(I.value)&&x.length>+I.value,M=!ea(k.value)&&x.length<+k.value;if((R||M)&&(T(R,I.message,k.message),!r))return y(C[m].message),C}if(h&&!N&&si(x)){const{value:I,message:k}=Hu(h);if(Ev(I)&&!x.match(I)&&(C[m]={type:Ti.pattern,message:k,ref:s,...S(Ti.pattern,k)},!r))return y(k),C}if(f){if(Mi(f)){const I=await f(x,e),k=TO(I,w);if(k&&(C[m]={...k,...S(Ti.validate,k.message)},!r))return y(k.message),C}else if(Ur(f)){let I={};for(const k in f){if(!pa(I)&&!r)break;const R=TO(await f[k](x,e),w,k);R&&(I={...R,...S(k,R.message)},y(R.message),r&&(C[m]=I))}if(!pa(I)&&(C[m]={ref:w,...I},!r))return C}}return y(!0),C};function n0e(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Nr(t)?n++:t[e[n++]];return t}function a0e(t){for(const e in t)if(t.hasOwnProperty(e)&&!Nr(t[e]))return!1;return!0}function qr(t,e){const r=Array.isArray(e)?e:zk(e)?[e]:lG(e),n=r.length===1?t:n0e(t,r),a=r.length-1,s=r[a];return n&&delete n[s],a!==0&&(Ur(n)&&pa(n)||Array.isArray(n)&&a0e(n))&&qr(t,r.slice(0,-1)),t}var K1=()=>{let t=[];return{get observers(){return t},next:a=>{for(const s of t)s.next&&s.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(s=>s!==a)}}),unsubscribe:()=>{t=[]}}},s2=t=>ea(t)||!sG(t);function Lo(t,e){if(s2(t)||s2(e))return t===e;if(Bc(t)&&Bc(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const a of r){const s=t[a];if(!n.includes(a))return!1;if(a!=="ref"){const o=e[a];if(Bc(s)&&Bc(o)||Ur(s)&&Ur(o)||Array.isArray(s)&&Array.isArray(o)?!Lo(s,o):s!==o)return!1}}return!0}var gG=t=>t.type==="select-multiple",s0e=t=>Yk(t)||Gp(t),q1=t=>jv(t)&&t.isConnected,xG=t=>{for(const e in t)if(Mi(t[e]))return!0;return!1};function Sv(t,e={}){const r=Array.isArray(t);if(Ur(t)||r)for(const n in t)Array.isArray(t[n])||Ur(t[n])&&!xG(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Sv(t[n],e[n])):ea(t[n])||(e[n]=!0);return e}function vG(t,e,r){const n=Array.isArray(t);if(Ur(t)||n)for(const a in t)Array.isArray(t[a])||Ur(t[a])&&!xG(t[a])?Nr(e)||s2(r[a])?r[a]=Array.isArray(t[a])?Sv(t[a],[]):{...Sv(t[a])}:vG(t[a],ea(e)?{}:e[a],r[a]):r[a]=!Lo(t[a],e[a]);return r}var Rh=(t,e)=>vG(t,e,Sv(e)),yG=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Nr(t)?t:e?t===""?NaN:t&&+t:r&&si(t)?new Date(t):n?n(t):t;function G1(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return Xk(e)?e.files:Yk(e)?pG(t.refs).value:gG(e)?[...e.selectedOptions].map(({value:r})=>r):Gp(e)?mG(t.refs).value:yG(Nr(e.value)?t.ref.value:e.value,t)}var i0e=(t,e,r,n)=>{const a={};for(const s of t){const o=Ie(e,s);o&&Jt(a,s,o._f)}return{criteriaMode:r,names:[...t],fields:a,shouldUseNativeValidation:n}},Uh=t=>Nr(t)?t:Ev(t)?t.source:Ur(t)?Ev(t.value)?t.value.source:t.value:t;const IO="AsyncFunction";var o0e=t=>(!t||!t.validate)&&!!(Mi(t.validate)&&t.validate.constructor.name===IO||Ur(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===IO)),l0e=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function PO(t,e,r){const n=Ie(t,r);if(n||zk(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),o=Ie(e,s),l=Ie(t,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};a.pop()}return{name:r}}var c0e=(t,e,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(e||t):(r?n.isOnBlur:a.isOnBlur)?!t:(r?n.isOnChange:a.isOnChange)?t:!0,u0e=(t,e)=>!qb(Ie(t,e)).length&&qr(t,e);const A0e={mode:Cs.onSubmit,reValidateMode:Cs.onChange,shouldFocusError:!0};function d0e(t={}){let e={...A0e,...t},r={submitCount:0,isDirty:!1,isLoading:Mi(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},a=Ur(e.defaultValues)||Ur(e.values)?fa(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:fa(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const A={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:K1(),array:K1(),state:K1()},h=CO(e.mode),f=CO(e.reValidateMode),m=e.criteriaMode===Cs.all,g=X=>re=>{clearTimeout(u),u=setTimeout(X,re)},p=async X=>{if(!t.disabled&&(A.isValid||X)){const re=e.resolver?pa((await j()).errors):await S(n,!0);re!==r.isValid&&d.state.next({isValid:re})}},b=(X,re)=>{!t.disabled&&(A.isValidating||A.validatingFields)&&((X||Array.from(l.mount)).forEach(ie=>{ie&&(re?Jt(r.validatingFields,ie,re):qr(r.validatingFields,ie))}),d.state.next({validatingFields:r.validatingFields,isValidating:!pa(r.validatingFields)}))},x=(X,re=[],ie,ge,we=!0,xe=!0)=>{if(ge&&ie&&!t.disabled){if(o.action=!0,xe&&Array.isArray(Ie(n,X))){const Ke=ie(Ie(n,X),ge.argA,ge.argB);we&&Jt(n,X,Ke)}if(xe&&Array.isArray(Ie(r.errors,X))){const Ke=ie(Ie(r.errors,X),ge.argA,ge.argB);we&&Jt(r.errors,X,Ke),u0e(r.errors,X)}if(A.touchedFields&&xe&&Array.isArray(Ie(r.touchedFields,X))){const Ke=ie(Ie(r.touchedFields,X),ge.argA,ge.argB);we&&Jt(r.touchedFields,X,Ke)}A.dirtyFields&&(r.dirtyFields=Rh(a,s)),d.state.next({name:X,isDirty:I(X,re),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Jt(s,X,re)},w=(X,re)=>{Jt(r.errors,X,re),d.state.next({errors:r.errors})},y=X=>{r.errors=X,d.state.next({errors:r.errors,isValid:!1})},C=(X,re,ie,ge)=>{const we=Ie(n,X);if(we){const xe=Ie(s,X,Nr(ie)?Ie(a,X):ie);Nr(xe)||ge&&ge.defaultChecked||re?Jt(s,X,re?xe:G1(we._f)):M(X,xe),o.mount&&p()}},E=(X,re,ie,ge,we)=>{let xe=!1,Ke=!1;const it={name:X};if(!t.disabled){const Ze=!!(Ie(n,X)&&Ie(n,X)._f&&Ie(n,X)._f.disabled);if(!ie||ge){A.isDirty&&(Ke=r.isDirty,r.isDirty=it.isDirty=I(),xe=Ke!==it.isDirty);const nt=Ze||Lo(Ie(a,X),re);Ke=!!(!Ze&&Ie(r.dirtyFields,X)),nt||Ze?qr(r.dirtyFields,X):Jt(r.dirtyFields,X,!0),it.dirtyFields=r.dirtyFields,xe=xe||A.dirtyFields&&Ke!==!nt}if(ie){const nt=Ie(r.touchedFields,X);nt||(Jt(r.touchedFields,X,ie),it.touchedFields=r.touchedFields,xe=xe||A.touchedFields&&nt!==ie)}xe&&we&&d.state.next(it)}return xe?it:{}},B=(X,re,ie,ge)=>{const we=Ie(r.errors,X),xe=A.isValid&&Ya(re)&&r.isValid!==re;if(t.delayError&&ie?(c=g(()=>w(X,ie)),c(t.delayError)):(clearTimeout(u),c=null,ie?Jt(r.errors,X,ie):qr(r.errors,X)),(ie?!Lo(we,ie):we)||!pa(ge)||xe){const Ke={...ge,...xe&&Ya(re)?{isValid:re}:{},errors:r.errors,name:X};r={...r,...Ke},d.state.next(Ke)}},j=async X=>{b(X,!0);const re=await e.resolver(s,e.context,i0e(X||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return b(X),re},N=async X=>{const{errors:re}=await j(X);if(X)for(const ie of X){const ge=Ie(re,ie);ge?Jt(r.errors,ie,ge):qr(r.errors,ie)}else r.errors=re;return re},S=async(X,re,ie={valid:!0})=>{for(const ge in X){const we=X[ge];if(we){const{_f:xe,...Ke}=we;if(xe){const it=l.array.has(xe.name),Ze=we._f&&o0e(we._f);Ze&&A.validatingFields&&b([ge],!0);const nt=await kO(we,s,m,e.shouldUseNativeValidation&&!re,it);if(Ze&&A.validatingFields&&b([ge]),nt[xe.name]&&(ie.valid=!1,re))break;!re&&(Ie(nt,xe.name)?it?r0e(r.errors,nt,xe.name):Jt(r.errors,xe.name,nt[xe.name]):qr(r.errors,xe.name))}!pa(Ke)&&await S(Ke,re,ie)}}return ie.valid},T=()=>{for(const X of l.unMount){const re=Ie(n,X);re&&(re._f.refs?re._f.refs.every(ie=>!q1(ie)):!q1(re._f.ref))&&ee(X)}l.unMount=new Set},I=(X,re)=>!t.disabled&&(X&&re&&Jt(s,X,re),!Lo(D(),a)),k=(X,re,ie)=>hG(X,l,{...o.mount?s:Nr(re)?a:si(X)?{[X]:re}:re},ie,re),R=X=>qb(Ie(o.mount?s:a,X,t.shouldUnregister?Ie(a,X,[]):[])),M=(X,re,ie={})=>{const ge=Ie(n,X);let we=re;if(ge){const xe=ge._f;xe&&(!xe.disabled&&Jt(s,X,yG(re,xe)),we=jv(xe.ref)&&ea(re)?"":re,gG(xe.ref)?[...xe.ref.options].forEach(Ke=>Ke.selected=we.includes(Ke.value)):xe.refs?Gp(xe.ref)?xe.refs.length>1?xe.refs.forEach(Ke=>(!Ke.defaultChecked||!Ke.disabled)&&(Ke.checked=Array.isArray(we)?!!we.find(it=>it===Ke.value):we===Ke.value)):xe.refs[0]&&(xe.refs[0].checked=!!we):xe.refs.forEach(Ke=>Ke.checked=Ke.value===we):Xk(xe.ref)?xe.ref.value="":(xe.ref.value=we,xe.ref.type||d.values.next({name:X,values:{...s}})))}(ie.shouldDirty||ie.shouldTouch)&&E(X,we,ie.shouldTouch,ie.shouldDirty,!0),ie.shouldValidate&&H(X)},$=(X,re,ie)=>{for(const ge in re){const we=re[ge],xe=`${X}.${ge}`,Ke=Ie(n,xe);(l.array.has(X)||Ur(we)||Ke&&!Ke._f)&&!Bc(we)?$(xe,we,ie):M(xe,we,ie)}},U=(X,re,ie={})=>{const ge=Ie(n,X),we=l.array.has(X),xe=fa(re);Jt(s,X,xe),we?(d.array.next({name:X,values:{...s}}),(A.isDirty||A.dirtyFields)&&ie.shouldDirty&&d.state.next({name:X,dirtyFields:Rh(a,s),isDirty:I(X,xe)})):ge&&!ge._f&&!ea(xe)?$(X,xe,ie):M(X,xe,ie),jO(X,l)&&d.state.next({...r}),d.values.next({name:o.mount?X:void 0,values:{...s}})},O=async X=>{o.mount=!0;const re=X.target;let ie=re.name,ge=!0;const we=Ie(n,ie),xe=()=>re.type?G1(we._f):iG(X),Ke=it=>{ge=Number.isNaN(it)||Bc(it)&&isNaN(it.getTime())||Lo(it,Ie(s,ie,it))};if(we){let it,Ze;const nt=xe(),fn=X.type===Cv.BLUR||X.type===Cv.FOCUS_OUT,ca=!l0e(we._f)&&!e.resolver&&!Ie(r.errors,ie)&&!we._f.deps||c0e(fn,Ie(r.touchedFields,ie),r.isSubmitted,f,h),$a=jO(ie,l,fn);Jt(s,ie,nt),fn?(we._f.onBlur&&we._f.onBlur(X),c&&c(0)):we._f.onChange&&we._f.onChange(X);const ua=E(ie,nt,fn,!1),Fn=!pa(ua)||$a;if(!fn&&d.values.next({name:ie,type:X.type,values:{...s}}),ca)return A.isValid&&(t.mode==="onBlur"?fn&&p():p()),Fn&&d.state.next({name:ie,...$a?{}:ua});if(!fn&&$a&&d.state.next({...r}),e.resolver){const{errors:Vs}=await j([ie]);if(Ke(nt),ge){const ji=PO(r.errors,n,ie),_a=PO(Vs,n,ji.name||ie);it=_a.error,ie=_a.name,Ze=pa(Vs)}}else b([ie],!0),it=(await kO(we,s,m,e.shouldUseNativeValidation))[ie],b([ie]),Ke(nt),ge&&(it?Ze=!1:A.isValid&&(Ze=await S(n,!0)));ge&&(we._f.deps&&H(we._f.deps),B(ie,Ze,it,ua))}},L=(X,re)=>{if(Ie(r.errors,re)&&X.focus)return X.focus(),1},H=async(X,re={})=>{let ie,ge;const we=Pf(X);if(e.resolver){const xe=await N(Nr(X)?X:we);ie=pa(xe),ge=X?!we.some(Ke=>Ie(xe,Ke)):ie}else X?(ge=(await Promise.all(we.map(async xe=>{const Ke=Ie(n,xe);return await S(Ke&&Ke._f?{[xe]:Ke}:Ke)}))).every(Boolean),!(!ge&&!r.isValid)&&p()):ge=ie=await S(n);return d.state.next({...!si(X)||A.isValid&&ie!==r.isValid?{}:{name:X},...e.resolver||!X?{isValid:ie}:{},errors:r.errors}),re.shouldFocus&&!ge&&Ff(n,L,X?we:l.mount),ge},D=X=>{const re={...o.mount?s:a};return Nr(X)?re:si(X)?Ie(re,X):X.map(ie=>Ie(re,ie))},Q=(X,re)=>({invalid:!!Ie((re||r).errors,X),isDirty:!!Ie((re||r).dirtyFields,X),error:Ie((re||r).errors,X),isValidating:!!Ie(r.validatingFields,X),isTouched:!!Ie((re||r).touchedFields,X)}),z=X=>{X&&Pf(X).forEach(re=>qr(r.errors,re)),d.state.next({errors:X?r.errors:{}})},q=(X,re,ie)=>{const ge=(Ie(n,X,{_f:{}})._f||{}).ref,we=Ie(r.errors,X)||{},{ref:xe,message:Ke,type:it,...Ze}=we;Jt(r.errors,X,{...Ze,...re,ref:ge}),d.state.next({name:X,errors:r.errors,isValid:!1}),ie&&ie.shouldFocus&&ge&&ge.focus&&ge.focus()},W=(X,re)=>Mi(X)?d.values.subscribe({next:ie=>X(k(void 0,re),ie)}):k(X,re,!0),ee=(X,re={})=>{for(const ie of X?Pf(X):l.mount)l.mount.delete(ie),l.array.delete(ie),re.keepValue||(qr(n,ie),qr(s,ie)),!re.keepError&&qr(r.errors,ie),!re.keepDirty&&qr(r.dirtyFields,ie),!re.keepTouched&&qr(r.touchedFields,ie),!re.keepIsValidating&&qr(r.validatingFields,ie),!e.shouldUnregister&&!re.keepDefaultValue&&qr(a,ie);d.values.next({values:{...s}}),d.state.next({...r,...re.keepDirty?{isDirty:I()}:{}}),!re.keepIsValid&&p()},oe=({disabled:X,name:re,field:ie,fields:ge,value:we})=>{if(Ya(X)&&o.mount||X){const xe=X?void 0:Nr(we)?G1(ie?ie._f:Ie(ge,re)._f):we;Jt(s,re,xe),E(re,xe,!1,!1,!0)}},ne=(X,re={})=>{let ie=Ie(n,X);const ge=Ya(re.disabled)||Ya(t.disabled);return Jt(n,X,{...ie||{},_f:{...ie&&ie._f?ie._f:{ref:{name:X}},name:X,mount:!0,...re}}),l.mount.add(X),ie?oe({field:ie,disabled:Ya(re.disabled)?re.disabled:t.disabled,name:X,value:re.value}):C(X,!0,re.value),{...ge?{disabled:re.disabled||t.disabled}:{},...e.progressive?{required:!!re.required,min:Uh(re.min),max:Uh(re.max),minLength:Uh(re.minLength),maxLength:Uh(re.maxLength),pattern:Uh(re.pattern)}:{},name:X,onChange:O,onBlur:O,ref:we=>{if(we){ne(X,re),ie=Ie(n,X);const xe=Nr(we.value)&&we.querySelectorAll&&we.querySelectorAll("input,select,textarea")[0]||we,Ke=s0e(xe),it=ie._f.refs||[];if(Ke?it.find(Ze=>Ze===xe):xe===ie._f.ref)return;Jt(n,X,{_f:{...ie._f,...Ke?{refs:[...it.filter(q1),xe,...Array.isArray(Ie(a,X))?[{}]:[]],ref:{type:xe.type,name:X}}:{ref:xe}}}),C(X,!1,void 0,xe)}else ie=Ie(n,X,{}),ie._f&&(ie._f.mount=!1),(e.shouldUnregister||re.shouldUnregister)&&!(oG(l.array,X)&&o.action)&&l.unMount.add(X)}}},ce=()=>e.shouldFocusError&&Ff(n,L,l.mount),de=X=>{Ya(X)&&(d.state.next({disabled:X}),Ff(n,(re,ie)=>{const ge=Ie(n,ie);ge&&(re.disabled=ge._f.disabled||X,Array.isArray(ge._f.refs)&&ge._f.refs.forEach(we=>{we.disabled=ge._f.disabled||X}))},0,!1))},be=(X,re)=>async ie=>{let ge;ie&&(ie.preventDefault&&ie.preventDefault(),ie.persist&&ie.persist());let we=fa(s);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:xe,values:Ke}=await j();r.errors=xe,we=Ke}else await S(n);if(qr(r.errors,"root"),pa(r.errors)){d.state.next({errors:{}});try{await X(we,ie)}catch(xe){ge=xe}}else re&&await re({...r.errors},ie),ce(),setTimeout(ce);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:pa(r.errors)&&!ge,submitCount:r.submitCount+1,errors:r.errors}),ge)throw ge},Y=(X,re={})=>{Ie(n,X)&&(Nr(re.defaultValue)?U(X,fa(Ie(a,X))):(U(X,re.defaultValue),Jt(a,X,fa(re.defaultValue))),re.keepTouched||qr(r.touchedFields,X),re.keepDirty||(qr(r.dirtyFields,X),r.isDirty=re.defaultValue?I(X,fa(Ie(a,X))):I()),re.keepError||(qr(r.errors,X),A.isValid&&p()),d.state.next({...r}))},pe=(X,re={})=>{const ie=X?fa(X):a,ge=fa(ie),we=pa(X),xe=we?a:ge;if(re.keepDefaultValues||(a=ie),!re.keepValues){if(re.keepDirtyValues){const Ke=new Set([...l.mount,...Object.keys(Rh(a,s))]);for(const it of Array.from(Ke))Ie(r.dirtyFields,it)?Jt(xe,it,Ie(s,it)):U(it,Ie(xe,it))}else{if(Gk&&Nr(X))for(const Ke of l.mount){const it=Ie(n,Ke);if(it&&it._f){const Ze=Array.isArray(it._f.refs)?it._f.refs[0]:it._f.ref;if(jv(Ze)){const nt=Ze.closest("form");if(nt){nt.reset();break}}}}n={}}s=t.shouldUnregister?re.keepDefaultValues?fa(a):{}:fa(xe),d.array.next({values:{...xe}}),d.values.next({values:{...xe}})}l={mount:re.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!A.isValid||!!re.keepIsValid||!!re.keepDirtyValues,o.watch=!!t.shouldUnregister,d.state.next({submitCount:re.keepSubmitCount?r.submitCount:0,isDirty:we?!1:re.keepDirty?r.isDirty:!!(re.keepDefaultValues&&!Lo(X,a)),isSubmitted:re.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:we?{}:re.keepDirtyValues?re.keepDefaultValues&&s?Rh(a,s):r.dirtyFields:re.keepDefaultValues&&X?Rh(a,X):re.keepDirty?r.dirtyFields:{},touchedFields:re.keepTouched?r.touchedFields:{},errors:re.keepErrors?r.errors:{},isSubmitSuccessful:re.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},je=(X,re)=>pe(Mi(X)?X(s):X,re);return{control:{register:ne,unregister:ee,getFieldState:Q,handleSubmit:be,setError:q,_executeSchema:j,_getWatch:k,_getDirty:I,_updateValid:p,_removeUnmounted:T,_updateFieldArray:x,_updateDisabledField:oe,_getFieldArray:R,_reset:pe,_resetDefaultValues:()=>Mi(e.defaultValues)&&e.defaultValues().then(X=>{je(X,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:X=>{r={...r,...X}},_disableForm:de,_subjects:d,_proxyFormState:A,_setErrors:y,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(X){o=X},get _defaultValues(){return a},get _names(){return l},set _names(X){l=X},get _formState(){return r},set _formState(X){r=X},get _options(){return e},set _options(X){e={...e,...X}}},trigger:H,register:ne,handleSubmit:be,watch:W,setValue:U,getValues:D,reset:je,resetField:Y,clearErrors:z,unregister:ee,setError:q,setFocus:(X,re={})=>{const ie=Ie(n,X),ge=ie&&ie._f;if(ge){const we=ge.refs?ge.refs[0]:ge.ref;we.focus&&(we.focus(),re.shouldSelect&&we.select())}},getFieldState:Q}}function ra(t={}){const e=K.useRef(),r=K.useRef(),[n,a]=K.useState({isDirty:!1,isValidating:!1,isLoading:Mi(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Mi(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...d0e(t),formState:n});const s=e.current.control;return s._options=t,Wk({subject:s._subjects.state,next:o=>{AG(o,s._proxyFormState,s._updateFormState,!0)&&a({...s._formState})}}),K.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),K.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),K.useEffect(()=>{t.values&&!Lo(t.values,r.current)?(s._reset(t.values,s._options.resetOptions),r.current=t.values,a(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),K.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),K.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),K.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),K.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[n]),e.current.formState=uG(n,s),e.current}const zn=Yge,bG=v.createContext({}),Qe=({...t})=>i.jsx(bG.Provider,{value:{name:t.name},children:i.jsx(t0e,{...t})}),zb=()=>{const t=v.useContext(bG),e=v.useContext(wG),{getFieldState:r,formState:n}=Gb(),a=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...a}},wG=v.createContext({}),Re=v.forwardRef(({className:t,...e},r)=>{const n=v.useId();return i.jsx(wG.Provider,{value:{id:n},children:i.jsx("div",{ref:r,className:he("space-y-2",t),...e})})});Re.displayName="FormItem";const Ue=v.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:a}=zb();return i.jsx(Te,{ref:r,className:he(n&&"text-destructive",t),htmlFor:a,...e})});Ue.displayName="FormLabel";const Me=v.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:s}=zb();return i.jsx(Yi,{ref:e,id:n,"aria-describedby":r?`${a} ${s}`:`${a}`,"aria-invalid":!!r,...t})});Me.displayName="FormControl";const rx=v.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=zb();return i.jsx("p",{ref:r,id:n,className:he("text-sm text-muted-foreground",t),...e})});rx.displayName="FormDescription";const qe=v.forwardRef(({className:t,children:e,...r},n)=>{const{error:a,formMessageId:s}=zb(),o=a?String(a==null?void 0:a.message):e;return o?i.jsx("p",{ref:n,id:s,className:he("text-sm font-medium text-destructive",t),...r,children:o}):null});qe.displayName="FormMessage";const FO=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Ie(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},_G=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?FO(n.ref,r,t):n.refs&&n.refs.forEach(a=>FO(a,r,t))}},h0e=(t,e)=>{e.shouldUseNativeValidation&&_G(t,e);const r={};for(const n in t){const a=Ie(e.fields,n),s=Object.assign(t[n]||{},{ref:a&&a.ref});if(f0e(e.names||Object.keys(t),n)){const o=Object.assign({},Ie(r,n));Jt(o,"root",s),Jt(r,n,o)}else Jt(r,n,s)}return r},f0e=(t,e)=>t.some(r=>r.startsWith(e+"."));var m0e=function(t,e){for(var r={};t.length;){var n=t[0],a=n.code,s=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:s,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(A){return A.errors.forEach(function(d){return t.push(d)})}),e){var c=r[o].types,u=c&&c[n.code];r[o]=fG(o,e,r,a,u?[].concat(u,n.message):n.message)}t.shift()}return r},na=function(t,e,r){return r===void 0&&(r={}),function(n,a,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return s.shouldUseNativeValidation&&_G({},s),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:h0e(m0e(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},Qt;(function(t){t.assertEqual=a=>a;function e(a){}t.assertIs=e;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{const s={};for(const o of a)s[o]=o;return s},t.getValidEnumValues=a=>{const s=t.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of s)o[l]=a[l];return t.objectValues(o)},t.objectValues=a=>t.objectKeys(a).map(function(s){return a[s]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&s.push(o);return s},t.find=(a,s)=>{for(const o of a)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,s=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(Qt||(Qt={}));var i2;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(i2||(i2={}));const $e=Qt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ho=t=>{switch(typeof t){case"undefined":return $e.undefined;case"string":return $e.string;case"number":return isNaN(t)?$e.nan:$e.number;case"boolean":return $e.boolean;case"function":return $e.function;case"bigint":return $e.bigint;case"symbol":return $e.symbol;case"object":return Array.isArray(t)?$e.array:t===null?$e.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?$e.promise:typeof Map<"u"&&t instanceof Map?$e.map:typeof Set<"u"&&t instanceof Set?$e.set:typeof Date<"u"&&t instanceof Date?$e.date:$e.object;default:return $e.unknown}},Se=Qt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),p0e=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Qa extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(s){return s.message},n={_errors:[]},a=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(e){if(!(e instanceof Qa))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Qt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(e(a))):n.push(e(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Qa.create=t=>new Qa(t);const id=(t,e)=>{let r;switch(t.code){case Se.invalid_type:t.received===$e.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Se.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Qt.jsonStringifyReplacer)}`;break;case Se.unrecognized_keys:r=`Unrecognized key(s) in object: ${Qt.joinValues(t.keys,", ")}`;break;case Se.invalid_union:r="Invalid input";break;case Se.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Qt.joinValues(t.options)}`;break;case Se.invalid_enum_value:r=`Invalid enum value. Expected ${Qt.joinValues(t.options)}, received '${t.received}'`;break;case Se.invalid_arguments:r="Invalid function arguments";break;case Se.invalid_return_type:r="Invalid function return type";break;case Se.invalid_date:r="Invalid date";break;case Se.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Qt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Se.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Se.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Se.custom:r="Invalid input";break;case Se.invalid_intersection_types:r="Intersection results could not be merged";break;case Se.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Se.not_finite:r="Number must be finite";break;default:r=e.defaultError,Qt.assertNever(t)}return{message:r}};let BG=id;function g0e(t){BG=t}function Nv(){return BG}const Tv=t=>{const{data:e,path:r,errorMaps:n,issueData:a}=t,s=[...r,...a.path||[]],o={...a,path:s};if(a.message!==void 0)return{...a,path:s,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...a,path:s,message:l}},x0e=[];function Oe(t,e){const r=Nv(),n=Tv({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===id?void 0:id].filter(a=>!!a)});t.common.issues.push(n)}class Wn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const a of r){if(a.status==="aborted")return ht;a.status==="dirty"&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const a of r){const s=await a.key,o=await a.value;n.push({key:s,value:o})}return Wn.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const a of r){const{key:s,value:o}=a;if(s.status==="aborted"||o.status==="aborted")return ht;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}}const ht=Object.freeze({status:"aborted"}),dA=t=>({status:"dirty",value:t}),ia=t=>({status:"valid",value:t}),o2=t=>t.status==="aborted",l2=t=>t.status==="dirty",bm=t=>t.status==="valid",wm=t=>typeof Promise<"u"&&t instanceof Promise;function kv(t,e,r,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function CG(t,e,r,n,a){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var tt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(tt||(tt={}));var lf,cf;class xi{constructor(e,r,n,a){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const DO=(t,e)=>{if(bm(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Qa(t.common.issues);return this._error=r,this._error}}};function yt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:a}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(o,l)=>{var c,u;const{message:A}=t;return o.code==="invalid_enum_value"?{message:A??l.defaultError}:typeof l.data>"u"?{message:(c=A??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=A??r)!==null&&u!==void 0?u:l.defaultError}},description:a}}class Bt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ho(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Ho(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Wn,ctx:{common:e.parent.common,data:e.data,parsedType:Ho(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(wm(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ho(e)},s=this._parseSync({data:e,path:a.path,parent:a});return DO(a,s)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ho(e)},a=this._parse({data:e,path:n.path,parent:n}),s=await(wm(a)?a:Promise.resolve(a));return DO(n,s)}refine(e,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,s)=>{const o=e(a),l=()=>s.addIssue({code:Se.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,a)=>e(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(e){return new Us({schema:this,typeName:ct.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ci.create(this,this._def)}nullable(){return Nl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ps.create(this,this._def)}promise(){return ld.create(this,this._def)}or(e){return jm.create([this,e],this._def)}and(e){return Em.create(this,e,this._def)}transform(e){return new Us({...yt(this._def),schema:this,typeName:ct.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Im({...yt(this._def),innerType:this,defaultValue:r,typeName:ct.ZodDefault})}brand(){return new Jk({typeName:ct.ZodBranded,type:this,...yt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Pm({...yt(this._def),innerType:this,catchValue:r,typeName:ct.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return zp.create(this,e)}readonly(){return Fm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const v0e=/^c[^\s-]{8,}$/i,y0e=/^[0-9a-z]+$/,b0e=/^[0-9A-HJKMNP-TV-Z]{26}$/,w0e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_0e=/^[a-z0-9_-]{21}$/i,B0e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,C0e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,j0e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let z1;const E0e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,S0e=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,N0e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,jG="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",T0e=new RegExp(`^${jG}$`);function EG(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function k0e(t){return new RegExp(`^${EG(t)}$`)}function SG(t){let e=`${jG}T${EG(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function I0e(t,e){return!!((e==="v4"||!e)&&E0e.test(t)||(e==="v6"||!e)&&S0e.test(t))}class Ss extends Bt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==$e.string){const s=this._getOrReturnCtx(e);return Oe(s,{code:Se.invalid_type,expected:$e.string,received:s.parsedType}),ht}const n=new Wn;let a;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(a=this._getOrReturnCtx(e,a),Oe(a,{code:Se.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(a=this._getOrReturnCtx(e,a),Oe(a,{code:Se.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,l=e.data.length<s.value;(o||l)&&(a=this._getOrReturnCtx(e,a),o?Oe(a,{code:Se.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&Oe(a,{code:Se.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")C0e.test(e.data)||(a=this._getOrReturnCtx(e,a),Oe(a,{validation:"email",code:Se.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")z1||(z1=new RegExp(j0e,"u")),z1.test(e.data)||(a=this._getOrReturnCtx(e,a),Oe(a,{validation:"emoji",code:Se.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")w0e.test(e.data)||(a=this._getOrReturnCtx(e,a),Oe(a,{validation:"uuid",code:Se.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")_0e.test(e.data)||(a=this._getOrReturnCtx(e,a),Oe(a,{validation:"nanoid",code:Se.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")v0e.test(e.data)||(a=this._getOrReturnCtx(e,a),Oe(a,{validation:"cuid",code:Se.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")y0e.test(e.data)||(a=this._getOrReturnCtx(e,a),Oe(a,{validation:"cuid2",code:Se.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")b0e.test(e.data)||(a=this._getOrReturnCtx(e,a),Oe(a,{validation:"ulid",code:Se.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),Oe(a,{validation:"url",code:Se.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),Oe(a,{validation:"regex",code:Se.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(e,a),Oe(a,{code:Se.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(a=this._getOrReturnCtx(e,a),Oe(a,{code:Se.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(a=this._getOrReturnCtx(e,a),Oe(a,{code:Se.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?SG(s).test(e.data)||(a=this._getOrReturnCtx(e,a),Oe(a,{code:Se.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?T0e.test(e.data)||(a=this._getOrReturnCtx(e,a),Oe(a,{code:Se.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?k0e(s).test(e.data)||(a=this._getOrReturnCtx(e,a),Oe(a,{code:Se.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?B0e.test(e.data)||(a=this._getOrReturnCtx(e,a),Oe(a,{validation:"duration",code:Se.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?I0e(e.data,s.version)||(a=this._getOrReturnCtx(e,a),Oe(a,{validation:"ip",code:Se.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?N0e.test(e.data)||(a=this._getOrReturnCtx(e,a),Oe(a,{validation:"base64",code:Se.invalid_string,message:s.message}),n.dirty()):Qt.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(a=>e.test(a),{validation:r,code:Se.invalid_string,...tt.errToObj(n)})}_addCheck(e){return new Ss({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...tt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...tt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...tt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...tt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...tt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...tt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...tt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...tt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...tt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...tt.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...tt.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...tt.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...tt.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...tt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...tt.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...tt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...tt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...tt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...tt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...tt.errToObj(r)})}nonempty(e){return this.min(1,tt.errToObj(e))}trim(){return new Ss({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ss({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ss({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ss.create=t=>{var e;return new Ss({checks:[],typeName:ct.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...yt(t)})};function P0e(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,a=r>n?r:n,s=parseInt(t.toFixed(a).replace(".","")),o=parseInt(e.toFixed(a).replace(".",""));return s%o/Math.pow(10,a)}class jl extends Bt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==$e.number){const s=this._getOrReturnCtx(e);return Oe(s,{code:Se.invalid_type,expected:$e.number,received:s.parsedType}),ht}let n;const a=new Wn;for(const s of this._def.checks)s.kind==="int"?Qt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Oe(n,{code:Se.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Oe(n,{code:Se.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Oe(n,{code:Se.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?P0e(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),Oe(n,{code:Se.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Oe(n,{code:Se.not_finite,message:s.message}),a.dirty()):Qt.assertNever(s);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,tt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,tt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,tt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,tt.toString(r))}setLimit(e,r,n,a){return new jl({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:tt.toString(a)}]})}_addCheck(e){return new jl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:tt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:tt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:tt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:tt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:tt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:tt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:tt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:tt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:tt.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Qt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}jl.create=t=>new jl({checks:[],typeName:ct.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...yt(t)});class El extends Bt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==$e.bigint){const s=this._getOrReturnCtx(e);return Oe(s,{code:Se.invalid_type,expected:$e.bigint,received:s.parsedType}),ht}let n;const a=new Wn;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Oe(n,{code:Se.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Oe(n,{code:Se.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Oe(n,{code:Se.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):Qt.assertNever(s);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,tt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,tt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,tt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,tt.toString(r))}setLimit(e,r,n,a){return new El({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:tt.toString(a)}]})}_addCheck(e){return new El({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:tt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:tt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:tt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:tt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:tt.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}El.create=t=>{var e;return new El({checks:[],typeName:ct.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...yt(t)})};class _m extends Bt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==$e.boolean){const n=this._getOrReturnCtx(e);return Oe(n,{code:Se.invalid_type,expected:$e.boolean,received:n.parsedType}),ht}return ia(e.data)}}_m.create=t=>new _m({typeName:ct.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...yt(t)});class au extends Bt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==$e.date){const s=this._getOrReturnCtx(e);return Oe(s,{code:Se.invalid_type,expected:$e.date,received:s.parsedType}),ht}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Oe(s,{code:Se.invalid_date}),ht}const n=new Wn;let a;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(a=this._getOrReturnCtx(e,a),Oe(a,{code:Se.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(a=this._getOrReturnCtx(e,a),Oe(a,{code:Se.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):Qt.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new au({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:tt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:tt.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}au.create=t=>new au({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ct.ZodDate,...yt(t)});class Iv extends Bt{_parse(e){if(this._getType(e)!==$e.symbol){const n=this._getOrReturnCtx(e);return Oe(n,{code:Se.invalid_type,expected:$e.symbol,received:n.parsedType}),ht}return ia(e.data)}}Iv.create=t=>new Iv({typeName:ct.ZodSymbol,...yt(t)});class Bm extends Bt{_parse(e){if(this._getType(e)!==$e.undefined){const n=this._getOrReturnCtx(e);return Oe(n,{code:Se.invalid_type,expected:$e.undefined,received:n.parsedType}),ht}return ia(e.data)}}Bm.create=t=>new Bm({typeName:ct.ZodUndefined,...yt(t)});class Cm extends Bt{_parse(e){if(this._getType(e)!==$e.null){const n=this._getOrReturnCtx(e);return Oe(n,{code:Se.invalid_type,expected:$e.null,received:n.parsedType}),ht}return ia(e.data)}}Cm.create=t=>new Cm({typeName:ct.ZodNull,...yt(t)});class od extends Bt{constructor(){super(...arguments),this._any=!0}_parse(e){return ia(e.data)}}od.create=t=>new od({typeName:ct.ZodAny,...yt(t)});class Mc extends Bt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ia(e.data)}}Mc.create=t=>new Mc({typeName:ct.ZodUnknown,...yt(t)});class ao extends Bt{_parse(e){const r=this._getOrReturnCtx(e);return Oe(r,{code:Se.invalid_type,expected:$e.never,received:r.parsedType}),ht}}ao.create=t=>new ao({typeName:ct.ZodNever,...yt(t)});class Pv extends Bt{_parse(e){if(this._getType(e)!==$e.undefined){const n=this._getOrReturnCtx(e);return Oe(n,{code:Se.invalid_type,expected:$e.void,received:n.parsedType}),ht}return ia(e.data)}}Pv.create=t=>new Pv({typeName:ct.ZodVoid,...yt(t)});class Ps extends Bt{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),a=this._def;if(r.parsedType!==$e.array)return Oe(r,{code:Se.invalid_type,expected:$e.array,received:r.parsedType}),ht;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Oe(r,{code:o?Se.too_big:Se.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Oe(r,{code:Se.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Oe(r,{code:Se.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new xi(r,o,r.path,l)))).then(o=>Wn.mergeArray(n,o));const s=[...r.data].map((o,l)=>a.type._parseSync(new xi(r,o,r.path,l)));return Wn.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new Ps({...this._def,minLength:{value:e,message:tt.toString(r)}})}max(e,r){return new Ps({...this._def,maxLength:{value:e,message:tt.toString(r)}})}length(e,r){return new Ps({...this._def,exactLength:{value:e,message:tt.toString(r)}})}nonempty(e){return this.min(1,e)}}Ps.create=(t,e)=>new Ps({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ct.ZodArray,...yt(e)});function lA(t){if(t instanceof Cr){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=ci.create(lA(n))}return new Cr({...t._def,shape:()=>e})}else return t instanceof Ps?new Ps({...t._def,type:lA(t.element)}):t instanceof ci?ci.create(lA(t.unwrap())):t instanceof Nl?Nl.create(lA(t.unwrap())):t instanceof vi?vi.create(t.items.map(e=>lA(e))):t}class Cr extends Bt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Qt.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==$e.object){const u=this._getOrReturnCtx(e);return Oe(u,{code:Se.invalid_type,expected:$e.object,received:u.parsedType}),ht}const{status:n,ctx:a}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ao&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const A=s[u],d=a.data[u];c.push({key:{status:"valid",value:u},value:A._parse(new xi(a,d,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof ao){const u=this._def.unknownKeys;if(u==="passthrough")for(const A of l)c.push({key:{status:"valid",value:A},value:{status:"valid",value:a.data[A]}});else if(u==="strict")l.length>0&&(Oe(a,{code:Se.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const A of l){const d=a.data[A];c.push({key:{status:"valid",value:A},value:u._parse(new xi(a,d,a.path,A)),alwaysSet:A in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const A of c){const d=await A.key,h=await A.value;u.push({key:d,value:h,alwaysSet:A.alwaysSet})}return u}).then(u=>Wn.mergeObjectSync(n,u)):Wn.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return tt.errToObj,new Cr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,s,o,l;const c=(o=(s=(a=this._def).errorMap)===null||s===void 0?void 0:s.call(a,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=tt.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Cr({...this._def,unknownKeys:"strip"})}passthrough(){return new Cr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Cr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Cr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ct.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Cr({...this._def,catchall:e})}pick(e){const r={};return Qt.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Cr({...this._def,shape:()=>r})}omit(e){const r={};return Qt.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Cr({...this._def,shape:()=>r})}deepPartial(){return lA(this)}partial(e){const r={};return Qt.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];e&&!e[n]?r[n]=a:r[n]=a.optional()}),new Cr({...this._def,shape:()=>r})}required(e){const r={};return Qt.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof ci;)s=s._def.innerType;r[n]=s}}),new Cr({...this._def,shape:()=>r})}keyof(){return NG(Qt.objectKeys(this.shape))}}Cr.create=(t,e)=>new Cr({shape:()=>t,unknownKeys:"strip",catchall:ao.create(),typeName:ct.ZodObject,...yt(e)});Cr.strictCreate=(t,e)=>new Cr({shape:()=>t,unknownKeys:"strict",catchall:ao.create(),typeName:ct.ZodObject,...yt(e)});Cr.lazycreate=(t,e)=>new Cr({shape:t,unknownKeys:"strip",catchall:ao.create(),typeName:ct.ZodObject,...yt(e)});class jm extends Bt{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function a(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new Qa(l.ctx.common.issues));return Oe(r,{code:Se.invalid_union,unionErrors:o}),ht}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let s;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},A=c._parseSync({data:r.data,path:r.path,parent:u});if(A.status==="valid")return A;A.status==="dirty"&&!s&&(s={result:A,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new Qa(c));return Oe(r,{code:Se.invalid_union,unionErrors:l}),ht}}get options(){return this._def.options}}jm.create=(t,e)=>new jm({options:t,typeName:ct.ZodUnion,...yt(e)});const Oi=t=>t instanceof Nm?Oi(t.schema):t instanceof Us?Oi(t.innerType()):t instanceof Tm?[t.value]:t instanceof Sl?t.options:t instanceof km?Qt.objectValues(t.enum):t instanceof Im?Oi(t._def.innerType):t instanceof Bm?[void 0]:t instanceof Cm?[null]:t instanceof ci?[void 0,...Oi(t.unwrap())]:t instanceof Nl?[null,...Oi(t.unwrap())]:t instanceof Jk||t instanceof Fm?Oi(t.unwrap()):t instanceof Pm?Oi(t._def.innerType):[];class Wb extends Bt{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==$e.object)return Oe(r,{code:Se.invalid_type,expected:$e.object,received:r.parsedType}),ht;const n=this.discriminator,a=r.data[n],s=this.optionsMap.get(a);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(Oe(r,{code:Se.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ht)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const a=new Map;for(const s of r){const o=Oi(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);a.set(l,s)}}return new Wb({typeName:ct.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:a,...yt(n)})}}function c2(t,e){const r=Ho(t),n=Ho(e);if(t===e)return{valid:!0,data:t};if(r===$e.object&&n===$e.object){const a=Qt.objectKeys(e),s=Qt.objectKeys(t).filter(l=>a.indexOf(l)!==-1),o={...t,...e};for(const l of s){const c=c2(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===$e.array&&n===$e.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let s=0;s<t.length;s++){const o=t[s],l=e[s],c=c2(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===$e.date&&n===$e.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Em extends Bt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=(s,o)=>{if(o2(s)||o2(o))return ht;const l=c2(s.value,o.value);return l.valid?((l2(s)||l2(o))&&r.dirty(),{status:r.value,value:l.data}):(Oe(n,{code:Se.invalid_intersection_types}),ht)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>a(s,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Em.create=(t,e,r)=>new Em({left:t,right:e,typeName:ct.ZodIntersection,...yt(r)});class vi extends Bt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==$e.array)return Oe(n,{code:Se.invalid_type,expected:$e.array,received:n.parsedType}),ht;if(n.data.length<this._def.items.length)return Oe(n,{code:Se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ht;!this._def.rest&&n.data.length>this._def.items.length&&(Oe(n,{code:Se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new xi(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>Wn.mergeArray(r,o)):Wn.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new vi({...this._def,rest:e})}}vi.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new vi({items:t,typeName:ct.ZodTuple,rest:null,...yt(e)})};class Sm extends Bt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==$e.object)return Oe(n,{code:Se.invalid_type,expected:$e.object,received:n.parsedType}),ht;const a=[],s=this._def.keyType,o=this._def.valueType;for(const l in n.data)a.push({key:s._parse(new xi(n,l,n.path,l)),value:o._parse(new xi(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?Wn.mergeObjectAsync(r,a):Wn.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Bt?new Sm({keyType:e,valueType:r,typeName:ct.ZodRecord,...yt(n)}):new Sm({keyType:Ss.create(),valueType:e,typeName:ct.ZodRecord,...yt(r)})}}class Fv extends Bt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==$e.map)return Oe(n,{code:Se.invalid_type,expected:$e.map,received:n.parsedType}),ht;const a=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new xi(n,l,n.path,[u,"key"])),value:s._parse(new xi(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,A=await c.value;if(u.status==="aborted"||A.status==="aborted")return ht;(u.status==="dirty"||A.status==="dirty")&&r.dirty(),l.set(u.value,A.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,A=c.value;if(u.status==="aborted"||A.status==="aborted")return ht;(u.status==="dirty"||A.status==="dirty")&&r.dirty(),l.set(u.value,A.value)}return{status:r.value,value:l}}}}Fv.create=(t,e,r)=>new Fv({valueType:e,keyType:t,typeName:ct.ZodMap,...yt(r)});class su extends Bt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==$e.set)return Oe(n,{code:Se.invalid_type,expected:$e.set,received:n.parsedType}),ht;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Oe(n,{code:Se.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Oe(n,{code:Se.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const A of c){if(A.status==="aborted")return ht;A.status==="dirty"&&r.dirty(),u.add(A.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>s._parse(new xi(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,r){return new su({...this._def,minSize:{value:e,message:tt.toString(r)}})}max(e,r){return new su({...this._def,maxSize:{value:e,message:tt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}su.create=(t,e)=>new su({valueType:t,minSize:null,maxSize:null,typeName:ct.ZodSet,...yt(e)});class bA extends Bt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==$e.function)return Oe(r,{code:Se.invalid_type,expected:$e.function,received:r.parsedType}),ht;function n(l,c){return Tv({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Nv(),id].filter(u=>!!u),issueData:{code:Se.invalid_arguments,argumentsError:c}})}function a(l,c){return Tv({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Nv(),id].filter(u=>!!u),issueData:{code:Se.invalid_return_type,returnTypeError:c}})}const s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof ld){const l=this;return ia(async function(...c){const u=new Qa([]),A=await l._def.args.parseAsync(c,s).catch(f=>{throw u.addIssue(n(c,f)),u}),d=await Reflect.apply(o,this,A);return await l._def.returns._def.type.parseAsync(d,s).catch(f=>{throw u.addIssue(a(d,f)),u})})}else{const l=this;return ia(function(...c){const u=l._def.args.safeParse(c,s);if(!u.success)throw new Qa([n(c,u.error)]);const A=Reflect.apply(o,this,u.data),d=l._def.returns.safeParse(A,s);if(!d.success)throw new Qa([a(A,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new bA({...this._def,args:vi.create(e).rest(Mc.create())})}returns(e){return new bA({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new bA({args:e||vi.create([]).rest(Mc.create()),returns:r||Mc.create(),typeName:ct.ZodFunction,...yt(n)})}}class Nm extends Bt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Nm.create=(t,e)=>new Nm({getter:t,typeName:ct.ZodLazy,...yt(e)});class Tm extends Bt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Oe(r,{received:r.data,code:Se.invalid_literal,expected:this._def.value}),ht}return{status:"valid",value:e.data}}get value(){return this._def.value}}Tm.create=(t,e)=>new Tm({value:t,typeName:ct.ZodLiteral,...yt(e)});function NG(t,e){return new Sl({values:t,typeName:ct.ZodEnum,...yt(e)})}class Sl extends Bt{constructor(){super(...arguments),lf.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Oe(r,{expected:Qt.joinValues(n),received:r.parsedType,code:Se.invalid_type}),ht}if(kv(this,lf)||CG(this,lf,new Set(this._def.values)),!kv(this,lf).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Oe(r,{received:r.data,code:Se.invalid_enum_value,options:n}),ht}return ia(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Sl.create(e,{...this._def,...r})}exclude(e,r=this._def){return Sl.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}lf=new WeakMap;Sl.create=NG;class km extends Bt{constructor(){super(...arguments),cf.set(this,void 0)}_parse(e){const r=Qt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==$e.string&&n.parsedType!==$e.number){const a=Qt.objectValues(r);return Oe(n,{expected:Qt.joinValues(a),received:n.parsedType,code:Se.invalid_type}),ht}if(kv(this,cf)||CG(this,cf,new Set(Qt.getValidEnumValues(this._def.values))),!kv(this,cf).has(e.data)){const a=Qt.objectValues(r);return Oe(n,{received:n.data,code:Se.invalid_enum_value,options:a}),ht}return ia(e.data)}get enum(){return this._def.values}}cf=new WeakMap;km.create=(t,e)=>new km({values:t,typeName:ct.ZodNativeEnum,...yt(e)});class ld extends Bt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==$e.promise&&r.common.async===!1)return Oe(r,{code:Se.invalid_type,expected:$e.promise,received:r.parsedType}),ht;const n=r.parsedType===$e.promise?r.data:Promise.resolve(r.data);return ia(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}ld.create=(t,e)=>new ld({type:t,typeName:ct.ZodPromise,...yt(e)});class Us extends Bt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ct.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=this._def.effect||null,s={addIssue:o=>{Oe(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){const o=a.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return ht;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?ht:c.status==="dirty"||r.value==="dirty"?dA(c.value):c});{if(r.value==="aborted")return ht;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?ht:l.status==="dirty"||r.value==="dirty"?dA(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?ht:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?ht:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!bm(o))return o;const l=a.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>bm(o)?Promise.resolve(a.transform(o.value,s)).then(l=>({status:r.value,value:l})):o);Qt.assertNever(a)}}Us.create=(t,e,r)=>new Us({schema:t,typeName:ct.ZodEffects,effect:e,...yt(r)});Us.createWithPreprocess=(t,e,r)=>new Us({schema:e,effect:{type:"preprocess",transform:t},typeName:ct.ZodEffects,...yt(r)});class ci extends Bt{_parse(e){return this._getType(e)===$e.undefined?ia(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ci.create=(t,e)=>new ci({innerType:t,typeName:ct.ZodOptional,...yt(e)});class Nl extends Bt{_parse(e){return this._getType(e)===$e.null?ia(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Nl.create=(t,e)=>new Nl({innerType:t,typeName:ct.ZodNullable,...yt(e)});class Im extends Bt{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===$e.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Im.create=(t,e)=>new Im({innerType:t,typeName:ct.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...yt(e)});class Pm extends Bt{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return wm(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Qa(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Qa(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Pm.create=(t,e)=>new Pm({innerType:t,typeName:ct.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...yt(e)});class Dv extends Bt{_parse(e){if(this._getType(e)!==$e.nan){const n=this._getOrReturnCtx(e);return Oe(n,{code:Se.invalid_type,expected:$e.nan,received:n.parsedType}),ht}return{status:"valid",value:e.data}}}Dv.create=t=>new Dv({typeName:ct.ZodNaN,...yt(t)});const F0e=Symbol("zod_brand");class Jk extends Bt{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class zp extends Bt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ht:s.status==="dirty"?(r.dirty(),dA(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ht:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(e,r){return new zp({in:e,out:r,typeName:ct.ZodPipeline})}}class Fm extends Bt{_parse(e){const r=this._def.innerType._parse(e),n=a=>(bm(a)&&(a.value=Object.freeze(a.value)),a);return wm(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}Fm.create=(t,e)=>new Fm({innerType:t,typeName:ct.ZodReadonly,...yt(e)});function TG(t,e={},r){return t?od.create().superRefine((n,a)=>{var s,o;if(!t(n)){const l=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,c=(o=(s=l.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0,u=typeof l=="string"?{message:l}:l;a.addIssue({code:"custom",...u,fatal:c})}}):od.create()}const D0e={object:Cr.lazycreate};var ct;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ct||(ct={}));const O0e=(t,e={message:`Input not instance of ${t.name}`})=>TG(r=>r instanceof t,e),sr=Ss.create,ui=jl.create,R0e=Dv.create,U0e=El.create,ul=_m.create,M0e=au.create,Q0e=Iv.create,L0e=Bm.create,H0e=Cm.create,$0e=od.create,V0e=Mc.create,K0e=ao.create,q0e=Pv.create,G0e=Ps.create,Ls=Cr.create,z0e=Cr.strictCreate,W0e=jm.create,X0e=Wb.create,Y0e=Em.create,J0e=vi.create,Z0e=Sm.create,exe=Fv.create,txe=su.create,rxe=bA.create,nxe=Nm.create,kG=Tm.create,cd=Sl.create,axe=km.create,sxe=ld.create,OO=Us.create,ixe=ci.create,oxe=Nl.create,lxe=Us.createWithPreprocess,cxe=zp.create,uxe=()=>sr().optional(),Axe=()=>ui().optional(),dxe=()=>ul().optional(),hxe={string:t=>Ss.create({...t,coerce:!0}),number:t=>jl.create({...t,coerce:!0}),boolean:t=>_m.create({...t,coerce:!0}),bigint:t=>El.create({...t,coerce:!0}),date:t=>au.create({...t,coerce:!0})},fxe=ht;var zr=Object.freeze({__proto__:null,defaultErrorMap:id,setErrorMap:g0e,getErrorMap:Nv,makeIssue:Tv,EMPTY_PATH:x0e,addIssueToContext:Oe,ParseStatus:Wn,INVALID:ht,DIRTY:dA,OK:ia,isAborted:o2,isDirty:l2,isValid:bm,isAsync:wm,get util(){return Qt},get objectUtil(){return i2},ZodParsedType:$e,getParsedType:Ho,ZodType:Bt,datetimeRegex:SG,ZodString:Ss,ZodNumber:jl,ZodBigInt:El,ZodBoolean:_m,ZodDate:au,ZodSymbol:Iv,ZodUndefined:Bm,ZodNull:Cm,ZodAny:od,ZodUnknown:Mc,ZodNever:ao,ZodVoid:Pv,ZodArray:Ps,ZodObject:Cr,ZodUnion:jm,ZodDiscriminatedUnion:Wb,ZodIntersection:Em,ZodTuple:vi,ZodRecord:Sm,ZodMap:Fv,ZodSet:su,ZodFunction:bA,ZodLazy:Nm,ZodLiteral:Tm,ZodEnum:Sl,ZodNativeEnum:km,ZodPromise:ld,ZodEffects:Us,ZodTransformer:Us,ZodOptional:ci,ZodNullable:Nl,ZodDefault:Im,ZodCatch:Pm,ZodNaN:Dv,BRAND:F0e,ZodBranded:Jk,ZodPipeline:zp,ZodReadonly:Fm,custom:TG,Schema:Bt,ZodSchema:Bt,late:D0e,get ZodFirstPartyTypeKind(){return ct},coerce:hxe,any:$0e,array:G0e,bigint:U0e,boolean:ul,date:M0e,discriminatedUnion:X0e,effect:OO,enum:cd,function:rxe,instanceof:O0e,intersection:Y0e,lazy:nxe,literal:kG,map:exe,nan:R0e,nativeEnum:axe,never:K0e,null:H0e,nullable:oxe,number:ui,object:Ls,oboolean:dxe,onumber:Axe,optional:ixe,ostring:uxe,pipeline:cxe,preprocess:lxe,promise:sxe,record:Z0e,set:txe,strictObject:z0e,string:sr,symbol:Q0e,transformer:OO,tuple:J0e,undefined:L0e,union:W0e,unknown:V0e,void:q0e,NEVER:fxe,ZodIssueCode:Se,quotelessJson:p0e,ZodError:Qa});const mxe=()=>{const t=kt();return i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Akses Akun"}),i.jsx("p",{className:"text-muted-foreground",children:"Masuk untuk mengelola akun dan pesanan Anda"})]}),i.jsxs("div",{className:"w-full max-w-sm space-y-4",children:[i.jsx(G,{onClick:()=>t("/login"),className:"w-full bg-flame-500 hover:bg-flame-600",children:"Masuk"}),i.jsx(G,{onClick:()=>t("/register"),variant:"outline",className:"w-full",children:"Buat Akun"})]})]})},pxe=Ls({name:sr().min(1,"Nama wajib diisi"),phone:sr().regex(/^(\+?62|0)[0-9]{9,13}$/,"Harus nomor telepon Indonesia yang valid (dimulai dengan +62 atau 0)").optional().or(kG(""))}),gxe=({profile:t,onUpdate:e,onCancel:r})=>{const[n,a]=v.useState(!1),s=ra({resolver:na(pxe),defaultValues:{name:(t==null?void 0:t.name)||"",phone:(t==null?void 0:t.phone)||""}}),o=async l=>{try{a(!0);const c={name:l.name,phone:l.phone===""?void 0:l.phone};await e(c)}catch(c){console.error("Error updating profile:",c)}finally{a(!1)}};return i.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[i.jsx("h3",{className:"text-md font-medium mb-4",children:"Edit Profil"}),i.jsx(zn,{...s,children:i.jsxs("form",{onSubmit:s.handleSubmit(o),className:"space-y-4",children:[i.jsx(Qe,{control:s.control,name:"name",render:({field:l})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Nama Lengkap"}),i.jsx(Me,{children:i.jsx(ue,{placeholder:"Masukkan nama lengkap",...l})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:s.control,name:"phone",render:({field:l})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Nomor Telepon"}),i.jsx(Me,{children:i.jsx(ue,{placeholder:"contoh: 081234567890",...l})}),i.jsx(qe,{})]})}),i.jsxs("div",{className:"flex space-x-2 pt-2",children:[i.jsx(G,{type:"submit",className:"flex-1 bg-flame-500 hover:bg-flame-600",disabled:n,children:n?"Menyimpan...":"Simpan Perubahan"}),i.jsx(G,{type:"button",variant:"outline",className:"flex-1",onClick:r,disabled:n,children:"Batal"})]})]})})]})},xxe=()=>{const{user:t,profile:e,logout:r,refreshProfile:n}=Pr(),{toast:a}=Ms(),[s,o]=v.useState([]),[l,c]=v.useState(!0),[u,A]=v.useState(!1),d=kt();v.useEffect(()=>{(async()=>{try{if(c(!0),t){const{data:g,error:p}=await Z.from("addresses").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});p?console.error("Error fetching addresses:",p):o(g||[])}}catch(g){console.error("Error fetching user data:",g)}finally{c(!1)}})()},[t]);const h=async m=>{try{if(!t)return;const{error:g}=await Z.from("profiles").update({name:m.name,phone:m.phone}).eq("id",t.id);if(g){console.error("Error updating profile:",g),a({variant:"destructive",title:"Gagal memperbarui profil",description:g.message});return}await n(),a({title:"Profil berhasil diperbarui",description:"Informasi profil Anda telah disimpan"}),A(!1)}catch(g){console.error("Error in profile update:",g),a({variant:"destructive",title:"Terjadi kesalahan",description:"Gagal memperbarui profil. Silakan coba lagi."})}},f=async()=>{try{await r(),a({title:"Berhasil keluar",description:"Anda telah keluar dari akun"}),d("/")}catch(m){console.error("Error logging out:",m),a({variant:"destructive",title:"Gagal keluar",description:"Terjadi kesalahan saat mencoba keluar. Silakan coba lagi."})}};return l?i.jsx("div",{className:"min-h-[60vh] flex flex-col items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground",children:"Tunggu Sebentar..."})}):i.jsxs("div",{className:"pb-16",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h1",{className:"text-xl font-bold",children:"Akun Saya"}),i.jsxs(G,{variant:"ghost",size:"sm",onClick:f,className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:[i.jsx(AT,{className:"h-4 w-4 mr-1"}),"Keluar"]})]}),i.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"bg-slate-100 h-16 w-16 rounded-full flex items-center justify-center mr-4",children:i.jsx(VA,{className:"h-8 w-8 text-slate-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-semibold text-lg",children:(e==null?void 0:e.name)||"Pengguna"}),i.jsxs("p",{className:"text-slate-500 text-sm flex items-center",children:[i.jsx(ME,{className:"h-3 w-3 mr-1"}),e==null?void 0:e.email]}),(e==null?void 0:e.phone)&&i.jsxs("p",{className:"text-slate-500 text-sm flex items-center mt-1",children:[i.jsx(QE,{className:"h-3 w-3 mr-1"}),e.phone]})]})]})}),i.jsxs(ya,{defaultValue:"profile",className:"w-full",children:[i.jsxs(sa,{className:"grid w-full grid-cols-2",children:[i.jsx(Et,{value:"profile",children:"Informasi Pribadi"}),i.jsx(Et,{value:"addresses",children:"Alamat Saya"})]}),i.jsx(Gt,{value:"profile",className:"mt-4 space-y-4",children:u?i.jsx("div",{className:"p-5 rounded-lg bg-white shadow-sm",children:i.jsx(gxe,{profile:e,onUpdate:h,onCancel:()=>A(!1)})}):i.jsxs("div",{className:"p-5 rounded-lg bg-white shadow-sm",children:[i.jsxs("h3",{className:"text-md font-medium mb-4 flex items-center",children:[i.jsx(VA,{className:"h-4 w-4 mr-2 text-slate-500"}),"Informasi Pribadi"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"pb-3 border-b border-slate-100",children:[i.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Nama Lengkap"}),i.jsx("p",{className:"font-medium",children:(e==null?void 0:e.name)||"-"})]}),i.jsxs("div",{className:"pb-3 border-b border-slate-100",children:[i.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Email"}),i.jsxs("p",{className:"font-medium flex items-center",children:[i.jsx(ME,{className:"h-4 w-4 mr-2 text-slate-400"}),(e==null?void 0:e.email)||"-"]})]}),i.jsxs("div",{className:"pb-3 border-b border-slate-100",children:[i.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Nomor Telepon"}),i.jsxs("p",{className:"font-medium flex items-center",children:[i.jsx(QE,{className:"h-4 w-4 mr-2 text-slate-400"}),(e==null?void 0:e.phone)||"-"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Status Akun"}),i.jsxs("p",{className:"font-medium flex items-center",children:[i.jsx(UH,{className:"h-4 w-4 mr-2 text-green-500"}),"Terverifikasi"]})]})]}),i.jsx(G,{onClick:()=>A(!0),variant:"outline",className:"mt-6 w-full",children:"Edit Profil"})]})}),i.jsx(Gt,{value:"addresses",className:"mt-4",children:s.length===0?i.jsxs("div",{className:"text-center py-8 bg-white rounded-lg shadow-sm",children:[i.jsx(j4,{className:"w-12 h-12 text-slate-300 mx-auto mb-2"}),i.jsx("p",{className:"text-slate-500 mb-2",children:"Belum ada alamat tersimpan"}),i.jsx("p",{className:"text-sm text-slate-400 mb-4 max-w-xs mx-auto",children:"Tambahkan alamat untuk mempermudah proses checkout saat berbelanja"}),i.jsx(G,{onClick:()=>d("/address/new"),className:"bg-flame-500 hover:bg-flame-600",children:"Tambah Alamat"})]}):i.jsxs("div",{className:"space-y-4",children:[s.map(m=>i.jsxs("div",{className:"border rounded-lg p-3 bg-white",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:m.name}),m.isDefault&&i.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded-full",children:"Utama"})]}),i.jsx(dt,{to:`/address/${m.id}`,className:"text-sm text-flame-600 hover:text-flame-500",children:"Ubah"})]}),i.jsx("p",{className:"text-sm mt-1",children:m.street}),i.jsxs("p",{className:"text-sm",children:[m.city,", ",m.state," ",m.zip]})]},m.id)),i.jsx("div",{className:"flex justify-center mt-2",children:i.jsxs(G,{onClick:()=>d("/address/new"),variant:"outline",className:"w-full",children:[i.jsx(j4,{className:"h-4 w-4 mr-2"}),"Tambah Alamat Baru"]})})]})})]})]})},vxe=()=>{const{user:t}=Pr();return i.jsx(Kt,{children:i.jsx("div",{className:"p-4",children:t?i.jsx(xxe,{}):i.jsx(mxe,{})})})};var Zk="Checkbox",[yxe,G8e]=ba(Zk),[bxe,wxe]=yxe(Zk),IG=v.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:A,...d}=t,[h,f]=v.useState(null),m=pt(e,y=>f(y)),g=v.useRef(!1),p=h?A||!!h.closest("form"):!0,[b=!1,x]=ls({prop:a,defaultProp:s,onChange:u}),w=v.useRef(b);return v.useEffect(()=>{const y=h==null?void 0:h.form;if(y){const C=()=>x(w.current);return y.addEventListener("reset",C),()=>y.removeEventListener("reset",C)}},[h,x]),i.jsxs(bxe,{scope:r,state:b,disabled:l,children:[i.jsx(Ye.button,{type:"button",role:"checkbox","aria-checked":Al(b)?"mixed":b,"aria-required":o,"data-state":DG(b),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:m,onKeyDown:Fe(t.onKeyDown,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:Fe(t.onClick,y=>{x(C=>Al(C)?!0:!C),p&&(g.current=y.isPropagationStopped(),g.current||y.stopPropagation())})}),p&&i.jsx(_xe,{control:h,bubbles:!g.current,name:n,value:c,checked:b,required:o,disabled:l,form:A,style:{transform:"translateX(-100%)"},defaultChecked:Al(s)?!1:s})]})});IG.displayName=Zk;var PG="CheckboxIndicator",FG=v.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...a}=t,s=wxe(PG,r);return i.jsx(oa,{present:n||Al(s.state)||s.state===!0,children:i.jsx(Ye.span,{"data-state":DG(s.state),"data-disabled":s.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...t.style}})})});FG.displayName=PG;var _xe=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:a,...s}=t,o=v.useRef(null),l=Lp(r),c=Np(e);v.useEffect(()=>{const A=o.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&f){const m=new Event("click",{bubbles:n});A.indeterminate=Al(r),f.call(A,Al(r)?!1:r),A.dispatchEvent(m)}},[l,r,n]);const u=v.useRef(Al(r)?!1:r);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??u.current,...s,tabIndex:-1,ref:o,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Al(t){return t==="indeterminate"}function DG(t){return Al(t)?"indeterminate":t?"checked":"unchecked"}var OG=IG,Bxe=FG;const eI=v.forwardRef(({className:t,...e},r)=>i.jsx(OG,{ref:r,className:he("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:i.jsx(Bxe,{className:he("flex items-center justify-center text-current"),children:i.jsx(lT,{className:"h-4 w-4"})})}));eI.displayName=OG.displayName;const Cxe=()=>{const{id:t}=Ip(),e=kt(),{toast:r}=Ms(),{user:n}=Pr(),a=t==="new",[s,o]=v.useState(""),[l,c]=v.useState(""),[u,A]=v.useState(""),[d,h]=v.useState(""),[f,m]=v.useState(""),[g,p]=v.useState(""),[b,x]=v.useState(!1),[w,y]=v.useState(!1);v.useEffect(()=>{(async()=>{if(!(a||!n))try{y(!0);const{data:j,error:N}=await Z.from("addresses").select("*").eq("id",t).eq("user_id",n.id).single();if(N)throw N;j&&(o(j.name),c(j.street),A(j.city),h(j.state),m(j.zip),p(j.country),x(j.is_default))}catch(j){r({title:"Error",description:j.message||"Tidak dapat memuat detail alamat",variant:"destructive"})}finally{y(!1)}})()},[t,n,a,r]);const C=async B=>{if(B.preventDefault(),!n){r({title:"Error",description:"Anda harus login untuk menyimpan alamat",variant:"destructive"});return}try{y(!0),b&&await Z.from("addresses").update({is_default:!1}).eq("user_id",n.id);const j={name:s,street:l,city:u,state:d,zip:f,country:g,is_default:b,user_id:n.id};if(a){const{error:N}=await Z.from("addresses").insert([j]);if(N)throw N;r({title:"Alamat Ditambahkan",description:"Alamat Anda telah berhasil disimpan"})}else{const{error:N}=await Z.from("addresses").update(j).eq("id",t).eq("user_id",n.id);if(N)throw N;r({title:"Alamat Diperbarui",description:"Alamat Anda telah berhasil diperbarui"})}e("/profile")}catch(j){r({title:"Error",description:j.message||"Tidak dapat menyimpan alamat",variant:"destructive"})}finally{y(!1)}},E=async()=>{if(!n||a||!t||t==="undefined"){r({title:"Konfirmasi penghapusan",description:"Apakah Anda yakin ingin menghapus alamat ini?",variant:"destructive"});return}try{y(!0);const{error:B}=await Z.from("addresses").delete().eq("id",t).eq("user_id",n.id);if(B)throw B;r({title:"Alamat Dihapus",description:"Alamat Anda telah berhasil dihapus"}),e("/profile")}catch(B){r({title:"Error",description:B.message||"Tidak dapat menghapus alamat",variant:"destructive"})}finally{y(!1)}};return i.jsx(Kt,{children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsxs("button",{onClick:()=>e("/profile"),className:"text-charcoal-600 flex items-center",children:[i.jsx(ks,{className:"h-5 w-5 mr-1"}),i.jsx("span",{children:"Kembali"})]}),i.jsx("h1",{className:"text-xl font-bold text-center flex-1 pr-6",children:a?"Tambah Alamat Baru":"Edit Alamat"})]}),i.jsxs("form",{onSubmit:C,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"name",children:"Nama Alamat"}),i.jsx(ue,{id:"name",type:"text",value:s,onChange:B=>o(B.target.value),placeholder:"Rumah, Kantor, dll.",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"street",children:"Alamat Jalan"}),i.jsx(ue,{id:"street",type:"text",value:l,onChange:B=>c(B.target.value),placeholder:"Jl. Contoh No. 123",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"city",children:"Kota"}),i.jsx(ue,{id:"city",type:"text",value:u,onChange:B=>A(B.target.value),placeholder:"Nama Kota",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"state",children:"Provinsi"}),i.jsx(ue,{id:"state",type:"text",value:d,onChange:B=>h(B.target.value),placeholder:"Nama Provinsi",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"zip",children:"Kode Pos"}),i.jsx(ue,{id:"zip",type:"text",value:f,onChange:B=>m(B.target.value),placeholder:"Kode Pos",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"country",children:"Catatan Detail Lokasi"}),i.jsx(ue,{id:"country",type:"text",value:g,onChange:B=>p(B.target.value),placeholder:"Ceritakan Detail Lokasi Agar Lebih Mudah Ditemukan",required:!0})]}),i.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[i.jsx(eI,{id:"isDefault",checked:b,onCheckedChange:B=>x(B===!0)}),i.jsx(Te,{htmlFor:"isDefault",children:"Jadikan alamat utama"})]}),i.jsx("div",{className:"pt-4",children:i.jsx(G,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:w,children:w?"Menyimpan...":"Simpan Alamat"})}),!a&&i.jsx("div",{className:"pt-2",children:i.jsx(G,{type:"button",variant:"outline",className:"w-full text-destructive border-destructive",onClick:E,disabled:w,children:"Hapus Alamat"})})]})]})})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var u2=function(t,e){return u2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},u2(t,e)};function Hs(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u2(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var A2=function(){return A2=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},A2.apply(this,arguments)};function Zn(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?s(A.value):a(A.value).then(l,c)}u((n=n.apply(t,[])).next())})}function Mn(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(A){return c([u,A])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(A){u=[6,A],a=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Zg(t,e,r){if(arguments.length===2)for(var n=0,a=e.length,s;n<a;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||e)}var so=function(){function t(e,r,n,a){this.left=e,this.top=r,this.width=n,this.height=a}return t.prototype.add=function(e,r,n,a){return new t(this.left+e,this.top+r,this.width+n,this.height+a)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(a){return a.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),Xb=function(t,e){return so.fromClientRect(t,e.getBoundingClientRect())},jxe=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),a=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new so(0,0,n,a)},Yb=function(t){for(var e=[],r=0,n=t.length;r<n;){var a=t.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((a&1023)<<10)+(s&1023)+65536):(e.push(a),r--)}else e.push(a)}return e},Dr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],a=-1,s="";++a<r;){var o=t[a];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(a+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},RO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Exe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var e0=0;e0<RO.length;e0++)Exe[RO.charCodeAt(e0)]=e0;var UO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var t0=0;t0<UO.length;t0++)uf[UO.charCodeAt(t0)]=t0;var Sxe=function(t){var e=t.length*.75,r=t.length,n,a=0,s,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)s=uf[t.charCodeAt(n)],o=uf[t.charCodeAt(n+1)],l=uf[t.charCodeAt(n+2)],c=uf[t.charCodeAt(n+3)],A[a++]=s<<2|o>>4,A[a++]=(o&15)<<4|l>>2,A[a++]=(l&3)<<6|c&63;return u},Nxe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},Txe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Qc=5,tI=11,W1=2,kxe=tI-Qc,RG=65536>>Qc,Ixe=1<<Qc,X1=Ixe-1,Pxe=1024>>Qc,Fxe=RG+Pxe,Dxe=Fxe,Oxe=32,Rxe=Dxe+Oxe,Uxe=65536>>tI,Mxe=1<<kxe,Qxe=Mxe-1,MO=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},Lxe=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},Hxe=function(t,e){var r=Sxe(t),n=Array.isArray(r)?Txe(r):new Uint32Array(r),a=Array.isArray(r)?Nxe(r):new Uint16Array(r),s=24,o=MO(a,s/2,n[4]/2),l=n[5]===2?MO(a,(s+n[4])/2):Lxe(n,Math.ceil((s+n[4])/4));return new $xe(n[0],n[1],n[2],n[3],o,l)},$xe=function(){function t(e,r,n,a,s,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=s,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Qc],r=(r<<W1)+(e&X1),this.data[r];if(e<=65535)return r=this.index[RG+(e-55296>>Qc)],r=(r<<W1)+(e&X1),this.data[r];if(e<this.highStart)return r=Rxe-Uxe+(e>>tI),r=this.index[r],r+=e>>Qc&Qxe,r=this.index[r],r=(r<<W1)+(e&X1),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),QO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vxe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var r0=0;r0<QO.length;r0++)Vxe[QO.charCodeAt(r0)]=r0;var Kxe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",LO=50,qxe=1,UG=2,MG=3,Gxe=4,zxe=5,HO=7,QG=8,$O=9,el=10,d2=11,VO=12,h2=13,Wxe=14,Af=15,f2=16,n0=17,Mh=18,Xxe=19,KO=20,m2=21,Qh=22,Y1=23,$u=24,ja=25,df=26,hf=27,Vu=28,Yxe=29,yc=30,Jxe=31,a0=32,s0=33,p2=34,g2=35,x2=36,Dm=37,v2=38,nx=39,ax=40,J1=41,LG=42,Zxe=43,eve=[9001,65288],HG="!",St="",i0="",y2=Hxe(Kxe),ki=[yc,x2],b2=[qxe,UG,MG,zxe],$G=[el,QG],qO=[hf,df],tve=b2.concat($G),GO=[v2,nx,ax,p2,g2],rve=[Af,h2],nve=function(t,e){e===void 0&&(e="strict");var r=[],n=[],a=[];return t.forEach(function(s,o){var l=y2.get(s);if(l>LO?(a.push(!0),l-=LO):a.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(o),r.push(f2);if(l===Gxe||l===d2){if(o===0)return n.push(o),r.push(yc);var c=r[o-1];return tve.indexOf(c)===-1?(n.push(n[o-1]),r.push(c)):(n.push(o),r.push(yc))}if(n.push(o),l===Jxe)return r.push(e==="strict"?m2:Dm);if(l===LG||l===Yxe)return r.push(yc);if(l===Zxe)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(Dm):r.push(yc);r.push(l)}),[n,r,a]},Z1=function(t,e,r,n){var a=n[r];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var s=r;s<=n.length;){s++;var o=n[s];if(o===e)return!0;if(o!==el)break}if(a===el)for(var s=r;s>0;){s--;var l=n[s];if(Array.isArray(t)?t.indexOf(l)!==-1:t===l)for(var c=r;c<=n.length;){c++;var o=n[c];if(o===e)return!0;if(o!==el)break}if(l!==el)break}return!1},zO=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===el)r--;else return n}return 0},ave=function(t,e,r,n,a){if(r[n]===0)return St;var s=n-1;if(Array.isArray(a)&&a[s]===!0)return St;var o=s-1,l=s+1,c=e[s],u=o>=0?e[o]:0,A=e[l];if(c===UG&&A===MG)return St;if(b2.indexOf(c)!==-1)return HG;if(b2.indexOf(A)!==-1||$G.indexOf(A)!==-1)return St;if(zO(s,e)===QG)return i0;if(y2.get(t[s])===d2||(c===a0||c===s0)&&y2.get(t[l])===d2||c===HO||A===HO||c===$O||[el,h2,Af].indexOf(c)===-1&&A===$O||[n0,Mh,Xxe,$u,Vu].indexOf(A)!==-1||zO(s,e)===Qh||Z1(Y1,Qh,s,e)||Z1([n0,Mh],m2,s,e)||Z1(VO,VO,s,e))return St;if(c===el)return i0;if(c===Y1||A===Y1)return St;if(A===f2||c===f2)return i0;if([h2,Af,m2].indexOf(A)!==-1||c===Wxe||u===x2&&rve.indexOf(c)!==-1||c===Vu&&A===x2||A===KO||ki.indexOf(A)!==-1&&c===ja||ki.indexOf(c)!==-1&&A===ja||c===hf&&[Dm,a0,s0].indexOf(A)!==-1||[Dm,a0,s0].indexOf(c)!==-1&&A===df||ki.indexOf(c)!==-1&&qO.indexOf(A)!==-1||qO.indexOf(c)!==-1&&ki.indexOf(A)!==-1||[hf,df].indexOf(c)!==-1&&(A===ja||[Qh,Af].indexOf(A)!==-1&&e[l+1]===ja)||[Qh,Af].indexOf(c)!==-1&&A===ja||c===ja&&[ja,Vu,$u].indexOf(A)!==-1)return St;if([ja,Vu,$u,n0,Mh].indexOf(A)!==-1)for(var d=s;d>=0;){var h=e[d];if(h===ja)return St;if([Vu,$u].indexOf(h)!==-1)d--;else break}if([hf,df].indexOf(A)!==-1)for(var d=[n0,Mh].indexOf(c)!==-1?o:s;d>=0;){var h=e[d];if(h===ja)return St;if([Vu,$u].indexOf(h)!==-1)d--;else break}if(v2===c&&[v2,nx,p2,g2].indexOf(A)!==-1||[nx,p2].indexOf(c)!==-1&&[nx,ax].indexOf(A)!==-1||[ax,g2].indexOf(c)!==-1&&A===ax||GO.indexOf(c)!==-1&&[KO,df].indexOf(A)!==-1||GO.indexOf(A)!==-1&&c===hf||ki.indexOf(c)!==-1&&ki.indexOf(A)!==-1||c===$u&&ki.indexOf(A)!==-1||ki.concat(ja).indexOf(c)!==-1&&A===Qh&&eve.indexOf(t[l])===-1||ki.concat(ja).indexOf(A)!==-1&&c===Mh)return St;if(c===J1&&A===J1){for(var f=r[s],m=1;f>0&&(f--,e[f]===J1);)m++;if(m%2!==0)return St}return c===a0&&A===s0?St:i0},sve=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=nve(t,e.lineBreak),n=r[0],a=r[1],s=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(a=a.map(function(l){return[ja,yc,LG].indexOf(l)!==-1?Dm:l}));var o=e.wordBreak==="keep-all"?s.map(function(l,c){return l&&t[c]>=19968&&t[c]<=40959}):void 0;return[n,a,o]},ive=function(){function t(e,r,n,a){this.codePoints=e,this.required=r===HG,this.start=n,this.end=a}return t.prototype.slice=function(){return Dr.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),ove=function(t,e){var r=Yb(t),n=sve(r,e),a=n[0],s=n[1],o=n[2],l=r.length,c=0,u=0;return{next:function(){if(u>=l)return{done:!0,value:null};for(var A=St;u<l&&(A=ave(r,s,a,++u,o))===St;);if(A!==St||u===l){var d=new ive(r,A,c,u);return c=u,{value:d,done:!1}}return{done:!0,value:null}}}},lve=1,cve=2,Wp=4,WO=8,Ov=10,XO=47,Df=92,uve=9,Ave=32,o0=34,Lh=61,dve=35,hve=36,fve=37,l0=39,c0=40,Hh=41,mve=95,ga=45,pve=33,gve=60,xve=62,vve=64,yve=91,bve=93,wve=61,_ve=123,u0=63,Bve=125,YO=124,Cve=126,jve=128,JO=65533,e_=42,Cc=43,Eve=44,Sve=58,Nve=59,Om=46,Tve=0,kve=8,Ive=11,Pve=14,Fve=31,Dve=127,qs=-1,VG=48,KG=97,qG=101,Ove=102,Rve=117,Uve=122,GG=65,zG=69,WG=70,Mve=85,Qve=90,Hn=function(t){return t>=VG&&t<=57},Lve=function(t){return t>=55296&&t<=57343},Ku=function(t){return Hn(t)||t>=GG&&t<=WG||t>=KG&&t<=Ove},Hve=function(t){return t>=KG&&t<=Uve},$ve=function(t){return t>=GG&&t<=Qve},Vve=function(t){return Hve(t)||$ve(t)},Kve=function(t){return t>=jve},A0=function(t){return t===Ov||t===uve||t===Ave},Rv=function(t){return Vve(t)||Kve(t)||t===mve},ZO=function(t){return Rv(t)||Hn(t)||t===ga},qve=function(t){return t>=Tve&&t<=kve||t===Ive||t>=Pve&&t<=Fve||t===Dve},Oo=function(t,e){return t!==Df?!1:e!==Ov},d0=function(t,e,r){return t===ga?Rv(e)||Oo(e,r):Rv(t)?!0:!!(t===Df&&Oo(t,e))},t_=function(t,e,r){return t===Cc||t===ga?Hn(e)?!0:e===Om&&Hn(r):Hn(t===Om?e:t)},Gve=function(t){var e=0,r=1;(t[e]===Cc||t[e]===ga)&&(t[e]===ga&&(r=-1),e++);for(var n=[];Hn(t[e]);)n.push(t[e++]);var a=n.length?parseInt(Dr.apply(void 0,n),10):0;t[e]===Om&&e++;for(var s=[];Hn(t[e]);)s.push(t[e++]);var o=s.length,l=o?parseInt(Dr.apply(void 0,s),10):0;(t[e]===zG||t[e]===qG)&&e++;var c=1;(t[e]===Cc||t[e]===ga)&&(t[e]===ga&&(c=-1),e++);for(var u=[];Hn(t[e]);)u.push(t[e++]);var A=u.length?parseInt(Dr.apply(void 0,u),10):0;return r*(a+l*Math.pow(10,-o))*Math.pow(10,c*A)},zve={type:2},Wve={type:3},Xve={type:4},Yve={type:13},Jve={type:8},Zve={type:21},eye={type:9},tye={type:10},rye={type:11},nye={type:12},aye={type:14},h0={type:23},sye={type:1},iye={type:25},oye={type:24},lye={type:26},cye={type:27},uye={type:28},Aye={type:29},dye={type:31},w2={type:32},XG=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(Yb(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==w2;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case o0:return this.consumeStringToken(o0);case dve:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(ZO(r)||Oo(n,a)){var s=d0(r,n,a)?cve:lve,o=this.consumeName();return{type:5,value:o,flags:s}}break;case hve:if(this.peekCodePoint(0)===Lh)return this.consumeCodePoint(),Yve;break;case l0:return this.consumeStringToken(l0);case c0:return zve;case Hh:return Wve;case e_:if(this.peekCodePoint(0)===Lh)return this.consumeCodePoint(),aye;break;case Cc:if(t_(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Eve:return Xve;case ga:var l=e,c=this.peekCodePoint(0),u=this.peekCodePoint(1);if(t_(l,c,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(d0(l,c,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(c===ga&&u===xve)return this.consumeCodePoint(),this.consumeCodePoint(),oye;break;case Om:if(t_(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case XO:if(this.peekCodePoint(0)===e_)for(this.consumeCodePoint();;){var A=this.consumeCodePoint();if(A===e_&&(A=this.consumeCodePoint(),A===XO))return this.consumeToken();if(A===qs)return this.consumeToken()}break;case Sve:return lye;case Nve:return cye;case gve:if(this.peekCodePoint(0)===pve&&this.peekCodePoint(1)===ga&&this.peekCodePoint(2)===ga)return this.consumeCodePoint(),this.consumeCodePoint(),iye;break;case vve:var d=this.peekCodePoint(0),h=this.peekCodePoint(1),f=this.peekCodePoint(2);if(d0(d,h,f)){var o=this.consumeName();return{type:7,value:o}}break;case yve:return uye;case Df:if(Oo(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case bve:return Aye;case wve:if(this.peekCodePoint(0)===Lh)return this.consumeCodePoint(),Jve;break;case _ve:return rye;case Bve:return nye;case Rve:case Mve:var m=this.peekCodePoint(0),g=this.peekCodePoint(1);return m===Cc&&(Ku(g)||g===u0)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case YO:if(this.peekCodePoint(0)===Lh)return this.consumeCodePoint(),eye;if(this.peekCodePoint(0)===YO)return this.consumeCodePoint(),Zve;break;case Cve:if(this.peekCodePoint(0)===Lh)return this.consumeCodePoint(),tye;break;case qs:return w2}return A0(e)?(this.consumeWhiteSpace(),dye):Hn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Rv(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Dr(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();Ku(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===u0&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(Dr.apply(void 0,e.map(function(c){return c===u0?VG:c})),16),s=parseInt(Dr.apply(void 0,e.map(function(c){return c===u0?WG:c})),16);return{type:30,start:a,end:s}}var o=parseInt(Dr.apply(void 0,e),16);if(this.peekCodePoint(0)===ga&&Ku(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];Ku(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var s=parseInt(Dr.apply(void 0,l),16);return{type:30,start:o,end:s}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===c0?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===c0?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===qs)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===l0||r===o0){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===qs||this.peekCodePoint(0)===Hh)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),h0)}for(;;){var a=this.consumeCodePoint();if(a===qs||a===Hh)return{type:22,value:Dr.apply(void 0,e)};if(A0(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===qs||this.peekCodePoint(0)===Hh?(this.consumeCodePoint(),{type:22,value:Dr.apply(void 0,e)}):(this.consumeBadUrlRemnants(),h0);if(a===o0||a===l0||a===c0||qve(a))return this.consumeBadUrlRemnants(),h0;if(a===Df)if(Oo(a,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),h0;else e.push(a)}},t.prototype.consumeWhiteSpace=function(){for(;A0(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Hh||e===qs)return;Oo(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var a=Math.min(r,e);n+=Dr.apply(void 0,this._value.splice(0,a)),e-=a}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var a=this._value[n];if(a===qs||a===void 0||a===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(a===Ov)return this._value.splice(0,n),sye;if(a===Df){var s=this._value[n+1];s!==qs&&s!==void 0&&(s===Ov?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Oo(a,s)&&(r+=this.consumeStringSlice(n),r+=Dr(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Wp,n=this.peekCodePoint(0);for((n===Cc||n===ga)&&e.push(this.consumeCodePoint());Hn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===Om&&Hn(a))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=WO;Hn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===zG||n===qG)&&((a===Cc||a===ga)&&Hn(s)||Hn(a)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=WO;Hn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Gve(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],a=this.peekCodePoint(0),s=this.peekCodePoint(1),o=this.peekCodePoint(2);if(d0(a,s,o)){var l=this.consumeName();return{type:15,number:r,flags:n,unit:l}}return a===fve?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Ku(e)){for(var r=Dr(e);Ku(this.peekCodePoint(0))&&r.length<6;)r+=Dr(this.consumeCodePoint());A0(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||Lve(n)||n>1114111?JO:n}return e===qs?JO:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(ZO(r))e+=Dr(r);else if(Oo(r,this.peekCodePoint(0)))e+=Dr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),YG=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new XG;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||fye(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?w2:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Xp=function(t){return t.type===15},eh=function(t){return t.type===17},ir=function(t){return t.type===20},hye=function(t){return t.type===0},_2=function(t,e){return ir(t)&&t.value===e},JG=function(t){return t.type!==31},ud=function(t){return t.type!==31&&t.type!==4},wi=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},fye=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},Tl=function(t){return t.type===17||t.type===15},Hr=function(t){return t.type===16||Tl(t)},ZG=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Tn={type:17,number:0,flags:Wp},rI={type:16,number:50,flags:Wp},tl={type:16,number:100,flags:Wp},ff=function(t,e,r){var n=t[0],a=t[1];return[xr(n,e),xr(typeof a<"u"?a:n,r)]},xr=function(t,e){if(t.type===16)return t.number/100*e;if(Xp(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},ez="deg",tz="grad",rz="rad",nz="turn",Jb={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case ez:return Math.PI*e.number/180;case tz:return Math.PI/200*e.number;case rz:return e.number;case nz:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},az=function(t){return t.type===15&&(t.unit===ez||t.unit===tz||t.unit===rz||t.unit===nz)},sz=function(t){var e=t.filter(ir).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Tn,Tn];case"to top":case"bottom":return es(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Tn,tl];case"to right":case"left":return es(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[tl,tl];case"to bottom":case"top":return es(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[tl,Tn];case"to left":case"right":return es(270)}return 0},es=function(t){return Math.PI*t/180},dl={name:"color",parse:function(t,e){if(e.type===18){var r=mye[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),a=e.value.substring(1,2),s=e.value.substring(2,3);return rl(parseInt(n+n,16),parseInt(a+a,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),a=e.value.substring(1,2),s=e.value.substring(2,3),o=e.value.substring(3,4);return rl(parseInt(n+n,16),parseInt(a+a,16),parseInt(s+s,16),parseInt(o+o,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),a=e.value.substring(2,4),s=e.value.substring(4,6);return rl(parseInt(n,16),parseInt(a,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),a=e.value.substring(2,4),s=e.value.substring(4,6),o=e.value.substring(6,8);return rl(parseInt(n,16),parseInt(a,16),parseInt(s,16),parseInt(o,16)/255)}}if(e.type===20){var l=Gi[e.value.toUpperCase()];if(typeof l<"u")return l}return Gi.TRANSPARENT}},hl=function(t){return(255&t)===0},rn=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,a=255&t>>24;return e<255?"rgba("+a+","+n+","+r+","+e/255+")":"rgb("+a+","+n+","+r+")"},rl=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},eR=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},tR=function(t,e){var r=e.filter(ud);if(r.length===3){var n=r.map(eR),a=n[0],s=n[1],o=n[2];return rl(a,s,o,1)}if(r.length===4){var l=r.map(eR),a=l[0],s=l[1],o=l[2],c=l[3];return rl(a,s,o,c)}return 0};function r_(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var rR=function(t,e){var r=e.filter(ud),n=r[0],a=r[1],s=r[2],o=r[3],l=(n.type===17?es(n.number):Jb.parse(t,n))/(Math.PI*2),c=Hr(a)?a.number/100:0,u=Hr(s)?s.number/100:0,A=typeof o<"u"&&Hr(o)?xr(o,1):1;if(c===0)return rl(u*255,u*255,u*255,1);var d=u<=.5?u*(c+1):u+c-u*c,h=u*2-d,f=r_(h,d,l+1/3),m=r_(h,d,l),g=r_(h,d,l-1/3);return rl(f*255,m*255,g*255,A)},mye={hsl:rR,hsla:rR,rgb:tR,rgba:tR},Of=function(t,e){return dl.parse(t,YG.create(e).parseComponentValue())},Gi={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},pye={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(ir(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},gye={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Zb=function(t,e){var r=dl.parse(t,e[0]),n=e[1];return n&&Hr(n)?{color:r,stop:n}:{color:r,stop:null}},nR=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=Tn),n.stop===null&&(n.stop=tl);for(var a=[],s=0,o=0;o<t.length;o++){var l=t[o].stop;if(l!==null){var c=xr(l,e);c>s?a.push(c):a.push(s),s=c}else a.push(null)}for(var u=null,o=0;o<a.length;o++){var A=a[o];if(A===null)u===null&&(u=o);else if(u!==null){for(var d=o-u,h=a[u-1],f=(A-h)/(d+1),m=1;m<=d;m++)a[u+m-1]=f*m;u=null}}return t.map(function(g,p){var b=g.color;return{color:b,stop:Math.max(Math.min(1,a[p]/e),0)}})},xye=function(t,e,r){var n=e/2,a=r/2,s=xr(t[0],e)-n,o=a-xr(t[1],r);return(Math.atan2(o,s)+Math.PI*2)%(Math.PI*2)},vye=function(t,e,r){var n=typeof t=="number"?t:xye(t,e,r),a=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),s=e/2,o=r/2,l=a/2,c=Math.sin(n-Math.PI/2)*l,u=Math.cos(n-Math.PI/2)*l;return[a,s-u,s+u,o-c,o+c]},ms=function(t,e){return Math.sqrt(t*t+e*e)},aR=function(t,e,r,n,a){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(o,l){var c=l[0],u=l[1],A=ms(r-c,n-u);return(a?A<o.optimumDistance:A>o.optimumDistance)?{optimumCorner:l,optimumDistance:A}:o},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},yye=function(t,e,r,n,a){var s=0,o=0;switch(t.size){case 0:t.shape===0?s=o=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-a)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),o=Math.min(Math.abs(r),Math.abs(r-a)));break;case 2:if(t.shape===0)s=o=Math.min(ms(e,r),ms(e,r-a),ms(e-n,r),ms(e-n,r-a));else if(t.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-a))/Math.min(Math.abs(e),Math.abs(e-n)),c=aR(n,a,e,r,!0),u=c[0],A=c[1];s=ms(u-e,(A-r)/l),o=l*s}break;case 1:t.shape===0?s=o=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-a)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),o=Math.max(Math.abs(r),Math.abs(r-a)));break;case 3:if(t.shape===0)s=o=Math.max(ms(e,r),ms(e,r-a),ms(e-n,r),ms(e-n,r-a));else if(t.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-a))/Math.max(Math.abs(e),Math.abs(e-n)),d=aR(n,a,e,r,!1),u=d[0],A=d[1];s=ms(u-e,(A-r)/l),o=l*s}break}return Array.isArray(t.size)&&(s=xr(t.size[0],n),o=t.size.length===2?xr(t.size[1],a):s),[s,o]},bye=function(t,e){var r=es(180),n=[];return wi(e).forEach(function(a,s){if(s===0){var o=a[0];if(o.type===20&&o.value==="to"){r=sz(a);return}else if(az(o)){r=Jb.parse(t,o);return}}var l=Zb(t,a);n.push(l)}),{angle:r,stops:n,type:1}},f0=function(t,e){var r=es(180),n=[];return wi(e).forEach(function(a,s){if(s===0){var o=a[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=sz(a);return}else if(az(o)){r=(Jb.parse(t,o)+es(270))%es(360);return}}var l=Zb(t,a);n.push(l)}),{angle:r,stops:n,type:1}},wye=function(t,e){var r=es(180),n=[],a=1,s=0,o=3,l=[];return wi(e).forEach(function(c,u){var A=c[0];if(u===0){if(ir(A)&&A.value==="linear"){a=1;return}else if(ir(A)&&A.value==="radial"){a=2;return}}if(A.type===18){if(A.name==="from"){var d=dl.parse(t,A.values[0]);n.push({stop:Tn,color:d})}else if(A.name==="to"){var d=dl.parse(t,A.values[0]);n.push({stop:tl,color:d})}else if(A.name==="color-stop"){var h=A.values.filter(ud);if(h.length===2){var d=dl.parse(t,h[1]),f=h[0];eh(f)&&n.push({stop:{type:16,number:f.number*100,flags:f.flags},color:d})}}}}),a===1?{angle:(r+es(180))%es(360),stops:n,type:a}:{size:o,shape:s,stops:n,position:l,type:a}},iz="closest-side",oz="farthest-side",lz="closest-corner",cz="farthest-corner",uz="circle",Az="ellipse",dz="cover",hz="contain",_ye=function(t,e){var r=0,n=3,a=[],s=[];return wi(e).forEach(function(o,l){var c=!0;if(l===0){var u=!1;c=o.reduce(function(d,h){if(u)if(ir(h))switch(h.value){case"center":return s.push(rI),d;case"top":case"left":return s.push(Tn),d;case"right":case"bottom":return s.push(tl),d}else(Hr(h)||Tl(h))&&s.push(h);else if(ir(h))switch(h.value){case uz:return r=0,!1;case Az:return r=1,!1;case"at":return u=!0,!1;case iz:return n=0,!1;case dz:case oz:return n=1,!1;case hz:case lz:return n=2,!1;case cz:return n=3,!1}else if(Tl(h)||Hr(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return d},c)}if(c){var A=Zb(t,o);a.push(A)}}),{size:n,shape:r,stops:a,position:s,type:2}},m0=function(t,e){var r=0,n=3,a=[],s=[];return wi(e).forEach(function(o,l){var c=!0;if(l===0?c=o.reduce(function(A,d){if(ir(d))switch(d.value){case"center":return s.push(rI),!1;case"top":case"left":return s.push(Tn),!1;case"right":case"bottom":return s.push(tl),!1}else if(Hr(d)||Tl(d))return s.push(d),!1;return A},c):l===1&&(c=o.reduce(function(A,d){if(ir(d))switch(d.value){case uz:return r=0,!1;case Az:return r=1,!1;case hz:case iz:return n=0,!1;case oz:return n=1,!1;case lz:return n=2,!1;case dz:case cz:return n=3,!1}else if(Tl(d)||Hr(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return A},c)),c){var u=Zb(t,o);a.push(u)}}),{size:n,shape:r,stops:a,position:s,type:2}},Bye=function(t){return t.type===1},Cye=function(t){return t.type===2},nI={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=fz[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function jye(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!fz[t.name])}var fz={"linear-gradient":bye,"-moz-linear-gradient":f0,"-ms-linear-gradient":f0,"-o-linear-gradient":f0,"-webkit-linear-gradient":f0,"radial-gradient":_ye,"-moz-radial-gradient":m0,"-ms-radial-gradient":m0,"-o-radial-gradient":m0,"-webkit-radial-gradient":m0,"-webkit-gradient":wye},Eye={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return ud(n)&&jye(n)}).map(function(n){return nI.parse(t,n)})}},Sye={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(ir(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Nye={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return wi(e).map(function(r){return r.filter(Hr)}).map(ZG)}},Tye={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return wi(e).map(function(r){return r.filter(ir).map(function(n){return n.value}).join(" ")}).map(kye)}},kye=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},wA;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(wA||(wA={}));var Iye={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return wi(e).map(function(r){return r.filter(Pye)})}},Pye=function(t){return ir(t)||Hr(t)},ew=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Fye=ew("top"),Dye=ew("right"),Oye=ew("bottom"),Rye=ew("left"),tw=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return ZG(r.filter(Hr))}}},Uye=tw("top-left"),Mye=tw("top-right"),Qye=tw("bottom-right"),Lye=tw("bottom-left"),rw=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Hye=rw("top"),$ye=rw("right"),Vye=rw("bottom"),Kye=rw("left"),nw=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return Xp(r)?r.number:0}}},qye=nw("top"),Gye=nw("right"),zye=nw("bottom"),Wye=nw("left"),Xye={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Yye={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},Jye={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(ir).reduce(function(r,n){return r|Zye(n.value)},0)}},Zye=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},ebe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},tbe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Uv;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Uv||(Uv={}));var rbe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Uv.STRICT;case"normal":default:return Uv.NORMAL}}},nbe={name:"line-height",initialValue:"normal",prefix:!1,type:4},sR=function(t,e){return ir(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Hr(t)?xr(t,e):e},abe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:nI.parse(t,e)}},sbe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},B2={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},aw=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},ibe=aw("top"),obe=aw("right"),lbe=aw("bottom"),cbe=aw("left"),ube={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(ir).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Abe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},sw=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},dbe=sw("top"),hbe=sw("right"),fbe=sw("bottom"),mbe=sw("left"),pbe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},gbe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},xbe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&_2(e[0],"none")?[]:wi(e).map(function(r){for(var n={color:Gi.TRANSPARENT,offsetX:Tn,offsetY:Tn,blur:Tn},a=0,s=0;s<r.length;s++){var o=r[s];Tl(o)?(a===0?n.offsetX=o:a===1?n.offsetY=o:n.blur=o,a++):n.color=dl.parse(t,o)}return n})}},vbe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},ybe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=_be[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},bbe=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},wbe=function(t){var e=t.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=e[0],n=e[1];e[2],e[3];var a=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],l=e[13];return e[14],e[15],e.length===16?[r,n,a,s,o,l]:null},_be={matrix:bbe,matrix3d:wbe},iR={type:16,number:50,flags:Wp},Bbe=[iR,iR],Cbe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(Hr);return r.length!==2?Bbe:[r[0],r[1]]}},jbe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Rf;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Rf||(Rf={}));var Ebe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Rf.BREAK_ALL;case"keep-all":return Rf.KEEP_ALL;case"normal":default:return Rf.NORMAL}}},Sbe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(eh(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},mz={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Nbe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return eh(e)?e.number:1}},Tbe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},kbe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(ir).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},Ibe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(a){switch(a.type){case 20:case 0:r.push(a.value);break;case 17:r.push(a.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},Pbe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Fbe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(eh(e))return e.number;if(ir(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Dbe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(ir).map(function(r){return r.value})}},Obe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Wr=function(t,e){return(t&e)!==0},Rbe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},Ube={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],a=e.filter(JG),s=0;s<a.length;s++){var o=a[s],l=a[s+1];if(o.type===20){var c=l&&eh(l)?l.number:1;n.push({counter:o.value,increment:c})}}return n}},Mbe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(JG),a=0;a<n.length;a++){var s=n[a],o=n[a+1];if(ir(s)&&s.value!=="none"){var l=o&&eh(o)?o.number:0;r.push({counter:s.value,reset:l})}}return r}},Qbe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Xp).map(function(r){return mz.parse(t,r)})}},Lbe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],a=e.filter(hye);if(a.length%2!==0)return null;for(var s=0;s<a.length;s+=2){var o=a[s].value,l=a[s+1].value;n.push({open:o,close:l})}return n}},oR=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},Hbe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&_2(e[0],"none")?[]:wi(e).map(function(r){for(var n={color:255,offsetX:Tn,offsetY:Tn,blur:Tn,spread:Tn,inset:!1},a=0,s=0;s<r.length;s++){var o=r[s];_2(o,"inset")?n.inset=!0:Tl(o)?(a===0?n.offsetX=o:a===1?n.offsetY=o:a===2?n.blur=o:n.spread=o,a++):n.color=dl.parse(t,o)}return n})}},$be={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(ir).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},Vbe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Kbe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Xp(e)?e.number:0}},qbe=function(){function t(e,r){var n,a;this.animationDuration=He(e,Qbe,r.animationDuration),this.backgroundClip=He(e,pye,r.backgroundClip),this.backgroundColor=He(e,gye,r.backgroundColor),this.backgroundImage=He(e,Eye,r.backgroundImage),this.backgroundOrigin=He(e,Sye,r.backgroundOrigin),this.backgroundPosition=He(e,Nye,r.backgroundPosition),this.backgroundRepeat=He(e,Tye,r.backgroundRepeat),this.backgroundSize=He(e,Iye,r.backgroundSize),this.borderTopColor=He(e,Fye,r.borderTopColor),this.borderRightColor=He(e,Dye,r.borderRightColor),this.borderBottomColor=He(e,Oye,r.borderBottomColor),this.borderLeftColor=He(e,Rye,r.borderLeftColor),this.borderTopLeftRadius=He(e,Uye,r.borderTopLeftRadius),this.borderTopRightRadius=He(e,Mye,r.borderTopRightRadius),this.borderBottomRightRadius=He(e,Qye,r.borderBottomRightRadius),this.borderBottomLeftRadius=He(e,Lye,r.borderBottomLeftRadius),this.borderTopStyle=He(e,Hye,r.borderTopStyle),this.borderRightStyle=He(e,$ye,r.borderRightStyle),this.borderBottomStyle=He(e,Vye,r.borderBottomStyle),this.borderLeftStyle=He(e,Kye,r.borderLeftStyle),this.borderTopWidth=He(e,qye,r.borderTopWidth),this.borderRightWidth=He(e,Gye,r.borderRightWidth),this.borderBottomWidth=He(e,zye,r.borderBottomWidth),this.borderLeftWidth=He(e,Wye,r.borderLeftWidth),this.boxShadow=He(e,Hbe,r.boxShadow),this.color=He(e,Xye,r.color),this.direction=He(e,Yye,r.direction),this.display=He(e,Jye,r.display),this.float=He(e,ebe,r.cssFloat),this.fontFamily=He(e,Ibe,r.fontFamily),this.fontSize=He(e,Pbe,r.fontSize),this.fontStyle=He(e,Obe,r.fontStyle),this.fontVariant=He(e,Dbe,r.fontVariant),this.fontWeight=He(e,Fbe,r.fontWeight),this.letterSpacing=He(e,tbe,r.letterSpacing),this.lineBreak=He(e,rbe,r.lineBreak),this.lineHeight=He(e,nbe,r.lineHeight),this.listStyleImage=He(e,abe,r.listStyleImage),this.listStylePosition=He(e,sbe,r.listStylePosition),this.listStyleType=He(e,B2,r.listStyleType),this.marginTop=He(e,ibe,r.marginTop),this.marginRight=He(e,obe,r.marginRight),this.marginBottom=He(e,lbe,r.marginBottom),this.marginLeft=He(e,cbe,r.marginLeft),this.opacity=He(e,Nbe,r.opacity);var s=He(e,ube,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=He(e,Abe,r.overflowWrap),this.paddingTop=He(e,dbe,r.paddingTop),this.paddingRight=He(e,hbe,r.paddingRight),this.paddingBottom=He(e,fbe,r.paddingBottom),this.paddingLeft=He(e,mbe,r.paddingLeft),this.paintOrder=He(e,$be,r.paintOrder),this.position=He(e,gbe,r.position),this.textAlign=He(e,pbe,r.textAlign),this.textDecorationColor=He(e,Tbe,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=He(e,kbe,(a=r.textDecorationLine)!==null&&a!==void 0?a:r.textDecoration),this.textShadow=He(e,xbe,r.textShadow),this.textTransform=He(e,vbe,r.textTransform),this.transform=He(e,ybe,r.transform),this.transformOrigin=He(e,Cbe,r.transformOrigin),this.visibility=He(e,jbe,r.visibility),this.webkitTextStrokeColor=He(e,Vbe,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=He(e,Kbe,r.webkitTextStrokeWidth),this.wordBreak=He(e,Ebe,r.wordBreak),this.zIndex=He(e,Sbe,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return hl(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Wr(this.display,4)||Wr(this.display,33554432)||Wr(this.display,268435456)||Wr(this.display,536870912)||Wr(this.display,67108864)||Wr(this.display,134217728)},t}(),Gbe=function(){function t(e,r){this.content=He(e,Rbe,r.content),this.quotes=He(e,Lbe,r.quotes)}return t}(),lR=function(){function t(e,r){this.counterIncrement=He(e,Ube,r.counterIncrement),this.counterReset=He(e,Mbe,r.counterReset)}return t}(),He=function(t,e,r){var n=new XG,a=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(a);var s=new YG(n.read());switch(e.type){case 2:var o=s.parseComponentValue();return e.parse(t,ir(o)?o.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return Jb.parse(t,s.parseComponentValue());case"color":return dl.parse(t,s.parseComponentValue());case"image":return nI.parse(t,s.parseComponentValue());case"length":var l=s.parseComponentValue();return Tl(l)?l:Tn;case"length-percentage":var c=s.parseComponentValue();return Hr(c)?c:Tn;case"time":return mz.parse(t,s.parseComponentValue())}break}},zbe="data-html2canvas-debug",Wbe=function(t){var e=t.getAttribute(zbe);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},C2=function(t,e){var r=Wbe(t);return r===1||e===r},_i=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,C2(r,3))debugger;this.styles=new qbe(e,window.getComputedStyle(r,null)),S2(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Xb(this.context,r),C2(r,4)&&(this.flags|=16)}return t}(),Xbe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",cR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var p0=0;p0<cR.length;p0++)mf[cR.charCodeAt(p0)]=p0;var Ybe=function(t){var e=t.length*.75,r=t.length,n,a=0,s,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)s=mf[t.charCodeAt(n)],o=mf[t.charCodeAt(n+1)],l=mf[t.charCodeAt(n+2)],c=mf[t.charCodeAt(n+3)],A[a++]=s<<2|o>>4,A[a++]=(o&15)<<4|l>>2,A[a++]=(l&3)<<6|c&63;return u},Jbe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},Zbe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Lc=5,aI=11,n_=2,ewe=aI-Lc,pz=65536>>Lc,twe=1<<Lc,a_=twe-1,rwe=1024>>Lc,nwe=pz+rwe,awe=nwe,swe=32,iwe=awe+swe,owe=65536>>aI,lwe=1<<ewe,cwe=lwe-1,uR=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},uwe=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},Awe=function(t,e){var r=Ybe(t),n=Array.isArray(r)?Zbe(r):new Uint32Array(r),a=Array.isArray(r)?Jbe(r):new Uint16Array(r),s=24,o=uR(a,s/2,n[4]/2),l=n[5]===2?uR(a,(s+n[4])/2):uwe(n,Math.ceil((s+n[4])/4));return new dwe(n[0],n[1],n[2],n[3],o,l)},dwe=function(){function t(e,r,n,a,s,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=s,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Lc],r=(r<<n_)+(e&a_),this.data[r];if(e<=65535)return r=this.index[pz+(e-55296>>Lc)],r=(r<<n_)+(e&a_),this.data[r];if(e<this.highStart)return r=iwe-owe+(e>>aI),r=this.index[r],r+=e>>Lc&cwe,r=this.index[r],r=(r<<n_)+(e&a_),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),AR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hwe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var g0=0;g0<AR.length;g0++)hwe[AR.charCodeAt(g0)]=g0;var fwe=1,s_=2,i_=3,dR=4,hR=5,mwe=7,fR=8,o_=9,l_=10,mR=11,pR=12,gR=13,xR=14,c_=15,pwe=function(t){for(var e=[],r=0,n=t.length;r<n;){var a=t.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((a&1023)<<10)+(s&1023)+65536):(e.push(a),r--)}else e.push(a)}return e},gwe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],a=-1,s="";++a<r;){var o=t[a];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(a+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},xwe=Awe(Xbe),za="",u_="",vwe=function(t){return xwe.get(t)},ywe=function(t,e,r){var n=r-2,a=e[n],s=e[r-1],o=e[r];if(s===s_&&o===i_)return za;if(s===s_||s===i_||s===dR||o===s_||o===i_||o===dR)return u_;if(s===fR&&[fR,o_,mR,pR].indexOf(o)!==-1||(s===mR||s===o_)&&(o===o_||o===l_)||(s===pR||s===l_)&&o===l_||o===gR||o===hR||o===mwe||s===fwe)return za;if(s===gR&&o===xR){for(;a===hR;)a=e[--n];if(a===xR)return za}if(s===c_&&o===c_){for(var l=0;a===c_;)l++,a=e[--n];if(l%2===0)return za}return u_},bwe=function(t){var e=pwe(t),r=e.length,n=0,a=0,s=e.map(vwe);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=za;n<r&&(o=ywe(e,s,++n))===za;);if(o!==za||n===r){var l=gwe.apply(null,e.slice(a,n));return a=n,{value:l,done:!1}}return{done:!0,value:null}}}},wwe=function(t){for(var e=bwe(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},_we=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var a=r.getBoundingClientRect(),s=Math.round(a.height);if(t.body.removeChild(n),s===e)return!0}}return!1},Bwe=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,a=Yb(n.data).map(function(c){return Dr(c)}),s=0,o={},l=a.every(function(c,u){r.setStart(n,s),r.setEnd(n,s+c.length);var A=r.getBoundingClientRect();s+=c.length;var d=A.x>o.x||A.y>o.y;return o=A,u===0?!0:d});return t.body.removeChild(e),l},Cwe=function(){return typeof new Image().crossOrigin<"u"},jwe=function(){return typeof new XMLHttpRequest().responseType=="string"},Ewe=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},vR=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},Swe=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var a=new Image,s=e.toDataURL();a.src=s;var o=j2(r,r,0,0,a);return n.fillStyle="red",n.fillRect(0,0,r,r),yR(o).then(function(l){n.drawImage(l,0,0);var c=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var u=t.createElement("div");return u.style.backgroundImage="url("+s+")",u.style.height=r+"px",vR(c)?yR(j2(r,r,0,0,u)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),vR(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},j2=function(t,e,r,n,a){var s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg"),l=document.createElementNS(s,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(a),o},yR=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},yn={get SUPPORT_RANGE_BOUNDS(){var t=_we(document);return Object.defineProperty(yn,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=yn.SUPPORT_RANGE_BOUNDS&&Bwe(document);return Object.defineProperty(yn,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=Ewe(document);return Object.defineProperty(yn,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?Swe(document):Promise.resolve(!1);return Object.defineProperty(yn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=Cwe();return Object.defineProperty(yn,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=jwe();return Object.defineProperty(yn,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(yn,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(yn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Uf=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),Nwe=function(t,e,r,n){var a=Iwe(e,r),s=[],o=0;return a.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(yn.SUPPORT_RANGE_BOUNDS){var c=bR(n,o,l.length).getClientRects();if(c.length>1){var u=sI(l),A=0;u.forEach(function(h){s.push(new Uf(h,so.fromDOMRectList(t,bR(n,A+o,h.length).getClientRects()))),A+=h.length})}else s.push(new Uf(l,so.fromDOMRectList(t,c)))}else{var d=n.splitText(l.length);s.push(new Uf(l,Twe(t,n))),n=d}else yn.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));o+=l.length}),s},Twe=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var a=e.parentNode;if(a){a.replaceChild(n,e);var s=Xb(t,n);return n.firstChild&&a.replaceChild(n.firstChild,n),s}}return so.EMPTY},bR=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(t,e),a.setEnd(t,e+r),a},sI=function(t){if(yn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return wwe(t)},kwe=function(t,e){if(yn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return Fwe(t,e)},Iwe=function(t,e){return e.letterSpacing!==0?sI(t):kwe(t,e)},Pwe=[32,160,4961,65792,65793,4153,4241],Fwe=function(t,e){for(var r=ove(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],a,s=function(){if(a.value){var o=a.value.slice(),l=Yb(o),c="";l.forEach(function(u){Pwe.indexOf(u)===-1?c+=Dr(u):(c.length&&n.push(c),n.push(Dr(u)),c="")}),c.length&&n.push(c)}};!(a=r.next()).done;)s();return n},Dwe=function(){function t(e,r,n){this.text=Owe(r.data,n.textTransform),this.textBounds=Nwe(e,this.text,n,r)}return t}(),Owe=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(Rwe,Uwe);case 2:return t.toUpperCase();default:return t}},Rwe=/(^|\s|:|-|\(|\))([a-z])/g,Uwe=function(t,e,r){return t.length>0?e+r.toUpperCase():t},gz=function(t){Hs(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return e}(_i),xz=function(t){Hs(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return e}(_i),vz=function(t){Hs(e,t);function e(r,n){var a=t.call(this,r,n)||this,s=new XMLSerializer,o=Xb(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return e}(_i),yz=function(t){Hs(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.value=n.value,a}return e}(_i),E2=function(t){Hs(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return e}(_i),Mwe=[{type:15,flags:0,unit:"px",number:3}],Qwe=[{type:16,flags:0,number:50}],Lwe=function(t){return t.width>t.height?new so(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new so(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Hwe=function(t){var e=t.type===$we?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},Mv="checkbox",Qv="radio",$we="password",wR=707406591,iI=function(t){Hs(e,t);function e(r,n){var a=t.call(this,r,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=Hwe(n),(a.type===Mv||a.type===Qv)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=Lwe(a.bounds)),a.type){case Mv:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=Mwe;break;case Qv:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=Qwe;break}return a}return e}(_i),bz=function(t){Hs(e,t);function e(r,n){var a=t.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return a.value=s&&s.text||"",a}return e}(_i),wz=function(t){Hs(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.value=n.value,a}return e}(_i),_z=function(t){Hs(e,t);function e(r,n){var a=t.call(this,r,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=Cz(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?Of(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Gi.TRANSPARENT,o=n.contentWindow.document.body?Of(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):Gi.TRANSPARENT;a.backgroundColor=hl(s)?hl(o)?a.styles.backgroundColor:o:s}}catch{}return a}return e}(_i),Vwe=["OL","UL","MENU"],sx=function(t,e,r,n){for(var a=e.firstChild,s=void 0;a;a=s)if(s=a.nextSibling,jz(a)&&a.data.trim().length>0)r.textNodes.push(new Dwe(t,a,r.styles));else if(hA(a))if(Tz(a)&&a.assignedNodes)a.assignedNodes().forEach(function(l){return sx(t,l,r,n)});else{var o=Bz(t,a);o.styles.isVisible()&&(Kwe(a,o,n)?o.flags|=4:qwe(o.styles)&&(o.flags|=2),Vwe.indexOf(a.tagName)!==-1&&(o.flags|=8),r.elements.push(o),a.slot,a.shadowRoot?sx(t,a.shadowRoot,o,n):!Lv(a)&&!Ez(a)&&!Hv(a)&&sx(t,a,o,n))}},Bz=function(t,e){return N2(e)?new gz(t,e):Sz(e)?new xz(t,e):Ez(e)?new vz(t,e):Gwe(e)?new yz(t,e):zwe(e)?new E2(t,e):Wwe(e)?new iI(t,e):Hv(e)?new bz(t,e):Lv(e)?new wz(t,e):Nz(e)?new _z(t,e):new _i(t,e)},Cz=function(t,e){var r=Bz(t,e);return r.flags|=4,sx(t,e,r,r),r},Kwe=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||oI(t)&&r.styles.isTransparent()},qwe=function(t){return t.isPositioned()||t.isFloating()},jz=function(t){return t.nodeType===Node.TEXT_NODE},hA=function(t){return t.nodeType===Node.ELEMENT_NODE},S2=function(t){return hA(t)&&typeof t.style<"u"&&!ix(t)},ix=function(t){return typeof t.className=="object"},Gwe=function(t){return t.tagName==="LI"},zwe=function(t){return t.tagName==="OL"},Wwe=function(t){return t.tagName==="INPUT"},Xwe=function(t){return t.tagName==="HTML"},Ez=function(t){return t.tagName==="svg"},oI=function(t){return t.tagName==="BODY"},Sz=function(t){return t.tagName==="CANVAS"},_R=function(t){return t.tagName==="VIDEO"},N2=function(t){return t.tagName==="IMG"},Nz=function(t){return t.tagName==="IFRAME"},BR=function(t){return t.tagName==="STYLE"},Ywe=function(t){return t.tagName==="SCRIPT"},Lv=function(t){return t.tagName==="TEXTAREA"},Hv=function(t){return t.tagName==="SELECT"},Tz=function(t){return t.tagName==="SLOT"},CR=function(t){return t.tagName.indexOf("-")>0},Jwe=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,a=e.counterReset,s=!0;n!==null&&n.forEach(function(l){var c=r.counters[l.counter];c&&l.increment!==0&&(s=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var o=[];return s&&a.forEach(function(l){var c=r.counters[l.counter];o.push(l.counter),c||(c=r.counters[l.counter]=[]),c.push(l.reset)}),o},t}(),jR={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ER={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Zwe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},e1e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},qu=function(t,e,r,n,a,s){return t<e||t>r?Rm(t,a,s.length>0):n.integers.reduce(function(o,l,c){for(;t>=l;)t-=l,o+=n.values[c];return o},"")+s},kz=function(t,e,r,n){var a="";do r||t--,a=n(t)+a,t/=e;while(t*e>=e);return a},Fr=function(t,e,r,n,a){var s=r-e+1;return(t<0?"-":"")+(kz(Math.abs(t),s,n,function(o){return Dr(Math.floor(o%s)+e)})+a)},tc=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return kz(Math.abs(t),n,!1,function(a){return e[Math.floor(a%n)]})+r},cA=1,Io=2,Po=4,pf=8,Ii=function(t,e,r,n,a,s){if(t<-9999||t>9999)return Rm(t,4,a.length>0);var o=Math.abs(t),l=a;if(o===0)return e[0]+l;for(var c=0;o>0&&c<=4;c++){var u=o%10;u===0&&Wr(s,cA)&&l!==""?l=e[u]+l:u>1||u===1&&c===0||u===1&&c===1&&Wr(s,Io)||u===1&&c===1&&Wr(s,Po)&&t>100||u===1&&c>1&&Wr(s,pf)?l=e[u]+(c>0?r[c-1]:"")+l:u===1&&c>0&&(l=r[c-1]+l),o=Math.floor(o/10)}return(t<0?n:"")+l},SR="",NR="",TR="",A_="",Rm=function(t,e,r){var n=r?". ":"",a=r?"":"",s=r?", ":"",o=r?" ":"";switch(e){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var l=Fr(t,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return tc(t,"",a);case 6:return qu(t,1,3999,jR,3,n).toLowerCase();case 7:return qu(t,1,3999,jR,3,n);case 8:return Fr(t,945,969,!1,n);case 9:return Fr(t,97,122,!1,n);case 10:return Fr(t,65,90,!1,n);case 11:return Fr(t,1632,1641,!0,n);case 12:case 49:return qu(t,1,9999,ER,3,n);case 35:return qu(t,1,9999,ER,3,n).toLowerCase();case 13:return Fr(t,2534,2543,!0,n);case 14:case 30:return Fr(t,6112,6121,!0,n);case 15:return tc(t,"",a);case 16:return tc(t,"",a);case 17:case 48:return Ii(t,"",SR,"",a,Io|Po|pf);case 47:return Ii(t,"",NR,"",a,cA|Io|Po|pf);case 42:return Ii(t,"",SR,"",a,Io|Po|pf);case 41:return Ii(t,"",NR,"",a,cA|Io|Po|pf);case 26:return Ii(t,"","",TR,a,0);case 25:return Ii(t,"","",TR,a,cA|Io|Po);case 31:return Ii(t,"","",A_,s,cA|Io|Po);case 33:return Ii(t,"","",A_,s,0);case 32:return Ii(t,"","",A_,s,cA|Io|Po);case 18:return Fr(t,2406,2415,!0,n);case 20:return qu(t,1,19999,e1e,3,n);case 21:return Fr(t,2790,2799,!0,n);case 22:return Fr(t,2662,2671,!0,n);case 22:return qu(t,1,10999,Zwe,3,n);case 23:return tc(t,"");case 24:return tc(t,"");case 27:return Fr(t,3302,3311,!0,n);case 28:return tc(t,"",a);case 29:return tc(t,"",a);case 34:return Fr(t,3792,3801,!0,n);case 37:return Fr(t,6160,6169,!0,n);case 38:return Fr(t,4160,4169,!0,n);case 39:return Fr(t,2918,2927,!0,n);case 40:return Fr(t,1776,1785,!0,n);case 43:return Fr(t,3046,3055,!0,n);case 44:return Fr(t,3174,3183,!0,n);case 45:return Fr(t,3664,3673,!0,n);case 46:return Fr(t,3872,3881,!0,n);case 3:default:return Fr(t,48,57,!0,n)}},Iz="data-html2canvas-ignore",kR=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new Jwe,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,a=t1e(e,r);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,l=a.contentWindow,c=l.document,u=a1e(a).then(function(){return Zn(n,void 0,void 0,function(){var A,d;return Mn(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(l1e),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),A=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,n1e(c)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof A=="function"?[2,Promise.resolve().then(function(){return A(c,d)}).then(function(){return a})]:[2,a]}})})});return c.open(),c.write(i1e(document.doctype)+"<html></html>"),o1e(this.referenceElement.ownerDocument,s,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),u},t.prototype.createElementClone=function(e){if(C2(e,2))debugger;if(Sz(e))return this.createCanvasClone(e);if(_R(e))return this.createVideoClone(e);if(BR(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return N2(r)&&(N2(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),CR(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return d_(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,o){return o&&typeof o.cssText=="string"?s+o.cssText:s},""),a=e.cloneNode(!1);return a.textContent=n,a}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var a=e.cloneNode(!1);try{a.width=e.width,a.height=e.height;var s=e.getContext("2d"),o=a.getContext("2d");if(o)if(!this.options.allowTaint&&s)o.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var l=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(l){var c=l.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return a},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var a=e.ownerDocument.createElement("canvas");return a.width=e.offsetWidth,a.height=e.offsetHeight,a},t.prototype.appendChildNode=function(e,r,n){(!hA(r)||!Ywe(r)&&!r.hasAttribute(Iz)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!hA(r)||!BR(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var a=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(hA(s)&&Tz(s)&&typeof s.assignedNodes=="function"){var o=s.assignedNodes();o.length&&o.forEach(function(l){return a.appendChildNode(r,l,n)})}else this.appendChildNode(r,s,n)},t.prototype.cloneNode=function(e,r){if(jz(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&hA(e)&&(S2(e)||ix(e))){var a=this.createElementClone(e);a.style.transitionProperty="none";var s=n.getComputedStyle(e),o=n.getComputedStyle(e,":before"),l=n.getComputedStyle(e,":after");this.referenceElement===e&&S2(a)&&(this.clonedReferenceElement=a),oI(a)&&A1e(a);var c=this.counters.parse(new lR(this.context,s)),u=this.resolvePseudoContent(e,a,o,Mf.BEFORE);CR(e)&&(r=!0),_R(e)||this.cloneChildNodes(e,a,r),u&&a.insertBefore(u,a.firstChild);var A=this.resolvePseudoContent(e,a,l,Mf.AFTER);return A&&a.appendChild(A),this.counters.pop(c),(s&&(this.options.copyStyles||ix(e))&&!Nz(e)||r)&&d_(s,a),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([a,e.scrollLeft,e.scrollTop]),(Lv(e)||Hv(e))&&(Lv(a)||Hv(a))&&(a.value=e.value),a}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,a){var s=this;if(n){var o=n.content,l=r.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new lR(this.context,n));var c=new Gbe(this.context,n),u=l.createElement("html2canvaspseudoelement");d_(n,u),c.content.forEach(function(d){if(d.type===0)u.appendChild(l.createTextNode(d.value));else if(d.type===22){var h=l.createElement("img");h.src=d.value,h.style.opacity="1",u.appendChild(h)}else if(d.type===18){if(d.name==="attr"){var f=d.values.filter(ir);f.length&&u.appendChild(l.createTextNode(e.getAttribute(f[0].value)||""))}else if(d.name==="counter"){var m=d.values.filter(ud),g=m[0],p=m[1];if(g&&ir(g)){var b=s.counters.getCounterValue(g.value),x=p&&ir(p)?B2.parse(s.context,p.value):3;u.appendChild(l.createTextNode(Rm(b,x,!1)))}}else if(d.name==="counters"){var w=d.values.filter(ud),g=w[0],y=w[1],p=w[2];if(g&&ir(g)){var C=s.counters.getCounterValues(g.value),E=p&&ir(p)?B2.parse(s.context,p.value):3,B=y&&y.type===0?y.value:"",j=C.map(function(T){return Rm(T,E,!1)}).join(B);u.appendChild(l.createTextNode(j))}}}else if(d.type===20)switch(d.value){case"open-quote":u.appendChild(l.createTextNode(oR(c.quotes,s.quoteDepth++,!0)));break;case"close-quote":u.appendChild(l.createTextNode(oR(c.quotes,--s.quoteDepth,!1)));break;default:u.appendChild(l.createTextNode(d.value))}}),u.className=T2+" "+k2;var A=a===Mf.BEFORE?" "+T2:" "+k2;return ix(r)?r.className.baseValue+=A:r.className+=A,u}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),Mf;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Mf||(Mf={}));var t1e=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(Iz,"true"),t.body.appendChild(r),r},r1e=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},n1e=function(t){return Promise.all([].slice.call(t.images,0).map(r1e))},a1e=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var a=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var s=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},s1e=["all","d","content"],d_=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);s1e.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},i1e=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},o1e=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},l1e=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},c1e=":before",u1e=":after",T2="___html2canvas___pseudoelement_before",k2="___html2canvas___pseudoelement_after",IR=`{
    content: "" !important;
    display: none !important;
}`,A1e=function(t){d1e(t,"."+T2+c1e+IR+`
         .`+k2+u1e+IR)},d1e=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},Pz=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),h1e=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(f_(e)||g1e(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Zn(this,void 0,void 0,function(){var r,n,a,s,o=this;return Mn(this,function(l){switch(l.label){case 0:return r=Pz.isSameOrigin(e),n=!h_(e)&&this._options.useCORS===!0&&yn.SUPPORT_CORS_IMAGES&&!r,a=!h_(e)&&!r&&!f_(e)&&typeof this._options.proxy=="string"&&yn.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!h_(e)&&!f_(e)&&!a&&!n?[2]:(s=e,a?[4,this.proxy(s)]:[3,2]);case 1:s=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(c,u){var A=new Image;A.onload=function(){return c(A)},A.onerror=u,(x1e(s)||n)&&(A.crossOrigin="anonymous"),A.src=s,A.complete===!0&&setTimeout(function(){return c(A)},500),o._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=e.substring(0,256);return new Promise(function(s,o){var l=yn.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")s(c.response);else{var d=new FileReader;d.addEventListener("load",function(){return s(d.result)},!1),d.addEventListener("error",function(h){return o(h)},!1),d.readAsDataURL(c.response)}else o("Failed to proxy resource "+a+" with status code "+c.status)},c.onerror=o;var u=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+u+"url="+encodeURIComponent(e)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),r._options.imageTimeout){var A=r._options.imageTimeout;c.timeout=A,c.ontimeout=function(){return o("Timed out ("+A+"ms) proxying "+a)}}c.send()})},t}(),f1e=/^data:image\/svg\+xml/i,m1e=/^data:image\/.*;base64,/i,p1e=/^data:image\/.*/i,g1e=function(t){return yn.SUPPORT_SVG_DRAWING||!v1e(t)},h_=function(t){return p1e.test(t)},x1e=function(t){return m1e.test(t)},f_=function(t){return t.substr(0,4)==="blob"},v1e=function(t){return t.substr(-3).toLowerCase()==="svg"||f1e.test(t)},De=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),Gu=function(t,e,r){return new De(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},x0=function(){function t(e,r,n,a){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=a}return t.prototype.subdivide=function(e,r){var n=Gu(this.start,this.startControl,e),a=Gu(this.startControl,this.endControl,e),s=Gu(this.endControl,this.end,e),o=Gu(n,a,e),l=Gu(a,s,e),c=Gu(o,l,e);return r?new t(this.start,n,o,c):new t(c,l,s,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Ja=function(t){return t.type===1},y1e=function(){function t(e){var r=e.styles,n=e.bounds,a=ff(r.borderTopLeftRadius,n.width,n.height),s=a[0],o=a[1],l=ff(r.borderTopRightRadius,n.width,n.height),c=l[0],u=l[1],A=ff(r.borderBottomRightRadius,n.width,n.height),d=A[0],h=A[1],f=ff(r.borderBottomLeftRadius,n.width,n.height),m=f[0],g=f[1],p=[];p.push((s+c)/n.width),p.push((m+d)/n.width),p.push((o+g)/n.height),p.push((u+h)/n.height);var b=Math.max.apply(Math,p);b>1&&(s/=b,o/=b,c/=b,u/=b,d/=b,h/=b,m/=b,g/=b);var x=n.width-c,w=n.height-h,y=n.width-d,C=n.height-g,E=r.borderTopWidth,B=r.borderRightWidth,j=r.borderBottomWidth,N=r.borderLeftWidth,S=xr(r.paddingTop,e.bounds.width),T=xr(r.paddingRight,e.bounds.width),I=xr(r.paddingBottom,e.bounds.width),k=xr(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||o>0?wr(n.left+N/3,n.top+E/3,s-N/3,o-E/3,Yt.TOP_LEFT):new De(n.left+N/3,n.top+E/3),this.topRightBorderDoubleOuterBox=s>0||o>0?wr(n.left+x,n.top+E/3,c-B/3,u-E/3,Yt.TOP_RIGHT):new De(n.left+n.width-B/3,n.top+E/3),this.bottomRightBorderDoubleOuterBox=d>0||h>0?wr(n.left+y,n.top+w,d-B/3,h-j/3,Yt.BOTTOM_RIGHT):new De(n.left+n.width-B/3,n.top+n.height-j/3),this.bottomLeftBorderDoubleOuterBox=m>0||g>0?wr(n.left+N/3,n.top+C,m-N/3,g-j/3,Yt.BOTTOM_LEFT):new De(n.left+N/3,n.top+n.height-j/3),this.topLeftBorderDoubleInnerBox=s>0||o>0?wr(n.left+N*2/3,n.top+E*2/3,s-N*2/3,o-E*2/3,Yt.TOP_LEFT):new De(n.left+N*2/3,n.top+E*2/3),this.topRightBorderDoubleInnerBox=s>0||o>0?wr(n.left+x,n.top+E*2/3,c-B*2/3,u-E*2/3,Yt.TOP_RIGHT):new De(n.left+n.width-B*2/3,n.top+E*2/3),this.bottomRightBorderDoubleInnerBox=d>0||h>0?wr(n.left+y,n.top+w,d-B*2/3,h-j*2/3,Yt.BOTTOM_RIGHT):new De(n.left+n.width-B*2/3,n.top+n.height-j*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||g>0?wr(n.left+N*2/3,n.top+C,m-N*2/3,g-j*2/3,Yt.BOTTOM_LEFT):new De(n.left+N*2/3,n.top+n.height-j*2/3),this.topLeftBorderStroke=s>0||o>0?wr(n.left+N/2,n.top+E/2,s-N/2,o-E/2,Yt.TOP_LEFT):new De(n.left+N/2,n.top+E/2),this.topRightBorderStroke=s>0||o>0?wr(n.left+x,n.top+E/2,c-B/2,u-E/2,Yt.TOP_RIGHT):new De(n.left+n.width-B/2,n.top+E/2),this.bottomRightBorderStroke=d>0||h>0?wr(n.left+y,n.top+w,d-B/2,h-j/2,Yt.BOTTOM_RIGHT):new De(n.left+n.width-B/2,n.top+n.height-j/2),this.bottomLeftBorderStroke=m>0||g>0?wr(n.left+N/2,n.top+C,m-N/2,g-j/2,Yt.BOTTOM_LEFT):new De(n.left+N/2,n.top+n.height-j/2),this.topLeftBorderBox=s>0||o>0?wr(n.left,n.top,s,o,Yt.TOP_LEFT):new De(n.left,n.top),this.topRightBorderBox=c>0||u>0?wr(n.left+x,n.top,c,u,Yt.TOP_RIGHT):new De(n.left+n.width,n.top),this.bottomRightBorderBox=d>0||h>0?wr(n.left+y,n.top+w,d,h,Yt.BOTTOM_RIGHT):new De(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=m>0||g>0?wr(n.left,n.top+C,m,g,Yt.BOTTOM_LEFT):new De(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||o>0?wr(n.left+N,n.top+E,Math.max(0,s-N),Math.max(0,o-E),Yt.TOP_LEFT):new De(n.left+N,n.top+E),this.topRightPaddingBox=c>0||u>0?wr(n.left+Math.min(x,n.width-B),n.top+E,x>n.width+B?0:Math.max(0,c-B),Math.max(0,u-E),Yt.TOP_RIGHT):new De(n.left+n.width-B,n.top+E),this.bottomRightPaddingBox=d>0||h>0?wr(n.left+Math.min(y,n.width-N),n.top+Math.min(w,n.height-j),Math.max(0,d-B),Math.max(0,h-j),Yt.BOTTOM_RIGHT):new De(n.left+n.width-B,n.top+n.height-j),this.bottomLeftPaddingBox=m>0||g>0?wr(n.left+N,n.top+Math.min(C,n.height-j),Math.max(0,m-N),Math.max(0,g-j),Yt.BOTTOM_LEFT):new De(n.left+N,n.top+n.height-j),this.topLeftContentBox=s>0||o>0?wr(n.left+N+k,n.top+E+S,Math.max(0,s-(N+k)),Math.max(0,o-(E+S)),Yt.TOP_LEFT):new De(n.left+N+k,n.top+E+S),this.topRightContentBox=c>0||u>0?wr(n.left+Math.min(x,n.width+N+k),n.top+E+S,x>n.width+N+k?0:c-N+k,u-(E+S),Yt.TOP_RIGHT):new De(n.left+n.width-(B+T),n.top+E+S),this.bottomRightContentBox=d>0||h>0?wr(n.left+Math.min(y,n.width-(N+k)),n.top+Math.min(w,n.height+E+S),Math.max(0,d-(B+T)),h-(j+I),Yt.BOTTOM_RIGHT):new De(n.left+n.width-(B+T),n.top+n.height-(j+I)),this.bottomLeftContentBox=m>0||g>0?wr(n.left+N+k,n.top+C,Math.max(0,m-(N+k)),g-(j+I),Yt.BOTTOM_LEFT):new De(n.left+N+k,n.top+n.height-(j+I))}return t}(),Yt;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Yt||(Yt={}));var wr=function(t,e,r,n,a){var s=4*((Math.sqrt(2)-1)/3),o=r*s,l=n*s,c=t+r,u=e+n;switch(a){case Yt.TOP_LEFT:return new x0(new De(t,u),new De(t,u-l),new De(c-o,e),new De(c,e));case Yt.TOP_RIGHT:return new x0(new De(t,e),new De(t+o,e),new De(c,u-l),new De(c,u));case Yt.BOTTOM_RIGHT:return new x0(new De(c,e),new De(c,e+l),new De(t+o,u),new De(t,u));case Yt.BOTTOM_LEFT:default:return new x0(new De(c,u),new De(c-o,u),new De(t,e+l),new De(t,e))}},$v=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},b1e=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Vv=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},w1e=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),v0=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),_1e=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),B1e=function(t){return t.type===0},Fz=function(t){return t.type===1},C1e=function(t){return t.type===2},PR=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},j1e=function(t,e,r,n,a){return t.map(function(s,o){switch(o){case 0:return s.add(e,r);case 1:return s.add(e+n,r);case 2:return s.add(e+n,r+a);case 3:return s.add(e,r+a)}return s})},Dz=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),Oz=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new y1e(this.container),this.container.styles.opacity<1&&this.effects.push(new _1e(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new w1e(n,a,s))}if(this.container.styles.overflowX!==0){var o=$v(this.curves),l=Vv(this.curves);PR(o,l)?this.effects.push(new v0(o,6)):(this.effects.push(new v0(o,2)),this.effects.push(new v0(l,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var s=n.effects.filter(function(c){return!Fz(c)});if(r||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=$v(n.curves),l=Vv(n.curves);PR(o,l)||a.unshift(new v0(l,6))}}else a.unshift.apply(a,s);n=n.parent}return a.filter(function(c){return Wr(c.target,e)})},t}(),I2=function(t,e,r,n){t.container.elements.forEach(function(a){var s=Wr(a.flags,4),o=Wr(a.flags,2),l=new Oz(a,t);Wr(a.styles.display,2048)&&n.push(l);var c=Wr(a.flags,8)?[]:n;if(s||o){var u=s||a.styles.isPositioned()?r:e,A=new Dz(l);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var d=a.styles.zIndex.order;if(d<0){var h=0;u.negativeZIndex.some(function(m,g){return d>m.element.container.styles.zIndex.order?(h=g,!1):h>0}),u.negativeZIndex.splice(h,0,A)}else if(d>0){var f=0;u.positiveZIndex.some(function(m,g){return d>=m.element.container.styles.zIndex.order?(f=g+1,!1):f>0}),u.positiveZIndex.splice(f,0,A)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(A)}else a.styles.isFloating()?u.nonPositionedFloats.push(A):u.nonPositionedInlineLevel.push(A);I2(l,A,s?A:r,c)}else a.styles.isInlineLevel()?e.inlineLevel.push(l):e.nonInlineLevel.push(l),I2(l,e,r,c);Wr(a.flags,8)&&Rz(a,c)})},Rz=function(t,e){for(var r=t instanceof E2?t.start:1,n=t instanceof E2?t.reversed:!1,a=0;a<e.length;a++){var s=e[a];s.container instanceof yz&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=Rm(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},E1e=function(t){var e=new Oz(t,null),r=new Dz(e),n=[];return I2(e,r,r,n),Rz(e.container,n),r},FR=function(t,e){switch(e){case 0:return ts(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return ts(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return ts(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return ts(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},S1e=function(t,e){switch(e){case 0:return ts(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return ts(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return ts(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return ts(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},N1e=function(t,e){switch(e){case 0:return ts(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return ts(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return ts(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return ts(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},T1e=function(t,e){switch(e){case 0:return y0(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return y0(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return y0(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return y0(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},y0=function(t,e){var r=[];return Ja(t)?r.push(t.subdivide(.5,!1)):r.push(t),Ja(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},ts=function(t,e,r,n){var a=[];return Ja(t)?a.push(t.subdivide(.5,!1)):a.push(t),Ja(r)?a.push(r.subdivide(.5,!0)):a.push(r),Ja(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),Ja(e)?a.push(e.subdivide(.5,!1).reverse()):a.push(e),a},Uz=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Kv=function(t){var e=t.styles,r=t.bounds,n=xr(e.paddingLeft,r.width),a=xr(e.paddingRight,r.width),s=xr(e.paddingTop,r.width),o=xr(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+a),-(e.borderTopWidth+e.borderBottomWidth+s+o))},k1e=function(t,e){return t===0?e.bounds:t===2?Kv(e):Uz(e)},I1e=function(t,e){return t===0?e.bounds:t===2?Kv(e):Uz(e)},m_=function(t,e,r){var n=k1e(uA(t.styles.backgroundOrigin,e),t),a=I1e(uA(t.styles.backgroundClip,e),t),s=P1e(uA(t.styles.backgroundSize,e),r,n),o=s[0],l=s[1],c=ff(uA(t.styles.backgroundPosition,e),n.width-o,n.height-l),u=F1e(uA(t.styles.backgroundRepeat,e),c,s,n,a),A=Math.round(n.left+c[0]),d=Math.round(n.top+c[1]);return[u,A,d,o,l]},zu=function(t){return ir(t)&&t.value===wA.AUTO},b0=function(t){return typeof t=="number"},P1e=function(t,e,r){var n=e[0],a=e[1],s=e[2],o=t[0],l=t[1];if(!o)return[0,0];if(Hr(o)&&l&&Hr(l))return[xr(o,r.width),xr(l,r.height)];var c=b0(s);if(ir(o)&&(o.value===wA.CONTAIN||o.value===wA.COVER)){if(b0(s)){var u=r.width/r.height;return u<s!=(o.value===wA.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var A=b0(n),d=b0(a),h=A||d;if(zu(o)&&(!l||zu(l))){if(A&&d)return[n,a];if(!c&&!h)return[r.width,r.height];if(h&&c){var f=A?n:a*s,m=d?a:n/s;return[f,m]}var g=A?n:r.width,p=d?a:r.height;return[g,p]}if(c){var b=0,x=0;return Hr(o)?b=xr(o,r.width):Hr(l)&&(x=xr(l,r.height)),zu(o)?b=x*s:(!l||zu(l))&&(x=b/s),[b,x]}var w=null,y=null;if(Hr(o)?w=xr(o,r.width):l&&Hr(l)&&(y=xr(l,r.height)),w!==null&&(!l||zu(l))&&(y=A&&d?w/n*a:r.height),y!==null&&zu(o)&&(w=A&&d?y/a*n:r.width),w!==null&&y!==null)return[w,y];throw new Error("Unable to calculate background-size for element")},uA=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},F1e=function(t,e,r,n,a){var s=e[0],o=e[1],l=r[0],c=r[1];switch(t){case 2:return[new De(Math.round(n.left),Math.round(n.top+o)),new De(Math.round(n.left+n.width),Math.round(n.top+o)),new De(Math.round(n.left+n.width),Math.round(c+n.top+o)),new De(Math.round(n.left),Math.round(c+n.top+o))];case 3:return[new De(Math.round(n.left+s),Math.round(n.top)),new De(Math.round(n.left+s+l),Math.round(n.top)),new De(Math.round(n.left+s+l),Math.round(n.height+n.top)),new De(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new De(Math.round(n.left+s),Math.round(n.top+o)),new De(Math.round(n.left+s+l),Math.round(n.top+o)),new De(Math.round(n.left+s+l),Math.round(n.top+o+c)),new De(Math.round(n.left+s),Math.round(n.top+o+c))];default:return[new De(Math.round(a.left),Math.round(a.top)),new De(Math.round(a.left+a.width),Math.round(a.top)),new De(Math.round(a.left+a.width),Math.round(a.height+a.top)),new De(Math.round(a.left),Math.round(a.height+a.top))]}},D1e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",DR="Hidden Text",O1e=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),a=this._document.createElement("img"),s=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),a.src=D1e,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(DR)),n.appendChild(s),n.appendChild(a);var l=a.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(DR)),n.style.lineHeight="normal",a.style.verticalAlign="super";var c=a.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:l,middle:c}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),Mz=function(){function t(e,r){this.context=e,this.options=r}return t}(),R1e=1e4,U1e=function(t){Hs(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new O1e(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(a){return n.applyEffect(a)})},e.prototype.applyEffect=function(r){this.ctx.save(),C1e(r)&&(this.ctx.globalAlpha=r.opacity),B1e(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),Fz(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return Zn(this,void 0,void 0,function(){var n;return Mn(this,function(a){switch(a.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return Zn(this,void 0,void 0,function(){return Mn(this,function(n){switch(n.label){case 0:if(Wr(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,a){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+a);else{var o=sI(r.text);o.reduce(function(l,c){return s.ctx.fillText(c,l,r.bounds.top+a),l+s.ctx.measureText(c).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),a=$1e(r.fontFamily).join(", "),s=Xp(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,a].join(" "),a,s]},e.prototype.renderTextNode=function(r,n){return Zn(this,void 0,void 0,function(){var a,s,o,l,c,u,A,d,h=this;return Mn(this,function(f){return a=this.createFontStyle(n),s=a[0],o=a[1],l=a[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,l),u=c.baseline,A=c.middle,d=n.paintOrder,r.textBounds.forEach(function(m){d.forEach(function(g){switch(g){case 0:h.ctx.fillStyle=rn(n.color),h.renderTextWithLetterSpacing(m,n.letterSpacing,u);var p=n.textShadow;p.length&&m.text.trim().length&&(p.slice(0).reverse().forEach(function(b){h.ctx.shadowColor=rn(b.color),h.ctx.shadowOffsetX=b.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=b.offsetY.number*h.options.scale,h.ctx.shadowBlur=b.blur.number,h.renderTextWithLetterSpacing(m,n.letterSpacing,u)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),n.textDecorationLine.length&&(h.ctx.fillStyle=rn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(b){switch(b){case 1:h.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+u),m.bounds.width,1);break;case 2:h.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:h.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+A),m.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&m.text.trim().length&&(h.ctx.strokeStyle=rn(n.webkitTextStrokeColor),h.ctx.lineWidth=n.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+u)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,a){if(a&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=Kv(r),o=Vv(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return Zn(this,void 0,void 0,function(){var n,a,s,o,l,c,x,x,u,A,d,h,y,f,m,C,g,p,b,x,w,y,C;return Mn(this,function(E){switch(E.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,a=r.curves,s=n.styles,o=0,l=n.textNodes,E.label=1;case 1:return o<l.length?(c=l[o],[4,this.renderTextNode(c,s)]):[3,4];case 2:E.sent(),E.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof gz))return[3,8];E.label=5;case 5:return E.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return x=E.sent(),this.renderReplacedElement(n,a,x),[3,8];case 7:return E.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof xz&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof vz))return[3,12];E.label=9;case 9:return E.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return x=E.sent(),this.renderReplacedElement(n,a,x),[3,12];case 11:return E.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof _z&&n.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:A=E.sent(),n.width&&n.height&&this.ctx.drawImage(A,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),E.label=14;case 14:if(n instanceof iI&&(d=Math.min(n.bounds.width,n.bounds.height),n.type===Mv?n.checked&&(this.ctx.save(),this.path([new De(n.bounds.left+d*.39363,n.bounds.top+d*.79),new De(n.bounds.left+d*.16,n.bounds.top+d*.5549),new De(n.bounds.left+d*.27347,n.bounds.top+d*.44071),new De(n.bounds.left+d*.39694,n.bounds.top+d*.5649),new De(n.bounds.left+d*.72983,n.bounds.top+d*.23),new De(n.bounds.left+d*.84,n.bounds.top+d*.34085),new De(n.bounds.left+d*.39363,n.bounds.top+d*.79)]),this.ctx.fillStyle=rn(wR),this.ctx.fill(),this.ctx.restore()):n.type===Qv&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+d/2,n.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=rn(wR),this.ctx.fill(),this.ctx.restore())),M1e(n)&&n.value.length){switch(h=this.createFontStyle(s),y=h[0],f=h[1],m=this.fontMetrics.getMetrics(y,f).baseline,this.ctx.font=y,this.ctx.fillStyle=rn(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=L1e(n.styles.textAlign),C=Kv(n),g=0,n.styles.textAlign){case 1:g+=C.width/2;break;case 2:g+=C.width;break}p=C.add(g,0,0,-C.height/2+1),this.ctx.save(),this.path([new De(C.left,C.top),new De(C.left+C.width,C.top),new De(C.left+C.width,C.top+C.height),new De(C.left,C.top+C.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Uf(n.value,p),s.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Wr(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(b=n.styles.listStyleImage,b.type!==0)return[3,18];x=void 0,w=b.url,E.label=15;case 15:return E.trys.push([15,17,,18]),[4,this.context.cache.match(w)];case 16:return x=E.sent(),this.ctx.drawImage(x,n.bounds.left-(x.width+10),n.bounds.top),[3,18];case 17:return E.sent(),this.context.logger.error("Error loading list-style-image "+w),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(y=this.createFontStyle(s)[0],this.ctx.font=y,this.ctx.fillStyle=rn(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",C=new so(n.bounds.left,n.bounds.top+xr(n.styles.paddingTop,n.bounds.width),n.bounds.width,sR(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Uf(r.listValue,C),s.letterSpacing,sR(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),E.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return Zn(this,void 0,void 0,function(){var n,a,b,s,o,b,l,c,b,u,A,b,d,h,b,f,m,b,g,p,b;return Mn(this,function(x){switch(x.label){case 0:if(Wr(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:x.sent(),n=0,a=r.negativeZIndex,x.label=2;case 2:return n<a.length?(b=a[n],[4,this.renderStack(b)]):[3,5];case 3:x.sent(),x.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:x.sent(),s=0,o=r.nonInlineLevel,x.label=7;case 7:return s<o.length?(b=o[s],[4,this.renderNode(b)]):[3,10];case 8:x.sent(),x.label=9;case 9:return s++,[3,7];case 10:l=0,c=r.nonPositionedFloats,x.label=11;case 11:return l<c.length?(b=c[l],[4,this.renderStack(b)]):[3,14];case 12:x.sent(),x.label=13;case 13:return l++,[3,11];case 14:u=0,A=r.nonPositionedInlineLevel,x.label=15;case 15:return u<A.length?(b=A[u],[4,this.renderStack(b)]):[3,18];case 16:x.sent(),x.label=17;case 17:return u++,[3,15];case 18:d=0,h=r.inlineLevel,x.label=19;case 19:return d<h.length?(b=h[d],[4,this.renderNode(b)]):[3,22];case 20:x.sent(),x.label=21;case 21:return d++,[3,19];case 22:f=0,m=r.zeroOrAutoZIndexOrTransformedOrOpacity,x.label=23;case 23:return f<m.length?(b=m[f],[4,this.renderStack(b)]):[3,26];case 24:x.sent(),x.label=25;case 25:return f++,[3,23];case 26:g=0,p=r.positiveZIndex,x.label=27;case 27:return g<p.length?(b=p[g],[4,this.renderStack(b)]):[3,30];case 28:x.sent(),x.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(a,s){var o=Ja(a)?a.start:a;s===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),Ja(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},e.prototype.renderRepeat=function(r,n,a,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(a,s),this.ctx.fill(),this.ctx.translate(-a,-s)},e.prototype.resizeImage=function(r,n,a){var s;if(r.width===n&&r.height===a)return r;var o=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,l=o.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,a);var c=l.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,n,a),l},e.prototype.renderBackgroundImage=function(r){return Zn(this,void 0,void 0,function(){var n,a,s,o,l,c;return Mn(this,function(u){switch(u.label){case 0:n=r.styles.backgroundImage.length-1,a=function(A){var d,h,f,S,$,U,k,R,j,m,S,$,U,k,R,g,p,b,x,w,y,C,E,B,j,N,S,T,I,k,R,M,$,U,O,L,H,D,Q,z,q,W;return Mn(this,function(ee){switch(ee.label){case 0:if(A.type!==0)return[3,5];d=void 0,h=A.url,ee.label=1;case 1:return ee.trys.push([1,3,,4]),[4,s.context.cache.match(h)];case 2:return d=ee.sent(),[3,4];case 3:return ee.sent(),s.context.logger.error("Error loading background-image "+h),[3,4];case 4:return d&&(f=m_(r,n,[d.width,d.height,d.width/d.height]),S=f[0],$=f[1],U=f[2],k=f[3],R=f[4],j=s.ctx.createPattern(s.resizeImage(d,k,R),"repeat"),s.renderRepeat(S,j,$,U)),[3,6];case 5:Bye(A)?(m=m_(r,n,[null,null,null]),S=m[0],$=m[1],U=m[2],k=m[3],R=m[4],g=vye(A.angle,k,R),p=g[0],b=g[1],x=g[2],w=g[3],y=g[4],C=document.createElement("canvas"),C.width=k,C.height=R,E=C.getContext("2d"),B=E.createLinearGradient(b,w,x,y),nR(A.stops,p).forEach(function(oe){return B.addColorStop(oe.stop,rn(oe.color))}),E.fillStyle=B,E.fillRect(0,0,k,R),k>0&&R>0&&(j=s.ctx.createPattern(C,"repeat"),s.renderRepeat(S,j,$,U))):Cye(A)&&(N=m_(r,n,[null,null,null]),S=N[0],T=N[1],I=N[2],k=N[3],R=N[4],M=A.position.length===0?[rI]:A.position,$=xr(M[0],k),U=xr(M[M.length-1],R),O=yye(A,$,U,k,R),L=O[0],H=O[1],L>0&&H>0&&(D=s.ctx.createRadialGradient(T+$,I+U,0,T+$,I+U,L),nR(A.stops,L*2).forEach(function(oe){return D.addColorStop(oe.stop,rn(oe.color))}),s.path(S),s.ctx.fillStyle=D,L!==H?(Q=r.bounds.left+.5*r.bounds.width,z=r.bounds.top+.5*r.bounds.height,q=H/L,W=1/q,s.ctx.save(),s.ctx.translate(Q,z),s.ctx.transform(1,0,0,q,0,0),s.ctx.translate(-Q,-z),s.ctx.fillRect(T,W*(I-z)+z,k,R*W),s.ctx.restore()):s.ctx.fill())),ee.label=6;case 6:return n--,[2]}})},s=this,o=0,l=r.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return o<l.length?(c=l[o],[5,a(c)]):[3,4];case 2:u.sent(),u.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,a){return Zn(this,void 0,void 0,function(){return Mn(this,function(s){return this.path(FR(a,n)),this.ctx.fillStyle=rn(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,a,s){return Zn(this,void 0,void 0,function(){var o,l;return Mn(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(r,a,s)]:[3,2];case 1:return c.sent(),[2];case 2:return o=S1e(s,a),this.path(o),this.ctx.fillStyle=rn(r),this.ctx.fill(),l=N1e(s,a),this.path(l),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return Zn(this,void 0,void 0,function(){var n,a,s,o,l,c,u,A,d=this;return Mn(this,function(h){switch(h.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,a=!hl(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=Q1e(uA(n.backgroundClip,0),r.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),hl(n.backgroundColor)||(this.ctx.fillStyle=rn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(f){d.ctx.save();var m=$v(r.curves),g=f.inset?0:R1e,p=j1e(m,-g+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(d.path(m),d.ctx.clip(),d.mask(p)):(d.mask(m),d.ctx.clip(),d.path(p)),d.ctx.shadowOffsetX=f.offsetX.number+g,d.ctx.shadowOffsetY=f.offsetY.number,d.ctx.shadowColor=rn(f.color),d.ctx.shadowBlur=f.blur.number,d.ctx.fillStyle=f.inset?rn(f.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),h.label=2;case 2:l=0,c=0,u=s,h.label=3;case 3:return c<u.length?(A=u[c],A.style!==0&&!hl(A.color)&&A.width>0?A.style!==2?[3,5]:[4,this.renderDashedDottedBorder(A.color,A.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return A.style!==3?[3,7]:[4,this.renderDashedDottedBorder(A.color,A.width,l,r.curves,3)];case 6:return h.sent(),[3,11];case 7:return A.style!==4?[3,9]:[4,this.renderDoubleBorder(A.color,A.width,l,r.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(A.color,l,r.curves)];case 10:h.sent(),h.label=11;case 11:l++,h.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,a,s,o){return Zn(this,void 0,void 0,function(){var l,c,u,A,d,h,f,m,g,p,b,x,w,y,C,E,C,E;return Mn(this,function(B){return this.ctx.save(),l=T1e(s,a),c=FR(s,a),o===2&&(this.path(c),this.ctx.clip()),Ja(c[0])?(u=c[0].start.x,A=c[0].start.y):(u=c[0].x,A=c[0].y),Ja(c[1])?(d=c[1].end.x,h=c[1].end.y):(d=c[1].x,h=c[1].y),a===0||a===2?f=Math.abs(u-d):f=Math.abs(A-h),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(c.slice(0,2)),m=n<3?n*3:n*2,g=n<3?n*2:n,o===3&&(m=n,g=n),p=!0,f<=m*2?p=!1:f<=m*2+g?(b=f/(2*m+g),m*=b,g*=b):(x=Math.floor((f+g)/(m+g)),w=(f-x*m)/(x-1),y=(f-(x+1)*m)/x,g=y<=0||Math.abs(g-w)<Math.abs(g-y)?w:y),p&&(o===3?this.ctx.setLineDash([0,m+g]):this.ctx.setLineDash([m,g])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=rn(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Ja(c[0])&&(C=c[3],E=c[0],this.ctx.beginPath(),this.formatPath([new De(C.end.x,C.end.y),new De(E.start.x,E.start.y)]),this.ctx.stroke()),Ja(c[1])&&(C=c[1],E=c[2],this.ctx.beginPath(),this.formatPath([new De(C.end.x,C.end.y),new De(E.start.x,E.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return Zn(this,void 0,void 0,function(){var n;return Mn(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=rn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=E1e(r),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(Mz),M1e=function(t){return t instanceof wz||t instanceof bz?!0:t instanceof iI&&t.type!==Qv&&t.type!==Mv},Q1e=function(t,e){switch(t){case 0:return $v(e);case 2:return b1e(e);case 1:default:return Vv(e)}},L1e=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},H1e=["-apple-system","system-ui"],$1e=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return H1e.indexOf(e)===-1}):t},V1e=function(t){Hs(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return e.prototype.render=function(r){return Zn(this,void 0,void 0,function(){var n,a;return Mn(this,function(s){switch(s.label){case 0:return n=j2(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,K1e(n)];case 1:return a=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=rn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(Mz),K1e=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},q1e=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Zg([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Zg([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Zg([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Zg([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),G1e=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new q1e({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new h1e(this,e)}return t.instanceCount=1,t}(),lI=function(t,e){return e===void 0&&(e={}),z1e(t,e)};typeof window<"u"&&Pz.setContext(window);var z1e=function(t,e){return Zn(void 0,void 0,void 0,function(){var r,n,a,s,o,l,c,u,A,d,h,f,m,g,p,b,x,w,y,C,B,E,B,j,N,S,T,I,k,R,M,$,U,O,L,H,D,Q,z,q;return Mn(this,function(W){switch(W.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(j=e.allowTaint)!==null&&j!==void 0?j:!1,imageTimeout:(N=e.imageTimeout)!==null&&N!==void 0?N:15e3,proxy:e.proxy,useCORS:(S=e.useCORS)!==null&&S!==void 0?S:!1},s=A2({logging:(T=e.logging)!==null&&T!==void 0?T:!0,cache:e.cache},a),o={windowWidth:(I=e.windowWidth)!==null&&I!==void 0?I:n.innerWidth,windowHeight:(k=e.windowHeight)!==null&&k!==void 0?k:n.innerHeight,scrollX:(R=e.scrollX)!==null&&R!==void 0?R:n.pageXOffset,scrollY:(M=e.scrollY)!==null&&M!==void 0?M:n.pageYOffset},l=new so(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new G1e(s,l),u=($=e.foreignObjectRendering)!==null&&$!==void 0?$:!1,A={allowTaint:(U=e.allowTaint)!==null&&U!==void 0?U:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),d=new kR(c,t,A),h=d.clonedReferenceElement,h?[4,d.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=W.sent(),m=oI(h)||Xwe(h)?jxe(h.ownerDocument):Xb(c,h),g=m.width,p=m.height,b=m.left,x=m.top,w=W1e(c,h,e.backgroundColor),y={canvas:e.canvas,backgroundColor:w,scale:(L=(O=e.scale)!==null&&O!==void 0?O:n.devicePixelRatio)!==null&&L!==void 0?L:1,x:((H=e.x)!==null&&H!==void 0?H:0)+b,y:((D=e.y)!==null&&D!==void 0?D:0)+x,width:(Q=e.width)!==null&&Q!==void 0?Q:Math.ceil(g),height:(z=e.height)!==null&&z!==void 0?z:Math.ceil(p)},u?(c.logger.debug("Document cloned, using foreign object rendering"),B=new V1e(c,y),[4,B.render(h)]):[3,3];case 2:return C=W.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+b+","+x+" with size "+g+"x"+p+" using computed rendering"),c.logger.debug("Starting DOM parsing"),E=Cz(c,h),w===E.styles.backgroundColor&&(E.styles.backgroundColor=Gi.TRANSPARENT),c.logger.debug("Starting renderer for element at "+y.x+","+y.y+" with size "+y.width+"x"+y.height),B=new U1e(c,y),[4,B.render(E)];case 4:C=W.sent(),W.label=5;case 5:return(!((q=e.removeContainer)!==null&&q!==void 0)||q)&&(kR.destroy(f)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,C]}})})},W1e=function(t,e,r){var n=e.ownerDocument,a=n.documentElement?Of(t,getComputedStyle(n.documentElement).backgroundColor):Gi.TRANSPARENT,s=n.body?Of(t,getComputedStyle(n.body).backgroundColor):Gi.TRANSPARENT,o=typeof r=="string"?Of(t,r):r===null?Gi.TRANSPARENT:4294967295;return e===n.documentElement?hl(a)?hl(s)?o:s:a:o};const X1e=Ud("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function vt({className:t,variant:e,...r}){return i.jsx("div",{className:he(X1e({variant:e}),t),...r})}const lr=Qk,qv=Lk,Y1e=Hk,Qz=v.forwardRef(({className:t,...e},r)=>i.jsx($p,{ref:r,className:he("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Qz.displayName=$p.displayName;const nr=v.forwardRef(({className:t,children:e,...r},n)=>{const a=`${r.id}-description`;return i.jsxs(Y1e,{children:[i.jsx(Qz,{}),i.jsx(Vp,{ref:n,"aria-describedby":a,className:he("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:i.jsxs(hr,{children:[e,i.jsxs($b,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(tb,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})})]})});nr.displayName=Vp.displayName;const hr=({className:t,...e})=>i.jsx("div",{className:he("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});hr.displayName="DialogHeader";const An=({className:t,...e})=>i.jsx("div",{className:he("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});An.displayName="DialogFooter";const fr=v.forwardRef(({className:t,...e},r)=>i.jsx(Kp,{ref:r,className:he("text-lg font-semibold leading-none tracking-tight",t),...e}));fr.displayName=Kp.displayName;const Pn=v.forwardRef(({className:t,...e},r)=>i.jsx(qp,{ref:r,className:he("text-sm text-muted-foreground",t),...e}));Pn.displayName=qp.displayName;const OR=[{bank:"SeaBank",accountNumber:"901958730549",accountName:"Yoga Prasetya"},{bank:"DANA",accountNumber:"081394586882",accountName:"Yoga Prasetya"}],J1e=()=>{const{id:t}=Ip(),e=kt(),{toast:r}=Ms(),{user:n}=Pr(),a=v.useRef(null),[s,o]=v.useState(null),[l,c]=v.useState(null),[u,A]=v.useState(!0),[d,h]=v.useState(null),[f,m]=v.useState(!1),[g,p]=v.useState(null),[b,x]=v.useState(!1),[w,y]=v.useState(null);v.useEffect(()=>{const N=async()=>{if(!(!n||!t))try{A(!0);const{data:I,error:k}=await Z.from("orders").select(`
            *,
            order_items(*)
          `).eq("id",t).eq("user_id",n.id).single();if(k)throw k;let R=null;if(I.shipping_address_id&&I.shipping_address_id!=="undefined"){const{data:M,error:$}=await Z.from("addresses").select("*").eq("id",I.shipping_address_id).single();$||(R={id:M.id,name:M.name,street:M.street,city:M.city,state:M.state,zip:M.zip,country:M.country,isDefault:M.is_default,user_id:M.user_id,created_at:M.created_at})}if(I.shipping_method_id){const{data:M,error:$}=await Z.from("shipping_methods").select("*").eq("id",I.shipping_method_id).single();!$&&M&&p(M)}else{const{data:M,error:$}=await Z.from("shipping_methods").select("*").limit(1).single();!$&&M&&p(M)}if(I){const M=I.order_items.map(L=>({id:L.id,productId:L.product_id,productName:L.product_name,quantity:L.quantity,price:L.price}));let $=I.payment_method;T($)||($="bank-transfer");let U=I.status;S(U)||(U="pending");const O={id:I.id,userId:I.user_id,date:I.date,status:U,paymentMethod:$,total:I.total,trackingNumber:I.tracking_number||"",items:M,shippingAddressId:I.shipping_address_id,shippingMethodId:I.shipping_method_id,voucher_id:I.voucher_id,discount_amount:I.discount_amount||0};if(o(O),c(R),I.voucher_id){const{data:L,error:H}=await Z.from("vouchers").select("*").eq("id",I.voucher_id).single();!H&&L&&y({code:L.code,discount_type:L.discount_type})}if(O.paymentMethod==="bank-transfer"){const L=Math.floor(Math.random()*OR.length);h(OR[L])}}}catch(I){console.error("Error fetching order details:",I),r({title:"Error",description:"Gagal memuat detail pesanan",variant:"destructive"})}finally{A(!1)}},S=I=>["pending","processing","shipped","delivered","cancelled"].includes(I),T=I=>["bank-transfer","credit-card","cod","qris"].includes(I);N()},[t,n,r]);const C=N=>{switch(N){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-500";case"processing":return"bg-blue-100 text-blue-800 border-blue-500";case"shipped":return"bg-purple-100 text-purple-800 border-purple-500";case"delivered":return"bg-green-100 text-green-800 border-green-500";case"cancelled":return"bg-red-100 text-red-800 border-red-500";default:return"bg-gray-100 text-gray-800 border-gray-500"}},E=N=>{switch(N){case"pending":return"Menunggu Pembayaran";case"processing":return"Diproses";case"shipped":return"Dikirim";case"delivered":return"Terkirim";case"cancelled":return"Dibatalkan";default:return N.charAt(0).toUpperCase()+N.slice(1)}},B=async()=>{if(a.current)try{x(!0),f||(m(!0),await new Promise(M=>setTimeout(M,500)));const N=a.current,S=N.querySelector(".hidden-on-print");let T="";S&&(T=S.style.display,S.style.display="none"),await new Promise(M=>setTimeout(M,100));const I=await lI(N,{scale:2,backgroundColor:"#ffffff",logging:!1,useCORS:!0,allowTaint:!0});S&&(S.style.display=T);const k=I.toDataURL("image/png"),R=document.createElement("a");R.href=k,R.download=`Struk-Pesanan-${s==null?void 0:s.id.substring(0,8)}.png`,R.click(),r({title:"Struk Berhasil Disimpan",description:"Struk pesanan telah disimpan sebagai gambar",variant:"default"})}catch(N){console.error("Error saving receipt as image:",N),r({title:"Gagal Menyimpan Struk",description:"Terjadi kesalahan saat menyimpan struk sebagai gambar",variant:"destructive"})}finally{x(!1)}},j=()=>{a.current&&(m(!0),setTimeout(()=>{const N=a.current;if(!N)return;const S=window.open("","_blank");if(!S){r({title:"Gagal membuka jendela cetak",description:"Mohon izinkan popup untuk situs ini",variant:"destructive"});return}S.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Struk Pesanan #${s==null?void 0:s.id.substring(0,8)}</title>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1">
          <style>
            @page {
              size: 80mm 297mm; /* Standard thermal receipt size */
              margin: 0;
            }
            body {
              font-family: system-ui, -apple-system, sans-serif;
              font-size: 10px;
              line-height: 1.2;
              width: 76mm;
              margin: 2mm auto;
              padding: 0;
            }
            * {
              box-sizing: border-box;
            }
            .receipt-header { 
              text-align: center;
              margin-bottom: 8px;
            }
            .receipt-header h2 {
              font-size: 12px;
              margin: 0 0 4px 0;
            }
            .receipt-items {
              border-top: 1px dashed #ccc;
              border-bottom: 1px dashed #ccc;
              padding: 8px 0;
              margin: 8px 0;
            }
            .receipt-item {
              display: flex;
              justify-content: space-between;
              margin-bottom: 4px;
            }
            .receipt-total {
              font-weight: bold;
              display: flex;
              justify-content: space-between;
              margin-top: 8px;
            }
            .receipt-footer {
              text-align: center;
              margin-top: 12px;
              font-size: 9px;
            }
            .receipt-store-info {
              text-align: center;
              font-size: 9px;
              margin-bottom: 8px;
            }
            .receipt-border {
              border-top: 1px dashed #ccc;
              margin: 8px 0;
            }
            .receipt-payment-info {
              font-size: 9px;
              margin-top: 8px;
            }
            .receipt-customer-info {
              font-size: 9px;
              margin: 8px 0;
            }
            .receipt-barcode {
              text-align: center;
              margin-top: 12px;
              font-size: 9px;
              letter-spacing: 2px;
            }
            .receipt-thank-you {
              text-align: center;
              margin-top: 12px;
              font-weight: bold;
            }
            .print-button {
              display: block;
              width: 100%;
              background: #e63946;
              color: white;
              border: none;
              padding: 8px;
              font-size: 14px;
              font-weight: bold;
              border-radius: 4px;
              margin: 16px 0;
              cursor: pointer;
            }
            @media print {
              .print-button {
                display: none;
              }
            }
          </style>
        </head>
        <body>
          ${N.innerHTML}
          <button class="print-button" onclick="window.print(); setTimeout(() => window.close(), 500);">Cetak Struk</button>
        </body>
        </html>
      `),S.document.close(),S.focus()},500))};return u?i.jsx(Kt,{children:i.jsx("div",{className:"p-4 flex flex-col items-center justify-center min-h-[50vh]",children:i.jsx("p",{children:"Tunggu Sebentar..."})})}):s?i.jsxs(Kt,{children:[i.jsxs("div",{className:"flex items-center p-4 bg-background sticky top-0 z-10 border-b",children:[i.jsx(G,{variant:"ghost",size:"icon",onClick:()=>e("/"),className:"mr-2",children:i.jsx(ks,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold",children:"Detail Pesanan"})]}),i.jsxs("div",{className:"container max-w-md mx-auto p-4 pb-20",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID Pesanan: ",s.id.substring(0,8),"..."]}),i.jsx(vt,{className:C(s.status),children:E(s.status)})]}),i.jsxs("div",{className:"text-sm text-muted-foreground mb-4",children:["Pesanan dibuat pada ",new Date(s.date).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})]}),s.trackingNumber&&i.jsxs("div",{className:"bg-secondary p-3 rounded-md flex items-center mb-4",children:[i.jsx(HE,{className:"h-5 w-5 mr-2 text-flame-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Nomor Resi"}),i.jsx("p",{className:"text-xs",children:s.trackingNumber})]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("h2",{className:"font-semibold",children:"Daftar Pesanan"}),i.jsxs(G,{size:"sm",variant:"outline",className:"flex items-center gap-1",onClick:j,children:[i.jsx(LE,{className:"h-4 w-4"}),i.jsx("span",{children:"Cetak Struk"})]})]}),i.jsx("div",{className:"space-y-3",children:s.items.map(N=>i.jsx(_e,{className:"overflow-hidden shadow-sm",children:i.jsx(Be,{className:"p-3",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"h-16 w-16 bg-charcoal-100 rounded flex-shrink-0 flex items-center justify-center",children:i.jsx(Ji,{className:"h-8 w-8 text-charcoal-400"})}),i.jsx("div",{className:"flex-grow",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{children:[i.jsx(dt,{to:`/product/${N.productId}`,children:i.jsx("h3",{className:"font-medium text-sm line-clamp-2",children:N.productName})}),i.jsx("div",{className:"flex justify-between items-center mt-1",children:i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Jumlah: ",N.quantity,"  ",ve(N.price)]})})]}),i.jsx("div",{className:"text-right",children:i.jsx("div",{className:"font-medium",children:ve(N.price*N.quantity)})})]})})]})})},N.id))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"font-semibold mb-3",children:"Ringkasan Pesanan"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Subtotal"}),i.jsx("span",{children:ve(s.items.reduce((N,S)=>N+S.price*S.quantity,0))})]}),s.discount_amount>0&&i.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[i.jsxs("span",{children:["Diskon Voucher ",w!=null&&w.code?`(${w.code})`:""]}),i.jsxs("span",{children:["-",ve(s.discount_amount)]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{children:["Pengiriman (",g==null?void 0:g.name,")"]}),i.jsx("span",{children:ve((g==null?void 0:g.cost)||0)})]}),i.jsx(Gn,{className:"my-2"}),i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("span",{children:"Total"}),i.jsx("span",{children:ve(s.total)})]})]})]}),l&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"font-semibold mb-3",children:"Alamat Pengiriman"}),i.jsx(_e,{children:i.jsxs(Be,{className:"p-3",children:[i.jsx("p",{className:"font-medium",children:l.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:l.street}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.city,", ",l.state," ",l.zip]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:l.country})]})})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"font-semibold mb-3",children:"Metode Pembayaran"}),i.jsx(_e,{children:i.jsxs(Be,{className:"p-3 flex items-center",children:[s.paymentMethod==="bank-transfer"&&i.jsxs(i.Fragment,{children:[i.jsx(EH,{className:"h-5 w-5 mr-3 text-flame-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Transfer Bank"}),d&&i.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.bank," - ",d.accountNumber]})]})]}),s.paymentMethod==="credit-card"&&i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"h-5 w-5 mr-3 text-flame-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[i.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",strokeWidth:"2"}),i.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10",strokeWidth:"2"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Kartu Kredit"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"**** **** **** 1234"})]})]}),s.paymentMethod==="cod"&&i.jsxs(i.Fragment,{children:[i.jsx(HE,{className:"h-5 w-5 mr-3 text-flame-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Bayar di Tempat (COD)"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Pembayaran saat barang diterima"})]})]}),s.paymentMethod==="qris"&&i.jsxs(i.Fragment,{children:[i.jsx(hT,{className:"h-5 w-5 mr-3 text-flame-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"QRIS"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Pembayaran menggunakan QRIS"})]})]})]})})]}),i.jsx("div",{className:"flex space-x-3 mb-6",children:i.jsxs(G,{onClick:()=>m(!0),className:"flex-1",children:[i.jsx(LE,{className:"mr-2 h-4 w-4"}),"Lihat Struk"]})}),i.jsx(lr,{open:f,onOpenChange:m,children:i.jsxs(nr,{className:"max-w-md",children:[i.jsx(hr,{children:i.jsx(fr,{children:"Struk Pesanan"})}),i.jsxs("div",{ref:a,className:"receipt-container",children:[i.jsxs("div",{className:"receipt-header",children:[i.jsx("h2",{className:"receipt-title",children:"Struk Belanja"}),i.jsxs("div",{className:"receipt-store-info",children:[i.jsx("p",{className:"receipt-store-name",children:i.jsx("strong",{children:"Jaya Perkasa Charcoal"})}),i.jsx("p",{children:"Jl.legok conggeang kec.paseh , sumedang"}),i.jsx("p",{children:"Telp: 0813-9458-6882"})]}),i.jsx("div",{className:"receipt-border"}),i.jsx("p",{className:"mt-3 mb-1",children:i.jsxs("strong",{children:["Pesanan #",s.id.substring(0,8)]})}),i.jsx("p",{children:new Date(s.date).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),l&&i.jsxs("div",{className:"receipt-customer-info",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Dikirim Ke:"})," ",l.name]}),i.jsx("p",{children:l.street}),i.jsx("p",{children:`${l.city}, ${l.state} ${l.zip}`})]}),i.jsx("div",{className:"receipt-border"}),i.jsx("div",{className:"receipt-items",children:s.items.map((N,S)=>i.jsxs("div",{className:"receipt-item",children:[i.jsxs("div",{children:[i.jsx("p",{children:N.productName}),i.jsxs("p",{children:["Jml: ",N.quantity,"  ",ve(N.price)]})]}),i.jsx("span",{children:ve(N.quantity*N.price)})]},S))}),i.jsx("div",{className:"receipt-border"}),i.jsxs("div",{children:[i.jsxs("div",{className:"receipt-item",children:[i.jsx("span",{children:"Subtotal"}),i.jsx("span",{children:ve(s.items.reduce((N,S)=>N+S.price*S.quantity,0))})]}),s.discount_amount>0&&i.jsxs("div",{className:"receipt-item",style:{color:"#22c55e"},children:[i.jsxs("span",{children:["Diskon Voucher ",w!=null&&w.code?`(${w.code})`:""]}),i.jsxs("span",{children:["-",ve(s.discount_amount)]})]}),g&&i.jsxs("div",{className:"receipt-item",children:[i.jsxs("span",{children:["Pengiriman (",g.name,")"]}),i.jsx("span",{children:ve(g.cost)})]}),i.jsxs("div",{className:"receipt-total",children:[i.jsx("span",{children:"Total"}),i.jsx("span",{children:ve(s.total)})]})]}),i.jsxs("div",{className:"receipt-payment-info",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Metode Pembayaran:"})," ",s.paymentMethod==="bank-transfer"?"Transfer Bank":s.paymentMethod==="qris"?"QRIS":s.paymentMethod==="cod"?"Bayar di Tempat (COD)":"Pembayaran Standar"]}),s.paymentMethod==="bank-transfer"&&d&&i.jsxs("p",{children:["Bank: ",d.bank," - ",d.accountNumber]})]}),i.jsx("div",{className:"receipt-barcode",children:i.jsxs("p",{children:["*******",s.id.substring(0,8),"*******"]})}),i.jsx("div",{className:"receipt-thank-you",children:i.jsx("p",{children:"Jika ingin mendapatkan harga murah atau diskon segera hubungi admin"})}),i.jsxs("div",{className:"receipt-footer",children:[i.jsx("p",{children:"Layanan pelanggan: 0813-9458-6882"}),i.jsx("p",{children:"Jika Arang Belum Di Kirim Silahkan Chat Admin Dan Berikan Struk Bukti Pembayaran"}),i.jsx("p",{children:"Terima kasih"})]}),i.jsxs("div",{className:"mt-4 hidden-on-print space-y-2",children:[i.jsx(G,{onClick:()=>window.print(),className:"w-full",children:"Cetak Struk"}),i.jsx(G,{onClick:B,className:"w-full bg-green-600 hover:bg-green-700",disabled:b,children:b?i.jsxs(i.Fragment,{children:[i.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):i.jsxs(i.Fragment,{children:[i.jsx(al,{className:"mr-2 h-4 w-4"}),"Simpan Sebagai Gambar"]})})]})]})]})})]})]}):i.jsx(Kt,{children:i.jsxs("div",{className:"p-4 flex flex-col items-center justify-center min-h-[50vh]",children:[i.jsx("p",{className:"text-muted-foreground",children:"Pesanan tidak ditemukan"}),i.jsx(G,{onClick:()=>e("/"),className:"mt-4 bg-flame-500 hover:bg-flame-600",children:"Kembali ke Beranda"})]})})};function Z1e(){const{user:t}=Pr(),[e,r]=v.useState([]),[n,a]=v.useState(!0);v.useEffect(()=>{async function c(){if(t){a(!0);try{const{data:u,error:A}=await Z.from("orders").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(A)throw A;r(u||[])}catch(u){console.error("Error fetching orders:",u)}finally{a(!1)}}}c()},[t]);const s=c=>new Date(c).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),o=c=>{switch(c.toLowerCase()){case"pending":return i.jsx(vt,{variant:"outline",className:"bg-amber-100 text-amber-800 hover:bg-amber-100",children:"Menunggu Pembayaran"});case"processing":return i.jsx(vt,{variant:"outline",className:"bg-blue-100 text-blue-800 hover:bg-blue-100",children:"Diproses"});case"shipped":return i.jsx(vt,{variant:"outline",className:"bg-indigo-100 text-indigo-800 hover:bg-indigo-100",children:"Dikirim"});case"delivered":return i.jsx(vt,{variant:"outline",className:"bg-green-100 text-green-800 hover:bg-green-100",children:"Diterima"});case"canceled":return i.jsx(vt,{variant:"outline",className:"bg-red-100 text-red-800 hover:bg-red-100",children:"Dibatalkan"});case"completed":return i.jsx(vt,{variant:"outline",className:"bg-emerald-100 text-emerald-800 hover:bg-emerald-100",children:"Selesai"});default:return i.jsx(vt,{variant:"outline",children:c})}},l=c=>{switch(c){case"bank-transfer":return"Transfer Bank";case"cash-on-delivery":return"Bayar di Tempat (COD)";case"e-wallet":return"E-Wallet";case"credit-card":return"Kartu Kredit";default:return c}};return i.jsxs(Kt,{children:[i.jsxs("div",{className:"p-4 flex items-center shadow-sm mb-2",children:[i.jsx(dt,{to:"/",className:"text-charcoal-600 mr-2",children:i.jsx(ks,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-xl font-bold flex-1",children:"Daftar Pesanan"})]}),i.jsx("div",{className:"p-4",children:n?i.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[i.jsx(zt,{className:"h-8 w-8 animate-spin text-flame-500 mb-2"}),i.jsx("p",{className:"text-muted-foreground",children:"Memuat daftar pesanan..."})]}):e.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[i.jsx(Ji,{className:"h-16 w-16 text-muted-foreground mb-4"}),i.jsx("h2",{className:"text-lg font-medium mb-2",children:"Belum Ada Pesanan"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Anda belum memiliki pesanan. Mulailah berbelanja untuk melihat pesanan Anda di sini."}),i.jsx(G,{asChild:!0,className:"bg-flame-500 hover:bg-flame-600",children:i.jsx(dt,{to:"/",children:"Mulai Belanja"})})]}):i.jsx("div",{className:"space-y-4",children:e.map(c=>i.jsx(dt,{to:`/order/${c.id}`,children:i.jsx(_e,{className:"hover:border-flame-200 transition-colors",children:i.jsxs(Be,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ji,{className:"h-5 w-5 text-flame-500 mr-2"}),i.jsxs("span",{className:"font-medium",children:["#",c.id.substring(0,8)]})]}),o(c.status)]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"text-sm text-muted-foreground flex items-center",children:[i.jsx(SH,{className:"h-4 w-4 mr-1"}),"Tanggal"]}),i.jsx("div",{className:"text-sm",children:s(c.created_at)})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Metode Pembayaran"}),i.jsx("div",{className:"text-sm",children:l(c.payment_method)})]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:c.payment_status==="paid"?"Sudah Dibayar":"Menunggu Pembayaran"}),i.jsx("div",{className:"font-medium text-flame-700",children:ve(c.total)})]})]})})},c.id))})})]})}const e_e=zr.object({email:zr.string().email({message:"Silakan masukkan alamat email yang valid"}),password:zr.string().min(1,{message:"Kata sandi wajib diisi"})}),t_e=zr.object({email:zr.string().email({message:"Silakan masukkan alamat email yang valid"})}),r_e=()=>{const t=kt(),{toast:e}=Ms(),[r,n]=v.useState(!1),[a,s]=v.useState(!1),[o,l]=v.useState(!1),c=ra({resolver:na(e_e),defaultValues:{email:"",password:""}}),u=ra({resolver:na(t_e),defaultValues:{email:""}}),A=async h=>{s(!0);try{const{error:f}=await Z.auth.resetPasswordForEmail(h.email,{redirectTo:`${window.location.origin}/reset-password`});if(f)throw f;e({title:"Email reset password telah dikirim",description:"Silakan periksa email Anda untuk melanjutkan proses reset password."}),l(!1)}catch(f){e({title:"Gagal mengirimkan reset password",description:f.message||"Terjadi kesalahan. Silakan coba lagi.",variant:"destructive"})}finally{s(!1)}},d=async h=>{n(!0);try{const{error:f}=await Z.auth.signInWithPassword({email:h.email,password:h.password});if(f)throw f;e({title:"Login berhasil",description:"Anda telah berhasil masuk."}),t("/")}catch(f){console.error("Login error:",f),e({title:"Login gagal",description:f.message||"Silakan periksa kredensial Anda.",variant:"destructive"})}finally{n(!1)}};return i.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 bg-background",children:[i.jsxs("div",{className:"w-full max-w-md space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Selamat Datang Kembali"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Masuk ke akun Anda"})]}),i.jsx(zn,{...c,children:i.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-4",children:[i.jsx(Qe,{control:c.control,name:"email",render:({field:h})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Email"}),i.jsx(Me,{children:i.jsx(ue,{type:"email",placeholder:"namaemailmu@email.com",...h})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:c.control,name:"password",render:({field:h})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Kata Sandi"}),i.jsx(Me,{children:i.jsx(ue,{type:"password",placeholder:"",...h})}),i.jsx(qe,{})]})}),i.jsx("div",{className:"text-right",children:i.jsx("button",{type:"button",onClick:()=>l(!0),className:"text-sm text-flame-500 hover:underline",children:"Lupa Password?"})}),i.jsx(G,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:r,children:r?i.jsxs(i.Fragment,{children:[i.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Sedang masuk..."]}):"Masuk"})]})}),i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Belum memiliki akun?"," ",i.jsx(dt,{to:"/register",className:"text-flame-500 hover:underline",children:"Daftar"})]})})]}),i.jsx(lr,{open:o,onOpenChange:l,children:i.jsxs(nr,{className:"sm:max-w-md",children:[i.jsxs(hr,{children:[i.jsx(fr,{children:"Reset Password"}),i.jsx(Pn,{children:"Masukkan alamat email Anda dan kami akan mengirimkan link untuk reset password."})]}),i.jsx(zn,{...u,children:i.jsxs("form",{onSubmit:u.handleSubmit(A),className:"space-y-4 py-4",children:[i.jsx(Qe,{control:u.control,name:"email",render:({field:h})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Email"}),i.jsx(Me,{children:i.jsx(ue,{type:"email",placeholder:"namaemailmu@email.com",autoComplete:"email",...h})}),i.jsx(qe,{})]})}),i.jsxs(An,{className:"sm:justify-between mt-4",children:[i.jsx(G,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Batal"}),i.jsx(G,{type:"submit",className:"bg-flame-500 hover:bg-flame-600",disabled:a,children:a?i.jsxs(i.Fragment,{children:[i.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Kirim Link Reset"})]})]})})]})})]})},Lz=t=>{let e=t.replace(/\D/g,"");return e.startsWith("0")&&(e="62"+e.substring(1)),e.startsWith("62")||(e="62"+e),e},n_e=zr.object({name:zr.string().min(2,{message:"Nama harus minimal 2 karakter"}),email:zr.string().email({message:"Silakan masukkan alamat email yang valid"}),whatsapp:zr.string().min(10,{message:"Nomor WhatsApp tidak valid"}).max(15,{message:"Nomor WhatsApp tidak valid"}).regex(/^(62|0)[0-9]{9,13}$/,{message:"Format nomor WhatsApp harus diawali 62/0 (contoh: 6281234567890 atau 081234567890)"}),password:zr.string().min(8,{message:"Kata sandi harus minimal 8 karakter"}),confirmPassword:zr.string()}).refine(t=>t.password===t.confirmPassword,{message:"Kata sandi tidak cocok",path:["confirmPassword"]}),a_e=()=>{const t=kt(),{toast:e}=Ms(),{register:r}=Pr(),[n,a]=v.useState(!1),s=ra({resolver:na(n_e),defaultValues:{name:"",email:"",whatsapp:"",password:"",confirmPassword:""}}),o=async l=>{var c;a(!0);try{const u=Lz(l.whatsapp);await r(l.name,l.email,l.password);const{data:A,error:d}=await Z.auth.getSession();if(d)throw d;if((c=A==null?void 0:A.session)!=null&&c.user){const{error:h}=await Z.from("profiles").update({phone:u}).eq("id",A.session.user.id);h&&(console.error("Error saving WhatsApp number to profile:",h),e({variant:"destructive",title:"Terjadi kesalahan",description:"Gagal menyimpan nomor WhatsApp. Silakan update di halaman profil."}))}e({title:"Pendaftaran berhasil",description:"Akun Anda telah dibuat. Silakan periksa email Anda untuk verifikasi akun."}),t("/")}catch(u){console.error("Registration error:",u),e({title:"Pendaftaran gagal",description:u.message||"Terjadi kesalahan saat pendaftaran.",variant:"destructive"})}finally{a(!1)}};return i.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-background",children:i.jsxs("div",{className:"w-full max-w-md space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Buat Akun"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Daftar untuk mulai menggunakan layanan kami"})]}),i.jsx(zn,{...s,children:i.jsxs("form",{onSubmit:s.handleSubmit(o),className:"space-y-4",children:[i.jsx(Qe,{control:s.control,name:"name",render:({field:l})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Nama"}),i.jsx(Me,{children:i.jsx(ue,{placeholder:"Nama Anda",...l})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:s.control,name:"email",render:({field:l})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Email"}),i.jsx(Me,{children:i.jsx(ue,{type:"email",placeholder:"namaemailkamu@email.com",...l})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:s.control,name:"whatsapp",render:({field:l})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Nomor WhatsApp"}),i.jsx(Me,{children:i.jsx(ue,{type:"tel",placeholder:"6281234567890 atau 081234567890",...l})}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Format: Diawali dengan 62 atau 0, contoh: 6281234567890 atau 081234567890"}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:s.control,name:"password",render:({field:l})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Kata Sandi"}),i.jsx(Me,{children:i.jsx(ue,{type:"password",placeholder:"",...l})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:s.control,name:"confirmPassword",render:({field:l})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Konfirmasi Kata Sandi"}),i.jsx(Me,{children:i.jsx(ue,{type:"password",placeholder:"",...l})}),i.jsx(qe,{})]})}),i.jsx(G,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:n,children:n?"Mendaftar...":"Daftar"})]})}),i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Sudah memiliki akun?"," ",i.jsx(dt,{to:"/login",className:"text-flame-500 hover:underline",children:"Masuk"})]})})]})})},s_e=zr.object({email:zr.string().email({message:"Please enter a valid email address"}),password:zr.string().min(1,{message:"Password is required"})}),i_e=()=>{const t=kt(),{toast:e}=Ms(),{user:r,profile:n}=Pr(),[a,s]=v.useState(!1);v.useEffect(()=>{r&&n&&(n.role==="admin"||n.role==="manager")&&t("/admin")},[r,n,t]);const o=ra({resolver:na(s_e),defaultValues:{email:"",password:""}}),l=async c=>{s(!0);try{const{error:u}=await Z.auth.signInWithPassword({email:c.email,password:c.password});if(u)throw u;e({title:"Login successful",description:"You are now logged in."})}catch(u){console.error("Login error:",u),e({title:"Login failed",description:u.message||"Invalid email or password.",variant:"destructive"})}finally{s(!1)}};return i.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-background",children:i.jsxs("div",{className:"w-full max-w-md space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Admin Login"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Log in to access the admin panel"})]}),i.jsx(zn,{...o,children:i.jsxs("form",{onSubmit:o.handleSubmit(l),className:"space-y-4",children:[i.jsx(Qe,{control:o.control,name:"email",render:({field:c})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Email"}),i.jsx(Me,{children:i.jsx(ue,{type:"email",placeholder:"Your email",...c})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:o.control,name:"password",render:({field:c})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Password"}),i.jsx(Me,{children:i.jsx(ue,{type:"password",placeholder:"Your password",...c})}),i.jsx(qe,{})]})}),i.jsx(G,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:a,children:a?"Logging in...":"Login"})]})})]})})},o_e=zr.object({name:zr.string().min(2,{message:"Name must be at least 2 characters"}),email:zr.string().email({message:"Please enter a valid email address"}),password:zr.string().min(8,{message:"Password must be at least 8 characters"}),role:zr.enum(["admin","manager"],{required_error:"Please select a role"})}),l_e=()=>{const t=kt(),{toast:e}=Ms(),[r,n]=v.useState(!1),a=ra({resolver:na(o_e),defaultValues:{name:"",email:"",password:"",role:"manager"}}),s=async o=>{n(!0);try{const{error:l,data:c}=await Z.auth.signUp({email:o.email,password:o.password,options:{data:{name:o.name,role:o.role}}});if(l)throw l;if(c.user){const{error:u}=await Z.from("profiles").upsert({id:c.user.id,name:o.name,email:o.email,role:o.role});if(u)throw u}e({title:"Registration successful",description:"Your account has been created and you are now logged in."}),t("/admin")}catch(l){console.error("Registration error:",l),e({title:"Registration failed",description:l.message||"An error occurred during registration.",variant:"destructive"})}finally{n(!1)}};return i.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-background",children:i.jsxs("div",{className:"w-full max-w-md space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Admin Registration"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Create an admin or manager account"})]}),i.jsx(zn,{...a,children:i.jsxs("form",{onSubmit:a.handleSubmit(s),className:"space-y-4",children:[i.jsx(Qe,{control:a.control,name:"name",render:({field:o})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Name"}),i.jsx(Me,{children:i.jsx(ue,{placeholder:"Your name",...o})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:a.control,name:"email",render:({field:o})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Email"}),i.jsx(Me,{children:i.jsx(ue,{type:"email",placeholder:"Your email",...o})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:a.control,name:"password",render:({field:o})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Password"}),i.jsx(Me,{children:i.jsx(ue,{type:"password",placeholder:"Your password",...o})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:a.control,name:"role",render:({field:o})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Role"}),i.jsxs(Cn,{onValueChange:o.onChange,defaultValue:o.value,children:[i.jsx(Me,{children:i.jsx(ln,{children:i.jsx(jn,{placeholder:"Select a role"})})}),i.jsxs(cn,{children:[i.jsx(mt,{value:"admin",children:"Admin"}),i.jsx(mt,{value:"manager",children:"Manager"})]})]}),i.jsx(qe,{})]})}),i.jsx(G,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:r,children:r?"Registering...":"Register"})]})}),i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",i.jsx(dt,{to:"/admin-login",className:"text-flame-500 hover:underline",children:"Login"})]})})]})})};function Zt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function io(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function c_e(t,e){const r=Zt(t);return isNaN(e)?io(t,NaN):(r.setDate(r.getDate()+e),r)}const Hz=6048e5,u_e=864e5,w0=43200,RR=1440;let A_e={};function Yp(){return A_e}function iu(t,e){var l,c,u,A;const r=Yp(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((A=(u=r.locale)==null?void 0:u.options)==null?void 0:A.weekStartsOn)??0,a=Zt(t),s=a.getDay(),o=(s<n?7:0)+s-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Gv(t){return iu(t,{weekStartsOn:1})}function $z(t){const e=Zt(t),r=e.getFullYear(),n=io(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Gv(n),s=io(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=Gv(s);return e.getTime()>=a.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function zv(t){const e=Zt(t);return e.setHours(0,0,0,0),e}function Wv(t){const e=Zt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function d_e(t,e){const r=zv(t),n=zv(e),a=+r-Wv(r),s=+n-Wv(n);return Math.round((a-s)/u_e)}function h_e(t){const e=$z(t),r=io(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Gv(r)}function ox(t,e){const r=Zt(t),n=Zt(e),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function Jp(t){return io(t,Date.now())}function Vz(t,e){const r=zv(t),n=zv(e);return+r==+n}function f_e(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function m_e(t){if(!f_e(t)&&typeof t!="number")return!1;const e=Zt(t);return!isNaN(Number(e))}function p_e(t,e){const r=Zt(t),n=Zt(e),a=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return a*12+s}function g_e(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function x_e(t,e){return+Zt(t)-+Zt(e)}function v_e(t){const e=Zt(t);return e.setHours(23,59,59,999),e}function y_e(t){const e=Zt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function b_e(t){const e=Zt(t);return+v_e(e)==+y_e(e)}function w_e(t,e){const r=Zt(t),n=Zt(e),a=ox(r,n),s=Math.abs(p_e(r,n));let o;if(s<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*s);let l=ox(r,n)===-a;b_e(Zt(t))&&s===1&&ox(t,n)===1&&(l=!1),o=a*(s-Number(l))}return o===0?0:o}function __e(t,e,r){const n=x_e(t,e)/1e3;return g_e(r==null?void 0:r.roundingMethod)(n)}function B_e(t){const e=Zt(t),r=io(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const C_e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},j_e=(t,e,r)=>{let n;const a=C_e[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function _A(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const E_e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},S_e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},N_e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},T_e={date:_A({formats:E_e,defaultWidth:"full"}),time:_A({formats:S_e,defaultWidth:"full"}),dateTime:_A({formats:N_e,defaultWidth:"full"})},k_e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},I_e=(t,e,r,n)=>k_e[t];function ti(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return a[s]}}const P_e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},F_e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},D_e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},O_e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},R_e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},U_e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},M_e=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Q_e={ordinalNumber:M_e,era:ti({values:P_e,defaultWidth:"wide"}),quarter:ti({values:F_e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ti({values:D_e,defaultWidth:"wide"}),day:ti({values:O_e,defaultWidth:"wide"}),dayPeriod:ti({values:R_e,defaultWidth:"wide",formattingValues:U_e,defaultFormattingWidth:"wide"})};function ri(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(a);if(!s)return null;const o=s[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?H_e(l,d=>d.test(o)):L_e(l,d=>d.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const A=e.slice(o.length);return{value:u,rest:A}}}function L_e(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function H_e(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Kz(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(a.length);return{value:o,rest:l}}}const $_e=/^(\d+)(th|st|nd|rd)?/i,V_e=/\d+/i,K_e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},q_e={any:[/^b/i,/^(a|c)/i]},G_e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},z_e={any:[/1/i,/2/i,/3/i,/4/i]},W_e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},X_e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Y_e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},J_e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Z_e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},eBe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},tBe={ordinalNumber:Kz({matchPattern:$_e,parsePattern:V_e,valueCallback:t=>parseInt(t,10)}),era:ri({matchPatterns:K_e,defaultMatchWidth:"wide",parsePatterns:q_e,defaultParseWidth:"any"}),quarter:ri({matchPatterns:G_e,defaultMatchWidth:"wide",parsePatterns:z_e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ri({matchPatterns:W_e,defaultMatchWidth:"wide",parsePatterns:X_e,defaultParseWidth:"any"}),day:ri({matchPatterns:Y_e,defaultMatchWidth:"wide",parsePatterns:J_e,defaultParseWidth:"any"}),dayPeriod:ri({matchPatterns:Z_e,defaultMatchWidth:"any",parsePatterns:eBe,defaultParseWidth:"any"})},qz={code:"en-US",formatDistance:j_e,formatLong:T_e,formatRelative:I_e,localize:Q_e,match:tBe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function rBe(t){const e=Zt(t);return d_e(e,B_e(e))+1}function nBe(t){const e=Zt(t),r=+Gv(e)-+h_e(e);return Math.round(r/Hz)+1}function Gz(t,e){var A,d,h,f;const r=Zt(t),n=r.getFullYear(),a=Yp(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(A=e==null?void 0:e.locale)==null?void 0:A.options)==null?void 0:d.firstWeekContainsDate)??a.firstWeekContainsDate??((f=(h=a.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=io(t,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=iu(o,e),c=io(t,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=iu(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function aBe(t,e){var l,c,u,A;const r=Yp(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((A=(u=r.locale)==null?void 0:u.options)==null?void 0:A.firstWeekContainsDate)??1,a=Gz(t,e),s=io(t,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),iu(s,e)}function sBe(t,e){const r=Zt(t),n=+iu(r,e)-+aBe(r,e);return Math.round(n/Hz)+1}function tr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Eo={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return tr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):tr(r+1,2)},d(t,e){return tr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return tr(t.getHours()%12||12,e.length)},H(t,e){return tr(t.getHours(),e.length)},m(t,e){return tr(t.getMinutes(),e.length)},s(t,e){return tr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return tr(a,e.length)}},Wu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},UR={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Eo.y(t,e)},Y:function(t,e,r,n){const a=Gz(t,n),s=a>0?a:1-a;if(e==="YY"){const o=s%100;return tr(o,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):tr(s,e.length)},R:function(t,e){const r=$z(t);return tr(r,e.length)},u:function(t,e){const r=t.getFullYear();return tr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return tr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return tr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Eo.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return tr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=sBe(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):tr(a,e.length)},I:function(t,e,r){const n=nBe(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):tr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Eo.d(t,e)},D:function(t,e,r){const n=rBe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):tr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return tr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return tr(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return tr(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=Wu.noon:n===0?a=Wu.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=Wu.evening:n>=12?a=Wu.afternoon:n>=4?a=Wu.morning:a=Wu.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Eo.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Eo.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):tr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):tr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Eo.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Eo.s(t,e)},S:function(t,e){return Eo.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return QR(n);case"XXXX":case"XX":return Ac(n);case"XXXXX":case"XXX":default:return Ac(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return QR(n);case"xxxx":case"xx":return Ac(n);case"xxxxx":case"xxx":default:return Ac(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+MR(n,":");case"OOOO":default:return"GMT"+Ac(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+MR(n,":");case"zzzz":default:return"GMT"+Ac(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return tr(n,e.length)},T:function(t,e,r){const n=t.getTime();return tr(n,e.length)}};function MR(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+e+tr(s,2)}function QR(t,e){return t%60===0?(t>0?"-":"+")+tr(Math.abs(t)/60,2):Ac(t,e)}function Ac(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=tr(Math.trunc(n/60),2),s=tr(n%60,2);return r+a+e+s}const LR=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},zz=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},iBe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return LR(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",LR(n,e)).replace("{{time}}",zz(a,e))},oBe={p:zz,P:iBe},lBe=/^D+$/,cBe=/^Y+$/,uBe=["D","DD","YY","YYYY"];function ABe(t){return lBe.test(t)}function dBe(t){return cBe.test(t)}function hBe(t,e,r){const n=fBe(t,e,r);if(console.warn(n),uBe.includes(t))throw new RangeError(n)}function fBe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const mBe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pBe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,gBe=/^'([^]*?)'?$/,xBe=/''/g,vBe=/[a-zA-Z]/;function un(t,e,r){var A,d,h,f,m,g,p,b;const n=Yp(),a=(r==null?void 0:r.locale)??n.locale??qz,s=(r==null?void 0:r.firstWeekContainsDate)??((d=(A=r==null?void 0:r.locale)==null?void 0:A.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(h=n.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((b=(p=n.locale)==null?void 0:p.options)==null?void 0:b.weekStartsOn)??0,l=Zt(t);if(!m_e(l))throw new RangeError("Invalid time value");let c=e.match(pBe).map(x=>{const w=x[0];if(w==="p"||w==="P"){const y=oBe[w];return y(x,a.formatLong)}return x}).join("").match(mBe).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const w=x[0];if(w==="'")return{isToken:!1,value:yBe(x)};if(UR[w])return{isToken:!0,value:x};if(w.match(vBe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const w=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&dBe(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&ABe(w))&&hBe(w,e,String(t));const y=UR[w[0]];return y(l,w,a.localize,u)}).join("")}function yBe(t){const e=t.match(gBe);return e?e[1].replace(xBe,"'"):t}function bBe(t,e,r){const n=Yp(),a=(r==null?void 0:r.locale)??n.locale??qz,s=2520,o=ox(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Zt(e),u=Zt(t)):(c=Zt(t),u=Zt(e));const A=__e(u,c),d=(Wv(u)-Wv(c))/1e3,h=Math.round((A-d)/60);let f;if(h<2)return r!=null&&r.includeSeconds?A<5?a.formatDistance("lessThanXSeconds",5,l):A<10?a.formatDistance("lessThanXSeconds",10,l):A<20?a.formatDistance("lessThanXSeconds",20,l):A<40?a.formatDistance("halfAMinute",0,l):A<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<RR){const m=Math.round(h/60);return a.formatDistance("aboutXHours",m,l)}else{if(h<s)return a.formatDistance("xDays",1,l);if(h<w0){const m=Math.round(h/RR);return a.formatDistance("xDays",m,l)}else if(h<w0*2)return f=Math.round(h/w0),a.formatDistance("aboutXMonths",f,l)}if(f=w_e(u,c),f<12){const m=Math.round(h/w0);return a.formatDistance("xMonths",m,l)}else{const m=f%12,g=Math.trunc(f/12);return m<3?a.formatDistance("aboutXYears",g,l):m<9?a.formatDistance("overXYears",g,l):a.formatDistance("almostXYears",g+1,l)}}function wBe(t,e){return bBe(t,Jp(t),e)}function _Be(t,e,r){const n=iu(t,r),a=iu(e,r);return+n==+a}function BBe(t,e){const r=Zt(t),n=Zt(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function CBe(t){return BBe(t,Jp(t))}function jBe(t,e){return _Be(t,Jp(t),e)}function EBe(t){return Vz(t,Jp(t))}function SBe(t,e){return c_e(t,-1)}function NBe(t){return Vz(t,SBe(Jp(t)))}const TBe={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXWeeks:{one:"sekitar 1 minggu",other:"sekitar {{count}} minggu"},xWeeks:{one:"1 minggu",other:"{{count}} minggu"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}},kBe=(t,e,r)=>{let n;const a=TBe[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dalam waktu "+n:n+" yang lalu":n},IBe={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"d/M/yyyy"},PBe={full:"HH.mm.ss",long:"HH.mm.ss",medium:"HH.mm",short:"HH.mm"},FBe={full:"{{date}} 'pukul' {{time}}",long:"{{date}} 'pukul' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},DBe={date:_A({formats:IBe,defaultWidth:"full"}),time:_A({formats:PBe,defaultWidth:"full"}),dateTime:_A({formats:FBe,defaultWidth:"full"})},OBe={lastWeek:"eeee 'lalu pukul' p",yesterday:"'Kemarin pukul' p",today:"'Hari ini pukul' p",tomorrow:"'Besok pukul' p",nextWeek:"eeee 'pukul' p",other:"P"},RBe=(t,e,r,n)=>OBe[t],UBe={narrow:["SM","M"],abbreviated:["SM","M"],wide:["Sebelum Masehi","Masehi"]},MBe={narrow:["1","2","3","4"],abbreviated:["K1","K2","K3","K4"],wide:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"]},QBe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],wide:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},LBe={narrow:["M","S","S","R","K","J","S"],short:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],abbreviated:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],wide:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},HBe={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},$Be={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},VBe=(t,e)=>"ke-"+Number(t),KBe={ordinalNumber:VBe,era:ti({values:UBe,defaultWidth:"wide"}),quarter:ti({values:MBe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ti({values:QBe,defaultWidth:"wide"}),day:ti({values:LBe,defaultWidth:"wide"}),dayPeriod:ti({values:HBe,defaultWidth:"wide",formattingValues:$Be,defaultFormattingWidth:"wide"})},qBe=/^ke-(\d+)?/i,GBe=/\d+/i,zBe={narrow:/^(sm|m)/i,abbreviated:/^(s\.?\s?m\.?|s\.?\s?e\.?\s?u\.?|m\.?|e\.?\s?u\.?)/i,wide:/^(sebelum masehi|sebelum era umum|masehi|era umum)/i},WBe={any:[/^s/i,/^(m|e)/i]},XBe={narrow:/^[1234]/i,abbreviated:/^K-?\s[1234]/i,wide:/^Kuartal ke-?\s?[1234]/i},YBe={any:[/1/i,/2/i,/3/i,/4/i]},JBe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|mei|jun|jul|agt|sep|okt|nov|des)/i,wide:/^(januari|februari|maret|april|mei|juni|juli|agustus|september|oktober|november|desember)/i},ZBe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^ma/i,/^ap/i,/^me/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},eCe={narrow:/^[srkjm]/i,short:/^(min|sen|sel|rab|kam|jum|sab)/i,abbreviated:/^(min|sen|sel|rab|kam|jum|sab)/i,wide:/^(minggu|senin|selasa|rabu|kamis|jumat|sabtu)/i},tCe={narrow:[/^m/i,/^s/i,/^s/i,/^r/i,/^k/i,/^j/i,/^s/i],any:[/^m/i,/^sen/i,/^sel/i,/^r/i,/^k/i,/^j/i,/^sa/i]},rCe={narrow:/^(a|p|tengah m|tengah h|(di(\swaktu)?) (pagi|siang|sore|malam))/i,any:/^([ap]\.?\s?m\.?|tengah malam|tengah hari|(di(\swaktu)?) (pagi|siang|sore|malam))/i},nCe={any:{am:/^a/i,pm:/^pm/i,midnight:/^tengah m/i,noon:/^tengah h/i,morning:/pagi/i,afternoon:/siang/i,evening:/sore/i,night:/malam/i}},aCe={ordinalNumber:Kz({matchPattern:qBe,parsePattern:GBe,valueCallback:t=>parseInt(t,10)}),era:ri({matchPatterns:zBe,defaultMatchWidth:"wide",parsePatterns:WBe,defaultParseWidth:"any"}),quarter:ri({matchPatterns:XBe,defaultMatchWidth:"wide",parsePatterns:YBe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ri({matchPatterns:JBe,defaultMatchWidth:"wide",parsePatterns:ZBe,defaultParseWidth:"any"}),day:ri({matchPatterns:eCe,defaultMatchWidth:"wide",parsePatterns:tCe,defaultParseWidth:"any"}),dayPeriod:ri({matchPatterns:rCe,defaultMatchWidth:"any",parsePatterns:nCe,defaultParseWidth:"any"})},as={code:"id",formatDistance:kBe,formatLong:DBe,formatRelative:RBe,localize:KBe,match:aCe,options:{weekStartsOn:1,firstWeekContainsDate:1}};function sCe({content:t,timestamp:e,isAdmin:r,senderName:n,orderInfo:a}){const{profile:s}=Pr(),o=(s==null?void 0:s.role)==="admin"?r:!r;return i.jsx("div",{className:he("flex mb-4",o?"justify-end":"justify-start"),children:i.jsxs("div",{className:he("max-w-[75%] rounded-lg px-4 py-2 shadow-sm",o?"bg-flame-500 text-white rounded-br-none":"bg-white text-charcoal-800 border rounded-bl-none"),children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:he("text-xs font-medium",o?"text-white/80":"text-charcoal-500"),children:n}),i.jsx("span",{className:he("text-xs ml-2",o?"text-white/70":"text-charcoal-400"),children:wBe(new Date(e),{addSuffix:!0,locale:as})})]}),i.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:t}),a&&i.jsx("div",{className:"mt-2 pt-2 border-t border-white/20 text-xs",children:i.jsx("div",{className:he("rounded-md p-2",o?"bg-white/10":"bg-flame-50"),children:i.jsxs("div",{className:he("font-medium",o?"text-white":"text-flame-600"),children:[" Pesanan Disematkan: #",a.orderId.substring(0,8)]})})})]})})}const kl=v.forwardRef(({className:t,...e},r)=>i.jsx("textarea",{className:he("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));kl.displayName="Textarea";var cI="Popover",[Wz,z8e]=ba(cI,[$d]),Zp=$d(),[iCe,Ql]=Wz(cI),Xz=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!1}=t,l=Zp(e),c=v.useRef(null),[u,A]=v.useState(!1),[d=!1,h]=ls({prop:n,defaultProp:a,onChange:s});return i.jsx(CT,{...l,children:i.jsx(iCe,{scope:e,contentId:oi(),triggerRef:c,open:d,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(f=>!f),[h]),hasCustomAnchor:u,onCustomAnchorAdd:v.useCallback(()=>A(!0),[]),onCustomAnchorRemove:v.useCallback(()=>A(!1),[]),modal:o,children:r})})};Xz.displayName=cI;var Yz="PopoverAnchor",oCe=v.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=Ql(Yz,r),s=Zp(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return v.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(sb,{...s,...n,ref:e})});oCe.displayName=Yz;var Jz="PopoverTrigger",Zz=v.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=Ql(Jz,r),s=Zp(r),o=pt(e,a.triggerRef),l=i.jsx(Ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":aW(a.open),...n,ref:o,onClick:Fe(t.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:i.jsx(sb,{asChild:!0,...s,children:l})});Zz.displayName=Jz;var uI="PopoverPortal",[lCe,cCe]=Wz(uI,{forceMount:void 0}),eW=t=>{const{__scopePopover:e,forceMount:r,children:n,container:a}=t,s=Ql(uI,e);return i.jsx(lCe,{scope:e,forceMount:r,children:i.jsx(oa,{present:r||s.open,children:i.jsx(Cp,{asChild:!0,container:a,children:n})})})};eW.displayName=uI;var Ad="PopoverContent",tW=v.forwardRef((t,e)=>{const r=cCe(Ad,t.__scopePopover),{forceMount:n=r.forceMount,...a}=t,s=Ql(Ad,t.__scopePopover);return i.jsx(oa,{present:n||s.open,children:s.modal?i.jsx(uCe,{...a,ref:e}):i.jsx(ACe,{...a,ref:e})})});tW.displayName=Ad;var uCe=v.forwardRef((t,e)=>{const r=Ql(Ad,t.__scopePopover),n=v.useRef(null),a=pt(e,n),s=v.useRef(!1);return v.useEffect(()=>{const o=n.current;if(o)return Pk(o)},[]),i.jsx(Ub,{as:Yi,allowPinchZoom:!0,children:i.jsx(rW,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fe(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),s.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Fe(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Fe(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),ACe=v.forwardRef((t,e)=>{const r=Ql(Ad,t.__scopePopover),n=v.useRef(!1),a=v.useRef(!1);return i.jsx(rW,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),rW=v.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:A,...d}=t,h=Ql(Ad,r),f=Zp(r);return Ik(),i.jsx(Ob,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(Rd,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:A,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:i.jsx(jT,{"data-state":aW(h.open),role:"dialog",id:h.contentId,...f,...d,ref:e,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),nW="PopoverClose",dCe=v.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=Ql(nW,r);return i.jsx(Ye.button,{type:"button",...n,ref:e,onClick:Fe(t.onClick,()=>a.onOpenChange(!1))})});dCe.displayName=nW;var hCe="PopoverArrow",fCe=v.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=Zp(r);return i.jsx(ET,{...a,...n,ref:e})});fCe.displayName=hCe;function aW(t){return t?"open":"closed"}var mCe=Xz,pCe=Zz,gCe=eW,sW=tW;const xCe=mCe,vCe=pCe,iW=v.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},a)=>i.jsx(gCe,{children:i.jsx(sW,{ref:a,align:e,sideOffset:r,className:he("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));iW.displayName=sW.displayName;function yCe(t,e){return v.useReducer((r,n)=>e[r][n]??r,t)}var AI="ScrollArea",[oW,W8e]=ba(AI),[bCe,us]=oW(AI),lW=v.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:s=600,...o}=t,[l,c]=v.useState(null),[u,A]=v.useState(null),[d,h]=v.useState(null),[f,m]=v.useState(null),[g,p]=v.useState(null),[b,x]=v.useState(0),[w,y]=v.useState(0),[C,E]=v.useState(!1),[B,j]=v.useState(!1),N=pt(e,T=>c(T)),S=Yd(a);return i.jsx(bCe,{scope:r,type:n,dir:S,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:A,content:d,onContentChange:h,scrollbarX:f,onScrollbarXChange:m,scrollbarXEnabled:C,onScrollbarXEnabledChange:E,scrollbarY:g,onScrollbarYChange:p,scrollbarYEnabled:B,onScrollbarYEnabledChange:j,onCornerWidthChange:x,onCornerHeightChange:y,children:i.jsx(Ye.div,{dir:S,...o,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});lW.displayName=AI;var cW="ScrollAreaViewport",uW=v.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,asChild:a,nonce:s,...o}=t,l=us(cW,r),c=v.useRef(null),u=pt(e,c,l.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:s}),i.jsx(Ye.div,{"data-radix-scroll-area-viewport":"",...o,asChild:a,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:kCe({asChild:a,children:n},A=>i.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:A}))})]})});uW.displayName=cW;var Bi="ScrollAreaScrollbar",dI=v.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=us(Bi,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=a,l=t.orientation==="horizontal";return v.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),a.type==="hover"?i.jsx(wCe,{...n,ref:e,forceMount:r}):a.type==="scroll"?i.jsx(_Ce,{...n,ref:e,forceMount:r}):a.type==="auto"?i.jsx(AW,{...n,ref:e,forceMount:r}):a.type==="always"?i.jsx(hI,{...n,ref:e}):null});dI.displayName=Bi;var wCe=v.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=us(Bi,t.__scopeScrollArea),[s,o]=v.useState(!1);return v.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},A=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",A),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",A)}}},[a.scrollArea,a.scrollHideDelay]),i.jsx(oa,{present:r||s,children:i.jsx(AW,{"data-state":s?"visible":"hidden",...n,ref:e})})}),_Ce=v.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=us(Bi,t.__scopeScrollArea),s=t.orientation==="horizontal",o=ow(()=>c("SCROLL_END"),100),[l,c]=yCe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),v.useEffect(()=>{const u=a.viewport,A=s?"scrollLeft":"scrollTop";if(u){let d=u[A];const h=()=>{const f=u[A];d!==f&&(c("SCROLL"),o()),d=f};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,s,c,o]),i.jsx(oa,{present:r||l!=="hidden",children:i.jsx(hI,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:Fe(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Fe(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),AW=v.forwardRef((t,e)=>{const r=us(Bi,t.__scopeScrollArea),{forceMount:n,...a}=t,[s,o]=v.useState(!1),l=t.orientation==="horizontal",c=ow(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,A=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:A)}},10);return dd(r.viewport,c),dd(r.content,c),i.jsx(oa,{present:n||s,children:i.jsx(hI,{"data-state":s?"visible":"hidden",...a,ref:e})})}),hI=v.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,a=us(Bi,t.__scopeScrollArea),s=v.useRef(null),o=v.useRef(0),[l,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=pW(l.viewport,l.content),A={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function d(h,f){return NCe(h,o.current,l,f)}return r==="horizontal"?i.jsx(BCe,{...A,ref:e,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollLeft,f=HR(h,l,a.dir);s.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=d(h,a.dir))}}):r==="vertical"?i.jsx(CCe,{...A,ref:e,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollTop,f=HR(h,l);s.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=d(h))}}):null}),BCe=v.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,s=us(Bi,t.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=pt(e,c,s.onScrollbarXChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(hW,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":iw(r)+"px",...t.style},onThumbPointerDown:A=>t.onThumbPointerDown(A.x),onDragScroll:A=>t.onDragScroll(A.x),onWheelScroll:(A,d)=>{if(s.viewport){const h=s.viewport.scrollLeft+A.deltaX;t.onWheelScroll(h),xW(h,d)&&A.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Yv(o.paddingLeft),paddingEnd:Yv(o.paddingRight)}})}})}),CCe=v.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,s=us(Bi,t.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=pt(e,c,s.onScrollbarYChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(hW,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":iw(r)+"px",...t.style},onThumbPointerDown:A=>t.onThumbPointerDown(A.y),onDragScroll:A=>t.onDragScroll(A.y),onWheelScroll:(A,d)=>{if(s.viewport){const h=s.viewport.scrollTop+A.deltaY;t.onWheelScroll(h),xW(h,d)&&A.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Yv(o.paddingTop),paddingEnd:Yv(o.paddingBottom)}})}})}),[jCe,dW]=oW(Bi),hW=v.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:A,onResize:d,...h}=t,f=us(Bi,r),[m,g]=v.useState(null),p=pt(e,N=>g(N)),b=v.useRef(null),x=v.useRef(""),w=f.viewport,y=n.content-n.viewport,C=kr(A),E=kr(c),B=ow(d,10);function j(N){if(b.current){const S=N.clientX-b.current.left,T=N.clientY-b.current.top;u({x:S,y:T})}}return v.useEffect(()=>{const N=S=>{const T=S.target;(m==null?void 0:m.contains(T))&&C(S,y)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[w,m,y,C]),v.useEffect(E,[n,E]),dd(m,B),dd(f.content,B),i.jsx(jCe,{scope:r,scrollbar:m,hasThumb:a,onThumbChange:kr(s),onThumbPointerUp:kr(o),onThumbPositionChange:E,onThumbPointerDown:kr(l),children:i.jsx(Ye.div,{...h,ref:p,style:{position:"absolute",...h.style},onPointerDown:Fe(t.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),b.current=m.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),j(N))}),onPointerMove:Fe(t.onPointerMove,j),onPointerUp:Fe(t.onPointerUp,N=>{const S=N.target;S.hasPointerCapture(N.pointerId)&&S.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=x.current,f.viewport&&(f.viewport.style.scrollBehavior=""),b.current=null})})})}),Xv="ScrollAreaThumb",fW=v.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=dW(Xv,t.__scopeScrollArea);return i.jsx(oa,{present:r||a.hasThumb,children:i.jsx(ECe,{ref:e,...n})})}),ECe=v.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...a}=t,s=us(Xv,r),o=dW(Xv,r),{onThumbPositionChange:l}=o,c=pt(e,d=>o.onThumbChange(d)),u=v.useRef(),A=ow(()=>{u.current&&(u.current(),u.current=void 0)},100);return v.useEffect(()=>{const d=s.viewport;if(d){const h=()=>{if(A(),!u.current){const f=TCe(d,l);u.current=f,l()}};return l(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[s.viewport,A,l]),i.jsx(Ye.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Fe(t.onPointerDownCapture,d=>{const f=d.target.getBoundingClientRect(),m=d.clientX-f.left,g=d.clientY-f.top;o.onThumbPointerDown({x:m,y:g})}),onPointerUp:Fe(t.onPointerUp,o.onThumbPointerUp)})});fW.displayName=Xv;var fI="ScrollAreaCorner",mW=v.forwardRef((t,e)=>{const r=us(fI,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(SCe,{...t,ref:e}):null});mW.displayName=fI;var SCe=v.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,a=us(fI,r),[s,o]=v.useState(0),[l,c]=v.useState(0),u=!!(s&&l);return dd(a.scrollbarX,()=>{var d;const A=((d=a.scrollbarX)==null?void 0:d.offsetHeight)||0;a.onCornerHeightChange(A),c(A)}),dd(a.scrollbarY,()=>{var d;const A=((d=a.scrollbarY)==null?void 0:d.offsetWidth)||0;a.onCornerWidthChange(A),o(A)}),u?i.jsx(Ye.div,{...n,ref:e,style:{width:s,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Yv(t){return t?parseInt(t,10):0}function pW(t,e){const r=t/e;return isNaN(r)?0:r}function iw(t){const e=pW(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function NCe(t,e,r,n="ltr"){const a=iw(r),s=a/2,o=e||s,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,A=r.content-r.viewport,d=n==="ltr"?[0,A]:[A*-1,0];return gW([c,u],d)(t)}function HR(t,e,r="ltr"){const n=iw(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-a,o=e.content-e.viewport,l=s-n,c=r==="ltr"?[0,o]:[o*-1,0],u=vm(t,c);return gW([0,o],[0,l])(u)}function gW(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function xW(t,e){return t>0&&t<e}var TCe=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function a(){const s={left:t.scrollLeft,top:t.scrollTop},o=r.left!==s.left,l=r.top!==s.top;(o||l)&&e(),r=s,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function ow(t,e){const r=kr(t),n=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),v.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function dd(t,e){const r=kr(e);Yr(()=>{let n=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(t),()=>{window.cancelAnimationFrame(n),a.unobserve(t)}}},[t,r])}function kCe(t,e){const{asChild:r,children:n}=t;if(!r)return typeof e=="function"?e(n):e;const a=v.Children.only(n);return v.cloneElement(a,{children:typeof e=="function"?e(a.props.children):e})}var vW=lW,ICe=uW,PCe=mW;const ou=v.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(vW,{ref:n,className:he("relative overflow-hidden",t),...r,children:[i.jsx(ICe,{className:"h-full w-full rounded-[inherit]",children:e}),i.jsx(yW,{}),i.jsx(PCe,{})]}));ou.displayName=vW.displayName;const yW=v.forwardRef(({className:t,orientation:e="vertical",...r},n)=>i.jsx(dI,{ref:n,orientation:e,className:he("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:i.jsx(fW,{className:"relative flex-1 rounded-full bg-border"})}));yW.displayName=dI.displayName;function FCe({onSendMessage:t,isLoading:e,userOrders:r,className:n,disabled:a}){const[s,o]=v.useState(""),[l,c]=v.useState(null),u=()=>{s.trim()&&!a&&(t(s.trim(),l),o(""),c(null))},A=d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),u())};return i.jsxs("div",{className:`border-t p-3 bg-background ${n} ${a?"opacity-50 pointer-events-none":""}`,children:[l&&i.jsxs("div",{className:"bg-flame-50 text-flame-600 rounded-md p-2 mb-2 text-xs flex justify-between items-center",children:[i.jsxs("span",{children:[" Pesanan #",l.substring(0,8)," disematkan"]}),i.jsx(G,{variant:"ghost",size:"sm",onClick:()=>c(null),className:"h-6 text-xs",disabled:a,children:"Hapus"})]}),i.jsxs("div",{className:"flex gap-2",children:[r&&r.length>0&&i.jsxs(xCe,{children:[i.jsx(vCe,{asChild:!0,children:i.jsx(G,{variant:"outline",size:"icon",className:"shrink-0","aria-label":"Sematkan Pesanan",disabled:a,children:i.jsx(Kte,{className:"h-5 w-5"})})}),i.jsxs(iW,{className:"w-64 p-2",align:"start",side:"top",children:[i.jsx("h3",{className:"font-medium text-sm px-2 py-1",children:"Sematkan Pesanan"}),i.jsx(ou,{className:"h-64",children:i.jsx("div",{className:"space-y-1 mt-1",children:r.map(d=>i.jsx(G,{variant:"ghost",className:"w-full justify-start text-left p-2 h-auto",onClick:()=>c(d.id),children:i.jsxs("div",{className:"text-xs",children:[i.jsxs("div",{className:"font-medium",children:["Pesanan #",d.id.substring(0,8)]}),i.jsx("div",{className:"text-muted-foreground",children:new Date(d.date).toLocaleDateString()})]})},d.id))})})]})]}),i.jsx(kl,{placeholder:"Ketik pesan...",value:s,onChange:d=>o(d.target.value),onKeyDown:A,className:"min-h-[44px] resize-none",rows:1,disabled:a}),i.jsx(G,{onClick:u,disabled:!s.trim()||e||a,size:"icon",className:"bg-flame-500 hover:bg-flame-600 shrink-0",children:i.jsx(OH,{className:"h-5 w-5"})})]})]})}function P2(t){const e=v.useRef(null);return v.useCallback(()=>{e.current||(e.current=new Audio(t)),e.current.play().catch(n=>{console.warn(`Could not play sound ${t}:`,n)})},[t])}const $R=_k(Xd),DCe=async t=>{if(t.sender_type!=="customer")return!1;try{const{data:e,error:r}=await Z.from("profiles").select("name, email").eq("id",t.sender_id).single();if(r)throw console.error("Error fetching customer data:",r),r;const{data:n,error:a}=await Z.from("chat_sessions").select("admin_id").eq("id",t.session_id).single();if(a)throw console.error("Error fetching session data:",a),a;const s={type:"chat",title:"Pesan Baru",message:`${(e==null?void 0:e.name)||"Pelanggan"}: ${t.content.substring(0,50)}${t.content.length>50?"...":""}`,sessionId:t.session_id,customerId:t.sender_id,customerName:(e==null?void 0:e.name)||"Pelanggan",timestamp:Date.now(),isRead:!1};if(n!=null&&n.admin_id){const{data:u,error:A}=await Z.from("profiles").select("id, fcm_token").eq("id",n.admin_id).single();if(A)throw console.error("Error fetching admin data:",A),A;if(u!=null&&u.fcm_token)return await tO(YD($R,"notifications"),{...s,recipientId:u.id,fcmToken:u.fcm_token}),console.log("Chat notification sent to assigned admin",s),!0}const{data:o,error:l}=await Z.from("profiles").select("id, fcm_token").eq("role","admin");if(l)throw console.error("Error fetching admin users:",l),l;const c=[];for(const u of o||[])u.fcm_token&&c.push(tO(YD($R,"notifications"),{...s,recipientId:u.id,fcmToken:u.fcm_token}));await Promise.all(c);try{const u=await sme();if(u&&u.length>0){console.log(`Sending WhatsApp notifications to ${u.length} admins`);const d=`${window.location.origin}/admin/chat?session=${t.session_id}`,h=` Pesan baru dari ${s.customerName}:
"${t.content.substring(0,100)}${t.content.length>100?"...":""}"

Klik untuk melihat: ${d}`,f=u.map(m=>G7(m,h));await Promise.all(f),console.log("WhatsApp notifications sent to admins")}else console.log("No admin phone numbers found for WhatsApp notifications")}catch(u){console.error("Error sending WhatsApp notifications:",u)}return console.log("Chat notification sent to all admins",s),!0}catch(e){return console.error("Error sending chat notification:",e),!1}},VR=(t,e,r,n)=>{const a=t.sender_type==="admin";return{id:t.id,senderId:t.sender_id,senderName:a?r||"Dukungan":t.sender_id===e?n||"Anda":n||"Pelanggan",content:t.content,timestamp:t.created_at,isAdmin:a,orderInfo:t.order_info}};function bW({chatPartnerId:t,chatPartnerName:e="Dukungan",isAdmin:r=!1}){const{user:n,profile:a}=Pr(),s=kt();F$();const o=v.useRef(null),[l,c]=v.useState([]),[u,A]=v.useState(null),[d,h]=v.useState(!0),[f,m]=v.useState(!1),[g,p]=v.useState(e),b=P2("/sounds/new_chat_message_sound.mp3"),{data:x}=_se({queryKey:["userOrders",n==null?void 0:n.id],queryFn:async()=>{if(!n)return[];const{data:C,error:E}=await Z.from("orders").select("id, total, date, status").eq("user_id",n.id).order("date",{ascending:!1});if(E)throw E;return C},enabled:!!n&&!r});v.useEffect(()=>{if(!n||!a){h(!1);return}(async()=>{h(!0);try{let E=null;if(r){if(!t){fe({title:"Error",description:"Gagal membuat sesi chat admin",variant:"destructive"}),s("/admin/chats");return}const{data:B,error:j}=await Z.from("chat_sessions").select("*").eq("customer_id",t).in("status",["open","active","pending"]).order("created_at",{ascending:!1}).limit(1);if(j)throw j;if(B&&B.length>0){if(E=B[0],E.admin_id!==n.id&&E.status==="open"){const{data:N,error:S}=await Z.from("chat_sessions").update({admin_id:n.id,status:"active"}).eq("id",E.id).select().maybeSingle();if(S)throw S;if(!N)throw console.error("Failed to retrieve session after admin assignment update for session ID:",E.id),new Error("Failed to retrieve session after admin assignment.");E=N}}else{fe({title:"Tidak ada sesi aktif",description:"Tidak ada sesi chat aktif dengan pelanggan ini. Mereka mungkin perlu memulai chat terlebih dahulu.",variant:"default"}),A(null),c([]),h(!1);return}}else{const{data:B,error:j}=await Z.from("chat_sessions").select("*").eq("customer_id",n.id).in("status",["open","active","pending"]).order("last_message_at",{ascending:!1,nullsFirst:!1}).limit(1);if(j)throw j;if(B&&B.length>0)E=B[0];else{const{data:N,error:S}=await Z.from("chat_sessions").insert({customer_id:n.id,status:"open",topic:"Pertanyaan Umum"}).select().maybeSingle();if(S)throw S;if(!N)throw console.error("Failed to create and retrieve new chat session for user:",n.id),new Error("Failed to create and retrieve chat session.");E=N}}A(E)}catch(E){console.error("Error managing session:",E),fe({title:"Error Chat",description:`Gagal memuat atau membuat sesi chat: ${E.message}`,variant:"destructive"}),A(null)}finally{h(!1)}})()},[n,a,r,t,s]),v.useEffect(()=>{if(!u||!n||!a){c([]);return}(async()=>{try{const{data:E,error:B}=await Z.from("messages").select("*, sender_profile:sender_id(name, email)").eq("session_id",u.id).order("created_at",{ascending:!0});if(B)throw B;const j=r?g:a.name,N=r?a.name:"Dukungan",S=E.map(T=>VR(T,n.id,N||"Support",j||"Customer"));c(S)}catch(E){console.error("Error fetching messages:",E),fe({title:"Error",description:"Gagal mengambil detail rekan chat",variant:"destructive"})}})()},[u,n,a,r,g]),v.useEffect(()=>{if(!u||!n||!a)return;const C=Z.channel(`messages_session_${u.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`session_id=eq.${u.id}`},E=>{const B=E.new;if(B.sender_id===n.id&&l.some(S=>S.id===B.id||S.content===B.content&&S.senderId===B.sender_id&&Math.abs(new Date(S.timestamp).getTime()-new Date(B.created_at).getTime())<2e3))return;const j=r?g:a.name,N=r?a.name:"Support";c(S=>S.some(T=>T.id===B.id)?S:[...S,VR(B,n.id,N||"Support",j||"Customer")]),B.sender_id!==n.id&&(!r&&B.sender_type==="admin"||r&&B.sender_type==="customer")&&(console.log("New message in ChatRoom, playing sound:",B),b())}).subscribe((E,B)=>{E==="SUBSCRIBED"&&console.log(`Subscribed to messages for session ${u.id}`),(E==="CHANNEL_ERROR"||E==="TIMED_OUT")&&(console.error(`Subscription error for session ${u.id}:`,B),fe({title:"Realtime Error",description:"Chat connection issue. Please refresh.",variant:"destructive"}))});return()=>{Z.removeChannel(C)}},[u,n,a,r,g,l,b]),v.useEffect(()=>{o.current&&(o.current.scrollTop=o.current.scrollHeight)},[l]);const w=async(C,E=null)=>{if(!(!n||!a||!u||!C.trim())){m(!0);try{let B=null;if(E){const M=x==null?void 0:x.find($=>$.id===E);M&&(B={orderId:M.id,orderTotal:M.total,orderStatus:M.status,orderDate:M.date})}const j=on(),N=r?"admin":"customer",S=a.name||(r?"Admin":"User"),T={id:j,senderId:n.id,senderName:S,content:C,timestamp:new Date().toISOString(),isAdmin:r,orderInfo:B||null};c(M=>[...M,T]);const{data:I,error:k}=await Z.from("messages").insert({session_id:u.id,sender_id:n.id,sender_type:N,content:C.trim(),order_info:B}).select().single();if(k)throw c(M=>M.filter($=>$.id!==j)),k;const R=I;c(M=>M.map($=>$.id===j?{...$,id:R.id,timestamp:R.created_at}:$)),N==="customer"&&DCe(R).then(M=>{M?console.log("Notificacin FCM enviada a los administradores"):console.warn("No se pudo enviar la notificacin FCM a los administradores")}).catch(M=>{console.error("Error al enviar notificacin FCM:",M)}),await Z.from("chat_sessions").update({last_message_at:R.created_at,status:"active"}).eq("id",u.id),A(M=>M?{...M,last_message_at:R.created_at,status:"active"}:null)}catch(B){console.error("Error sending message:",B),fe({title:"Failed to send message",description:B.message,variant:"destructive"})}finally{m(!1)}}},y=r?g||"Customer":(a==null?void 0:a.role)==="admin"?e||"Support":"Customer Support";return!n||!a?i.jsxs("div",{className:"flex items-center justify-center h-screen",children:[i.jsx(zt,{className:"animate-spin h-8 w-8 text-flame-500"}),i.jsx("p",{className:"ml-2",children:"Memuat pengguna..."})]}):d?i.jsxs("div",{className:"flex items-center justify-center h-screen",children:[i.jsx(zt,{className:"animate-spin h-8 w-8 text-flame-500"}),i.jsx("p",{className:"ml-2",children:"Memuat sesi chat..."})]}):i.jsxs("div",{className:"flex flex-col h-full relative",children:[i.jsxs("div",{className:"fixed top-0 left-0 right-0 max-w-md mx-auto bg-white border-b p-3 flex items-center shadow-sm z-20",children:[i.jsx(G,{variant:"ghost",size:"icon",className:"mr-2",onClick:()=>s(r?"/admin/chats":"/"),children:i.jsx(ks,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-charcoal-100 flex items-center justify-center mr-3",children:i.jsx(VA,{className:"h-5 w-5 text-charcoal-500"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:y}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[r&&u?`ID Sesi: ${u.id.substring(0,8)}`:"Kami biasanya merespon dalam 1 jam",!r&&u&&u.status!=="active"&&u.status!=="open"&&" (Menunggu dukungan...)",!r&&u&&(u.status==="open"||u.status==="pending")&&" (Menghubungkan ke dukungan...)"]})]})]})]}),i.jsx("div",{className:"h-16 pt-3"}),i.jsxs(ou,{ref:o,className:"flex-1 p-4 overflow-y-auto bg-charcoal-50",children:[!u&&!d&&!r&&i.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:i.jsx("p",{className:"text-muted-foreground",children:"Tidak dapat memulai atau memuat sesi chat. Silakan coba muat ulang halaman."})}),!u&&!d&&r&&i.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:i.jsx("p",{className:"text-muted-foreground",children:"Tidak ada sesi chat aktif dengan pelanggan ini. Mereka mungkin perlu memulai chat terlebih dahulu."})}),u&&l.length===0&&!d&&i.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:i.jsxs("div",{className:"mb-4 text-charcoal-400",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-flame-100 flex items-center justify-center mx-auto mb-4",children:i.jsx(VA,{className:"h-8 w-8 text-flame-500"})}),i.jsx("h3",{className:"font-medium text-charcoal-600 mb-1",children:r?`Chat dengan ${g}`:"Dukungan Pelanggan"}),i.jsx("p",{className:"text-sm text-charcoal-500",children:r?"Kirim pesan untuk mulai chat dengan pelanggan ini.":"Kirim pesan untuk mendapatkan bantuan dari tim dukungan kami."})]})}),u&&l.map(C=>i.jsx(sCe,{id:C.id,senderId:C.senderId,senderName:C.senderName,content:C.content,timestamp:C.timestamp,isAdmin:C.isAdmin,orderInfo:C.orderInfo},C.id))]}),i.jsx("div",{className:"fixed bottom-16 left-0 right-0 max-w-md mx-auto bg-background z-20 border-t",children:i.jsx(FCe,{onSendMessage:w,isLoading:f||d,userOrders:r?void 0:x,disabled:!u||r&&!t||!d&&!u&&!r})}),i.jsx("div",{className:"h-24"})]})}function OCe(){const{user:t}=Pr();return t?i.jsx(Kt,{children:i.jsx(bW,{})}):i.jsx(ev,{to:"/login",replace:!0})}const RCe=6,wW=5,UCe=3,MCe=60,QCe=(t=RCe)=>Array.from({length:t},()=>Math.floor(Math.random()*10)).join(""),LCe=async(t,e)=>{const r=Lz(t);try{const n=`*Kode OTP untuk JPC*

Kode verifikasi Anda adalah: *${e}*

Kode ini berlaku selama ${wW} menit.
Jangan bagikan kode ini dengan siapapun.`,a=await G7(r,n);return console.log("WhatsApp OTP sent successfully:",a),a}catch(n){return console.error("Error sending WhatsApp OTP:",n),!1}},HCe=async(t,e)=>{try{const r=QCe(),n=new Date;n.setMinutes(n.getMinutes()+wW);const{error:a}=await Z.from("otp_verification").insert({user_id:t,phone_number:e,otp_code:r,expires_at:n.toISOString(),attempts:0,is_verified:!1});return a?(console.error("Error storing OTP:",a),!1):await LCe(e,r)}catch(r){return console.error("Error in createAndSendOTP:",r),!1}},$Ce=async(t,e)=>{try{const{data:r,error:n}=await Z.from("otp_verification").select("*").eq("user_id",t).eq("is_verified",!1).order("created_at",{ascending:!1}).limit(1).single();if(n||!r)return console.error("Error fetching OTP:",n),!1;const a=new Date,s=new Date(r.expires_at);if(a>s)return console.log("OTP has expired"),!1;if(r.attempts>=UCe)return console.log("Max OTP attempts reached"),!1;const{error:o}=await Z.from("otp_verification").update({attempts:r.attempts+1}).eq("id",r.id);if(o&&console.error("Error updating OTP attempts:",o),r.otp_code!==e)return!1;const{error:l}=await Z.from("otp_verification").update({is_verified:!0}).eq("id",r.id);if(l)return console.error("Error marking OTP as verified:",l),!1;const{error:c}=await Z.from("profiles").update({is_phone_verified:!0,phone_verified_at:new Date().toISOString()}).eq("id",t);return c?(console.error("Error updating profile phone verification status:",c),!1):!0}catch(r){return console.error("Error in verifyOTP:",r),!1}},VCe=async t=>{try{const{data:e,error:r}=await Z.from("otp_verification").select("created_at").eq("user_id",t).order("created_at",{ascending:!1}).limit(1).single();if(r||!e)return 0;const n=new Date(e.created_at),a=new Date(n.getTime()+MCe*1e3),s=new Date;return s>a?0:Math.ceil((a.getTime()-s.getTime())/1e3)}catch(e){return console.error("Error in getResendCooldownRemaining:",e),0}},KCe=({phoneNumber:t,onVerificationSuccess:e})=>{const{user:r}=Pr(),{toast:n}=Ms(),[a,s]=v.useState(""),[o,l]=v.useState(!1),[c,u]=v.useState(0),[A,d]=v.useState("");v.useEffect(()=>{if(c>0){const g=setTimeout(()=>u(c-1),1e3);return()=>clearTimeout(g)}},[c]),v.useEffect(()=>{(async()=>{if(r){const p=await VCe(r.id);p>0?u(p):h()}})()},[r]);const h=async()=>{if(r){l(!0),d("");try{await HCe(r.id,t)?(n({title:"Kode OTP Terkirim",description:`Kode verifikasi telah dikirim ke WhatsApp ${t}`}),u(60)):d("Gagal mengirim kode OTP. Silakan coba lagi.")}catch(g){console.error("Error sending OTP:",g),d("Terjadi kesalahan. Silakan coba lagi.")}finally{l(!1)}}},f=async()=>{if(!(!r||!a)){l(!0),d("");try{if(await $Ce(r.id,a))n({title:"Verifikasi Berhasil",description:"Nomor WhatsApp Anda telah diverifikasi."}),e();else{const p="Kode OTP tidak valid atau sudah kedaluwarsa";d(p),n({variant:"destructive",title:"Verifikasi Gagal",description:p})}}catch(g){console.error("Error verifying OTP:",g),d("Terjadi kesalahan. Silakan coba lagi.")}finally{l(!1)}}},m=()=>{c>0||h()};return i.jsxs(_e,{className:"w-full max-w-md mx-auto",children:[i.jsxs(at,{children:[i.jsx(st,{children:"Verifikasi WhatsApp"}),i.jsxs(rr,{children:["Masukkan kode 6 digit yang dikirim ke WhatsApp Anda ",t]})]}),i.jsx(Be,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx(ue,{type:"text",placeholder:"Masukkan kode OTP",value:a,onChange:g=>s(g.target.value.replace(/[^0-9]/g,"").substring(0,6)),className:"text-center text-lg tracking-wider",maxLength:6,inputMode:"numeric"}),A&&i.jsx("p",{className:"text-red-500 text-sm",children:A}),i.jsx("div",{className:"text-center text-sm",children:c>0?i.jsxs("p",{children:["Kirim ulang dalam ",c," detik"]}):i.jsx("button",{onClick:m,className:"text-primary hover:underline",disabled:o,children:"Kirim Ulang Kode"})})]})}),i.jsx(ns,{children:i.jsx(G,{onClick:f,className:"w-full",disabled:a.length!==6||o,children:o?"Memverifikasi...":"Verifikasi"})})]})};function qCe(){const{user:t,isPhoneVerified:e}=Pr(),r=kt();la();const[n,a]=v.useState(!0),[s,o]=v.useState(""),[l,c]=v.useState(!1),u=v.useRef(!1),A=v.useRef(!1);v.useEffect(()=>{A.current||(d(),A.current=!0);const f=()=>{document.visibilityState==="visible"&&l&&!u.current&&(u.current=!0,r("/"))};return document.addEventListener("visibilitychange",f),()=>{document.removeEventListener("visibilitychange",f)}},[l]);const d=async()=>{if(!t){a(!1);return}a(!0);try{if(e){c(!0),a(!1),u.current||(u.current=!0,setTimeout(()=>r("/"),100));return}const{data:f,error:m}=await Z.from("profiles").select("is_phone_verified, phone").eq("id",t.id).single();if(m){console.error("Error fetching profile:",m),a(!1);return}if(c((f==null?void 0:f.is_phone_verified)===!0),f!=null&&f.is_phone_verified&&!u.current){u.current=!0,setTimeout(()=>r("/"),100);return}if(!(f!=null&&f.phone)&&!u.current){u.current=!0,setTimeout(()=>r("/profile?redirect=verification"),100);return}o((f==null?void 0:f.phone)||"")}catch(f){console.error("Error checking verification status:",f)}finally{a(!1)}},h=()=>{c(!0),u.current||(u.current=!0,setTimeout(()=>{localStorage.setItem("whatsapp_verification_success","true"),r("/")},1500))};return n?i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[i.jsx(zt,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("p",{className:"mt-4 text-lg",children:"Memeriksa status verifikasi..."})]}):l?i.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Verifikasi Berhasil!"}),i.jsx("p",{className:"mb-4",children:"Nomor WhatsApp Anda telah diverifikasi berhasil."}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Mengalihkan ke halaman utama..."})]})}):i.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Verifikasi WhatsApp"}),i.jsx("p",{className:"text-center mb-6 text-muted-foreground",children:"Untuk keamanan akun Anda, kami perlu memverifikasi nomor WhatsApp Anda sebelum Anda dapat menggunakan aplikasi."}),s?i.jsx(KCe,{phoneNumber:s,onVerificationSuccess:h}):i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-red-500",children:"Verifikasi Berhasil."}),i.jsx("button",{onClick:()=>r("/profile?redirect=verification"),className:"mt-4 text-primary hover:underline",children:"Lanjutkan"})]})]})})}const J={activity:mte,alertTriangle:eb,arrowDownCircle:Bte,arrowLeft:ks,arrowRight:pte,arrowUpCircle:Cte,barChart:OE,bell:oT,chartBar:OE,arrowUpFromLine:xte,filter:IH,gamepad:Ute,lightbulb:Hte,shield:UH,shopping:Jy,sort:vte,check:lT,chevronDown:cT,chevronLeft:NH,chevronRight:TH,chevronsDown:_te,clock:$A,copy:Tte,creditCard:uT,download:al,droplet:Ite,file:Dte,fileSearch:Fte,filterX:Ote,flame:Rte,heart:Mte,history:Qte,home:PH,inbox:Lte,info:RE,layers:FH,link:$te,logOut:AT,megaphone:qx,menu:Vte,messageSquare:dT,mail:ME,package:Ji,phone:QE,plus:Md,qrCode:hT,repeat:qte,refreshCw:Gf,undo:Gf,search:Fl,settings:RH,share:zte,shoppingCart:Zy,smartphone:Wte,spinner:zt,ticket:fT,trash:zf,truck:HE,tv:Zte,users:mT,wallet:tre,wifi:rre,zap:nre};function GCe({transaction:t,onClose:e}){const[r,n]=v.useState(!1),[a,s]=v.useState(!1),[o,l]=v.useState(""),[c,u]=v.useState(!1),[A,d]=v.useState(!1),h=w=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(w),f=w=>{const y=new Date(w);return un(y,"d MMMM yyyy, HH:mm",{locale:as})},m=()=>{switch(t.status){case"success":return i.jsx(vt,{className:"bg-green-100 text-green-800",children:"Berhasil"});case"pending":return i.jsx(vt,{className:"bg-yellow-100 text-yellow-800",children:"Dalam Proses"});case"failed":return i.jsx(vt,{className:"bg-red-100 text-red-800",children:"Gagal"});default:return i.jsx(vt,{children:"Unknown"})}},g=()=>{switch(t.type){case"payment":return"Pembayaran";case"topup":return"Top Up";case"transfer":return"Transfer";case"refund":return"Refund";default:return"Transaksi"}},p=()=>{switch(t.type){case"payment":return i.jsx(J.creditCard,{className:"h-5 w-5 text-blue-500"});case"topup":return i.jsx(J.plus,{className:"h-5 w-5 text-green-500"});case"transfer":return i.jsx(J.arrowRight,{className:"h-5 w-5 text-orange-500"});case"refund":return i.jsx(J.arrowRight,{className:"h-5 w-5 text-purple-500 rotate-180"});default:return i.jsx(J.activity,{className:"h-5 w-5"})}},b=()=>{const w=`
      ID Transaksi: ${t.id}
      Jenis: ${g()}
      Produk: ${t.productName}
      Total: ${h(t.totalAmount)}
      Status: ${t.status}
      Tanggal: ${f(t.createdAt)}
      ${t.refNumber?`No. Referensi: ${t.refNumber}`:""}
    `.trim();navigator.clipboard.writeText(w).then(()=>{d(!0),setTimeout(()=>d(!1),2e3)})},x=async()=>{o.trim()&&(u(!0),await new Promise(w=>setTimeout(w,1500)),u(!1),n(!1),l(""))};return i.jsxs(_e,{className:"border shadow-md max-w-md w-full mx-auto",children:[i.jsx(at,{className:"pb-2",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[p(),i.jsxs("div",{children:[i.jsx(st,{className:"text-lg",children:g()}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t.productName})]})]}),i.jsxs("div",{className:"flex flex-col items-end",children:[m(),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f(t.createdAt)})]})]})}),i.jsx(Be,{className:"pb-0",children:i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Pembayaran"}),i.jsx("p",{className:"text-2xl font-bold",children:h(t.totalAmount)})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"ID Transaksi"}),i.jsx("p",{className:"text-sm font-medium",children:t.id})]}),t.invoiceNumber&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"No. Invoice"}),i.jsx("p",{className:"text-sm font-medium",children:t.invoiceNumber})]}),t.refNumber&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"No. Referensi"}),i.jsx("p",{className:"text-sm font-medium",children:t.refNumber})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Nominal"}),i.jsx("p",{className:"text-sm font-medium",children:h(t.amount)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Biaya Admin"}),i.jsx("p",{className:"text-sm font-medium",children:h(t.fee)})]}),t.paymentMethod&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Metode Pembayaran"}),i.jsx("p",{className:"text-sm font-medium",children:t.paymentMethod})]}),t.customerId&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"ID Pelanggan"}),i.jsx("p",{className:"text-sm font-medium",children:t.customerId})]}),t.customerName&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Nama Pelanggan"}),i.jsx("p",{className:"text-sm font-medium",children:t.customerName})]})]}),t.message&&i.jsxs(i.Fragment,{children:[i.jsx(Gn,{}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Pesan"}),i.jsx("p",{className:"text-sm",children:t.message})]})]})]})}),i.jsxs(ns,{className:"flex flex-col gap-3 pt-6",children:[i.jsxs("div",{className:"flex gap-2 w-full",children:[i.jsxs(G,{variant:"outline",className:"flex-1",onClick:b,children:[A?i.jsx(J.activity,{className:"mr-2 h-4 w-4 text-green-500"}):i.jsx(J.file,{className:"mr-2 h-4 w-4"}),A?"Disalin!":"Salin"]}),i.jsxs(lr,{open:a,onOpenChange:s,children:[i.jsx(qv,{asChild:!0,children:i.jsxs(G,{variant:"outline",className:"flex-1",children:[i.jsx(J.arrowRight,{className:"mr-2 h-4 w-4"}),"Bagikan"]})}),i.jsxs(nr,{className:"sm:max-w-md",children:[i.jsxs(hr,{children:[i.jsx(fr,{children:"Bagikan Bukti Transaksi"}),i.jsx(Pn,{children:"Bagikan bukti transaksi ini melalui:"})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-4 py-4",children:[i.jsxs(G,{variant:"outline",className:"flex flex-col items-center justify-center h-20",children:[i.jsx(J.smartphone,{className:"h-8 w-8 mb-1"}),i.jsx("span",{className:"text-xs",children:"WhatsApp"})]}),i.jsxs(G,{variant:"outline",className:"flex flex-col items-center justify-center h-20",children:[i.jsx(J.smartphone,{className:"h-8 w-8 mb-1"}),i.jsx("span",{className:"text-xs",children:"Email"})]}),i.jsxs(G,{variant:"outline",className:"flex flex-col items-center justify-center h-20",children:[i.jsx(J.download,{className:"h-8 w-8 mb-1"}),i.jsx("span",{className:"text-xs",children:"Simpan"})]}),i.jsxs(G,{variant:"outline",className:"flex flex-col items-center justify-center h-20",children:[i.jsx(J.activity,{className:"h-8 w-8 mb-1"}),i.jsx("span",{className:"text-xs",children:"Lainnya"})]})]}),i.jsx(An,{className:"sm:justify-start",children:i.jsx(G,{type:"button",variant:"secondary",onClick:()=>s(!1),children:"Tutup"})})]})]})]}),i.jsxs("div",{className:"flex gap-2 w-full",children:[i.jsx(G,{variant:"outline",className:"flex-1",onClick:e,children:"Kembali"}),i.jsxs(lr,{open:r,onOpenChange:n,children:[i.jsx(qv,{asChild:!0,children:i.jsxs(G,{variant:"secondary",className:"flex-1 text-red-600 hover:text-red-700",children:[i.jsx(J.activity,{className:"mr-2 h-4 w-4"}),"Laporkan Masalah"]})}),i.jsxs(nr,{children:[i.jsxs(hr,{children:[i.jsx(fr,{children:"Laporkan Masalah Transaksi"}),i.jsx(Pn,{children:"Jelaskan masalah yang Anda alami dengan transaksi ini."})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"report-reason",className:"block text-sm font-medium mb-2",children:"Alasan Laporan"}),i.jsxs("select",{id:"report-reason",className:"w-full p-2 border rounded-md",value:o,onChange:w=>l(w.target.value),children:[i.jsx("option",{value:"",children:"Pilih alasan"}),i.jsx("option",{value:"not-received",children:"Layanan tidak diterima"}),i.jsx("option",{value:"wrong-amount",children:"Jumlah salah"}),i.jsx("option",{value:"double-charge",children:"Tagihan ganda"}),i.jsx("option",{value:"unauthorized",children:"Transaksi tidak dikenal"}),i.jsx("option",{value:"other",children:"Lainnya"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"report-details",className:"block text-sm font-medium mb-2",children:"Detail Masalah"}),i.jsx("textarea",{id:"report-details",className:"w-full p-2 border rounded-md h-24",placeholder:"Jelaskan detail masalah yang Anda alami"})]})]}),i.jsxs(An,{children:[i.jsx(G,{type:"button",variant:"ghost",onClick:()=>n(!1),children:"Batal"}),i.jsx(G,{type:"button",onClick:x,disabled:!o||c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(J.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengirim..."]}):"Kirim Laporan"})]})]})]})]})]})]})}const _W=({className:t,...e})=>i.jsx("nav",{role:"navigation","aria-label":"pagination",className:he("mx-auto flex w-full justify-center",t),...e});_W.displayName="Pagination";const BW=v.forwardRef(({className:t,...e},r)=>i.jsx("ul",{ref:r,className:he("flex flex-row items-center gap-1",t),...e}));BW.displayName="PaginationContent";const lx=v.forwardRef(({className:t,...e},r)=>i.jsx("li",{ref:r,className:he("",t),...e}));lx.displayName="PaginationItem";const lw=({className:t,isActive:e,size:r="icon",...n})=>i.jsx("a",{"aria-current":e?"page":void 0,className:he(ub({variant:e?"outline":"ghost",size:r}),t),...n});lw.displayName="PaginationLink";const CW=({className:t,...e})=>i.jsxs(lw,{"aria-label":"Go to previous page",size:"default",className:he("gap-1 pl-2.5",t),...e,children:[i.jsx(NH,{className:"h-4 w-4"}),i.jsx("span",{children:"Previous"})]});CW.displayName="PaginationPrevious";const jW=({className:t,...e})=>i.jsxs(lw,{"aria-label":"Go to next page",size:"default",className:he("gap-1 pr-2.5",t),...e,children:[i.jsx("span",{children:"Next"}),i.jsx(TH,{className:"h-4 w-4"})]});jW.displayName="PaginationNext";function $h({className:t,...e}){return i.jsx("div",{className:he("animate-pulse rounded-md bg-muted",t),...e})}const zCe=[{id:"TRX-123456",type:"payment",productCategory:"Electricity",productName:"PLN Postpaid",customerId:"1234567890",customerName:"Budi Santoso",amount:15e4,fee:2500,totalAmount:152500,status:"success",createdAt:"2025-06-01T14:30:25",updatedAt:"2025-06-01T14:32:10",paymentMethod:"PPOB Wallet",invoiceNumber:"INV-20250601-001",refNumber:"REF-123456789"},{id:"TRX-123457",type:"topup",productName:"Wallet Top Up",amount:5e5,fee:0,totalAmount:5e5,status:"success",createdAt:"2025-06-02T10:15:30",updatedAt:"2025-06-02T10:16:45",paymentMethod:"Bank Transfer BCA",refNumber:"REF-987654321"},{id:"TRX-123458",type:"payment",productCategory:"Mobile Credit",productName:"Telkomsel Prepaid 50K",customerId:"081234567890",amount:5e4,fee:1e3,totalAmount:51e3,status:"success",createdAt:"2025-06-02T16:45:12",updatedAt:"2025-06-02T16:46:30",paymentMethod:"PPOB Wallet",invoiceNumber:"INV-20250602-002",refNumber:"REF-567891234"},{id:"TRX-123459",type:"payment",productCategory:"Water",productName:"PDAM",customerId:"9876543210",customerName:"Ani Wijaya",amount:75e3,fee:2e3,totalAmount:77e3,status:"pending",createdAt:"2025-06-03T09:20:05",updatedAt:"2025-06-03T09:20:05",paymentMethod:"PPOB Wallet",invoiceNumber:"INV-20250603-003",refNumber:"REF-345678912",message:"Pembayaran sedang diproses oleh PDAM."},{id:"TRX-123460",type:"payment",productCategory:"Internet",productName:"Indihome",customerId:"5432109876",customerName:"Dewi Sari",amount:35e4,fee:2500,totalAmount:352500,status:"failed",createdAt:"2025-06-03T11:30:20",updatedAt:"2025-06-03T11:35:40",paymentMethod:"PPOB Wallet",invoiceNumber:"INV-20250603-004",refNumber:"REF-234567891",message:"Pembayaran gagal: Saldo tidak mencukupi"},{id:"TRX-123461",type:"transfer",productName:"Transfer ke Bank BNI",customerId:"0987654321",customerName:"Rudi Hartono",amount:1e6,fee:6500,totalAmount:1006500,status:"success",createdAt:"2025-06-03T13:45:10",updatedAt:"2025-06-03T13:47:25",paymentMethod:"PPOB Wallet",refNumber:"REF-123498765"},{id:"TRX-123462",type:"refund",productName:"Refund Telkomsel Prepaid",amount:5e4,fee:0,totalAmount:5e4,status:"success",createdAt:"2025-06-03T15:20:30",updatedAt:"2025-06-03T15:22:15",refNumber:"REF-876543219",message:"Refund untuk transaksi gagal TRX-123463"}];function WCe(){const t=kt(),[e,r]=v.useState("all"),[n,a]=v.useState(!1),[s,o]=v.useState("all"),[l,c]=v.useState("all"),[u,A]=v.useState("all"),[d,h]=v.useState(1),[f,m]=v.useState(""),[g,p]=v.useState(!1),[b,x]=v.useState(!1),y=new URLSearchParams(window.location.search).get("filter");v.useEffect(()=>{y==="in"?c("topup"):y==="out"&&c("payment")},[y]);const[C,E]=v.useState(null),[B,j]=v.useState(!1),N=[{value:"all",label:"Semua Periode"},{value:"this_month",label:"Bulan Ini"},{value:"last_month",label:"Bulan Lalu"},{value:"last_3_months",label:"3 Bulan Terakhir"},{value:"last_6_months",label:"6 Bulan Terakhir"},{value:"custom",label:"Periode Tertentu"}],S=[{value:"all",label:"Semua Transaksi"},{value:"payment",label:"Pembayaran"},{value:"topup",label:"Top Up"},{value:"transfer",label:"Transfer"},{value:"refund",label:"Refund"}],T=[{value:"all",label:"Semua Status",color:"gray"},{value:"success",label:"Berhasil",color:"green"},{value:"pending",label:"Dalam Proses",color:"yellow"},{value:"failed",label:"Gagal",color:"red"}],I=zCe.filter(Q=>{if(!(f===""||Q.id.toLowerCase().includes(f.toLowerCase())||Q.productName.toLowerCase().includes(f.toLowerCase())||Q.customerId&&Q.customerId.toLowerCase().includes(f.toLowerCase())))return!1;let q=!0;if(s!=="all"){const oe=new Date(Q.createdAt),ne=new Date,ce=ne.getDate(),de=ne.getMonth(),be=ne.getFullYear();if(s==="today")q=oe.getDate()===ce&&oe.getMonth()===de&&oe.getFullYear()===be;else if(s==="week"){const Y=new Date(ne);Y.setDate(ne.getDate()-ne.getDay()),Y.setHours(0,0,0,0),q=oe>=Y}else s==="month"&&(q=oe.getMonth()===de&&oe.getFullYear()===be)}return!q||!(l==="all"||Q.type===l)||!(u==="all"||Q.status===u)?!1:b?Q.type==="topup"||Q.type==="withdraw"||Q.paymentMethod==="wallet"||Q.productName.toLowerCase().includes("wallet")||Q.description&&Q.description.toLowerCase().includes("wallet"):!0}),k=5,R=Math.ceil(I.length/k),M=I.slice((d-1)*k,d*k),$=Q=>{E(Q),j(!0)},U=Q=>{const z=T.find(q=>q.value===Q);return z?i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium bg-${z.color}-100 text-${z.color}-800`,children:z.label}):null},O=Q=>{switch(Q){case"payment":return i.jsx(J.creditCard,{className:"h-5 w-5 text-blue-500"});case"topup":return i.jsx(J.plus,{className:"h-5 w-5 text-green-500"});case"transfer":return i.jsx(J.arrowRight,{className:"h-5 w-5 text-orange-500"});case"refund":return i.jsx(J.arrowRight,{className:"h-5 w-5 text-purple-500 rotate-180"});default:return i.jsx(J.activity,{className:"h-5 w-5"})}},L=()=>{p(!0),setTimeout(()=>{p(!1)},1e3)};v.useEffect(()=>{c(e==="in"?"topup":e==="out"?"payment":"all")},[e]);const H=()=>{a(!1),p(!0)},D=Q=>Q.reduce((z,q)=>{const W=new Date(q.createdAt);let ee;return EBe(W)?ee="Hari Ini":NBe(W)?ee="Kemarin":jBe(W)?ee=un(W,"EEEE",{locale:as}):CBe(W)?ee=un(W,"d MMMM",{locale:as}):ee=un(W,"d MMMM yyyy",{locale:as}),z[ee]||(z[ee]=[]),z[ee].push(q),z},{});return i.jsxs(Kt,{children:[i.jsxs("div",{className:"bg-white sticky top-0 z-10 border-b border-gray-100",children:[i.jsxs("div",{className:"flex items-center px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob/wallet"),className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100",children:i.jsx(J.chevronLeft,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold ml-4 flex-1",children:"Riwayat Transaksi"}),i.jsx("button",{onClick:L,className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100",children:i.jsx(J.refreshCw,{className:"h-4 w-4"})}),i.jsxs(mi,{open:n,onOpenChange:a,children:[i.jsx(Bv,{asChild:!0,children:i.jsx("button",{className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100 ml-1",children:i.jsx(J.filter,{className:"h-4 w-4"})})}),i.jsxs(Rs,{side:"right",className:"w-[300px] sm:w-[400px]",children:[i.jsx(pi,{children:i.jsx(gi,{children:"Filter Transaksi"})}),i.jsxs("div",{className:"py-6 space-y-5",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Periode"}),i.jsxs(Cn,{value:s,onValueChange:o,children:[i.jsx(ln,{className:"w-full",children:i.jsx(jn,{placeholder:"Pilih periode"})}),i.jsx(cn,{children:N.map(Q=>i.jsx(mt,{value:Q.value,children:Q.label},Q.value))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Jenis Transaksi"}),i.jsxs(Cn,{value:l,onValueChange:c,children:[i.jsx(ln,{className:"w-full",children:i.jsx(jn,{placeholder:"Pilih jenis transaksi"})}),i.jsx(cn,{children:S.map(Q=>i.jsx(mt,{value:Q.value,children:Q.label},Q.value))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Status"}),i.jsxs(Cn,{value:u,onValueChange:A,children:[i.jsx(ln,{className:"w-full",children:i.jsx(jn,{placeholder:"Pilih status"})}),i.jsx(cn,{children:T.map(Q=>i.jsx(mt,{value:Q.value,children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-2 h-2 rounded-full bg-${Q.color}-500 mr-2`}),Q.label]})},Q.value))})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"walletOnly",checked:b,onChange:Q=>x(Q.target.checked),className:"rounded border-gray-300 text-primary focus:ring-primary"}),i.jsx("label",{htmlFor:"walletOnly",className:"text-sm font-medium",children:"Hanya transaksi dompet PPOB"})]})]}),i.jsx(no,{children:i.jsx(G,{onClick:H,className:"w-full",children:"Terapkan Filter"})})]})]})]}),i.jsx(ya,{defaultValue:"all",value:e,onValueChange:Q=>r(Q),className:"w-full",children:i.jsxs(sa,{className:"w-full grid grid-cols-3 h-12 bg-gray-100 p-1 rounded-none",children:[i.jsx(Et,{value:"all",className:"rounded-md data-[state=active]:bg-white",children:"Semua"}),i.jsxs(Et,{value:"in",className:"rounded-md data-[state=active]:bg-white",children:[i.jsx(J.arrowDownCircle,{className:"h-4 w-4 mr-1 text-green-500"}),"Masuk"]}),i.jsxs(Et,{value:"out",className:"rounded-md data-[state=active]:bg-white",children:[i.jsx(J.arrowUpCircle,{className:"h-4 w-4 mr-1 text-red-500"}),"Keluar"]})]})})]}),i.jsx("div",{className:"px-4 py-3 bg-white border-b border-gray-100",children:i.jsxs("div",{className:"relative",children:[i.jsx(J.search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(ue,{value:f,onChange:Q=>m(Q.target.value),placeholder:"Cari transaksi...",className:"pl-10 pr-4 py-2 w-full bg-gray-50 border-gray-200"})]})}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-6",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Cari Transaksi"}),i.jsx(ue,{placeholder:"Cari transaksi...",value:f,onChange:Q=>m(Q.target.value),className:"w-full"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Periode"}),i.jsxs(Cn,{value:s,onValueChange:o,children:[i.jsx(ln,{children:i.jsx(jn,{placeholder:"Pilih periode"})}),i.jsxs(cn,{children:[i.jsx(mt,{value:"all",children:"Semua Waktu"}),i.jsx(mt,{value:"today",children:"Hari Ini"}),i.jsx(mt,{value:"week",children:"Minggu Ini"}),i.jsx(mt,{value:"month",children:"Bulan Ini"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Jenis Transaksi"}),i.jsxs(Cn,{value:l,onValueChange:c,children:[i.jsx(ln,{children:i.jsx(jn,{placeholder:"Pilih jenis transaksi"})}),i.jsxs(cn,{children:[i.jsx(mt,{value:"all",children:"Semua Jenis"}),i.jsx(mt,{value:"payment",children:"Pembayaran"}),i.jsx(mt,{value:"topup",children:"Top Up"}),i.jsx(mt,{value:"transfer",children:"Transfer"}),i.jsx(mt,{value:"refund",children:"Refund"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Status"}),i.jsxs(Cn,{value:u,onValueChange:A,children:[i.jsx(ln,{children:i.jsx(jn,{placeholder:"Pilih status"})}),i.jsx(cn,{children:T.map(Q=>i.jsx(mt,{value:Q.value,children:Q.label},Q.value))})]})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between mt-4 pb-2",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 overflow-x-auto",children:[i.jsxs(G,{variant:l==="all"?"default":"outline",size:"sm",onClick:()=>c("all"),className:"whitespace-nowrap",children:[i.jsx(J.activity,{className:"mr-2 h-4 w-4"}),"Semua"]}),i.jsxs(G,{variant:l==="topup"?"default":"outline",size:"sm",onClick:()=>c("topup"),className:"whitespace-nowrap",children:[i.jsx(J.arrowRight,{className:"mr-2 h-4 w-4 rotate-180"}),"Masuk"]}),i.jsxs(G,{variant:l==="payment"?"default":"outline",size:"sm",onClick:()=>c("payment"),className:"whitespace-nowrap",children:[i.jsx(J.arrowRight,{className:"mr-2 h-4 w-4"}),"Keluar"]}),i.jsxs(G,{variant:l==="transfer"?"default":"outline",size:"sm",onClick:()=>c("transfer"),className:"whitespace-nowrap",children:[i.jsx(J.repeat,{className:"mr-2 h-4 w-4"}),"Transfer"]}),i.jsxs(G,{variant:l==="refund"?"default":"outline",size:"sm",onClick:()=>c("refund"),className:"whitespace-nowrap",children:[i.jsx(J.undo,{className:"mr-2 h-4 w-4"}),"Refund"]})]}),i.jsxs(G,{variant:b?"default":"outline",size:"sm",onClick:()=>x(!b),title:b?"Semua Transaksi":"Hanya Transaksi Wallet",children:[i.jsx(J.wallet,{className:"mr-2 h-4 w-4"}),b?"Semua Transaksi":"Transaksi Wallet"]})]})]}),i.jsx(ou,{className:"flex-1 h-[calc(100vh-180px)]",children:g?i.jsx("div",{className:"p-4 space-y-4",children:[1,2,3,4,5].map(Q=>i.jsx(_e,{className:"overflow-hidden",children:i.jsx(Be,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx($h,{className:"h-10 w-10 rounded-full"}),i.jsxs("div",{className:"space-y-2 flex-1",children:[i.jsx($h,{className:"h-4 w-3/4"}),i.jsx($h,{className:"h-3 w-1/2"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx($h,{className:"h-4 w-20 ml-auto"}),i.jsx($h,{className:"h-3 w-16 mt-2 ml-auto"})]})]})})},Q))}):M.length>0?i.jsx("div",{className:"divide-y divide-gray-100",children:Object.entries(D(M)).map(([Q,z])=>i.jsxs("div",{className:"bg-white",children:[i.jsx("div",{className:"sticky top-0 bg-gray-50 px-4 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider",children:Q}),i.jsx("div",{className:"divide-y divide-gray-100",children:z.map(q=>i.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors cursor-pointer active:bg-gray-100",onClick:()=>$(q),children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"flex-shrink-0 bg-blue-50 rounded-full p-2 mt-0.5",children:O(q.type)}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-gray-900",children:q.productName}),i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:q.id}),i.jsx("div",{className:"mt-1",children:U(q.status)})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:`font-medium ${q.type==="topup"||q.type==="refund"?"text-green-600":"text-red-600"}`,children:[q.type==="topup"||q.type==="refund"?"+":"-",ve(q.totalAmount)]}),i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:un(new Date(q.createdAt),"HH:mm")})]})]})},q.id))})]},Q))}):i.jsxs("div",{className:"py-12 flex flex-col items-center justify-center text-center px-4",children:[i.jsx("div",{className:"bg-gray-50 rounded-full p-4 mb-4",children:i.jsx(J.fileSearch,{className:"h-8 w-8 text-gray-400"})}),i.jsx("h3",{className:"font-medium text-gray-900",children:"Tidak ada transaksi"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1 max-w-xs",children:"Tidak ada transaksi yang sesuai dengan filter yang dipilih."}),i.jsxs(G,{variant:"outline",size:"sm",onClick:()=>{c("all"),A("all"),o("all"),m(""),x(!1),r("all")},className:"mt-4",children:[i.jsx(J.filterX,{className:"h-4 w-4 mr-2"}),"Reset Filter"]})]})}),M.length>0&&R>1&&i.jsx("div",{className:"py-4 border-t border-gray-100 bg-white sticky bottom-0 left-0 right-0 px-4",children:i.jsx(_W,{children:i.jsxs(BW,{children:[i.jsx(lx,{children:i.jsx(CW,{onClick:()=>h(Math.max(1,d-1)),"aria-disabled":d===1,className:d===1?"pointer-events-none opacity-50":""})}),Array.from({length:Math.min(R,5)}).map((Q,z)=>{let q=z+1;return R>5&&d>3&&(q=d-3+z,q>R)?null:i.jsx(lx,{children:i.jsx(lw,{onClick:()=>h(q),isActive:d===q,children:q})},z)}),i.jsx(lx,{children:i.jsx(jW,{onClick:()=>h(Math.min(R,d+1)),"aria-disabled":d===R,className:d===R?"pointer-events-none opacity-50":""})})]})})}),i.jsx(lr,{open:B,onOpenChange:j,children:i.jsx(nr,{className:"sm:max-w-md p-0",children:C&&i.jsx(GCe,{transaction:C,onClose:()=>j(!1)})})})]})}var p_={exports:{}},g_,KR;function XCe(){if(KR)return g_;KR=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return g_=t,g_}var x_,qR;function YCe(){if(qR)return x_;qR=1;var t=XCe();function e(){}function r(){}return r.resetWarningCache=e,x_=function(){function n(o,l,c,u,A,d){if(d!==t){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}n.isRequired=n;function a(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},x_}var GR;function mI(){return GR||(GR=1,p_.exports=YCe()()),p_.exports}var JCe=mI();const ze=Ht(JCe);var v_,zR;function ZCe(){if(zR)return v_;zR=1;function t(l){return l&&typeof l=="object"&&"default"in l?l.default:l}var e=Bp(),r=t(e);function n(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}function a(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,l.__proto__=c}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(l,c,u){if(typeof l!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof c!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof u<"u"&&typeof u!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function A(d){return d.displayName||d.name||"Component"}return function(h){if(typeof h!="function")throw new Error("Expected WrappedComponent to be a React component.");var f=[],m;function g(){m=l(f.map(function(b){return b.props})),p.canUseDOM?c(m):u&&(m=u(m))}var p=function(b){a(x,b);function x(){return b.apply(this,arguments)||this}x.peek=function(){return m},x.rewind=function(){if(x.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var C=m;return m=void 0,f=[],C};var w=x.prototype;return w.UNSAFE_componentWillMount=function(){f.push(this),g()},w.componentDidUpdate=function(){g()},w.componentWillUnmount=function(){var C=f.indexOf(this);f.splice(C,1),g()},w.render=function(){return r.createElement(h,this.props)},x}(e.PureComponent);return n(p,"displayName","SideEffect("+A(h)+")"),n(p,"canUseDOM",s),p}}return v_=o,v_}var eje=ZCe();const tje=Ht(eje);var y_,WR;function rje(){if(WR)return y_;WR=1;var t=typeof Element<"u",e=typeof Map=="function",r=typeof Set=="function",n=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function a(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var l,c,u;if(Array.isArray(s)){if(l=s.length,l!=o.length)return!1;for(c=l;c--!==0;)if(!a(s[c],o[c]))return!1;return!0}var A;if(e&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(A=s.entries();!(c=A.next()).done;)if(!o.has(c.value[0]))return!1;for(A=s.entries();!(c=A.next()).done;)if(!a(c.value[1],o.get(c.value[0])))return!1;return!0}if(r&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(A=s.entries();!(c=A.next()).done;)if(!o.has(c.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(l=s.length,l!=o.length)return!1;for(c=l;c--!==0;)if(s[c]!==o[c])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(u=Object.keys(s),l=u.length,l!==Object.keys(o).length)return!1;for(c=l;c--!==0;)if(!Object.prototype.hasOwnProperty.call(o,u[c]))return!1;if(t&&s instanceof Element)return!1;for(c=l;c--!==0;)if(!((u[c]==="_owner"||u[c]==="__v"||u[c]==="__o")&&s.$$typeof)&&!a(s[u[c]],o[u[c]]))return!1;return!0}return s!==s&&o!==o}return y_=function(o,l){try{return a(o,l)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},y_}var nje=rje();const aje=Ht(nje);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var b_,XR;function sje(){if(XR)return b_;XR=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function n(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function a(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var o={},l=0;l<10;l++)o["_"+String.fromCharCode(l)]=l;var c=Object.getOwnPropertyNames(o).map(function(A){return o[A]});if(c.join("")!=="0123456789")return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach(function(A){u[A]=A}),Object.keys(Object.assign({},u)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return b_=a()?Object.assign:function(s,o){for(var l,c=n(s),u,A=1;A<arguments.length;A++){l=Object(arguments[A]);for(var d in l)e.call(l,d)&&(c[d]=l[d]);if(t){u=t(l);for(var h=0;h<u.length;h++)r.call(l,u[h])&&(c[u[h]]=l[u[h]])}}return c},b_}var ije=sje();const oje=Ht(ije);var Hc={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},gt={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(gt).map(function(t){return gt[t]});var _r={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Jv={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Um={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},lje=Object.keys(Jv).reduce(function(t,e){return t[Jv[e]]=e,t},{}),cje=[gt.NOSCRIPT,gt.SCRIPT,gt.STYLE],Ns="data-react-helmet",uje=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Aje=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},dje=function(){function t(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),ha=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hje=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},YR=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},fje=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},F2=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},mje=function(e){var r=BA(e,gt.TITLE),n=BA(e,Um.TITLE_TEMPLATE);if(n&&r)return n.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var a=BA(e,Um.DEFAULT_TITLE);return r||a||void 0},pje=function(e){return BA(e,Um.ON_CHANGE_CLIENT_STATE)||function(){}},w_=function(e,r){return r.filter(function(n){return typeof n[e]<"u"}).map(function(n){return n[e]}).reduce(function(n,a){return ha({},n,a)},{})},gje=function(e,r){return r.filter(function(n){return typeof n[gt.BASE]<"u"}).map(function(n){return n[gt.BASE]}).reverse().reduce(function(n,a){if(!n.length)for(var s=Object.keys(a),o=0;o<s.length;o++){var l=s[o],c=l.toLowerCase();if(e.indexOf(c)!==-1&&a[c])return n.concat(a)}return n},[])},Vh=function(e,r,n){var a={};return n.filter(function(s){return Array.isArray(s[e])?!0:(typeof s[e]<"u"&&bje("Helmet: "+e+' should be of type "Array". Instead found type "'+uje(s[e])+'"'),!1)}).map(function(s){return s[e]}).reverse().reduce(function(s,o){var l={};o.filter(function(h){for(var f=void 0,m=Object.keys(h),g=0;g<m.length;g++){var p=m[g],b=p.toLowerCase();r.indexOf(b)!==-1&&!(f===_r.REL&&h[f].toLowerCase()==="canonical")&&!(b===_r.REL&&h[b].toLowerCase()==="stylesheet")&&(f=b),r.indexOf(p)!==-1&&(p===_r.INNER_HTML||p===_r.CSS_TEXT||p===_r.ITEM_PROP)&&(f=p)}if(!f||!h[f])return!1;var x=h[f].toLowerCase();return a[f]||(a[f]={}),l[f]||(l[f]={}),a[f][x]?!1:(l[f][x]=!0,!0)}).reverse().forEach(function(h){return s.push(h)});for(var c=Object.keys(l),u=0;u<c.length;u++){var A=c[u],d=oje({},a[A],l[A]);a[A]=d}return s},[]).reverse()},BA=function(e,r){for(var n=e.length-1;n>=0;n--){var a=e[n];if(a.hasOwnProperty(r))return a[r]}return null},xje=function(e){return{baseTag:gje([_r.HREF,_r.TARGET],e),bodyAttributes:w_(Hc.BODY,e),defer:BA(e,Um.DEFER),encode:BA(e,Um.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:w_(Hc.HTML,e),linkTags:Vh(gt.LINK,[_r.REL,_r.HREF],e),metaTags:Vh(gt.META,[_r.NAME,_r.CHARSET,_r.HTTPEQUIV,_r.PROPERTY,_r.ITEM_PROP],e),noscriptTags:Vh(gt.NOSCRIPT,[_r.INNER_HTML],e),onChangeClientState:pje(e),scriptTags:Vh(gt.SCRIPT,[_r.SRC,_r.INNER_HTML],e),styleTags:Vh(gt.STYLE,[_r.CSS_TEXT],e),title:mje(e),titleAttributes:w_(Hc.TITLE,e)}},D2=function(){var t=Date.now();return function(e){var r=Date.now();r-t>16?(t=r,e(r)):setTimeout(function(){D2(e)},0)}}(),JR=function(e){return clearTimeout(e)},vje=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||D2:global.requestAnimationFrame||D2,yje=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||JR:global.cancelAnimationFrame||JR,bje=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Kh=null,wje=function(e){Kh&&yje(Kh),e.defer?Kh=vje(function(){ZR(e,function(){Kh=null})}):(ZR(e),Kh=null)},ZR=function(e,r){var n=e.baseTag,a=e.bodyAttributes,s=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.onChangeClientState,A=e.scriptTags,d=e.styleTags,h=e.title,f=e.titleAttributes;O2(gt.BODY,a),O2(gt.HTML,s),_je(h,f);var m={baseTag:Xu(gt.BASE,n),linkTags:Xu(gt.LINK,o),metaTags:Xu(gt.META,l),noscriptTags:Xu(gt.NOSCRIPT,c),scriptTags:Xu(gt.SCRIPT,A),styleTags:Xu(gt.STYLE,d)},g={},p={};Object.keys(m).forEach(function(b){var x=m[b],w=x.newTags,y=x.oldTags;w.length&&(g[b]=w),y.length&&(p[b]=m[b].oldTags)}),r&&r(),u(e,g,p)},EW=function(e){return Array.isArray(e)?e.join(""):e},_je=function(e,r){typeof e<"u"&&document.title!==e&&(document.title=EW(e)),O2(gt.TITLE,r)},O2=function(e,r){var n=document.getElementsByTagName(e)[0];if(n){for(var a=n.getAttribute(Ns),s=a?a.split(","):[],o=[].concat(s),l=Object.keys(r),c=0;c<l.length;c++){var u=l[c],A=r[u]||"";n.getAttribute(u)!==A&&n.setAttribute(u,A),s.indexOf(u)===-1&&s.push(u);var d=o.indexOf(u);d!==-1&&o.splice(d,1)}for(var h=o.length-1;h>=0;h--)n.removeAttribute(o[h]);s.length===o.length?n.removeAttribute(Ns):n.getAttribute(Ns)!==l.join(",")&&n.setAttribute(Ns,l.join(","))}},Xu=function(e,r){var n=document.head||document.querySelector(gt.HEAD),a=n.querySelectorAll(e+"["+Ns+"]"),s=Array.prototype.slice.call(a),o=[],l=void 0;return r&&r.length&&r.forEach(function(c){var u=document.createElement(e);for(var A in c)if(c.hasOwnProperty(A))if(A===_r.INNER_HTML)u.innerHTML=c.innerHTML;else if(A===_r.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var d=typeof c[A]>"u"?"":c[A];u.setAttribute(A,d)}u.setAttribute(Ns,"true"),s.some(function(h,f){return l=f,u.isEqualNode(h)})?s.splice(l,1):o.push(u)}),s.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return n.appendChild(c)}),{oldTags:s,newTags:o}},SW=function(e){return Object.keys(e).reduce(function(r,n){var a=typeof e[n]<"u"?n+'="'+e[n]+'"':""+n;return r?r+" "+a:a},"")},Bje=function(e,r,n,a){var s=SW(n),o=EW(r);return s?"<"+e+" "+Ns+'="true" '+s+">"+F2(o,a)+"</"+e+">":"<"+e+" "+Ns+'="true">'+F2(o,a)+"</"+e+">"},Cje=function(e,r,n){return r.reduce(function(a,s){var o=Object.keys(s).filter(function(u){return!(u===_r.INNER_HTML||u===_r.CSS_TEXT)}).reduce(function(u,A){var d=typeof s[A]>"u"?A:A+'="'+F2(s[A],n)+'"';return u?u+" "+d:d},""),l=s.innerHTML||s.cssText||"",c=cje.indexOf(e)===-1;return a+"<"+e+" "+Ns+'="true" '+o+(c?"/>":">"+l+"</"+e+">")},"")},NW=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(n,a){return n[Jv[a]||a]=e[a],n},r)},jje=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(n,a){return n[lje[a]||a]=e[a],n},r)},Eje=function(e,r,n){var a,s=(a={key:r},a[Ns]=!0,a),o=NW(n,s);return[K.createElement(gt.TITLE,o,r)]},Sje=function(e,r){return r.map(function(n,a){var s,o=(s={key:a},s[Ns]=!0,s);return Object.keys(n).forEach(function(l){var c=Jv[l]||l;if(c===_r.INNER_HTML||c===_r.CSS_TEXT){var u=n.innerHTML||n.cssText;o.dangerouslySetInnerHTML={__html:u}}else o[c]=n[l]}),K.createElement(e,o)})},Pi=function(e,r,n){switch(e){case gt.TITLE:return{toComponent:function(){return Eje(e,r.title,r.titleAttributes)},toString:function(){return Bje(e,r.title,r.titleAttributes,n)}};case Hc.BODY:case Hc.HTML:return{toComponent:function(){return NW(r)},toString:function(){return SW(r)}};default:return{toComponent:function(){return Sje(e,r)},toString:function(){return Cje(e,r,n)}}}},TW=function(e){var r=e.baseTag,n=e.bodyAttributes,a=e.encode,s=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.scriptTags,A=e.styleTags,d=e.title,h=d===void 0?"":d,f=e.titleAttributes;return{base:Pi(gt.BASE,r,a),bodyAttributes:Pi(Hc.BODY,n,a),htmlAttributes:Pi(Hc.HTML,s,a),link:Pi(gt.LINK,o,a),meta:Pi(gt.META,l,a),noscript:Pi(gt.NOSCRIPT,c,a),script:Pi(gt.SCRIPT,u,a),style:Pi(gt.STYLE,A,a),title:Pi(gt.TITLE,{title:h,titleAttributes:f},a)}},Nje=function(e){var r,n;return n=r=function(a){hje(s,a);function s(){return Aje(this,s),fje(this,a.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(l){return!aje(this.props,l)},s.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case gt.SCRIPT:case gt.NOSCRIPT:return{innerHTML:c};case gt.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,A=l.arrayTypeChildren,d=l.newChildProps,h=l.nestedChildren;return ha({},A,(c={},c[u.type]=[].concat(A[u.type]||[],[ha({},d,this.mapNestedChildrenToProps(u,h))]),c))},s.prototype.mapObjectTypeChildren=function(l){var c,u,A=l.child,d=l.newProps,h=l.newChildProps,f=l.nestedChildren;switch(A.type){case gt.TITLE:return ha({},d,(c={},c[A.type]=f,c.titleAttributes=ha({},h),c));case gt.BODY:return ha({},d,{bodyAttributes:ha({},h)});case gt.HTML:return ha({},d,{htmlAttributes:ha({},h)})}return ha({},d,(u={},u[A.type]=ha({},h),u))},s.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=ha({},c);return Object.keys(l).forEach(function(A){var d;u=ha({},u,(d={},d[A]=l[A],d))}),u},s.prototype.warnOnInvalidChildren=function(l,c){return!0},s.prototype.mapChildrenToProps=function(l,c){var u=this,A={};return K.Children.forEach(l,function(d){if(!(!d||!d.props)){var h=d.props,f=h.children,m=YR(h,["children"]),g=jje(m);switch(u.warnOnInvalidChildren(d,f),d.type){case gt.LINK:case gt.META:case gt.NOSCRIPT:case gt.SCRIPT:case gt.STYLE:A=u.flattenArrayTypeChildren({child:d,arrayTypeChildren:A,newChildProps:g,nestedChildren:f});break;default:c=u.mapObjectTypeChildren({child:d,newProps:c,newChildProps:g,nestedChildren:f});break}}}),c=this.mapArrayTypeChildrenToProps(A,c),c},s.prototype.render=function(){var l=this.props,c=l.children,u=YR(l,["children"]),A=ha({},u);return c&&(A=this.mapChildrenToProps(c,A)),K.createElement(e,A)},dje(s,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),s}(K.Component),r.propTypes={base:ze.object,bodyAttributes:ze.object,children:ze.oneOfType([ze.arrayOf(ze.node),ze.node]),defaultTitle:ze.string,defer:ze.bool,encodeSpecialCharacters:ze.bool,htmlAttributes:ze.object,link:ze.arrayOf(ze.object),meta:ze.arrayOf(ze.object),noscript:ze.arrayOf(ze.object),onChangeClientState:ze.func,script:ze.arrayOf(ze.object),style:ze.arrayOf(ze.object),title:ze.string,titleAttributes:ze.object,titleTemplate:ze.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=e.peek,r.rewind=function(){var a=e.rewind();return a||(a=TW({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),a},n},Tje=function(){return null},kje=tje(xje,wje,TW)(Tje),Fs=Nje(kje);Fs.renderStatic=Fs.rewind;function Ije({children:t}){const{user:e}=Pr();return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("header",{className:"bg-white shadow-sm",children:i.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[i.jsx(dt,{to:"/",className:"text-xl font-bold text-primary",children:"JPC Digi"}),i.jsxs("nav",{className:"hidden md:flex space-x-6",children:[i.jsx(dt,{to:"/",className:"text-gray-700 hover:text-primary",children:"Beranda"}),i.jsx(dt,{to:"/search",className:"text-gray-700 hover:text-primary",children:"Produk"}),i.jsx(dt,{to:"/ppob",className:"text-gray-700 hover:text-primary",children:"PPOB"}),i.jsx(dt,{to:"/orders",className:"text-gray-700 hover:text-primary",children:"Pesanan"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(dt,{to:"/cart",className:"text-gray-700 hover:text-primary",children:[i.jsx("span",{className:"sr-only",children:"Keranjang"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})]}),i.jsxs(dt,{to:"/profile",className:"text-gray-700 hover:text-primary",children:[i.jsx("span",{className:"sr-only",children:"Profil"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})]})]})]})}),i.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-10",children:i.jsxs("div",{className:"grid grid-cols-5",children:[i.jsxs(dt,{to:"/",className:"flex flex-col items-center py-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),i.jsx("span",{className:"text-xs",children:"Beranda"})]}),i.jsxs(dt,{to:"/search",className:"flex flex-col items-center py-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i.jsx("span",{className:"text-xs",children:"Produk"})]}),i.jsxs(dt,{to:"/ppob",className:"flex flex-col items-center py-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{className:"text-xs",children:"PPOB"})]}),i.jsxs(dt,{to:"/cart",className:"flex flex-col items-center py-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),i.jsx("span",{className:"text-xs",children:"Keranjang"})]}),i.jsxs(dt,{to:"/profile",className:"flex flex-col items-center py-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),i.jsx("span",{className:"text-xs",children:"Profil"})]})]})}),i.jsx("main",{className:"pb-20 md:pb-0",children:t}),i.jsx("footer",{className:"bg-gray-800 text-gray-300 py-8 mt-12",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"JPC Digi"}),i.jsx("p",{className:"text-sm",children:"Platform digital terpercaya untuk kebutuhan belanja dan layanan PPOB Anda."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Hubungi Kami"}),i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsx("li",{children:"Email: support@jpcdigi.com"}),i.jsx("li",{children:"Telepon: (021) 1234-5678"}),i.jsx("li",{children:"WhatsApp: 0812-3456-7890"})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Ikuti Kami"}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs("a",{href:"#",className:"text-gray-300 hover:text-white",children:[i.jsx("span",{className:"sr-only",children:"Facebook"}),i.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),i.jsxs("a",{href:"#",className:"text-gray-300 hover:text-white",children:[i.jsx("span",{className:"sr-only",children:"Instagram"}),i.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),i.jsxs("a",{href:"#",className:"text-gray-300 hover:text-white",children:[i.jsx("span",{className:"sr-only",children:"Twitter"}),i.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]})]})]})]}),i.jsx("div",{className:"mt-8 border-t border-gray-700 pt-6 text-sm text-center",children:i.jsxs("p",{children:[" ",new Date().getFullYear()," JPC Digi. All rights reserved."]})})]})})]})}function Pje(){const[t,e]=v.useState("identity"),[r,n]=v.useState(!1),[a,s]=v.useState(!1),[o,l]=v.useState(null),[c,u]=v.useState(null),A=kt(),[d,h]=v.useState({nik:"",fullName:"",birthPlace:"",birthDate:"",gender:"",address:"",rt:"",rw:"",village:"",district:"",city:"",province:"",religion:"",maritalStatus:"",occupation:""}),f=b=>{const{name:x,value:w}=b.target;h(y=>({...y,[x]:w}))},m=b=>{b.target.files&&b.target.files[0]&&(n(!0),setTimeout(()=>{const x=new FileReader;x.onload=w=>{w.target&&l(w.target.result)},x.readAsDataURL(b.target.files[0]),n(!1)},1500))},g=b=>{b.target.files&&b.target.files[0]&&(n(!0),setTimeout(()=>{const x=new FileReader;x.onload=w=>{w.target&&u(w.target.result)},x.readAsDataURL(b.target.files[0]),n(!1)},1500))},p=b=>{b.preventDefault(),s(!0),setTimeout(()=>{s(!1),A("/ppob")},2e3)};return i.jsxs(Ije,{children:[i.jsxs(Fs,{children:[i.jsx("title",{children:"Verifikasi Identitas - JPC Digi"}),i.jsx("meta",{name:"description",content:"Verifikasi identitas untuk menggunakan layanan PPOB JPC Digi"})]}),i.jsx("div",{className:"container py-8",children:i.jsxs("div",{className:"max-w-3xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Verifikasi Identitas"}),i.jsx("p",{className:"text-muted-foreground",children:"Verifikasi identitas Anda untuk menggunakan layanan PPOB secara lengkap"})]}),i.jsxs("div",{className:"flex space-x-2 mt-4 sm:mt-0",children:[i.jsxs(G,{variant:"outline",onClick:()=>A("/ppob/wallet"),children:[i.jsx(J.wallet,{className:"mr-2 h-4 w-4"}),"Wallet Saya"]}),i.jsx(G,{variant:"outline",onClick:()=>A("/ppob"),children:"Kembali ke PPOB"})]})]}),i.jsxs(_e,{children:[i.jsxs(at,{children:[i.jsx(st,{children:"Lengkapi Verifikasi"}),i.jsx(rr,{children:"Verifikasi identitas sesuai dengan regulasi untuk keamanan transaksi"})]}),i.jsx(Be,{children:i.jsxs(ya,{value:t,onValueChange:e,children:[i.jsxs(sa,{className:"grid grid-cols-2 mb-6",children:[i.jsx(Et,{value:"identity",children:"Data Diri"}),i.jsx(Et,{value:"documents",children:"Dokumen"})]}),i.jsx(Gt,{value:"identity",children:i.jsxs("form",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"nik",children:"Nomor KTP (NIK)"}),i.jsx(ue,{id:"nik",name:"nik",placeholder:"Masukkan 16 digit NIK",value:d.nik,onChange:f})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"fullName",children:"Nama Lengkap"}),i.jsx(ue,{id:"fullName",name:"fullName",placeholder:"Sesuai KTP",value:d.fullName,onChange:f})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"birthPlace",children:"Tempat Lahir"}),i.jsx(ue,{id:"birthPlace",name:"birthPlace",placeholder:"Kota kelahiran",value:d.birthPlace,onChange:f})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"birthDate",children:"Tanggal Lahir"}),i.jsx(ue,{id:"birthDate",name:"birthDate",type:"date",value:d.birthDate,onChange:f})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"address",children:"Alamat"}),i.jsx(ue,{id:"address",name:"address",placeholder:"Alamat lengkap sesuai KTP",value:d.address,onChange:f})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"rt",children:"RT"}),i.jsx(ue,{id:"rt",name:"rt",placeholder:"RT",value:d.rt,onChange:f})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"rw",children:"RW"}),i.jsx(ue,{id:"rw",name:"rw",placeholder:"RW",value:d.rw,onChange:f})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"village",children:"Kelurahan/Desa"}),i.jsx(ue,{id:"village",name:"village",placeholder:"Kelurahan/Desa",value:d.village,onChange:f})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"district",children:"Kecamatan"}),i.jsx(ue,{id:"district",name:"district",placeholder:"Kecamatan",value:d.district,onChange:f})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"city",children:"Kota/Kabupaten"}),i.jsx(ue,{id:"city",name:"city",placeholder:"Kota/Kabupaten",value:d.city,onChange:f})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"province",children:"Provinsi"}),i.jsx(ue,{id:"province",name:"province",placeholder:"Provinsi",value:d.province,onChange:f})]})]}),i.jsx(G,{type:"button",className:"w-full mt-4",onClick:()=>e("documents"),children:"Lanjutkan"})]})}),i.jsx(Gt,{value:"documents",children:i.jsxs("form",{onSubmit:p,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Foto KTP"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Unggah foto KTP yang jelas dan tidak terpotong"}),o?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:o,alt:"KTP",className:"w-full max-h-60 object-contain border rounded-md"}),i.jsx(G,{type:"button",variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>l(null),children:"Ganti"})]}):i.jsxs("div",{className:"border border-dashed rounded-md p-8 text-center",children:[i.jsx("input",{type:"file",id:"identity-upload",className:"hidden",accept:"image/*",onChange:m,disabled:r}),i.jsx("label",{htmlFor:"identity-upload",className:"cursor-pointer block",children:r?i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(J.spinner,{className:"h-8 w-8 animate-spin text-primary mb-2"}),i.jsx("p",{children:"Mengunggah..."})]}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mx-auto text-muted-foreground mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),i.jsx("p",{children:"Klik untuk mengunggah foto KTP"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Format: JPG, PNG, maksimal 5MB"})]})})]})]}),i.jsx(Gn,{className:"my-6"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Foto Selfie dengan KTP"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Unggah foto diri Anda sambil memegang KTP"}),c?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:c,alt:"Selfie dengan KTP",className:"w-full max-h-60 object-contain border rounded-md"}),i.jsx(G,{type:"button",variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>u(null),children:"Ganti"})]}):i.jsxs("div",{className:"border border-dashed rounded-md p-8 text-center",children:[i.jsx("input",{type:"file",id:"selfie-upload",className:"hidden",accept:"image/*",onChange:g,disabled:r}),i.jsx("label",{htmlFor:"selfie-upload",className:"cursor-pointer block",children:r?i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(J.spinner,{className:"h-8 w-8 animate-spin text-primary mb-2"}),i.jsx("p",{children:"Mengunggah..."})]}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mx-auto text-muted-foreground mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),i.jsx("p",{children:"Klik untuk mengunggah foto selfie dengan KTP"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Format: JPG, PNG, maksimal 5MB"})]})})]})]})]}),i.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-between gap-2",children:[i.jsx(G,{type:"button",variant:"outline",onClick:()=>e("identity"),children:"Kembali"}),i.jsx(G,{type:"submit",disabled:!o||!c||a,children:a?i.jsxs(i.Fragment,{children:[i.jsx(J.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Kirim Verifikasi"})]})]})})]})}),i.jsxs(ns,{className:"flex flex-col text-xs text-muted-foreground border-t pt-4",children:[i.jsx("p",{children:"Data yang dikirimkan akan digunakan untuk keperluan verifikasi identitas sesuai regulasi."}),i.jsx("p",{children:"JPC Digi menjamin keamanan dan kerahasiaan data pribadi Anda."})]})]})]})})]})}var Yu={},__,eU;function kW(){return eU||(eU=1,__={L:1,M:0,Q:3,H:2}),__}var B_,tU;function IW(){return tU||(tU=1,B_={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),B_}var C_,rU;function Fje(){if(rU)return C_;rU=1;var t=IW();function e(r){this.mode=t.MODE_8BIT_BYTE,this.data=r}return e.prototype={getLength:function(r){return this.data.length},write:function(r){for(var n=0;n<this.data.length;n++)r.put(this.data.charCodeAt(n),8)}},C_=e,C_}var j_,nU;function Dje(){if(nU)return j_;nU=1;var t=kW();function e(r,n){this.totalCount=r,this.dataCount=n}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(r,n){var a=e.getRsBlockTable(r,n);if(a==null)throw new Error("bad rs block @ typeNumber:"+r+"/errorCorrectLevel:"+n);for(var s=a.length/3,o=new Array,l=0;l<s;l++)for(var c=a[l*3+0],u=a[l*3+1],A=a[l*3+2],d=0;d<c;d++)o.push(new e(u,A));return o},e.getRsBlockTable=function(r,n){switch(n){case t.L:return e.RS_BLOCK_TABLE[(r-1)*4+0];case t.M:return e.RS_BLOCK_TABLE[(r-1)*4+1];case t.Q:return e.RS_BLOCK_TABLE[(r-1)*4+2];case t.H:return e.RS_BLOCK_TABLE[(r-1)*4+3];default:return}},j_=e,j_}var E_,aU;function Oje(){if(aU)return E_;aU=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(e){var r=Math.floor(e/8);return(this.buffer[r]>>>7-e%8&1)==1},put:function(e,r){for(var n=0;n<r;n++)this.putBit((e>>>r-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),e&&(this.buffer[r]|=128>>>this.length%8),this.length++}},E_=t,E_}var S_,sU;function PW(){if(sU)return S_;sU=1;for(var t={glog:function(r){if(r<1)throw new Error("glog("+r+")");return t.LOG_TABLE[r]},gexp:function(r){for(;r<0;)r+=255;for(;r>=256;)r-=255;return t.EXP_TABLE[r]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;e<255;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e;return S_=t,S_}var N_,iU;function FW(){if(iU)return N_;iU=1;var t=PW();function e(r,n){if(r.length==null)throw new Error(r.length+"/"+n);for(var a=0;a<r.length&&r[a]==0;)a++;this.num=new Array(r.length-a+n);for(var s=0;s<r.length-a;s++)this.num[s]=r[s+a]}return e.prototype={get:function(r){return this.num[r]},getLength:function(){return this.num.length},multiply:function(r){for(var n=new Array(this.getLength()+r.getLength()-1),a=0;a<this.getLength();a++)for(var s=0;s<r.getLength();s++)n[a+s]^=t.gexp(t.glog(this.get(a))+t.glog(r.get(s)));return new e(n,0)},mod:function(r){if(this.getLength()-r.getLength()<0)return this;for(var n=t.glog(this.get(0))-t.glog(r.get(0)),a=new Array(this.getLength()),s=0;s<this.getLength();s++)a[s]=this.get(s);for(var s=0;s<r.getLength();s++)a[s]^=t.gexp(t.glog(r.get(s))+n);return new e(a,0).mod(r)}},N_=e,N_}var T_,oU;function Rje(){if(oU)return T_;oU=1;var t=IW(),e=FW(),r=PW(),n={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},a={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(s){for(var o=s<<10;a.getBCHDigit(o)-a.getBCHDigit(a.G15)>=0;)o^=a.G15<<a.getBCHDigit(o)-a.getBCHDigit(a.G15);return(s<<10|o)^a.G15_MASK},getBCHTypeNumber:function(s){for(var o=s<<12;a.getBCHDigit(o)-a.getBCHDigit(a.G18)>=0;)o^=a.G18<<a.getBCHDigit(o)-a.getBCHDigit(a.G18);return s<<12|o},getBCHDigit:function(s){for(var o=0;s!=0;)o++,s>>>=1;return o},getPatternPosition:function(s){return a.PATTERN_POSITION_TABLE[s-1]},getMask:function(s,o,l){switch(s){case n.PATTERN000:return(o+l)%2==0;case n.PATTERN001:return o%2==0;case n.PATTERN010:return l%3==0;case n.PATTERN011:return(o+l)%3==0;case n.PATTERN100:return(Math.floor(o/2)+Math.floor(l/3))%2==0;case n.PATTERN101:return o*l%2+o*l%3==0;case n.PATTERN110:return(o*l%2+o*l%3)%2==0;case n.PATTERN111:return(o*l%3+(o+l)%2)%2==0;default:throw new Error("bad maskPattern:"+s)}},getErrorCorrectPolynomial:function(s){for(var o=new e([1],0),l=0;l<s;l++)o=o.multiply(new e([1,r.gexp(l)],0));return o},getLengthInBits:function(s,o){if(1<=o&&o<10)switch(s){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+s)}else if(o<27)switch(s){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+s)}else if(o<41)switch(s){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+s)}else throw new Error("type:"+o)},getLostPoint:function(s){for(var o=s.getModuleCount(),l=0,c=0;c<o;c++)for(var u=0;u<o;u++){for(var A=0,d=s.isDark(c,u),h=-1;h<=1;h++)if(!(c+h<0||o<=c+h))for(var f=-1;f<=1;f++)u+f<0||o<=u+f||h==0&&f==0||d==s.isDark(c+h,u+f)&&A++;A>5&&(l+=3+A-5)}for(var c=0;c<o-1;c++)for(var u=0;u<o-1;u++){var m=0;s.isDark(c,u)&&m++,s.isDark(c+1,u)&&m++,s.isDark(c,u+1)&&m++,s.isDark(c+1,u+1)&&m++,(m==0||m==4)&&(l+=3)}for(var c=0;c<o;c++)for(var u=0;u<o-6;u++)s.isDark(c,u)&&!s.isDark(c,u+1)&&s.isDark(c,u+2)&&s.isDark(c,u+3)&&s.isDark(c,u+4)&&!s.isDark(c,u+5)&&s.isDark(c,u+6)&&(l+=40);for(var u=0;u<o;u++)for(var c=0;c<o-6;c++)s.isDark(c,u)&&!s.isDark(c+1,u)&&s.isDark(c+2,u)&&s.isDark(c+3,u)&&s.isDark(c+4,u)&&!s.isDark(c+5,u)&&s.isDark(c+6,u)&&(l+=40);for(var g=0,u=0;u<o;u++)for(var c=0;c<o;c++)s.isDark(c,u)&&g++;var p=Math.abs(100*g/o/o-50)/5;return l+=p*10,l}};return T_=a,T_}var k_,lU;function Uje(){if(lU)return k_;lU=1;var t=Fje(),e=Dje(),r=Oje(),n=Rje(),a=FW();function s(l,c){this.typeNumber=l,this.errorCorrectLevel=c,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var o=s.prototype;return o.addData=function(l){var c=new t(l);this.dataList.push(c),this.dataCache=null},o.isDark=function(l,c){if(l<0||this.moduleCount<=l||c<0||this.moduleCount<=c)throw new Error(l+","+c);return this.modules[l][c]},o.getModuleCount=function(){return this.moduleCount},o.make=function(){if(this.typeNumber<1){var l=1;for(l=1;l<40;l++){for(var c=e.getRSBlocks(l,this.errorCorrectLevel),u=new r,A=0,d=0;d<c.length;d++)A+=c[d].dataCount;for(var d=0;d<this.dataList.length;d++){var h=this.dataList[d];u.put(h.mode,4),u.put(h.getLength(),n.getLengthInBits(h.mode,l)),h.write(u)}if(u.getLengthInBits()<=A*8)break}this.typeNumber=l}this.makeImpl(!1,this.getBestMaskPattern())},o.makeImpl=function(l,c){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var u=0;u<this.moduleCount;u++){this.modules[u]=new Array(this.moduleCount);for(var A=0;A<this.moduleCount;A++)this.modules[u][A]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(l,c),this.typeNumber>=7&&this.setupTypeNumber(l),this.dataCache==null&&(this.dataCache=s.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,c)},o.setupPositionProbePattern=function(l,c){for(var u=-1;u<=7;u++)if(!(l+u<=-1||this.moduleCount<=l+u))for(var A=-1;A<=7;A++)c+A<=-1||this.moduleCount<=c+A||(0<=u&&u<=6&&(A==0||A==6)||0<=A&&A<=6&&(u==0||u==6)||2<=u&&u<=4&&2<=A&&A<=4?this.modules[l+u][c+A]=!0:this.modules[l+u][c+A]=!1)},o.getBestMaskPattern=function(){for(var l=0,c=0,u=0;u<8;u++){this.makeImpl(!0,u);var A=n.getLostPoint(this);(u==0||l>A)&&(l=A,c=u)}return c},o.createMovieClip=function(l,c,u){var A=l.createEmptyMovieClip(c,u),d=1;this.make();for(var h=0;h<this.modules.length;h++)for(var f=h*d,m=0;m<this.modules[h].length;m++){var g=m*d,p=this.modules[h][m];p&&(A.beginFill(0,100),A.moveTo(g,f),A.lineTo(g+d,f),A.lineTo(g+d,f+d),A.lineTo(g,f+d),A.endFill())}return A},o.setupTimingPattern=function(){for(var l=8;l<this.moduleCount-8;l++)this.modules[l][6]==null&&(this.modules[l][6]=l%2==0);for(var c=8;c<this.moduleCount-8;c++)this.modules[6][c]==null&&(this.modules[6][c]=c%2==0)},o.setupPositionAdjustPattern=function(){for(var l=n.getPatternPosition(this.typeNumber),c=0;c<l.length;c++)for(var u=0;u<l.length;u++){var A=l[c],d=l[u];if(this.modules[A][d]==null)for(var h=-2;h<=2;h++)for(var f=-2;f<=2;f++)h==-2||h==2||f==-2||f==2||h==0&&f==0?this.modules[A+h][d+f]=!0:this.modules[A+h][d+f]=!1}},o.setupTypeNumber=function(l){for(var c=n.getBCHTypeNumber(this.typeNumber),u=0;u<18;u++){var A=!l&&(c>>u&1)==1;this.modules[Math.floor(u/3)][u%3+this.moduleCount-8-3]=A}for(var u=0;u<18;u++){var A=!l&&(c>>u&1)==1;this.modules[u%3+this.moduleCount-8-3][Math.floor(u/3)]=A}},o.setupTypeInfo=function(l,c){for(var u=this.errorCorrectLevel<<3|c,A=n.getBCHTypeInfo(u),d=0;d<15;d++){var h=!l&&(A>>d&1)==1;d<6?this.modules[d][8]=h:d<8?this.modules[d+1][8]=h:this.modules[this.moduleCount-15+d][8]=h}for(var d=0;d<15;d++){var h=!l&&(A>>d&1)==1;d<8?this.modules[8][this.moduleCount-d-1]=h:d<9?this.modules[8][15-d-1+1]=h:this.modules[8][15-d-1]=h}this.modules[this.moduleCount-8][8]=!l},o.mapData=function(l,c){for(var u=-1,A=this.moduleCount-1,d=7,h=0,f=this.moduleCount-1;f>0;f-=2)for(f==6&&f--;;){for(var m=0;m<2;m++)if(this.modules[A][f-m]==null){var g=!1;h<l.length&&(g=(l[h]>>>d&1)==1);var p=n.getMask(c,A,f-m);p&&(g=!g),this.modules[A][f-m]=g,d--,d==-1&&(h++,d=7)}if(A+=u,A<0||this.moduleCount<=A){A-=u,u=-u;break}}},s.PAD0=236,s.PAD1=17,s.createData=function(l,c,u){for(var A=e.getRSBlocks(l,c),d=new r,h=0;h<u.length;h++){var f=u[h];d.put(f.mode,4),d.put(f.getLength(),n.getLengthInBits(f.mode,l)),f.write(d)}for(var m=0,h=0;h<A.length;h++)m+=A[h].dataCount;if(d.getLengthInBits()>m*8)throw new Error("code length overflow. ("+d.getLengthInBits()+">"+m*8+")");for(d.getLengthInBits()+4<=m*8&&d.put(0,4);d.getLengthInBits()%8!=0;)d.putBit(!1);for(;!(d.getLengthInBits()>=m*8||(d.put(s.PAD0,8),d.getLengthInBits()>=m*8));)d.put(s.PAD1,8);return s.createBytes(d,A)},s.createBytes=function(l,c){for(var u=0,A=0,d=0,h=new Array(c.length),f=new Array(c.length),m=0;m<c.length;m++){var g=c[m].dataCount,p=c[m].totalCount-g;A=Math.max(A,g),d=Math.max(d,p),h[m]=new Array(g);for(var b=0;b<h[m].length;b++)h[m][b]=255&l.buffer[b+u];u+=g;var x=n.getErrorCorrectPolynomial(p),w=new a(h[m],x.getLength()-1),y=w.mod(x);f[m]=new Array(x.getLength()-1);for(var b=0;b<f[m].length;b++){var C=b+y.getLength()-f[m].length;f[m][b]=C>=0?y.get(C):0}}for(var E=0,b=0;b<c.length;b++)E+=c[b].totalCount;for(var B=new Array(E),j=0,b=0;b<A;b++)for(var m=0;m<c.length;m++)b<h[m].length&&(B[j++]=h[m][b]);for(var b=0;b<d;b++)for(var m=0;m<c.length;m++)b<f[m].length&&(B[j++]=f[m][b]);return B},k_=s,k_}var _0={},cU;function Mje(){if(cU)return _0;cU=1,Object.defineProperty(_0,"__esModule",{value:!0});var t=Object.assign||function(u){for(var A=1;A<arguments.length;A++){var d=arguments[A];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(u[h]=d[h])}return u},e=mI(),r=s(e),n=Bp(),a=s(n);function s(u){return u&&u.__esModule?u:{default:u}}function o(u,A){var d={};for(var h in u)A.indexOf(h)>=0||Object.prototype.hasOwnProperty.call(u,h)&&(d[h]=u[h]);return d}var l={bgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,bgD:r.default.string.isRequired,fgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,fgD:r.default.string.isRequired,size:r.default.number.isRequired,title:r.default.string,viewBoxSize:r.default.number.isRequired,xmlns:r.default.string},c=(0,n.forwardRef)(function(u,A){var d=u.bgColor,h=u.bgD,f=u.fgD,m=u.fgColor,g=u.size,p=u.title,b=u.viewBoxSize,x=u.xmlns,w=x===void 0?"http://www.w3.org/2000/svg":x,y=o(u,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return a.default.createElement("svg",t({},y,{height:g,ref:A,viewBox:"0 0 "+b+" "+b,width:g,xmlns:w}),p?a.default.createElement("title",null,p):null,a.default.createElement("path",{d:h,fill:d}),a.default.createElement("path",{d:f,fill:m}))});return c.displayName="QRCodeSvg",c.propTypes=l,_0.default=c,_0}var uU;function Qje(){if(uU)return Yu;uU=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.QRCode=void 0;var t=Object.assign||function(g){for(var p=1;p<arguments.length;p++){var b=arguments[p];for(var x in b)Object.prototype.hasOwnProperty.call(b,x)&&(g[x]=b[x])}return g},e=mI(),r=d(e),n=kW(),a=d(n),s=Uje(),o=d(s),l=Bp(),c=d(l),u=Mje(),A=d(u);function d(g){return g&&g.__esModule?g:{default:g}}function h(g,p){var b={};for(var x in g)p.indexOf(x)>=0||Object.prototype.hasOwnProperty.call(g,x)&&(b[x]=g[x]);return b}var f={bgColor:r.default.oneOfType([r.default.object,r.default.string]),fgColor:r.default.oneOfType([r.default.object,r.default.string]),level:r.default.string,size:r.default.number,value:r.default.string.isRequired},m=(0,l.forwardRef)(function(g,p){var b=g.bgColor,x=b===void 0?"#FFFFFF":b,w=g.fgColor,y=w===void 0?"#000000":w,C=g.level,E=C===void 0?"L":C,B=g.size,j=B===void 0?256:B,N=g.value,S=h(g,["bgColor","fgColor","level","size","value"]),T=new o.default(-1,a.default[E]);T.addData(N),T.make();var I=T.modules;return c.default.createElement(A.default,t({},S,{bgColor:x,bgD:I.map(function(k,R){return k.map(function(M,$){return M?"":"M "+$+" "+R+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:y,fgD:I.map(function(k,R){return k.map(function(M,$){return M?"M "+$+" "+R+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:p,size:j,viewBoxSize:I.length}))});return Yu.QRCode=m,m.displayName="QRCode",m.propTypes=f,Yu.default=m,Yu}var Lje=Qje();const DW=Ht(Lje),En=v.forwardRef(({className:t,...e},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:he("w-full caption-bottom text-sm",t),...e})}));En.displayName="Table";const Sn=v.forwardRef(({className:t,...e},r)=>i.jsx("thead",{ref:r,className:he("[&_tr]:border-b",t),...e}));Sn.displayName="TableHeader";const Nn=v.forwardRef(({className:t,...e},r)=>i.jsx("tbody",{ref:r,className:he("[&_tr:last-child]:border-0",t),...e}));Nn.displayName="TableBody";const Hje=v.forwardRef(({className:t,...e},r)=>i.jsx("tfoot",{ref:r,className:he("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Hje.displayName="TableFooter";const lt=v.forwardRef(({className:t,...e},r)=>i.jsx("tr",{ref:r,className:he("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));lt.displayName="TableRow";const Ee=v.forwardRef(({className:t,...e},r)=>i.jsx("th",{ref:r,className:he("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Ee.displayName="TableHead";const me=v.forwardRef(({className:t,...e},r)=>i.jsx("td",{ref:r,className:he("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));me.displayName="TableCell";const $je=v.forwardRef(({className:t,...e},r)=>i.jsx("caption",{ref:r,className:he("mt-4 text-sm text-muted-foreground",t),...e}));$je.displayName="TableCaption";const AU=[{id:"TRX-12345",type:"topup",amount:5e5,date:"2025-06-02T10:15:30",status:"success",description:"Top Up via BCA Virtual Account",source:"BCA Virtual Account",balance:5e5},{id:"TRX-12346",type:"payment",amount:-15e4,date:"2025-06-02T14:30:25",status:"success",description:"Pembayaran Tagihan PLN",source:"PLN Postpaid",balance:35e4},{id:"TRX-12347",type:"payment",amount:-5e4,date:"2025-06-02T16:45:12",status:"success",description:"Pembelian Pulsa Telkomsel",source:"Telkomsel Prepaid",balance:3e5},{id:"TRX-12348",type:"payment",amount:-75e3,date:"2025-06-02T18:20:05",status:"success",description:"Pembayaran PDAM",source:"PDAM",balance:225e3},{id:"TRX-12349",type:"topup",amount:2e5,date:"2025-06-03T09:10:45",status:"success",description:"Top Up via DANA",source:"DANA",balance:425e3},{id:"TRX-12350",type:"payment",amount:-1e5,date:"2025-06-03T11:30:20",status:"success",description:"Pembelian Token Listrik",source:"PLN Prepaid",balance:325e3},{id:"TRX-12351",type:"payment",amount:-25e3,date:"2025-06-03T13:45:10",status:"success",description:"Pembayaran Telkom IndiHome",source:"Telkom",balance:3e5},{id:"TRX-12352",type:"topup",amount:1e5,date:"2025-06-03T15:20:30",status:"pending",description:"Top Up via OVO",source:"OVO",balance:3e5},{id:"TRX-12353",type:"payment",amount:-8e4,date:"2025-06-03T16:50:15",status:"failed",description:"Pembelian Paket Data XL",source:"XL Data",balance:3e5}];function Vje({className:t}){const[e,r]=v.useState("all"),[n,a]=v.useState([]),[s,o]=v.useState([]),[l,c]=v.useState(!0),[u,A]=v.useState("this-month"),[d,h]=v.useState("");v.useEffect(()=>{(async()=>{c(!0),await new Promise(C=>setTimeout(C,1e3)),a(AU),o(AU),c(!1)})()},[]),v.useEffect(()=>{f()},[e,u,d,n]);const f=()=>{let y=[...n];e==="topup"?y=y.filter(I=>I.type==="topup"):e==="payment"&&(y=y.filter(I=>I.type==="payment"));const C=new Date,E=new Date(C.getFullYear(),C.getMonth(),C.getDate()),B=new Date(E);B.setDate(B.getDate()-1);const j=new Date(E);j.setDate(j.getDate()-E.getDay());const N=new Date(C.getFullYear(),C.getMonth(),1),S=new Date(C.getFullYear(),C.getMonth()-1,1),T=new Date(C.getFullYear(),C.getMonth(),0);switch(u){case"today":y=y.filter(I=>new Date(I.date)>=E);break;case"yesterday":y=y.filter(I=>{const k=new Date(I.date);return k>=B&&k<E});break;case"this-week":y=y.filter(I=>new Date(I.date)>=j);break;case"this-month":y=y.filter(I=>new Date(I.date)>=N);break;case"last-month":y=y.filter(I=>{const k=new Date(I.date);return k>=S&&k<=T});break}if(d.trim()!==""){const I=d.toLowerCase();y=y.filter(k=>k.id.toLowerCase().includes(I)||k.description.toLowerCase().includes(I)||k.source.toLowerCase().includes(I))}y.sort((I,k)=>new Date(k.date).getTime()-new Date(I.date).getTime()),o(y)},m=y=>{const C=new Date(y);return un(C,"d MMMM yyyy, HH:mm",{locale:as})},g=y=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(Math.abs(y)),p=()=>s.filter(y=>y.amount>0&&y.status==="success").reduce((y,C)=>y+C.amount,0),b=()=>s.filter(y=>y.amount<0&&y.status==="success").reduce((y,C)=>y+Math.abs(C.amount),0),x=y=>{switch(y){case"topup":return i.jsx(J.plus,{className:"h-4 w-4 text-green-500"});case"payment":return i.jsx(J.creditCard,{className:"h-4 w-4 text-blue-500"});case"withdrawal":return i.jsx(J.arrowRight,{className:"h-4 w-4 text-orange-500"});case"refund":return i.jsx(J.arrowRight,{className:"h-4 w-4 text-purple-500 rotate-180"});default:return i.jsx(J.activity,{className:"h-4 w-4"})}},w=y=>{switch(y){case"success":return i.jsx(vt,{className:"bg-green-100 text-green-800 hover:bg-green-200",children:"Sukses"});case"pending":return i.jsx(vt,{className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200",children:"Pending"});case"failed":return i.jsx(vt,{className:"bg-red-100 text-red-800 hover:bg-red-200",children:"Gagal"});default:return i.jsx(vt,{children:"Unknown"})}};return i.jsxs(_e,{className:t,children:[i.jsxs(at,{className:"pb-3",children:[i.jsx(st,{children:"Mutasi Dompet PPOB"}),i.jsx(rr,{children:"Riwayat transaksi dompet PPOB Anda"})]}),i.jsxs(Be,{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col space-y-3 sm:space-y-0 sm:flex-row sm:space-x-3 sm:items-center justify-between",children:[i.jsx(ya,{value:e,onValueChange:r,className:"w-full sm:w-auto",children:i.jsxs(sa,{className:"grid grid-cols-3 w-full sm:w-auto",children:[i.jsx(Et,{value:"all",children:"Semua"}),i.jsx(Et,{value:"topup",children:"Top Up"}),i.jsx(Et,{value:"payment",children:"Pembayaran"})]})}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs(Cn,{value:u,onValueChange:A,children:[i.jsx(ln,{className:"w-full sm:w-[180px]",children:i.jsx(jn,{placeholder:"Pilih Periode"})}),i.jsxs(cn,{children:[i.jsx(mt,{value:"all",children:"Semua Waktu"}),i.jsx(mt,{value:"today",children:"Hari Ini"}),i.jsx(mt,{value:"yesterday",children:"Kemarin"}),i.jsx(mt,{value:"this-week",children:"Minggu Ini"}),i.jsx(mt,{value:"this-month",children:"Bulan Ini"}),i.jsx(mt,{value:"last-month",children:"Bulan Lalu"})]})]}),i.jsx(ue,{placeholder:"Cari transaksi...",value:d,onChange:y=>h(y.target.value),className:"w-full sm:w-[200px]"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[i.jsx(_e,{children:i.jsx(Be,{className:"p-4",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Saldo Terakhir"}),i.jsx("p",{className:"text-2xl font-bold",children:n.length>0?g(n[0].balance):"Rp 0"})]})})}),i.jsx(_e,{children:i.jsx(Be,{className:"p-4",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Pemasukan"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:g(p())})]})})}),i.jsx(_e,{children:i.jsx(Be,{className:"p-4",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Pengeluaran"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:g(b())})]})})})]}),i.jsx(Gn,{}),l?i.jsx("div",{className:"flex justify-center items-center py-12",children:i.jsx(J.spinner,{className:"h-8 w-8 animate-spin text-primary"})}):s.length===0?i.jsx("div",{className:"text-center py-12 text-muted-foreground",children:i.jsx("p",{children:"Tidak ada transaksi ditemukan"})}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(En,{children:[i.jsx(Sn,{children:i.jsxs(lt,{children:[i.jsx(Ee,{children:"Tanggal"}),i.jsx(Ee,{children:"ID Transaksi"}),i.jsx(Ee,{children:"Keterangan"}),i.jsx(Ee,{children:"Jumlah"}),i.jsx(Ee,{children:"Status"}),i.jsx(Ee,{children:"Saldo"})]})}),i.jsx(Nn,{children:s.map(y=>i.jsxs(lt,{children:[i.jsx(me,{className:"whitespace-nowrap",children:m(y.date)}),i.jsx(me,{className:"font-medium",children:y.id}),i.jsx(me,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[x(y.type),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:y.description}),i.jsx("p",{className:"text-xs text-muted-foreground",children:y.source})]})]})}),i.jsxs(me,{className:y.amount>0?"text-green-600":"text-red-600",children:[y.amount>0?"+":"-",g(y.amount)]}),i.jsx(me,{children:w(y.status)}),i.jsx(me,{className:"font-medium",children:g(y.balance)})]},y.id))})]})})]}),i.jsxs(ns,{className:"flex justify-between",children:[i.jsxs(G,{variant:"outline",children:[i.jsx(J.download,{className:"mr-2 h-4 w-4"}),"Unduh PDF"]}),i.jsxs(G,{variant:"outline",children:[i.jsx(J.download,{className:"mr-2 h-4 w-4"}),"Unduh CSV"]})]})]})}const Kje=()=>{const t=kt(),[e,r]=v.useState("overview"),[n,a]=v.useState(75e4),[s,o]=v.useState(""),[l,c]=v.useState(""),[u,A]=v.useState(""),[d,h]=v.useState(""),[f,m]=v.useState("88750012345678"),[g,p]=v.useState(!1),[b,x]=v.useState(!1),[w,y]=v.useState(!1),[C,E]=v.useState(!1),[B,j]=v.useState(null),[N,S]=v.useState("transfer"),[T,I]=v.useState(!1),[k,R]=v.useState("all"),[M,$]=v.useState(null),U=D=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(D),O=D=>{D.preventDefault(),y(!0),j("topup"),setTimeout(()=>{const Q=parseInt(s.replace(/\D/g,""));a(q=>q+Q),y(!1),E(!0);const z=`TP${Date.now().toString().slice(-8)}`;$({id:z,amount:Q,type:"topup",status:"success",timestamp:new Date}),setTimeout(()=>{p(!1),o(""),E(!1)},2e3)},1500)},L=D=>{D.preventDefault(),y(!0),j("withdraw"),setTimeout(()=>{const Q=parseInt(l.replace(/\D/g,""));a(q=>q-Q),y(!1),E(!0);const z=`WD${Date.now().toString().slice(-8)}`;$({id:z,amount:Q,type:"withdraw",status:"success",timestamp:new Date}),setTimeout(()=>{x(!1),c(""),A(""),h(""),E(!1)},2e3)},1500)},H=(D,Q)=>{const z=D.target.value.replace(/\D/g,"");if(z===""){Q("");return}Q(new Intl.NumberFormat("id-ID").format(parseInt(z)))};return i.jsxs(Kt,{title:"PPOB Wallet",subtitle:"Kelola saldo PPOB Anda",withBackButton:!0,onBackButtonClick:()=>t("/ppob"),children:[i.jsx("div",{className:"container max-w-md mx-auto px-4 py-6",children:i.jsxs(ya,{defaultValue:"overview",value:e,onValueChange:r,className:"w-full",children:[i.jsxs(sa,{className:"grid w-full grid-cols-2",children:[i.jsx(Et,{value:"overview",children:"Saldo"}),i.jsx(Et,{value:"history",children:"Riwayat"})]}),i.jsxs(Gt,{value:"overview",className:"space-y-4",children:[i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mt-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-lg font-medium",children:"Saldo PPOB Wallet"}),i.jsxs(G,{variant:"ghost",size:"sm",onClick:()=>r("history"),children:[i.jsx(J.history,{className:"h-4 w-4 mr-1"}),"Riwayat"]})]}),i.jsx(_e,{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white mb-6",children:i.jsx(Be,{className:"p-6",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium text-blue-100",children:"Saldo Tersedia"}),i.jsx("h3",{className:"text-3xl font-bold",children:U(n)}),i.jsxs("p",{className:"text-xs text-blue-100",children:["Terakhir diperbarui: ",new Date().toLocaleString("id-ID")]})]})})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs(G,{className:"h-auto py-4 flex flex-col items-center",onClick:()=>p(!0),children:[i.jsx(J.plus,{className:"h-6 w-6 mb-1"}),i.jsx("span",{children:"Top Up"})]}),i.jsxs(G,{variant:"outline",className:"h-auto py-4 flex flex-col items-center",onClick:()=>x(!0),children:[i.jsx(J.arrowRight,{className:"h-6 w-6 mb-1"}),i.jsx("span",{children:"Tarik Dana"})]})]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Transaksi Terakhir"}),M?i.jsx(_e,{className:"border",children:i.jsx(Be,{className:"p-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx(vt,{variant:M.type==="topup"?"success":"destructive",children:M.type==="topup"?"Top Up":"Tarik Dana"}),i.jsxs("p",{className:"text-sm font-semibold mt-1",children:[M.type==="topup"?"+":"-",U(M.amount)]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:M.timestamp.toLocaleString("id-ID")})]}),i.jsx(vt,{variant:M.status==="success"?"outline":"secondary",children:M.status==="success"?"Berhasil":M.status==="pending"?"Diproses":"Gagal"})]})})}):i.jsx("div",{className:"text-center py-6 text-muted-foreground",children:i.jsx("p",{children:"Belum ada transaksi"})}),i.jsx("div",{className:"mt-4",children:i.jsxs(G,{variant:"outline",className:"w-full",onClick:()=>t("/ppob/history?wallet=true"),children:["Lihat Semua Transaksi",i.jsx(J.arrowRight,{className:"h-4 w-4 ml-2"})]})})]})]}),i.jsx(Gt,{value:"history",className:"space-y-4",children:i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Riwayat Transaksi"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[i.jsxs(_e,{className:"bg-blue-50",children:[i.jsx(at,{className:"pb-2",children:i.jsxs(st,{className:"text-sm font-medium flex items-center",children:[i.jsx(J.arrowDownCircle,{className:"h-4 w-4 mr-2 text-green-600"}),"Uang Masuk"]})}),i.jsx(Be,{children:i.jsxs(G,{variant:"ghost",className:"p-0 h-auto font-bold text-green-600 hover:text-green-700 hover:bg-transparent",onClick:()=>t("/ppob/history?filter=in"),children:["Lihat",i.jsx(J.chevronRight,{className:"h-4 w-4 ml-1"})]})})]}),i.jsxs(_e,{className:"bg-blue-50",children:[i.jsx(at,{className:"pb-2",children:i.jsxs(st,{className:"text-sm font-medium flex items-center",children:[i.jsx(J.arrowUpCircle,{className:"h-4 w-4 mr-2 text-red-600"}),"Uang Keluar"]})}),i.jsx(Be,{children:i.jsxs(G,{variant:"ghost",className:"p-0 h-auto font-bold text-red-600 hover:text-red-700 hover:bg-transparent",onClick:()=>t("/ppob/history?filter=out"),children:["Lihat",i.jsx(J.chevronRight,{className:"h-4 w-4 ml-1"})]})})]})]}),i.jsx("div",{className:"space-y-2",children:i.jsx(Vje,{})}),i.jsxs("div",{className:"mt-4 text-center",children:[i.jsxs(G,{variant:"outline",onClick:()=>t("/ppob/history?wallet=true"),children:[i.jsx(J.wallet,{className:"mr-2 h-4 w-4"}),"Lihat Transaksi Wallet"]}),i.jsxs(G,{variant:"link",onClick:()=>t("/ppob/history"),children:[i.jsx(J.history,{className:"mr-2 h-4 w-4"}),"Semua Transaksi"]})]})]})})]})}),i.jsx(lr,{open:g,onOpenChange:p,children:i.jsxs(nr,{className:"sm:max-w-md",children:[i.jsxs(hr,{children:[i.jsx(fr,{children:"Top Up Saldo"}),i.jsx(Pn,{children:"Tambah saldo PPOB Wallet Anda dengan mudah."})]}),C&&B==="topup"?i.jsxs("div",{className:"py-6 text-center space-y-4",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(J.check,{className:"h-8 w-8 text-green-600"})})}),i.jsx("h3",{className:"font-bold text-lg",children:"Top Up Berhasil!"}),i.jsxs("p",{className:"text-muted-foreground",children:["Saldo Anda telah bertambah",M&&i.jsx("span",{className:"block font-semibold mt-1 text-green-600",children:U(M.amount)})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:M&&i.jsxs(i.Fragment,{children:["ID Transaksi: ",M.id,i.jsx("br",{}),"Waktu: ",M.timestamp.toLocaleString("id-ID")]})})]}):i.jsxs("form",{onSubmit:O,children:[i.jsxs(ya,{defaultValue:"transfer",className:"w-full",onValueChange:D=>S(D),children:[i.jsxs(sa,{className:"grid w-full grid-cols-2",children:[i.jsx(Et,{value:"transfer",children:"Transfer Bank"}),i.jsx(Et,{value:"qrcode",children:"QR Code"})]}),i.jsxs(Gt,{value:"transfer",className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"amount",children:"Jumlah"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"Rp"}),i.jsx(ue,{id:"amount",placeholder:"0",className:"pl-9",value:s,onChange:D=>H(D,o),required:!0})]}),i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsx("p",{className:"text-muted-foreground",children:"Min: Rp10.000"}),i.jsx("p",{className:"text-muted-foreground",children:"Maks: Rp10.000.000"})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:[1e5,2e5,5e5,1e6].map(D=>i.jsx(G,{type:"button",variant:"outline",size:"sm",className:"flex-1 min-w-[80px]",onClick:()=>o(new Intl.NumberFormat("id-ID").format(D)),children:U(D)},D))})]}),i.jsxs("div",{className:"space-y-2 mt-4",children:[i.jsx(Te,{children:"Metode Pembayaran"}),i.jsx(_e,{children:i.jsx(Be,{className:"p-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(J.creditCard,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Virtual Account"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:f})]})]}),i.jsx(G,{type:"button",variant:"ghost",size:"icon",onClick:()=>{navigator.clipboard.writeText(f),alert("Nomor Virtual Account disalin!")},children:i.jsx(J.copy,{className:"h-4 w-4"})})]})})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Transfer ke nomor virtual account di atas untuk melakukan top up. Saldo akan bertambah otomatis setelah transfer berhasil."})]})]}),i.jsxs(Gt,{value:"qrcode",className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"qr-amount",children:"Jumlah"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"Rp"}),i.jsx(ue,{id:"qr-amount",placeholder:"0",className:"pl-9",value:s,onChange:D=>H(D,o),required:!0})]}),i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsx("p",{className:"text-muted-foreground",children:"Min: Rp10.000"}),i.jsx("p",{className:"text-muted-foreground",children:"Maks: Rp10.000.000"})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:[1e5,2e5,5e5,1e6].map(D=>i.jsx(G,{type:"button",variant:"outline",size:"sm",className:"flex-1 min-w-[80px]",onClick:()=>o(new Intl.NumberFormat("id-ID").format(D)),children:U(D)},D))})]}),i.jsx("div",{className:"flex justify-center mt-4",children:T?i.jsxs("div",{className:"p-4 border-2 border-dashed border-muted-foreground/50 rounded-lg",children:[i.jsx("div",{className:"bg-white p-2 rounded-md",children:i.jsx(DW,{value:`JPC:TOPUP:${s.replace(/\D/g,"")}:${Date.now()}`,size:180})}),i.jsx(G,{type:"button",variant:"link",className:"mt-2 text-xs",onClick:()=>I(!1),children:"Ubah Nominal"})]}):i.jsxs(G,{type:"button",variant:"outline",onClick:()=>{const D=parseInt(s.replace(/\D/g,""))||0;if(D<1e4){alert("Minimal top up adalah Rp10.000");return}if(D>1e7){alert("Maksimal top up adalah Rp10.000.000");return}I(!0)},disabled:!s,className:"w-full py-8",children:[i.jsx(J.qrCode,{className:"mr-2 h-5 w-5"}),"Generate QR Code"]})}),T&&i.jsx("p",{className:"text-sm text-center text-muted-foreground",children:"Scan QR code ini dengan aplikasi e-wallet atau mobile banking Anda untuk melakukan pembayaran."})]})]}),i.jsxs(An,{className:"mt-4",children:[i.jsx(G,{type:"button",variant:"outline",onClick:()=>{p(!1),I(!1),o("")},disabled:w,children:"Batal"}),N==="transfer"?i.jsx(G,{type:"submit",disabled:!s||w||parseInt(s.replace(/\D/g,""))<1e4,children:w?i.jsxs(i.Fragment,{children:[i.jsx(J.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Konfirmasi Top Up"}):i.jsx(G,{type:"button",onClick:()=>{y(!0),j("topup"),setTimeout(()=>{const D=parseInt(s.replace(/\D/g,""));a(z=>z+D),y(!1),E(!0);const Q=`TP${Date.now().toString().slice(-8)}`;$({id:Q,amount:D,type:"topup",status:"success",timestamp:new Date}),setTimeout(()=>{p(!1),o(""),I(!1),E(!1)},2e3)},1500)},disabled:!s||!T||w,children:w?i.jsxs(i.Fragment,{children:[i.jsx(J.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Saya Sudah Bayar"})]})]})]})}),i.jsx(lr,{open:b,onOpenChange:x,children:i.jsxs(nr,{className:"sm:max-w-md",children:[i.jsxs(hr,{children:[i.jsx(fr,{children:"Tarik Dana"}),i.jsx(Pn,{children:"Tarik dana dari PPOB Wallet Anda ke rekening bank yang terdaftar."})]}),C&&B==="withdraw"?i.jsxs("div",{className:"py-6 text-center space-y-4",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(J.check,{className:"h-8 w-8 text-green-600"})})}),i.jsx("h3",{className:"font-bold text-lg",children:"Penarikan Berhasil!"}),i.jsxs("p",{className:"text-muted-foreground",children:["Dana akan masuk ke rekening bank Anda dalam 1x24 jam kerja",M&&i.jsx("span",{className:"block font-semibold mt-1 text-red-600",children:U(M.amount)})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:M&&i.jsxs(i.Fragment,{children:["ID Transaksi: ",M.id,i.jsx("br",{}),"Waktu: ",M.timestamp.toLocaleString("id-ID")]})})]}):i.jsxs("form",{onSubmit:L,children:[i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"withdraw-amount",children:"Jumlah"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"Rp"}),i.jsx(ue,{id:"withdraw-amount",placeholder:"0",className:"pl-9",value:l,onChange:D=>H(D,c),required:!0})]}),i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsx("p",{className:"text-muted-foreground",children:"Min: Rp50.000"}),i.jsx("p",{className:"text-muted-foreground",children:"Maks: Rp5.000.000"})]}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Saldo tersedia: ",U(n)]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"withdraw-bank",children:"Bank Tujuan"}),i.jsxs(Cn,{value:u,onValueChange:A,required:!0,children:[i.jsx(ln,{id:"withdraw-bank",children:i.jsx(jn,{placeholder:"Pilih bank tujuan"})}),i.jsxs(cn,{children:[i.jsx(mt,{value:"bca",children:"Bank BCA"}),i.jsx(mt,{value:"bni",children:"Bank BNI"}),i.jsx(mt,{value:"mandiri",children:"Bank Mandiri"}),i.jsx(mt,{value:"bri",children:"Bank BRI"}),i.jsx(mt,{value:"permata",children:"Bank Permata"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"account-number",children:"Nomor Rekening"}),i.jsx(ue,{id:"account-number",placeholder:"Contoh: 1234567890",value:d,onChange:D=>h(D.target.value.replace(/\D/g,"")),required:!0})]})]}),i.jsxs(An,{children:[i.jsx(G,{type:"button",variant:"outline",onClick:()=>x(!1),disabled:w,children:"Batal"}),i.jsx(G,{type:"submit",disabled:!l||!u||!d||w||parseInt(l.replace(/\D/g,""))<5e4||parseInt(l.replace(/\D/g,""))>n,children:w?i.jsxs(i.Fragment,{children:[i.jsx(J.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Tarik Dana"})]})]})]})})]})},qje=[{id:"notif-1",title:"Pembayaran Berhasil",message:"Pembayaran tagihan PLN sebesar Rp 250.000 telah berhasil.",date:"2025-06-02T14:35:00",type:"success",read:!1},{id:"notif-2",title:"Promo Spesial",message:"Dapatkan cashback 10% untuk pembelian pulsa min. Rp 50.000.",date:"2025-06-02T10:15:00",type:"promo",read:!1},{id:"notif-3",title:"Pembayaran Tertunda",message:"Pembayaran BPJS Kesehatan sedang diproses.",date:"2025-06-01T18:22:00",type:"pending",read:!0},{id:"notif-4",title:"Transaksi Gagal",message:"Pembelian token listrik gagal. Saldo tidak mencukupi.",date:"2025-06-01T13:45:00",type:"error",read:!0},{id:"notif-5",title:"Top Up Berhasil",message:"Top up saldo PPOB Wallet sebesar Rp 500.000 berhasil.",date:"2025-05-31T09:10:00",type:"success",read:!0}];function Gje({onClose:t}){const[e,r]=v.useState([]),[n,a]=v.useState(!0);v.useEffect(()=>{(async()=>{a(!0),await new Promise(d=>setTimeout(d,1e3)),r(qje),a(!1)})()},[]);const s=e.filter(A=>!A.read).length,o=()=>{r(e.map(A=>({...A,read:!0})))},l=A=>{r(e.map(d=>d.id===A?{...d,read:!0}:d))},c=A=>{const d=new Date(A),f=Math.abs(new Date().getTime()-d.getTime()),m=Math.floor(f/(1e3*60*60*24));return m===0?`Hari ini, ${d.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}`:m===1?"Kemarin":m<7?d.toLocaleDateString("id-ID",{weekday:"long"}):d.toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})},u=A=>{switch(A){case"success":return i.jsx(J.check,{className:"h-4 w-4 text-green-500"});case"error":return i.jsx(J.flame,{className:"h-4 w-4 text-red-500"});case"pending":return i.jsx(J.clock,{className:"h-4 w-4 text-yellow-500"});case"promo":return i.jsx(J.ticket,{className:"h-4 w-4 text-purple-500"});default:return i.jsx(J.bell,{className:"h-4 w-4"})}};return i.jsxs(_e,{className:"w-full max-w-md mx-auto border shadow-md",children:[i.jsxs(at,{className:"pb-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(st,{className:"text-xl",children:"Notifikasi"}),s>0&&i.jsx(G,{variant:"ghost",size:"sm",onClick:o,className:"text-xs",children:"Tandai Semua Dibaca"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(vt,{variant:"outline",className:"text-xs",children:["Semua (",e.length,")"]}),s>0&&i.jsxs(vt,{className:"text-xs bg-primary",children:["Belum Dibaca (",s,")"]})]})]}),i.jsx(Be,{className:"px-0",children:n?i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx(J.spinner,{className:"h-8 w-8 animate-spin text-primary"})}):e.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:i.jsx("p",{children:"Tidak ada notifikasi"})}):i.jsx("div",{className:"divide-y",children:e.map(A=>i.jsx("div",{className:he("px-4 py-3 hover:bg-muted/50 cursor-pointer transition-colors",!A.read&&"bg-muted/30"),onClick:()=>l(A.id),children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"mt-1",children:u(A.type)}),i.jsxs("div",{className:"flex-1 space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:he("text-sm font-medium",!A.read&&"font-semibold"),children:A.title}),i.jsx("span",{className:"text-xs text-muted-foreground",children:c(A.date)})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:A.message}),!A.read&&i.jsx(vt,{className:"mt-1 bg-primary/20 text-primary hover:bg-primary/30 text-xs",variant:"secondary",children:"Baru"})]})]})},A.id))})})]})}function I_(){const t=kt(),[e,r]=v.useState(null),[n,a]=v.useState(0),[s,o]=v.useState(0),[l,c]=v.useState(new Date),[u,A]=v.useState(!0);return v.useEffect(()=>{(async()=>{A(!0);try{const{data:{session:f},error:m}=await Z.auth.getSession();if(m)throw m;if(f!=null&&f.user){const{data:g,error:p}=await Z.from("profiles").select("*").eq("id",f.user.id).single();if(p)throw p;r(g),g&&typeof g.balance=="number"&&a(g.balance);const{count:b,error:x}=await Z.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",f.user.id).eq("read_status",!1);if(x)throw x;b!==null&&o(b)}else t("/login")}catch(f){console.error("Error fetching data:",f)}finally{A(!1)}})();const h=setInterval(()=>{c(new Date)},6e4);return()=>{clearInterval(h)}},[t]),i.jsxs(Kt,{children:[i.jsxs(Fs,{children:[i.jsx("title",{children:"JPC Digi - Layanan PPOB"}),i.jsx("style",{children:`
            @keyframes gradientShift {
              0% { background-position: 0% 50%; }
              50% { background-position: 100% 50%; }
              100% { background-position: 0% 50%; }
            }
            @keyframes float {
              0% { transform: translateY(0px); }
              50% { transform: translateY(-10px); }
              100% { transform: translateY(0px); }
            }
            @keyframes pulse {
              0% { transform: scale(1); }
              50% { transform: scale(1.1); }
              100% { transform: scale(1); }
            }
            @keyframes sparkle {
              0% { opacity: 0.2; }
              50% { opacity: 1; }
              100% { opacity: 0.2; }
            }
            .gradient-bg {
              background-size: 200% 200%;
              animation: gradientShift 8s ease infinite;
            }
            .float {
              animation: float 4s ease-in-out infinite;
            }
            .pulse {
              animation: pulse 2s ease-in-out infinite;
            }
            .sparkle {
              animation: sparkle 1.5s ease-in-out infinite;
            }
          `})]}),i.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-500 to-purple-500 text-white",style:{animation:"gradientShift 8s ease infinite"},children:[i.jsx("div",{className:"flex justify-between items-center p-2 text-xs",children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(J.users,{className:"h-3 w-3 mr-1"})," ",e!=null&&e.name?e.name.split(" ")[0]:"Guest",i.jsx("div",{className:"flex items-center gap-0.5 bg-white/20 px-1 rounded"})]})}),i.jsxs("div",{className:"flex justify-between items-center p-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"h-12 w-12 rounded-full bg-white flex items-center justify-center shadow-lg pulse",children:i.jsx(J.wallet,{className:"h-7 w-7 text-indigo-600"})}),i.jsx("div",{className:"absolute -top-1 -right-1 h-4 w-4 bg-green-400 rounded-full border border-white pulse"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-sm opacity-80 font-medium",children:["Saldo ",e!=null&&e.name?e.name.split(" ")[0]:""]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-2xl font-bold sparkle",children:ve(n)}),i.jsx("div",{children:i.jsx(G,{variant:"ghost",size:"sm",className:"p-0 h-6 text-white hover:bg-white/20 rounded-full",children:i.jsx(J.refreshCw,{className:"h-3 w-3"})})})]})]})]}),i.jsxs(lr,{children:[i.jsx(qv,{asChild:!0,children:i.jsxs(G,{variant:"ghost",size:"icon",className:"relative text-white",children:[i.jsx(J.bell,{className:"h-6 w-6"}),s>0&&i.jsx(vt,{className:"absolute -top-1 -right-1 h-4 w-4 p-0 flex items-center justify-center text-xs bg-red-500",children:s})]})}),i.jsxs(nr,{className:"max-w-md p-0",children:[i.jsx(hr,{className:"sr-only",children:i.jsx(fr,{children:"Notifikasi"})}),i.jsx(Gje,{onClose:()=>o(0)})]})]})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-x-2 sm:gap-x-4 px-4 mt-6 pb-6",style:{perspective:"1000px"},children:[i.jsx("div",{children:i.jsxs(G,{variant:"ghost",className:"flex flex-col items-center h-auto py-2 text-white",onClick:()=>t("/ppob/scan"),children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-indigo-400 to-indigo-600 flex items-center justify-center mb-2 shadow-lg float",children:i.jsx(J.qrCode,{className:"h-8 w-8"})}),i.jsx("span",{className:"text-sm font-medium",children:"Pindai"})]})}),i.jsxs(G,{variant:"ghost",className:"flex flex-col items-center h-auto py-2 text-white",onClick:()=>t("/ppob/topup"),children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center mb-2 shadow-lg float",style:{animationDelay:"0.2s"},children:i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx("div",{className:"h-8 w-8 rounded-full border-2 border-white"}),i.jsx(J.plus,{className:"h-5 w-5 absolute pulse"})]})}),i.jsx("span",{className:"text-sm font-medium",children:"Isi Saldo"})]}),i.jsxs(G,{variant:"ghost",className:"flex flex-col items-center h-auto py-2 text-white",onClick:()=>t("/ppob/send"),children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center mb-2 shadow-lg float",style:{animationDelay:"0.4s"},children:i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx("div",{className:"h-8 w-8 rounded-full border-2 border-white"}),i.jsx(J.arrowUpCircle,{className:"h-5 w-5 absolute pulse"})]})}),i.jsx("span",{className:"text-sm font-medium",children:"Kirim"})]}),i.jsxs(G,{variant:"ghost",className:"flex flex-col items-center h-auto py-2 text-white",onClick:()=>t("/ppob/request"),children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-pink-400 to-pink-600 flex items-center justify-center mb-2 shadow-lg float",style:{animationDelay:"0.6s"},children:i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx("div",{className:"h-8 w-8 rounded-full border-2 border-white"}),i.jsx(J.arrowDownCircle,{className:"h-5 w-5 absolute pulse"})]})}),i.jsx("span",{className:"text-sm font-medium",children:"Minta"})]})]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-t-3xl -mt-4 mb-16 shadow-lg",style:{borderTop:"3px solid rgba(129, 140, 248, 0.5)"},children:[i.jsx("div",{className:"mt-2 mb-6",children:i.jsx("div",{className:"relative bg-white rounded-xl overflow-hidden border border-gray-100 shadow-sm",children:i.jsxs("div",{className:"flex p-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-md overflow-hidden mr-3",children:i.jsx("div",{className:"bg-gradient-to-br from-orange-400 to-red-600 text-white h-full w-full flex items-center justify-center font-bold pulse",children:""})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-bold text-black",children:"Arang Oven"}),i.jsx("p",{className:"text-sm text-orange-500",children:"Mulai Rp6.000"})]}),i.jsx(G,{className:"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white text-xs rounded-md h-8 shadow-md",size:"sm",children:"Beli"})]})})}),i.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-4 sm:gap-6 mb-8",style:{perspective:"1000px"},children:[i.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/ewallet"),children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:i.jsx(J.wallet,{className:"h-7 w-7 text-green-600 pulse"})}),i.jsx("span",{className:"text-xs font-medium",children:"e-Wallet"})]}),i.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/pulsa-data"),children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-red-100 to-red-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:i.jsx(J.smartphone,{className:"h-7 w-7 text-red-600 pulse",style:{animationDelay:"0.2s"}})}),i.jsx("span",{className:"text-xs font-medium",children:"Pulsa & Data"})]}),i.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/electricity"),children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-amber-100 to-amber-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:i.jsx(J.zap,{className:"h-7 w-7 text-amber-600 pulse",style:{animationDelay:"0.4s"}})}),i.jsx("span",{className:"text-xs font-medium",children:"Listrik"})]}),i.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/games"),children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:i.jsx(J.gamepad,{className:"h-7 w-7 text-blue-600 pulse",style:{animationDelay:"0.6s"}})}),i.jsx("span",{className:"text-xs font-medium",children:"Games"})]}),i.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/all"),children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:i.jsx(J.menu,{className:"h-7 w-7 text-purple-600 pulse",style:{animationDelay:"0.8s"}})}),i.jsx("span",{className:"text-xs font-medium",children:"Lihat Semua"})]})]})]}),i.jsxs("div",{className:"bg-white px-4 py-2 mb-4",children:[i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx("div",{className:"w-8 h-8 bg-primary rounded-md flex items-center justify-center mr-2",children:i.jsx(J.messageSquare,{className:"h-5 w-5 text-white"})}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-sm font-medium",children:"berbagi kabar terbaru "})}),i.jsx("div",{className:"text-xs text-gray-500",children:un(new Date,"HH:mm",{locale:as})})]}),i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx("div",{className:"w-8 h-8 bg-primary rounded-md flex items-center justify-center mr-2",children:i.jsx(J.messageSquare,{className:"h-5 w-5 text-white"})}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-sm font-medium",children:"berbagi kabar terbaru "})}),i.jsx("div",{className:"text-xs text-gray-500",children:"02/06"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-primary rounded-md flex items-center justify-center mr-2",children:i.jsx(J.messageSquare,{className:"h-5 w-5 text-white"})}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-sm font-medium",children:"berbagi kabar terbaru "})}),i.jsx("div",{className:"text-xs text-gray-500",children:"01/06"})]})]}),i.jsx("div",{className:"px-4 mb-4",children:i.jsx("div",{className:"bg-primary rounded-xl overflow-hidden",children:i.jsx("img",{src:"https://placehold.co/600x200/0088FF/FFFFFF?text=Layanan+Prioritas",alt:"Banner promo",className:"w-full h-32 object-cover"})})}),i.jsxs("div",{className:"bg-white mx-4 rounded-xl border border-gray-200 p-4 mb-20",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(J.check,{className:"h-5 w-5 text-primary mr-2"}),i.jsx("span",{className:"font-semibold text-gray-600",children:"PROTECTION"})]}),i.jsx(G,{variant:"outline",className:"h-8 border-primary text-primary text-xs",children:"PELAJARI"})]}),i.jsxs("div",{className:"flex border-t border-gray-100 pt-3",children:[i.jsxs("div",{className:"flex-1 flex flex-col items-center border-r border-gray-100",children:[i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx(J.shield,{className:"h-5 w-5 text-primary mr-1"}),i.jsx("span",{className:"text-xl font-bold",children:"7"})]}),i.jsx("span",{className:"text-xs text-gray-600",children:"Aktivitas Terlindungi"})]}),i.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx(J.lightbulb,{className:"h-5 w-5 text-amber-500 mr-1"}),i.jsx("span",{className:"text-xl font-bold",children:"2"})]}),i.jsx("span",{className:"text-xs text-gray-600",children:"Rekomendasi Keamanan"})]})]})]}),i.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 flex justify-around py-2",children:[i.jsxs(G,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1",onClick:()=>t("/ppob/dashboard"),children:[i.jsx(J.home,{className:"h-6 w-6"}),i.jsx("span",{className:"text-xs",children:"Beranda"})]}),i.jsxs(G,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1",onClick:()=>t("/ppob/activity"),children:[i.jsx(J.activity,{className:"h-6 w-6"}),i.jsx("span",{className:"text-xs",children:"Aktivitas"})]}),i.jsxs(G,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1 relative",onClick:()=>t("/ppob/scan"),children:[i.jsx("div",{className:"h-14 w-14 rounded-full bg-primary flex items-center justify-center absolute -top-7",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("span",{className:"text-white text-xs font-bold",children:"PAY"}),i.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[i.jsx("div",{className:"h-2 w-2 bg-white rounded"}),i.jsx("div",{className:"h-2 w-2 bg-white rounded"}),i.jsx("div",{className:"h-2 w-2 bg-white rounded"}),i.jsx("div",{className:"h-2 w-2 bg-white rounded"})]})]})}),i.jsx("div",{className:"h-6"}),i.jsx("span",{className:"text-xs"})]}),i.jsxs(G,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1",onClick:()=>t("/ppob/topup"),children:[i.jsx(J.inbox,{className:"h-6 w-6"}),i.jsx("span",{className:"text-xs",children:"Dompet"})]}),i.jsxs(G,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1",onClick:()=>t("/profile"),children:[i.jsx(J.users,{className:"h-6 w-6"}),i.jsx("span",{className:"text-xs",children:"Saya"})]})]})]})}function zje({transaction:t,onClose:e}){const r=l=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(l),n=l=>{const c=new Date(l);return un(c,"dd MMM yyyy  HH:mm",{locale:as})},a=()=>{const l=un(new Date(t.date),"yyyyMMdd"),c=Math.floor(Math.random()*1e11).toString().padStart(12,"0");return`${l}${c}`},s=()=>{const l=un(new Date(t.date),"yyyyMMdd"),c=t.type==="topup"?"DANAID":"DANAPY",u=Math.floor(Math.random()*1e10).toString().padStart(10,"0");return`${l}${c}J${l.slice(-2)}${u}`},o=()=>`   ${Math.floor(Math.random()*1e4).toString().padStart(4,"0")}`;return i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"flex-1 overflow-auto pb-16",children:[i.jsxs("div",{className:"bg-white p-4 flex flex-col items-center",children:[i.jsx("div",{className:"w-16 h-16 mb-2",children:i.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(J.wallet,{className:"h-8 w-8 text-blue-500"})})}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm text-gray-500",children:n(t.date)}),i.jsxs("p",{className:"text-lg font-bold mt-1",children:["ID JPC ",t.id]})]}),i.jsxs("div",{className:"flex items-center mt-2 bg-green-50 text-green-600 px-3 py-1 rounded-full",children:[i.jsx(J.check,{className:"h-4 w-4 mr-1"}),i.jsx("span",{className:"text-sm font-medium",children:"Transaksi berhasil!"})]})]}),i.jsx(_e,{className:"mx-4 my-4 shadow-sm",children:i.jsxs(Be,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:t.type==="topup"?i.jsx(J.arrowDownCircle,{className:"h-6 w-6 text-green-500"}):t.type==="withdrawal"?i.jsx(J.arrowUpCircle,{className:"h-6 w-6 text-red-500"}):i.jsx(J.creditCard,{className:"h-6 w-6 text-blue-500"})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"font-medium",children:t.type==="topup"?"Top Up":t.type==="send"?"Transfer":t.type}),i.jsx("p",{className:"text-sm text-gray-500",children:n(t.date)})]})]}),i.jsxs(vt,{className:`flex items-center gap-1 px-2 py-1 ${t.status==="success"?"bg-green-100 text-green-600":t.status==="pending"?"bg-yellow-100 text-yellow-600":"bg-red-100 text-red-600"}`,children:[t.status==="success"?i.jsx(J.check,{className:"h-4 w-4"}):t.status==="pending"?i.jsx(J.clock,{className:"h-4 w-4"}):i.jsx(J.activity,{className:"h-4 w-4"}),t.status==="success"?"Berhasil":t.status==="pending"?"Menunggu":"Gagal"]})]}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Jumlah"}),i.jsx("p",{className:"text-xl font-bold",children:r(t.amount)})]})]})}),t.type==="send"&&t.recipient&&i.jsx(_e,{className:"mx-4 my-4 shadow-sm",children:i.jsxs(Be,{className:"p-4",children:[i.jsx("h3",{className:"font-bold mb-4",children:"Detail Penerima"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Nama"}),i.jsx("span",{className:"font-medium",children:t.recipient.name})]}),t.recipient.bankAccount&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Akun Bank"}),i.jsx("span",{children:t.recipient.bankAccount})]}),t.recipient.bankName&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Bank"}),i.jsx("span",{children:t.recipient.bankName})]})]})]})}),i.jsx(_e,{className:"mx-4 my-4 shadow-sm",children:i.jsxs(Be,{className:"p-4",children:[i.jsx("h3",{className:"font-bold mb-4",children:"Detail Transaksi"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("span",{className:"text-gray-500",children:"ID Transaksi"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-right",children:a()}),i.jsx(G,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 ml-1",children:i.jsx(J.copy,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"ID Order Merchant"}),i.jsx("span",{children:t.merchantOrderId||o()})]}),i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("span",{className:"text-gray-500",children:"External Serial Number"}),i.jsx("div",{className:"text-right",children:i.jsx("span",{children:t.externalSerialNumber||s()})})]})]})]})})]}),i.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t",children:i.jsxs(G,{className:"w-full",size:"lg",children:[i.jsx(J.messageSquare,{className:"mr-2 h-5 w-5"}),"BUTUH BANTUAN?"]})})]})}const dU=[{id:"TRX-20250601-001",type:"send",amount:95e4,date:"2025-06-01T23:57:00",recipient:{name:"YOGA PRASETYA",bankAccount:"****0549",bankName:"Seabank Indonesia"},status:"success",description:"Kirim ke YOGA PRASETYA"},{id:"TRX-20250601-002",type:"topup",amount:25e4,date:"2025-06-01T23:38:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250601-003",type:"topup",amount:2e5,date:"2025-06-01T15:59:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250601-004",type:"topup",amount:5e5,date:"2025-06-01T15:58:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250528-001",type:"send",amount:2099e3,date:"2025-05-28T20:47:00",recipient:{name:"YOGA PRASETYA",bankAccount:"****0549",bankName:"Seabank Indonesia"},status:"success",description:"Kirim ke YOGA PRASETYA"},{id:"TRX-20250528-002",type:"topup",amount:2e5,date:"2025-05-28T20:28:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250528-003",type:"topup",amount:9e5,date:"2025-05-28T20:27:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250528-004",type:"topup",amount:9e5,date:"2025-05-28T20:26:00",status:"success",description:"Isi Saldo"}];function Wje(){kt();const[t,e]=v.useState(""),[r,n]=v.useState([]),[a,s]=v.useState([]),[o,l]=v.useState(!0),[c,u]=v.useState(null),[A,d]=v.useState(!1),h=K.useMemo(()=>{const m={};return a.forEach(g=>{const p=new Date(g.date),b=`${p.getFullYear()}-${p.getMonth()}`;m[b]||(m[b]=[]),m[b].push(g)}),Object.entries(m).map(([g,p])=>{const[b,x]=g.split("-").map(Number),w=new Date(b,x),y=p.filter(C=>C.type==="send"||C.type==="payment"||C.type==="withdrawal").reduce((C,E)=>C+E.amount,0);return{monthName:un(w,"MMMM yyyy",{locale:as}),transactions:p,totalOut:y}}).sort((g,p)=>{const b=new Date(g.transactions[0].date);return new Date(p.transactions[0].date).getTime()-b.getTime()})},[a]);v.useEffect(()=>{(async()=>{l(!0),await new Promise(g=>setTimeout(g,1e3)),n(dU),s(dU),l(!1)})()},[]),v.useEffect(()=>{if(t.trim()==="")s(r);else{const m=t.toLowerCase(),g=r.filter(p=>{var b;return p.id.toLowerCase().includes(m)||p.description.toLowerCase().includes(m)||((b=p.recipient)==null?void 0:b.name)&&p.recipient.name.toLowerCase().includes(m)});s(g)}},[t,r]);const f=m=>{const g=new Date(m);return un(g,"dd MMM yyyy  HH:mm",{locale:as})};return i.jsxs(Kt,{children:[i.jsx(Fs,{children:i.jsx("title",{children:"Aktivitas Transaksi - JPC Digi"})}),i.jsxs("div",{className:"bg-primary text-white p-4",children:[i.jsx("h1",{className:"text-xl font-bold mb-4",children:"Aktivitas"}),i.jsxs("div",{className:"relative mb-2",children:[i.jsx(ue,{className:"bg-white pl-10",placeholder:"Cari kirim uang...",value:t,onChange:m=>e(m.target.value)}),i.jsx(J.search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsxs("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex space-x-1",children:[i.jsx(G,{variant:"ghost",size:"icon",className:"h-6 w-6 text-gray-400",children:i.jsx(J.sort,{className:"h-4 w-4"})}),i.jsx(G,{variant:"ghost",size:"icon",className:"h-6 w-6 text-gray-400",children:i.jsx(J.filter,{className:"h-4 w-4"})})]})]})]}),i.jsx("div",{className:"p-0",children:o?i.jsx("div",{className:"flex justify-center items-center py-20",children:i.jsx(J.spinner,{className:"h-8 w-8 animate-spin text-primary"})}):a.length===0?i.jsx("div",{className:"text-center py-12 text-muted-foreground",children:i.jsx("p",{children:"Tidak ada transaksi ditemukan"})}):i.jsx("div",{children:h.map((m,g)=>i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between items-center px-4 py-2 bg-gray-50",children:[i.jsx("h2",{className:"font-medium",children:m.monthName}),i.jsxs("div",{className:"text-right",children:[i.jsxs("span",{className:"text-red-500",children:["-",ve(m.totalOut)]}),i.jsx(J.chevronRight,{className:"inline-block ml-1 h-4 w-4 text-primary"})]})]}),i.jsx("div",{children:m.transactions.map(p=>{const b=p.type==="send"||p.type==="payment"||p.type==="withdrawal";return i.jsx("div",{className:"p-4 border-b cursor-pointer hover:bg-gray-50",onClick:()=>{u(p),d(!0)},children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"mr-3",children:p.type==="send"?i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(J.arrowUpFromLine,{className:"h-5 w-5 text-blue-500"})}):p.type==="topup"?i.jsx("div",{className:"h-10 w-10 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(J.plus,{className:"h-5 w-5 text-green-500"})}):i.jsx("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center",children:i.jsx(J.shopping,{className:"h-5 w-5 text-red-500"})})}),i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:p.description}),i.jsx("p",{className:"text-sm text-gray-500",children:f(p.date)})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:`font-medium ${b?"text-red-500":"text-green-500"}`,children:[b?"-":"+",ve(p.amount)]}),i.jsx("div",{className:"mt-1",children:i.jsx(G,{variant:"ghost",size:"sm",className:"h-6 p-0",children:i.jsx(J.trash,{className:"h-4 w-4 text-gray-400"})})})]})]})})]})},p.id)})})]},g))})}),i.jsx(lr,{open:A,onOpenChange:m=>d(m),children:i.jsxs(nr,{className:"max-w-md p-0 h-[85vh] overflow-y-auto",children:[i.jsx(hr,{className:"sr-only",children:i.jsx(fr,{children:"Detail Transaksi"})}),c&&i.jsx(zje,{transaction:c,onClose:()=>d(!1)})]})})]})}const cx={digiflazz:{useTestMode:!0},app:{transactionPrefix:"JPC-DIGI"}},Ju="http://202.10.44.157:5173/netlify/functions/digiflazz-proxy",Xje=cx.app.transactionPrefix,R2=()=>{const t=new Date().getTime(),e=Math.floor(Math.random()*1e3);return`${Xje}-${t}-${e}`};class Yje{async checkBalance(){try{return(await Fo.post(`${Ju}/v1/cek-saldo`,{cmd:"deposit"})).data.data.deposit}catch(e){throw console.error("Error checking balance:",e),new Error("Failed to check balance")}}async getPriceList(e){try{let n=(await Fo.post(`${Ju}/v1/price-list`,{cmd:"prepaid"})).data.data;return e&&(n=n.filter(a=>a.category.toLowerCase()===e.toLowerCase())),n}catch(r){throw console.error("Error fetching price list:",r),new Error("Failed to fetch price list")}}getOperatorFromPhoneNumber(e){const n=e.replace(/\D/g,"").substring(0,4);return["0811","0812","0813","0821","0822","0823"].includes(n)?"Telkomsel":["0817","0818","0819","0859","0877","0878"].includes(n)?"XL Axiata":["0851","0852","0853","0815","0816"].includes(n)?"Indosat Ooredoo":["0881","0882","0883","0884","0885","0886","0887","0888","0889"].includes(n)?"Smartfren":["0896","0897","0898","0899"].includes(n)?"Tri Indonesia":"Unknown"}async topupPrepaid(e,r,n=!1){try{const a=R2(),s={buyer_sku_code:r,customer_no:e,ref_id:a,testing:n};return(await Fo.post(`${Ju}/v1/transaction`,s)).data}catch(a){throw console.error("Error processing prepaid transaction:",a),new Error("Failed to process prepaid transaction")}}async inquiryPostpaid(e,r,n=!1){try{const a=R2(),s={commands:"inq-pasca",customer_no:e,buyer_sku_code:r,ref_id:a,testing:n};return(await Fo.post(`${Ju}/v1/transaction`,s)).data}catch(a){throw console.error("Error processing postpaid inquiry:",a),new Error("Failed to process postpaid inquiry")}}async payPostpaid(e,r,n,a=!1){try{const s={commands:"pay-pasca",customer_no:e,buyer_sku_code:r,ref_id:n,testing:a};return(await Fo.post(`${Ju}/v1/transaction`,s)).data}catch(s){throw console.error("Error processing postpaid payment:",s),new Error("Failed to process postpaid payment")}}async checkTransactionStatus(e,r=!0){try{const n={ref_id:e,commands:"status-pasca"};return(await Fo.post(`${Ju}/v1/transaction`,n)).data}catch(n){throw console.error("Error checking transaction status:",n),new Error("Failed to check transaction status")}}}const rc=new Yje;function Jje(){const[t,e]=v.useState([]),[r,n]=v.useState(!1),[a,s]=v.useState(null),[o,l]=v.useState(0),[c,u]=v.useState(null),A=v.useCallback(async x=>{try{n(!0),s(null);const w=await rc.getPriceList(x);return e(w),w}catch(w){const y=w instanceof Error?w.message:"Failed to fetch products";return s(y),[]}finally{n(!1)}},[]),d=v.useCallback(async()=>{try{n(!0),s(null);const x=await rc.checkBalance();return l(x),x}catch(x){const w=x instanceof Error?x.message:"Failed to fetch balance";return s(w),0}finally{n(!1)}},[]),h=v.useCallback(async(x,w,y=cx.digiflazz.useTestMode)=>{try{n(!0),s(null);const C=await rc.topupPrepaid(x,w,y);return u(C),C}catch(C){const E=C instanceof Error?C.message:"Failed to process transaction";throw s(E),new Error(E)}finally{n(!1)}},[]),f=v.useCallback(async(x,w,y=cx.digiflazz.useTestMode)=>{try{n(!0),s(null);const C=await rc.inquiryPostpaid(x,w,y);return u(C),C}catch(C){const E=C instanceof Error?C.message:"Failed to process inquiry";throw s(E),new Error(E)}finally{n(!1)}},[]),m=v.useCallback(async(x,w,y,C=cx.digiflazz.useTestMode)=>{try{n(!0),s(null);const E=await rc.payPostpaid(x,w,y,C);return u(E),E}catch(E){const B=E instanceof Error?E.message:"Failed to process payment";throw s(B),new Error(B)}finally{n(!1)}},[]),g=v.useCallback(async(x,w=!0)=>{try{n(!0),s(null);const y=await rc.checkTransactionStatus(x,w);return u(y),y}catch(y){const C=y instanceof Error?y.message:"Failed to check transaction status";throw s(C),new Error(C)}finally{n(!1)}},[]),p=v.useCallback(x=>rc.getOperatorFromPhoneNumber(x),[]),b=v.useCallback(()=>R2(),[]);return{products:t,loading:r,error:a,balance:o,currentTransaction:c,fetchProducts:A,fetchBalance:d,processPrepaidTransaction:h,processPostpaidInquiry:f,processPostpaidPayment:m,checkTransactionStatus:g,getOperatorFromPhoneNumber:p,getNewRefId:b}}const OW=v.createContext({transactionHistory:[],addTransaction:()=>{},clearTransactions:()=>{},getTransactionById:()=>{}}),Zje=({children:t})=>{const[e,r]=v.useState([]),n=o=>{r(l=>[o,...l]);try{const l=localStorage.getItem("jpcDigi_transactions"),c=l?JSON.parse(l):[];c.unshift(o),c.length>100&&c.pop(),localStorage.setItem("jpcDigi_transactions",JSON.stringify(c))}catch(l){console.error("Error storing transaction in localStorage:",l)}},a=()=>{r([]),localStorage.removeItem("jpcDigi_transactions")},s=o=>e.find(l=>l.id===o);return K.useEffect(()=>{try{const o=localStorage.getItem("jpcDigi_transactions");o&&r(JSON.parse(o))}catch(o){console.error("Error loading transactions from localStorage:",o)}},[]),i.jsx(OW.Provider,{value:{transactionHistory:e,addTransaction:n,clearTransactions:a,getTransactionById:s},children:t})},eEe=()=>v.useContext(OW),tEe=t=>{const e=t.product_name.match(/\d+/g),r=e?parseInt(e[0])>=1e3?`${Math.floor(parseInt(e[0])/1e3)}Rb`:e[0]:"",n=t.desc.match(/(\d+)\s*hari/i),a=n?`Masa Aktif ${n[0]}`:"Masa Aktif Sesuai Provider",s=Math.ceil(t.price*1.05),o=t.price<s;return{id:t.buyer_sku_code,nominal:r,description:t.product_name,price:t.price,originalPrice:o?s:void 0,validity:a,isPopular:t.stock>1e3||t.product_name.toLowerCase().includes("popular")}},hU=[];function rEe(){const t=kt(),e=la(),[r,n]=v.useState(""),[a,s]=v.useState(["0813 9458 6882","0822 6015 2977"]),[o,l]=v.useState("pulsa"),[c,u]=v.useState(null),[A,d]=v.useState(!1),[h,f]=v.useState(!1),[m,g]=v.useState(!1),[p,b]=v.useState("Telkomsel"),[x,w]=v.useState(hU),[y,C]=v.useState(hU),[E,B]=v.useState(null),j=Jje(),{addTransaction:N}=eEe(),S=()=>i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white p-6 rounded-lg flex flex-col items-center",children:[i.jsx(zt,{className:"h-8 w-8 animate-spin text-primary mb-2"}),i.jsx("p",{children:"Memproses pembayaran..."})]})}),T=U=>{const O=U.replace(/\D/g,"");let L="";for(let H=0;H<O.length;H++)(H===4||H===8)&&(L+=" "),L+=O[H];return L},I=U=>{const O=T(U.target.value);n(O);const L=O.replace(/\s/g,"").substring(0,4);["0811","0812","0813","0821","0822","0823"].includes(L)?b("Telkomsel"):["0817","0818","0819","0859","0877","0878"].includes(L)?b("XL Axiata"):["0851","0852","0853","0815","0816"].includes(L)?b("Indosat Ooredoo"):["0881","0882","0883","0884","0885","0886","0887","0888","0889"].includes(L)?b("Smartfren"):["0896","0897","0898","0899"].includes(L)?b("Tri Indonesia"):b("Unknown")},k=U=>{n(U)},R=U=>{u(U),d(!0)},M=async()=>{try{f(!0),B(null);const U=o==="pulsa"?"Pulsa":"Data",L=(await j.fetchProducts(U)).filter(H=>{const D=r.replace(/\D/g,"");return p==="Telkomsel"?H.brand.toLowerCase().includes("telkomsel"):p==="XL Axiata"?H.brand.toLowerCase().includes("xl"):p==="Indosat Ooredoo"?H.brand.toLowerCase().includes("indosat"):p==="Smartfren"?H.brand.toLowerCase().includes("smartfren"):p==="Tri Indonesia"?H.brand.toLowerCase().includes("tri")||H.brand.toLowerCase().includes("3"):!0}).map(tEe);L.sort((H,D)=>H.price-D.price),o==="pulsa"?w(L):C(L)}catch(U){B(U instanceof Error?U.message:"Failed to fetch products"),fe({variant:"destructive",title:"Error",description:"Failed to load products. Please try again."})}finally{f(!1)}},$=async()=>{var U;if(!(!c||!r))try{f(!0),B(null);const O=r.replace(/\D/g,""),L=await j.processPrepaidTransaction(O,c.id,!0);if(L&&L.data&&L.data.status==="success")N({id:L.data.ref_id||`tx-${Date.now()}`,type:"PPOB",subtype:o==="pulsa"?"Pulsa":"Data",amount:c.price,date:new Date().toISOString(),description:`${c.description} ${r}`,status:"success"}),g(!0),fe({title:"Pembayaran Berhasil",description:`Pembelian ${c.description} untuk nomor ${r} telah berhasil.`});else throw new Error(((U=L.data)==null?void 0:U.message)||"Transaction failed")}catch(O){B(O instanceof Error?O.message:"Failed to process payment"),fe({variant:"destructive",title:"Pembayaran Gagal",description:O instanceof Error?O.message:"Gagal memproses pembayaran. Silakan coba lagi."}),d(!1)}finally{f(!1)}};return v.useEffect(()=>{const O=new URLSearchParams(e.search).get("tab");if((O==="pulsa"||O==="data")&&l(O),r){const L=r.replace(/\s/g,"").substring(0,4);["0811","0812","0813","0821","0822","0823"].includes(L)?b("Telkomsel"):["0817","0818","0819","0859","0877","0878"].includes(L)?b("XL Axiata"):["0851","0852","0853","0815","0816"].includes(L)?b("Indosat Ooredoo"):["0881","0882","0883","0884","0885","0886","0887","0888","0889"].includes(L)?b("Smartfren"):["0896","0897","0898","0899"].includes(L)?b("Tri Indonesia"):b("Unknown")}},[e.search,r]),v.useEffect(()=>{r&&r.length>=4&&M()},[r,o]),v.useEffect(()=>{const U=new URLSearchParams(e.search);U.set("tab",o),t(`${e.pathname}?${U.toString()}`,{replace:!0})},[o,t,e.pathname,e.search]),i.jsxs(Kt,{children:[i.jsx(Fs,{children:i.jsx("title",{children:"Pulsa & Data - JPC Digi"})}),i.jsxs("div",{className:"w-full max-w-xl mx-auto space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-primary text-white",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:()=>t("/ppob/dashboard"),className:"mr-3",children:i.jsx(J.chevronLeft,{className:"h-6 w-6"})}),i.jsx("h1",{className:"text-lg font-semibold",children:"Pulsa & Paket Data"})]}),i.jsx("button",{children:i.jsx(J.file,{className:"h-5 w-5"})})]}),i.jsxs("div",{className:"p-4 bg-white",children:[i.jsxs("div",{className:"bg-white rounded-lg mb-4",children:[i.jsxs("div",{className:"border-b border-gray-100 py-2 px-1",children:[i.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"NOMOR HP"}),i.jsx(ue,{type:"tel",value:r,onChange:I,placeholder:"Masukkan nomor handphone",className:"border-none text-lg px-0 focus-visible:ring-0"})]}),r&&i.jsxs("div",{className:"py-2 px-1 flex items-center",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center mr-2",children:i.jsx(J.smartphone,{className:"h-4 w-4 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Provider"}),i.jsx("p",{className:"font-medium",children:p})]})]}),a.length>0&&i.jsxs("div",{className:"pt-2 pb-3",children:[i.jsx("p",{className:"text-sm text-gray-500 mb-2 px-1",children:"Nomor Tersimpan"}),i.jsx("div",{className:"flex flex-wrap gap-2 px-1",children:a.map((U,O)=>i.jsx("button",{onClick:()=>k(U),className:"px-3 py-1.5 bg-gray-100 rounded-lg text-sm hover:bg-gray-200 transition-colors",children:U},O))})]})]}),i.jsxs("div",{className:"flex space-x-4 mb-4",children:[i.jsx("button",{onClick:()=>l("pulsa"),className:`px-4 py-2 text-sm font-medium rounded-lg ${o==="pulsa"?"bg-primary text-white":"bg-gray-100 text-gray-700"}`,children:"Pulsa"}),i.jsx("button",{onClick:()=>l("data"),className:`px-4 py-2 text-sm font-medium rounded-lg ${o==="data"?"bg-primary text-white":"bg-gray-100 text-gray-700"}`,children:"Paket Data"})]}),j.loading?i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx(zt,{className:"h-8 w-8 animate-spin text-primary"})}):E?i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[i.jsx(J.alertTriangle,{className:"h-8 w-8 text-destructive mb-2"}),i.jsx("h3",{className:"font-medium",children:"Error"}),i.jsx("p",{className:"text-sm text-gray-500",children:E}),i.jsx(G,{onClick:M,variant:"outline",size:"sm",className:"mt-4",children:"Try Again"})]}):i.jsx(i.Fragment,{children:o==="pulsa"?i.jsx("div",{className:"grid grid-cols-2 gap-4",children:x.length===0&&!j.loading?i.jsx("div",{className:"col-span-2 text-center p-4",children:i.jsx("p",{className:"text-gray-500",children:"Masukkan nomor HP untuk melihat pilihan pulsa"})}):x.map(U=>i.jsx(_e,{className:`cursor-pointer hover:border-primary transition-colors ${U.isPopular?"border-amber-400":""}`,onClick:()=>R(U),children:i.jsxs(Be,{className:"p-4",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("div",{className:"font-semibold text-xl",children:U.nominal}),U.isPopular&&i.jsx("div",{className:"bg-amber-100 text-amber-800 text-xs px-2 py-0.5 rounded-full",children:"Popular"})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:U.description}),i.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:U.validity}),i.jsxs("div",{className:"mt-3",children:[U.originalPrice&&i.jsx("span",{className:"text-xs text-gray-400 line-through mr-2",children:ve(U.originalPrice)}),i.jsx("span",{className:"text-primary font-medium",children:ve(U.price)})]})]})},U.id))}):i.jsx("div",{className:"space-y-4",children:y.length===0&&!j.loading?i.jsx("div",{className:"text-center p-4",children:i.jsx("p",{className:"text-gray-500",children:"Masukkan nomor HP untuk melihat pilihan paket data"})}):y.map(U=>i.jsx(_e,{className:"cursor-pointer hover:border-primary transition-colors",onClick:()=>R(U),children:i.jsx(Be,{className:"p-4",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:U.description}),i.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:U.validity})]}),i.jsx("div",{className:"text-primary font-medium",children:ve(U.price)})]})})},U.id))})})]})]}),i.jsx(lr,{open:A,onOpenChange:d,children:i.jsx(nr,{className:"sm:max-w-md",children:m?i.jsxs("div",{className:"flex flex-col items-center justify-center py-6 space-y-4",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(J.check,{className:"h-8 w-8 text-green-600"})}),i.jsx("h2",{className:"text-xl font-semibold text-center",children:"Pembayaran Berhasil!"}),i.jsxs("p",{className:"text-center text-gray-500",children:["Pembelian ",c==null?void 0:c.description," untuk nomor ",r," telah berhasil."]}),i.jsx(G,{className:"mt-4 w-full",onClick:()=>{d(!1),g(!1)},children:"Kembali"})]}):i.jsxs(i.Fragment,{children:[i.jsxs(hr,{children:[i.jsx(fr,{children:"Konfirmasi Pembayaran"}),i.jsx(Pn,{children:"Pastikan nomor handphone dan produk yang dipilih sudah benar."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Nomor Handphone"}),i.jsx("span",{className:"font-medium",children:r})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Provider"}),i.jsx("span",{children:p})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Produk"}),i.jsx("span",{children:c==null?void 0:c.description})]})]}),i.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("span",{children:"Total Harga"}),i.jsx("span",{className:"text-amber-500",children:ve(c==null?void 0:c.price)})]})})]}),i.jsxs(An,{className:"sm:justify-between",children:[i.jsx(G,{type:"button",variant:"outline",onClick:()=>d(!1),disabled:h,children:"Batal"}),i.jsx(G,{type:"button",onClick:$,disabled:h,children:h?i.jsxs(i.Fragment,{children:[i.jsx(J.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Bayar Sekarang"})]})]})})}),h&&i.jsx(S,{})]})}const fU=[{id:"acc1",name:"Yoga Prasetya",bank:"Seabank Indonesia",accountNumber:"1234567890",isRecent:!0},{id:"acc2",name:"Budi Santoso",bank:"Bank BCA",accountNumber:"9876543210",isRecent:!1},{id:"acc3",name:"Siti Nurhaliza",bank:"Bank Mandiri",accountNumber:"5678901234",isRecent:!0}],nEe=["Bank BCA","Bank Mandiri","Bank BNI","Bank BRI","Bank CIMB Niaga","Bank Permata","Bank Danamon","Seabank Indonesia","Bank Syariah Indonesia","Bank Jago"];function aEe(){const t=kt(),[e,r]=v.useState("transfer"),[n,a]=v.useState(""),[s,o]=v.useState(""),[l,c]=v.useState(""),[u,A]=v.useState(""),[d,h]=v.useState(!1),[f,m]=v.useState(!1),[g,p]=v.useState(!1),b=B=>{const j=B.target.value.replace(/\D/g,"");a(j)},x=B=>{o(B.accountNumber),c(B.bank),A(B.name)},w=()=>{if(!n||parseInt(n)<1e4){alert("Minimal transfer Rp 10.000");return}if(!s||!l){alert("Mohon lengkapi data rekening tujuan");return}h(!0)},y=()=>{h(!1),p(!0),setTimeout(()=>{p(!1),m(!0)},2e3)},C=()=>n?ve(parseInt(n)):"",E=()=>{m(!1),t("/ppob/activity")};return i.jsxs(Kt,{children:[i.jsx(Fs,{children:i.jsx("title",{children:"Kirim Uang - JPC Digi"})}),i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx("div",{className:"bg-primary text-white p-4",children:i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(G,{variant:"ghost",size:"icon",className:"text-white mr-2 p-0",onClick:()=>t("/ppob"),children:i.jsx(J.chevronLeft,{className:"h-6 w-6"})}),i.jsx("h1",{className:"text-xl font-bold",children:"Kirim Uang"})]})}),i.jsxs(ya,{defaultValue:"transfer",className:"w-full",onValueChange:r,children:[i.jsx("div",{className:"px-4 pt-2",children:i.jsxs(sa,{className:"grid w-full grid-cols-2",children:[i.jsx(Et,{value:"transfer",children:"Transfer Bank"}),i.jsx(Et,{value:"ewallet",children:"E-Wallet"})]})}),i.jsx(Gt,{value:"transfer",className:"p-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"amount",children:"Jumlah"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"Rp"}),i.jsx(ue,{id:"amount",type:"text",className:"pl-10",value:n,onChange:b,placeholder:"0"})]}),i.jsx("p",{className:"text-xs text-gray-500",children:"Minimal Rp 10.000"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"bank",children:"Bank Tujuan"}),i.jsxs(Cn,{value:l,onValueChange:c,children:[i.jsx(ln,{id:"bank",children:i.jsx(jn,{placeholder:"Pilih bank"})}),i.jsx(cn,{children:nEe.map(B=>i.jsx(mt,{value:B,children:B},B))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"accountNumber",children:"Nomor Rekening"}),i.jsx(ue,{id:"accountNumber",value:s,onChange:B=>o(B.target.value),placeholder:"Masukkan nomor rekening"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"recipientName",children:"Nama Penerima"}),i.jsx(ue,{id:"recipientName",value:u,onChange:B=>A(B.target.value),placeholder:"Nama akan terisi otomatis",disabled:!s||s.length<8})]}),fU.length>0&&i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Rekening Tersimpan"}),i.jsx("div",{className:"space-y-2",children:fU.map(B=>i.jsxs("div",{className:"border rounded-lg p-3 flex justify-between items-center cursor-pointer hover:bg-gray-50",onClick:()=>x(B),children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:B.name}),i.jsxs("p",{className:"text-sm text-gray-500",children:[B.bank,"  ",B.accountNumber]})]}),B.isRecent&&i.jsx(vt,{variant:"outline",className:"text-xs",children:"Baru"})]},B.id))})]})]})}),i.jsx(Gt,{value:"ewallet",className:"p-4",children:i.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-gray-500",children:[i.jsx(J.wallet,{className:"h-12 w-12 mb-2 opacity-40"}),i.jsx("p",{children:"Fitur E-Wallet sedang dalam pengembangan"})]})})]}),i.jsx("div",{className:"mt-auto p-4 border-t",children:i.jsx(G,{className:"w-full",size:"lg",disabled:!n||!s||!l||e!=="transfer",onClick:w,children:"Lanjutkan"})})]}),i.jsx(lr,{open:d,onOpenChange:h,children:i.jsxs(nr,{className:"sm:max-w-md",children:[i.jsx(hr,{children:i.jsx(fr,{children:"Konfirmasi Transfer"})}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:i.jsx("p",{className:"text-center text-2xl font-bold",children:C()})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-gray-500",children:"Bank"}),i.jsx("p",{className:"font-medium",children:l})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-gray-500",children:"Nomor Rekening"}),i.jsx("p",{className:"font-medium",children:s})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-gray-500",children:"Nama Penerima"}),i.jsx("p",{className:"font-medium",children:u})]}),i.jsx(Gn,{}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-gray-500",children:"Biaya Admin"}),i.jsx("p",{className:"font-medium",children:"Gratis"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"font-medium",children:"Total"}),i.jsx("p",{className:"font-bold",children:C()})]})]})]}),i.jsxs(An,{children:[i.jsx(G,{variant:"outline",onClick:()=>h(!1),children:"Batal"}),i.jsx(G,{onClick:y,children:"Konfirmasi"})]})]})}),g&&i.jsx(lr,{open:!0,children:i.jsxs(nr,{className:"sm:max-w-md",children:[i.jsx(hr,{children:i.jsx(fr,{children:"Memproses Transaksi"})}),i.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[i.jsx(J.spinner,{className:"h-12 w-12 animate-spin text-primary mb-4"}),i.jsx("p",{children:"Mohon tunggu, transaksi sedang diproses..."})]})]})}),i.jsx(lr,{open:f,onOpenChange:m,children:i.jsxs(nr,{className:"sm:max-w-md",children:[i.jsx(hr,{children:i.jsx(fr,{children:"Transfer Berhasil"})}),i.jsx("div",{className:"space-y-4 py-4",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center mb-4",children:i.jsx(J.check,{className:"h-8 w-8 text-green-500"})}),i.jsx("p",{className:"text-center text-2xl font-bold",children:C()}),i.jsx("p",{className:"text-gray-500",children:"berhasil ditransfer ke"}),i.jsx("p",{className:"font-medium",children:u}),i.jsxs("p",{className:"text-sm text-gray-500",children:[l,"  ",s]})]})}),i.jsx(An,{children:i.jsx(G,{className:"w-full",onClick:E,children:"Selesai"})})]})})]})}var pI="Avatar",[sEe,X8e]=ba(pI),[iEe,RW]=sEe(pI),UW=v.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[a,s]=v.useState("idle");return i.jsx(iEe,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:s,children:i.jsx(Ye.span,{...n,ref:e})})});UW.displayName=pI;var MW="AvatarImage",QW=v.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...s}=t,o=RW(MW,r),l=oEe(n,s.referrerPolicy),c=kr(u=>{a(u),o.onImageLoadingStatusChange(u)});return Yr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(Ye.img,{...s,ref:e,src:n}):null});QW.displayName=MW;var LW="AvatarFallback",HW=v.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...a}=t,s=RW(LW,r),[o,l]=v.useState(n===void 0);return v.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&s.imageLoadingStatus!=="loaded"?i.jsx(Ye.span,{...a,ref:e}):null});HW.displayName=LW;function oEe(t,e){const[r,n]=v.useState("idle");return Yr(()=>{if(!t){n("error");return}let a=!0;const s=new window.Image,o=l=>()=>{a&&n(l)};return n("loading"),s.onload=o("loaded"),s.onerror=o("error"),s.src=t,e&&(s.referrerPolicy=e),()=>{a=!1}},[t,e]),r}var $W=UW,VW=QW,KW=HW;const Il=v.forwardRef(({className:t,...e},r)=>i.jsx($W,{ref:r,className:he("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Il.displayName=$W.displayName;const hd=v.forwardRef(({className:t,...e},r)=>i.jsx(VW,{ref:r,className:he("aspect-square h-full w-full",t),...e}));hd.displayName=VW.displayName;const Pl=v.forwardRef(({className:t,...e},r)=>i.jsx(KW,{ref:r,className:he("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Pl.displayName=KW.displayName;const lEe=()=>{const t=kt(),[e,r]=v.useState(""),[n,a]=v.useState(""),[s,o]=v.useState(""),[l,c]=v.useState("contacts"),[u,A]=v.useState(!1),[d,h]=v.useState(!1),[f,m]=v.useState(""),[g,p]=v.useState(!1),[b,x]=v.useState(""),w=[{id:"1",name:"Ahmad Firdaus",phone:"081234567890",image:"/placeholder.svg"},{id:"2",name:"Budi Santoso",phone:"081298765432",image:"/placeholder.svg"},{id:"3",name:"Citra Dewi",phone:"081345678901",image:"/placeholder.svg"},{id:"4",name:"Doni Prasetya",phone:"081456789012",image:"/placeholder.svg"}],y=E=>{const B=E.target.value.replace(/\D/g,"");if(B===""){r("");return}r(new Intl.NumberFormat("id-ID").format(parseInt(B)))},C=E=>{E.preventDefault(),A(!0),setTimeout(()=>{const B=`REQ${Date.now().toString().slice(-8)}`;m(B),x(`https://jpcdigi.com/ppob/pay-request/${B}`),A(!1),h(!0),setTimeout(()=>{(l==="link"||l==="qr")&&p(!0)},1500)},1500)};return i.jsxs(Kt,{children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 border-b border-gray-100",children:[i.jsx("button",{onClick:()=>t("/ppob/dashboard"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(J.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"Minta Dana"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Minta dana dari pengguna lain"})]}),i.jsx("div",{className:"ml-auto rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(J.file,{className:"h-5 w-5"})})]})}),i.jsxs("div",{className:"container max-w-md mx-auto px-4 py-6",children:[d?i.jsx(_e,{className:"border-none shadow-sm mb-6",children:i.jsxs(Be,{className:"p-6 text-center",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(J.check,{className:"h-8 w-8 text-green-600"})})}),i.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Permintaan Terkirim!"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Permintaan dana telah dikirim dan menunggu pembayaran"}),i.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg mb-4",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Jumlah"}),i.jsxs("span",{className:"font-semibold",children:["Rp ",e]})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Tujuan"}),i.jsx("span",{className:"font-semibold",children:n||"Link Pembayaran"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"ID Permintaan"}),i.jsx("span",{className:"font-semibold",children:f})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(G,{variant:"outline",className:"w-full flex justify-center items-center",onClick:()=>t("/ppob/history"),children:[i.jsx(J.arrowLeft,{className:"mr-2 h-4 w-4"}),"Kembali ke Beranda"]}),i.jsxs(G,{className:"w-full flex justify-center items-center",onClick:()=>p(!0),children:[i.jsx(J.share,{className:"mr-2 h-4 w-4"}),"Bagikan Link Permintaan"]})]})]})}):i.jsxs(i.Fragment,{children:[i.jsx(_e,{className:"border-none shadow-sm mb-6",children:i.jsx(Be,{className:"pt-6",children:i.jsx("form",{onSubmit:C,children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white rounded-xl shadow-sm p-5 mb-2",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Te,{htmlFor:"amount",className:"text-muted-foreground text-xs font-medium",children:"JUMLAH YANG DIMINTA"}),i.jsx("div",{className:"relative mt-3 mb-2",children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("span",{className:"text-3xl font-bold text-primary mr-1",children:"Rp"}),i.jsx(ue,{id:"amount",placeholder:"0",className:"text-3xl font-bold text-center border-none shadow-none focus-visible:ring-0 w-[60%] h-14 bg-transparent px-0",value:e,onChange:y,required:!0})]})}),i.jsxs("div",{className:"flex justify-between text-xs mx-4",children:[i.jsx(vt,{variant:"outline",className:"text-primary border-primary/20 bg-primary/5",children:"Min: Rp10.000"}),i.jsx(vt,{variant:"outline",className:"text-primary border-primary/20 bg-primary/5",children:"Maks: Rp10.000.000"})]})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"notes",children:"Catatan (Opsional)"}),i.jsx(ue,{id:"notes",placeholder:"Contoh: Bayar makan siang",value:s,onChange:E=>o(E.target.value)})]})]})})})}),i.jsxs(ya,{value:l,onValueChange:E=>c(E),className:"w-full",children:[i.jsxs(sa,{className:"grid w-full grid-cols-3",children:[i.jsx(Et,{value:"contacts",children:"Kontak"}),i.jsx(Et,{value:"link",children:"Link"}),i.jsx(Et,{value:"qr",children:"QR Code"})]}),i.jsxs(Gt,{value:"contacts",className:"space-y-4 pt-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(Te,{htmlFor:"phone",className:"font-medium",children:"Nomor Telepon"}),i.jsx("span",{className:"text-xs text-primary",children:"Semua Kontak"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:i.jsx(J.phone,{className:"h-4 w-4 text-muted-foreground"})}),i.jsx(ue,{id:"phone",placeholder:"Contoh: 081234567890",className:"pl-9 bg-muted/30",value:n,onChange:E=>a(E.target.value.replace(/\D/g,"")),required:!0})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Nomor telepon penerima permintaan dana"})]}),i.jsxs("div",{className:"bg-muted/20 rounded-lg p-3 mb-4",children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Nomor Tersimpan"}),i.jsx("div",{className:"grid grid-cols-1 gap-2",children:w.map(E=>i.jsxs("div",{onClick:()=>a(E.phone),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted cursor-pointer",children:[i.jsxs(Il,{className:"h-10 w-10 border",children:[i.jsx(hd,{src:E.image,alt:E.name}),i.jsx(Pl,{children:E.name.substring(0,2)})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:E.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:E.phone})]}),i.jsx("div",{className:"w-5 h-5 rounded-full border border-primary flex items-center justify-center",children:n===E.phone&&i.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"})})]},E.id))})]}),i.jsx(G,{className:"w-full bg-primary hover:bg-primary/90",disabled:!e||!n||u,onClick:C,children:u?i.jsxs(i.Fragment,{children:[i.jsx(J.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Kirim Permintaan"})]}),i.jsx(Gt,{value:"link",className:"space-y-4 pt-4",children:i.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg text-center space-y-2",children:[i.jsx(J.link,{className:"h-12 w-12 mx-auto text-primary/50"}),i.jsx("h3",{className:"font-medium",children:"Bagikan Link Permintaan"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Buat link yang dapat dibagikan untuk menerima pembayaran"}),i.jsx(G,{className:"w-full",disabled:!e||u,onClick:C,children:u?i.jsxs(i.Fragment,{children:[i.jsx(J.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Buat Link Pembayaran"})]})}),i.jsx(Gt,{value:"qr",className:"space-y-4 pt-4",children:i.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg text-center space-y-2",children:[i.jsx(J.qrCode,{className:"h-12 w-12 mx-auto text-primary/50"}),i.jsx("h3",{className:"font-medium",children:"Buat QR Code Pembayaran"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Buat kode QR yang dapat dipindai untuk menerima pembayaran"}),i.jsx(G,{className:"w-full",disabled:!e||u,onClick:C,children:u?i.jsxs(i.Fragment,{children:[i.jsx(J.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Buat QR Code Pembayaran"})]})})]})]}),i.jsx(lr,{open:g,onOpenChange:p,children:i.jsxs(nr,{className:"sm:max-w-md",children:[i.jsxs(hr,{children:[i.jsx(fr,{children:"Bagikan Permintaan"}),i.jsx(Pn,{children:"Bagikan link atau QR code permintaan dana kepada orang lain"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[l==="qr"?i.jsx("div",{className:"flex justify-center",children:i.jsxs("div",{className:"p-4 border-2 border-dashed border-muted-foreground/50 rounded-lg bg-white",children:[i.jsx(DW,{value:b,size:180}),i.jsxs("p",{className:"text-xs text-center mt-2",children:["Rp ",e]})]})}):i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{children:"Link Permintaan"}),i.jsxs("div",{className:"flex",children:[i.jsx(ue,{value:b,readOnly:!0,className:"rounded-r-none"}),i.jsx(G,{className:"rounded-l-none",type:"button",onClick:()=>{navigator.clipboard.writeText(b),alert("Link permintaan disalin!")},children:i.jsx(J.copy,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{children:"Bagikan ke"}),i.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{icon:"messageSquare",name:"WhatsApp",color:"text-green-600"},{icon:"mail",name:"Email",color:"text-blue-600"},{icon:"wifi",name:"Facebook",color:"text-blue-800"},{icon:"copy",name:"Salin",color:"text-gray-600"}].map((E,B)=>{const j=J[E.icon];return i.jsxs(G,{variant:"outline",className:"h-auto py-3 flex flex-col items-center",children:[i.jsx(j,{className:`h-5 w-5 mb-1 ${E.color}`}),i.jsx("span",{className:"text-xs",children:E.name})]},B)})})]})]}),i.jsx(An,{children:i.jsx(G,{variant:"outline",onClick:()=>{p(!1),t("/ppob/history")},children:"Selesai"})})]})})]})]})},cEe=[{id:1,amount:5e4},{id:2,amount:1e5},{id:3,amount:15e4},{id:4,amount:2e5},{id:5,amount:5e5},{id:6,amount:1e6}],mU=[{id:"bca",name:"BCA",logo:"/logos/bca.png",fallback:"BC"},{id:"mandiri",name:"Mandiri",logo:"/logos/mandiri.png",fallback:"MD"},{id:"bni",name:"BNI",logo:"/logos/bni.png",fallback:"BN"},{id:"bri",name:"BRI",logo:"/logos/bri.png",fallback:"BR"},{id:"gopay",name:"GoPay",logo:"/logos/gopay.png",fallback:"GP"},{id:"ovo",name:"OVO",logo:"/logos/ovo.png",fallback:"OV"}],uEe=()=>{var p;const t=kt(),[e,r]=v.useState(""),[n,a]=v.useState(""),[s,o]=v.useState(""),[l,c]=v.useState(!1),[u,A]=v.useState(!1),[d,h]=v.useState(""),f=b=>{r(b.toString()),a(new Intl.NumberFormat("id-ID").format(b))},m=b=>{const x=b.target.value.replace(/\D/g,"");if(x===""){r(""),a("");return}r(x),a(new Intl.NumberFormat("id-ID").format(parseInt(x)))},g=()=>{!e||!s||(c(!0),setTimeout(()=>{const b=`TX${Date.now().toString().slice(-8)}`;h(b),c(!1),A(!0)},1500))};return i.jsxs(Kt,{children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 border-b border-gray-100",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(J.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"Top Up Saldo"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Isi Ulang Saldo Anda"})]}),i.jsx("div",{className:"ml-auto rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(J.file,{className:"h-5 w-5"})})]})}),i.jsxs("div",{className:"container max-w-md mx-auto px-4 py-6",children:[i.jsx(_e,{className:"border-none shadow-sm mb-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:i.jsx(Be,{className:"p-4",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-xs opacity-80 mb-1",children:"Saldo Anda"}),i.jsx("span",{className:"text-2xl font-bold",children:"Rp2.500.000"})]})})}),i.jsxs(ya,{defaultValue:"amount",className:"mb-6",children:[i.jsxs(sa,{className:"grid grid-cols-2 mb-4",children:[i.jsx(Et,{value:"amount",children:"Nominal"}),i.jsx(Et,{value:"payment",children:"Metode Pembayaran"})]}),i.jsx(Gt,{value:"amount",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white rounded-xl shadow-sm p-5 mb-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Te,{htmlFor:"customAmount",className:"text-muted-foreground text-xs font-medium",children:"JUMLAH TOP UP"}),i.jsx("div",{className:"relative mt-3 mb-2",children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("span",{className:"text-3xl font-bold text-primary mr-1",children:"Rp"}),i.jsx(ue,{id:"customAmount",placeholder:"0",className:"text-3xl font-bold text-center border-none shadow-none focus-visible:ring-0 w-[60%] h-14 bg-transparent px-0",value:n,onChange:m})]})}),i.jsxs("div",{className:"flex justify-between text-xs mx-4",children:[i.jsx(vt,{variant:"outline",className:"text-primary border-primary/20 bg-primary/5",children:"Min: Rp10.000"}),i.jsx(vt,{variant:"outline",className:"text-primary border-primary/20 bg-primary/5",children:"Maks: Rp10.000.000"})]})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{className:"text-sm font-medium",children:"Pilih Nominal"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:cEe.map(b=>i.jsx(G,{type:"button",variant:e===b.amount.toString()?"default":"outline",className:he("h-12 font-medium",e===b.amount.toString()?"bg-primary text-white":"border-gray-200 text-gray-700"),onClick:()=>f(b.amount),children:ve(b.amount)},b.id))})]}),i.jsx(G,{className:"w-full mt-4",size:"lg",disabled:!e,onClick:()=>{var b;(b=document.querySelector('[data-value="payment"]'))==null||b.dispatchEvent(new MouseEvent("click",{bubbles:!0}))},children:"Lanjutkan"})]})}),i.jsx(Gt,{value:"payment",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx(_e,{className:"border-none shadow-sm bg-muted/20 mb-4",children:i.jsx(Be,{className:"p-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Jumlah Top Up"}),i.jsx("p",{className:"font-bold text-lg",children:ve(parseInt(e||"0"))})]}),i.jsx(G,{variant:"ghost",size:"sm",onClick:()=>{var b;(b=document.querySelector('[data-value="amount"]'))==null||b.dispatchEvent(new MouseEvent("click",{bubbles:!0}))},children:"Ubah"})]})})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{className:"text-sm font-medium",children:"Pilih Metode Pembayaran"}),i.jsx("div",{className:"grid gap-2",children:mU.map(b=>i.jsxs("div",{className:he("flex items-center gap-3 p-3 rounded-lg border cursor-pointer",s===b.id?"border-primary bg-primary/5":"border-gray-200"),onClick:()=>o(b.id),children:[i.jsxs(Il,{className:"h-10 w-10 border",children:[i.jsx(hd,{src:b.logo,alt:b.name}),i.jsx(Pl,{children:b.fallback})]}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-sm font-medium",children:b.name})}),i.jsx("div",{className:"w-5 h-5 rounded-full border border-primary flex items-center justify-center",children:s===b.id&&i.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"})})]},b.id))})]}),i.jsx(G,{className:"w-full mt-4",size:"lg",disabled:!s||!e||l,onClick:g,children:l?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(zt,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Memproses..."})]}):`Bayar ${ve(parseInt(e||"0"))}`})]})})]}),i.jsx(lr,{open:u,onOpenChange:A,children:i.jsxs(nr,{className:"sm:max-w-md",children:[i.jsxs(hr,{children:[i.jsx(fr,{className:"text-center",children:"Top Up Berhasil!"}),i.jsx(Pn,{className:"text-center",children:"Saldo Anda berhasil ditambahkan"})]}),i.jsx("div",{className:"flex justify-center py-6",children:i.jsx("div",{className:"h-20 w-20 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(J.check,{className:"h-10 w-10 text-green-600"})})}),i.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg mb-4",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Jumlah"}),i.jsx("span",{className:"font-semibold",children:ve(parseInt(e||"0"))})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Metode"}),i.jsx("span",{className:"font-semibold",children:((p=mU.find(b=>b.id===s))==null?void 0:p.name)||""})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"ID Transaksi"}),i.jsx("span",{className:"font-semibold",children:d})]})]}),i.jsx(An,{children:i.jsx(G,{className:"w-full",onClick:()=>{A(!1),t("/ppob")},children:"Kembali ke Beranda"})})]})})]})]})},AEe=[{value:"20000",label:"Token 20rb",price:22500,desc:"Token Listrik 20.000 VA"},{value:"50000",label:"Token 50rb",price:51500,desc:"Token Listrik 50.000 VA"},{value:"100000",label:"Token 100rb",price:101500,desc:"Token Listrik 100.000 VA"},{value:"200000",label:"Token 200rb",price:201500,desc:"Token Listrik 200.000 VA"},{value:"500000",label:"Token 500rb",price:501500,desc:"Token Listrik 500.000 VA"},{value:"1000000",label:"Token 1jt",price:1001500,desc:"Token Listrik 1.000.000 VA"}],pU=[{id:"1",name:"Rumah Utama",number:"12345678901",address:"Jl. Kemang Raya No. 10"},{id:"2",name:"Apartemen",number:"23456789012",address:"Apartemen Sudirman Park Tower A/12"}],dEe=()=>{const t=kt(),[e,r]=v.useState(""),[n,a]=v.useState(null),[s,o]=v.useState(null),[l,c]=v.useState(!1),[u,A]=v.useState(!1),[d,h]=v.useState(!1),[f,m]=v.useState(""),[g,p]=v.useState(""),b=()=>{!e||e.length<10||(c(!0),setTimeout(()=>{a({name:"Aga Tampan",address:"Jl. Gatot Subroto No. 12, Jakarta Selatan"}),c(!1)},1e3))},x=()=>{!e||!s||(A(!0),setTimeout(()=>{const w=Array(20).fill(0).map(()=>Math.floor(Math.random()*10)).join("");p(w);const y=`TX${Date.now().toString().slice(-8)}`;m(y),A(!1),h(!0)},1500))};return i.jsxs(Kt,{children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 border-b border-gray-100",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(J.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"Token Listrik"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Beli token listrik prabayar"})]}),i.jsx("div",{className:"ml-auto rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(J.file,{className:"h-5 w-5"})})]})}),i.jsx("div",{className:"container max-w-md mx-auto px-4 py-6",children:i.jsx(_e,{className:"border-none shadow-sm mb-6",children:i.jsx(Be,{className:"pt-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(Te,{htmlFor:"meterNumber",className:"font-medium",children:"ID Pelanggan / Nomor Meter"}),n&&i.jsx(G,{variant:"ghost",size:"sm",className:"text-primary h-8 px-2",onClick:()=>{r(""),a(null),o(null)},children:"Ubah"})]}),n?i.jsx("div",{className:"bg-muted/20 p-4 rounded-lg",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(J.users,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:n.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:e}),i.jsx("p",{className:"text-xs text-muted-foreground",children:n.address})]})]})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:i.jsx(J.zap,{className:"h-4 w-4 text-muted-foreground"})}),i.jsx(ue,{id:"meterNumber",placeholder:"Contoh: 12345678901",className:"pl-9 bg-muted/30",value:e,onChange:w=>r(w.target.value.replace(/\D/g,"")),disabled:l})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Masukkan nomor meter atau ID pelanggan PLN"}),pU.length>0&&i.jsxs("div",{className:"mt-4 bg-muted/20 rounded-lg p-3",children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Meter Tersimpan"}),i.jsx("div",{className:"grid grid-cols-1 gap-2",children:pU.map(w=>i.jsxs("div",{onClick:()=>r(w.number),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted cursor-pointer",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(J.zap,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:w.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:w.number})]}),i.jsx("div",{className:"w-5 h-5 rounded-full border border-primary flex items-center justify-center",children:e===w.number&&i.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"})})]},w.id))})]}),i.jsx("div",{className:"mt-4",children:i.jsx(G,{className:"w-full",disabled:e.length<10||l,onClick:b,children:l?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(zt,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Memeriksa..."})]}):"Periksa Nomor Meter"})})]})]}),n&&i.jsxs("div",{className:"border-t pt-4 mt-4",children:[i.jsx("div",{className:"mb-3",children:i.jsx(Te,{className:"text-sm font-medium",children:"Pilih Nominal"})}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:AEe.map(w=>i.jsxs("div",{className:he("border rounded-lg p-3 cursor-pointer transition-colors",s===w.value?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/50"),onClick:()=>o(w.value),children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("span",{className:"font-semibold",children:w.label}),s===w.value&&i.jsx("div",{className:"w-5 h-5 rounded-full bg-primary flex items-center justify-center",children:i.jsx(J.check,{className:"h-3 w-3 text-white"})})]}),i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:w.desc}),i.jsx("p",{className:"text-sm font-medium text-primary",children:ve(w.price)})]},w.value))}),i.jsx(G,{className:"w-full mt-6",size:"lg",disabled:!s||u,onClick:x,children:u?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(zt,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Memproses..."})]}):"Beli Token"})]})]})})})}),i.jsx(lr,{open:d,onOpenChange:h,children:i.jsxs(nr,{className:"sm:max-w-md",children:[i.jsxs(hr,{children:[i.jsx(fr,{className:"text-center",children:"Pembelian Berhasil!"}),i.jsx(Pn,{className:"text-center",children:"Token listrik berhasil dibeli"})]}),i.jsx("div",{className:"flex justify-center py-4",children:i.jsx("div",{className:"h-20 w-20 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(J.check,{className:"h-10 w-10 text-green-600"})})}),i.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg mb-4",children:[i.jsxs("div",{className:"flex flex-col items-center mb-4 bg-primary/10 p-3 rounded-lg",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Token Anda"}),i.jsx("p",{className:"font-mono text-xl font-bold tracking-wider",children:g})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Nomor Meter"}),i.jsx("span",{className:"font-semibold",children:e})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Nama"}),i.jsx("span",{className:"font-semibold",children:n==null?void 0:n.name})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Nominal"}),i.jsx("span",{className:"font-semibold",children:ve(parseInt(s||"0"))})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Admin"}),i.jsx("span",{className:"font-semibold",children:"Rp1.500"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"ID Transaksi"}),i.jsx("span",{className:"font-semibold",children:f})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(G,{variant:"outline",className:"flex-1",onClick:()=>{navigator.clipboard.writeText(g),alert("Token berhasil disalin!")},children:[i.jsx(J.copy,{className:"mr-2 h-4 w-4"}),"Salin Token"]}),i.jsx(G,{className:"flex-1",onClick:()=>{h(!1),t("/ppob")},children:"Selesai"})]})]})})]})},gU=[{id:"gopay",name:"GoPay",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/86/Gopay_logo.svg/180px-Gopay_logo.svg.png",color:"bg-blue-500",textColor:"text-blue-600",bgColor:"bg-blue-50"},{id:"ovo",name:"OVO",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/eb/Logo_ovo_purple.svg/180px-Logo_ovo_purple.svg.png",color:"bg-purple-500",textColor:"text-purple-600",bgColor:"bg-purple-50"},{id:"dana",name:"DANA",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/Logo_dana_blue.svg/180px-Logo_dana_blue.svg.png",color:"bg-blue-400",textColor:"text-blue-500",bgColor:"bg-blue-50"},{id:"linkaja",name:"LinkAja",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/85/LinkAja.svg/180px-LinkAja.svg.png",color:"bg-red-500",textColor:"text-red-600",bgColor:"bg-red-50"},{id:"shopeepay",name:"ShopeePay",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/ShopeePay_logo.svg/180px-ShopeePay_logo.svg.png",color:"bg-orange-500",textColor:"text-orange-600",bgColor:"bg-orange-50"}],P_=[{walletId:"dana",accountNumber:"081234567890",name:"Budi Santoso"},{walletId:"gopay",accountNumber:"081387654321",name:"Siti Rahayu"},{walletId:"ovo",accountNumber:"081598765432",name:"Ahmad Hidayat"}],hEe=()=>{var k,R,M,$,U,O;const t=kt(),[e,r]=v.useState("transfer"),[n]=v.useState(75e4),[a,s]=v.useState(null),[o,l]=v.useState(""),[c,u]=v.useState(""),[A,d]=v.useState(!1),[h,f]=v.useState(!1),[m,g]=v.useState(""),[p,b]=v.useState(!1),[x,w]=v.useState(!1),[y,C]=v.useState(""),E=L=>{const H=L.replace(/\D/g,"");return H.length<=4?H:H.length<=7?`${H.slice(0,4)}-${H.slice(4)}`:H.length<=10?`${H.slice(0,4)}-${H.slice(4,7)}-${H.slice(7)}`:`${H.slice(0,4)}-${H.slice(4,7)}-${H.slice(7,10)}-${H.slice(10,13)}`},B=L=>{const H=L.target.value.replace(/\D/g,"");l(H),f(!1)},j=L=>{const H=L.target.value.replace(/\D/g,"");u(H)},N=()=>{o.length<10||!a||(d(!0),setTimeout(()=>{var L;g(((L=P_.find(H=>H.accountNumber.endsWith(o.slice(-8))&&H.walletId===a))==null?void 0:L.name)||"User "+a.toUpperCase()),f(!0),d(!1)},1e3))},S=()=>{!h||!c||parseInt(c)<=0||(b(!0),setTimeout(()=>{const L=`EW${Date.now().toString().slice(-8)}`;C(L),b(!1),w(!0)},1500))},T=()=>{s(null),l(""),u(""),f(!1),g(""),w(!1)},I=L=>gU.find(H=>H.id===L);return i.jsxs(Kt,{children:[i.jsxs("div",{className:"bg-gradient-to-b from-indigo-600 to-indigo-800 text-white",children:[i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white/20",children:i.jsx(J.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"e-Wallet"}),i.jsx("p",{className:"text-xs text-white/70",children:"Transfer ke e-wallet lainnya"})]})]}),i.jsx("div",{className:"p-4",children:i.jsx(_e,{className:"bg-white/10 border-0 backdrop-blur-sm text-white",children:i.jsxs(Be,{className:"p-4",children:[i.jsx("p",{className:"text-sm text-white/80",children:"Saldo Tersedia"}),i.jsx("h2",{className:"text-2xl font-bold",children:ve(n)}),i.jsx("p",{className:"text-xs text-white/70 mt-1",children:i.jsxs("span",{className:"inline-flex items-center",children:[i.jsx(J.clock,{className:"h-3 w-3 mr-1"}),"Terakhir diperbarui: ",new Date().toLocaleTimeString("id-ID")]})})]})})})]}),i.jsx("div",{className:"container max-w-md mx-auto px-4 py-6",children:i.jsxs(ya,{defaultValue:"transfer",className:"w-full",onValueChange:r,children:[i.jsxs(sa,{className:"grid grid-cols-2 mb-4",children:[i.jsx(Et,{value:"transfer",children:"Transfer"}),i.jsx(Et,{value:"history",children:"Riwayat"})]}),i.jsx(Gt,{value:"transfer",className:"space-y-4",children:x?i.jsx(_e,{className:"border-none shadow-sm",children:i.jsxs(Be,{className:"pt-6 px-6 pb-6 flex flex-col items-center",children:[i.jsx("div",{className:"h-20 w-20 rounded-full bg-green-100 flex items-center justify-center mb-4",children:i.jsx(J.check,{className:"h-10 w-10 text-green-600"})}),i.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Transfer Berhasil!"}),i.jsxs("p",{className:"text-sm text-muted-foreground mb-6",children:["Dana telah berhasil ditransfer ke ",(U=I(a))==null?void 0:U.name]}),i.jsxs("div",{className:"w-full bg-muted/30 p-4 rounded-lg space-y-3 mb-6",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Jumlah"}),i.jsx("span",{className:"text-sm font-medium",children:ve(parseInt(c))})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Penerima"}),i.jsx("span",{className:"text-sm font-medium",children:m})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"E-Wallet"}),i.jsx("span",{className:"text-sm font-medium",children:(O=I(a))==null?void 0:O.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Nomor Telepon"}),i.jsx("span",{className:"text-sm font-medium",children:E(o)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"ID Transaksi"}),i.jsx("span",{className:"text-sm font-medium",children:y})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Waktu"}),i.jsx("span",{className:"text-sm font-medium",children:new Date().toLocaleString("id-ID")})]})]}),i.jsxs("div",{className:"flex gap-3 w-full",children:[i.jsxs(G,{variant:"outline",className:"flex-1",onClick:T,children:[i.jsx(J.arrowRight,{className:"mr-2 h-4 w-4"}),"Transfer Lagi"]}),i.jsx(G,{className:"flex-1",onClick:()=>t("/ppob"),children:"Selesai"})]})]})}):i.jsx(i.Fragment,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Te,{className:"text-sm font-medium mb-2 block",children:"Pilih E-Wallet"}),i.jsx("div",{className:"grid grid-cols-3 gap-3",children:gU.map(L=>i.jsxs("div",{className:`border rounded-lg p-3 flex flex-col items-center cursor-pointer transition-all ${a===L.id?`border-2 border-primary ${L.bgColor}`:"border-gray-200 hover:border-gray-300"}`,onClick:()=>s(L.id),children:[i.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-1 ${a===L.id?L.bgColor:"bg-gray-100"}`,children:[a===L.id&&i.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-primary rounded-full flex items-center justify-center",children:i.jsx(J.check,{className:"h-3 w-3 text-white"})}),i.jsx("img",{src:L.logo,alt:L.name,className:"w-6 h-6 object-contain"})]}),i.jsx("span",{className:"text-xs font-medium",children:L.name})]},L.id))})]}),a&&i.jsx(_e,{className:"border-none shadow-sm",children:i.jsx(Be,{className:"p-4 space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"phoneNumber",children:"Nomor Telepon"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:i.jsx(J.phone,{className:"h-4 w-4 text-muted-foreground"})}),i.jsx(ue,{id:"phoneNumber",className:"pl-9",placeholder:"Contoh: 081234567890",value:E(o),onChange:B,disabled:h||A})]}),P_.length>0&&!h&&i.jsxs("div",{className:"mt-4",children:[i.jsx(Te,{className:"text-sm mb-2 block",children:"Tujuan Tersimpan"}),i.jsx("div",{className:"space-y-2",children:P_.filter(L=>L.walletId===a).map((L,H)=>{var D,Q,z,q;return i.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted cursor-pointer",onClick:()=>{l(L.accountNumber),N()},children:[i.jsx(Il,{className:"h-9 w-9",children:i.jsx(Pl,{className:`${(D=I(L.walletId))==null?void 0:D.textColor} ${(Q=I(L.walletId))==null?void 0:Q.bgColor}`,children:L.name.substring(0,2).toUpperCase()})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:L.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:E(L.accountNumber)})]}),i.jsx(vt,{variant:"outline",className:`ml-auto ${(z=I(L.walletId))==null?void 0:z.textColor}`,children:(q=I(L.walletId))==null?void 0:q.name})]},H)})})]}),!h&&o.length>=10&&i.jsx(G,{className:"w-full mt-2",onClick:N,disabled:A,children:A?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(zt,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Memeriksa..."})]}):"Verifikasi Nomor"}),h&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-3 bg-muted/40 rounded-lg flex items-center gap-3 mt-2",children:[i.jsx(Il,{className:"h-10 w-10",children:i.jsx(Pl,{className:`${(k=I(a))==null?void 0:k.textColor} ${(R=I(a))==null?void 0:R.bgColor}`,children:m.substring(0,2).toUpperCase()})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:m}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:E(o)}),i.jsx(vt,{variant:"outline",className:`${(M=I(a))==null?void 0:M.textColor} text-xs`,children:($=I(a))==null?void 0:$.name})]})]}),i.jsx(G,{variant:"ghost",size:"sm",className:"ml-auto h-8 px-2",onClick:()=>{f(!1),l("")},children:"Ubah"})]}),i.jsxs("div",{className:"space-y-2 mt-4",children:[i.jsx(Te,{htmlFor:"amount",children:"Nominal Transfer"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 font-medium",children:"Rp"}),i.jsx(ue,{id:"amount",className:"pl-9",placeholder:"0",value:c?parseInt(c).toLocaleString("id-ID"):"",onChange:j})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:[5e4,1e5,2e5,5e5].map(L=>i.jsx(G,{type:"button",variant:"outline",className:"flex-1 min-w-20",onClick:()=>u(L.toString()),children:ve(L)},L))})]}),i.jsx(G,{className:"w-full mt-4",size:"lg",disabled:!c||parseInt(c)<=0||parseInt(c)>n||p,onClick:S,children:p?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(zt,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Memproses..."})]}):"Transfer Sekarang"}),parseInt(c)>n&&i.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Saldo Anda tidak mencukupi untuk melakukan transfer ini."})]})]})})})]})})}),i.jsx(Gt,{value:"history",className:"space-y-4",children:i.jsx(_e,{className:"border-none shadow-sm",children:i.jsxs(Be,{className:"p-4",children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Riwayat Transfer E-Wallet"}),i.jsx("div",{className:"space-y-3",children:[{id:"EW20250603001",wallet:"dana",name:"Budi Santoso",phone:"081234567890",amount:1e5,date:new Date(2025,5,2)},{id:"EW20250602002",wallet:"gopay",name:"Siti Rahayu",phone:"081387654321",amount:5e4,date:new Date(2025,5,1)},{id:"EW20250601003",wallet:"ovo",name:"Ahmad Hidayat",phone:"081598765432",amount:75e3,date:new Date(2025,5,1)}].map((L,H)=>{var D,Q,z,q,W;return i.jsxs("div",{className:"border rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${(D=I(L.wallet))==null?void 0:D.bgColor}`,children:i.jsx("img",{src:(Q=I(L.wallet))==null?void 0:Q.logo,alt:(z=I(L.wallet))==null?void 0:z.name,className:"w-6 h-6 object-contain"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm font-medium",children:L.name}),i.jsxs("p",{className:"text-sm font-semibold text-red-600",children:["-",ve(L.amount)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:E(L.phone)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:L.date.toLocaleDateString("id-ID")})]})]})]}),i.jsxs("div",{className:"mt-2 pt-2 border-t flex justify-between items-center",children:[i.jsxs("span",{className:"text-xs text-muted-foreground",children:["ID: ",L.id]}),i.jsx(vt,{variant:"outline",className:(q=I(L.wallet))==null?void 0:q.textColor,children:(W=I(L.wallet))==null?void 0:W.name})]})]},H)})})]})})})]})})]})},xU=[{id:"ml",name:"Mobile Legends",image:"https://play-lh.googleusercontent.com/ha7AWuJ9nlt3X5OgDI-HZkrZf0TjyuO6j6WnVcjbPHbhTVK9KTbdcKBQUDpzJqdJjA",publisher:"Moonton",category:"MOBA",items:[{id:"ml-1",name:"86 Diamonds",price:22e3,originalPrice:25e3,discount:!0},{id:"ml-2",name:"172 Diamonds",price:45e3,originalPrice:5e4,discount:!0},{id:"ml-3",name:"257 Diamonds",price:67e3,originalPrice:75e3,discount:!0},{id:"ml-4",name:"344 Diamonds",price:89e3,originalPrice:1e5,discount:!0},{id:"ml-5",name:"429 Diamonds",price:112e3,originalPrice:125e3,discount:!0},{id:"ml-6",name:"514 Diamonds",price:134e3,originalPrice:15e4,discount:!0},{id:"ml-7",name:"706 Diamonds",price:179e3,originalPrice:2e5,discount:!0},{id:"ml-8",name:"878 Diamonds",price:223e3,originalPrice:25e4,discount:!0},{id:"ml-9",name:"963 Diamonds",price:245e3,originalPrice:275e3,discount:!0},{id:"ml-10",name:"1050 Diamonds",price:268e3,originalPrice:3e5,discount:!0},{id:"ml-11",name:"Weekly Diamond Pass",price:28500,originalPrice:3e4,discount:!0},{id:"ml-12",name:"Starlight Member",price:149e3,originalPrice:149e3,discount:!1}]},{id:"ff",name:"Free Fire",image:"https://play-lh.googleusercontent.com/WWcssdzTZvx7Fc84lfMpZRvTUjqxUcKn3ANF5_XYOegQjbUQQdTmMvB8BtY_8VGcJQ",publisher:"Garena",category:"Battle Royale",items:[{id:"ff-1",name:"100 Diamonds",price:15e3,originalPrice:16e3,discount:!0},{id:"ff-2",name:"210 Diamonds",price:3e4,originalPrice:32e3,discount:!0},{id:"ff-3",name:"310 Diamonds",price:45e3,originalPrice:48e3,discount:!0},{id:"ff-4",name:"520 Diamonds",price:75e3,originalPrice:8e4,discount:!0},{id:"ff-5",name:"1060 Diamonds",price:15e4,originalPrice:16e4,discount:!0},{id:"ff-6",name:"2180 Diamonds",price:3e5,originalPrice:32e4,discount:!0},{id:"ff-7",name:"5600 Diamonds",price:75e4,originalPrice:8e5,discount:!0},{id:"ff-8",name:"Weekly Member",price:28500,originalPrice:3e4,discount:!0},{id:"ff-9",name:"Monthly Member",price:85e3,originalPrice:9e4,discount:!0}]},{id:"pubg",name:"PUBG Mobile",image:"https://play-lh.googleusercontent.com/JRd05pyBH41qjgsJuWduRJpDeZG0Hnb0yjf2nWqO7VaGKL10-G5UIygxED-WNOc3pg",publisher:"Tencent Games",category:"Battle Royale",items:[{id:"pubg-1",name:"60 UC",price:16e3,originalPrice:18e3,discount:!0},{id:"pubg-2",name:"300 UC",price:75e3,originalPrice:8e4,discount:!0},{id:"pubg-3",name:"600 UC",price:15e4,originalPrice:16e4,discount:!0},{id:"pubg-4",name:"1500 UC",price:375e3,originalPrice:4e5,discount:!0},{id:"pubg-5",name:"3000 UC",price:75e4,originalPrice:8e5,discount:!0},{id:"pubg-6",name:"6000 UC",price:149e4,originalPrice:16e5,discount:!0},{id:"pubg-7",name:"Royale Pass",price:14e4,originalPrice:15e4,discount:!0}]},{id:"genshin",name:"Genshin Impact",image:"https://play-lh.googleusercontent.com/So91qs_eRRvalz7JtGXvUJ7Nsg-A5Q3LL4_ifmEXNsj28Tj0R7jzMCjzqKYzWrEJC6Y",publisher:"miHoYo",category:"RPG",items:[{id:"gi-1",name:"60 Genesis Crystals",price:16e3,originalPrice:18e3,discount:!0},{id:"gi-2",name:"300+30 Genesis Crystals",price:8e4,originalPrice:85e3,discount:!0},{id:"gi-3",name:"980+110 Genesis Crystals",price:25e4,originalPrice:27e4,discount:!0},{id:"gi-4",name:"1980+260 Genesis Crystals",price:48e4,originalPrice:5e5,discount:!0},{id:"gi-5",name:"3280+600 Genesis Crystals",price:8e5,originalPrice:85e4,discount:!0},{id:"gi-6",name:"Blessing of the Welkin Moon",price:75e3,originalPrice:8e4,discount:!0},{id:"gi-7",name:"Battle Pass",price:14e4,originalPrice:15e4,discount:!0}]},{id:"valorant",name:"Valorant",image:"https://play-lh.googleusercontent.com/fzkfPfJPxX0zlNzPYrIMW63AuFWjaCFzzoF-EZzN8_5y8lye0hnHJmBJpz9gy7ICt4Q",publisher:"Riot Games",category:"FPS",items:[{id:"val-1",name:"420 Points",price:5e4,originalPrice:55e3,discount:!0},{id:"val-2",name:"700 Points",price:8e4,originalPrice:85e3,discount:!0},{id:"val-3",name:"1375 Points",price:15e4,originalPrice:16e4,discount:!0},{id:"val-4",name:"2400 Points",price:25e4,originalPrice:265e3,discount:!0},{id:"val-5",name:"4000 Points",price:4e5,originalPrice:425e3,discount:!0},{id:"val-6",name:"8150 Points",price:8e5,originalPrice:85e4,discount:!0}]},{id:"codm",name:"Call of Duty Mobile",image:"https://play-lh.googleusercontent.com/aUALUc_yfJwV1mZuUHgRyXYXcXUwUfZBZkoXtYzVOoOOFHDlYZhZ8dywSBRWrtBY-8w",publisher:"Activision",category:"FPS",items:[{id:"codm-1",name:"26 CP",price:5e3,originalPrice:5500,discount:!0},{id:"codm-2",name:"53 CP",price:1e4,originalPrice:11e3,discount:!0},{id:"codm-3",name:"106 CP",price:2e4,originalPrice:22e3,discount:!0},{id:"codm-4",name:"264 CP",price:5e4,originalPrice:55e3,discount:!0},{id:"codm-5",name:"528 CP",price:1e5,originalPrice:11e4,discount:!0},{id:"codm-6",name:"1056 CP",price:2e5,originalPrice:22e4,discount:!0},{id:"codm-7",name:"2640 CP",price:5e5,originalPrice:55e4,discount:!0},{id:"codm-8",name:"5280 CP",price:1e6,originalPrice:11e5,discount:!0}]}],fEe=[{id:"all",name:"Semua"},{id:"moba",name:"MOBA"},{id:"battle-royale",name:"Battle Royale"},{id:"rpg",name:"RPG"},{id:"fps",name:"FPS"},{id:"strategy",name:"Strategy"},{id:"casual",name:"Casual"}],mEe=()=>{const t=kt(),[e,r]=v.useState(null),[n,a]=v.useState(""),[s,o]=v.useState(null),[l,c]=v.useState("popular"),[u,A]=v.useState("all"),[d,h]=v.useState(""),[f,m]=v.useState(!1),[g,p]=v.useState(!1),[b,x]=v.useState(!1),[w,y]=v.useState(""),C=e?xU.find(T=>T.id===e):null,E=xU.filter(T=>{const I=d===""||T.name.toLowerCase().includes(d.toLowerCase())||T.publisher.toLowerCase().includes(d.toLowerCase()),k=u==="all"||T.category.toLowerCase()===u.toLowerCase();return I&&k}),B=T=>{r(T),a(""),o(null)},j=T=>{o(T),p(!0)},N=()=>{!s||!C||!n||(m(!0),setTimeout(()=>{const T=`GM${Date.now().toString().slice(-8)}`;y(T),m(!1),p(!1),x(!0)},2e3))},S=()=>i.jsxs("div",{className:"flex justify-center items-center py-4",children:[i.jsx(J.spinner,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("span",{className:"ml-2 text-sm font-medium",children:"Memproses..."})]});return i.jsxs(Kt,{children:[i.jsx("div",{className:"bg-gradient-to-b from-purple-600 to-purple-800 text-white",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white/20",children:i.jsx(J.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"Top Up Games"}),i.jsx("p",{className:"text-xs text-white/70",children:"Isi ulang kredit game favoritmu"})]})]})}),i.jsxs("div",{className:"container max-w-md mx-auto px-4 py-6",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(J.search,{className:"h-4 w-4 text-muted-foreground"})}),i.jsx(ue,{type:"text",placeholder:"Cari game...",value:d,onChange:T=>h(T.target.value),className:"pl-10"})]}),e?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("button",{onClick:()=>r(null),className:"rounded-full w-8 h-8 flex items-center justify-center bg-muted",children:i.jsx(J.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden bg-muted",children:i.jsx("img",{src:C==null?void 0:C.image,alt:C==null?void 0:C.name,className:"object-cover w-full h-full"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-semibold",children:C==null?void 0:C.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:C==null?void 0:C.publisher})]})]})]}),i.jsx(_e,{className:"mb-4",children:i.jsxs(Be,{className:"p-4 space-y-3",children:[i.jsx(Te,{htmlFor:"userId",children:"User ID"}),i.jsx(ue,{id:"userId",placeholder:"Masukkan User ID",value:n,onChange:T=>a(T.target.value)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Pastikan User ID yang kamu masukkan sudah benar"})]})}),i.jsx("h3",{className:"font-semibold mb-3",children:"Pilih Nominal"}),i.jsx("div",{className:"grid grid-cols-2 gap-3 mb-6",children:C==null?void 0:C.items.map(T=>i.jsx(_e,{className:`overflow-hidden cursor-pointer hover:shadow-md transition-shadow ${(s==null?void 0:s.id)===T.id?"border-primary border-2":""}`,onClick:()=>j(T),children:i.jsxs(Be,{className:"p-3",children:[i.jsx("h4",{className:"font-medium text-sm",children:T.name}),i.jsxs("div",{className:"mt-1",children:[i.jsx("p",{className:"font-semibold text-primary",children:ve(T.price)}),T.discount&&i.jsx("p",{className:"text-xs text-muted-foreground line-through",children:ve(T.originalPrice)})]}),T.discount&&i.jsxs(vt,{className:"mt-1 bg-green-100 text-green-700 hover:bg-green-100 text-xs",variant:"secondary",children:["Hemat ",ve(T.originalPrice-T.price)]})]})},T.id))})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-4 overflow-x-auto hide-scrollbar",children:i.jsx("div",{className:"flex space-x-2 pb-2",children:fEe.map(T=>i.jsx(G,{variant:u===T.id?"default":"outline",size:"sm",onClick:()=>A(T.id),className:"whitespace-nowrap",children:T.name},T.id))})}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Game Populer"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:E.map(T=>i.jsx(_e,{className:"overflow-hidden cursor-pointer hover:shadow-md transition-shadow",onClick:()=>B(T.id),children:i.jsxs(Be,{className:"p-3",children:[i.jsx("div",{className:"aspect-square rounded-lg overflow-hidden mb-2 bg-muted flex items-center justify-center",children:i.jsx("img",{src:T.image,alt:T.name,className:"object-cover w-full h-full"})}),i.jsx("h3",{className:"font-medium text-sm truncate",children:T.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:T.publisher}),i.jsx(vt,{variant:"outline",className:"mt-1 text-xs",children:T.category})]})},T.id))})]})]})]}),i.jsx(lr,{open:g,onOpenChange:p,children:i.jsxs(nr,{className:"sm:max-w-md",children:[i.jsx(hr,{children:i.jsx(fr,{children:"Konfirmasi Pembayaran"})}),i.jsx("div",{className:"space-y-4 py-2",children:i.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsxs(Il,{className:"h-10 w-10 rounded-lg",children:[i.jsx(hd,{src:C==null?void 0:C.image}),i.jsx(Pl,{className:"rounded-lg bg-primary/20",children:C==null?void 0:C.name.substring(0,2).toUpperCase()})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:C==null?void 0:C.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["User ID: ",n]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Item"}),i.jsx("span",{className:"text-sm font-medium",children:s==null?void 0:s.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Harga"}),i.jsx("span",{className:"text-sm font-medium",children:s?ve(s.price):"-"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Biaya Admin"}),i.jsx("span",{className:"text-sm font-medium",children:"Rp 0"})]}),i.jsx("div",{className:"pt-2 border-t mt-2",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"Total"}),i.jsx("span",{className:"text-sm font-bold text-primary",children:s?ve(s.price):"-"})]})})]})]})}),i.jsx(An,{className:"flex flex-col gap-2",children:f?i.jsx(S,{}):i.jsxs(i.Fragment,{children:[i.jsx(G,{className:"w-full",onClick:N,disabled:!n||!s,children:"Bayar Sekarang"}),i.jsx(G,{variant:"outline",className:"w-full",onClick:()=>p(!1),children:"Batal"})]})})]})}),i.jsx(lr,{open:b,onOpenChange:x,children:i.jsx(nr,{className:"sm:max-w-md",children:i.jsxs("div",{className:"flex flex-col items-center text-center py-4",children:[i.jsx("div",{className:"h-20 w-20 rounded-full bg-green-100 flex items-center justify-center mb-4",children:i.jsx(J.check,{className:"h-10 w-10 text-green-600"})}),i.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Pembayaran Berhasil!"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Item game telah berhasil dibeli"}),i.jsxs("div",{className:"w-full bg-muted/30 p-4 rounded-lg space-y-3 mb-6 text-left",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Game"}),i.jsx("span",{className:"text-sm font-medium",children:C==null?void 0:C.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"User ID"}),i.jsx("span",{className:"text-sm font-medium",children:n})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Item"}),i.jsx("span",{className:"text-sm font-medium",children:s==null?void 0:s.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Jumlah"}),i.jsx("span",{className:"text-sm font-medium",children:s?ve(s.price):"-"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"ID Transaksi"}),i.jsx("span",{className:"text-sm font-medium",children:w})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Waktu"}),i.jsx("span",{className:"text-sm font-medium",children:new Date().toLocaleString("id-ID")})]})]}),i.jsxs("div",{className:"flex gap-3 w-full",children:[i.jsxs(G,{variant:"outline",className:"flex-1",onClick:()=>{x(!1),r(null)},children:[i.jsx(J.arrowRight,{className:"mr-2 h-4 w-4"}),"Top Up Lagi"]}),i.jsx(G,{className:"flex-1",onClick:()=>t("/ppob"),children:"Selesai"})]})]})})})]})},qW=async()=>{try{const{data:t,error:e}=await Z.from("ppob_services").select("*").order("created_at",{ascending:!0});if(e)throw e;return t||[]}catch(t){return console.error("Error fetching PPOB services:",t),[]}},vU={"Top Up":{bg:"#E3F2FD",icon:"#1976D2"},Tagihan:{bg:"#FFF3E0",icon:"#F57C00"},Investasi:{bg:"#E8F5E9",icon:"#388E3C"},Lainnya:{bg:"#F5F5F5",icon:"#757575"}},pEe=()=>{const t=kt(),[e,r]=v.useState(!1),[n,a]=v.useState([]),[s,o]=v.useState(!0),[l,c]=v.useState(null);v.useEffect(()=>{r(!0),(async()=>{o(!0);try{const f=await qW();a(f),c(null)}catch(f){console.error("Error fetching PPOB services:",f),c("Failed to load services. Please try again later.")}finally{o(!1)}})()},[]);const u=n.reduce((h,f)=>{const m=f.category||"Lainnya";return h[m]||(h[m]=[]),h[m].push(f),h},{}),A=(h,f)=>{switch(h){case"wallet":return i.jsx(J.wallet,{className:f});case"smartphone":return i.jsx(J.smartphone,{className:f});case"wifi":return i.jsx(J.wifi,{className:f});case"globe":return i.jsx(J.package,{className:f});case"zap":return i.jsx(J.zap,{className:f});case"creditCard":return i.jsx(J.creditCard,{className:f});case"tv":return i.jsx(J.tv,{className:f});case"shield":return i.jsx(J.shield,{className:f});case"droplet":return i.jsx(J.droplet,{className:f});case"calculator":return i.jsx(J.barChart,{className:f});case"home":return i.jsx(J.home,{className:f});case"phone":return i.jsx(J.phone,{className:f});case"receipt":return i.jsx(J.file,{className:f});case"graduationCap":return i.jsx(J.file,{className:f});case"heart":return i.jsx(J.heart,{className:f});case"gift":return i.jsx(J.package,{className:f});case"banknote":return i.jsx(J.creditCard,{className:f});case"plus":return i.jsx(J.plus,{className:f});case"users":return i.jsx(J.users,{className:f});default:return i.jsx(J.bell,{className:f})}},d=h=>{t(h)};return s?i.jsxs(Kt,{children:[i.jsx(Fs,{children:i.jsx("style",{children:`
              @keyframes fadeIn {
                from { opacity: 0; transform: translateY(10px); }
                to { opacity: 1; transform: translateY(0); }
              }
              @keyframes bounce {
                0%, 100% { transform: translateY(0); }
                50% { transform: translateY(-5px); }
              }
              @keyframes pulse {
                0% { transform: scale(1); }
                50% { transform: scale(1.05); }
                100% { transform: scale(1); }
              }
              .animate-item {
                animation: fadeIn 0.5s ease forwards;
                opacity: 0;
              }
              .service-icon:hover {
                animation: bounce 0.6s ease infinite;
              }
              .pulse-effect {
                animation: pulse 2s infinite ease-in-out;
              }
              .baru-badge {
                animation: pulse 1.5s infinite;
              }
            `})}),i.jsx("div",{className:"bg-white sticky top-0 z-10 border-b border-gray-100 shadow-sm",children:i.jsxs("div",{className:"flex items-center px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100 transition-all duration-200",children:i.jsx(J.chevronLeft,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold ml-4",children:"Semua Layanan "})]})}),i.jsx("div",{className:"pb-6 bg-gray-50 min-h-screen",children:i.jsx("div",{className:"flex justify-center items-center h-24",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]}):l?i.jsxs(Kt,{children:[i.jsx(Fs,{children:i.jsx("style",{children:`
              @keyframes fadeIn {
                from { opacity: 0; transform: translateY(10px); }
                to { opacity: 1; transform: translateY(0); }
              }
              @keyframes bounce {
                0%, 100% { transform: translateY(0); }
                50% { transform: translateY(-5px); }
              }
              @keyframes pulse {
                0% { transform: scale(1); }
                50% { transform: scale(1.05); }
                100% { transform: scale(1); }
              }
              .animate-item {
                animation: fadeIn 0.5s ease forwards;
                opacity: 0;
              }
              .service-icon:hover {
                animation: bounce 0.6s ease infinite;
              }
              .pulse-effect {
                animation: pulse 2s infinite ease-in-out;
              }
              .baru-badge {
                animation: pulse 1.5s infinite;
              }
            `})}),i.jsx("div",{className:"bg-white sticky top-0 z-10 border-b border-gray-100 shadow-sm",children:i.jsxs("div",{className:"flex items-center px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100 transition-all duration-200",children:i.jsx(J.chevronLeft,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold ml-4",children:"Semua Layanan "})]})}),i.jsx("div",{className:"pb-6 bg-gray-50 min-h-screen",children:i.jsx("div",{className:"text-center text-red-500",children:l})})]}):i.jsxs(Kt,{children:[i.jsx(Fs,{children:i.jsx("style",{children:`
            @keyframes fadeIn {
              from { opacity: 0; transform: translateY(10px); }
              to { opacity: 1; transform: translateY(0); }
            }
            @keyframes bounce {
              0%, 100% { transform: translateY(0); }
              50% { transform: translateY(-5px); }
            }
            @keyframes pulse {
              0% { transform: scale(1); }
              50% { transform: scale(1.05); }
              100% { transform: scale(1); }
            }
            .animate-item {
              animation: fadeIn 0.5s ease forwards;
              opacity: 0;
            }
            .service-icon:hover {
              animation: bounce 0.6s ease infinite;
            }
            .pulse-effect {
              animation: pulse 2s infinite ease-in-out;
            }
            .baru-badge {
              animation: pulse 1.5s infinite;
            }
          `})}),i.jsx("div",{className:"bg-white sticky top-0 z-10 border-b border-gray-100 shadow-sm",children:i.jsxs("div",{className:"flex items-center px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100 transition-all duration-200",children:i.jsx(J.chevronLeft,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold ml-4",children:"Semua Layanan "})]})}),i.jsx("div",{className:"pb-6 bg-gray-50 min-h-screen",children:Object.entries(u).map(([h,f])=>i.jsxs("div",{className:"mt-4 px-4",children:[i.jsx("h2",{className:"text-lg font-semibold mb-3",children:h}),i.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:i.jsx("div",{className:"grid grid-cols-4 gap-y-6",children:f.map((m,g)=>{var p,b;return i.jsxs("div",{className:he("flex flex-col items-center relative animate-item",e?"":"opacity-0"),onClick:()=>d(m.route||"/ppob/generic"),style:{animationDelay:`${g*.07}s`},children:[i.jsxs("div",{className:he("w-14 h-14 rounded-xl flex items-center justify-center mb-2 relative service-icon shadow-sm",m.color||((p=vU[h])==null?void 0:p.bg)||"#F5F5F5",m.is_new&&"pulse-effect"),children:[i.jsx("div",{className:m.icon_color||((b=vU[h])==null?void 0:b.icon)||"#757575",children:A(m.icon||"Box","h-6 w-6")}),m.is_new&&i.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[9px] px-1 rounded-full",children:"Baru"})]}),i.jsx("span",{className:"text-xs font-medium text-center max-w-[80px] leading-tight",children:m.name})]},m.id)})})})]},h))})]})},gEe=()=>{const t=kt();return i.jsxs(Kt,{children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-600 to-blue-800 text-white",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white/20",children:i.jsx(J.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"Test Page"}),i.jsx("p",{className:"text-xs text-white/70",children:"Testing icon rendering"})]})]})}),i.jsxs("div",{className:"container max-w-md mx-auto px-4 py-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Available Icons"}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center mb-1",children:i.jsx(J.wallet,{className:"h-6 w-6 text-blue-600"})}),i.jsx("span",{className:"text-xs",children:"wallet"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-100 flex items-center justify-center mb-1",children:i.jsx(J.smartphone,{className:"h-6 w-6 text-green-600"})}),i.jsx("span",{className:"text-xs",children:"smartphone"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-100 flex items-center justify-center mb-1",children:i.jsx(J.zap,{className:"h-6 w-6 text-amber-600"})}),i.jsx("span",{className:"text-xs",children:"zap"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center mb-1",children:i.jsx(J.gamepad,{className:"h-6 w-6 text-blue-600"})}),i.jsx("span",{className:"text-xs",children:"gamepad"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-100 flex items-center justify-center mb-1",children:i.jsx(J.tv,{className:"h-6 w-6 text-red-600"})}),i.jsx("span",{className:"text-xs",children:"tv"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-100 flex items-center justify-center mb-1",children:i.jsx(J.shoppingCart,{className:"h-6 w-6 text-red-600"})}),i.jsx("span",{className:"text-xs",children:"shoppingCart"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center mb-1",children:i.jsx(J.menu,{className:"h-6 w-6 text-gray-600"})}),i.jsx("span",{className:"text-xs",children:"menu"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center mb-1",children:i.jsx(J.arrowRight,{className:"h-6 w-6 text-blue-600"})}),i.jsx("span",{className:"text-xs",children:"arrowRight"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-yellow-100 flex items-center justify-center mb-1",children:i.jsx(J.arrowRight,{className:"h-6 w-6 rotate-180 text-yellow-600"})}),i.jsx("span",{className:"text-xs",children:"arrowLeft (rotated)"})]})]}),i.jsx("div",{className:"mt-8",children:i.jsx(G,{onClick:()=>t("/ppob"),className:"w-full",children:"Back to Dashboard"})})]})]})},Gs=()=>{const t=kt(),e=la(),n=(e.pathname.split("/").pop()||"").split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ");return i.jsxs(Kt,{children:[i.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white shadow-sm sticky top-0 z-10",children:[i.jsx("button",{onClick:()=>t("/ppob/all"),className:"flex items-center justify-center w-10 h-10",children:i.jsx(J.arrowLeft,{className:"w-6 h-6"})}),i.jsx("h1",{className:"text-lg font-medium",children:n}),i.jsx("button",{className:"flex items-center justify-center w-10 h-10",children:i.jsx(J.bell,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex flex-col items-center justify-center p-6 mt-10",children:[i.jsx("div",{className:"w-20 h-20 flex items-center justify-center rounded-full bg-blue-100 mb-4",children:i.jsx(J.settings,{className:"w-10 h-10 text-blue-500"})}),i.jsxs("h2",{className:"text-xl font-semibold mb-2",children:["Layanan ",n]}),i.jsxs("p",{className:"text-gray-500 text-center mb-8",children:["Halaman ini sedang dalam pengembangan. Fitur ",n," akan segera tersedia."]}),i.jsx("button",{onClick:()=>t("/ppob/all"),className:"px-6 py-3 bg-primary text-white rounded-lg font-medium shadow-sm",children:"Kembali ke Layanan"})]})]})},xEe=[{id:"charcoal-fund-1",name:"JPC Arang Premium",type:"Arang Kayu Keras",riskLevel:"Sedang",returnRate:"9-12% p.a.",minAmount:1e6,manager:"JPC Asset Management",isPromoted:!0,description:"Investasi pada produksi arang kayu berkualitas tinggi untuk kuliner dan BBQ"},{id:"charcoal-fund-2",name:"JPC Arang Ekspor",type:"Arang Ekspor",riskLevel:"Sedang-Tinggi",returnRate:"10-14% p.a.",minAmount:2e6,manager:"JPC Asset Management",isPromoted:!1,description:"Fokus pada perusahaan ekspor arang kayu ke pasar internasional"},{id:"charcoal-fund-3",name:"JPC Arang Briket",type:"Briket Arang",riskLevel:"Tinggi",returnRate:"12-18% p.a.",minAmount:5e6,manager:"JPC Asset Management",isPromoted:!0,description:"Mengembangkan teknologi briket arang untuk efisiensi dan keberlanjutan"},{id:"charcoal-fund-4",name:"JPC Arang Berkelanjutan",type:"Arang Ramah Lingkungan",riskLevel:"Sedang",returnRate:"8-11% p.a.",minAmount:15e5,manager:"JPC Asset Management",isPromoted:!1,description:"Investasi pada perusahaan arang dengan praktik penanaman kembali dan keberlanjutan"}],vEe=[{id:"charcoal-bond-1",name:"Obligasi JPC Arang A",issuer:"JPC Arang Indonesia",minAmount:2e6,interestRate:8.5,period:"3 tahun",isPromoted:!0,description:"Obligasi korporasi untuk pengembangan fasilitas produksi arang kayu"},{id:"charcoal-bond-2",name:"Obligasi JPC Arang B",issuer:"JPC Arang Indonesia",minAmount:5e6,interestRate:9.25,period:"5 tahun",isPromoted:!1,description:"Pendanaan untuk modernisasi teknologi pembuatan arang berkualitas tinggi"},{id:"charcoal-bond-3",name:"Sukuk JPC Arang",issuer:"JPC Arang Syariah",minAmount:1e6,interestRate:7.5,period:"2 tahun",isPromoted:!0,description:"Instrumen keuangan syariah berbasis aset produksi arang kayu"},{id:"charcoal-bond-4",name:"Green Bond JPC Arang",issuer:"JPC Arang Indonesia",minAmount:3e6,interestRate:8,period:"4 tahun",isPromoted:!1,description:"Obligasi untuk pengembangan arang yang ramah lingkungan dan berkelanjutan"}],nc=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),yEe=()=>{var g;const t=kt(),[e,r]=v.useState("charcoalFund"),[n,a]=v.useState(null),[s,o]=v.useState(""),[l,c]=v.useState(!1),[u,A]=v.useState(!1),d=p=>{a(p)},h=p=>{const b=p.target.value.replace(/[^0-9]/g,"");o(b)},f=()=>{c(!1),A(!0)},m=()=>{a(null),o(""),A(!1)};return i.jsxs(Kt,{children:[i.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white shadow-sm sticky top-0 z-10",children:[i.jsx("button",{onClick:()=>t("/ppob/all"),className:"flex items-center justify-center w-10 h-10",children:i.jsx(J.arrowLeft,{className:"w-6 h-6"})}),i.jsx("h1",{className:"text-lg font-medium",children:"Investasi"}),i.jsx("button",{className:"flex items-center justify-center w-10 h-10",children:i.jsx(J.bell,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"mb-6 bg-gradient-to-r from-amber-800 to-stone-900 rounded-xl p-4 text-white",children:[i.jsx("h2",{className:"text-xl font-bold mb-1",children:"Investasi Arang Kayu JPC"}),i.jsx("p",{className:"text-sm mb-3",children:"Dapatkan keuntungan dari industri arang kayu premium dengan produk investasi kami"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(J.flame,{className:"w-5 h-5 text-amber-500"}),i.jsx("span",{className:"text-xs font-medium",children:"Potensi imbal hasil hingga 18% per tahun"})]})]}),i.jsxs(ya,{defaultValue:"charcoalFund",className:"w-full mb-4",onValueChange:r,children:[i.jsxs(sa,{className:"grid w-full grid-cols-2",children:[i.jsx(Et,{value:"charcoalFund",children:"Dana Arang"}),i.jsx(Et,{value:"charcoalBond",children:"Obligasi Arang"})]}),i.jsx(Gt,{value:"charcoalFund",children:i.jsxs("div",{className:"grid gap-4 mt-4",children:[i.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Dana Arang adalah produk investasi yang berfokus pada sektor arang kayu premium dengan potensi pertumbuhan tinggi."}),i.jsx(ou,{className:"h-[450px] pr-3",children:xEe.map(p=>i.jsxs(_e,{className:`mb-4 relative ${(n==null?void 0:n.id)===p.id?"border-2 border-primary":""}`,onClick:()=>d(p),children:[i.jsx(at,{className:"pb-2",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx(st,{className:"text-base",children:p.name}),i.jsx(rr,{children:p.manager})]}),p.isPromoted&&i.jsx(vt,{className:"bg-amber-500",children:"Rekomendasi"})]})}),i.jsx(Be,{className:"pb-2",children:i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Bunga"}),i.jsx("p",{className:"font-semibold text-green-600",children:p.returnRate})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Tingkat Risiko"}),i.jsx("p",{className:"font-semibold",children:p.riskLevel})]}),i.jsxs("div",{className:"col-span-2 mt-2",children:[i.jsx("p",{className:"text-gray-500",children:"Minimal Penempatan"}),i.jsx("p",{className:"font-semibold",children:nc(p.minAmount)})]})]})}),i.jsx(ns,{children:i.jsx(G,{variant:"outline",className:"w-full",onClick:b=>{b.stopPropagation(),d(p),c(!0)},children:"Pilih Dana Arang"})})]},p.id))})]})}),i.jsx(Gt,{value:"charcoalBond",children:i.jsxs("div",{className:"grid gap-4 mt-4",children:[i.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Obligasi Arang adalah obligasi yang diterbitkan oleh perusahaan arang kayu dengan imbal hasil yang menarik."}),i.jsx(ou,{className:"h-[450px] pr-3",children:vEe.map(p=>i.jsxs(_e,{className:`mb-4 relative ${(n==null?void 0:n.id)===p.id?"border-2 border-primary":""}`,onClick:()=>d(p),children:[i.jsx(at,{className:"pb-2",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx(st,{className:"text-base",children:p.name}),i.jsx(rr,{children:p.issuer})]}),p.isPromoted&&i.jsx(vt,{className:"bg-amber-500",children:"Rekomendasi"})]})}),i.jsx(Be,{className:"pb-2",children:i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Bunga"}),i.jsxs("p",{className:"font-semibold text-green-600",children:[p.interestRate,"% p.a."]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Jangka Waktu"}),i.jsx("p",{className:"font-semibold",children:p.period})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Penerbit"}),i.jsx("p",{className:"font-semibold",children:p.issuer})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Minimal Investasi"}),i.jsx("p",{className:"font-semibold",children:nc(p.minAmount)})]})]})}),i.jsx(ns,{children:i.jsx(G,{variant:"outline",className:"w-full",onClick:b=>{b.stopPropagation(),d(p),c(!0)},children:"Pilih Obligasi Arang"})})]},p.id))})]})})]})]}),i.jsx(lr,{open:l,onOpenChange:c,children:i.jsxs(nr,{className:"max-w-md p-6",children:[i.jsxs(hr,{children:[i.jsx(fr,{className:"text-center text-xl",children:"Konfirmasi Investasi"}),i.jsxs(Pn,{className:"text-center",children:[e==="deposito"?"Deposito":"Reksadana"," - ",n==null?void 0:n.name]})]}),i.jsxs("div",{className:"space-y-4 py-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"amount",children:"Jumlah Investasi"}),i.jsx(ue,{id:"amount",placeholder:`Min. ${nc((n==null?void 0:n.minAmount)||0)}`,value:s?nc(parseInt(s)):"",onChange:h,className:"text-right"}),parseInt(s)<((n==null?void 0:n.minAmount)||0)&&s!==""&&i.jsxs("p",{className:"text-red-500 text-xs",children:["Jumlah investasi minimal ",nc((n==null?void 0:n.minAmount)||0)]})]}),e==="charcoalFund"&&i.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Jenis"}),i.jsx("span",{className:"font-semibold",children:n==null?void 0:n.type})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Tingkat Risiko"}),i.jsx("span",{className:"font-semibold",children:n==null?void 0:n.riskLevel})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Imbal Hasil"}),i.jsx("span",{className:"font-semibold text-green-600",children:n==null?void 0:n.returnRate})]}),s&&parseInt(s)>=((n==null?void 0:n.minAmount)||0)&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Estimasi Bunga"}),i.jsx("span",{className:"font-semibold text-green-600",children:e==="charcoalFund"?n==null?void 0:n.returnRate:nc(parseInt(s)*((n==null?void 0:n.interestRate)/100)*parseInt(((g=n==null?void 0:n.period)==null?void 0:g.split(" ")[0])||"1"))})]})]}),e==="charcoalBond"&&i.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Bunga"}),i.jsxs("span",{className:"font-semibold",children:[n==null?void 0:n.interestRate,"% p.a."]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Jangka Waktu"}),i.jsx("span",{className:"font-semibold",children:n==null?void 0:n.period})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Penerbit"}),i.jsx("span",{className:"font-semibold",children:n==null?void 0:n.issuer})]})]})]}),i.jsxs(An,{className:"flex-col gap-2 sm:flex-col",children:[i.jsx(G,{className:"w-full",onClick:f,disabled:!s||parseInt(s)<((n==null?void 0:n.minAmount)||0),children:"Konfirmasi Investasi"}),i.jsx(G,{variant:"outline",className:"w-full",onClick:()=>c(!1),children:"Batal"})]})]})}),i.jsx(lr,{open:u,onOpenChange:A,children:i.jsx(nr,{className:"max-w-md p-6",children:i.jsxs("div",{className:"flex flex-col items-center text-center py-4",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center mb-4",children:i.jsx(J.check,{className:"h-8 w-8 text-green-600"})}),i.jsx(fr,{className:"text-xl mb-2",children:"Investasi Berhasil!"}),i.jsxs(Pn,{children:["Investasi ",e==="charcoalFund"?"Dana Arang":"Obligasi Arang"," ",n==null?void 0:n.name," sebesar ",nc(parseInt(s))," telah berhasil dilakukan."]}),i.jsxs("div",{className:"mt-6 w-full space-y-3",children:[i.jsx(G,{className:"w-full",onClick:()=>t("/ppob/activity"),children:"Lihat Transaksi"}),i.jsx(G,{variant:"outline",className:"w-full",onClick:m,children:"Investasi Lainnya"})]})]})})})]})};function bEe({children:t}){const{user:e,profile:r}=Pr(),{toast:n}=Ms(),a=kt(),[s,o]=v.useState(null),[l,c]=v.useState([]);return v.useEffect(()=>{(async()=>{try{if(!e||!r||r.role!=="admin"){console.log("Not an admin user, skipping notification setup");return}if(!K7()){console.log("This browser does not support notifications"),o(!1);return}try{if(Notification.permission==="granted")o(!0);else if(Notification.permission==="denied"){o(!1);return}}catch(d){console.error("Error accessing Notification API:",d),o(!1);return}const A=await zS(e.id);A?(console.log("FCM Token registered:",A),o(!0)):(console.log("Failed to get FCM token"),o(!1))}catch(A){console.error("Error setting up notifications:",A),o(!1)}})()},[e,r]),v.useEffect(()=>{if(!e||!s)return;const u=V7(Xd),A=Jfe(u,d=>{console.log("Foreground message received:",d);const h=d.data;h&&h.type==="order"&&(c(m=>[h,...m]),n({title:h.title||"Pesanan Baru",description:h.message||"Ada pesanan baru dari pelanggan",variant:"default",action:i.jsx("button",{onClick:()=>a(`/admin/orders/${h.orderId}`),className:"px-3 py-2 bg-flame-500 text-white rounded-md text-xs",children:"Lihat"})}),new Audio("/sounds/new_order_sound.mp3").play().catch(m=>console.log("Error playing notification sound:",m)))});return()=>A()},[e,s,n,a]),i.jsx(i.Fragment,{children:t})}function In({children:t}){const e=la(),{user:r,profile:n,logout:a}=Pr(),s=P2("/sounds/new_order_sound.mp3"),o=P2("/sounds/new_chat_message_sound.mp3");if(v.useEffect(()=>{if(!r||!n||n.role!=="admin"&&n.role!=="manager")return;const c=Z.channel("admin-new-orders").on("postgres_changes",{event:"INSERT",schema:"public",table:"orders"},u=>{console.log("New order received in AdminLayout:",u.new),s()}).subscribe((u,A)=>{u==="SUBSCRIBED"&&console.log("Subscribed to new orders in AdminLayout"),A&&console.error("Error subscribing to orders in AdminLayout:",A)});return()=>{Z.removeChannel(c)}},[r,n,s]),v.useEffect(()=>{if(!r||!n||n.role!=="admin"&&n.role!=="manager")return;const c=Z.channel("admin-new-chat-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},async u=>{const A=u.new;if(A.sender_type==="customer"&&A.session_id){const{data:d,error:h}=await Z.from("chat_sessions").select("admin_id, customer_id").eq("id",A.session_id).single();if(h){console.error("Error fetching session for new message notification:",h);return}const f=e.pathname===`/admin/chat/${d==null?void 0:d.customer_id}`;d&&(d.admin_id===r.id||d.admin_id===null)&&!f&&(console.log("New chat message for admin received in AdminLayout:",u.new),o())}}).subscribe((u,A)=>{u==="SUBSCRIBED"&&console.log("Subscribed to new chat messages in AdminLayout"),A&&console.error("Error subscribing to messages in AdminLayout:",A)});return()=>{Z.removeChannel(c)}},[r,n,o,e.pathname]),!r||!n||n.role!=="admin"&&n.role!=="manager")return i.jsx(ev,{to:"/admin-login",replace:!0});const l=[{icon:i.jsx(kH,{}),label:"Dashboard",path:"/admin"},{icon:i.jsx(yte,{}),label:"Inventaris",path:"/admin/inventory"},{icon:i.jsx(Ji,{}),label:"Pengiriman",path:"/admin/shipping"},{icon:i.jsx(dT,{}),label:"Chat",path:"/admin/chats"},{icon:i.jsx(mT,{}),label:"Pengguna",path:"/admin/users"},{icon:i.jsx(Jy,{}),label:"Pesanan",path:"/admin/orders"},{icon:i.jsx(fT,{}),label:"Voucher",path:"/admin/vouchers"},{icon:i.jsx(qx,{}),label:"Broadcast",path:"/admin/broadcast"},{icon:i.jsx(OE,{}),label:"Analitik",path:"/admin/analytics"},{icon:i.jsx(RH,{}),label:"Pengaturan",path:"/admin/settings"},{icon:i.jsx(uT,{}),label:"PPOB",path:"/admin/ppob"}];return i.jsx(bEe,{children:i.jsxs("div",{className:"flex h-screen bg-gray-100",children:[i.jsxs("div",{className:"hidden md:flex flex-col w-64 bg-white border-r",children:[i.jsx("div",{className:"flex items-center justify-center h-16 border-b",children:i.jsx("h2",{className:"text-xl font-semibold text-flame-500",children:"Panel Admin"})}),i.jsx("div",{className:"flex flex-col flex-1 overflow-y-auto",children:i.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:l.map(c=>i.jsxs(dt,{to:c.path,className:he("flex items-center px-4 py-3 text-gray-600 hover:bg-gray-100 rounded-md",e.pathname===c.path&&"bg-flame-50 text-flame-600"),children:[i.jsx("span",{className:"mr-3",children:c.icon}),c.label]},c.path))})}),i.jsx("div",{className:"p-4 border-t",children:i.jsxs("button",{onClick:()=>a(),className:"flex w-full items-center px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-md",children:[i.jsx(AT,{className:"mr-3"}),"Keluar"]})})]}),i.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-10 bg-white border-t overflow-x-auto",children:i.jsxs("div",{className:"flex min-w-full",children:[i.jsxs("div",{className:"grid grid-cols-4 w-full",children:[i.jsxs(dt,{to:l[0].path,className:he("flex flex-col items-center py-2 px-1",e.pathname===l[0].path&&"text-flame-600"),children:[l[0].icon,i.jsx("span",{className:"text-xs mt-1",children:l[0].label})]},l[0].path),i.jsxs(dt,{to:l[1].path,className:he("flex flex-col items-center py-2 px-1",e.pathname===l[1].path&&"text-flame-600"),children:[l[1].icon,i.jsx("span",{className:"text-xs mt-1",children:l[1].label})]},l[1].path),i.jsxs(dt,{to:l[2].path,className:he("flex flex-col items-center py-2 px-1",e.pathname===l[2].path&&"text-flame-600"),children:[l[2].icon,i.jsx("span",{className:"text-xs mt-1",children:l[2].label})]},l[2].path),i.jsxs(dt,{to:l[3].path,className:he("flex flex-col items-center py-2 px-1",e.pathname===l[3].path&&"text-flame-600"),children:[l[3].icon,i.jsx("span",{className:"text-xs mt-1",children:l[3].label})]},l[3].path)]}),i.jsxs("div",{className:"grid grid-cols-4 w-full",children:[i.jsxs(dt,{to:l[4].path,className:he("flex flex-col items-center py-2 px-1",e.pathname===l[4].path&&"text-flame-600"),children:[l[4].icon,i.jsx("span",{className:"text-xs mt-1",children:l[4].label})]},l[4].path),i.jsxs(dt,{to:l[5].path,className:he("flex flex-col items-center py-2 px-1",e.pathname===l[5].path&&"text-flame-600"),children:[l[5].icon,i.jsx("span",{className:"text-xs mt-1",children:l[5].label})]},l[5].path),i.jsxs(dt,{to:l[6].path,className:he("flex flex-col items-center py-2 px-1",e.pathname===l[6].path&&"text-flame-600"),children:[l[6].icon,i.jsx("span",{className:"text-xs mt-1",children:l[6].label})]},l[6].path),i.jsxs(dt,{to:l[7].path,className:he("flex flex-col items-center py-2 px-1",e.pathname===l[7].path&&"text-flame-600"),children:[l[7].icon,i.jsx("span",{className:"text-xs mt-1",children:l[7].label})]},l[7].path)]})]})}),i.jsx("div",{className:"flex flex-col flex-1 overflow-hidden",children:i.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-100 p-4 pb-16 md:pb-4",children:t})})]})})}var F_,yU;function wa(){if(yU)return F_;yU=1;var t=Array.isArray;return F_=t,F_}var D_,bU;function GW(){if(bU)return D_;bU=1;var t=typeof bc=="object"&&bc&&bc.Object===Object&&bc;return D_=t,D_}var O_,wU;function Ci(){if(wU)return O_;wU=1;var t=GW(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return O_=r,O_}var R_,_U;function eg(){if(_U)return R_;_U=1;var t=Ci(),e=t.Symbol;return R_=e,R_}var U_,BU;function wEe(){if(BU)return U_;BU=1;var t=eg(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function s(o){var l=r.call(o,a),c=o[a];try{o[a]=void 0;var u=!0}catch{}var A=n.call(o);return u&&(l?o[a]=c:delete o[a]),A}return U_=s,U_}var M_,CU;function _Ee(){if(CU)return M_;CU=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return M_=r,M_}var Q_,jU;function fo(){if(jU)return Q_;jU=1;var t=eg(),e=wEe(),r=_Ee(),n="[object Null]",a="[object Undefined]",s=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?a:n:s&&s in Object(l)?e(l):r(l)}return Q_=o,Q_}var L_,EU;function mo(){if(EU)return L_;EU=1;function t(e){return e!=null&&typeof e=="object"}return L_=t,L_}var H_,SU;function th(){if(SU)return H_;SU=1;var t=fo(),e=mo(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return H_=n,H_}var $_,NU;function gI(){if(NU)return $_;NU=1;var t=wa(),e=th(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,o){if(t(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return $_=a,$_}var V_,TU;function Ll(){if(TU)return V_;TU=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return V_=t,V_}var K_,kU;function xI(){if(kU)return K_;kU=1;var t=fo(),e=Ll(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",s="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==n||c==a||c==r||c==s}return K_=o,K_}var q_,IU;function BEe(){if(IU)return q_;IU=1;var t=Ci(),e=t["__core-js_shared__"];return q_=e,q_}var G_,PU;function CEe(){if(PU)return G_;PU=1;var t=BEe(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return G_=r,G_}var z_,FU;function zW(){if(FU)return z_;FU=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return z_=r,z_}var W_,DU;function jEe(){if(DU)return W_;DU=1;var t=xI(),e=CEe(),r=Ll(),n=zW(),a=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,A=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(h){if(!r(h)||e(h))return!1;var f=t(h)?A:s;return f.test(n(h))}return W_=d,W_}var X_,OU;function EEe(){if(OU)return X_;OU=1;function t(e,r){return e==null?void 0:e[r]}return X_=t,X_}var Y_,RU;function mu(){if(RU)return Y_;RU=1;var t=jEe(),e=EEe();function r(n,a){var s=e(n,a);return t(s)?s:void 0}return Y_=r,Y_}var J_,UU;function cw(){if(UU)return J_;UU=1;var t=mu(),e=t(Object,"create");return J_=e,J_}var Z_,MU;function SEe(){if(MU)return Z_;MU=1;var t=cw();function e(){this.__data__=t?t(null):{},this.size=0}return Z_=e,Z_}var eB,QU;function NEe(){if(QU)return eB;QU=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return eB=t,eB}var tB,LU;function TEe(){if(LU)return tB;LU=1;var t=cw(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(s){var o=this.__data__;if(t){var l=o[s];return l===e?void 0:l}return n.call(o,s)?o[s]:void 0}return tB=a,tB}var rB,HU;function kEe(){if(HU)return rB;HU=1;var t=cw(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var s=this.__data__;return t?s[a]!==void 0:r.call(s,a)}return rB=n,rB}var nB,$U;function IEe(){if($U)return nB;$U=1;var t=cw(),e="__lodash_hash_undefined__";function r(n,a){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&a===void 0?e:a,this}return nB=r,nB}var aB,VU;function PEe(){if(VU)return aB;VU=1;var t=SEe(),e=NEe(),r=TEe(),n=kEe(),a=IEe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,aB=s,aB}var sB,KU;function FEe(){if(KU)return sB;KU=1;function t(){this.__data__=[],this.size=0}return sB=t,sB}var iB,qU;function vI(){if(qU)return iB;qU=1;function t(e,r){return e===r||e!==e&&r!==r}return iB=t,iB}var oB,GU;function uw(){if(GU)return oB;GU=1;var t=vI();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return oB=e,oB}var lB,zU;function DEe(){if(zU)return lB;zU=1;var t=uw(),e=Array.prototype,r=e.splice;function n(a){var s=this.__data__,o=t(s,a);if(o<0)return!1;var l=s.length-1;return o==l?s.pop():r.call(s,o,1),--this.size,!0}return lB=n,lB}var cB,WU;function OEe(){if(WU)return cB;WU=1;var t=uw();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return cB=e,cB}var uB,XU;function REe(){if(XU)return uB;XU=1;var t=uw();function e(r){return t(this.__data__,r)>-1}return uB=e,uB}var AB,YU;function UEe(){if(YU)return AB;YU=1;var t=uw();function e(r,n){var a=this.__data__,s=t(a,r);return s<0?(++this.size,a.push([r,n])):a[s][1]=n,this}return AB=e,AB}var dB,JU;function Aw(){if(JU)return dB;JU=1;var t=FEe(),e=DEe(),r=OEe(),n=REe(),a=UEe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,dB=s,dB}var hB,ZU;function yI(){if(ZU)return hB;ZU=1;var t=mu(),e=Ci(),r=t(e,"Map");return hB=r,hB}var fB,eM;function MEe(){if(eM)return fB;eM=1;var t=PEe(),e=Aw(),r=yI();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return fB=n,fB}var mB,tM;function QEe(){if(tM)return mB;tM=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return mB=t,mB}var pB,rM;function dw(){if(rM)return pB;rM=1;var t=QEe();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return pB=e,pB}var gB,nM;function LEe(){if(nM)return gB;nM=1;var t=dw();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return gB=e,gB}var xB,aM;function HEe(){if(aM)return xB;aM=1;var t=dw();function e(r){return t(this,r).get(r)}return xB=e,xB}var vB,sM;function $Ee(){if(sM)return vB;sM=1;var t=dw();function e(r){return t(this,r).has(r)}return vB=e,vB}var yB,iM;function VEe(){if(iM)return yB;iM=1;var t=dw();function e(r,n){var a=t(this,r),s=a.size;return a.set(r,n),this.size+=a.size==s?0:1,this}return yB=e,yB}var bB,oM;function bI(){if(oM)return bB;oM=1;var t=MEe(),e=LEe(),r=HEe(),n=$Ee(),a=VEe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,bB=s,bB}var wB,lM;function WW(){if(lM)return wB;lM=1;var t=bI(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var s=function(){var o=arguments,l=a?a.apply(this,o):o[0],c=s.cache;if(c.has(l))return c.get(l);var u=n.apply(this,o);return s.cache=c.set(l,u)||c,u};return s.cache=new(r.Cache||t),s}return r.Cache=t,wB=r,wB}var _B,cM;function KEe(){if(cM)return _B;cM=1;var t=WW(),e=500;function r(n){var a=t(n,function(o){return s.size===e&&s.clear(),o}),s=a.cache;return a}return _B=r,_B}var BB,uM;function qEe(){if(uM)return BB;uM=1;var t=KEe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var s=[];return a.charCodeAt(0)===46&&s.push(""),a.replace(e,function(o,l,c,u){s.push(c?u.replace(r,"$1"):l||o)}),s});return BB=n,BB}var CB,AM;function wI(){if(AM)return CB;AM=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,s=Array(a);++n<a;)s[n]=r(e[n],n,e);return s}return CB=t,CB}var jB,dM;function GEe(){if(dM)return jB;dM=1;var t=eg(),e=wI(),r=wa(),n=th(),a=t?t.prototype:void 0,s=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return s?s.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return jB=o,jB}var EB,hM;function XW(){if(hM)return EB;hM=1;var t=GEe();function e(r){return r==null?"":t(r)}return EB=e,EB}var SB,fM;function YW(){if(fM)return SB;fM=1;var t=wa(),e=gI(),r=qEe(),n=XW();function a(s,o){return t(s)?s:e(s,o)?[s]:r(n(s))}return SB=a,SB}var NB,mM;function hw(){if(mM)return NB;mM=1;var t=th();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return NB=e,NB}var TB,pM;function _I(){if(pM)return TB;pM=1;var t=YW(),e=hw();function r(n,a){a=t(a,n);for(var s=0,o=a.length;n!=null&&s<o;)n=n[e(a[s++])];return s&&s==o?n:void 0}return TB=r,TB}var kB,gM;function JW(){if(gM)return kB;gM=1;var t=_I();function e(r,n,a){var s=r==null?void 0:t(r,n);return s===void 0?a:s}return kB=e,kB}var zEe=JW();const ss=Ht(zEe);var IB,xM;function WEe(){if(xM)return IB;xM=1;function t(e){return e==null}return IB=t,IB}var XEe=WEe();const Tt=Ht(XEe);var PB,vM;function YEe(){if(vM)return PB;vM=1;var t=fo(),e=wa(),r=mo(),n="[object String]";function a(s){return typeof s=="string"||!e(s)&&r(s)&&t(s)==n}return PB=a,PB}var JEe=YEe();const tg=Ht(JEe);var ZEe=xI();const jt=Ht(ZEe);var eSe=Ll();const rh=Ht(eSe);var FB={exports:{}},Xt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yM;function tSe(){if(yM)return Xt;yM=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),m;m=Symbol.for("react.module.reference");function g(p){if(typeof p=="object"&&p!==null){var b=p.$$typeof;switch(b){case t:switch(p=p.type,p){case r:case a:case n:case u:case A:return p;default:switch(p=p&&p.$$typeof,p){case l:case o:case c:case h:case d:case s:return p;default:return b}}case e:return b}}}return Xt.ContextConsumer=o,Xt.ContextProvider=s,Xt.Element=t,Xt.ForwardRef=c,Xt.Fragment=r,Xt.Lazy=h,Xt.Memo=d,Xt.Portal=e,Xt.Profiler=a,Xt.StrictMode=n,Xt.Suspense=u,Xt.SuspenseList=A,Xt.isAsyncMode=function(){return!1},Xt.isConcurrentMode=function(){return!1},Xt.isContextConsumer=function(p){return g(p)===o},Xt.isContextProvider=function(p){return g(p)===s},Xt.isElement=function(p){return typeof p=="object"&&p!==null&&p.$$typeof===t},Xt.isForwardRef=function(p){return g(p)===c},Xt.isFragment=function(p){return g(p)===r},Xt.isLazy=function(p){return g(p)===h},Xt.isMemo=function(p){return g(p)===d},Xt.isPortal=function(p){return g(p)===e},Xt.isProfiler=function(p){return g(p)===a},Xt.isStrictMode=function(p){return g(p)===n},Xt.isSuspense=function(p){return g(p)===u},Xt.isSuspenseList=function(p){return g(p)===A},Xt.isValidElementType=function(p){return typeof p=="string"||typeof p=="function"||p===r||p===a||p===n||p===u||p===A||p===f||typeof p=="object"&&p!==null&&(p.$$typeof===h||p.$$typeof===d||p.$$typeof===s||p.$$typeof===o||p.$$typeof===c||p.$$typeof===m||p.getModuleId!==void 0)},Xt.typeOf=g,Xt}var bM;function rSe(){return bM||(bM=1,FB.exports=tSe()),FB.exports}var ZW=rSe(),DB,wM;function eX(){if(wM)return DB;wM=1;var t=fo(),e=mo(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return DB=n,DB}var OB,_M;function nSe(){if(_M)return OB;_M=1;var t=eX();function e(r){return t(r)&&r!=+r}return OB=e,OB}var aSe=nSe();const rg=Ht(aSe);var sSe=eX();const iSe=Ht(sSe);var Ts=function(e){return e===0?0:e>0?1:-1},jc=function(e){return tg(e)&&e.indexOf("%")===e.length-1},Pe=function(e){return iSe(e)&&!rg(e)},Xr=function(e){return Pe(e)||tg(e)},oSe=0,ng=function(e){var r=++oSe;return"".concat(e||"").concat(r)},lu=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(e)&&!tg(e))return n;var s;if(jc(e)){var o=e.indexOf("%");s=r*parseFloat(e.slice(0,o))/100}else s=+e;return rg(s)&&(s=n),a&&s>r&&(s=r),s},$o=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},lSe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},Bs=function(e,r){return Pe(e)&&Pe(r)?function(n){return e+n*(r-e)}:function(){return r}};function Zv(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):ss(n,e))===r})}function CA(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function U2(t){"@babel/helpers - typeof";return U2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U2(t)}var cSe=["viewBox","children"],uSe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],BM=["points","pathLength"],RB={svg:cSe,polygon:BM,polyline:BM},BI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ey=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),!rh(n))return null;var a={};return Object.keys(n).forEach(function(s){BI.includes(s)&&(a[s]=r||function(o){return n[s](n,o)})}),a},ASe=function(e,r,n){return function(a){return e(r,n,a),null}},ty=function(e,r,n){if(!rh(e)||U2(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(s){var o=e[s];BI.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=ASe(o,r,n))}),a},dSe=["children"],hSe=["children"];function CM(t,e){if(t==null)return{};var r=fSe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function M2(t){"@babel/helpers - typeof";return M2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M2(t)}var jM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},zi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},EM=null,UB=null,CI=function t(e){if(e===EM&&Array.isArray(UB))return UB;var r=[];return v.Children.forEach(e,function(n){Tt(n)||(ZW.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),UB=r,EM=e,r};function is(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return zi(a)}):n=[zi(e)],CI(t).forEach(function(a){var s=ss(a,"type.displayName")||ss(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Ia(t,e){var r=is(t,e);return r&&r[0]}var SM=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!Pe(n)||n<=0||!Pe(a)||a<=0)},mSe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],pSe=function(e){return e&&e.type&&tg(e.type)&&mSe.indexOf(e.type)>=0},gSe=function(e){return e&&M2(e)==="object"&&"clipDot"in e},xSe=function(e,r,n,a){var s,o=(s=RB==null?void 0:RB[a])!==null&&s!==void 0?s:[];return!jt(e)&&(a&&o.includes(r)||uSe.includes(r))||n&&BI.includes(r)},Ot=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(v.isValidElement(e)&&(a=e.props),!rh(a))return null;var s={};return Object.keys(a).forEach(function(o){var l;xSe((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=a[o])}),s},Q2=function t(e,r){if(e===r)return!0;var n=v.Children.count(e);if(n!==v.Children.count(r))return!1;if(n===0)return!0;if(n===1)return NM(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=e[a],o=r[a];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!NM(s,o))return!1}return!0},NM=function(e,r){if(Tt(e)&&Tt(r))return!0;if(!Tt(e)&&!Tt(r)){var n=e.props||{},a=n.children,s=CM(n,dSe),o=r.props||{},l=o.children,c=CM(o,hSe);return a&&l?CA(s,c)&&Q2(a,l):!a&&!l?CA(s,c):!1}return!1},TM=function(e,r){var n=[],a={};return CI(e).forEach(function(s,o){if(pSe(s))n.push(s);else if(s){var l=zi(s.type),c=r[l]||{},u=c.handler,A=c.once;if(u&&(!A||!a[l])){var d=u(s,l,o);n.push(d),a[l]=!0}}}),n},vSe=function(e){var r=e&&e.type;return r&&jM[r]?jM[r]:null},ySe=function(e,r){return CI(r).indexOf(e)},bSe=["children","width","height","viewBox","className","style","title","desc"];function L2(){return L2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L2.apply(this,arguments)}function wSe(t,e){if(t==null)return{};var r=_Se(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _Se(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function H2(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,s=t.className,o=t.style,l=t.title,c=t.desc,u=wSe(t,bSe),A=a||{width:r,height:n,x:0,y:0},d=Lt("recharts-surface",s);return K.createElement("svg",L2({},Ot(u,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(A.x," ").concat(A.y," ").concat(A.width," ").concat(A.height)}),K.createElement("title",null,l),K.createElement("desc",null,c),e)}var BSe=["children","className"];function $2(){return $2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$2.apply(this,arguments)}function CSe(t,e){if(t==null)return{};var r=jSe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Or=K.forwardRef(function(t,e){var r=t.children,n=t.className,a=CSe(t,BSe),s=Lt("recharts-layer",n);return K.createElement("g",$2({className:s},Ot(a,!0),{ref:e}),r)}),Wi=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]},MB,kM;function ESe(){if(kM)return MB;kM=1;function t(e,r,n){var a=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(s);++a<s;)o[a]=e[a+r];return o}return MB=t,MB}var QB,IM;function SSe(){if(IM)return QB;IM=1;var t=ESe();function e(r,n,a){var s=r.length;return a=a===void 0?s:a,!n&&a>=s?r:t(r,n,a)}return QB=e,QB}var LB,PM;function tX(){if(PM)return LB;PM=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+a+s+"]");function c(u){return l.test(u)}return LB=c,LB}var HB,FM;function NSe(){if(FM)return HB;FM=1;function t(e){return e.split("")}return HB=t,HB}var $B,DM;function TSe(){if(DM)return $B;DM=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,s="\\ufe0e\\ufe0f",o="["+t+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",A="[^"+t+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",f="\\u200d",m=u+"?",g="["+s+"]?",p="(?:"+f+"(?:"+[A,d,h].join("|")+")"+g+m+")*",b=g+m+p,x="(?:"+[A+l+"?",l,d,h,o].join("|")+")",w=RegExp(c+"(?="+c+")|"+x+b,"g");function y(C){return C.match(w)||[]}return $B=y,$B}var VB,OM;function kSe(){if(OM)return VB;OM=1;var t=NSe(),e=tX(),r=TSe();function n(a){return e(a)?r(a):t(a)}return VB=n,VB}var KB,RM;function ISe(){if(RM)return KB;RM=1;var t=SSe(),e=tX(),r=kSe(),n=XW();function a(s){return function(o){o=n(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),u=l?t(l,1).join(""):o.slice(1);return c[s]()+u}}return KB=a,KB}var qB,UM;function PSe(){if(UM)return qB;UM=1;var t=ISe(),e=t("toUpperCase");return qB=e,qB}var FSe=PSe();const fw=Ht(FSe);function gr(t){return function(){return t}}const rX=Math.cos,ry=Math.sin,$s=Math.sqrt,ny=Math.PI,mw=2*ny,V2=Math.PI,K2=2*V2,dc=1e-6,DSe=K2-dc;function nX(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function OSe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return nX;const r=10**e;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class RSe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?nX:OSe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,s,o){this._append`C${+e},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(e,r,n,a,s){if(e=+e,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-e,u=a-r,A=o-e,d=l-r,h=A*A+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>dc)if(!(Math.abs(d*c-u*A)>dc)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let f=n-o,m=a-l,g=c*c+u*u,p=f*f+m*m,b=Math.sqrt(g),x=Math.sqrt(h),w=s*Math.tan((V2-Math.acos((g+h-p)/(2*b*x)))/2),y=w/x,C=w/b;Math.abs(y-1)>dc&&this._append`L${e+y*A},${r+y*d}`,this._append`A${s},${s},0,0,${+(d*f>A*m)},${this._x1=e+C*c},${this._y1=r+C*u}`}}arc(e,r,n,a,s,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,A=r+c,d=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${u},${A}`:(Math.abs(this._x1-u)>dc||Math.abs(this._y1-A)>dc)&&this._append`L${u},${A}`,n&&(h<0&&(h=h%K2+K2),h>DSe?this._append`A${n},${n},0,1,${d},${e-l},${r-c}A${n},${n},0,1,${d},${this._x1=u},${this._y1=A}`:h>dc&&this._append`A${n},${n},0,${+(h>=V2)},${d},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function jI(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new RSe(e)}function EI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function aX(t){this._context=t}aX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function pw(t){return new aX(t)}function sX(t){return t[0]}function iX(t){return t[1]}function oX(t,e){var r=gr(!0),n=null,a=pw,s=null,o=jI(l);t=typeof t=="function"?t:t===void 0?sX:gr(t),e=typeof e=="function"?e:e===void 0?iX:gr(e);function l(c){var u,A=(c=EI(c)).length,d,h=!1,f;for(n==null&&(s=a(f=o())),u=0;u<=A;++u)!(u<A&&r(d=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(d,u,c),+e(d,u,c));if(f)return s=null,f+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:gr(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:gr(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:gr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function B0(t,e,r){var n=null,a=gr(!0),s=null,o=pw,l=null,c=jI(u);t=typeof t=="function"?t:t===void 0?sX:gr(+t),e=typeof e=="function"?e:gr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?iX:gr(+r);function u(d){var h,f,m,g=(d=EI(d)).length,p,b=!1,x,w=new Array(g),y=new Array(g);for(s==null&&(l=o(x=c())),h=0;h<=g;++h){if(!(h<g&&a(p=d[h],h,d))===b)if(b=!b)f=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=h-1;m>=f;--m)l.point(w[m],y[m]);l.lineEnd(),l.areaEnd()}b&&(w[h]=+t(p,h,d),y[h]=+e(p,h,d),l.point(n?+n(p,h,d):w[h],r?+r(p,h,d):y[h]))}if(x)return l=null,x+""||null}function A(){return oX().defined(a).curve(o).context(s)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:gr(+d),n=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:gr(+d),u):t},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:gr(+d),u):n},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:gr(+d),r=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:gr(+d),u):e},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:gr(+d),u):r},u.lineX0=u.lineY0=function(){return A().x(t).y(e)},u.lineY1=function(){return A().x(t).y(r)},u.lineX1=function(){return A().x(n).y(e)},u.defined=function(d){return arguments.length?(a=typeof d=="function"?d:gr(!!d),u):a},u.curve=function(d){return arguments.length?(o=d,s!=null&&(l=o(s)),u):o},u.context=function(d){return arguments.length?(d==null?s=l=null:l=o(s=d),u):s},u}class lX{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function USe(t){return new lX(t,!0)}function MSe(t){return new lX(t,!1)}const SI={draw(t,e){const r=$s(e/ny);t.moveTo(r,0),t.arc(0,0,r,0,mw)}},QSe={draw(t,e){const r=$s(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},cX=$s(1/3),LSe=cX*2,HSe={draw(t,e){const r=$s(e/LSe),n=r*cX;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},$Se={draw(t,e){const r=$s(e),n=-r/2;t.rect(n,n,r,r)}},VSe=.8908130915292852,uX=ry(ny/10)/ry(7*ny/10),KSe=ry(mw/10)*uX,qSe=-rX(mw/10)*uX,GSe={draw(t,e){const r=$s(e*VSe),n=KSe*r,a=qSe*r;t.moveTo(0,-r),t.lineTo(n,a);for(let s=1;s<5;++s){const o=mw*s/5,l=rX(o),c=ry(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},GB=$s(3),zSe={draw(t,e){const r=-$s(e/(GB*3));t.moveTo(0,r*2),t.lineTo(-GB*r,-r),t.lineTo(GB*r,-r),t.closePath()}},Ka=-.5,qa=$s(3)/2,q2=1/$s(12),WSe=(q2/2+1)*3,XSe={draw(t,e){const r=$s(e/WSe),n=r/2,a=r*q2,s=n,o=r*q2+r,l=-s,c=o;t.moveTo(n,a),t.lineTo(s,o),t.lineTo(l,c),t.lineTo(Ka*n-qa*a,qa*n+Ka*a),t.lineTo(Ka*s-qa*o,qa*s+Ka*o),t.lineTo(Ka*l-qa*c,qa*l+Ka*c),t.lineTo(Ka*n+qa*a,Ka*a-qa*n),t.lineTo(Ka*s+qa*o,Ka*o-qa*s),t.lineTo(Ka*l+qa*c,Ka*c-qa*l),t.closePath()}};function YSe(t,e){let r=null,n=jI(a);t=typeof t=="function"?t:gr(t||SI),e=typeof e=="function"?e:gr(e===void 0?64:+e);function a(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:gr(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:gr(+s),a):e},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function ay(){}function sy(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function AX(t){this._context=t}AX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function JSe(t){return new AX(t)}function dX(t){this._context=t}dX.prototype={areaStart:ay,areaEnd:ay,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:sy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ZSe(t){return new dX(t)}function hX(t){this._context=t}hX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:sy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function e2e(t){return new hX(t)}function fX(t){this._context=t}fX.prototype={areaStart:ay,areaEnd:ay,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function t2e(t){return new fX(t)}function MM(t){return t<0?-1:1}function QM(t,e,r){var n=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(n||a<0&&-0),o=(r-t._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(MM(s)+MM(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function LM(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function zB(t,e,r){var n=t._x0,a=t._y0,s=t._x1,o=t._y1,l=(s-n)/3;t._context.bezierCurveTo(n+l,a+l*e,s-l,o-l*r,s,o)}function iy(t){this._context=t}iy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zB(this,this._t0,LM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,zB(this,LM(this,r=QM(this,t,e)),r);break;default:zB(this,this._t0,r=QM(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function mX(t){this._context=new pX(t)}(mX.prototype=Object.create(iy.prototype)).point=function(t,e){iy.prototype.point.call(this,e,t)};function pX(t){this._context=t}pX.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,s){this._context.bezierCurveTo(e,t,n,r,s,a)}};function r2e(t){return new iy(t)}function n2e(t){return new mX(t)}function gX(t){this._context=t}gX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=HM(t),a=HM(e),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function HM(t){var e,r=t.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/s[e-1],s[e]-=n,o[e]-=n*o[e-1];for(a[r-1]=o[r-1]/s[r-1],e=r-2;e>=0;--e)a[e]=(o[e]-a[e+1])/s[e];for(s[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function a2e(t){return new gX(t)}function gw(t,e){this._context=t,this._t=e}gw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function s2e(t){return new gw(t,.5)}function i2e(t){return new gw(t,0)}function o2e(t){return new gw(t,1)}function fd(t,e){if((o=t.length)>1)for(var r=1,n,a,s=t[e[0]],o,l=s.length;r<o;++r)for(a=s,s=t[e[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function G2(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function l2e(t,e){return t[e]}function c2e(t){const e=[];return e.key=t,e}function u2e(){var t=gr([]),e=G2,r=fd,n=l2e;function a(s){var o=Array.from(t.apply(this,arguments),c2e),l,c=o.length,u=-1,A;for(const d of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(d,o[l].key,u,s)]).data=d;for(l=0,A=EI(e(o));l<c;++l)o[A[l]].index=l;return r(o,A),o}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:gr(Array.from(s)),a):t},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:gr(+s),a):n},a.order=function(s){return arguments.length?(e=s==null?G2:typeof s=="function"?s:gr(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(r=s??fd,a):r},a}function A2e(t,e){if((n=t.length)>0){for(var r,n,a=0,s=t[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=t[r][a][1]||0;if(o)for(r=0;r<n;++r)t[r][a][1]/=o}fd(t,e)}}function d2e(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}fd(t,e)}}function h2e(t,e){if(!(!((o=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var A=t[e[l]],d=A[n][1]||0,h=A[n-1][1]||0,f=(d-h)/2,m=0;m<l;++m){var g=t[e[m]],p=g[n][1]||0,b=g[n-1][1]||0;f+=p-b}c+=d,u+=f*d}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,fd(t,e)}}function Mm(t){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mm(t)}var f2e=["type","size","sizeType"];function z2(){return z2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},z2.apply(this,arguments)}function $M(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function VM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(r),!0).forEach(function(n){m2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$M(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m2e(t,e,r){return e=p2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p2e(t){var e=g2e(t,"string");return Mm(e)=="symbol"?e:e+""}function g2e(t,e){if(Mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x2e(t,e){if(t==null)return{};var r=v2e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function v2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var xX={symbolCircle:SI,symbolCross:QSe,symbolDiamond:HSe,symbolSquare:$Se,symbolStar:GSe,symbolTriangle:zSe,symbolWye:XSe},y2e=Math.PI/180,b2e=function(e){var r="symbol".concat(fw(e));return xX[r]||SI},w2e=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*y2e;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},_2e=function(e,r){xX["symbol".concat(fw(e))]=r},NI=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,s=a===void 0?64:a,o=e.sizeType,l=o===void 0?"area":o,c=x2e(e,f2e),u=VM(VM({},c),{},{type:n,size:s,sizeType:l}),A=function(){var p=b2e(n),b=YSe().type(p).size(w2e(s,l,n));return b()},d=u.className,h=u.cx,f=u.cy,m=Ot(u,!0);return h===+h&&f===+f&&s===+s?K.createElement("path",z2({},m,{className:Lt("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(f,")"),d:A()})):null};NI.registerSymbol=_2e;function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function W2(){return W2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},W2.apply(this,arguments)}function KM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function B2e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KM(Object(r),!0).forEach(function(n){Qm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j2e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yX(n.key),n)}}function E2e(t,e,r){return e&&j2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function S2e(t,e,r){return e=oy(e),N2e(t,vX()?Reflect.construct(e,r||[],oy(t).constructor):e.apply(t,r))}function N2e(t,e){if(e&&(md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T2e(t)}function T2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vX=function(){return!!t})()}function oy(t){return oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oy(t)}function k2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X2(t,e)}function X2(t,e){return X2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},X2(t,e)}function Qm(t,e,r){return e=yX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yX(t){var e=I2e(t,"string");return md(e)=="symbol"?e:e+""}function I2e(t,e){if(md(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ga=32,TI=function(t){function e(){return C2e(this,e),S2e(this,e,arguments)}return k2e(e,t),E2e(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=Ga/2,o=Ga/6,l=Ga/3,c=n.inactive?a:n.color;if(n.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Ga,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Ga,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return K.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ga/8,"h").concat(Ga,"v").concat(Ga*3/4,"h").concat(-Ga,"z"),className:"recharts-legend-icon"});if(K.isValidElement(n.legendIcon)){var u=B2e({},n);return delete u.legendIcon,K.cloneElement(n.legendIcon,u)}return K.createElement(NI,{fill:c,cx:s,cy:s,size:Ga,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,A={x:0,y:0,width:Ga,height:Ga},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(f,m){var g=f.formatter||c,p=Lt(Qm(Qm({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",f.inactive));if(f.type==="none")return null;var b=jt(f.value)?null:f.value;Wi(!jt(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=f.inactive?u:f.color;return K.createElement("li",W2({className:p,style:d,key:"legend-item-".concat(m)},ty(n.props,f,m)),K.createElement(H2,{width:o,height:o,viewBox:A,style:h},n.renderIcon(f)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},g?g(b,f,m):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);Qm(TI,"displayName","Legend");Qm(TI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var WB,qM;function P2e(){if(qM)return WB;qM=1;var t=Aw();function e(){this.__data__=new t,this.size=0}return WB=e,WB}var XB,GM;function F2e(){if(GM)return XB;GM=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return XB=t,XB}var YB,zM;function D2e(){if(zM)return YB;zM=1;function t(e){return this.__data__.get(e)}return YB=t,YB}var JB,WM;function O2e(){if(WM)return JB;WM=1;function t(e){return this.__data__.has(e)}return JB=t,JB}var ZB,XM;function R2e(){if(XM)return ZB;XM=1;var t=Aw(),e=yI(),r=bI(),n=200;function a(s,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([s,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(s,o),this.size=l.size,this}return ZB=a,ZB}var eC,YM;function bX(){if(YM)return eC;YM=1;var t=Aw(),e=P2e(),r=F2e(),n=D2e(),a=O2e(),s=R2e();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=s,eC=o,eC}var tC,JM;function U2e(){if(JM)return tC;JM=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return tC=e,tC}var rC,ZM;function M2e(){if(ZM)return rC;ZM=1;function t(e){return this.__data__.has(e)}return rC=t,rC}var nC,e5;function wX(){if(e5)return nC;e5=1;var t=bI(),e=U2e(),r=M2e();function n(a){var s=-1,o=a==null?0:a.length;for(this.__data__=new t;++s<o;)this.add(a[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,nC=n,nC}var aC,t5;function _X(){if(t5)return aC;t5=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return aC=t,aC}var sC,r5;function BX(){if(r5)return sC;r5=1;function t(e,r){return e.has(r)}return sC=t,sC}var iC,n5;function CX(){if(n5)return iC;n5=1;var t=wX(),e=_X(),r=BX(),n=1,a=2;function s(o,l,c,u,A,d){var h=c&n,f=o.length,m=l.length;if(f!=m&&!(h&&m>f))return!1;var g=d.get(o),p=d.get(l);if(g&&p)return g==l&&p==o;var b=-1,x=!0,w=c&a?new t:void 0;for(d.set(o,l),d.set(l,o);++b<f;){var y=o[b],C=l[b];if(u)var E=h?u(C,y,b,l,o,d):u(y,C,b,o,l,d);if(E!==void 0){if(E)continue;x=!1;break}if(w){if(!e(l,function(B,j){if(!r(w,j)&&(y===B||A(y,B,c,u,d)))return w.push(j)})){x=!1;break}}else if(!(y===C||A(y,C,c,u,d))){x=!1;break}}return d.delete(o),d.delete(l),x}return iC=s,iC}var oC,a5;function Q2e(){if(a5)return oC;a5=1;var t=Ci(),e=t.Uint8Array;return oC=e,oC}var lC,s5;function L2e(){if(s5)return lC;s5=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,s){n[++r]=[s,a]}),n}return lC=t,lC}var cC,i5;function kI(){if(i5)return cC;i5=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return cC=t,cC}var uC,o5;function H2e(){if(o5)return uC;o5=1;var t=eg(),e=Q2e(),r=vI(),n=CX(),a=L2e(),s=kI(),o=1,l=2,c="[object Boolean]",u="[object Date]",A="[object Error]",d="[object Map]",h="[object Number]",f="[object RegExp]",m="[object Set]",g="[object String]",p="[object Symbol]",b="[object ArrayBuffer]",x="[object DataView]",w=t?t.prototype:void 0,y=w?w.valueOf:void 0;function C(E,B,j,N,S,T,I){switch(j){case x:if(E.byteLength!=B.byteLength||E.byteOffset!=B.byteOffset)return!1;E=E.buffer,B=B.buffer;case b:return!(E.byteLength!=B.byteLength||!T(new e(E),new e(B)));case c:case u:case h:return r(+E,+B);case A:return E.name==B.name&&E.message==B.message;case f:case g:return E==B+"";case d:var k=a;case m:var R=N&o;if(k||(k=s),E.size!=B.size&&!R)return!1;var M=I.get(E);if(M)return M==B;N|=l,I.set(E,B);var $=n(k(E),k(B),N,S,T,I);return I.delete(E),$;case p:if(y)return y.call(E)==y.call(B)}return!1}return uC=C,uC}var AC,l5;function jX(){if(l5)return AC;l5=1;function t(e,r){for(var n=-1,a=r.length,s=e.length;++n<a;)e[s+n]=r[n];return e}return AC=t,AC}var dC,c5;function $2e(){if(c5)return dC;c5=1;var t=jX(),e=wa();function r(n,a,s){var o=a(n);return e(n)?o:t(o,s(n))}return dC=r,dC}var hC,u5;function V2e(){if(u5)return hC;u5=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,s=0,o=[];++n<a;){var l=e[n];r(l,n,e)&&(o[s++]=l)}return o}return hC=t,hC}var fC,A5;function K2e(){if(A5)return fC;A5=1;function t(){return[]}return fC=t,fC}var mC,d5;function q2e(){if(d5)return mC;d5=1;var t=V2e(),e=K2e(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(o){return o==null?[]:(o=Object(o),t(a(o),function(l){return n.call(o,l)}))}:e;return mC=s,mC}var pC,h5;function G2e(){if(h5)return pC;h5=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return pC=t,pC}var gC,f5;function z2e(){if(f5)return gC;f5=1;var t=fo(),e=mo(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return gC=n,gC}var xC,m5;function II(){if(m5)return xC;m5=1;var t=z2e(),e=mo(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(o){return e(o)&&n.call(o,"callee")&&!a.call(o,"callee")};return xC=s,xC}var gf={exports:{}},vC,p5;function W2e(){if(p5)return vC;p5=1;function t(){return!1}return vC=t,vC}gf.exports;var g5;function EX(){return g5||(g5=1,function(t,e){var r=Ci(),n=W2e(),a=e&&!e.nodeType&&e,s=a&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u}(gf,gf.exports)),gf.exports}var yC,x5;function PI(){if(x5)return yC;x5=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var s=typeof n;return a=a??t,!!a&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return yC=r,yC}var bC,v5;function FI(){if(v5)return bC;v5=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return bC=e,bC}var wC,y5;function X2e(){if(y5)return wC;y5=1;var t=fo(),e=FI(),r=mo(),n="[object Arguments]",a="[object Array]",s="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",A="[object Number]",d="[object Object]",h="[object RegExp]",f="[object Set]",m="[object String]",g="[object WeakMap]",p="[object ArrayBuffer]",b="[object DataView]",x="[object Float32Array]",w="[object Float64Array]",y="[object Int8Array]",C="[object Int16Array]",E="[object Int32Array]",B="[object Uint8Array]",j="[object Uint8ClampedArray]",N="[object Uint16Array]",S="[object Uint32Array]",T={};T[x]=T[w]=T[y]=T[C]=T[E]=T[B]=T[j]=T[N]=T[S]=!0,T[n]=T[a]=T[p]=T[s]=T[b]=T[o]=T[l]=T[c]=T[u]=T[A]=T[d]=T[h]=T[f]=T[m]=T[g]=!1;function I(k){return r(k)&&e(k.length)&&!!T[t(k)]}return wC=I,wC}var _C,b5;function SX(){if(b5)return _C;b5=1;function t(e){return function(r){return e(r)}}return _C=t,_C}var xf={exports:{}};xf.exports;var w5;function Y2e(){return w5||(w5=1,function(t,e){var r=GW(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===n,o=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l}(xf,xf.exports)),xf.exports}var BC,_5;function NX(){if(_5)return BC;_5=1;var t=X2e(),e=SX(),r=Y2e(),n=r&&r.isTypedArray,a=n?e(n):t;return BC=a,BC}var CC,B5;function J2e(){if(B5)return CC;B5=1;var t=G2e(),e=II(),r=wa(),n=EX(),a=PI(),s=NX(),o=Object.prototype,l=o.hasOwnProperty;function c(u,A){var d=r(u),h=!d&&e(u),f=!d&&!h&&n(u),m=!d&&!h&&!f&&s(u),g=d||h||f||m,p=g?t(u.length,String):[],b=p.length;for(var x in u)(A||l.call(u,x))&&!(g&&(x=="length"||f&&(x=="offset"||x=="parent")||m&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||a(x,b)))&&p.push(x);return p}return CC=c,CC}var jC,C5;function Z2e(){if(C5)return jC;C5=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return jC=e,jC}var EC,j5;function TX(){if(j5)return EC;j5=1;function t(e,r){return function(n){return e(r(n))}}return EC=t,EC}var SC,E5;function eNe(){if(E5)return SC;E5=1;var t=TX(),e=t(Object.keys,Object);return SC=e,SC}var NC,S5;function tNe(){if(S5)return NC;S5=1;var t=Z2e(),e=eNe(),r=Object.prototype,n=r.hasOwnProperty;function a(s){if(!t(s))return e(s);var o=[];for(var l in Object(s))n.call(s,l)&&l!="constructor"&&o.push(l);return o}return NC=a,NC}var TC,N5;function ag(){if(N5)return TC;N5=1;var t=xI(),e=FI();function r(n){return n!=null&&e(n.length)&&!t(n)}return TC=r,TC}var kC,T5;function xw(){if(T5)return kC;T5=1;var t=J2e(),e=tNe(),r=ag();function n(a){return r(a)?t(a):e(a)}return kC=n,kC}var IC,k5;function rNe(){if(k5)return IC;k5=1;var t=$2e(),e=q2e(),r=xw();function n(a){return t(a,r,e)}return IC=n,IC}var PC,I5;function nNe(){if(I5)return PC;I5=1;var t=rNe(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(s,o,l,c,u,A){var d=l&e,h=t(s),f=h.length,m=t(o),g=m.length;if(f!=g&&!d)return!1;for(var p=f;p--;){var b=h[p];if(!(d?b in o:n.call(o,b)))return!1}var x=A.get(s),w=A.get(o);if(x&&w)return x==o&&w==s;var y=!0;A.set(s,o),A.set(o,s);for(var C=d;++p<f;){b=h[p];var E=s[b],B=o[b];if(c)var j=d?c(B,E,b,o,s,A):c(E,B,b,s,o,A);if(!(j===void 0?E===B||u(E,B,l,c,A):j)){y=!1;break}C||(C=b=="constructor")}if(y&&!C){var N=s.constructor,S=o.constructor;N!=S&&"constructor"in s&&"constructor"in o&&!(typeof N=="function"&&N instanceof N&&typeof S=="function"&&S instanceof S)&&(y=!1)}return A.delete(s),A.delete(o),y}return PC=a,PC}var FC,P5;function aNe(){if(P5)return FC;P5=1;var t=mu(),e=Ci(),r=t(e,"DataView");return FC=r,FC}var DC,F5;function sNe(){if(F5)return DC;F5=1;var t=mu(),e=Ci(),r=t(e,"Promise");return DC=r,DC}var OC,D5;function kX(){if(D5)return OC;D5=1;var t=mu(),e=Ci(),r=t(e,"Set");return OC=r,OC}var RC,O5;function iNe(){if(O5)return RC;O5=1;var t=mu(),e=Ci(),r=t(e,"WeakMap");return RC=r,RC}var UC,R5;function oNe(){if(R5)return UC;R5=1;var t=aNe(),e=yI(),r=sNe(),n=kX(),a=iNe(),s=fo(),o=zW(),l="[object Map]",c="[object Object]",u="[object Promise]",A="[object Set]",d="[object WeakMap]",h="[object DataView]",f=o(t),m=o(e),g=o(r),p=o(n),b=o(a),x=s;return(t&&x(new t(new ArrayBuffer(1)))!=h||e&&x(new e)!=l||r&&x(r.resolve())!=u||n&&x(new n)!=A||a&&x(new a)!=d)&&(x=function(w){var y=s(w),C=y==c?w.constructor:void 0,E=C?o(C):"";if(E)switch(E){case f:return h;case m:return l;case g:return u;case p:return A;case b:return d}return y}),UC=x,UC}var MC,U5;function lNe(){if(U5)return MC;U5=1;var t=bX(),e=CX(),r=H2e(),n=nNe(),a=oNe(),s=wa(),o=EX(),l=NX(),c=1,u="[object Arguments]",A="[object Array]",d="[object Object]",h=Object.prototype,f=h.hasOwnProperty;function m(g,p,b,x,w,y){var C=s(g),E=s(p),B=C?A:a(g),j=E?A:a(p);B=B==u?d:B,j=j==u?d:j;var N=B==d,S=j==d,T=B==j;if(T&&o(g)){if(!o(p))return!1;C=!0,N=!1}if(T&&!N)return y||(y=new t),C||l(g)?e(g,p,b,x,w,y):r(g,p,B,b,x,w,y);if(!(b&c)){var I=N&&f.call(g,"__wrapped__"),k=S&&f.call(p,"__wrapped__");if(I||k){var R=I?g.value():g,M=k?p.value():p;return y||(y=new t),w(R,M,b,x,y)}}return T?(y||(y=new t),n(g,p,b,x,w,y)):!1}return MC=m,MC}var QC,M5;function DI(){if(M5)return QC;M5=1;var t=lNe(),e=mo();function r(n,a,s,o,l){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,s,o,r,l)}return QC=r,QC}var LC,Q5;function cNe(){if(Q5)return LC;Q5=1;var t=bX(),e=DI(),r=1,n=2;function a(s,o,l,c){var u=l.length,A=u,d=!c;if(s==null)return!A;for(s=Object(s);u--;){var h=l[u];if(d&&h[2]?h[1]!==s[h[0]]:!(h[0]in s))return!1}for(;++u<A;){h=l[u];var f=h[0],m=s[f],g=h[1];if(d&&h[2]){if(m===void 0&&!(f in s))return!1}else{var p=new t;if(c)var b=c(m,g,f,s,o,p);if(!(b===void 0?e(g,m,r|n,c,p):b))return!1}}return!0}return LC=a,LC}var HC,L5;function IX(){if(L5)return HC;L5=1;var t=Ll();function e(r){return r===r&&!t(r)}return HC=e,HC}var $C,H5;function uNe(){if(H5)return $C;H5=1;var t=IX(),e=xw();function r(n){for(var a=e(n),s=a.length;s--;){var o=a[s],l=n[o];a[s]=[o,l,t(l)]}return a}return $C=r,$C}var VC,$5;function PX(){if($5)return VC;$5=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return VC=t,VC}var KC,V5;function ANe(){if(V5)return KC;V5=1;var t=cNe(),e=uNe(),r=PX();function n(a){var s=e(a);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===a||t(o,a,s)}}return KC=n,KC}var qC,K5;function dNe(){if(K5)return qC;K5=1;function t(e,r){return e!=null&&r in Object(e)}return qC=t,qC}var GC,q5;function hNe(){if(q5)return GC;q5=1;var t=YW(),e=II(),r=wa(),n=PI(),a=FI(),s=hw();function o(l,c,u){c=t(c,l);for(var A=-1,d=c.length,h=!1;++A<d;){var f=s(c[A]);if(!(h=l!=null&&u(l,f)))break;l=l[f]}return h||++A!=d?h:(d=l==null?0:l.length,!!d&&a(d)&&n(f,d)&&(r(l)||e(l)))}return GC=o,GC}var zC,G5;function fNe(){if(G5)return zC;G5=1;var t=dNe(),e=hNe();function r(n,a){return n!=null&&e(n,a,t)}return zC=r,zC}var WC,z5;function mNe(){if(z5)return WC;z5=1;var t=DI(),e=JW(),r=fNe(),n=gI(),a=IX(),s=PX(),o=hw(),l=1,c=2;function u(A,d){return n(A)&&a(d)?s(o(A),d):function(h){var f=e(h,A);return f===void 0&&f===d?r(h,A):t(d,f,l|c)}}return WC=u,WC}var XC,W5;function nh(){if(W5)return XC;W5=1;function t(e){return e}return XC=t,XC}var YC,X5;function pNe(){if(X5)return YC;X5=1;function t(e){return function(r){return r==null?void 0:r[e]}}return YC=t,YC}var JC,Y5;function gNe(){if(Y5)return JC;Y5=1;var t=_I();function e(r){return function(n){return t(n,r)}}return JC=e,JC}var ZC,J5;function xNe(){if(J5)return ZC;J5=1;var t=pNe(),e=gNe(),r=gI(),n=hw();function a(s){return r(s)?t(n(s)):e(s)}return ZC=a,ZC}var ej,Z5;function Hl(){if(Z5)return ej;Z5=1;var t=ANe(),e=mNe(),r=nh(),n=wa(),a=xNe();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):a(o)}return ej=s,ej}var tj,eQ;function FX(){if(eQ)return tj;eQ=1;function t(e,r,n,a){for(var s=e.length,o=n+(a?1:-1);a?o--:++o<s;)if(r(e[o],o,e))return o;return-1}return tj=t,tj}var rj,tQ;function vNe(){if(tQ)return rj;tQ=1;function t(e){return e!==e}return rj=t,rj}var nj,rQ;function yNe(){if(rQ)return nj;rQ=1;function t(e,r,n){for(var a=n-1,s=e.length;++a<s;)if(e[a]===r)return a;return-1}return nj=t,nj}var aj,nQ;function bNe(){if(nQ)return aj;nQ=1;var t=FX(),e=vNe(),r=yNe();function n(a,s,o){return s===s?r(a,s,o):t(a,e,o)}return aj=n,aj}var sj,aQ;function wNe(){if(aQ)return sj;aQ=1;var t=bNe();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return sj=e,sj}var ij,sQ;function _Ne(){if(sQ)return ij;sQ=1;function t(e,r,n){for(var a=-1,s=e==null?0:e.length;++a<s;)if(n(r,e[a]))return!0;return!1}return ij=t,ij}var oj,iQ;function BNe(){if(iQ)return oj;iQ=1;function t(){}return oj=t,oj}var lj,oQ;function CNe(){if(oQ)return lj;oQ=1;var t=kX(),e=BNe(),r=kI(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(s){return new t(s)}:e;return lj=a,lj}var cj,lQ;function jNe(){if(lQ)return cj;lQ=1;var t=wX(),e=wNe(),r=_Ne(),n=BX(),a=CNe(),s=kI(),o=200;function l(c,u,A){var d=-1,h=e,f=c.length,m=!0,g=[],p=g;if(A)m=!1,h=r;else if(f>=o){var b=u?null:a(c);if(b)return s(b);m=!1,h=n,p=new t}else p=u?[]:g;e:for(;++d<f;){var x=c[d],w=u?u(x):x;if(x=A||x!==0?x:0,m&&w===w){for(var y=p.length;y--;)if(p[y]===w)continue e;u&&p.push(w),g.push(x)}else h(p,w,A)||(p!==g&&p.push(w),g.push(x))}return g}return cj=l,cj}var uj,cQ;function ENe(){if(cQ)return uj;cQ=1;var t=Hl(),e=jNe();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return uj=r,uj}var SNe=ENe();const uQ=Ht(SNe);function DX(t,e,r){return e===!0?uQ(t,r):jt(e)?uQ(t,e):t}function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}var NNe=["ref"];function AQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Fi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AQ(Object(r),!0).forEach(function(n){vw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RX(n.key),n)}}function kNe(t,e,r){return e&&dQ(t.prototype,e),r&&dQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function INe(t,e,r){return e=ly(e),PNe(t,OX()?Reflect.construct(e,r||[],ly(t).constructor):e.apply(t,r))}function PNe(t,e){if(e&&(pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FNe(t)}function FNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OX=function(){return!!t})()}function ly(t){return ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ly(t)}function DNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y2(t,e)}function Y2(t,e){return Y2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Y2(t,e)}function vw(t,e,r){return e=RX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RX(t){var e=ONe(t,"string");return pd(e)=="symbol"?e:e+""}function ONe(t,e){if(pd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function RNe(t,e){if(t==null)return{};var r=UNe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function MNe(t){return t.value}function QNe(t,e){if(K.isValidElement(t))return K.cloneElement(t,e);if(typeof t=="function")return K.createElement(t,e);e.ref;var r=RNe(e,NNe);return K.createElement(TI,r)}var hQ=1,jA=function(t){function e(){var r;TNe(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=INe(this,e,[].concat(a)),vw(r,"lastBoundingBox",{width:-1,height:-1}),r}return DNe(e,t),kNe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>hQ||Math.abs(a.height-this.lastBoundingBox.height)>hQ)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Fi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,A=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var f=this.getBBoxSnapshot();d={left:((u||0)-f.width)/2}}else d=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var m=this.getBBoxSnapshot();h={top:((A||0)-m.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Fi(Fi({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,A=a.payload,d=Fi(Fi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return K.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(f){n.wrapperNode=f}},QNe(s,Fi(Fi({},this.props),{},{payload:DX(A,u,MNe)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Fi(Fi({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&Pe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(v.PureComponent);vw(jA,"displayName","Legend");vw(jA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Aj,fQ;function LNe(){if(fQ)return Aj;fQ=1;var t=eg(),e=II(),r=wa(),n=t?t.isConcatSpreadable:void 0;function a(s){return r(s)||e(s)||!!(n&&s&&s[n])}return Aj=a,Aj}var dj,mQ;function UX(){if(mQ)return dj;mQ=1;var t=jX(),e=LNe();function r(n,a,s,o,l){var c=-1,u=n.length;for(s||(s=e),l||(l=[]);++c<u;){var A=n[c];a>0&&s(A)?a>1?r(A,a-1,s,o,l):t(l,A):o||(l[l.length]=A)}return l}return dj=r,dj}var hj,pQ;function HNe(){if(pQ)return hj;pQ=1;function t(e){return function(r,n,a){for(var s=-1,o=Object(r),l=a(r),c=l.length;c--;){var u=l[e?c:++s];if(n(o[u],u,o)===!1)break}return r}}return hj=t,hj}var fj,gQ;function $Ne(){if(gQ)return fj;gQ=1;var t=HNe(),e=t();return fj=e,fj}var mj,xQ;function MX(){if(xQ)return mj;xQ=1;var t=$Ne(),e=xw();function r(n,a){return n&&t(n,a,e)}return mj=r,mj}var pj,vQ;function VNe(){if(vQ)return pj;vQ=1;var t=ag();function e(r,n){return function(a,s){if(a==null)return a;if(!t(a))return r(a,s);for(var o=a.length,l=n?o:-1,c=Object(a);(n?l--:++l<o)&&s(c[l],l,c)!==!1;);return a}}return pj=e,pj}var gj,yQ;function OI(){if(yQ)return gj;yQ=1;var t=MX(),e=VNe(),r=e(t);return gj=r,gj}var xj,bQ;function QX(){if(bQ)return xj;bQ=1;var t=OI(),e=ag();function r(n,a){var s=-1,o=e(n)?Array(n.length):[];return t(n,function(l,c,u){o[++s]=a(l,c,u)}),o}return xj=r,xj}var vj,wQ;function KNe(){if(wQ)return vj;wQ=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return vj=t,vj}var yj,_Q;function qNe(){if(_Q)return yj;_Q=1;var t=th();function e(r,n){if(r!==n){var a=r!==void 0,s=r===null,o=r===r,l=t(r),c=n!==void 0,u=n===null,A=n===n,d=t(n);if(!u&&!d&&!l&&r>n||l&&c&&A&&!u&&!d||s&&c&&A||!a&&A||!o)return 1;if(!s&&!l&&!d&&r<n||d&&a&&o&&!s&&!l||u&&a&&o||!c&&o||!A)return-1}return 0}return yj=e,yj}var bj,BQ;function GNe(){if(BQ)return bj;BQ=1;var t=qNe();function e(r,n,a){for(var s=-1,o=r.criteria,l=n.criteria,c=o.length,u=a.length;++s<c;){var A=t(o[s],l[s]);if(A){if(s>=u)return A;var d=a[s];return A*(d=="desc"?-1:1)}}return r.index-n.index}return bj=e,bj}var wj,CQ;function zNe(){if(CQ)return wj;CQ=1;var t=wI(),e=_I(),r=Hl(),n=QX(),a=KNe(),s=SX(),o=GNe(),l=nh(),c=wa();function u(A,d,h){d.length?d=t(d,function(g){return c(g)?function(p){return e(p,g.length===1?g[0]:g)}:g}):d=[l];var f=-1;d=t(d,s(r));var m=n(A,function(g,p,b){var x=t(d,function(w){return w(g)});return{criteria:x,index:++f,value:g}});return a(m,function(g,p){return o(g,p,h)})}return wj=u,wj}var _j,jQ;function WNe(){if(jQ)return _j;jQ=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return _j=t,_j}var Bj,EQ;function XNe(){if(EQ)return Bj;EQ=1;var t=WNe(),e=Math.max;function r(n,a,s){return a=e(a===void 0?n.length-1:a,0),function(){for(var o=arguments,l=-1,c=e(o.length-a,0),u=Array(c);++l<c;)u[l]=o[a+l];l=-1;for(var A=Array(a+1);++l<a;)A[l]=o[l];return A[a]=s(u),t(n,this,A)}}return Bj=r,Bj}var Cj,SQ;function YNe(){if(SQ)return Cj;SQ=1;function t(e){return function(){return e}}return Cj=t,Cj}var jj,NQ;function LX(){if(NQ)return jj;NQ=1;var t=mu(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return jj=e,jj}var Ej,TQ;function JNe(){if(TQ)return Ej;TQ=1;var t=YNe(),e=LX(),r=nh(),n=e?function(a,s){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:r;return Ej=n,Ej}var Sj,kQ;function ZNe(){if(kQ)return Sj;kQ=1;var t=800,e=16,r=Date.now;function n(a){var s=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++s>=t)return arguments[0]}else s=0;return a.apply(void 0,arguments)}}return Sj=n,Sj}var Nj,IQ;function eTe(){if(IQ)return Nj;IQ=1;var t=JNe(),e=ZNe(),r=e(t);return Nj=r,Nj}var Tj,PQ;function tTe(){if(PQ)return Tj;PQ=1;var t=nh(),e=XNe(),r=eTe();function n(a,s){return r(e(a,s,t),a+"")}return Tj=n,Tj}var kj,FQ;function yw(){if(FQ)return kj;FQ=1;var t=vI(),e=ag(),r=PI(),n=Ll();function a(s,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],s):!1}return kj=a,kj}var Ij,DQ;function rTe(){if(DQ)return Ij;DQ=1;var t=UX(),e=zNe(),r=tTe(),n=yw(),a=r(function(s,o){if(s==null)return[];var l=o.length;return l>1&&n(s,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return Ij=a,Ij}var nTe=rTe();const RI=Ht(nTe);function Lm(t){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lm(t)}function J2(){return J2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J2.apply(this,arguments)}function aTe(t,e){return lTe(t)||oTe(t,e)||iTe(t,e)||sTe()}function sTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iTe(t,e){if(t){if(typeof t=="string")return OQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OQ(t,e)}}function OQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function lTe(t){if(Array.isArray(t))return t}function RQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Pj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RQ(Object(r),!0).forEach(function(n){cTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cTe(t,e,r){return e=uTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uTe(t){var e=ATe(t,"string");return Lm(e)=="symbol"?e:e+""}function ATe(t,e){if(Lm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dTe(t){return Array.isArray(t)&&Xr(t[0])&&Xr(t[1])?t.join(" ~ "):t}var hTe=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,s=a===void 0?{}:a,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,A=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,m=e.labelClassName,g=e.label,p=e.labelFormatter,b=e.accessibilityLayer,x=b===void 0?!1:b,w=function(){if(A&&A.length){var I={padding:0,margin:0},k=(h?RI(A,h):A).map(function(R,M){if(R.type==="none")return null;var $=Pj({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},l),U=R.formatter||d||dTe,O=R.value,L=R.name,H=O,D=L;if(U&&H!=null&&D!=null){var Q=U(O,L,R,M,A);if(Array.isArray(Q)){var z=aTe(Q,2);H=z[0],D=z[1]}else H=Q}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:$},Xr(D)?K.createElement("span",{className:"recharts-tooltip-item-name"},D):null,Xr(D)?K.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,K.createElement("span",{className:"recharts-tooltip-item-value"},H),K.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:I},k)}return null},y=Pj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),C=Pj({margin:0},u),E=!Tt(g),B=E?g:"",j=Lt("recharts-default-tooltip",f),N=Lt("recharts-tooltip-label",m);E&&p&&A!==void 0&&A!==null&&(B=p(g,A));var S=x?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",J2({className:j,style:y},S),K.createElement("p",{className:N,style:C},K.isValidElement(B)?B:"".concat(B)),w())};function Hm(t){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(t)}function C0(t,e,r){return e=fTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fTe(t){var e=mTe(t,"string");return Hm(e)=="symbol"?e:e+""}function mTe(t,e){if(Hm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qh="recharts-tooltip-wrapper",pTe={visibility:"hidden"};function gTe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Lt(qh,C0(C0(C0(C0({},"".concat(qh,"-right"),Pe(r)&&e&&Pe(e.x)&&r>=e.x),"".concat(qh,"-left"),Pe(r)&&e&&Pe(e.x)&&r<e.x),"".concat(qh,"-bottom"),Pe(n)&&e&&Pe(e.y)&&n>=e.y),"".concat(qh,"-top"),Pe(n)&&e&&Pe(e.y)&&n<e.y))}function UQ(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,s=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&Pe(s[n]))return s[n];var A=r[n]-l-a,d=r[n]+a;if(e[n])return o[n]?A:d;if(o[n]){var h=A,f=c[n];return h<f?Math.max(d,c[n]):Math.max(A,c[n])}var m=d+l,g=c[n]+u;return m>g?Math.max(A,c[n]):Math.max(d,c[n])}function xTe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function vTe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,A,d;return o.height>0&&o.width>0&&r?(A=UQ({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),d=UQ({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=xTe({translateX:A,translateY:d,useTranslate3d:l})):u=pTe,{cssProperties:u,cssClasses:gTe({translateX:A,translateY:d,coordinate:r})}}function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function MQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function QQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MQ(Object(r),!0).forEach(function(n){eN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$X(n.key),n)}}function wTe(t,e,r){return e&&bTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Te(t,e,r){return e=cy(e),BTe(t,HX()?Reflect.construct(e,r||[],cy(t).constructor):e.apply(t,r))}function BTe(t,e){if(e&&(gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CTe(t)}function CTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HX=function(){return!!t})()}function cy(t){return cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cy(t)}function jTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z2(t,e)}function Z2(t,e){return Z2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Z2(t,e)}function eN(t,e,r){return e=$X(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $X(t){var e=ETe(t,"string");return gd(e)=="symbol"?e:e+""}function ETe(t,e){if(gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var LQ=1,STe=function(t){function e(){var r;yTe(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=_Te(this,e,[].concat(a)),eN(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),eN(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,A;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(A=r.props.coordinate)===null||A===void 0?void 0:A.y)!==null&&u!==void 0?u:0}})}}),r}return jTe(e,t),wTe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>LQ||Math.abs(n.height-this.state.lastBoundingBox.height)>LQ)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,A=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,f=a.offset,m=a.position,g=a.reverseDirection,p=a.useTranslate3d,b=a.viewBox,x=a.wrapperStyle,w=vTe({allowEscapeViewBox:o,coordinate:A,offsetTopLeft:f,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:b}),y=w.cssClasses,C=w.cssProperties,E=QQ(QQ({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},x);return K.createElement("div",{tabIndex:-1,className:y,style:E,ref:function(j){n.wrapperNode=j}},u)}}])}(v.PureComponent),NTe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ah={isSsr:NTe()};function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function HQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $Q(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HQ(Object(r),!0).forEach(function(n){UI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KX(n.key),n)}}function ITe(t,e,r){return e&&kTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function PTe(t,e,r){return e=uy(e),FTe(t,VX()?Reflect.construct(e,r||[],uy(t).constructor):e.apply(t,r))}function FTe(t,e){if(e&&(xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DTe(t)}function DTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VX=function(){return!!t})()}function uy(t){return uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uy(t)}function OTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tN(t,e)}function tN(t,e){return tN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tN(t,e)}function UI(t,e,r){return e=KX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KX(t){var e=RTe(t,"string");return xd(e)=="symbol"?e:e+""}function RTe(t,e){if(xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function UTe(t){return t.dataKey}function MTe(t,e){return K.isValidElement(t)?K.cloneElement(t,e):typeof t=="function"?K.createElement(t,e):K.createElement(hTe,e)}var ys=function(t){function e(){return TTe(this,e),PTe(this,e,arguments)}return OTe(e,t),ITe(e,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,A=a.coordinate,d=a.filterNull,h=a.isAnimationActive,f=a.offset,m=a.payload,g=a.payloadUniqBy,p=a.position,b=a.reverseDirection,x=a.useTranslate3d,w=a.viewBox,y=a.wrapperStyle,C=m??[];d&&C.length&&(C=DX(m.filter(function(B){return B.value!=null&&(B.hide!==!0||n.props.includeHidden)}),g,UTe));var E=C.length>0;return K.createElement(STe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:A,hasPayload:E,offset:f,position:p,reverseDirection:b,useTranslate3d:x,viewBox:w,wrapperStyle:y},MTe(u,$Q($Q({},this.props),{},{payload:C})))}}])}(v.PureComponent);UI(ys,"displayName","Tooltip");UI(ys,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ah.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Fj,VQ;function QTe(){if(VQ)return Fj;VQ=1;var t=Ci(),e=function(){return t.Date.now()};return Fj=e,Fj}var Dj,KQ;function LTe(){if(KQ)return Dj;KQ=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Dj=e,Dj}var Oj,qQ;function HTe(){if(qQ)return Oj;qQ=1;var t=LTe(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Oj=r,Oj}var Rj,GQ;function qX(){if(GQ)return Rj;GQ=1;var t=HTe(),e=Ll(),r=th(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var A=typeof u.valueOf=="function"?u.valueOf():u;u=e(A)?A+"":A}if(typeof u!="string")return u===0?u:+u;u=t(u);var d=s.test(u);return d||o.test(u)?l(u.slice(2),d?2:8):a.test(u)?n:+u}return Rj=c,Rj}var Uj,zQ;function $Te(){if(zQ)return Uj;zQ=1;var t=Ll(),e=QTe(),r=qX(),n="Expected a function",a=Math.max,s=Math.min;function o(l,c,u){var A,d,h,f,m,g,p=0,b=!1,x=!1,w=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(u)&&(b=!!u.leading,x="maxWait"in u,h=x?a(r(u.maxWait)||0,c):h,w="trailing"in u?!!u.trailing:w);function y(k){var R=A,M=d;return A=d=void 0,p=k,f=l.apply(M,R),f}function C(k){return p=k,m=setTimeout(j,c),b?y(k):f}function E(k){var R=k-g,M=k-p,$=c-R;return x?s($,h-M):$}function B(k){var R=k-g,M=k-p;return g===void 0||R>=c||R<0||x&&M>=h}function j(){var k=e();if(B(k))return N(k);m=setTimeout(j,E(k))}function N(k){return m=void 0,w&&A?y(k):(A=d=void 0,f)}function S(){m!==void 0&&clearTimeout(m),p=0,A=g=d=m=void 0}function T(){return m===void 0?f:N(e())}function I(){var k=e(),R=B(k);if(A=arguments,d=this,g=k,R){if(m===void 0)return C(g);if(x)return clearTimeout(m),m=setTimeout(j,c),y(g)}return m===void 0&&(m=setTimeout(j,c)),f}return I.cancel=S,I.flush=T,I}return Uj=o,Uj}var Mj,WQ;function VTe(){if(WQ)return Mj;WQ=1;var t=$Te(),e=Ll(),r="Expected a function";function n(a,s,o){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(a,s,{leading:l,maxWait:s,trailing:c})}return Mj=n,Mj}var KTe=VTe();const GX=Ht(KTe);function $m(t){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$m(t)}function XQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function j0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XQ(Object(r),!0).forEach(function(n){qTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qTe(t,e,r){return e=GTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GTe(t){var e=zTe(t,"string");return $m(e)=="symbol"?e:e+""}function zTe(t,e){if($m(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WTe(t,e){return ZTe(t)||JTe(t,e)||YTe(t,e)||XTe()}function XTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YTe(t,e){if(t){if(typeof t=="string")return YQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YQ(t,e)}}function YQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ZTe(t){if(Array.isArray(t))return t}var eke=v.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=t.width,o=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,A=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,f=t.children,m=t.debounce,g=m===void 0?0:m,p=t.id,b=t.className,x=t.onResize,w=t.style,y=w===void 0?{}:w,C=v.useRef(null),E=v.useRef();E.current=x,v.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var B=v.useState({containerWidth:a.width,containerHeight:a.height}),j=WTe(B,2),N=j[0],S=j[1],T=v.useCallback(function(k,R){S(function(M){var $=Math.round(k),U=Math.round(R);return M.containerWidth===$&&M.containerHeight===U?M:{containerWidth:$,containerHeight:U}})},[]);v.useEffect(function(){var k=function(L){var H,D=L[0].contentRect,Q=D.width,z=D.height;T(Q,z),(H=E.current)===null||H===void 0||H.call(E,Q,z)};g>0&&(k=GX(k,g,{trailing:!0,leading:!1}));var R=new ResizeObserver(k),M=C.current.getBoundingClientRect(),$=M.width,U=M.height;return T($,U),R.observe(C.current),function(){R.disconnect()}},[T,g]);var I=v.useMemo(function(){var k=N.containerWidth,R=N.containerHeight;if(k<0||R<0)return null;Wi(jc(o)||jc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Wi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=jc(o)?k:o,$=jc(c)?R:c;r&&r>0&&(M?$=M/r:$&&(M=$*r),h&&$>h&&($=h)),Wi(M>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,$,o,c,A,d,r);var U=!Array.isArray(f)&&zi(f.type).endsWith("Chart");return K.Children.map(f,function(O){return ZW.isElement(O)?v.cloneElement(O,j0({width:M,height:$},U?{style:j0({height:"100%",width:"100%",maxHeight:$,maxWidth:M},O.props.style)}:{})):O})},[r,f,c,h,d,A,N,o]);return K.createElement("div",{id:p?"".concat(p):void 0,className:Lt("recharts-responsive-container",b),style:j0(j0({},y),{},{width:o,height:c,minWidth:A,minHeight:d,maxHeight:h}),ref:C},I)}),zX=function(e){return null};zX.displayName="Cell";function Vm(t){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(t)}function JQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JQ(Object(r),!0).forEach(function(n){tke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tke(t,e,r){return e=rke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rke(t){var e=nke(t,"string");return Vm(e)=="symbol"?e:e+""}function nke(t,e){if(Vm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zu={widthCache:{},cacheCount:0},ake=2e3,ske={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ZQ="recharts_measurement_span";function ike(t){var e=rN({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Qf=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ah.isSsr)return{width:0,height:0};var n=ike(r),a=JSON.stringify({text:e,copyStyle:n});if(Zu.widthCache[a])return Zu.widthCache[a];try{var s=document.getElementById(ZQ);s||(s=document.createElement("span"),s.setAttribute("id",ZQ),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=rN(rN({},ske),n);Object.assign(s.style,o),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Zu.widthCache[a]=c,++Zu.cacheCount>ake&&(Zu.cacheCount=0,Zu.widthCache={}),c}catch{return{width:0,height:0}}},oke=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Km(t){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Km(t)}function Ay(t,e){return Ake(t)||uke(t,e)||cke(t,e)||lke()}function lke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cke(t,e){if(t){if(typeof t=="string")return e3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e3(t,e)}}function e3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uke(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Ake(t){if(Array.isArray(t))return t}function dke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fke(n.key),n)}}function hke(t,e,r){return e&&t3(t.prototype,e),r&&t3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function fke(t){var e=mke(t,"string");return Km(e)=="symbol"?e:e+""}function mke(t,e){if(Km(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var r3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,n3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pke=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,gke=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,WX={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},xke=Object.keys(WX),fA="NaN";function vke(t,e){return t*WX[e]}var E0=function(){function t(e,r){dke(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!pke.test(r)&&(this.num=NaN,this.unit=""),xke.includes(r)&&(this.num=vke(e,r),this.unit="px")}return hke(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=gke.exec(r))!==null&&n!==void 0?n:[],s=Ay(a,3),o=s[1],l=s[2];return new t(parseFloat(o),l??"")}}])}();function XX(t){if(t.includes(fA))return fA;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=r3.exec(e))!==null&&r!==void 0?r:[],a=Ay(n,4),s=a[1],o=a[2],l=a[3],c=E0.parse(s??""),u=E0.parse(l??""),A=o==="*"?c.multiply(u):c.divide(u);if(A.isNaN())return fA;e=e.replace(r3,A.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=n3.exec(e))!==null&&d!==void 0?d:[],f=Ay(h,4),m=f[1],g=f[2],p=f[3],b=E0.parse(m??""),x=E0.parse(p??""),w=g==="+"?b.add(x):b.subtract(x);if(w.isNaN())return fA;e=e.replace(n3,w.toString())}return e}var a3=/\(([^()]*)\)/;function yke(t){for(var e=t;e.includes("(");){var r=a3.exec(e),n=Ay(r,2),a=n[1];e=e.replace(a3,XX(a))}return e}function bke(t){var e=t.replace(/\s+/g,"");return e=yke(e),e=XX(e),e}function wke(t){try{return bke(t)}catch{return fA}}function Qj(t){var e=wke(t.slice(5,-1));return e===fA?"":e}var _ke=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Bke=["dx","dy","angle","className","breakAll"];function nN(){return nN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nN.apply(this,arguments)}function s3(t,e){if(t==null)return{};var r=Cke(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function i3(t,e){return Nke(t)||Ske(t,e)||Eke(t,e)||jke()}function jke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eke(t,e){if(t){if(typeof t=="string")return o3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o3(t,e)}}function o3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ske(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Nke(t){if(Array.isArray(t))return t}var YX=/[ \f\n\r\t\v\u2028\u2029]+/,JX=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var s=[];Tt(r)||(n?s=r.toString().split(""):s=r.toString().split(YX));var o=s.map(function(c){return{word:c,width:Qf(c,a).width}}),l=n?0:Qf("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Tke=function(e,r,n,a,s){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,A=Pe(o),d=l,h=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function($,U){var O=U.word,L=U.width,H=$[$.length-1];if(H&&(a==null||s||H.width+L+n<Number(a)))H.words.push(O),H.width+=L+n;else{var D={words:[O],width:L};$.push(D)}return $},[])},f=h(r),m=function(M){return M.reduce(function($,U){return $.width>U.width?$:U})};if(!A)return f;for(var g="",p=function(M){var $=d.slice(0,M),U=JX({breakAll:u,style:c,children:$+g}).wordsWithComputedWidth,O=h(U),L=O.length>o||m(O).width>Number(a);return[L,O]},b=0,x=d.length-1,w=0,y;b<=x&&w<=d.length-1;){var C=Math.floor((b+x)/2),E=C-1,B=p(E),j=i3(B,2),N=j[0],S=j[1],T=p(C),I=i3(T,1),k=I[0];if(!N&&!k&&(b=C+1),N&&k&&(x=C-1),!N&&k){y=S;break}w++}return y||f},l3=function(e){var r=Tt(e)?[]:e.toString().split(YX);return[{words:r}]},kke=function(e){var r=e.width,n=e.scaleToFit,a=e.children,s=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!ah.isSsr){var c,u,A=JX({breakAll:o,children:a,style:s});if(A){var d=A.wordsWithComputedWidth,h=A.spaceWidth;c=d,u=h}else return l3(a);return Tke({breakAll:o,children:a,maxLines:l,style:s},c,u,r,n)}return l3(a)},c3="#808080",dy=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,A=e.scaleToFit,d=A===void 0?!1:A,h=e.textAnchor,f=h===void 0?"start":h,m=e.verticalAnchor,g=m===void 0?"end":m,p=e.fill,b=p===void 0?c3:p,x=s3(e,_ke),w=v.useMemo(function(){return kke({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),y=x.dx,C=x.dy,E=x.angle,B=x.className,j=x.breakAll,N=s3(x,Bke);if(!Xr(n)||!Xr(s))return null;var S=n+(Pe(y)?y:0),T=s+(Pe(C)?C:0),I;switch(g){case"start":I=Qj("calc(".concat(u,")"));break;case"middle":I=Qj("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:I=Qj("calc(".concat(w.length-1," * -").concat(l,")"));break}var k=[];if(d){var R=w[0].width,M=x.width;k.push("scale(".concat((Pe(M)?M/R:1)/R,")"))}return E&&k.push("rotate(".concat(E,", ").concat(S,", ").concat(T,")")),k.length&&(N.transform=k.join(" ")),K.createElement("text",nN({},Ot(N,!0),{x:S,y:T,className:Lt("recharts-text",B),textAnchor:f,fill:b.includes("url")?c3:b}),w.map(function($,U){var O=$.words.join(j?"":" ");return K.createElement("tspan",{x:S,dy:U===0?I:l,key:"".concat(O,"-").concat(U)},O)}))};function fl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ike(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function MI(t){let e,r,n;t.length!==2?(e=fl,r=(l,c)=>fl(t(l),c),n=(l,c)=>t(l)-c):(e=t===fl||t===Ike?t:Pke,r=t,n=t);function a(l,c,u=0,A=l.length){if(u<A){if(e(c,c)!==0)return A;do{const d=u+A>>>1;r(l[d],c)<0?u=d+1:A=d}while(u<A)}return u}function s(l,c,u=0,A=l.length){if(u<A){if(e(c,c)!==0)return A;do{const d=u+A>>>1;r(l[d],c)<=0?u=d+1:A=d}while(u<A)}return u}function o(l,c,u=0,A=l.length){const d=a(l,c,u,A-1);return d>u&&n(l[d-1],c)>-n(l[d],c)?d-1:d}return{left:a,center:o,right:s}}function Pke(){return 0}function ZX(t){return t===null?NaN:+t}function*Fke(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Dke=MI(fl),sg=Dke.right;MI(ZX).center;class u3 extends Map{constructor(e,r=Uke){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(A3(this,e))}has(e){return super.has(A3(this,e))}set(e,r){return super.set(Oke(this,e),r)}delete(e){return super.delete(Rke(this,e))}}function A3({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Oke({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Rke({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Uke(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Mke(t=fl){if(t===fl)return eY;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function eY(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Qke=Math.sqrt(50),Lke=Math.sqrt(10),Hke=Math.sqrt(2);function hy(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=Qke?10:s>=Lke?5:s>=Hke?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?hy(t,e,r*2):[l,c,u]}function aN(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,s,o]=n?hy(e,t,r):hy(t,e,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function sN(t,e,r){return e=+e,t=+t,r=+r,hy(t,e,r)[2]}function iN(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?sN(e,t,r):sN(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function d3(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function h3(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function tY(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?eY:Mke(a);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,A=Math.log(c),d=.5*Math.exp(2*A/3),h=.5*Math.sqrt(A*d*(c-d)/c)*(u-c/2<0?-1:1),f=Math.max(r,Math.floor(e-u*d/c+h)),m=Math.min(n,Math.floor(e+(c-u)*d/c+h));tY(t,e,f,m,a)}const s=t[e];let o=r,l=n;for(Gh(t,r,e),a(t[n],s)>0&&Gh(t,r,n);o<l;){for(Gh(t,o,l),++o,--l;a(t[o],s)<0;)++o;for(;a(t[l],s)>0;)--l}a(t[r],s)===0?Gh(t,r,l):(++l,Gh(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Gh(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function $ke(t,e,r){if(t=Float64Array.from(Fke(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return h3(t);if(e>=1)return d3(t);var n,a=(n-1)*e,s=Math.floor(a),o=d3(tY(t,s).subarray(0,s+1)),l=h3(t.subarray(s+1));return o+(l-o)*(a-s)}}function Vke(t,e,r=ZX){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,s=Math.floor(a),o=+r(t[s],s,t),l=+r(t[s+1],s+1,t);return o+(l-o)*(a-s)}}function Kke(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(a);++n<a;)s[n]=t+n*r;return s}function As(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function po(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const oN=Symbol("implicit");function QI(){var t=new u3,e=[],r=[],n=oN;function a(s){let o=t.get(s);if(o===void 0){if(n!==oN)return n;t.set(s,o=e.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new u3;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return QI(e,r).unknown(n)},As.apply(a,arguments),a}function qm(){var t=QI().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,s,o,l=!1,c=0,u=0,A=.5;delete t.unknown;function d(){var h=e().length,f=a<n,m=f?a:n,g=f?n:a;s=(g-m)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),m+=(g-m-s*(h-c))*A,o=s*(1-c),l&&(m=Math.round(m),o=Math.round(o));var p=Kke(h).map(function(b){return m+s*b});return r(f?p.reverse():p)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},t.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,d()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(h){return arguments.length?(l=!!h,d()):l},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),d()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(A=Math.max(0,Math.min(1,h)),d()):A},t.copy=function(){return qm(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(A)},As.apply(d(),arguments)}function rY(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return rY(e())},t}function Lf(){return rY(qm.apply(null,arguments).paddingInner(1))}function LI(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function nY(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function ig(){}var Gm=.7,fy=1/Gm,EA="\\s*([+-]?\\d+)\\s*",zm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ai="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qke=/^#([0-9a-f]{3,8})$/,Gke=new RegExp(`^rgb\\(${EA},${EA},${EA}\\)$`),zke=new RegExp(`^rgb\\(${Ai},${Ai},${Ai}\\)$`),Wke=new RegExp(`^rgba\\(${EA},${EA},${EA},${zm}\\)$`),Xke=new RegExp(`^rgba\\(${Ai},${Ai},${Ai},${zm}\\)$`),Yke=new RegExp(`^hsl\\(${zm},${Ai},${Ai}\\)$`),Jke=new RegExp(`^hsla\\(${zm},${Ai},${Ai},${zm}\\)$`),f3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};LI(ig,Wm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:m3,formatHex:m3,formatHex8:Zke,formatHsl:eIe,formatRgb:p3,toString:p3});function m3(){return this.rgb().formatHex()}function Zke(){return this.rgb().formatHex8()}function eIe(){return aY(this).formatHsl()}function p3(){return this.rgb().formatRgb()}function Wm(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=qke.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?g3(e):r===3?new xa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?S0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?S0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Gke.exec(t))?new xa(e[1],e[2],e[3],1):(e=zke.exec(t))?new xa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Wke.exec(t))?S0(e[1],e[2],e[3],e[4]):(e=Xke.exec(t))?S0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Yke.exec(t))?y3(e[1],e[2]/100,e[3]/100,1):(e=Jke.exec(t))?y3(e[1],e[2]/100,e[3]/100,e[4]):f3.hasOwnProperty(t)?g3(f3[t]):t==="transparent"?new xa(NaN,NaN,NaN,0):null}function g3(t){return new xa(t>>16&255,t>>8&255,t&255,1)}function S0(t,e,r,n){return n<=0&&(t=e=r=NaN),new xa(t,e,r,n)}function tIe(t){return t instanceof ig||(t=Wm(t)),t?(t=t.rgb(),new xa(t.r,t.g,t.b,t.opacity)):new xa}function lN(t,e,r,n){return arguments.length===1?tIe(t):new xa(t,e,r,n??1)}function xa(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}LI(xa,lN,nY(ig,{brighter(t){return t=t==null?fy:Math.pow(fy,t),new xa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Gm:Math.pow(Gm,t),new xa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new xa($c(this.r),$c(this.g),$c(this.b),my(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:x3,formatHex:x3,formatHex8:rIe,formatRgb:v3,toString:v3}));function x3(){return`#${Ec(this.r)}${Ec(this.g)}${Ec(this.b)}`}function rIe(){return`#${Ec(this.r)}${Ec(this.g)}${Ec(this.b)}${Ec((isNaN(this.opacity)?1:this.opacity)*255)}`}function v3(){const t=my(this.opacity);return`${t===1?"rgb(":"rgba("}${$c(this.r)}, ${$c(this.g)}, ${$c(this.b)}${t===1?")":`, ${t})`}`}function my(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function $c(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ec(t){return t=$c(t),(t<16?"0":"")+t.toString(16)}function y3(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new js(t,e,r,n)}function aY(t){if(t instanceof js)return new js(t.h,t.s,t.l,t.opacity);if(t instanceof ig||(t=Wm(t)),!t)return new js;if(t instanceof js)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),s=Math.max(e,r,n),o=NaN,l=s-a,c=(s+a)/2;return l?(e===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new js(o,l,c,t.opacity)}function nIe(t,e,r,n){return arguments.length===1?aY(t):new js(t,e,r,n??1)}function js(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}LI(js,nIe,nY(ig,{brighter(t){return t=t==null?fy:Math.pow(fy,t),new js(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Gm:Math.pow(Gm,t),new js(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new xa(Lj(t>=240?t-240:t+120,a,n),Lj(t,a,n),Lj(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new js(b3(this.h),N0(this.s),N0(this.l),my(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=my(this.opacity);return`${t===1?"hsl(":"hsla("}${b3(this.h)}, ${N0(this.s)*100}%, ${N0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function b3(t){return t=(t||0)%360,t<0?t+360:t}function N0(t){return Math.max(0,Math.min(1,t||0))}function Lj(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const HI=t=>()=>t;function aIe(t,e){return function(r){return t+r*e}}function sIe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function iIe(t){return(t=+t)==1?sY:function(e,r){return r-e?sIe(e,r,t):HI(isNaN(e)?r:e)}}function sY(t,e){var r=e-t;return r?aIe(t,r):HI(isNaN(t)?e:t)}const w3=function t(e){var r=iIe(e);function n(a,s){var o=r((a=lN(a)).r,(s=lN(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=sY(a.opacity,s.opacity);return function(A){return a.r=o(A),a.g=l(A),a.b=c(A),a.opacity=u(A),a+""}}return n.gamma=t,n}(1);function oIe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=t[a]*(1-s)+e[a]*s;return n}}function lIe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function cIe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=sh(t[o],e[o]);for(;o<r;++o)s[o]=e[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function uIe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function py(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function AIe(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=sh(t[a],e[a]):n[a]=e[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var cN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hj=new RegExp(cN.source,"g");function dIe(t){return function(){return t}}function hIe(t){return function(e){return t(e)+""}}function fIe(t,e){var r=cN.lastIndex=Hj.lastIndex=0,n,a,s,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=cN.exec(t))&&(a=Hj.exec(e));)(s=a.index)>r&&(s=e.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:py(n,a)})),r=Hj.lastIndex;return r<e.length&&(s=e.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?hIe(c[0].x):dIe(e):(e=c.length,function(u){for(var A=0,d;A<e;++A)l[(d=c[A]).i]=d.x(u);return l.join("")})}function sh(t,e){var r=typeof e,n;return e==null||r==="boolean"?HI(e):(r==="number"?py:r==="string"?(n=Wm(e))?(e=n,w3):fIe:e instanceof Wm?w3:e instanceof Date?uIe:lIe(e)?oIe:Array.isArray(e)?cIe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?AIe:py)(t,e)}function $I(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function mIe(t,e){e===void 0&&(e=t,t=sh);for(var r=0,n=e.length-1,a=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(a,a=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function pIe(t){return function(){return t}}function gy(t){return+t}var _3=[0,1];function ta(t){return t}function uN(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:pIe(isNaN(e)?NaN:.5)}function gIe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function xIe(t,e,r){var n=t[0],a=t[1],s=e[0],o=e[1];return a<n?(n=uN(a,n),s=r(o,s)):(n=uN(n,a),s=r(s,o)),function(l){return s(n(l))}}function vIe(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),s=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)a[o]=uN(t[o],t[o+1]),s[o]=r(e[o],e[o+1]);return function(l){var c=sg(t,l,1,n)-1;return s[c](a[c](l))}}function og(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function bw(){var t=_3,e=_3,r=sh,n,a,s,o=ta,l,c,u;function A(){var h=Math.min(t.length,e.length);return o!==ta&&(o=gIe(t[0],t[h-1])),l=h>2?vIe:xIe,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?s:(c||(c=l(t.map(n),e,r)))(n(o(h)))}return d.invert=function(h){return o(a((u||(u=l(e,t.map(n),py)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,gy),A()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),A()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),r=$I,A()},d.clamp=function(h){return arguments.length?(o=h?!0:ta,A()):o!==ta},d.interpolate=function(h){return arguments.length?(r=h,A()):r},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,f){return n=h,a=f,A()}}function VI(){return bw()(ta,ta)}function yIe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function xy(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function vd(t){return t=xy(Math.abs(t)),t?t[1]:NaN}function bIe(t,e){return function(r,n){for(var a=r.length,s=[],o=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return s.reverse().join(e)}}function wIe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var _Ie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xm(t){if(!(e=_Ie.exec(t)))throw new Error("invalid format: "+t);var e;return new KI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Xm.prototype=KI.prototype;function KI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}KI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function BIe(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var iY;function CIe(t,e){var r=xy(t,e);if(!r)return t+"";var n=r[0],a=r[1],s=a-(iY=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+xy(t,Math.max(0,e+s-1))[0]}function B3(t,e){var r=xy(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const C3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:yIe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>B3(t*100,e),r:B3,s:CIe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function j3(t){return t}var E3=Array.prototype.map,S3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function jIe(t){var e=t.grouping===void 0||t.thousands===void 0?j3:bIe(E3.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?j3:wIe(E3.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(d){d=Xm(d);var h=d.fill,f=d.align,m=d.sign,g=d.symbol,p=d.zero,b=d.width,x=d.comma,w=d.precision,y=d.trim,C=d.type;C==="n"?(x=!0,C="g"):C3[C]||(w===void 0&&(w=12),y=!0,C="g"),(p||h==="0"&&f==="=")&&(p=!0,h="0",f="=");var E=g==="$"?r:g==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",B=g==="$"?n:/[%p]/.test(C)?o:"",j=C3[C],N=/[defgprs%]/.test(C);w=w===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function S(T){var I=E,k=B,R,M,$;if(C==="c")k=j(T)+k,T="";else{T=+T;var U=T<0||1/T<0;if(T=isNaN(T)?c:j(Math.abs(T),w),y&&(T=BIe(T)),U&&+T==0&&m!=="+"&&(U=!1),I=(U?m==="("?m:l:m==="-"||m==="("?"":m)+I,k=(C==="s"?S3[8+iY/3]:"")+k+(U&&m==="("?")":""),N){for(R=-1,M=T.length;++R<M;)if($=T.charCodeAt(R),48>$||$>57){k=($===46?a+T.slice(R+1):T.slice(R))+k,T=T.slice(0,R);break}}}x&&!p&&(T=e(T,1/0));var O=I.length+T.length+k.length,L=O<b?new Array(b-O+1).join(h):"";switch(x&&p&&(T=e(L+T,L.length?b-k.length:1/0),L=""),f){case"<":T=I+T+k+L;break;case"=":T=I+L+T+k;break;case"^":T=L.slice(0,O=L.length>>1)+I+T+k+L.slice(O);break;default:T=L+I+T+k;break}return s(T)}return S.toString=function(){return d+""},S}function A(d,h){var f=u((d=Xm(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(vd(h)/3)))*3,g=Math.pow(10,-m),p=S3[8+m/3];return function(b){return f(g*b)+p}}return{format:u,formatPrefix:A}}var T0,qI,oY;EIe({thousands:",",grouping:[3],currency:["$",""]});function EIe(t){return T0=jIe(t),qI=T0.format,oY=T0.formatPrefix,T0}function SIe(t){return Math.max(0,-vd(Math.abs(t)))}function NIe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vd(e)/3)))*3-vd(Math.abs(t)))}function TIe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,vd(e)-vd(t))+1}function lY(t,e,r,n){var a=iN(t,e,r),s;switch(n=Xm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=NIe(a,o))&&(n.precision=s),oY(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=TIe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=SIe(a))&&(n.precision=s-(n.type==="%")*2);break}}return qI(n)}function $l(t){var e=t.domain;return t.ticks=function(r){var n=e();return aN(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return lY(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,s=n.length-1,o=n[a],l=n[s],c,u,A=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);A-- >0;){if(u=sN(o,l,r),u===c)return n[a]=o,n[s]=l,e(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function vy(){var t=VI();return t.copy=function(){return og(t,vy())},As.apply(t,arguments),$l(t)}function cY(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,gy),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return cY(t).unknown(e)},t=arguments.length?Array.from(t,gy):[0,1],$l(r)}function uY(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],s=t[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),t[r]=e.floor(a),t[n]=e.ceil(s),t}function N3(t){return Math.log(t)}function T3(t){return Math.exp(t)}function kIe(t){return-Math.log(-t)}function IIe(t){return-Math.exp(-t)}function PIe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function FIe(t){return t===10?PIe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function DIe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function k3(t){return(e,r)=>-t(-e,r)}function GI(t){const e=t(N3,T3),r=e.domain;let n=10,a,s;function o(){return a=DIe(n),s=FIe(n),r()[0]<0?(a=k3(a),s=k3(s),t(kIe,IIe)):t(N3,T3),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let u=c[0],A=c[c.length-1];const d=A<u;d&&([u,A]=[A,u]);let h=a(u),f=a(A),m,g;const p=l==null?10:+l;let b=[];if(!(n%1)&&f-h<p){if(h=Math.floor(h),f=Math.ceil(f),u>0){for(;h<=f;++h)for(m=1;m<n;++m)if(g=h<0?m/s(-h):m*s(h),!(g<u)){if(g>A)break;b.push(g)}}else for(;h<=f;++h)for(m=n-1;m>=1;--m)if(g=h>0?m/s(-h):m*s(h),!(g<u)){if(g>A)break;b.push(g)}b.length*2<p&&(b=aN(u,A,p))}else b=aN(h,f,Math.min(f-h,p)).map(s);return d?b.reverse():b},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Xm(c)).precision==null&&(c.trim=!0),c=qI(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return A=>{let d=A/s(Math.round(a(A)));return d*n<n-.5&&(d*=n),d<=u?c(A):""}},e.nice=()=>r(uY(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),e}function AY(){const t=GI(bw()).domain([1,10]);return t.copy=()=>og(t,AY()).base(t.base()),As.apply(t,arguments),t}function I3(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function P3(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function zI(t){var e=1,r=t(I3(e),P3(e));return r.constant=function(n){return arguments.length?t(I3(e=+n),P3(e)):e},$l(r)}function dY(){var t=zI(bw());return t.copy=function(){return og(t,dY()).constant(t.constant())},As.apply(t,arguments)}function F3(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function OIe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function RIe(t){return t<0?-t*t:t*t}function WI(t){var e=t(ta,ta),r=1;function n(){return r===1?t(ta,ta):r===.5?t(OIe,RIe):t(F3(r),F3(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},$l(e)}function XI(){var t=WI(bw());return t.copy=function(){return og(t,XI()).exponent(t.exponent())},As.apply(t,arguments),t}function UIe(){return XI.apply(null,arguments).exponent(.5)}function D3(t){return Math.sign(t)*t*t}function MIe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function hY(){var t=VI(),e=[0,1],r=!1,n;function a(s){var o=MIe(t(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return t.invert(D3(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,gy)).map(D3)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return hY(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},As.apply(a,arguments),$l(a)}function fY(){var t=[],e=[],r=[],n;function a(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=Vke(t,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:e[sg(r,o)]}return s.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(fl),a()},s.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return fY().domain(t).range(e).unknown(n)},As.apply(s,arguments)}function mY(){var t=0,e=1,r=1,n=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[sg(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return mY().domain([t,e]).range(a).unknown(s)},As.apply($l(o),arguments)}function pY(){var t=[.5],e=[0,1],r,n=1;function a(s){return s!=null&&s<=s?e[sg(t,s,0,n)]:r}return a.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return pY().domain(t).range(e).unknown(r)},As.apply(a,arguments)}const $j=new Date,Vj=new Date;function Zr(t,e,r,n){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<o);return c},a.filter=s=>Zr(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!s(o););else for(;--l>=0;)for(;e(o,1),!s(o););}),r&&(a.count=(s,o)=>($j.setTime(+s),Vj.setTime(+o),t($j),t(Vj),Math.floor(r($j,Vj))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const yy=Zr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);yy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Zr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):yy);yy.range;const Qi=1e3,rs=Qi*60,Li=rs*60,oo=Li*24,YI=oo*7,O3=oo*30,Kj=oo*365,Sc=Zr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Qi)},(t,e)=>(e-t)/Qi,t=>t.getUTCSeconds());Sc.range;const JI=Zr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Qi)},(t,e)=>{t.setTime(+t+e*rs)},(t,e)=>(e-t)/rs,t=>t.getMinutes());JI.range;const ZI=Zr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*rs)},(t,e)=>(e-t)/rs,t=>t.getUTCMinutes());ZI.range;const eP=Zr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Qi-t.getMinutes()*rs)},(t,e)=>{t.setTime(+t+e*Li)},(t,e)=>(e-t)/Li,t=>t.getHours());eP.range;const tP=Zr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Li)},(t,e)=>(e-t)/Li,t=>t.getUTCHours());tP.range;const lg=Zr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*rs)/oo,t=>t.getDate()-1);lg.range;const ww=Zr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/oo,t=>t.getUTCDate()-1);ww.range;const gY=Zr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/oo,t=>Math.floor(t/oo));gY.range;function pu(t){return Zr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*rs)/YI)}const _w=pu(0),by=pu(1),QIe=pu(2),LIe=pu(3),yd=pu(4),HIe=pu(5),$Ie=pu(6);_w.range;by.range;QIe.range;LIe.range;yd.range;HIe.range;$Ie.range;function gu(t){return Zr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/YI)}const Bw=gu(0),wy=gu(1),VIe=gu(2),KIe=gu(3),bd=gu(4),qIe=gu(5),GIe=gu(6);Bw.range;wy.range;VIe.range;KIe.range;bd.range;qIe.range;GIe.range;const rP=Zr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());rP.range;const nP=Zr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());nP.range;const lo=Zr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());lo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});lo.range;const co=Zr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());co.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});co.range;function xY(t,e,r,n,a,s){const o=[[Sc,1,Qi],[Sc,5,5*Qi],[Sc,15,15*Qi],[Sc,30,30*Qi],[s,1,rs],[s,5,5*rs],[s,15,15*rs],[s,30,30*rs],[a,1,Li],[a,3,3*Li],[a,6,6*Li],[a,12,12*Li],[n,1,oo],[n,2,2*oo],[r,1,YI],[e,1,O3],[e,3,3*O3],[t,1,Kj]];function l(u,A,d){const h=A<u;h&&([u,A]=[A,u]);const f=d&&typeof d.range=="function"?d:c(u,A,d),m=f?f.range(u,+A+1):[];return h?m.reverse():m}function c(u,A,d){const h=Math.abs(A-u)/d,f=MI(([,,p])=>p).right(o,h);if(f===o.length)return t.every(iN(u/Kj,A/Kj,d));if(f===0)return yy.every(Math.max(iN(u,A,d),1));const[m,g]=o[h/o[f-1][2]<o[f][2]/h?f-1:f];return m.every(g)}return[l,c]}const[zIe,WIe]=xY(co,nP,Bw,gY,tP,ZI),[XIe,YIe]=xY(lo,rP,_w,lg,eP,JI);function qj(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Gj(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function zh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function JIe(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,s=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=Wh(a),A=Xh(a),d=Wh(s),h=Xh(s),f=Wh(o),m=Xh(o),g=Wh(l),p=Xh(l),b=Wh(c),x=Xh(c),w={a:U,A:O,b:L,B:H,c:null,d:H3,e:H3,f:bPe,g:kPe,G:PPe,H:xPe,I:vPe,j:yPe,L:vY,m:wPe,M:_Pe,p:D,q:Q,Q:K3,s:q3,S:BPe,u:CPe,U:jPe,V:EPe,w:SPe,W:NPe,x:null,X:null,y:TPe,Y:IPe,Z:FPe,"%":V3},y={a:z,A:q,b:W,B:ee,c:null,d:$3,e:$3,f:UPe,g:zPe,G:XPe,H:DPe,I:OPe,j:RPe,L:bY,m:MPe,M:QPe,p:oe,q:ne,Q:K3,s:q3,S:LPe,u:HPe,U:$Pe,V:VPe,w:KPe,W:qPe,x:null,X:null,y:GPe,Y:WPe,Z:YPe,"%":V3},C={a:S,A:T,b:I,B:k,c:R,d:Q3,e:Q3,f:fPe,g:M3,G:U3,H:L3,I:L3,j:uPe,L:hPe,m:cPe,M:APe,p:N,q:lPe,Q:pPe,s:gPe,S:dPe,u:nPe,U:aPe,V:sPe,w:rPe,W:iPe,x:M,X:$,y:M3,Y:U3,Z:oPe,"%":mPe};w.x=E(r,w),w.X=E(n,w),w.c=E(e,w),y.x=E(r,y),y.X=E(n,y),y.c=E(e,y);function E(ce,de){return function(be){var Y=[],pe=-1,je=0,Le=ce.length,Ve,bt,X;for(be instanceof Date||(be=new Date(+be));++pe<Le;)ce.charCodeAt(pe)===37&&(Y.push(ce.slice(je,pe)),(bt=R3[Ve=ce.charAt(++pe)])!=null?Ve=ce.charAt(++pe):bt=Ve==="e"?" ":"0",(X=de[Ve])&&(Ve=X(be,bt)),Y.push(Ve),je=pe+1);return Y.push(ce.slice(je,pe)),Y.join("")}}function B(ce,de){return function(be){var Y=zh(1900,void 0,1),pe=j(Y,ce,be+="",0),je,Le;if(pe!=be.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(de&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(je=Gj(zh(Y.y,0,1)),Le=je.getUTCDay(),je=Le>4||Le===0?wy.ceil(je):wy(je),je=ww.offset(je,(Y.V-1)*7),Y.y=je.getUTCFullYear(),Y.m=je.getUTCMonth(),Y.d=je.getUTCDate()+(Y.w+6)%7):(je=qj(zh(Y.y,0,1)),Le=je.getDay(),je=Le>4||Le===0?by.ceil(je):by(je),je=lg.offset(je,(Y.V-1)*7),Y.y=je.getFullYear(),Y.m=je.getMonth(),Y.d=je.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Le="Z"in Y?Gj(zh(Y.y,0,1)).getUTCDay():qj(zh(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Le+5)%7:Y.w+Y.U*7-(Le+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,Gj(Y)):qj(Y)}}function j(ce,de,be,Y){for(var pe=0,je=de.length,Le=be.length,Ve,bt;pe<je;){if(Y>=Le)return-1;if(Ve=de.charCodeAt(pe++),Ve===37){if(Ve=de.charAt(pe++),bt=C[Ve in R3?de.charAt(pe++):Ve],!bt||(Y=bt(ce,be,Y))<0)return-1}else if(Ve!=be.charCodeAt(Y++))return-1}return Y}function N(ce,de,be){var Y=u.exec(de.slice(be));return Y?(ce.p=A.get(Y[0].toLowerCase()),be+Y[0].length):-1}function S(ce,de,be){var Y=f.exec(de.slice(be));return Y?(ce.w=m.get(Y[0].toLowerCase()),be+Y[0].length):-1}function T(ce,de,be){var Y=d.exec(de.slice(be));return Y?(ce.w=h.get(Y[0].toLowerCase()),be+Y[0].length):-1}function I(ce,de,be){var Y=b.exec(de.slice(be));return Y?(ce.m=x.get(Y[0].toLowerCase()),be+Y[0].length):-1}function k(ce,de,be){var Y=g.exec(de.slice(be));return Y?(ce.m=p.get(Y[0].toLowerCase()),be+Y[0].length):-1}function R(ce,de,be){return j(ce,e,de,be)}function M(ce,de,be){return j(ce,r,de,be)}function $(ce,de,be){return j(ce,n,de,be)}function U(ce){return o[ce.getDay()]}function O(ce){return s[ce.getDay()]}function L(ce){return c[ce.getMonth()]}function H(ce){return l[ce.getMonth()]}function D(ce){return a[+(ce.getHours()>=12)]}function Q(ce){return 1+~~(ce.getMonth()/3)}function z(ce){return o[ce.getUTCDay()]}function q(ce){return s[ce.getUTCDay()]}function W(ce){return c[ce.getUTCMonth()]}function ee(ce){return l[ce.getUTCMonth()]}function oe(ce){return a[+(ce.getUTCHours()>=12)]}function ne(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var de=E(ce+="",w);return de.toString=function(){return ce},de},parse:function(ce){var de=B(ce+="",!1);return de.toString=function(){return ce},de},utcFormat:function(ce){var de=E(ce+="",y);return de.toString=function(){return ce},de},utcParse:function(ce){var de=B(ce+="",!0);return de.toString=function(){return ce},de}}}var R3={"-":"",_:" ",0:"0"},dn=/^\s*\d+/,ZIe=/^%/,ePe=/[\\^$*+?|[\]().{}]/g;function qt(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(e)+a:a)}function tPe(t){return t.replace(ePe,"\\$&")}function Wh(t){return new RegExp("^(?:"+t.map(tPe).join("|")+")","i")}function Xh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function rPe(t,e,r){var n=dn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function nPe(t,e,r){var n=dn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function aPe(t,e,r){var n=dn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function sPe(t,e,r){var n=dn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function iPe(t,e,r){var n=dn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function U3(t,e,r){var n=dn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function M3(t,e,r){var n=dn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function oPe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function lPe(t,e,r){var n=dn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function cPe(t,e,r){var n=dn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function Q3(t,e,r){var n=dn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function uPe(t,e,r){var n=dn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function L3(t,e,r){var n=dn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function APe(t,e,r){var n=dn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function dPe(t,e,r){var n=dn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function hPe(t,e,r){var n=dn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function fPe(t,e,r){var n=dn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function mPe(t,e,r){var n=ZIe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function pPe(t,e,r){var n=dn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function gPe(t,e,r){var n=dn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function H3(t,e){return qt(t.getDate(),e,2)}function xPe(t,e){return qt(t.getHours(),e,2)}function vPe(t,e){return qt(t.getHours()%12||12,e,2)}function yPe(t,e){return qt(1+lg.count(lo(t),t),e,3)}function vY(t,e){return qt(t.getMilliseconds(),e,3)}function bPe(t,e){return vY(t,e)+"000"}function wPe(t,e){return qt(t.getMonth()+1,e,2)}function _Pe(t,e){return qt(t.getMinutes(),e,2)}function BPe(t,e){return qt(t.getSeconds(),e,2)}function CPe(t){var e=t.getDay();return e===0?7:e}function jPe(t,e){return qt(_w.count(lo(t)-1,t),e,2)}function yY(t){var e=t.getDay();return e>=4||e===0?yd(t):yd.ceil(t)}function EPe(t,e){return t=yY(t),qt(yd.count(lo(t),t)+(lo(t).getDay()===4),e,2)}function SPe(t){return t.getDay()}function NPe(t,e){return qt(by.count(lo(t)-1,t),e,2)}function TPe(t,e){return qt(t.getFullYear()%100,e,2)}function kPe(t,e){return t=yY(t),qt(t.getFullYear()%100,e,2)}function IPe(t,e){return qt(t.getFullYear()%1e4,e,4)}function PPe(t,e){var r=t.getDay();return t=r>=4||r===0?yd(t):yd.ceil(t),qt(t.getFullYear()%1e4,e,4)}function FPe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+qt(e/60|0,"0",2)+qt(e%60,"0",2)}function $3(t,e){return qt(t.getUTCDate(),e,2)}function DPe(t,e){return qt(t.getUTCHours(),e,2)}function OPe(t,e){return qt(t.getUTCHours()%12||12,e,2)}function RPe(t,e){return qt(1+ww.count(co(t),t),e,3)}function bY(t,e){return qt(t.getUTCMilliseconds(),e,3)}function UPe(t,e){return bY(t,e)+"000"}function MPe(t,e){return qt(t.getUTCMonth()+1,e,2)}function QPe(t,e){return qt(t.getUTCMinutes(),e,2)}function LPe(t,e){return qt(t.getUTCSeconds(),e,2)}function HPe(t){var e=t.getUTCDay();return e===0?7:e}function $Pe(t,e){return qt(Bw.count(co(t)-1,t),e,2)}function wY(t){var e=t.getUTCDay();return e>=4||e===0?bd(t):bd.ceil(t)}function VPe(t,e){return t=wY(t),qt(bd.count(co(t),t)+(co(t).getUTCDay()===4),e,2)}function KPe(t){return t.getUTCDay()}function qPe(t,e){return qt(wy.count(co(t)-1,t),e,2)}function GPe(t,e){return qt(t.getUTCFullYear()%100,e,2)}function zPe(t,e){return t=wY(t),qt(t.getUTCFullYear()%100,e,2)}function WPe(t,e){return qt(t.getUTCFullYear()%1e4,e,4)}function XPe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?bd(t):bd.ceil(t),qt(t.getUTCFullYear()%1e4,e,4)}function YPe(){return"+0000"}function V3(){return"%"}function K3(t){return+t}function q3(t){return Math.floor(+t/1e3)}var eA,_Y,BY;JPe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function JPe(t){return eA=JIe(t),_Y=eA.format,eA.parse,BY=eA.utcFormat,eA.utcParse,eA}function ZPe(t){return new Date(t)}function e4e(t){return t instanceof Date?+t:+new Date(+t)}function aP(t,e,r,n,a,s,o,l,c,u){var A=VI(),d=A.invert,h=A.domain,f=u(".%L"),m=u(":%S"),g=u("%I:%M"),p=u("%I %p"),b=u("%a %d"),x=u("%b %d"),w=u("%B"),y=u("%Y");function C(E){return(c(E)<E?f:l(E)<E?m:o(E)<E?g:s(E)<E?p:n(E)<E?a(E)<E?b:x:r(E)<E?w:y)(E)}return A.invert=function(E){return new Date(d(E))},A.domain=function(E){return arguments.length?h(Array.from(E,e4e)):h().map(ZPe)},A.ticks=function(E){var B=h();return t(B[0],B[B.length-1],E??10)},A.tickFormat=function(E,B){return B==null?C:u(B)},A.nice=function(E){var B=h();return(!E||typeof E.range!="function")&&(E=e(B[0],B[B.length-1],E??10)),E?h(uY(B,E)):A},A.copy=function(){return og(A,aP(t,e,r,n,a,s,o,l,c,u))},A}function t4e(){return As.apply(aP(XIe,YIe,lo,rP,_w,lg,eP,JI,Sc,_Y).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function r4e(){return As.apply(aP(zIe,WIe,co,nP,Bw,ww,tP,ZI,Sc,BY).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Cw(){var t=0,e=1,r,n,a,s,o=ta,l=!1,c;function u(d){return d==null||isNaN(d=+d)?c:o(a===0?.5:(d=(s(d)-r)*a,l?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,r=s(t=+t),n=s(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(d){return arguments.length?(l=!!d,u):l},u.interpolator=function(d){return arguments.length?(o=d,u):o};function A(d){return function(h){var f,m;return arguments.length?([f,m]=h,o=d(f,m),u):[o(0),o(1)]}}return u.range=A(sh),u.rangeRound=A($I),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return s=d,r=d(t),n=d(e),a=r===n?0:1/(n-r),u}}function Vl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function CY(){var t=$l(Cw()(ta));return t.copy=function(){return Vl(t,CY())},po.apply(t,arguments)}function jY(){var t=GI(Cw()).domain([1,10]);return t.copy=function(){return Vl(t,jY()).base(t.base())},po.apply(t,arguments)}function EY(){var t=zI(Cw());return t.copy=function(){return Vl(t,EY()).constant(t.constant())},po.apply(t,arguments)}function sP(){var t=WI(Cw());return t.copy=function(){return Vl(t,sP()).exponent(t.exponent())},po.apply(t,arguments)}function n4e(){return sP.apply(null,arguments).exponent(.5)}function SY(){var t=[],e=ta;function r(n){if(n!=null&&!isNaN(n=+n))return e((sg(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(fl),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>$ke(t,s/n))},r.copy=function(){return SY(e).domain(t)},po.apply(r,arguments)}function jw(){var t=0,e=.5,r=1,n=1,a,s,o,l,c,u=ta,A,d=!1,h;function f(g){return isNaN(g=+g)?h:(g=.5+((g=+A(g))-s)*(n*g<n*s?l:c),u(d?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([t,e,r]=g,a=A(t=+t),s=A(e=+e),o=A(r=+r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,f):[t,e,r]},f.clamp=function(g){return arguments.length?(d=!!g,f):d},f.interpolator=function(g){return arguments.length?(u=g,f):u};function m(g){return function(p){var b,x,w;return arguments.length?([b,x,w]=p,u=mIe(g,[b,x,w]),f):[u(0),u(.5),u(1)]}}return f.range=m(sh),f.rangeRound=m($I),f.unknown=function(g){return arguments.length?(h=g,f):h},function(g){return A=g,a=g(t),s=g(e),o=g(r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,f}}function NY(){var t=$l(jw()(ta));return t.copy=function(){return Vl(t,NY())},po.apply(t,arguments)}function TY(){var t=GI(jw()).domain([.1,1,10]);return t.copy=function(){return Vl(t,TY()).base(t.base())},po.apply(t,arguments)}function kY(){var t=zI(jw());return t.copy=function(){return Vl(t,kY()).constant(t.constant())},po.apply(t,arguments)}function iP(){var t=WI(jw());return t.copy=function(){return Vl(t,iP()).exponent(t.exponent())},po.apply(t,arguments)}function a4e(){return iP.apply(null,arguments).exponent(.5)}const G3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:qm,scaleDiverging:NY,scaleDivergingLog:TY,scaleDivergingPow:iP,scaleDivergingSqrt:a4e,scaleDivergingSymlog:kY,scaleIdentity:cY,scaleImplicit:oN,scaleLinear:vy,scaleLog:AY,scaleOrdinal:QI,scalePoint:Lf,scalePow:XI,scaleQuantile:fY,scaleQuantize:mY,scaleRadial:hY,scaleSequential:CY,scaleSequentialLog:jY,scaleSequentialPow:sP,scaleSequentialQuantile:SY,scaleSequentialSqrt:n4e,scaleSequentialSymlog:EY,scaleSqrt:UIe,scaleSymlog:dY,scaleThreshold:pY,scaleTime:t4e,scaleUtc:r4e,tickFormat:lY},Symbol.toStringTag,{value:"Module"}));var zj,z3;function IY(){if(z3)return zj;z3=1;var t=th();function e(r,n,a){for(var s=-1,o=r.length;++s<o;){var l=r[s],c=n(l);if(c!=null&&(u===void 0?c===c&&!t(c):a(c,u)))var u=c,A=l}return A}return zj=e,zj}var Wj,W3;function s4e(){if(W3)return Wj;W3=1;function t(e,r){return e>r}return Wj=t,Wj}var Xj,X3;function i4e(){if(X3)return Xj;X3=1;var t=IY(),e=s4e(),r=nh();function n(a){return a&&a.length?t(a,r,e):void 0}return Xj=n,Xj}var o4e=i4e();const Ew=Ht(o4e);var Yj,Y3;function l4e(){if(Y3)return Yj;Y3=1;function t(e,r){return e<r}return Yj=t,Yj}var Jj,J3;function c4e(){if(J3)return Jj;J3=1;var t=IY(),e=l4e(),r=nh();function n(a){return a&&a.length?t(a,r,e):void 0}return Jj=n,Jj}var u4e=c4e();const Sw=Ht(u4e);var Zj,Z3;function A4e(){if(Z3)return Zj;Z3=1;var t=wI(),e=Hl(),r=QX(),n=wa();function a(s,o){var l=n(s)?t:r;return l(s,e(o,3))}return Zj=a,Zj}var eE,e6;function d4e(){if(e6)return eE;e6=1;var t=UX(),e=A4e();function r(n,a){return t(e(n,a),1)}return eE=r,eE}var h4e=d4e();const f4e=Ht(h4e);var tE,t6;function m4e(){if(t6)return tE;t6=1;var t=DI();function e(r,n){return t(r,n)}return tE=e,tE}var p4e=m4e();const Nw=Ht(p4e);var ih=1e9,g4e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lP,Br=!0,cs="[DecimalError] ",Vc=cs+"Invalid argument: ",oP=cs+"Exponent out of range: ",oh=Math.floor,hc=Math.pow,x4e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ra,sn=1e7,br=7,PY=9007199254740991,_y=oh(PY/br),Ge={};Ge.absoluteValue=Ge.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ge.comparedTo=Ge.cmp=function(t){var e,r,n,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Ge.decimalPlaces=Ge.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*br;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ge.dividedBy=Ge.div=function(t){return Xi(this,new this.constructor(t))};Ge.dividedToIntegerBy=Ge.idiv=function(t){var e=this,r=e.constructor;return Ar(Xi(e,new r(t),0,1),r.precision)};Ge.equals=Ge.eq=function(t){return!this.cmp(t)};Ge.exponent=function(){return $r(this)};Ge.greaterThan=Ge.gt=function(t){return this.cmp(t)>0};Ge.greaterThanOrEqualTo=Ge.gte=function(t){return this.cmp(t)>=0};Ge.isInteger=Ge.isint=function(){return this.e>this.d.length-2};Ge.isNegative=Ge.isneg=function(){return this.s<0};Ge.isPositive=Ge.ispos=function(){return this.s>0};Ge.isZero=function(){return this.s===0};Ge.lessThan=Ge.lt=function(t){return this.cmp(t)<0};Ge.lessThanOrEqualTo=Ge.lte=function(t){return this.cmp(t)<1};Ge.logarithm=Ge.log=function(t){var e,r=this,n=r.constructor,a=n.precision,s=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Ra))throw Error(cs+"NaN");if(r.s<1)throw Error(cs+(r.s?"NaN":"-Infinity"));return r.eq(Ra)?new n(0):(Br=!1,e=Xi(Ym(r,s),Ym(t,s),s),Br=!0,Ar(e,a))};Ge.minus=Ge.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?OY(e,t):FY(e,(t.s=-t.s,t))};Ge.modulo=Ge.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(cs+"NaN");return r.s?(Br=!1,e=Xi(r,t,0,1).times(t),Br=!0,r.minus(e)):Ar(new n(r),a)};Ge.naturalExponential=Ge.exp=function(){return DY(this)};Ge.naturalLogarithm=Ge.ln=function(){return Ym(this)};Ge.negated=Ge.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ge.plus=Ge.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?FY(e,t):OY(e,(t.s=-t.s,t))};Ge.precision=Ge.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Vc+t);if(e=$r(a)+1,n=a.d.length-1,r=n*br+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ge.squareRoot=Ge.sqrt=function(){var t,e,r,n,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(cs+"NaN")}for(t=$r(l),Br=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=ii(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=oh((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(s=n,n=s.plus(Xi(l,s,o+2)).times(.5),ii(s.d).slice(0,o)===(e=ii(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(Ar(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;o+=4}return Br=!0,Ar(n,r)};Ge.times=Ge.mul=function(t){var e,r,n,a,s,o,l,c,u,A=this,d=A.constructor,h=A.d,f=(t=new d(t)).d;if(!A.s||!t.s)return new d(0);for(t.s*=A.s,r=A.e+t.e,c=h.length,u=f.length,c<u&&(s=h,h=f,f=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=s[a]+f[n]*h[a-n-1]+e,s[a--]=l%sn|0,e=l/sn|0;s[a]=(s[a]+e)%sn|0}for(;!s[--o];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Br?Ar(t,d.precision):t};Ge.toDecimalPlaces=Ge.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(yi(t,0,ih),e===void 0?e=n.rounding:yi(e,0,8),Ar(r,t+$r(r)+1,e))};Ge.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=cu(n,!0):(yi(t,0,ih),e===void 0?e=a.rounding:yi(e,0,8),n=Ar(new a(n),t+1,e),r=cu(n,!0,t+1)),r};Ge.toFixed=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?cu(a):(yi(t,0,ih),e===void 0?e=s.rounding:yi(e,0,8),n=Ar(new s(a),t+$r(a)+1,e),r=cu(n.abs(),!1,t+$r(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ge.toInteger=Ge.toint=function(){var t=this,e=t.constructor;return Ar(new e(t),$r(t)+1,e.rounding)};Ge.toNumber=function(){return+this};Ge.toPower=Ge.pow=function(t){var e,r,n,a,s,o,l=this,c=l.constructor,u=12,A=+(t=new c(t));if(!t.s)return new c(Ra);if(l=new c(l),!l.s){if(t.s<1)throw Error(cs+"Infinity");return l}if(l.eq(Ra))return l;if(n=c.precision,t.eq(Ra))return Ar(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,s=l.s,o){if((r=A<0?-A:A)<=PY){for(a=new c(Ra),e=Math.ceil(n/br+4),Br=!1;r%2&&(a=a.times(l),n6(a.d,e)),r=oh(r/2),r!==0;)l=l.times(l),n6(l.d,e);return Br=!0,t.s<0?new c(Ra).div(a):Ar(a,n)}}else if(s<0)throw Error(cs+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Br=!1,a=t.times(Ym(l,n+u)),Br=!0,a=DY(a),a.s=s,a};Ge.toPrecision=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?(r=$r(a),n=cu(a,r<=s.toExpNeg||r>=s.toExpPos)):(yi(t,1,ih),e===void 0?e=s.rounding:yi(e,0,8),a=Ar(new s(a),t,e),r=$r(a),n=cu(a,t<=r||r<=s.toExpNeg,t)),n};Ge.toSignificantDigits=Ge.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(yi(t,1,ih),e===void 0?e=n.rounding:yi(e,0,8)),Ar(new n(r),t,e)};Ge.toString=Ge.valueOf=Ge.val=Ge.toJSON=Ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=$r(t),r=t.constructor;return cu(t,e<=r.toExpNeg||e>=r.toExpPos)};function FY(t,e){var r,n,a,s,o,l,c,u,A=t.constructor,d=A.precision;if(!t.s||!e.s)return e.s||(e=new A(t)),Br?Ar(e,d):e;if(c=t.d,u=e.d,o=t.e,a=e.e,c=c.slice(),s=o-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(d/br),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/sn|0,c[s]%=sn;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,Br?Ar(e,d):e}function yi(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Vc+t)}function ii(t){var e,r,n,a=t.length-1,s="",o=t[0];if(a>0){for(s+=o,e=1;e<a;e++)n=t[e]+"",r=br-n.length,r&&(s+=Ro(r)),s+=n;o=t[e],n=o+"",r=br-n.length,r&&(s+=Ro(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Xi=function(){function t(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%sn|0,o=s/sn|0;return o&&n.unshift(o),n}function e(n,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*sn+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,c,u,A,d,h,f,m,g,p,b,x,w,y,C,E,B,j,N=n.constructor,S=n.s==a.s?1:-1,T=n.d,I=a.d;if(!n.s)return new N(n);if(!a.s)throw Error(cs+"Division by zero");for(c=n.e-a.e,B=I.length,C=T.length,f=new N(S),m=f.d=[],u=0;I[u]==(T[u]||0);)++u;if(I[u]>(T[u]||0)&&--c,s==null?x=s=N.precision:o?x=s+($r(n)-$r(a))+1:x=s,x<0)return new N(0);if(x=x/br+2|0,u=0,B==1)for(A=0,I=I[0],x++;(u<C||A)&&x--;u++)w=A*sn+(T[u]||0),m[u]=w/I|0,A=w%I|0;else{for(A=sn/(I[0]+1)|0,A>1&&(I=t(I,A),T=t(T,A),B=I.length,C=T.length),y=B,g=T.slice(0,B),p=g.length;p<B;)g[p++]=0;j=I.slice(),j.unshift(0),E=I[0],I[1]>=sn/2&&++E;do A=0,l=e(I,g,B,p),l<0?(b=g[0],B!=p&&(b=b*sn+(g[1]||0)),A=b/E|0,A>1?(A>=sn&&(A=sn-1),d=t(I,A),h=d.length,p=g.length,l=e(d,g,h,p),l==1&&(A--,r(d,B<h?j:I,h))):(A==0&&(l=A=1),d=I.slice()),h=d.length,h<p&&d.unshift(0),r(g,d,p),l==-1&&(p=g.length,l=e(I,g,B,p),l<1&&(A++,r(g,B<p?j:I,p))),p=g.length):l===0&&(A++,g=[0]),m[u++]=A,l&&g[0]?g[p++]=T[y]||0:(g=[T[y]],p=1);while((y++<C||g[0]!==void 0)&&x--)}return m[0]||m.shift(),f.e=c,Ar(f,o?s+$r(f)+1:s)}}();function DY(t,e){var r,n,a,s,o,l,c=0,u=0,A=t.constructor,d=A.precision;if($r(t)>16)throw Error(oP+$r(t));if(!t.s)return new A(Ra);for(Br=!1,l=d,o=new A(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(hc(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new A(Ra),A.precision=l;;){if(a=Ar(a.times(t),l),r=r.times(++c),o=s.plus(Xi(a,r,l)),ii(o.d).slice(0,l)===ii(s.d).slice(0,l)){for(;u--;)s=Ar(s.times(s),l);return A.precision=d,e==null?(Br=!0,Ar(s,d)):s}s=o}}function $r(t){for(var e=t.e*br,r=t.d[0];r>=10;r/=10)e++;return e}function rE(t,e,r){if(e>t.LN10.sd())throw Br=!0,r&&(t.precision=r),Error(cs+"LN10 precision limit exceeded");return Ar(new t(t.LN10),e)}function Ro(t){for(var e="";t--;)e+="0";return e}function Ym(t,e){var r,n,a,s,o,l,c,u,A,d=1,h=10,f=t,m=f.d,g=f.constructor,p=g.precision;if(f.s<1)throw Error(cs+(f.s?"NaN":"-Infinity"));if(f.eq(Ra))return new g(0);if(e==null?(Br=!1,u=p):u=e,f.eq(10))return e==null&&(Br=!0),rE(g,u);if(u+=h,g.precision=u,r=ii(m),n=r.charAt(0),s=$r(f),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(t),r=ii(f.d),n=r.charAt(0),d++;s=$r(f),n>1?(f=new g("0."+r),s++):f=new g(n+"."+r.slice(1))}else return c=rE(g,u+2,p).times(s+""),f=Ym(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=p,e==null?(Br=!0,Ar(f,p)):f;for(l=o=f=Xi(f.minus(Ra),f.plus(Ra),u),A=Ar(f.times(f),u),a=3;;){if(o=Ar(o.times(A),u),c=l.plus(Xi(o,new g(a),u)),ii(c.d).slice(0,u)===ii(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(rE(g,u+2,p).times(s+""))),l=Xi(l,new g(d),u),g.precision=p,e==null?(Br=!0,Ar(l,p)):l;l=c,a+=2}}function r6(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=oh(r/br),t.d=[],n=(r+1)%br,r<0&&(n+=br),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=br;n<a;)t.d.push(+e.slice(n,n+=br));e=e.slice(n),n=br-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Br&&(t.e>_y||t.e<-_y))throw Error(oP+r)}else t.s=0,t.e=0,t.d=[0];return t}function Ar(t,e,r){var n,a,s,o,l,c,u,A,d=t.d;for(o=1,s=d[0];s>=10;s/=10)o++;if(n=e-o,n<0)n+=br,a=e,u=d[A=0];else{if(A=Math.ceil((n+1)/br),s=d.length,A>=s)return t;for(u=s=d[A],o=1;s>=10;s/=10)o++;n%=br,a=n-br+o}if(r!==void 0&&(s=hc(10,o-a-1),l=u/s%10|0,c=e<0||d[A+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/hc(10,o-a):0:d[A-1])%10&1||r==(t.s<0?8:7))),e<1||!d[0])return c?(s=$r(t),d.length=1,e=e-s-1,d[0]=hc(10,(br-e%br)%br),t.e=oh(-e/br)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(n==0?(d.length=A,s=1,A--):(d.length=A+1,s=hc(10,br-n),d[A]=a>0?(u/hc(10,o-a)%hc(10,a)|0)*s:0),c)for(;;)if(A==0){(d[0]+=s)==sn&&(d[0]=1,++t.e);break}else{if(d[A]+=s,d[A]!=sn)break;d[A--]=0,s=1}for(n=d.length;d[--n]===0;)d.pop();if(Br&&(t.e>_y||t.e<-_y))throw Error(oP+$r(t));return t}function OY(t,e){var r,n,a,s,o,l,c,u,A,d,h=t.constructor,f=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Br?Ar(e,f):e;if(c=t.d,d=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(A=o<0,A?(r=c,o=-o,l=d.length):(r=d,n=u,l=c.length),a=Math.max(Math.ceil(f/br),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=d.length,A=a<l,A&&(l=a),a=0;a<l;a++)if(c[a]!=d[a]){A=c[a]<d[a];break}o=0}for(A&&(r=c,c=d,d=r,e.s=-e.s),l=c.length,a=d.length-l;a>0;--a)c[l++]=0;for(a=d.length;a>o;){if(c[--a]<d[a]){for(s=a;s&&c[--s]===0;)c[s]=sn-1;--c[s],c[a]+=sn}c[a]-=d[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Br?Ar(e,f):e):new h(0)}function cu(t,e,r){var n,a=$r(t),s=ii(t.d),o=s.length;return e?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Ro(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Ro(-a-1)+s,r&&(n=r-o)>0&&(s+=Ro(n))):a>=o?(s+=Ro(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+Ro(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=Ro(n))),t.s<0?"-"+s:s}function n6(t,e){if(t.length>e)return t.length=e,!0}function RY(t){var e,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Vc+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return r6(o,s.toString())}else if(typeof s!="string")throw Error(Vc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,x4e.test(s))r6(o,s);else throw Error(Vc+s)}if(a.prototype=Ge,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=RY,a.config=a.set=v4e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function v4e(t){if(!t||typeof t!="object")throw Error(cs+"Object expected");var e,r,n,a=["precision",1,ih,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(oh(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Vc+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Vc+r+": "+n);return this}var lP=RY(g4e);Ra=new lP(1);const ar=lP;function y4e(t){return B4e(t)||_4e(t)||w4e(t)||b4e()}function b4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w4e(t,e){if(t){if(typeof t=="string")return AN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AN(t,e)}}function _4e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function B4e(t){if(Array.isArray(t))return AN(t)}function AN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var C4e=function(e){return e},UY={},MY=function(e){return e===UY},a6=function(e){return function r(){return arguments.length===0||arguments.length===1&&MY(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},j4e=function t(e,r){return e===1?r:a6(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(function(l){return l!==UY}).length;return o>=e?r.apply(void 0,a):t(e-o,a6(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var A=a.map(function(d){return MY(d)?c.shift():d});return r.apply(void 0,y4e(A).concat(c))}))})},Tw=function(e){return j4e(e.length,e)},dN=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},E4e=Tw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),S4e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return C4e;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},hN=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},QY=function(e){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=e.apply(void 0,s)),n}};function N4e(t){var e;return t===0?e=1:e=Math.floor(new ar(t).abs().log(10).toNumber())+1,e}function T4e(t,e,r){for(var n=new ar(t),a=0,s=[];n.lt(e)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var k4e=Tw(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),I4e=Tw(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),P4e=Tw(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const kw={rangeStep:T4e,getDigitCount:N4e,interpolateNumber:k4e,uninterpolateNumber:I4e,uninterpolateTruncation:P4e};function fN(t){return O4e(t)||D4e(t)||LY(t)||F4e()}function F4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D4e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function O4e(t){if(Array.isArray(t))return mN(t)}function Jm(t,e){return M4e(t)||U4e(t,e)||LY(t,e)||R4e()}function R4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LY(t,e){if(t){if(typeof t=="string")return mN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mN(t,e)}}function mN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function U4e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,s=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw s}}return r}}function M4e(t){if(Array.isArray(t))return t}function HY(t){var e=Jm(t,2),r=e[0],n=e[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function $Y(t,e,r){if(t.lte(0))return new ar(0);var n=kw.getDigitCount(t.toNumber()),a=new ar(10).pow(n),s=t.div(a),o=n!==1?.05:.1,l=new ar(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return e?c:new ar(Math.ceil(c))}function Q4e(t,e,r){var n=1,a=new ar(t);if(!a.isint()&&r){var s=Math.abs(t);s<1?(n=new ar(10).pow(kw.getDigitCount(t)-1),a=new ar(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new ar(Math.floor(t)))}else t===0?a=new ar(Math.floor((e-1)/2)):r||(a=new ar(Math.floor(t)));var o=Math.floor((e-1)/2),l=S4e(E4e(function(c){return a.add(new ar(c-o).mul(n)).toNumber()}),dN);return l(0,e)}function VY(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new ar(0),tickMin:new ar(0),tickMax:new ar(0)};var s=$Y(new ar(e).sub(t).div(r-1),n,a),o;t<=0&&e>=0?o=new ar(0):(o=new ar(t).add(e).div(2),o=o.sub(new ar(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new ar(e).sub(o).div(s).toNumber()),u=l+c+1;return u>r?VY(t,e,r,n,a+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:s,tickMin:o.sub(new ar(l).mul(s)),tickMax:o.add(new ar(c).mul(s))})}function L4e(t){var e=Jm(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=HY([r,n]),c=Jm(l,2),u=c[0],A=c[1];if(u===-1/0||A===1/0){var d=A===1/0?[u].concat(fN(dN(0,a-1).map(function(){return 1/0}))):[].concat(fN(dN(0,a-1).map(function(){return-1/0})),[A]);return r>n?hN(d):d}if(u===A)return Q4e(u,a,s);var h=VY(u,A,o,s),f=h.step,m=h.tickMin,g=h.tickMax,p=kw.rangeStep(m,g.add(new ar(.1).mul(f)),f);return r>n?hN(p):p}function H4e(t,e){var r=Jm(t,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=HY([n,a]),l=Jm(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var A=Math.max(e,2),d=$Y(new ar(u).sub(c).div(A-1),s,0),h=[].concat(fN(kw.rangeStep(new ar(c),new ar(u).sub(new ar(.99).mul(d)),d)),[u]);return n>a?hN(h):h}var $4e=QY(L4e),V4e=QY(H4e),K4e="Invariant failed";function uu(t,e){throw new Error(K4e)}var q4e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function By(){return By=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},By.apply(this,arguments)}function G4e(t,e){return Y4e(t)||X4e(t,e)||W4e(t,e)||z4e()}function z4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W4e(t,e){if(t){if(typeof t=="string")return s6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s6(t,e)}}function s6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function X4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Y4e(t){if(Array.isArray(t))return t}function J4e(t,e){if(t==null)return{};var r=Z4e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Z4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GY(n.key),n)}}function rFe(t,e,r){return e&&tFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nFe(t,e,r){return e=Cy(e),aFe(t,KY()?Reflect.construct(e,r||[],Cy(t).constructor):e.apply(t,r))}function aFe(t,e){if(e&&(wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sFe(t)}function sFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KY=function(){return!!t})()}function Cy(t){return Cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cy(t)}function iFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pN(t,e)}function pN(t,e){return pN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pN(t,e)}function qY(t,e,r){return e=GY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GY(t){var e=oFe(t,"string");return wd(e)=="symbol"?e:e+""}function oFe(t,e){if(wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cg=function(t){function e(){return eFe(this,e),nFe(this,e,arguments)}return iFe(e,t),rFe(e,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,A=n.xAxis,d=n.yAxis,h=J4e(n,q4e),f=Ot(h,!1);this.props.direction==="x"&&A.type!=="number"&&uu();var m=c.map(function(g){var p=u(g,l),b=p.x,x=p.y,w=p.value,y=p.errorVal;if(!y)return null;var C=[],E,B;if(Array.isArray(y)){var j=G4e(y,2);E=j[0],B=j[1]}else E=B=y;if(s==="vertical"){var N=A.scale,S=x+a,T=S+o,I=S-o,k=N(w-E),R=N(w+B);C.push({x1:R,y1:T,x2:R,y2:I}),C.push({x1:k,y1:S,x2:R,y2:S}),C.push({x1:k,y1:T,x2:k,y2:I})}else if(s==="horizontal"){var M=d.scale,$=b+a,U=$-o,O=$+o,L=M(w-E),H=M(w+B);C.push({x1:U,y1:H,x2:O,y2:H}),C.push({x1:$,y1:L,x2:$,y2:H}),C.push({x1:U,y1:L,x2:O,y2:L})}return K.createElement(Or,By({className:"recharts-errorBar",key:"bar-".concat(C.map(function(D){return"".concat(D.x1,"-").concat(D.x2,"-").concat(D.y1,"-").concat(D.y2)}))},f),C.map(function(D){return K.createElement("line",By({},D,{key:"line-".concat(D.x1,"-").concat(D.x2,"-").concat(D.y1,"-").concat(D.y2)}))}))});return K.createElement(Or,{className:"recharts-errorBars"},m)}}])}(K.Component);qY(cg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});qY(cg,"displayName","ErrorBar");function Zm(t){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(t)}function i6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ac(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i6(Object(r),!0).forEach(function(n){lFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lFe(t,e,r){return e=cFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cFe(t){var e=uFe(t,"string");return Zm(e)=="symbol"?e:e+""}function uFe(t,e){if(Zm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zY=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,s=e.legendContent,o=Ia(r,jA);if(!o)return null;var l=jA.defaultProps,c=l!==void 0?ac(ac({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(A,d){var h=d.item,f=d.props,m=f.sectors||f.data||[];return A.concat(m.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(A){var d=A.item,h=d.type.defaultProps,f=h!==void 0?ac(ac({},h),d.props):{},m=f.dataKey,g=f.name,p=f.legendType,b=f.hide;return{inactive:b,dataKey:m,type:c.iconType||p||"square",color:cP(d),value:g||m,payload:f}}),ac(ac(ac({},c),jA.getWithHeight(o,a)),{},{payload:u,item:o})};function ep(t){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(t)}function o6(t){return fFe(t)||hFe(t)||dFe(t)||AFe()}function AFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dFe(t,e){if(t){if(typeof t=="string")return gN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gN(t,e)}}function hFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fFe(t){if(Array.isArray(t))return gN(t)}function gN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Tr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l6(Object(r),!0).forEach(function(n){SA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SA(t,e,r){return e=mFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mFe(t){var e=pFe(t,"string");return ep(e)=="symbol"?e:e+""}function pFe(t,e){if(ep(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ha(t,e,r){return Tt(t)||Tt(e)?r:Xr(e)?ss(t,e,r):jt(e)?e(t):r}function Hf(t,e,r,n){var a=f4e(t,function(l){return Ha(l,e)});if(r==="number"){var s=a.filter(function(l){return Pe(l)||parseFloat(l)});return s.length?[Sw(s),Ew(s)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Tt(l)}):a;return o.map(function(l){return Xr(l)||l instanceof Date?l:""})}var gFe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var A=u>0?a[u-1].coordinate:a[l-1].coordinate,d=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,f=void 0;if(Ts(d-A)!==Ts(h-d)){var m=[];if(Ts(h-d)===Ts(c[1]-c[0])){f=h;var g=d+c[1]-c[0];m[0]=Math.min(g,(g+A)/2),m[1]=Math.max(g,(g+A)/2)}else{f=A;var p=h+c[1]-c[0];m[0]=Math.min(d,(p+d)/2),m[1]=Math.max(d,(p+d)/2)}var b=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(e>b[0]&&e<=b[1]||e>=m[0]&&e<=m[1]){o=a[u].index;break}}else{var x=Math.min(A,h),w=Math.max(A,h);if(e>(x+d)/2&&e<=(w+d)/2){o=a[u].index;break}}}else for(var y=0;y<l;y++)if(y===0&&e<=(n[y].coordinate+n[y+1].coordinate)/2||y>0&&y<l-1&&e>(n[y].coordinate+n[y-1].coordinate)/2&&e<=(n[y].coordinate+n[y+1].coordinate)/2||y===l-1&&e>(n[y].coordinate+n[y-1].coordinate)/2){o=n[y].index;break}return o},cP=function(e){var r,n=e,a=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Tr(Tr({},e.type.defaultProps),e.props):e.props,o=s.stroke,l=s.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},xFe=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var A=s[l[c]].stackGroups,d=Object.keys(A),h=0,f=d.length;h<f;h++){var m=A[d[h]],g=m.items,p=m.cateAxisId,b=g.filter(function(B){return zi(B.type).indexOf("Bar")>=0});if(b&&b.length){var x=b[0].type.defaultProps,w=x!==void 0?Tr(Tr({},x),b[0].props):b[0].props,y=w.barSize,C=w[p];o[C]||(o[C]=[]);var E=Tt(y)?r:y;o[C].push({item:b[0],stackList:b.slice(1),barSize:Tt(E)?void 0:lu(E,n,0)})}}return o},vFe=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=lu(r,a,0,!0),A,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,f=a/c,m=o.reduce(function(y,C){return y+C.barSize||0},0);m+=(c-1)*u,m>=a&&(m-=(c-1)*u,u=0),m>=a&&f>0&&(h=!0,f*=.9,m=c*f);var g=(a-m)/2>>0,p={offset:g-u,size:0};A=o.reduce(function(y,C){var E={item:C.item,position:{offset:p.offset+p.size+u,size:h?f:C.barSize}},B=[].concat(o6(y),[E]);return p=B[B.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(j){B.push({item:j,position:p})}),B},d)}else{var b=lu(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var x=(a-2*b-(c-1)*u)/c;x>1&&(x>>=0);var w=l===+l?Math.min(x,l):x;A=o.reduce(function(y,C,E){var B=[].concat(o6(y),[{item:C.item,position:{offset:b+(x+u)*E+(x-w)/2,size:w}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(j){B.push({item:j,position:B[B.length-1].position})}),B},d)}return A},yFe=function(e,r,n,a){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=zY({children:s,legendWidth:c});if(u){var A=a||{},d=A.width,h=A.height,f=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&f!=="center"&&Pe(e[f]))return Tr(Tr({},e),{},SA({},f,e[f]+(d||0)));if((g==="horizontal"||g==="vertical"&&f==="center")&&m!=="middle"&&Pe(e[m]))return Tr(Tr({},e),{},SA({},m,e[m]+(h||0)))}return e},bFe=function(e,r,n){return Tt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},WY=function(e,r,n,a,s){var o=r.props.children,l=is(o,cg).filter(function(u){return bFe(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,A){var d=Ha(A,n);if(Tt(d))return u;var h=Array.isArray(d)?[Sw(d),Ew(d)]:[d,d],f=c.reduce(function(m,g){var p=Ha(A,g,0),b=h[0]-Math.abs(Array.isArray(p)?p[0]:p),x=h[1]+Math.abs(Array.isArray(p)?p[1]:p);return[Math.min(b,m[0]),Math.max(x,m[1])]},[1/0,-1/0]);return[Math.min(f[0],u[0]),Math.max(f[1],u[1])]},[1/0,-1/0])}return null},wFe=function(e,r,n,a,s){var o=r.map(function(l){return WY(e,l,n,s,a)}).filter(function(l){return!Tt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},XY=function(e,r,n,a,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&WY(e,c,u,a)||Hf(e,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var A=0,d=u.length;A<d;A++)l[u[A]]||(l[u[A]]=!0,c.push(u[A]));return c},[])},YY=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},JY=function(e,r,n,a){if(a)return e.map(function(c){return c.coordinate});var s,o,l=e.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},Hi=function(e,r,n){if(!e)return null;var a=e.scale,s=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ts(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var A=(e.ticks||e.niceTicks).map(function(d){var h=s?s.indexOf(d):d;return{coordinate:a(h)+u,value:d,offset:u}});return A.filter(function(d){return!rg(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:a(d)+u,value:d,index:h,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(d){return{coordinate:a(d)+u,value:d,offset:u}}):a.domain().map(function(d,h){return{coordinate:a(d)+u,value:s?s[d]:d,index:h,offset:u}})},nE=new WeakMap,k0=function(e,r){if(typeof r!="function")return e;nE.has(e)||nE.set(e,new WeakMap);var n=nE.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},_Fe=function(e,r,n){var a=e.scale,s=e.type,o=e.layout,l=e.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:qm(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:vy(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Lf(),realScaleType:"point"}:s==="category"?{scale:qm(),realScaleType:"band"}:{scale:vy(),realScaleType:"linear"};if(tg(a)){var c="scale".concat(fw(a));return{scale:(G3[c]||Lf)(),realScaleType:G3[c]?c:"point"}}return jt(a)?{scale:a}:{scale:Lf(),realScaleType:"point"}},c6=1e-4,BFe=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),s=Math.min(a[0],a[1])-c6,o=Math.max(a[0],a[1])+c6,l=e(r[0]),c=e(r[n-1]);(l<s||l>o||c<s||c>o)&&e.domain([r[0],r[n-1]])}},CFe=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},jFe=function(e,r){if(!r||r.length!==2||!Pe(r[0])||!Pe(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!Pe(e[0])||e[0]<n)&&(s[0]=n),(!Pe(e[1])||e[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},EFe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,o=0,l=0;l<r;++l){var c=rg(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},SFe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,o=0;o<r;++o){var l=rg(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},NFe={sign:EFe,expand:A2e,none:fd,silhouette:d2e,wiggle:h2e,positive:SFe},TFe=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),s=NFe[n],o=u2e().keys(a).value(function(l,c){return+Ha(l,c,0)}).order(G2).offset(s);return o(e)},kFe=function(e,r,n,a,s,o){if(!e)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(d,h){var f,m=(f=h.type)!==null&&f!==void 0&&f.defaultProps?Tr(Tr({},h.type.defaultProps),h.props):h.props,g=m.stackId,p=m.hide;if(p)return d;var b=m[n],x=d[b]||{hasStack:!1,stackGroups:{}};if(Xr(g)){var w=x.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),x.hasStack=!0,x.stackGroups[g]=w}else x.stackGroups[ng("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Tr(Tr({},d),{},SA({},b,x))},c),A={};return Object.keys(u).reduce(function(d,h){var f=u[h];if(f.hasStack){var m={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(g,p){var b=f.stackGroups[p];return Tr(Tr({},g),{},SA({},p,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:TFe(e,b.items,s)}))},m)}return Tr(Tr({},d),{},SA({},h,f))},A)},IFe=function(e,r){var n=r.realScaleType,a=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var A=$4e(u,s,l);return e.domain([Sw(A),Ew(A)]),{niceTicks:A}}if(s&&a==="number"){var d=e.domain(),h=V4e(d,s,l);return{niceTicks:h}}return null};function u6(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Tt(a[e.dataKey])){var l=Zv(r,"value",a[e.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Ha(a,Tt(o)?e.dataKey:o);return Tt(c)?null:e.scale(c)}var A6=function(e){var r=e.axis,n=e.ticks,a=e.offset,s=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Ha(o,r.dataKey,r.domain[l]);return Tt(c)?null:r.scale(c)-s/2+a},PFe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},FFe=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Tr(Tr({},e.type.defaultProps),e.props):e.props,s=a.stackId;if(Xr(s)){var o=r[s];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},DFe=function(e){return e.reduce(function(r,n){return[Sw(n.concat([r[0]]).filter(Pe)),Ew(n.concat([r[1]]).filter(Pe))]},[1/0,-1/0])},ZY=function(e,r,n){return Object.keys(e).reduce(function(a,s){var o=e[s],l=o.stackedData,c=l.reduce(function(u,A){var d=DFe(A.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},d6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,h6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xN=function(e,r,n){if(jt(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(Pe(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(d6.test(e[0])){var s=+d6.exec(e[0])[1];a[0]=r[0]-s}else jt(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(Pe(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(h6.test(e[1])){var o=+h6.exec(e[1])[1];a[1]=r[1]+o}else jt(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},jy=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var s=RI(r,function(d){return d.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],A=s[l-1];o=Math.min((u.coordinate||0)-(A.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},f6=function(e,r,n){return!e||!e.length||Nw(e,ss(n,"type.defaultProps.domain"))?r:e},eJ=function(e,r){var n=e.type.defaultProps?Tr(Tr({},e.type.defaultProps),e.props):e.props,a=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,A=n.hide;return Tr(Tr({},Ot(e,!1)),{},{dataKey:a,unit:o,formatter:l,name:s||a,color:cP(e),value:Ha(r,a),type:c,payload:r,chartType:u,hide:A})};function tp(t){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(t)}function m6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function p6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m6(Object(r),!0).forEach(function(n){OFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OFe(t,e,r){return e=RFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RFe(t){var e=UFe(t,"string");return tp(e)=="symbol"?e:e+""}function UFe(t,e){if(tp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ey=Math.PI/180,MFe=function(e){return e*180/Math.PI},kn=function(e,r,n,a){return{x:e+Math.cos(-Ey*a)*n,y:r+Math.sin(-Ey*a)*n}},QFe=function(e,r){var n=e.x,a=e.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-o,2))},LFe=function(e,r){var n=e.x,a=e.y,s=r.cx,o=r.cy,l=QFe({x:n,y:a},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:MFe(u),angleInRadian:u}},HFe=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:r-o*360,endAngle:n-o*360}},$Fe=function(e,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(s,o);return e+l*360},g6=function(e,r){var n=e.x,a=e.y,s=LFe({x:n,y:a},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var A=HFe(r),d=A.startAngle,h=A.endAngle,f=l,m;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;m=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;m=f>=h&&f<=d}return m?p6(p6({},r),{},{radius:o,angle:$Fe(f,r)}):null};function rp(t){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rp(t)}var VFe=["offset"];function KFe(t){return WFe(t)||zFe(t)||GFe(t)||qFe()}function qFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GFe(t,e){if(t){if(typeof t=="string")return vN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vN(t,e)}}function zFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WFe(t){if(Array.isArray(t))return vN(t)}function vN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XFe(t,e){if(t==null)return{};var r=YFe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function YFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function x6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Kr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x6(Object(r),!0).forEach(function(n){JFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JFe(t,e,r){return e=ZFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZFe(t){var e=eDe(t,"string");return rp(e)=="symbol"?e:e+""}function eDe(t,e){if(rp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function np(){return np=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},np.apply(this,arguments)}var tDe=function(e){var r=e.value,n=e.formatter,a=Tt(e.children)?r:e.children;return jt(n)?n(a):a},rDe=function(e,r){var n=Ts(r-e),a=Math.min(Math.abs(r-e),360);return n*a},nDe=function(e,r,n){var a=e.position,s=e.viewBox,o=e.offset,l=e.className,c=s,u=c.cx,A=c.cy,d=c.innerRadius,h=c.outerRadius,f=c.startAngle,m=c.endAngle,g=c.clockWise,p=(d+h)/2,b=rDe(f,m),x=b>=0?1:-1,w,y;a==="insideStart"?(w=f+x*o,y=g):a==="insideEnd"?(w=m-x*o,y=!g):a==="end"&&(w=m+x*o,y=g),y=b<=0?y:!y;var C=kn(u,A,p,w),E=kn(u,A,p,w+(y?1:-1)*359),B="M".concat(C.x,",").concat(C.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(y?0:1,`,
    `).concat(E.x,",").concat(E.y),j=Tt(e.id)?ng("recharts-radial-line-"):e.id;return K.createElement("text",np({},n,{dominantBaseline:"central",className:Lt("recharts-radial-bar-label",l)}),K.createElement("defs",null,K.createElement("path",{id:j,d:B})),K.createElement("textPath",{xlinkHref:"#".concat(j)},r))},aDe=function(e){var r=e.viewBox,n=e.offset,a=e.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,A=s.startAngle,d=s.endAngle,h=(A+d)/2;if(a==="outside"){var f=kn(o,l,u+n,h),m=f.x,g=f.y;return{x:m,y:g,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var p=(c+u)/2,b=kn(o,l,p,h),x=b.x,w=b.y;return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},sDe=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,s=e.position,o=r,l=o.x,c=o.y,u=o.width,A=o.height,d=A>=0?1:-1,h=d*a,f=d>0?"end":"start",m=d>0?"start":"end",g=u>=0?1:-1,p=g*a,b=g>0?"end":"start",x=g>0?"start":"end";if(s==="top"){var w={x:l+u/2,y:c-d*a,textAnchor:"middle",verticalAnchor:f};return Kr(Kr({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var y={x:l+u/2,y:c+A+h,textAnchor:"middle",verticalAnchor:m};return Kr(Kr({},y),n?{height:Math.max(n.y+n.height-(c+A),0),width:u}:{})}if(s==="left"){var C={x:l-p,y:c+A/2,textAnchor:b,verticalAnchor:"middle"};return Kr(Kr({},C),n?{width:Math.max(C.x-n.x,0),height:A}:{})}if(s==="right"){var E={x:l+u+p,y:c+A/2,textAnchor:x,verticalAnchor:"middle"};return Kr(Kr({},E),n?{width:Math.max(n.x+n.width-E.x,0),height:A}:{})}var B=n?{width:u,height:A}:{};return s==="insideLeft"?Kr({x:l+p,y:c+A/2,textAnchor:x,verticalAnchor:"middle"},B):s==="insideRight"?Kr({x:l+u-p,y:c+A/2,textAnchor:b,verticalAnchor:"middle"},B):s==="insideTop"?Kr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:m},B):s==="insideBottom"?Kr({x:l+u/2,y:c+A-h,textAnchor:"middle",verticalAnchor:f},B):s==="insideTopLeft"?Kr({x:l+p,y:c+h,textAnchor:x,verticalAnchor:m},B):s==="insideTopRight"?Kr({x:l+u-p,y:c+h,textAnchor:b,verticalAnchor:m},B):s==="insideBottomLeft"?Kr({x:l+p,y:c+A-h,textAnchor:x,verticalAnchor:f},B):s==="insideBottomRight"?Kr({x:l+u-p,y:c+A-h,textAnchor:b,verticalAnchor:f},B):rh(s)&&(Pe(s.x)||jc(s.x))&&(Pe(s.y)||jc(s.y))?Kr({x:l+lu(s.x,u),y:c+lu(s.y,A),textAnchor:"end",verticalAnchor:"end"},B):Kr({x:l+u/2,y:c+A/2,textAnchor:"middle",verticalAnchor:"middle"},B)},iDe=function(e){return"cx"in e&&Pe(e.cx)};function $n(t){var e=t.offset,r=e===void 0?5:e,n=XFe(t,VFe),a=Kr({offset:r},n),s=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,A=a.className,d=A===void 0?"":A,h=a.textBreakAll;if(!s||Tt(l)&&Tt(c)&&!v.isValidElement(u)&&!jt(u))return null;if(v.isValidElement(u))return v.cloneElement(u,a);var f;if(jt(u)){if(f=v.createElement(u,a),v.isValidElement(f))return f}else f=tDe(a);var m=iDe(s),g=Ot(a,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return nDe(a,f,g);var p=m?aDe(a):sDe(a);return K.createElement(dy,np({className:Lt("recharts-label",d)},g,p,{breakAll:h}),f)}$n.displayName="Label";var tJ=function(e){var r=e.cx,n=e.cy,a=e.angle,s=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,A=e.outerRadius,d=e.x,h=e.y,f=e.top,m=e.left,g=e.width,p=e.height,b=e.clockWise,x=e.labelViewBox;if(x)return x;if(Pe(g)&&Pe(p)){if(Pe(d)&&Pe(h))return{x:d,y:h,width:g,height:p};if(Pe(f)&&Pe(m))return{x:f,y:m,width:g,height:p}}return Pe(d)&&Pe(h)?{x:d,y:h,width:0,height:0}:Pe(r)&&Pe(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:A||c||l||0,clockWise:b}:e.viewBox?e.viewBox:{}},oDe=function(e,r){return e?e===!0?K.createElement($n,{key:"label-implicit",viewBox:r}):Xr(e)?K.createElement($n,{key:"label-implicit",viewBox:r,value:e}):v.isValidElement(e)?e.type===$n?v.cloneElement(e,{key:"label-implicit",viewBox:r}):K.createElement($n,{key:"label-implicit",content:e,viewBox:r}):jt(e)?K.createElement($n,{key:"label-implicit",content:e,viewBox:r}):rh(e)?K.createElement($n,np({viewBox:r},e,{key:"label-implicit"})):null:null},lDe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=tJ(e),o=is(a,$n).map(function(c,u){return v.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=oDe(e.label,r||s);return[l].concat(KFe(o))};$n.parseViewBox=tJ;$n.renderCallByParent=lDe;var aE,v6;function cDe(){if(v6)return aE;v6=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return aE=t,aE}var uDe=cDe();const ADe=Ht(uDe);function ap(t){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ap(t)}var dDe=["valueAccessor"],hDe=["data","dataKey","clockWise","id","textBreakAll"];function fDe(t){return xDe(t)||gDe(t)||pDe(t)||mDe()}function mDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pDe(t,e){if(t){if(typeof t=="string")return yN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yN(t,e)}}function gDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xDe(t){if(Array.isArray(t))return yN(t)}function yN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Sy(){return Sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sy.apply(this,arguments)}function y6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function b6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y6(Object(r),!0).forEach(function(n){vDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vDe(t,e,r){return e=yDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yDe(t){var e=bDe(t,"string");return ap(e)=="symbol"?e:e+""}function bDe(t,e){if(ap(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function w6(t,e){if(t==null)return{};var r=wDe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var _De=function(e){return Array.isArray(e.value)?ADe(e.value):e.value};function ml(t){var e=t.valueAccessor,r=e===void 0?_De:e,n=w6(t,dDe),a=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=w6(n,hDe);return!a||!a.length?null:K.createElement(Or,{className:"recharts-label-list"},a.map(function(A,d){var h=Tt(s)?r(A,d):Ha(A&&A.payload,s),f=Tt(l)?{}:{id:"".concat(l,"-").concat(d)};return K.createElement($n,Sy({},Ot(A,!0),u,f,{parentViewBox:A.parentViewBox,value:h,textBreakAll:c,viewBox:$n.parseViewBox(Tt(o)?A:b6(b6({},A),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}ml.displayName="LabelList";function BDe(t,e){return t?t===!0?K.createElement(ml,{key:"labelList-implicit",data:e}):K.isValidElement(t)||jt(t)?K.createElement(ml,{key:"labelList-implicit",data:e,content:t}):rh(t)?K.createElement(ml,Sy({data:e},t,{key:"labelList-implicit"})):null:null}function CDe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=is(n,ml).map(function(o,l){return v.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var s=BDe(t.label,e);return[s].concat(fDe(a))}ml.renderCallByParent=CDe;function sp(t){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sp(t)}function bN(){return bN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bN.apply(this,arguments)}function _6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function B6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_6(Object(r),!0).forEach(function(n){jDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jDe(t,e,r){return e=EDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EDe(t){var e=SDe(t,"string");return sp(e)=="symbol"?e:e+""}function SDe(t,e){if(sp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NDe=function(e,r){var n=Ts(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},I0=function(e){var r=e.cx,n=e.cy,a=e.radius,s=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,A=c*(l?1:-1)+a,d=Math.asin(c/A)/Ey,h=u?s:s+o*d,f=kn(r,n,A,h),m=kn(r,n,a,h),g=u?s-o*d:s,p=kn(r,n,A*Math.cos(d*Ey),g);return{center:f,circleTangency:m,lineTangency:p,theta:d}},rJ=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,o=e.startAngle,l=e.endAngle,c=NDe(o,l),u=o+c,A=kn(r,n,s,o),d=kn(r,n,s,u),h="M ".concat(A.x,",").concat(A.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var f=kn(r,n,a,o),m=kn(r,n,a,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},TDe=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,A=e.endAngle,d=Ts(A-u),h=I0({cx:r,cy:n,radius:s,angle:u,sign:d,cornerRadius:o,cornerIsExternal:c}),f=h.circleTangency,m=h.lineTangency,g=h.theta,p=I0({cx:r,cy:n,radius:s,angle:A,sign:-d,cornerRadius:o,cornerIsExternal:c}),b=p.circleTangency,x=p.lineTangency,w=p.theta,y=c?Math.abs(u-A):Math.abs(u-A)-g-w;if(y<0)return l?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):rJ({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:A});var C="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(y>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var E=I0({cx:r,cy:n,radius:a,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),B=E.circleTangency,j=E.lineTangency,N=E.theta,S=I0({cx:r,cy:n,radius:a,angle:A,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),T=S.circleTangency,I=S.lineTangency,k=S.theta,R=c?Math.abs(u-A):Math.abs(u-A)-N-k;if(R<0&&o===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(R>180),",").concat(+(d>0),",").concat(B.x,",").concat(B.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},kDe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nJ=function(e){var r=B6(B6({},kDe),e),n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,A=r.startAngle,d=r.endAngle,h=r.className;if(o<s||A===d)return null;var f=Lt("recharts-sector",h),m=o-s,g=lu(l,m,0,!0),p;return g>0&&Math.abs(A-d)<360?p=TDe({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:A,endAngle:d}):p=rJ({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:A,endAngle:d}),K.createElement("path",bN({},Ot(r,!0),{className:f,d:p,role:"img"}))};function ip(t){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ip(t)}function wN(){return wN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wN.apply(this,arguments)}function C6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function j6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C6(Object(r),!0).forEach(function(n){IDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IDe(t,e,r){return e=PDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PDe(t){var e=FDe(t,"string");return ip(e)=="symbol"?e:e+""}function FDe(t,e){if(ip(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var E6={curveBasisClosed:ZSe,curveBasisOpen:e2e,curveBasis:JSe,curveBumpX:USe,curveBumpY:MSe,curveLinearClosed:t2e,curveLinear:pw,curveMonotoneX:r2e,curveMonotoneY:n2e,curveNatural:a2e,curveStep:s2e,curveStepAfter:o2e,curveStepBefore:i2e},P0=function(e){return e.x===+e.x&&e.y===+e.y},Yh=function(e){return e.x},Jh=function(e){return e.y},DDe=function(e,r){if(jt(e))return e;var n="curve".concat(fw(e));return(n==="curveMonotone"||n==="curveBump")&&r?E6["".concat(n).concat(r==="vertical"?"Y":"X")]:E6[n]||pw},ODe=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,s=a===void 0?[]:a,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,A=DDe(n,l),d=u?s.filter(function(g){return P0(g)}):s,h;if(Array.isArray(o)){var f=u?o.filter(function(g){return P0(g)}):o,m=d.map(function(g,p){return j6(j6({},g),{},{base:f[p]})});return l==="vertical"?h=B0().y(Jh).x1(Yh).x0(function(g){return g.base.x}):h=B0().x(Yh).y1(Jh).y0(function(g){return g.base.y}),h.defined(P0).curve(A),h(m)}return l==="vertical"&&Pe(o)?h=B0().y(Jh).x1(Yh).x0(o):Pe(o)?h=B0().x(Yh).y1(Jh).y0(o):h=oX().x(Yh).y(Jh),h.defined(P0).curve(A),h(d)},_N=function(e){var r=e.className,n=e.points,a=e.path,s=e.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?ODe(e):a;return K.createElement("path",wN({},Ot(e,!1),ey(e),{className:Lt("recharts-curve",r),d:o,ref:s}))},RDe=Object.getOwnPropertyNames,UDe=Object.getOwnPropertySymbols,MDe=Object.prototype.hasOwnProperty;function S6(t,e){return function(n,a,s){return t(n,a,s)&&e(n,a,s)}}function F0(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var s=a.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=t(r,n,a);return s.delete(r),s.delete(n),c}}function N6(t){return RDe(t).concat(UDe(t))}var aJ=Object.hasOwn||function(t,e){return MDe.call(t,e)};function lh(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var sJ="_owner",T6=Object.getOwnPropertyDescriptor,k6=Object.keys;function QDe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function LDe(t,e){return lh(t.getTime(),e.getTime())}function I6(t,e,r){if(t.size!==e.size)return!1;for(var n={},a=t.entries(),s=0,o,l;(o=a.next())&&!o.done;){for(var c=e.entries(),u=!1,A=0;(l=c.next())&&!l.done;){var d=o.value,h=d[0],f=d[1],m=l.value,g=m[0],p=m[1];!u&&!n[A]&&(u=r.equals(h,g,s,A,t,e,r)&&r.equals(f,p,h,g,t,e,r))&&(n[A]=!0),A++}if(!u)return!1;s++}return!0}function HDe(t,e,r){var n=k6(t),a=n.length;if(k6(e).length!==a)return!1;for(var s;a-- >0;)if(s=n[a],s===sJ&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!aJ(e,s)||!r.equals(t[s],e[s],s,s,t,e,r))return!1;return!0}function Zh(t,e,r){var n=N6(t),a=n.length;if(N6(e).length!==a)return!1;for(var s,o,l;a-- >0;)if(s=n[a],s===sJ&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!aJ(e,s)||!r.equals(t[s],e[s],s,s,t,e,r)||(o=T6(t,s),l=T6(e,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function $De(t,e){return lh(t.valueOf(),e.valueOf())}function VDe(t,e){return t.source===e.source&&t.flags===e.flags}function P6(t,e,r){if(t.size!==e.size)return!1;for(var n={},a=t.values(),s,o;(s=a.next())&&!s.done;){for(var l=e.values(),c=!1,u=0;(o=l.next())&&!o.done;)!c&&!n[u]&&(c=r.equals(s.value,o.value,s.value,o.value,t,e,r))&&(n[u]=!0),u++;if(!c)return!1}return!0}function KDe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}var qDe="[object Arguments]",GDe="[object Boolean]",zDe="[object Date]",WDe="[object Map]",XDe="[object Number]",YDe="[object Object]",JDe="[object RegExp]",ZDe="[object Set]",eOe="[object String]",tOe=Array.isArray,F6=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,D6=Object.assign,rOe=Object.prototype.toString.call.bind(Object.prototype.toString);function nOe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areMapsEqual,a=t.areObjectsEqual,s=t.arePrimitiveWrappersEqual,o=t.areRegExpsEqual,l=t.areSetsEqual,c=t.areTypedArraysEqual;return function(A,d,h){if(A===d)return!0;if(A==null||d==null||typeof A!="object"||typeof d!="object")return A!==A&&d!==d;var f=A.constructor;if(f!==d.constructor)return!1;if(f===Object)return a(A,d,h);if(tOe(A))return e(A,d,h);if(F6!=null&&F6(A))return c(A,d,h);if(f===Date)return r(A,d,h);if(f===RegExp)return o(A,d,h);if(f===Map)return n(A,d,h);if(f===Set)return l(A,d,h);var m=rOe(A);return m===zDe?r(A,d,h):m===JDe?o(A,d,h):m===WDe?n(A,d,h):m===ZDe?l(A,d,h):m===YDe?typeof A.then!="function"&&typeof d.then!="function"&&a(A,d,h):m===qDe?a(A,d,h):m===GDe||m===XDe||m===eOe?s(A,d,h):!1}}function aOe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?Zh:QDe,areDatesEqual:LDe,areMapsEqual:n?S6(I6,Zh):I6,areObjectsEqual:n?Zh:HDe,arePrimitiveWrappersEqual:$De,areRegExpsEqual:VDe,areSetsEqual:n?S6(P6,Zh):P6,areTypedArraysEqual:n?Zh:KDe};if(r&&(a=D6({},a,r(a))),e){var s=F0(a.areArraysEqual),o=F0(a.areMapsEqual),l=F0(a.areObjectsEqual),c=F0(a.areSetsEqual);a=D6({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function sOe(t){return function(e,r,n,a,s,o,l){return t(e,r,l)}}function iOe(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,s=t.strict;if(n)return function(c,u){var A=n(),d=A.cache,h=d===void 0?e?new WeakMap:void 0:d,f=A.meta;return r(c,u,{cache:h,equals:a,meta:f,strict:s})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var oOe=Kl();Kl({strict:!0});Kl({circular:!0});Kl({circular:!0,strict:!0});Kl({createInternalComparator:function(){return lh}});Kl({strict:!0,createInternalComparator:function(){return lh}});Kl({circular:!0,createInternalComparator:function(){return lh}});Kl({circular:!0,createInternalComparator:function(){return lh},strict:!0});function Kl(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,s=t.strict,o=s===void 0?!1:s,l=aOe(t),c=nOe(l),u=n?n(c):sOe(c);return iOe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function lOe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function O6(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>e?(t(s),r=-1):lOe(a)};requestAnimationFrame(n)}function BN(t){"@babel/helpers - typeof";return BN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BN(t)}function cOe(t){return hOe(t)||dOe(t)||AOe(t)||uOe()}function uOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AOe(t,e){if(t){if(typeof t=="string")return R6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R6(t,e)}}function R6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hOe(t){if(Array.isArray(t))return t}function fOe(){var t={},e=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=cOe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){O6(a.bind(null,u),c);return}a(c),O6(a.bind(null,u));return}BN(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function op(t){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(t)}function U6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function M6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U6(Object(r),!0).forEach(function(n){iJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iJ(t,e,r){return e=mOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mOe(t){var e=pOe(t,"string");return op(e)==="symbol"?e:String(e)}function pOe(t,e){if(op(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(op(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gOe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},xOe=function(e){return e},vOe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},$f=function(e,r){return Object.keys(r).reduce(function(n,a){return M6(M6({},n),{},iJ({},a,e(a,r[a])))},{})},Q6=function(e,r,n){return e.map(function(a){return"".concat(vOe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function yOe(t,e){return _Oe(t)||wOe(t,e)||oJ(t,e)||bOe()}function bOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wOe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function _Oe(t){if(Array.isArray(t))return t}function BOe(t){return EOe(t)||jOe(t)||oJ(t)||COe()}function COe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oJ(t,e){if(t){if(typeof t=="string")return CN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CN(t,e)}}function jOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function EOe(t){if(Array.isArray(t))return CN(t)}function CN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ny=1e-4,lJ=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},cJ=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},L6=function(e,r){return function(n){var a=lJ(e,r);return cJ(a,n)}},SOe=function(e,r){return function(n){var a=lJ(e,r),s=[].concat(BOe(a.map(function(o,l){return o*l}).slice(1)),[0]);return cJ(s,n)}},H6=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(p){return parseFloat(p)}),A=yOe(u,4);a=A[0],s=A[1],o=A[2],l=A[3]}}}var d=L6(a,o),h=L6(s,l),f=SOe(a,o),m=function(b){return b>1?1:b<0?0:b},g=function(b){for(var x=b>1?1:b,w=x,y=0;y<8;++y){var C=d(w)-x,E=f(w);if(Math.abs(C-x)<Ny||E<Ny)return h(w);w=m(w-C/E)}return h(w)};return g.isStepper=!1,g},NOe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,s=a===void 0?8:a,o=e.dt,l=o===void 0?17:o,c=function(A,d,h){var f=-(A-d)*n,m=h*s,g=h+(f-m)*l/1e3,p=h*l/1e3+A;return Math.abs(p-d)<Ny&&Math.abs(g)<Ny?[d,0]:[p,g]};return c.isStepper=!0,c.dt=l,c},TOe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return H6(a);case"spring":return NOe();default:if(a.split("(")[0]==="cubic-bezier")return H6(a)}return typeof a=="function"?a:null};function lp(t){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lp(t)}function $6(t){return POe(t)||IOe(t)||uJ(t)||kOe()}function kOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function POe(t){if(Array.isArray(t))return EN(t)}function V6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V6(Object(r),!0).forEach(function(n){jN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jN(t,e,r){return e=FOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FOe(t){var e=DOe(t,"string");return lp(e)==="symbol"?e:String(e)}function DOe(t,e){if(lp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OOe(t,e){return MOe(t)||UOe(t,e)||uJ(t,e)||ROe()}function ROe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uJ(t,e){if(t){if(typeof t=="string")return EN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EN(t,e)}}function EN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UOe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function MOe(t){if(Array.isArray(t))return t}var Ty=function(e,r,n){return e+(r-e)*n},SN=function(e){var r=e.from,n=e.to;return r!==n},QOe=function t(e,r,n){var a=$f(function(s,o){if(SN(o)){var l=e(o.from,o.to,o.velocity),c=OOe(l,2),u=c[0],A=c[1];return vn(vn({},o),{},{from:u,velocity:A})}return o},r);return n<1?$f(function(s,o){return SN(o)?vn(vn({},o),{},{velocity:Ty(o.velocity,a[s].velocity,n),from:Ty(o.from,a[s].from,n)}):o},r):t(e,a,n-1)};const LOe=function(t,e,r,n,a){var s=gOe(t,e),o=s.reduce(function(p,b){return vn(vn({},p),{},jN({},b,[t[b],e[b]]))},{}),l=s.reduce(function(p,b){return vn(vn({},p),{},jN({},b,{from:t[b],velocity:0,to:e[b]}))},{}),c=-1,u,A,d=function(){return null},h=function(){return $f(function(b,x){return x.from},l)},f=function(){return!Object.values(l).filter(SN).length},m=function(b){u||(u=b);var x=b-u,w=x/r.dt;l=QOe(r,l,w),a(vn(vn(vn({},t),e),h())),u=b,f()||(c=requestAnimationFrame(d))},g=function(b){A||(A=b);var x=(b-A)/n,w=$f(function(C,E){return Ty.apply(void 0,$6(E).concat([r(x)]))},o);if(a(vn(vn(vn({},t),e),w)),x<1)c=requestAnimationFrame(d);else{var y=$f(function(C,E){return Ty.apply(void 0,$6(E).concat([r(1)]))},o);a(vn(vn(vn({},t),e),y))}};return d=r.isStepper?m:g,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}var HOe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function $Oe(t,e){if(t==null)return{};var r=VOe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function VOe(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function sE(t){return zOe(t)||GOe(t)||qOe(t)||KOe()}function KOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qOe(t,e){if(t){if(typeof t=="string")return NN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NN(t,e)}}function GOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zOe(t){if(Array.isArray(t))return NN(t)}function NN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function K6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K6(Object(r),!0).forEach(function(n){vf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vf(t,e,r){return e=AJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XOe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AJ(n.key),n)}}function YOe(t,e,r){return e&&XOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AJ(t){var e=JOe(t,"string");return _d(e)==="symbol"?e:String(e)}function JOe(t,e){if(_d(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_d(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TN(t,e)}function TN(t,e){return TN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},TN(t,e)}function eRe(t){var e=tRe();return function(){var n=ky(t),a;if(e){var s=ky(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return kN(this,a)}}function kN(t,e){if(e&&(_d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IN(t)}function IN(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tRe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ky(t){return ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ky(t)}var uo=function(t){ZOe(r,t);var e=eRe(r);function r(n,a){var s;WOe(this,r),s=e.call(this,n,a);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,A=o.to,d=o.steps,h=o.children,f=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(IN(s)),s.changeStyle=s.changeStyle.bind(IN(s)),!l||f<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:A}),kN(s);if(d&&d.length)s.state={style:d[0].style};else if(u){if(typeof h=="function")return s.state={style:u},kN(s);s.state={style:c?vf({},c,u):u}}else s.state={style:{}};return s}return YOe(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,A=s.to,d=s.from,h=this.state.style;if(l){if(!o){var f={style:c?vf({},c,A):A};this.state&&h&&(c&&h[c]!==A||!c&&h!==A)&&this.setState(f);return}if(!(oOe(a.to,A)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?d:a.to;if(this.state&&h){var p={style:c?vf({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(p)}this.runAnimation(fs(fs({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,l=a.to,c=a.duration,u=a.easing,A=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,f=LOe(o,l,TOe(u),c,this.changeStyle),m=function(){s.stopJSAnimation=f()};this.manager.start([h,A,m,c,d])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],A=u.style,d=u.duration,h=d===void 0?0:d,f=function(g,p,b){if(b===0)return g;var x=p.duration,w=p.easing,y=w===void 0?"ease":w,C=p.style,E=p.properties,B=p.onAnimationEnd,j=b>0?o[b-1]:p,N=E||Object.keys(C);if(typeof y=="function"||y==="spring")return[].concat(sE(g),[s.runJSAnimation.bind(s,{from:j.style,to:C,duration:x,easing:y}),x]);var S=Q6(N,x,y),T=fs(fs(fs({},j.style),C),{},{transition:S});return[].concat(sE(g),[T,x,B]).filter(xOe)};return this.manager.start([c].concat(sE(o.reduce(f,[A,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=fOe());var s=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,A=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,f=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof f=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var g=l?vf({},l,c):c,p=Q6(Object.keys(g),o,u);m.start([A,s,fs(fs({},g),{},{transition:p}),o,d])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=$Oe(a,HOe),u=v.Children.count(s),A=this.state.style;if(typeof s=="function")return s(A);if(!l||u===0||o<=0)return s;var d=function(f){var m=f.props,g=m.style,p=g===void 0?{}:g,b=m.className,x=v.cloneElement(f,fs(fs({},c),{},{style:fs(fs({},p),A),className:b}));return x};return u===1?d(v.Children.only(s)):K.createElement("div",null,v.Children.map(s,function(h){return d(h)}))}}]),r}(v.PureComponent);uo.displayName="Animate";uo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};uo.propTypes={from:ze.oneOfType([ze.object,ze.string]),to:ze.oneOfType([ze.object,ze.string]),attributeName:ze.string,duration:ze.number,begin:ze.number,easing:ze.oneOfType([ze.string,ze.func]),steps:ze.arrayOf(ze.shape({duration:ze.number.isRequired,style:ze.object.isRequired,easing:ze.oneOfType([ze.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ze.func]),properties:ze.arrayOf("string"),onAnimationEnd:ze.func})),children:ze.oneOfType([ze.node,ze.func]),isActive:ze.bool,canBegin:ze.bool,onAnimationEnd:ze.func,shouldReAnimate:ze.bool,onAnimationStart:ze.func,onAnimationReStart:ze.func};ze.object,ze.object,ze.object,ze.element;ze.object,ze.object,ze.object,ze.oneOfType([ze.array,ze.element]),ze.any;function cp(t){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp(t)}function Iy(){return Iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Iy.apply(this,arguments)}function rRe(t,e){return iRe(t)||sRe(t,e)||aRe(t,e)||nRe()}function nRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aRe(t,e){if(t){if(typeof t=="string")return q6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q6(t,e)}}function q6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function iRe(t){if(Array.isArray(t))return t}function G6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function z6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G6(Object(r),!0).forEach(function(n){oRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oRe(t,e,r){return e=lRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lRe(t){var e=cRe(t,"string");return cp(e)=="symbol"?e:e+""}function cRe(t,e){if(cp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var W6=function(e,r,n,a,s){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,A;if(o>0&&s instanceof Array){for(var d=[0,0,0,0],h=0,f=4;h<f;h++)d[h]=s[h]>o?o:s[h];A="M".concat(e,",").concat(r+l*d[0]),d[0]>0&&(A+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+c*d[0],",").concat(r)),A+="L ".concat(e+n-c*d[1],",").concat(r),d[1]>0&&(A+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*d[1])),A+="L ".concat(e+n,",").concat(r+a-l*d[2]),d[2]>0&&(A+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+n-c*d[2],",").concat(r+a)),A+="L ".concat(e+c*d[3],",").concat(r+a),d[3]>0&&(A+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-l*d[3])),A+="Z"}else if(o>0&&s===+s&&s>0){var m=Math.min(o,s);A="M ".concat(e,",").concat(r+l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+c*m,",").concat(r,`
            L `).concat(e+n-c*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*m,`
            L `).concat(e+n,",").concat(r+a-l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+n-c*m,",").concat(r+a,`
            L `).concat(e+c*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(r+a-l*m," Z")}else A="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return A},uRe=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),A=Math.max(s,s+l),d=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=A&&a>=d&&a<=h}return!1},ARe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uP=function(e){var r=z6(z6({},ARe),e),n=v.useRef(),a=v.useState(-1),s=rRe(a,2),o=s[0],l=s[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var y=n.current.getTotalLength();y&&l(y)}catch{}},[]);var c=r.x,u=r.y,A=r.width,d=r.height,h=r.radius,f=r.className,m=r.animationEasing,g=r.animationDuration,p=r.animationBegin,b=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||A!==+A||d!==+d||A===0||d===0)return null;var w=Lt("recharts-rectangle",f);return x?K.createElement(uo,{canBegin:o>0,from:{width:A,height:d,x:c,y:u},to:{width:A,height:d,x:c,y:u},duration:g,animationEasing:m,isActive:x},function(y){var C=y.width,E=y.height,B=y.x,j=y.y;return K.createElement(uo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:g,isActive:b,easing:m},K.createElement("path",Iy({},Ot(r,!0),{className:w,d:W6(B,j,C,E,h),ref:n})))}):K.createElement("path",Iy({},Ot(r,!0),{className:w,d:W6(c,u,A,d,h)}))};function PN(){return PN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PN.apply(this,arguments)}var AP=function(e){var r=e.cx,n=e.cy,a=e.r,s=e.className,o=Lt("recharts-dot",s);return r===+r&&n===+n&&a===+a?K.createElement("circle",PN({},Ot(e,!1),ey(e),{className:o,cx:r,cy:n,r:a})):null};function up(t){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},up(t)}var dRe=["x","y","top","left","width","height","className"];function FN(){return FN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FN.apply(this,arguments)}function X6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hRe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X6(Object(r),!0).forEach(function(n){fRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fRe(t,e,r){return e=mRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mRe(t){var e=pRe(t,"string");return up(e)=="symbol"?e:e+""}function pRe(t,e){if(up(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gRe(t,e){if(t==null)return{};var r=xRe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var vRe=function(e,r,n,a,s,o){return"M".concat(e,",").concat(s,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},yRe=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,A=e.width,d=A===void 0?0:A,h=e.height,f=h===void 0?0:h,m=e.className,g=gRe(e,dRe),p=hRe({x:n,y:s,top:l,left:u,width:d,height:f},g);return!Pe(n)||!Pe(s)||!Pe(d)||!Pe(f)||!Pe(l)||!Pe(u)?null:K.createElement("path",FN({},Ot(p,!0),{className:Lt("recharts-cross",m),d:vRe(n,s,d,f,l,u)}))},iE,Y6;function bRe(){if(Y6)return iE;Y6=1;var t=TX(),e=t(Object.getPrototypeOf,Object);return iE=e,iE}var oE,J6;function wRe(){if(J6)return oE;J6=1;var t=fo(),e=bRe(),r=mo(),n="[object Object]",a=Function.prototype,s=Object.prototype,o=a.toString,l=s.hasOwnProperty,c=o.call(Object);function u(A){if(!r(A)||t(A)!=n)return!1;var d=e(A);if(d===null)return!0;var h=l.call(d,"constructor")&&d.constructor;return typeof h=="function"&&h instanceof h&&o.call(h)==c}return oE=u,oE}var _Re=wRe();const BRe=Ht(_Re);var lE,Z6;function CRe(){if(Z6)return lE;Z6=1;var t=fo(),e=mo(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return lE=n,lE}var jRe=CRe();const ERe=Ht(jRe);function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function Py(){return Py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Py.apply(this,arguments)}function SRe(t,e){return IRe(t)||kRe(t,e)||TRe(t,e)||NRe()}function NRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TRe(t,e){if(t){if(typeof t=="string")return e8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e8(t,e)}}function e8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function IRe(t){if(Array.isArray(t))return t}function t8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function r8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t8(Object(r),!0).forEach(function(n){PRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PRe(t,e,r){return e=FRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FRe(t){var e=DRe(t,"string");return Ap(e)=="symbol"?e:e+""}function DRe(t,e){if(Ap(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n8=function(e,r,n,a,s){var o=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+s),l+="L ".concat(e+n-o/2-a,",").concat(r+s),l+="L ".concat(e,",").concat(r," Z"),l},ORe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RRe=function(e){var r=r8(r8({},ORe),e),n=v.useRef(),a=v.useState(-1),s=SRe(a,2),o=s[0],l=s[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,A=r.upperWidth,d=r.lowerWidth,h=r.height,f=r.className,m=r.animationEasing,g=r.animationDuration,p=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||A!==+A||d!==+d||h!==+h||A===0&&d===0||h===0)return null;var x=Lt("recharts-trapezoid",f);return b?K.createElement(uo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:A,lowerWidth:d,height:h,x:c,y:u},duration:g,animationEasing:m,isActive:b},function(w){var y=w.upperWidth,C=w.lowerWidth,E=w.height,B=w.x,j=w.y;return K.createElement(uo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:g,easing:m},K.createElement("path",Py({},Ot(r,!0),{className:x,d:n8(B,j,y,C,E),ref:n})))}):K.createElement("g",null,K.createElement("path",Py({},Ot(r,!0),{className:x,d:n8(c,u,A,d,h)})))},URe=["option","shapeType","propTransformer","activeClassName","isActive"];function dp(t){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(t)}function MRe(t,e){if(t==null)return{};var r=QRe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function a8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Fy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a8(Object(r),!0).forEach(function(n){LRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LRe(t,e,r){return e=HRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HRe(t){var e=$Re(t,"string");return dp(e)=="symbol"?e:e+""}function $Re(t,e){if(dp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VRe(t,e){return Fy(Fy({},e),t)}function KRe(t,e){return t==="symbols"}function s8(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return K.createElement(uP,r);case"trapezoid":return K.createElement(RRe,r);case"sector":return K.createElement(nJ,r);case"symbols":if(KRe(e))return K.createElement(NI,r);break;default:return null}}function qRe(t){return v.isValidElement(t)?t.props:t}function GRe(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?VRe:n,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,l=t.isActive,c=MRe(t,URe),u;if(v.isValidElement(e))u=v.cloneElement(e,Fy(Fy({},c),qRe(e)));else if(jt(e))u=e(c);else if(BRe(e)&&!ERe(e)){var A=a(e,c);u=K.createElement(s8,{shapeType:r,elementProps:A})}else{var d=c;u=K.createElement(s8,{shapeType:r,elementProps:d})}return l?K.createElement(Or,{className:o},u):u}function Iw(t,e){return e!=null&&"trapezoids"in t.props}function Pw(t,e){return e!=null&&"sectors"in t.props}function hp(t,e){return e!=null&&"points"in t.props}function zRe(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&s}function WRe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function XRe(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function YRe(t,e){var r;return Iw(t,e)?r=zRe:Pw(t,e)?r=WRe:hp(t,e)&&(r=XRe),r}function JRe(t,e){var r;return Iw(t,e)?r="trapezoids":Pw(t,e)?r="sectors":hp(t,e)&&(r="points"),r}function ZRe(t,e){if(Iw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Pw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return hp(t,e)?e.payload:{}}function eUe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=JRe(r,e),s=ZRe(r,e),o=n.filter(function(c,u){var A=Nw(s,c),d=r.props[a].filter(function(m){var g=YRe(r,e);return g(m,e)}),h=r.props[a].indexOf(d[d.length-1]),f=u===h;return A&&f}),l=n.indexOf(o[o.length-1]);return l}var cE,i8;function tUe(){if(i8)return cE;i8=1;var t=Math.ceil,e=Math.max;function r(n,a,s,o){for(var l=-1,c=e(t((a-n)/(s||1)),0),u=Array(c);c--;)u[o?c:++l]=n,n+=s;return u}return cE=r,cE}var uE,o8;function dJ(){if(o8)return uE;o8=1;var t=qX(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var s=a<0?-1:1;return s*r}return a===a?a:0}return uE=n,uE}var AE,l8;function rUe(){if(l8)return AE;l8=1;var t=tUe(),e=yw(),r=dJ();function n(a){return function(s,o,l){return l&&typeof l!="number"&&e(s,o,l)&&(o=l=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),l=l===void 0?s<o?1:-1:r(l),t(s,o,l,a)}}return AE=n,AE}var dE,c8;function nUe(){if(c8)return dE;c8=1;var t=rUe(),e=t();return dE=e,dE}var aUe=nUe();const Dy=Ht(aUe);function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}function u8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function A8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u8(Object(r),!0).forEach(function(n){hJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hJ(t,e,r){return e=sUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sUe(t){var e=iUe(t,"string");return fp(e)=="symbol"?e:e+""}function iUe(t,e){if(fp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oUe=["Webkit","Moz","O","ms"],lUe=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),a=oUe.reduce(function(s,o){return A8(A8({},s),{},hJ({},o+n,r))},{});return a[e]=r,a};function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function Oy(){return Oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Oy.apply(this,arguments)}function d8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d8(Object(r),!0).forEach(function(n){Na(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mJ(n.key),n)}}function uUe(t,e,r){return e&&h8(t.prototype,e),r&&h8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function AUe(t,e,r){return e=Ry(e),dUe(t,fJ()?Reflect.construct(e,r||[],Ry(t).constructor):e.apply(t,r))}function dUe(t,e){if(e&&(Bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hUe(t)}function hUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fJ=function(){return!!t})()}function Ry(t){return Ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ry(t)}function fUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DN(t,e)}function DN(t,e){return DN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DN(t,e)}function Na(t,e,r){return e=mJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mJ(t){var e=mUe(t,"string");return Bd(e)=="symbol"?e:e+""}function mUe(t,e){if(Bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pUe=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,s=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Lf().domain(Dy(0,c)).range([s,s+o-l]),A=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:A}},f8=function(e){return e.changedTouches&&!!e.changedTouches.length},Cd=function(t){function e(r){var n;return cUe(this,e),n=AUe(this,e,[r]),Na(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Na(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Na(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),Na(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Na(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Na(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Na(n,"handleSlideDragStart",function(a){var s=f8(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return fUe(e,t),uUe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,A=u.length-1,d=Math.min(a,s),h=Math.max(a,s),f=e.getIndexInRange(o,d),m=e.getIndexInRange(o,h);return{startIndex:f-f%c,endIndex:m===A?A:m-m%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,o=a.tickFormatter,l=a.dataKey,c=Ha(s[n],l,n);return jt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,A=c.width,d=c.travellerWidth,h=c.startIndex,f=c.endIndex,m=c.onChange,g=n.pageX-s;g>0?g=Math.min(g,u+A-d-l,u+A-d-o):g<0&&(g=Math.max(g,u-o,u-l));var p=this.getIndex({startX:o+g,endX:l+g});(p.startIndex!==h||p.endIndex!==f)&&m&&m(p),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=f8(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],A=this.props,d=A.x,h=A.width,f=A.travellerWidth,m=A.onChange,g=A.gap,p=A.data,b={startX:this.state.startX,endX:this.state.endX},x=n.pageX-s;x>0?x=Math.min(x,d+h-f-u):x<0&&(x=Math.max(x,d-u)),b[o]=u+x;var w=this.getIndex(b),y=w.startIndex,C=w.endIndex,E=function(){var j=p.length-1;return o==="startX"&&(l>c?y%g===0:C%g===0)||l<c&&C===j||o==="endX"&&(l>c?C%g===0:y%g===0)||l>c&&C===j};this.setState(Na(Na({},o,u+x),"brushMoveStartX",n.pageX),function(){m&&E()&&m(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,A=this.state[a],d=l.indexOf(A);if(d!==-1){var h=d+n;if(!(h===-1||h>=l.length)){var f=l[h];a==="startX"&&f>=u||a==="endX"&&f<=c||this.setState(Na({},a,f),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return K.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,A=n.padding,d=v.Children.only(u);return d?K.cloneElement(d,{x:a,y:s,width:o,height:l,margin:A,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,o,l=this,c=this.props,u=c.y,A=c.travellerWidth,d=c.height,h=c.traveller,f=c.ariaLabel,m=c.data,g=c.startIndex,p=c.endIndex,b=Math.max(n,this.props.x),x=hE(hE({},Ot(this.props,!1)),{},{x:b,y:u,width:A,height:d}),w=f||"Min value: ".concat((s=m[g])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=m[p])===null||o===void 0?void 0:o.name);return K.createElement(Or,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,a){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,A=Math.min(n,a)+u,d=Math.max(Math.abs(a-n)-u,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:A,y:o,width:d,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,A=this.state,d=A.startX,h=A.endX,f=5,m={pointerEvents:"none",fill:u};return K.createElement(Or,{className:"recharts-brush-texts"},K.createElement(dy,Oy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-f,y:o+l/2},m),this.getTextOfTick(a)),K.createElement(dy,Oy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+c+f,y:o+l/2},m),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,A=n.height,d=n.alwaysShowText,h=this.state,f=h.startX,m=h.endX,g=h.isTextActive,p=h.isSlideMoving,b=h.isTravellerMoving,x=h.isTravellerFocused;if(!a||!a.length||!Pe(l)||!Pe(c)||!Pe(u)||!Pe(A)||u<=0||A<=0)return null;var w=Lt("recharts-brush",s),y=K.Children.count(o)===1,C=lUe("userSelect","none");return K.createElement(Or,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),y&&this.renderPanorama(),this.renderSlide(f,m),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(m,"endX"),(g||p||b||x||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:a,y:s,width:o,height:l,fill:c,stroke:"none"}),K.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return K.isValidElement(n)?s=K.cloneElement(n,a):jt(n)?s=n(a):s=e.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,A=n.startIndex,d=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return hE({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?pUe({data:s,width:o,x:l,travellerWidth:c,startIndex:A,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(f){return a.scale(f)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(v.PureComponent);Na(Cd,"displayName","Brush");Na(Cd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var fE,m8;function gUe(){if(m8)return fE;m8=1;var t=OI();function e(r,n){var a;return t(r,function(s,o,l){return a=n(s,o,l),!a}),!!a}return fE=e,fE}var mE,p8;function xUe(){if(p8)return mE;p8=1;var t=_X(),e=Hl(),r=gUe(),n=wa(),a=yw();function s(o,l,c){var u=n(o)?t:r;return c&&a(o,l,c)&&(l=void 0),u(o,e(l,3))}return mE=s,mE}var vUe=xUe();const yUe=Ht(vUe);var di=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},pE,g8;function bUe(){if(g8)return pE;g8=1;var t=LX();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return pE=e,pE}var gE,x8;function wUe(){if(x8)return gE;x8=1;var t=bUe(),e=MX(),r=Hl();function n(a,s){var o={};return s=r(s,3),e(a,function(l,c,u){t(o,c,s(l,c,u))}),o}return gE=n,gE}var _Ue=wUe();const BUe=Ht(_Ue);var xE,v8;function CUe(){if(v8)return xE;v8=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return xE=t,xE}var vE,y8;function jUe(){if(y8)return vE;y8=1;var t=OI();function e(r,n){var a=!0;return t(r,function(s,o,l){return a=!!n(s,o,l),a}),a}return vE=e,vE}var yE,b8;function EUe(){if(b8)return yE;b8=1;var t=CUe(),e=jUe(),r=Hl(),n=wa(),a=yw();function s(o,l,c){var u=n(o)?t:e;return c&&a(o,l,c)&&(l=void 0),u(o,r(l,3))}return yE=s,yE}var SUe=EUe();const pJ=Ht(SUe);var NUe=["x","y"];function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}function ON(){return ON=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ON.apply(this,arguments)}function w8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ef(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w8(Object(r),!0).forEach(function(n){TUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TUe(t,e,r){return e=kUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kUe(t){var e=IUe(t,"string");return mp(e)=="symbol"?e:e+""}function IUe(t,e){if(mp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PUe(t,e){if(t==null)return{};var r=FUe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function DUe(t,e){var r=t.x,n=t.y,a=PUe(t,NUe),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||a.height),A=parseInt(u,10),d="".concat(e.width||a.width),h=parseInt(d,10);return ef(ef(ef(ef(ef({},e),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:A,width:h,name:e.name,radius:e.radius})}function _8(t){return K.createElement(GRe,ON({shapeType:"rectangle",propTransformer:DUe,activeClassName:"recharts-active-bar"},t))}var OUe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var s=typeof n=="number";return s?e(n,a):(s||uu(),r)}},RUe=["value","background"],gJ;function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}function UUe(t,e){if(t==null)return{};var r=MUe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Uy(){return Uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uy.apply(this,arguments)}function B8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B8(Object(r),!0).forEach(function(n){nl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vJ(n.key),n)}}function LUe(t,e,r){return e&&C8(t.prototype,e),r&&C8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function HUe(t,e,r){return e=My(e),$Ue(t,xJ()?Reflect.construct(e,r||[],My(t).constructor):e.apply(t,r))}function $Ue(t,e){if(e&&(jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VUe(t)}function VUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xJ=function(){return!!t})()}function My(t){return My=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},My(t)}function KUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RN(t,e)}function RN(t,e){return RN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},RN(t,e)}function nl(t,e,r){return e=vJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vJ(t){var e=qUe(t,"string");return jd(e)=="symbol"?e:e+""}function qUe(t,e){if(jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xu=function(t){function e(){var r;QUe(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=HUe(this,e,[].concat(a)),nl(r,"state",{isAnimationFinished:!1}),nl(r,"id",ng("recharts-bar-")),nl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),nl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return KUe(e,t),LUe(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,A=Ot(this.props,!1);return n&&n.map(function(d,h){var f=h===c,m=f?u:o,g=Qr(Qr(Qr({},A),d),{},{isActive:f,option:m,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return K.createElement(Or,Uy({className:"recharts-bar-rectangle"},ty(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value)}),K.createElement(_8,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,A=a.animationEasing,d=a.animationId,h=this.state.prevData;return K.createElement(uo,{begin:c,duration:u,isActive:l,easing:A,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var m=f.t,g=s.map(function(p,b){var x=h&&h[b];if(x){var w=Bs(x.x,p.x),y=Bs(x.y,p.y),C=Bs(x.width,p.width),E=Bs(x.height,p.height);return Qr(Qr({},p),{},{x:w(m),y:y(m),width:C(m),height:E(m)})}if(o==="horizontal"){var B=Bs(0,p.height),j=B(m);return Qr(Qr({},p),{},{y:p.y+p.height-j,height:j})}var N=Bs(0,p.width),S=N(m);return Qr(Qr({},p),{},{width:S})});return K.createElement(Or,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!Nw(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,o=a.dataKey,l=a.activeIndex,c=Ot(this.props.background,!1);return s.map(function(u,A){u.value;var d=u.background,h=UUe(u,RUe);if(!d)return null;var f=Qr(Qr(Qr(Qr(Qr({},h),{},{fill:"#eee"},d),c),ty(n.props,u,A)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:A,className:"recharts-bar-background-rectangle"});return K.createElement(_8,Uy({key:"background-bar-".concat(A),option:n.props.background,isActive:A===l},f))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,A=s.children,d=is(A,cg);if(!d)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,f=function(p,b){var x=Array.isArray(p.value)?p.value[1]:p.value;return{x:p.x,y:p.y,value:x,errorVal:Ha(p,b)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return K.createElement(Or,m,d.map(function(g){return K.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:f})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,A=n.top,d=n.width,h=n.height,f=n.isAnimationActive,m=n.background,g=n.id;if(a||!s||!s.length)return null;var p=this.state.isAnimationFinished,b=Lt("recharts-bar",o),x=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,y=x||w,C=Tt(g)?this.id:g;return K.createElement(Or,{className:b},x||w?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(C)},K.createElement("rect",{x:x?u:u-d/2,y:w?A:A-h/2,width:x?d:d*2,height:w?h:h*2}))):null,K.createElement(Or,{className:"recharts-bar-rectangles",clipPath:y?"url(#clipPath-".concat(C,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(y,C),(!f||p)&&ml.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(v.PureComponent);gJ=xu;nl(xu,"displayName","Bar");nl(xu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ah.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});nl(xu,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,s=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,A=t.dataStartIndex,d=t.displayedData,h=t.offset,f=CFe(n,r);if(!f)return null;var m=e.layout,g=r.type.defaultProps,p=g!==void 0?Qr(Qr({},g),r.props):r.props,b=p.dataKey,x=p.children,w=p.minPointSize,y=m==="horizontal"?o:s,C=u?y.scale.domain():null,E=PFe({numericAxis:y}),B=is(x,zX),j=d.map(function(N,S){var T,I,k,R,M,$;u?T=jFe(u[A+S],C):(T=Ha(N,b),Array.isArray(T)||(T=[E,T]));var U=OUe(w,gJ.defaultProps.minPointSize)(T[1],S);if(m==="horizontal"){var O,L=[o.scale(T[0]),o.scale(T[1])],H=L[0],D=L[1];I=A6({axis:s,ticks:l,bandSize:a,offset:f.offset,entry:N,index:S}),k=(O=D??H)!==null&&O!==void 0?O:void 0,R=f.size;var Q=H-D;if(M=Number.isNaN(Q)?0:Q,$={x:I,y:o.y,width:R,height:o.height},Math.abs(U)>0&&Math.abs(M)<Math.abs(U)){var z=Ts(M||U)*(Math.abs(U)-Math.abs(M));k-=z,M+=z}}else{var q=[s.scale(T[0]),s.scale(T[1])],W=q[0],ee=q[1];if(I=W,k=A6({axis:o,ticks:c,bandSize:a,offset:f.offset,entry:N,index:S}),R=ee-W,M=f.size,$={x:s.x,y:k,width:s.width,height:M},Math.abs(U)>0&&Math.abs(R)<Math.abs(U)){var oe=Ts(R||U)*(Math.abs(U)-Math.abs(R));R+=oe}}return Qr(Qr(Qr({},N),{},{x:I,y:k,width:R,height:M,value:u?T:T[1],payload:N,background:$},B&&B[S]&&B[S].props),{},{tooltipPayload:[eJ(r,N)],tooltipPosition:{x:I+R/2,y:k+M/2}})});return Qr({data:j,layout:m},h)});function pp(t){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(t)}function GUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yJ(n.key),n)}}function zUe(t,e,r){return e&&j8(t.prototype,e),r&&j8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function E8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E8(Object(r),!0).forEach(function(n){Fw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fw(t,e,r){return e=yJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yJ(t){var e=WUe(t,"string");return pp(e)=="symbol"?e:e+""}function WUe(t,e){if(pp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bJ=function(e,r,n,a,s){var o=e.width,l=e.height,c=e.layout,u=e.children,A=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Ia(u,xu);return A.reduce(function(f,m){var g=r[m],p=g.orientation,b=g.domain,x=g.padding,w=x===void 0?{}:x,y=g.mirror,C=g.reversed,E="".concat(p).concat(y?"Mirror":""),B,j,N,S,T;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var I=b[1]-b[0],k=1/0,R=g.categoricalDomain.sort();if(R.forEach(function(q,W){W>0&&(k=Math.min((q||0)-(R[W-1]||0),k))}),Number.isFinite(k)){var M=k/I,$=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(B=M*$/2),g.padding==="no-gap"){var U=lu(e.barCategoryGap,M*$),O=M*$/2;B=O-U-(O-U)/$*U}}}a==="xAxis"?j=[n.left+(w.left||0)+(B||0),n.left+n.width-(w.right||0)-(B||0)]:a==="yAxis"?j=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(B||0),n.top+n.height-(w.bottom||0)-(B||0)]:j=g.range,C&&(j=[j[1],j[0]]);var L=_Fe(g,s,h),H=L.scale,D=L.realScaleType;H.domain(b).range(j),BFe(H);var Q=IFe(H,bs(bs({},g),{},{realScaleType:D}));a==="xAxis"?(T=p==="top"&&!y||p==="bottom"&&y,N=n.left,S=d[E]-T*g.height):a==="yAxis"&&(T=p==="left"&&!y||p==="right"&&y,N=d[E]-T*g.width,S=n.top);var z=bs(bs(bs({},g),Q),{},{realScaleType:D,x:N,y:S,scale:H,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return z.bandSize=jy(z,Q),!g.hide&&a==="xAxis"?d[E]+=(T?-1:1)*z.height:g.hide||(d[E]+=(T?-1:1)*z.width),bs(bs({},f),{},Fw({},m,z))},{})},wJ=function(e,r){var n=e.x,a=e.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(a,o),width:Math.abs(s-n),height:Math.abs(o-a)}},XUe=function(e){var r=e.x1,n=e.y1,a=e.x2,s=e.y2;return wJ({x:r,y:n},{x:a,y:s})},_J=function(){function t(e){GUe(this,t),this.scale=e}return zUe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();Fw(_J,"EPS",1e-4);var dP=function(e){var r=Object.keys(e).reduce(function(n,a){return bs(bs({},n),{},Fw({},a,_J.create(e[a])))},{});return bs(bs({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return BUe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return pJ(a,function(s,o){return r[o].isInRange(s)})}})};function YUe(t){return(t%180+180)%180}var JUe=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=YUe(a),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},bE,S8;function ZUe(){if(S8)return bE;S8=1;var t=Hl(),e=ag(),r=xw();function n(a){return function(s,o,l){var c=Object(s);if(!e(s)){var u=t(o,3);s=r(s),o=function(d){return u(c[d],d,c)}}var A=a(s,o,l);return A>-1?c[u?s[A]:A]:void 0}}return bE=n,bE}var wE,N8;function eMe(){if(N8)return wE;N8=1;var t=dJ();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return wE=e,wE}var _E,T8;function tMe(){if(T8)return _E;T8=1;var t=FX(),e=Hl(),r=eMe(),n=Math.max;function a(s,o,l){var c=s==null?0:s.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),t(s,e(o,3),u)}return _E=a,_E}var BE,k8;function rMe(){if(k8)return BE;k8=1;var t=ZUe(),e=tMe(),r=t(e);return BE=r,BE}var nMe=rMe();const aMe=Ht(nMe);var sMe=WW();const iMe=Ht(sMe);var oMe=iMe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),hP=v.createContext(void 0),fP=v.createContext(void 0),BJ=v.createContext(void 0),CJ=v.createContext({}),jJ=v.createContext(void 0),EJ=v.createContext(0),SJ=v.createContext(0),I8=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,A=oMe(s);return K.createElement(hP.Provider,{value:n},K.createElement(fP.Provider,{value:a},K.createElement(CJ.Provider,{value:s},K.createElement(BJ.Provider,{value:A},K.createElement(jJ.Provider,{value:o},K.createElement(EJ.Provider,{value:u},K.createElement(SJ.Provider,{value:c},l)))))))},lMe=function(){return v.useContext(jJ)},NJ=function(e){var r=v.useContext(hP);r==null&&uu();var n=r[e];return n==null&&uu(),n},cMe=function(){var e=v.useContext(hP);return $o(e)},uMe=function(){var e=v.useContext(fP),r=aMe(e,function(n){return pJ(n.domain,Number.isFinite)});return r||$o(e)},TJ=function(e){var r=v.useContext(fP);r==null&&uu();var n=r[e];return n==null&&uu(),n},AMe=function(){var e=v.useContext(BJ);return e},dMe=function(){return v.useContext(CJ)},mP=function(){return v.useContext(SJ)},pP=function(){return v.useContext(EJ)};function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function hMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IJ(n.key),n)}}function mMe(t,e,r){return e&&fMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pMe(t,e,r){return e=Qy(e),gMe(t,kJ()?Reflect.construct(e,r||[],Qy(t).constructor):e.apply(t,r))}function gMe(t,e){if(e&&(Ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xMe(t)}function xMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kJ=function(){return!!t})()}function Qy(t){return Qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qy(t)}function vMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UN(t,e)}function UN(t,e){return UN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},UN(t,e)}function P8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function F8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P8(Object(r),!0).forEach(function(n){gP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gP(t,e,r){return e=IJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IJ(t){var e=yMe(t,"string");return Ed(e)=="symbol"?e:e+""}function yMe(t,e){if(Ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bMe(t,e){return CMe(t)||BMe(t,e)||_Me(t,e)||wMe()}function wMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Me(t,e){if(t){if(typeof t=="string")return D8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D8(t,e)}}function D8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function CMe(t){if(Array.isArray(t))return t}function MN(){return MN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MN.apply(this,arguments)}var jMe=function(e,r){var n;return K.isValidElement(e)?n=K.cloneElement(e,r):jt(e)?n=e(r):n=K.createElement("line",MN({},r,{className:"recharts-reference-line-line"})),n},EMe=function(e,r,n,a,s,o,l,c,u){var A=s.x,d=s.y,h=s.width,f=s.height;if(n){var m=u.y,g=e.y.apply(m,{position:o});if(di(u,"discard")&&!e.y.isInRange(g))return null;var p=[{x:A+h,y:g},{x:A,y:g}];return c==="left"?p.reverse():p}if(r){var b=u.x,x=e.x.apply(b,{position:o});if(di(u,"discard")&&!e.x.isInRange(x))return null;var w=[{x,y:d+f},{x,y:d}];return l==="top"?w.reverse():w}if(a){var y=u.segment,C=y.map(function(E){return e.apply(E,{position:o})});return di(u,"discard")&&yUe(C,function(E){return!e.isInRange(E)})?null:C}return null};function SMe(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,s=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=lMe(),A=NJ(a),d=TJ(s),h=AMe();if(!u||!h)return null;Wi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=dP({x:A.scale,y:d.scale}),m=Xr(e),g=Xr(r),p=n&&n.length===2,b=EMe(f,m,g,p,h,t.position,A.orientation,d.orientation,t);if(!b)return null;var x=bMe(b,2),w=x[0],y=w.x,C=w.y,E=x[1],B=E.x,j=E.y,N=di(t,"hidden")?"url(#".concat(u,")"):void 0,S=F8(F8({clipPath:N},Ot(t,!0)),{},{x1:y,y1:C,x2:B,y2:j});return K.createElement(Or,{className:Lt("recharts-reference-line",l)},jMe(o,S),$n.renderCallByParent(t,XUe({x1:y,y1:C,x2:B,y2:j})))}var xP=function(t){function e(){return hMe(this,e),pMe(this,e,arguments)}return vMe(e,t),mMe(e,[{key:"render",value:function(){return K.createElement(SMe,this.props)}}])}(K.Component);gP(xP,"displayName","ReferenceLine");gP(xP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function QN(){return QN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QN.apply(this,arguments)}function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function O8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function R8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O8(Object(r),!0).forEach(function(n){Dw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FJ(n.key),n)}}function kMe(t,e,r){return e&&TMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IMe(t,e,r){return e=Ly(e),PMe(t,PJ()?Reflect.construct(e,r||[],Ly(t).constructor):e.apply(t,r))}function PMe(t,e){if(e&&(Sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FMe(t)}function FMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PJ=function(){return!!t})()}function Ly(t){return Ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ly(t)}function DMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LN(t,e)}function LN(t,e){return LN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},LN(t,e)}function Dw(t,e,r){return e=FJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FJ(t){var e=OMe(t,"string");return Sd(e)=="symbol"?e:e+""}function OMe(t,e){if(Sd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var RMe=function(e){var r=e.x,n=e.y,a=e.xAxis,s=e.yAxis,o=dP({x:a.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return di(e,"discard")&&!o.isInRange(l)?null:l},Ow=function(t){function e(){return NMe(this,e),IMe(this,e,arguments)}return DMe(e,t),kMe(e,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Xr(a),A=Xr(s);if(Wi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!A)return null;var d=RMe(this.props);if(!d)return null;var h=d.x,f=d.y,m=this.props,g=m.shape,p=m.className,b=di(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=R8(R8({clipPath:b},Ot(this.props,!0)),{},{cx:h,cy:f});return K.createElement(Or,{className:Lt("recharts-reference-dot",p)},e.renderDot(g,x),$n.renderCallByParent(this.props,{x:h-o,y:f-o,width:2*o,height:2*o}))}}])}(K.Component);Dw(Ow,"displayName","ReferenceDot");Dw(Ow,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Dw(Ow,"renderDot",function(t,e){var r;return K.isValidElement(t)?r=K.cloneElement(t,e):jt(t)?r=t(e):r=K.createElement(AP,QN({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function HN(){return HN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HN.apply(this,arguments)}function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function U8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function M8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U8(Object(r),!0).forEach(function(n){Rw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OJ(n.key),n)}}function QMe(t,e,r){return e&&MMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LMe(t,e,r){return e=Hy(e),HMe(t,DJ()?Reflect.construct(e,r||[],Hy(t).constructor):e.apply(t,r))}function HMe(t,e){if(e&&(Nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Me(t)}function $Me(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DJ=function(){return!!t})()}function Hy(t){return Hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hy(t)}function VMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$N(t,e)}function $N(t,e){return $N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$N(t,e)}function Rw(t,e,r){return e=OJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OJ(t){var e=KMe(t,"string");return Nd(e)=="symbol"?e:e+""}function KMe(t,e){if(Nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qMe=function(e,r,n,a,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,A=s.xAxis,d=s.yAxis;if(!A||!d)return null;var h=dP({x:A.scale,y:d.scale}),f={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return di(s,"discard")&&(!h.isInRange(f)||!h.isInRange(m))?null:wJ(f,m)},Uw=function(t){function e(){return UMe(this,e),LMe(this,e,arguments)}return VMe(e,t),QMe(e,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,A=n.clipPathId;Wi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Xr(a),h=Xr(s),f=Xr(o),m=Xr(l),g=this.props.shape;if(!d&&!h&&!f&&!m&&!g)return null;var p=qMe(d,h,f,m,this.props);if(!p&&!g)return null;var b=di(this.props,"hidden")?"url(#".concat(A,")"):void 0;return K.createElement(Or,{className:Lt("recharts-reference-area",c)},e.renderRect(g,M8(M8({clipPath:b},Ot(this.props,!0)),p)),$n.renderCallByParent(this.props,p))}}])}(K.Component);Rw(Uw,"displayName","ReferenceArea");Rw(Uw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Rw(Uw,"renderRect",function(t,e){var r;return K.isValidElement(t)?r=K.cloneElement(t,e):jt(t)?r=t(e):r=K.createElement(uP,HN({},e,{className:"recharts-reference-area-rect"})),r});function RJ(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function GMe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return JUe(n,r)}function zMe(t,e,r){var n=r==="width",a=t.x,s=t.y,o=t.width,l=t.height;return e===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function $y(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-a)<=0}function WMe(t,e){return RJ(t,e+1)}function XMe(t,e,r,n,a){for(var s=(n||[]).slice(),o=e.start,l=e.end,c=0,u=1,A=o,d=function(){var m=n==null?void 0:n[c];if(m===void 0)return{v:RJ(n,u)};var g=c,p,b=function(){return p===void 0&&(p=r(m,g)),p},x=m.coordinate,w=c===0||$y(t,x,b,A,l);w||(c=0,A=o,u+=1),w&&(A=x+t*(b()/2+a),c+=u)},h;u<=s.length;)if(h=d(),h)return h.v;return[]}function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}function Q8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q8(Object(r),!0).forEach(function(n){YMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YMe(t,e,r){return e=JMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JMe(t){var e=ZMe(t,"string");return gp(e)=="symbol"?e:e+""}function ZMe(t,e){if(gp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e5e(t,e,r,n,a){for(var s=(n||[]).slice(),o=s.length,l=e.start,c=e.end,u=function(h){var f=s[h],m,g=function(){return m===void 0&&(m=r(f,h)),m};if(h===o-1){var p=t*(f.coordinate+t*g()/2-c);s[h]=f=Qn(Qn({},f),{},{tickCoord:p>0?f.coordinate-p*t:f.coordinate})}else s[h]=f=Qn(Qn({},f),{},{tickCoord:f.coordinate});var b=$y(t,f.tickCoord,g,l,c);b&&(c=f.tickCoord-t*(g()/2+a),s[h]=Qn(Qn({},f),{},{isShow:!0}))},A=o-1;A>=0;A--)u(A);return s}function t5e(t,e,r,n,a,s){var o=(n||[]).slice(),l=o.length,c=e.start,u=e.end;if(s){var A=n[l-1],d=r(A,l-1),h=t*(A.coordinate+t*d/2-u);o[l-1]=A=Qn(Qn({},A),{},{tickCoord:h>0?A.coordinate-h*t:A.coordinate});var f=$y(t,A.tickCoord,function(){return d},c,u);f&&(u=A.tickCoord-t*(d/2+a),o[l-1]=Qn(Qn({},A),{},{isShow:!0}))}for(var m=s?l-1:l,g=function(x){var w=o[x],y,C=function(){return y===void 0&&(y=r(w,x)),y};if(x===0){var E=t*(w.coordinate-t*C()/2-c);o[x]=w=Qn(Qn({},w),{},{tickCoord:E<0?w.coordinate-E*t:w.coordinate})}else o[x]=w=Qn(Qn({},w),{},{tickCoord:w.coordinate});var B=$y(t,w.tickCoord,C,c,u);B&&(c=w.tickCoord+t*(C()/2+a),o[x]=Qn(Qn({},w),{},{isShow:!0}))},p=0;p<m;p++)g(p);return o}function vP(t,e,r){var n=t.tick,a=t.ticks,s=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,A=t.unit,d=t.angle;if(!a||!a.length||!n)return[];if(Pe(c)||ah.isSsr)return WMe(a,typeof c=="number"&&Pe(c)?c:0);var h=[],f=l==="top"||l==="bottom"?"width":"height",m=A&&f==="width"?Qf(A,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(w,y){var C=jt(u)?u(w.value,y):w.value;return f==="width"?GMe(Qf(C,{fontSize:e,letterSpacing:r}),m,d):Qf(C,{fontSize:e,letterSpacing:r})[f]},p=a.length>=2?Ts(a[1].coordinate-a[0].coordinate):1,b=zMe(s,p,f);return c==="equidistantPreserveStart"?XMe(p,b,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=t5e(p,b,g,a,o,c==="preserveStartEnd"):h=e5e(p,b,g,a,o),h.filter(function(x){return x.isShow}))}var r5e=["viewBox"],n5e=["viewBox"],a5e=["ticks"];function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function mA(){return mA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mA.apply(this,arguments)}function L8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Xn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L8(Object(r),!0).forEach(function(n){yP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CE(t,e){if(t==null)return{};var r=s5e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function s5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function i5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MJ(n.key),n)}}function o5e(t,e,r){return e&&H8(t.prototype,e),r&&H8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function l5e(t,e,r){return e=Vy(e),c5e(t,UJ()?Reflect.construct(e,r||[],Vy(t).constructor):e.apply(t,r))}function c5e(t,e){if(e&&(Td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u5e(t)}function u5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UJ=function(){return!!t})()}function Vy(t){return Vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vy(t)}function A5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VN(t,e)}function VN(t,e){return VN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},VN(t,e)}function yP(t,e,r){return e=MJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MJ(t){var e=d5e(t,"string");return Td(e)=="symbol"?e:e+""}function d5e(t,e){if(Td(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ch=function(t){function e(r){var n;return i5e(this,e),n=l5e(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return A5e(e,t),o5e(e,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,o=CE(n,r5e),l=this.props,c=l.viewBox,u=CE(l,n5e);return!CA(s,c)||!CA(o,u)||!CA(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,A=a.tickSize,d=a.mirror,h=a.tickMargin,f,m,g,p,b,x,w=d?-1:1,y=n.tickSize||A,C=Pe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":f=m=n.coordinate,p=o+ +!d*c,g=p-w*y,x=g-w*h,b=C;break;case"left":g=p=n.coordinate,m=s+ +!d*l,f=m-w*y,b=f-w*h,x=C;break;case"right":g=p=n.coordinate,m=s+ +d*l,f=m+w*y,b=f+w*h,x=C;break;default:f=m=n.coordinate,p=o+ +d*c,g=p+w*y,x=g+w*h,b=C;break}return{line:{x1:f,y1:g,x2:m,y2:p},tick:{x:b,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,A=n.axisLine,d=Xn(Xn(Xn({},Ot(this.props,!1)),Ot(A,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);d=Xn(Xn({},d),{},{x1:a,y1:s+h*l,x2:a+o,y2:s+h*l})}else{var f=+(c==="left"&&!u||c==="right"&&u);d=Xn(Xn({},d),{},{x1:a+f*o,y1:s,x2:a+f*o,y2:s+l})}return K.createElement("line",mA({},d,{className:Lt("recharts-cartesian-axis-line",ss(A,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,A=l.tick,d=l.tickFormatter,h=l.unit,f=vP(Xn(Xn({},this.props),{},{ticks:n}),a,s),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),p=Ot(this.props,!1),b=Ot(A,!1),x=Xn(Xn({},p),{},{fill:"none"},Ot(c,!1)),w=f.map(function(y,C){var E=o.getTickLineCoord(y),B=E.line,j=E.tick,N=Xn(Xn(Xn(Xn({textAnchor:m,verticalAnchor:g},p),{},{stroke:"none",fill:u},b),j),{},{index:C,payload:y,visibleTicksCount:f.length,tickFormatter:d});return K.createElement(Or,mA({className:"recharts-cartesian-axis-tick",key:"tick-".concat(y.value,"-").concat(y.coordinate,"-").concat(y.tickCoord)},ty(o.props,y,C)),c&&K.createElement("line",mA({},x,B,{className:Lt("recharts-cartesian-axis-tick-line",ss(c,"className"))})),A&&e.renderTickItem(A,N,"".concat(jt(d)?d(y.value,C):y.value).concat(h||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,A=a.hide;if(A)return null;var d=this.props,h=d.ticks,f=CE(d,a5e),m=h;return jt(c)&&(m=h&&h.length>0?c(this.props):c(f)),o<=0||l<=0||!m||!m.length?null:K.createElement(Or,{className:Lt("recharts-cartesian-axis",u),ref:function(p){n.layerReference=p}},s&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),$n.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var o;return K.isValidElement(n)?o=K.cloneElement(n,a):jt(n)?o=n(a):o=K.createElement(dy,mA({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(v.Component);yP(ch,"displayName","CartesianAxis");yP(ch,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var h5e=["x1","y1","x2","y2","key"],f5e=["offset"];function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function $8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Vn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$8(Object(r),!0).forEach(function(n){m5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m5e(t,e,r){return e=p5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p5e(t){var e=g5e(t,"string");return Au(e)=="symbol"?e:e+""}function g5e(t,e){if(Au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nc(){return Nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nc.apply(this,arguments)}function V8(t,e){if(t==null)return{};var r=x5e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function x5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var v5e=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,s=e.y,o=e.width,l=e.height,c=e.ry;return K.createElement("rect",{x:a,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function QJ(t,e){var r;if(K.isValidElement(t))r=K.cloneElement(t,e);else if(jt(t))r=t(e);else{var n=e.x1,a=e.y1,s=e.x2,o=e.y2,l=e.key,c=V8(e,h5e),u=Ot(c,!1);u.offset;var A=V8(u,f5e);r=K.createElement("line",Nc({},A,{x1:n,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function y5e(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,s=t.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=Vn(Vn({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return QJ(a,u)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function b5e(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,s=t.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=Vn(Vn({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return QJ(a,u)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function w5e(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,s=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var A=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,f){return h-f});a!==A[0]&&A.unshift(0);var d=A.map(function(h,f){var m=!A[f+1],g=m?a+o-h:A[f+1]-h;if(g<=0)return null;var p=f%e.length;return K.createElement("rect",{key:"react-".concat(f),y:h,x:n,height:g,width:s,stroke:"none",fill:e[p],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function _5e(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,s=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var A=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,f){return h-f});s!==A[0]&&A.unshift(0);var d=A.map(function(h,f){var m=!A[f+1],g=m?s+l-h:A[f+1]-h;if(g<=0)return null;var p=f%n.length;return K.createElement("rect",{key:"react-".concat(f),x:h,y:o,width:g,height:c,stroke:"none",fill:n[p],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var B5e=function(e,r){var n=e.xAxis,a=e.width,s=e.height,o=e.offset;return JY(vP(Vn(Vn(Vn({},ch.defaultProps),n),{},{ticks:Hi(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,r)},C5e=function(e,r){var n=e.yAxis,a=e.width,s=e.height,o=e.offset;return JY(vP(Vn(Vn(Vn({},ch.defaultProps),n),{},{ticks:Hi(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,r)},tA={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function bP(t){var e,r,n,a,s,o,l=mP(),c=pP(),u=dMe(),A=Vn(Vn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:tA.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:tA.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:tA.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:tA.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:tA.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:tA.verticalFill,x:Pe(t.x)?t.x:u.left,y:Pe(t.y)?t.y:u.top,width:Pe(t.width)?t.width:u.width,height:Pe(t.height)?t.height:u.height}),d=A.x,h=A.y,f=A.width,m=A.height,g=A.syncWithTicks,p=A.horizontalValues,b=A.verticalValues,x=cMe(),w=uMe();if(!Pe(f)||f<=0||!Pe(m)||m<=0||!Pe(d)||d!==+d||!Pe(h)||h!==+h)return null;var y=A.verticalCoordinatesGenerator||B5e,C=A.horizontalCoordinatesGenerator||C5e,E=A.horizontalPoints,B=A.verticalPoints;if((!E||!E.length)&&jt(C)){var j=p&&p.length,N=C({yAxis:w?Vn(Vn({},w),{},{ticks:j?p:w.ticks}):void 0,width:l,height:c,offset:u},j?!0:g);Wi(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Au(N),"]")),Array.isArray(N)&&(E=N)}if((!B||!B.length)&&jt(y)){var S=b&&b.length,T=y({xAxis:x?Vn(Vn({},x),{},{ticks:S?b:x.ticks}):void 0,width:l,height:c,offset:u},S?!0:g);Wi(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Au(T),"]")),Array.isArray(T)&&(B=T)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(v5e,{fill:A.fill,fillOpacity:A.fillOpacity,x:A.x,y:A.y,width:A.width,height:A.height,ry:A.ry}),K.createElement(y5e,Nc({},A,{offset:u,horizontalPoints:E,xAxis:x,yAxis:w})),K.createElement(b5e,Nc({},A,{offset:u,verticalPoints:B,xAxis:x,yAxis:w})),K.createElement(w5e,Nc({},A,{horizontalPoints:E})),K.createElement(_5e,Nc({},A,{verticalPoints:B})))}bP.displayName="CartesianGrid";var j5e=["type","layout","connectNulls","ref"],E5e=["key"];function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function K8(t,e){if(t==null)return{};var r=S5e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function S5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Vf(){return Vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vf.apply(this,arguments)}function q8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ea(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q8(Object(r),!0).forEach(function(n){ws(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rA(t){return I5e(t)||k5e(t)||T5e(t)||N5e()}function N5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T5e(t,e){if(t){if(typeof t=="string")return KN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KN(t,e)}}function k5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function I5e(t){if(Array.isArray(t))return KN(t)}function KN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function P5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HJ(n.key),n)}}function F5e(t,e,r){return e&&G8(t.prototype,e),r&&G8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function D5e(t,e,r){return e=Ky(e),O5e(t,LJ()?Reflect.construct(e,r||[],Ky(t).constructor):e.apply(t,r))}function O5e(t,e){if(e&&(kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R5e(t)}function R5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LJ=function(){return!!t})()}function Ky(t){return Ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ky(t)}function U5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qN(t,e)}function qN(t,e){return qN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qN(t,e)}function ws(t,e,r){return e=HJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HJ(t){var e=M5e(t,"string");return kd(e)=="symbol"?e:e+""}function M5e(t,e){if(kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ug=function(t){function e(){var r;P5e(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=D5e(this,e,[].concat(a)),ws(r,"state",{isAnimationFinished:!0,totalLength:0}),ws(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ws(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(b,x){return b+x});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var A=Math.floor(o/u),d=o%u,h=l-o,f=[],m=0,g=0;m<c.length;g+=c[m],++m)if(g+c[m]>d){f=[].concat(rA(c.slice(0,m)),[d-g]);break}var p=f.length%2===0?[0,h]:[h];return[].concat(rA(e.repeat(c,A)),rA(f),p).map(function(b){return"".concat(b,"px")}).join(", ")}),ws(r,"id",ng("recharts-line-")),ws(r,"pathRef",function(o){r.mainCurve=o}),ws(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ws(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return U5e(e,t),F5e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,A=s.children,d=is(A,cg);if(!d)return null;var h=function(g,p){return{x:g.x,y:g.y,value:g.value,errorVal:Ha(g.payload,p)}},f={clipPath:n?"url(#clipPath-".concat(a,")"):null};return K.createElement(Or,f,d.map(function(m){return K.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,A=l.dataKey,d=Ot(this.props,!1),h=Ot(c,!0),f=u.map(function(g,p){var b=Ea(Ea(Ea({key:"dot-".concat(p),r:3},d),h),{},{value:g.value,dataKey:A,cx:g.x,cy:g.y,index:p,payload:g.payload});return e.renderDotItem(c,b)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return K.createElement(Or,Vf({className:"recharts-line-dots",key:"dots"},m),f)}},{key:"renderCurveStatically",value:function(n,a,s,o){var l=this.props,c=l.type,u=l.layout,A=l.connectNulls;l.ref;var d=K8(l,j5e),h=Ea(Ea(Ea({},Ot(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:A});return K.createElement(_N,Vf({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,A=o.animationBegin,d=o.animationDuration,h=o.animationEasing,f=o.animationId,m=o.animateNewValues,g=o.width,p=o.height,b=this.state,x=b.prevPoints,w=b.totalLength;return K.createElement(uo,{begin:A,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var C=y.t;if(x){var E=x.length/l.length,B=l.map(function(I,k){var R=Math.floor(k*E);if(x[R]){var M=x[R],$=Bs(M.x,I.x),U=Bs(M.y,I.y);return Ea(Ea({},I),{},{x:$(C),y:U(C)})}if(m){var O=Bs(g*2,I.x),L=Bs(p/2,I.y);return Ea(Ea({},I),{},{x:O(C),y:L(C)})}return Ea(Ea({},I),{},{x:I.x,y:I.y})});return s.renderCurveStatically(B,n,a)}var j=Bs(0,w),N=j(C),S;if(c){var T="".concat(c).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});S=s.getStrokeDasharray(N,w,T)}else S=s.generateSimpleStrokeDasharray(w,N);return s.renderCurveStatically(l,n,a,{strokeDasharray:S})})}},{key:"renderCurve",value:function(n,a){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,A=c.totalLength;return l&&o&&o.length&&(!u&&A>0||!Nw(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,A=a.yAxis,d=a.top,h=a.left,f=a.width,m=a.height,g=a.isAnimationActive,p=a.id;if(s||!l||!l.length)return null;var b=this.state.isAnimationFinished,x=l.length===1,w=Lt("recharts-line",c),y=u&&u.allowDataOverflow,C=A&&A.allowDataOverflow,E=y||C,B=Tt(p)?this.id:p,j=(n=Ot(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},N=j.r,S=N===void 0?3:N,T=j.strokeWidth,I=T===void 0?2:T,k=gSe(o)?o:{},R=k.clipDot,M=R===void 0?!0:R,$=S*2+I;return K.createElement(Or,{className:w},y||C?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(B)},K.createElement("rect",{x:y?h:h-f/2,y:C?d:d-m/2,width:y?f:f*2,height:C?m:m*2})),!M&&K.createElement("clipPath",{id:"clipPath-dots-".concat(B)},K.createElement("rect",{x:h-$/2,y:d-$/2,width:f+$,height:m+$}))):null,!x&&this.renderCurve(E,B),this.renderErrorBar(E,B),(x||o)&&this.renderDots(E,M,B),(!g||b)&&ml.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(rA(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(rA(o),rA(s));return o}},{key:"renderDotItem",value:function(n,a){var s;if(K.isValidElement(n))s=K.cloneElement(n,a);else if(jt(n))s=n(a);else{var o=a.key,l=K8(a,E5e),c=Lt("recharts-line-dot",typeof n!="boolean"?n.className:"");s=K.createElement(AP,Vf({key:o},l,{className:c}))}return s}}])}(v.PureComponent);ws(ug,"displayName","Line");ws(ug,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ah.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ws(ug,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,A=e.layout,d=c.map(function(h,f){var m=Ha(h,o);return A==="horizontal"?{x:u6({axis:r,ticks:a,bandSize:l,entry:h,index:f}),y:Tt(m)?null:n.scale(m),value:m,payload:h}:{x:Tt(m)?null:r.scale(m),y:u6({axis:n,ticks:s,bandSize:l,entry:h,index:f}),value:m,payload:h}});return Ea({points:d,layout:A},u)});function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function Q5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L5e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KJ(n.key),n)}}function H5e(t,e,r){return e&&L5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $5e(t,e,r){return e=qy(e),V5e(t,$J()?Reflect.construct(e,r||[],qy(t).constructor):e.apply(t,r))}function V5e(t,e){if(e&&(Id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K5e(t)}function K5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $J(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($J=function(){return!!t})()}function qy(t){return qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qy(t)}function q5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GN(t,e)}function GN(t,e){return GN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},GN(t,e)}function VJ(t,e,r){return e=KJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KJ(t){var e=G5e(t,"string");return Id(e)=="symbol"?e:e+""}function G5e(t,e){if(Id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zN(){return zN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zN.apply(this,arguments)}function z5e(t){var e=t.xAxisId,r=mP(),n=pP(),a=NJ(e);return a==null?null:K.createElement(ch,zN({},a,{className:Lt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Hi(o,!0)}}))}var uh=function(t){function e(){return Q5e(this,e),$5e(this,e,arguments)}return q5e(e,t),H5e(e,[{key:"render",value:function(){return K.createElement(z5e,this.props)}}])}(K.Component);VJ(uh,"displayName","XAxis");VJ(uh,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Pd(t){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(t)}function W5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X5e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zJ(n.key),n)}}function Y5e(t,e,r){return e&&X5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function J5e(t,e,r){return e=Gy(e),Z5e(t,qJ()?Reflect.construct(e,r||[],Gy(t).constructor):e.apply(t,r))}function Z5e(t,e){if(e&&(Pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eQe(t)}function eQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qJ=function(){return!!t})()}function Gy(t){return Gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gy(t)}function tQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WN(t,e)}function WN(t,e){return WN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},WN(t,e)}function GJ(t,e,r){return e=zJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zJ(t){var e=rQe(t,"string");return Pd(e)=="symbol"?e:e+""}function rQe(t,e){if(Pd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function XN(){return XN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XN.apply(this,arguments)}var nQe=function(e){var r=e.yAxisId,n=mP(),a=pP(),s=TJ(r);return s==null?null:K.createElement(ch,XN({},s,{className:Lt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Hi(l,!0)}}))},Ah=function(t){function e(){return W5e(this,e),J5e(this,e,arguments)}return tQe(e,t),Y5e(e,[{key:"render",value:function(){return K.createElement(nQe,this.props)}}])}(K.Component);GJ(Ah,"displayName","YAxis");GJ(Ah,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function z8(t){return oQe(t)||iQe(t)||sQe(t)||aQe()}function aQe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sQe(t,e){if(t){if(typeof t=="string")return YN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YN(t,e)}}function iQe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oQe(t){if(Array.isArray(t))return YN(t)}function YN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var JN=function(e,r,n,a,s){var o=is(e,xP),l=is(e,Ow),c=[].concat(z8(o),z8(l)),u=is(e,Uw),A="".concat(a,"Id"),d=a[0],h=r;if(c.length&&(h=c.reduce(function(g,p){if(p.props[A]===n&&di(p.props,"extendDomain")&&Pe(p.props[d])){var b=p.props[d];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},h)),u.length){var f="".concat(d,"1"),m="".concat(d,"2");h=u.reduce(function(g,p){if(p.props[A]===n&&di(p.props,"extendDomain")&&Pe(p.props[f])&&Pe(p.props[m])){var b=p.props[f],x=p.props[m];return[Math.min(g[0],b,x),Math.max(g[1],b,x)]}return g},h)}return s&&s.length&&(h=s.reduce(function(g,p){return Pe(p)?[Math.min(g[0],p),Math.max(g[1],p)]:g},h)),h},jE={exports:{}},W8;function lQe(){return W8||(W8=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,A){this.fn=c,this.context=u,this.once=A||!1}function s(c,u,A,d,h){if(typeof A!="function")throw new TypeError("The listener must be a function");var f=new a(A,d||c,h),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],f]:c._events[m].push(f):(c._events[m]=f,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],A,d;if(this._eventsCount===0)return u;for(d in A=this._events)e.call(A,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(A)):u},l.prototype.listeners=function(u){var A=r?r+u:u,d=this._events[A];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,m=new Array(f);h<f;h++)m[h]=d[h].fn;return m},l.prototype.listenerCount=function(u){var A=r?r+u:u,d=this._events[A];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,A,d,h,f,m){var g=r?r+u:u;if(!this._events[g])return!1;var p=this._events[g],b=arguments.length,x,w;if(p.fn){switch(p.once&&this.removeListener(u,p.fn,void 0,!0),b){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,A),!0;case 3:return p.fn.call(p.context,A,d),!0;case 4:return p.fn.call(p.context,A,d,h),!0;case 5:return p.fn.call(p.context,A,d,h,f),!0;case 6:return p.fn.call(p.context,A,d,h,f,m),!0}for(w=1,x=new Array(b-1);w<b;w++)x[w-1]=arguments[w];p.fn.apply(p.context,x)}else{var y=p.length,C;for(w=0;w<y;w++)switch(p[w].once&&this.removeListener(u,p[w].fn,void 0,!0),b){case 1:p[w].fn.call(p[w].context);break;case 2:p[w].fn.call(p[w].context,A);break;case 3:p[w].fn.call(p[w].context,A,d);break;case 4:p[w].fn.call(p[w].context,A,d,h);break;default:if(!x)for(C=1,x=new Array(b-1);C<b;C++)x[C-1]=arguments[C];p[w].fn.apply(p[w].context,x)}}return!0},l.prototype.on=function(u,A,d){return s(this,u,A,d,!1)},l.prototype.once=function(u,A,d){return s(this,u,A,d,!0)},l.prototype.removeListener=function(u,A,d,h){var f=r?r+u:u;if(!this._events[f])return this;if(!A)return o(this,f),this;var m=this._events[f];if(m.fn)m.fn===A&&(!h||m.once)&&(!d||m.context===d)&&o(this,f);else{for(var g=0,p=[],b=m.length;g<b;g++)(m[g].fn!==A||h&&!m[g].once||d&&m[g].context!==d)&&p.push(m[g]);p.length?this._events[f]=p.length===1?p[0]:p:o(this,f)}return this},l.prototype.removeAllListeners=function(u){var A;return u?(A=r?r+u:u,this._events[A]&&o(this,A)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l}(jE)),jE.exports}var cQe=lQe();const uQe=Ht(cQe);var EE=new uQe,SE="recharts.syncMouseEvents";function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function AQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dQe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WJ(n.key),n)}}function hQe(t,e,r){return e&&dQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NE(t,e,r){return e=WJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WJ(t){var e=fQe(t,"string");return xp(e)=="symbol"?e:e+""}function fQe(t,e){if(xp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mQe=function(){function t(){AQe(this,t),NE(this,"activeIndex",0),NE(this,"coordinateList",[]),NE(this,"layout","horizontal")}return hQe(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,A=r.offset,d=A===void 0?null:A,h=r.mouseHandlerCallback,f=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,A=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=s+c+u,h=o+this.offset.top+l/2+A;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function pQe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&Pe(n)&&Pe(a))return!0}return!1}function gQe(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function XJ(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,s=t.endAngle,o=kn(e,r,n,a),l=kn(e,r,n,s);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:s}}function xQe(t,e,r){var n,a,s,o;if(t==="horizontal")n=e.x,s=n,a=r.top,o=r.top+r.height;else if(t==="vertical")a=e.y,o=a,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,A=e.outerRadius,d=e.angle,h=kn(l,c,u,d),f=kn(l,c,A,d);n=h.x,a=h.y,s=f.x,o=f.y}else return XJ(e);return[{x:n,y:a},{x:s,y:o}]}function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}function X8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function D0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X8(Object(r),!0).forEach(function(n){vQe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vQe(t,e,r){return e=yQe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yQe(t){var e=bQe(t,"string");return vp(e)=="symbol"?e:e+""}function bQe(t,e){if(vp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wQe(t){var e,r,n=t.element,a=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,A=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,f=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!f||!s||!o||h!=="ScatterChart"&&a!=="axis")return null;var m,g=_N;if(h==="ScatterChart")m=o,g=yRe;else if(h==="BarChart")m=gQe(d,o,c,A),g=uP;else if(d==="radial"){var p=XJ(o),b=p.cx,x=p.cy,w=p.radius,y=p.startAngle,C=p.endAngle;m={cx:b,cy:x,startAngle:y,endAngle:C,innerRadius:w,outerRadius:w},g=nJ}else m={points:xQe(d,o,c)},g=_N;var E=D0(D0(D0(D0({stroke:"#ccc",pointerEvents:"none"},c),m),Ot(f,!1)),{},{payload:l,payloadIndex:u,className:Lt("recharts-tooltip-cursor",f.className)});return v.isValidElement(f)?v.cloneElement(f,E):v.createElement(g,E)}var _Qe=["item"],BQe=["children","className","width","height","style","compact","title","desc"];function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function Kf(){return Kf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kf.apply(this,arguments)}function Y8(t,e){return EQe(t)||jQe(t,e)||JJ(t,e)||CQe()}function CQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jQe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function EQe(t){if(Array.isArray(t))return t}function J8(t,e){if(t==null)return{};var r=SQe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function SQe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function NQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TQe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZJ(n.key),n)}}function kQe(t,e,r){return e&&TQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IQe(t,e,r){return e=zy(e),PQe(t,YJ()?Reflect.construct(e,r||[],zy(t).constructor):e.apply(t,r))}function PQe(t,e){if(e&&(Fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FQe(t)}function FQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YJ=function(){return!!t})()}function zy(t){return zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zy(t)}function DQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZN(t,e)}function ZN(t,e){return ZN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ZN(t,e)}function Dd(t){return UQe(t)||RQe(t)||JJ(t)||OQe()}function OQe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JJ(t,e){if(t){if(typeof t=="string")return eT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eT(t,e)}}function RQe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UQe(t){if(Array.isArray(t))return eT(t)}function eT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Z8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z8(Object(r),!0).forEach(function(n){At(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function At(t,e,r){return e=ZJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZJ(t){var e=MQe(t,"string");return Fd(e)=="symbol"?e:e+""}function MQe(t,e){if(Fd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QQe={xAxis:["bottom","top"],yAxis:["left","right"]},LQe={width:"100%",height:"100%"},eZ={x:0,y:0};function O0(t){return t}var HQe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},$Qe=function(e,r,n,a){var s=r.find(function(A){return A&&A.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,l=a.radius;return Ae(Ae(Ae({},a),kn(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=a.angle;return Ae(Ae(Ae({},a),kn(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return eZ},Mw=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Dd(l),Dd(u)):l},[]);return o.length>0?o:e&&e.length&&Pe(a)&&Pe(s)?e.slice(a,s+1):[]};function tZ(t){return t==="number"?[0,"auto"]:void 0}var tT=function(e,r,n,a){var s=e.graphicalItems,o=e.tooltipAxis,l=Mw(r,e);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var A,d=(A=u.props.data)!==null&&A!==void 0?A:r;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var f=d===void 0?l:d;h=Zv(f,o.dataKey,a)}else h=d&&d[n]||l[n];return h?[].concat(Dd(c),[eJ(u,h)]):c},[])},eL=function(e,r,n,a){var s=a||{x:e.chartX,y:e.chartY},o=HQe(s,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,A=gFe(o,l,u,c);if(A>=0&&u){var d=u[A]&&u[A].value,h=tT(e,r,A,d),f=$Qe(n,l,A,s);return{activeTooltipIndex:A,activeLabel:d,activePayload:h,activeCoordinate:f}}return null},VQe=function(e,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,A=e.layout,d=e.children,h=e.stackOffset,f=YY(A,s);return n.reduce(function(m,g){var p,b=g.type.defaultProps!==void 0?Ae(Ae({},g.type.defaultProps),g.props):g.props,x=b.type,w=b.dataKey,y=b.allowDataOverflow,C=b.allowDuplicatedCategory,E=b.scale,B=b.ticks,j=b.includeHidden,N=b[o];if(m[N])return m;var S=Mw(e.data,{graphicalItems:a.filter(function(Q){var z,q=o in Q.props?Q.props[o]:(z=Q.type.defaultProps)===null||z===void 0?void 0:z[o];return q===N}),dataStartIndex:c,dataEndIndex:u}),T=S.length,I,k,R;pQe(b.domain,y,x)&&(I=xN(b.domain,null,y),f&&(x==="number"||E!=="auto")&&(R=Hf(S,w,"category")));var M=tZ(x);if(!I||I.length===0){var $,U=($=b.domain)!==null&&$!==void 0?$:M;if(w){if(I=Hf(S,w,x),x==="category"&&f){var O=lSe(I);C&&O?(k=I,I=Dy(0,T)):C||(I=f6(U,I,g).reduce(function(Q,z){return Q.indexOf(z)>=0?Q:[].concat(Dd(Q),[z])},[]))}else if(x==="category")C?I=I.filter(function(Q){return Q!==""&&!Tt(Q)}):I=f6(U,I,g).reduce(function(Q,z){return Q.indexOf(z)>=0||z===""||Tt(z)?Q:[].concat(Dd(Q),[z])},[]);else if(x==="number"){var L=wFe(S,a.filter(function(Q){var z,q,W=o in Q.props?Q.props[o]:(z=Q.type.defaultProps)===null||z===void 0?void 0:z[o],ee="hide"in Q.props?Q.props.hide:(q=Q.type.defaultProps)===null||q===void 0?void 0:q.hide;return W===N&&(j||!ee)}),w,s,A);L&&(I=L)}f&&(x==="number"||E!=="auto")&&(R=Hf(S,w,"category"))}else f?I=Dy(0,T):l&&l[N]&&l[N].hasStack&&x==="number"?I=h==="expand"?[0,1]:ZY(l[N].stackGroups,c,u):I=XY(S,a.filter(function(Q){var z=o in Q.props?Q.props[o]:Q.type.defaultProps[o],q="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return z===N&&(j||!q)}),x,A,!0);if(x==="number")I=JN(d,I,N,s,B),U&&(I=xN(U,I,y));else if(x==="category"&&U){var H=U,D=I.every(function(Q){return H.indexOf(Q)>=0});D&&(I=H)}}return Ae(Ae({},m),{},At({},N,Ae(Ae({},b),{},{axisType:s,domain:I,categoricalDomain:R,duplicateDomain:k,originalDomain:(p=b.domain)!==null&&p!==void 0?p:M,isCategorical:f,layout:A})))},{})},KQe=function(e,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,A=e.layout,d=e.children,h=Mw(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),f=h.length,m=YY(A,s),g=-1;return n.reduce(function(p,b){var x=b.type.defaultProps!==void 0?Ae(Ae({},b.type.defaultProps),b.props):b.props,w=x[o],y=tZ("number");if(!p[w]){g++;var C;return m?C=Dy(0,f):l&&l[w]&&l[w].hasStack?(C=ZY(l[w].stackGroups,c,u),C=JN(d,C,w,s)):(C=xN(y,XY(h,n.filter(function(E){var B,j,N=o in E.props?E.props[o]:(B=E.type.defaultProps)===null||B===void 0?void 0:B[o],S="hide"in E.props?E.props.hide:(j=E.type.defaultProps)===null||j===void 0?void 0:j.hide;return N===w&&!S}),"number",A),a.defaultProps.allowDataOverflow),C=JN(d,C,w,s)),Ae(Ae({},p),{},At({},w,Ae(Ae({axisType:s},a.defaultProps),{},{hide:!0,orientation:ss(QQe,"".concat(s,".").concat(g%2),null),domain:C,originalDomain:y,isCategorical:m,layout:A})))}return p},{})},qQe=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,A=e.children,d="".concat(a,"Id"),h=is(A,s),f={};return h&&h.length?f=VQe(e,{axes:h,graphicalItems:o,axisType:a,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(f=KQe(e,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),f},GQe=function(e){var r=$o(e),n=Hi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:RI(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:jy(r,n)}},tL=function(e){var r=e.children,n=e.defaultShowTooltip,a=Ia(r,Cd),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},zQe=function(e){return!e||!e.length?!1:e.some(function(r){var n=zi(r&&r.type);return n&&n.indexOf("Bar")>=0})},rL=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},WQe=function(e,r){var n=e.props,a=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,A=n.height,d=n.children,h=n.margin||{},f=Ia(d,Cd),m=Ia(d,jA),g=Object.keys(c).reduce(function(C,E){var B=c[E],j=B.orientation;return!B.mirror&&!B.hide?Ae(Ae({},C),{},At({},j,C[j]+B.width)):C},{left:h.left||0,right:h.right||0}),p=Object.keys(o).reduce(function(C,E){var B=o[E],j=B.orientation;return!B.mirror&&!B.hide?Ae(Ae({},C),{},At({},j,ss(C,"".concat(j))+B.height)):C},{top:h.top||0,bottom:h.bottom||0}),b=Ae(Ae({},p),g),x=b.bottom;f&&(b.bottom+=f.props.height||Cd.defaultProps.height),m&&r&&(b=yFe(b,a,n,r));var w=u-b.left-b.right,y=A-b.top-b.bottom;return Ae(Ae({brushBottom:x},b),{},{width:Math.max(w,0),height:Math.max(y,0)})},XQe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},rZ=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,s=a===void 0?"axis":a,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,A=e.formatAxisMap,d=e.defaultProps,h=function(p,b){var x=b.graphicalItems,w=b.stackGroups,y=b.offset,C=b.updateId,E=b.dataStartIndex,B=b.dataEndIndex,j=p.barSize,N=p.layout,S=p.barGap,T=p.barCategoryGap,I=p.maxBarSize,k=rL(N),R=k.numericAxisName,M=k.cateAxisName,$=zQe(x),U=[];return x.forEach(function(O,L){var H=Mw(p.data,{graphicalItems:[O],dataStartIndex:E,dataEndIndex:B}),D=O.type.defaultProps!==void 0?Ae(Ae({},O.type.defaultProps),O.props):O.props,Q=D.dataKey,z=D.maxBarSize,q=D["".concat(R,"Id")],W=D["".concat(M,"Id")],ee={},oe=c.reduce(function(ie,ge){var we=b["".concat(ge.axisType,"Map")],xe=D["".concat(ge.axisType,"Id")];we&&we[xe]||ge.axisType==="zAxis"||uu();var Ke=we[xe];return Ae(Ae({},ie),{},At(At({},ge.axisType,Ke),"".concat(ge.axisType,"Ticks"),Hi(Ke)))},ee),ne=oe[M],ce=oe["".concat(M,"Ticks")],de=w&&w[q]&&w[q].hasStack&&FFe(O,w[q].stackGroups),be=zi(O.type).indexOf("Bar")>=0,Y=jy(ne,ce),pe=[],je=$&&xFe({barSize:j,stackGroups:w,totalSize:XQe(oe,M)});if(be){var Le,Ve,bt=Tt(z)?I:z,X=(Le=(Ve=jy(ne,ce,!0))!==null&&Ve!==void 0?Ve:bt)!==null&&Le!==void 0?Le:0;pe=vFe({barGap:S,barCategoryGap:T,bandSize:X!==Y?X:Y,sizeList:je[W],maxBarSize:bt}),X!==Y&&(pe=pe.map(function(ie){return Ae(Ae({},ie),{},{position:Ae(Ae({},ie.position),{},{offset:ie.position.offset-X/2})})}))}var re=O&&O.type&&O.type.getComposedData;re&&U.push({props:Ae(Ae({},re(Ae(Ae({},oe),{},{displayedData:H,props:p,dataKey:Q,item:O,bandSize:Y,barPosition:pe,offset:y,stackedData:de,layout:N,dataStartIndex:E,dataEndIndex:B}))),{},At(At(At({key:O.key||"item-".concat(L)},R,oe[R]),M,oe[M]),"animationId",C)),childIndex:ySe(O,p.children),item:O})}),U},f=function(p,b){var x=p.props,w=p.dataStartIndex,y=p.dataEndIndex,C=p.updateId;if(!SM({props:x}))return null;var E=x.children,B=x.layout,j=x.stackOffset,N=x.data,S=x.reverseStackOrder,T=rL(B),I=T.numericAxisName,k=T.cateAxisName,R=is(E,n),M=kFe(N,R,"".concat(I,"Id"),"".concat(k,"Id"),j,S),$=c.reduce(function(D,Q){var z="".concat(Q.axisType,"Map");return Ae(Ae({},D),{},At({},z,qQe(x,Ae(Ae({},Q),{},{graphicalItems:R,stackGroups:Q.axisType===I&&M,dataStartIndex:w,dataEndIndex:y}))))},{}),U=WQe(Ae(Ae({},$),{},{props:x,graphicalItems:R}),b==null?void 0:b.legendBBox);Object.keys($).forEach(function(D){$[D]=A(x,$[D],U,D.replace("Map",""),r)});var O=$["".concat(k,"Map")],L=GQe(O),H=h(x,Ae(Ae({},$),{},{dataStartIndex:w,dataEndIndex:y,updateId:C,graphicalItems:R,stackGroups:M,offset:U}));return Ae(Ae({formattedGraphicalItems:H,graphicalItems:R,offset:U,stackGroups:M},L),$)},m=function(g){function p(b){var x,w,y;return NQe(this,p),y=IQe(this,p,[b]),At(y,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),At(y,"accessibilityManager",new mQe),At(y,"handleLegendBBoxUpdate",function(C){if(C){var E=y.state,B=E.dataStartIndex,j=E.dataEndIndex,N=E.updateId;y.setState(Ae({legendBBox:C},f({props:y.props,dataStartIndex:B,dataEndIndex:j,updateId:N},Ae(Ae({},y.state),{},{legendBBox:C}))))}}),At(y,"handleReceiveSyncEvent",function(C,E,B){if(y.props.syncId===C){if(B===y.eventEmitterSymbol&&typeof y.props.syncMethod!="function")return;y.applySyncEvent(E)}}),At(y,"handleBrushChange",function(C){var E=C.startIndex,B=C.endIndex;if(E!==y.state.dataStartIndex||B!==y.state.dataEndIndex){var j=y.state.updateId;y.setState(function(){return Ae({dataStartIndex:E,dataEndIndex:B},f({props:y.props,dataStartIndex:E,dataEndIndex:B,updateId:j},y.state))}),y.triggerSyncEvent({dataStartIndex:E,dataEndIndex:B})}}),At(y,"handleMouseEnter",function(C){var E=y.getMouseInfo(C);if(E){var B=Ae(Ae({},E),{},{isTooltipActive:!0});y.setState(B),y.triggerSyncEvent(B);var j=y.props.onMouseEnter;jt(j)&&j(B,C)}}),At(y,"triggeredAfterMouseMove",function(C){var E=y.getMouseInfo(C),B=E?Ae(Ae({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};y.setState(B),y.triggerSyncEvent(B);var j=y.props.onMouseMove;jt(j)&&j(B,C)}),At(y,"handleItemMouseEnter",function(C){y.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),At(y,"handleItemMouseLeave",function(){y.setState(function(){return{isTooltipActive:!1}})}),At(y,"handleMouseMove",function(C){C.persist(),y.throttleTriggeredAfterMouseMove(C)}),At(y,"handleMouseLeave",function(C){y.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};y.setState(E),y.triggerSyncEvent(E);var B=y.props.onMouseLeave;jt(B)&&B(E,C)}),At(y,"handleOuterEvent",function(C){var E=vSe(C),B=ss(y.props,"".concat(E));if(E&&jt(B)){var j,N;/.*touch.*/i.test(E)?N=y.getMouseInfo(C.changedTouches[0]):N=y.getMouseInfo(C),B((j=N)!==null&&j!==void 0?j:{},C)}}),At(y,"handleClick",function(C){var E=y.getMouseInfo(C);if(E){var B=Ae(Ae({},E),{},{isTooltipActive:!0});y.setState(B),y.triggerSyncEvent(B);var j=y.props.onClick;jt(j)&&j(B,C)}}),At(y,"handleMouseDown",function(C){var E=y.props.onMouseDown;if(jt(E)){var B=y.getMouseInfo(C);E(B,C)}}),At(y,"handleMouseUp",function(C){var E=y.props.onMouseUp;if(jt(E)){var B=y.getMouseInfo(C);E(B,C)}}),At(y,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&y.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),At(y,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&y.handleMouseDown(C.changedTouches[0])}),At(y,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&y.handleMouseUp(C.changedTouches[0])}),At(y,"triggerSyncEvent",function(C){y.props.syncId!==void 0&&EE.emit(SE,y.props.syncId,C,y.eventEmitterSymbol)}),At(y,"applySyncEvent",function(C){var E=y.props,B=E.layout,j=E.syncMethod,N=y.state.updateId,S=C.dataStartIndex,T=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)y.setState(Ae({dataStartIndex:S,dataEndIndex:T},f({props:y.props,dataStartIndex:S,dataEndIndex:T,updateId:N},y.state)));else if(C.activeTooltipIndex!==void 0){var I=C.chartX,k=C.chartY,R=C.activeTooltipIndex,M=y.state,$=M.offset,U=M.tooltipTicks;if(!$)return;if(typeof j=="function")R=j(U,C);else if(j==="value"){R=-1;for(var O=0;O<U.length;O++)if(U[O].value===C.activeLabel){R=O;break}}var L=Ae(Ae({},$),{},{x:$.left,y:$.top}),H=Math.min(I,L.x+L.width),D=Math.min(k,L.y+L.height),Q=U[R]&&U[R].value,z=tT(y.state,y.props.data,R),q=U[R]?{x:B==="horizontal"?U[R].coordinate:H,y:B==="horizontal"?D:U[R].coordinate}:eZ;y.setState(Ae(Ae({},C),{},{activeLabel:Q,activeCoordinate:q,activePayload:z,activeTooltipIndex:R}))}else y.setState(C)}),At(y,"renderCursor",function(C){var E,B=y.state,j=B.isTooltipActive,N=B.activeCoordinate,S=B.activePayload,T=B.offset,I=B.activeTooltipIndex,k=B.tooltipAxisBandSize,R=y.getTooltipEventType(),M=(E=C.props.active)!==null&&E!==void 0?E:j,$=y.props.layout,U=C.key||"_recharts-cursor";return K.createElement(wQe,{key:U,activeCoordinate:N,activePayload:S,activeTooltipIndex:I,chartName:r,element:C,isActive:M,layout:$,offset:T,tooltipAxisBandSize:k,tooltipEventType:R})}),At(y,"renderPolarAxis",function(C,E,B){var j=ss(C,"type.axisType"),N=ss(y.state,"".concat(j,"Map")),S=C.type.defaultProps,T=S!==void 0?Ae(Ae({},S),C.props):C.props,I=N&&N[T["".concat(j,"Id")]];return v.cloneElement(C,Ae(Ae({},I),{},{className:Lt(j,I.className),key:C.key||"".concat(E,"-").concat(B),ticks:Hi(I,!0)}))}),At(y,"renderPolarGrid",function(C){var E=C.props,B=E.radialLines,j=E.polarAngles,N=E.polarRadius,S=y.state,T=S.radiusAxisMap,I=S.angleAxisMap,k=$o(T),R=$o(I),M=R.cx,$=R.cy,U=R.innerRadius,O=R.outerRadius;return v.cloneElement(C,{polarAngles:Array.isArray(j)?j:Hi(R,!0).map(function(L){return L.coordinate}),polarRadius:Array.isArray(N)?N:Hi(k,!0).map(function(L){return L.coordinate}),cx:M,cy:$,innerRadius:U,outerRadius:O,key:C.key||"polar-grid",radialLines:B})}),At(y,"renderLegend",function(){var C=y.state.formattedGraphicalItems,E=y.props,B=E.children,j=E.width,N=E.height,S=y.props.margin||{},T=j-(S.left||0)-(S.right||0),I=zY({children:B,formattedGraphicalItems:C,legendWidth:T,legendContent:u});if(!I)return null;var k=I.item,R=J8(I,_Qe);return v.cloneElement(k,Ae(Ae({},R),{},{chartWidth:j,chartHeight:N,margin:S,onBBoxUpdate:y.handleLegendBBoxUpdate}))}),At(y,"renderTooltip",function(){var C,E=y.props,B=E.children,j=E.accessibilityLayer,N=Ia(B,ys);if(!N)return null;var S=y.state,T=S.isTooltipActive,I=S.activeCoordinate,k=S.activePayload,R=S.activeLabel,M=S.offset,$=(C=N.props.active)!==null&&C!==void 0?C:T;return v.cloneElement(N,{viewBox:Ae(Ae({},M),{},{x:M.left,y:M.top}),active:$,label:R,payload:$?k:[],coordinate:I,accessibilityLayer:j})}),At(y,"renderBrush",function(C){var E=y.props,B=E.margin,j=E.data,N=y.state,S=N.offset,T=N.dataStartIndex,I=N.dataEndIndex,k=N.updateId;return v.cloneElement(C,{key:C.key||"_recharts-brush",onChange:k0(y.handleBrushChange,C.props.onChange),data:j,x:Pe(C.props.x)?C.props.x:S.left,y:Pe(C.props.y)?C.props.y:S.top+S.height+S.brushBottom-(B.bottom||0),width:Pe(C.props.width)?C.props.width:S.width,startIndex:T,endIndex:I,updateId:"brush-".concat(k)})}),At(y,"renderReferenceElement",function(C,E,B){if(!C)return null;var j=y,N=j.clipPathId,S=y.state,T=S.xAxisMap,I=S.yAxisMap,k=S.offset,R=C.type.defaultProps||{},M=C.props,$=M.xAxisId,U=$===void 0?R.xAxisId:$,O=M.yAxisId,L=O===void 0?R.yAxisId:O;return v.cloneElement(C,{key:C.key||"".concat(E,"-").concat(B),xAxis:T[U],yAxis:I[L],viewBox:{x:k.left,y:k.top,width:k.width,height:k.height},clipPathId:N})}),At(y,"renderActivePoints",function(C){var E=C.item,B=C.activePoint,j=C.basePoint,N=C.childIndex,S=C.isRange,T=[],I=E.props.key,k=E.item.type.defaultProps!==void 0?Ae(Ae({},E.item.type.defaultProps),E.item.props):E.item.props,R=k.activeDot,M=k.dataKey,$=Ae(Ae({index:N,dataKey:M,cx:B.x,cy:B.y,r:4,fill:cP(E.item),strokeWidth:2,stroke:"#fff",payload:B.payload,value:B.value},Ot(R,!1)),ey(R));return T.push(p.renderActiveDot(R,$,"".concat(I,"-activePoint-").concat(N))),j?T.push(p.renderActiveDot(R,Ae(Ae({},$),{},{cx:j.x,cy:j.y}),"".concat(I,"-basePoint-").concat(N))):S&&T.push(null),T}),At(y,"renderGraphicChild",function(C,E,B){var j=y.filterFormatItem(C,E,B);if(!j)return null;var N=y.getTooltipEventType(),S=y.state,T=S.isTooltipActive,I=S.tooltipAxis,k=S.activeTooltipIndex,R=S.activeLabel,M=y.props.children,$=Ia(M,ys),U=j.props,O=U.points,L=U.isRange,H=U.baseLine,D=j.item.type.defaultProps!==void 0?Ae(Ae({},j.item.type.defaultProps),j.item.props):j.item.props,Q=D.activeDot,z=D.hide,q=D.activeBar,W=D.activeShape,ee=!!(!z&&T&&$&&(Q||q||W)),oe={};N!=="axis"&&$&&$.props.trigger==="click"?oe={onClick:k0(y.handleItemMouseEnter,C.props.onClick)}:N!=="axis"&&(oe={onMouseLeave:k0(y.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:k0(y.handleItemMouseEnter,C.props.onMouseEnter)});var ne=v.cloneElement(C,Ae(Ae({},j.props),oe));function ce(ge){return typeof I.dataKey=="function"?I.dataKey(ge.payload):null}if(ee)if(k>=0){var de,be;if(I.dataKey&&!I.allowDuplicatedCategory){var Y=typeof I.dataKey=="function"?ce:"payload.".concat(I.dataKey.toString());de=Zv(O,Y,R),be=L&&H&&Zv(H,Y,R)}else de=O==null?void 0:O[k],be=L&&H&&H[k];if(W||q){var pe=C.props.activeIndex!==void 0?C.props.activeIndex:k;return[v.cloneElement(C,Ae(Ae(Ae({},j.props),oe),{},{activeIndex:pe})),null,null]}if(!Tt(de))return[ne].concat(Dd(y.renderActivePoints({item:j,activePoint:de,basePoint:be,childIndex:k,isRange:L})))}else{var je,Le=(je=y.getItemByXY(y.state.activeCoordinate))!==null&&je!==void 0?je:{graphicalItem:ne},Ve=Le.graphicalItem,bt=Ve.item,X=bt===void 0?C:bt,re=Ve.childIndex,ie=Ae(Ae(Ae({},j.props),oe),{},{activeIndex:re});return[v.cloneElement(X,ie),null,null]}return L?[ne,null,null]:[ne,null]}),At(y,"renderCustomized",function(C,E,B){return v.cloneElement(C,Ae(Ae({key:"recharts-customized-".concat(B)},y.props),y.state))}),At(y,"renderMap",{CartesianGrid:{handler:O0,once:!0},ReferenceArea:{handler:y.renderReferenceElement},ReferenceLine:{handler:O0},ReferenceDot:{handler:y.renderReferenceElement},XAxis:{handler:O0},YAxis:{handler:O0},Brush:{handler:y.renderBrush,once:!0},Bar:{handler:y.renderGraphicChild},Line:{handler:y.renderGraphicChild},Area:{handler:y.renderGraphicChild},Radar:{handler:y.renderGraphicChild},RadialBar:{handler:y.renderGraphicChild},Scatter:{handler:y.renderGraphicChild},Pie:{handler:y.renderGraphicChild},Funnel:{handler:y.renderGraphicChild},Tooltip:{handler:y.renderCursor,once:!0},PolarGrid:{handler:y.renderPolarGrid,once:!0},PolarAngleAxis:{handler:y.renderPolarAxis},PolarRadiusAxis:{handler:y.renderPolarAxis},Customized:{handler:y.renderCustomized}}),y.clipPathId="".concat((x=b.id)!==null&&x!==void 0?x:ng("recharts"),"-clip"),y.throttleTriggeredAfterMouseMove=GX(y.triggeredAfterMouseMove,(w=b.throttleDelay)!==null&&w!==void 0?w:1e3/60),y.state={},y}return DQe(p,g),kQe(p,[{key:"componentDidMount",value:function(){var x,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,w=x.children,y=x.data,C=x.height,E=x.layout,B=Ia(w,ys);if(B){var j=B.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,S=tT(this.state,y,j,N),T=this.state.tooltipTicks[j].coordinate,I=(this.state.offset.top+C)/2,k=E==="horizontal",R=k?{x:T,y:I}:{y:T,x:I},M=this.state.formattedGraphicalItems.find(function(U){var O=U.item;return O.type.name==="Scatter"});M&&(R=Ae(Ae({},R),M.props.points[j].tooltipPosition),S=M.props.points[j].tooltipPayload);var $={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:N,activePayload:S,activeCoordinate:R};this.setState($),this.renderCursor(B),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var y,C;this.accessibilityManager.setDetails({offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(x){Q2([Ia(x.children,ys)],[Ia(this.props.children,ys)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Ia(this.props.children,ys);if(x&&typeof x.props.shared=="boolean"){var w=x.props.shared?"axis":"item";return l.indexOf(w)>=0?w:s}return s}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var w=this.container,y=w.getBoundingClientRect(),C=oke(y),E={chartX:Math.round(x.pageX-C.left),chartY:Math.round(x.pageY-C.top)},B=y.width/w.offsetWidth||1,j=this.inRange(E.chartX,E.chartY,B);if(!j)return null;var N=this.state,S=N.xAxisMap,T=N.yAxisMap,I=this.getTooltipEventType();if(I!=="axis"&&S&&T){var k=$o(S).scale,R=$o(T).scale,M=k&&k.invert?k.invert(E.chartX):null,$=R&&R.invert?R.invert(E.chartY):null;return Ae(Ae({},E),{},{xValue:M,yValue:$})}var U=eL(this.state,this.props.data,this.props.layout,j);return U?Ae(Ae({},E),U):null}},{key:"inRange",value:function(x,w){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,E=x/y,B=w/y;if(C==="horizontal"||C==="vertical"){var j=this.state.offset,N=E>=j.left&&E<=j.left+j.width&&B>=j.top&&B<=j.top+j.height;return N?{x:E,y:B}:null}var S=this.state,T=S.angleAxisMap,I=S.radiusAxisMap;if(T&&I){var k=$o(T);return g6({x:E,y:B},k)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,w=this.getTooltipEventType(),y=Ia(x,ys),C={};y&&w==="axis"&&(y.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var E=ey(this.props,this.handleOuterEvent);return Ae(Ae({},E),C)}},{key:"addListener",value:function(){EE.on(SE,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){EE.removeListener(SE,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,w,y){for(var C=this.state.formattedGraphicalItems,E=0,B=C.length;E<B;E++){var j=C[E];if(j.item===x||j.props.key===x.key||w===zi(j.item.type)&&y===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,w=this.state.offset,y=w.left,C=w.top,E=w.height,B=w.width;return K.createElement("defs",null,K.createElement("clipPath",{id:x},K.createElement("rect",{x:y,y:C,height:E,width:B})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(w,y){var C=Y8(y,2),E=C[0],B=C[1];return Ae(Ae({},w),{},At({},E,B.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(w,y){var C=Y8(y,2),E=C[0],B=C[1];return Ae(Ae({},w),{},At({},E,B.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[x])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(x){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[x])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(x){var w=this.state,y=w.formattedGraphicalItems,C=w.activeItem;if(y&&y.length)for(var E=0,B=y.length;E<B;E++){var j=y[E],N=j.props,S=j.item,T=S.type.defaultProps!==void 0?Ae(Ae({},S.type.defaultProps),S.props):S.props,I=zi(S.type);if(I==="Bar"){var k=(N.data||[]).find(function(U){return uRe(x,U)});if(k)return{graphicalItem:j,payload:k}}else if(I==="RadialBar"){var R=(N.data||[]).find(function(U){return g6(x,U)});if(R)return{graphicalItem:j,payload:R}}else if(Iw(j,C)||Pw(j,C)||hp(j,C)){var M=eUe({graphicalItem:j,activeTooltipItem:C,itemData:T.data}),$=T.activeIndex===void 0?M:T.activeIndex;return{graphicalItem:Ae(Ae({},j),{},{childIndex:$}),payload:hp(j,C)?T.data[M]:j.props.data[M]}}}return null}},{key:"render",value:function(){var x=this;if(!SM(this))return null;var w=this.props,y=w.children,C=w.className,E=w.width,B=w.height,j=w.style,N=w.compact,S=w.title,T=w.desc,I=J8(w,BQe),k=Ot(I,!1);if(N)return K.createElement(I8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(H2,Kf({},k,{width:E,height:B,title:S,desc:T}),this.renderClipPath(),TM(y,this.renderMap)));if(this.props.accessibilityLayer){var R,M;k.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,k.role=(M=this.props.role)!==null&&M!==void 0?M:"application",k.onKeyDown=function(U){x.accessibilityManager.keyboardEvent(U)},k.onFocus=function(){x.accessibilityManager.focus()}}var $=this.parseEventsOfWrapper();return K.createElement(I8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",Kf({className:Lt("recharts-wrapper",C),style:Ae({position:"relative",cursor:"default",width:E,height:B},j)},$,{ref:function(O){x.container=O}}),K.createElement(H2,Kf({},k,{width:E,height:B,title:S,desc:T,style:LQe}),this.renderClipPath(),TM(y,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);return At(m,"displayName",r),At(m,"defaultProps",Ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),At(m,"getDerivedStateFromProps",function(g,p){var b=g.dataKey,x=g.data,w=g.children,y=g.width,C=g.height,E=g.layout,B=g.stackOffset,j=g.margin,N=p.dataStartIndex,S=p.dataEndIndex;if(p.updateId===void 0){var T=tL(g);return Ae(Ae(Ae({},T),{},{updateId:0},f(Ae(Ae({props:g},T),{},{updateId:0}),p)),{},{prevDataKey:b,prevData:x,prevWidth:y,prevHeight:C,prevLayout:E,prevStackOffset:B,prevMargin:j,prevChildren:w})}if(b!==p.prevDataKey||x!==p.prevData||y!==p.prevWidth||C!==p.prevHeight||E!==p.prevLayout||B!==p.prevStackOffset||!CA(j,p.prevMargin)){var I=tL(g),k={chartX:p.chartX,chartY:p.chartY,isTooltipActive:p.isTooltipActive},R=Ae(Ae({},eL(p,x,E)),{},{updateId:p.updateId+1}),M=Ae(Ae(Ae({},I),k),R);return Ae(Ae(Ae({},M),f(Ae({props:g},M),p)),{},{prevDataKey:b,prevData:x,prevWidth:y,prevHeight:C,prevLayout:E,prevStackOffset:B,prevMargin:j,prevChildren:w})}if(!Q2(w,p.prevChildren)){var $,U,O,L,H=Ia(w,Cd),D=H&&($=(U=H.props)===null||U===void 0?void 0:U.startIndex)!==null&&$!==void 0?$:N,Q=H&&(O=(L=H.props)===null||L===void 0?void 0:L.endIndex)!==null&&O!==void 0?O:S,z=D!==N||Q!==S,q=!Tt(x),W=q&&!z?p.updateId:p.updateId+1;return Ae(Ae({updateId:W},f(Ae(Ae({props:g},p),{},{updateId:W,dataStartIndex:D,dataEndIndex:Q}),p)),{},{prevChildren:w,dataStartIndex:D,dataEndIndex:Q})}return null}),At(m,"renderActiveDot",function(g,p,b){var x;return v.isValidElement(g)?x=v.cloneElement(g,p):jt(g)?x=g(p):x=K.createElement(AP,p),K.createElement(Or,{className:"recharts-active-dot",key:b},x)}),function(p){return K.createElement(m,p)}},YQe=rZ({chartName:"LineChart",GraphicalChild:ug,axisComponents:[{axisType:"xAxis",AxisComp:uh},{axisType:"yAxis",AxisComp:Ah}],formatAxisMap:bJ}),JQe=rZ({chartName:"BarChart",GraphicalChild:xu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:uh},{axisType:"yAxis",AxisComp:Ah}],formatAxisMap:bJ});const ZQe={light:"",dark:".dark"},nZ=v.createContext(null);function aZ(){const t=v.useContext(nZ);if(!t)throw new Error("useChart must be used within a <ChartContainer />");return t}const wP=v.forwardRef(({id:t,className:e,children:r,config:n,...a},s)=>{const o=v.useId(),l=`chart-${t||o.replace(/:/g,"")}`;return i.jsx(nZ.Provider,{value:{config:n},children:i.jsxs("div",{"data-chart":l,ref:s,className:he("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",e),...a,children:[i.jsx(e3e,{id:l,config:n}),i.jsx(eke,{children:r})]})})});wP.displayName="Chart";const e3e=({id:t,config:e})=>{const r=Object.entries(e).filter(([n,a])=>a.theme||a.color);return r.length?i.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(ZQe).map(([n,a])=>`
${a} [data-chart=${t}] {
${r.map(([s,o])=>{var c;const l=((c=o.theme)==null?void 0:c[n])||o.color;return l?`  --color-${s}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},t3e=v.forwardRef(({active:t,payload:e,className:r,indicator:n="dot",hideLabel:a=!1,hideIndicator:s=!1,label:o,labelFormatter:l,labelClassName:c,formatter:u,color:A,nameKey:d,labelKey:h},f)=>{const{config:m}=aZ(),g=v.useMemo(()=>{var C;if(a||!(e!=null&&e.length))return null;const[b]=e,x=`${h||b.dataKey||b.name||"value"}`,w=rT(m,b,x),y=!h&&typeof o=="string"?((C=m[o])==null?void 0:C.label)||o:w==null?void 0:w.label;return l?i.jsx("div",{className:he("font-medium",c),children:l(y,e)}):y?i.jsx("div",{className:he("font-medium",c),children:y}):null},[o,l,e,a,c,m,h]);if(!t||!(e!=null&&e.length))return null;const p=e.length===1&&n!=="dot";return i.jsxs("div",{ref:f,className:he("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[p?null:g,i.jsx("div",{className:"grid gap-1.5",children:e.map((b,x)=>{const w=`${d||b.name||b.dataKey||"value"}`,y=rT(m,b,w),C=A||b.payload.fill||b.color;return i.jsx("div",{className:he("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(b==null?void 0:b.value)!==void 0&&b.name?u(b.value,b.name,b,x,b.payload):i.jsxs(i.Fragment,{children:[y!=null&&y.icon?i.jsx(y.icon,{}):!s&&i.jsx("div",{className:he("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":p&&n==="dashed"}),style:{"--color-bg":C,"--color-border":C}}),i.jsxs("div",{className:he("flex flex-1 justify-between leading-none",p?"items-end":"items-center"),children:[i.jsxs("div",{className:"grid gap-1.5",children:[p?g:null,i.jsx("span",{className:"text-muted-foreground",children:(y==null?void 0:y.label)||b.name})]}),b.value&&i.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:b.value.toLocaleString()})]})]})},b.dataKey)})})]})});t3e.displayName="ChartTooltip";const r3e=v.forwardRef(({className:t,hideIcon:e=!1,payload:r,verticalAlign:n="bottom",nameKey:a},s)=>{const{config:o}=aZ();return r!=null&&r.length?i.jsx("div",{ref:s,className:he("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",t),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,u=rT(o,l,c);return i.jsxs("div",{className:he("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!e?i.jsx(u.icon,{}):i.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});r3e.displayName="ChartLegend";function rT(t,e,r){if(typeof e!="object"||e===null)return;const n="payload"in e&&typeof e.payload=="object"&&e.payload!==null?e.payload:void 0;let a=r;return r in e&&typeof e[r]=="string"?a=e[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in t?t[a]:t[r]}function sZ({data:t,index:e,categories:r,colors:n=["#FF7E47"],valueFormatter:a=o=>`${o}`,yAxisWidth:s=40}){return i.jsx(wP,{config:{[r[0]]:{color:n[0]}},children:i.jsxs(JQe,{data:t,margin:{top:20,right:20,bottom:20,left:20},children:[i.jsx(bP,{strokeDasharray:"3 3",vertical:!1}),i.jsx(uh,{dataKey:e}),i.jsx(Ah,{width:s,tickFormatter:a}),i.jsx(ys,{content:({active:o,payload:l})=>o&&l&&l.length?i.jsx("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:i.jsx("div",{className:"grid grid-cols-2 gap-2",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-[0.70rem] uppercase text-muted-foreground",children:l[0].payload[e]}),i.jsx("span",{className:"font-bold text-muted-foreground",children:a(Number(l[0].value))})]})})}):null}),r.map((o,l)=>i.jsx(xu,{dataKey:o,fill:n[l]||n[0],radius:[4,4,0,0]},o))]})})}function n3e({data:t,index:e,categories:r,colors:n=["#FF7E47"],valueFormatter:a=o=>`${o}`,yAxisWidth:s=40}){return i.jsx(wP,{config:{[r[0]]:{color:n[0]}},children:i.jsxs(YQe,{data:t,margin:{top:20,right:20,bottom:20,left:20},children:[i.jsx(bP,{strokeDasharray:"3 3",vertical:!1}),i.jsx(uh,{dataKey:e}),i.jsx(Ah,{width:s,tickFormatter:a}),i.jsx(ys,{content:({active:o,payload:l})=>o&&l&&l.length?i.jsx("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:i.jsx("div",{className:"grid grid-cols-2 gap-2",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-[0.70rem] uppercase text-muted-foreground",children:l[0].payload[e]}),i.jsx("span",{className:"font-bold text-muted-foreground",children:a(Number(l[0].value))})]})})}):null}),r.map((o,l)=>i.jsx(ug,{type:"monotone",dataKey:o,stroke:n[l]||n[0],strokeWidth:2,dot:{r:4},activeDot:{r:6}},o))]})})}function nL(){var c,u;const[t,e]=v.useState({totalProducts:0,totalOrders:0,totalUsers:0,totalShippingMethods:0}),[r,n]=v.useState(null),[a,s]=v.useState({totalSales:0,totalPurchaseCost:0,profit:0,profitMargin:0}),[o,l]=v.useState([{name:"Jan",total:0},{name:"Feb",total:0},{name:"Mar",total:0},{name:"Apr",total:0},{name:"May",total:0},{name:"Jun",total:0}]);return v.useEffect(()=>{(async()=>{const[d,h,f,m,g,p]=await Promise.all([Z.from("products").select("id",{count:"exact",head:!0}),Z.from("orders").select("id",{count:"exact",head:!0}),Z.from("profiles").select("id",{count:"exact",head:!0}),Z.from("shipping_methods").select("id",{count:"exact",head:!0}),Z.from("coal_inventory_summary").select("*").maybeSingle(),Z.from("coal_inventory_transactions").select("*")]);e({totalProducts:d.count||0,totalOrders:h.count||0,totalUsers:f.count||0,totalShippingMethods:m.count||0}),g.data&&n(g.data);const{data:b}=await Z.from("orders").select("date, total, status").neq("status","canceled").order("date",{ascending:!1}).limit(100);if(b){const x=b.reduce((B,j)=>B+Number(j.total),0),w=[0,0,0,0,0,0];b.forEach(B=>{const N=new Date(B.date).getMonth();N<6&&(w[N]+=Number(B.total))}),l([{name:"Jan",total:w[0]},{name:"Feb",total:w[1]},{name:"Mar",total:w[2]},{name:"Apr",total:w[3]},{name:"Mei",total:w[4]},{name:"Jun",total:w[5]}]);let y=0;p.data&&(y=p.data.filter(j=>j.transaction_type==="incoming"&&j.vehicle_info!=="cancelled_order_return").reduce((j,N)=>{const S=(N.price_per_kg||0)*N.quantity_kg;return j+S},0));const C=x-y,E=x>0?C/x*100:0;s({totalSales:x,totalPurchaseCost:y,profit:C,profitMargin:E})}})()},[]),i.jsxs(In,{children:[i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Dasbor Admin"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[i.jsxs(_e,{children:[i.jsxs(at,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(st,{className:"text-sm font-medium",children:"Produk"}),i.jsx(Ji,{className:"h-4 w-4 text-gray-500"})]}),i.jsxs(Be,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.totalProducts}),i.jsx("p",{className:"text-xs text-gray-500",children:"Total produk"})]})]}),i.jsxs(_e,{children:[i.jsxs(at,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(st,{className:"text-sm font-medium",children:"Pesanan"}),i.jsx(Jy,{className:"h-4 w-4 text-gray-500"})]}),i.jsxs(Be,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.totalOrders}),i.jsx("p",{className:"text-xs text-gray-500",children:"Total pesanan"})]})]}),i.jsxs(_e,{children:[i.jsxs(at,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(st,{className:"text-sm font-medium",children:"Pengguna"}),i.jsx(mT,{className:"h-4 w-4 text-gray-500"})]}),i.jsxs(Be,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.totalUsers}),i.jsx("p",{className:"text-xs text-gray-500",children:"Pengguna terdaftar"})]})]}),i.jsxs(_e,{children:[i.jsxs(at,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(st,{className:"text-sm font-medium",children:"Metode Pengiriman"}),i.jsx(bte,{className:"h-4 w-4 text-gray-500"})]}),i.jsxs(Be,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.totalShippingMethods}),i.jsx("p",{className:"text-xs text-gray-500",children:"Opsi pengiriman tersedia"})]})]})]}),i.jsxs(_e,{className:"mb-8",children:[i.jsxs(at,{children:[i.jsx(st,{className:"flex justify-between items-center",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(kte,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:"Ringkasan Keuangan"})]})}),i.jsx(rr,{children:"Analisis penghasilan, biaya, dan keuntungan dari penjualan arang"})]}),i.jsx(Be,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[i.jsx(_e,{children:i.jsx(Be,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total Penjualan"}),i.jsx("h3",{className:"text-xl font-bold text-green-600",children:ve(a.totalSales)})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(E4,{className:"h-6 w-6 text-green-600"})})]})})}),i.jsx(_e,{children:i.jsx(Be,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Biaya Pembelian"}),i.jsx("h3",{className:"text-xl font-bold text-red-600",children:ve(a.totalPurchaseCost)})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-red-100 flex items-center justify-center",children:i.jsx(Jte,{className:"h-6 w-6 text-red-600"})})]})})}),i.jsx(_e,{children:i.jsx(Be,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:a.profit>=0?"Keuntungan":"Kerugian"}),i.jsx("h3",{className:"text-xl font-bold",style:{color:a.profit>=0?"#047857":"#dc2626"},children:ve(Math.abs(a.profit))})]}),i.jsx("div",{className:"h-12 w-12 rounded-full",style:{backgroundColor:a.profit>=0?"#DCFCE7":"#FEE2E2"},children:a.profit>=0?i.jsx(E4,{className:"h-6 w-6 text-green-600"}):i.jsx(eb,{className:"h-6 w-6 text-red-600"})})]})})}),i.jsx(_e,{children:i.jsx(Be,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Margin"}),i.jsxs("h3",{className:"text-xl font-bold",style:{color:a.profit>=0?"#047857":"#dc2626"},children:[a.profitMargin.toFixed(2),"%"]})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(C4,{className:"h-6 w-6 text-blue-600"})})]})})})]})})]}),i.jsxs(_e,{className:"mb-8",children:[i.jsxs(at,{children:[i.jsxs(st,{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(S4,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:"Manajemen Stok Arang"})]}),i.jsx(dt,{to:"/admin/coal-inventory",children:i.jsxs(G,{className:"bg-flame-500 hover:bg-flame-600",children:[i.jsx(FH,{className:"h-4 w-4 mr-2"}),"Kelola Stok Arang"]})})]}),i.jsx(rr,{children:"Lihat ringkasan stok arang dan catat transaksi masuk/keluar"})]}),i.jsxs(Be,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[i.jsx(_e,{children:i.jsx(Be,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Stok Saat Ini"}),i.jsxs("h3",{className:"text-2xl font-bold",children:[((c=r==null?void 0:r.current_stock_kg)==null?void 0:c.toLocaleString("id-ID"))||"0"," kg"]})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(S4,{className:"h-6 w-6 text-green-600"})})]})})}),i.jsx(_e,{children:i.jsx(Be,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total Pemasukan"}),i.jsxs("h3",{className:"text-2xl font-bold",children:[((u=r==null?void 0:r.total_incoming_kg)==null?void 0:u.toLocaleString("id-ID"))||"0"," kg"]})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(gte,{className:"h-6 w-6 text-blue-600"})})]})})}),i.jsx(_e,{children:i.jsx(Be,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Nilai Stok"}),i.jsx("h3",{className:"text-xl font-bold",children:r?ve(r.stock_value):"Rp 0"})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center",children:i.jsx(C4,{className:"h-6 w-6 text-yellow-600"})})]})})})]}),i.jsx("div",{className:"flex justify-center mt-4",children:i.jsx(dt,{to:"/admin/coal-inventory",children:i.jsx(G,{variant:"outline",className:"w-full max-w-md",children:"Lihat Detail Transaksi Stok Arang"})})})]})]}),i.jsxs(_e,{className:"mb-8",children:[i.jsx(at,{children:i.jsx(st,{children:"Ringkasan Penjualan"})}),i.jsx(Be,{children:i.jsx("div",{className:"h-80",children:i.jsx(sZ,{data:o,index:"name",categories:["total"],colors:["#FF7E47"],yAxisWidth:60,valueFormatter:A=>ve(A)})})})]})]})}var a3e="AspectRatio",iZ=v.forwardRef((t,e)=>{const{ratio:r=1/1,style:n,...a}=t;return i.jsx("div",{style:{position:"relative",width:"100%",paddingBottom:`${100/r}%`},"data-radix-aspect-ratio-wrapper":"",children:i.jsx(Ye.div,{...a,ref:e,style:{...n,position:"absolute",top:0,right:0,bottom:0,left:0}})})});iZ.displayName=a3e;var s3e=iZ;const i3e=s3e,o3e=Ls({quantity:ui().int(),type:cd(["restock","sale","return","adjustment"]),notes:sr().optional()}),l3e=Ls({name:sr().min(1,"Nama wajib diisi"),type:sr().min(1,"Tipe wajib diisi"),price:ui().min(0,"Harga harus berupa angka positif"),description:sr().optional(),origin:sr().optional(),seller:sr().optional(),in_stock:ul().default(!0),featured:ul().default(!1),discount:ui().min(0).max(100).optional()});function c3e(){const[t,e]=v.useState([]),[r,n]=v.useState(""),[a,s]=v.useState(!0),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[A,d]=v.useState(!1),[h,f]=v.useState(null),[m,g]=v.useState(1),[p,b]=v.useState(10),[x,w]=v.useState(0),[y,C]=v.useState(!1),E=ra({resolver:na(o3e),defaultValues:{quantity:0,type:"restock",notes:""}}),B=ra({resolver:na(l3e),defaultValues:{name:"",type:"",price:0,description:"",origin:"",seller:"",in_stock:!0,featured:!1,discount:0}});v.useEffect(()=>{j()},[m,r]);const j=async()=>{s(!0);try{let H=Z.from("products").select("*",{count:"exact"});r&&(H=H.ilike("name",`%${r}%`));const{data:D,error:Q,count:z}=await H.order("created_at",{ascending:!1}).range((m-1)*p,m*p-1);if(Q)throw Q;e(D),w(z||0)}catch(H){console.error("Error fetching products:",H),fe({title:"Error memuat produk",description:H.message||"Silakan coba lagi nanti.",variant:"destructive"})}finally{s(!1)}},N=H=>{f(H),l(!0),E.reset({quantity:0,type:"restock",notes:""})},S=()=>{f(null),u(!0),B.reset({name:"",type:"",price:0,description:"",origin:"",seller:"",in_stock:!0,featured:!1,discount:0})},T=H=>{f(H),d(!0),B.reset({name:H.name,type:H.type,price:H.price,description:H.description||"",origin:H.origin||"",seller:H.seller||"",in_stock:H.in_stock||!1,featured:H.featured||!1,discount:H.discount||0})},I=H=>{f(H),C(!0)},k=async()=>{if(h)try{const{error:H}=await Z.from("products").delete().eq("id",h.id);if(H)throw H;fe({title:"Produk dihapus",description:"Produk telah dihapus berhasil."}),C(!1),j()}catch(H){console.error("Error deleting product:",H),fe({title:"Error menghapus produk",description:H.message||"Silakan coba lagi nanti.",variant:"destructive"})}},R=async H=>{if(h)try{const D={id:"",product_id:h.id,quantity:H.quantity,transaction_type:H.type,notes:H.notes||void 0,created_by:null},{error:Q}=await Z.from("inventory_transactions").insert(D);if(Q)throw Q;H.type==="restock"&&H.quantity>0&&!h.in_stock&&await Z.from("products").update({in_stock:!0}).eq("id",h.id),fe({title:"Inventaris diperbarui",description:`${H.quantity} unit ${H.type==="restock"?"ditambahkan ke":"disesuaikan di"} inventaris.`}),l(!1),j()}catch(D){console.error("Error memperbarui inventaris:",D),fe({title:"Error memperbarui inventaris",description:D.message||"Silakan coba lagi nanti.",variant:"destructive"})}},M=async H=>{try{if(A&&h){const{error:D}=await Z.from("products").update({name:H.name,type:H.type,price:H.price,description:H.description||null,origin:H.origin||null,seller:H.seller||null,in_stock:H.in_stock,featured:H.featured,discount:H.discount||null,updated_at:new Date().toISOString()}).eq("id",h.id);if(D)throw D;fe({title:"Produk diperbarui",description:"Produk telah diperbarui berhasil."})}else{const{error:D}=await Z.from("products").insert({name:H.name,type:H.type,price:H.price,description:H.description||null,origin:H.origin||null,seller:H.seller||null,in_stock:H.in_stock,featured:H.featured,discount:H.discount||null,images:[]});if(D)throw D;fe({title:"Produk ditambahkan",description:"Produk baru telah ditambahkan berhasil."})}u(!1),d(!1),j()}catch(D){console.error("Error menyimpan produk:",D),fe({title:"Error menyimpan produk",description:D.message||"Silakan coba lagi nanti.",variant:"destructive"})}},$=r?t.filter(H=>H.name.toLowerCase().includes(r.toLowerCase())||H.type.toLowerCase().includes(r.toLowerCase())):t,U=Math.ceil(x/p),O=m>1,L=m<U;return i.jsxs(In,{children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Manajemen Inventaris"}),i.jsxs(G,{onClick:S,children:[i.jsx(Md,{className:"h-4 w-4 mr-2"}),"Tambah Produk"]})]}),i.jsx("div",{className:"mb-6 flex items-center gap-4",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Fl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(ue,{placeholder:"Cari produk...",className:"pl-10",value:r,onChange:H=>n(H.target.value)})]})}),i.jsx("div",{className:"bg-white rounded-md shadow overflow-hidden",children:i.jsxs(En,{children:[i.jsx(Sn,{children:i.jsxs(lt,{children:[i.jsx(Ee,{className:"w-[80px]",children:"Gambar"}),i.jsx(Ee,{children:"Produk"}),i.jsx(Ee,{children:"Tipe"}),i.jsx(Ee,{className:"text-right",children:"Harga"}),i.jsx(Ee,{className:"text-center",children:"Stok"}),i.jsx(Ee,{className:"text-right",children:"Aksi"})]})}),i.jsx(Nn,{children:a?i.jsx(lt,{children:i.jsx(me,{colSpan:6,className:"text-center py-8",children:"Memuat produk..."})}):$.length===0?i.jsx(lt,{children:i.jsx(me,{colSpan:6,className:"text-center py-8",children:"Tidak ada produk ditemukan."})}):$.map(H=>{var D;return i.jsxs(lt,{children:[i.jsx(me,{children:i.jsx("div",{className:"w-12 h-12 relative rounded overflow-hidden",children:i.jsx(i3e,{ratio:1/1,children:i.jsx("img",{src:((D=H.images)==null?void 0:D[0])||"/placeholder.svg",alt:H.name,className:"object-cover"})})})}),i.jsx(me,{className:"font-medium",children:H.name}),i.jsx(me,{children:H.type}),i.jsx(me,{className:"text-right",children:ve(H.price)}),i.jsx(me,{className:"text-center",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${H.in_stock?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:H.in_stock?"Tersedia":"Stok habis"})}),i.jsxs(me,{className:"text-right",children:[i.jsxs(G,{variant:"outline",size:"sm",onClick:()=>N(H),className:"mr-2",children:[i.jsx(Ji,{className:"h-4 w-4 mr-1"})," Kelola Stok"]}),i.jsxs(G,{variant:"outline",size:"sm",onClick:()=>T(H),className:"mr-2",children:[i.jsx(Ep,{className:"h-4 w-4"})," Edit"]}),i.jsxs(G,{variant:"outline",size:"sm",onClick:()=>I(H),children:[i.jsx(zf,{className:"h-4 w-4"})," Hapus"]})]})]},H.id)})})]})}),U>1&&i.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[i.jsxs("div",{className:"text-sm text-gray-500",children:["Halaman ",m," dari ",U]}),i.jsxs("div",{className:"space-x-2",children:[i.jsx(G,{variant:"outline",size:"sm",onClick:()=>g(H=>Math.max(H-1,1)),disabled:!O,children:"Sebelumnya"}),i.jsx(G,{variant:"outline",size:"sm",onClick:()=>g(H=>Math.min(H+1,U)),disabled:!L,children:"Berikutnya"})]})]}),i.jsx(mi,{open:o,onOpenChange:l,children:i.jsxs(Rs,{children:[i.jsxs(pi,{children:[i.jsx(gi,{children:"Perbarui Inventaris"}),i.jsxs(ym,{children:["Perbarui inventaris untuk ",h==null?void 0:h.name]})]}),i.jsx(zn,{...E,children:i.jsxs("form",{onSubmit:E.handleSubmit(R),className:"space-y-6 py-6",children:[i.jsx(Qe,{control:E.control,name:"quantity",render:({field:H})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Jumlah"}),i.jsx(Me,{children:i.jsx(ue,{type:"number",...H,onChange:D=>H.onChange(parseInt(D.target.value)||0)})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:E.control,name:"type",render:({field:H})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Tipe Transaksi"}),i.jsx(Me,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...H,children:[i.jsx("option",{value:"restock",children:"Pengisian Stok"}),i.jsx("option",{value:"sale",children:"Penjualan"}),i.jsx("option",{value:"return",children:"Pengembalian"}),i.jsx("option",{value:"adjustment",children:"Penyesuaian"})]})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:E.control,name:"notes",render:({field:H})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Catatan"}),i.jsx(Me,{children:i.jsx(ue,{...H,value:H.value||""})}),i.jsx(qe,{})]})}),i.jsxs(no,{children:[i.jsx(G,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Batal"}),i.jsx(G,{type:"submit",children:"Simpan Perubahan"})]})]})})]})}),i.jsx(mi,{open:c||A,onOpenChange:H=>{H||(u(!1),d(!1))},children:i.jsxs(Rs,{children:[i.jsx(pi,{children:i.jsx(gi,{children:A?"Edit Produk":"Tambah Produk"})}),i.jsx(zn,{...B,children:i.jsxs("form",{onSubmit:B.handleSubmit(M),className:"space-y-6 py-6",children:[i.jsx(Qe,{control:B.control,name:"name",render:({field:H})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Nama Produk"}),i.jsx(Me,{children:i.jsx(ue,{...H})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:B.control,name:"type",render:({field:H})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Tipe Produk"}),i.jsx(Me,{children:i.jsx(ue,{...H})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:B.control,name:"price",render:({field:H})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Harga"}),i.jsx(Me,{children:i.jsx(ue,{type:"number",step:"0.01",...H,onChange:D=>H.onChange(parseFloat(D.target.value)||0)})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:B.control,name:"description",render:({field:H})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Deskripsi"}),i.jsx(Me,{children:i.jsx(kl,{...H,value:H.value||""})}),i.jsx(qe,{})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(Qe,{control:B.control,name:"origin",render:({field:H})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Asal"}),i.jsx(Me,{children:i.jsx(ue,{...H,value:H.value||""})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:B.control,name:"seller",render:({field:H})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Penjual"}),i.jsx(Me,{children:i.jsx(ue,{...H,value:H.value||""})}),i.jsx(qe,{})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(Qe,{control:B.control,name:"in_stock",render:({field:H})=>i.jsxs(Re,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsx("div",{className:"space-y-0.5",children:i.jsx(Ue,{children:"Tersedia"})}),i.jsx(Me,{children:i.jsx("input",{type:"checkbox",checked:H.value,onChange:D=>H.onChange(D.target.checked),className:"h-4 w-4"})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:B.control,name:"featured",render:({field:H})=>i.jsxs(Re,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsx("div",{className:"space-y-0.5",children:i.jsx(Ue,{children:"Unggulan"})}),i.jsx(Me,{children:i.jsx("input",{type:"checkbox",checked:H.value,onChange:D=>H.onChange(D.target.checked),className:"h-4 w-4"})}),i.jsx(qe,{})]})})]}),i.jsx(Qe,{control:B.control,name:"discount",render:({field:H})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Diskon (%)"}),i.jsx(Me,{children:i.jsx(ue,{type:"number",min:"0",max:"100",...H,onChange:D=>H.onChange(parseInt(D.target.value)||0),value:H.value||0})}),i.jsx(qe,{})]})}),i.jsxs(no,{children:[i.jsx(G,{type:"button",variant:"outline",onClick:()=>{u(!1),d(!1)},children:"Cancel"}),i.jsx(G,{type:"submit",children:"Simpan Produk"})]})]})})]})}),i.jsx(lr,{open:y,onOpenChange:C,children:i.jsxs(nr,{children:[i.jsxs(hr,{children:[i.jsx(fr,{children:"Konfirmasi Penghapusan"}),i.jsxs(Pn,{children:["Apakah Anda yakin ingin menghapus ",h==null?void 0:h.name,"? Tindakan ini tidak dapat dibatalkan."]})]}),i.jsxs(An,{children:[i.jsx(G,{variant:"outline",onClick:()=>C(!1),children:"Batal"}),i.jsx(G,{variant:"destructive",onClick:k,children:"Hapus"})]})]})})]})}const u3e=Ls({transaction_date:sr().nonempty("Tanggal transaksi wajib diisi"),transaction_type:cd(["incoming","outgoing"]),quantity_kg:ui().positive("Jumlah harus lebih dari 0"),source_destination:sr().nonempty("Sumber/tujuan wajib diisi"),vehicle_info:sr().optional(),driver_name:sr().optional(),price_per_kg:ui().optional(),quality_grade:cd(["premium","standard","economy"]),moisture_content:ui().min(0).max(100).optional(),notes:sr().optional(),document_reference:sr().optional()}),A3e={total_incoming_kg:0,total_outgoing_kg:0,current_stock_kg:0,average_price_per_kg:0,last_transaction_date:new Date().toISOString(),stock_value:0,premium_stock_kg:0,standard_stock_kg:0,economy_stock_kg:0};function d3e(){const{user:t,profile:e}=Pr(),[r,n]=v.useState(A3e),[a,s]=v.useState([]),[o,l]=v.useState(!1),[c,u]=v.useState(!0),[A,d]=v.useState(""),[h,f]=v.useState("all"),[m,g]=v.useState(1),[p]=v.useState(10),[b,x]=v.useState(null),[w,y]=v.useState(!1),[C,E]=v.useState(!1),B=ra({resolver:na(u3e),defaultValues:{transaction_date:un(new Date,"yyyy-MM-dd"),transaction_type:"incoming",quantity_kg:0,source_destination:"",vehicle_info:"",driver_name:"",price_per_kg:0,quality_grade:"standard",moisture_content:0,notes:"",document_reference:""}}),j=async()=>{try{u(!0);const{data:W,error:ee}=await vc.getTransactions(100,0);if(ee)throw ee;W&&s(W);const{data:oe,error:ne}=await vc.getSummary();if(ne)throw ne;oe&&n(oe)}catch(W){console.error("Error fetching transactions:",W),fe({title:"Error",description:"Gagal mengambil data transaksi stok arang",variant:"destructive"})}finally{u(!1)}};v.useEffect(()=>{j()},[]);const N=async W=>{try{if(u(!0),!(t!=null&&t.id))throw new Error("User ID tidak ditemukan. Silahkan login ulang.");const ee={...W,created_by:t.id,created_at:new Date().toISOString(),total_amount:W.price_per_kg?W.price_per_kg*W.quantity_kg:void 0};console.log("Mengirim data transaksi:",ee);const{data:oe,error:ne}=await vc.addTransaction(ee);if(ne)throw console.error("Error dari service:",ne),ne;if(!oe)throw new Error("Tidak ada data yang dikembalikan setelah menambahkan transaksi");fe({title:"Berhasil",description:"Transaksi berhasil ditambahkan",variant:"default"}),B.reset(),l(!1),j()}catch(ee){console.error("Error adding transaction:",ee),fe({title:"Error",description:(ee==null?void 0:ee.message)||(ee==null?void 0:ee.error_description)||"Gagal menambahkan transaksi. Silahkan cek konsol untuk detail lebih lanjut.",variant:"destructive"})}finally{u(!1)}},S=async W=>{if(b)try{u(!0);const ee={...W,total_amount:W.price_per_kg?W.price_per_kg*W.quantity_kg:void 0},{error:oe}=await vc.updateTransaction(b.id,ee);if(oe)throw oe;fe({title:"Berhasil",description:"Transaksi berhasil diperbarui",variant:"default"}),B.reset(),y(!1),x(null),j()}catch(ee){console.error("Error updating transaction:",ee),fe({title:"Error",description:"Gagal memperbarui transaksi",variant:"destructive"})}finally{u(!1)}},T=async()=>{if(b)try{u(!0);const{error:W}=await vc.deleteTransaction(b.id);if(W)throw W;fe({title:"Berhasil",description:"Transaksi berhasil dihapus",variant:"default"}),E(!1),x(null),j()}catch(W){console.error("Error deleting transaction:",W),fe({title:"Error",description:"Gagal menghapus transaksi",variant:"destructive"})}finally{u(!1)}},I=W=>{x(W),B.reset({transaction_date:W.transaction_date.substring(0,10),transaction_type:W.transaction_type,quantity_kg:W.quantity_kg,source_destination:W.source_destination,vehicle_info:W.vehicle_info||"",driver_name:W.driver_name||"",price_per_kg:W.price_per_kg||0,quality_grade:W.quality_grade||"standard",moisture_content:W.moisture_content||0,notes:W.notes||"",document_reference:W.document_reference||""}),y(!0)},k=W=>{x(W),E(!0)},R=a.filter(W=>{var ee,oe;return A===""?!0:W.source_destination.toLowerCase().includes(A.toLowerCase())||((ee=W.document_reference)==null?void 0:ee.toLowerCase().includes(A.toLowerCase()))||((oe=W.driver_name)==null?void 0:oe.toLowerCase().includes(A.toLowerCase()))}).filter(W=>h==="all"?!0:W.transaction_type===h).sort((W,ee)=>new Date(ee.transaction_date).getTime()-new Date(W.transaction_date).getTime()),M=R.length,$=Math.ceil(M/p),U=(m-1)*p,O=Math.min(U+p,M),L=R.slice(U,O),H=m>1,D=m<$,Q=()=>{l(!0),B.reset({transaction_date:un(new Date,"yyyy-MM-dd"),transaction_type:"incoming",quantity_kg:0,source_destination:"",vehicle_info:"",driver_name:"",price_per_kg:0,quality_grade:"standard",moisture_content:0,notes:"",document_reference:""})},z=async W=>{try{w&&b?await S(W):await N(W)}catch(ee){console.error("Error submitting transaction:",ee)}},q=()=>i.jsx(lr,{open:C,onOpenChange:E,children:i.jsxs(nr,{children:[i.jsxs(hr,{children:[i.jsx(fr,{children:"Konfirmasi Hapus Transaksi"}),i.jsx(Pn,{children:"Apakah Anda yakin ingin menghapus transaksi ini? Tindakan ini tidak dapat dibatalkan."})]}),i.jsxs(An,{className:"flex space-x-2 justify-end",children:[i.jsx(G,{variant:"outline",onClick:()=>E(!1),children:"Batal"}),i.jsx(G,{variant:"destructive",onClick:T,disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Menghapus..."]}):"Hapus Transaksi"})]})]})});return i.jsx(In,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Manajemen Stok Arang"}),i.jsxs(G,{onClick:Q,children:[i.jsx(Md,{className:"h-4 w-4 mr-2"})," Catat Transaksi Baru"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs(_e,{children:[i.jsxs(at,{className:"pb-2",children:[i.jsx(st,{className:"text-xl",children:"Stok Arang Saat Ini"}),i.jsx(rr,{children:"Total seluruh jenis arang"})]}),i.jsxs(Be,{children:[i.jsxs("div",{className:"text-3xl font-bold",children:[r.current_stock_kg.toLocaleString()," kg"]}),i.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Nilai stok: ",ve(r.stock_value)]})]})]}),i.jsxs(_e,{children:[i.jsxs(at,{className:"pb-2",children:[i.jsx(st,{className:"text-xl",children:"Rekapitulasi Arang"}),i.jsx(rr,{children:"Detail berdasarkan kualitas"})]}),i.jsxs(Be,{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-medium",children:"Premium:"}),i.jsxs("span",{className:"font-bold",children:[r.premium_stock_kg.toLocaleString()," kg"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-medium",children:"Standar:"}),i.jsxs("span",{className:"font-bold",children:[r.standard_stock_kg.toLocaleString()," kg"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-medium",children:"Ekonomis:"}),i.jsxs("span",{className:"font-bold",children:[r.economy_stock_kg.toLocaleString()," kg"]})]})]})]}),i.jsxs(_e,{children:[i.jsxs(at,{className:"pb-2",children:[i.jsx(st,{className:"text-xl",children:"Aktivitas Transaksi"}),i.jsx(rr,{children:"Ringkasan aktivitas stok"})]}),i.jsxs(Be,{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx(b4,{className:"h-4 w-4 text-green-500 mr-1"})," Pemasukan:"]}),i.jsxs("span",{className:"font-bold",children:[r.total_incoming_kg.toLocaleString()," kg"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx(w4,{className:"h-4 w-4 text-red-500 mr-1"})," Pengeluaran:"]}),i.jsxs("span",{className:"font-bold",children:[r.total_outgoing_kg.toLocaleString()," kg"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-medium",children:"Transaksi terakhir:"}),i.jsx("span",{className:"font-bold",children:un(new Date(r.last_transaction_date),"dd MMM yyyy",{locale:as})})]})]})]})]}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[i.jsxs("div",{className:"relative w-full md:w-64",children:[i.jsx(Fl,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),i.jsx(ue,{placeholder:"Cari transaksi...",className:"pl-8",value:A,onChange:W=>d(W.target.value)})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(G,{variant:h==="all"?"default":"outline",size:"sm",onClick:()=>f("all"),children:"Semua"}),i.jsxs(G,{variant:h==="incoming"?"default":"outline",size:"sm",onClick:()=>f("incoming"),className:"flex items-center",children:[i.jsx(b4,{className:"h-4 w-4 mr-1"})," Pemasukan"]}),i.jsxs(G,{variant:h==="outgoing"?"default":"outline",size:"sm",onClick:()=>f("outgoing"),className:"flex items-center",children:[i.jsx(w4,{className:"h-4 w-4 mr-1"})," Pengeluaran"]})]})]}),i.jsx("div",{className:"bg-white rounded-md shadow overflow-hidden",children:i.jsxs(En,{children:[i.jsx(Sn,{children:i.jsxs(lt,{children:[i.jsx(Ee,{children:"Tanggal"}),i.jsx(Ee,{children:"Tipe"}),i.jsx(Ee,{children:"Jumlah (kg)"}),i.jsx(Ee,{children:"Kualitas"}),i.jsx(Ee,{children:"Sumber/Tujuan"}),i.jsx(Ee,{children:"Kendaraan"}),i.jsx(Ee,{className:"text-right",children:"Nilai"}),i.jsx(Ee,{className:"text-right",children:"Aksi"})]})}),i.jsx(Nn,{children:c?i.jsx(lt,{children:i.jsx(me,{colSpan:7,className:"text-center py-8",children:"Memuat transaksi..."})}):L.length===0?i.jsx(lt,{children:i.jsx(me,{colSpan:7,className:"text-center py-8",children:"Tidak ada transaksi ditemukan."})}):L.map(W=>i.jsxs(lt,{children:[i.jsx(me,{children:un(new Date(W.transaction_date),"dd MMM yyyy",{locale:as})}),i.jsx(me,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${W.transaction_type==="incoming"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:W.transaction_type==="incoming"?"Pemasukan":"Pengeluaran"})}),i.jsx(me,{className:"font-medium",children:W.quantity_kg.toLocaleString()}),i.jsx(me,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${W.quality_grade==="premium"?"bg-blue-100 text-blue-800":W.quality_grade==="standard"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:W.quality_grade==="premium"?"Premium":W.quality_grade==="standard"?"Standar":"Ekonomis"})}),i.jsx(me,{children:W.source_destination}),i.jsx(me,{children:W.vehicle_info||"-"}),i.jsx(me,{className:"text-right",children:W.total_amount?ve(W.total_amount):"-"}),i.jsx(me,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(G,{variant:"ghost",size:"sm",onClick:()=>I(W),children:i.jsx(Ep,{className:"h-4 w-4"})}),i.jsx(G,{variant:"ghost",size:"sm",onClick:()=>k(W),className:"text-red-500 hover:text-red-700",children:i.jsx(MH,{className:"h-4 w-4"})})]})})]},W.id))})]})}),$>1&&i.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[i.jsxs("div",{className:"text-sm text-gray-500",children:["Halaman ",m," dari ",$]}),i.jsxs("div",{className:"space-x-2",children:[i.jsx(G,{variant:"outline",size:"sm",onClick:()=>g(W=>Math.max(W-1,1)),disabled:!H,children:"Sebelumnya"}),i.jsx(G,{variant:"outline",size:"sm",onClick:()=>g(W=>Math.min(W+1,$)),disabled:!D,children:"Berikutnya"})]})]}),i.jsx(mi,{open:o,onOpenChange:l,children:i.jsxs(Rs,{className:"sm:max-w-md",children:[i.jsxs(pi,{children:[i.jsx(gi,{children:"Catat Transaksi Arang"}),i.jsx(ym,{children:"Catat pemasukan atau pengeluaran stok arang"})]}),i.jsx(zn,{...B,children:i.jsxs("form",{onSubmit:B.handleSubmit(z),className:"space-y-4 py-4",children:[i.jsx(Qe,{control:B.control,name:"transaction_date",render:({field:W})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Tanggal Transaksi"}),i.jsx(Me,{children:i.jsx(ue,{type:"date",...W})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:B.control,name:"transaction_type",render:({field:W})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Tipe Transaksi"}),i.jsx(Me,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...W,children:[i.jsx("option",{value:"incoming",children:"Pemasukan Arang"}),i.jsx("option",{value:"outgoing",children:"Pengeluaran Arang"})]})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:B.control,name:"quantity_kg",render:({field:W})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Jumlah (kg)"}),i.jsx(Me,{children:i.jsx(ue,{type:"number",...W,onChange:ee=>W.onChange(parseInt(ee.target.value)||0)})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:B.control,name:"quality_grade",render:({field:W})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Kualitas Arang"}),i.jsx(Me,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...W,children:[i.jsx("option",{value:"premium",children:"Premium"}),i.jsx("option",{value:"standard",children:"Standar"}),i.jsx("option",{value:"economy",children:"Ekonomis"})]})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:B.control,name:"source_destination",render:({field:W})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:B.watch("transaction_type")==="incoming"?"Sumber":"Tujuan"}),i.jsx(Me,{children:i.jsx(ue,{...W})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:B.control,name:"vehicle_info",render:({field:W})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Informasi Kendaraan"}),i.jsx(Me,{children:i.jsx(ue,{...W})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:B.control,name:"driver_name",render:({field:W})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Nama Supir"}),i.jsx(Me,{children:i.jsx(ue,{...W})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:B.control,name:"price_per_kg",render:({field:W})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Harga per kg (Rp)"}),i.jsx(Me,{children:i.jsx(ue,{type:"number",...W,onChange:ee=>W.onChange(parseInt(ee.target.value)||0)})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:B.control,name:"moisture_content",render:({field:W})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Kadar Air (%)"}),i.jsx(Me,{children:i.jsx(ue,{type:"number",...W,onChange:ee=>W.onChange(parseInt(ee.target.value)||0)})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:B.control,name:"document_reference",render:({field:W})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Referensi Dokumen"}),i.jsx(Me,{children:i.jsx(ue,{...W})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:B.control,name:"notes",render:({field:W})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Catatan"}),i.jsx(Me,{children:i.jsx(kl,{rows:3,...W})}),i.jsx(qe,{})]})}),i.jsx(no,{className:"pt-4",children:i.jsx(G,{type:"submit",disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):"Simpan Transaksi"})})]})})]})}),i.jsx(mi,{open:w,onOpenChange:y,children:i.jsxs(Rs,{className:"sm:max-w-md",children:[i.jsxs(pi,{children:[i.jsx(gi,{children:"Edit Transaksi Arang"}),i.jsx(ym,{children:"Perbarui informasi transaksi arang"})]}),i.jsx(zn,{...B,children:i.jsxs("form",{onSubmit:B.handleSubmit(z),className:"space-y-4 py-4",children:[i.jsx(Qe,{control:B.control,name:"transaction_date",render:({field:W})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Tanggal Transaksi"}),i.jsx(Me,{children:i.jsx(ue,{type:"date",...W})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:B.control,name:"transaction_type",render:({field:W})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Tipe Transaksi"}),i.jsx(Me,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...W,children:[i.jsx("option",{value:"incoming",children:"Pemasukan Arang"}),i.jsx("option",{value:"outgoing",children:"Pengeluaran Arang"})]})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:B.control,name:"quantity_kg",render:({field:W})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Jumlah (kg)"}),i.jsx(Me,{children:i.jsx(ue,{type:"number",...W,onChange:ee=>W.onChange(parseInt(ee.target.value)||0)})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:B.control,name:"quality_grade",render:({field:W})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Kualitas Arang"}),i.jsx(Me,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...W,children:[i.jsx("option",{value:"premium",children:"Premium"}),i.jsx("option",{value:"standard",children:"Standar"}),i.jsx("option",{value:"economy",children:"Ekonomis"})]})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:B.control,name:"source_destination",render:({field:W})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:B.watch("transaction_type")==="incoming"?"Sumber":"Tujuan"}),i.jsx(Me,{children:i.jsx(ue,{...W})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:B.control,name:"vehicle_info",render:({field:W})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Informasi Kendaraan"}),i.jsx(Me,{children:i.jsx(ue,{...W})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:B.control,name:"driver_name",render:({field:W})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Nama Supir"}),i.jsx(Me,{children:i.jsx(ue,{...W})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:B.control,name:"price_per_kg",render:({field:W})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Harga per kg (Rp)"}),i.jsx(Me,{children:i.jsx(ue,{type:"number",...W,onChange:ee=>W.onChange(parseInt(ee.target.value)||0)})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:B.control,name:"moisture_content",render:({field:W})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Kadar Air (%)"}),i.jsx(Me,{children:i.jsx(ue,{type:"number",...W,onChange:ee=>W.onChange(parseInt(ee.target.value)||0)})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:B.control,name:"document_reference",render:({field:W})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Referensi Dokumen"}),i.jsx(Me,{children:i.jsx(ue,{...W})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:B.control,name:"notes",render:({field:W})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Catatan"}),i.jsx(Me,{children:i.jsx(kl,{rows:3,...W})}),i.jsx(qe,{})]})}),i.jsx(no,{className:"pt-4",children:i.jsx(G,{type:"submit",disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):"Perbarui Transaksi"})})]})})]})}),q()]})})}const h3e=Ls({name:sr().min(1,{message:"Nama wajib diisi"}),carrier:sr().min(1,{message:"Kurir wajib diisi"}),cost:ui().min(0,{message:"Biaya harus berupa angka positif"}),estimated_days:ui().int().min(1,{message:"Estimasi Jam minimal 1"}),active:ul().default(!0)});function f3e(){const[t,e]=v.useState([]),[r,n]=v.useState(!0),[a,s]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(null),[A,d]=v.useState(!1),[h,f]=v.useState(null),m=ra({resolver:na(h3e),defaultValues:{name:"",carrier:"",cost:0,estimated_days:1,active:!0}});v.useEffect(()=>{g()},[]);const g=async()=>{n(!0);try{const{data:y,error:C}=await Z.from("shipping_methods").select("*").order("name");if(C)throw C;e(y||[])}catch(y){console.error("Error fetching shipping methods:",y),fe({title:"Error memuat metode pengiriman",description:y.message||"Silakan coba lagi nanti",variant:"destructive"})}finally{n(!1)}},p=y=>{y?(u(y),s(!0),l(!1),m.reset({name:y.name,carrier:y.carrier,cost:y.cost,estimated_days:y.estimated_days,active:y.active!==void 0?y.active:!0})):(u(null),l(!0),s(!1),m.reset({name:"",carrier:"",cost:0,estimated_days:1,active:!0}))},b=async y=>{try{if(a&&c){const{error:C}=await Z.from("shipping_methods").update({name:y.name,carrier:y.carrier,cost:y.cost,estimated_days:y.estimated_days,active:y.active}).eq("id",c.id);if(C)throw C;fe({title:"Metode pengiriman diperbarui",description:`${y.name} telah diperbarui berhasil.`})}else if(o){const{error:C}=await Z.from("shipping_methods").insert({name:y.name,carrier:y.carrier,cost:y.cost,estimated_days:y.estimated_days,active:y.active});if(C)throw C;fe({title:"Metode pengiriman ditambahkan",description:`${y.name} telah ditambahkan berhasil.`})}s(!1),l(!1),g()}catch(C){console.error("Error saving shipping method:",C),fe({title:"Error menyimpan metode pengiriman",description:C.message||"Silakan coba lagi nanti",variant:"destructive"})}},x=y=>{f(y),d(!0)},w=async()=>{if(h)try{const{error:y}=await Z.from("shipping_methods").delete().eq("id",h.id);if(y)throw y;fe({title:"Metode pengiriman dihapus",description:"Metode pengiriman telah dihapus berhasil."}),d(!1),g()}catch(y){console.error("Error deleting shipping method:",y),fe({title:"Error menghapus metode pengiriman",description:y.message||"Silakan coba lagi nanti",variant:"destructive"})}};return i.jsxs(In,{children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Metode Pengiriman"}),i.jsxs(G,{onClick:()=>p(),children:[i.jsx(Md,{className:"h-4 w-4 mr-2"}),"Tambah Metode"]})]}),i.jsx(_e,{children:i.jsx(Be,{className:"p-0",children:i.jsxs(En,{children:[i.jsx(Sn,{children:i.jsxs(lt,{children:[i.jsx(Ee,{children:"Nama"}),i.jsx(Ee,{children:"Kurir"}),i.jsx(Ee,{children:"Estimasi Jam"}),i.jsx(Ee,{className:"text-right",children:"Biaya"}),i.jsx(Ee,{className:"text-right",children:"Aksi"})]})}),i.jsx(Nn,{children:r?i.jsx(lt,{children:i.jsx(me,{colSpan:5,className:"text-center py-8",children:"Memuat metode pengiriman..."})}):t.length===0?i.jsx(lt,{children:i.jsx(me,{colSpan:5,className:"text-center py-8",children:"Tidak ada metode pengiriman ditemukan."})}):t.map(y=>i.jsxs(lt,{children:[i.jsx(me,{className:"font-medium",children:y.name}),i.jsx(me,{children:y.carrier}),i.jsxs(me,{className:"text-center",children:[y.estimated_days," Jam"]}),i.jsx(me,{className:"text-right",children:ve(y.cost)}),i.jsxs(me,{className:"text-right space-x-2",children:[i.jsx(G,{variant:"outline",size:"sm",onClick:()=>p(y),children:i.jsx(Ep,{className:"h-4 w-4"})}),i.jsx(G,{variant:"outline",size:"sm",onClick:()=>x(y),children:i.jsx(zf,{className:"h-4 w-4"})})]})]},y.id))})]})})}),i.jsx(mi,{open:a||o,onOpenChange:y=>{y||(s(!1),l(!1))},children:i.jsxs(Rs,{children:[i.jsx(pi,{children:i.jsx(gi,{children:a?"Edit Metode Pengiriman":"Tambah Metode Pengiriman"})}),i.jsx(zn,{...m,children:i.jsxs("form",{onSubmit:m.handleSubmit(b),className:"space-y-6 py-6",children:[i.jsx(Qe,{control:m.control,name:"name",render:({field:y})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Nama"}),i.jsx(Me,{children:i.jsx(ue,{...y})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:m.control,name:"carrier",render:({field:y})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Kurir"}),i.jsx(Me,{children:i.jsx(ue,{...y})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:m.control,name:"cost",render:({field:y})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Biaya (Rp)"}),i.jsx(Me,{children:i.jsx(ue,{type:"number",step:"0.01",...y,onChange:C=>y.onChange(parseFloat(C.target.value)||0)})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:m.control,name:"estimated_days",render:({field:y})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Estimasi Jam"}),i.jsx(Me,{children:i.jsx(ue,{type:"number",...y,onChange:C=>y.onChange(parseInt(C.target.value)||1)})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:m.control,name:"active",render:({field:y})=>i.jsxs(Re,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsx("div",{className:"space-y-0.5",children:i.jsx(Ue,{children:"Aktif"})}),i.jsx(Me,{children:i.jsx("input",{type:"checkbox",checked:y.value,onChange:C=>y.onChange(C.target.checked),className:"h-4 w-4"})}),i.jsx(qe,{})]})}),i.jsxs(no,{children:[i.jsx(G,{type:"button",variant:"outline",onClick:()=>{s(!1),l(!1)},children:"Batal"}),i.jsx(G,{type:"submit",children:"Simpan Metode"})]})]})})]})}),i.jsx(lr,{open:A,onOpenChange:d,children:i.jsxs(nr,{children:[i.jsxs(hr,{children:[i.jsx(fr,{children:"Konfirmasi Penghapusan"}),i.jsx(Pn,{children:"Apakah Anda yakin ingin menghapus metode pengiriman ini? Tindakan ini tidak dapat dibatalkan."})]}),i.jsxs(An,{children:[i.jsx(G,{variant:"outline",onClick:()=>d(!1),children:"Batal"}),i.jsx(G,{variant:"destructive",onClick:w,children:"Hapus"})]})]})})]})}const m3e=Ls({name:sr().optional(),role:cd(["customer","manager","admin"])});function p3e(){const[t,e]=v.useState([]),[r,n]=v.useState(""),[a,s]=v.useState(!0),[o,l]=v.useState(!1),[c,u]=v.useState(null),[A,d]=v.useState(1),[h,f]=v.useState(10),[m,g]=v.useState(0),p=ra({resolver:na(m3e),defaultValues:{name:"",role:"customer"}});v.useEffect(()=>{b()},[A,r]);const b=async()=>{s(!0);try{let B=Z.from("profiles").select("*",{count:"exact"});r&&(B=B.or(`name.ilike.%${r}%,email.ilike.%${r}%`));const{data:j,error:N,count:S}=await B.order("created_at",{ascending:!1}).range((A-1)*h,A*h-1);if(N)throw N;e(j),g(S||0)}catch(B){console.error("Error fetching users:",B),fe({title:"Error memuat pengguna",description:B.message||"Silakan coba lagi nanti.",variant:"destructive"})}finally{s(!1)}},x=B=>{u(B),p.reset({name:B.name||"",role:B.role||"customer"}),l(!0)},w=async B=>{if(c)try{const{error:j}=await Z.from("profiles").update({name:B.name,role:B.role}).eq("id",c.id);if(j)throw j;fe({title:"Pengguna diperbarui",description:"Profil pengguna telah berhasil diperbarui."}),l(!1),b()}catch(j){console.error("Error updating user:",j),fe({title:"Error memperbarui pengguna",description:j.message||"Silakan coba lagi nanti.",variant:"destructive"})}},y=Math.ceil(m/h),C=A>1,E=A<y;return i.jsxs(In,{children:[i.jsx("div",{className:"flex justify-between items-center mb-6",children:i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Manajemen Pengguna"})}),i.jsx("div",{className:"mb-6 flex items-center gap-4",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Fl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(ue,{placeholder:"Cari pengguna...",className:"pl-10",value:r,onChange:B=>n(B.target.value)})]})}),i.jsx(_e,{children:i.jsx(Be,{className:"p-0",children:i.jsxs(En,{children:[i.jsx(Sn,{children:i.jsxs(lt,{children:[i.jsx(Ee,{children:"Nama"}),i.jsx(Ee,{children:"Email"}),i.jsx(Ee,{children:"Peran"}),i.jsx(Ee,{children:"Bergabung"}),i.jsx(Ee,{className:"text-right",children:"Aksi"})]})}),i.jsx(Nn,{children:a?i.jsx(lt,{children:i.jsx(me,{colSpan:5,className:"text-center py-8",children:"Memuat pengguna..."})}):t.length===0?i.jsx(lt,{children:i.jsx(me,{colSpan:5,className:"text-center py-8",children:"Tidak ada pengguna ditemukan."})}):t.map(B=>i.jsxs(lt,{children:[i.jsx(me,{className:"font-medium",children:B.name||"N/A"}),i.jsx(me,{children:B.email||"N/A"}),i.jsx(me,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${B.role==="admin"?"bg-purple-100 text-purple-800":B.role==="manager"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:B.role||"customer"})}),i.jsx(me,{children:B.created_at?new Date(B.created_at).toLocaleDateString():"N/A"}),i.jsx(me,{className:"text-right",children:i.jsxs(G,{variant:"outline",size:"sm",onClick:()=>x(B),children:[i.jsx(ere,{className:"h-4 w-4 mr-2"}),"Kelola"]})})]},B.id))})]})})}),y>1&&i.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[i.jsxs("div",{className:"text-sm text-gray-500",children:["Halaman ",A," dari ",y]}),i.jsxs("div",{className:"space-x-2",children:[i.jsx(G,{variant:"outline",size:"sm",onClick:()=>d(B=>Math.max(B-1,1)),disabled:!C,children:"Sebelumnya"}),i.jsx(G,{variant:"outline",size:"sm",onClick:()=>d(B=>Math.min(B+1,y)),disabled:!E,children:"Selanjutnya"})]})]}),i.jsx(mi,{open:o,onOpenChange:l,children:i.jsxs(Rs,{children:[i.jsx(pi,{children:i.jsx(gi,{children:"Edit Pengguna"})}),i.jsx(zn,{...p,children:i.jsxs("form",{onSubmit:p.handleSubmit(w),className:"space-y-6 py-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("p",{className:"text-sm text-gray-500",children:["ID Pengguna: ",c==null?void 0:c.id]}),i.jsxs("p",{className:"text-sm font-medium",children:["Email: ",(c==null?void 0:c.email)||"Tidak Ada"]})]}),i.jsx(Qe,{control:p.control,name:"name",render:({field:B})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Nama"}),i.jsx(Me,{children:i.jsx(ue,{...B,value:B.value||""})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:p.control,name:"role",render:({field:B})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Peran"}),i.jsx(Me,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...B,children:[i.jsx("option",{value:"customer",children:"Pelanggan"}),i.jsx("option",{value:"manager",children:"Manajer"}),i.jsx("option",{value:"admin",children:"Admin"})]})}),i.jsx(qe,{})]})}),i.jsxs(no,{children:[i.jsx(G,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Batal"}),i.jsx(G,{type:"submit",children:"Simpan Perubahan"})]})]})})]})})]})}const g3e=Ls({status:cd(["pending","processing","shipped","delivered","canceled"]),tracking_number:sr().optional()}),Ca={receipt:{fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",lineHeight:"1.4",color:"#333",padding:"1rem",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},receiptHeader:{textAlign:"center",marginBottom:"1rem"},receiptTitle:{fontSize:"1.25rem",fontWeight:"bold",marginBottom:"0.5rem"},receiptStoreInfo:{fontSize:"0.875rem",color:"#555",marginBottom:"0.5rem"},receiptBorder:{borderTop:"1px dashed #ccc",margin:"0.5rem 0"},receiptItem:{display:"flex",justifyContent:"space-between",marginBottom:"0.25rem"},receiptBarcode:{textAlign:"center",margin:"1rem 0",fontSize:"0.875rem",letterSpacing:"2px"},receiptThankYou:{textAlign:"center",margin:"1rem 0",fontWeight:"bold"},receiptFooter:{textAlign:"center",fontSize:"0.75rem",color:"#777",marginTop:"1rem"}};function x3e(){var be;const[t,e]=v.useState([]),[r,n]=v.useState(""),[a,s]=v.useState(!0),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[A,d]=v.useState(null),[h,f]=v.useState(1),[m,g]=v.useState(10),[p,b]=v.useState(0),[x,w]=v.useState(!1),[y,C]=v.useState(!1),[E,B]=v.useState(null),[j,N]=v.useState(null),[S,T]=v.useState(null),[I,k]=v.useState(null),[R,M]=v.useState(null),$=v.useRef(null),U=ra({resolver:na(g3e),defaultValues:{status:"pending",tracking_number:""}});v.useEffect(()=>{O()},[h,r]);const O=async()=>{s(!0);try{let Y=Z.from("orders").select("*",{count:"exact"});r&&(Y=Y.ilike("id",`%${r}%`));const{data:pe,error:je,count:Le}=await Y.order("date",{ascending:!1}).range((h-1)*m,h*m-1);if(je)throw je;console.log("Fetched orders:",pe),e(pe),b(Le||0)}catch(Y){console.error("Error fetching orders:",Y),fe({title:"Error memuat pesanan",description:Y.message||"Silakan coba lagi nanti.",variant:"destructive"})}finally{s(!1)}},L=Y=>{console.log("Editing order:",Y),d(Y),U.reset({status:Y.status,tracking_number:Y.trackingNumber||""}),l(!0)},H=async Y=>{if(A){u(!0);try{console.log("Updating order with values:",Y);const{error:pe}=await Z.from("orders").update({status:Y.status,tracking_number:Y.tracking_number||null}).eq("id",A.id);if(pe)throw pe;fe({title:"Pesanan diperbarui",description:"Status pesanan telah berhasil diperbarui."}),l(!1),O()}catch(pe){console.error("Error updating order:",pe),fe({title:"Error memperbarui pesanan",description:pe.message||"Silakan coba lagi nanti.",variant:"destructive"})}finally{u(!1)}}},D=Y=>{switch(Y){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"canceled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Q=Y=>{switch(Y){case"pending":return"Menunggu";case"processing":return"Diproses";case"shipped":return"Dikirim";case"delivered":return"Diterima";case"canceled":return"Dibatalkan";default:return Y.charAt(0).toUpperCase()+Y.slice(1)}},z=Math.ceil(p/m),q=h>1,W=h<z,ee=kt(),oe=Y=>{ee(`/admin/orders/${Y}`)},ne=async Y=>{B(Y);try{const{data:pe,error:je}=await Z.from("profiles").select("*").eq("id",Y.user_id).single();if(je?console.warn("Error fetching customer:",je):N(pe),Y.shipping_address_id){const{data:Le,error:Ve}=await Z.from("addresses").select("*").eq("id",Y.shipping_address_id).single();!Ve&&Le&&T({id:Le.id,name:Le.name,street:Le.street,city:Le.city,state:Le.state,zip:Le.zip,country:Le.country,isDefault:Le.is_default||!1,user_id:Le.user_id,created_at:Le.created_at})}if(Y.shipping_method_id){const{data:Le,error:Ve}=await Z.from("shipping_methods").select("*").eq("id",Y.shipping_method_id).single();!Ve&&Le&&k(Le)}if(!Y.items||Y.items.length===0){const{data:Le,error:Ve}=await Z.from("order_items").select("*").eq("order_id",Y.id);!Ve&&Le&&(Y.items=Le.map(bt=>({id:bt.id,productId:bt.product_id,productName:bt.product_name,quantity:bt.quantity,price:bt.price})),B({...Y}))}if(M(null),Y.voucher_id){const{data:Le,error:Ve}=await Z.from("vouchers").select("*").eq("id",Y.voucher_id).single();!Ve&&Le&&M({code:Le.code,discount_type:Le.discount_type})}w(!0)}catch(pe){console.error("Error fetching order details:",pe),fe({title:"Error",description:"Terjadi kesalahan saat memuat struk pesanan",variant:"destructive"})}},ce=async()=>{if(!(!$.current||!E))try{C(!0);const Y=$.current,je=(await lI(Y,{scale:2,backgroundColor:"#ffffff",logging:!1,useCORS:!0,allowTaint:!0})).toDataURL("image/png"),Le=document.createElement("a");Le.href=je,Le.download=`Struk-Pesanan-${E.id.substring(0,8)}.png`,Le.click(),fe({title:"Struk Berhasil Disimpan",description:"Struk pesanan telah disimpan sebagai gambar",variant:"default"})}catch(Y){console.error("Error saving receipt as image:",Y),fe({title:"Gagal Menyimpan Struk",description:"Terjadi kesalahan saat menyimpan struk sebagai gambar",variant:"destructive"})}finally{C(!1)}},de=()=>{$.current&&window.print()};return i.jsxs(In,{children:[i.jsx("div",{className:"flex justify-between items-center mb-6",children:i.jsx("h1",{className:"text-xl font-bold mb-4",children:"Manajemen Pesanan"})}),i.jsx("div",{className:"mb-6 flex items-center gap-4",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Fl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(ue,{placeholder:"Cari pesanan...",className:"pl-10",value:r,onChange:Y=>n(Y.target.value)})]})}),i.jsx(_e,{children:i.jsx(Be,{className:"p-0",children:i.jsxs(En,{children:[i.jsx(Sn,{children:i.jsxs(lt,{children:[i.jsx(Ee,{children:"ID Pesanan"}),i.jsx(Ee,{children:"Tanggal"}),i.jsx(Ee,{className:"text-center",children:"Status"}),i.jsx(Ee,{className:"text-right",children:"Diskon"}),i.jsx(Ee,{className:"text-right",children:"Total"}),i.jsx(Ee,{className:"text-right",children:"Aksi"})]})}),i.jsx(Nn,{children:a?i.jsx(lt,{children:i.jsx(me,{colSpan:6,className:"text-center py-8",children:i.jsxs("div",{className:"flex justify-center items-center",children:[i.jsx(UE,{className:"h-6 w-6 animate-spin mr-2"}),"Memuat pesanan..."]})})}):t.length===0?i.jsx(lt,{children:i.jsx(me,{colSpan:5,className:"text-center py-8",children:"Tidak ada pesanan ditemukan."})}):t.map(Y=>i.jsxs(lt,{children:[i.jsxs(me,{className:"font-medium",children:[Y.id.substring(0,8),"..."]}),i.jsx(me,{children:new Date(Y.date).toLocaleDateString()}),i.jsx(me,{className:"text-center",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${D(Y.status)}`,children:Q(Y.status)})}),i.jsx(me,{className:"text-right",children:Y.discount_amount>0?i.jsxs("span",{className:"text-green-600",children:["-",ve(Y.discount_amount)]}):"-"}),i.jsx(me,{className:"text-right",children:ve(Y.total)}),i.jsxs(me,{className:"text-right",children:[i.jsxs(G,{size:"sm",variant:"outline",className:"mr-2",onClick:()=>L(Y),children:[i.jsx(Ep,{className:"h-4 w-4 mr-1"}),"Edit"]}),i.jsxs(G,{size:"sm",variant:"outline",className:"mr-2",onClick:()=>ne(Y),children:[i.jsx(LE,{className:"h-4 w-4 mr-1"}),"Struk"]}),i.jsxs(G,{size:"sm",variant:"default",onClick:()=>oe(Y.id),children:[i.jsx(Pte,{className:"h-4 w-4 mr-1"}),"Lihat"]})]})]},Y.id))})]})})}),z>1&&i.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[i.jsxs("div",{className:"text-sm text-gray-500",children:["Halaman ",h," dari ",z]}),i.jsxs("div",{className:"space-x-2",children:[i.jsx(G,{variant:"outline",size:"sm",onClick:()=>f(Y=>Math.max(Y-1,1)),disabled:!q,children:"Sebelumnya"}),i.jsx(G,{variant:"outline",size:"sm",onClick:()=>f(Y=>Math.min(Y+1,z)),disabled:!W,children:"Berikutnya"})]})]}),i.jsx(mi,{open:o,onOpenChange:l,children:i.jsxs(Rs,{children:[i.jsx(pi,{children:i.jsx(gi,{children:"Perbarui Status Pesanan"})}),i.jsx(zn,{...U,children:i.jsxs("form",{onSubmit:U.handleSubmit(H),className:"space-y-6 py-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("p",{className:"text-sm text-gray-500",children:["ID Pesanan: ",A==null?void 0:A.id]}),i.jsxs("p",{className:"text-sm font-medium",children:["Total: ",ve(A==null?void 0:A.total)]}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Tanggal: ",A!=null&&A.date?new Date(A.date).toLocaleDateString("id-ID"):"Tidak Ada"]})]}),i.jsx(Qe,{control:U.control,name:"status",render:({field:Y})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Status"}),i.jsx(Me,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...Y,children:[i.jsx("option",{value:"pending",children:"Menunggu"}),i.jsx("option",{value:"processing",children:"Diproses"}),i.jsx("option",{value:"shipped",children:"Dikirim"}),i.jsx("option",{value:"delivered",children:"Diterima"}),i.jsx("option",{value:"canceled",children:"Dibatalkan"})]})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:U.control,name:"tracking_number",render:({field:Y})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Nomor Resi"}),i.jsx(Me,{children:i.jsx(ue,{...Y,value:Y.value||""})}),i.jsx(qe,{})]})}),i.jsxs(no,{children:[i.jsx(G,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Batal"}),i.jsx(G,{type:"submit",disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(UE,{className:"h-4 w-4 mr-2 animate-spin"}),"Menyimpan..."]}):"Simpan Perubahan"})]})]})})]})}),E&&i.jsx(lr,{open:x,onOpenChange:w,children:i.jsxs(nr,{className:"max-w-md",children:[i.jsx(hr,{children:i.jsx(fr,{className:"text-center",children:"Struk Pesanan"})}),i.jsxs("div",{ref:$,style:Ca.receipt,children:[i.jsxs("div",{style:Ca.receiptHeader,children:[i.jsx("h2",{style:Ca.receiptTitle,children:"Struk Belanja"}),i.jsxs("div",{style:Ca.receiptStoreInfo,children:[i.jsx("p",{children:i.jsx("strong",{children:"Jaya Perkasa Charcoal"})}),i.jsx("p",{children:"Jl.legok conggeang kec.paseh , sumedang"}),i.jsx("p",{children:"Telp: 0813-9458-6882"})]}),i.jsx("div",{style:Ca.receiptBorder}),i.jsx("p",{className:"mt-3 mb-1",children:i.jsxs("strong",{children:["Pesanan #",E.id.substring(0,8)]})}),i.jsx("p",{children:new Date(E.date).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),j&&i.jsxs("div",{style:Ca.receiptStoreInfo,children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Pelanggan:"})," ",j.name||"Tidak Ada"]}),i.jsx("p",{children:j.email||"Tidak Ada"}),i.jsx("p",{children:j.phone||"Tidak Ada"})]}),S&&i.jsxs("div",{style:Ca.receiptStoreInfo,children:[i.jsx("p",{children:i.jsx("strong",{children:"Dikirim Ke:"})}),i.jsx("p",{children:S.name}),i.jsx("p",{children:S.street}),i.jsx("p",{children:`${S.city}, ${S.state} ${S.zip}`})]}),i.jsx("div",{style:Ca.receiptBorder}),i.jsx("div",{style:{margin:"0.5rem 0"},children:E.items&&E.items.map((Y,pe)=>i.jsxs("div",{style:Ca.receiptItem,children:[i.jsxs("div",{children:[i.jsx("p",{children:Y.productName}),i.jsxs("p",{children:["Jml: ",Y.quantity," Kg  ",ve(Y.price)]})]}),i.jsx("span",{children:ve(Y.price*Y.quantity)})]},pe))}),i.jsxs("div",{className:"mt-3 text-sm",children:[i.jsxs("div",{className:"flex justify-between py-1",children:[i.jsx("span",{children:"Subtotal"}),i.jsx("span",{children:ve(((be=E.items)==null?void 0:be.reduce((Y,pe)=>Y+pe.price*pe.quantity,0))||0)})]}),E.discount_amount>0&&i.jsxs("div",{className:"flex justify-between py-1 text-green-600",children:[i.jsxs("span",{children:["Diskon Voucher ",R!=null&&R.code?`(${R.code})`:""]}),i.jsxs("span",{children:["-",ve(E.discount_amount)]})]}),I&&i.jsxs("div",{className:"flex justify-between py-1",children:[i.jsxs("span",{children:["Pengiriman (",I.name,")"]}),i.jsx("span",{children:ve(I.cost)})]}),i.jsxs("div",{className:"flex justify-between py-1 font-semibold",children:[i.jsx("span",{children:"Total Yang Harus Di Bayar"}),i.jsx("span",{children:ve(E.total)})]})]}),i.jsx("div",{style:Ca.receiptStoreInfo,children:i.jsxs("p",{children:[i.jsx("strong",{children:"Metode Pembayaran:"})," ",E.paymentMethod==="bank-transfer"?"Transfer Bank":E.paymentMethod==="qris"?"QRIS":E.paymentMethod==="cod"?"Bayar di Tempat (COD)":"Pembayaran Standar"]})}),i.jsx("div",{style:Ca.receiptBarcode,children:i.jsxs("p",{children:["*******",E.id.substring(0,8),"*******"]})}),i.jsx("div",{style:Ca.receiptThankYou,children:i.jsx("p",{children:"Silahkan Segera Melakukan Pembayaran Agar Pengiriman Segera Di Proses"})}),i.jsxs("div",{style:Ca.receiptFooter,children:[i.jsx("p",{children:"Layanan pelanggan: 0813-9458-6882"}),i.jsx("p",{children:"Jika Arang Belum Di Kirim Silahkan Chat Admin Dan Berikan Struk Bukti Pembayaran"}),i.jsx("p",{children:"Terima kasih"})]}),i.jsxs("div",{className:"flex gap-2 mt-6",children:[i.jsx(G,{onClick:()=>w(!1),variant:"outline",className:"flex-1",children:"Tutup"}),i.jsxs(G,{onClick:de,className:"flex-1",children:[i.jsx(M0,{className:"mr-2 h-4 w-4"}),"Cetak"]}),i.jsx(G,{onClick:ce,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",disabled:y,children:y?i.jsxs(i.Fragment,{children:[i.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):i.jsxs(i.Fragment,{children:[i.jsx(al,{className:"mr-2 h-4 w-4"}),"Simpan"]})})]})]})]})})]})}const v3e={async getCategories(){try{const{data:t,error:e}=await Z.from("expense_categories").select("*").order("name");return{data:t,error:e}}catch(t){return console.error("Error fetching expense categories:",t),{data:null,error:t}}},async addCategory(t){try{t.id||(t.id=on()),t.created_at||(t.created_at=new Date().toISOString());const{data:e,error:r}=await Z.from("expense_categories").insert(t).select().single();return{data:e,error:r}}catch(e){return console.error("Error adding expense category:",e),{data:null,error:e}}},async getExpenses(t=100,e=0,r){try{let n=Z.from("company_expenses").select(`
          *,
          expense_categories!inner (
            name
          )
        `).order("date",{ascending:!1}).range(e,e+t-1);r&&(r.category_id&&(n=n.eq("category_id",r.category_id)),r.from_date&&(n=n.gte("date",r.from_date)),r.to_date&&(n=n.lte("date",r.to_date)),r.status&&(n=n.eq("status",r.status)),r.search&&(n=n.or(`description.ilike.%${r.search}%,paid_by.ilike.%${r.search}%`)));const{data:a,error:s}=await n;return{data:a==null?void 0:a.map(l=>{var c;return{...l,category_name:(c=l.expense_categories)==null?void 0:c.name}}),error:s}}catch(n){return console.error("Error fetching company expenses:",n),{data:null,error:n}}},async addExpense(t){var e;try{const r=["date","amount","description","category_id","created_by"];for(const o of r)if(!t[o])throw new Error(`Field ${o} wajib diisi`);t.id||(t.id=on()),t.created_at||(t.created_at=new Date().toISOString()),t.status||(t.status="pending");const{data:n,error:a}=await Z.from("company_expenses").insert(t).select(`
          *,
          expense_categories!inner (
            name
          )
        `).single();if(a)throw a;return{data:{...n,category_name:(e=n.expense_categories)==null?void 0:e.name},error:null}}catch(r){return console.error("Error adding company expense:",r),{data:null,error:r}}},async updateExpense(t,e){var r;try{e.updated_at=new Date().toISOString();const{data:n,error:a}=await Z.from("company_expenses").update(e).eq("id",t).select(`
          *,
          expense_categories!inner (
            name
          )
        `).single();if(a)throw a;return{data:{...n,category_name:(r=n.expense_categories)==null?void 0:r.name},error:null}}catch(n){return console.error("Error updating company expense:",n),{data:null,error:n}}},async deleteExpense(t){try{const{error:e}=await Z.from("company_expenses").delete().eq("id",t);if(e)throw e;return{data:null,error:null}}catch(e){return console.error("Error deleting company expense:",e),{data:null,error:e}}},async getMonthlyExpenses(){try{const t=new Date;t.setFullYear(t.getFullYear()-1);const{data:e,error:r}=await Z.from("company_expenses").select("date, amount").gte("date",t.toISOString().split("T")[0]).order("date");if(r)throw r;const n={};return e==null||e.forEach(s=>{const o=new Date(s.date),l=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}`;n[l]||(n[l]=0),n[l]+=s.amount}),{data:Object.entries(n).map(([s,o])=>({month:s,total:o})),error:null}}catch(t){return console.error("Error fetching monthly expenses:",t),{data:null,error:t}}},async getExpensesByCategory(t,e){try{let r=Z.from("company_expenses").select(`
          amount,
          expense_categories!inner (
            id,
            name
          )
        `);t&&(r=r.gte("date",t)),e&&(r=r.lte("date",e));const{data:n,error:a}=await r;if(a)throw a;const s={};return n==null||n.forEach(l=>{const c=typeof l.expense_categories=="object"&&!Array.isArray(l.expense_categories)?l.expense_categories.id:l.category_id,u=typeof l.expense_categories=="object"&&!Array.isArray(l.expense_categories)?l.expense_categories.name:"Uncategorized";s[c]||(s[c]={id:c,name:u,total:0}),s[c].total+=l.amount}),{data:Object.values(s).map(l=>({category:l.name,total:l.total})),error:null}}catch(r){return console.error("Error fetching expenses by category:",r),{data:null,error:r}}},async getTotalExpenses(t,e){try{let r=Z.from("company_expenses").select("amount");t&&(r=r.gte("date",t)),e&&(r=r.lte("date",e));const{data:n,error:a}=await r;if(a)throw a;return{data:(n==null?void 0:n.reduce((o,l)=>o+l.amount,0))||0,error:null}}catch(r){return console.error("Error fetching total expenses:",r),{data:null,error:r}}},async reduceCostFromCancelledOrder(t,e,r){try{const{data:n}=await Z.from("company_expenses").select("*").eq("description",`Order #${t.substring(0,8)}`).single();if(!n)return console.log(`No expenses found for order ${t}`),!0;const a={id:on(),date:new Date().toISOString().split("T")[0],amount:-Math.abs(r),description:`Pembatalan Order #${t.substring(0,8)}`,category_id:n.category_id,paid_by:"System",payment_method:"Adjustment",status:"approved",created_by:e,created_at:new Date().toISOString(),document_reference:t,notes:`Pengurangan biaya otomatis untuk pesanan #${t.substring(0,8)} yang dibatalkan`},{error:s}=await Z.from("company_expenses").insert(a);return s?(console.error("Error reducing expense for cancelled order:",s),!1):!0}catch(n){return console.error("Error in reduceCostFromCancelledOrder:",n),!1}}};var _P="Switch",[y3e,Y8e]=ba(_P),[b3e,w3e]=y3e(_P),oZ=v.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:A,...d}=t,[h,f]=v.useState(null),m=pt(e,w=>f(w)),g=v.useRef(!1),p=h?A||!!h.closest("form"):!0,[b=!1,x]=ls({prop:a,defaultProp:s,onChange:u});return i.jsxs(b3e,{scope:r,checked:b,disabled:l,children:[i.jsx(Ye.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":uZ(b),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:m,onClick:Fe(t.onClick,w=>{x(y=>!y),p&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),p&&i.jsx(_3e,{control:h,bubbles:!g.current,name:n,value:c,checked:b,required:o,disabled:l,form:A,style:{transform:"translateX(-100%)"}})]})});oZ.displayName=_P;var lZ="SwitchThumb",cZ=v.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,a=w3e(lZ,r);return i.jsx(Ye.span,{"data-state":uZ(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:e})});cZ.displayName=lZ;var _3e=t=>{const{control:e,checked:r,bubbles:n=!0,...a}=t,s=v.useRef(null),o=Lp(r),l=Np(e);return v.useEffect(()=>{const c=s.current,u=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&d){const h=new Event("click",{bubbles:n});d.call(c,r),c.dispatchEvent(h)}},[o,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:s,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function uZ(t){return t?"checked":"unchecked"}var AZ=oZ,B3e=cZ;const os=v.forwardRef(({className:t,...e},r)=>i.jsx(AZ,{className:he("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:i.jsx(B3e,{className:he("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));os.displayName=AZ.displayName;const C3e=t=>{switch(t.toLowerCase()){case"pending":return"Menunggu Pembayaran";case"paid":return"Pembayaran Diterima";case"processing":return"Sedang Diproses";case"shipped":return"Sedang Dikirim";case"delivered":return"Telah Diterima";case"completed":return"Selesai";case"cancelled":return"Dibatalkan";case"refunded":return"Dana Dikembalikan";default:return t}},j3e=(t,e,r,n)=>{const a=t.substring(0,8),s=C3e(e);let o=`*UPDATE STATUS PESANAN*
`;switch(o+=`

`,o+=`Halo${n?" "+n:""},

`,o+=`Pesanan #${a} Anda ${r?`(${r})`:""} telah diperbarui.

`,o+=`*Status Saat Ini: ${s}*

`,e.toLowerCase()){case"pending":o+=`Silakan segera lakukan pembayaran agar pesanan Anda dapat diproses.
`,o+=`Jika sudah melakukan pembayaran, mohon kirimkan bukti pembayaran kepada kami.
`;break;case"paid":o+=`Terima kasih atas pembayaran Anda! Pesanan Anda akan segera kami proses.
`;break;case"processing":o+=`Pesanan Anda sedang kami proses. Kami akan segera mempersiapkan pengiriman.
`;break;case"shipped":o+=`Pesanan Anda telah dikirim! Anda akan menerima update pengiriman selanjutnya.
`,o+=`Mohon siapkan penerimaan barang di alamat pengiriman yang telah ditentukan.
`;break;case"delivered":o+=`Pesanan Anda telah sampai di tujuan. Silakan konfirmasi penerimaan barang.
`,o+=`Jika ada pertanyaan atau masalah dengan pesanan, segera hubungi kami.
`;break;case"completed":o+=`Terima kasih telah berbelanja di Jaya Perkasa Charcoal! Kami harap Anda puas dengan produk kami.
`,o+=`Silakan berikan ulasan untuk pesanan Anda melalui aplikasi kami.
`;break;case"cancelled":o+=`Pesanan Anda telah dibatalkan. Jika Anda memiliki pertanyaan atau ingin membuat pesanan baru, silakan hubungi kami.
`;break;case"refunded":o+=`Dana untuk pesanan Anda telah dikembalikan. Proses pengembalian dana membutuhkan waktu 1-3 hari kerja tergantung bank Anda.
`;break}return o+=`
Untuk informasi lebih lanjut atau bantuan, silakan hubungi layanan pelanggan kami:
`,o+=`Telp/WA: 0813-9458-6882

`,o+=`Terima kasih telah berbelanja di
*JAYA PERKASA CHARCOAL*`,o},E3e=async(t,e)=>{try{const{data:r,error:n}=await Z.from("orders").select("user_id, created_at").eq("id",t).single();if(n||!r)return console.error("Error fetching order data:",n),!1;const{data:a,error:s}=await Z.from("profiles").select("name, phone, email").eq("id",r.user_id).single();if(s||!a||!a.phone)return console.error("Error fetching customer data or no phone number:",s),!1;const o=r.created_at?new Date(r.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}):void 0,l=j3e(t,e,o,a.name);return console.log(`Sending order status update (${e}) WhatsApp to customer:`,a.phone),await Qp(a.phone,l)}catch(r){return console.error("Error sending status update via WhatsApp:",r),!1}};class aL{static async updateOrderStatus(e,r,n=!0){try{const{data:a,error:s}=await Z.from("orders").update({status:r,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(s)return console.error("Error updating order status:",s),{success:!1,message:"Gagal mengupdate status pesanan",error:s};if(console.log(`Order ${e} status updated to ${r}`),n)try{const o=await E3e(e,r);console.log(`WhatsApp notification for order ${e} status update: ${o?"sent":"failed"}`)}catch(o){console.error("Error sending WhatsApp notification:",o)}return{success:!0,message:`Status pesanan berhasil diupdate menjadi ${r}`}}catch(a){return console.error("Unexpected error updating order status:",a),{success:!1,message:"Terjadi kesalahan saat mengupdate status pesanan",error:a}}}static async getOrderStatusHistory(e){try{const{data:r,error:n}=await Z.from("order_status_history").select("*").eq("order_id",e).order("created_at",{ascending:!1});return n?(console.error("Error fetching order status history:",n),{success:!1,data:null,error:n}):{success:!0,data:r,error:null}}catch(r){return console.error("Unexpected error fetching status history:",r),{success:!1,data:null,error:r}}}static async recordStatusChange(e,r,n,a,s){try{const{error:o}=await Z.from("order_status_history").insert({order_id:e,old_status:r,new_status:n,admin_id:a,notes:s||null,created_at:new Date().toISOString()});o&&console.error("Error recording status change history:",o)}catch(o){console.error("Unexpected error recording status change:",o)}}}const S3e=(t=!0)=>({updateStatus:async(r,n,a,s,o)=>{const{sendWhatsApp:l=!0,notes:c}=o||{};try{const u=await aL.updateOrderStatus(r,a,l);return u.success?(await aL.recordStatusChange(r,n,a,s,c),t&&fe({title:"Status Pesanan Diperbarui",description:`Pesanan #${r.substring(0,8)} telah diubah menjadi ${a}`}),{success:!0,data:u}):(t&&fe({title:"Gagal Memperbarui Status",description:u.message,variant:"destructive"}),{success:!1,error:u.error})}catch(u){return console.error("Error in updateStatus hook:",u),t&&fe({title:"Terjadi Kesalahan",description:"Gagal memperbarui status pesanan",variant:"destructive"}),{success:!1,error:u}}}}),N3e=Ud("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),dZ=v.forwardRef(({className:t,variant:e,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:he(N3e({variant:e}),t),...r}));dZ.displayName="Alert";const hZ=v.forwardRef(({className:t,...e},r)=>i.jsx("h5",{ref:r,className:he("mb-1 font-medium leading-none tracking-tight",t),...e}));hZ.displayName="AlertTitle";const fZ=v.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:he("text-sm [&_p]:leading-relaxed",t),...e}));fZ.displayName="AlertDescription";const TE=[{value:"pending",label:"Menunggu Pembayaran"},{value:"paid",label:"Pembayaran Diterima"},{value:"processing",label:"Sedang Diproses"},{value:"shipped",label:"Sedang Dikirim"},{value:"delivered",label:"Telah Diterima"},{value:"completed",label:"Selesai"},{value:"cancelled",label:"Dibatalkan"},{value:"refunded",label:"Dana Dikembalikan"}],T3e=t=>{switch(t){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"paid":return"bg-green-100 text-green-800 border-green-300";case"processing":return"bg-blue-100 text-blue-800 border-blue-300";case"shipped":return"bg-purple-100 text-purple-800 border-purple-300";case"delivered":return"bg-indigo-100 text-indigo-800 border-indigo-300";case"completed":return"bg-green-100 text-green-800 border-green-300";case"cancelled":return"bg-red-100 text-red-800 border-red-300";case"refunded":return"bg-orange-100 text-orange-800 border-orange-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}};function k3e({orderId:t,currentStatus:e,adminId:r,onStatusUpdated:n}){var b;const[a,s]=v.useState(e),[o,l]=v.useState(!0),[c,u]=v.useState(""),[A,d]=v.useState(!1),[h,f]=v.useState(null),{updateStatus:m}=S3e(),g=x=>{s(x),f(null)},p=async()=>{var x,w;if(!r){f({type:"error",message:"ID Admin tidak ditemukan. Silakan login kembali."});return}if(a===e){f({type:"error",message:"Status yang dipilih sama dengan status saat ini."});return}d(!0),f(null);try{const y=await m(t,e,a,r,{notes:c.trim()||void 0,sendWhatsApp:o});y.success?(f({type:"success",message:`Status pesanan berhasil diperbarui menjadi ${((x=TE.find(C=>C.value===a))==null?void 0:x.label)||a}${o?" dan notifikasi WhatsApp telah dikirim ke pelanggan":""}.`}),n&&n(a)):f({type:"error",message:`Gagal memperbarui status: ${((w=y.error)==null?void 0:w.message)||"Terjadi kesalahan."}`})}catch(y){f({type:"error",message:`Error: ${y.message||"Terjadi kesalahan yang tidak diketahui."}`})}finally{d(!1)}};return i.jsxs(_e,{className:"w-full shadow-sm",children:[i.jsxs(at,{children:[i.jsx(st,{className:"text-lg",children:"Update Status Pesanan"}),i.jsx(rr,{children:"Perbarui status pesanan dan kirim notifikasi WhatsApp ke pelanggan"})]}),i.jsxs(Be,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Te,{htmlFor:"current-status",className:"text-sm font-medium mb-1 block",children:"Status Saat Ini"}),i.jsx("div",{id:"current-status",className:`px-3 py-2 rounded-md border text-sm ${T3e(e)}`,children:((b=TE.find(x=>x.value===e))==null?void 0:b.label)||e})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx(Te,{htmlFor:"new-status",className:"text-sm font-medium",children:"Status Baru"}),i.jsxs(Cn,{value:a,onValueChange:g,disabled:A,children:[i.jsx(ln,{id:"new-status",className:"w-full",children:i.jsx(jn,{placeholder:"Pilih status baru"})}),i.jsx(cn,{children:TE.map(x=>i.jsx(mt,{value:x.value,disabled:x.value===e,children:x.label},x.value))})]})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx(Te,{htmlFor:"status-notes",className:"text-sm font-medium",children:"Catatan (Opsional)"}),i.jsx(kl,{id:"status-notes",placeholder:"Tambahkan catatan tentang perubahan status ini",value:c,onChange:x=>u(x.target.value),disabled:A,className:"resize-none",rows:2})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(os,{id:"send-whatsapp",checked:o,onCheckedChange:l,disabled:A}),i.jsx(Te,{htmlFor:"send-whatsapp",className:"cursor-pointer",children:"Kirim notifikasi WhatsApp ke pelanggan"})]}),h&&i.jsxs(dZ,{variant:h.type==="success"?"default":"destructive",className:h.type==="success"?"bg-green-50 border-green-200":"",children:[h.type==="success"?i.jsx(Ete,{className:"h-4 w-4"}):i.jsx(qf,{className:"h-4 w-4"}),i.jsx(hZ,{children:h.type==="success"?"Berhasil":"Terjadi Kesalahan"}),i.jsx(fZ,{children:h.message})]})]}),i.jsx(ns,{children:i.jsx(G,{onClick:p,disabled:A||a===e,className:"w-full",children:A?i.jsxs(i.Fragment,{children:[i.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):i.jsxs(i.Fragment,{children:[i.jsx(OH,{className:"mr-2 h-4 w-4"}),"Update Status & Kirim Notifikasi"]})})})]})}function I3e(){const{id:t}=Ip(),e=kt(),r=v.useRef(null),[n,a]=v.useState(null),[s,o]=v.useState(null),[l,c]=v.useState(null),[u,A]=v.useState(null),[d,h]=v.useState(!0),[f,m]=v.useState(!1),[g,p]=v.useState(null),[b,x]=v.useState(!1),[w,y]=v.useState(""),[C,E]=v.useState(!1),[B,j]=v.useState(!1),[N,S]=v.useState(null);v.useEffect(()=>{if(!t)return;T(),(async()=>{const{data:{session:O}}=await Z.auth.getSession();O!=null&&O.user&&y(O.user.id)})()},[t]);const T=async()=>{try{h(!0);const{data:U,error:O}=await Z.from("orders").select(`
          *,
          order_items(*)
        `).eq("id",t).single();if(O)throw O;const{data:L,error:H}=await Z.from("profiles").select("*").eq("id",U.user_id).single();if(H?console.warn("Error fetching customer:",H):o(L),U.shipping_address_id){const{data:ee,error:oe}=await Z.from("addresses").select("*").eq("id",U.shipping_address_id).single();!oe&&ee&&c({id:ee.id,name:ee.name,street:ee.street,city:ee.city,state:ee.state,zip:ee.zip,country:ee.country,isDefault:ee.is_default||!1,user_id:ee.user_id,created_at:ee.created_at})}if(U.shipping_method_id){const{data:ee,error:oe}=await Z.from("shipping_methods").select("*").eq("id",U.shipping_method_id).single();!oe&&ee&&A(ee)}if(U.payment_details&&U.payment_details.includes("notes:"))try{const ee=U.payment_details.match(/notes:(.*)/);ee&&ee[1]&&p(ee[1].trim())}catch(ee){console.error("Error parsing notes:",ee)}const D=ee=>["pending","processing","shipped","delivered","canceled"].includes(ee),Q=ee=>ee===null||["pending","assigned","picked_up","delivered","failed"].includes(ee),z=U.status,q=U.delivery_status,W={id:U.id,date:U.date,status:D(z)?z:"pending",total:U.total,paymentMethod:U.payment_method,trackingNumber:U.tracking_number,shipping_address_id:U.shipping_address_id,shipping_method_id:U.shipping_method_id,user_id:U.user_id,delivery_status:Q(q)?q:"pending",courier_id:U.courier_id,voucher_id:U.voucher_id,discount_amount:U.discount_amount||0,items:U.order_items.map(ee=>({id:ee.id,productId:ee.product_id,productName:ee.product_name,quantity:ee.quantity,price:ee.price,order_id:ee.order_id}))};if(U.voucher_id){const{data:ee,error:oe}=await Z.from("vouchers").select("*").eq("id",U.voucher_id).single();!oe&&ee&&S({code:ee.code,discount_type:ee.discount_type})}a(W)}catch(U){console.error("Error fetching order:",U),fe({title:"Error memuat pesanan",description:U.message||"Silakan coba lagi nanti.",variant:"destructive"}),e("/admin/orders")}finally{h(!1)}},I=async()=>{if(r.current)try{x(!0),f||(m(!0),await new Promise(D=>setTimeout(D,500)));const U=r.current,L=(await lI(U,{scale:2,backgroundColor:"#ffffff",logging:!1,useCORS:!0,allowTaint:!0})).toDataURL("image/png"),H=document.createElement("a");H.href=L,H.download=`Struk-Pesanan-${n==null?void 0:n.id.substring(0,8)}.png`,H.click(),fe({title:"Struk Berhasil Disimpan",description:"Struk pesanan telah disimpan sebagai gambar",variant:"default"})}catch(U){console.error("Error saving receipt as image:",U),fe({title:"Gagal Menyimpan Struk",description:"Terjadi kesalahan saat menyimpan struk sebagai gambar",variant:"destructive"})}finally{x(!1)}},k=()=>{r.current&&(m(!0),setTimeout(()=>{const U=r.current;if(!U)return;const O=window.open("","_blank");if(!O){fe({title:"Gagal membuka jendela cetak",description:"Mohon izinkan popup untuk situs ini",variant:"destructive"});return}const L=U.innerHTML;O.document.write(`
        <style>
          @media print {
            body {
              font-family: system-ui, sans-serif;
              padding: 20px;
              max-width: 300px;
              margin: 0 auto;
            }
            .receipt-header { 
              text-align: center;
              margin-bottom: 10px;
            }
            .receipt-items {
              border-top: 1px dashed #ccc;
              border-bottom: 1px dashed #ccc;
              padding: 10px 0;
              margin: 10px 0;
            }
            .receipt-item {
              display: flex;
              justify-content: space-between;
              margin-bottom: 5px;
            }
            .receipt-total {
              font-weight: bold;
              display: flex;
              justify-content: space-between;
              margin-top: 10px;
            }
            .receipt-footer {
              text-align: center;
              margin-top: 20px;
              font-size: 12px;
            }
            .receipt-logo {
              max-width: 100px;
              margin: 0 auto 10px;
              display: block;
            }
            .receipt-store-info {
              text-align: center;
              font-size: 12px;
              margin-bottom: 15px;
            }
            .receipt-border {
              border-top: 1px dashed #ccc;
              margin: 10px 0;
            }
            .receipt-payment-info {
              font-size: 12px;
              margin-top: 10px;
            }
            .receipt-customer-info {
              font-size: 12px;
              margin-top: 10px;
              margin-bottom: 10px;
            }
            .receipt-barcode {
              text-align: center;
              margin-top: 15px;
              font-size: 10px;
            }
            .receipt-thank-you {
              text-align: center;
              margin-top: 15px;
              font-weight: bold;
            }
          }
        </style>
        ${L}
      `),O.print(),m(!1)},500))},R=async()=>{if(!(!n||!t))try{j(!0);const{error:U}=await Z.from("orders").update({status:"canceled"}).eq("id",t);if(U)throw U;const O=await Z.auth.getUser().then(({data:L})=>{var H;return((H=L.user)==null?void 0:H.id)||"system"});if(n.items&&n.items.length>0){await vc.restoreStockFromCancelledOrder(n.id,n.items.map(H=>({productName:H.productName,quantity:H.quantity})),O);const L=n.total||n.items.reduce((H,D)=>H+D.price*D.quantity,0);await v3e.reduceCostFromCancelledOrder(n.id,O,L)}a({...n,status:"canceled"}),fe({title:"Pesanan Dibatalkan",description:"Pesanan telah berhasil dibatalkan dan stok telah dikembalikan."})}catch(U){console.error("Error canceling order:",U),fe({title:"Gagal Membatalkan Pesanan",description:U.message||"Terjadi kesalahan saat membatalkan pesanan.",variant:"destructive"})}finally{j(!1),E(!1)}},M=U=>{switch(U){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"canceled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},$=U=>{if(!U)return"";switch(U){case"pending":return"Menunggu";case"processing":return"Diproses";case"shipped":return"Dikirim";case"delivered":return"Diterima";case"canceled":return"Dibatalkan";default:return U.charAt(0).toUpperCase()+U.slice(1)}};return d?i.jsx(In,{children:i.jsxs("div",{className:"flex justify-center items-center h-64",children:[i.jsx(UE,{className:"h-8 w-8 animate-spin text-gray-500"}),i.jsx("span",{className:"ml-2 text-lg text-gray-500",children:"Memuat detail pesanan..."})]})}):n?i.jsxs(In,{children:[i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsxs(G,{variant:"outline",size:"sm",onClick:()=>e("/admin/orders"),children:[i.jsx(ks,{className:"h-4 w-4 mr-2"}),"Kembali ke Pesanan"]}),i.jsxs(G,{variant:"outline",onClick:k,className:"ml-2",children:[i.jsx(M0,{className:"mr-2 h-4 w-4"}),"Cetak Struk"]}),i.jsxs(G,{variant:"outline",onClick:I,className:"ml-2 bg-green-600 hover:bg-green-700 text-white",disabled:b,children:[b?i.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(al,{className:"mr-2 h-4 w-4"}),"Simpan Struk"]}),i.jsxs("h1",{className:"text-2xl font-bold",children:["Pesanan #",t]})]}),i.jsxs("div",{className:"flex items-center",children:[n&&n.status!=="canceled"&&i.jsxs(G,{variant:"destructive",onClick:()=>E(!0),className:"mr-2",disabled:n.status==="delivered",children:[i.jsx(B4,{className:"h-4 w-4 mr-2"}),"Batalkan Pesanan"]}),i.jsxs(G,{onClick:k,className:"bg-flame-500 hover:bg-flame-600",children:[i.jsx(M0,{className:"h-4 w-4 mr-2"}),"Cetak Struk"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[i.jsxs(_e,{children:[i.jsxs(at,{children:[i.jsx(st,{className:"text-lg",children:"Status Pesanan"}),i.jsx(rr,{children:"Perbarui status pesanan dan kirim notifikasi WhatsApp ke pelanggan"})]}),i.jsx(Be,{children:i.jsx(k3e,{orderId:n.id,currentStatus:n.status,adminId:w,onStatusUpdated:U=>{a({...n,status:U})}})})]}),i.jsxs(_e,{className:"md:col-span-2",children:[i.jsxs(at,{children:[i.jsx(st,{className:"text-lg flex items-center",children:"Ringkasan Pesanan"}),i.jsxs(rr,{children:["ID Pesanan: ",n==null?void 0:n.id,n&&i.jsx(vt,{className:`ml-2 ${M(n.status)}`,children:$(n.status)})]}),i.jsxs(rr,{children:["Tanggal: ",n?new Date(n.date).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):""]}),(n==null?void 0:n.trackingNumber)&&i.jsxs(rr,{children:["Nomor Resi: ",n.trackingNumber]})]}),i.jsxs(Be,{children:[i.jsxs("div",{className:"space-y-1 mb-6",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Daftar Pesanan"}),i.jsxs(En,{children:[i.jsx(Sn,{children:i.jsxs(lt,{children:[i.jsx(Ee,{children:"Produk"}),i.jsx(Ee,{children:"Jumlah"}),i.jsx(Ee,{className:"text-right",children:"Harga"}),i.jsx(Ee,{className:"text-right",children:"Subtotal"})]})}),i.jsxs(Nn,{children:[(n==null?void 0:n.items)&&n.items.map(U=>i.jsxs(lt,{children:[i.jsx(me,{children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 bg-charcoal-100 rounded flex-shrink-0 flex items-center justify-center",children:i.jsx(Ji,{className:"h-5 w-5 text-charcoal-400"})}),i.jsx("span",{children:U.productName})]})}),i.jsx(me,{children:U.quantity}),i.jsx(me,{className:"text-right",children:ve(U.price)}),i.jsx(me,{className:"text-right",children:ve(U.quantity*U.price)})]},U.id)),i.jsxs(lt,{children:[i.jsx(me,{colSpan:2}),i.jsx(me,{className:"font-medium text-right",children:"Subtotal:"}),i.jsx(me,{className:"font-medium text-right",children:n?ve(n.items.reduce((U,O)=>U+O.price*O.quantity,0)):""})]}),(n==null?void 0:n.discount_amount)>0&&i.jsxs(lt,{children:[i.jsx(me,{colSpan:2}),i.jsx(me,{className:"font-medium text-right text-green-600",children:"Diskon Voucher:"}),i.jsxs(me,{className:"font-medium text-right text-green-600",children:["-",ve(n.discount_amount)]})]}),u&&i.jsxs(lt,{children:[i.jsx(me,{colSpan:2}),i.jsxs(me,{className:"font-medium text-right",children:["Pengiriman (",u.name,"):"]}),i.jsx(me,{className:"font-medium text-right",children:ve(u.cost)})]}),i.jsxs(lt,{children:[i.jsx(me,{colSpan:2}),i.jsx(me,{className:"font-bold text-right",children:"Total:"}),i.jsx(me,{className:"font-bold text-right",children:n?ve(n.total):""})]})]})]})]}),g&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Catatan Pelanggan"}),i.jsx("div",{className:"text-sm text-gray-500 italic",children:g})]})]})]}),i.jsxs(_e,{children:[i.jsx(at,{children:i.jsx(st,{className:"text-lg",children:"Informasi Pelanggan"})}),i.jsx(Be,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Pelanggan"}),i.jsx("p",{children:(s==null?void 0:s.name)||"N/A"}),i.jsx("p",{children:(s==null?void 0:s.email)||"N/A"}),i.jsx("p",{children:(s==null?void 0:s.phone)||"N/A"})]}),i.jsx(Gn,{}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Alamat Pengiriman"}),l?i.jsxs(i.Fragment,{children:[i.jsx("p",{children:l.name}),i.jsx("p",{children:l.street}),i.jsx("p",{children:`${l.city}, ${l.state} ${l.zip}`}),i.jsx("p",{children:l.country})]}):i.jsx("p",{className:"text-muted-foreground",children:"Tidak ada alamat yang diberikan"})]}),i.jsx(Gn,{}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Metode Pembayaran"}),i.jsx("p",{children:n.paymentMethod==="bank-transfer"?"Transfer Bank":n.paymentMethod==="qris"?"QRIS":n.paymentMethod==="cod"?"Bayar di Tempat":n.paymentMethod||"Pembayaran Standar"})]}),u&&i.jsxs(i.Fragment,{children:[i.jsx(Gn,{}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Metode Pengiriman"}),i.jsxs("p",{children:[u.name," - ",u.carrier]}),i.jsxs("p",{children:["Perkiraan waktu pengiriman: ",u.estimated_days," Jam"]}),i.jsx("p",{className:"font-medium",children:ve(u.cost)})]})]})]})})]})]})]}),i.jsx(lr,{open:C,onOpenChange:E,children:i.jsxs(nr,{className:"max-w-md",children:[i.jsxs(hr,{children:[i.jsx(fr,{className:"text-center",children:"Konfirmasi Pembatalan"}),i.jsxs(Pn,{className:"text-center pt-4",children:["Apakah Anda yakin ingin membatalkan pesanan ini?",i.jsxs("div",{className:"mt-2 p-3 bg-red-50 text-red-700 rounded-md flex items-center",children:[i.jsx(eb,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:"Stok arang akan dikembalikan secara otomatis."})]})]})]}),i.jsxs(An,{className:"flex flex-row justify-between mt-4",children:[i.jsx(G,{variant:"outline",onClick:()=>E(!1),disabled:B,children:"Batal"}),i.jsx(G,{variant:"destructive",onClick:R,disabled:B,children:B?i.jsxs(i.Fragment,{children:[i.jsx(zt,{className:"h-4 w-4 mr-2 animate-spin"}),"Membatalkan..."]}):i.jsxs(i.Fragment,{children:[i.jsx(B4,{className:"h-4 w-4 mr-2"}),"Ya, Batalkan Pesanan"]})})]})]})}),i.jsx(lr,{open:f,onOpenChange:m,children:i.jsxs(nr,{className:"max-w-md",children:[i.jsx(hr,{children:i.jsx(fr,{className:"text-center",children:"Struk Pesanan"})}),i.jsxs("div",{ref:r,className:"p-4",children:[i.jsxs("div",{className:"receipt-header",children:[i.jsx("h2",{className:"text-xl font-bold mb-1",children:"Struk Belanja"}),i.jsxs("div",{className:"receipt-store-info",children:[i.jsx("p",{children:i.jsx("strong",{children:"Jaya Perkasa Charcoal"})}),i.jsx("p",{children:"Jl.legok conggeang kec.paseh , sumedang"}),i.jsx("p",{children:"Telp: 0813-9458-6882"})]}),i.jsx("div",{className:"receipt-border"}),i.jsx("p",{className:"mt-3 mb-1",children:i.jsxs("strong",{children:["ID Pesanan #",n.id.substring(0,8)]})}),i.jsx("p",{children:new Date(n.date).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),s&&i.jsxs("div",{className:"receipt-customer-info",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Pelanggan:"})," ",s.name||"Tidak Ada"]}),i.jsx("p",{children:s.email||"Tidak Ada"}),i.jsx("p",{children:s.phone||"Tidak Ada"})]}),l&&i.jsxs("div",{className:"receipt-customer-info",children:[i.jsx("p",{children:i.jsx("strong",{children:"Alamat Pengiriman:"})}),i.jsx("p",{children:l.name}),i.jsx("p",{children:l.street}),i.jsx("p",{children:`${l.city}, ${l.state} ${l.zip}`})]}),i.jsxs("table",{className:"w-full mt-4 mb-3",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left",children:"Item"}),i.jsx("th",{className:"text-center",children:"Jml"}),i.jsx("th",{className:"text-right",children:"Harga"}),i.jsx("th",{className:"text-right",children:"Total"})]})}),i.jsx("tbody",{children:n.items.map(U=>i.jsxs("tr",{children:[i.jsx("td",{className:"text-left",children:U.productName}),i.jsxs("td",{className:"text-center",children:[U.quantity,"x"]}),i.jsx("td",{className:"text-right",children:ve(U.price)}),i.jsx("td",{className:"text-right",children:ve(U.price*U.quantity)})]},U.id))})]}),i.jsx("div",{className:"receipt-border"}),i.jsxs("div",{className:"receipt-totals",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Subtotal:"}),i.jsx("span",{children:ve(n.items.reduce((U,O)=>U+O.price*O.quantity,0))})]}),n.discount_amount>0&&i.jsxs("div",{className:"flex justify-between text-green-600",children:[i.jsxs("span",{children:["Diskon Voucher ",N!=null&&N.code?`(${N.code})`:"",":"]}),i.jsxs("span",{children:["-",ve(n.discount_amount)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Subtotal sebelum diskon:"}),i.jsx("span",{children:ve(n.items.reduce((U,O)=>U+O.price*O.quantity,0)+n.discount_amount)})]}),u&&i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:["Pengiriman (",u.name,"):"]}),i.jsx("span",{children:ve(u.cost)})]}),i.jsxs("div",{className:"flex justify-between font-bold mt-2",children:[i.jsx("span",{children:"Total:"}),i.jsx("span",{children:ve(n.total)})]})]}),i.jsx("div",{className:"receipt-payment-info",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Metode Pembayaran:"})," ",n.paymentMethod==="bank-transfer"?"Transfer Bank":n.paymentMethod==="qris"?"QRIS":n.paymentMethod==="cod"?"Bayar di Tempat":"Pembayaran Standar"]})}),i.jsx("div",{className:"receipt-barcode",children:i.jsxs("p",{children:["*******",n.id.substring(0,8),"*******"]})}),i.jsx("div",{className:"receipt-thank-you",children:i.jsx("p",{children:"Terima kasih atas pembelian Anda!"})}),i.jsxs("div",{className:"receipt-footer",children:[i.jsx("p",{children:"Untuk layanan pelanggan: support@example.com"}),i.jsx("p",{children:"Simpan struk ini untuk pengembalian atau penukaran"}),i.jsx("p",{children:"Pengembalian diterima dalam 24 jam setelah pembelian"})]}),i.jsxs("div",{className:"flex gap-2 mt-6",children:[i.jsx(G,{onClick:()=>m(!1),variant:"outline",className:"flex-1",children:"Tutup"}),i.jsxs(G,{onClick:()=>window.print(),className:"flex-1",children:[i.jsx(M0,{className:"mr-2 h-4 w-4"}),"Cetak"]}),i.jsx(G,{onClick:I,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",disabled:b,children:b?i.jsxs(i.Fragment,{children:[i.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):i.jsxs(i.Fragment,{children:[i.jsx(al,{className:"mr-2 h-4 w-4"}),"Simpan"]})})]})]})]})})]}):i.jsx(In,{children:i.jsx("div",{className:"p-4",children:i.jsx(_e,{className:"w-full",children:i.jsx(Be,{className:"pt-6",children:i.jsxs("div",{className:"flex flex-col items-center justify-center p-6",children:[i.jsx("p",{className:"text-muted-foreground mb-4",children:"Pesanan tidak ditemukan"}),i.jsx(G,{onClick:()=>e("/admin/orders"),className:"bg-flame-500 hover:bg-flame-600",children:"Kembali ke Pesanan"})]})})})})})}function P3e(){const[t,e]=v.useState("month"),[r,n]=v.useState(!0),[a,s]=v.useState({totalSales:0,orderCount:0,averageOrderValue:0,topProducts:[],recentOrders:[]}),[o,l]=v.useState([]),[c,u]=v.useState([]),[A,d]=v.useState([]),[h,f]=v.useState(!1);v.useEffect(()=>{g()},[t]);const m=p=>{f(!0);try{let b="",x="";p==="orders"?(b=`ID Pesanan,Tanggal,Status,Total
`,A.forEach(E=>{b+=`"${E.id}","${new Date(E.date).toLocaleDateString()}","${E.status}","${E.total}"
`}),x="pesanan_export.csv"):p==="products"?(b=`Produk,Jumlah Terjual
`,c.forEach(E=>{b+=`"${E.name}","${E.total}"
`}),x="produk_terlaris_export.csv"):(b=`Tanggal,Total Penjualan
`,o.forEach(E=>{b+=`"${E.date}","${E.total}"
`}),x="penjualan_harian_export.csv");const w=new Blob([b],{type:"text/csv;charset=utf-8;"}),y=URL.createObjectURL(w),C=document.createElement("a");C.href=y,C.setAttribute("download",x),document.body.appendChild(C),C.click(),document.body.removeChild(C)}catch(b){console.error("Error exporting data:",b)}finally{f(!1)}},g=async()=>{n(!0);try{const p=new Date;let b=new Date;t==="week"?b.setDate(p.getDate()-7):t==="month"?b.setMonth(p.getMonth()-1):b.setFullYear(p.getFullYear()-1);const x=b.toISOString(),{data:w,error:y}=await Z.from("orders").select("*").gte("date",x).order("date",{ascending:!1});if(y)throw y;const C=(w==null?void 0:w.reduce((O,L)=>O+Number(L.total),0))||0,E=(w==null?void 0:w.length)||0,B=E>0?C/E:0,j=(w==null?void 0:w.slice(0,5))||[],{data:N,error:S}=await Z.from("order_items").select("product_id, product_name, quantity").in("order_id",(w==null?void 0:w.map(O=>O.id))||[]);if(S)throw S;const T=new Map;N==null||N.forEach(O=>{const L=T.get(O.product_id);L?L.quantity+=O.quantity:T.set(O.product_id,{productId:O.product_id,productName:O.product_name,quantity:O.quantity})});const I=Array.from(T.values()).sort((O,L)=>L.quantity-O.quantity).slice(0,5),k=new Map;w==null||w.forEach(O=>{const L=new Date(O.date).toLocaleDateString(),H=k.get(L)||0;k.set(L,H+Number(O.total))});const R=Array.from(k.entries()).map(([O,L])=>({date:O,total:L})).sort((O,L)=>new Date(O.date).getTime()-new Date(L.date).getTime());d(w||[]);const{data:M}=await Z.from("products").select("id, name").in("id",I.map(O=>O.productId)||[]),$=new Map;M==null||M.forEach(O=>$.set(O.id,O.name));const U=I.map(O=>({name:O.productName.length>15?O.productName.substring(0,15)+"...":O.productName,total:O.quantity}));s({totalSales:C,orderCount:E,averageOrderValue:B,topProducts:I,recentOrders:j}),l(R),u(U)}catch(p){console.error("Error fetching analytics data:",p)}finally{n(!1)}};return i.jsxs(In,{children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Dasbor Analitik"}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("select",{value:t,onChange:p=>e(p.target.value),className:"px-3 py-2 border rounded-md",children:[i.jsx("option",{value:"week",children:"7 Hari Terakhir"}),i.jsx("option",{value:"month",children:"30 Hari Terakhir"}),i.jsx("option",{value:"year",children:"Tahun Terakhir"})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs(_e,{children:[i.jsx(at,{className:"pb-2",children:i.jsx(st,{className:"text-sm font-medium",children:"Total Penjualan"})}),i.jsx(Be,{children:i.jsx("div",{className:"text-2xl font-bold",children:ve(a.totalSales)})})]}),i.jsxs(_e,{children:[i.jsx(at,{className:"pb-2",children:i.jsx(st,{className:"text-sm font-medium",children:"Pesanan"})}),i.jsxs(Be,{children:[i.jsx("p",{className:"text-xs text-gray-500",children:"Pengguna dengan pesanan"}),i.jsx("div",{className:"text-2xl font-bold",children:a.orderCount})]})]}),i.jsxs(_e,{children:[i.jsx(at,{className:"pb-2",children:i.jsx(st,{className:"text-sm font-medium",children:"Nilai Pesanan Rata-rata"})}),i.jsx(Be,{children:i.jsx("div",{className:"text-2xl font-bold",children:ve(a.averageOrderValue)})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(_e,{children:[i.jsxs(at,{className:"flex flex-row items-center justify-between",children:[i.jsx(st,{children:"Penjualan Bulanan"}),i.jsxs(G,{size:"sm",variant:"outline",className:"h-8 gap-1",onClick:()=>m("sales"),disabled:h||r,children:[i.jsx(al,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]}),i.jsx(Be,{children:i.jsx("div",{className:"h-80",children:r?i.jsx("div",{className:"h-full flex items-center justify-center",children:"Loading..."}):i.jsx(n3e,{data:o,index:"date",categories:["total"],colors:["#FF7E47"],valueFormatter:p=>ve(p),yAxisWidth:60})})})]}),i.jsxs(_e,{children:[i.jsxs(at,{className:"flex flex-row items-center justify-between",children:[i.jsx(st,{children:"Produk Terlaris"}),i.jsxs(G,{size:"sm",variant:"outline",className:"h-8 gap-1",onClick:()=>m("products"),disabled:h||r,children:[i.jsx(al,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]}),i.jsx(Be,{children:i.jsx("div",{className:"h-80",children:r?i.jsx("div",{className:"h-full flex items-center justify-center",children:"Loading..."}):i.jsx(sZ,{data:c,index:"name",categories:["total"],colors:["#FF7E47"],valueFormatter:p=>`${p} units`,yAxisWidth:60})})})]})]}),i.jsxs(_e,{children:[i.jsxs(at,{className:"flex flex-row items-center justify-between",children:[i.jsx(st,{children:"Pesanan Terbaru"}),i.jsxs(G,{size:"sm",variant:"outline",className:"h-8 gap-1",onClick:()=>m("orders"),disabled:h||r,children:[i.jsx(al,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]}),i.jsx(Be,{children:i.jsxs(En,{children:[i.jsx(Sn,{children:i.jsxs(lt,{children:[i.jsx(Ee,{className:"w-[100px]",children:"ID Pesanan"}),i.jsx(Ee,{children:"Pelanggan"}),i.jsx(Ee,{children:"Tanggal"}),i.jsx(Ee,{children:"Status"}),i.jsx(Ee,{className:"text-right",children:"Jumlah"})]})}),i.jsx(Nn,{children:r?i.jsx(lt,{children:i.jsx(me,{colSpan:5,className:"text-center py-4",children:"Loading..."})}):a.recentOrders.length===0?i.jsx(lt,{children:i.jsx(me,{colSpan:4,className:"text-center py-4",children:"No orders found."})}):a.recentOrders.map(p=>i.jsxs(lt,{children:[i.jsxs(me,{className:"font-medium",children:[p.id.substring(0,8),"..."]}),i.jsx(me,{children:new Date(p.date).toLocaleDateString()}),i.jsx(me,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${p.status==="pending"?"bg-yellow-100 text-yellow-800":p.status==="processing"?"bg-blue-100 text-blue-800":p.status==="shipped"?"bg-purple-100 text-purple-800":p.status==="delivered"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:p.status.charAt(0).toUpperCase()+p.status.slice(1)})}),i.jsx(me,{className:"text-right",children:ve(p.total)})]},p.id))})]})})]})]})}function F3e(){const[t,e]=v.useState(!1),[r,n]=v.useState(""),[a,s]=v.useState(75e4),[o,l]=v.useState(!0),[c,u]=v.useState([]),[A,d]=v.useState(null);v.useEffect(()=>{(()=>{if(!("Notification"in window)){d(null);return}d(Notification.permission)})()},[]),v.useEffect(()=>{(async()=>{const{data:g}=await Z.from("products").select("id, name, price").limit(5);g&&g.length>0?u(g):u([{id:on(),name:"Coal Type A Premium",price:25e4},{id:on(),name:"Coal Type B Standard",price:18e4},{id:on(),name:"Coal Type C Economy",price:12e4}])})()},[]);const h=async()=>{if(!("Notification"in window))return fe({title:"Error",description:"Browser Anda tidak mendukung notifikasi",variant:"destructive"}),!1;try{const m=await Notification.requestPermission();return d(m),m==="granted"?(fe({title:"Sukses",description:"Izin notifikasi diberikan"}),!0):(fe({title:"Peringatan",description:"Izin notifikasi ditolak. Notifikasi tidak akan ditampilkan.",variant:"destructive"}),!1)}catch(m){return console.error("Error requesting notification permission:",m),fe({title:"Error",description:"Gagal meminta izin notifikasi",variant:"destructive"}),!1}},f=async()=>{if(e(!0),!("Notification"in window)){fe({title:"Error",description:"Browser Anda tidak mendukung notifikasi",variant:"destructive"}),e(!1);return}if(A!=="granted"&&!await h()){fe({title:"Peringatan",description:"Anda harus mengizinkan notifikasi untuk menguji fitur ini",variant:"destructive"}),e(!1);return}try{let m,g,p=[];if(o){const b=on(),x=r||on(),w=on();g={id:x,full_name:"Pelanggan Test",email:"test@example.com",phone:"081234567890"},m={id:b,user_id:x,total:a,status:"pending",payment_method:"bank-transfer",shipping_address_id:w,date:new Date().toISOString(),payment_details:"SeaBank"};for(const y of c.slice(0,3)){const C=Math.floor(Math.random()*3)+1;p.push({product_name:y.name,quantity:C,price:y.price})}console.log("Using dummy order data for testing:",{order:m,customer:g,items:p})}else{if(!r)throw new Error("Silahkan masukkan ID pelanggan untuk menggunakan data nyata");const{data:b,error:x}=await Z.from("profiles").select("id, full_name, email, phone").eq("id",r).single();if(x||!b)throw new Error('Pelanggan tidak ditemukan. Gunakan opsi "Gunakan Data Dummy" untuk testing.');g=b;let w;const{data:y,error:C}=await Z.from("addresses").select("id").eq("user_id",r).limit(1).single();C?(w=on(),console.log("Using dummy address ID:",w)):w=y.id;const{data:E,error:B}=await Z.from("orders").insert({user_id:r,total:a,status:"pending",payment_method:"bank-transfer",shipping_address_id:w,date:new Date().toISOString(),payment_details:"SeaBank"}).select().single();if(B)throw B;m=E;for(const j of c.slice(0,3)){const N=Math.floor(Math.random()*3)+1,{error:S}=await Z.from("order_items").insert({order_id:m.id,product_id:j.id,product_name:j.name,quantity:N,price:j.price});S?console.error("Error inserting order item:",S):p.push({product_name:j.name,quantity:N,price:j.price})}}await z7({...m,_customerData:g,_orderItems:p}),fe({title:"Sukses",description:`Notifikasi order berhasil dikirim ke admin. Order ID: ${m.id}`}),console.log("Test order created:",{order:m,customer:g,items:p})}catch(m){console.error("Error creating test order:",m),fe({title:"Error",description:m instanceof Error?m.message:"Gagal membuat order test",variant:"destructive"})}finally{e(!1)}};return i.jsxs(_e,{className:"w-full",children:[i.jsx(at,{children:i.jsx(st,{children:"Test Notifikasi Order"})}),i.jsx(Be,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between space-x-2 rounded-lg border p-3 mb-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Te,{children:"Status Izin Notifikasi"}),i.jsx("p",{className:"text-sm",children:"Notification"in window?A==="granted"?i.jsx("span",{className:"text-green-500",children:"Izin diberikan"}):A==="denied"?i.jsx("span",{className:"text-red-500",children:"Izin ditolak (buka pengaturan browser untuk mengizinkan)"}):i.jsx("span",{className:"text-amber-500",children:"Izin belum diminta"}):i.jsx("span",{className:"text-red-500",children:"Browser tidak mendukung notifikasi"})})]}),"Notification"in window&&A!=="granted"&&A!=="denied"&&i.jsx(G,{variant:"outline",size:"sm",onClick:h,disabled:t,children:"Minta Izin"})]}),i.jsxs("div",{className:"flex items-center justify-between space-x-2 rounded-lg border p-3 mb-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Te,{children:"Gunakan Data Dummy"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Aktifkan untuk menggunakan data dummy tanpa perlu data pelanggan nyata"})]}),i.jsx(os,{checked:o,onCheckedChange:l})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"customerId",children:o?"ID Pelanggan (Opsional)":"ID Pelanggan"}),i.jsx(ue,{id:"customerId",placeholder:o?"Opsional - akan dibuat otomatis jika kosong":"Masukkan ID pelanggan",value:r,onChange:m=>n(m.target.value),disabled:t}),!o&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"ID pelanggan wajib diisi jika tidak menggunakan data dummy"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"orderTotal",children:"Total Order (Rp)"}),i.jsx(ue,{id:"orderTotal",type:"number",value:a,onChange:m=>s(Number(m.target.value)),min:1e4,disabled:t})]}),i.jsx(G,{onClick:f,disabled:t,className:"w-full",children:t?i.jsxs(i.Fragment,{children:[i.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Kirim Notifikasi Order"}),i.jsx("p",{className:"text-xs text-center text-muted-foreground mt-2",children:"Notifikasi akan muncul di notification bar browser jika izin notifikasi telah diberikan"})]})})]})}const D3e={monday:"Senin",tuesday:"Selasa",wednesday:"Rabu",thursday:"Kamis",friday:"Jumat",saturday:"Sabtu",sunday:"Minggu"};function O3e(){const[t,e]=v.useState(null),[r,n]=v.useState(!0),[a,s]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(null),[A,d]=v.useState(""),[h,f]=v.useState(""),[m,g]=v.useState(!1),p=async()=>{n(!0);try{const j=await ic.getBusinessHours();e(j),g(!1);const N=await ic.getCurrentStatus();u(N),f(new Date().toLocaleString("id-ID",{dateStyle:"medium",timeStyle:"short",timeZone:"Asia/Jakarta"}))}catch(j){console.error("Error fetching business hours:",j),fe({title:"Error",description:"Gagal mengambil data jam kerja",variant:"destructive"})}finally{n(!1)}};v.useEffect(()=>{p();const j=Z.channel("business-hours-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"settings",filter:"key=eq.business_hours"},N=>{console.debug("Business hours diubah:",N),!a&&!m&&(p(),fe({title:"Info",description:"Pengaturan jam kerja telah diperbarui oleh admin lain"}))}).subscribe();return()=>{Z.removeChannel(j)}},[a,m]);const b=j=>{t&&(e({...t,isEnabled:j}),g(!0))},x=(j,N)=>{if(!t)return;const S=[...t.workingDays];S[j]={...S[j],isActive:N},e({...t,workingDays:S}),g(!0)},w=(j,N,S)=>{if(!t)return;const T=[...t.workingDays];T[j]={...T[j],[N]:S},e({...t,workingDays:T}),g(!0)},y=j=>{if(!j.openTime||!j.closeTime)return!1;const[N,S]=j.openTime.split(":").map(Number),[T,I]=j.closeTime.split(":").map(Number),k=N*60+S;return T*60+I<k},C=j=>{t&&(e({...t,offWorkMessage:j}),g(!0))},E=async()=>{if(confirm("Anda yakin ingin mengembalikan pengaturan jam kerja ke default?")){l(!0);try{const j=await ic.resetToDefault();j.success?(fe({title:"Berhasil",description:j.message}),await p()):fe({title:"Error",description:j.message,variant:"destructive"})}catch(j){console.error("Error resetting business hours:",j),fe({title:"Error",description:"Gagal mereset pengaturan jam kerja",variant:"destructive"})}finally{l(!1)}}},B=async()=>{if(t){s(!0);try{const j=await ic.updateBusinessHours(t);if(j.success){fe({title:"Berhasil",description:j.message});const N=await ic.getCurrentStatus();u(N),g(!1),f(new Date().toLocaleString("id-ID",{dateStyle:"medium",timeStyle:"short",timeZone:"Asia/Jakarta"}))}else fe({title:"Warning",description:j.message,variant:"destructive"})}catch(j){console.error("Error saving business hours:",j),fe({title:"Error",description:"Gagal menyimpan pengaturan jam kerja: "+(j instanceof Error?j.message:"Unknown error"),variant:"destructive"})}finally{s(!1)}}};return r?i.jsxs(_e,{children:[i.jsxs(at,{children:[i.jsxs(st,{className:"flex items-center",children:[i.jsx($A,{className:"mr-2 h-5 w-5"}),"Pengaturan Jam Kerja"]}),i.jsx(rr,{children:"Memuat data dari database..."})]}),i.jsx(Be,{children:i.jsx("div",{className:"flex justify-center items-center p-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-gray-900"})})})]}):i.jsxs(_e,{children:[i.jsxs(at,{children:[i.jsxs(st,{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx($A,{className:"mr-2 h-5 w-5"}),"Pengaturan Jam Kerja"]}),m&&i.jsxs(vt,{variant:"outline",className:"ml-2 text-amber-500 border-amber-500",children:[i.jsx(qf,{className:"h-3 w-3 mr-1"})," Belum Disimpan"]})]}),i.jsx(rr,{children:h?`Terakhir diperbarui: ${h}`:"Data dari database Supabase"})]}),i.jsx(Be,{children:i.jsxs("div",{className:"space-y-6",children:[c&&i.jsxs("div",{className:"mb-4 p-3 rounded bg-gray-100 dark:bg-gray-800",children:[i.jsx("h3",{className:"text-sm font-medium mb-1",children:"Status Saat Ini:"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(vt,{className:c.isOpen?"bg-green-500":"bg-red-500",children:c.isOpen?"BUKA":"TUTUP"}),i.jsx("span",{className:"ml-2 text-sm",children:c.message})]}),i.jsx("div",{className:"mt-2 text-xs text-gray-500",children:i.jsxs(G,{variant:"outline",size:"sm",onClick:p,className:"h-7 text-xs",children:[i.jsx(Gf,{className:"h-3 w-3 mr-1"})," Refresh Status"]})})]}),i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(os,{id:"business-hours-toggle",checked:t.isEnabled,onCheckedChange:b}),i.jsx(Te,{htmlFor:"business-hours-toggle",className:"font-medium",children:"Aktifkan sistem jam kerja"})]}),c&&i.jsx(vt,{variant:c.isOpen?"outline":"destructive",className:"ml-auto",children:c.isOpen?"Buka":"Tutup"})]}),i.jsx("div",{className:"bg-slate-50 border border-slate-100 rounded-md p-4 mb-6",children:i.jsxs("div",{className:"flex items-start text-sm text-slate-600",children:[i.jsx(RE,{className:"h-5 w-5 mr-2 text-blue-500 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"mb-1",children:i.jsx("strong",{children:"Tentang Fitur Jam Kerja:"})}),i.jsx("p",{children:"Saat aktif, sistem ini akan membatasi akses pelanggan ke aplikasi hanya pada jam operasional yang ditentukan."}),i.jsx("p",{children:"Di luar jam tersebut, pelanggan akan melihat pesan yang Anda tentukan dan tidak dapat mengakses aplikasi."}),i.jsxs("p",{className:"mt-1",children:[i.jsx("strong",{children:"Jam Operasional Melewati Tengah Malam:"})," Jika toko Anda buka melewati tengah malam (misalnya 20:00 - 02:00), atur jam buka lebih besar dari jam tutup."]})]})]})}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-4",children:"Jadwal Jam Kerja"}),i.jsx("div",{className:"space-y-4",children:t.workingDays.map((j,N)=>i.jsxs("div",{className:"flex items-center space-x-4 p-3 border rounded-md bg-white",children:[i.jsxs("div",{className:"flex items-center space-x-2 w-28",children:[i.jsx(os,{id:`day-${j.day}`,checked:j.isActive,onCheckedChange:S=>x(N,S)}),i.jsx(Te,{htmlFor:`day-${j.day}`,className:j.isActive?"":"text-gray-400",children:D3e[j.day]})]}),i.jsxs("div",{className:`flex-1 flex items-center space-x-2 ${j.isActive?"":"opacity-50"}`,children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Te,{htmlFor:`open-${j.day}`,className:"mr-2 text-sm whitespace-nowrap",children:"Buka:"}),i.jsx(ue,{id:`open-${j.day}`,type:"time",value:j.openTime,onChange:S=>w(N,"openTime",S.target.value),disabled:!j.isActive,className:"w-28","aria-label":"Jam buka"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Te,{htmlFor:`close-${j.day}`,className:"mx-2 text-sm whitespace-nowrap",children:"Tutup:"}),i.jsx(ue,{id:`close-${j.day}`,type:"time",value:j.closeTime,onChange:S=>w(N,"closeTime",S.target.value),disabled:!j.isActive,className:"w-28","aria-label":"Jam tutup"}),j.isActive&&y(j)&&i.jsx("span",{className:"text-xs text-amber-600 ml-2",children:i.jsx(w$,{children:i.jsxs(Hae,{children:[i.jsx($ae,{children:i.jsx(RE,{className:"h-4 w-4 inline"})}),i.jsx(_$,{children:i.jsx("p",{children:"Jam tutup lebih awal dari jam buka. Ini akan dianggap sebagai jam kerja yang melewati tengah malam."})})]})})})]})]})]},j.day))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx(Te,{htmlFor:"off-work-message",className:"font-medium block mb-2",children:"Pesan Di Luar Jam Kerja"}),i.jsx(kl,{id:"off-work-message",value:t.offWorkMessage,onChange:j=>C(j.target.value),placeholder:"Masukkan pesan yang akan ditampilkan ketika aplikasi di luar jam kerja",className:"min-h-[100px]"})]}),i.jsxs("div",{className:"bg-slate-50 border border-slate-100 rounded-md p-4 mb-6",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Uji Pengaturan Jam Kerja"}),i.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Masukkan waktu untuk menguji apakah toko akan terbuka atau tertutup pada waktu tersebut."}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(ue,{type:"time",value:A,onChange:j=>d(j.target.value),className:"w-40",placeholder:"HH:MM"}),i.jsx(G,{variant:"outline",onClick:()=>{if(A&&t){const[j,N]=A.split(":").map(Number),S=new Date;S.setHours(j,N,0);const T=Date.now;Date.now=()=>S.getTime();const I=Date;Date=class extends I{constructor(){return super(),arguments.length===0?S:new I(...arguments)}},ic.getCurrentStatus().then(k=>{Date.now=T,Date=I,fe({title:k.isOpen?"Toko Terbuka":"Toko Tertutup",description:k.isOpen?`Pada pukul ${A}, toko akan terbuka.`:`Pada pukul ${A}, toko akan tertutup. Pesan: ${k.message}`,variant:k.isOpen?"default":"destructive"})})}else fe({title:"Waktu tidak valid",description:"Masukkan waktu yang valid untuk pengujian",variant:"destructive"})},children:"Uji Waktu"})]})]}),i.jsxs("div",{className:"flex justify-between items-center mt-6",children:[i.jsx(G,{type:"button",variant:"outline",disabled:o||a,onClick:E,className:"flex items-center",children:o?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin h-4 w-4 mr-1 border-2 border-gray-300 rounded-full"}),"Reset..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Gf,{className:"h-4 w-4 mr-1"}),"Reset ke Default"]})}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(G,{type:"button",variant:"secondary",disabled:!m||a,onClick:p,children:"Batalkan Perubahan"}),i.jsx(G,{type:"button",disabled:a||!m,onClick:B,className:"flex items-center",children:a?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin h-4 w-4 mr-1 border-2 border-white rounded-full"}),"Menyimpan..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Gte,{className:"h-4 w-4 mr-1"}),"Simpan ke Database"]})})]})]})]})}),i.jsxs(ns,{className:"border-t p-4 text-xs text-gray-500 flex justify-between items-center",children:[i.jsxs("div",{children:["Data disimpan di tabel ",i.jsx("code",{children:"settings"})," di Supabase"]}),i.jsx("div",{className:"flex items-center",children:m?i.jsxs(vt,{variant:"outline",className:"text-amber-500 border-amber-500",children:[i.jsx(qf,{className:"h-3 w-3 mr-1"})," Ada perubahan belum disimpan"]}):i.jsxs(vt,{variant:"outline",className:"text-green-500 border-green-500",children:[i.jsx(jte,{className:"h-3 w-3 mr-1"})," Tersimpan"]})})]})]})}const R3e=Ls({name:sr().min(1,"Nama wajib diisi"),email:sr().email("Alamat email tidak valid"),currentPassword:sr().optional(),newPassword:sr().min(6,"Kata sandi minimal 6 karakter").optional(),confirmPassword:sr().optional()}).refine(t=>!(t.newPassword&&t.newPassword!==t.confirmPassword),{message:"Kata sandi tidak cocok",path:["confirmPassword"]}),U3e=Ls({storeName:sr().min(1,"Nama toko wajib diisi"),contactEmail:sr().email("Alamat email tidak valid"),currency:sr().min(1,"Mata uang wajib diisi")}),M3e=Ls({enableOrderNotifications:ul().default(!0),enableChatNotifications:ul().default(!0),enableSoundNotifications:ul().default(!0)});function Q3e(){const{user:t,profile:e,refreshProfile:r}=Pr(),[n,a]=v.useState(!1),[s,o]=v.useState(!1),[l,c]=v.useState(!1),[u,A]=v.useState(null),[d,h]=v.useState({storeName:"Toko E-commerce Saya",contactEmail:"contact@example.com",currency:"IDR"}),f=ra({resolver:na(R3e),defaultValues:{name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",currentPassword:"",newPassword:"",confirmPassword:""}}),m=ra({resolver:na(U3e),defaultValues:{storeName:d.storeName,contactEmail:d.contactEmail,currency:d.currency}}),g=ra({resolver:na(M3e),defaultValues:{enableOrderNotifications:!0,enableChatNotifications:!0,enableSoundNotifications:!0}});v.useEffect(()=>{e&&f.reset({name:e.name||"",email:e.email||"",currentPassword:"",newPassword:"",confirmPassword:""})},[e]),v.useEffect(()=>{b(),x(),p()},[]);const p=()=>{typeof Notification<"u"&&A(Notification.permission)},b=async()=>{try{const S=localStorage.getItem("storeSettings");if(S){const T=JSON.parse(S);h(T),m.reset({storeName:T.storeName,contactEmail:T.contactEmail,currency:T.currency})}}catch(S){console.error("Error fetching store settings:",S)}},x=async()=>{try{const S=localStorage.getItem("notificationSettings");if(S){const T=JSON.parse(S);g.reset({enableOrderNotifications:T.enableOrderNotifications,enableChatNotifications:T.enableChatNotifications,enableSoundNotifications:T.enableSoundNotifications})}}catch(S){console.error("Error fetching notification settings:",S)}},w=async S=>{if(t){a(!0);try{const{error:T}=await Z.from("profiles").update({name:S.name}).eq("id",t.id);if(T)throw T;if(S.email&&S.email!==t.email){const{error:I}=await Z.auth.updateUser({email:S.email});if(I)throw I}if(S.newPassword){if(S.newPassword!==S.confirmPassword){fe({title:"Error",description:"Kata sandi tidak cocok",variant:"destructive"});return}const{error:I}=await Z.auth.updateUser({password:S.newPassword});if(I)throw I}fe({title:"Profil diperbarui",description:"Profil Anda telah berhasil diperbarui"}),f.reset({name:S.name,email:S.email,currentPassword:"",newPassword:"",confirmPassword:""}),await r()}catch(T){console.error("Error updating settings:",T),fe({title:"Error memperbarui profil",description:T.message||"Terjadi kesalahan saat memperbarui profil Anda",variant:"destructive"})}finally{a(!1)}}},y=async S=>{o(!0);try{const T={storeName:S.storeName,contactEmail:S.contactEmail,currency:S.currency};localStorage.setItem("storeSettings",JSON.stringify(T)),h(T),fe({title:"Pengaturan toko diperbarui",description:"Pengaturan toko Anda telah berhasil diperbarui"})}catch(T){console.error("Error updating store settings:",T),fe({title:"Error memperbarui pengaturan toko",description:"Terjadi kesalahan saat memperbarui pengaturan toko Anda",variant:"destructive"})}finally{o(!1)}},C=async()=>{try{fe({title:"Pemeliharaan database",description:"Vakum database berhasil diselesaikan"}),setTimeout(()=>{fe({title:"Pemeliharaan database",description:"Vakum database berhasil diselesaikan"})},2e3)}catch(S){fe({title:"Error running vacuum operation",description:S.message||"Terjadi kesalahan saat menjalankan operasi vakum",variant:"destructive"})}},E=async()=>{try{fe({title:"Menghapus log lama",description:"Log lama berhasil dihapus"}),setTimeout(()=>{fe({title:"Menghapus log lama",description:"Log lama berhasil dihapus"})},2e3)}catch(S){fe({title:"Error menghapus log lama",description:S.message||"Terjadi kesalahan saat menghapus log lama",variant:"destructive"})}},B=async()=>{c(!0);try{if(!t)return;const S=await Notification.requestPermission();if(A(S),S==="granted")if(await zS(t.id))fe({title:"Notifikasi diaktifkan",description:"Anda akan menerima notifikasi pesanan baru"});else throw new Error("Gagal mendapatkan token notifikasi");else fe({title:"Izin notifikasi ditolak",description:"Anda tidak akan menerima notifikasi. Ubah pengaturan browser untuk mengizinkan notifikasi.",variant:"destructive"})}catch(S){console.error("Error requesting notification permission:",S),fe({title:"Error mengaktifkan notifikasi",description:S.message||"Terjadi kesalahan saat mengaktifkan notifikasi",variant:"destructive"})}finally{c(!1)}},j=async S=>{c(!0);try{localStorage.setItem("notificationSettings",JSON.stringify(S)),S.enableOrderNotifications&&u==="granted"&&t&&await zS(t.id),fe({title:"Pengaturan notifikasi diperbarui",description:"Preferensi notifikasi Anda telah berhasil diperbarui"})}catch(T){console.error("Error updating notification settings:",T),fe({title:"Error memperbarui pengaturan notifikasi",description:T.message||"Terjadi kesalahan saat memperbarui pengaturan notifikasi",variant:"destructive"})}finally{c(!1)}},N=async()=>{try{if(Notification.permission!=="granted"){fe({title:"Izin notifikasi tidak diberikan",description:"Harap berikan izin notifikasi terlebih dahulu",variant:"destructive"});return}const S=new Notification("Notifikasi Uji Coba",{body:"Ini adalah notifikasi uji coba. Jika Anda melihat ini, berarti notifikasi berfungsi dengan baik!",icon:"/logo192.png"});fe({title:"Notifikasi uji coba dikirim",description:"Periksa notifikasi browser Anda"}),new Audio("/sounds/new_order_sound.mp3").play().catch(I=>console.log("Error playing notification sound:",I))}catch(S){console.error("Error testing notification:",S),fe({title:"Error mengirim notifikasi uji coba",description:S.message||"Terjadi kesalahan saat mengirim notifikasi uji coba",variant:"destructive"})}};return i.jsxs(In,{children:[i.jsx("div",{className:"mb-6",children:i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Pengaturan"})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs(_e,{children:[i.jsx(at,{children:i.jsx(st,{children:"Pengaturan Profil"})}),i.jsx(Be,{children:i.jsx(zn,{...f,children:i.jsxs("form",{onSubmit:f.handleSubmit(w),className:"space-y-6",children:[i.jsx(Qe,{control:f.control,name:"name",render:({field:S})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Nama"}),i.jsx(Me,{children:i.jsx(ue,{...S})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:f.control,name:"email",render:({field:S})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Email"}),i.jsx(Me,{children:i.jsx(ue,{type:"email",...S})}),i.jsx(qe,{})]})}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx("h3",{className:"text-lg font-medium mb-4",children:"Ubah Kata Sandi"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(Qe,{control:f.control,name:"currentPassword",render:({field:S})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Kata Sandi Saat Ini"}),i.jsx(Me,{children:i.jsx(ue,{type:"password",...S})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:f.control,name:"newPassword",render:({field:S})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Kata Sandi Baru"}),i.jsx(Me,{children:i.jsx(ue,{type:"password",...S})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:f.control,name:"confirmPassword",render:({field:S})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Konfirmasi Kata Sandi"}),i.jsx(Me,{children:i.jsx(ue,{type:"password",...S})}),i.jsx(qe,{})]})})]})]}),i.jsx(G,{type:"submit",disabled:n,children:n?"Menyimpan...":"Simpan Perubahan"})]})})})]}),i.jsxs("div",{className:"space-y-8",children:[i.jsxs(_e,{children:[i.jsx(at,{children:i.jsx(st,{children:"Pengaturan Toko"})}),i.jsx(Be,{children:i.jsx(zn,{...m,children:i.jsxs("form",{onSubmit:m.handleSubmit(y),className:"space-y-4",children:[i.jsx(Qe,{control:m.control,name:"storeName",render:({field:S})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Nama Toko"}),i.jsx(Me,{children:i.jsx(ue,{...S})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:m.control,name:"contactEmail",render:({field:S})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Email Kontak"}),i.jsx(Me,{children:i.jsx(ue,{type:"email",...S})}),i.jsx(qe,{})]})}),i.jsx(Qe,{control:m.control,name:"currency",render:({field:S})=>i.jsxs(Re,{children:[i.jsx(Ue,{children:"Mata Uang"}),i.jsx(Me,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...S,children:[i.jsx("option",{value:"IDR",children:"IDR (Rp)"}),i.jsx("option",{value:"USD",children:"USD ($)"}),i.jsx("option",{value:"EUR",children:"EUR ()"}),i.jsx("option",{value:"GBP",children:"GBP ()"})]})}),i.jsx(qe,{})]})}),i.jsx(G,{type:"submit",disabled:s,children:s?"Menyimpan...":"Simpan Pengaturan Toko"})]})})})]}),i.jsxs(_e,{children:[i.jsx(at,{children:i.jsx(st,{children:"Pemeliharaan Database"})}),i.jsxs(Be,{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Jalankan operasi pemeliharaan pada database Anda. Operasi ini dapat membantu meningkatkan kinerja dan integritas data."}),i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx(G,{variant:"outline",onClick:C,children:"Jalankan Vakum Database"}),i.jsx(G,{variant:"outline",onClick:E,children:"Bersihkan Log Lama"})]})]})]}),i.jsxs(_e,{children:[i.jsx(at,{children:i.jsxs(st,{className:"flex items-center gap-2",children:[i.jsx(oT,{className:"h-5 w-5"}),i.jsx("span",{children:"Pengaturan Notifikasi"})]})}),i.jsx(Be,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"pb-4 border-b",children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Izin Notifikasi Browser"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["Status izin: ",i.jsx("span",{className:`font-medium ${u==="granted"?"text-green-600":"text-orange-600"}`,children:u==="granted"?"Diizinkan":u==="denied"?"Ditolak (ubah di pengaturan browser)":"Belum diminta"})]}),u==="denied"&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-500 mt-1",children:[i.jsx(eb,{className:"h-4 w-4"}),i.jsx("span",{children:"Anda telah menolak izin notifikasi. Harap ubah di pengaturan browser Anda."})]})]}),i.jsx(G,{variant:"outline",disabled:u==="denied"||l,onClick:B,children:l?"Mengizinkan...":"Izinkan Notifikasi"})]})]}),i.jsx(zn,{...g,children:i.jsxs("form",{onSubmit:g.handleSubmit(j),className:"space-y-4",children:[i.jsx(Qe,{control:g.control,name:"enableOrderNotifications",render:({field:S})=>i.jsxs(Re,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Ue,{children:"Notifikasi Pesanan Baru"}),i.jsx(rx,{children:"Terima notifikasi saat ada pesanan baru dari pelanggan"})]}),i.jsx(Me,{children:i.jsx(os,{checked:S.value,onCheckedChange:S.onChange,disabled:u!=="granted"})})]})}),i.jsx(Qe,{control:g.control,name:"enableChatNotifications",render:({field:S})=>i.jsxs(Re,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Ue,{children:"Notifikasi Pesan Chat"}),i.jsx(rx,{children:"Terima notifikasi saat ada pesan baru dari pelanggan"})]}),i.jsx(Me,{children:i.jsx(os,{checked:S.value,onCheckedChange:S.onChange,disabled:u!=="granted"})})]})}),i.jsx(Qe,{control:g.control,name:"enableSoundNotifications",render:({field:S})=>i.jsxs(Re,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Ue,{children:"Notifikasi Suara"}),i.jsx(rx,{children:"Putar suara saat menerima notifikasi baru"})]}),i.jsx(Me,{children:i.jsx(os,{checked:S.value,onCheckedChange:S.onChange})})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(G,{type:"submit",disabled:l||u!=="granted",children:l?"Menyimpan...":"Simpan Pengaturan"}),i.jsx(G,{type:"button",variant:"outline",onClick:N,disabled:u!=="granted",children:"Uji Notifikasi"})]})]})})]})})]}),i.jsxs(_e,{className:"mb-8",children:[i.jsx(at,{children:i.jsxs(st,{className:"flex items-center",children:[i.jsx($A,{className:"mr-2 h-5 w-5"}),"Pengaturan Jam Kerja"]})}),i.jsx(Be,{children:i.jsx("div",{className:"space-y-6",children:i.jsx(O3e,{})})})]}),i.jsxs(_e,{className:"mb-8",children:[i.jsx(at,{children:i.jsx(st,{children:"Test Notifikasi Real-time"})}),i.jsx(Be,{children:i.jsx("div",{className:"space-y-6",children:i.jsx(F3e,{})})})]})]})]})]})}function L3e(){const[t,e]=v.useState([]),[r,n]=v.useState([]),[a,s]=v.useState(""),[o,l]=v.useState(!0),[c,u]=v.useState(0),{user:A}=Pr(),d=v.useRef(null),h=()=>{d.current&&d.current.unsubscribe();const p=Z.channel("public:messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},b=>{console.log("Pesan baru diterima:",b),b.new&&b.new.sender_id!==(A==null?void 0:A.id)&&(b.new.read===!1||b.new.read===null||b.new.read===void 0)&&(u(y=>y+1),fe({title:"Pesan Baru Diterima",description:`Ada pesan baru dari pelanggan: ${b.new.content.substring(0,30)}${b.new.content.length>30?"...":""}`,variant:"default"}),new Audio("/notification.mp3").play().catch(y=>console.log("Error playing notification sound:",y))),f()}).subscribe();return d.current=p,()=>{p.unsubscribe()}};v.useEffect(()=>{if(A)return h()},[A]),v.useEffect(()=>{A&&f()},[A]);const f=async()=>{var p,b,x;try{l(!0);const{data:w,error:y}=await Z.from("profiles").select("*").eq("role","customer");if(y)throw y;const C=[];for(const B of w||[]){const{data:j,error:N}=await Z.from("profiles").select("*").eq("id",B.id).single();N&&console.error("Error fetching customer details:",N);const{data:S,error:T}=await Z.from("messages").select(`
            *,
            profiles:sender_id(name, email)
          `).or(`sender_id.eq.${B.id},receiver_id.eq.${B.id}`).order("created_at",{ascending:!1}),I=S?S.filter(W=>W.sender_id===B.id&&W.read===!1).length:0;I>0&&console.log(`${I} pesan belum dibaca dari pelanggan:`,B.name),T&&console.error("Error fetching messages for user:",T);const k=`admin_chat_${B.id}`,R=localStorage.getItem(k);let M="",$="",U=null,O=null;if(R)try{const W=JSON.parse(R);W.length>0&&(U=W[W.length-1])}catch(W){console.error("Error parsing stored messages",W)}if(S&&S.length>0){const W=S[0],ee=((p=W.profiles)==null?void 0:p.name)||B.name;O={content:W.content,timestamp:W.created_at,sender_id:W.sender_id,senderName:ee},console.log(`${S.length} pesan ditemukan untuk pelanggan:`,B.name),S.forEach((oe,ne)=>{console.log(`Pesan #${ne+1}:`,{content:oe.content,timestamp:new Date(oe.created_at).toLocaleString("id-ID"),isFromCustomer:oe.sender_id===B.id})})}let L=!1;if(U&&O){const W=new Date(U.timestamp).getTime(),ee=new Date(O.timestamp).getTime();W>ee?(M=U.content,$=U.timestamp,L=U.sender!=="admin"):(M=O.content,$=O.timestamp,L=O.sender_id===B.id)}else U?(M=U.content,$=U.timestamp,L=U.sender!=="admin"):O&&(M=O.content,$=O.timestamp,L=O.sender_id===B.id);let H,D="",Q="",z=!1,q=null;if(S&&S.length>0){console.log(`Semua pesan untuk ${B.name}:`,S.length,"pesan ditemukan");const W=S.filter(oe=>oe.sender_id===B.id&&(oe.read===!1||oe.read===null||oe.read===void 0));W.length>0&&(console.log("Pesan belum dibaca ditemukan:",W.length,"pesan"),console.log("Sample pesan belum dibaca:",W[0]));const ee=S.filter(oe=>oe.sender_id===B.id);if(ee.length>0&&console.log(`Pesan dari pelanggan ${B.name}:`,ee.length,"pesan"),W.length>0)q=W[0],H=((b=q.profiles)==null?void 0:b.name)||(j==null?void 0:j.name)||B.name||B.email||"Pelanggan",D=q.content,Q=q.id,z=!0,L=!0;else if(ee.length>0)q=ee[0],H=((x=q.profiles)==null?void 0:x.name)||(j==null?void 0:j.name)||B.name||B.email||"Pelanggan",D=q.content,Q=q.id,z=!1,L=!0;else{const oe=S[0];H="Admin",D=oe.content,Q=oe.id,z=!1,L=!1}}else{if(j){console.log("Detail customer ditemukan:",j),H=j.name||B.name||B.email||"Pelanggan";const{data:W}=await Z.from("messages").select("content, created_at").eq("sender_id",B.id).order("created_at",{ascending:!1}).limit(1);W&&W.length>0?(D=W[0].content,console.log("Pesan terbaru ditemukan:",D)):D=j.last_seen?`Terakhir aktif: ${new Date(j.last_seen).toLocaleString("id-ID")}`:"Belum ada riwayat pesan"}else H=B.name||B.email||"Pelanggan",D="Pelanggan baru mendaftar";L=!0,z=!1}C.push({id:B.id,name:B.name||B.email||"Pelanggan Tidak Dikenal",lastMessage:D||M,lastTimestamp:$,unread:z,messageId:Q,isFromCustomer:L,senderName:H})}let E=0;for(const B of C)if(B.lastTimestamp&&B.isFromCustomer){const j=new Date(B.lastTimestamp).getTime();E=Math.max(E,j)}console.log("Timestamp pesan terbaru dari pelanggan:",new Date(E).toLocaleString("id-ID"));for(const B of C)if(B.lastTimestamp&&B.isFromCustomer){const j=new Date(B.lastTimestamp).getTime();j===E&&(B.isLatestCustomerMessage=!0,console.log("Pelanggan dengan pesan terbaru:",B.name,"pada",new Date(j).toLocaleString("id-ID")))}C.sort((B,j)=>{if(B.isLatestCustomerMessage&&!j.isLatestCustomerMessage)return-1;if(!B.isLatestCustomerMessage&&j.isLatestCustomerMessage)return 1;if(!B.lastTimestamp&&!j.lastTimestamp)return B.isFromCustomer&&!j.isFromCustomer?-1:!B.isFromCustomer&&j.isFromCustomer?1:0;if(!B.lastTimestamp)return 1;if(!j.lastTimestamp)return-1;const N=new Date(B.lastTimestamp).getTime(),S=new Date(j.lastTimestamp).getTime();return N!==S?S-N:B.isFromCustomer&&!j.isFromCustomer?-1:!B.isFromCustomer&&j.isFromCustomer?1:B.unread&&!j.unread?-1:!B.unread&&j.unread?1:B.name.localeCompare(j.name)}),console.log("Daftar chat yang sudah diurutkan:",C.map(B=>({name:B.name,timestamp:B.lastTimestamp?new Date(B.lastTimestamp).toLocaleString("id-ID"):"tidak ada",isFromCustomer:B.isFromCustomer,unread:B.unread}))),e(C)}catch(w){console.error("Error fetching chat users:",w)}finally{l(!1)}},m=async p=>{if(p.unread&&p.messageId){console.log("Menandai pesan sebagai sudah dibaca:",p.messageId);try{const{error:b}=await Z.from("messages").update({read:!0}).eq("id",p.messageId);if(b)throw b;u(x=>Math.max(0,x-1)),f(),console.log("Pesan berhasil ditandai sebagai dibaca")}catch(b){console.error("Error menandai pesan sebagai dibaca:",b),console.log("Mencoba fallback untuk database lama..."),fe({title:"Perhatian",description:"Perlu update skema database untuk fitur 'sudah dibaca'",variant:"default"})}}};v.useEffect(()=>{const p=a?t.filter(b=>b.name.toLowerCase().includes(a.toLowerCase())):t;n(p)},[a,t,c]);const g=p=>{if(!p)return"";const b=new Date(p),w=new Date().getTime()-b.getTime(),y=60*1e3,C=60*y,E=24*C,B=7*E,j=30*E;return w<y?"Baru saja":w<C?`${Math.floor(w/y)} menit yang lalu`:w<E?`${Math.floor(w/C)} jam yang lalu`:w<B?`${Math.floor(w/E)} hari yang lalu`:w<j?`${Math.floor(w/B)} minggu yang lalu`:b.toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})};return i.jsx(In,{children:i.jsx("div",{className:"p-4 max-w-4xl mx-auto",children:i.jsxs(_e,{children:[i.jsx(at,{children:i.jsx("div",{className:"flex justify-between items-center",children:i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(st,{children:"Obrolan Pelanggan"}),c>0&&i.jsxs("div",{className:"bg-orange-500 text-white px-2 py-1 rounded-full text-xs font-bold flex items-center animate-pulse",children:[i.jsx(oT,{className:"h-3 w-3 mr-1"}),c," baru"]})]}),i.jsx(rr,{children:"Kelola percakapan dukungan pelanggan secara realtime"})]})})}),i.jsxs(Be,{children:[i.jsxs("div",{className:"relative mb-6",children:[i.jsx(Fl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),i.jsx(ue,{placeholder:"Cari pelanggan...",className:"pl-10",value:a,onChange:p=>s(p.target.value)})]}),i.jsxs("div",{className:"space-y-1",children:[c>0&&i.jsx(G,{variant:"ghost",onClick:async()=>{try{const{data:p,error:b}=await Z.from("messages").select("id").eq("receiver_id",A==null?void 0:A.id).is("read",null);if(b)throw b;const{error:x}=await Z.from("messages").update({read:!0}).eq("read",!1).eq("receiver_id",A==null?void 0:A.id);if(x)throw x;if(p&&p.length>0){const{error:w}=await Z.from("messages").update({read:!0}).is("read",null).eq("receiver_id",A==null?void 0:A.id);if(w)throw w}u(0),f(),fe({title:"Berhasil",description:"Semua pesan telah ditandai sebagai dibaca",variant:"default"})}catch(p){console.error("Error menandai semua pesan sebagai dibaca:",p),fe({title:"Error",description:"Gagal menandai pesan sebagai dibaca",variant:"destructive"})}},className:"w-full text-center text-sm text-flame-500 hover:bg-orange-50 mb-2",children:"Tandai semua sebagai telah dibaca"}),o?i.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Memuat obrolan pelanggan..."}):r.length===0?i.jsx("p",{className:"text-center text-muted-foreground py-4",children:a?"Tidak ada pelanggan yang sesuai dengan pencarian":"Belum ada obrolan pelanggan"}):r.map(p=>i.jsx(dt,{to:`/admin/chat/${p.id}`,className:"block",onClick:()=>m(p),children:i.jsx(G,{variant:p.isFromCustomer?"default":"ghost",className:`w-full justify-start px-3 py-6 h-auto ${p.isFromCustomer?"bg-orange-100 border-2 border-orange-400 shadow-md hover:bg-orange-200":"hover:bg-gray-100"}`,children:i.jsxs("div",{className:"flex items-center w-full",children:[i.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center mr-3 shrink-0 ${p.isFromCustomer?"bg-orange-400":"bg-charcoal-100"}`,children:i.jsx(VA,{className:`h-5 w-5 ${p.isFromCustomer?"text-white":"text-charcoal-500"}`})}),i.jsxs("div",{className:"flex-grow min-w-0",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:`truncate ${p.isFromCustomer?"font-bold text-orange-600":"font-medium"}`,children:p.name}),p.lastTimestamp&&i.jsx("span",{className:"text-xs text-muted-foreground ml-2 shrink-0",children:g(p.lastTimestamp)})]}),i.jsx("div",{className:"flex items-center",children:i.jsxs("div",{className:"flex items-center",children:[p.unread&&i.jsx("div",{className:"flex items-center bg-orange-500 text-white text-xs px-2 py-0.5 rounded-full mr-2 animate-pulse shadow-md",children:i.jsx("span",{children:"BARU"})}),i.jsx("p",{className:`text-sm truncate ${p.isFromCustomer?"text-orange-700 font-semibold":"text-muted-foreground"}`,children:i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"font-semibold",children:p.senderName||(p.isFromCustomer?p.name:"Admin")}),": ",p.lastMessage||"Memuat data pesan..."]})})]})})]})]})})},p.id))]})]})]})})})}function H3e(){const{customerId:t}=Ip(),e=kt(),{user:r,profile:n}=Pr(),[a,s]=v.useState(""),[o,l]=v.useState(!0);return v.useEffect(()=>{(async()=>{if(!t){e("/admin/chats");return}try{l(!0);const{data:u,error:A}=await Z.from("profiles").select("name, email").eq("id",t).single();if(A)throw A;s(u.name||u.email||"Pelanggan")}catch(u){console.error("Error fetching customer info:",u),e("/admin/chats")}finally{l(!1)}})()},[t,e]),!r||!n||n.role!=="admin"?i.jsx(In,{children:i.jsx("div",{className:"flex items-center justify-center h-80",children:i.jsx("p",{className:"text-muted-foreground",children:"Akses tidak diizinkan"})})}):o||!t?i.jsx(In,{children:i.jsx("div",{className:"flex items-center justify-center h-80",children:i.jsx(zt,{className:"animate-spin h-8 w-8 text-flame-500"})})}):i.jsx(In,{children:i.jsx("div",{className:"h-[calc(100vh-64px)]",children:i.jsx(bW,{chatPartnerId:t,chatPartnerName:a,isAdmin:!0})})})}var mZ="AlertDialog",[$3e,J8e]=ba(mZ,[sq]),go=sq(),pZ=t=>{const{__scopeAlertDialog:e,...r}=t,n=go(e);return i.jsx(Qk,{...n,...r,modal:!0})};pZ.displayName=mZ;var V3e="AlertDialogTrigger",gZ=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=go(r);return i.jsx(Lk,{...a,...n,ref:e})});gZ.displayName=V3e;var K3e="AlertDialogPortal",xZ=t=>{const{__scopeAlertDialog:e,...r}=t,n=go(e);return i.jsx(Hk,{...n,...r})};xZ.displayName=K3e;var q3e="AlertDialogOverlay",vZ=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=go(r);return i.jsx($p,{...a,...n,ref:e})});vZ.displayName=q3e;var NA="AlertDialogContent",[G3e,z3e]=$3e(NA),yZ=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...a}=t,s=go(r),o=v.useRef(null),l=pt(e,o),c=v.useRef(null);return i.jsx(nge,{contentName:NA,titleName:bZ,docsSlug:"alert-dialog",children:i.jsx(G3e,{scope:r,cancelRef:c,children:i.jsxs(Vp,{role:"alertdialog",...s,...a,ref:l,onOpenAutoFocus:Fe(a.onOpenAutoFocus,u=>{var A;u.preventDefault(),(A=c.current)==null||A.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(nT,{children:n}),i.jsx(X3e,{contentRef:o})]})})})});yZ.displayName=NA;var bZ="AlertDialogTitle",wZ=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=go(r);return i.jsx(Kp,{...a,...n,ref:e})});wZ.displayName=bZ;var _Z="AlertDialogDescription",BZ=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=go(r);return i.jsx(qp,{...a,...n,ref:e})});BZ.displayName=_Z;var W3e="AlertDialogAction",CZ=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=go(r);return i.jsx($b,{...a,...n,ref:e})});CZ.displayName=W3e;var jZ="AlertDialogCancel",EZ=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:a}=z3e(jZ,r),s=go(r),o=pt(e,a);return i.jsx($b,{...s,...n,ref:o})});EZ.displayName=jZ;var X3e=({contentRef:t})=>{const e=`\`${NA}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${NA}\` by passing a \`${_Z}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${NA}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Y3e=pZ,J3e=gZ,Z3e=xZ,SZ=vZ,NZ=yZ,TZ=CZ,kZ=EZ,IZ=wZ,PZ=BZ;const e6e=Y3e,t6e=J3e,r6e=Z3e,FZ=v.forwardRef(({className:t,...e},r)=>i.jsx(SZ,{className:he("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));FZ.displayName=SZ.displayName;const DZ=v.forwardRef(({className:t,...e},r)=>i.jsxs(r6e,{children:[i.jsx(FZ,{}),i.jsx(NZ,{ref:r,className:he("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));DZ.displayName=NZ.displayName;const OZ=({className:t,...e})=>i.jsx("div",{className:he("flex flex-col space-y-2 text-center sm:text-left",t),...e});OZ.displayName="AlertDialogHeader";const RZ=({className:t,...e})=>i.jsx("div",{className:he("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});RZ.displayName="AlertDialogFooter";const UZ=v.forwardRef(({className:t,...e},r)=>i.jsx(IZ,{ref:r,className:he("text-lg font-semibold",t),...e}));UZ.displayName=IZ.displayName;const MZ=v.forwardRef(({className:t,...e},r)=>i.jsx(PZ,{ref:r,className:he("text-sm text-muted-foreground",t),...e}));MZ.displayName=PZ.displayName;const QZ=v.forwardRef(({className:t,...e},r)=>i.jsx(TZ,{ref:r,className:he(ub(),t),...e}));QZ.displayName=TZ.displayName;const LZ=v.forwardRef(({className:t,...e},r)=>i.jsx(kZ,{ref:r,className:he(ub({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));LZ.displayName=kZ.displayName;const n6e=async()=>{try{console.log("Mulai menambahkan voucher awal...");const{data:t,error:e}=await Z.from("vouchers").select("id").limit(1);e&&await HZ();const r=[{code:"WELCOME10",discount_type:"percentage",discount_value:10,min_purchase:1e5,max_discount:5e4,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+3)).toISOString(),usage_limit:100,usage_count:0,is_active:!0,description:"Diskon 10% untuk pelanggan baru dengan minimum pembelian Rp 100.000"},{code:"LIBURAN25",discount_type:"percentage",discount_value:25,min_purchase:2e5,max_discount:1e5,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString(),usage_limit:50,usage_count:0,is_active:!0,description:"Diskon liburan 25% dengan minimum pembelian Rp 200.000"},{code:"HEMAT50K",discount_type:"fixed",discount_value:5e4,min_purchase:25e4,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+2)).toISOString(),usage_limit:30,usage_count:0,is_active:!0,description:"Potongan langsung Rp 50.000 dengan minimum pembelian Rp 250.000"}];for(const n of r){const{data:a}=await Z.from("vouchers").select("id").eq("code",n.code).maybeSingle();if(a)console.log(`Voucher ${n.code} sudah ada, melewati...`);else{const{data:s,error:o}=await Z.from("vouchers").insert([n]);o?console.error(`Gagal menambahkan voucher ${n.code}:`,o):console.log(`Berhasil menambahkan voucher ${n.code}`)}}console.log("Selesai menambahkan voucher awal")}catch(t){console.error("Gagal menambahkan voucher awal:",t)}},HZ=async()=>{try{console.log("Membuat tabel vouchers dengan metode sederhana...");const{error:t}=await Z.from("vouchers").insert({id:on(),code:"WELCOME10",discount_type:"percentage",discount_value:10,min_purchase:1e5,max_discount:5e4,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+3)).toISOString(),usage_limit:100,usage_count:0,is_active:!0,created_at:new Date().toISOString(),description:"Diskon 10% untuk pelanggan baru dengan minimum pembelian Rp 100.000"});if(t){console.error("Gagal membuat tabel dengan insert langsung:",t),console.log("Mencoba membuat tabel dengan metode REST API...");const n="https://vpztrjwitxvldrdhndlr.supabase.co/rest/v1/rpc/create_vouchers_table",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZwenRyandpdHh2bGRyZGhuZGxyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4MTE3NzIsImV4cCI6MjA2MzM4Nzc3Mn0._NFTwCpQGgMThUeh1sew8y5ulRXSGmwHLmXRQx544PM",s=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json",apikey:a,Authorization:`Bearer ${a}`}});s.ok?console.log("Tabel berhasil dibuat dengan metode REST API"):(console.error("REST API call failed:",await s.text()),console.log("Metode REST API gagal, mencoba metode terakhir - disable RLS dan insert"),await a6e())}else console.log("Berhasil menambahkan voucher pertama, tabel telah dibuat atau sudah ada");const{data:e,error:r}=await Z.from("vouchers").select("id").limit(1);r?console.error("Tabel masih belum dapat diakses:",r):console.log("Tabel vouchers berhasil dibuat dan dapat diakses",e)}catch(t){console.error("Gagal membuat tabel vouchers:",t)}},a6e=async()=>{try{console.log("Mencoba membuat voucher dengan login admin...");const{error:t}=await Z.from("vouchers").insert({id:on(),code:"SIMPLETEST",discount_type:"fixed",discount_value:2e4,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString(),is_active:!0,created_at:new Date().toISOString(),description:"Voucher test sistem"});t?(console.error("Gagal dengan semua metode:",t),console.log("Solusi: Hubungi admin database untuk membuat tabel vouchers secara manual")):console.log("Berhasil membuat voucher dengan metode terakhir")}catch(t){console.error("Error pada metode terakhir:",t)}},s6e=async()=>{try{console.log("Mengecek keberadaan tabel vouchers...");const{data:t,error:e}=await Z.from("vouchers").select("count(*)",{count:"exact",head:!0});if(e){if(e.code==="PGRST116"||e.message&&e.message.includes("relation")&&e.message.includes("does not exist")){console.log("Tabel vouchers belum ada, mencoba membuat tabel..."),await HZ();const r=await Z.from("vouchers").select("count(*)",{count:"exact",head:!0});return r.error?(console.error("Gagal membuat tabel vouchers:",r.error),!1):(console.log("Tabel vouchers berhasil dibuat!"),!0)}return console.error("Error saat mengecek tabel vouchers:",e),!1}return console.log("Tabel vouchers ditemukan"),!0}catch(t){return console.error("Gagal mengecek tabel vouchers:",t),!1}};function i6e(){const{toast:t}=Ms(),[e,r]=v.useState([]),[n,a]=v.useState(!0),[s,o]=v.useState(""),[l,c]=v.useState(!1),[u,A]=v.useState(!1),[d,h]=v.useState(!0),[f,m]=v.useState({code:"",discount_type:"percentage",discount_value:0,min_purchase:void 0,max_discount:void 0,start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],usage_limit:void 0,is_active:!0,description:""}),[g,p]=v.useState(!1),[b,x]=v.useState(!1),[w,y]=v.useState(null);v.useEffect(()=>{E(),C()},[s,l]);const C=async()=>{const O=await s6e();h(O)},E=async()=>{a(!0);try{const{data:O,error:L}=await Qo.getVouchers(100,0,{search:s||void 0,is_active:l?!0:void 0});if(L)throw L;r(O||[])}catch(O){console.error("Error fetching vouchers:",O),h(!1),t({title:"Gagal Memuat Data",description:"Terjadi kesalahan saat memuat daftar voucher",variant:"destructive"})}finally{a(!1)}},B=O=>{const{name:L,value:H,type:D}=O.target;m(D==="number"?{...f,[L]:H===""?void 0:parseFloat(H)}:{...f,[L]:H})},j=(O,L)=>{m({...f,[O]:L})},N=(O,L)=>{m({...f,[O]:L})},S=()=>{I(),p(!1),x(!0)},T=O=>{m({...O,start_date:new Date(O.start_date).toISOString().split("T")[0],end_date:new Date(O.end_date).toISOString().split("T")[0]}),p(!0),x(!0)},I=()=>{m({code:"",discount_type:"percentage",discount_value:0,min_purchase:void 0,max_discount:void 0,start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],usage_limit:void 0,is_active:!0,description:""})},k=async O=>{O.preventDefault();try{if(g&&f.id){const{data:L,error:H}=await Qo.updateVoucher(f.id,f);if(H)throw H;t({title:"Voucher Diperbarui",description:`Voucher dengan kode ${f.code} berhasil diperbarui`,variant:"default"})}else{const{data:L,error:H}=await Qo.addVoucher(f);if(H)throw H;t({title:"Voucher Ditambahkan",description:`Voucher baru dengan kode ${f.code} berhasil ditambahkan`,variant:"default"})}x(!1),E()}catch(L){console.error("Error saving voucher:",L),t({title:"Gagal Menyimpan",description:L.message||"Terjadi kesalahan saat menyimpan voucher",variant:"destructive"})}},R=async()=>{if(w)try{const{error:O}=await Qo.deleteVoucher(w);if(O)throw O;t({title:"Voucher Dihapus",description:"Voucher berhasil dihapus dari sistem",variant:"default"}),E(),y(null)}catch(O){console.error("Error deleting voucher:",O),t({title:"Gagal Menghapus",description:O.message||"Terjadi kesalahan saat menghapus voucher",variant:"destructive"})}},M=async(O,L)=>{try{const{error:H}=await Qo.toggleVoucherStatus(O,!L);if(H)throw H;t({title:`Voucher ${L?"Dinonaktifkan":"Diaktifkan"}`,description:`Status voucher berhasil diubah menjadi ${L?"tidak aktif":"aktif"}`,variant:"default"}),E()}catch(H){console.error("Error toggling voucher status:",H),t({title:"Gagal Mengubah Status",description:H.message||"Terjadi kesalahan saat mengubah status voucher",variant:"destructive"})}},$=O=>{if(!O.is_active)return i.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-800 rounded-full",children:"Tidak Aktif"});const L=new Date,H=new Date(O.start_date),D=new Date(O.end_date);return L<H?i.jsx("span",{className:"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full",children:"Belum Mulai"}):L>D?i.jsx("span",{className:"px-2 py-1 text-xs bg-red-100 text-red-800 rounded-full",children:"Kadaluarsa"}):O.usage_limit&&O.usage_count>=O.usage_limit?i.jsx("span",{className:"px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Habis"}):i.jsx("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:"Aktif"})},U=async()=>{A(!0);try{await n6e(),t({title:"Berhasil",description:"Data voucher contoh berhasil ditambahkan ke database",variant:"default"}),E(),C()}catch(O){console.error("Error initializing data:",O),t({title:"Gagal Menginisialisasi Data",description:"Terjadi kesalahan saat menambahkan data contoh",variant:"destructive"})}finally{A(!1)}};return i.jsx(In,{children:i.jsxs("div",{className:"container mx-auto py-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Manajemen Voucher"}),i.jsxs("div",{className:"flex gap-2",children:[!d&&i.jsxs(G,{onClick:U,disabled:u,variant:"outline",children:[i.jsx(kH,{className:"mr-2 h-4 w-4"}),u?"Menginisialisasi...":"Inisialisasi Data"]}),i.jsxs(lr,{open:b,onOpenChange:x,children:[i.jsx(qv,{asChild:!0,children:i.jsxs(G,{onClick:S,children:[i.jsx(Ste,{className:"mr-2 h-4 w-4"}),"Tambah Voucher"]})}),i.jsxs(nr,{className:"sm:max-w-[550px]",children:[i.jsxs(hr,{children:[i.jsx(fr,{children:g?"Edit Voucher":"Tambah Voucher Baru"}),i.jsx(Pn,{children:g?"Perbarui informasi voucher yang sudah ada":"Isi formulir berikut untuk menambahkan voucher baru"})]}),i.jsxs("form",{onSubmit:k,children:[i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"code",className:"text-right",children:"Kode Voucher*"}),i.jsx(ue,{id:"code",name:"code",value:f.code,onChange:B,className:"col-span-3",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"discount_type",className:"text-right",children:"Tipe Diskon*"}),i.jsxs(Cn,{name:"discount_type",value:f.discount_type,onValueChange:O=>j("discount_type",O),children:[i.jsx(ln,{className:"col-span-3",children:i.jsx(jn,{placeholder:"Pilih tipe diskon"})}),i.jsxs(cn,{children:[i.jsx(mt,{value:"percentage",children:"Persentase (%)"}),i.jsx(mt,{value:"fixed",children:"Nominal Tetap (Rp)"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"discount_value",className:"text-right",children:"Nilai Diskon*"}),i.jsxs("div",{className:"col-span-3 flex items-center",children:[i.jsx(ue,{id:"discount_value",name:"discount_value",type:"number",min:0,value:f.discount_value||"",onChange:B,required:!0}),i.jsx("span",{className:"ml-2",children:f.discount_type==="percentage"?"%":"Rupiah"})]})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"min_purchase",className:"text-right",children:"Min. Pembelian"}),i.jsx(ue,{id:"min_purchase",name:"min_purchase",type:"number",min:0,value:f.min_purchase||"",onChange:B,className:"col-span-3",placeholder:"Opsional"})]}),f.discount_type==="percentage"&&i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"max_discount",className:"text-right",children:"Maks. Diskon"}),i.jsx(ue,{id:"max_discount",name:"max_discount",type:"number",min:0,value:f.max_discount||"",onChange:B,className:"col-span-3",placeholder:"Opsional"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"start_date",className:"text-right",children:"Tanggal Mulai*"}),i.jsx(ue,{id:"start_date",name:"start_date",type:"date",value:f.start_date,onChange:B,className:"col-span-3",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"end_date",className:"text-right",children:"Tanggal Berakhir*"}),i.jsx(ue,{id:"end_date",name:"end_date",type:"date",value:f.end_date,onChange:B,className:"col-span-3",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"usage_limit",className:"text-right",children:"Batas Penggunaan"}),i.jsx(ue,{id:"usage_limit",name:"usage_limit",type:"number",min:0,value:f.usage_limit||"",onChange:B,className:"col-span-3",placeholder:"Opsional"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"description",className:"text-right",children:"Deskripsi"}),i.jsx(ue,{id:"description",name:"description",value:f.description||"",onChange:B,className:"col-span-3",placeholder:"Opsional"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Te,{htmlFor:"is_active",className:"text-right",children:"Status Aktif"}),i.jsxs("div",{className:"flex items-center space-x-2 col-span-3",children:[i.jsx(os,{id:"is_active",checked:f.is_active,onCheckedChange:O=>N("is_active",O)}),i.jsx(Te,{htmlFor:"is_active",children:f.is_active?"Aktif":"Tidak Aktif"})]})]})]}),i.jsxs(An,{children:[i.jsx(G,{type:"button",variant:"outline",onClick:()=>x(!1),children:"Batal"}),i.jsx(G,{type:"submit",children:g?"Perbarui Voucher":"Tambah Voucher"})]})]})]})]})]})]}),i.jsxs(_e,{children:[i.jsxs(at,{children:[i.jsxs(st,{className:"flex items-center",children:[i.jsx(Yte,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:"Daftar Voucher"})]}),i.jsx(rr,{children:"Kelola voucher diskon untuk pelanggan"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Fl,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),i.jsx(ue,{placeholder:"Cari kode atau deskripsi voucher...",className:"pl-8",value:s,onChange:O=>o(O.target.value)})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(os,{id:"active-filter",checked:l,onCheckedChange:c}),i.jsx(Te,{htmlFor:"active-filter",children:"Hanya Tampilkan Voucher Aktif"})]})]})]}),i.jsx(Be,{children:n?i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-flame-500"})}):e.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[i.jsx(qf,{className:"h-12 w-12 text-gray-400 mb-2"}),i.jsx("h3",{className:"text-lg font-medium",children:"Tidak Ada Voucher"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1 max-w-md",children:s||l?"Tidak ada voucher yang sesuai dengan filter yang dipilih":"Belum ada voucher yang ditambahkan. Klik tombol 'Tambah Voucher' untuk mulai membuat voucher"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(En,{children:[i.jsx(Sn,{children:i.jsxs(lt,{children:[i.jsx(Ee,{className:"w-[120px]",children:"Kode"}),i.jsx(Ee,{children:"Diskon"}),i.jsx(Ee,{children:"Periode"}),i.jsx(Ee,{children:"Batasan"}),i.jsx(Ee,{className:"text-center",children:"Status"}),i.jsx(Ee,{className:"text-center",children:"Penggunaan"}),i.jsx(Ee,{className:"text-right",children:"Aksi"})]})}),i.jsx(Nn,{children:e.map(O=>i.jsxs(lt,{children:[i.jsxs(me,{className:"font-medium",children:[O.code,O.description&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:O.description})]}),i.jsxs(me,{children:[O.discount_type==="percentage"?`${O.discount_value}%`:ve(O.discount_value),O.discount_type==="percentage"&&O.max_discount&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maks: ",ve(O.max_discount)]})]}),i.jsx(me,{children:i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{children:un(new Date(O.start_date),"dd/MM/yyyy")}),i.jsx("span",{children:" - "}),i.jsx("span",{children:un(new Date(O.end_date),"dd/MM/yyyy")})]})}),i.jsxs(me,{children:[O.min_purchase&&i.jsxs("div",{className:"text-sm",children:["Min: ",ve(O.min_purchase)]}),O.usage_limit&&i.jsxs("div",{className:"text-sm",children:["Maks: ",O.usage_limit," kali"]}),!O.min_purchase&&!O.usage_limit&&i.jsx("span",{className:"text-sm text-gray-500",children:"-"})]}),i.jsx(me,{className:"text-center",children:$(O)}),i.jsxs(me,{className:"text-center",children:[O.usage_count||0,O.usage_limit&&i.jsxs("span",{children:[" / ",O.usage_limit]})]}),i.jsx(me,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end items-center space-x-2",children:[i.jsx(G,{variant:"outline",size:"sm",onClick:()=>M(O.id,O.is_active),children:O.is_active?"Nonaktifkan":"Aktifkan"}),i.jsx(G,{variant:"outline",size:"icon",onClick:()=>T(O),children:i.jsx(Ep,{className:"h-4 w-4"})}),i.jsxs(e6e,{children:[i.jsx(t6e,{asChild:!0,children:i.jsx(G,{variant:"outline",size:"icon",className:"text-red-500 border-red-200 hover:bg-red-50",onClick:()=>y(O.id),children:i.jsx(MH,{className:"h-4 w-4"})})}),i.jsxs(DZ,{children:[i.jsxs(OZ,{children:[i.jsx(UZ,{children:"Hapus Voucher"}),i.jsxs(MZ,{children:["Apakah Anda yakin ingin menghapus voucher dengan kode ",i.jsx("strong",{children:O.code}),"? Tindakan ini tidak dapat dibatalkan."]})]}),i.jsxs(RZ,{children:[i.jsx(LZ,{onClick:()=>y(null),children:"Batal"}),i.jsx(QZ,{onClick:R,className:"bg-red-500 hover:bg-red-600",children:"Hapus"})]})]})]})]})})]},O.id))})]})})})]})]})})}class sL{static async getRecipients(e){let r=Z.from("profiles").select("id, phone, name");if(e.recipientType==="selected"&&e.selectedIds&&e.selectedIds.length>0)r=r.in("id",e.selectedIds);else if(e.recipientType==="filtered"&&e.filterOptions){const{lastOrderDays:s,minOrderCount:o,minTotalSpent:l,lastActive:c}=e.filterOptions;if(c){const u=new Date;u.setDate(u.getDate()-c),r=r.gte("last_seen",u.toISOString())}}r=r.not("phone","is",null);const{data:n,error:a}=await r;return a?(console.error("Error fetching recipients:",a),[]):n.map(s=>({id:s.id,phone:s.phone,name:s.name}))}static async sendBroadcast(e){try{const r=await this.getRecipients(e);if(r.length===0)return{success:!1,totalRecipients:0,sentCount:0,failedCount:0};console.log(`Preparing to send broadcast to ${r.length} recipients`);const{data:n,error:a}=await Z.from("broadcasts").insert({message_template:e.message,recipient_count:r.length,recipient_type:e.recipientType,scheduled_time:e.scheduleTime?e.scheduleTime.toISOString():null,created_at:new Date().toISOString(),status:e.scheduleTime?"scheduled":"sending"}).select().single();if(a)return console.error("Error creating broadcast record:",a),{success:!1,totalRecipients:r.length,sentCount:0,failedCount:r.length};const s=n.id;if(e.scheduleTime&&e.scheduleTime>new Date)return await this.saveBroadcastRecipients(s,r),{success:!0,totalRecipients:r.length,sentCount:0,failedCount:0,broadcastId:s};const o=await this.sendMessagesToRecipients(s,r,e);return{success:o.failedCount<r.length,totalRecipients:r.length,sentCount:o.sentCount,failedCount:o.failedCount,failedRecipients:o.failedRecipients,broadcastId:s}}catch(r){return console.error("Error in sendBroadcast:",r),{success:!1,totalRecipients:0,sentCount:0,failedCount:0}}}static async saveBroadcastRecipients(e,r){const n=r.map(s=>({broadcast_id:e,user_id:s.id,phone:s.phone,name:s.name||null,status:"pending",created_at:new Date().toISOString()})),{error:a}=await Z.from("broadcast_recipients").insert(n);a&&console.error("Error saving broadcast recipients:",a)}static async sendMessagesToRecipients(e,r,n){let a=0,s=0;const o=[],l=5,c=[];for(let u=0;u<r.length;u+=l)c.push(r.slice(u,u+l));for(let u of c){const A=u.map(async d=>{try{let h=n.message;n.includeName&&d.name?h=h.replace("{name}",d.name):h=h.replace("{name}","Pelanggan");const f=await Qp(d.phone,h);return await this.recordMessageSent(e,d.id,f?"sent":"failed"),f?(a++,{success:!0,recipient:d}):(s++,o.push({id:d.id,phone:d.phone,error:"Failed to send"}),{success:!1,recipient:d,error:"Failed to send"})}catch(h){return s++,o.push({id:d.id,phone:d.phone,error:String(h)}),await this.recordMessageSent(e,d.id,"failed",String(h)),{success:!1,recipient:d,error:h}}});await Promise.all(A),c.indexOf(u)<c.length-1&&await new Promise(d=>setTimeout(d,2e3))}return await Z.from("broadcasts").update({sent_count:a,failed_count:s,status:"completed",completed_at:new Date().toISOString()}).eq("id",e),{sentCount:a,failedCount:s,failedRecipients:o}}static async recordMessageSent(e,r,n,a){try{await Z.from("broadcast_messages").insert({broadcast_id:e,user_id:r,status:n,error:a||null,sent_at:n==="sent"?new Date().toISOString():null,created_at:new Date().toISOString()})}catch(s){console.error("Error recording message status:",s)}}static async getBroadcastHistory(e=20,r=1){const{data:n,error:a}=await Z.from("broadcasts").select("*").order("created_at",{ascending:!1}).range((r-1)*e,r*e-1);return a?(console.error("Error fetching broadcast history:",a),[]):n}static async getBroadcastDetails(e){const{data:r,error:n}=await Z.from("broadcasts").select(`
        *,
        broadcast_messages:broadcast_messages(
          user_id,
          status,
          sent_at,
          error
        )
      `).eq("id",e).single();return n?(console.error("Error fetching broadcast details:",n),null):r}}function o6e(){const[t,e]=v.useState("new"),[r,n]=v.useState([]),[a,s]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState([]),[A,d]=v.useState(1),[h,f]=v.useState("all"),[m,g]=v.useState([]),[p,b]=v.useState(""),[x,w]=v.useState(!0),[y,C]=v.useState(!1),[E,B]=v.useState(""),[j,N]=v.useState(""),[S,T]=v.useState(void 0),[I,k]=v.useState(void 0),[R,M]=v.useState(void 0),$=[{name:"Diskon",content:`Halo {name},

JPC Apps memberikan DISKON SPESIAL 20% untuk semua produk arang premium kami hingga akhir bulan ini!

Kunjungi website kami sekarang untuk melihat koleksi terbaik kami.

Salam,
Tim JPC Apps`},{name:"Produk Baru",content:`Halo {name},

Kabar gembira! JPC Apps baru saja meluncurkan produk arang premium terbaru dengan kualitas terbaik dan harga kompetitif.

Kunjungi website kami untuk menjadi yang pertama mencobanya!

Salam,
Tim JPC Apps`},{name:"Pengingat",content:`Halo {name},

Sudah lama tidak melihat Anda berbelanja di JPC Apps. Kami merindukan Anda!

Dapatkan DISKON 10% untuk pembelian berikutnya dengan menggunakan kode: COMEBACK10

Salam,
Tim JPC Apps`}];v.useEffect(()=>{t==="new"?U():t==="history"&&O()},[t,A]);const U=async()=>{s(!0);try{const{data:q,error:W}=await Z.from("profiles").select("id, name, phone, email, created_at").not("phone","is",null).order("created_at",{ascending:!1});if(W)throw W;n(q||[])}catch(q){console.error("Error fetching customers:",q),fe({title:"Gagal mengambil data pelanggan",description:"Terjadi kesalahan saat mengambil data pelanggan",variant:"destructive"})}finally{s(!1)}},O=async()=>{s(!0);try{const q=await sL.getBroadcastHistory(10,A);u(q)}catch(q){console.error("Error fetching broadcast history:",q),fe({title:"Gagal mengambil riwayat broadcast",description:"Terjadi kesalahan saat mengambil riwayat broadcast",variant:"destructive"})}finally{s(!1)}},L=q=>{g(W=>W.includes(q)?W.filter(ee=>ee!==q):[...W,q])},H=()=>{g(r.map(q=>q.id))},D=()=>{g([])},Q=async()=>{if(!p.trim()){fe({title:"Pesan tidak boleh kosong",description:"Silakan masukkan pesan yang akan dikirim",variant:"destructive"});return}if(h==="selected"&&m.length===0){fe({title:"Tidak ada penerima yang dipilih",description:"Silakan pilih setidaknya satu pelanggan",variant:"destructive"});return}if(window.confirm(`Anda akan mengirim pesan broadcast ke ${h==="all"?"semua pelanggan":h==="selected"?`${m.length} pelanggan terpilih`:"pelanggan yang difilter"}. Lanjutkan?`)){l(!0);try{const q={recipientType:h,message:p,includeName:x};if(h==="selected"?q.selectedIds=m:h==="filtered"&&(q.filterOptions={lastOrderDays:S,minOrderCount:I,minTotalSpent:R}),y&&E&&j){const ee=new Date(`${E}T${j}`);if(ee>new Date)q.scheduleTime=ee;else{fe({title:"Waktu jadwal tidak valid",description:"Waktu jadwal harus di masa depan",variant:"destructive"}),l(!1);return}}const W=await sL.sendBroadcast(q);W.success?(fe({title:"Broadcast berhasil",description:y?`Broadcast dijadwalkan untuk ${W.totalRecipients} penerima`:`Pesan berhasil dikirim ke ${W.sentCount} dari ${W.totalRecipients} penerima`}),b(""),g([]),f("all"),C(!1),B(""),N(""),e("history"),O()):fe({title:"Broadcast gagal",description:`Pesan gagal dikirim. Hanya ${W.sentCount} dari ${W.totalRecipients} pesan yang terkirim.`,variant:"destructive"})}catch(q){console.error("Error sending broadcast:",q),fe({title:"Broadcast gagal",description:"Terjadi kesalahan saat mengirim broadcast",variant:"destructive"})}finally{l(!1)}}},z=q=>{b(q)};return i.jsx(In,{children:i.jsxs("div",{className:"container py-6",children:[i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Broadcast WhatsApp"}),i.jsxs(ya,{defaultValue:"new",value:t,onValueChange:e,children:[i.jsxs(sa,{className:"mb-4",children:[i.jsxs(Et,{value:"new",children:[i.jsx(qx,{className:"h-4 w-4 mr-2"}),"Broadcast Baru"]}),i.jsxs(Et,{value:"history",children:[i.jsx($A,{className:"h-4 w-4 mr-2"}),"Riwayat Broadcast"]})]}),i.jsx(Gt,{value:"new",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs(_e,{className:"md:col-span-2",children:[i.jsxs(at,{children:[i.jsx(st,{children:"Pesan Broadcast"}),i.jsx(rr,{children:"Buat pesan broadcast untuk dikirim ke pelanggan"})]}),i.jsxs(Be,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{htmlFor:"message-type",children:"Jenis Penerima"}),i.jsxs(Cn,{value:h,onValueChange:q=>f(q),children:[i.jsx(ln,{children:i.jsx(jn,{placeholder:"Pilih jenis penerima"})}),i.jsxs(cn,{children:[i.jsx(mt,{value:"all",children:"Semua Pelanggan"}),i.jsx(mt,{value:"selected",children:"Pelanggan Terpilih"}),i.jsx(mt,{value:"filtered",children:"Filter Pelanggan"})]})]})]}),h==="filtered"&&i.jsxs(_e,{className:"border-dashed",children:[i.jsx(at,{className:"p-4 pb-2",children:i.jsx(st,{className:"text-base",children:"Filter Pelanggan"})}),i.jsxs(Be,{className:"p-4 pt-0 space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(Te,{htmlFor:"last-order-days",children:"Pesanan dalam X hari terakhir"}),i.jsx(ue,{id:"last-order-days",type:"number",placeholder:"hari",min:"1",value:S||"",onChange:q=>T(q.target.value?parseInt(q.target.value):void 0)})]}),i.jsxs("div",{children:[i.jsx(Te,{htmlFor:"min-order-count",children:"Minimal jumlah pesanan"}),i.jsx(ue,{id:"min-order-count",type:"number",placeholder:"jumlah",min:"1",value:I||"",onChange:q=>k(q.target.value?parseInt(q.target.value):void 0)})]})]}),i.jsxs("div",{children:[i.jsx(Te,{htmlFor:"min-total-spent",children:"Minimal total pembelian (Rp)"}),i.jsx(ue,{id:"min-total-spent",type:"number",placeholder:"dalam Rupiah",min:"10000",step:"10000",value:R||"",onChange:q=>M(q.target.value?parseInt(q.target.value):void 0)})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(Te,{htmlFor:"message",children:"Pesan"}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Gunakan ","{name}"," untuk menyertakan nama pelanggan"]})]}),i.jsx(kl,{id:"message",placeholder:"Ketik pesan Anda di sini...",rows:8,value:p,onChange:q=>b(q.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Te,{children:"Template Pesan"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:$.map((q,W)=>i.jsx(G,{variant:"outline",size:"sm",onClick:()=>z(q.content),children:q.name},W))})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(os,{id:"include-name",checked:x,onCheckedChange:w}),i.jsx(Te,{htmlFor:"include-name",children:"Sertakan nama pelanggan dalam pesan"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(os,{id:"schedule",checked:y,onCheckedChange:C}),i.jsx(Te,{htmlFor:"schedule",children:"Jadwalkan pengiriman"})]}),y&&i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(Te,{htmlFor:"schedule-date",children:"Tanggal"}),i.jsx(ue,{id:"schedule-date",type:"date",value:E,onChange:q=>B(q.target.value),min:new Date().toISOString().split("T")[0]})]}),i.jsxs("div",{children:[i.jsx(Te,{htmlFor:"schedule-time",children:"Waktu"}),i.jsx(ue,{id:"schedule-time",type:"time",value:j,onChange:q=>N(q.target.value)})]})]})]}),i.jsxs(ns,{className:"flex justify-between",children:[i.jsx(G,{variant:"outline",onClick:()=>b(""),children:"Reset"}),i.jsx(G,{onClick:Q,disabled:o||!p.trim()||h==="selected"&&m.length===0,children:o?i.jsxs(i.Fragment,{children:[i.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengirim..."]}):y?i.jsxs(i.Fragment,{children:[i.jsx(SH,{className:"mr-2 h-4 w-4"}),"Jadwalkan"]}):i.jsxs(i.Fragment,{children:[i.jsx(qx,{className:"mr-2 h-4 w-4"}),"Kirim Broadcast"]})})]})]}),h==="selected"&&i.jsxs(_e,{children:[i.jsxs(at,{children:[i.jsx(st,{children:"Pilih Pelanggan"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(G,{variant:"outline",size:"sm",onClick:H,children:"Pilih Semua"}),i.jsx(G,{variant:"outline",size:"sm",onClick:D,children:"Reset"})]})]}),i.jsx(Be,{children:a?i.jsx("div",{className:"flex items-center justify-center py-6",children:i.jsx(zt,{className:"h-6 w-6 animate-spin"})}):i.jsx(ou,{className:"h-[400px]",children:i.jsx("div",{className:"space-y-2",children:r.map(q=>i.jsxs("div",{className:`p-2 rounded-md flex items-center space-x-2 ${m.includes(q.id)?"bg-muted/80":"hover:bg-muted/50"}`,onClick:()=>L(q.id),children:[i.jsx(eI,{checked:m.includes(q.id),onCheckedChange:()=>L(q.id)}),i.jsxs("div",{className:"flex-1 truncate",children:[i.jsx("div",{className:"font-medium truncate",children:q.name||"Tanpa Nama"}),i.jsx("div",{className:"text-sm text-muted-foreground truncate",children:q.phone})]})]},q.id))})})}),i.jsx(ns,{children:i.jsxs("div",{className:"w-full text-center",children:[m.length," pelanggan dipilih"]})})]})]})}),i.jsx(Gt,{value:"history",children:i.jsxs(_e,{children:[i.jsxs(at,{children:[i.jsx(st,{children:"Riwayat Broadcast"}),i.jsx(rr,{children:"Histori pesan broadcast yang telah dikirim"})]}),i.jsx(Be,{children:a?i.jsx("div",{className:"flex items-center justify-center py-6",children:i.jsx(zt,{className:"h-6 w-6 animate-spin"})}):c.length>0?i.jsxs(En,{children:[i.jsx(Sn,{children:i.jsxs(lt,{children:[i.jsx(Ee,{children:"Tanggal"}),i.jsx(Ee,{children:"Pesan"}),i.jsx(Ee,{children:"Penerima"}),i.jsx(Ee,{children:"Status"}),i.jsx(Ee,{children:"Aksi"})]})}),i.jsx(Nn,{children:c.map(q=>i.jsxs(lt,{children:[i.jsx(me,{children:new Date(q.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),i.jsx(me,{className:"max-w-[200px] truncate",children:q.message_template}),i.jsxs(me,{children:[q.recipient_count," penerima"]}),i.jsx(me,{children:i.jsx(vt,{className:q.status==="completed"?"bg-green-100 text-green-800":q.status==="sending"?"bg-blue-100 text-blue-800":q.status==="scheduled"?"bg-purple-100 text-purple-800":"bg-red-100 text-red-800",children:q.status==="completed"?"Selesai":q.status==="sending"?"Mengirim":q.status==="scheduled"?"Terjadwal":"Gagal"})}),i.jsx(me,{children:i.jsx(G,{variant:"ghost",size:"sm",children:"Detail"})})]},q.id))})]}):i.jsx("div",{className:"text-center py-6",children:i.jsx("p",{className:"text-muted-foreground",children:"Tidak ada riwayat broadcast"})})}),c.length>0&&i.jsxs(ns,{className:"flex justify-between",children:[i.jsx(G,{variant:"outline",onClick:()=>d(Math.max(1,A-1)),disabled:A===1,children:"Sebelumnya"}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Halaman ",A]}),i.jsx(G,{variant:"outline",onClick:()=>d(A+1),disabled:c.length<10,children:"Selanjutnya"})]})]})})]})]})})}function l6e({children:t}){const[e,r]=v.useState(!1),n=la(),a=[{name:"Dashboard",href:"/admin",icon:i.jsx(J.home,{className:"h-5 w-5"})},{name:"Inventaris",href:"/admin/inventory",icon:i.jsx(J.package,{className:"h-5 w-5"})},{name:"Inventaris Batubara",href:"/admin/coal-inventory",icon:i.jsx(J.layers,{className:"h-5 w-5"})},{name:"Pengiriman",href:"/admin/shipping",icon:i.jsx(J.truck,{className:"h-5 w-5"})},{name:"Pengguna",href:"/admin/users",icon:i.jsx(J.users,{className:"h-5 w-5"})},{name:"Pesanan",href:"/admin/orders",icon:i.jsx(J.shoppingCart,{className:"h-5 w-5"})},{name:"PPOB",href:"/admin/ppob",icon:i.jsx(J.creditCard,{className:"h-5 w-5"})},{name:"Voucher",href:"/admin/vouchers",icon:i.jsx(J.ticket,{className:"h-5 w-5"})},{name:"Broadcast",href:"/admin/broadcast",icon:i.jsx(J.megaphone,{className:"h-5 w-5"})},{name:"Analitik",href:"/admin/analytics",icon:i.jsx(J.barChart,{className:"h-5 w-5"})},{name:"Pengaturan",href:"/admin/settings",icon:i.jsx(J.settings,{className:"h-5 w-5"})},{name:"Chat",href:"/admin/chats",icon:i.jsx(J.messageSquare,{className:"h-5 w-5"})}],s=o=>o==="/admin"&&n.pathname==="/admin"?!0:n.pathname.startsWith(o)&&o!=="/admin";return i.jsxs("div",{className:"flex h-screen overflow-hidden",children:[i.jsx("aside",{className:"hidden md:flex md:w-64 md:flex-col",children:i.jsxs("div",{className:"flex flex-col flex-grow pt-5 overflow-y-auto border-r bg-white",children:[i.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:i.jsxs(dt,{to:"/admin",className:"flex items-center",children:[i.jsx("img",{className:"h-8 w-auto",src:"/logo.svg",alt:"JPC Digi Logo"}),i.jsx("span",{className:"ml-2 text-xl font-bold",children:"JPC Digi Admin"})]})}),i.jsx("div",{className:"mt-6 px-3 flex-grow flex flex-col",children:i.jsx("nav",{className:"flex-1 space-y-1",children:a.map(o=>i.jsxs(dt,{to:o.href,className:he("group flex items-center px-3 py-2 text-sm font-medium rounded-md",s(o.href)?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"),children:[o.icon,i.jsx("span",{className:"ml-3",children:o.name})]},o.name))})}),i.jsx("div",{className:"p-3 mt-auto border-t",children:i.jsxs("div",{className:"flex items-center",children:[i.jsxs(Il,{children:[i.jsx(hd,{src:"/avatars/admin.png",alt:"Admin"}),i.jsx(Pl,{children:"AD"})]}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium",children:"Admin JPC"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"admin@jpcdigi.com"})]})]})})]})}),i.jsx("div",{className:"md:hidden",children:i.jsxs(mi,{open:e,onOpenChange:r,children:[i.jsx(Bv,{asChild:!0,children:i.jsxs(G,{variant:"ghost",size:"icon",className:"absolute top-4 left-4 z-50",children:[i.jsx(J.menu,{className:"h-6 w-6"}),i.jsx("span",{className:"sr-only",children:"Toggle menu"})]})}),i.jsx(Rs,{side:"left",className:"p-0",children:i.jsxs("div",{className:"flex flex-col h-full pt-5",children:[i.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:i.jsxs(dt,{to:"/admin",className:"flex items-center",onClick:()=>r(!1),children:[i.jsx("img",{className:"h-8 w-auto",src:"/logo.svg",alt:"JPC Digi Logo"}),i.jsx("span",{className:"ml-2 text-xl font-bold",children:"JPC Digi Admin"})]})}),i.jsx("div",{className:"mt-6 px-3 flex-grow flex flex-col",children:i.jsx("nav",{className:"flex-1 space-y-1",children:a.map(o=>i.jsxs(dt,{to:o.href,className:he("group flex items-center px-3 py-2 text-sm font-medium rounded-md",s(o.href)?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"),onClick:()=>r(!1),children:[o.icon,i.jsx("span",{className:"ml-3",children:o.name})]},o.name))})}),i.jsx("div",{className:"p-3 mt-auto border-t",children:i.jsxs("div",{className:"flex items-center",children:[i.jsxs(Il,{children:[i.jsx(hd,{src:"/avatars/admin.png",alt:"Admin"}),i.jsx(Pl,{children:"AD"})]}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium",children:"Admin JPC"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"admin@jpcdigi.com"})]})]})})]})})]})}),i.jsxs("div",{className:"flex flex-col flex-1 w-full overflow-hidden",children:[i.jsx("header",{className:"bg-white shadow-sm z-10",children:i.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"py-4 md:py-6 flex items-center justify-between",children:[i.jsx("div",{className:"md:hidden",children:i.jsx("h1",{className:"text-lg font-medium",children:"JPC Digi Admin"})}),i.jsxs("div",{className:"flex items-center ml-auto",children:[i.jsxs(G,{variant:"outline",size:"sm",className:"mr-2",children:[i.jsx(J.bell,{className:"h-4 w-4 mr-2"}),i.jsx("span",{className:"sr-only md:not-sr-only md:inline-block",children:"Notifikasi"})]}),i.jsxs(G,{variant:"destructive",size:"sm",children:[i.jsx(J.logOut,{className:"h-4 w-4 mr-2"}),i.jsx("span",{className:"sr-only md:not-sr-only md:inline-block",children:"Logout"})]})]})]})})}),i.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50",children:t})]})]})}var ux={exports:{}};function c6e(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ax={exports:{}};const u6e={},A6e=Object.freeze(Object.defineProperty({__proto__:null,default:u6e},Symbol.toStringTag,{value:"Module"})),d6e=JL(A6e);var h6e=Ax.exports,iL;function Rt(){return iL||(iL=1,function(t,e){(function(r,n){t.exports=n()})(h6e,function(){var r=r||function(n,a){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof bc<"u"&&bc.crypto&&(s=bc.crypto),!s&&typeof c6e=="function")try{s=d6e}catch{}var o=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},l=Object.create||function(){function x(){}return function(w){var y;return x.prototype=w,y=new x,x.prototype=null,y}}(),c={},u=c.lib={},A=u.Base=function(){return{extend:function(x){var w=l(this);return x&&w.mixIn(x),(!w.hasOwnProperty("init")||this.init===w.init)&&(w.init=function(){w.$super.init.apply(this,arguments)}),w.init.prototype=w,w.$super=this,w},create:function(){var x=this.extend();return x.init.apply(x,arguments),x},init:function(){},mixIn:function(x){for(var w in x)x.hasOwnProperty(w)&&(this[w]=x[w]);x.hasOwnProperty("toString")&&(this.toString=x.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),d=u.WordArray=A.extend({init:function(x,w){x=this.words=x||[],w!=a?this.sigBytes=w:this.sigBytes=x.length*4},toString:function(x){return(x||f).stringify(this)},concat:function(x){var w=this.words,y=x.words,C=this.sigBytes,E=x.sigBytes;if(this.clamp(),C%4)for(var B=0;B<E;B++){var j=y[B>>>2]>>>24-B%4*8&255;w[C+B>>>2]|=j<<24-(C+B)%4*8}else for(var N=0;N<E;N+=4)w[C+N>>>2]=y[N>>>2];return this.sigBytes+=E,this},clamp:function(){var x=this.words,w=this.sigBytes;x[w>>>2]&=4294967295<<32-w%4*8,x.length=n.ceil(w/4)},clone:function(){var x=A.clone.call(this);return x.words=this.words.slice(0),x},random:function(x){for(var w=[],y=0;y<x;y+=4)w.push(o());return new d.init(w,x)}}),h=c.enc={},f=h.Hex={stringify:function(x){for(var w=x.words,y=x.sigBytes,C=[],E=0;E<y;E++){var B=w[E>>>2]>>>24-E%4*8&255;C.push((B>>>4).toString(16)),C.push((B&15).toString(16))}return C.join("")},parse:function(x){for(var w=x.length,y=[],C=0;C<w;C+=2)y[C>>>3]|=parseInt(x.substr(C,2),16)<<24-C%8*4;return new d.init(y,w/2)}},m=h.Latin1={stringify:function(x){for(var w=x.words,y=x.sigBytes,C=[],E=0;E<y;E++){var B=w[E>>>2]>>>24-E%4*8&255;C.push(String.fromCharCode(B))}return C.join("")},parse:function(x){for(var w=x.length,y=[],C=0;C<w;C++)y[C>>>2]|=(x.charCodeAt(C)&255)<<24-C%4*8;return new d.init(y,w)}},g=h.Utf8={stringify:function(x){try{return decodeURIComponent(escape(m.stringify(x)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(x){return m.parse(unescape(encodeURIComponent(x)))}},p=u.BufferedBlockAlgorithm=A.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(x){typeof x=="string"&&(x=g.parse(x)),this._data.concat(x),this._nDataBytes+=x.sigBytes},_process:function(x){var w,y=this._data,C=y.words,E=y.sigBytes,B=this.blockSize,j=B*4,N=E/j;x?N=n.ceil(N):N=n.max((N|0)-this._minBufferSize,0);var S=N*B,T=n.min(S*4,E);if(S){for(var I=0;I<S;I+=B)this._doProcessBlock(C,I);w=C.splice(0,S),y.sigBytes-=T}return new d.init(w,T)},clone:function(){var x=A.clone.call(this);return x._data=this._data.clone(),x},_minBufferSize:0});u.Hasher=p.extend({cfg:A.extend(),init:function(x){this.cfg=this.cfg.extend(x),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(x){return this._append(x),this._process(),this},finalize:function(x){x&&this._append(x);var w=this._doFinalize();return w},blockSize:16,_createHelper:function(x){return function(w,y){return new x.init(y).finalize(w)}},_createHmacHelper:function(x){return function(w,y){return new b.HMAC.init(x,y).finalize(w)}}});var b=c.algo={};return c}(Math);return r})}(Ax)),Ax.exports}var dx={exports:{}},f6e=dx.exports,oL;function Qw(){return oL||(oL=1,function(t,e){(function(r,n){t.exports=n(Rt())})(f6e,function(r){return function(n){var a=r,s=a.lib,o=s.Base,l=s.WordArray,c=a.x64={};c.Word=o.extend({init:function(u,A){this.high=u,this.low=A}}),c.WordArray=o.extend({init:function(u,A){u=this.words=u||[],A!=n?this.sigBytes=A:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,A=u.length,d=[],h=0;h<A;h++){var f=u[h];d.push(f.high),d.push(f.low)}return l.create(d,this.sigBytes)},clone:function(){for(var u=o.clone.call(this),A=u.words=this.words.slice(0),d=A.length,h=0;h<d;h++)A[h]=A[h].clone();return u}})}(),r})}(dx)),dx.exports}var hx={exports:{}},m6e=hx.exports,lL;function p6e(){return lL||(lL=1,function(t,e){(function(r,n){t.exports=n(Rt())})(m6e,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,a=n.lib,s=a.WordArray,o=s.init,l=s.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var u=c.byteLength,A=[],d=0;d<u;d++)A[d>>>2]|=c[d]<<24-d%4*8;o.call(this,A,u)}else o.apply(this,arguments)};l.prototype=s}}(),r.lib.WordArray})}(hx)),hx.exports}var fx={exports:{}},g6e=fx.exports,cL;function x6e(){return cL||(cL=1,function(t,e){(function(r,n){t.exports=n(Rt())})(g6e,function(r){return function(){var n=r,a=n.lib,s=a.WordArray,o=n.enc;o.Utf16=o.Utf16BE={stringify:function(c){for(var u=c.words,A=c.sigBytes,d=[],h=0;h<A;h+=2){var f=u[h>>>2]>>>16-h%4*8&65535;d.push(String.fromCharCode(f))}return d.join("")},parse:function(c){for(var u=c.length,A=[],d=0;d<u;d++)A[d>>>1]|=c.charCodeAt(d)<<16-d%2*16;return s.create(A,u*2)}},o.Utf16LE={stringify:function(c){for(var u=c.words,A=c.sigBytes,d=[],h=0;h<A;h+=2){var f=l(u[h>>>2]>>>16-h%4*8&65535);d.push(String.fromCharCode(f))}return d.join("")},parse:function(c){for(var u=c.length,A=[],d=0;d<u;d++)A[d>>>1]|=l(c.charCodeAt(d)<<16-d%2*16);return s.create(A,u*2)}};function l(c){return c<<8&4278255360|c>>>8&16711935}}(),r.enc.Utf16})}(fx)),fx.exports}var mx={exports:{}},v6e=mx.exports,uL;function vu(){return uL||(uL=1,function(t,e){(function(r,n){t.exports=n(Rt())})(v6e,function(r){return function(){var n=r,a=n.lib,s=a.WordArray,o=n.enc;o.Base64={stringify:function(c){var u=c.words,A=c.sigBytes,d=this._map;c.clamp();for(var h=[],f=0;f<A;f+=3)for(var m=u[f>>>2]>>>24-f%4*8&255,g=u[f+1>>>2]>>>24-(f+1)%4*8&255,p=u[f+2>>>2]>>>24-(f+2)%4*8&255,b=m<<16|g<<8|p,x=0;x<4&&f+x*.75<A;x++)h.push(d.charAt(b>>>6*(3-x)&63));var w=d.charAt(64);if(w)for(;h.length%4;)h.push(w);return h.join("")},parse:function(c){var u=c.length,A=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var h=0;h<A.length;h++)d[A.charCodeAt(h)]=h}var f=A.charAt(64);if(f){var m=c.indexOf(f);m!==-1&&(u=m)}return l(c,u,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function l(c,u,A){for(var d=[],h=0,f=0;f<u;f++)if(f%4){var m=A[c.charCodeAt(f-1)]<<f%4*2,g=A[c.charCodeAt(f)]>>>6-f%4*2,p=m|g;d[h>>>2]|=p<<24-h%4*8,h++}return s.create(d,h)}}(),r.enc.Base64})}(mx)),mx.exports}var px={exports:{}},y6e=px.exports,AL;function b6e(){return AL||(AL=1,function(t,e){(function(r,n){t.exports=n(Rt())})(y6e,function(r){return function(){var n=r,a=n.lib,s=a.WordArray,o=n.enc;o.Base64url={stringify:function(c,u){u===void 0&&(u=!0);var A=c.words,d=c.sigBytes,h=u?this._safe_map:this._map;c.clamp();for(var f=[],m=0;m<d;m+=3)for(var g=A[m>>>2]>>>24-m%4*8&255,p=A[m+1>>>2]>>>24-(m+1)%4*8&255,b=A[m+2>>>2]>>>24-(m+2)%4*8&255,x=g<<16|p<<8|b,w=0;w<4&&m+w*.75<d;w++)f.push(h.charAt(x>>>6*(3-w)&63));var y=h.charAt(64);if(y)for(;f.length%4;)f.push(y);return f.join("")},parse:function(c,u){u===void 0&&(u=!0);var A=c.length,d=u?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var f=0;f<d.length;f++)h[d.charCodeAt(f)]=f}var m=d.charAt(64);if(m){var g=c.indexOf(m);g!==-1&&(A=g)}return l(c,A,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function l(c,u,A){for(var d=[],h=0,f=0;f<u;f++)if(f%4){var m=A[c.charCodeAt(f-1)]<<f%4*2,g=A[c.charCodeAt(f)]>>>6-f%4*2,p=m|g;d[h>>>2]|=p<<24-h%4*8,h++}return s.create(d,h)}}(),r.enc.Base64url})}(px)),px.exports}var gx={exports:{}},w6e=gx.exports,dL;function yu(){return dL||(dL=1,function(t,e){(function(r,n){t.exports=n(Rt())})(w6e,function(r){return function(n){var a=r,s=a.lib,o=s.WordArray,l=s.Hasher,c=a.algo,u=[];(function(){for(var g=0;g<64;g++)u[g]=n.abs(n.sin(g+1))*4294967296|0})();var A=c.MD5=l.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(g,p){for(var b=0;b<16;b++){var x=p+b,w=g[x];g[x]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}var y=this._hash.words,C=g[p+0],E=g[p+1],B=g[p+2],j=g[p+3],N=g[p+4],S=g[p+5],T=g[p+6],I=g[p+7],k=g[p+8],R=g[p+9],M=g[p+10],$=g[p+11],U=g[p+12],O=g[p+13],L=g[p+14],H=g[p+15],D=y[0],Q=y[1],z=y[2],q=y[3];D=d(D,Q,z,q,C,7,u[0]),q=d(q,D,Q,z,E,12,u[1]),z=d(z,q,D,Q,B,17,u[2]),Q=d(Q,z,q,D,j,22,u[3]),D=d(D,Q,z,q,N,7,u[4]),q=d(q,D,Q,z,S,12,u[5]),z=d(z,q,D,Q,T,17,u[6]),Q=d(Q,z,q,D,I,22,u[7]),D=d(D,Q,z,q,k,7,u[8]),q=d(q,D,Q,z,R,12,u[9]),z=d(z,q,D,Q,M,17,u[10]),Q=d(Q,z,q,D,$,22,u[11]),D=d(D,Q,z,q,U,7,u[12]),q=d(q,D,Q,z,O,12,u[13]),z=d(z,q,D,Q,L,17,u[14]),Q=d(Q,z,q,D,H,22,u[15]),D=h(D,Q,z,q,E,5,u[16]),q=h(q,D,Q,z,T,9,u[17]),z=h(z,q,D,Q,$,14,u[18]),Q=h(Q,z,q,D,C,20,u[19]),D=h(D,Q,z,q,S,5,u[20]),q=h(q,D,Q,z,M,9,u[21]),z=h(z,q,D,Q,H,14,u[22]),Q=h(Q,z,q,D,N,20,u[23]),D=h(D,Q,z,q,R,5,u[24]),q=h(q,D,Q,z,L,9,u[25]),z=h(z,q,D,Q,j,14,u[26]),Q=h(Q,z,q,D,k,20,u[27]),D=h(D,Q,z,q,O,5,u[28]),q=h(q,D,Q,z,B,9,u[29]),z=h(z,q,D,Q,I,14,u[30]),Q=h(Q,z,q,D,U,20,u[31]),D=f(D,Q,z,q,S,4,u[32]),q=f(q,D,Q,z,k,11,u[33]),z=f(z,q,D,Q,$,16,u[34]),Q=f(Q,z,q,D,L,23,u[35]),D=f(D,Q,z,q,E,4,u[36]),q=f(q,D,Q,z,N,11,u[37]),z=f(z,q,D,Q,I,16,u[38]),Q=f(Q,z,q,D,M,23,u[39]),D=f(D,Q,z,q,O,4,u[40]),q=f(q,D,Q,z,C,11,u[41]),z=f(z,q,D,Q,j,16,u[42]),Q=f(Q,z,q,D,T,23,u[43]),D=f(D,Q,z,q,R,4,u[44]),q=f(q,D,Q,z,U,11,u[45]),z=f(z,q,D,Q,H,16,u[46]),Q=f(Q,z,q,D,B,23,u[47]),D=m(D,Q,z,q,C,6,u[48]),q=m(q,D,Q,z,I,10,u[49]),z=m(z,q,D,Q,L,15,u[50]),Q=m(Q,z,q,D,S,21,u[51]),D=m(D,Q,z,q,U,6,u[52]),q=m(q,D,Q,z,j,10,u[53]),z=m(z,q,D,Q,M,15,u[54]),Q=m(Q,z,q,D,E,21,u[55]),D=m(D,Q,z,q,k,6,u[56]),q=m(q,D,Q,z,H,10,u[57]),z=m(z,q,D,Q,T,15,u[58]),Q=m(Q,z,q,D,O,21,u[59]),D=m(D,Q,z,q,N,6,u[60]),q=m(q,D,Q,z,$,10,u[61]),z=m(z,q,D,Q,B,15,u[62]),Q=m(Q,z,q,D,R,21,u[63]),y[0]=y[0]+D|0,y[1]=y[1]+Q|0,y[2]=y[2]+z|0,y[3]=y[3]+q|0},_doFinalize:function(){var g=this._data,p=g.words,b=this._nDataBytes*8,x=g.sigBytes*8;p[x>>>5]|=128<<24-x%32;var w=n.floor(b/4294967296),y=b;p[(x+64>>>9<<4)+15]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,p[(x+64>>>9<<4)+14]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,g.sigBytes=(p.length+1)*4,this._process();for(var C=this._hash,E=C.words,B=0;B<4;B++){var j=E[B];E[B]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360}return C},clone:function(){var g=l.clone.call(this);return g._hash=this._hash.clone(),g}});function d(g,p,b,x,w,y,C){var E=g+(p&b|~p&x)+w+C;return(E<<y|E>>>32-y)+p}function h(g,p,b,x,w,y,C){var E=g+(p&x|b&~x)+w+C;return(E<<y|E>>>32-y)+p}function f(g,p,b,x,w,y,C){var E=g+(p^b^x)+w+C;return(E<<y|E>>>32-y)+p}function m(g,p,b,x,w,y,C){var E=g+(b^(p|~x))+w+C;return(E<<y|E>>>32-y)+p}a.MD5=l._createHelper(A),a.HmacMD5=l._createHmacHelper(A)}(Math),r.MD5})}(gx)),gx.exports}var xx={exports:{}},_6e=xx.exports,hL;function $Z(){return hL||(hL=1,function(t,e){(function(r,n){t.exports=n(Rt())})(_6e,function(r){return function(){var n=r,a=n.lib,s=a.WordArray,o=a.Hasher,l=n.algo,c=[],u=l.SHA1=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(A,d){for(var h=this._hash.words,f=h[0],m=h[1],g=h[2],p=h[3],b=h[4],x=0;x<80;x++){if(x<16)c[x]=A[d+x]|0;else{var w=c[x-3]^c[x-8]^c[x-14]^c[x-16];c[x]=w<<1|w>>>31}var y=(f<<5|f>>>27)+b+c[x];x<20?y+=(m&g|~m&p)+1518500249:x<40?y+=(m^g^p)+1859775393:x<60?y+=(m&g|m&p|g&p)-1894007588:y+=(m^g^p)-899497514,b=p,p=g,g=m<<30|m>>>2,m=f,f=y}h[0]=h[0]+f|0,h[1]=h[1]+m|0,h[2]=h[2]+g|0,h[3]=h[3]+p|0,h[4]=h[4]+b|0},_doFinalize:function(){var A=this._data,d=A.words,h=this._nDataBytes*8,f=A.sigBytes*8;return d[f>>>5]|=128<<24-f%32,d[(f+64>>>9<<4)+14]=Math.floor(h/4294967296),d[(f+64>>>9<<4)+15]=h,A.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var A=o.clone.call(this);return A._hash=this._hash.clone(),A}});n.SHA1=o._createHelper(u),n.HmacSHA1=o._createHmacHelper(u)}(),r.SHA1})}(xx)),xx.exports}var vx={exports:{}},B6e=vx.exports,fL;function BP(){return fL||(fL=1,function(t,e){(function(r,n){t.exports=n(Rt())})(B6e,function(r){return function(n){var a=r,s=a.lib,o=s.WordArray,l=s.Hasher,c=a.algo,u=[],A=[];(function(){function f(b){for(var x=n.sqrt(b),w=2;w<=x;w++)if(!(b%w))return!1;return!0}function m(b){return(b-(b|0))*4294967296|0}for(var g=2,p=0;p<64;)f(g)&&(p<8&&(u[p]=m(n.pow(g,1/2))),A[p]=m(n.pow(g,1/3)),p++),g++})();var d=[],h=c.SHA256=l.extend({_doReset:function(){this._hash=new o.init(u.slice(0))},_doProcessBlock:function(f,m){for(var g=this._hash.words,p=g[0],b=g[1],x=g[2],w=g[3],y=g[4],C=g[5],E=g[6],B=g[7],j=0;j<64;j++){if(j<16)d[j]=f[m+j]|0;else{var N=d[j-15],S=(N<<25|N>>>7)^(N<<14|N>>>18)^N>>>3,T=d[j-2],I=(T<<15|T>>>17)^(T<<13|T>>>19)^T>>>10;d[j]=S+d[j-7]+I+d[j-16]}var k=y&C^~y&E,R=p&b^p&x^b&x,M=(p<<30|p>>>2)^(p<<19|p>>>13)^(p<<10|p>>>22),$=(y<<26|y>>>6)^(y<<21|y>>>11)^(y<<7|y>>>25),U=B+$+k+A[j]+d[j],O=M+R;B=E,E=C,C=y,y=w+U|0,w=x,x=b,b=p,p=U+O|0}g[0]=g[0]+p|0,g[1]=g[1]+b|0,g[2]=g[2]+x|0,g[3]=g[3]+w|0,g[4]=g[4]+y|0,g[5]=g[5]+C|0,g[6]=g[6]+E|0,g[7]=g[7]+B|0},_doFinalize:function(){var f=this._data,m=f.words,g=this._nDataBytes*8,p=f.sigBytes*8;return m[p>>>5]|=128<<24-p%32,m[(p+64>>>9<<4)+14]=n.floor(g/4294967296),m[(p+64>>>9<<4)+15]=g,f.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var f=l.clone.call(this);return f._hash=this._hash.clone(),f}});a.SHA256=l._createHelper(h),a.HmacSHA256=l._createHmacHelper(h)}(Math),r.SHA256})}(vx)),vx.exports}var yx={exports:{}},C6e=yx.exports,mL;function j6e(){return mL||(mL=1,function(t,e){(function(r,n,a){t.exports=n(Rt(),BP())})(C6e,function(r){return function(){var n=r,a=n.lib,s=a.WordArray,o=n.algo,l=o.SHA256,c=o.SHA224=l.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=l._doFinalize.call(this);return u.sigBytes-=4,u}});n.SHA224=l._createHelper(c),n.HmacSHA224=l._createHmacHelper(c)}(),r.SHA224})}(yx)),yx.exports}var bx={exports:{}},E6e=bx.exports,pL;function VZ(){return pL||(pL=1,function(t,e){(function(r,n,a){t.exports=n(Rt(),Qw())})(E6e,function(r){return function(){var n=r,a=n.lib,s=a.Hasher,o=n.x64,l=o.Word,c=o.WordArray,u=n.algo;function A(){return l.create.apply(l,arguments)}var d=[A(1116352408,3609767458),A(1899447441,602891725),A(3049323471,3964484399),A(3921009573,2173295548),A(961987163,4081628472),A(1508970993,3053834265),A(2453635748,2937671579),A(2870763221,3664609560),A(3624381080,2734883394),A(310598401,1164996542),A(607225278,1323610764),A(1426881987,3590304994),A(1925078388,4068182383),A(2162078206,991336113),A(2614888103,633803317),A(3248222580,3479774868),A(3835390401,2666613458),A(4022224774,944711139),A(264347078,2341262773),A(604807628,2007800933),A(770255983,1495990901),A(1249150122,1856431235),A(1555081692,3175218132),A(1996064986,2198950837),A(2554220882,3999719339),A(2821834349,766784016),A(2952996808,2566594879),A(3210313671,3203337956),A(3336571891,1034457026),A(3584528711,2466948901),A(113926993,3758326383),A(338241895,168717936),A(666307205,1188179964),A(773529912,1546045734),A(1294757372,1522805485),A(1396182291,2643833823),A(1695183700,2343527390),A(1986661051,1014477480),A(2177026350,1206759142),A(2456956037,344077627),A(2730485921,1290863460),A(2820302411,3158454273),A(3259730800,3505952657),A(3345764771,106217008),A(3516065817,3606008344),A(3600352804,1432725776),A(4094571909,1467031594),A(275423344,851169720),A(430227734,3100823752),A(506948616,1363258195),A(659060556,3750685593),A(883997877,3785050280),A(958139571,3318307427),A(1322822218,3812723403),A(1537002063,2003034995),A(1747873779,3602036899),A(1955562222,1575990012),A(2024104815,1125592928),A(2227730452,2716904306),A(2361852424,442776044),A(2428436474,593698344),A(2756734187,3733110249),A(3204031479,2999351573),A(3329325298,3815920427),A(3391569614,3928383900),A(3515267271,566280711),A(3940187606,3454069534),A(4118630271,4000239992),A(116418474,1914138554),A(174292421,2731055270),A(289380356,3203993006),A(460393269,320620315),A(685471733,587496836),A(852142971,1086792851),A(1017036298,365543100),A(1126000580,2618297676),A(1288033470,3409855158),A(1501505948,4234509866),A(1607167915,987167468),A(1816402316,1246189591)],h=[];(function(){for(var m=0;m<80;m++)h[m]=A()})();var f=u.SHA512=s.extend({_doReset:function(){this._hash=new c.init([new l.init(1779033703,4089235720),new l.init(3144134277,2227873595),new l.init(1013904242,4271175723),new l.init(2773480762,1595750129),new l.init(1359893119,2917565137),new l.init(2600822924,725511199),new l.init(528734635,4215389547),new l.init(1541459225,327033209)])},_doProcessBlock:function(m,g){for(var p=this._hash.words,b=p[0],x=p[1],w=p[2],y=p[3],C=p[4],E=p[5],B=p[6],j=p[7],N=b.high,S=b.low,T=x.high,I=x.low,k=w.high,R=w.low,M=y.high,$=y.low,U=C.high,O=C.low,L=E.high,H=E.low,D=B.high,Q=B.low,z=j.high,q=j.low,W=N,ee=S,oe=T,ne=I,ce=k,de=R,be=M,Y=$,pe=U,je=O,Le=L,Ve=H,bt=D,X=Q,re=z,ie=q,ge=0;ge<80;ge++){var we,xe,Ke=h[ge];if(ge<16)xe=Ke.high=m[g+ge*2]|0,we=Ke.low=m[g+ge*2+1]|0;else{var it=h[ge-15],Ze=it.high,nt=it.low,fn=(Ze>>>1|nt<<31)^(Ze>>>8|nt<<24)^Ze>>>7,ca=(nt>>>1|Ze<<31)^(nt>>>8|Ze<<24)^(nt>>>7|Ze<<25),$a=h[ge-2],ua=$a.high,Fn=$a.low,Vs=(ua>>>19|Fn<<13)^(ua<<3|Fn>>>29)^ua>>>6,ji=(Fn>>>19|ua<<13)^(Fn<<3|ua>>>29)^(Fn>>>6|ua<<26),_a=h[ge-7],Va=_a.high,dh=_a.low,ut=h[ge-16],Wt=ut.high,$t=ut.low;we=ca+dh,xe=fn+Va+(we>>>0<ca>>>0?1:0),we=we+ji,xe=xe+Vs+(we>>>0<ji>>>0?1:0),we=we+$t,xe=xe+Wt+(we>>>0<$t>>>0?1:0),Ke.high=xe,Ke.low=we}var en=pe&Le^~pe&bt,mn=je&Ve^~je&X,Ks=W&oe^W&ce^oe&ce,ds=ee&ne^ee&de^ne&de,Ag=(W>>>28|ee<<4)^(W<<30|ee>>>2)^(W<<25|ee>>>7),Gl=(ee>>>28|W<<4)^(ee<<30|W>>>2)^(ee<<25|W>>>7),dg=(pe>>>14|je<<18)^(pe>>>18|je<<14)^(pe<<23|je>>>9),zl=(je>>>14|pe<<18)^(je>>>18|pe<<14)^(je<<23|pe>>>9),hh=d[ge],pn=hh.high,fh=hh.low,Vr=ie+zl,Aa=re+dg+(Vr>>>0<ie>>>0?1:0),Vr=Vr+mn,Aa=Aa+en+(Vr>>>0<mn>>>0?1:0),Vr=Vr+fh,Aa=Aa+pn+(Vr>>>0<fh>>>0?1:0),Vr=Vr+we,Aa=Aa+xe+(Vr>>>0<we>>>0?1:0),hg=Gl+ds,Lw=Ag+Ks+(hg>>>0<Gl>>>0?1:0);re=bt,ie=X,bt=Le,X=Ve,Le=pe,Ve=je,je=Y+Vr|0,pe=be+Aa+(je>>>0<Y>>>0?1:0)|0,be=ce,Y=de,ce=oe,de=ne,oe=W,ne=ee,ee=Vr+hg|0,W=Aa+Lw+(ee>>>0<Vr>>>0?1:0)|0}S=b.low=S+ee,b.high=N+W+(S>>>0<ee>>>0?1:0),I=x.low=I+ne,x.high=T+oe+(I>>>0<ne>>>0?1:0),R=w.low=R+de,w.high=k+ce+(R>>>0<de>>>0?1:0),$=y.low=$+Y,y.high=M+be+($>>>0<Y>>>0?1:0),O=C.low=O+je,C.high=U+pe+(O>>>0<je>>>0?1:0),H=E.low=H+Ve,E.high=L+Le+(H>>>0<Ve>>>0?1:0),Q=B.low=Q+X,B.high=D+bt+(Q>>>0<X>>>0?1:0),q=j.low=q+ie,j.high=z+re+(q>>>0<ie>>>0?1:0)},_doFinalize:function(){var m=this._data,g=m.words,p=this._nDataBytes*8,b=m.sigBytes*8;g[b>>>5]|=128<<24-b%32,g[(b+128>>>10<<5)+30]=Math.floor(p/4294967296),g[(b+128>>>10<<5)+31]=p,m.sigBytes=g.length*4,this._process();var x=this._hash.toX32();return x},clone:function(){var m=s.clone.call(this);return m._hash=this._hash.clone(),m},blockSize:1024/32});n.SHA512=s._createHelper(f),n.HmacSHA512=s._createHmacHelper(f)}(),r.SHA512})}(bx)),bx.exports}var wx={exports:{}},S6e=wx.exports,gL;function N6e(){return gL||(gL=1,function(t,e){(function(r,n,a){t.exports=n(Rt(),Qw(),VZ())})(S6e,function(r){return function(){var n=r,a=n.x64,s=a.Word,o=a.WordArray,l=n.algo,c=l.SHA512,u=l.SHA384=c.extend({_doReset:function(){this._hash=new o.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var A=c._doFinalize.call(this);return A.sigBytes-=16,A}});n.SHA384=c._createHelper(u),n.HmacSHA384=c._createHmacHelper(u)}(),r.SHA384})}(wx)),wx.exports}var _x={exports:{}},T6e=_x.exports,xL;function k6e(){return xL||(xL=1,function(t,e){(function(r,n,a){t.exports=n(Rt(),Qw())})(T6e,function(r){return function(n){var a=r,s=a.lib,o=s.WordArray,l=s.Hasher,c=a.x64,u=c.Word,A=a.algo,d=[],h=[],f=[];(function(){for(var p=1,b=0,x=0;x<24;x++){d[p+5*b]=(x+1)*(x+2)/2%64;var w=b%5,y=(2*p+3*b)%5;p=w,b=y}for(var p=0;p<5;p++)for(var b=0;b<5;b++)h[p+5*b]=b+(2*p+3*b)%5*5;for(var C=1,E=0;E<24;E++){for(var B=0,j=0,N=0;N<7;N++){if(C&1){var S=(1<<N)-1;S<32?j^=1<<S:B^=1<<S-32}C&128?C=C<<1^113:C<<=1}f[E]=u.create(B,j)}})();var m=[];(function(){for(var p=0;p<25;p++)m[p]=u.create()})();var g=A.SHA3=l.extend({cfg:l.cfg.extend({outputLength:512}),_doReset:function(){for(var p=this._state=[],b=0;b<25;b++)p[b]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(p,b){for(var x=this._state,w=this.blockSize/2,y=0;y<w;y++){var C=p[b+2*y],E=p[b+2*y+1];C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360;var B=x[y];B.high^=E,B.low^=C}for(var j=0;j<24;j++){for(var N=0;N<5;N++){for(var S=0,T=0,I=0;I<5;I++){var B=x[N+5*I];S^=B.high,T^=B.low}var k=m[N];k.high=S,k.low=T}for(var N=0;N<5;N++)for(var R=m[(N+4)%5],M=m[(N+1)%5],$=M.high,U=M.low,S=R.high^($<<1|U>>>31),T=R.low^(U<<1|$>>>31),I=0;I<5;I++){var B=x[N+5*I];B.high^=S,B.low^=T}for(var O=1;O<25;O++){var S,T,B=x[O],L=B.high,H=B.low,D=d[O];D<32?(S=L<<D|H>>>32-D,T=H<<D|L>>>32-D):(S=H<<D-32|L>>>64-D,T=L<<D-32|H>>>64-D);var Q=m[h[O]];Q.high=S,Q.low=T}var z=m[0],q=x[0];z.high=q.high,z.low=q.low;for(var N=0;N<5;N++)for(var I=0;I<5;I++){var O=N+5*I,B=x[O],W=m[O],ee=m[(N+1)%5+5*I],oe=m[(N+2)%5+5*I];B.high=W.high^~ee.high&oe.high,B.low=W.low^~ee.low&oe.low}var B=x[0],ne=f[j];B.high^=ne.high,B.low^=ne.low}},_doFinalize:function(){var p=this._data,b=p.words;this._nDataBytes*8;var x=p.sigBytes*8,w=this.blockSize*32;b[x>>>5]|=1<<24-x%32,b[(n.ceil((x+1)/w)*w>>>5)-1]|=128,p.sigBytes=b.length*4,this._process();for(var y=this._state,C=this.cfg.outputLength/8,E=C/8,B=[],j=0;j<E;j++){var N=y[j],S=N.high,T=N.low;S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,T=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,B.push(T),B.push(S)}return new o.init(B,C)},clone:function(){for(var p=l.clone.call(this),b=p._state=this._state.slice(0),x=0;x<25;x++)b[x]=b[x].clone();return p}});a.SHA3=l._createHelper(g),a.HmacSHA3=l._createHmacHelper(g)}(Math),r.SHA3})}(_x)),_x.exports}var Bx={exports:{}},I6e=Bx.exports,vL;function P6e(){return vL||(vL=1,function(t,e){(function(r,n){t.exports=n(Rt())})(I6e,function(r){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var a=r,s=a.lib,o=s.WordArray,l=s.Hasher,c=a.algo,u=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),A=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),d=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),f=o.create([0,1518500249,1859775393,2400959708,2840853838]),m=o.create([1352829926,1548603684,1836072691,2053994217,0]),g=c.RIPEMD160=l.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(E,B){for(var j=0;j<16;j++){var N=B+j,S=E[N];E[N]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}var T=this._hash.words,I=f.words,k=m.words,R=u.words,M=A.words,$=d.words,U=h.words,O,L,H,D,Q,z,q,W,ee,oe;z=O=T[0],q=L=T[1],W=H=T[2],ee=D=T[3],oe=Q=T[4];for(var ne,j=0;j<80;j+=1)ne=O+E[B+R[j]]|0,j<16?ne+=p(L,H,D)+I[0]:j<32?ne+=b(L,H,D)+I[1]:j<48?ne+=x(L,H,D)+I[2]:j<64?ne+=w(L,H,D)+I[3]:ne+=y(L,H,D)+I[4],ne=ne|0,ne=C(ne,$[j]),ne=ne+Q|0,O=Q,Q=D,D=C(H,10),H=L,L=ne,ne=z+E[B+M[j]]|0,j<16?ne+=y(q,W,ee)+k[0]:j<32?ne+=w(q,W,ee)+k[1]:j<48?ne+=x(q,W,ee)+k[2]:j<64?ne+=b(q,W,ee)+k[3]:ne+=p(q,W,ee)+k[4],ne=ne|0,ne=C(ne,U[j]),ne=ne+oe|0,z=oe,oe=ee,ee=C(W,10),W=q,q=ne;ne=T[1]+H+ee|0,T[1]=T[2]+D+oe|0,T[2]=T[3]+Q+z|0,T[3]=T[4]+O+q|0,T[4]=T[0]+L+W|0,T[0]=ne},_doFinalize:function(){var E=this._data,B=E.words,j=this._nDataBytes*8,N=E.sigBytes*8;B[N>>>5]|=128<<24-N%32,B[(N+64>>>9<<4)+14]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,E.sigBytes=(B.length+1)*4,this._process();for(var S=this._hash,T=S.words,I=0;I<5;I++){var k=T[I];T[I]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}return S},clone:function(){var E=l.clone.call(this);return E._hash=this._hash.clone(),E}});function p(E,B,j){return E^B^j}function b(E,B,j){return E&B|~E&j}function x(E,B,j){return(E|~B)^j}function w(E,B,j){return E&j|B&~j}function y(E,B,j){return E^(B|~j)}function C(E,B){return E<<B|E>>>32-B}a.RIPEMD160=l._createHelper(g),a.HmacRIPEMD160=l._createHmacHelper(g)}(),r.RIPEMD160})}(Bx)),Bx.exports}var Cx={exports:{}},F6e=Cx.exports,yL;function CP(){return yL||(yL=1,function(t,e){(function(r,n){t.exports=n(Rt())})(F6e,function(r){(function(){var n=r,a=n.lib,s=a.Base,o=n.enc,l=o.Utf8,c=n.algo;c.HMAC=s.extend({init:function(u,A){u=this._hasher=new u.init,typeof A=="string"&&(A=l.parse(A));var d=u.blockSize,h=d*4;A.sigBytes>h&&(A=u.finalize(A)),A.clamp();for(var f=this._oKey=A.clone(),m=this._iKey=A.clone(),g=f.words,p=m.words,b=0;b<d;b++)g[b]^=1549556828,p[b]^=909522486;f.sigBytes=m.sigBytes=h,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var A=this._hasher,d=A.finalize(u);A.reset();var h=A.finalize(this._oKey.clone().concat(d));return h}})})()})}(Cx)),Cx.exports}var jx={exports:{}},D6e=jx.exports,bL;function O6e(){return bL||(bL=1,function(t,e){(function(r,n,a){t.exports=n(Rt(),BP(),CP())})(D6e,function(r){return function(){var n=r,a=n.lib,s=a.Base,o=a.WordArray,l=n.algo,c=l.SHA256,u=l.HMAC,A=l.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:c,iterations:25e4}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,h){for(var f=this.cfg,m=u.create(f.hasher,d),g=o.create(),p=o.create([1]),b=g.words,x=p.words,w=f.keySize,y=f.iterations;b.length<w;){var C=m.update(h).finalize(p);m.reset();for(var E=C.words,B=E.length,j=C,N=1;N<y;N++){j=m.finalize(j),m.reset();for(var S=j.words,T=0;T<B;T++)E[T]^=S[T]}g.concat(C),x[0]++}return g.sigBytes=w*4,g}});n.PBKDF2=function(d,h,f){return A.create(f).compute(d,h)}}(),r.PBKDF2})}(jx)),jx.exports}var Ex={exports:{}},R6e=Ex.exports,wL;function ql(){return wL||(wL=1,function(t,e){(function(r,n,a){t.exports=n(Rt(),$Z(),CP())})(R6e,function(r){return function(){var n=r,a=n.lib,s=a.Base,o=a.WordArray,l=n.algo,c=l.MD5,u=l.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:c,iterations:1}),init:function(A){this.cfg=this.cfg.extend(A)},compute:function(A,d){for(var h,f=this.cfg,m=f.hasher.create(),g=o.create(),p=g.words,b=f.keySize,x=f.iterations;p.length<b;){h&&m.update(h),h=m.update(A).finalize(d),m.reset();for(var w=1;w<x;w++)h=m.finalize(h),m.reset();g.concat(h)}return g.sigBytes=b*4,g}});n.EvpKDF=function(A,d,h){return u.create(h).compute(A,d)}}(),r.EvpKDF})}(Ex)),Ex.exports}var Sx={exports:{}},U6e=Sx.exports,_L;function hn(){return _L||(_L=1,function(t,e){(function(r,n,a){t.exports=n(Rt(),ql())})(U6e,function(r){r.lib.Cipher||function(n){var a=r,s=a.lib,o=s.Base,l=s.WordArray,c=s.BufferedBlockAlgorithm,u=a.enc;u.Utf8;var A=u.Base64,d=a.algo,h=d.EvpKDF,f=s.Cipher=c.extend({cfg:o.extend(),createEncryptor:function(S,T){return this.create(this._ENC_XFORM_MODE,S,T)},createDecryptor:function(S,T){return this.create(this._DEC_XFORM_MODE,S,T)},init:function(S,T,I){this.cfg=this.cfg.extend(I),this._xformMode=S,this._key=T,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(S){return this._append(S),this._process()},finalize:function(S){S&&this._append(S);var T=this._doFinalize();return T},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function S(T){return typeof T=="string"?N:E}return function(T){return{encrypt:function(I,k,R){return S(k).encrypt(T,I,k,R)},decrypt:function(I,k,R){return S(k).decrypt(T,I,k,R)}}}}()});s.StreamCipher=f.extend({_doFinalize:function(){var S=this._process(!0);return S},blockSize:1});var m=a.mode={},g=s.BlockCipherMode=o.extend({createEncryptor:function(S,T){return this.Encryptor.create(S,T)},createDecryptor:function(S,T){return this.Decryptor.create(S,T)},init:function(S,T){this._cipher=S,this._iv=T}}),p=m.CBC=function(){var S=g.extend();S.Encryptor=S.extend({processBlock:function(I,k){var R=this._cipher,M=R.blockSize;T.call(this,I,k,M),R.encryptBlock(I,k),this._prevBlock=I.slice(k,k+M)}}),S.Decryptor=S.extend({processBlock:function(I,k){var R=this._cipher,M=R.blockSize,$=I.slice(k,k+M);R.decryptBlock(I,k),T.call(this,I,k,M),this._prevBlock=$}});function T(I,k,R){var M,$=this._iv;$?(M=$,this._iv=n):M=this._prevBlock;for(var U=0;U<R;U++)I[k+U]^=M[U]}return S}(),b=a.pad={},x=b.Pkcs7={pad:function(S,T){for(var I=T*4,k=I-S.sigBytes%I,R=k<<24|k<<16|k<<8|k,M=[],$=0;$<k;$+=4)M.push(R);var U=l.create(M,k);S.concat(U)},unpad:function(S){var T=S.words[S.sigBytes-1>>>2]&255;S.sigBytes-=T}};s.BlockCipher=f.extend({cfg:f.cfg.extend({mode:p,padding:x}),reset:function(){var S;f.reset.call(this);var T=this.cfg,I=T.iv,k=T.mode;this._xformMode==this._ENC_XFORM_MODE?S=k.createEncryptor:(S=k.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==S?this._mode.init(this,I&&I.words):(this._mode=S.call(k,this,I&&I.words),this._mode.__creator=S)},_doProcessBlock:function(S,T){this._mode.processBlock(S,T)},_doFinalize:function(){var S,T=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(T.pad(this._data,this.blockSize),S=this._process(!0)):(S=this._process(!0),T.unpad(S)),S},blockSize:128/32});var w=s.CipherParams=o.extend({init:function(S){this.mixIn(S)},toString:function(S){return(S||this.formatter).stringify(this)}}),y=a.format={},C=y.OpenSSL={stringify:function(S){var T,I=S.ciphertext,k=S.salt;return k?T=l.create([1398893684,1701076831]).concat(k).concat(I):T=I,T.toString(A)},parse:function(S){var T,I=A.parse(S),k=I.words;return k[0]==1398893684&&k[1]==1701076831&&(T=l.create(k.slice(2,4)),k.splice(0,4),I.sigBytes-=16),w.create({ciphertext:I,salt:T})}},E=s.SerializableCipher=o.extend({cfg:o.extend({format:C}),encrypt:function(S,T,I,k){k=this.cfg.extend(k);var R=S.createEncryptor(I,k),M=R.finalize(T),$=R.cfg;return w.create({ciphertext:M,key:I,iv:$.iv,algorithm:S,mode:$.mode,padding:$.padding,blockSize:S.blockSize,formatter:k.format})},decrypt:function(S,T,I,k){k=this.cfg.extend(k),T=this._parse(T,k.format);var R=S.createDecryptor(I,k).finalize(T.ciphertext);return R},_parse:function(S,T){return typeof S=="string"?T.parse(S,this):S}}),B=a.kdf={},j=B.OpenSSL={execute:function(S,T,I,k,R){if(k||(k=l.random(64/8)),R)var M=h.create({keySize:T+I,hasher:R}).compute(S,k);else var M=h.create({keySize:T+I}).compute(S,k);var $=l.create(M.words.slice(T),I*4);return M.sigBytes=T*4,w.create({key:M,iv:$,salt:k})}},N=s.PasswordBasedCipher=E.extend({cfg:E.cfg.extend({kdf:j}),encrypt:function(S,T,I,k){k=this.cfg.extend(k);var R=k.kdf.execute(I,S.keySize,S.ivSize,k.salt,k.hasher);k.iv=R.iv;var M=E.encrypt.call(this,S,T,R.key,k);return M.mixIn(R),M},decrypt:function(S,T,I,k){k=this.cfg.extend(k),T=this._parse(T,k.format);var R=k.kdf.execute(I,S.keySize,S.ivSize,T.salt,k.hasher);k.iv=R.iv;var M=E.decrypt.call(this,S,T,R.key,k);return M}})}()})}(Sx)),Sx.exports}var Nx={exports:{}},M6e=Nx.exports,BL;function Q6e(){return BL||(BL=1,function(t,e){(function(r,n,a){t.exports=n(Rt(),hn())})(M6e,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(s,o){var l=this._cipher,c=l.blockSize;a.call(this,s,o,c,l),this._prevBlock=s.slice(o,o+c)}}),n.Decryptor=n.extend({processBlock:function(s,o){var l=this._cipher,c=l.blockSize,u=s.slice(o,o+c);a.call(this,s,o,c,l),this._prevBlock=u}});function a(s,o,l,c){var u,A=this._iv;A?(u=A.slice(0),this._iv=void 0):u=this._prevBlock,c.encryptBlock(u,0);for(var d=0;d<l;d++)s[o+d]^=u[d]}return n}(),r.mode.CFB})}(Nx)),Nx.exports}var Tx={exports:{}},L6e=Tx.exports,CL;function H6e(){return CL||(CL=1,function(t,e){(function(r,n,a){t.exports=n(Rt(),hn())})(L6e,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),a=n.Encryptor=n.extend({processBlock:function(s,o){var l=this._cipher,c=l.blockSize,u=this._iv,A=this._counter;u&&(A=this._counter=u.slice(0),this._iv=void 0);var d=A.slice(0);l.encryptBlock(d,0),A[c-1]=A[c-1]+1|0;for(var h=0;h<c;h++)s[o+h]^=d[h]}});return n.Decryptor=a,n}(),r.mode.CTR})}(Tx)),Tx.exports}var kx={exports:{}},$6e=kx.exports,jL;function V6e(){return jL||(jL=1,function(t,e){(function(r,n,a){t.exports=n(Rt(),hn())})($6e,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function a(l){if((l>>24&255)===255){var c=l>>16&255,u=l>>8&255,A=l&255;c===255?(c=0,u===255?(u=0,A===255?A=0:++A):++u):++c,l=0,l+=c<<16,l+=u<<8,l+=A}else l+=1<<24;return l}function s(l){return(l[0]=a(l[0]))===0&&(l[1]=a(l[1])),l}var o=n.Encryptor=n.extend({processBlock:function(l,c){var u=this._cipher,A=u.blockSize,d=this._iv,h=this._counter;d&&(h=this._counter=d.slice(0),this._iv=void 0),s(h);var f=h.slice(0);u.encryptBlock(f,0);for(var m=0;m<A;m++)l[c+m]^=f[m]}});return n.Decryptor=o,n}(),r.mode.CTRGladman})}(kx)),kx.exports}var Ix={exports:{}},K6e=Ix.exports,EL;function q6e(){return EL||(EL=1,function(t,e){(function(r,n,a){t.exports=n(Rt(),hn())})(K6e,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),a=n.Encryptor=n.extend({processBlock:function(s,o){var l=this._cipher,c=l.blockSize,u=this._iv,A=this._keystream;u&&(A=this._keystream=u.slice(0),this._iv=void 0),l.encryptBlock(A,0);for(var d=0;d<c;d++)s[o+d]^=A[d]}});return n.Decryptor=a,n}(),r.mode.OFB})}(Ix)),Ix.exports}var Px={exports:{}},G6e=Px.exports,SL;function z6e(){return SL||(SL=1,function(t,e){(function(r,n,a){t.exports=n(Rt(),hn())})(G6e,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(a,s){this._cipher.encryptBlock(a,s)}}),n.Decryptor=n.extend({processBlock:function(a,s){this._cipher.decryptBlock(a,s)}}),n}(),r.mode.ECB})}(Px)),Px.exports}var Fx={exports:{}},W6e=Fx.exports,NL;function X6e(){return NL||(NL=1,function(t,e){(function(r,n,a){t.exports=n(Rt(),hn())})(W6e,function(r){return r.pad.AnsiX923={pad:function(n,a){var s=n.sigBytes,o=a*4,l=o-s%o,c=s+l-1;n.clamp(),n.words[c>>>2]|=l<<24-c%4*8,n.sigBytes+=l},unpad:function(n){var a=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=a}},r.pad.Ansix923})}(Fx)),Fx.exports}var Dx={exports:{}},Y6e=Dx.exports,TL;function J6e(){return TL||(TL=1,function(t,e){(function(r,n,a){t.exports=n(Rt(),hn())})(Y6e,function(r){return r.pad.Iso10126={pad:function(n,a){var s=a*4,o=s-n.sigBytes%s;n.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(n){var a=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=a}},r.pad.Iso10126})}(Dx)),Dx.exports}var Ox={exports:{}},Z6e=Ox.exports,kL;function e8e(){return kL||(kL=1,function(t,e){(function(r,n,a){t.exports=n(Rt(),hn())})(Z6e,function(r){return r.pad.Iso97971={pad:function(n,a){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,a)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(Ox)),Ox.exports}var Rx={exports:{}},t8e=Rx.exports,IL;function r8e(){return IL||(IL=1,function(t,e){(function(r,n,a){t.exports=n(Rt(),hn())})(t8e,function(r){return r.pad.ZeroPadding={pad:function(n,a){var s=a*4;n.clamp(),n.sigBytes+=s-(n.sigBytes%s||s)},unpad:function(n){for(var a=n.words,s=n.sigBytes-1,s=n.sigBytes-1;s>=0;s--)if(a[s>>>2]>>>24-s%4*8&255){n.sigBytes=s+1;break}}},r.pad.ZeroPadding})}(Rx)),Rx.exports}var Ux={exports:{}},n8e=Ux.exports,PL;function a8e(){return PL||(PL=1,function(t,e){(function(r,n,a){t.exports=n(Rt(),hn())})(n8e,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(Ux)),Ux.exports}var Mx={exports:{}},s8e=Mx.exports,FL;function i8e(){return FL||(FL=1,function(t,e){(function(r,n,a){t.exports=n(Rt(),hn())})(s8e,function(r){return function(n){var a=r,s=a.lib,o=s.CipherParams,l=a.enc,c=l.Hex,u=a.format;u.Hex={stringify:function(A){return A.ciphertext.toString(c)},parse:function(A){var d=c.parse(A);return o.create({ciphertext:d})}}}(),r.format.Hex})}(Mx)),Mx.exports}var Qx={exports:{}},o8e=Qx.exports,DL;function l8e(){return DL||(DL=1,function(t,e){(function(r,n,a){t.exports=n(Rt(),vu(),yu(),ql(),hn())})(o8e,function(r){return function(){var n=r,a=n.lib,s=a.BlockCipher,o=n.algo,l=[],c=[],u=[],A=[],d=[],h=[],f=[],m=[],g=[],p=[];(function(){for(var w=[],y=0;y<256;y++)y<128?w[y]=y<<1:w[y]=y<<1^283;for(var C=0,E=0,y=0;y<256;y++){var B=E^E<<1^E<<2^E<<3^E<<4;B=B>>>8^B&255^99,l[C]=B,c[B]=C;var j=w[C],N=w[j],S=w[N],T=w[B]*257^B*16843008;u[C]=T<<24|T>>>8,A[C]=T<<16|T>>>16,d[C]=T<<8|T>>>24,h[C]=T;var T=S*16843009^N*65537^j*257^C*16843008;f[B]=T<<24|T>>>8,m[B]=T<<16|T>>>16,g[B]=T<<8|T>>>24,p[B]=T,C?(C=j^w[w[w[S^j]]],E^=w[w[E]]):C=E=1}})();var b=[0,1,2,4,8,16,32,64,128,27,54],x=o.AES=s.extend({_doReset:function(){var w;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var y=this._keyPriorReset=this._key,C=y.words,E=y.sigBytes/4,B=this._nRounds=E+6,j=(B+1)*4,N=this._keySchedule=[],S=0;S<j;S++)S<E?N[S]=C[S]:(w=N[S-1],S%E?E>6&&S%E==4&&(w=l[w>>>24]<<24|l[w>>>16&255]<<16|l[w>>>8&255]<<8|l[w&255]):(w=w<<8|w>>>24,w=l[w>>>24]<<24|l[w>>>16&255]<<16|l[w>>>8&255]<<8|l[w&255],w^=b[S/E|0]<<24),N[S]=N[S-E]^w);for(var T=this._invKeySchedule=[],I=0;I<j;I++){var S=j-I;if(I%4)var w=N[S];else var w=N[S-4];I<4||S<=4?T[I]=w:T[I]=f[l[w>>>24]]^m[l[w>>>16&255]]^g[l[w>>>8&255]]^p[l[w&255]]}}},encryptBlock:function(w,y){this._doCryptBlock(w,y,this._keySchedule,u,A,d,h,l)},decryptBlock:function(w,y){var C=w[y+1];w[y+1]=w[y+3],w[y+3]=C,this._doCryptBlock(w,y,this._invKeySchedule,f,m,g,p,c);var C=w[y+1];w[y+1]=w[y+3],w[y+3]=C},_doCryptBlock:function(w,y,C,E,B,j,N,S){for(var T=this._nRounds,I=w[y]^C[0],k=w[y+1]^C[1],R=w[y+2]^C[2],M=w[y+3]^C[3],$=4,U=1;U<T;U++){var O=E[I>>>24]^B[k>>>16&255]^j[R>>>8&255]^N[M&255]^C[$++],L=E[k>>>24]^B[R>>>16&255]^j[M>>>8&255]^N[I&255]^C[$++],H=E[R>>>24]^B[M>>>16&255]^j[I>>>8&255]^N[k&255]^C[$++],D=E[M>>>24]^B[I>>>16&255]^j[k>>>8&255]^N[R&255]^C[$++];I=O,k=L,R=H,M=D}var O=(S[I>>>24]<<24|S[k>>>16&255]<<16|S[R>>>8&255]<<8|S[M&255])^C[$++],L=(S[k>>>24]<<24|S[R>>>16&255]<<16|S[M>>>8&255]<<8|S[I&255])^C[$++],H=(S[R>>>24]<<24|S[M>>>16&255]<<16|S[I>>>8&255]<<8|S[k&255])^C[$++],D=(S[M>>>24]<<24|S[I>>>16&255]<<16|S[k>>>8&255]<<8|S[R&255])^C[$++];w[y]=O,w[y+1]=L,w[y+2]=H,w[y+3]=D},keySize:256/32});n.AES=s._createHelper(x)}(),r.AES})}(Qx)),Qx.exports}var Lx={exports:{}},c8e=Lx.exports,OL;function u8e(){return OL||(OL=1,function(t,e){(function(r,n,a){t.exports=n(Rt(),vu(),yu(),ql(),hn())})(c8e,function(r){return function(){var n=r,a=n.lib,s=a.WordArray,o=a.BlockCipher,l=n.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],A=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=l.DES=o.extend({_doReset:function(){for(var b=this._key,x=b.words,w=[],y=0;y<56;y++){var C=c[y]-1;w[y]=x[C>>>5]>>>31-C%32&1}for(var E=this._subKeys=[],B=0;B<16;B++){for(var j=E[B]=[],N=A[B],y=0;y<24;y++)j[y/6|0]|=w[(u[y]-1+N)%28]<<31-y%6,j[4+(y/6|0)]|=w[28+(u[y+24]-1+N)%28]<<31-y%6;j[0]=j[0]<<1|j[0]>>>31;for(var y=1;y<7;y++)j[y]=j[y]>>>(y-1)*4+3;j[7]=j[7]<<5|j[7]>>>27}for(var S=this._invSubKeys=[],y=0;y<16;y++)S[y]=E[15-y]},encryptBlock:function(b,x){this._doCryptBlock(b,x,this._subKeys)},decryptBlock:function(b,x){this._doCryptBlock(b,x,this._invSubKeys)},_doCryptBlock:function(b,x,w){this._lBlock=b[x],this._rBlock=b[x+1],m.call(this,4,252645135),m.call(this,16,65535),g.call(this,2,858993459),g.call(this,8,16711935),m.call(this,1,1431655765);for(var y=0;y<16;y++){for(var C=w[y],E=this._lBlock,B=this._rBlock,j=0,N=0;N<8;N++)j|=d[N][((B^C[N])&h[N])>>>0];this._lBlock=B,this._rBlock=E^j}var S=this._lBlock;this._lBlock=this._rBlock,this._rBlock=S,m.call(this,1,1431655765),g.call(this,8,16711935),g.call(this,2,858993459),m.call(this,16,65535),m.call(this,4,252645135),b[x]=this._lBlock,b[x+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function m(b,x){var w=(this._lBlock>>>b^this._rBlock)&x;this._rBlock^=w,this._lBlock^=w<<b}function g(b,x){var w=(this._rBlock>>>b^this._lBlock)&x;this._lBlock^=w,this._rBlock^=w<<b}n.DES=o._createHelper(f);var p=l.TripleDES=o.extend({_doReset:function(){var b=this._key,x=b.words;if(x.length!==2&&x.length!==4&&x.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var w=x.slice(0,2),y=x.length<4?x.slice(0,2):x.slice(2,4),C=x.length<6?x.slice(0,2):x.slice(4,6);this._des1=f.createEncryptor(s.create(w)),this._des2=f.createEncryptor(s.create(y)),this._des3=f.createEncryptor(s.create(C))},encryptBlock:function(b,x){this._des1.encryptBlock(b,x),this._des2.decryptBlock(b,x),this._des3.encryptBlock(b,x)},decryptBlock:function(b,x){this._des3.decryptBlock(b,x),this._des2.encryptBlock(b,x),this._des1.decryptBlock(b,x)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=o._createHelper(p)}(),r.TripleDES})}(Lx)),Lx.exports}var Hx={exports:{}},A8e=Hx.exports,RL;function d8e(){return RL||(RL=1,function(t,e){(function(r,n,a){t.exports=n(Rt(),vu(),yu(),ql(),hn())})(A8e,function(r){return function(){var n=r,a=n.lib,s=a.StreamCipher,o=n.algo,l=o.RC4=s.extend({_doReset:function(){for(var A=this._key,d=A.words,h=A.sigBytes,f=this._S=[],m=0;m<256;m++)f[m]=m;for(var m=0,g=0;m<256;m++){var p=m%h,b=d[p>>>2]>>>24-p%4*8&255;g=(g+f[m]+b)%256;var x=f[m];f[m]=f[g],f[g]=x}this._i=this._j=0},_doProcessBlock:function(A,d){A[d]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var A=this._S,d=this._i,h=this._j,f=0,m=0;m<4;m++){d=(d+1)%256,h=(h+A[d])%256;var g=A[d];A[d]=A[h],A[h]=g,f|=A[(A[d]+A[h])%256]<<24-m*8}return this._i=d,this._j=h,f}n.RC4=s._createHelper(l);var u=o.RC4Drop=l.extend({cfg:l.cfg.extend({drop:192}),_doReset:function(){l._doReset.call(this);for(var A=this.cfg.drop;A>0;A--)c.call(this)}});n.RC4Drop=s._createHelper(u)}(),r.RC4})}(Hx)),Hx.exports}var $x={exports:{}},h8e=$x.exports,UL;function f8e(){return UL||(UL=1,function(t,e){(function(r,n,a){t.exports=n(Rt(),vu(),yu(),ql(),hn())})(h8e,function(r){return function(){var n=r,a=n.lib,s=a.StreamCipher,o=n.algo,l=[],c=[],u=[],A=o.Rabbit=s.extend({_doReset:function(){for(var h=this._key.words,f=this.cfg.iv,m=0;m<4;m++)h[m]=(h[m]<<8|h[m]>>>24)&16711935|(h[m]<<24|h[m]>>>8)&4278255360;var g=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],p=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var m=0;m<4;m++)d.call(this);for(var m=0;m<8;m++)p[m]^=g[m+4&7];if(f){var b=f.words,x=b[0],w=b[1],y=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,C=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,E=y>>>16|C&4294901760,B=C<<16|y&65535;p[0]^=y,p[1]^=E,p[2]^=C,p[3]^=B,p[4]^=y,p[5]^=E,p[6]^=C,p[7]^=B;for(var m=0;m<4;m++)d.call(this)}},_doProcessBlock:function(h,f){var m=this._X;d.call(this),l[0]=m[0]^m[5]>>>16^m[3]<<16,l[1]=m[2]^m[7]>>>16^m[5]<<16,l[2]=m[4]^m[1]>>>16^m[7]<<16,l[3]=m[6]^m[3]>>>16^m[1]<<16;for(var g=0;g<4;g++)l[g]=(l[g]<<8|l[g]>>>24)&16711935|(l[g]<<24|l[g]>>>8)&4278255360,h[f+g]^=l[g]},blockSize:128/32,ivSize:64/32});function d(){for(var h=this._X,f=this._C,m=0;m<8;m++)c[m]=f[m];f[0]=f[0]+1295307597+this._b|0,f[1]=f[1]+3545052371+(f[0]>>>0<c[0]>>>0?1:0)|0,f[2]=f[2]+886263092+(f[1]>>>0<c[1]>>>0?1:0)|0,f[3]=f[3]+1295307597+(f[2]>>>0<c[2]>>>0?1:0)|0,f[4]=f[4]+3545052371+(f[3]>>>0<c[3]>>>0?1:0)|0,f[5]=f[5]+886263092+(f[4]>>>0<c[4]>>>0?1:0)|0,f[6]=f[6]+1295307597+(f[5]>>>0<c[5]>>>0?1:0)|0,f[7]=f[7]+3545052371+(f[6]>>>0<c[6]>>>0?1:0)|0,this._b=f[7]>>>0<c[7]>>>0?1:0;for(var m=0;m<8;m++){var g=h[m]+f[m],p=g&65535,b=g>>>16,x=((p*p>>>17)+p*b>>>15)+b*b,w=((g&4294901760)*g|0)+((g&65535)*g|0);u[m]=x^w}h[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,h[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,h[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,h[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,h[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,h[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,h[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,h[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}n.Rabbit=s._createHelper(A)}(),r.Rabbit})}($x)),$x.exports}var Vx={exports:{}},m8e=Vx.exports,ML;function p8e(){return ML||(ML=1,function(t,e){(function(r,n,a){t.exports=n(Rt(),vu(),yu(),ql(),hn())})(m8e,function(r){return function(){var n=r,a=n.lib,s=a.StreamCipher,o=n.algo,l=[],c=[],u=[],A=o.RabbitLegacy=s.extend({_doReset:function(){var h=this._key.words,f=this.cfg.iv,m=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],g=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var p=0;p<4;p++)d.call(this);for(var p=0;p<8;p++)g[p]^=m[p+4&7];if(f){var b=f.words,x=b[0],w=b[1],y=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,C=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,E=y>>>16|C&4294901760,B=C<<16|y&65535;g[0]^=y,g[1]^=E,g[2]^=C,g[3]^=B,g[4]^=y,g[5]^=E,g[6]^=C,g[7]^=B;for(var p=0;p<4;p++)d.call(this)}},_doProcessBlock:function(h,f){var m=this._X;d.call(this),l[0]=m[0]^m[5]>>>16^m[3]<<16,l[1]=m[2]^m[7]>>>16^m[5]<<16,l[2]=m[4]^m[1]>>>16^m[7]<<16,l[3]=m[6]^m[3]>>>16^m[1]<<16;for(var g=0;g<4;g++)l[g]=(l[g]<<8|l[g]>>>24)&16711935|(l[g]<<24|l[g]>>>8)&4278255360,h[f+g]^=l[g]},blockSize:128/32,ivSize:64/32});function d(){for(var h=this._X,f=this._C,m=0;m<8;m++)c[m]=f[m];f[0]=f[0]+1295307597+this._b|0,f[1]=f[1]+3545052371+(f[0]>>>0<c[0]>>>0?1:0)|0,f[2]=f[2]+886263092+(f[1]>>>0<c[1]>>>0?1:0)|0,f[3]=f[3]+1295307597+(f[2]>>>0<c[2]>>>0?1:0)|0,f[4]=f[4]+3545052371+(f[3]>>>0<c[3]>>>0?1:0)|0,f[5]=f[5]+886263092+(f[4]>>>0<c[4]>>>0?1:0)|0,f[6]=f[6]+1295307597+(f[5]>>>0<c[5]>>>0?1:0)|0,f[7]=f[7]+3545052371+(f[6]>>>0<c[6]>>>0?1:0)|0,this._b=f[7]>>>0<c[7]>>>0?1:0;for(var m=0;m<8;m++){var g=h[m]+f[m],p=g&65535,b=g>>>16,x=((p*p>>>17)+p*b>>>15)+b*b,w=((g&4294901760)*g|0)+((g&65535)*g|0);u[m]=x^w}h[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,h[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,h[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,h[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,h[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,h[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,h[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,h[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}n.RabbitLegacy=s._createHelper(A)}(),r.RabbitLegacy})}(Vx)),Vx.exports}var Kx={exports:{}},g8e=Kx.exports,QL;function x8e(){return QL||(QL=1,function(t,e){(function(r,n,a){t.exports=n(Rt(),vu(),yu(),ql(),hn())})(g8e,function(r){return function(){var n=r,a=n.lib,s=a.BlockCipher,o=n.algo;const l=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var A={pbox:[],sbox:[]};function d(p,b){let x=b>>24&255,w=b>>16&255,y=b>>8&255,C=b&255,E=p.sbox[0][x]+p.sbox[1][w];return E=E^p.sbox[2][y],E=E+p.sbox[3][C],E}function h(p,b,x){let w=b,y=x,C;for(let E=0;E<l;++E)w=w^p.pbox[E],y=d(p,w)^y,C=w,w=y,y=C;return C=w,w=y,y=C,y=y^p.pbox[l],w=w^p.pbox[l+1],{left:w,right:y}}function f(p,b,x){let w=b,y=x,C;for(let E=l+1;E>1;--E)w=w^p.pbox[E],y=d(p,w)^y,C=w,w=y,y=C;return C=w,w=y,y=C,y=y^p.pbox[1],w=w^p.pbox[0],{left:w,right:y}}function m(p,b,x){for(let B=0;B<4;B++){p.sbox[B]=[];for(let j=0;j<256;j++)p.sbox[B][j]=u[B][j]}let w=0;for(let B=0;B<l+2;B++)p.pbox[B]=c[B]^b[w],w++,w>=x&&(w=0);let y=0,C=0,E=0;for(let B=0;B<l+2;B+=2)E=h(p,y,C),y=E.left,C=E.right,p.pbox[B]=y,p.pbox[B+1]=C;for(let B=0;B<4;B++)for(let j=0;j<256;j+=2)E=h(p,y,C),y=E.left,C=E.right,p.sbox[B][j]=y,p.sbox[B][j+1]=C;return!0}var g=o.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var p=this._keyPriorReset=this._key,b=p.words,x=p.sigBytes/4;m(A,b,x)}},encryptBlock:function(p,b){var x=h(A,p[b],p[b+1]);p[b]=x.left,p[b+1]=x.right},decryptBlock:function(p,b){var x=f(A,p[b],p[b+1]);p[b]=x.left,p[b+1]=x.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=s._createHelper(g)}(),r.Blowfish})}(Kx)),Kx.exports}var v8e=ux.exports,LL;function y8e(){return LL||(LL=1,function(t,e){(function(r,n,a){t.exports=n(Rt(),Qw(),p6e(),x6e(),vu(),b6e(),yu(),$Z(),BP(),j6e(),VZ(),N6e(),k6e(),P6e(),CP(),O6e(),ql(),hn(),Q6e(),H6e(),V6e(),q6e(),z6e(),X6e(),J6e(),e8e(),r8e(),a8e(),i8e(),l8e(),u8e(),d8e(),f8e(),p8e(),x8e())})(v8e,function(r){return r})}(ux)),ux.exports}var b8e=y8e();const w8e=Ht(b8e);function _8e(){const[t,e]=v.useState("dashboard"),[r,n]=v.useState(!1),[a,s]=v.useState(!0),[o,l]=v.useState([]),[c,u]=v.useState([]),[A,d]=v.useState([]),[h,f]=v.useState([]),[m,g]=v.useState(null),[p,b]=v.useState(!1),[x,w]=v.useState(!1),[y,C]=v.useState(null),[E,B]=v.useState("service"),[j,N]=v.useState({id:"",name:"",category:"Top Up",icon:"",color:"",icon_color:"",route:"",is_new:!1,price:0,description:"",service_id:"",api_key:"",username:"",mode:"development"}),[S,T]=v.useState(""),[I,k]=v.useState("");v.useEffect(()=>{(async()=>{s(!0);try{const Q=await qW();l(Q||[]);const z=await Z.from("ppob_products").select("*");u(z.data||[]);const q=await Z.from("ppob_transactions").select("*").order("created_at",{ascending:!1});f(q.data||[]);const{data:W,error:ee}=await Z.from("digiflazz_config").select("*").single();ee?(console.error("Error loading Digiflazz config:",ee),g({id:"",api_key:"",username:"",mode:"development"})):g(W||{id:"",api_key:"",username:"",mode:"development"})}catch(Q){console.error("Error loading data:",Q),alert("Failed to load data")}finally{s(!1)}})()},[]),v.useEffect(()=>{t==="products"&&m&&m.api_key&&m.username&&(async()=>{s(!0);try{const z=await fetch("/digiflazz-proxy/v1/price-list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cmd:"prepaid",username:m.username,apiKey:m.api_key})});if(!z.ok)throw new Error(`HTTP error! Status: ${z.status}`);const q=await z.json();q.data?d(q.data):(console.error("No data returned from Digiflazz API"),d([]))}catch(Q){console.error("Error fetching Digiflazz products:",Q),d([]),alert("Failed to fetch products from Digiflazz API")}finally{s(!1)}})()},[t,m]);const R=D=>{N({id:"",name:"",category:"Top Up",icon:"",color:"",icon_color:"",route:"",is_new:!1,price:0,description:"",service_id:"",api_key:"",username:"",mode:"development"}),C(null),B(D),b(!0)},M=D=>{if(C(D),"category"in D){const Q=D;B("service"),N({id:Q.id||"",name:Q.name||"",category:Q.category||"Top Up",icon:Q.icon||"",color:Q.color||"",icon_color:Q.icon_color||"",route:Q.route||"",is_new:Q.is_new||!1,price:0,description:"",service_id:"",api_key:"",username:"",mode:"development"})}else if("price"in D){const Q=D;B("product"),N({id:Q.id||"",name:Q.name||"",category:"Top Up",icon:"",color:"",icon_color:"",route:"",is_new:!1,price:Q.price||0,description:Q.description||"",service_id:Q.service_id||"",api_key:"",username:"",mode:"development"})}else B("digiflazz"),N({id:D.id||"",name:"",category:"Top Up",icon:"",color:"",icon_color:"",route:"",is_new:!1,price:0,description:"",service_id:"",api_key:D.api_key||"",username:D.username||"",mode:D.mode||"development"});b(!0)},$=async D=>{w(!0);try{const Q=D.id;if(!Q)return;const z="category"in D?"ppob_services":"ppob_products",{error:q}=await Z.from(z).delete().eq("id",Q);if(q)throw q;"category"in D?l(o.filter(W=>W.id!==Q)):u(c.filter(W=>W.id!==Q)),alert("Deleted successfully")}catch(Q){console.error("Error deleting item:",Q),alert("Failed to delete item")}finally{w(!1)}},U=async()=>{s(!0);try{if(E==="service"){const D={id:j.id||void 0,name:j.name,category:j.category,icon:j.icon,color:j.color,icon_color:j.icon_color,route:j.route,is_new:j.is_new};if(j.id)await Z.from("ppob_services").update(D).eq("id",j.id),l(o.map(Q=>Q.id===j.id?{...Q,...D}:Q));else{const{data:Q}=await Z.from("ppob_services").insert(D).select().single();l([...o,Q])}}else if(E==="product"){const D={id:j.id||void 0,name:j.name,price:j.price,description:j.description,service_id:j.service_id};if(j.id)await Z.from("ppob_products").update(D).eq("id",j.id),u(c.map(Q=>Q.id===j.id?{...Q,...D}:Q));else{const{data:Q}=await Z.from("ppob_products").insert(D).select().single();u([...c,Q])}}else if(E==="digiflazz"){const D={id:j.id||void 0,api_key:j.api_key,username:j.username,mode:j.mode};if(j.id)await Z.from("digiflazz_config").update(D).eq("id",j.id),g({...m,...D});else{const{data:Q}=await Z.from("digiflazz_config").insert(D).select().single();g(Q)}}b(!1)}catch(D){console.error("Error saving data:",D),alert("Failed to save data")}finally{s(!1)}},O=D=>{const{name:Q,value:z,type:q,checked:W}=D.target;N({...j,[Q]:q==="checkbox"?W:z})},L=[{title:"Total Transaksi",value:h.length.toString(),change:"+12.5%",icon:i.jsx(J.chartBar,{className:"h-5 w-5"})},{title:"Pendapatan",value:"Rp "+h.reduce((D,Q)=>D+(Q.amount||0),0).toLocaleString(),change:"+8.2%",icon:i.jsx(J.wallet,{className:"h-5 w-5"})},{title:"Pengguna Aktif",value:"5,890",change:"+15.3%",icon:i.jsx(J.users,{className:"h-5 w-5"})},{title:"Produk Terjual",value:c.length.toString(),change:"+10.1%",icon:i.jsx(J.shoppingCart,{className:"h-5 w-5"})}],H=async()=>{if(!S||!I){alert("Mohon pilih produk dan masukkan nomor pelanggan.");return}s(!0);try{const D=`TEST_${Date.now()}`,Q="pay-pasca",z=`${m.username}${m.api_key}${D}${Q}`,q=w8e.MD5(z).toString();console.log("Generated Signature:",q);const W=await fetch("/digiflazz-proxy/v1/transaction",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:m.username,apikey:m.api_key,sku:S,customer_no:I,ref_id:D,sign:q,cmd:Q})}),ee=await W.text();if(console.log("Test Purchase Response:",W.status,ee),!W.ok)throw ee.includes("IP Anda tidak kami kenali")?new Error("IP Anda tidak dikenali oleh Digiflazz. Harap whitelist IP Anda di pengaturan Digiflazz."):new Error(`HTTP error! Status: ${W.status}, Details: ${ee}`);const oe=JSON.parse(ee);oe&&oe.data?alert(`Pembelian berhasil! Status: ${oe.data.status}, SN: ${oe.data.sn||"N/A"}`):alert("Pembelian gagal. Tidak ada data yang dikembalikan.")}catch(D){console.error("Error performing test purchase:",D),alert(`Gagal melakukan pembelian: ${D.message}`)}finally{s(!1)}};return i.jsxs(l6e,{children:[i.jsxs(Fs,{children:[i.jsx("title",{children:"Admin PPOB - JPC Digi"}),i.jsx("meta",{name:"description",content:"Panel admin untuk pengelolaan layanan PPOB JPC Digi"})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Admin PPOB"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(G,{variant:"outline",size:"sm",children:[i.jsx(J.download,{className:"mr-2 h-4 w-4"}),"Export"]}),i.jsxs(G,{size:"sm",onClick:()=>R(t==="services"?"service":"product"),children:[i.jsx(J.plus,{className:"mr-2 h-4 w-4"}),"Tambah ",t==="services"?"Layanan":"Produk"]})]})]}),i.jsxs(ya,{value:t,onValueChange:e,className:"space-y-4",children:[i.jsxs(sa,{className:"grid w-full grid-cols-6",children:[i.jsx(Et,{value:"dashboard",children:"Dashboard"}),i.jsx(Et,{value:"services",children:"Layanan"}),i.jsx(Et,{value:"products",children:"Produk"}),i.jsx(Et,{value:"transactions",children:"Transaksi"}),i.jsx(Et,{value:"digiflazz",children:"Digiflazz API"}),i.jsx(Et,{value:"test-purchase",children:"Tes Pembelian"})]}),i.jsxs(Gt,{value:"dashboard",className:"space-y-4",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:L.map((D,Q)=>i.jsx(_e,{children:i.jsx(Be,{className:"p-6",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:D.title}),i.jsx("h3",{className:"text-2xl font-bold mt-1",children:D.value}),i.jsxs("p",{className:`text-xs mt-1 ${D.change.startsWith("+")?"text-green-600":"text-red-600"}`,children:[D.change," dari bulan lalu"]})]}),i.jsx("div",{className:"bg-primary/10 p-2 rounded-full",children:D.icon})]})})},Q))}),i.jsxs(_e,{children:[i.jsxs(at,{children:[i.jsx(st,{children:"Transaksi Terbaru"}),i.jsx(rr,{children:"Daftar 5 transaksi terbaru di sistem"})]}),i.jsx(Be,{children:a?i.jsx("div",{className:"py-8 flex justify-center",children:"Memuat data..."}):i.jsxs(En,{children:[i.jsx(Sn,{children:i.jsxs(lt,{children:[i.jsx(Ee,{children:"ID"}),i.jsx(Ee,{children:"Pelanggan"}),i.jsx(Ee,{children:"Produk"}),i.jsx(Ee,{children:"Jumlah"}),i.jsx(Ee,{children:"Status"}),i.jsx(Ee,{children:"Tanggal"})]})}),i.jsx(Nn,{children:h.slice(0,5).map(D=>{var Q;return i.jsxs(lt,{children:[i.jsx(me,{className:"font-medium",children:D.id||"N/A"}),i.jsx(me,{children:D.customer_name||"N/A"}),i.jsx(me,{children:D.product_name||"N/A"}),i.jsxs(me,{children:["Rp ",((Q=D.amount)==null?void 0:Q.toLocaleString())||"0"]}),i.jsx(me,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${D.status==="Sukses"?"bg-green-100 text-green-800":D.status==="Gagal"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:D.status||"Pending"})}),i.jsx(me,{children:D.transaction_date?new Date(D.transaction_date).toLocaleString():"N/A"})]},D.id||"temp-"+Math.random().toString())})})]})})]}),i.jsxs(_e,{children:[i.jsxs(at,{children:[i.jsx(st,{children:"Verifikasi Pengguna Terbaru"}),i.jsx(rr,{children:"Permintaan verifikasi pengguna yang membutuhkan review"})]}),i.jsx(Be,{children:i.jsxs(En,{children:[i.jsx(Sn,{children:i.jsxs(lt,{children:[i.jsx(Ee,{children:"ID"}),i.jsx(Ee,{children:"Pengguna"}),i.jsx(Ee,{children:"Dokumen"}),i.jsx(Ee,{children:"Tanggal Pengajuan"}),i.jsx(Ee,{children:"Status"}),i.jsx(Ee,{children:"Aksi"})]})}),i.jsx(Nn,{children:[{id:"V001",user:"Bambang Suprapto",document:"KTP",submissionDate:"2025-06-01 10:23:45",status:"Pending",action:"Review"},{id:"V002",user:"Ratna Sari",document:"KTP",submissionDate:"2025-06-01 09:15:30",status:"Disetujui",action:"Lihat"},{id:"V003",user:"Hendra Wijaya",document:"KTP",submissionDate:"2025-06-01 08:45:22",status:"Ditolak",action:"Lihat"}].map(D=>i.jsxs(lt,{children:[i.jsx(me,{className:"font-medium",children:D.id}),i.jsx(me,{children:D.user}),i.jsx(me,{children:D.document}),i.jsx(me,{children:D.submissionDate}),i.jsx(me,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${D.status==="Disetujui"?"bg-green-100 text-green-800":D.status==="Ditolak"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:D.status})}),i.jsx(me,{children:i.jsx(G,{variant:"ghost",size:"sm",children:D.action})})]},D.id))})]})})]})]}),i.jsx(Gt,{value:"transactions",className:"space-y-4",children:i.jsxs(_e,{children:[i.jsxs(at,{children:[i.jsx(st,{children:"Transaksi PPOB"}),i.jsx(rr,{children:"Daftar semua transaksi PPOB yang telah dilakukan"})]}),i.jsx(Be,{children:a?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):i.jsxs(En,{children:[i.jsx(Sn,{children:i.jsxs(lt,{children:[i.jsx(Ee,{children:"ID"}),i.jsx(Ee,{children:"Produk"}),i.jsx(Ee,{children:"Nomor"}),i.jsx(Ee,{children:"Status"}),i.jsx(Ee,{children:"Tanggal"}),i.jsx(Ee,{children:"Harga"})]})}),i.jsx(Nn,{children:h.map(D=>{var Q;return i.jsxs(lt,{children:[i.jsx(me,{className:"font-medium",children:(Q=D.id)==null?void 0:Q.slice(0,8)}),i.jsx(me,{children:D.product_name}),i.jsx(me,{children:D.customer_id}),i.jsx(me,{children:D.status}),i.jsx(me,{children:new Date(D.created_at||"").toLocaleString()}),i.jsxs(me,{children:["Rp ",(D.amount||0).toLocaleString()]})]},D.id)})})]})})]})}),i.jsx(Gt,{value:"digiflazz",className:"space-y-4",children:i.jsxs(_e,{children:[i.jsxs(at,{children:[i.jsx(st,{children:"Konfigurasi Digiflazz API"}),i.jsx(rr,{children:"Atur kredensial API Digiflazz untuk integrasi PPOB"})]}),i.jsx(Be,{children:a?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):i.jsxs("div",{className:"space-y-4",children:[m?i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"border rounded-md p-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Username"}),i.jsx("p",{className:"font-medium",children:m.username})]}),i.jsxs("div",{className:"border rounded-md p-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"API Key"}),i.jsx("p",{className:"font-medium",children:m.api_key?m.api_key.slice(0,4)+"****":"Not set"})]}),i.jsxs("div",{className:"border rounded-md p-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Mode"}),i.jsx("p",{className:"font-medium",children:m.mode})]})]}):i.jsx("p",{className:"text-center text-muted-foreground",children:"Konfigurasi Digiflazz belum diatur. Klik tombol di bawah untuk menambahkan konfigurasi."}),i.jsx(G,{onClick:()=>M(m||{}),children:m?"Edit Konfigurasi":"Tambah Konfigurasi"})]})})]})}),i.jsx(Gt,{value:"products",className:"space-y-4",children:i.jsxs(_e,{children:[i.jsxs(at,{children:[i.jsx(st,{children:"Produk PPOB"}),i.jsx(rr,{children:"Daftar produk PPOB dari database dan API Digiflazz"})]}),i.jsxs(Be,{children:[i.jsx("div",{className:"mb-4",children:i.jsx(G,{onClick:()=>R("product"),children:"Tambah Produk"})}),a?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Produk Database"}),i.jsxs(En,{children:[i.jsx(Sn,{children:i.jsxs(lt,{children:[i.jsx(Ee,{children:"Nama"}),i.jsx(Ee,{children:"Harga"}),i.jsx(Ee,{children:"Deskripsi"}),i.jsx(Ee,{children:"Layanan"}),i.jsx(Ee,{children:"Aksi"})]})}),i.jsx(Nn,{children:c.map(D=>{var Q;return i.jsxs(lt,{children:[i.jsx(me,{className:"font-medium",children:D.name}),i.jsxs(me,{children:["Rp ",(Q=D.price)==null?void 0:Q.toLocaleString()]}),i.jsx(me,{children:D.description||"-"}),i.jsx(me,{children:D.service_id}),i.jsx(me,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(G,{variant:"outline",size:"sm",onClick:()=>M(D),children:"Edit"}),i.jsx(G,{variant:"destructive",size:"sm",onClick:()=>$(D),disabled:x,children:"Hapus"})]})})]},D.id)})})]}),m&&m.api_key&&i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Produk dari Digiflazz API"}),A.length>0?i.jsxs(En,{children:[i.jsx(Sn,{children:i.jsxs(lt,{children:[i.jsx(Ee,{children:"Nama Produk"}),i.jsx(Ee,{children:"Harga"}),i.jsx(Ee,{children:"Kategori"}),i.jsx(Ee,{children:"Brand"}),i.jsx(Ee,{children:"Status"})]})}),i.jsx(Nn,{children:A.map(D=>{var Q;return i.jsxs(lt,{children:[i.jsx(me,{className:"font-medium",children:D.product_name}),i.jsxs(me,{children:["Rp ",(Q=D.price)==null?void 0:Q.toLocaleString()]}),i.jsx(me,{children:D.category}),i.jsx(me,{children:D.brand}),i.jsx(me,{children:D.status==="active"?"Aktif":"Tidak Aktif"})]},D.product_id||D.buyer_sku_code)})})]}):i.jsx("p",{className:"text-muted-foreground",children:"Tidak ada data produk dari Digiflazz API."})]})]})]})]})}),i.jsx(Gt,{value:"services",className:"space-y-4",children:i.jsxs(_e,{children:[i.jsxs(at,{children:[i.jsx(st,{children:"Daftar Layanan"}),i.jsx(rr,{children:"Kelola layanan PPOB"})]}),i.jsxs(Be,{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[i.jsx(ue,{placeholder:"Cari nama layanan...",className:"max-w-sm"}),i.jsxs(Cn,{defaultValue:"all",children:[i.jsx(ln,{className:"w-[180px]",children:i.jsx(jn,{placeholder:"Kategori"})}),i.jsxs(cn,{children:[i.jsx(mt,{value:"all",children:"Semua Kategori"}),i.jsx(mt,{value:"topup",children:"Top Up"}),i.jsx(mt,{value:"tagihan",children:"Tagihan"}),i.jsx(mt,{value:"investasi",children:"Investasi"}),i.jsx(mt,{value:"lainnya",children:"Lainnya"})]})]})]}),i.jsxs(G,{variant:"outline",children:[i.jsx(J.filterX,{className:"mr-2 h-4 w-4"}),"Reset Filter"]})]}),a?i.jsx("div",{className:"py-8 flex justify-center",children:"Memuat data..."}):i.jsxs(En,{children:[i.jsx(Sn,{children:i.jsxs(lt,{children:[i.jsx(Ee,{children:"ID"}),i.jsx(Ee,{children:"Nama Layanan"}),i.jsx(Ee,{children:"Kategori"}),i.jsx(Ee,{children:"Route"}),i.jsx(Ee,{children:"Status"}),i.jsx(Ee,{children:"Aksi"})]})}),i.jsx(Nn,{children:o.map(D=>i.jsxs(lt,{children:[i.jsx(me,{className:"font-medium",children:D.id||"N/A"}),i.jsx(me,{children:D.name||"N/A"}),i.jsx(me,{children:D.category||"N/A"}),i.jsx(me,{children:D.route||"N/A"}),i.jsx(me,{children:i.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:"Aktif"})}),i.jsx(me,{children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(G,{variant:"ghost",size:"sm",onClick:()=>M(D),children:"Edit"}),i.jsx(G,{variant:"ghost",size:"sm",className:"text-red-500",disabled:x,onClick:()=>$(D),children:"Nonaktifkan"})]})})]},D.id||"temp-"+Math.random().toString()))})]})]})]})}),i.jsx(Gt,{value:"test-purchase",className:"space-y-4",children:i.jsxs(_e,{children:[i.jsxs(at,{children:[i.jsx(st,{children:"Tes Pembelian Produk Digiflazz"}),i.jsx(rr,{children:"Form untuk menguji pembelian produk seperti cek nama token, dll."})]}),i.jsx(Be,{children:i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"product-select",className:"block text-sm font-medium mb-1",children:"Pilih Produk"}),i.jsxs(Cn,{onValueChange:T,children:[i.jsx(ln,{id:"product-select",children:i.jsx(jn,{placeholder:"Pilih produk Digiflazz"})}),i.jsx(cn,{children:A.map(D=>{var Q;return i.jsxs(mt,{value:D.buyer_sku_code,children:[D.product_name," - Rp ",(Q=D.price)==null?void 0:Q.toLocaleString()]},D.product_id||D.buyer_sku_code)})})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"customer-no",className:"block text-sm font-medium mb-1",children:"Nomor Pelanggan"}),i.jsx(ue,{id:"customer-no",placeholder:"Masukkan nomor pelanggan",value:I,onChange:D=>k(D.target.value)})]}),i.jsx("div",{children:i.jsx(G,{className:"w-full",onClick:H,children:"Tes Pembelian"})})]})})]})})]})]}),i.jsx(lr,{open:p,onOpenChange:b,children:i.jsxs(nr,{className:"sm:max-w-[425px]",children:[i.jsx(hr,{children:i.jsxs(fr,{children:[j.id&&E!=="digiflazz"?"Edit":"Tambah"," ",E==="service"?"Layanan":E==="product"?"Produk":"Konfigurasi Digiflazz"]})}),i.jsxs("form",{className:"space-y-4 pt-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:E==="digiflazz"?"Username Digiflazz":"Nama"}),i.jsx(ue,{name:E==="digiflazz"?"username":"name",value:E==="digiflazz"?j.username:j.name,onChange:O,placeholder:"Masukkan nama",required:!0})]}),E==="service"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Kategori"}),i.jsx(ue,{name:"category",value:j.category,onChange:O,placeholder:"Masukkan kategori",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ikon"}),i.jsx(ue,{name:"icon",value:j.icon,onChange:O,placeholder:"Masukkan nama ikon"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Warna"}),i.jsx(ue,{name:"color",value:j.color,onChange:O,placeholder:"Masukkan warna latar (hex)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Warna Ikon"}),i.jsx(ue,{name:"icon_color",value:j.icon_color,onChange:O,placeholder:"Masukkan warna ikon (hex)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Rute"}),i.jsx(ue,{name:"route",value:j.route,onChange:O,placeholder:"Masukkan path rute"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"is_new",name:"is_new",checked:j.is_new,onChange:O,className:"rounded"}),i.jsx("label",{htmlFor:"is_new",className:"text-sm font-medium",children:"Layanan Baru?"})]})]}),E==="product"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Harga"}),i.jsx(ue,{type:"number",name:"price",value:j.price,onChange:O,placeholder:"Masukkan harga",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Deskripsi"}),i.jsx(ue,{name:"description",value:j.description,onChange:O,placeholder:"Masukkan deskripsi"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"ID Layanan"}),i.jsx(ue,{name:"service_id",value:j.service_id,onChange:O,placeholder:"Masukkan ID layanan terkait",required:!0})]})]}),E==="digiflazz"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"API Key"}),i.jsx(ue,{name:"api_key",value:j.api_key,onChange:O,placeholder:"Masukkan API Key",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Mode"}),i.jsxs(Cn,{name:"mode",value:j.mode,onValueChange:D=>N(Q=>({...Q,mode:D})),children:[i.jsx(ln,{children:i.jsx(jn,{placeholder:"Pilih mode"})}),i.jsxs(cn,{children:[i.jsx(mt,{value:"development",children:"Development"}),i.jsx(mt,{value:"production",children:"Production"})]})]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(G,{type:"button",variant:"outline",onClick:()=>b(!1),children:"Batal"}),i.jsx(G,{type:"button",onClick:U,disabled:a,children:"Simpan"})]})]})]})})]})}const B8e=new sse;function Ct({element:t,requiresVerification:e=!0}){const{user:r,isLoading:n,isPhoneVerified:a}=Pr(),s=la(),o=s.pathname==="/verify-whatsapp",l=s.pathname==="/login",c=s.pathname==="/register",[u,A]=v.useState(null);return v.useEffect(()=>{let d=!0;const h=()=>n?i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):!r&&!l&&!c?i.jsx(ev,{to:"/login",state:{from:s},replace:!0}):e&&!a&&!o&&r?i.jsx(ev,{to:"/verify-whatsapp",state:{from:s},replace:!0}):t,f=setTimeout(()=>{d&&A(h())},10);return()=>{d=!1,clearTimeout(f)}},[r,n,a,s.pathname,e,t,l,c,o]),i.jsx(i.Fragment,{children:u})}function C8e(){const[t,e]=v.useState(!1);return v.useEffect(()=>{const r=()=>{const a=window.location.pathname;e(a.startsWith("/admin")||a==="/admin-login"||a==="/admin-register")};r();const n=()=>{r()};return window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)}},[]),i.jsx(cse,{client:B8e,children:i.jsxs(w$,{children:[i.jsx(Mre,{}),i.jsx(fne,{}),i.jsx(cme,{children:i.jsx(ume,{children:i.jsxs(Sle,{children:[i.jsx(Ame,{}),!t&&i.jsx(Toe,{}),i.jsxs(yle,{children:[i.jsx(et,{path:"/",element:i.jsx(Ct,{element:i.jsx(nL,{})})}),i.jsx(et,{path:"/search",element:i.jsx(Ct,{element:i.jsx(dge,{})})}),i.jsx(et,{path:"/product/:id",element:i.jsx(Ct,{element:i.jsx(Sge,{})})}),i.jsx(et,{path:"/cart",element:i.jsx(Ct,{element:i.jsx(Nge,{})})}),i.jsx(et,{path:"/checkout",element:i.jsx(Ct,{element:i.jsx(zge,{})})}),i.jsx(et,{path:"/profile",element:i.jsx(Ct,{element:i.jsx(vxe,{})})}),i.jsx(et,{path:"/address/:id?",element:i.jsx(Ct,{element:i.jsx(Cxe,{})})}),i.jsx(et,{path:"/orders",element:i.jsx(Ct,{element:i.jsx(Z1e,{})})}),i.jsx(et,{path:"/order/:id",element:i.jsx(Ct,{element:i.jsx(J1e,{})})}),i.jsx(et,{path:"/chat",element:i.jsx(Ct,{element:i.jsx(OCe,{})})}),i.jsx(et,{path:"/ppob",element:i.jsx(Ct,{element:i.jsx(I_,{})})}),i.jsx(et,{path:"/ppob/dashboard",element:i.jsx(Ct,{element:i.jsx(I_,{})})}),i.jsx(et,{path:"/ppob/history",element:i.jsx(Ct,{element:i.jsx(WCe,{})})}),i.jsx(et,{path:"/ppob/activity",element:i.jsx(Ct,{element:i.jsx(Wje,{})})}),i.jsx(et,{path:"/ppob/verification",element:i.jsx(Ct,{element:i.jsx(Pje,{})})}),i.jsx(et,{path:"/ppob/wallet",element:i.jsx(Ct,{element:i.jsx(Kje,{})})}),i.jsx(et,{path:"/ppob/pulsa-data",element:i.jsx(Ct,{element:i.jsx(rEe,{})})}),i.jsx(et,{path:"/ppob/send",element:i.jsx(Ct,{element:i.jsx(aEe,{})})}),i.jsx(et,{path:"/ppob/request",element:i.jsx(Ct,{element:i.jsx(lEe,{})})}),i.jsx(et,{path:"/ppob/topup",element:i.jsx(Ct,{element:i.jsx(uEe,{})})}),i.jsx(et,{path:"/ppob/video",element:i.jsx(Ct,{element:i.jsx(I_,{})})}),i.jsx(et,{path:"/ppob/games",element:i.jsx(Ct,{element:i.jsx(mEe,{})})}),i.jsx(et,{path:"/ppob/all",element:i.jsx(Ct,{element:i.jsx(pEe,{})})}),i.jsx(et,{path:"/ppob/test",element:i.jsx(Ct,{element:i.jsx(gEe,{})})}),i.jsx(et,{path:"/ppob/electricity",element:i.jsx(Ct,{element:i.jsx(dEe,{})})}),i.jsx(et,{path:"/ppob/ewallet",element:i.jsx(Ct,{element:i.jsx(hEe,{})})}),i.jsx(et,{path:"/ppob/kredit",element:i.jsx(Ct,{element:i.jsx(Gs,{})})}),i.jsx(et,{path:"/ppob/tv-internet",element:i.jsx(Ct,{element:i.jsx(Gs,{})})}),i.jsx(et,{path:"/ppob/bpjs",element:i.jsx(Ct,{element:i.jsx(Gs,{})})}),i.jsx(et,{path:"/ppob/pdam",element:i.jsx(Ct,{element:i.jsx(Gs,{})})}),i.jsx(et,{path:"/ppob/pbb",element:i.jsx(Ct,{element:i.jsx(Gs,{})})}),i.jsx(et,{path:"/ppob/telkom",element:i.jsx(Ct,{element:i.jsx(Gs,{})})}),i.jsx(et,{path:"/ppob/pascabayar",element:i.jsx(Ct,{element:i.jsx(Gs,{})})}),i.jsx(et,{path:"/ppob/donasi-zakat",element:i.jsx(Ct,{element:i.jsx(Gs,{})})}),i.jsx(et,{path:"/ppob/investasi",element:i.jsx(Ct,{element:i.jsx(yEe,{})})}),i.jsx(et,{path:"/ppob/undang-teman",element:i.jsx(Ct,{element:i.jsx(Gs,{})})}),i.jsx(et,{path:"/ppob/scan",element:i.jsx(Ct,{element:i.jsx(Gs,{})})}),i.jsx(et,{path:"/verify-whatsapp",element:i.jsx(qCe,{})}),i.jsx(et,{path:"/login",element:i.jsx(r_e,{})}),i.jsx(et,{path:"/register",element:i.jsx(a_e,{})}),i.jsx(et,{path:"/admin-login",element:i.jsx(i_e,{})}),i.jsx(et,{path:"/admin-register",element:i.jsx(l_e,{})}),i.jsx(et,{path:"/admin",element:i.jsx(nL,{})}),i.jsx(et,{path:"/admin/inventory",element:i.jsx(c3e,{})}),i.jsx(et,{path:"/admin/coal-inventory",element:i.jsx(d3e,{})}),i.jsx(et,{path:"/admin/shipping",element:i.jsx(f3e,{})}),i.jsx(et,{path:"/admin/users",element:i.jsx(p3e,{})}),i.jsx(et,{path:"/admin/orders",element:i.jsx(x3e,{})}),i.jsx(et,{path:"/admin/orders/:id",element:i.jsx(I3e,{})}),i.jsx(et,{path:"/admin/vouchers",element:i.jsx(i6e,{})}),i.jsx(et,{path:"/admin/broadcast",element:i.jsx(o6e,{})}),i.jsx(et,{path:"/admin/analytics",element:i.jsx(P3e,{})}),i.jsx(et,{path:"/admin/settings",element:i.jsx(Q3e,{})}),i.jsx(et,{path:"/admin/chats",element:i.jsx(L3e,{})}),i.jsx(et,{path:"/admin/chat/:customerId",element:i.jsx(H3e,{})}),i.jsx(et,{path:"/admin/ppob",element:i.jsx(_8e,{})}),i.jsx(et,{path:"*",element:i.jsx(dme,{})})]})]})})})]})})}xee.createRoot(document.getElementById("root")).render(i.jsx(Zje,{children:i.jsx(C8e,{})}));
